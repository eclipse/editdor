(()=>{var e={7705:(e,t,i)=>{"use strict";var n=i(1490),r=i.n(n),o=i(7003),s=i(483),a=i.n(s),p=i(5036),d=i.n(p),f=(i(3393),i(1495)),c=i.n(f);const y=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i,l=(e,t,i)=>t.split(/[\.\[\]\'\"]/).filter((e=>e)).reduce(((e,t)=>e?e[t]:i),e);function m(e){const t=[];try{c().parse(e,!1);const i=JSON.parse(e);return i.hasOwnProperty("properties")?t.push({ID:"td-properties_uniqueness",Status:"pass",Comment:""}):t.push({ID:"td-properties_uniqueness",Status:"not-impl",Comment:"no properties"}),i.hasOwnProperty("actions")?t.push({ID:"td-actions_uniqueness",Status:"pass",Comment:""}):t.push({ID:"td-actions_uniqueness",Status:"not-impl",Comment:"no actions"}),i.hasOwnProperty("events")?t.push({ID:"td-events_uniqueness",Status:"pass",Comment:""}):t.push({ID:"td-events_uniqueness",Status:"not-impl",Comment:"no events"}),t}catch(i){const n=i.toString(),r=n.indexOf('"'),o=n.slice(r+1),s=o.indexOf('"'),a=o.slice(0,s),p=JSON.parse(e);if(p.hasOwnProperty("properties")){p.properties.hasOwnProperty(a)?(t.push({ID:"td-properties_uniqueness",Status:"fail",Comment:"duplicate property names"}),e=e.replace(a,"duplicateName")):t.push({ID:"td-properties_uniqueness",Status:"pass",Comment:""})}else t.push({ID:"td-properties_uniqueness",Status:"not-impl",Comment:"no properties"});if(p.hasOwnProperty("actions")){p.actions.hasOwnProperty(a)?(t.push({ID:"td-actions_uniqueness",Status:"fail",Comment:"duplicate action names"}),e=e.replace(a,"duplicateName")):t.push({ID:"td-actions_uniqueness",Status:"pass",Comment:""})}else t.push({ID:"td-actions_uniqueness",Status:"not-impl",Comment:"no actions"});if(p.hasOwnProperty("events")){p.events.hasOwnProperty(a)?(t.push({ID:"td-events_uniqueness",Status:"fail",Comment:"duplicate event names"}),e=e.replace(a,"duplicateName")):t.push({ID:"td-events_uniqueness",Status:"pass",Comment:""})}else t.push({ID:"td-events_uniqueness",Status:"not-impl",Comment:"no events"});return t}}function u(e,t){return"string"===typeof t&&(t=[t]),t.every((t=>e.indexOf(t)>-1))}function h(e){const t=[],i=[],n=[];if(e.hasOwnProperty("titles")){const t=e.titles,r=Object.keys(t);i.push(r),n.push({root_title:g(e.title,t)})}if(e.hasOwnProperty("descriptions")){const t=e.descriptions,r=Object.keys(t);i.push(r),e.hasOwnProperty("description")&&n.push({root_description:g(e.description,t)})}if(e.hasOwnProperty("properties")){let t=Object.keys(e.properties);for(let r=0;r<t.length;r++){const o=t[r],s=e.properties[o];if(s.hasOwnProperty("titles")){const e=Object.keys(s.titles);i.push(e),s.hasOwnProperty("title")&&n.push({["property_"+o+"_title"]:g(s.title,s.titles)})}if(s.hasOwnProperty("descriptions")){const e=Object.keys(s.descriptions);i.push(e),s.hasOwnProperty("description")&&n.push({["property_"+o+"_desc"]:g(s.description,s.descriptions)})}}}if(e.hasOwnProperty("actions")){let t=Object.keys(e.actions);for(let r=0;r<t.length;r++){const o=t[r],s=e.actions[o];if(s.hasOwnProperty("titles")){const e=Object.keys(s.titles);i.push(e),s.hasOwnProperty("title")&&n.push({["action_"+o+"_title"]:g(s.title,s.titles)})}if(s.hasOwnProperty("descriptions")){const e=Object.keys(s.descriptions);i.push(e),s.hasOwnProperty("description")&&n.push({["action_"+o+"_desc"]:g(s.description,s.descriptions)})}}}if(e.hasOwnProperty("events")){let t=Object.keys(e.events);for(let r=0;r<t.length;r++){const o=t[r],s=e.events[o];if(s.hasOwnProperty("titles")){const e=Object.keys(s.titles);i.push(e),s.hasOwnProperty("title")&&n.push({["event_"+o+"_title"]:g(s.title,s.titles)})}if(s.hasOwnProperty("descriptions")){const e=Object.keys(s.descriptions);i.push(e),s.hasOwnProperty("description")&&n.push({["event_"+o+"_desc"]:g(s.description,s.descriptions)})}}}!function(e){if(0===e.length)return!0;for(let t=e.length;t--;)e[t]=JSON.stringify(e[t]);for(let t=e.length;t--;){if(0===t)return!0;if(e[t]!==e[t-1])return!1}}(i)?t.push({ID:"td-multi-languages-consistent",Status:"fail",Comment:"not all multilang objects have same language tags"}):t.push({ID:"td-multi-languages-consistent",Status:"pass"});const r=[];for(let s=0;s<i.length;s++){let e=i[s];e=JSON.parse(e);for(let t=0;t<e.length;t++){const i=e[t];r.push(i)}}const o=function(e){for(let t=0;t<e.length;t++){const i=e[t];if(!y.test(i))return i}return"ok"}(r);if("ok"===o?t.push({ID:"td-multilanguage-language-tag",Status:"pass"}):t.push({ID:"td-multilanguage-language-tag",Status:"fail",Comment:o+" is not a BCP47 tag"}),0===n.length)return t.push({ID:"td-titles-descriptions",Status:"not-impl",Comment:"no multilang objects in the td"}),t;for(let s=0;s<n.length;s++){const e=n[s],i=Object.keys(e);if(!e[i])return t.push({ID:"td-titles-descriptions",Status:"fail",Comment:i+" is not on the multilang object at the same level"}),t}return t.push({ID:"td-titles-descriptions",Status:"pass"}),t}function g(e,t){const i=Object.keys(t);if(0===i.length)return!1;for(let n=0;n<i.length;n++){if(t[i[n]]===e)return!0}return!1}function b(e){const t=[];if(e.hasOwnProperty("links")){let i=0;for(let t=0;t<e.links.length;t++){const n=e.links[t];n.hasOwnProperty("rel")&&"type"===n.rel&&i++}0===i?t.push({ID:"tm-rel-type-maximum",Status:"not-impl",Comment:"no rel:type in any link"}):1===i?t.push({ID:"tm-rel-type-maximum",Status:"pass",Comment:""}):t.push({ID:"tm-rel-type-maximum",Status:"fail",Comment:"too many rel:type in links array"})}else t.push({ID:"tm-rel-type-maximum",Status:"not-impl",Comment:"no links array in the td"});return t}const $=JSON.parse('{"title":"Thing Description","version":"1.1-05-September-2022","description":"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"},"minItems":1},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"bcp47_string":{"type":"string","pattern":"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema-type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"type":["integer","number"],"exclusiveMinimum":0},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]}}]}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]}}]}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},"additionalProperties":true,"required":["op"]},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"},"synchronous":{"type":"boolean"}},"required":["forms"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"},"hreflang":{"anyOf":[{"$ref":"#/definitions/bcp47_string"},{"type":"array","items":{"$ref":"#/definitions/bcp47_string"}}]}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"required":["scheme"],"additionalProperties":true},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"],"additionalProperties":true},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["auto"]}},"not":{"required":["name"]},"required":["scheme"],"additionalProperties":true},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"],"additionalProperties":true},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"],"additionalProperties":true}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","cookie","uri","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","enum":["code","client","device"]}]}},"required":["scheme"],"additionalProperties":true},"securityScheme":{"oneOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}'),O=JSON.parse('{"title":"Thing Description","version":"1.1-10-June-2022","description":"JSON Schema for validating TD instances against the TD information model. For a TD to validate this schema it must contain all the default terms defined in Section 5.4","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema-type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["readOnly","writeOnly"]},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}},"required":["contentType","success"]}},"multipleOfDefinition":{"type":["integer","number"],"exclusiveMinimum":0},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href","contentType","op"],"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]}}]}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]}}]}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},"additionalProperties":true},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms","readOnly","writeOnly","observable"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"},"synchronous":{"type":"boolean"}},"required":["forms","safe","idempotent"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"required":["scheme"]},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"]},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["auto"]}},"required":["scheme"]},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"]}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme","in"]},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme","in","qop"]},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","uri","auto","cookie"]},"name":{"type":"string"}},"required":["scheme","in"]},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme","alg","format","in"]},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"]},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","enum":["code","client","device"]}]}},"required":["scheme"]},"securityScheme":{"oneOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}'),w=JSON.parse('{"title":"Thing Model","version":"1.1-05-September-2022","description":"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"bcp47_string":{"type":"string","pattern":"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},"type_declaration":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"dataSchema-type":{"type":"string","anyOf":[{"enum":["boolean","integer","number","string","object","array","null"]},{"$ref":"#/definitions/placeholder-pattern"}]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"anyOf":[{"type":"array","minItems":1,"uniqueItems":true},{"$ref":"#/definitions/placeholder-pattern"}]},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minimum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"maximum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"anyOf":[{"type":["integer","number"],"exclusiveMinimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"$ref":"#/definitions/placeholder-pattern"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"observable":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"writeOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"anyOf":[{"type":"array","minItems":1,"uniqueItems":true},{"$ref":"#/definitions/placeholder-pattern"}]},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minimum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"maximum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"idempotent":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"synchronous":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"},"hreflang":{"anyOf":[{"$ref":"#/definitions/bcp47_string"},{"type":"array","items":{"$ref":"#/definitions/bcp47_string"}}]},"instanceName":{"type":"string"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon","properties":{"rel":{"anyOf":[{"enum":["icon"]},{"$ref":"#/definitions/placeholder-pattern"}]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["nosec"]},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["auto"]},{"$ref":"#/definitions/placeholder-pattern"}]}},"not":{"required":["name"]},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"$ref":"#/definitions/placeholder-pattern"}]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["basic"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["digest"]},{"$ref":"#/definitions/placeholder-pattern"}]},"qop":{"type":"string","anyOf":[{"enum":["auth","auth-int"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["apikey"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","uri","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["bearer"]},{"$ref":"#/definitions/placeholder-pattern"}]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["psk"]},{"$ref":"#/definitions/placeholder-pattern"}]},"identity":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["oauth2"]},{"$ref":"#/definitions/placeholder-pattern"}]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","anyOf":[{"enum":["code","client","device"]},{"$ref":"#/definitions/placeholder-pattern"}]}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"securityScheme":{"anyOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]},"tm_type_declaration":{"oneOf":[{"type":"string","const":"tm:ThingModel"},{"type":"array","items":{"type":"string"},"contains":{"const":"tm:ThingModel"}}]},"placeholder-pattern":{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"},"tm_optional":{"type":"array","items":{"$comment":"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times","allOf":[{"type":"string","pattern":"^((/properties/)|(/actions/)|(/events/))(([^/]))","$comment":"regex tests available at https://regex101.com/r/UgOzrJ/1"},{"not":{"type":"string","pattern":"(/)(.*\\\\1){2}","$comment":"regex tests available at https://regex101.com/r/Ytzd72/1"}}]}},"tm_ref":{"type":"string","format":"uri-reference"}},"type":"object","properties":{"id":{"type":"string"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"anyOf":[{"type":"object","properties":{"model":{"type":"string"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}},"not":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]}},{"$ref":"#/definitions/placeholder-pattern"}]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string"},"modified":{"type":"string"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"@type":{"$ref":"#/definitions/tm_type_declaration"},"@context":{"$ref":"#/definitions/thing-context"},"tm:optional":{"$ref":"#/definitions/tm_optional"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}},"required":["@context","@type"]}');function v(e,t,i){let{checkDefaults:n=!0,checkJsonLd:s=!0}=i;return new Promise(((i,a)=>{"string"!==typeof e&&a("Thing Description input should be a String"),void 0===n&&(n=!0),void 0===s&&(s=!0),"function"!==typeof t&&a("Expected logFunc to be a function");const p={json:null,schema:null,defaults:null,jsonld:null,additional:null},f={enumConst:null,propItems:null,security:null,propUniqueness:null,multiLangConsistency:null,linksRelTypeCount:null,readWriteOnly:null,uriVariableSecurity:null},y={enumConst:"Checking whether a data schema has enum and const at the same time.",propItems:"Checking whether a data schema has an object but not properties or array but no items.",security:"Check if used Security definitions are properly defined previously.",propUniqueness:"Checking whether in one interaction pattern there are duplicate names, e.g. two properties called temp.",multiLangConsistency:"Checks whether all titles and descriptions have the same language fields.",linksRelTypeCount:"Checks whether rel:type is used more than once in the links array",readWriteOnly:"Warns if a property has readOnly or writeOnly set to true conflicting with another property.",uriVariableSecurity:"Checks if the name of an APIKey security scheme with in:uri show up in href and does not conflict with normal uriVariables"},l={json:null,schema:null};let g;try{g=JSON.parse(e),p.json="passed"}catch(P){p.json="failed",t("X JSON validation failed:"),l.json=P.message,t(P),i({report:p,details:f,detailComments:y,validationErrors:l})}let w=new o.Ay({strict:!1});w=d()(w),w.addSchema($,"td");if(w.validate("td",g)){if(p.schema="passed",n){w.addSchema(O,"fulltd");w.validate("fulltd",g)?p.defaults="passed":(p.defaults="warning",t("Optional validation failed:"),t("> "+w.errorsText(_(w.errors))),i({report:p,details:f,detailComments:y,validationErrors:l}))}!function(e){if(f.enumConst="passed",e.hasOwnProperty("properties")){let i=Object.keys(e.properties);for(let n=0;n<i.length;n++){const r=i[n],o=e.properties[r];o.hasOwnProperty("enum")&&o.hasOwnProperty("const")&&(f.enumConst="warning",t("! Warning: In property "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}if(e.hasOwnProperty("actions")){let i=Object.keys(e.actions);for(let n=0;n<i.length;n++){const r=i[n],o=e.actions[r];if(o.hasOwnProperty("input")){const e=o.input;e.hasOwnProperty("enum")&&e.hasOwnProperty("const")&&(f.enumConst="warning",t("! Warning: In the input of action "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}if(o.hasOwnProperty("output")){const e=o.output;e.hasOwnProperty("enum")&&e.hasOwnProperty("const")&&(f.enumConst="warning",t("! Warning: In the output of action "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}}if(e.hasOwnProperty("events")){let i=Object.keys(e.events);for(let n=0;n<i.length;n++){const r=i[n],o=e.events[r];o.hasOwnProperty("enum")&&o.hasOwnProperty("const")&&(f.enumConst="warning",t("! Warning: In event "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}}(g),function(e){if(f.propItems="passed",e.hasOwnProperty("properties")){let i=Object.keys(e.properties);for(let n=0;n<i.length;n++){const r=i[n],o=e.properties[r];o.hasOwnProperty("type")&&("object"!==o.type||o.hasOwnProperty("properties")||(f.propItems="warning",t("! Warning: In property "+r+", the type is object but its properties are not specified")),"array"!==o.type||o.hasOwnProperty("items")||(f.propItems="warning",t("! Warning: In property "+r+", the type is array but its items are not specified")))}}if(e.hasOwnProperty("actions")){let i=Object.keys(e.actions);for(let n=0;n<i.length;n++){const r=i[n],o=e.actions[r];if(o.hasOwnProperty("input")){const e=o.input;e.hasOwnProperty("type")&&("object"!==e.type||e.hasOwnProperty("properties")||(f.propItems="warning",t("! Warning: In the input of action "+r+", the type is object but its properties are not specified")),"array"!==e.type||e.hasOwnProperty("items")||(f.propItems="warning",t("! Warning: In the output of action "+r+", the type is array but its items are not specified")))}if(o.hasOwnProperty("output")){const e=o.output;e.hasOwnProperty("type")&&("object"!==e.type||e.hasOwnProperty("properties")||(f.propItems="warning",t("! Warning: In the output of action "+r+", the type is object but its properties are not specified")),"array"!==e.type||e.hasOwnProperty("items")||(f.propItems="warning",t("! Warning: In the output of action "+r+", the type is array but its items are not specified")))}}}if(e.hasOwnProperty("events")){let i=Object.keys(e.events);for(let n=0;n<i.length;n++){const r=i[n],o=e.events[r];o.hasOwnProperty("type")&&("object"!==o.type||o.hasOwnProperty("properties")||(f.propItems="warning",t("! Warning: In event "+r+", the type is object but its properties are not specified")),"array"!==o.type||o.hasOwnProperty("items")||(f.propItems="warning",t("! Warning: In event "+r+", the type is array but its items are not specified")))}}}(g),function(e){if(f.readWriteOnly="passed",e.hasOwnProperty("properties")){let i=Object.keys(e.properties);for(let n=0;n<i.length;n++){const r=i[n],o=e.properties[r];if(o.hasOwnProperty("readOnly")&&!0===o.readOnly&&(o.hasOwnProperty("writeOnly")&&!0===o.writeOnly&&(f.readWriteOnly="warning",t("! Warning: In property "+r+", both readOnly and writeOnly are set to true!")),o.hasOwnProperty("forms")))for(const e in o.forms)if(o.forms.hasOwnProperty(e)){const i=o.forms[e];i.hasOwnProperty("op")?("string"===typeof i.op&&"writeproperty"===i.op||"object"===typeof i.op&&i.op.some((e=>"writeproperty"===e)))&&(f.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], readOnly is set but the op property contains "writeproperty"')):(f.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], readOnly is set but a form op property defaults to ["writeproperty", "readproperty"]'))}if(o.hasOwnProperty("writeOnly")&&!0===o.writeOnly){if(o.hasOwnProperty("forms"))for(const e in o.forms)if(o.forms.hasOwnProperty(e)){const i=o.forms[e];i.hasOwnProperty("op")?"string"===typeof i.op&&"readproperty"===i.op||"object"===typeof i.op&&i.op.some((e=>"readproperty"===e))?(f.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], writeOnly is set but the op property contains "readproperty"')):("string"===typeof i.op&&"observeproperty"===i.op||"object"===typeof i.op&&i.op.some((e=>"observeproperty"===e)))&&(f.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], writeOnly is set but the op property contains "observeproperty"')):(f.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], writeOnly is set but a form op property defaults to ["writeproperty", "readproperty"]'))}o.hasOwnProperty("observable")&&!0===o.observable&&(f.readWriteOnly="warning",t("! Warning: In property "+r+", both writeOnly and observable are set to true!"))}}}}(g),f.security=S(function(e){const t=[];if(e.hasOwnProperty("securityDefinitions")){const i=e.securityDefinitions,n=Object.keys(i);if(!u(n,e.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in root level"}),t;if(e.hasOwnProperty("properties")){let i=Object.keys(e.properties);for(let r=0;r<i.length;r++){const o=i[r],s=e.properties[o].forms;for(let e=0;e<s.length;e++){const i=s[e];if(i.hasOwnProperty("security")&&!u(n,i.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in a property form"}),t}}}if(e.hasOwnProperty("actions")){let i=Object.keys(e.actions);for(let r=0;r<i.length;r++){const o=i[r],s=e.actions[o].forms;for(let e=0;e<s.length;e++){const i=s[e];if(i.hasOwnProperty("security")&&!u(n,i.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in an action form"}),t}}}if(e.hasOwnProperty("events")){let i=Object.keys(e.events);for(let r=0;r<i.length;r++){const o=i[r],s=e.events[o].forms;for(let e=0;e<s.length;e++){const i=s[e];if(i.hasOwnProperty("security")&&!u(n,i.security))return t.push({ID:"td-security-scheme-name",Status:"fail",Comment:"used a non defined security scheme in an event form"}),t}}}return t.push({ID:"td-security-scheme-name",Status:"pass"}),t}return t}(g)),f.propUniqueness=S(m(e)),"passed"===f.propUniqueness?f.propUniqueness=v(e,g):v(e,g),f.multiLangConsistency=S(h(g)),f.linksRelTypeCount=S(b(g)),f.uriVariableSecurity=S(function(e){const t=[];if(e.hasOwnProperty("securityDefinitions")){const i=e.securityDefinitions,n=Object.keys(i),r=[];for(let e=0;e<n.length;e++){const t=i[n[e]];"apikey"===t.scheme&&t.hasOwnProperty("in")&&"uri"===t.in&&t.hasOwnProperty("name")&&r.push(t.name)}if(0===r.length)return t.push({ID:"td-security-in-uri-variable",Status:"not-impl",Comment:"no use of name in a uri apikey scheme"}),t.push({ID:"td-security-uri-variables-distinct",Status:"not-impl",Comment:"no use of name in a uri apikey scheme"}),t;{let i="not-impl",n="not-impl",o=[];if(e.hasOwnProperty("uriVariables")&&(o=Object.keys(e.uriVariables)),e.hasOwnProperty("properties")){let t=Object.keys(e.properties);for(let s=0;s<t.length;s++){const a=t[s],p=e.properties[a],d=p.forms;for(let e=0;e<d.length;e++){const t=d[e];if(t.hasOwnProperty("href")){const e=t.href;r.some((t=>e.includes(t)))&&"fail"!==i&&(i="pass")}}if(p.hasOwnProperty("uriVariables")){let e=Object.keys(p.uriVariables);e.push(...o),e.length>0&&(e.filter((e=>r.includes(e))).length>0?n="fail":"fail"!==n&&(n="pass"))}}}if(e.hasOwnProperty("actions")){let t=Object.keys(e.actions);for(let s=0;s<t.length;s++){const a=t[s],p=e.actions[a],d=p.forms;for(let e=0;e<d.length;e++){const t=d[e];if(t.hasOwnProperty("href")){const e=t.href;r.some((t=>e.includes(t)))&&"fail"!==i&&(i="pass")}}if(p.hasOwnProperty("uriVariables")){let e=Object.keys(p.uriVariables);e.push(...o),e.length>0&&(e.filter((e=>r.includes(e))).length>0?n="fail":"fail"!==n&&(n="pass"))}}}if(e.hasOwnProperty("events")){let t=Object.keys(e.events);for(let s=0;s<t.length;s++){const a=t[s],p=e.events[a],d=p.forms;for(let e=0;e<d.length;e++){const t=d[e];if(t.hasOwnProperty("href")){const e=t.href;r.some((t=>e.includes(t)))&&"fail"!==i&&(i="pass")}}if(p.hasOwnProperty("uriVariables")){let e=Object.keys(p.uriVariables);e.push(...o),e.length>0&&(e.filter((e=>r.includes(e))).length>0?n="fail":"fail"!==n&&(n="pass"))}}}return t.push({ID:"td-security-in-uri-variable",Status:i}),t.push({ID:"td-security-in-uri-variable-distinct",Status:n}),t}}return t}(g)),p.additional="passed",Object.keys(f).forEach((e=>{"warning"===f[e]&&"passed"===p.additional?p.additional="warning":"failed"===f[e]&&"failed"!==p.additional&&(p.additional="failed")}))}else p.schema="failed",t("X JSON Schema validation failed:"),l.schema=w.errorsText(_(w.errors)),t("> "+l.schema),i({report:p,details:f,detailComments:y,validationErrors:l});function v(e,i){let n="passed";try{c().parse(e,!1)}catch(r){const e=r.toString(),o=e.indexOf('"'),s=e.slice(o+1),a=s.indexOf('"'),p=s.slice(0,a);i.securityDefinitions.hasOwnProperty(p)&&(n="failed",t("KO Error: The securityDefinitions contain a duplicate"))}return n}function S(e){let i="passed";return e.forEach((e=>{"fail"===e.Status&&(i="failed",t("KO Error: Assertion: "+e.ID),t(e.Comment))})),i}function _(e){const t=[];return e.forEach((e=>{t.some((t=>t.dataPath===e.dataPath&&t.message===e.message))||t.push(e)})),t}s?r().toRDF(g,{format:"application/nquads"}).then((e=>{p.jsonld="passed",i({report:p,details:f,detailComments:y})}),(e=>{p.jsonld="failed",t("X JSON-LD validation failed:"),t("Hint: Make sure you have internet connection available."),t("> "+e),i({report:p,details:f,detailComments:y})})):i({report:p,details:f,detailComments:y})}))}function S(e,t,i){let{checkDefaults:n=!0,checkJsonLd:s=!0}=i;return new Promise(((i,p)=>{"string"!==typeof e&&p("Thing Model input should be a String"),void 0===n&&(n=!0),void 0===s&&(s=!0),"function"!==typeof t&&p("Expected logFunc to be a function");const f={json:null,schema:null,defaults:null,jsonld:null,additional:null},y={enumConst:null,propItems:null,propUniqueness:null,multiLangConsistency:null,linksRelTypeCount:null,readWriteOnly:null,tmOptionalPointer:null},u={enumConst:"Checking whether a data schema has enum and const at the same time.",propItems:"Checking whether a data schema has an object but not properties or array but no items.",propUniqueness:"Checking whether in one interaction pattern there are duplicate names, e.g. two properties called temp.",multiLangConsistency:"Checks whether all titles and descriptions have the same language fields.",linksRelTypeCount:"Checks whether rel:type is used more than once in the links array",readWriteOnly:"Warns if a property has readOnly or writeOnly set to true conflicting with another property.",tmOptionalPointer:"Checking whether tm:optional points to an actual affordance"};let g;try{g=JSON.parse(e),f.json="passed"}catch(S){f.json="failed",t("X JSON validation failed:"),t(S),i({report:f,details:y,detailComments:u})}let $=new o.Ay({strict:!1});$=a()($),$=d()($),$.addSchema(w,"tm");function O(e,i){let n="passed";try{c().parse(e,!1)}catch(r){const e=r.toString(),o=e.indexOf('"'),s=e.slice(o+1),a=s.indexOf('"'),p=s.slice(0,a);i.securityDefinitions.hasOwnProperty(p)&&(n="failed",t("KO Error: The securityDefinitions contain a duplicate"))}return n}function v(e){let i="passed";return e.forEach((e=>{"fail"===e.Status&&(i="failed",t("KO Error: Assertion: "+e.ID),t(e.Comment))})),i}$.validate("tm",g)?(f.schema="passed",function(e){if(y.enumConst="passed",e.hasOwnProperty("properties")){let i=Object.keys(e.properties);for(let n=0;n<i.length;n++){const r=i[n],o=e.properties[r];o.hasOwnProperty("enum")&&o.hasOwnProperty("const")&&(y.enumConst="warning",t("! Warning: In property "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}if(e.hasOwnProperty("actions")){let i=Object.keys(e.actions);for(let n=0;n<i.length;n++){const r=i[n],o=e.actions[r];if(o.hasOwnProperty("input")){const e=o.input;e.hasOwnProperty("enum")&&e.hasOwnProperty("const")&&(y.enumConst="warning",t("! Warning: In the input of action "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}if(o.hasOwnProperty("output")){const e=o.output;e.hasOwnProperty("enum")&&e.hasOwnProperty("const")&&(y.enumConst="warning",t("! Warning: In the output of action "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}}if(e.hasOwnProperty("events")){let i=Object.keys(e.events);for(let n=0;n<i.length;n++){const r=i[n],o=e.events[r];o.hasOwnProperty("enum")&&o.hasOwnProperty("const")&&(y.enumConst="warning",t("! Warning: In event "+r+" enum and const are used at the same time, the values in enum can never be valid in the received JSON value"))}}}(g),function(e){if(y.propItems="passed",e.hasOwnProperty("properties")){let i=Object.keys(e.properties);for(let n=0;n<i.length;n++){const r=i[n],o=e.properties[r];o.hasOwnProperty("type")&&("object"!==o.type||o.hasOwnProperty("properties")||(y.propItems="warning",t("! Warning: In property "+r+", the type is object but its properties are not specified")),"array"!==o.type||o.hasOwnProperty("items")||(y.propItems="warning",t("! Warning: In property "+r+", the type is array but its items are not specified")))}}if(e.hasOwnProperty("actions")){let i=Object.keys(e.actions);for(let n=0;n<i.length;n++){const r=i[n],o=e.actions[r];if(o.hasOwnProperty("input")){const e=o.input;e.hasOwnProperty("type")&&("object"!==e.type||e.hasOwnProperty("properties")||(y.propItems="warning",t("! Warning: In the input of action "+r+", the type is object but its properties are not specified")),"array"!==e.type||e.hasOwnProperty("items")||(y.propItems="warning",t("! Warning: In the output of action "+r+", the type is array but its items are not specified")))}if(o.hasOwnProperty("output")){const e=o.output;e.hasOwnProperty("type")&&("object"!==e.type||e.hasOwnProperty("properties")||(y.propItems="warning",t("! Warning: In the output of action "+r+", the type is object but its properties are not specified")),"array"!==e.type||e.hasOwnProperty("items")||(y.propItems="warning",t("! Warning: In the output of action "+r+", the type is array but its items are not specified")))}}}if(e.hasOwnProperty("events")){let i=Object.keys(e.events);for(let n=0;n<i.length;n++){const r=i[n],o=e.events[r];o.hasOwnProperty("type")&&("object"!==o.type||o.hasOwnProperty("properties")||(y.propItems="warning",t("! Warning: In event "+r+", the type is object but its properties are not specified")),"array"!==o.type||o.hasOwnProperty("items")||(y.propItems="warning",t("! Warning: In event "+r+", the type is array but its items are not specified")))}}}(g),function(e){if(y.readWriteOnly="passed",e.hasOwnProperty("properties")){let i=Object.keys(e.properties);for(let n=0;n<i.length;n++){const r=i[n],o=e.properties[r];if(o.hasOwnProperty("readOnly")&&!0===o.readOnly&&(o.hasOwnProperty("writeOnly")&&!0===o.writeOnly&&(y.readWriteOnly="warning",t("! Warning: In property "+r+", both readOnly and writeOnly are set to true!")),o.hasOwnProperty("forms")))for(const e in o.forms)if(o.forms.hasOwnProperty(e)){const i=o.forms[e];i.hasOwnProperty("op")?("string"===typeof i.op&&"writeproperty"===i.op||"object"===typeof i.op&&i.op.some((e=>"writeproperty"===e)))&&(y.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], readOnly is set but the op property contains "writeproperty"')):(y.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], readOnly is set but a form op property defaults to ["writeproperty", "readproperty"]'))}if(o.hasOwnProperty("writeOnly")&&!0===o.writeOnly){if(o.hasOwnProperty("forms"))for(const e in o.forms)if(o.forms.hasOwnProperty(e)){const i=o.forms[e];i.hasOwnProperty("op")?"string"===typeof i.op&&"readproperty"===i.op||"object"===typeof i.op&&i.op.some((e=>"readproperty"===e))?(y.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], writeOnly is set but the op property contains "readproperty"')):("string"===typeof i.op&&"observeproperty"===i.op||"object"===typeof i.op&&i.op.some((e=>"observeproperty"===e)))&&(y.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], writeOnly is set but the op property contains "observeproperty"')):(y.readWriteOnly="warning",t("! Warning: In property "+r+" in forms["+e+'], writeOnly is set but a form op property defaults to ["writeproperty", "readproperty"]'))}o.hasOwnProperty("observable")&&!0===o.observable&&(y.readWriteOnly="warning",t("! Warning: In property "+r+", both writeOnly and observable are set to true!"))}}}}(g),y.propUniqueness=v(m(e)),"passed"===y.propUniqueness?y.propUniqueness=O(e,g):O(e,g),y.multiLangConsistency=v(h(g)),y.linksRelTypeCount=v(b(g)),y.tmOptionalPointer=v(function(e){const t=[];return e.hasOwnProperty("tm:optional")?e["tm:optional"].forEach((i=>{i=(i=i.substring(1)).replace("/",".");const n=l(e,i,"noTarget");"noTarget"===n||void 0===n?t.push({ID:"tm-tmOptional-resolver",Status:"fail",Comment:"tm:optional does not resolve to an affordance"}):t.push({ID:"tm-tmOptional-resolver",Status:"pass",Comment:""})})):t.push({ID:"tm-tmOptional-resolver",Status:"not-impl",Comment:"no use of tm:optional"}),t}(g)),f.additional="passed",Object.keys(y).forEach((e=>{"warning"===y[e]&&"passed"===f.additional?f.additional="warning":"failed"===y[e]&&"failed"!==f.additional&&(f.additional="failed")}))):(f.schema="failed",t("X JSON Schema validation failed:"),t("> "+$.errorsText(function(e){const t=[];return e.forEach((e=>{t.some((t=>t.dataPath===e.dataPath&&t.message===e.message))||t.push(e)})),t}($.errors))),i({report:f,details:y,detailComments:u})),s?r().toRDF(g,{format:"application/nquads"}).then((e=>{f.jsonld="passed",i({report:f,details:y,detailComments:u})}),(e=>{f.jsonld="failed",t("X JSON-LD validation failed:"),t("Hint: Make sure you have internet connection available."),t("> "+e),i({report:f,details:y,detailComments:u})})):i({report:f,details:y,detailComments:u})}))}const _="$ref",P="properties",x="additional_properties",j="dataSchema";!function(e){const t=new Map,i=new Map;I(t,e,"#/"),t.forEach(((e,t)=>{if(e.size>0){const n=(t.match(/\//gi)||[]).length;let r=i.get(n);r?(r.set(t.replace(/^r/g,""),e),i.set(n,r)):(r=new Map,r.set(t.replace(/^r/g,""),e),i.set(n,r))}}))}($);function I(e,t,i){const n=new Set;if(t[_]){if("r"===i[0]&&t[_].includes(j))return;return t[_].includes(j)&&(i="r"+i),void I(q($,t[_]),i)}if("object"===t.type){const r=t[P];for(const e in r)if(r.hasOwnProperty(e)){if(e===_){if("r"===i[0]&&r[e].includes(j))continue;return r[e].includes(j)&&(i="r"+i),void I(q($,r[e]),i)}I(r[e],"".concat(i).concat(e,"/")),n.add(e)}const o=t[x];for(const e in o)if(o.hasOwnProperty(e)&&e===_){if("r"===i[0]&&o[e].includes(j))continue;return o[e].includes(j)&&(i="r"+i),void I(q($,o[e]),"".concat(i,"*/"))}k(e,i,n)}if("array"===t.type){const r=t.items;for(const e in r)if(r.hasOwnProperty(e)&&e===_){if("r"===i[0]&&r[e].includes(j))continue;return r[e].includes(j)&&(i="r"+i),void I(q($,r[e]),i)}k(e,i,n)}for(const r in t)t.hasOwnProperty(r)&&["allOf","oneOf","anyOf"].includes(r)&&Array.isArray(t[r])&&t[r].forEach((e=>{I(e,i)}))}function k(e,t,i){let n=e.get(t);if(n){const r=new Set(n);i.forEach((e=>{r.add(e)})),e.set(t,r)}else e.set(t,i)}function q(e,t){const i=t.split("/");if("#"!==i[0])return void console.log("Parsing not implemented for between files");let n=e;for(let r=1;r<i.length;r++)n=n[i[r]];return n}self.onmessage=async e=>{console.debug("validation worker received message...");let t=e.data,i={};try{i=JSON.parse(e.data)}catch(n){console.debug("ran into error while parsing TD: ".concat(n)),postMessage(void 0)}try{let e;e=i&&(e=>"object"===typeof e&&!Array.isArray(e)&&null!==e&&!!e.hasOwnProperty("@type")&&e["@type"].indexOf("tm:ThingModel")>-1)(i)?await S(t,console.debug,{}):await v(t,console.debug,{}),postMessage(e)}catch(n){postMessage(void 0),console.debug(n)}console.debug("validation worker sent response...")}},7789:()=>{}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.m=e,i.x=()=>{var e=i.O(void 0,[895],(()=>i(7705)));return e=i.O(e)},(()=>{var e=[];i.O=(t,n,r,o)=>{if(!n){var s=1/0;for(f=0;f<e.length;f++){n=e[f][0],r=e[f][1],o=e[f][2];for(var a=!0,p=0;p<n.length;p++)(!1&o||s>=o)&&Object.keys(i.O).every((e=>i.O[e](n[p])))?n.splice(p--,1):(a=!1,o<s&&(s=o));if(a){e.splice(f--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[n,r,o]}})(),i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+e+".c451f37f.chunk.js",i.miniCssF=e=>{},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/editdor/",(()=>{var e={917:1};i.f.i=(t,n)=>{e[t]||importScripts(i.p+i.u(t))};var t=self.webpackChunkeditdor=self.webpackChunkeditdor||[],n=t.push.bind(t);t.push=t=>{var r=t[0],o=t[1],s=t[2];for(var a in o)i.o(o,a)&&(i.m[a]=o[a]);for(s&&s(i);r.length;)e[r.pop()]=1;n(t)}})(),(()=>{var e=i.x;i.x=()=>i.e(895).then(e)})();i.x()})();
//# sourceMappingURL=917.c06122d0.chunk.js.map