/*! For license information please see main.88c949e3.js.LICENSE.txt */
(()=>{var e={13:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(4355),i=n(8270);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"===typeof t)return;const i=r.RULES.keywords;for(const o in t)i[o]||h(e,`unknown keyword: "${o}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c(e){let{mergeNames:t,mergeToName:n,mergeValues:i,resultToName:o}=e;return(e,s,a,l)=>{const c=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?t(e,s,a):n(e,s,a),a):s instanceof r.Name?(n(e,a,s),s):i(s,a);return l!==r.Name||c instanceof r.Name?c:o(e,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${(0,r.getProperty)(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function(e,t,n,i){let{topSchemaRef:o,schemaPath:s}=e;if(!i){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return r._`${t}`}return r._`${o}${s}${(0,r.getProperty)(n)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),d(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d;const f={};var p;function h(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.opts.strictSchema;if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:f[t.code]||(f[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(p||(t.Type=p={})),t.getErrorPath=function(e,t,n){if(e instanceof r.Name){const i=t===p.Num;return n?i?r._`"[" + ${e} + "]"`:r._`"['" + ${e} + "']"`:i?r._`"/" + ${e}`:r._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,r.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=h},35:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6627),i=n(4355),o=n(13),s=n(13),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:a,parentSchema:l,it:c}=e,{opts:u}=c,d=(0,r.allSchemaProperties)(n),f=d.filter((e=>(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length||f.length===d.length&&(!c.opts.unevaluated||!0===c.props))return;const p=u.strictSchema&&!u.allowMatchingProperties&&l.properties,h=t.name("valid");!0===c.props||c.props instanceof i.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:m}=c;function g(e){for(const t in p)new RegExp(e).test(t)&&(0,o.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",a,(o=>{t.if(i._`${(0,r.usePattern)(e,n)}.test(${o})`,(()=>{const r=f.includes(n);r||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:o,dataPropType:s.Type.Str},h),c.opts.unevaluated&&!0!==m?t.assign(i._`${m}[${o}]`,!0):r||c.allErrors||t.if((0,i.not)(h),(()=>t.break()))}))}))}!function(){for(const e of d)p&&g(e),c.allErrors?v(e):(t.var(h,!0),v(e),t.if(h))}()}};t.default=a},52:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6627),i=n(4355),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return i.str`must match pattern "${t}"`},params:e=>{let{schemaCode:t}=e;return i._`{pattern: ${t}}`}},code(e){const{data:t,$data:n,schema:o,schemaCode:s,it:a}=e,l=a.opts.unicodeRegExp?"u":"",c=n?i._`(new RegExp(${s}, ${l}))`:(0,r.usePattern)(e,o);e.fail$data(i._`!${c}.test(${t})`)}};t.default=o},75:(e,t,n)=>{"use strict";const{normalizeIPv6:r,normalizeIPv4:i,removeDotSegments:o,recomposeAuthority:s,normalizeComponentEncoding:a}=n(9561),l=n(9736);function c(e,t,n,r){const i={};return r||(e=p(u(e,n),n),t=p(u(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=o(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=o(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=o(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=o(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function u(e,t){const n={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},r=Object.assign({},t),i=[],a=l[(r.scheme||n.scheme||"").toLowerCase()];a&&a.serialize&&a.serialize(n,r),void 0!==n.path&&(r.skipEscape?n.path=unescape(n.path):(n.path=escape(n.path),void 0!==n.scheme&&(n.path=n.path.split("%3A").join(":")))),"suffix"!==r.reference&&n.scheme&&i.push(n.scheme,":");const c=s(n);if(void 0!==c&&("suffix"!==r.reference&&i.push("//"),i.push(c),n.path&&"/"!==n.path.charAt(0)&&i.push("/")),void 0!==n.path){let e=n.path;r.absolutePath||a&&a.absolutePath||(e=o(e)),void 0===c&&(e=e.replace(/^\/\//u,"/%2F")),i.push(e)}return void 0!==n.query&&i.push("?",n.query),void 0!==n.fragment&&i.push("#",n.fragment),i.join("")}const d=Array.from({length:127},((e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t))));const f=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(e,t){const n=Object.assign({},t),o={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=-1!==e.indexOf("%");let a=!1;"suffix"===n.reference&&(e=(n.scheme?n.scheme+":":"")+"//"+e);const c=e.match(f);if(c){if(o.scheme=c[1],o.userinfo=c[3],o.host=c[4],o.port=parseInt(c[5],10),o.path=c[6]||"",o.query=c[7],o.fragment=c[8],isNaN(o.port)&&(o.port=c[5]),o.host){const e=i(o.host);if(!1===e.isIPV4){const t=r(e.host);o.host=t.host.toLowerCase(),a=t.isIPV6}else o.host=e.host,a=!0}void 0!==o.scheme||void 0!==o.userinfo||void 0!==o.host||void 0!==o.port||void 0!==o.query||o.path?void 0===o.scheme?o.reference="relative":void 0===o.fragment?o.reference="absolute":o.reference="uri":o.reference="same-document",n.reference&&"suffix"!==n.reference&&n.reference!==o.reference&&(o.error=o.error||"URI is not a "+n.reference+" reference.");const e=l[(n.scheme||o.scheme||"").toLowerCase()];if(!n.unicodeSupport&&(!e||!e.unicodeSupport)&&o.host&&(n.domainHost||e&&e.domainHost)&&!1===a&&function(e){let t=0;for(let n=0,r=e.length;n<r;++n)if(t=e.charCodeAt(n),t>126||d[t])return!0;return!1}(o.host))try{o.host=URL.domainToASCII(o.host.toLowerCase())}catch(u){o.error=o.error||"Host's domain name can not be converted to ASCII: "+u}(!e||e&&!e.skipNormalize)&&(s&&void 0!==o.scheme&&(o.scheme=unescape(o.scheme)),s&&void 0!==o.host&&(o.host=unescape(o.host)),o.path&&(o.path=escape(unescape(o.path))),o.fragment&&(o.fragment=encodeURI(decodeURIComponent(o.fragment)))),e&&e.parse&&e.parse(o,n)}else o.error=o.error||"URI can not be parsed.";return o}const h={SCHEMES:l,normalize:function(e,t){return"string"===typeof e?e=u(p(e,t),t):"object"===typeof e&&(e=p(u(e,t),t)),e},resolve:function(e,t,n){const r=Object.assign({scheme:"null"},n);return u(c(p(e,r),p(t,r),r,!0),{...r,skipEscape:!0})},resolveComponents:c,equal:function(e,t,n){return"string"===typeof e?(e=unescape(e),e=u(a(p(e,n),!0),{...n,skipEscape:!0})):"object"===typeof e&&(e=u(a(e,!0),{...n,skipEscape:!0})),"string"===typeof t?(t=unescape(t),t=u(a(p(t,n),!0),{...n,skipEscape:!0})):"object"===typeof t&&(t=u(a(t,!0),{...n,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:u,parse:p};e.exports=h,e.exports.default=h,e.exports.fastUri=h},208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const r=n(4355),i=n(13),o=n(6627),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return a(e,"additionalItems",t);n.items=!0,(0,i.alwaysValidSchema)(n,t)||e.ok((0,o.validateArray)(e))}};function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.schema;const{gen:o,parentSchema:s,data:a,keyword:l,it:c}=e;!function(e){const{opts:r,errSchemaPath:o}=c,s=n.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(r.strictTuples&&!a){const e=`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,i.checkStrictMode)(c,e,r.strictTuples)}}(s),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=i.mergeEvaluated.items(o,n.length,c.items));const u=o.name("valid"),d=o.const("len",r._`${a}.length`);n.forEach(((t,n)=>{(0,i.alwaysValidSchema)(c,t)||(o.if(r._`${d} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=a,t.default=s},244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const i="maxProperties"===t?"more":"fewer";return r.str`should NOT have ${i} than ${n} items`},params:e=>{let{schemaCode:t}=e;return r._`{limit: ${t}}`}},code(e){const{keyword:t,data:n,schemaCode:i}=e,o="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${o} ${i}`)}};t.default=i},323:e=>{"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,n,r)=>t+(0===r?"":",")+e(void 0===n||"symbol"===typeof n?null:n)),"")+"]":"{"+Object.keys(t).sort().reduce(((n,r,i)=>{if(void 0===t[r]||"symbol"===typeof t[r])return n;return n+(0===n.length?"":",")+e(r)+":"+e(t[r])}),"")+"}"}},387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(4926);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor(){let{prefixes:e,parent:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,t){let{property:n,itemIndex:i}=t;this.value=e,this.scopePath=r._`.${new r.Name(n)}[${i}]`}}t.ValueScopeName=a;const l=r._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:i}=r,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[i];if(s){const e=s.get(o);if(e)return e}else s=this._values[i]=new Map;s.set(o,r);const a=this._scope[i]||(this._scope[i]=[]),l=a.length;return a[l]=t.ref,r.setValue(t,{property:i,itemIndex:l}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._values;return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._values,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,l=r.nil;for(const c in e){const u=e[c];if(!u)continue;const d=s[c]=s[c]||new Map;u.forEach((e=>{if(d.has(e))return;d.set(e,o.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=r._`${l}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null===a||void 0===a?void 0:a(e)))throw new i(e);l=r._`${l}${s}${this.opts._n}`}d.set(e,o.Completed)}))}return l}}},403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(1459),i=n(3757),o=n(5843);t.error={message:e=>{let{params:{property:t,depsCount:n,deps:i}}=e;const o=1===n?"property":"properties";return r.str`should have ${o} ${i} when property ${t} is present`},params:e=>{let{params:{property:t,depsCount:n,deps:i,missingProperty:o}}=e;return r._`{property: ${t},
    missingProperty: ${o},
    depsCount: ${n},
    deps: ${i}}`}};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function(e){let{schema:t}=e;const n={},r={};for(const i in t){if("__proto__"===i)continue;(Array.isArray(t[i])?n:r)[i]=t[i]}return[n,r]}(e);a(e,t),l(e,n)}};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{gen:n,data:i,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=o.propertyInData(n,i,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)o.checkReportMissingProp(e,t)})):(n.if(r._`${u} && (${o.checkMissingProp(e,c,a)})`),o.reportMissingProp(e,a),n.else())}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{gen:n,data:r,keyword:s,it:a}=e,l=n.name("valid");for(const c in t)i.alwaysValidSchema(a,t[c])||(n.if(o.propertyInData(n,r,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=a,t.validateSchemaDeps=l,t.default=s},463:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(902),i=n(1459),o=n(5355),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:e=>{let{params:{i:t,j:n}}=e;return i.str`should NOT have duplicate items (items ## ${n} and ${t} are identical)`},params:e=>{let{params:{i:t,j:n}}=e;return i._`{i: ${t}, j: ${n}}`}},code(e){const{gen:t,data:n,$data:s,schema:a,parentSchema:l,schemaCode:c,it:u}=e;if(!s&&!a)return;const d=t.let("valid"),f=l.items?r.getSchemaTypes(l.items):[];function p(o,s){const a=t.name("item"),l=r.checkDataTypes(f,a,u.opts.strict,r.DataType.Wrong),c=t.const("indices",i._`{}`);t.for(i._`;${o}--;`,(()=>{t.let(a,i._`${n}[${o}]`),t.if(l,i._`continue`),f.length>1&&t.if(i._`typeof ${a} == "string"`,i._`${a} += "_"`),t.if(i._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,i._`${c}[${a}]`),e.error(),t.assign(d,!1).break()})).code(i._`${c}[${a}] = ${o}`)}))}function h(r,s){const a=e.gen.scopeValue("func",{ref:o,code:i._`require("ajv/dist/compile/equal")`}),l=t.name("outer");t.label(l).for(i._`;${r}--;`,(()=>t.for(i._`${s} = ${r}; ${s}--;`,(()=>t.if(i._`${a}(${n}[${r}], ${n}[${s}])`,(()=>{e.error(),t.assign(d,!1).break(l)}))))))}e.block$data(d,(function(){const r=t.let("i",i._`${n}.length`),o=t.let("j");e.setParams({i:r,j:o}),t.assign(d,!0),t.if(i._`${r} > 1`,(()=>(f.length>0&&!f.some((e=>"object"===e||"array"===e))?p:h)(r,o)))}),i._`${c} === false`),e.ok(d)}};t.default=s},473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(5570),i=n(4355),o=n(9381),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:i}=e,o={gen:n,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(o.default.data):(t.assign(i._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:e=>{let{params:{min:t,max:n}}=e;return void 0===n?r.str`must contain at least ${t} valid item(s)`:r.str`must contain at least ${t} and no more than ${n} valid item(s)`},params:e=>{let{params:{min:t,max:n}}=e;return void 0===n?r._`{minContains: ${t}}`:r._`{minContains: ${t}, maxContains: ${n}}`}},code(e){const{gen:t,schema:n,parentSchema:o,data:s,it:a}=e;let l,c;const{minContains:u,maxContains:d}=o;a.opts.next?(l=void 0===u?1:u,c=d):l=1;const f=t.const("len",r._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,i.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,i.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,i.alwaysValidSchema)(a,n)){let t=r._`${f} >= ${l}`;return void 0!==c&&(t=r._`${t} && ${f} <= ${c}`),void e.pass(t)}a.items=!0;const p=t.name("valid");function h(){const e=t.name("_valid"),n=t.let("count",0);m(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===c?t.if(r._`${e} >= ${l}`,(()=>t.assign(p,!0).break())):(t.if(r._`${e} > ${c}`,(()=>t.assign(p,!1).break())),1===l?t.assign(p,!0):t.if(r._`${e} >= ${l}`,(()=>t.assign(p,!0))))}(n)))))}function m(n,r){t.forRange("i",0,f,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},n),r()}))}void 0===c&&1===l?m(p,(()=>t.if(p,(()=>t.break())))):0===l?(t.let(p,!0),void 0!==c&&t.if(r._`${s}.length > 0`,h)):(t.let(p,!1),h()),e.result(p,(()=>e.reset()))}};t.default=o},607:(e,t,n)=>{"use strict";const{isSubjectReference:r}=n(660),{createMergedNodeMap:i}=n(3611),o={};e.exports=o,o.flatten=e=>{const t=i(e),n=[],o=Object.keys(t).sort();for(let i=0;i<o.length;++i){const e=t[o[i]];r(e)||n.push(e)}return n}},626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},637:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(1459),i=n(9772),o=n(3349),s=n(5905),a=n(3757),l=n(3640),c=n(5405);class u{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:s.normalizeId(null===n||void 0===n?void 0:n.$id),this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function d(e){const t=p.call(this,e);if(t)return t;const n=s.getFullPath(e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,d=new r.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let f;e.$async&&(f=d.scopeValue("Error",{ref:i.ValidationError,code:r._`require("ajv/dist/compile/error_classes").ValidationError`}));const h=d.scopeName("validate");e.validateName=h;const m={gen:d,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:r.stringify(e.schema)}:{ref:e.schema}),validateName:h,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:this.opts.jtd?"":"#",errorPath:r._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),l.validateFunctionCode(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(h,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:h,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=r.stringify(n.evaluated))}return e.validate=n,e}catch(v){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),v}finally{this._compilations.delete(e)}}function f(e){return s.inlineRef(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:d.call(this,e)}function p(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function h(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||m.call(this,e,t)}function m(e,t){const n=c.parse(t),r=s._getFullPath(n);let i=s.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&r===i)return v.call(this,n,e);const o=s.normalizeId(r),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=m.call(this,e,a);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return v.call(this,n,t)}if("object"===typeof(null===a||void 0===a?void 0:a.schema)){if(a.validate||d.call(this,a),o===s.normalizeId(t)){const{schema:t}=a;return t.$id&&(i=s.resolveUrl(i,t.$id)),new u({schema:t,root:e,baseId:i})}return v.call(this,n,a)}}t.SchemaEnv=u,t.compileSchema=d,t.resolveRef=function(e,t,n){var r;n=s.resolveUrl(t,n);const i=e.refs[n];if(i)return i;let o=h.call(this,e,n);if(void 0===o){const i=null===(r=e.localRefs)||void 0===r?void 0:r[n];i&&(o=new u({schema:i,root:e,baseId:t}))}return void 0!==o?e.refs[n]=f.call(this,o):void 0},t.getCompilingSchema=p,t.resolveSchema=m;const g=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(e,t){let{baseId:n,schema:r,root:i}=t;var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const c of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;if(r=r[a.unescapeFragment(c)],void 0===r)return;!g.has(c)&&"object"==typeof r&&r.$id&&(n=s.resolveUrl(n,r.$id))}let l;if("boolean"!=typeof r&&r.$ref&&!a.schemaHasRulesButRef(r,this.RULES)){const e=s.resolveUrl(n,r.$ref);l=m.call(this,i,e)}return l=l||new u({schema:r,root:i,baseId:n}),l.schema!==l.root.schema?l:void 0}},660:(e,t,n)=>{"use strict";const r=n(9212),i={};e.exports=i,i.isSubject=e=>{if(r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1},i.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>r.isObject(e)&&"@value"in e,i.isList=e=>r.isObject(e)&&"@list"in e,i.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>{if(r.isObject(e)){if("@id"in e){const t=e["@id"];return!r.isString(t)||0===t.indexOf("_:")}return 0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)}return!1}},742:(e,t,n)=>{var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var s=t.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var s=[];return n.forEach((function(t){s.push(e(t))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,s={},a={},l="",c="",u="",d=2,f=3,p=2,h=[],m=0,g=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=f++,a[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<p;r++)m<<=1,g==t-1?(g=0,h.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<p;r++)m=m<<1|i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[u]}else for(i=s[u],r=0;r<p;r++)m=m<<1|1&i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,p),p++),s[c]=f++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<p;r++)m<<=1,g==t-1?(g=0,h.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<p;r++)m=m<<1|i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[u]}else for(i=s[u],r=0;r<p;r++)m=m<<1|1&i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(i=2,r=0;r<p;r++)m=m<<1|1&i,g==t-1?(g=0,h.push(n(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==t-1){h.push(n(m));break}g++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,s,a,l,c,u,d=[],f=4,p=4,h=3,m="",g=[],v={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(s=0,l=Math.pow(2,2),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;u=e(s);break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;u=e(s);break;case 2:return""}for(d[3]=u,o=u,g.push(u);;){if(v.index>t)return"";for(s=0,l=Math.pow(2,h),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;switch(u=s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;d[p++]=e(s),u=p-1,f--;break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=r(v.index++)),s|=(a>0?1:0)*c,c<<=1;d[p++]=e(s),u=p-1,f--;break;case 2:return g.join("")}if(0==f&&(f=Math.pow(2,h),h++),d[u])m=d[u];else{if(u!==p)return null;m=o+o.charAt(0)}g.push(m),d[p++]=o+m.charAt(0),o=m,0==--f&&(f=Math.pow(2,h),h++)}}};return o}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},755:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,i=t.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},a=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(i)return i(e,n).value}return e[n]};e.exports=function e(){var t,n,r,i,c,u,d=arguments[0],f=1,p=arguments.length,h=!1;for("boolean"===typeof d&&(h=d,d=arguments[1]||{},f=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});f<p;++f)if(null!=(t=arguments[f]))for(n in t)r=l(d,n),d!==(i=l(t,n))&&(h&&i&&(s(i)||(c=o(i)))?(c?(c=!1,u=r&&o(r)?r:[]):u=r&&s(r)?r:{},a(d,{name:n,newValue:e(h,u,i)})):"undefined"!==typeof i&&a(d,{name:n,newValue:i}));return d}},795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:e=>{let{params:t}=e;return r._`{propertyName: ${t.propertyName}}`}},code(e){const{gen:t,schema:n,data:o,it:s}=e;if((0,i.alwaysValidSchema)(s,n))return;const a=t.name("valid");t.forIn("key",o,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if((0,r.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applySubschema=t.Type=void 0;const r=n(3640),i=n(3757),o=n(1459);var s;!function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(s=t.Type||(t.Type={})),t.applySubschema=function(e,t,n){const a=function(e,t){let{keyword:n,schemaProp:r,schema:s,schemaPath:a,errSchemaPath:l,topSchemaRef:c}=t;if(void 0!==n&&void 0!==s)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==n){const t=e.schema[n];return void 0===r?{schema:t,schemaPath:o._`${e.schemaPath}${o.getProperty(n)}`,errSchemaPath:`${e.errSchemaPath}/${n}`}:{schema:t[r],schemaPath:o._`${e.schemaPath}${o.getProperty(n)}${o.getProperty(r)}`,errSchemaPath:`${e.errSchemaPath}/${n}/${i.escapeFragment(r)}`}}if(void 0!==s){if(void 0===a||void 0===l||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:a,topSchemaRef:c,errSchemaPath:l}}throw new Error('either "keyword" or "schema" must be passed')}(e,t);!function(e,t,n){let{dataProp:r,dataPropType:a,data:l,dataTypes:c,propertyName:u}=n;if(void 0!==l&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=t;if(void 0!==r){const{errorPath:n,dataPathArr:l,opts:c}=t;f(d.let("data",o._`${t.data}${o.getProperty(r)}`,!0)),e.errorPath=o.str`${n}${function(e,t,n){if(e instanceof o.Name){const r=t===s.Num;return n?r?o._`"[" + ${e} + "]"`:o._`"['" + ${e} + "']"`:r?o._`"/" + ${e}`:o._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?o.getProperty(e).toString():"/"+i.escapeJsonPointer(e)}(r,a,c.jsPropertySyntax)}`,e.parentDataProperty=o._`${r}`,e.dataPathArr=[...l,e.parentDataProperty]}if(void 0!==l){f(l instanceof o.Name?l:d.let("data",l,!0)),void 0!==u&&(e.propertyName=u)}c&&(e.dataTypes=c);function f(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}}(a,e,t),function(e,t){let{jtdDiscriminator:n,jtdMetadata:r,compositeRule:i,createErrors:o,allErrors:s}=t;void 0!==i&&(e.compositeRule=i);void 0!==o&&(e.createErrors=o);void 0!==s&&(e.allErrors=s);e.jtdDiscriminator=n,e.jtdMetadata=r}(a,t);const l={...e,...a,items:void 0,props:void 0};return r.subschemaCode(l,n),l}},852:e=>{"use strict";e.exports=JSON.parse('[{"scheme":"acr","description":"acr","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/acr"},{"scheme":"adiumxtra","description":"adiumxtra","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{"scheme":"afp","description":"afp","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/afp"},{"scheme":"afs","description":"Andrew File System global file names","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc1738"}]},{"scheme":"aim","description":"aim","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/aim"},{"scheme":"appdata","description":"appdata","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{"scheme":"apt","description":"apt","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/apt"},{"scheme":"attachment","description":"attachment","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{"scheme":"aw","description":"aw","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/aw"},{"scheme":"barion","description":"barion","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/barion"},{"scheme":"beshare","description":"beshare","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{"scheme":"bitcoin","description":"bitcoin","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{"scheme":"blob","description":"blob","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/blob"},{"scheme":"bolo","description":"bolo","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{"scheme":"callto","description":"callto","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/callto"},{"scheme":"chrome","description":"chrome","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{"scheme":"chrome-extension","description":"chrome-extension","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{"scheme":"com-eventbrite-attendee","description":"com-eventbrite-attendee","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{"scheme":"content","description":"content","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/content"},{"scheme":"cvs","description":"cvs","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{"scheme":"dis","description":"dis","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/dis"},{"scheme":"dlna-playcontainer","description":"dlna-playcontainer","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{"scheme":"dlna-playsingle","description":"dlna-playsingle","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{"scheme":"dntp","description":"dntp","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{"scheme":"dtn","description":"DTNRG research and development","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5050"}]},{"scheme":"dvb","description":"dvb","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{"scheme":"ed2k","description":"ed2k","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{"scheme":"facetime","description":"facetime","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{"scheme":"feed","description":"feed","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/feed"},{"scheme":"feedready","description":"feedready","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{"scheme":"finger","description":"finger","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/finger"},{"scheme":"fish","description":"fish","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/fish"},{"scheme":"gg","description":"gg","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/gg"},{"scheme":"git","description":"git","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/git"},{"scheme":"gizmoproject","description":"gizmoproject","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{"scheme":"gtalk","description":"gtalk","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{"scheme":"ham","description":"ham","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7046"}]},{"scheme":"hcp","description":"hcp","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{"scheme":"icon","description":"icon","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{"scheme":"iotdisco","description":"iotdisco","reference":[{"type":"uri","href":"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],"template":"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{"scheme":"ipn","description":"ipn","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6260"}]},{"scheme":"irc","description":"irc","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/irc"},{"scheme":"irc6","description":"irc6","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{"scheme":"ircs","description":"ircs","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{"scheme":"isostore","description":"isostore","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{"scheme":"itms","description":"itms","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/itms"},{"scheme":"jar","description":"jar","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/jar"},{"scheme":"jms","description":"Java Message Service","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6167"}]},{"scheme":"keyparc","description":"keyparc","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{"scheme":"lastfm","description":"lastfm","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{"scheme":"ldaps","description":"ldaps","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{"scheme":"magnet","description":"magnet","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{"scheme":"maps","description":"maps","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/maps"},{"scheme":"market","description":"market","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/market"},{"scheme":"message","description":"message","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/message"},{"scheme":"mms","description":"mms","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/mms"},{"scheme":"ms-access","description":"ms-access","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{"scheme":"ms-drive-to","description":"ms-drive-to","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{"scheme":"ms-enrollment","description":"ms-enrollment","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{"scheme":"ms-excel","description":"ms-excel","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{"scheme":"ms-getoffice","description":"ms-getoffice","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{"scheme":"ms-help","description":"ms-help","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{"scheme":"ms-infopath","description":"ms-infopath","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{"scheme":"ms-media-stream-id","description":"ms-media-stream-id","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{"scheme":"ms-powerpoint","description":"ms-powerpoint","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{"scheme":"ms-project","description":"ms-project","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{"scheme":"ms-publisher","description":"ms-publisher","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{"scheme":"ms-search-repair","description":"ms-search-repair","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{"scheme":"ms-secondary-screen-controller","description":"ms-secondary-screen-controller","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{"scheme":"ms-secondary-screen-setup","description":"ms-secondary-screen-setup","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{"scheme":"ms-settings","description":"ms-settings","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{"scheme":"ms-settings-airplanemode","description":"ms-settings-airplanemode","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{"scheme":"ms-settings-bluetooth","description":"ms-settings-bluetooth","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{"scheme":"ms-settings-camera","description":"ms-settings-camera","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{"scheme":"ms-settings-cellular","description":"ms-settings-cellular","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{"scheme":"ms-settings-cloudstorage","description":"ms-settings-cloudstorage","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{"scheme":"ms-settings-connectabledevices","description":"ms-settings-connectabledevices","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{"scheme":"ms-settings-displays-topology","description":"ms-settings-displays-topology","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{"scheme":"ms-settings-emailandaccounts","description":"ms-settings-emailandaccounts","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{"scheme":"ms-settings-language","description":"ms-settings-language","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{"scheme":"ms-settings-location","description":"ms-settings-location","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{"scheme":"ms-settings-lock","description":"ms-settings-lock","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{"scheme":"ms-settings-nfctransactions","description":"ms-settings-nfctransactions","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{"scheme":"ms-settings-notifications","description":"ms-settings-notifications","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{"scheme":"ms-settings-power","description":"ms-settings-power","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{"scheme":"ms-settings-privacy","description":"ms-settings-privacy","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{"scheme":"ms-settings-proximity","description":"ms-settings-proximity","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{"scheme":"ms-settings-screenrotation","description":"ms-settings-screenrotation","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{"scheme":"ms-settings-wifi","description":"ms-settings-wifi","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{"scheme":"ms-settings-workplace","description":"ms-settings-workplace","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{"scheme":"ms-spd","description":"ms-spd","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{"scheme":"ms-transit-to","description":"ms-transit-to","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{"scheme":"ms-visio","description":"ms-visio","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{"scheme":"ms-walk-to","description":"ms-walk-to","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{"scheme":"ms-word","description":"ms-word","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{"scheme":"msnim","description":"msnim","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{"scheme":"mumble","description":"mumble","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{"scheme":"mvn","description":"mvn","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{"scheme":"notes","description":"notes","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/notes"},{"scheme":"oid","description":"oid","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-larmouth-oid-iri"}],"template":"http://www.iana.org/assignments/uri-schemes/prov/oid"},{"scheme":"palm","description":"palm","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/palm"},{"scheme":"paparazzi","description":"paparazzi","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{"scheme":"platform","description":"platform","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/platform"},{"scheme":"proxy","description":"proxy","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{"scheme":"psyc","description":"psyc","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{"scheme":"query","description":"query","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/query"},{"scheme":"redis","description":"redis","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/redis"},{"scheme":"rediss","description":"rediss","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{"scheme":"res","description":"res","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/res"},{"scheme":"resource","description":"resource","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/resource"},{"scheme":"rmi","description":"rmi","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{"scheme":"rsync","description":"rsync","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5781"}]},{"scheme":"rtmfp","description":"rtmfp","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7425"}],"template":"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{"scheme":"rtmp","description":"rtmp","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{"scheme":"secondlife","description":"query","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{"scheme":"sftp","description":"query","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{"scheme":"sgn","description":"sgn","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{"scheme":"skype","description":"skype","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/skype"},{"scheme":"smb","description":"smb","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/smb"},{"scheme":"smtp","description":"smtp","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],"template":"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{"scheme":"soldat","description":"soldat","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{"scheme":"spotify","description":"spotify","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{"scheme":"ssh","description":"ssh","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{"scheme":"steam","description":"steam","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/steam"},{"scheme":"submit","description":"submit","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],"template":"http://www.iana.org/assignments/uri-schemes/prov/submit"},{"scheme":"svn","description":"svn","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/svn"},{"scheme":"teamspeak","description":"teamspeak","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{"scheme":"teliaeid","description":"teliaeid","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{"scheme":"things","description":"things","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/things"},{"scheme":"tool","description":"tool","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/tool"},{"scheme":"udp","description":"udp","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/udp"},{"scheme":"unreal","description":"unreal","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{"scheme":"ut2004","description":"ut2004","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{"scheme":"v-event","description":"v-event","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-menderico-v-event-uri"}],"template":"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{"scheme":"ventrilo","description":"ventrilo","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{"scheme":"view-source","description":"view-source","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{"scheme":"webcal","description":"webcal","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{"scheme":"wpid","description":"wpid","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{"scheme":"wtai","description":"wtai","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{"scheme":"wyciwyg","description":"wyciwyg","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{"scheme":"xfire","description":"xfire","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{"scheme":"xri","description":"xri","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/xri"},{"scheme":"ymsgr","description":"ymsgr","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}]')},902:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(626),i=n(2609),o=n(8546),s=n(1459),a=n(3757);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:o}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&i.schemaHasRulesForType(e,t[0]));if(c){const i=f(t,r,o.strict,l.Wrong);n.if(i,(()=>{a.length?function(e,t,n){const{gen:r,data:i,opts:o}=e,a=r.let("dataType",s._`typeof ${i}`),l=r.let("coerced",s._`undefined`);"array"===o.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>r.assign(i,s._`${i}[0]`).assign(a,s._`typeof ${i}`).if(f(t,i,o.strict),(()=>r.assign(l,i)))));r.if(s._`${l} !== undefined`);for(const s of n)(u.has(s)||"array"===s&&"array"===o.coerceTypes)&&c(s);function c(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${i}`).elseIf(s._`${i} === null`).assign(l,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(l,s._`+${i}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,s._`+${i}`);case"boolean":return void r.elseIf(s._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf(s._`${i} === "true" || ${i} === 1`).assign(l,!0);case"null":return r.elseIf(s._`${i} === "" || ${i} === 0 || ${i} === false`),void r.assign(l,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(l,s._`[${i}]`)}}r.else(),h(e),r.endIf(),r.if(s._`${l} !== undefined`,(()=>{r.assign(i,l),function(e,t){let{gen:n,parentData:r,parentDataProperty:i}=e;n.if(s._`${r} !== undefined`,(()=>n.assign(s._`${r}[${i}]`,t)))}(e,l)}))}(e,t,a):h(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.Correct;const i=r===l.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${i} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${i} ${e}`}return r===l.Correct?o:s.not(o);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.nil;return s.and(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function f(e,t,n,r){if(1===e.length)return d(e[0],t,n,r);let i;const o=a.toHash(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;i=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=s.nil;o.number&&delete o.integer;for(const a in o)i=s.and(i,d(a,t,n,r));return i}t.checkDataType=d,t.checkDataTypes=f;const p={message:e=>{let{schema:t}=e;return s.str`should be ${t}`},params:e=>{let{schema:t,schemaValue:n}=e;return"string"==typeof t?s._`{type: ${t}}`:s._`{type: ${n}}`}};function h(e){const t=function(e){const{gen:t,data:n,schema:r}=e,i=a.schemaRefOrVal(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}(e);o.reportError(t,p)}t.reportTypeError=h},966:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schemaKeywords=void 0;const r=n(2609),i=n(902),o=n(4684),s=n(7355),a=n(3757),l=n(3640),c=n(1459),u=n(3349);function d(e,t){const{gen:n,schema:i,opts:{useDefaults:a}}=e;a&&o.assignDefaults(e,t.type),n.block((()=>{for(const n of t.rules)r.shouldUseRule(i,n)&&s.keywordCode(e,n.keyword,n.definition,t.type)}))}function f(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function p(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function h(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,l.checkStrictMode(e,t,e.opts.strictTypes)}t.schemaKeywords=function(e,t,n,o){const{gen:l,schema:m,data:g,allErrors:v,opts:y,self:b}=e,{RULES:w}=b;function x(s){r.shouldUseGroup(m,s)&&(s.type?(l.if(i.checkDataType(s.type,g,y.strict)),d(e,s),1===t.length&&t[0]===s.type&&n&&(l.else(),i.reportTypeError(e)),l.endIf()):d(e,s),v||l.if(c._`${u.default.errors} === ${o||0}`))}!m.$ref||!y.ignoreKeywordsWithRef&&a.schemaHasRulesButRef(m,w)?(y.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{p(e.dataTypes,t)||h(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>p(t,e)))})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&h(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const i in n){const o=n[i];if("object"==typeof o&&r.shouldUseRule(e.schema,o)){const{type:n}=o.definition;n.length&&!n.some((e=>f(t,e)))&&h(e,`missing type "${n.join(",")}" for keyword "${i}"`)}}}(e,e.dataTypes)}(e,t),l.block((()=>{for(const e of w.rules)x(e);x(w.post)}))):l.block((()=>s.keywordCode(e,"$ref",w.all.$ref.definition)))}},988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9188),i=n(5959),o=n(4355),s=new o.Name("fullFormats"),a=new o.Name("fastFormats"),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keywords:!0};if(Array.isArray(t))return c(e,t,r.fullFormats,s),e;const[n,o]="fast"===t.mode?[r.fastFormats,a]:[r.fullFormats,s];return c(e,t.formats||r.formatNames,n,o),t.keywords&&i.default(e),e};function c(e,t,n,r){var i,s;null!==(i=(s=e.opts.code).formats)&&void 0!==i||(s.formats=o._`require("ajv-formats/dist/formats").${r}`);for(const o of t)e.addFormat(o,n[o])}l.get=function(e){const t=("fast"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full")?r.fastFormats:r.fullFormats)[e];if(!t)throw new Error(`Unknown format "${e}"`);return t},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},1044:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=r.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:e=>{let{keyword:t,schemaCode:n}=e;return r.str`should be ${o[t].okStr} ${n}`},params:e=>{let{keyword:t,schemaCode:n}=e;return r._`{comparison: ${o[t].okStr}, limit: ${n}}`}},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(r._`${n} ${o[t].fail} ${i} || isNaN(${n})`)}};t.default=a},1045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(3757),o=n(3640),s={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:e=>{let{params:t}=e;return r.str`should match "${t.ifClause}" schema`},params:e=>{let{params:t}=e;return r._`{failingKeyword: ${t.ifClause}}`}},code(e){const{gen:t,parentSchema:n,it:i}=e;void 0===n.then&&void 0===n.else&&o.checkStrictMode(i,'"if" without "then" and "else" is ignored');const s=a(i,"then"),l=a(i,"else");if(!s&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),s&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else s?t.if(u,d("then")):t.if(r.not(u),d("else"));function d(n,i){return()=>{const o=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(o,c),i?t.assign(i,r._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function a(e,t){const n=e.schema[t];return void 0!==n&&!i.alwaysValidSchema(e,n)}t.default=s},1098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3757),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach(((t,n)=>{if(r.alwaysValidSchema(i,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=i},1161:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const r=n(8546),i=n(1459),o=n(3349),s={message:"boolean schema is false"};function a(e,t){const{gen:n,data:i}=e,o={gen:n,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};r.reportError(o,s,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?a(e,!1):"object"==typeof n&&!0===n.$async?t.return(o.default.data):(t.assign(i._`${r}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),a(e)):n.var(t,!0)}},1164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(4355),i=n(13);function o(e,t,n){const{gen:o,compositeRule:s,data:a,opts:l}=e;if(void 0===n)return;const c=r._`${a}${(0,r.getProperty)(t)}`;if(s)return void(0,i.checkStrictMode)(e,`default is ignored for: ${c}`);let u=r._`${c} === undefined`;"empty"===l.useDefaults&&(u=r._`${u} || ${c} === null || ${c} === ""`),o.if(u,r._`${c} = ${(0,r.stringify)(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const i in n)o(e,i,n[i].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>o(e,n,t.default)))}},1352:(e,t,n)=>{"use strict";var r=n(7119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},1459:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(4926),i=n(387);var o=n(4926);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=n(387);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render(e){let{es5:t,_n:n}=e;const r=t?i.varKinds.var:this.varKind,o=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${o};`+n}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render(e){let{_n:t}=e;return`${this.lhs} = ${this.rhs};`+t}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=A(this.rhs,e,t),this}get names(){return j(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,r){super(e,n,r),this.op=t}render(e){let{_n:t}=e;return`${this.lhs} ${this.op}= ${this.rhs};`+t}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render(e){let{_n:t}=e;return`${this.label}:`+t}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render(e){let{_n:t}=e;return`break${this.label?` ${this.label}`:""};`+t}}class p extends a{constructor(e){super(),this.error=e}render(e){let{_n:t}=e;return`throw ${this.error};`+t}get names(){return this.error.names}}class h extends a{constructor(e){super(),this.code=e}render(e){let{_n:t}=e;return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=A(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const i=n[r];i.optimizeNames(e,t)||(C(e,i.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>N(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(O(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=A(this.condition,e,t),this}get names(){const e=super.names;return j(e,this.condition),this.else&&N(e,this.else.names),e}}b.kind="if";class w extends g{}w.kind="for";class x extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=A(this.iteration,e,t),this}get names(){return N(super.names,this.iteration.names)}}class k extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:n,from:r,to:o}=this;return`for(${t} ${n}=${r}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){const e=j(super.names,this.from);return j(e,this.to)}}class S extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=A(this.iterable,e,t),this}get names(){return N(super.names,this.iterable.names)}}class _ extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}_.kind="func";class E extends m{render(e){return"return "+super.render(e)}}E.kind="return";class P extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&N(e,this.catch.names),this.finally&&N(e,this.finally.names),e}}class T extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}T.kind="catch";class $ extends g{render(e){return"finally"+super.render(e)}}$.kind="finally";function N(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function j(e,t){return t instanceof r._CodeOrName?N(e,t.names):e}function A(e,t,n){return e instanceof r.Name?i(e):function(e){return e instanceof r._Code&&e._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))}(e)?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function C(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function O(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${D(e)}`}t.CodeGen=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const i=this._scope.toName(t);return void 0!==n&&r&&(this._constants[i.str]=n),this._leafNode(new l(e,i,n)),i}const(e,t,n){return this._def(i.varKinds.const,e,t,n)}let(e,t,n){return this._def(i.varKinds.let,e,t,n)}var(e,t,n){return this._def(i.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new h(e)),this}object(){const e=["{"];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const[o,s]of n)e.length>1&&e.push(","),e.push(o),(o!==s||this.opts.es5)&&(e.push(":"),r.addCodeArg(e,s));return e.push("}"),new r._Code(e)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(b,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new x(e),t)}forRange(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.es5?i.varKinds.var:i.varKinds.let;const s=this._scope.toName(e);return this._for(new k(o,s,t,n),(()=>r(s)))}forOf(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.varKinds.const;const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new S("of",o,s,t),(()=>n(s)))}forIn(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.es5?i.varKinds.var:i.varKinds.const;if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new S("in",o,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new f(e))}return(e){const t=new E;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new P;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new T(e),t(e)}return n&&(this._currNode=r.finally=new $,this.code(n)),this._endBlockNode(T,$)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.nil,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this._blockNode(new _(e,t,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=O;const I=L(t.operators.AND);t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(I)};const R=L(t.operators.OR);function L(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${D(t)} ${e} ${D(n)}`}function D(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(R)}},1473:(e,t,n)=>{"use strict";const r=n(3281),i=n(660),o=n(9212),{REGEX_BCP47:s,addValue:a}=n(7173),{handleEvent:l}=n(7608),{RDF_LIST:c,RDF_FIRST:u,RDF_REST:d,RDF_NIL:f,RDF_TYPE:p,RDF_JSON_LITERAL:h,XSD_BOOLEAN:m,XSD_DOUBLE:g,XSD_INTEGER:v,XSD_STRING:y}=n(4876),b={};function w(e,t,n,i){if(e.termType.endsWith("Node"))return{"@id":e.value};const a={"@value":e.value};if(e.language)e.language.match(s)||i.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:i}),a["@language"]=e.language;else{let u=e.datatype.value;if(u||(u=y),u===h){u="@json";try{a["@value"]=JSON.parse(a["@value"])}catch(c){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:a["@value"],cause:c})}}if(t){if(u===m)"true"===a["@value"]?a["@value"]=!0:"false"===a["@value"]&&(a["@value"]=!1);else if(o.isNumeric(a["@value"]))if(u===v){const e=parseInt(a["@value"],10);e.toFixed(0)===a["@value"]&&(a["@value"]=e)}else u===g&&(a["@value"]=parseFloat(a["@value"]));[m,v,g,y].includes(u)||(a["@type"]=u)}else if("i18n-datatype"===n&&u.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=u.split(/[#_]/);e.length>0&&(a["@language"]=e,e.match(s)||i.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:i})),a["@direction"]=t}else u!==y&&(a["@type"]=u)}return a}e.exports=b,b.fromRDF=async(e,t)=>{const{useRdfType:n=!1,useNativeTypes:s=!1,rdfDirection:l=null}=t,h={},m={"@default":h},g={};if(l){if("compound-literal"===l)throw new r("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:l});if("i18n-datatype"!==l)throw new r("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:l})}for(const r of e){const e="DefaultGraph"===r.graph.termType?"@default":r.graph.value;e in m||(m[e]={}),"@default"===e||e in h||(h[e]={"@id":e});const i=m[e],o=r.subject.value,c=r.predicate.value,u=r.object;o in i||(i[o]={"@id":o});const d=i[o],v=u.termType.endsWith("Node");if(v&&!(u.value in i)&&(i[u.value]={"@id":u.value}),c===p&&!n&&v){a(d,"@type",u.value,{propertyIsArray:!0});continue}const y=w(u,s,l,t);if(a(d,c,y,{propertyIsArray:!0}),v)if(u.value===f){const e=i[u.value];"usages"in e||(e.usages=[]),e.usages.push({node:d,property:c,value:y})}else u.value in g?g[u.value]=!1:g[u.value]={node:d,property:c,value:y}}for(const r in m){const e=m[r];if(!(f in e))continue;const t=e[f];if(t.usages){for(let n of t.usages){let t=n.node,r=n.property,s=n.value;const a=[],l=[];let f=Object.keys(t).length;for(;r===d&&o.isObject(g[t["@id"]])&&o.isArray(t[u])&&1===t[u].length&&o.isArray(t[d])&&1===t[d].length&&(3===f||4===f&&o.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===c)&&(a.push(t[u][0]),l.push(t["@id"]),n=g[t["@id"]],t=n.node,r=n.property,s=n.value,f=Object.keys(t).length,i.isBlankNode(t)););delete s["@id"],s["@list"]=a.reverse();for(const n of l)delete e[n]}delete t.usages}}const v=[],y=Object.keys(h).sort();for(const r of y){const e=h[r];if(r in m){const t=e["@graph"]=[],n=m[r],o=Object.keys(n).sort();for(const e of o){const r=n[e];i.isSubjectReference(r)||t.push(r)}}i.isSubjectReference(e)||v.push(e)}return v}},1495:e=>{"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let r=null,i=0;const o=e.length;for(let s=0;s<o;++s){const n=e[s],a=t.get(n);(null===r||n>r)&&(a&&s>0&&n>e[s-1]||!a&&s<o-1&&n>e[s+1])&&(r=n,i=s)}if(null===r)this.done=!0;else{const n=t.get(r)?i-1:i+1;e[i]=e[n],e[n]=r;for(const i of e)i>r&&t.set(i,!t.get(i))}return n}}},1515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(3757),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:e=>{let{params:t}=e;return r.str`property name '${t.propertyName}' is invalid`},params:e=>{let{params:t}=e;return r._`{propertyName: ${t.propertyName}}`}},code(e){const{gen:t,schema:n,data:o,it:s}=e;if(i.alwaysValidSchema(s,n))return;const a=t.name("valid");t.forIn("key",o,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},a),t.if(r.not(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},1628:(e,t,n)=>{const{parse:r}=n(5405),{addressParser:i}=n(4495),o=n(7013);function s(e){try{return i(e),!0}catch(t){return!1}}e.exports=e=>{const t=r(e);return!("mailto"!==t.scheme||!t.to.every(s))||(!("absolute"!==t.reference||void 0===t.path||!o.allByName[t.scheme])||!(t.scheme&&!o.allByName[t.scheme])&&(void 0!==t.path&&("relative"===t.reference||"same-document"===t.reference||"uri"===t.reference)))}},1682:(e,t,n)=>{"use strict";const r=n(7173),i=n(3281),{isArray:o,isObject:s,isString:a,isUndefined:l}=n(9212),{isAbsolute:c,isRelative:u,prependBase:d}=n(3508),{handleEvent:f}=n(7608),{REGEX_BCP47:p,REGEX_KEYWORD:h,asArray:m,compareShortestLeast:g}=n(7173),v=new Map,y={};function b(e,t,n,r,i,o){if(null===t||!a(t)||y.isKeyword(t))return t;if(t.match(h))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&y.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),(n=n||{}).vocab){const n=e.mappings.get(t);if(null===n)return null;if(s(n)&&"@id"in n)return n["@id"]}const l=t.indexOf(":");if(l>0){const n=t.substr(0,l),s=t.substr(l+1);if("_"===n||0===s.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&y.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:i,options:o});const a=e.mappings.get(n);if(a&&a._prefix)return a["@id"]+s;if(c(t))return t}if(n.vocab&&"@vocab"in e){t=e["@vocab"]+t}else if(n.base){let n,r;"@base"in e?e["@base"]?(r=d(o.base,e["@base"]),n=d(r,t)):(r=e["@base"],n=t):(r=o.base,n=d(o.base,t)),t=n}return t}function w(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!w(e[n],t[n]))return!1;return!0}const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o in e){let n=e[o],r=t[o];if("@container"===o&&Array.isArray(n)&&Array.isArray(r)&&(n=n.slice().sort(),r=r.slice().sort()),!w(n,r))return!1}return!0}e.exports=y,y.process=async e=>{let{activeCtx:t,localCtx:n,options:r,propagate:l=!0,overrideProtected:h=!1,cycles:g=new Set}=e;s(n)&&"@context"in n&&o(n["@context"])&&(n=n["@context"]);if(0===m(n).length)return t;const v=[],w=[e=>{let{event:t,next:n}=e;v.push(t),n()}];r.eventHandler&&w.push(r.eventHandler);const x=r;r={...r,eventHandler:w};const k=await r.contextResolver.resolve({activeCtx:t,context:n,documentLoader:r.documentLoader,base:r.base});s(k[0].document)&&"boolean"===typeof k[0].document["@propagate"]&&(l=k[0].document["@propagate"]);let S=t;l||S.previousContext||(S=S.clone(),S.previousContext=t);for(const o of k){let{document:e}=o;if(t=S,null===e){if(!h&&0!==Object.keys(t.protected).length)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});S=t=y.getInitialContext(r).clone();continue}const l=o.getProcessed(t);if(l){if(x.eventHandler)for(const e of l.events)f({event:e,options:x});S=t=l.context;continue}if(s(e)&&"@context"in e&&(e=e["@context"]),!s(e))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e});S=S.clone();const m=new Map;if("@version"in e){if(1.1!==e["@version"])throw new i("Unsupported JSON-LD version: "+e["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:e});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new i("@version: "+e["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:e});S.processingMode="json-ld-1.1",S["@version"]=e["@version"],m.set("@version",!0)}if(S.processingMode=S.processingMode||t.processingMode,"@base"in e){let t=e["@base"];if(null===t||c(t));else{if(!u(t))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:e});t=d(S["@base"],t)}S["@base"]=t,m.set("@base",!0)}if("@vocab"in e){const t=e["@vocab"];if(null===t)delete S["@vocab"];else{if(!a(t))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:e});if(!c(t)&&y.processingMode(S,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:e});{const e=b(S,t,{vocab:!0,base:!0},void 0,void 0,r);c(e)||r.eventHandler&&f({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:e}},options:r}),S["@vocab"]=e}}m.set("@vocab",!0)}if("@language"in e){const t=e["@language"];if(null===t)delete S["@language"];else{if(!a(t))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:e});t.match(p)||r.eventHandler&&f({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t}},options:r}),S["@language"]=t.toLowerCase()}m.set("@language",!0)}if("@direction"in e){const n=e["@direction"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:e});if(null===n)delete S["@direction"];else{if("ltr"!==n&&"rtl"!==n)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:e});S["@direction"]=n}m.set("@direction",!0)}if("@propagate"in e){const r=e["@propagate"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:e});if("boolean"!==typeof r)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:n});m.set("@propagate",!0)}if("@import"in e){const o=e["@import"];if("json-ld-1.0"===t.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:e});if(!a(o))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:n});const s=await r.contextResolver.resolve({activeCtx:t,context:o,documentLoader:r.documentLoader,base:r.base});if(1!==s.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:n});const l=s[0].getProcessed(t);if(l)e=l;else{const r=s[0].document;if("@import"in r)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:n});for(const t in r)e.hasOwnProperty(t)||(e[t]=r[t]);s[0].setProcessed(t,e)}m.set("@import",!0)}m.set("@protected",e["@protected"]||!1);for(const t in e)if(y.createTermDefinition({activeCtx:S,localCtx:e,term:t,defined:m,options:r,overrideProtected:h}),s(e[t])&&"@context"in e[t]){const n=e[t]["@context"];let o=!0;if(a(n)){const e=d(r.base,n);g.has(e)?o=!1:g.add(e)}if(o)try{await y.process({activeCtx:S.clone(),localCtx:e[t]["@context"],overrideProtected:!0,options:r,cycles:g})}catch(_){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:e[t]["@context"],term:t})}}o.setProcessed(t,{context:S,events:v})}return S},y.createTermDefinition=e=>{let t,{activeCtx:n,localCtx:r,term:l,defined:u,options:d,overrideProtected:p=!1}=e;if(u.has(l)){if(u.get(l))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:r,term:l})}if(u.set(l,!1),r.hasOwnProperty(l)&&(t=r[l]),"@type"===l&&s(t)&&"@set"===(t["@container"]||"@set")&&y.processingMode(n,1.1)){const e=["@container","@id","@protected"],n=Object.keys(t);if(0===n.length||n.some((t=>!e.includes(t))))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:l})}else{if(y.isKeyword(l))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:l});if(l.match(h))return void(d.eventHandler&&f({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:l}},options:d}));if(""===l)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:r})}const m=n.mappings.get(l);n.mappings.has(l)&&n.mappings.delete(l);let g=!1;if((a(t)||null===t)&&(g=!0,t={"@id":t}),!s(t))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:r});const v={};n.mappings.set(l,v),v.reverse=!1;const x=["@container","@id","@language","@reverse","@type"];y.processingMode(n,1.1)&&x.push("@context","@direction","@index","@nest","@prefix","@protected");for(const o in t)if(!x.includes(o))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+o,"jsonld.SyntaxError",{code:"invalid term definition",context:r});const k=l.indexOf(":");if(v._termHasColon=k>0,"@reverse"in t){if("@id"in t)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});if("@nest"in t)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});const e=t["@reverse"];if(!a(e))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(e.match(h))return d.eventHandler&&f({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:e}},options:d}),void(m?n.mappings.set(l,m):n.mappings.delete(l));const o=b(n,e,{vocab:!0,base:!1},r,u,d);if(!c(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});v["@id"]=o,v.reverse=!0}else if("@id"in t){let e=t["@id"];if(e&&!a(e))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(null===e)v["@id"]=null;else{if(!y.isKeyword(e)&&e.match(h))return d.eventHandler&&f({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:e}},options:d}),void(m?n.mappings.set(l,m):n.mappings.delete(l));if(e!==l){if(e=b(n,e,{vocab:!0,base:!1},r,u,d),!c(e)&&!y.isKeyword(e))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r});if(l.match(/(?::[^:])|\//)){if(b(n,l,{vocab:!0,base:!1},r,new Map(u).set(l,!0),d)!==e)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r})}v["@id"]=e,v._prefix=g&&!v._termHasColon&&null!==e.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in v))if(v._termHasColon){const e=l.substr(0,k);if(r.hasOwnProperty(e)&&y.createTermDefinition({activeCtx:n,localCtx:r,term:e,defined:u,options:d}),n.mappings.has(e)){const t=l.substr(k+1);v["@id"]=n.mappings.get(e)["@id"]+t}else v["@id"]=l}else if("@type"===l)v["@id"]=l;else{if(!("@vocab"in n))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r,term:l});v["@id"]=n["@vocab"]+l}if((!0===t["@protected"]||!0===u.get("@protected")&&!1!==t["@protected"])&&(n.protected[l]=!0,v.protected=!0),u.set(l,!0),"@type"in t){let e=t["@type"];if(!a(e))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if("@json"===e||"@none"===e){if(y.processingMode(n,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${e}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else if("@id"!==e&&"@vocab"!==e){if(e=b(n,e,{vocab:!0,base:!1},r,u,d),!c(e))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:r});if(0===e.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}v["@type"]=e}if("@container"in t){const e=a(t["@container"])?[t["@container"]]:t["@container"]||[],s=["@list","@set","@index","@language"];let l=!0;const c=e.includes("@set");if(y.processingMode(n,1.1)){if(s.push("@graph","@id","@type"),e.includes("@list")){if(1!==e.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else if(e.includes("@graph")){if(e.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}else l&=e.length<=(c?2:1);if(e.includes("@type")&&(v["@type"]=v["@type"]||"@id",!["@id","@vocab"].includes(v["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}else l&=!o(t["@container"]),l&=e.length<=1;if(l&=e.every((e=>s.includes(e))),l&=!(c&&e.includes("@list")),!l)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+s.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:r});if(v.reverse&&!e.every((e=>["@index","@set"].includes(e))))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:r});v["@container"]=e}if("@index"in t){if(!("@container"in t)||!v["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${t["@index"]}" on term "${l}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:r});if(!a(t["@index"])||0===t["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${t["@index"]}" on term "${l}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:r});v["@index"]=t["@index"]}if("@context"in t&&(v["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){let e=t["@language"];if(null!==e&&!a(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:r});null!==e&&(e=e.toLowerCase()),v["@language"]=e}if("@prefix"in t){if(l.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:r});if(y.isKeyword(v["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:r});if("boolean"!==typeof t["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:r});v._prefix=!0===t["@prefix"]}if("@direction"in t){const e=t["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});v["@direction"]=e}if("@nest"in t){const e=t["@nest"];if(!a(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:r});v["@nest"]=e}const S=v["@id"];if("@context"===S||"@preserve"===S)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:r});if(m&&m.protected&&!p&&(n.protected[l]=!0,v.protected=!0,!w(m,v)))throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:r,term:l})},y.expandIri=(e,t,n,r)=>b(e,t,n,void 0,void 0,r),y.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=v.get(t);if(n)return n;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},r={},i=(e["@language"]||"@none").toLowerCase(),a=e["@direction"],l=e.mappings,c=[...l.keys()].sort(g);for(const o of c){const e=l.get(o);if(null===e)continue;let c=e["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===e["@id"])continue;const u=m(e["@id"]);for(const l of u){let u=t[l];const d=y.isKeyword(l);if(u)d||e._termHasColon||r[l].push(o);else if(t[l]=u={},!d&&!e._termHasColon){r[l]=[o];const e={iri:l,terms:r[l]};l[0]in n?n[l[0]].push(e):n[l[0]]=[e]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],s(o,u["@any"],"@none"),e.reverse)s(o,u["@type"],"@reverse");else if("@none"===e["@type"])s(o,u["@any"],"@none"),s(o,u["@language"],"@none"),s(o,u["@type"],"@none");else if("@type"in e)s(o,u["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],n=e["@direction"];s(o,u["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?`_${n}`:"@null")}else"@language"in e?s(o,u["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?s(o,u["@language"],`_${e["@direction"]}`):s(o,u["@language"],"@none"):a?(s(o,u["@language"],`_${a}`),s(o,u["@language"],"@none"),s(o,u["@type"],"@none")):(s(o,u["@language"],i),s(o,u["@language"],"@none"),s(o,u["@type"],"@none"))}}for(const s in n)o(n,s,1);return t},clone:function(){const e={};e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]);"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===v.size&&v.clear(),v.set(t,i),i;function o(e,t,n){const r=e[t],i=e[t]={};let s,a;for(const o of r)s=o.iri,a=n>=s.length?"":s[n],a in i?i[a].push(o):i[a]=[o];for(const l in i)""!==l&&o(i,l,n+1)}function s(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}},y.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(l(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},y.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,y.isKeyword=e=>{if(!a(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},1751:(e,t,n)=>{"use strict";const{parseLinkHeader:r,buildHeaders:i}=n(7173),{LINK_HEADER_CONTEXT:o}=n(4876),s=n(3281),a=n(4197),{prependBase:l}=n(3508),c=/(^|(\r\n))link:/i;e.exports=function(){let{secure:e,headers:t={},xhr:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}};t=i(t);return(new a).wrapLoader((async function i(a){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let u;try{u=await function(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise(((e,i)=>{r.onload=()=>e(r),r.onerror=e=>i(e),r.open("GET",t,!0);for(const t in n)r.setRequestHeader(t,n[t]);r.send()}))}(n,a,t)}catch(m){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:m})}if(u.status>=400)throw new s("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:u.status});let d={contextUrl:null,documentUrl:a,document:u.response},f=null;const p=u.getResponseHeader("Content-Type");let h;c.test(u.getAllResponseHeaders())&&(h=u.getResponseHeader("Link"));if(h&&"application/ld+json"!==p){const e=r(h),t=e[o];if(Array.isArray(t))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});t&&(d.contextUrl=t.target),f=e.alternate,f&&"application/ld+json"==f.type&&!(p||"").match(/^application\/(\w*\+)?json$/)&&(d=await i(l(a,f.target)))}return d}))}},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(k);else{var t=r(u);null!==t&&I(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(P),P=-1),h=!0;var o=p;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var s=f.callback;if("function"===typeof s){f.callback=null,p=f.priorityLevel;var a=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&I(x,d.startTime-n),l=!1}return l}finally{f=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,P=-1,T=5,$=-1;function N(){return!(t.unstable_now()-$<T)}function j(){if(null!==E){var e=t.unstable_now();$=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof b)S=function(){b(j)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,C=A.port2;A.port1.onmessage=j,S=function(){C.postMessage(null)}}else S=function(){v(j,0)};function O(e){E=e,_||(_=!0,S())}function I(e,n){P=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(P),P=-1):g=!0,I(x,o-s))):(e.sortIndex=a,n(c,e),m||h||(m=!0,O(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},1884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(208),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=i},1942:(e,t,n)=>{e.exports=n(3488)()},1948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),i={keyword:["then","else"],schemaType:["object","boolean"],code(e){let{keyword:t,parentSchema:n,it:i}=e;void 0===n.if&&(0,r.checkStrictMode)(i,`"${t}" without "if" is ignored`)}};t.default=i},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:S.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function $(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+$(l,0):o,x(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(P(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+$(a=e[c],c);l+=N(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=o+$(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},O={transition:null},I={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,n){return C.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,n){return C.current.useReducer(e,t,n)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.current.useTransition()},t.version="18.3.1"},2078:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(8319).default];t.default=r},2079:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},2115:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(6627).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},2207:(e,t,n)=>{e.exports=n(6495)},2404:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=r.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:e=>{let{keyword:t,schemaCode:n}=e;return r.str`must be ${o[t].okStr} ${n}`},params:e=>{let{keyword:t,schemaCode:n}=e;return r._`{comparison: ${o[t].okStr}, limit: ${n}}`}},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:i}=e;e.fail$data(r._`${n} ${o[t].fail} ${i} || isNaN(${n})`)}};t.default=a},2433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(6476),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const i="maxLength"===t?"more":"fewer";return r.str`should NOT have ${i} than ${n} characters`},params:e=>{let{schemaCode:t}=e;return r._`{limit: ${t}}`}},code(e){const{keyword:t,data:n,schemaCode:o,it:s}=e,a="maxLength"===t?r.operators.GT:r.operators.LT;let l;if(!1===s.opts.unicode)l=r._`${n}.length`;else{const t=e.gen.scopeValue("func",{ref:i.default,code:r._`require("ajv/dist/compile/ucs2length").default`});l=r._`${t}(${n})`}e.fail$data(r._`${l} ${a} ${o}`)}};t.default=o},2453:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=i(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(7725)(r)}catch(l){}},2455:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},2480:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>i,after:()=>It,all:()=>en,allKeys:()=>ge,any:()=>tn,assign:()=>Ie,before:()=>Rt,bind:()=>kt,bindAll:()=>Et,chain:()=>yt,chunk:()=>Mn,clone:()=>Me,collect:()=>Jt,compact:()=>Tn,compose:()=>Ot,constant:()=>Q,contains:()=>nn,countBy:()=>vn,create:()=>De,debounce:()=>jt,default:()=>Un,defaults:()=>Re,defer:()=>$t,delay:()=>Tt,detect:()=>Ht,difference:()=>Nn,drop:()=>En,each:()=>Wt,escape:()=>st,every:()=>en,extend:()=>Oe,extendOwn:()=>Ie,filter:()=>Qt,find:()=>Ht,findIndex:()=>Ft,findKey:()=>Dt,findLastIndex:()=>zt,findWhere:()=>Gt,first:()=>_n,flatten:()=>$n,foldl:()=>Xt,foldr:()=>Yt,forEach:()=>Wt,functions:()=>Ae,get:()=>Ue,groupBy:()=>mn,has:()=>qe,head:()=>_n,identity:()=>He,include:()=>nn,includes:()=>nn,indexBy:()=>gn,indexOf:()=>Ut,initial:()=>Sn,inject:()=>Xt,intersection:()=>On,invert:()=>je,invoke:()=>rn,isArguments:()=>K,isArray:()=>G,isArrayBuffer:()=>D,isBoolean:()=>$,isDataView:()=>H,isDate:()=>O,isElement:()=>N,isEmpty:()=>le,isEqual:()=>me,isError:()=>R,isFinite:()=>X,isFunction:()=>z,isMap:()=>_e,isMatch:()=>ce,isNaN:()=>Y,isNull:()=>P,isNumber:()=>C,isObject:()=>E,isRegExp:()=>I,isSet:()=>Pe,isString:()=>A,isSymbol:()=>L,isTypedArray:()=>ie,isUndefined:()=>T,isWeakMap:()=>Ee,isWeakSet:()=>Te,iteratee:()=>Xe,keys:()=>ae,last:()=>Pn,lastIndexOf:()=>qt,map:()=>Jt,mapObject:()=>Qe,matcher:()=>Ge,matches:()=>Ge,max:()=>an,memoize:()=>Pt,methods:()=>Ae,min:()=>ln,mixin:()=>zn,negate:()=>Ct,noop:()=>Ze,now:()=>rt,object:()=>Ln,omit:()=>kn,once:()=>Lt,pairs:()=>Ne,partial:()=>xt,partition:()=>yn,pick:()=>xn,pluck:()=>on,property:()=>We,propertyOf:()=>et,random:()=>nt,range:()=>Dn,reduce:()=>Xt,reduceRight:()=>Yt,reject:()=>Zt,rest:()=>En,restArguments:()=>_,result:()=>mt,sample:()=>dn,select:()=>Qt,shuffle:()=>fn,size:()=>bn,some:()=>tn,sortBy:()=>pn,sortedIndex:()=>Vt,tail:()=>En,take:()=>_n,tap:()=>Fe,template:()=>ht,templateSettings:()=>lt,throttle:()=>Nt,times:()=>tt,toArray:()=>un,toPath:()=>ze,transpose:()=>In,unescape:()=>at,union:()=>Cn,uniq:()=>An,unique:()=>An,uniqueId:()=>vt,unzip:()=>In,values:()=>$e,where:()=>sn,without:()=>jn,wrap:()=>At,zip:()=>Rn});var r={};n.r(r),n.d(r,{VERSION:()=>i,after:()=>It,all:()=>en,allKeys:()=>ge,any:()=>tn,assign:()=>Ie,before:()=>Rt,bind:()=>kt,bindAll:()=>Et,chain:()=>yt,chunk:()=>Mn,clone:()=>Me,collect:()=>Jt,compact:()=>Tn,compose:()=>Ot,constant:()=>Q,contains:()=>nn,countBy:()=>vn,create:()=>De,debounce:()=>jt,default:()=>Vn,defaults:()=>Re,defer:()=>$t,delay:()=>Tt,detect:()=>Ht,difference:()=>Nn,drop:()=>En,each:()=>Wt,escape:()=>st,every:()=>en,extend:()=>Oe,extendOwn:()=>Ie,filter:()=>Qt,find:()=>Ht,findIndex:()=>Ft,findKey:()=>Dt,findLastIndex:()=>zt,findWhere:()=>Gt,first:()=>_n,flatten:()=>$n,foldl:()=>Xt,foldr:()=>Yt,forEach:()=>Wt,functions:()=>Ae,get:()=>Ue,groupBy:()=>mn,has:()=>qe,head:()=>_n,identity:()=>He,include:()=>nn,includes:()=>nn,indexBy:()=>gn,indexOf:()=>Ut,initial:()=>Sn,inject:()=>Xt,intersection:()=>On,invert:()=>je,invoke:()=>rn,isArguments:()=>K,isArray:()=>G,isArrayBuffer:()=>D,isBoolean:()=>$,isDataView:()=>H,isDate:()=>O,isElement:()=>N,isEmpty:()=>le,isEqual:()=>me,isError:()=>R,isFinite:()=>X,isFunction:()=>z,isMap:()=>_e,isMatch:()=>ce,isNaN:()=>Y,isNull:()=>P,isNumber:()=>C,isObject:()=>E,isRegExp:()=>I,isSet:()=>Pe,isString:()=>A,isSymbol:()=>L,isTypedArray:()=>ie,isUndefined:()=>T,isWeakMap:()=>Ee,isWeakSet:()=>Te,iteratee:()=>Xe,keys:()=>ae,last:()=>Pn,lastIndexOf:()=>qt,map:()=>Jt,mapObject:()=>Qe,matcher:()=>Ge,matches:()=>Ge,max:()=>an,memoize:()=>Pt,methods:()=>Ae,min:()=>ln,mixin:()=>zn,negate:()=>Ct,noop:()=>Ze,now:()=>rt,object:()=>Ln,omit:()=>kn,once:()=>Lt,pairs:()=>Ne,partial:()=>xt,partition:()=>yn,pick:()=>xn,pluck:()=>on,property:()=>We,propertyOf:()=>et,random:()=>nt,range:()=>Dn,reduce:()=>Xt,reduceRight:()=>Yt,reject:()=>Zt,rest:()=>En,restArguments:()=>_,result:()=>mt,sample:()=>dn,select:()=>Qt,shuffle:()=>fn,size:()=>bn,some:()=>tn,sortBy:()=>pn,sortedIndex:()=>Vt,tail:()=>En,take:()=>_n,tap:()=>Fe,template:()=>ht,templateSettings:()=>lt,throttle:()=>Nt,times:()=>tt,toArray:()=>un,toPath:()=>ze,transpose:()=>In,unescape:()=>at,union:()=>Cn,uniq:()=>An,unique:()=>An,uniqueId:()=>vt,unzip:()=>In,values:()=>$e,where:()=>sn,without:()=>jn,wrap:()=>At,zip:()=>Rn});var i="1.13.7",o="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,a=Object.prototype,l="undefined"!==typeof Symbol?Symbol.prototype:null,c=s.push,u=s.slice,d=a.toString,f=a.hasOwnProperty,p="undefined"!==typeof ArrayBuffer,h="undefined"!==typeof DataView,m=Array.isArray,g=Object.keys,v=Object.create,y=p&&ArrayBuffer.isView,b=isNaN,w=isFinite,x=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],S=Math.pow(2,53)-1;function _(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function E(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function P(e){return null===e}function T(e){return void 0===e}function $(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)}function N(e){return!(!e||1!==e.nodeType)}function j(e){var t="[object "+e+"]";return function(e){return d.call(e)===t}}const A=j("String"),C=j("Number"),O=j("Date"),I=j("RegExp"),R=j("Error"),L=j("Symbol"),D=j("ArrayBuffer");var M=j("Function"),F=o.document&&o.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof F&&(M=function(e){return"function"==typeof e||!1});const z=M,V=j("Object");var B=h&&(!/\[native code\]/.test(String(DataView))||V(new DataView(new ArrayBuffer(8)))),U="undefined"!==typeof Map&&V(new Map),q=j("DataView");const H=B?function(e){return null!=e&&z(e.getInt8)&&D(e.buffer)}:q,G=m||j("Array");function W(e,t){return null!=e&&f.call(e,t)}var J=j("Arguments");!function(){J(arguments)||(J=function(e){return W(e,"callee")})}();const K=J;function X(e){return!L(e)&&w(e)&&!isNaN(parseFloat(e))}function Y(e){return C(e)&&b(e)}function Q(e){return function(){return e}}function Z(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=S}}function ee(e){return function(t){return null==t?void 0:t[e]}}const te=ee("byteLength"),ne=Z(te);var re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ie=p?function(e){return y?y(e)&&!H(e):ne(e)&&re.test(d.call(e))}:Q(!1),oe=ee("length");function se(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=k.length,r=e.constructor,i=z(r)&&r.prototype||a,o="constructor";for(W(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=k[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function ae(e){if(!E(e))return[];if(g)return g(e);var t=[];for(var n in e)W(e,n)&&t.push(n);return x&&se(e,t),t}function le(e){if(null==e)return!0;var t=oe(e);return"number"==typeof t&&(G(e)||A(e)||K(e))?0===t:0===oe(ae(e))}function ce(e,t){var n=ae(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function ue(e){return e instanceof ue?e:this instanceof ue?void(this._wrapped=e):new ue(e)}function de(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}ue.VERSION=i,ue.prototype.value=function(){return this._wrapped},ue.prototype.valueOf=ue.prototype.toJSON=ue.prototype.value,ue.prototype.toString=function(){return String(this._wrapped)};var fe="[object DataView]";function pe(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&he(e,t,n,r)}function he(e,t,n,r){e instanceof ue&&(e=e._wrapped),t instanceof ue&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;if(B&&"[object Object]"==i&&H(e)){if(!H(t))return!1;i=fe}switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t);case"[object ArrayBuffer]":case fe:return he(de(e),de(t),n,r)}var o="[object Array]"===i;if(!o&&ie(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(z(s)&&s instanceof s&&z(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!pe(e[c],t[c],n,r))return!1}else{var u,f=ae(e);if(c=f.length,ae(t).length!==c)return!1;for(;c--;)if(!W(t,u=f[c])||!pe(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0}function me(e,t){return pe(e,t)}function ge(e){if(!E(e))return[];var t=[];for(var n in e)t.push(n);return x&&se(e,t),t}function ve(e){var t=oe(e);return function(n){if(null==n)return!1;var r=ge(n);if(oe(r))return!1;for(var i=0;i<t;i++)if(!z(n[e[i]]))return!1;return e!==ke||!z(n[ye])}}var ye="forEach",be=["clear","delete"],we=["get","has","set"],xe=be.concat(ye,we),ke=be.concat(we),Se=["add"].concat(be,ye,"has");const _e=U?ve(xe):j("Map"),Ee=U?ve(ke):j("WeakMap"),Pe=U?ve(Se):j("Set"),Te=j("WeakSet");function $e(e){for(var t=ae(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function Ne(e){for(var t=ae(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function je(e){for(var t={},n=ae(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Ae(e){var t=[];for(var n in e)z(e[n])&&t.push(n);return t.sort()}function Ce(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}}const Oe=Ce(ge),Ie=Ce(ae),Re=Ce(ge,!0);function Le(e){if(!E(e))return{};if(v)return v(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function De(e,t){var n=Le(e);return t&&Ie(n,t),n}function Me(e){return E(e)?G(e)?e.slice():Oe({},e):e}function Fe(e,t){return t(e),e}function ze(e){return G(e)?e:[e]}function Ve(e){return ue.toPath(e)}function Be(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Ue(e,t,n){var r=Be(e,Ve(t));return T(r)?n:r}function qe(e,t){for(var n=(t=Ve(t)).length,r=0;r<n;r++){var i=t[r];if(!W(e,i))return!1;e=e[i]}return!!n}function He(e){return e}function Ge(e){return e=Ie({},e),function(t){return ce(t,e)}}function We(e){return e=Ve(e),function(t){return Be(t,e)}}function Je(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Ke(e,t,n){return null==e?He:z(e)?Je(e,t,n):E(e)&&!G(e)?Ge(e):We(e)}function Xe(e,t){return Ke(e,t,1/0)}function Ye(e,t,n){return ue.iteratee!==Xe?ue.iteratee(e,t):Ke(e,t,n)}function Qe(e,t,n){t=Ye(t,n);for(var r=ae(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o}function Ze(){}function et(e){return null==e?Ze:function(t){return Ue(e,t)}}function tt(e,t,n){var r=Array(Math.max(0,e));t=Je(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ue.toPath=ze,ue.iteratee=Xe;const rt=Date.now||function(){return(new Date).getTime()};function it(e){var t=function(t){return e[t]},n="(?:"+ae(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}const ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},st=it(ot),at=it(je(ot)),lt=ue.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ct=/(.)^/,ut={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g;function ft(e){return"\\"+ut[e]}var pt=/^\s*(\w|\$)+\s*$/;function ht(e,t,n){!t&&n&&(t=n),t=Re({},t,ue.templateSettings);var r=RegExp([(t.escape||ct).source,(t.interpolate||ct).source,(t.evaluate||ct).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,s,a){return o+=e.slice(i,a).replace(dt,ft),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t})),o+="';\n";var s,a=t.variable;if(a){if(!pt.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(a,"_",o)}catch(c){throw c.source=o,c}var l=function(e){return s.call(this,e,ue)};return l.source="function("+a+"){\n"+o+"}",l}function mt(e,t,n){var r=(t=Ve(t)).length;if(!r)return z(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=z(o)?o.call(e):o}return e}var gt=0;function vt(e){var t=++gt+"";return e?e+t:t}function yt(e){var t=ue(e);return t._chain=!0,t}function bt(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Le(e.prototype),s=e.apply(o,i);return E(s)?s:o}var wt=_((function(e,t){var n=wt.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return bt(e,r,this,this,s)};return r}));wt.placeholder=ue;const xt=wt,kt=_((function(e,t,n){if(!z(e))throw new TypeError("Bind must be called on a function");var r=_((function(i){return bt(e,r,t,this,n.concat(i))}));return r})),St=Z(oe);function _t(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,s=oe(e);o<s;o++){var a=e[o];if(St(a)&&(G(a)||K(a)))if(t>1)_t(a,t-1,n,r),i=r.length;else for(var l=0,c=a.length;l<c;)r[i++]=a[l++];else n||(r[i++]=a)}return r}const Et=_((function(e,t){var n=(t=_t(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=kt(e[r],e)}return e}));function Pt(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return W(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}const Tt=_((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),$t=xt(Tt,ue,1);function Nt(e,t,n){var r,i,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:rt(),r=null,s=e.apply(i,o),r||(i=o=null)},c=function(){var c=rt();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),a=c,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(r),a=0,r=i=o=null},c}function jt(e,t,n){var r,i,o,s,a,l=function(){var c=rt()-i;t>c?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,o)),r||(o=a=null))},c=_((function(c){return a=this,o=c,i=rt(),r||(r=setTimeout(l,t),n&&(s=e.apply(a,o))),s}));return c.cancel=function(){clearTimeout(r),r=o=a=null},c}function At(e,t){return xt(t,e)}function Ct(e){return function(){return!e.apply(this,arguments)}}function Ot(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function It(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Rt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Lt=xt(Rt,2);function Dt(e,t,n){t=Ye(t,n);for(var r,i=ae(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r}function Mt(e){return function(t,n,r){n=Ye(n,r);for(var i=oe(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}const Ft=Mt(1),zt=Mt(-1);function Vt(e,t,n,r){for(var i=(n=Ye(n,r,1))(t),o=0,s=oe(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}function Bt(e,t,n){return function(r,i,o){var s=0,a=oe(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!==i)return(o=t(u.call(r,s,a),Y))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}const Ut=Bt(1,Ft,Vt),qt=Bt(-1,zt);function Ht(e,t,n){var r=(St(e)?Ft:Dt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function Gt(e,t){return Ht(e,Ge(t))}function Wt(e,t,n){var r,i;if(t=Je(t,n),St(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=ae(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function Jt(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ae(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}function Kt(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!St(t)&&ae(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;r=n(r,t[l],l,t)}return r}(t,Je(n,i,4),r,o)}}const Xt=Kt(1),Yt=Kt(-1);function Qt(e,t,n){var r=[];return t=Ye(t,n),Wt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Zt(e,t,n){return Qt(e,Ct(Ye(t)),n)}function en(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ae(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}function tn(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ae(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}function nn(e,t,n,r){return St(e)||(e=$e(e)),("number"!=typeof n||r)&&(n=0),Ut(e,t,n)>=0}const rn=_((function(e,t,n){var r,i;return z(t)?i=t:(t=Ve(t),r=t.slice(0,-1),t=t[t.length-1]),Jt(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=Be(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function on(e,t){return Jt(e,We(t))}function sn(e,t){return Qt(e,Ge(t))}function an(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=St(e)?e:$e(e)).length;a<l;a++)null!=(r=e[a])&&r>o&&(o=r);else t=Ye(t,n),Wt(e,(function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)}));return o}function ln(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=St(e)?e:$e(e)).length;a<l;a++)null!=(r=e[a])&&r<o&&(o=r);else t=Ye(t,n),Wt(e,(function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)}));return o}var cn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function un(e){return e?G(e)?u.call(e):A(e)?e.match(cn):St(e)?Jt(e,He):$e(e):[]}function dn(e,t,n){if(null==t||n)return St(e)||(e=$e(e)),e[nt(e.length-1)];var r=un(e),i=oe(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=nt(s,o),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)}function fn(e){return dn(e,1/0)}function pn(e,t,n){var r=0;return t=Ye(t,n),on(Jt(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function hn(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Ye(r,i),Wt(n,(function(t,i){var s=r(t,i,n);e(o,t,s)})),o}}const mn=hn((function(e,t,n){W(e,n)?e[n].push(t):e[n]=[t]})),gn=hn((function(e,t,n){e[n]=t})),vn=hn((function(e,t,n){W(e,n)?e[n]++:e[n]=1})),yn=hn((function(e,t,n){e[n?0:1].push(t)}),!0);function bn(e){return null==e?0:St(e)?e.length:ae(e).length}function wn(e,t,n){return t in n}const xn=_((function(e,t){var n={},r=t[0];if(null==e)return n;z(r)?(t.length>1&&(r=Je(r,t[1])),t=ge(e)):(r=wn,t=_t(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n})),kn=_((function(e,t){var n,r=t[0];return z(r)?(r=Ct(r),t.length>1&&(n=t[1])):(t=Jt(_t(t,!1,!1),String),r=function(e,n){return!nn(t,n)}),xn(e,r,n)}));function Sn(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function _n(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Sn(e,e.length-t)}function En(e,t,n){return u.call(e,null==t||n?1:t)}function Pn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:En(e,Math.max(0,e.length-t))}function Tn(e){return Qt(e,Boolean)}function $n(e,t){return _t(e,t,!1)}const Nn=_((function(e,t){return t=_t(t,!0,!0),Qt(e,(function(e){return!nn(t,e)}))})),jn=_((function(e,t){return Nn(e,t)}));function An(e,t,n,r){$(t)||(r=n,n=t,t=!1),null!=n&&(n=Ye(n,r));for(var i=[],o=[],s=0,a=oe(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t&&!n?(s&&o===c||i.push(l),o=c):n?nn(o,c)||(o.push(c),i.push(l)):nn(i,l)||i.push(l)}return i}const Cn=_((function(e){return An(_t(e,!0,!0))}));function On(e){for(var t=[],n=arguments.length,r=0,i=oe(e);r<i;r++){var o=e[r];if(!nn(t,o)){var s;for(s=1;s<n&&nn(arguments[s],o);s++);s===n&&t.push(o)}}return t}function In(e){for(var t=e&&an(e,oe).length||0,n=Array(t),r=0;r<t;r++)n[r]=on(e,r);return n}const Rn=_(In);function Ln(e,t){for(var n={},r=0,i=oe(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Dn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function Mn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(u.call(e,r,r+=t));return n}function Fn(e,t){return e._chain?ue(t).chain():t}function zn(e){return Wt(Ae(e),(function(t){var n=ue[t]=e[t];ue.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),Fn(this,n.apply(ue,e))}})),ue}Wt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=s[e];ue.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Fn(this,n)}})),Wt(["concat","join","slice"],(function(e){var t=s[e];ue.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Fn(this,e)}}));const Vn=ue;var Bn=zn(r);Bn._=Bn;const Un=Bn},2539:(e,t,n)=>{"use strict";e.exports=n(2207).NQuads},2564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5219),i=n(1884),o=n(208),s=n(6576),a=n(523),l=n(6259),c=n(795),u=n(3822),d=n(4535),f=n(35),p=n(9025),h=n(2115),m=n(7353),g=n(9626),v=n(4149),y=n(1948);t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[p.default,h.default,m.default,g.default,v.default,y.default,c.default,u.default,l.default,d.default,f.default];return e?t.push(i.default,s.default):t.push(r.default,o.default),t.push(a.default),t}},2609:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(e,t){let{schema:r,self:i}=e;const o=i.RULES.types[t];return o&&!0!==o&&n(r,o)},t.shouldUseGroup=n,t.shouldUseRule=r},2654:(e,t,n)=>{"use strict";var r=n(9950),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},2756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5843),i=n(1459),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return i.str`should match pattern "${t}"`},params:e=>{let{schemaCode:t}=e;return i._`{pattern: ${t}}`}},code(e){const{gen:t,data:n,$data:o,schema:s,schemaCode:a}=e,l=o?i._`(new RegExp(${a}, "u"))`:r.usePattern(t,s);e.fail$data(i._`!${l}.test(${n})`)}};t.default=o},2798:e=>{"use strict";e.exports=JSON.parse('[{"scheme":"fax","description":"fax","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2806"},{"type":"rfc","href":"http://www.iana.org/go/rfc3966"}]},{"scheme":"filesystem","description":"filesystem","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{"scheme":"mailserver","description":"Access to data available from mail servers","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6196"}]},{"scheme":"modem","description":"modem","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2806"},{"type":"rfc","href":"http://www.iana.org/go/rfc3966"}]},{"scheme":"pack","description":"pack","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],"template":"http://www.iana.org/assignments/uri-schemes/historic/pack"},{"scheme":"prospero","description":"Prospero Directory Service","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4157"}]},{"scheme":"snews","description":"NNTP over SSL/TLS","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5538"}]},{"scheme":"videotex","description":"videotex","reference":[{"type":"draft","href":"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{"type":"rfc","href":"http://www.iana.org/go/rfc2122"},{"type":"rfc","href":"http://www.iana.org/go/rfc3986"}],"template":"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{"scheme":"wais","description":"Wide Area Information Servers","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4156"}]},{"scheme":"z39.50","description":"Z39.50 information access","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc1738"},{"type":"rfc","href":"http://www.iana.org/go/rfc2056"}]}]')},2832:e=>{"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function n(e,r,i,o,s,a,l,c,u,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var f in r(o,s,a,l,c,u,d),o){var p=o[f];if(Array.isArray(p)){if(f in t.arrayKeywords)for(var h=0;h<p.length;h++)n(e,r,i,p[h],s+"/"+f+"/"+h,a,s,f,o,h)}else if(f in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,r,i,p[m],s+"/"+f+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,f,o,m)}else(f in t.keywords||e.allKeys&&!(f in t.skipKeywords))&&n(e,r,i,p,s+"/"+f,a,s,f,o)}i(o,s,a,l,c,u,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},2840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const r=n(473),i=n(4710),o=n(9489),s=n(4710),a=n(1164),l=n(5739),c=n(6329),u=n(4355),d=n(9381),f=n(8161),p=n(13),h=n(5570);function m(e,t){let{gen:n,validateName:r,schema:i,schemaEnv:o,opts:s}=e;s.code.es5?n.func(r,u._`${d.default.data}, ${d.default.valCxt}`,o.$async,(()=>{n.code(u._`"use strict"; ${g(i,s)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,u._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,u._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,u._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,u._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,u._`""`),e.var(d.default.parentData,u._`undefined`),e.var(d.default.parentDataProperty,u._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,u._`{}`)}))}(n,s),n.code(t)})):n.func(r,u._`${d.default.data}, ${function(e){return u._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?u._`, ${d.default.dynamicAnchors}={}`:u.nil}}={}`}(s)}`,o.$async,(()=>n.code(g(i,s)).code(t)))}function g(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function v(e,t){b(e)&&(w(e),y(e))?function(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&k(e);(function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,f.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=r.const("_errs",d.default.errors);x(e,o),r.var(t,u._`${o} === ${d.default.errors}`)}(e,t):(0,r.boolOrEmptySchema)(e,t)}function y(e){let{schema:t,self:n}=e;if("boolean"==typeof t)return!t;for(const r in t)if(n.RULES.all[r])return!0;return!1}function b(e){return"boolean"!=typeof e.schema}function w(e){(0,p.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function x(e,t){if(e.opts.jtd)return S(e,[],!1,t);const n=(0,i.getSchemaTypes)(e.schema);S(e,n,!(0,i.coerceAndCheckDataType)(e,n),t)}function k(e){let{gen:t,schemaEnv:n,schema:r,errSchemaPath:i,opts:o}=e;const s=r.$comment;if(!0===o.$comment)t.code(u._`${d.default.self}.logger.log(${s})`);else if("function"==typeof o.$comment){const e=u.str`${i}/$comment`,r=t.scopeValue("root",{ref:n.root});t.code(u._`${d.default.self}.opts.$comment(${s}, ${e}, ${r}.schema)`)}}function S(e,t,n,r){const{gen:i,schema:a,data:l,allErrors:c,opts:f,self:h}=e,{RULES:m}=h;function g(p){(0,o.shouldUseGroup)(a,p)&&(p.type?(i.if((0,s.checkDataType)(p.type,l,f.strictNumbers)),_(e,p),1===t.length&&t[0]===p.type&&n&&(i.else(),(0,s.reportTypeError)(e)),i.endIf()):_(e,p),c||i.if(u._`${d.default.errors} === ${r||0}`))}!a.$ref||!f.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(a,m)?(f.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((t=>{P(e.dataTypes,t)||T(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const r of e.dataTypes)P(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&T(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if("object"==typeof i&&(0,o.shouldUseRule)(e.schema,i)){const{type:n}=i.definition;n.length&&!n.some((e=>E(t,e)))&&T(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes)}(e,t),i.block((()=>{for(const e of m.rules)g(e);g(m.post)}))):i.block((()=>N(e,"$ref",m.all.$ref.definition)))}function _(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,a.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,o.shouldUseRule)(r,n)&&N(e,n.keyword,n.definition,t.type)}))}function E(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function P(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function T(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){b(e)&&(w(e),y(e))?function(e){const{schema:t,opts:n,gen:r}=e;m(e,(()=>{n.$comment&&t.$comment&&k(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(d.default.vErrors,null),r.let(d.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}(e),x(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if(u._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(u._`new ${i}(${d.default.vErrors})`))):(t.assign(u._`${r}.errors`,d.default.vErrors),o.unevaluated&&function(e){let{gen:t,evaluated:n,props:r,items:i}=e;r instanceof u.Name&&t.assign(u._`${n}.props`,r);i instanceof u.Name&&t.assign(u._`${n}.items`,i)}(e),t.return(u._`${d.default.errors} === 0`))}(e)}))}(e):m(e,(()=>(0,r.topBoolOrEmptySchema)(e)))};class ${constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",C(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?h.reportExtraError:h.reportError)(this,this.def.error,t)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.nil;this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.nil,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.nil;if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:i,def:o}=this;n.if((0,u.or)(u._`${r} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:i}=this;return(0,u.or)(function(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,s.checkDataTypes)(e,t,i.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return u._`!${n}(${t})`}return u.nil}())}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return v(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=p.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=p.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function N(e,t,n,r){const i=new $(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,l.funcKeywordCode)(i,n):"macro"in n?(0,l.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(i,n)}t.KeywordCxt=$;const j=/^\/(?:[^~]|~0|~1)*$/,A=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function C(e,t){let n,r,{dataLevel:i,dataNames:o,dataPathArr:s}=t;if(""===e)return d.default.rootData;if("/"===e[0]){if(!j.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,r=d.default.rootData}else{const t=A.exec(e);if(!t)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+t[1];if(n=t[2],"#"===n){if(a>=i)throw new Error(c("property/index",a));return s[i-a]}if(a>i)throw new Error(c("data",a));if(r=o[i-a],!n)return r}let a=r;const l=n.split("/");for(const d of l)d&&(r=u._`${r}${(0,u.getProperty)((0,p.unescapeJsonPointer)(d))}`,a=u._`${a} && ${r}`);return a;function c(e,t){return`Cannot access ${e} ${t} levels up, current level is ${i}`}}t.getData=C},2932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=n(9180),i=n(5946),o=n(6807),s=n(2455),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=n(2840);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=n(4355);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var f=n(9328);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var p=n(8617);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},3026:(e,t,n)=>{"use strict";const r=n(8027);e.exports=class{constructor(e){let{document:t}=e;this.document=t,this.cache=new r({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},3209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return r.str`must be multiple of ${t}`},params:e=>{let{schemaCode:t}=e;return r._`{multipleOf: ${t}}`}},code(e){const{gen:t,data:n,schemaCode:i,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),l=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${i} === 0 || (${a} = ${n}/${i}, ${l}))`)}};t.default=i},3281:e=>{"use strict";e.exports=class extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e),this.name=t,this.message=e,this.details=n}}},3298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6945),i=n(6731),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default];t.default=o},3302:function(e,t){var n;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,d={},f=d.toString,p=d.hasOwnProperty,h=p.toString,m=h.call(Object),g={},v=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},y=function(e){return null!=e&&e===e.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var r,i,o=(n=n||b).createElement("script");if(o.text=e,t)for(r in w)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function k(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?d[f.call(e)]||"object":typeof e}var S="3.7.1",_=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function P(e){var t=!!e&&"length"in e&&e.length,n=k(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:S,constructor:E,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"===typeof s&&(c=s,s=arguments[a]||{},a++),"object"===typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,s[t]=E.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},E.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=s(e))||"function"===typeof(n=p.call(t,"constructor")&&t.constructor)&&h.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(P(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r++];)n+=E.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(P(Object(e))?E.merge(n,"string"===typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!_.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(P(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"===typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var $=o.pop,N=o.sort,j=o.splice,A="[\\x20\\t\\r\\n\\f]",C=new RegExp("^"+A+"+|((?:^|[^\\\\])(?:\\\\.)*)"+A+"+$","g");E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var O=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function I(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(O,I)};var R=b,L=c;!function(){var e,t,n,i,s,l,c,d,f,h,m=L,v=E.expando,y=0,b=0,w=ee(),x=ee(),k=ee(),S=ee(),_=function(e,t){return e===t&&(s=!0),0},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="(?:\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",I="\\["+A+"*("+O+")(?:"+A+"*([*^$|!~]?=)"+A+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+A+"*\\]",D=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",M=new RegExp(A+"+","g"),F=new RegExp("^"+A+"*,"+A+"*"),z=new RegExp("^"+A+"*([>+~]|"+A+")"+A+"*"),V=new RegExp(A+"|>"),B=new RegExp(D),U=new RegExp("^"+O+"$"),q={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+D),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+A+"*(even|odd|(([+-]|)(\\d*)n|)"+A+"*(?:([+-]|)"+A+"*(\\d+)|))"+A+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+A+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+A+"*((?:-\\d)?\\d*)"+A+"*\\)|)(?=[^-]|$)","i")},H=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,W=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,K=new RegExp("\\\\[\\da-fA-F]{1,6}"+A+"?|\\\\([^\\r\\n\\f])","g"),X=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Y=function(){le()},Q=fe((function(e){return!0===e.disabled&&T(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(o=a.call(R.childNodes),R.childNodes),o[R.childNodes.length].nodeType}catch(be){m={apply:function(e,t){L.apply(e,a.call(t))},call:function(e){L.apply(e,a.call(arguments,1))}}}function Z(e,t,n,r){var i,o,s,a,c,u,p,h=t&&t.ownerDocument,y=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!r&&(le(t),t=t||l,d)){if(11!==y&&(c=W.exec(e)))if(i=c[1]){if(9===y){if(!(s=t.getElementById(i)))return n;if(s.id===i)return m.call(n,s),n}else if(h&&(s=h.getElementById(i))&&Z.contains(t,s)&&s.id===i)return m.call(n,s),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!S[e+" "]&&(!f||!f.test(e))){if(p=e,h=t,1===y&&(V.test(e)||z.test(e))){for((h=J.test(e)&&ae(t.parentNode)||t)==t&&g.scope||((a=t.getAttribute("id"))?a=E.escapeSelector(a):t.setAttribute("id",a=v)),o=(u=ue(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+de(u[o]);p=u.join(",")}try{return m.apply(n,h.querySelectorAll(p)),n}catch(b){S(e,!0)}finally{a===v&&t.removeAttribute("id")}}}return ye(e.replace(C,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[v]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(be){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return T(t,"input")&&t.type===e}}function ie(e){return function(t){return(T(t,"input")||T(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function ae(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:R;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,d=!E.isXMLDoc(l),h=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&R!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Y),g.getById=ne((function(e){return c.appendChild(e).id=E.expando,!l.getElementsByName||!l.getElementsByName(E.expando).length})),g.disconnectedMatch=ne((function(e){return h.call(e,"*")})),g.scope=ne((function(){return l.querySelectorAll(":scope")})),g.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(be){return!0}})),g.getById?(t.filter.ID=function(e){var t=e.replace(K,X);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&d){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(K,X);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&d){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if("undefined"!==typeof t.getElementsByClassName&&d)return t.getElementsByClassName(e)},f=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||f.push("\\["+A+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+v+"-]").length||f.push("~="),e.querySelectorAll("a#"+v+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll(":checked").length||f.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+A+"*name"+A+"*="+A+"*(?:''|\"\")")})),g.cssHas||f.push(":has"),f=f.length&&new RegExp(f.join("|")),_=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==R&&Z.contains(R,e)?-1:t===l||t.ownerDocument==R&&Z.contains(R,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in Z.matches=function(e,t){return Z(e,null,null,t)},Z.matchesSelector=function(e,t){if(le(e),d&&!S[t+" "]&&(!f||!f.test(t)))try{var n=h.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(be){S(t,!0)}return Z(t,l,null,[e]).length>0},Z.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),E.contains(e,t)},Z.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],i=r&&p.call(t.attrHandle,n.toLowerCase())?r(e,n,!d):void 0;return void 0!==i?i:e.getAttribute(n)},Z.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,n=[],r=0,o=0;if(s=!g.sortStable,i=!g.sortStable&&a.call(e,0),N.call(e,_),s){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)j.call(e,n[r],1)}return i=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(a.apply(this)))},t=E.expr={cacheLength:50,createPseudo:te,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,X),e[3]=(e[3]||e[4]||e[5]||"").replace(K,X),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Z.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Z.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&B.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,X).toLowerCase();return"*"===e?function(){return!0}:function(e){return T(e,t)}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+A+")"+e+"("+A+"|$)"))&&w(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=Z.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(M," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h=o!==s?"nextSibling":"previousSibling",m=t.parentNode,g=a&&t.nodeName.toLowerCase(),b=!l&&!a,w=!1;if(m){if(o){for(;h;){for(d=t;d=d[h];)if(a?T(d,g):1===d.nodeType)return!1;p=h="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(w=(f=(c=(u=m[v]||(m[v]={}))[e]||[])[0]===y&&c[1])&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[h]||(w=f=0)||p.pop();)if(1===d.nodeType&&++w&&d===t){u[e]=[y,f,w];break}}else if(b&&(w=f=(c=(u=t[v]||(t[v]={}))[e]||[])[0]===y&&c[1]),!1===w)for(;(d=++f&&d&&d[h]||(w=f=0)||p.pop())&&(!(a?T(d,g):1===d.nodeType)||!++w||(b&&((u=d[v]||(d[v]={}))[e]=[y,w]),d!==t)););return(w-=i)===r||w%r===0&&w/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Z.error("unsupported pseudo: "+e);return i[v]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),s=o.length;s--;)e[r=u.call(e,o[s])]=!(t[r]=o[s])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ve(e.replace(C,"$1"));return r[v]?te((function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return Z(e,t).length>0}})),contains:te((function(e){return e=e.replace(K,X),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}})),lang:te((function(e){return U.test(e||"")||Z.error("unsupported lang: "+e),e=e.replace(K,X).toLowerCase(),function(t){var n;do{if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return T(e,"input")&&!!e.checked||T(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return H.test(e.nodeName)},button:function(e){return T(e,"input")&&"button"===e.type||T(e,"button")},text:function(e){var t;return T(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,n){return[n<0?n+t:n]})),even:se((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:se((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:se((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:se((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var r,i,o,s,a,l,c,u=x[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in r&&!(i=F.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=z.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(C," ")}),a=a.slice(r.length)),t.filter)!(i=q[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?Z.error(e):x(e,l).slice(0)}function de(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function fe(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=b++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,d=[y,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=t[v]||(t[v]={}),i&&T(t,i))t=t[r]||t;else{if((c=u[o])&&c[0]===y&&c[1]===a)return d[2]=c[2];if(u[o]=d,d[2]=e(t,n,l))return!0}return!1}}function pe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function he(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function me(e,t,n,r,i,o){return r&&!r[v]&&(r=me(r)),i&&!i[v]&&(i=me(i,o)),te((function(o,s,a,l){var c,d,f,p,h=[],g=[],v=s.length,y=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)Z(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),b=!e||!o&&t?y:he(y,h,e,a,l);if(n?n(b,p=i||(o?e:v||r)?[]:s,a,l):p=b,r)for(c=he(p,g),r(c,[],a,l),d=c.length;d--;)(f=c[d])&&(p[g[d]]=!(b[g[d]]=f));if(o){if(i||e){if(i){for(c=[],d=p.length;d--;)(f=p[d])&&c.push(b[d]=f);i(null,p=[],c,l)}for(d=p.length;d--;)(f=p[d])&&(c=i?u.call(o,f):h[d])>-1&&(o[c]=!(s[c]=f))}}else p=he(p===s?p.splice(v,p.length):p),i?i(null,s,p,l):m.apply(s,p)}))}function ge(e){for(var r,i,o,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,d=fe((function(e){return e===r}),l,!0),f=fe((function(e){return u.call(r,e)>-1}),l,!0),p=[function(e,t,i){var o=!a&&(i||t!=n)||((r=t).nodeType?d(e,t,i):f(e,t,i));return r=null,o}];c<s;c++)if(i=t.relative[e[c].type])p=[fe(pe(p),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(o=++c;o<s&&!t.relative[e[o].type];o++);return me(c>1&&pe(p),c>1&&de(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(C,"$1"),i,c<o&&ge(e.slice(c,o)),o<s&&ge(e=e.slice(o)),o<s&&de(e))}p.push(i)}return pe(p)}function ve(e,r){var i,o=[],s=[],a=k[e+" "];if(!a){for(r||(r=ue(e)),i=r.length;i--;)(a=ge(r[i]))[v]?o.push(a):s.push(a);a=k(e,function(e,r){var i=r.length>0,o=e.length>0,s=function(s,a,c,u,f){var p,h,g,v=0,b="0",w=s&&[],x=[],k=n,S=s||o&&t.find.TAG("*",f),_=y+=null==k?1:Math.random()||.1,P=S.length;for(f&&(n=a==l||a||f);b!==P&&null!=(p=S[b]);b++){if(o&&p){for(h=0,a||p.ownerDocument==l||(le(p),c=!d);g=e[h++];)if(g(p,a||l,c)){m.call(u,p);break}f&&(y=_)}i&&((p=!g&&p)&&v--,s&&w.push(p))}if(v+=b,i&&b!==v){for(h=0;g=r[h++];)g(w,x,a,c);if(s){if(v>0)for(;b--;)w[b]||x[b]||(x[b]=$.call(u));x=he(x)}m.apply(u,x),f&&!s&&x.length>0&&v+r.length>1&&E.uniqueSort(u)}return f&&(y=_,n=k),w};return i?te(s):s}(s,o)),a.selector=e}return a}function ye(e,n,r,i){var o,s,a,l,c,u="function"===typeof e&&e,f=!i&&ue(e=u.selector||e);if(r=r||[],1===f.length){if((s=f[0]=f[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===n.nodeType&&d&&t.relative[s[1].type]){if(!(n=(t.find.ID(a.matches[0].replace(K,X),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(o=q.needsContext.test(e)?0:s.length;o--&&(a=s[o],!t.relative[l=a.type]);)if((c=t.find[l])&&(i=c(a.matches[0].replace(K,X),J.test(s[0].type)&&ae(n.parentNode)||n))){if(s.splice(o,1),!(e=i.length&&de(s)))return m.apply(r,i),r;break}}return(u||ve(e,f))(i,n,!d,r,!n||J.test(e)&&ae(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=v.split("").sort(_).join("")===v,le(),g.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),E.find=Z,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,Z.compile=ve,Z.select=ye,Z.setDocument=le,Z.tokenize=ue,Z.escape=E.escapeSelector,Z.getText=E.text,Z.isXML=E.isXMLDoc,Z.selectors=E.expr,Z.support=E.support,Z.uniqueSort=E.uniqueSort}();var D=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},F=E.expr.match.needsContext,z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(e,t,n){return v(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?E.grep(e,(function(e){return u.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(V(this,e||[],!1))},not:function(e){return this.pushStack(V(this,e||[],!0))},is:function(e){return!!V(this,"string"===typeof e&&F.test(e)?E(e):e||[],!1).length}});var B,U=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||B,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:U.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),z.test(r[1])&&E.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=b.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,B=E(b);var q=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!==typeof e&&E(e);if(!F.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?u.call(E(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return D(e,"parentNode")},parentsUntil:function(e,t,n){return D(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return D(e,"nextSibling")},prevAll:function(e){return D(e,"previousSibling")},nextUntil:function(e,t,n){return D(e,"nextSibling",n)},prevUntil:function(e,t,n){return D(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=E.filter(r,i)),this.length>1&&(H[e]||E.uniqueSort(i),q.test(e)&&i.reverse()),this.pushStack(i)}}));var W=/[^\x20\t\r\n\f]+/g;function J(e){return e}function K(e){throw e}function X(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return E.each(e.match(W)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){E.each(n,(function(n,r){v(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==k(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var i=v(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"===typeof r||"function"===typeof r)&&r.then,v(c)?i?c.call(r,s(o,t,J,i),s(o,t,K,i)):(o++,c.call(r,s(o,t,J,i),s(o,t,K,i),s(o,t,J,t.notifyWith))):(n!==J&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,u.error),e+1>=o&&(n!==K&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(E.Deferred.getErrorHook?u.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(u.error=E.Deferred.getStackHook()),r.setTimeout(u))}}return E.Deferred((function(r){t[0][3].add(s(0,r,v(i)?i:J,r.notifyWith)),t[1][3].add(s(0,r,v(e)?e:J)),t[2][3].add(s(0,r,v(n)?n:K))})).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},o={};return E.each(t,(function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=E.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(X(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)X(i[n],s(n),o.reject);return o.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Y.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout((function(){throw e}))};var Q=E.Deferred();function Z(){b.removeEventListener("DOMContentLoaded",Z),r.removeEventListener("load",Z),E.ready()}E.fn.ready=function(e){return Q.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||Q.resolveWith(b,[E]))}}),E.ready.then=Q.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(E.ready):(b.addEventListener("DOMContentLoaded",Z),r.addEventListener("load",Z));var ee=function(e,t,n,r,i,o,s){var a=0,l=e.length,c=null==n;if("object"===k(n))for(a in i=!0,n)ee(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,v(r)||(s=!0),c&&(s?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(E(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:c?t.call(e):l?t(e[0],n):o},te=/^-ms-/,ne=/-([a-z])/g;function re(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(ne,re)}var oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=E.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[ie(t)]=n;else for(r in t)i[ie(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in r?[t]:t.match(W)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var ae=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function de(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ue,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(i){}le.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=le.get(o),1===o.nodeType&&!ae.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=ie(r.slice(5)),de(o,r,i[r]));ae.set(o,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=le.get(o,e))||void 0!==(n=de(o,e))?n:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ae.get(e,t),n&&(!r||Array.isArray(n)?r=ae.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){E.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:E.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=new RegExp("^(?:([+-])=|)("+fe+")([a-z%]*)$","i"),he=["Top","Right","Bottom","Left"],me=b.documentElement,ge=function(e){return E.contains(e.ownerDocument,e)},ve={composed:!0};me.getRootNode&&(ge=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var ye=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===E.css(e,"display")};function be(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return E.css(e,t,"")},l=a(),c=n&&n[3]||(E.cssNumber[t]?"":"px"),u=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+l)&&pe.exec(E.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)E.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,E.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var we={};function xe(e){var t,n=e.ownerDocument,r=e.nodeName,i=we[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),we[r]=i,i)}function ke(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=ae.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ye(r)&&(i[o]=xe(r))):"none"!==n&&(i[o]="none",ae.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}E.fn.extend({show:function(){return ke(this,!0)},hide:function(){return ke(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){ye(this)?E(this).show():E(this).hide()}))}});var Se=/^(?:checkbox|radio)$/i,_e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=b.createDocumentFragment().appendChild(b.createElement("div")),t=b.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),g.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",g.option=!!e.lastChild}();var Pe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Te(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?E.merge([e],n):n}function $e(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td,g.option||(Pe.optgroup=Pe.option=[1,"<select multiple='multiple'>","</select>"]);var Ne=/<|&#?\w+;/;function je(e,t,n,r,i){for(var o,s,a,l,c,u,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===k(o))E.merge(f,o.nodeType?[o]:o);else if(Ne.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(_e.exec(o)||["",""])[1].toLowerCase(),l=Pe[a]||Pe._default,s.innerHTML=l[1]+E.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;E.merge(f,s.childNodes),(s=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(c=ge(o),s=Te(d.appendChild(o),"script"),c&&$e(s),n)for(u=0;o=s[u++];)Ee.test(o.type||"")&&n.push(o);return d}var Ae=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Oe(){return!1}function Ie(e,t,n,r,i,o){var s,a;if("object"===typeof t){for(a in"string"!==typeof n&&(r=r||n,n=void 0),t)Ie(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"===typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Oe;else if(!i)return e;return 1===o&&(s=i,i=function(e){return E().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=E.guid++)),e.each((function(){E.event.add(this,t,i,r,n)}))}function Re(e,t,n){n?(ae.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,E.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ce)}})):void 0===ae.get(e,t)&&E.event.add(e,t,Ce)}E.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,d,f,p,h,m,g=ae.get(e);if(oe(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(me,i),n.guid||(n.guid=E.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return"undefined"!==typeof E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(W)||[""]).length;c--;)p=m=(a=Ae.exec(t[c])||[])[1],h=(a[2]||"").split(".").sort(),p&&(d=E.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=E.event.special[p]||{},u=E.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),E.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,d,f,p,h,m,g=ae.hasData(e)&&ae.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(W)||[""]).length;c--;)if(p=m=(a=Ae.exec(t[c])||[])[1],h=(a[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},f=l[p=(r?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)u=f[o],!i&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));s&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||E.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)E.event.remove(e,p+t[c],n,r,!0);E.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=E.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=E.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=E.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?E(i,this).index(c)>-1:E.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Se.test(t.type)&&t.click&&T(t,"input")&&Re(t,"click",!0),!1},trigger:function(e){var t=this||e;return Se.test(t.type)&&t.click&&T(t,"input")&&Re(t,"click"),!0},_default:function(e){var t=e.target;return Se.test(t.type)&&t.click&&T(t,"input")&&ae.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Oe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Oe,isPropagationStopped:Oe,isImmediatePropagationStopped:Oe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(b.documentMode){var n=ae.get(this,"handle"),r=E.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var r;if(Re(this,e,!0),!b.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return Re(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t);o||(b.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=b.documentMode?this:r,o=ae.get(i,t)-1;o?ae.set(i,t,o):(b.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(i,t))}}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return Ie(this,e,t,n,r)},one:function(e,t,n,r){return Ie(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=Oe),this.each((function(){E.event.remove(this,e,n,t)}))}});var Le=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Fe(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ve(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)E.event.add(t,i,a[i][n]);le.hasData(e)&&(o=le.access(e),s=E.extend({},o),le.set(t,s))}}function Ue(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Se.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,r){t=l(t);var i,o,s,a,c,u,d=0,f=e.length,p=f-1,h=t[0],m=v(h);if(m||f>1&&"string"===typeof h&&!g.checkClone&&De.test(h))return e.each((function(i){var o=e.eq(i);m&&(t[0]=h.call(this,i,o.html())),qe(o,t,n,r)}));if(f&&(o=(i=je(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=E.map(Te(i,"script"),ze)).length;d<f;d++)c=i,d!==p&&(c=E.clone(c,!0,!0),a&&E.merge(s,Te(c,"script"))),n.call(e[d],c,d);if(a)for(u=s[s.length-1].ownerDocument,E.map(s,Ve),d=0;d<a;d++)c=s[d],Ee.test(c.type||"")&&!ae.access(c,"globalEval")&&E.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?E._evalUrl&&!c.noModule&&E._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):x(c.textContent.replace(Me,""),c,u))}return e}function He(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(Te(r)),r.parentNode&&(n&&ge(r)&&$e(Te(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ge(e);if(!g.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!E.isXMLDoc(e))for(s=Te(a),r=0,i=(o=Te(e)).length;r<i;r++)Ue(o[r],s[r]);if(t)if(n)for(o=o||Te(e),s=s||Te(a),r=0,i=o.length;r<i;r++)Be(o[r],s[r]);else Be(e,a);return(s=Te(a,"script")).length>0&&$e(s,!l&&Te(e,"script")),a},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(oe(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),E.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return qe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)}))},prepend:function(){return qe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(Te(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Le.test(e)&&!Pe[(_e.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(Te(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(Te(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),E(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Ge=new RegExp("^("+fe+")(?!px)[a-z%]+$","i"),We=/^--/,Je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ke=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Xe=new RegExp(he.join("|"),"i");function Ye(e,t,n){var r,i,o,s,a=We.test(t),l=e.style;return(n=n||Je(e))&&(s=n.getPropertyValue(t)||n[t],a&&s&&(s=s.replace(C,"$1")||void 0),""!==s||ge(e)||(s=E.style(e,t)),!g.pixelBoxStyles()&&Ge.test(s)&&Xe.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==s?s+"":s}function Qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),me.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,l,c=b.createElement("div"),u=b.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",me.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,me.removeChild(e)),a}}))}();var Ze=["Webkit","Moz","ms"],et=b.createElement("div").style,tt={};function nt(e){var t=E.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in et)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,it={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=pe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function at(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=E.css(e,n+he[s],!0,i)),r?("content"===n&&(l-=E.css(e,"padding"+he[s],!0,i)),"margin"!==n&&(l-=E.css(e,"border"+he[s]+"Width",!0,i))):(l+=E.css(e,"padding"+he[s],!0,i),"padding"!==n?l+=E.css(e,"border"+he[s]+"Width",!0,i):a+=E.css(e,"border"+he[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l+c}function lt(e,t,n){var r=Je(e),i=(!g.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,s=Ye(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ge.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&T(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+at(e,t,n||(i?"border":"content"),o,r,s)+"px"}function ct(e,t,n,r,i){return new ct.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=ie(t),l=We.test(t),c=e.style;if(l||(t=nt(a)),s=E.cssHooks[t]||E.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=pe.exec(n))&&i[1]&&(n=be(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||l||(n+=i&&i[3]||(E.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=ie(t);return We.test(t)||(t=nt(a)),(s=E.cssHooks[t]||E.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Ye(e,t,r)),"normal"===i&&t in ot&&(i=ot[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!rt.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,r):Ke(e,it,(function(){return lt(e,t,r)}))},set:function(e,n,r){var i,o=Je(e),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===E.css(e,"boxSizing",!1,o),l=r?at(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-at(e,t,"border",!1,o)-.5)),l&&(i=pe.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),st(0,n,l)}}})),E.cssHooks.marginLeft=Qe(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+he[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=st)})),E.fn.extend({css:function(e,t){return ee(this,(function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Je(e),i=t.length;s<i;s++)o[t[s]]=E.css(e,t[s],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=ct,ct.prototype={constructor:ct,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ct.prototype.init,E.fx.step={};var ut,dt,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function ht(){dt&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ht):r.setTimeout(ht,E.fx.interval),E.fx.tick())}function mt(){return r.setTimeout((function(){ut=void 0})),ut=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=he[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function yt(e,t,n){var r,i,o=0,s=yt.prefilters.length,a=E.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ut||mt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:ut||mt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=ie(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=E.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=yt.prefilters[o].call(c,e,u,c.opts))return v(r.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return E.map(u,vt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,pe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(W);for(var n,r=0,i=e.length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u,d="width"in t||"height"in t,f=this,p={},h=e.style,m=e.nodeType&&ye(e),g=ae.get(e,"fxshow");for(r in n.queue||(null==(s=E._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,E.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||E.style(e,r)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=g&&g.display)&&(c=ae.get(e,"display")),"none"===(u=E.css(e,"display"))&&(c?u=c:(ke([e],!0),c=e.style.display||c,u=E.css(e,"display"),ke([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===E.css(e,"float")&&(l||(f.done((function(){h.display=c})),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=ae.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&ke([e],!0),f.done((function(){for(r in m||ke([e]),ae.remove(e,"fxshow"),p)E.style(e,r,p[r])}))),l=vt(m?g[r]:0,r,f),r in g||(g[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"===typeof e?E.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return E.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ye).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),o=E.speed(t,n,r),s=function(){var t=yt(this,E.extend({},e),o);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=E.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&pt.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=E.timers,s=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}})),E.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(ut=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),ut=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){dt||(dt=!0,ht())},E.fx.stop=function(){dt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var bt,wt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return ee(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(W);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=wt[t]||E.find.attr;wt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=wt[s],wt[s]=i,i=null!=n(e,t,r)?s:null,wt[s]=o),i}}));var xt=/^(?:input|select|textarea|button)$/i,kt=/^(?:a|area)$/i;function St(e){return(e.match(W)||[]).join(" ")}function _t(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(W)||[]}E.fn.extend({prop:function(e,t){return ee(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,i,o,s;return v(e)?this.each((function(t){E(this).addClass(e.call(this,t,_t(this)))})):(t=Et(e)).length?this.each((function(){if(r=_t(this),n=1===this.nodeType&&" "+St(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=St(n),r!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,n,r,i,o,s;return v(e)?this.each((function(t){E(this).removeClass(e.call(this,t,_t(this)))})):arguments.length?(t=Et(e)).length?this.each((function(){if(r=_t(this),n=1===this.nodeType&&" "+St(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=St(n),r!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,_t(this),t),t)})):"boolean"===typeof t&&a?t?this.addClass(e):this.removeClass(e):(n=Et(e),this.each((function(){if(a)for(o=E(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==s||((r=_t(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+St(_t(n))+" ").indexOf(t)>-1)return!0;return!1}});var Pt=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=E.map(i,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(Pt,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:St(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=E(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),s=i.length;s--;)((r=i[s]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},g.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Tt=r.location,$t={guid:Date.now()},Nt=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var jt=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,i){var o,s,a,l,c,u,d,f,h=[n||b],m=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(s=f=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!jt.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[E.expando]?e:new E.Event(m,"object"===typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),d=E.event.special[m]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!y(n)){for(l=d.delegateType||m,jt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(n.ownerDocument||b)&&h.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)f=s,e.type=o>1?l:d.bindType||m,(u=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&oe(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!oe(n)||c&&v(n[m])&&!y(n)&&((a=n[c])&&(n[c]=null),E.event.triggered=m,e.isPropagationStopped()&&f.addEventListener(m,At),n[m](),e.isPropagationStopped()&&f.removeEventListener(m,At),E.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}});var Ct=/\[\]$/,Ot=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,r){var i;if(Array.isArray(t))E.each(t,(function(t,i){n||Ct.test(e)?r(e,i):Lt(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==k(t))r(e,t);else for(i in t)Lt(e+"["+i+"]",t[i],n,r)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){i(this.name,this.value)}));else for(n in e)Lt(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Rt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Se.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}})):{name:t.name,value:n.replace(Ot,"\r\n")}})).get()}});var Dt=/%20/g,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Vt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ut={},qt={},Ht="*/".concat("*"),Gt=b.createElement("a");function Wt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(W)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Jt(e,t,n,r){var i={},o=e===qt;function s(a){var l;return i[a]=!0,E.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!==typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Kt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Gt.href=Tt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,E.ajaxSettings),t):Kt(E.ajaxSettings,e)},ajaxPrefilter:Wt(Ut),ajaxTransport:Wt(qt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,s,a,l,c,u,d,f,p=E.ajaxSetup({},t),h=p.context||p,m=p.context&&(h.nodeType||h.jquery)?E(h):E.event,g=E.Deferred(),v=E.Callbacks("once memory"),y=p.statusCode||{},w={},x={},k="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=zt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||k;return n&&n.abort(t),_(0,t),this}};if(g.promise(S),p.url=((e||p.url||Tt.href)+"").replace(Bt,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(W)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Gt.protocol+"//"+Gt.host!==l.protocol+"//"+l.host}catch(P){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=E.param(p.data,p.traditional)),Jt(Ut,p,t,S),c)return S;for(d in(u=E.event&&p.global)&&0===E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Vt.test(p.type),i=p.url.replace(Mt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Dt,"+")):(f=p.url.slice(i.length),p.data&&(p.processData||"string"===typeof p.data)&&(i+=(Nt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Ft,"$1"),f=(Nt.test(i)?"&":"?")+"_="+$t.guid+++f),p.url=i+f),p.ifModified&&(E.lastModified[i]&&S.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&S.setRequestHeader("If-None-Match",E.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ht+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(h,S,p)||c))return S.abort();if(k="abort",v.add(p.complete),S.done(p.success),S.fail(p.error),n=Jt(qt,p,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(a=r.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,n.send(w,_)}catch(P){if(c)throw P;_(-1,P)}}else _(-1,"No Transport");function _(e,t,s,l){var d,f,b,w,x,k=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",S.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,S,s)),!d&&E.inArray("script",p.dataTypes)>-1&&E.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(P){return{state:"parsererror",error:s?P:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,S,d),d?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=x),(x=S.getResponseHeader("etag"))&&(E.etag[i]=x)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=w.state,f=w.data,d=!(b=w.error))):(b=k,!e&&k||(k="error",e<0&&(e=0))),S.status=e,S.statusText=(t||k)+"",d?g.resolveWith(h,[f,k,S]):g.rejectWith(h,[S,k,b]),S.statusCode(y),y=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[S,p,d?f:b]),v.fireWith(h,[S,k]),u&&(m.trigger("ajaxComplete",[S,p]),--E.active||E.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Yt=E.ajaxSettings.xhr();g.cors=!!Yt&&"withCredentials"in Yt,g.ajax=Yt=!!Yt,E.ajaxTransport((function(e){var t,n;if(g.cors||Yt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!==typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Xt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Qt=[],Zt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||E.expando+"_"+$t.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+i):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||E.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?E(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(i)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),g.createHTMLDocument=function(){var e=b.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),E.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),o=!n&&[],(i=z.exec(e))?[t.createElement(i[1])]:(i=je([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=St(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"===typeof t&&(i="POST"),s.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=E.css(e,"position"),u=E(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=E.css(e,"top"),l=E.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),v(t)&&(t=t.call(e,n,E.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+i),"using"in t?t.using.call(e,d):u.css(d)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||me}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return ee(this,(function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Qe(g.pixelPosition,(function(e,n){if(n)return n=Ye(e,t),Ge.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!==typeof i),a=n||(!0===i||!0===o?"margin":"border");return ee(this,(function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?E.css(t,n,a):E.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),v(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=T,E.isFunction=v,E.isWindow=y,E.camelCase=ie,E.type=k,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var tn=r.jQuery,nn=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=nn),e&&r.jQuery===E&&(r.jQuery=tn),E},"undefined"===typeof i&&(r.jQuery=r.$=E),E}))},3326:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[n(9487).default];t.default=r},3329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},3349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),dataPath:new r.Name("dataPath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=i},3425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o=n(7264),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:e=>{let{schemaCode:t}=e;return r._`{allowedValues: ${t}}`}},code(e){const{gen:t,data:n,$data:s,schema:a,schemaCode:l,it:c}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const u=a.length>=c.opts.loopEnum;let d;const f=()=>null!==d&&void 0!==d?d:d=(0,i.useFunc)(t,o.default);let p;if(u||s)p=t.let("valid"),e.block$data(p,(function(){t.assign(p,!1),t.forOf("v",l,(e=>t.if(r._`${f()}(${n}, ${e})`,(()=>t.assign(p,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",l);p=(0,r.or)(...a.map(((t,i)=>function(e,t){const i=a[t];return"object"===typeof i&&null!==i?r._`${f()}(${n}, ${e}[${t}])`:r._`${n} === ${i}`}(e,i))))}e.pass(p)}};t.default=s},3446:e=>{"use strict";e.exports=JSON.parse('[{"scheme":"android-app"},{"scheme":"webpack"},{"scheme":"s3","description":"Amazon Web Services S3 bucket"},{"scheme":"gs","description":"Google Cloud Storage"},{"scheme":"mqtt","description":"Message Queuing Telemetry Transport Protocol"},{"scheme":"modbus+tcp","description":"Modbus over TCP"}]')},3479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4906),i=n(5843),o=n(3757),s=n(9838),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.default(c,s.default,"additionalProperties"));const u=i.allSchemaProperties(n);for(const r of u)c.definedProperties.add(r);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,o.toHash(u),c.props));const d=u.filter((e=>!o.alwaysValidSchema(c,n[e])));if(0===d.length)return;const f=t.name("valid");for(const r of d)p(r)?h(r):(t.if(i.propertyInData(t,l,r,c.opts.ownProperties)),h(r),c.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(f);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function h(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},f)}}};t.default=a},3488:(e,t,n)=>{"use strict";var r=n(3959);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},3508:(e,t,n)=>{"use strict";const r=n(9212),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const n={},r=i.parsers[t||"full"],o=r.regex.exec(e);let s=r.keys.length;for(;s--;)n[r.keys[s]]=void 0===o[s]?null:o[s];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!r.isString(e)||(e=i.parse(e||""));const n=i.parse(t),o={protocol:e.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=e.authority,""===n.path)o.path=e.path,null!==n.query?o.query=n.query:o.query=e.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,o.path=t}o.query=n.query}""!==n.path&&(o.path=i.removeDotSegments(o.path));let s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s},i.removeBase=(e,t)=>{if(null===e)return t;e&&!r.isString(e)||(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const o=i.parse(t.substr(n.length)),s=e.normalizedPath.split("/"),a=o.normalizedPath.split("/"),l=o.fragment||o.query?0:1;for(;s.length>0&&a.length>l&&s[0]===a[0];)s.shift(),a.shift();let c="";if(s.length>0){s.pop();for(let e=0;e<s.length;++e)c+="../"}return c+=a.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>r.isString(e)&&o.test(e),i.isRelative=e=>r.isString(e)},3611:(e,t,n)=>{"use strict";const{isKeyword:r}=n(1682),i=n(660),o=n(9212),s=n(7173),a=n(3281),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{const n=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),r={"@default":{}};return l.createNodeMap(e,r,"@default",n),l.mergeNodeMaps(r)},l.createNodeMap=(e,t,n,c,u,d)=>{if(o.isArray(e)){for(const r of e)l.createNodeMap(r,t,n,c,void 0,d);return}if(!o.isObject(e))return void(d&&d.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&i.isList(e)){const r=[];return l.createNodeMap(e["@list"],t,n,c,u,r),void d.push({"@list":r})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}o.isUndefined(u)&&(u=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const f=t[n],p=f[u]=f[u]||{};p["@id"]=u;const h=Object.keys(e).sort();for(let o of h){if("@id"===o)continue;if("@reverse"===o){const r={"@id":u},o=e["@reverse"];for(const e in o){const a=o[e];for(const o of a){let a=o["@id"];i.isBlankNode(o)&&(a=c.getId(a)),l.createNodeMap(o,t,n,c,a),s.addValue(f[a],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){u in t||(t[u]={}),l.createNodeMap(e[o],t,u,c);continue}if("@included"===o){l.createNodeMap(e[o],t,n,c);continue}if("@type"!==o&&r(o)){if("@index"===o&&o in p&&(e[o]!==p[o]||e[o]["@id"]!==p[o]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[o]=e[o];continue}const d=e[o];if(0===o.indexOf("_:")&&(o=c.getId(o)),0!==d.length)for(let e of d)if("@type"===o&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const r=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];s.addValue(p,o,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,n,c,r)}else if(i.isValue(e))s.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const r=[];l.createNodeMap(e["@list"],t,n,c,u,r),e={"@list":r},s.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,n,c,u),s.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1});else s.addValue(p,o,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const o=e[n][i];i in t||(t[i]={"@id":i});const a=t[i];for(const e of Object.keys(o).sort())if(r(e)&&"@type"!==e)a[e]=s.clone(o[e]);else for(const t of o[e])s.addValue(a,e,s.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let o=t[r];o?"@graph"in o||(o["@graph"]=[]):t[r]=o={"@id":r,"@graph":[]};const s=o["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];i.isSubjectReference(t)||s.push(t)}}return t}},3633:(e,t,n)=>{"use strict";var r=n(6293);function i(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function o(e){return e>="0"&&e<="7"}function s(e){return e=parseInt(e,16),r.ucs2.encode([e])}function a(e,t,n){var a=!1,l=[];function c(t){var n=e[t];if(!function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}(n))throw new i(t,"Unexpected token ILLEGAL");return n}for(;t<e.length;){var u=e[t];if(t++,a){switch(a=!1,u){case"n":l.push("\n");continue;case"r":l.push("\r");continue;case"f":l.push("\f");continue;case"b":l.push("\b");continue;case"t":l.push("\t");continue;case"v":l.push("\v");continue;case"\\":l.push("\\");continue}if("x"===u){l.push(s(c(t)+c(t+1))),t+=2;continue}if("u"===u){l.push(s(c(t)+c(t+1)+c(t+2)+c(t+3))),t+=4;continue}if(o(u)){var d;o(d=e[t])&&(t++,u+=d,o(d=e[t])&&u[0]<="3"&&(t++,u+=d)),l.push(r.ucs2.encode([parseInt(u,8)]));continue}l.push(u)}else if("\\"===u)a=!0;else{if(u===n){t--;break}l.push(u)}}return 3===arguments.length?{end:t,value:l.join("")}:l.join("")}e.exports=function(e){return a(e,0)},e.exports.parseUntil=function(e,t,n){return a(e,t,n)}},3640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.schemaCxtHasRules=t.subschemaCode=t.validateFunctionCode=void 0;const r=n(1161),i=n(902),o=n(966),s=n(1459),a=n(3349),l=n(5905),c=n(3757);function u(e,t){let{gen:n,validateName:r,schema:i,schemaEnv:o,opts:l}=e;l.code.es5?n.func(r,s._`${a.default.data}, ${a.default.valCxt}`,o.$async,(()=>{n.code(s._`"use strict"; ${d(i,l)}`),function(e,t){e.if(a.default.valCxt,(()=>{e.var(a.default.dataPath,s._`${a.default.valCxt}.${a.default.dataPath}`),e.var(a.default.parentData,s._`${a.default.valCxt}.${a.default.parentData}`),e.var(a.default.parentDataProperty,s._`${a.default.valCxt}.${a.default.parentDataProperty}`),e.var(a.default.rootData,s._`${a.default.valCxt}.${a.default.rootData}`),t.dynamicRef&&e.var(a.default.dynamicAnchors,s._`${a.default.valCxt}.${a.default.dynamicAnchors}`)}),(()=>{e.var(a.default.dataPath,s._`""`),e.var(a.default.parentData,s._`undefined`),e.var(a.default.parentDataProperty,s._`undefined`),e.var(a.default.rootData,a.default.data),t.dynamicRef&&e.var(a.default.dynamicAnchors,s._`{}`)}))}(n,l),n.code(t)})):n.func(r,s._`${a.default.data}, ${function(e){return s._`{${a.default.dataPath}="", ${a.default.parentData}, ${a.default.parentDataProperty}, ${a.default.rootData}=${a.default.data}${e.dynamicRef?s._`, ${a.default.dynamicAnchors}={}`:s.nil}}={}`}(l)}`,o.$async,(()=>n.code(d(i,l)).code(t)))}function d(e,t){return"object"==typeof e&&e.$id&&(t.code.source||t.code.process)?s._`/*# sourceURL=${e.$id} */`:s.nil}function f(e){let{schema:t,self:n}=e;if("boolean"==typeof t)return!t;for(const r in t)if(n.RULES.all[r])return!0;return!1}function p(e){return"boolean"!=typeof e.schema}function h(e){c.checkUnknownRules(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&c.schemaHasRulesButRef(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function m(e,t){if(e.opts.jtd)return o.schemaKeywords(e,[],!1,t);const n=i.getSchemaTypes(e.schema),r=i.coerceAndCheckDataType(e,n);o.schemaKeywords(e,n,!r,t)}function g(e){let{gen:t,schemaEnv:n,schema:r,errSchemaPath:i,opts:o}=e;const l=r.$comment;if(!0===o.$comment)t.code(s._`${a.default.self}.logger.log(${l})`);else if("function"==typeof o.$comment){const e=s.str`${i}/$comment`,r=t.scopeValue("root",{ref:n.root});t.code(s._`${a.default.self}.opts.$comment(${l}, ${e}, ${r}.schema)`)}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.opts.strict;if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.validateFunctionCode=function(e){p(e)&&(h(e),f(e))?function(e){const{schema:t,opts:n,gen:r}=e;u(e,(()=>{n.$comment&&t.$comment&&g(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strict&&v(e,"default is ignored in the schema root")}(e),r.let(a.default.vErrors,null),r.let(a.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",s._`${n}.evaluated`),t.if(s._`${e.evaluated}.dynamicProps`,(()=>t.assign(s._`${e.evaluated}.props`,s._`undefined`))),t.if(s._`${e.evaluated}.dynamicItems`,(()=>t.assign(s._`${e.evaluated}.items`,s._`undefined`)))}(e),m(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if(s._`${a.default.errors} === 0`,(()=>t.return(a.default.data)),(()=>t.throw(s._`new ${i}(${a.default.vErrors})`))):(t.assign(s._`${r}.errors`,a.default.vErrors),o.unevaluated&&function(e){let{gen:t,evaluated:n,props:r,items:i}=e;r instanceof s.Name&&t.assign(s._`${n}.props`,r);i instanceof s.Name&&t.assign(s._`${n}.items`,i)}(e),t.return(s._`${a.default.errors} === 0`))}(e)}))}(e):u(e,(()=>r.topBoolOrEmptySchema(e)))},t.subschemaCode=function(e,t){p(e)&&(h(e),f(e))?function(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&g(e);(function(e){e.schema.$id&&(e.baseId=l.resolveUrl(e.baseId,e.schema.$id))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=r.const("_errs",a.default.errors);m(e,o),r.var(t,s._`${o} === ${a.default.errors}`)}(e,t):r.boolOrEmptySchema(e,t)},t.schemaCxtHasRules=f,t.checkStrictMode=v},3757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.func=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const r=n(1459),i=n(3640);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{opts:n,self:r}=e;if(!n.strict)return;if("boolean"===typeof t)return;const o=r.RULES.keywords;for(const s in t)o[s]||i.checkStrictMode(e,`unknown keyword: "${s}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function c(e){let{mergeNames:t,mergeToName:n,mergeValues:i,resultToName:o}=e;return(e,s,a,l)=>{const c=void 0===a?s:a instanceof r.Name?(s instanceof r.Name?t(e,s,a):n(e,s,a),a):s instanceof r.Name?(n(e,a,s),s):i(s,a);return l!==r.Name||c instanceof r.Name?c:o(e,c)}}function u(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",r._`{}`);return void 0!==t&&d(e,n,t),n}function d(e,t,n){Object.keys(n).forEach((n=>e.assign(r._`${t}${r.getProperty(n)}`,!0)))}t.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},t.schemaRefOrVal=function(e,t,n,i){let{topSchemaRef:o,schemaPath:s}=e;if(!i){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return r._`${t}`}return r._`${o}${s}${r.getProperty(n)}`},t.unescapeFragment=function(e){return l(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=l,t.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},t.mergeEvaluated={props:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>{e.if(r._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,r._`${n} || {}`).code(r._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,r._`${n} || {}`),d(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:u}),items:c({mergeNames:(e,t,n)=>e.if(r._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,r._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(r._`${n} !== true`,(()=>e.assign(n,!0===t||r._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=u,t.setEvaluated=d,t.func=function(e,t){return e.scopeValue("func",{ref:t,code:t.code})}},3773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const r=n(4355),i=n(9328),o=n(9381),s=n(8161),a=n(13),l=n(2840);class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null===n||void 0===n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function u(e){const t=f.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:c}=this.opts.code,{ownProperties:u}=this.opts,d=new r.CodeGen(this.scope,{es5:a,lines:c,ownProperties:u});let p;e.$async&&(p=d.scopeValue("Error",{ref:i.default,code:r._`require("ajv/dist/runtime/validation_error").default`}));const h=d.scopeName("validate");e.validateName=h;const m={gen:d,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:h,ValidationError:p,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,l.validateFunctionCode)(m),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const n=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(h,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:h,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},n.source&&(n.source.evaluated=(0,r.stringify)(n.evaluated))}return e.validate=n,e}catch(v){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),v}finally{this._compilations.delete(e)}}function d(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function f(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function p(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||h.call(this,e,t)}function h(e,t){const n=this.opts.uriResolver.parse(t),r=(0,s._getFullPath)(this.opts.uriResolver,n);let i=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return g.call(this,n,e);const o=(0,s.normalizeId)(r),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=h.call(this,e,a);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return g.call(this,n,t)}if("object"===typeof(null===a||void 0===a?void 0:a.schema)){if(a.validate||u.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:n}=this.opts,r=t[n];return r&&(i=(0,s.resolveUrl)(this.opts.uriResolver,i,r)),new c({schema:t,schemaId:n,root:e,baseId:i})}return g.call(this,n,a)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=function(e,t,n){var r;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let o=p.call(this,e,n);if(void 0===o){const i=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:s}=this.opts;i&&(o=new c({schema:i,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[n]=d.call(this,o):void 0},t.getCompilingSchema=f,t.resolveSchema=h;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,t){let{baseId:n,schema:r,root:i}=t;var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const c of e.fragment.slice(1).split("/")){if("boolean"===typeof r)return;const e=r[(0,a.unescapeFragment)(c)];if(void 0===e)return;r=e;const t="object"===typeof r&&r[this.opts.schemaId];!m.has(c)&&t&&(n=(0,s.resolveUrl)(this.opts.uriResolver,n,t))}let l;if("boolean"!=typeof r&&r.$ref&&!(0,a.schemaHasRulesButRef)(r,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,n,r.$ref);l=h.call(this,i,e)}const{schemaId:u}=this.opts;return l=l||new c({schema:r,schemaId:u,root:i,baseId:n}),l.schema!==l.root.schema?l:void 0}},3822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6627),i=n(4355),o=n(9381),s=n(13),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:e=>{let{params:t}=e;return i._`{additionalProperty: ${t.additionalProperty}}`}},code(e){const{gen:t,schema:n,parentSchema:a,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:d,opts:f}=u;if(u.props=!0,"all"!==f.removeAdditional&&(0,s.alwaysValidSchema)(u,n))return;const p=(0,r.allSchemaProperties)(a.properties),h=(0,r.allSchemaProperties)(a.patternProperties);function m(e){t.code(i._`delete ${l}[${e}]`)}function g(r){if("all"===f.removeAdditional||f.removeAdditional&&!1===n)m(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(d||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===f.removeAdditional?(v(r,n,!1),t.if((0,i.not)(n),(()=>{e.reset(),m(r)}))):(v(r,n),d||t.if((0,i.not)(n),(()=>t.break())))}}}function v(t,n,r){const i={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}t.forIn("key",l,(n=>{p.length||h.length?t.if(function(n){let o;if(p.length>8){const e=(0,s.schemaRefOrVal)(u,a.properties,"properties");o=(0,r.isOwnProperty)(t,e,n)}else o=p.length?(0,i.or)(...p.map((e=>i._`${n} === ${e}`))):i.nil;return h.length&&(o=(0,i.or)(o,...h.map((t=>i._`${(0,r.usePattern)(e,t)}.test(${n})`)))),(0,i.not)(o)}(n),(()=>g(n))):g(n)})),e.ok(i._`${c} === ${o.default.errors}`)}};t.default=a},3837:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},3883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(828),o=n(3757),s=n(3640),a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:e=>{let{params:{min:t,max:n}}=e;return void 0===n?r.str`should contain at least ${t} valid item(s)`:r.str`should contain at least ${t} and no more than ${n} valid item(s)`},params:e=>{let{params:{min:t,max:n}}=e;return void 0===n?r._`{minContains: ${t}}`:r._`{minContains: ${t}, maxContains: ${n}}`}},code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;let u,d;const{minContains:f,maxContains:p}=a;c.opts.next?(u=void 0===f?1:f,d=p):u=1;const h=t.const("len",r._`${l}.length`);if(e.setParams({min:u,max:d}),void 0===d&&0===u)return void s.checkStrictMode(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==d&&u>d)return s.checkStrictMode(c,'"minContains" > "maxContains" is always invalid'),void e.fail();if(o.alwaysValidSchema(c,n)){let t=r._`${h} >= ${u}`;return void 0!==d&&(t=r._`${t} && ${h} <= ${d}`),void e.pass(t)}c.items=!0;const m=t.name("valid");if(void 0===d&&1===u)g(m,(()=>t.if(m,(()=>t.break()))));else{t.let(m,!1);const e=t.name("_valid"),n=t.let("count",0);g(e,(()=>t.if(e,(()=>function(e){t.code(r._`${e}++`),void 0===d?t.if(r._`${e} >= ${u}`,(()=>t.assign(m,!0).break())):(t.if(r._`${e} > ${d}`,(()=>t.assign(m,!1).break())),1===u?t.assign(m,!0):t.if(r._`${e} >= ${u}`,(()=>t.assign(m,!0))))}(n)))))}function g(n,r){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},n),r()}))}e.result(m,(()=>e.reset()))}};t.default=a},3892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5155),i=n(8336),o=n(3883),s=n(403),a=n(1515),l=n(9838),c=n(3479),u=n(7619),d=n(7233),f=n(8067),p=n(5481),h=n(1098),m=n(1045),g=n(4492),v=[d.default,f.default,p.default,h.default,m.default,g.default,r.default,i.default,o.default,a.default,l.default,s.default,c.default,u.default];t.default=v},3945:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return r.str`should be multiple of ${t}`},params:e=>{let{schemaCode:t}=e;return r._`{multipleOf: ${t}}`}},code(e){const{gen:t,data:n,schemaCode:i,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),l=s?r._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:r._`${a} !== parseInt(${a})`;e.fail$data(r._`(${i} === 0 || (${a} = ${n}/${i}, ${l}))`)}};t.default=i},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4081:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const i="maxItems"===t?"more":"fewer";return r.str`must NOT have ${i} than ${n} items`},params:e=>{let{schemaCode:t}=e;return r._`{limit: ${t}}`}},code(e){const{keyword:t,data:n,schemaCode:i}=e,o="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${o} ${i}`)}};t.default=i},4149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:e=>{let{params:t}=e;return r.str`must match "${t.ifClause}" schema`},params:e=>{let{params:t}=e;return r._`{failingKeyword: ${t.ifClause}}`}},code(e){const{gen:t,parentSchema:n,it:o}=e;void 0===n.then&&void 0===n.else&&(0,i.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),l=s(o,"else");if(!a&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}(),e.reset(),a&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else a?t.if(u,d("then")):t.if((0,r.not)(u),d("else"));function d(n,i){return()=>{const o=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(o,c),i?t.assign(i,r._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function s(e,t){const n=e.schema[t];return void 0!==n&&!(0,i.alwaysValidSchema)(e,n)}t.default=o},4183:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},4197:e=>{"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},4323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const r=n(8270);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o||(t.UsedValueState=o={})),t.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class s{constructor(){let{prefixes:e,parent:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof r.Name?e:this.name(e)}name(e){return new r.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends r.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,t){let{property:n,itemIndex:i}=t;this.value=e,this.scopePath=r._`.${new r.Name(n)}[${i}]`}}t.ValueScopeName=a;const l=r._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:r.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:i}=r,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[i];if(s){const e=s.get(o);if(e)return e}else s=this._values[i]=new Map;s.set(o,r);const a=this._scope[i]||(this._scope[i]=[]),l=a.length;return a[l]=t.ref,r.setValue(t,{property:i,itemIndex:l}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._values;return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return r._`${e}${t.scopePath}`}))}scopeCode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._values,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,l=r.nil;for(const c in e){const u=e[c];if(!u)continue;const d=s[c]=s[c]||new Map;u.forEach((e=>{if(d.has(e))return;d.set(e,o.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=r._`${l}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null===a||void 0===a?void 0:a(e)))throw new i(e);l=r._`${l}${s}${this.opts._n}`}d.set(e,o.Completed)}))}return l}}},4355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const r=n(8270),i=n(4323);var o=n(8270);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=n(4323);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render(e){let{es5:t,_n:n}=e;const r=t?i.varKinds.var:this.varKind,o=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${o};`+n}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render(e){let{_n:t}=e;return`${this.lhs} = ${this.rhs};`+t}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=A(this.rhs,e,t),this}get names(){return j(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,n,r){super(e,n,r),this.op=t}render(e){let{_n:t}=e;return`${this.lhs} ${this.op}= ${this.rhs};`+t}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render(e){let{_n:t}=e;return`${this.label}:`+t}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render(e){let{_n:t}=e;return`break${this.label?` ${this.label}`:""};`+t}}class p extends a{constructor(e){super(),this.error=e}render(e){let{_n:t}=e;return`throw ${this.error};`+t}get names(){return this.error.names}}class h extends a{constructor(e){super(),this.code=e}render(e){let{_n:t}=e;return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=A(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class m extends a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const i=n[r];i.optimizeNames(e,t)||(C(e,i.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>N(e,t.names)),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class v extends m{}class y extends g{}y.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(O(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=A(this.condition,e,t),this}get names(){const e=super.names;return j(e,this.condition),this.else&&N(e,this.else.names),e}}b.kind="if";class w extends g{}w.kind="for";class x extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=A(this.iteration,e,t),this}get names(){return N(super.names,this.iteration.names)}}class k extends w{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:n,from:r,to:o}=this;return`for(${t} ${n}=${r}; ${n}<${o}; ${n}++)`+super.render(e)}get names(){const e=j(super.names,this.from);return j(e,this.to)}}class S extends w{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=A(this.iterable,e,t),this}get names(){return N(super.names,this.iterable.names)}}class _ extends g{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}_.kind="func";class E extends m{render(e){return"return "+super.render(e)}}E.kind="return";class P extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&N(e,this.catch.names),this.finally&&N(e,this.finally.names),e}}class T extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}T.kind="catch";class $ extends g{render(e){return"finally"+super.render(e)}}$.kind="finally";function N(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function j(e,t){return t instanceof r._CodeOrName?N(e,t.names):e}function A(e,t,n){return e instanceof r.Name?i(e):function(e){return e instanceof r._Code&&e._items.some((e=>e instanceof r.Name&&1===t[e.str]&&void 0!==n[e.str]))}(e)?new r._Code(e._items.reduce(((e,t)=>(t instanceof r.Name&&(t=i(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e)),[])):e;function i(e){const r=n[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}}function C(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function O(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:r._`!${D(e)}`}t.CodeGen=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const i=this._scope.toName(t);return void 0!==n&&r&&(this._constants[i.str]=n),this._leafNode(new l(e,i,n)),i}const(e,t,n){return this._def(i.varKinds.const,e,t,n)}let(e,t,n){return this._def(i.varKinds.let,e,t,n)}var(e,t,n){return this._def(i.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new h(e)),this}object(){const e=["{"];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const[o,s]of n)e.length>1&&e.push(","),e.push(o),(o!==s||this.opts.es5)&&(e.push(":"),(0,r.addCodeArg)(e,s));return e.push("}"),new r._Code(e)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(b,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new x(e),t)}forRange(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.es5?i.varKinds.var:i.varKinds.let;const s=this._scope.toName(e);return this._for(new k(o,s,t,n),(()=>r(s)))}forOf(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.varKinds.const;const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,r._`${e}.length`,(t=>{this.var(s,r._`${e}[${t}]`),n(s)}))}return this._for(new S("of",o,s,t),(()=>n(s)))}forIn(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.es5?i.varKinds.var:i.varKinds.const;if(this.opts.ownProperties)return this.forOf(e,r._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new S("in",o,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new f(e))}return(e){const t=new E;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new P;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new T(e),t(e)}return n&&(this._currNode=r.finally=new $,this.code(n)),this._endBlockNode(T,$)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.nil,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return this._blockNode(new _(e,t,n)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=O;const I=L(t.operators.AND);t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(I)};const R=L(t.operators.OR);function L(e){return(t,n)=>t===r.nil?n:n===r.nil?t:r._`${D(t)} ${e} ${D(n)}`}function D(e){return e instanceof r.Name?e:r._`(${e})`}t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(R)}},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},4492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3640),i={keyword:["then","else"],schemaType:["object","boolean"],code(e){let{keyword:t,parentSchema:n,it:i}=e;void 0===n.if&&r.checkStrictMode(i,`"${t}" without "if" is ignored`)}};t.default=i},4495:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.canonicalize=t.canonicalize_quoted_string=t.normalize=t.normalize_dot_string=t.parse=void 0;const i=n(9833),o=r(n(5470));o.default.ParserStart="Mailbox";const s=i.Grammar.fromCompiled(o.default);function a(e){if(e.length>986)throw new Error("address too long");const t=new i.Parser(s);if(t.feed(e),1!==t.results.length)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),r=e.substring(n+1);if("["!==r[0]){if(r.length>253)throw new Error("domain too long");const e=r.split(".");if(e.length<2)throw new Error("domain not fully qualified");if(e[e.length-1].length<2)throw new Error("top level domain label too short");if(e.sort((function(e,t){return t.length-e.length})),e[0].length>63)throw new Error("domain label too long")}return t.results[0]}function l(e){return function(){const t=e.indexOf("+");return-1===t?e:e.substr(0,t)}().replace(/\./g,"").toLowerCase()}function c(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}t.parse=a,t.normalize_dot_string=l,t.normalize=function(e){var t,n;const r=a(e),i=null!==(t=r.domainPart.AddressLiteral)&&void 0!==t?t:r.domainPart.DomainName.toLowerCase();return`${null!==(n=r.localPart.QuotedString)&&void 0!==n?n:l(r.localPart.DotString)}@${i}`},t.canonicalize_quoted_string=c,t.canonicalize=function(e){var t;const n=a(e),r=null!==(t=n.domainPart.AddressLiteral)&&void 0!==t?t:n.domainPart.DomainName.toLowerCase();return`${n.localPart.QuotedString?c(n.localPart.QuotedString):n.localPart.DotString}@${r}`}},4535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2840),i=n(6627),o=n(13),s=n(3822),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new r.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,i.allSchemaProperties)(n);for(const r of u)c.definedProperties.add(r);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(u),c.props));const d=u.filter((e=>!(0,o.alwaysValidSchema)(c,n[e])));if(0===d.length)return;const f=t.name("valid");for(const r of d)p(r)?h(r):(t.if((0,i.propertyInData)(t,l,r,c.opts.ownProperties)),h(r),c.allErrors||t.else().var(f,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(f);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function h(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},f)}}};t.default=a},4676:(e,t,n)=>{"use strict";const{isArray:r,isObject:i,isString:o}=n(9212),{asArray:s}=n(7173),{prependBase:a}=n(3508),l=n(3281),c=n(3026);function u(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function d(e){let{context:t,base:n}=e;if(!t)return;const s=t["@context"];if(o(s))t["@context"]=a(n,s);else if(r(s))for(let r=0;r<s.length;++r){const e=s[r];o(e)?s[r]=a(n,e):i(e)&&d({context:{"@context":e},base:n})}else if(i(s))for(const r in s)d({context:s[r],base:n})}e.exports=class{constructor(e){let{sharedCache:t}=e;this.perOpCache=new Map,this.sharedCache=t}async resolve(e){let{activeCtx:t,context:n,documentLoader:a,base:l,cycles:d=new Set}=e;n&&i(n)&&n["@context"]&&(n=n["@context"]),n=s(n);const f=[];for(const s of n){if(o(s)){let e=this._get(s);e||(e=await this._resolveRemoteContext({activeCtx:t,url:s,documentLoader:a,base:l,cycles:d})),r(e)?f.push(...e):f.push(e);continue}if(null===s){f.push(new c({document:null}));continue}i(s)||u(n);const e=JSON.stringify(s);let p=this._get(e);p||(p=new c({document:s}),this._cacheResolvedContext({key:e,resolved:p,tag:"static"})),f.push(p)}return f}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext(e){let{key:t,resolved:n,tag:r}=e;if(this.perOpCache.set(t,n),void 0!==r){let e=this.sharedCache.get(t);e||(e=new Map,this.sharedCache.set(t,e)),e.set(r,n)}return n}async _resolveRemoteContext(e){let{activeCtx:t,url:n,documentLoader:r,base:i,cycles:o}=e;n=a(i,n);const{context:s,remoteDoc:l}=await this._fetchContext({activeCtx:t,url:n,documentLoader:r,cycles:o});i=l.documentUrl||n,d({context:s,base:i});const c=await this.resolve({activeCtx:t,context:s,documentLoader:r,base:i,cycles:o});return this._cacheResolvedContext({key:n,resolved:c,tag:l.tag}),c}async _fetchContext(e){let t,n,{activeCtx:s,url:a,documentLoader:c,cycles:u}=e;if(u.size>10)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===s.processingMode?"loading remote context failed":"context overflow",max:10});if(u.has(a))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===s.processingMode?"recursive context inclusion":"context overflow",url:a});u.add(a);try{n=await c(a),t=n.document||null,o(t)&&(t=JSON.parse(t))}catch(d){throw new l(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${a}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:a,cause:d})}if(!i(t))throw new l(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${a}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:a});return t="@context"in t?{"@context":t["@context"]}:{"@context":{}},n.contextUrl&&(r(t["@context"])||(t["@context"]=[t["@context"]]),t["@context"].push(n.contextUrl)),{context:t,remoteDoc:n}}}},4684:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const r=n(1459),i=n(3640);function o(e,t,n){const{gen:o,compositeRule:s,data:a,opts:l}=e;if(void 0===n)return;const c=r._`${a}${r.getProperty(t)}`;if(s)return void i.checkStrictMode(e,`default is ignored for: ${c}`);let u=r._`${c} === undefined`;"empty"===l.useDefaults&&(u=r._`${u} || ${c} === null || ${c} === ""`),o.if(u,r._`${c} = ${r.stringify(n)}`)}t.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const i in n)o(e,i,n[i].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>o(e,n,t.default)))}},4710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const r=n(6434),i=n(9489),o=n(5570),s=n(4355),a=n(13);var l;function c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(r.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(l||(t.DataType=l={})),t.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=c,t.coerceAndCheckDataType=function(e,t){const{gen:n,data:r,opts:o}=e,a=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),c=t.length>0&&!(0===a.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(c){const i=f(t,r,o.strictNumbers,l.Wrong);n.if(i,(()=>{a.length?function(e,t,n){const{gen:r,data:i,opts:o}=e,a=r.let("dataType",s._`typeof ${i}`),l=r.let("coerced",s._`undefined`);"array"===o.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>r.assign(i,s._`${i}[0]`).assign(a,s._`typeof ${i}`).if(f(t,i,o.strictNumbers),(()=>r.assign(l,i)))));r.if(s._`${l} !== undefined`);for(const s of n)(u.has(s)||"array"===s&&"array"===o.coerceTypes)&&c(s);function c(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(l,s._`"" + ${i}`).elseIf(s._`${i} === null`).assign(l,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(l,s._`+${i}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,s._`+${i}`);case"boolean":return void r.elseIf(s._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf(s._`${i} === "true" || ${i} === 1`).assign(l,!0);case"null":return r.elseIf(s._`${i} === "" || ${i} === 0 || ${i} === false`),void r.assign(l,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(l,s._`[${i}]`)}}r.else(),h(e),r.endIf(),r.if(s._`${l} !== undefined`,(()=>{r.assign(i,l),function(e,t){let{gen:n,parentData:r,parentDataProperty:i}=e;n.if(s._`${r} !== undefined`,(()=>n.assign(s._`${r}[${i}]`,t)))}(e,l)}))}(e,t,a):h(e)}))}return c};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.Correct;const i=r===l.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${i} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${i} ${e}`}return r===l.Correct?o:(0,s.not)(o);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.nil;return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function f(e,t,n,r){if(1===e.length)return d(e[0],t,n,r);let i;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;i=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=s.nil;o.number&&delete o.integer;for(const a in o)i=(0,s.and)(i,d(a,t,n,r));return i}t.checkDataType=d,t.checkDataTypes=f;const p={message:e=>{let{schema:t}=e;return`must be ${t}`},params:e=>{let{schema:t,schemaValue:n}=e;return"string"==typeof t?s._`{type: ${t}}`:s._`{type: ${n}}`}};function h(e){const t=function(e){const{gen:t,data:n,schema:r}=e,i=(0,a.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}(e);(0,o.reportError)(t,p)}t.reportTypeError=h},4794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3298),i=n(7014),o=n(3892),s=n(2078),a=n(5511),l=[r.default,i.default,o.default,s.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},4814:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o=n(7227),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const i="maxLength"===t?"more":"fewer";return r.str`must NOT have ${i} than ${n} characters`},params:e=>{let{schemaCode:t}=e;return r._`{limit: ${t}}`}},code(e){const{keyword:t,data:n,schemaCode:s,it:a}=e,l="maxLength"===t?r.operators.GT:r.operators.LT,c=!1===a.opts.unicode?r._`${n}.length`:r._`${(0,i.useFunc)(e.gen,o.default)}(${n})`;e.fail$data(r._`${c} ${l} ${s}`)}};t.default=s},4837:(e,t,n)=>{const r=n(7457);e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.keys(r);let i=n;if(t.formats){if(!Array.isArray(t.formats))throw new Error("options.formats must be an array");i=t.formats}return n.filter((e=>i.includes(e))).forEach((t=>{e.addFormat(t,r[t])})),e}},4876:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},4906:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=void 0;const r=n(902),i=n(3757),o=n(8546),s=n(1459),a=n(3349),l=n(828);t.default=class{constructor(e,t,n){if(function(e,t,n){let{schema:r,opts:i,self:o}=e;if(Array.isArray(t.keyword)?!t.keyword.includes(n):t.keyword!==n)throw new Error("ajv implementation error");const s=t.dependencies;if(null===s||void 0===s?void 0:s.some((e=>!Object.prototype.hasOwnProperty.call(r,e))))throw new Error(`parent schema must have dependencies of ${n}: ${s.join(",")}`);if(t.validateSchema){if(!t.validateSchema(r[n])){const e="keyword value is invalid: "+o.errorsText(t.validateSchema.errors);if("log"!==i.validateSchema)throw new Error(e);o.logger.error(e)}}}(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=i.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",d(this.$data,e));else if(this.schemaCode=this.schemaValue,!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e))}(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",a.default.errors))}result(e,t,n){this.gen.if(s.not(e)),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.result(e,void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(s._`${t} !== undefined && (${s.or(this.invalid$data(),e)})`)}error(e){(e?o.reportExtraError:o.reportError)(this,this.def.error)}$dataError(){o.reportError(this,this.def.$dataError||o.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');o.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.nil;this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.nil,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.nil;if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:i,def:o}=this;n.if(s.or(s._`${r} === undefined`,t)),e!==s.nil&&n.assign(e,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==s.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:i,it:o}=this;return s.or(function(){if(n.length){if(!(t instanceof s.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return s._`${r.checkDataTypes(e,t,o.opts.strict,r.DataType.Wrong)}`}return s.nil}(),function(){if(i.validateSchema){const n=e.scopeValue("validate$data",{ref:i.validateSchema});return s._`!${n}(${t})`}return s.nil}())}subschema(e,t){return l.applySubschema(this.it,e,t)}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=i.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=i.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,s.Name))),!0}};const c=/^\/(?:[^~]|~0|~1)*$/,u=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function d(e,t){let n,r,{dataLevel:o,dataNames:l,dataPathArr:d}=t;if(""===e)return a.default.rootData;if("/"===e[0]){if(!c.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,r=a.default.rootData}else{const t=u.exec(e);if(!t)throw new Error(`Invalid JSON-pointer: ${e}`);const i=+t[1];if(n=t[2],"#"===n){if(i>=o)throw new Error(h("property/index",i));return d[o-i]}if(i>o)throw new Error(h("data",i));if(r=l[o-i],!n)return r}let f=r;const p=n.split("/");for(const a of p)a&&(r=s._`${r}${s.getProperty(i.unescapeJsonPointer(a))}`,f=s._`${f} && ${r}`);return f;function h(e,t){return`Cannot access ${e} ${t} levels up, current level is ${o}`}}t.getData=d},4926:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class i extends n{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e){const t=[e[0]];let n=0;for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];for(;n<o.length;)l(t,o[n]),t.push(e[++n]);return new i(t)}t._Code=i,t.nil=new i(""),t._=o;const s=new i("+");function a(e){const t=[u(e[0])];let n=0;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];for(;n<o.length;)t.push(s),l(t,o[n]),t.push(s,u(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(t),new i(t)}function l(e,t){var n;t instanceof i?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new i(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`}},4948:(e,t,n)=>{"use strict";const r=n(6707),i=n(6609),o=n(1495),s=n(7637);function a(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){let{createMessageDigest:e=()=>new i("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(e){this.deepIterations=new Map,this.quads=e;for(const r of e)this._addBlankNodeQuadInfo({quad:r,component:r.subject}),this._addBlankNodeQuadInfo({quad:r,component:r.object}),this._addBlankNodeQuadInfo({quad:r,component:r.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];for(const r of n)this._hashAndTrackBlankNode({id:r,hashToBlankNodes:t});const i=[...t.keys()].sort(),o=[];for(const r of i){const e=t.get(r);if(e.length>1){o.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const s of o){const e=[];for(const t of s){if(this.canonicalIssuer.hasId(t))continue;const n=new r("_:b");n.getId(t);const i=this.hashNDegreeQuads(t,n);e.push(i)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const l=[];for(const r of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId({component:r.subject}),r.predicate,this._componentWithCanonicalId({component:r.object}),this._componentWithCanonicalId({component:r.graph}));l.push(e)}return l.sort(),l.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const o of r){const n={subject:null,predicate:o.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,o.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,o.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,o.graph,"graph"),t.push(s.serializeQuad(n))}t.sort();const i=this.createMessageDigest();for(const o of t)i.update(o);return n.hash=i.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const o=this.createMessageDigest();return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}hashNDegreeQuads(e,t){const n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);const r=this.createMessageDigest(),i=this.createHashToRelated(e,t),s=[...i.keys()].sort();for(const a of s){r.update(a);let e,n="";const s=new o(i.get(a));for(;s.hasNext();){const r=s.next();let i=t.clone(),o="";const a=[];let l=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?o+=this.canonicalIssuer.getId(e):(i.hasId(e)||a.push(e),o+=i.getId(e)),0!==n.length&&o>n){l=!0;break}if(!l){for(const e of a){const t=this.hashNDegreeQuads(e,i);if(o+=i.getId(e),o+=`<${t.hash}>`,i=t.issuer,0!==n.length&&o>n){l=!0;break}}l||(0===n.length||o<n)&&(n=o,e=i)}}r.update(n),t=e}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode(e){let{id:t,hashToBlankNodes:n}=e;const r=this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}_addBlankNodeQuadInfo(e){let{quad:t,component:n}=e;if("BlankNode"!==n.termType)return;const r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash(e){let{quad:t,component:n,position:r,id:i,issuer:o,hashToRelated:s}=e;if("BlankNode"!==n.termType||n.value===i)return;const a=n.value,l=this.hashRelatedBlankNode(a,t,o,r),c=s.get(l);c?c.push(a):s.set(l,[a])}_componentWithCanonicalId(e){let{component:t}=e;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}},5100:(e,t,n)=>{"use strict";const{isKeyword:r}=n(1682),i=n(660),o=n(9212),s=n(7173),a=n(3508),l=n(3281),{createNodeMap:c,mergeNodeMapGraphs:u}=n(3611),d={};function f(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function p(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function m(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of s.asArray(e[0]["@id"]))if(!o.isObject(t)&&!a.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of s.asArray(e[0]["@type"]))if(!o.isObject(t)&&!a.isAbsolute(t)&&"@json"!==t||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function g(e,t,n,a){let l=!0,c=!1;for(const u in n){let d=!1;const f=s.getValues(t,u),p=0===s.getValues(n,u).length;if("@id"===u){if(o.isEmptyObject(n["@id"][0]||{})?d=!0:n["@id"].length>=0&&(d=n["@id"].includes(f[0])),!a.requireAll)return d}else if("@type"===u){if(l=!1,p){if(f.length>0)return!1;d=!0}else if(1===n["@type"].length&&o.isEmptyObject(n["@type"][0]))d=f.length>0;else for(const e of n["@type"])d=!(!o.isObject(e)||!("@default"in e))||(d||f.some((t=>t===e)));if(!a.requireAll)return d}else{if(r(u))continue;{const t=s.getValues(n,u)[0];let r=!1;if(t&&(m([t]),r="@default"in t),l=!1,0===f.length&&r)continue;if(f.length>0&&p)return!1;if(void 0===t){if(f.length>0)return!1;d=!0}else if(i.isList(t)){const n=t["@list"][0];if(i.isList(f[0])){const t=f[0]["@list"];i.isValue(n)?d=t.some((e=>x(n,e))):(i.isSubject(n)||i.isSubjectReference(n))&&(d=t.some((t=>w(e,n,t,a))))}}else d=i.isValue(t)?f.some((e=>x(t,e))):i.isSubjectReference(t)?f.some((n=>w(e,t,n,a))):!!o.isObject(t)&&f.length>0}}if(!d&&a.requireAll)return!1;c=c||d}return l||c}function v(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,a=r.property,l={"@id":t};if(o.isArray(i)){for(let o=0;o<i.length;++o)if(s.compareValues(i[o],l)){i[o]=l;break}}else{const e=o.isArray(i[a]);s.removeValue(i,a,l,{propertyIsArray:e}),s.addValue(i,a,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&o.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}function y(e,t){if(o.isArray(e))return e.map((e=>y(e,t)));if(o.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(i.isValue(e))return e;if(i.isList(e))return e["@list"]=y(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=y(e[n],t)}return e}function b(e,t,n){o.isObject(e)?s.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function w(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&g(e,i,t,r)}function x(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],s=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===s.length&&0===a.length&&0===l.length||!(!s.includes(n)&&!o.isEmptyObject(s[0]))&&(!!(!r&&0===a.length||a.includes(r)||r&&o.isEmptyObject(a[0]))&&!!(!i&&0===l.length||l.includes(i)||i&&o.isEmptyObject(l[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new s.IdentifierIssuer("_:b");c(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=u(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const o=[];return d.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter((e=>1===r.bnodeMap[e].length))),n.link={},y(o,n)},d.frame=function(e,t,n,a){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;m(n),n=n[0];const u=e.options,y={embed:h(n,u,"embed"),explicit:h(n,u,"explicit"),requireAll:h(n,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const w=e.link[e.graph],k=function(e,t,n,r){const i={};for(const o of t){const t=e.graphMap[e.graph][o];g(e,t,n,r)&&(i[o]=t)}return i}(e,t,n,y),S=Object.keys(k).sort();for(const m of S){const g=k[m];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===y.embed&&m in w){b(a,c,w[m]);continue}const S={"@id":m};if(0===m.indexOf("_:")&&s.addValue(e.bnodeMap,m,S,{propertyIsArray:!0}),w[m]=S,("@first"===y.embed||"@last"===y.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(m))if(!e.embedded||"@never"!==y.embed&&!p(g,e.graph,e.subjectStack))if(!e.embedded||"@first"!=y.embed&&"@once"!=y.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(m)){if("@last"===y.embed&&m in e.uniqueEmbeds[e.graph]&&v(e,m),e.uniqueEmbeds[e.graph][m]={parent:a,property:c},e.subjectStack.push({subject:g,graph:e.graph}),m in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===m||"@default"===m),o.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&d.frame({...e,graph:m,embedded:!1},Object.keys(e.graphMap[m]).sort(),[r],S,"@graph")}"@included"in n&&d.frame({...e,embedded:!1},t,n["@included"],S,"@included");for(const t of Object.keys(g).sort())if(r(t)){if(S[t]=s.clone(g[t]),"@type"===t)for(const n of g["@type"])0===n.indexOf("_:")&&s.addValue(e.bnodeMap,n,S,{propertyIsArray:!0})}else if(!y.explicit||t in n)for(const r of g[t]){const o=t in n?n[t]:f(y);if(i.isList(r)){const o=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:f(y),a={"@list":[]};b(S,t,a);const l=r["@list"];for(const t of l)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],o,a,"@list"):b(a,"@list",s.clone(t))}else i.isSubjectReference(r)?d.frame({...e,embedded:!0},[r["@id"]],o,S,t):x(o[0],r)&&b(S,t,s.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!o.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;const t=n[e][0]||{};if(!h(t,u,"omitDefault")&&!(e in S)){let n="@null";"@default"in t&&(n=s.clone(t["@default"])),o.isArray(n)||(n=[n]),S[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects)){s.getValues(e.subjects[n],t).some((e=>e["@id"]===m))&&(S["@reverse"]=S["@reverse"]||{},s.addValue(S["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[n],r,S["@reverse"][t],c))}}b(a,c,S),e.subjectStack.pop()}else b(a,c,S);else b(a,c,S)}},d.cleanupNull=(e,t)=>{if(o.isArray(e)){return e.map((e=>d.cleanupNull(e,t))).filter((e=>e))}if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=d.cleanupNull(e[n],t)}return e}},5116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=n(4906);t.KeywordCxt=r.default;var i=n(1459);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const o=n(9772),s=n(626),a=n(637),l=n(1459),c=n(5905),u=n(902),d=n(3757),f=n(3837),p=["removeAdditional","useDefaults","coerceTypes"],h=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",strictNumbers:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function v(e){var t,n,r,i,o,s,a,l,c,u,d,f;const p=null===(t=e.strict)||void 0===t||t,h=!!p&&"log",m=null===(n=e.code)||void 0===n?void 0:n.optimize,g=!0===m||void 0===m?1:m||0;return{strict:p,strictTypes:null!==(r=e.strictTypes)&&void 0!==r?r:h,strictTuples:null!==(i=e.strictTuples)&&void 0!==i?i:h,code:e.code?{...e.code,optimize:g}:{optimize:g},loopRequired:null!==(o=e.loopRequired)&&void 0!==o?o:1/0,loopEnum:null!==(s=e.loopEnum)&&void 0!==s?s:1/0,meta:null===(a=e.meta)||void 0===a||a,messages:null===(l=e.messages)||void 0===l||l,inlineRefs:null===(c=e.inlineRefs)||void 0===c||c,addUsedSchema:null===(u=e.addUsedSchema)||void 0===u||u,validateSchema:null===(d=e.validateSchema)||void 0===d||d,validateFormats:null===(f=e.validateFormats)||void 0===f||f}}class y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...v(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:h,es5:t,lines:n}),this.logger=function(e){if(!1===e)return E;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=s.getRules(),b.call(this,m,e,"NOT SUPPORTED"),b.call(this,g,e,"DEPRECATED","warn"),this._metaOpts=_.call(this),e.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&S.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),x.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t}=this.opts;t&&e&&this.addMetaSchema(f,f.$id,!1)}defaultMeta(){const{meta:e}=this.opts;return this.opts.defaultMeta="object"==typeof e?e.$id||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await i.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||s.call(this,n)}async function i(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function s(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.MissingRefError))throw t;return a.call(this,t),await l.call(this,t.missingSchema),s.call(this,e)}}function a(e){let{missingSchema:t,missingRef:n}=e;if(this.refs[t])throw new Error(`AnySchema ${t} is loaded but ${n} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await i.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema;if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,i);return this}if("object"===typeof e&&(r=e.$id,void 0!==r&&"string"!=typeof r))throw new Error("schema id must be string");return t=c.normalizeId(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,i,!0),this}addMetaSchema(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema;return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=w.call(this,e));)e=t;if(void 0===t){const n=new a.SchemaEnv({schema:{}});if(t=a.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=w.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e.$id;return n&&(n=c.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(T.call(this,n,t),!t)return d.eachItem(n,(e=>$.call(this,e))),this;j.call(this,t);const r={...t,type:u.getJSONTypes(t.type),schemaType:u.getJSONTypes(t.schemaType)};return d.eachItem(n,0===r.type.length?e=>$.call(this,e,r):e=>r.type.forEach((t=>$.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errors,{separator:t=", ",dataVar:n="data"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&0!==e.length?e.map((e=>`${n}${e.dataPath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,o=i[e];r&&o&&(i[e]=C(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.addUsedSchema;if("object"!=typeof e){if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;const o=c.getSchemaRefs.call(this,e);i=new a.SchemaEnv({schema:e,meta:t,localRefs:o}),this._cache.set(i.schema,i);const s=i.baseId;return r&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=i),n&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):a.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,e)}finally{this.opts=t}}}function b(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";for(const i in e){const o=i;o in t&&this.logger[r](`${n}: option ${i}. ${e[o]}`)}}function w(e){return e=c.normalizeId(e),this.schemas[e]||this.refs[e]}function x(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function k(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function S(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function _(){const e={...this.opts};for(const t of p)delete e[t];return e}t.default=y,y.ValidationError=o.ValidationError,y.MissingRefError=o.MissingRefError;const E={log(){},warn(){},error(){}};const P=/^[a-z_$][a-z0-9_$:-]*$/i;function T(e,t){const{RULES:n}=this;if(d.eachItem(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!P.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function $(e,t,n){var r;const i=null===t||void 0===t?void 0:t.post;if(n&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=i?o.post:o.rules.find((e=>{let{type:t}=e;return t===n}));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:u.getJSONTypes(t.type),schemaType:u.getJSONTypes(t.schemaType)}};t.before?N.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function N(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function j(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=C(t)),e.validateSchema=this.compile(t,!0))}const A={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function C(e){return{anyOf:[e,A]}}},5155:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(828),o=n(3757),s=n(3640),a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:e=>{let{params:{len:t}}=e;return r.str`should NOT have more than ${t} items`},params:e=>{let{params:{len:t}}=e;return r._`{limit: ${t}}`}},code(e){const{gen:t,schema:n,parentSchema:a,data:l,it:c}=e,{items:u}=a;if(!Array.isArray(u))return void s.checkStrictMode(c,'"additionalItems" is ignored when "items" is not an array of schemas');c.items=!0;const d=t.const("len",r._`${l}.length`);if(!1===n)e.setParams({len:u.length}),e.pass(r._`${d} <= ${u.length}`);else if("object"==typeof n&&!o.alwaysValidSchema(c,n)){const n=t.var("valid",r._`${d} <= ${u.length}`);t.if(r.not(n),(()=>function(n){t.forRange("i",u.length,d,(o=>{e.subschema({keyword:"additionalItems",dataProp:o,dataPropType:i.Type.Num},n),c.allErrors||t.if(r.not(n),(()=>t.break()))}))}(n))),e.ok(n)}}};t.default=a},5208:(e,t,n)=>{"use strict";const r=n(3281),{isArray:i,isObject:o,isString:s,isUndefined:a}=n(9212),{isList:l,isValue:c,isGraph:u,isSimpleGraph:d,isSubjectReference:f}=n(660),{expandIri:p,getContextValue:h,isKeyword:m,process:g,processingMode:v}=n(1682),{removeBase:y,prependBase:b}=n(3508),{REGEX_KEYWORD:w,addValue:x,asArray:k,compareShortestLeast:S}=n(7173),_={};function E(e,t,n){if("@nest"!==p(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=_,_.compact=async e=>{let{activeCtx:t,activeProperty:n=null,element:p,options:y={}}=e;if(i(p)){let e=[];for(let r=0;r<p.length;++r){const i=await _.compact({activeCtx:t,activeProperty:n,element:p[r],options:y});null!==i&&e.push(i)}if(y.compactArrays&&1===e.length){0===(h(t,n,"@container")||[]).length&&(e=e[0])}return e}const b=h(t,n,"@context");if(a(b)||(t=await g({activeCtx:t,localCtx:b,propagate:!0,overrideProtected:!0,options:y})),o(p)){if(y.link&&"@id"in p&&y.link.hasOwnProperty(p["@id"])){const e=y.link[p["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===p)return e[t].compacted}if(c(p)||f(p)){const e=_.compactValue({activeCtx:t,activeProperty:n,value:p,options:y});return y.link&&f(p)&&(y.link.hasOwnProperty(p["@id"])||(y.link[p["@id"]]=[]),y.link[p["@id"]].push({expanded:p,compacted:e})),e}if(l(p)){if((h(t,n,"@container")||[]).includes("@list"))return _.compact({activeCtx:t,activeProperty:n,element:p["@list"],options:y})}const e="@reverse"===n,b={},w=t;c(p)||f(p)||(t=t.revertToPreviousContext());const S=h(w,n,"@context");a(S)||(t=await g({activeCtx:t,localCtx:S,propagate:!0,overrideProtected:!0,options:y})),y.link&&"@id"in p&&(y.link.hasOwnProperty(p["@id"])||(y.link[p["@id"]]=[]),y.link[p["@id"]].push({expanded:p,compacted:b}));let P=p["@type"]||[];P.length>1&&(P=Array.from(P).sort());const T=t;for(const n of P){const e=_.compactIri({activeCtx:T,iri:n,relativeTo:{vocab:!0}}),r=h(w,e,"@context");a(r)||(t=await g({activeCtx:t,localCtx:r,options:y,propagate:!1}))}const $=Object.keys(p).sort();for(const a of $){const f=p[a];if("@id"!==a)if("@type"!==a)if("@reverse"!==a)if("@preserve"!==a)if("@index"!==a)if("@graph"!==a&&"@list"!==a&&"@included"!==a&&m(a)){const e=_.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});x(b,e,f)}else{if(!i(f))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){const n=_.compactIri({activeCtx:t,iri:a,value:f,relativeTo:{vocab:!0},reverse:e}),r=t.mappings.has(n)?t.mappings.get(n)["@nest"]:null;let i=b;r&&(E(t,r,y),o(b[r])||(b[r]={}),i=b[r]),x(i,n,f,{propertyIsArray:!0})}for(const n of f){const r=_.compactIri({activeCtx:t,iri:a,value:n,relativeTo:{vocab:!0},reverse:e}),f=t.mappings.has(r)?t.mappings.get(r)["@nest"]:null;let p=b;f&&(E(t,f,y),o(b[f])||(b[f]={}),p=b[f]);const m=h(t,r,"@container")||[],g=u(n),v=l(n);let w;v?w=n["@list"]:g&&(w=n["@graph"]);let S=await _.compact({activeCtx:t,activeProperty:r,element:v||g?w:n,options:y});if(v){if(i(S)||(S=[S]),m.includes("@list")){x(p,r,S,{valueIsArray:!0,allowDuplicate:!0});continue}S={[_.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:S},"@index"in n&&(S[_.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"])}if(g)if(m.includes("@graph")&&(m.includes("@id")||m.includes("@index")&&d(n))){let e;p.hasOwnProperty(r)?e=p[r]:p[r]=e={};const i=(m.includes("@id")?n["@id"]:n["@index"])||_.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}});x(e,i,S,{propertyIsArray:!y.compactArrays||m.includes("@set")})}else m.includes("@graph")&&d(n)?(i(S)&&S.length>1&&(S={"@included":S}),x(p,r,S,{propertyIsArray:!y.compactArrays||m.includes("@set")})):(i(S)&&1===S.length&&y.compactArrays&&(S=S[0]),S={[_.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:S},"@id"in n&&(S[_.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=n["@id"]),"@index"in n&&(S[_.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),x(p,r,S,{propertyIsArray:!y.compactArrays||m.includes("@set")}));else if(m.includes("@language")||m.includes("@index")||m.includes("@id")||m.includes("@type")){let e,i;if(p.hasOwnProperty(r)?e=p[r]:p[r]=e={},m.includes("@language"))c(S)&&(S=S["@value"]),i=n["@language"];else if(m.includes("@index")){const e=h(t,r,"@index")||"@index",o=_.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!0}});if("@index"===e)i=n["@index"],delete S[o];else{let t;if([i,...t]=k(S[e]||[]),s(i))switch(t.length){case 0:delete S[e];break;case 1:S[e]=t[0];break;default:S[e]=t}else i=null}}else if(m.includes("@id")){const e=_.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});i=S[e],delete S[e]}else if(m.includes("@type")){const e=_.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}});let o;switch([i,...o]=k(S[e]||[]),o.length){case 0:delete S[e];break;case 1:S[e]=o[0];break;default:S[e]=o}1===Object.keys(S).length&&"@id"in n&&(S=await _.compact({activeCtx:t,activeProperty:r,element:{"@id":n["@id"]},options:y}))}i||(i=_.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),x(e,i,S,{propertyIsArray:m.includes("@set")})}else{const e=!y.compactArrays||m.includes("@set")||m.includes("@list")||i(S)&&0===S.length||"@list"===a||"@graph"===a;x(p,r,S,{propertyIsArray:e})}}}else{if((h(t,n,"@container")||[]).includes("@index"))continue;const e=_.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});x(b,e,f)}else{const e=await _.compact({activeCtx:t,activeProperty:n,element:f,options:y});i(e)&&0===e.length||x(b,a,e)}else{const e=await _.compact({activeCtx:t,activeProperty:"@reverse",element:f,options:y});for(const n in e)if(t.mappings.has(n)&&t.mappings.get(n).reverse){const r=e[n],i=(h(t,n,"@container")||[]).includes("@set")||!y.compactArrays;x(b,n,r,{propertyIsArray:i}),delete e[n]}if(Object.keys(e).length>0){const n=_.compactIri({activeCtx:t,iri:a,relativeTo:{vocab:!0}});x(b,n,e)}}else{let e=k(f).map((e=>_.compactIri({activeCtx:w,iri:e,relativeTo:{vocab:!0}})));1===e.length&&(e=e[0]);const n=_.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),r=(h(t,n,"@container")||[]).includes("@set")&&v(t,1.1)||i(e)&&0===f.length;x(b,n,e,{propertyIsArray:r})}else{let e=k(f).map((e=>_.compactIri({activeCtx:t,iri:e,relativeTo:{vocab:!1},base:y.base})));1===e.length&&(e=e[0]);b[_.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=e}}return b}return p},_.compactIri=e=>{let{activeCtx:t,iri:n,value:i=null,relativeTo:s={vocab:!1},reverse:a=!1,base:d=null}=e;if(null===n)return n;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);const f=t.getInverse();if(m(n)&&n in f&&"@none"in f[n]&&"@type"in f[n]["@none"]&&"@none"in f[n]["@none"]["@type"])return f[n]["@none"]["@type"]["@none"];if(s.vocab&&n in f){const e=t["@language"]||"@none",r=[];o(i)&&"@index"in i&&!("@graph"in i)&&r.push("@index","@index@set"),o(i)&&"@preserve"in i&&(i=i["@preserve"][0]),u(i)?("@index"in i&&r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i&&r.push("@graph@id","@graph@id@set"),r.push("@graph","@graph@set","@set"),"@index"in i||r.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i||r.push("@graph@id","@graph@id@set")):o(i)&&!c(i)&&r.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(a)s="@type",d="@reverse",r.push("@set");else if(l(i)){"@index"in i||r.push("@list");const t=i["@list"];if(0===t.length)s="@any",d="@none";else{let n=0===t.length?e:null,r=null;for(let e=0;e<t.length;++e){const i=t[e];let o="@none",s="@none";if(c(i))if("@direction"in i){o=`${(i["@language"]||"").toLowerCase()}_${i["@direction"]}`}else"@language"in i?o=i["@language"].toLowerCase():"@type"in i?s=i["@type"]:o="@null";else s="@id";if(null===n?n=o:o!==n&&c(i)&&(n="@none"),null===r?r=s:s!==r&&(r="@none"),"@none"===n&&"@none"===r)break}n=n||"@none",r=r||"@none","@none"!==r?(s="@type",d=r):d=n}}else{if(c(i))if("@language"in i&&!("@index"in i)){r.push("@language","@language@set"),d=i["@language"];const e=i["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in i&&!("@index"in i)?d=`_${i["@direction"]}`:"@type"in i&&(s="@type",d=i["@type"]);else s="@type",d="@id";r.push("@set")}r.push("@none"),o(i)&&!("@index"in i)&&r.push("@index","@index@set"),c(i)&&1===Object.keys(i).length&&r.push("@language","@language@set");const f=function(e,t,n,r,i,s){null===s&&(s="@null");const a=[];if(("@id"===s||"@reverse"===s)&&o(n)&&"@id"in n){"@reverse"===s&&a.push("@reverse");const t=_.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(s);const e=a.find((e=>e.includes("_")));e&&a.push(e.replace(/^[^_]+_/,"_"))}a.push("@none");const l=e.inverse[t];for(const o of r){if(!(o in l))continue;const e=l[o][i];for(const t of a)if(t in e)return e[t]}return null}(t,n,i,r,s,d);if(null!==f)return f}if(s.vocab&&"@vocab"in t){const e=t["@vocab"];if(0===n.indexOf(e)&&n!==e){const r=n.substr(e.length);if(!t.mappings.has(r))return r}}let p=null;const h=[];let g=t.fastCurieMap;const v=n.length-1;for(let r=0;r<v&&n[r]in g;++r)g=g[n[r]],""in g&&h.push(g[""][0]);for(let r=h.length-1;r>=0;--r){const e=h[r],o=e.terms;for(const r of o){const o=r+":"+n.substr(e.iri.length);t.mappings.get(r)._prefix&&(!t.mappings.has(o)||null===i&&t.mappings.get(o)["@id"]===n)&&(null===p||S(o,p)<0)&&(p=o)}}if(null!==p)return p;for(const[o,l]of t.mappings)if(l&&l._prefix&&n.startsWith(o+":"))throw new r(`Absolute IRI "${n}" confused with prefix "${o}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});if(!s.vocab){if("@base"in t){if(t["@base"]){const e=y(b(d,t["@base"]),n);return w.test(e)?`./${e}`:e}return n}return y(d,n)}return n},_.compactValue=e=>{let{activeCtx:t,activeProperty:n,value:r,options:i}=e;if(c(r)){const e=h(t,n,"@type"),i=h(t,n,"@language"),o=h(t,n,"@direction"),a=h(t,n,"@container")||[],l="@index"in r&&!a.includes("@index");if(!l&&"@none"!==e){if(r["@type"]===e)return r["@value"];if("@language"in r&&r["@language"]===i&&"@direction"in r&&r["@direction"]===o)return r["@value"];if("@language"in r&&r["@language"]===i)return r["@value"];if("@direction"in r&&r["@direction"]===o)return r["@value"]}const c=Object.keys(r).length,u=1===c||2===c&&"@index"in r&&!l,d="@language"in t,f=s(r["@value"]),p=t.mappings.has(n)&&null===t.mappings.get(n)["@language"];if(u&&"@none"!==e&&(!d||!f||p))return r["@value"];const m={};return l&&(m[_.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?m[_.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=_.compactIri({activeCtx:t,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(m[_.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(m[_.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),m[_.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],m}const o=p(t,n,{vocab:!0},i),a=h(t,n,"@type"),l=_.compactIri({activeCtx:t,iri:r["@id"],relativeTo:{vocab:"@vocab"===a},base:i.base});return"@id"===a||"@vocab"===a||"@graph"===o?l:{[_.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:l}}},5219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const r=n(4355),i=n(13),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:e=>{let{params:{len:t}}=e;return r.str`must NOT have more than ${t} items`},params:e=>{let{params:{len:t}}=e;return r._`{limit: ${t}}`}},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?s(e,r):(0,i.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:n,schema:o,data:s,keyword:a,it:l}=e;l.items=!0;const c=n.const("len",r._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(r._`${c} <= ${t.length}`);else if("object"==typeof o&&!(0,i.alwaysValidSchema)(l,o)){const o=n.var("valid",r._`${c} <= ${t.length}`);n.if((0,r.not)(o),(()=>function(o){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:i.Type.Num},o),l.allErrors||n.if((0,r.not)(o),(()=>n.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=s,t.default=o},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},5355:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},5405:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function a(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=n(r+t(r,i,"[\\+\\-\\.]")+"*"),f=n(n(s+"|"+t(u,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("[1-9]"+i)+"|"+i),n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i)),h=n(p+"\\."+p+"\\."+p+"\\."+p),m=n(o+"{1,4}"),g=n(n(m+"\\:"+m)+"|"+h),v=n(n(m+"\\:")+"{6}"+g),y=n("\\:\\:"+n(m+"\\:")+"{5}"+g),b=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+g),w=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+g),x=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+g),k=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+g),S=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+g),_=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),E=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),P=n([v,y,b,w,x,k,S,_,E].join("|")),T=n(n(u+"|"+s)+"+"),$=(n(P+"\\%25"+T),n(P+n("\\%25|\\%(?!"+o+"{2})")+T)),N=n("[vV]"+o+"+\\."+t(u,a,"[\\:]")+"+"),j=n("\\["+n($+"|"+P+"|"+N)+"\\]"),A=n(n(s+"|"+t(u,a))+"*"),C=n(j+"|"+h+"(?!"+A+")|"+A),O=n(i+"*"),I=n(n(f+"@")+"?"+C+n("\\:"+O)+"?"),R=n(s+"|"+t(u,a,"[\\:\\@]")),L=n(R+"*"),D=n(R+"+"),M=n(n(s+"|"+t(u,a,"[\\@]"))+"+"),F=n(n("\\/"+L)+"*"),z=n("\\/"+n(D+F)+"?"),V=n(M+F),B=n(D+F),U="(?!"+R+")",q=(n(F+"|"+z+"|"+V+"|"+B+"|"+U),n(n(R+"|"+t("[\\/\\?]",c))+"*")),H=n(n(R+"|[\\/\\?]")+"*"),G=n(n("\\/\\/"+I+F)+"|"+z+"|"+B+"|"+U),W=n(d+"\\:"+G+n("\\?"+q)+"?"+n("\\#"+H)+"?"),J=n(n("\\/\\/"+I+F)+"|"+z+"|"+V+"|"+U),K=n(J+n("\\?"+q)+"?"+n("\\#"+H)+"?");return n(W+"|"+K),n(d+"\\:"+G+n("\\?"+q)+"?"),n(n("\\/\\/("+n("("+f+")@")+"?("+C+")"+n("\\:("+O+")")+"?)")+"?("+F+"|"+z+"|"+B+"|"+U+")"),n("\\?("+q+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+C+")"+n("\\:("+O+")")+"?)")+"?("+F+"|"+z+"|"+V+"|"+U+")"),n("\\?("+q+")"),n("\\#("+H+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+C+")"+n("\\:("+O+")")+"?)")+"?("+F+"|"+z+"|"+B+"|"+U+")"),n("\\?("+q+")"),n("\\#("+H+")"),n("("+f+")@"),n("\\:("+O+")"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+P+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+T+")")+"?\\]?$")}}var l=a(!1),c=a(!0),u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},f=2147483647,p=36,h=1,m=26,g=38,v=700,y=72,b=128,w="-",x=/^xn--/,k=/[^\0-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=p-h,P=Math.floor,T=String.fromCharCode;function $(e){throw new RangeError(_[e])}function N(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function j(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+N((e=e.replace(S,".")).split("."),t).join(".")}function A(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var C=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p},O=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},I=function(e,t,n){var r=0;for(e=n?P(e/v):e>>1,e+=P(e/t);e>E*m>>1;r+=p)e=P(e/E);return P(r+(E+1)*e/(e+g))},R=function(e){var t=[],n=e.length,r=0,i=b,o=y,s=e.lastIndexOf(w);s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&$("not-basic"),t.push(e.charCodeAt(a));for(var l=s>0?s+1:0;l<n;){for(var c=r,u=1,d=p;;d+=p){l>=n&&$("invalid-input");var g=C(e.charCodeAt(l++));(g>=p||g>P((f-r)/u))&&$("overflow"),r+=g*u;var v=d<=o?h:d>=o+m?m:d-o;if(g<v)break;var x=p-v;u>P(f/x)&&$("overflow"),u*=x}var k=t.length+1;o=I(r-c,k,0==c),P(r/k)>f-i&&$("overflow"),i+=P(r/k),r%=k,t.splice(r++,0,i)}return String.fromCodePoint.apply(String,t)},L=function(e){var t=[],n=(e=A(e)).length,r=b,i=0,o=y,s=!0,a=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value;d<128&&t.push(T(d))}}catch(G){a=!0,l=G}finally{try{!s&&u.return&&u.return()}finally{if(a)throw l}}var g=t.length,v=g;for(g&&t.push(w);v<n;){var x=f,k=!0,S=!1,_=void 0;try{for(var E,N=e[Symbol.iterator]();!(k=(E=N.next()).done);k=!0){var j=E.value;j>=r&&j<x&&(x=j)}}catch(G){S=!0,_=G}finally{try{!k&&N.return&&N.return()}finally{if(S)throw _}}var C=v+1;x-r>P((f-i)/C)&&$("overflow"),i+=(x-r)*C,r=x;var R=!0,L=!1,D=void 0;try{for(var M,F=e[Symbol.iterator]();!(R=(M=F.next()).done);R=!0){var z=M.value;if(z<r&&++i>f&&$("overflow"),z==r){for(var V=i,B=p;;B+=p){var U=B<=o?h:B>=o+m?m:B-o;if(V<U)break;var q=V-U,H=p-U;t.push(T(O(U+q%H,0))),V=P(q/H)}t.push(T(O(V,0))),o=I(i,C,v==g),i=0,++v}}}catch(G){L=!0,D=G}finally{try{!R&&F.return&&F.return()}finally{if(L)throw D}}++i,++r}return t.join("")},D=function(e){return j(e,(function(e){return x.test(e)?R(e.slice(4).toLowerCase()):e}))},M=function(e){return j(e,(function(e){return k.test(e)?"xn--"+L(e):e}))},F={version:"2.1.0",ucs2:{decode:A,encode:function(e){return String.fromCodePoint.apply(String,d(e))}},decode:R,encode:L,toASCII:M,toUnicode:D},z={};function V(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function B(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function U(e,t){function n(e){var n=B(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,V).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,V).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,V).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,V).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,V).replace(t.PCT_ENCODED,i)),e}function q(e){return e.replace(/^0*(.*)/,"$1")||"0"}function H(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(q).join("."):e}function G(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),i=r[1],o=r[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=u(s,2),l=a[0],c=a[1],d=c?c.split(":").map(q):[],f=l.split(":").map(q),p=t.IPV4ADDRESS.test(f[f.length-1]),h=p?7:8,m=f.length-h,g=Array(h),v=0;v<h;++v)g[v]=d[v]||f[m+v]||"";p&&(g[h-1]=H(g[h-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=g.slice(0,y.index),x=g.slice(y.index+y.length);b=w.join(":")+"::"+x.join(":")}else b=g.join(":");return o&&(b+="%"+o),b}return e}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,J=void 0==="".match(/(){0}/)[1];function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(W);if(i){J?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=G(H(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=z[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)U(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=F.toASCII(n.host.replace(r.PCT_ENCODED,B).toLowerCase())}catch(s){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+s}U(n,l)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function X(e,t){var n=!1!==t.iri?c:l,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(G(H(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Y=/^\.\.?\//,Q=/^\/\.(\/|$)/,Z=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Y))e=e.replace(Y,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(Z))e=e.replace(Z,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?c:l,r=[],i=z[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?F.toUnicode(e.host):F.toASCII(e.host.replace(n.PCT_ENCODED,B).toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+a}U(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=X(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||i&&i.absolutePath||(s=te(s)),void 0===o&&(s=s.replace(/^\/\//,"/%2F")),r.push(s)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=K(ne(e,n),n),t=K(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=te(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function ie(e,t,n){var r=s({scheme:"null"},n);return ne(re(K(e,r),K(t,r),r,!0),r)}function oe(e,t){return"string"===typeof e?e=ne(K(e,t),t):"object"===r(e)&&(e=K(ne(e,t),t)),e}function se(e,t,n){return"string"===typeof e?e=ne(K(e,n),n):"object"===r(e)&&(e=ne(e,n)),"string"===typeof t?t=ne(K(t,n),n):"object"===r(t)&&(t=ne(t,n)),e===t}function ae(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,V)}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,B)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ue={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function de(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var fe={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=de(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(de(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=u(n,2),i=r[0],o=r[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},pe={scheme:"wss",domainHost:fe.domainHost,parse:fe.parse,serialize:fe.serialize},he={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ge="[0-9A-Fa-f]",ve=n(n("%[EFef]"+ge+"%"+ge+ge+"%"+ge+ge)+"|"+n("%[89A-Fa-f]"+ge+"%"+ge+ge)+"|"+n("%"+ge+ge)),ye="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",be=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),we="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",xe=new RegExp(me,"g"),ke=new RegExp(ve,"g"),Se=new RegExp(t("[^]",ye,"[\\.]",'[\\"]',be),"g"),_e=new RegExp(t("[^]",me,we),"g"),Ee=_e;function Pe(e){var t=B(e);return t.match(xe)?t:e}var Te={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},s=n.query.split("&"),a=0,l=s.length;a<l;++a){var c=s[a].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,f=u.length;d<f;++d)r.push(u[d]);break;case"subject":n.subject=le(c[1],t);break;case"body":n.body=le(c[1],t);break;default:i=!0,o[le(c[0],t)]=le(c[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var p=0,h=r.length;p<h;++p){var m=r[p].split("@");if(m[0]=le(m[0]),t.unicodeSupport)m[1]=le(m[1],t).toLowerCase();else try{m[1]=F.toASCII(le(m[1],t).toLowerCase())}catch(g){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}r[p]=m.join("@")}return n},serialize:function(e,t){var n=e,r=o(e.to);if(r){for(var s=0,a=r.length;s<a;++s){var l=String(r[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(ke,Pe).replace(ke,i).replace(Se,V),d=l.slice(c+1);try{d=t.iri?F.toUnicode(d):F.toASCII(le(d,t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}r[s]=u+"@"+d}n.path=r.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var p=[];for(var h in f)f[h]!==he[h]&&p.push(h.replace(ke,Pe).replace(ke,i).replace(_e,V)+"="+f[h].replace(ke,Pe).replace(ke,i).replace(Ee,V));return p.length&&(n.query=p.join("&")),n}},$e=/^([^\:]+)\:(.*)/,Ne={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match($e),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=i+":"+(t.nid||o),l=z[a];r.nid=o,r.nss=s,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=z[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(r||t.nid)+":"+a,s}},je=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ae={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(je)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};z[ce.scheme]=ce,z[ue.scheme]=ue,z[fe.scheme]=fe,z[pe.scheme]=pe,z[Te.scheme]=Te,z[Ne.scheme]=Ne,z[Ae.scheme]=Ae,e.SCHEMES=z,e.pctEncChar=V,e.pctDecChars=B,e.parse=K,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=re,e.resolve=ie,e.normalize=oe,e.equal=se,e.escapeComponent=ae,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)},5430:function(e,t){(function(){var e="ltr",n="rtl",r="bidi",i={Hebrew:["0590","05FF"],Arabic:["0600","06FF"],NKo:["07C0","07FF"],Syriac:["0700","074F"],Thaana:["0780","07BF"],Tifinagh:["2D30","2D7F"]};function o(t){if("undefined"===typeof t)throw new Error("TypeError missing argument");if("string"!==typeof t)throw new Error("TypeError getDirection expects strings");if(""===t)return"";if(t.indexOf("\u200e")>-1&&t.indexOf("\u200f")>-1)return r;if(t.indexOf("\u200e")>-1)return e;if(t.indexOf("\u200f")>-1)return n;var i=s(t,n),o=s(t,e);return i&&o?r:o?e:i?n:""}function s(t,r){var o,s,l,c,u,d=!1,f=!1;for(u=t.search(/[0-9]/)>-1,t=t.replace(/[\s\n\0\f\t\v\'\"\-0-9\+\?\!]+/gm,""),o=0;o<t.length;o++){for(l in s=t.charAt(o),c=!1,i)i.hasOwnProperty(l)&&a(s,i[l][0],i[l][1])&&(d=!0,c=!0);!1===c&&(f=!0)}return r===n?d:r===e?f||!d&&u:void 0}function a(e,t,n){var r=e.charCodeAt(0),i=parseInt(t,16),o=parseInt(n,16);return r>i&&r<o}t.getDirection=o,t.patch=function(){String.prototype.getDirection=function(){return o(this.valueOf())}}}).call(this)},5442:(e,t,n)=>{const{parse:r}=n(4495);e.exports=e=>{try{return r(e),!0}catch(t){return!1}}},5470:(e,t)=>{"use strict";function n(e){return e[0]}Object.defineProperty(t,"__esModule",{value:!0});const r=e=>[].concat(...e.map((e=>Array.isArray(e)?r(e):e)));function i(e){return e?Array.isArray(e)?r(e).join(""):e:""}const o={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:n},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:n},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:n},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:n},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:i(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:i(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:i(e[0]),domainPart:i(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:i(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:i(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:n},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:n},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:n},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:n},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:n},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:n},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:n},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:n},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:n},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:n},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:n},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:n},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:n}],ParserStart:"Reverse_path"};t.default=o},5480:(e,t,n)=>{var r=n(3633);function i(e,t){for(var n,r,i=e.length,o=t,s=t;s<i;s++){var a=e[s];if(","===a){n=s;break}if("]"===a||"}"===a){n=s-1;break}if(!m(a))throw y(e,s,"expecting end of expression or separator")}return void 0===n?r=e[n=i]:(r=e[n],n++),{start:o,end:n,value:r}}function o(e,t){for(var n,r=e.length,i=t,o=t;o<r;o++){var s=e[o];if(":"===s){n=o;break}if(!m(s))throw y(e,o,"expecting ':'")}if(void 0===n)throw y(e,o,"expecting ':'");return{start:i,end:++n}}function s(e,t,n,i){for(var o,s,a,h,g=e.length,b=!1,w=!1,x=!1,k=!1,S=!1,_=0,E=!1,P=t;P<g;P++){var T=e[P];if(void 0===o){if(!m(T)){if("["===T)b=!0;else if("{"===T)w=!0;else if('"'===T)x=!0;else{if(d(e,P)){o=P,s=P+=3,h=!0;break}if(f(e,P)){o=P,s=P+=4,h=!1;break}if(p(e,P)){o=P,s=P+=3,h=null;break}if(v(T))k=!0;else{if("-"!==T)throw y(e,P,"");k=!0}}o=P}}else{if(b){var $=u(e,P,n,i);s=$.end,h=$.value;break}if(w){var N=l(e,P,n,i);s=N.end,h=N.value;break}if(x&&'"'===T&&c(e,P-1)){s=P,h=r(e.substring(o+1,s));break}if(k)if(m(T))E=!0;else{if(","===T||"]"===T||"}"===T){h=parseFloat(e.substring(o,s),10),s=P-1;break}if(v(T)&&!E){a&&_++;continue}if("."!==T||S||a||E){if("e"!==T&&"E"!==T||a||E){if("+"!==T&&"-"!==T||a!==P-1||E)throw y(e,P,"expecting number");continue}a=P}else S=!0}}}if(k&&a&&!_)throw y(e,P,"expecting number");if(void 0===s){if(!k)throw y(e,P,"unclosed statement");h=parseFloat(e.substring(o,P),10),s=P-1}return{value:h,start:o,end:++s}}function a(e,t){for(var n,i,o=e.length,s=t;s<o;s++){var a=e[s];if(void 0===n){if(!m(a)){if('"'!==a)throw y(e,s,"expecting String");n=s}}else if('"'===a&&c(e,s-1)){i=s;break}}if(void 0===i)throw y(e,o,"expecting String");var l=r(e.substring(n+1,i));if(""===l)throw y(e,n,"empty string");return{start:n,end:++i,value:l}}function l(e,t,n,r){for(var l=t,c=",",u={},d=[],f=[],p=t;m(e[p]);)p++;if("}"===e[p])return{start:t,end:p,value:u};for(;","===c;){var h=a(e,l),g=s(e,o(e,h.end).end,n,r),v=i(e,g.end);if(!n&&-1!==d.indexOf(h.value))throw y(e,h.end,'duplicated keys "'+h.value+'"');d.push(h.value),f.push(g.value),l=v.end,c=v.value}if(r){var b=0;for(b=0;b<d.length;b++)u[d[b]]=f[b]}return{start:t,end:l,value:u}}function c(e,t){for(var n=t,r=0;n>-1&&"\\"===e[n];)r++,n--;return r%2===0}function u(e,t,n,r){for(var o=t,a=",",l=[],c=t;m(e[c]);)c++;if("]"===e[c])return{start:t,end:c,value:l};for(;","===a;){var u=s(e,o,n,r),d=i(e,u.end);r&&l.push(u.value),o=d.end,a=d.value}return{start:t,end:o,value:l}}function d(e,t){return"true"===e.substr(t,4)}function f(e,t){return"false"===e.substr(t,5)}function p(e,t){return"null"===e.substr(t,4)}e.exports={validate:function(e,t){var n;if(t=t||!1,"string"!==typeof e)n="Input must be a string";else try{s(e,0,t,!1)}catch(r){n=r.message}return n},parse:function(e,t){if("string"!==typeof e)throw new Error("Input must be a string");return s(e,0,t=t||!1,!0).value}};var h=new RegExp(/^\s$/);function m(e){return h.test(e)}var g=new RegExp(/^\d$/);function v(e){return g.test(e)}function y(e,t,n){var r,i,o=10;return r=e.length<t+o?e.substr(b(e.length-o),e.length):t-5<0?e.substr(0,o):e.substr(b(t-5),o),i=n?"Syntax error: "+n+" near "+r:"Syntax error near "+r,new Error(i)}function b(e){return e<0?0:e}},5481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(3757),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"should match exactly one schema in oneOf",params:e=>{let{params:t}=e;return r._`{passingSchemas: ${t.passing}}`}},code(e){const{gen:t,schema:n,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const s=n,a=t.let("valid",!1),l=t.let("passing",null),c=t.name("_valid");e.setParams({passing:l}),t.block((function(){s.forEach(((n,s)=>{let u;i.alwaysValidSchema(o,n)?t.var(c,!0):u=e.subschema({keyword:"oneOf",schemaProp:s,compositeRule:!0},c),s>0&&t.if(r._`${c} && ${a}`).assign(a,!1).assign(l,r._`[${l}, ${s}]`).else(),t.if(c,(()=>{t.assign(a,!0),t.assign(l,s),u&&e.mergeEvaluated(u,r.Name)}))}))})),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},5511:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},5570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(4355),i=n(13),o=n(9381);function s(e,t){const n=e.const("err",t);e.if(r._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,r._`[${n}]`)),r._`${o.default.vErrors}.push(${n})`),e.code(r._`${o.default.errors}++`)}function a(e,t){const{gen:n,validateName:i,schemaEnv:o}=e;o.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${i}.errors`,t),n.return(!1))}t.keywordError={message:e=>{let{keyword:t}=e;return r.str`must pass "${t}" keyword validation`}},t.keyword$DataError={message:e=>{let{keyword:t,schemaType:n}=e;return n?r.str`"${t}" keyword must be ${n} ($data)`:r.str`"${t}" keyword is invalid ($data)`}},t.reportError=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;const{it:l}=e,{gen:u,compositeRule:d,allErrors:f}=l,p=c(e,n,i);(null!==o&&void 0!==o?o:d||f)?s(u,p):a(l,r._`[${p}]`)},t.reportExtraError=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,r=arguments.length>2?arguments[2]:void 0;const{it:i}=e,{gen:l,compositeRule:u,allErrors:d}=i;s(l,c(e,n,r)),u||d||a(i,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(r._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function(e){let{gen:t,keyword:n,schemaValue:i,data:s,errsCount:a,it:l}=e;if(void 0===a)throw new Error("ajv implementation error");const c=t.name("err");t.forRange("i",a,o.default.errors,(e=>{t.const(c,r._`${o.default.vErrors}[${e}]`),t.if(r._`${c}.instancePath === undefined`,(()=>t.assign(r._`${c}.instancePath`,(0,r.strConcat)(o.default.instancePath,l.errorPath)))),t.assign(r._`${c}.schemaPath`,r.str`${l.errSchemaPath}/${n}`),l.opts.verbose&&(t.assign(r._`${c}.schema`,i),t.assign(r._`${c}.data`,s))}))};const l={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function c(e,t,n){const{createErrors:i}=e.it;return!1===i?r._`{}`:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{gen:i,it:s}=e,a=[u(s,n),d(e,n)];return function(e,t,n){let{params:i,message:s}=t;const{keyword:a,data:c,schemaValue:u,it:d}=e,{opts:f,propertyName:p,topSchemaRef:h,schemaPath:m}=d;n.push([l.keyword,a],[l.params,"function"==typeof i?i(e):i||r._`{}`]),f.messages&&n.push([l.message,"function"==typeof s?s(e):s]);f.verbose&&n.push([l.schema,u],[l.parentSchema,r._`${h}${m}`],[o.default.data,c]);p&&n.push([l.propertyName,p])}(e,t,a),i.object(...a)}(e,t,n)}function u(e,t){let{errorPath:n}=e,{instancePath:s}=t;const a=s?r.str`${n}${(0,i.getErrorPath)(s,i.Type.Str)}`:n;return[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,a)]}function d(e,t){let{keyword:n,it:{errSchemaPath:o}}=e,{schemaPath:s,parentSchema:a}=t,c=a?o:r.str`${o}/${n}`;return s&&(c=r.str`${c}${(0,i.getErrorPath)(s,i.Type.Str)}`),[l.schemaPath,c]}},5589:function(e,t,n){!function(e){"use strict";if(!e.setImmediate){var t,n=1,r={},i=!1,o=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?t=function(e){process.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var n="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(n)&&l(+t.data.slice(n.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),t=function(t){e.postMessage(n+t,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},t=function(t){e.port2.postMessage(t)}}():o&&"onreadystatechange"in o.createElement("script")?function(){var e=o.documentElement;t=function(t){var n=o.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():t=function(e){setTimeout(l,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var i=new Array(arguments.length-1),o=0;o<i.length;o++)i[o]=arguments[o+1];var s={callback:e,args:i};return r[n]=s,t(n),n++},s.clearImmediate=a}function a(e){delete r[e]}function l(e){if(i)setTimeout(l,0,e);else{var t=r[e];if(t){i=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{a(e),i=!1}}}}}("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)},5693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(5355),o={keyword:"const",$data:!0,error:{message:"should be equal to constant",params:e=>{let{schemaCode:t}=e;return r._`{allowedValue: ${t}}`}},code(e){const t=e.gen.scopeValue("func",{ref:i,code:r._`require("ajv/dist/compile/equal")`});e.fail$data(r._`!${t}(${e.data}, ${e.schemaCode})`)}};t.default=o},5733:(e,t,n)=>{var r,i;!function(){var o="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g;r=[n(2480),n(3302),t],i=function(e,t,n){o.Backbone=function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.1",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s,a=t.Events={},l=/\s+/,c=function(e,t,r,i,o){var s,a=0;if(r&&"object"===typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)t=c(e,t,s[a],r[s[a]],o)}else if(r&&l.test(r))for(s=r.split(l);a<s.length;a++)t=e(t,s[a],i,o);else t=e(t,r,i,o);return t};a.on=function(e,t,n){(this._events=c(u,this._events||{},e,t,{context:n,ctx:this,listening:s}),s)&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1);return this},a.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=s=o[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=o[i]=new g(this,e));var l=d(e,t,r,this);if(s=void 0,l)throw l;return a.interop&&a.on(t,r),this};var u=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return e},d=function(e,t,n,r){try{e.on(t,n,r)}catch(i){return i}};a.off=function(e,t,n){return this._events?(this._events=c(f,this._events,e,t,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(t,r,this),a.interop&&a.off(t,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var f=function(e,t,r,i){if(e){var o,s=i.context,a=i.listeners,l=0;if(t||s||r){for(o=t?[t]:n.keys(e);l<o.length;l++){var c=e[t=o[l]];if(!c)break;for(var u=[],d=0;d<c.length;d++){var f=c[d];if(r&&r!==f.callback&&r!==f.callback._callback||s&&s!==f.context)u.push(f);else{var p=f.listening;p&&p.off(t,r)}}u.length?e[t]=u:delete e[t]}return e}for(o=n.keys(a);l<o.length;l++)a[o[l]].cleanup()}};a.once=function(e,t,n){var r=c(p,{},e,t,this.off.bind(this));return"string"===typeof e&&null==n&&(t=void 0),this.on(r,t,n)},a.listenToOnce=function(e,t,n){var r=c(p,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var p=function(e,t,r,i){if(r){var o=e[t]=n.once((function(){i(t,o),r.apply(this,arguments)}));o._callback=r}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return c(h,this._events,e,void 0,n),this};var h=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[t].concat(r))}return e},m=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},g=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=a.on,g.prototype.off=function(e,t){var n;this.interop?(this._events=c(f,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(t,a);var v=t.Model=function(e,t){var r=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"===typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,d=this._previousAttributes;for(var f in i)t=i[f],n.isEqual(c[f],t)||a.push(f),n.isEqual(d[f],t)?delete u[f]:u[f]=t,o?delete c[f]:c[f]=t;if(this.idAttribute in i){var p=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,p,r)}if(!s){a.length&&(this._pending=r);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,c[a[h]],r)}if(l)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in e){var s=e[o];n.isEqual(r[o],s)||(i[o]=s,t=!0)}return!!t&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},J(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"===typeof e?(i=e,r=t):(i={})[e]=t;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,l=this.attributes;r.success=function(e){s.attributes=l;var t=r.parse?s.parse(e,r):e;if(o&&(t=n.extend({},i,t)),t&&!s.set(t,r))return!1;a&&a.call(r.context,s,e,r),s.trigger("sync",s,e,r)},J(this,r),i&&o&&(this.attributes=n.extend({},l,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var u=this.sync(c,this,r);return this.attributes=l,u},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(J(this,e),s=this.sync("delete",this,e)),i||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||W();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var y=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},x=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<o;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(y.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,w))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],l=[],c=[],u=[],d={},f=t.add,p=t.merge,h=t.remove,m=!1,g=this.comparator&&null==i&&!1!==t.sort,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){o=e[s];var y=this.get(o);if(y){if(p&&o!==y){var w=this._isModel(o)?o.attributes:o;t.parse&&(w=y.parse(w,t)),y.set(w,t),c.push(y),g&&!m&&(m=y.hasChanged(v))}d[y.cid]||(d[y.cid]=!0,a.push(y)),e[s]=y}else f&&(o=e[s]=this._prepareModel(o,t))&&(l.push(o),this._addReference(o,t),d[o.cid]=!0,a.push(o))}if(h){for(s=0;s<this.length;s++)d[(o=this.models[s]).cid]||u.push(o);u.length&&this._removeModels(u,t)}var k=!1,S=!g&&f&&h;if(a.length&&S?(k=this.length!==a.length||n.some(this.models,(function(e,t){return e!==a[t]})),this.models.length=0,x(this.models,a,0),this.length=this.models.length):l.length&&(g&&(m=!0),x(this.models,l,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(s=0;s<l.length;s++)null!=i&&(t.index=i+s),(o=l[s]).trigger("add",o,this,t);(m||k)&&this.trigger("sort",this,t),(l.length||u.length||c.length)&&(t.changes={added:l,removed:u,merged:c},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e,e.idAttribute)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},J(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e,t){return e[t||this.model.prototype.idAttribute||"id"]},values:function(){return new S(this,_)},keys:function(){return new S(this,E)},entries:function(){return new S(this,P)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){return this._isModel(e)?(e.collection||(e.collection=this),e):((t=t?n.clone(t):{}).collection=this,(r=this.model.prototype?new this.model(e,t):this.model(e,t)).validationError?(this.trigger("invalid",this,r.validationError,t),!1):r);var r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes,i.idAttribute);null!=s&&delete this._byId[s],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes,e.idAttribute);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes,e.idAttribute);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"changeId"===e){var i=this.modelId(t.previousAttributes(),t.idAttribute),o=this.modelId(t.attributes,t.idAttribute);null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t)}}this.trigger.apply(this,arguments)}});var k="function"===typeof Symbol&&Symbol.iterator;k&&(y.prototype[k]=y.prototype.values);var S=function(e,t){this._collection=e,this._kind=t,this._index=0},_=1,E=2,P=3;k&&(S.prototype[k]=function(){return this});S.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===_)e=t;else{var n=this._collection.modelId(t.attributes,t.idAttribute);e=this._kind===E?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var T=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,N)),this._ensureElement(),this.initialize.apply(this,arguments)},$=/^(\S+)\s*(.*)$/,N=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match($);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var j=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,i){return e[n](this[r],C(t,this),i)};case 4:return function(t,i,o){return e[n](this[r],C(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}},A=function(e,t,r,i){n.each(r,(function(n,r){t[r]&&(e.prototype[r]=j(t,n,r,i))}))},C=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?O(e):n.isString(e)?function(t){return t.get(e)}:e},O=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},I={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},R={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,I,"models"],[v,R,"attributes"]],(function(e){var t=e[0],r=e[1],i=e[2];t.mixin=function(e){var r=n.reduce(n.functions(e),(function(e,t){return e[t]=0,e}),{});A(t,e,r,i)},A(t,n,r,i)})),t.sync=function(e,r,i){var o=L[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||W()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,c,i),c};var L={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var D=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},M=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,z=/\*\w+/g,V=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,(function(n){var s=o._extractParameters(e,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),t.history.trigger("route",o,r,s))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(V,"\\$&").replace(M,"(?:$1)?").replace(F,(function(e,t){return t?e:"([^/?]+)"})).replace(z,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,(function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null}))}});var B=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},U=/^[#\/]|\s+$/g,q=/^\/+|\/+$/g,H=/#.*$/;B.started=!1,n.extend(B.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(U,"")},start:function(e){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(q,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!B.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(H,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new B;var G=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};v.extend=y.extend=D.extend=T.extend=B.extend=G;var W=function(){throw new Error('A "url" property or function must be specified')},J=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(o,n,e,t)}.apply(t,r),void 0===i||(e.exports=i)}()},5739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const r=n(4355),i=n(9381),o=n(6627),s=n(5570);function a(e){const{gen:t,data:n,it:i}=e;t.if(i.parentData,(()=>t.assign(n,r._`${i.parentData}[${i.parentDataProperty}]`)))}function l(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,r.stringify)(n)})}t.macroKeywordCode=function(e,t){const{gen:n,keyword:i,schema:o,parentSchema:s,it:a}=e,c=t.macro.call(a.self,o,s,a),u=l(n,i,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const d=n.name("valid");e.subschema({schema:c,schemaPath:r.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var n;const{gen:c,keyword:u,schema:d,parentSchema:f,$data:p,it:h}=e;!function(e,t){let{schemaEnv:n}=e;if(t.async&&!n.$async)throw new Error("async keyword in sync schema")}(h,t);const m=!p&&t.compile?t.compile.call(h.self,d,f,h):t.validate,g=l(c,u,m),v=c.let("valid");function y(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.async?r._`await `:r.nil;const s=h.opts.passContext?i.default.this:i.default.self,a=!("compile"in t&&!p||!1===t.schema);c.assign(v,r._`${n}${(0,o.callValidateCode)(e,g,s,a)}`,t.modifying)}function b(e){var n;c.if((0,r.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&a(e),b((()=>e.error()));else{const n=t.async?function(){const e=c.let("ruleErrs",null);return c.try((()=>y(r._`await `)),(t=>c.assign(v,!1).if(r._`${t} instanceof ${h.ValidationError}`,(()=>c.assign(e,r._`${t}.errors`)),(()=>c.throw(t))))),e}():function(){const e=r._`${g}.errors`;return c.assign(e,null),y(r.nil),e}();t.modifying&&a(e),b((()=>function(e,t){const{gen:n}=e;n.if(r._`Array.isArray(${t})`,(()=>{n.assign(i.default.vErrors,r._`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,r._`${i.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)},t.validSchemaType=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e))},t.validateKeywordUsage=function(e,t,n){let{schema:r,opts:i,self:o,errSchemaPath:s}=e;if(Array.isArray(t.keyword)?!t.keyword.includes(n):t.keyword!==n)throw new Error("ajv implementation error");const a=t.dependencies;if(null===a||void 0===a?void 0:a.some((e=>!Object.prototype.hasOwnProperty.call(r,e))))throw new Error(`parent schema must have dependencies of ${n}: ${a.join(",")}`);if(t.validateSchema){if(!t.validateSchema(r[n])){const e=`keyword "${n}" value is invalid at path "${s}": `+o.errorsText(t.validateSchema.errors);if("log"!==i.validateSchema)throw new Error(e);o.logger.error(e)}}}},5808:(e,t,n)=>{"use strict";const r=n(6609),i=n(4948);e.exports=class extends i{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r){let r,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,r="r"}const s=this.hashRelatedBlankNode(o,i,t,r),a=n.get(s);a?a.push(o):n.set(s,[o])}return n}}},5843:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(1459),i=n(3757),o=n(828),s=n(3349);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,i){const o=r._`${t}${r.getProperty(n)} === undefined`;return i?r.or(o,r.not(l(e,t,n))):o}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:i,it:o}=e;n.if(c(n,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function(e,t,n){let{gen:i,data:o,it:{opts:s}}=e;return r.or(...t.map((e=>r.and(c(i,o,e,s.ownProperties),r._`${n} = ${e}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=l,t.propertyInData=function(e,t,n,i){const o=r._`${t}${r.getProperty(n)} !== undefined`;return i?r._`${o} && ${l(e,t,n)}`:o},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!i.alwaysValidSchema(e,t[n])))},t.callValidateCode=function(e,t,n,i){let{schemaCode:o,data:a,it:{gen:l,topSchemaRef:c,schemaPath:u,errorPath:d},it:f}=e;const p=i?r._`${o}, ${a}, ${c}${u}`:a,h=[[s.default.dataPath,r.strConcat(s.default.dataPath,d)],[s.default.parentData,f.parentData],[s.default.parentDataProperty,f.parentDataProperty],[s.default.rootData,s.default.rootData]];f.opts.dynamicRef&&h.push([s.default.dynamicAnchors,s.default.dynamicAnchors]);const m=r._`${p}, ${l.object(...h)}`;return n!==r.nil?r._`${t}.call(${n}, ${m})`:r._`${t}(${m})`},t.usePattern=function(e,t){return e.scopeValue("pattern",{key:t,ref:new RegExp(t,"u"),code:r._`new RegExp(${t}, "u")`})},t.validateArray=function(e){const{gen:t,data:n,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",r._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:i,dataProp:n,dataPropType:o.Type.Num},a),t.if(r.not(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>i.alwaysValidSchema(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,i)=>{const s=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},l);t.assign(a,r._`${a} || ${l}`);e.mergeValidEvaluated(s,l)||t.if(r.not(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},5905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(3757),i=n(5355),o=n(2832),s=n(5405),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const l=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(l.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function u(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!a.has(n)&&("object"==typeof e[n]&&r.eachItem(e[n],(e=>t+=u(e))),t===1/0))return 1/0}return t}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!1!==(arguments.length>1?arguments[1]:void 0)&&(e=h(e));return f(s.parse(e))}function f(e){return s.serialize(e).split("#")[0]+"#"}t.getFullPath=d,t._getFullPath=f;const p=/#\/?$/;function h(e){return e?e.replace(p,""):""}t.normalizeId=h,t.resolveUrl=function(e,t){return t=h(t),s.resolve(e,t)};const m=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e){if("boolean"==typeof e)return{};const t=h(e.$id),n={"":t},r=d(t,!1),a={},l=new Set;return o(e,{allKeys:!0},((e,t,i,o)=>{if(void 0===o)return;const d=r+t;let f=n[o];function p(t){if(t=h(f?s.resolve(f,t):t),l.has(t))throw u(t);l.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?c(e,n.schema,t):t!==h(d)&&("#"===t[0]?(c(e,a[t],t),a[t]=e):this.refs[t]=d),t}function g(e){if("string"==typeof e){if(!m.test(e))throw new Error(`invalid anchor "${e}"`);p.call(this,`#${e}`)}}"string"==typeof e.$id&&(f=p.call(this,e.$id)),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),n[t]=f})),a;function c(e,t,n){if(void 0!==t&&!i(e,t))throw u(n)}function u(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},5906:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3329),i=n(9099),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default];t.default=o},5946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5906),i=n(7670),o=n(2564),s=n(3326),a=n(4183),l=[r.default,i.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},5959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const r=n(2932),i=n(4355),o=i.operators,s={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:e=>{let{keyword:t,schemaCode:n}=e;return i.str`should be ${s[t].okStr} ${n}`},params:e=>{let{keyword:t,schemaCode:n}=e;return i._`{comparison: ${s[t].okStr}, limit: ${n}}`}};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:n,schemaCode:o,keyword:a,it:l}=e,{opts:c,self:u}=l;if(!c.validateFormats)return;const d=new r.KeywordCxt(l,u.RULES.all.format.definition,"format");function f(e){return i._`${e}.compare(${n}, ${o}) ${s[a].fail} 0`}d.$data?function(){const n=t.scopeValue("formats",{ref:u.formats,code:c.code.formats}),r=t.const("fmt",i._`${n}[${d.schemaCode}]`);e.fail$data(i.or(i._`typeof ${r} != "object"`,i._`${r} instanceof RegExp`,i._`typeof ${r}.compare != "function"`,f(r)))}():function(){const n=d.schema,r=u.formats[n];if(!r||!0===r)return;if("object"!=typeof r||r instanceof RegExp||"function"!=typeof r.compare)throw new Error(`"${a}": format "${n}" does not define "compare" function`);const o=t.scopeValue("formats",{key:n,ref:r,code:c.code.formats?i._`${c.code.formats}${i.getProperty(n)}`:void 0});e.fail$data(f(o))}()},dependencies:["format"]};t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},6189:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t}))}return!0}},6259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const r=n(4355),i=n(13),o=n(6627);t.error={message:e=>{let{params:{property:t,depsCount:n,deps:i}}=e;const o=1===n?"property":"properties";return r.str`must have ${o} ${i} when property ${t} is present`},params:e=>{let{params:{property:t,depsCount:n,deps:i,missingProperty:o}}=e;return r._`{property: ${t},
    missingProperty: ${o},
    depsCount: ${n},
    deps: ${i}}`}};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=function(e){let{schema:t}=e;const n={},r={};for(const i in t){if("__proto__"===i)continue;(Array.isArray(t[i])?n:r)[i]=t[i]}return[n,r]}(e);a(e,t),l(e,n)}};function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{gen:n,data:i,it:s}=e;if(0===Object.keys(t).length)return;const a=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,o.propertyInData)(n,i,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)(0,o.checkReportMissingProp)(e,t)})):(n.if(r._`${u} && (${(0,o.checkMissingProp)(e,c,a)})`),(0,o.reportMissingProp)(e,a),n.else())}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema;const{gen:n,data:r,keyword:s,it:a}=e,l=n.name("valid");for(const c in t)(0,i.alwaysValidSchema)(a,t[c])||(n.if((0,o.propertyInData)(n,r,c,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=a,t.validateSchemaDeps=l,t.default=s},6279:(e,t,n)=>{const r=n(2207),i=n(9935),o=n(7173),s=n(4676),a=o.IdentifierIssuer,l=n(3281),c=n(8027),u=n(2539),{expand:d}=n(9493),{flatten:f}=n(607),{fromRDF:p}=n(1473),{toRDF:h}=n(7626),{frameMergedOrDefault:m,cleanupNull:g}=n(5100),{isArray:v,isObject:y,isString:b}=n(9212),{isSubjectReference:w}=n(660),{expandIri:x,getInitialContext:k,process:S,processingMode:_}=n(1682),{compact:E,compactIri:P}=n(5208),{createNodeMap:T,createMergedNodeMap:$,mergeNodeMaps:N}=n(3611),{logEventHandler:j,logWarningEventHandler:A,safeEventHandler:C,setDefaultEventHandler:O,setupEventHandler:I,strictEventHandler:R,unhandledEventHandler:L}=n(7608),D=function(e){const t={},D=new c({max:100});function M(t,n){let{documentLoader:r=e.documentLoader,...i}=n;if(t&&"compactionMap"in t)throw new l('"compactionMap" not supported.',"jsonld.OptionsError");if(t&&"expansionMap"in t)throw new l('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:r},i,t,{eventHandler:I({options:t})})}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;(r=M(r,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b"),contextResolver:new s({sharedCache:D})})).link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,i=r.skipExpansion?t:await e.expand(t,r);const c=await e.processContext(k(r),n,r);let u=await E({activeCtx:c,element:i,options:r});r.compactArrays&&!r.graph&&v(u)?1===u.length?u=u[0]:0===u.length&&(u={}):r.graph&&y(u)&&(u=[u]),y(n)&&"@context"in n&&(n=n["@context"]),n=o.clone(n),v(n)||(n=[n]);const d=n;n=[];for(let e=0;e<d.length;++e)(!y(d[e])||Object.keys(d[e]).length>0)&&n.push(d[e]);const f=n.length>0;if(1===n.length&&(n=n[0]),v(u)){const e=P({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},f&&(u["@context"]=n),u[e]=t}else if(y(u)&&f){const e=u;u={"@context":n};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const r={},i=[];if("expandContext"in(n=M(n,{keepFreeFloatingNodes:!1,contextResolver:new s({sharedCache:D})}))){const e=o.clone(n.expandContext);y(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},i.push(r.expandContext)}let a;if(b(t)){const o=await e.get(t,n);a=o.documentUrl,r.input=o.document,o.contextUrl&&(r.remoteContext={"@context":o.contextUrl},i.push(r.remoteContext))}else r.input=o.clone(t);"base"in n||(n.base=a||"");let l=k(n);for(const e of i)l=await S({activeCtx:l,localCtx:e,options:n});let c=await d({activeCtx:l,element:r.input,options:n});return y(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),v(c)||(c=[c]),c},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"===typeof n?null:n||null,r=M(r,{base:b(t)?t:"",contextResolver:new s({sharedCache:D})});const i=await e.expand(t,r),o=f(i);if(null===n)return o;r.graph=!0,r.skipExpansion=!0;return await e.compact(o,n,r)},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=M(r,{base:b(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new s({sharedCache:D})}),b(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const i=n&&n["@context"]||{},o=await e.processContext(k(r),i,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=_(o,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=_(o,1.1));const a=await e.expand(t,r),l={...r};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(n,l),u=Object.keys(n).map((e=>x(o,e,{vocab:!0})));l.merged=!u.includes("@graph"),l.is11=_(o,1.1);const d=m(a,c,l);l.graph=!r.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let f=await e.compact(d,i,l);return l.link={},f=g(f,l),f},e.link=async function(t,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=M(n,{base:b(t)?t:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new s({sharedCache:D})}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return r.canonize(e,n)}const i={...n};delete i.format,i.produceGeneralizedRdf=!1;const o=await e.toRDF(t,i);return r.canonize(o,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=M(n,{format:b(e)?"application/n-quads":void 0});const{format:r}=n;let{rdfParser:i}=n;if(r){if(i=i||t[r],!i)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:r})}else i=()=>e;const o=await i(e);return p(o,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;r=(n=M(n,{base:b(t)?t:"",skipExpansion:!1,contextResolver:new s({sharedCache:D})})).skipExpansion?t:await e.expand(t,n);const i=h(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return u.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return i},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=M(n,{base:b(t)?t:"",contextResolver:new s({sharedCache:D})});const r=await e.expand(t,n);return $(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!v(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"===typeof n?null:n||null,r=M(r,{contextResolver:new s({sharedCache:D})});const i=await Promise.all(t.map((t=>{const n={...r};return e.expand(t,n)})));let l=!0;"mergeNodes"in r&&(l=r.mergeNodes);const c=r.issuer||new a("_:b"),u={"@default":{}};for(let e=0;e<i.length;++e){const t=o.relabelBlankNodes(i[e],{issuer:new a("_:b"+e+"-")}),n=l||0===e?u:{"@default":{}};if(T(t,n,"@default",c),n!==u)for(const e in n){const t=n[e];if(!(e in u)){u[e]=t;continue}const r=u[e];for(const e in t)e in r||(r[e]=t[e])}}const d=N(u),f=[],p=Object.keys(d).sort();for(let e=0;e<p.length;++e){const t=d[p[e]];w(t)||f.push(t)}if(null===n)return f;r.graph=!0,r.skipExpansion=!0;return await e.compact(f,n,r)},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader;const i=await r(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(i.document)&&(i.document=JSON.parse(i.document))}catch(o){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:o,remoteDoc:i})}return i},e.processContext=async function(e,t,n){return n=M(n,{base:"",contextResolver:new s({sharedCache:D})}),null===t?k(n):(t=o.clone(t),y(t)&&"@context"in t||(t={"@context":t}),S({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(1682).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=n(3508),e.logEventHandler=j,e.logWarningEventHandler=A,e.safeEventHandler=C,e.setDefaultEventHandler=O,e.strictEventHandler=R,e.unhandledEventHandler=L,e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=n(4197),e.JsonLdProcessor=n(6955)(e),i.setupGlobals(e),i.setupDocumentLoaders(e),e},M=function(){return D((function(){return M()}))};D(M),e.exports=M},6293:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decode:()=>v,default:()=>x,encode:()=>y,toASCII:()=>w,toUnicode:()=>b,ucs2decode:()=>p,ucs2encode:()=>h});const r=2147483647,i=36,o=/^xn--/,s=/[^\0-\x7F]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,u=String.fromCharCode;function d(e){throw new RangeError(l[e])}function f(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(a,".")).split("."),t).join(".");return r+i}function p(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const h=e=>String.fromCodePoint(...e),m=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},g=function(e,t,n){let r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;r+=i)e=c(e/35);return c(r+36*e/(e+38))},v=function(e){const t=[],n=e.length;let o=0,s=128,a=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let r=0;r<l;++r)e.charCodeAt(r)>=128&&d("not-basic"),t.push(e.charCodeAt(r));for(let f=l>0?l+1:0;f<n;){const l=o;for(let t=1,s=i;;s+=i){f>=n&&d("invalid-input");const l=(u=e.charCodeAt(f++))>=48&&u<58?u-48+26:u>=65&&u<91?u-65:u>=97&&u<123?u-97:i;l>=i&&d("invalid-input"),l>c((r-o)/t)&&d("overflow"),o+=l*t;const p=s<=a?1:s>=a+26?26:s-a;if(l<p)break;const h=i-p;t>c(r/h)&&d("overflow"),t*=h}const p=t.length+1;a=g(o-l,p,0==l),c(o/p)>r-s&&d("overflow"),s+=c(o/p),o%=p,t.splice(o++,0,s)}var u;return String.fromCodePoint(...t)},y=function(e){const t=[],n=(e=p(e)).length;let o=128,s=0,a=72;for(const r of e)r<128&&t.push(u(r));const l=t.length;let f=l;for(l&&t.push("-");f<n;){let n=r;for(const t of e)t>=o&&t<n&&(n=t);const p=f+1;n-o>c((r-s)/p)&&d("overflow"),s+=(n-o)*p,o=n;for(const h of e)if(h<o&&++s>r&&d("overflow"),h===o){let e=s;for(let n=i;;n+=i){const r=n<=a?1:n>=a+26?26:n-a;if(e<r)break;const o=e-r,s=i-r;t.push(u(m(r+o%s,0))),e=c(o/s)}t.push(u(m(e,0))),a=g(s,p,f===l),s=0,++f}++s,++o}return t.join("")},b=function(e){return f(e,(function(e){return o.test(e)?v(e.slice(4).toLowerCase()):e}))},w=function(e){return f(e,(function(e){return s.test(e)?"xn--"+y(e):e}))},x={version:"2.3.1",ucs2:{decode:p,encode:h},decode:v,encode:y,toASCII:w,toUnicode:b}},6329:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const r=n(4355),i=n(13);t.getSubschema=function(e,t){let{keyword:n,schemaProp:o,schema:s,schemaPath:a,errSchemaPath:l,topSchemaRef:c}=t;if(void 0!==n&&void 0!==s)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==n){const t=e.schema[n];return void 0===o?{schema:t,schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${n}`}:{schema:t[o],schemaPath:r._`${e.schemaPath}${(0,r.getProperty)(n)}${(0,r.getProperty)(o)}`,errSchemaPath:`${e.errSchemaPath}/${n}/${(0,i.escapeFragment)(o)}`}}if(void 0!==s){if(void 0===a||void 0===l||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:a,topSchemaRef:c,errSchemaPath:l}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,n){let{dataProp:o,dataPropType:s,data:a,dataTypes:l,propertyName:c}=n;if(void 0!==a&&void 0!==o)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==o){const{errorPath:n,dataPathArr:a,opts:l}=t;d(u.let("data",r._`${t.data}${(0,r.getProperty)(o)}`,!0)),e.errorPath=r.str`${n}${(0,i.getErrorPath)(o,s,l.jsPropertySyntax)}`,e.parentDataProperty=r._`${o}`,e.dataPathArr=[...a,e.parentDataProperty]}if(void 0!==a){d(a instanceof r.Name?a:u.let("data",a,!0)),void 0!==c&&(e.propertyName=c)}function d(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}l&&(e.dataTypes=l)},t.extendSubschemaMode=function(e,t){let{jtdDiscriminator:n,jtdMetadata:r,compositeRule:i,createErrors:o,allErrors:s}=t;void 0!==i&&(e.compositeRule=i),void 0!==o&&(e.createErrors=o),void 0!==s&&(e.allErrors=s),e.jtdDiscriminator=n,e.jtdMetadata=r}},6434:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&n.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},6476:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.length;let n,r=0,i=0;for(;i<t;)r++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),56320===(64512&n)&&i++);return r}},6495:(e,t,n)=>{"use strict";const r=n(9763),i=n(9031),o=n(4948),s=n(5808);let a;try{a=n(7789)}catch(c){}function l(e){return Array.isArray(e)?e:t.NQuads.legacyDatasetToQuads(e)}t.NQuads=n(7637),t.IdentifierIssuer=n(6707),t._rdfCanonizeNative=function(e){return e&&(a=e),a},t.canonize=async function(e,t){const n=l(e);if(t.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise(((e,r)=>a.canonize(n,t,((t,n)=>t?r(t):e(n)))))}if("URDNA2015"===t.algorithm)return new r(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(t).main(n)}if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},t._canonizeSync=function(e,t){const n=l(e);if(t.useNative){if(!a)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return a.canonizeSync(n,t)}if("URDNA2015"===t.algorithm)return new o(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(t).main(n)}if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},6576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o=n(6627),s=n(5219),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:e=>{let{params:{len:t}}=e;return r.str`must NOT have more than ${t} items`},params:e=>{let{params:{len:t}}=e;return r._`{limit: ${t}}`}},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:a}=n;r.items=!0,(0,i.alwaysValidSchema)(r,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},6609:(e,t,n)=>{"use strict";n(5589);const r=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!r||!r.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupported algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await r.subtle.digest(this.algorithm,e));let n="";for(let r=0;r<t.length;++r)n+=t[r].toString(16).padStart(2,"0");return n}}},6627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const r=n(4355),i=n(13),o=n(9381),s=n(13);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._`Object.prototype.hasOwnProperty`})}function l(e,t,n){return r._`${a(e)}.call(${t}, ${n})`}function c(e,t,n,i){const o=r._`${t}${(0,r.getProperty)(n)} === undefined`;return i?(0,r.or)(o,(0,r.not)(l(e,t,n))):o}function u(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:n,data:i,it:o}=e;n.if(c(n,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:r._`${t}`},!0),e.error()}))},t.checkMissingProp=function(e,t,n){let{gen:i,data:o,it:{opts:s}}=e;return(0,r.or)(...t.map((e=>(0,r.and)(c(i,o,e,s.ownProperties),r._`${n} = ${e}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=l,t.propertyInData=function(e,t,n,i){const o=r._`${t}${(0,r.getProperty)(n)} !== undefined`;return i?r._`${o} && ${l(e,t,n)}`:o},t.noPropertyInData=c,t.allSchemaProperties=u,t.schemaProperties=function(e,t){return u(t).filter((n=>!(0,i.alwaysValidSchema)(e,t[n])))},t.callValidateCode=function(e,t,n,i){let{schemaCode:s,data:a,it:{gen:l,topSchemaRef:c,schemaPath:u,errorPath:d},it:f}=e;const p=i?r._`${s}, ${a}, ${c}${u}`:a,h=[[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,d)],[o.default.parentData,f.parentData],[o.default.parentDataProperty,f.parentDataProperty],[o.default.rootData,o.default.rootData]];f.opts.dynamicRef&&h.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const m=r._`${p}, ${l.object(...h)}`;return n!==r.nil?r._`${t}.call(${n}, ${m})`:r._`${t}(${m})`};const d=r._`new RegExp`;t.usePattern=function(e,t){let{gen:n,it:{opts:i}}=e;const o=i.unicodeRegExp?"u":"",{regExp:a}=i.code,l=a(t,o);return n.scopeValue("pattern",{key:l.toString(),ref:l,code:r._`${"new RegExp"===a.code?d:(0,s.useFunc)(n,a)}(${t}, ${o})`})},t.validateArray=function(e){const{gen:t,data:n,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(a,!0),l((()=>t.break())),a;function l(s){const l=t.const("len",r._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:o,dataProp:n,dataPropType:i.Type.Num},a),t.if((0,r.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:n,keyword:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,i.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block((()=>n.forEach(((n,i)=>{const s=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},l);t.assign(a,r._`${a} || ${l}`);e.mergeValidEvaluated(s,l)||t.if((0,r.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},6707:e=>{"use strict";e.exports=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},6731:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(9772),i=n(5843),o=n(1459),s=n(3349),a=n(637),l=n(3757),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:i}=e,{baseId:s,schemaEnv:l,validateName:c,opts:f,self:p}=i;if("#"===n||"#/"===n)return function(){if(l===l.root)return d(e,c,l,l.$async);const n=t.scopeValue("root",{ref:l.root});return d(e,o._`${n}.validate`,l.root,l.root.$async)}();const h=a.resolveRef.call(p,l.root,s,n);if(void 0===h)throw new r.MissingRefError(s,n);return h instanceof a.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(h):function(r){const i=t.scopeValue("schema",!0===f.code.source?{ref:r,code:o.stringify(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(h)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):o._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,r){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:d,opts:f}=c,p=f.passContext?s.default.this:o.nil;function h(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(r&&!r.dynamicProps)void 0!==r.props&&(c.props=l.mergeEvaluated.props(a,r.props,c.props));else{const t=a.var("props",o._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,o.Name)}if(!0!==c.items)if(r&&!r.dynamicItems)void 0!==r.items&&(c.items=l.mergeEvaluated.items(a,r.items,c.items));else{const t=a.var("items",o._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,o.Name)}}r?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(o._`await ${i.callValidateCode(e,t,p)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(o._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),h(e),u||a.assign(n,!1)})),e.ok(n)}():e.result(i.callValidateCode(e,t,p),(()=>m(t)),(()=>h(t)))}t.getValidate=u,t.callRef=d,t.default=c},6807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(9438),o=n(3773),s=n(8617),a=n(13),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:e=>{let{params:{discrError:t,tagName:n}}=e;return t===i.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`},params:e=>{let{params:{discrError:t,tag:n,tagName:i}}=e;return r._`{error: ${t}, tag: ${i}, tagValue: ${n}}`}},code(e){const{gen:t,data:n,schema:l,parentSchema:c,it:u}=e,{oneOf:d}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=l.propertyName;if("string"!=typeof f)throw new Error("discriminator: requires propertyName");if(l.mapping)throw new Error("discriminator: mapping is not supported");if(!d)throw new Error("discriminator: requires oneOf keyword");const p=t.let("valid",!1),h=t.const("tag",r._`${n}${(0,r.getProperty)(f)}`);function m(n){const i=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:n},i);return e.mergeEvaluated(o,r.Name),i}t.if(r._`typeof ${h} == "string"`,(()=>function(){const n=function(){var e;const t={},n=i(c);let r=!0;for(let c=0;c<d.length;c++){let t=d[c];if((null===t||void 0===t?void 0:t.$ref)&&!(0,a.schemaHasRulesButRef)(t,u.self.RULES)){const e=t.$ref;if(t=o.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e),t instanceof o.SchemaEnv&&(t=t.schema),void 0===t)throw new s.default(u.opts.uriResolver,u.baseId,e)}const p=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[f];if("object"!=typeof p)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);r=r&&(n||i(t)),l(p,c)}if(!r)throw new Error(`discriminator: "${f}" must be required`);return t;function i(e){let{required:t}=e;return Array.isArray(t)&&t.includes(f)}function l(e,t){if(e.const)p(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`);for(const n of e.enum)p(n,t)}}function p(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${f}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(r._`${h} === ${e}`),t.assign(p,m(n[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}()),(()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:h,tagName:f}))),e.ok(p)}};t.default=l},6945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=n},6955:e=>{"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},7013:(e,t,n)=>{"use strict";var r=n(755),i={permanent:n(7364),provosional:n(852),historical:n(2798)},o={};Object.keys(i).forEach((function(e){i[e].forEach((function(t){o[t.scheme]=r(t,{type:e})}))})),i.unofficial=n(3446).filter((function(e){return!o[e.scheme]})),i.unofficial.forEach((function(e){o[e.scheme]=r(e,{type:"unofficial"})})),e.exports=r(i,{allByName:o})},7014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1044),i=n(3945),o=n(2433),s=n(2756),a=n(244),l=n(8013),c=n(8417),u=n(463),d=n(5693),f=n(8321),p=[r.default,i.default,o.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,f.default];t.default=p},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},7173:(e,t,n)=>{"use strict";const r=n(660),i=n(9212),o=n(2207).IdentifierIssuer,s=n(3281),a=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={accept:"application/ld+json, application/json"},d={};function f(e,t){if(i.isArray(t))for(let n=0;n<t.length;++n)t[n]=f(e,t[n]);else if(r.isList(t))t["@list"]=f(e,t["@list"]);else if(i.isObject(t)){r.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const i=n[r];"@id"!==i&&(t[i]=f(e,t[i]))}}return t}e.exports=d,d.IdentifierIssuer=o,d.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,d.REGEX_KEYWORD=/^@[a-zA-Z]+$/,d.clone=function(e){if(e&&"object"===typeof e){let t;if(i.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=d.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,d.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(d.clone(n))}else if(i.isObject(e)){t={};for(const n in e)t[n]=d.clone(e[n])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+u.accept+'" is supported.');return Object.assign({Accept:u.accept},e)},d.parseLinkHeader=e=>{const t={},n=e.match(a);for(let r=0;r<n.length;++r){let e=n[r].match(l);if(!e)continue;const i={target:e[1]},o=e[2];for(;e=c.exec(o);)i[e[1]]=void 0===e[2]?e[3]:e[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t.hasOwnProperty(s)?t[s]=[t[s],i]:t[s]=i}return t},d.validateTypeValue=(e,t)=>{if(!i.isString(e)&&(!i.isArray(e)||!e.every((e=>i.isString(e))))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every((e=>i.isString(e))))return}throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!i.isArray(n)||n.length>0}return!1},d.hasValue=(e,t,n)=>{if(d.hasProperty(e,t)){let o=e[t];const s=r.isList(o);if(i.isArray(o)||s){s&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(d.compareValues(n,o[e]))return!0}else if(!i.isArray(n))return d.compareValues(n,o)}return!1},d.addValue=(e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(i.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)d.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){const o=!r.allowDuplicate&&d.hasValue(e,t,n);i.isArray(e[t])||o&&!r.propertyIsArray||(e[t]=[e[t]]),o||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const i=d.getValues(e,t).filter((e=>!d.compareValues(e,n)));0===i.length?d.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>f((t=t||{}).issuer||new o("_:b"),e),d.compareValues=(e,t)=>e===t||(!(!r.isValue(e)||!r.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},7227:(e,t)=>{"use strict";function n(e){const t=e.length;let n,r=0,i=0;for(;i<t;)r++,n=e.charCodeAt(i++),n>=55296&&n<=56319&&i<t&&(n=e.charCodeAt(i),56320===(64512&n)&&i++);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.code='require("ajv/dist/runtime/ucs2length").default'},7233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3757),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:i}=e;if(r.alwaysValidSchema(i,n))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.result(o,(()=>e.error()),(()=>e.reset()))},error:{message:"should NOT be valid"}};t.default=i},7264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5355);r.code='require("ajv/dist/runtime/equal").default',t.default=r},7301:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},7353:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:e=>{let{params:t}=e;return r._`{passingSchemas: ${t.passing}}`}},code(e){const{gen:t,schema:n,parentSchema:o,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){a.forEach(((n,o)=>{let a;(0,i.alwaysValidSchema)(s,n)?t.var(u,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},u),o>0&&t.if(r._`${u} && ${l}`).assign(l,!1).assign(c,r._`[${c}, ${o}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,o),a&&e.mergeEvaluated(a,r.Name)}))}))})),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},7355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keywordCode=void 0;const r=n(4906),i=n(8546),o=n(5843),s=n(1459),a=n(3349);function l(e,t){var n;const{gen:r,keyword:l,schema:d,parentSchema:f,$data:p,it:h}=e;!function(e,t){let{schemaEnv:n}=e;if(t.async&&!n.$async)throw new Error("async keyword in sync schema")}(h,t);const m=!p&&t.compile?t.compile.call(h.self,d,f,h):t.validate,g=u(r,l,m),v=r.let("valid");function y(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.async?s._`await `:s.nil;const i=h.opts.passContext?a.default.this:a.default.self,l=!("compile"in t&&!p||!1===t.schema);r.assign(v,s._`${n}${o.callValidateCode(e,g,i,l)}`,t.modifying)}function b(e){var n;r.if(s.not(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,(function(){if(!1===t.errors)y(),t.modifying&&c(e),b((()=>e.error()));else{const n=t.async?function(){const e=r.let("ruleErrs",null);return r.try((()=>y(s._`await `)),(t=>r.assign(v,!1).if(s._`${t} instanceof ${h.ValidationError}`,(()=>r.assign(e,s._`${t}.errors`)),(()=>r.throw(t))))),e}():function(){const e=s._`${g}.errors`;return r.assign(e,null),y(s.nil),e}();t.modifying&&c(e),b((()=>function(e,t){const{gen:n}=e;n.if(s._`Array.isArray(${t})`,(()=>{n.assign(a.default.vErrors,s._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`).assign(a.default.errors,s._`${a.default.vErrors}.length`),i.extendErrors(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)}function c(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,(()=>t.assign(n,s._`${r.parentData}[${r.parentDataProperty}]`)))}function u(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:s.stringify(n)})}t.keywordCode=function(e,t,n,i){const o=new r.default(e,n,t);"code"in n?n.code(o,i):o.$data&&n.validate?l(o,n):"macro"in n?function(e,t){const{gen:n,keyword:r,schema:i,parentSchema:o,it:a}=e,l=t.macro.call(a.self,i,o,a),c=u(n,r,l);!1!==a.opts.validateSchema&&a.self.validateSchema(l,!0);const d=n.name("valid");e.subschema({schema:l,schemaPath:s.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:c,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))}(o,n):(n.compile||n.validate)&&l(o,n)}},7364:e=>{"use strict";e.exports=JSON.parse('[{"scheme":"aaa","description":"Diameter Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6733"}]},{"scheme":"aaas","description":"Diameter Protocol with Secure Transport","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6733"}]},{"scheme":"about","description":"about","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6694"}]},{"scheme":"acap","description":"application configuration access protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2244"}]},{"scheme":"acct","description":"acct","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7565"}]},{"scheme":"cap","description":"Calendar Access Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4324"}]},{"scheme":"cid","description":"content identifier","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2392"}]},{"scheme":"coap","description":"coap","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7252"}]},{"scheme":"coaps","description":"coaps","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7252"}]},{"scheme":"crid","description":"TV-Anytime Content Reference Identifier","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4078"}]},{"scheme":"data","description":"data","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2397"}]},{"scheme":"dav","description":"dav","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4918"}]},{"scheme":"dict","description":"dictionary service protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2229"}]},{"scheme":"dns","description":"Domain Name System","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4501"}]},{"scheme":"example","description":"example","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7595"}]},{"scheme":"file","description":"Host-specific file names","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc1738"}]},{"scheme":"ftp","description":"File Transfer Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc1738"}]},{"scheme":"geo","description":"Geographic Locations","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5870"}]},{"scheme":"go","description":"go","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3368"}]},{"scheme":"gopher","description":"The Gopher Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4266"}]},{"scheme":"h323","description":"H.323","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3508"}]},{"scheme":"http","description":"Hypertext Transfer Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7230"}]},{"scheme":"https","description":"Hypertext Transfer Protocol Secure","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7230"}]},{"scheme":"iax","description":"Inter-Asterisk eXchange Version 2","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5456"}]},{"scheme":"icap","description":"Internet Content Adaptation Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3507"}]},{"scheme":"im","description":"Instant Messaging","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3860"}]},{"scheme":"imap","description":"internet message access protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5092"}]},{"scheme":"info","description":"Information Assets with Identifiers in Public Namespaces. \\n       (section 3) defines an \\"info\\" registry \\n        of public namespaces, which is maintained by NISO and can be accessed \\n        from .","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4452"}]},{"scheme":"ipp","description":"Internet Printing Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3510"}]},{"scheme":"ipps","description":"Internet Printing Protocol over HTTPS","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7472"}]},{"scheme":"iris","description":"Internet Registry Information Service","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3981"}]},{"scheme":"iris.beep","description":"iris.beep","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3983"}]},{"scheme":"iris.lwz","description":"iris.lwz","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4993"}]},{"scheme":"iris.xpc","description":"iris.xpc","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4992"}]},{"scheme":"iris.xpcs","description":"iris.xpcs","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4992"}]},{"scheme":"jabber","description":"jabber","reference":[],"template":"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{"scheme":"ldap","description":"Lightweight Directory Access Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4516"}]},{"scheme":"mailto","description":"Electronic mail address","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6068"}]},{"scheme":"mid","description":"message identifier","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2392"}]},{"scheme":"msrp","description":"Message Session Relay Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4975"}]},{"scheme":"msrps","description":"Message Session Relay Protocol Secure","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4975"}]},{"scheme":"mtqp","description":"Message Tracking Query Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3887"}]},{"scheme":"mupdate","description":"Mailbox Update (MUPDATE) Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3656"}]},{"scheme":"news","description":"USENET news","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5538"}]},{"scheme":"nfs","description":"network file system protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2224"}]},{"scheme":"ni","description":"ni","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6920"}]},{"scheme":"nih","description":"nih","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6920"}]},{"scheme":"nntp","description":"USENET news using NNTP access","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5538"}]},{"scheme":"opaquelocktoken","description":"opaquelocktokent","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4918"}]},{"scheme":"pkcs11","description":"PKCS#11","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7512"}]},{"scheme":"pop","description":"Post Office Protocol v3","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2384"}]},{"scheme":"pres","description":"Presence","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3859"}]},{"scheme":"reload","description":"reload","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6940"}]},{"scheme":"rtsp","description":"Real-time Streaming Protocol (RTSP)","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2326"},{"type":"draft","href":"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{"scheme":"rtsps","description":"Real-time Streaming Protocol (RTSP) over TLS","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2326"},{"type":"draft","href":"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{"scheme":"rtspu","description":"Real-time Streaming Protocol (RTSP) over unreliable datagram transport","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2326"}]},{"scheme":"service","description":"service location","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2609"}]},{"scheme":"session","description":"session","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6787"}]},{"scheme":"shttp","description":"Secure Hypertext Transfer Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2660"}]},{"scheme":"sieve","description":"ManageSieve Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5804"}]},{"scheme":"sip","description":"session initiation protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3261"}]},{"scheme":"sips","description":"secure session initiation protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3261"}]},{"scheme":"sms","description":"Short Message Service","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5724"}]},{"scheme":"snmp","description":"Simple Network Management Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4088"}]},{"scheme":"soap.beep","description":"soap.beep","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4227"}]},{"scheme":"soap.beeps","description":"soap.beeps","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4227"}]},{"scheme":"stun","description":"stun","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7064"}]},{"scheme":"stuns","description":"stuns","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7064"}]},{"scheme":"tag","description":"tag","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4151"}]},{"scheme":"tel","description":"telephone","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3966"}]},{"scheme":"telnet","description":"Reference to interactive sessions","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc4248"}]},{"scheme":"tftp","description":"Trivial File Transfer Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3617"}]},{"scheme":"thismessage","description":"multipart/related relative reference resolution","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2557"}],"template":"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{"scheme":"tip","description":"Transaction Internet Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2371"}]},{"scheme":"tn3270","description":"Interactive 3270 emulation sessions","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6270"}]},{"scheme":"turn","description":"turn","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7065"}]},{"scheme":"turns","description":"turns","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc7065"}]},{"scheme":"tv","description":"TV Broadcasts","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2838"}]},{"scheme":"urn","description":"Uniform Resource Names","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2141"},{"type":"registry","href":"http://www.iana.org/assignments/urn-namespaces"}]},{"scheme":"vemmi","description":"versatile multimedia interface","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2122"}]},{"scheme":"vnc","description":"Remote Framebuffer Protocol","reference":[{"type":"draft","href":"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{"scheme":"ws","description":"WebSocket connections","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6455"}]},{"scheme":"wss","description":"Encrypted WebSocket connections","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6455"}]},{"scheme":"xcon","description":"xcon","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6501"}]},{"scheme":"xcon-userid","description":"xcon-userid","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc6501"}]},{"scheme":"xmlrpc.beep","description":"xmlrpc.beep","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3529"}]},{"scheme":"xmlrpc.beeps","description":"xmlrpc.beeps","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc3529"}]},{"scheme":"xmpp","description":"Extensible Messaging and Presence Protocol","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc5122"}]},{"scheme":"z39.50r","description":"Z39.50 Retrieval","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2056"}]},{"scheme":"z39.50s","description":"Z39.50 Session","reference":[{"type":"rfc","href":"http://www.iana.org/go/rfc2056"}]}]')},7457:(e,t,n)=>{e.exports.iri=n(9488),e.exports.duration=n(9184),e.exports["idn-email"]=n(5442),e.exports["idn-hostname"]=n(9609),e.exports["iri-reference"]=n(1628)},7608:(e,t,n)=>{"use strict";const r=n(3281),{isArray:i}=n(9212),{asArray:o}=n(7173),s={};function a(e){let{event:t,handlers:n}=e,o=!0;for(let s=0;o&&s<n.length;++s){o=!1;const e=n[s];if(i(e))o=a({event:t,handlers:e});else if("function"===typeof e)e({event:t,next:()=>{o=!0}});else{if("object"!==typeof e)throw new r("Invalid event handler.","jsonld.InvalidEventHandler",{event:t});t.code in e?e[t.code]({event:t,next:()=>{o=!0}}):o=!0}}return o}e.exports=s,s.defaultEventHandler=null,s.setupEventHandler=e=>{let{options:t={}}=e;const n=[].concat(t.safe?s.safeEventHandler:[],t.eventHandler?o(t.eventHandler):[],s.defaultEventHandler?s.defaultEventHandler:[]);return 0===n.length?null:n},s.handleEvent=e=>{let{event:t,options:n}=e;a({event:t,handlers:n.eventHandler})};const l=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);s.safeEventHandler=function(e){let{event:t,next:n}=e;if("warning"===t.level&&l.has(t.code))throw new r("Safe mode validation error.","jsonld.ValidationError",{event:t});n()},s.logEventHandler=function(e){let{event:t,next:n}=e;console.log(`EVENT: ${t.message}`,{event:t}),n()},s.logWarningEventHandler=function(e){let{event:t,next:n}=e;"warning"===t.level&&console.warn(`WARNING: ${t.message}`,{event:t}),n()},s.unhandledEventHandler=function(e){let{event:t}=e;throw new r("No handler for event.","jsonld.UnhandledEvent",{event:t})},s.setDefaultEventHandler=function(){let{eventHandler:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.defaultEventHandler=e?o(e):null}},7619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5843),i=n(1459),o=n(828),s=n(3640),a=n(3757),l={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:l,parentSchema:c,it:u}=e,{opts:d}=u,f=r.schemaProperties(u,n);if(0===f.length)return;const p=d.strict&&!d.allowMatchingProperties&&c.properties,h=t.name("valid");!0===u.props||u.props instanceof i.Name||(u.props=a.evaluatedPropsToName(t,u.props));const{props:m}=u;function g(e){for(const t in p)new RegExp(e).test(t)&&s.checkStrictMode(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",l,(s=>{t.if(i._`${r.usePattern(t,n)}.test(${s})`,(()=>{e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:s,dataPropType:o.Type.Str},h),u.opts.unevaluated&&!0!==m?t.assign(i._`${m}[${s}]`,!0):u.allErrors||t.if(i.not(h),(()=>t.break()))}))}))}!function(){for(const e of f)p&&g(e),u.allErrors?v(e):(t.var(h,!0),v(e),t.if(h))}()}};t.default=l},7626:(e,t,n)=>{"use strict";const{createNodeMap:r}=n(3611),{isKeyword:i}=n(1682),o=n(660),s=n(323),a=n(3281),l=n(9212),c=n(7173),{handleEvent:u}=n(7608),{RDF_FIRST:d,RDF_REST:f,RDF_NIL:p,RDF_TYPE:h,RDF_JSON_LITERAL:m,RDF_LANGSTRING:g,XSD_BOOLEAN:v,XSD_DOUBLE:y,XSD_INTEGER:b,XSD_STRING:w}=n(4876),{isAbsolute:x}=n(3508),k={};function S(e,t,n,r,o){const s=Object.keys(t).sort();for(const a of s){const s=t[a],l=Object.keys(s).sort();for(let t of l){const l=s[t];if("@type"===t)t=h;else if(i(t))continue;for(const i of l){const s={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!x(a)){o.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:o});continue}const l={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!x(t)){o.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:t}},options:o});continue}if("BlankNode"===l.termType&&!o.produceGeneralizedRdf){o.eventHandler&&u({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find((e=>r.getId(e)===t))}},options:o});continue}const c=_(i,r,e,n,o.rdfDirection,o);c&&e.push({subject:s,predicate:l,object:c,graph:n})}}}}function _(e,t,n,r,i,c){const h={};if(o.isValue(e)){h.termType="Literal",h.value=void 0,h.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)h.value=s(t),h.datatype.value=m;else if(l.isBoolean(t))h.value=t.toString(),h.datatype.value=n||v;else if(l.isDouble(t)||n===y)l.isDouble(t)||(t=parseFloat(t)),h.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),h.datatype.value=n||y;else if(l.isNumber(t))h.value=t.toFixed(0),h.datatype.value=n||b;else if("@direction"in e&&"i18n-datatype"===i){const n=`https://www.w3.org/ns/i18n#${(e["@language"]||"").toLowerCase()}_${e["@direction"]}`;h.datatype.value=n,h.value=t}else{if("@direction"in e&&"compound-literal"===i)throw new a("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new a("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&c.eventHandler&&u({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:h.value}},options:c}),h.value=t,h.datatype.value=n||g,h.language=e["@language"]):("@direction"in e&&!i&&c.eventHandler&&u({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:h.value}},options:c}),h.value=t,h.datatype.value=n||w)}}else if(o.isList(e)){const o=function(e,t,n,r,i,o){const s={termType:"NamedNode",value:d},a={termType:"NamedNode",value:f},l={termType:"NamedNode",value:p},c=e.pop(),u=c?{termType:"BlankNode",value:t.getId()}:l;let h=u;for(const d of e){const e=_(d,t,n,r,i,o),l={termType:"BlankNode",value:t.getId()};n.push({subject:h,predicate:s,object:e,graph:r}),n.push({subject:h,predicate:a,object:l,graph:r}),h=l}if(c){const e=_(c,t,n,r,i,o);n.push({subject:h,predicate:s,object:e,graph:r}),n.push({subject:h,predicate:a,object:l,graph:r})}return u}(e["@list"],t,n,r,i,c);h.termType=o.termType,h.value=o.value}else{const t=l.isObject(e)?e["@id"]:e;h.termType=t.startsWith("_:")?"BlankNode":"NamedNode",h.value=t}return"NamedNode"!==h.termType||x(h.value)?h:(c.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:h.value}},options:c}),null)}e.exports=k,k.toRDF=(e,t)=>{const n=new c.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);const o=[],s=Object.keys(i).sort();for(const r of s){let e;if("@default"===r)e={termType:"DefaultGraph",value:""};else{if(!x(r)){t.eventHandler&&u({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:r}},options:t});continue}e=r.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=r}S(o,i[r],e,n,t)}return o}},7637:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",n="http://www.w3.org/2001/XMLSchema#string",r="NamedNode",i="BlankNode",o="Literal",s="DefaultGraph",a={};function l(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==o||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}(()=>{const e="(?:<([^:]+:[^>]*)>)",t="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",n=t+"0-9-\xb7\u0300-\u036f\u203f-\u2040",r="(_:(?:["+t+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",i="[ \\t]+",o="[ \\t]*",s="(?:"+e+"|"+r+")"+i,l=e+i,c="(?:"+e+"|"+r+"|"+('(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:'+("(?:\\^\\^"+e+")")+"|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?)")+")"+o,u="(?:\\.|(?:(?:"+e+"|"+r+")"+o+"\\.))";a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^"+o+"$"),a.quad=new RegExp("^"+o+s+l+c+u+o+"$")})(),e.exports=class e{static parse(e){const c=[],u={},f=e.split(a.eoln);let p=0;for(const h of f){if(p++,a.empty.test(h))continue;const e=h.match(a.quad);if(null===e)throw new Error("N-Quads parse error on line "+p+".");const f={subject:null,predicate:null,object:null,graph:null};if(void 0!==e[1]?f.subject={termType:r,value:e[1]}:f.subject={termType:i,value:e[2]},f.predicate={termType:r,value:e[3]},void 0!==e[4]?f.object={termType:r,value:e[4]}:void 0!==e[5]?f.object={termType:i,value:e[5]}:(f.object={termType:o,value:void 0,datatype:{termType:r}},void 0!==e[7]?f.object.datatype.value=e[7]:void 0!==e[8]?(f.object.datatype.value=t,f.object.language=e[8]):f.object.datatype.value=n,f.object.value=d(e[6])),void 0!==e[9]?f.graph={termType:r,value:e[9]}:void 0!==e[10]?f.graph={termType:i,value:e[10]}:f.graph={termType:s,value:""},f.graph.value in u){let e=!0;const t=u[f.graph.value];for(const n of t)if(l(n,f)){e=!1;break}e&&(t.push(f),c.push(f))}else u[f.graph.value]=[f],c.push(f)}return c}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(e,o,s,a){let l="";return e.termType===r?l+=`<${e.value}>`:l+=`${e.value}`,l+=` <${o.value}> `,s.termType===r?l+=`<${s.value}>`:s.termType===i?l+=s.value:(l+=`"${function(e){return e.replace(c,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(s.value)}"`,s.datatype.value===t?s.language&&(l+=`@${s.language}`):s.datatype.value!==n&&(l+=`^^<${s.datatype.value}>`)),a.termType===r?l+=` <${a.value}>`:a.termType===i&&(l+=` ${a.value}`),l+=" .\n",l}static serializeQuad(t){return e.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(e){const a=[],l={"blank node":i,IRI:r,literal:o};for(const c in e){e[c].forEach((e=>{const u={};for(const i in e){const s=e[i],a={termType:l[s.type],value:s.value};a.termType===o&&(a.datatype={termType:r},"datatype"in s&&(a.datatype.value=s.datatype),"language"in s?("datatype"in s||(a.datatype.value=t),a.language=s.language):"datatype"in s||(a.datatype.value=n)),u[i]=a}u.graph="@default"===c?{termType:s,value:""}:{termType:c.startsWith("_:")?i:r,value:c},a.push(u)}))}return a}};const c=/["\\\n\r]/g;const u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function d(e){return e.replace(u,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))}},7670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2404),i=n(3209),o=n(4814),s=n(52),a=n(9444),l=n(9869),c=n(4081),u=n(9055),d=n(7837),f=n(3425),p=[r.default,i.default,o.default,s.default,a.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,f.default];t.default=p},7725:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},7789:()=>{},7837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i=n(13),o=n(7264),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:e=>{let{schemaCode:t}=e;return r._`{allowedValue: ${t}}`}},code(e){const{gen:t,data:n,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(r._`!${(0,i.useFunc)(t,o.default)}(${n}, ${a})`):e.fail(r._`${l} !== ${n}`)}};t.default=s},8013:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5843),i=n(1459),o=n(3640),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:e=>{let{params:{missingProperty:t}}=e;return i.str`should have required property '${t}'`},params:e=>{let{params:{missingProperty:t}}=e;return i._`{missingProperty: ${t}}`}},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const d=n.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(i.nil,f);else for(const t of n)r.checkReportMissingProp(e,t)}():function(){const o=t.let("missing");if(d||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(o,r.propertyInData(t,a,n,u.ownProperties)),t.if(i.not(o),(()=>{e.error(),t.break()}))}),i.nil)}(o,n))),e.ok(n)}else t.if(r.checkMissingProp(e,n,o)),r.reportMissingProp(e,o),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;o.checkStrictMode(c,t,c.opts.strictRequired)}}function f(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if(r.noPropertyInData(t,a,n,u.ownProperties),(()=>e.error()))}))}}};t.default=s},8027:(e,t,n)=>{"use strict";const r=n(2453),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),h=()=>1;const m=(e,t,n)=>{const r=e[f].get(t);if(r){const t=r.value;if(g(e,t)){if(y(e,r),!e[a])return}else n&&(e[p]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},v=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[o]-=n.length,e[f].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;g(e,i)&&(y(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||h;if(this[s]="function"!==typeof t?h:t,this[a]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!==typeof e&&(e=h),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),v(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[f]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[l])&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](t,e);if(this[f].has(e)){if(a>this[i])return y(this,this[f].get(e)),!1;const s=this[f].get(e).value;return this[c]&&(this[u]||this[c](e,s.value)),s.now=r,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),v(this),!0}const p=new b(e,t,a,r,n);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=p.length,this[d].unshift(p),this[f].set(e,this[d].head),v(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[f].forEach(((e,t)=>m(this,t,!1)))}}},8067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:n(5843).validateUnion,error:{message:"should match some schema in anyOf"}};t.default=r},8161:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const r=n(13),i=n(5355),o=n(2832),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e||(!0===t?!l(e):!!t&&c(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(e){for(const t in e){if(a.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l))return!0;if("object"==typeof n&&l(n))return!0}return!1}function c(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,r.eachItem)(e[n],(e=>t+=c(e))),t===1/0))return 1/0}return t}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!1!==(arguments.length>2?arguments[2]:void 0)&&(t=p(t));const n=e.parse(t);return d(e,n)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=u,t._getFullPath=d;const f=/#\/?$/;function p(e){return e?e.replace(f,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,n){return n=p(n),e.resolve(t,n)};const h=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=p(e[n]||t),a={"":s},l=u(r,s,!1),c={},d=new Set;return o(e,{allKeys:!0},((e,t,r,i)=>{if(void 0===i)return;const o=l+t;let s=a[i];function u(t){const n=this.opts.uriResolver.resolve;if(t=p(s?n(s,t):t),d.has(t))throw m(t);d.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?f(e,r.schema,t):t!==p(o)&&("#"===t[0]?(f(e,c[t],t),c[t]=e):this.refs[t]=o),t}function g(e){if("string"==typeof e){if(!h.test(e))throw new Error(`invalid anchor "${e}"`);u.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=u.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),c;function f(e,t,n){if(void 0!==t&&!i(e,t))throw m(n)}function m(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},8270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class i extends n{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e){const t=[e[0]];let n=0;for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];for(;n<o.length;)l(t,o[n]),t.push(e[++n]);return new i(t)}t._Code=i,t.nil=new i(""),t._=o;const s=new i("+");function a(e){const t=[u(e[0])];let n=0;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];for(;n<o.length;)t.push(s),l(t,o[n]),t.push(s,u(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(t),new i(t)}function l(e,t){var n;t instanceof i?e.push(...t._items):t instanceof r?e.push(t):e.push("number"==typeof(n=t)||"boolean"==typeof n||null===n?n:u(Array.isArray(n)?n.join(","):n))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof r||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=l,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new i(u(e))},t.safeStringify=u,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new i(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new i(e.toString())}},8319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return r.str`should match format "${t}"`},params:e=>{let{schemaCode:t}=e;return r._`{format: ${t}}`}},code(e,t){const{gen:n,data:i,$data:o,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:f}=l;c.validateFormats&&(o?function(){const o=n.scopeValue("formats",{ref:f.formats,code:c.code.formats}),s=n.const("fDef",r._`${o}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,r._`${s}.type || "string"`).assign(u,r._`${s}.validate`)),(()=>n.assign(l,r._`"string"`).assign(u,s))),e.fail$data(r.or(!1===c.strict?r.nil:r._`${a} && !${u}`,function(){const e=d.$async?r._`(${s}.async ? await ${u}(${i}) : ${u}(${i}))`:r._`${u}(${i})`,n=r._`(typeof ${u} == "function" ? ${e} : ${u}.test(${i}))`;return r._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const o=f.formats[s];if(!o)return void function(){if(!1===c.strict)return void f.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}}();if(!0===o)return;const[a,l,p]=function(e){const t=n.scopeValue("formats",{key:s,ref:e,code:c.code.formats?r._`${c.code.formats}${r.getProperty(s)}`:void 0});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,r._`${t}.validate`];return["string",e,t]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw new Error("async format in sync schema");return r._`await ${p}(${i})`}return"function"==typeof l?r._`${p}(${i})`:r._`${p}.test(${i})`}())}())}};t.default=i},8321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(5355),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"should be equal to one of the allowed values",params:e=>{let{schemaCode:t}=e;return r._`{allowedValues: ${t}}`}},code(e){const{gen:t,data:n,$data:o,schema:s,schemaCode:a,it:l}=e;if(!o&&0===s.length)throw new Error("enum must have non-empty array");const c=s.length>=l.opts.loopEnum,u=e.gen.scopeValue("func",{ref:i,code:r._`require("ajv/dist/compile/equal")`});let d;if(c||o)d=t.let("valid"),e.block$data(d,(function(){t.assign(d,!1),t.forOf("v",a,(e=>t.if(r._`${u}(${n}, ${e})`,(()=>t.assign(d,!0).break()))))}));else{if(!Array.isArray(s))throw new Error("ajv implementation error");const e=t.const("vSchema",a);d=r.or(...s.map(((t,i)=>function(e,t){const i=s[t];return i&&"object"===typeof i?r._`${u}(${n}, ${e}[${t}])`:r._`${n} === ${i}`}(e,i))))}e.pass(d)}};t.default=o},8336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i=n(3757),o=n(3640),s=n(5843),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{gen:t,schema:n,it:a}=e;if(Array.isArray(n))a.opts.unevaluated&&n.length&&!0!==a.items&&(a.items=i.mergeEvaluated.items(t,n.length,a.items)),function(n){const{parentSchema:s,data:l}=e;if(a.opts.strictTuples&&!function(e,t){return e===t.minItems&&(e===t.maxItems||!1===t.additionalItems)}(n.length,s)){const e=`"items" is ${n.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;o.checkStrictMode(a,e,a.opts.strictTuples)}const c=t.name("valid"),u=t.const("len",r._`${l}.length`);n.forEach(((n,o)=>{i.alwaysValidSchema(a,n)||(t.if(r._`${u} > ${o}`,(()=>e.subschema({keyword:"items",schemaProp:o,dataProp:o},c))),e.ok(c))}))}(n);else{if(a.items=!0,i.alwaysValidSchema(a,n))return;e.ok(s.validateArray(e))}}};t.default=a},8345:(e,t,n)=>{"use strict";var r=n(9950),i=n(5340);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),T=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var L,D=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function V(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case E:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case $:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,_e=null;function Ee(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function Pe(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function $e(e,t){return e(t)}function Ne(){}var je=!1;function Ae(e,t,n){if(je)return e(t,n);je=!0;try{return $e(e,t,n)}finally{je=!1,(null!==Se||null!==_e)&&(Ne(),Te())}}function Ce(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Oe=!1}function Re(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,De=null,Me=!1,Fe=null,ze={onError:function(e){Le=!0,De=e}};function Ve(e,t,n,r,i,o,s,a,l){Le=!1,De=null,Re.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,St,_t,Et,Pt=!1,Tt=[],$t=null,Nt=null,jt=null,At=new Map,Ct=new Map,Ot=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function zt(){Pt=!1,null!==$t&&Mt($t)&&($t=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==jt&&Mt(jt)&&(jt=null),At.forEach(Ft),Ct.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==$t&&Vt($t,e),null!==Nt&&Vt(Nt,e),null!==jt&&Vt(jt,e),At.forEach(t),Ct.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ot.shift()}var Ut=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Gt(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Wt(e,t,n,r){if(qt){var i=Kt(e,t,n,r);if(null===i)qr(e,t,r,Jt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return $t=Lt($t,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return jt=Lt(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ct.set(o,Lt(Ct.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Kt(e,t,n,r))&&qr(e,t,r,Jt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Jt=null;function Kt(e,t,n,r){if(Jt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),fn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=on(pn),mn=on(D({},pn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),vn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(D({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var Pn=D({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(Pn),$n=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),jn=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=on(An),On=[9,13,27,32],In=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Dn=u&&(!In||Rn&&8<Rn&&11>=Rn),Mn=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Hn(e,t,n,r){Pe(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Jn(e){Mr(e,0)}function Kn(e){if(W(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Qn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Wn)){var t=[];Hn(t,Wn,e,xe(e)),Ae(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Wn)}function or(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},_r={};function Er(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Pr=Er("animationend"),Tr=Er("animationiteration"),$r=Er("animationstart"),Nr=Er("transitionend"),jr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){jr.set(e,t),l(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Ir=Ar[Or];Cr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Cr(Pr,"onAnimationEnd"),Cr(Tr,"onAnimationIteration"),Cr($r,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=De;Le=!1,De=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Dr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Dr(i,a,c),o=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=o,i=xe(n),s=[];e:{var a=jr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Pr:case Tr:case $r:l=vn;break;case Nr:l=jn;break;case"scroll":l=fn;break;case"wheel":l=Cn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=$n}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==a?a+"Capture":null:a;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Ce(h,f))&&u.push(Hr(h,m,p)))),d)break;h=h.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[hi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=$n,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?a:wi(l),p=null==c?a:wi(c),(a=new u(m,h+"leave",l,n,i)).target=d,a.relatedTarget=p,m=null,yi(i)===r&&((u=new u(f,h+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,h=0,p=u=l;p;p=Wr(p))h++;for(p=0,m=f;m;m=Wr(m))p++;for(;0<h-p;)u=Wr(u),h--;for(;0<p-h;)f=Wr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Wr(u),f=Wr(f)}u=null}else u=null;null!==l&&Jr(s,a,l,u,!1),null!==c&&null!==d&&Jr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(qn(a))if(Yn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!In&&zn(e,t)?(e=en(),Zt=Qt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Mr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ce(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Ce(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ce(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Ce(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[pi]||null}var ki=[],Si=-1;function _i(e){return{current:e}}function Ei(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Pi(e,t){Si++,ki[Si]=e.current,e.current=t}var Ti={},$i=_i(Ti),Ni=_i(!1),ji=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ni),Ei($i)}function Ii(e,t,n){if($i.current!==Ti)throw Error(o(168));Pi($i,t),Pi(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,U(e)||"Unknown",i));return D({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ji=$i.current,Pi($i,e),Pi(Ni,Ni.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei($i),Pi($i,e)):Ei(Ni),Pi(Ni,n)}var Mi=null,Fi=!1,zi=!1;function Vi(e){null===Mi?Mi=[e]:Mi.push(e)}function Bi(){if(!zi&&null!==Mi){zi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Fi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),We(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var Ui=[],qi=0,Hi=null,Gi=0,Wi=[],Ji=0,Ki=null,Xi=1,Yi="";function Qi(e,t){Ui[qi++]=Gi,Ui[qi++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Wi[Ji++]=Xi,Wi[Ji++]=Yi,Wi[Ji++]=Ki,Ki=e;var r=Xi;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Xi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Qi(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=Ui[--qi],Ui[qi]=null,Gi=Ui[--qi],Ui[qi]=null;for(;e===Ki;)Ki=Wi[--Ji],Wi[Ji]=null,Yi=Wi[--Ji],Wi[Ji]=null,Xi=Wi[--Ji],Wi[Ji]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function ho(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case k:return(t=Mc(t,e.mode,n)).return=e,t;case C:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case C:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Qi(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=f(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Qi(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=h(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Qi(i,m),c}function g(i,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Qi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Qi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Qi(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((o=Rc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Ic(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case k:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Mc(s,r.mode,l)).return=r,r=o}return a(r);case C:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(R(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Dc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var xo=wo(!0),ko=wo(!1),So=_i(null),_o=null,Eo=null,Po=null;function To(){Po=Eo=_o=null}function $o(e){var t=So.current;Ei(So),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jo(e,t){_o=e,Po=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===_o)throw Error(o(308));Eo=e,_o.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Co=null;function Oo(e){null===Co?Co=[e]:Co.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&$l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uo(e,t,n,r){var i=e.updateQueue;Lo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var f=a.lane,p=a.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=D({},d,f);break e;case 2:Lo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Go=_i(Ho),Wo=_i(Ho),Jo=_i(Ho);function Ko(e){if(e===Ho)throw Error(o(174));return e}function Xo(e,t){switch(Pi(Jo,t),Pi(Wo,e),Pi(Go,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Go),Pi(Go,t)}function Yo(){Ei(Go),Ei(Wo),Ei(Jo)}function Qo(e){Ko(Jo.current);var t=Ko(Go.current),n=le(t,e.type);t!==n&&(Pi(Wo,e),Pi(Go,n))}function Zo(e){Wo.current===e&&(Ei(Go),Ei(Wo))}var es=_i(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,fs=0,ps=0;function hs(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Qs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==fs;return fs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,a=r):c=c.next=f,as.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Ll|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ks(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ss(){}function _s(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ls(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,As(9,Ps.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));0!==(30&ss)||Es(n,t,i)}return i}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ps(e,t,n,r){t.value=n,t.getSnapshot=r,$s(t)&&Ns(e)}function Ts(e,t,n){return n((function(){$s(t)&&Ns(e)}))}function $s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ns(e){var t=Ro(e,1);null!==t&&nc(t,e,1,-1)}function js(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Js.bind(null,as,e),[t.memoizedState,e]}function As(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Cs(){return bs().memoizedState}function Os(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=As(1|t,n,void 0,void 0===r?null:r)}function Is(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=As(t,n,o,r))}as.flags|=e,i.memoizedState=As(1|t,n,o,r)}function Rs(e,t){return Os(8390656,8,e,t)}function Ls(e,t){return Is(2048,8,e,t)}function Ds(e,t){return Is(4,2,e,t)}function Ms(e,t){return Is(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4,4,Fs.bind(null,t,e),n)}function Vs(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Us(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ll|=n,e.baseState=!0),t)}function Hs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Gs(){return bs().memoizedState}function Ws(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Xs(t,n);else if(null!==(n=Io(e,t,n,r))){nc(n,e,r,ec()),Ys(n,t,r)}}function Js(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Xs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Oo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Io(e,t,i,r))&&(nc(n,e,r,i=ec()),Ys(n,t,r))}}function Ks(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qs={readContext:Ao,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Zs={readContext:Ao,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Rs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:js,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));0!==(30&ss)||Es(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Rs(Ts.bind(null,r,s,e),[e]),r.flags|=2048,As(9,Ps.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Nl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ao,useCallback:Bs,useContext:Ao,useEffect:Ls,useImperativeHandle:zs,useInsertionEffect:Ds,useLayoutEffect:Ms,useMemo:Us,useReducer:xs,useRef:Cs,useState:function(){return xs(ws)},useDebugValue:Vs,useDeferredValue:function(e){return qs(bs(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Ao,useCallback:Bs,useContext:Ao,useEffect:Ls,useImperativeHandle:zs,useInsertionEffect:Ds,useLayoutEffect:Ms,useMemo:Us,useReducer:ks,useRef:Cs,useState:function(){return ks(ws)},useDebugValue:Vs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:qs(t,ls.memoizedState,e)},useTransition:function(){return[ks(ws)[0],bs().memoizedState]},useMutableSource:Ss,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Ci(t)?ji:$i.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Ci(t)?ji:$i.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),da(0,t)},n}function ha(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?ko(t,null,n,r):xo(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var o=t.ref;return jo(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Cc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Pa(e,t,n,r,i)}function _a(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Ol,Cl),Cl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Ol,Cl),Cl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Ol,Cl),Cl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(Ol,Cl),Cl|=r;return wa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pa(e,t,n,r,i){var o=Ci(n)?ji:$i.current;return o=Ai(t,o),jo(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Ta(e,t,n,r,i){if(Ci(n)){var o=!0;Li(t)}else o=!1;if(jo(t,i),null===t.stateNode)Ua(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ai(t,c=Ci(n)?ji:$i.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Lo=!1;var f=t.memoizedState;s.state=f,Uo(t,r,s,i),l=t.memoizedState,a!==r||f!==l||Ni.current||Lo?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Lo||oa(t,n,a,r,f,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Mo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ai(t,l=Ci(n)?ji:$i.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||f!==l)&&aa(t,s,r,l),Lo=!1,f=t.memoizedState,s.state=f,Uo(t,r,s,i);var h=t.memoizedState;a!==d||f!==h||Ni.current||Lo?("function"===typeof p&&(ra(t,n,p,r),h=t.memoizedState),(c=Lo||oa(t,n,c,r,f,h,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return $a(e,t,n,r,o,i)}function $a(e,t,n,r,i,o){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Di(t,n,!1),qa(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),Xo(e,t.containerInfo)}function ja(e,t,n,r,i){return ho(),mo(i),t.flags|=256,wa(e,t,n,r),t.child}var Aa,Ca,Oa,Ia,Ra={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Pi(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Rc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ra,e):Ma(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(s=Rc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ra,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),nc(r,e,i,-1))}return mc(),Fa(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Ji++]=Xi,Wi[Ji++]=Yi,Wi[Ji++]=Ki,Xi=e.id,Yi=e.overflow,Ki=t),t=Ma(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ma(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Ma(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ci(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,Yo(),Ei(Ni),Ei($i),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ca(e,t),Ga(t),null;case 5:Zo(t);var i=Ko(Jo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=Ko(Go.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[pi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=K(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Ko(Jo.current),Ko(Go.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ei(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),ho(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Yo(),Ca(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return $o(t.type._context),Ga(t),null;case 19:if(Ei(es),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ha(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bl&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Ye()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,Pi(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Cl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ja(e,t){switch(to(t),t.tag){case 1:return Ci(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ei(Ni),Ei($i),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ei(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(es),null;case 4:return Yo(),null;case 10:return $o(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ca=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ko(Go.current);var o,s=null;switch(n){case"input":i=K(e,i),r=K(e,r),s=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ia=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ka=!1,Xa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Qa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,t);case 6:var r=ul,i=dl;ul=null,fl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=$c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){_c(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Y(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,u)}switch(l){case"input":Q(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(i,!!s.multiple,h,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,ml(t,e),Xa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qa=e,d=e.child;null!==d;){for(f=Qa=d;null!==Qa;){switch(h=(p=Qa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Za(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Za(p,p.return);break;case 22:if(null!==p.memoizedState){xl(f);continue}}null!==h?(h.return=p,Qa=h):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,a=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){_c(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&r&&hl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qa;){var i=Qa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ka;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ka;var c=Xa;if(Ka=s,(Xa=l)&&!c)for(Qa=i;null!==Qa;)l=(s=Qa).child,22===s.tag&&null!==s.memoizedState?kl(i):null!==l?(l.return=s,Qa=l):kl(i);for(;null!==o;)Qa=o,bl(o,t,n),o=o.sibling;Qa=i,Ka=a,Xa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qa=o):wl(e)}}function wl(e){for(;null!==Qa;){var t=Qa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&qo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&il(t)}catch(p){_c(t,t.return,p)}}if(t===e){Qa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qa=n;break}Qa=t.return}}function xl(e){for(;null!==Qa;){var t=Qa;if(t===e){Qa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qa=n;break}Qa=t.return}}function kl(e){for(;null!==Qa;){var t=Qa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){_c(t,i,l)}}var o=t.return;try{il(t)}catch(l){_c(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){_c(t,s,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Qa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qa=a;break}Qa=t.return}}var Sl,_l=Math.ceil,El=w.ReactCurrentDispatcher,Pl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,$l=0,Nl=null,jl=null,Al=0,Cl=0,Ol=_i(0),Il=0,Rl=null,Ll=0,Dl=0,Ml=0,Fl=null,zl=null,Vl=0,Bl=1/0,Ul=null,ql=!1,Hl=null,Gl=null,Wl=!1,Jl=null,Kl=0,Xl=0,Yl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&$l)?Ye():-1!==Ql?Ql:Ql=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&$l)&&0!==Al?Al&-Al:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,Yl=null,Error(o(185));vt(e,n,r),0!==(2&$l)&&e===Nl||(e===Nl&&(0===(2&$l)&&(Dl|=n),4===Il&&ac(e,Al)),rc(e,r),1===n&&0===$l&&0===(1&t.mode)&&(Bl=Ye()+500,Fi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ft(e,e===Nl?Al:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),si((function(){0===(6&$l)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Zl=0,0!==(6&$l))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ft(e,e===Nl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=$l;$l|=2;var s=hc();for(Nl===e&&Al===t||(Ul=null,Bl=Ye()+500,fc(e,t));;)try{yc();break}catch(l){pc(e,l)}To(),El.current=s,$l=i,null!==jl?t=0:(Nl=null,Al=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=oc(e,i))),1===t)throw n=Rl,fc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=ht(e))&&(r=s,t=oc(e,s))),1===t))throw n=Rl,fc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,zl,Ul);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zl,Ul),t);break}xc(e,zl,Ul);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zl,Ul),r);break}xc(e,zl,Ul);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~Ml,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&$l))throw Error(o(327));kc();var t=ft(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Rl,fc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zl,Ul),rc(e,Ye()),null}function cc(e,t){var n=$l;$l|=1;try{return e(t)}finally{0===($l=n)&&(Bl=Ye()+500,Fi&&Bi())}}function uc(e){null!==Jl&&0===Jl.tag&&0===(6&$l)&&kc();var t=$l;$l|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&($l=t))&&Bi()}}function dc(){Cl=Ol.current,Ei(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Yo(),Ei(Ni),Ei($i),rs();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:Ei(es);break;case 10:$o(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,jl=e=Oc(e.current,null),Al=Cl=t,Il=0,Rl=null,Ml=Dl=Ll=0,zl=Fl=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Co=null}return e}function pc(e,t){for(;;){var n=jl;try{if(To(),is.current=Qs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,fs=0,Pl.current=null,null===n||null===n.return){Il=1,Rl=t,jl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ga(a);if(null!==h){h.flags&=-257,va(h,a,l,0,t),1&h.mode&&ma(s,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Il&&(Il=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,ha(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function hc(){var e=El.current;return El.current=Qs,null===e?Qs:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Dl)||ac(Nl,Al)}function gc(e,t){var n=$l;$l|=2;var r=hc();for(Nl===e&&Al===t||(Ul=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(To(),$l=n,El.current=r,null!==jl)throw Error(o(261));return Nl=null,Al=0,Il}function vc(){for(;null!==jl;)bc(jl)}function yc(){for(;null!==jl&&!Ke();)bc(jl)}function bc(e){var t=Sl(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,null===t?wc(e):jl=t,Pl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Cl)))return void(jl=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Il=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Il&&(Il=5)}function xc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Jl);if(0!==(6&$l))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nl&&(jl=Nl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Nc(tt,(function(){return kc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=$l;$l|=4,Pl.current=null,function(e,t){if(ei=qt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(l=a+i),f!==s||0!==r&&3!==f.nodeType||(c=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===r&&(c=a),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Qa=t;null!==Qa;)if(e=(t=Qa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qa=e;else for(;null!==Qa;){t=Qa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qa=e;break}Qa=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(ti),qt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),$l=l,bt=a,Tl.transition=s}else e.current=n;if(Wl&&(Wl=!1,Jl=e,Kl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Kl)&&0!==e.tag&&kc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Xl++:(Xl=0,Yl=e):Xl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function kc(){if(null!==Jl){var e=wt(Kl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Kl=0,0!==(6&$l))throw Error(o(331));var i=$l;for($l|=4,Qa=e.current;null!==Qa;){var s=Qa,a=s.child;if(0!==(16&Qa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qa=u;null!==Qa;){var d=Qa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var f=d.child;if(null!==f)f.return=d,Qa=f;else for(;null!==Qa;){var p=(d=Qa).sibling,h=d.return;if(ol(d),d===u){Qa=null;break}if(null!==p){p.return=h,Qa=p;break}Qa=h}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Qa=a;else e:for(;null!==Qa;){if(0!==(2048&(s=Qa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Qa=y;break e}Qa=s.return}}var b=e.current;for(Qa=b;null!==Qa;){var w=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Qa=w;else e:for(a=b;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){_c(l,l.return,k)}if(l===a){Qa=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qa=x;break e}Qa=l.return}}if($l=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Sc(e,t,n){e=zo(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=zo(t,e=ha(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Al&n)===n&&(4===Il||3===Il&&(130023424&Al)===Al&&500>Ye()-Vl?fc(e,0):Ml|=n),rc(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ro(e,t))&&(vt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function $c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Pc(e,n)}function Nc(e,t){return We(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new jc(e,t,n,r)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Cc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Rc(n.children,i,s,t);case _:a=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=s,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=s,e;case j:return(e=Ac(19,n,t,i)).elementType=j,e.lanes=s,e;case O:return Lc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:a=10;break e;case T:a=9;break e;case $:a=11;break e;case A:a=14;break e;case C:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,o,s,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ac(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Vc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ci(n))return Ri(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=zc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Fo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Uc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,s))&&(nc(e,i,s,o),Vo(e,i,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),ho();break;case 5:Qo(t);break;case 1:Ci(t.type)&&Li(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Pi(es,1&es.current),null!==(e=qa(e,t,n))?e.sibling:null);Pi(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return qa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ua(e,t),e=t.pendingProps;var i=Ai(t,$i.current);jo(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=$a(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Cc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===$)return 11;if(e===A)return 14}return 2}(r),e=na(r,e),i){case 0:t=Pa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Mo(e,t),Uo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ja(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=ja(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=qa(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Da(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Pi(So,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ni.current){t=qa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),No(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),No(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,jo(t,n),r=r(i=Ao(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),ka(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ua(e,t),t.tag=1,Ci(r)?(e=!0,Li(t)):e=!1,jo(t,n),sa(t,r,i),la(t,r,i,n),$a(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return _a(e,t,n)}throw Error(o(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=qc(s);a.call(e)}}Uc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=qc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[hi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[hi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Uc(t,l,n,r)})),l}(n,t,e,i,r);return qc(s)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Uc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Uc(null,e,null,null)})),t[hi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Dt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&$l)&&(Bl=Ye()+500,Bi()))}break;case 13:uc((function(){var t=Ro(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ro(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));W(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},$e=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Pe,Te,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[hi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},8417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1459),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const i="maxItems"===t?"more":"fewer";return r.str`should NOT have ${i} than ${n} items`},params:e=>{let{schemaCode:t}=e;return r._`{limit: ${t}}`}},code(e){const{keyword:t,data:n,schemaCode:i}=e,o="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`${n}.length ${o} ${i}`)}};t.default=i},8546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const r=n(1459),i=n(3349);function o(e,t){const n=e.const("err",t);e.if(r._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,r._`[${n}]`)),r._`${i.default.vErrors}.push(${n})`),e.code(r._`${i.default.errors}++`)}function s(e,t){const{gen:n,validateName:i,schemaEnv:o}=e;o.$async?n.throw(r._`new ${e.ValidationError}(${t})`):(n.assign(r._`${i}.errors`,t),n.return(!1))}t.keywordError={message:e=>{let{keyword:t}=e;return r.str`should pass "${t}" keyword validation`}},t.keyword$DataError={message:e=>{let{keyword:t,schemaType:n}=e;return n?r.str`"${t}" keyword must be ${n} ($data)`:r.str`"${t}" keyword is invalid ($data)`}},t.reportError=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,i=arguments.length>2?arguments[2]:void 0;const{it:a}=e,{gen:c,compositeRule:u,allErrors:d}=a,f=l(e,n);(null!==i&&void 0!==i?i:u||d)?o(c,f):s(a,r._`[${f}]`)},t.reportExtraError=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError;const{it:r}=e,{gen:a,compositeRule:c,allErrors:u}=r;o(a,l(e,n)),c||u||s(r,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(r._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(r._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function(e){let{gen:t,keyword:n,schemaValue:o,data:s,errsCount:a,it:l}=e;if(void 0===a)throw new Error("ajv implementation error");const c=t.name("err");t.forRange("i",a,i.default.errors,(e=>{t.const(c,r._`${i.default.vErrors}[${e}]`),t.if(r._`${c}.dataPath === undefined`,(()=>t.assign(r._`${c}.dataPath`,r.strConcat(i.default.dataPath,l.errorPath)))),t.assign(r._`${c}.schemaPath`,r.str`${l.errSchemaPath}/${n}`),l.opts.verbose&&(t.assign(r._`${c}.schema`,o),t.assign(r._`${c}.data`,s))}))};const a={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema"),instancePath:new r.Name("instancePath")};function l(e,t){const{createErrors:n,opts:i}=e.it;return!1===n?r._`{}`:(i.jtd&&!i.ajvErrors?c:u)(e,t)}function c(e,t){let{message:n}=t;const{gen:o,keyword:s,it:l}=e,{errorPath:c,errSchemaPath:u,opts:d}=l,f=[[a.instancePath,r.strConcat(i.default.dataPath,c)],[a.schemaPath,r.str`${u}/${s}`]];return d.messages&&f.push([a.message,"function"==typeof n?n(e):n]),o.object(...f)}function u(e,t){const{gen:n,keyword:o,data:s,schemaValue:l,it:c}=e,{topSchemaRef:u,schemaPath:d,errorPath:f,errSchemaPath:p,propertyName:h,opts:m}=c,{params:g,message:v}=t,y=[[a.keyword,o],[i.default.dataPath,r.strConcat(i.default.dataPath,f)],[a.schemaPath,r.str`${p}/${o}`],[a.params,"function"==typeof g?g(e):g||r._`{}`]];return h&&y.push([a.propertyName,h]),m.messages&&y.push([a.message,"function"==typeof v?v(e):v]),m.verbose&&y.push([a.schema,l],[a.parentSchema,r._`${u}${d}`],[i.default.data,s]),n.object(...y)}},8617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8161);class i extends Error{constructor(e,t,n,i){super(i||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,n),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=i},8738:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8900:(e,t,n)=>{"use strict";n(4906).default;var r=n(1459);const i=n(5116),o=n(4794),s=n(2079),a=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends i.default{_addVocabularies(){super._addVocabularies(),o.default.forEach((e=>this.addVocabulary(e)))}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}},9025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:i}=e;if((0,r.alwaysValidSchema)(i,n))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=i},9031:(e,t,n)=>{"use strict";const r=n(6609),i=n(9763);e.exports=class extends i{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const o of r){let r,s;if("BlankNode"===o.subject.termType&&o.subject.value!==e)s=o.subject.value,r="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;s=o.object.value,r="r"}++i%100===0&&await this._yield();const a=await this.hashRelatedBlankNode(s,o,t,r),l=n.get(a);l?l.push(s):n.set(a,[s])}return n}}},9055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4710),i=n(4355),o=n(13),s=n(7264),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:e=>{let{params:{i:t,j:n}}=e;return i.str`must NOT have duplicate items (items ## ${n} and ${t} are identical)`},params:e=>{let{params:{i:t,j:n}}=e;return i._`{i: ${t}, j: ${n}}`}},code(e){const{gen:t,data:n,$data:a,schema:l,parentSchema:c,schemaCode:u,it:d}=e;if(!a&&!l)return;const f=t.let("valid"),p=c.items?(0,r.getSchemaTypes)(c.items):[];function h(o,s){const a=t.name("item"),l=(0,r.checkDataTypes)(p,a,d.opts.strictNumbers,r.DataType.Wrong),c=t.const("indices",i._`{}`);t.for(i._`;${o}--;`,(()=>{t.let(a,i._`${n}[${o}]`),t.if(l,i._`continue`),p.length>1&&t.if(i._`typeof ${a} == "string"`,i._`${a} += "_"`),t.if(i._`typeof ${c}[${a}] == "number"`,(()=>{t.assign(s,i._`${c}[${a}]`),e.error(),t.assign(f,!1).break()})).code(i._`${c}[${a}] = ${o}`)}))}function m(r,a){const l=(0,o.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(i._`;${r}--;`,(()=>t.for(i._`${a} = ${r}; ${a}--;`,(()=>t.if(i._`${l}(${n}[${r}], ${n}[${a}])`,(()=>{e.error(),t.assign(f,!1).break(c)}))))))}e.block$data(f,(function(){const r=t.let("i",i._`${n}.length`),o=t.let("j");e.setParams({i:r,j:o}),t.assign(f,!0),t.if(i._`${r} > 1`,(()=>(p.length>0&&!p.some((e=>"object"===e||"array"===e))?h:m)(r,o)))}),i._`${u} === false`),e.ok(f)}};t.default=a},9099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const r=n(8617),i=n(6627),o=n(4355),s=n(9381),a=n(3773),l=n(13),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:i}=e,{baseId:s,schemaEnv:l,validateName:c,opts:f,self:p}=i,{root:h}=l;if(("#"===n||"#/"===n)&&s===h.baseId)return function(){if(l===h)return d(e,c,l,l.$async);const n=t.scopeValue("root",{ref:h});return d(e,o._`${n}.validate`,h,h.$async)}();const m=a.resolveRef.call(p,h,s,n);if(void 0===m)throw new r.default(i.opts.uriResolver,s,n);return m instanceof a.SchemaEnv?function(t){const n=u(e,t);d(e,n,t,t.$async)}(m):function(r){const i=t.scopeValue("schema",!0===f.code.source?{ref:r,code:(0,o.stringify)(r)}:{ref:r}),s=t.name("valid"),a=e.subschema({schema:r,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:n},s);e.mergeEvaluated(a),e.ok(s)}(m)}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):o._`${n.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,n,r){const{gen:a,it:c}=e,{allErrors:u,schemaEnv:d,opts:f}=c,p=f.passContext?s.default.this:o.nil;function h(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function m(e){var t;if(!c.opts.unevaluated)return;const r=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(r&&!r.dynamicProps)void 0!==r.props&&(c.props=l.mergeEvaluated.props(a,r.props,c.props));else{const t=a.var("props",o._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(a,t,c.props,o.Name)}if(!0!==c.items)if(r&&!r.dynamicItems)void 0!==r.items&&(c.items=l.mergeEvaluated.items(a,r.items,c.items));else{const t=a.var("items",o._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(a,t,c.items,o.Name)}}r?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const n=a.let("valid");a.try((()=>{a.code(o._`await ${(0,i.callValidateCode)(e,t,p)}`),m(t),u||a.assign(n,!0)}),(e=>{a.if(o._`!(${e} instanceof ${c.ValidationError})`,(()=>a.throw(e))),h(e),u||a.assign(n,!1)})),e.ok(n)}():e.result((0,i.callValidateCode)(e,t,p),(()=>m(t)),(()=>h(t)))}t.getValidate=u,t.callRef=d,t.default=c},9126:e=>{"use strict";e.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},9180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n(2840);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var i=n(4355);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const o=n(9328),s=n(8617),a=n(6434),l=n(3773),c=n(4355),u=n(8161),d=n(4710),f=n(13),p=n(7301),h=n(9394),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,n,r,i,o,s,a,l,c,u,d,f,p,g,v,y,b,w,x,k,S,_,E,P,T;const $=e.strict,N=null===(t=e.code)||void 0===t?void 0:t.optimize,j=!0===N||void 0===N?1:N||0,A=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:m,C=null!==(i=e.uriResolver)&&void 0!==i?i:h.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:$)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:$)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:$)&&void 0!==u?u:"log",strictTuples:null!==(f=null!==(d=e.strictTuples)&&void 0!==d?d:$)&&void 0!==f?f:"log",strictRequired:null!==(g=null!==(p=e.strictRequired)&&void 0!==p?p:$)&&void 0!==g&&g,code:e.code?{...e.code,optimize:j,regExp:A}:{optimize:j,regExp:A},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(x=e.inlineRefs)||void 0===x||x,schemaId:null!==(k=e.schemaId)&&void 0!==k?k:"$id",addUsedSchema:null===(S=e.addUsedSchema)||void 0===S||S,validateSchema:null===(_=e.validateSchema)||void 0===_||_,validateFormats:null===(E=e.validateFormats)||void 0===E||E,unicodeRegExp:null===(P=e.unicodeRegExp)||void 0===P||P,int32range:null===(T=e.int32range)||void 0===T||T,uriResolver:C}}class x{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:v,es5:t,lines:n}),this.logger=function(e){if(!1===e)return $;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),k.call(this,y,e,"NOT SUPPORTED"),k.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=T.call(this),e.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&P.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),_.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=p;"id"===n&&(r={...p},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await i.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||o.call(this,n)}async function i(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function a(e){let{missingSchema:t,missingRef:n}=e;if(this.refs[t])throw new Error(`AnySchema ${t} is loaded but ${n} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await i.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema;if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,i);return this}if("object"===typeof e){const{schemaId:t}=this.opts;if(r=e[t],void 0!==r&&"string"!=typeof r)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,i,!0),this}addMetaSchema(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema;return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=S.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=S.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(j.call(this,n,t),!t)return(0,f.eachItem)(n,(e=>A.call(this,e))),this;O.call(this,t);const r={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,f.eachItem)(n,0===r.type.length?e=>A.call(this,e,r):e=>r.type.forEach((t=>A.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errors,{separator:t=", ",dataVar:n="data"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,o=i[e];r&&o&&(i[e]=R(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.addUsedSchema;const{schemaId:s}=this.opts;if("object"==typeof e)r=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;n=(0,u.normalizeId)(r||n);const c=u.getSchemaRefs.call(this,e,n);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(a.schema,a),o&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=a),i&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";for(const i in e){const o=i;o in t&&this.logger[r](`${n}: option ${i}. ${e[o]}`)}}function S(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function _(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function E(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function P(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function T(){const e={...this.opts};for(const t of g)delete e[t];return e}x.ValidationError=o.default,x.MissingRefError=s.default,t.default=x;const $={log(){},warn(){},error(){}};const N=/^[a-z_$][a-z0-9_$:-]*$/i;function j(e,t){const{RULES:n}=this;if((0,f.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!N.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function A(e,t,n){var r;const i=null===t||void 0===t?void 0:t.post;if(n&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=i?o.post:o.rules.find((e=>{let{type:t}=e;return t===n}));if(s||(s={type:n,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?C.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function C(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function O(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=R(t)),e.validateSchema=this.compile(t,!0))}const I={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function R(e){return{anyOf:[e,I]}}},9184:e=>{e.exports=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/},9188:(e,t)=>{"use strict";function n(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:n(o,s),time:n(l,c),"date-time":n((function(e){const t=e.split(u);return 2===t.length&&o(t[0])&&l(t[1],!0)}),d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return f.test(e)&&p.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return h.lastIndex=0,h.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=g&&e>=m}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:v},double:{type:"number",validate:v},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:n(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:n(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":n(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(e){const t=r.exec(e);if(!t)return!1;const n=+t[1],o=+t[2],s=+t[3];return o>=1&&o<=12&&s>=1&&s<=(2===o&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(n)?29:i[o])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(e,t){const n=a.exec(e);if(!n)return!1;const r=+n[1],i=+n[2],o=+n[3],s=n[5];return(r<=23&&i<=59&&o<=59||23===r&&59===i&&60===o)&&(!t||""!==s)}function c(e,t){if(!e||!t)return;const n=a.exec(e),r=a.exec(t);return n&&r?(e=n[1]+n[2]+n[3]+(n[4]||""))>(t=r[1]+r[2]+r[3]+(r[4]||""))?1:e<t?-1:0:void 0}const u=/t|\s/i;function d(e,t){if(!e||!t)return;const[n,r]=e.split(u),[i,o]=t.split(u),a=s(n,i);return void 0!==a?a||c(r,o):void 0}const f=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;const h=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;const m=-(2**31),g=2**31-1;function v(){return!0}const y=/[^\\]\\Z/},9212:e=>{"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>"undefined"===typeof e},9328:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=n},9381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=i},9394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(75);r.code='require("ajv/dist/runtime/uri").default',t.default=r},9438:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(n||(t.DiscrError=n={}))},9444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message(e){let{keyword:t,schemaCode:n}=e;const i="maxProperties"===t?"more":"fewer";return r.str`must NOT have ${i} than ${n} properties`},params:e=>{let{schemaCode:t}=e;return r._`{limit: ${t}}`}},code(e){const{keyword:t,data:n,schemaCode:i}=e,o="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data(r._`Object.keys(${n}).length ${o} ${i}`)}};t.default=i},9487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4355),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:e=>{let{schemaCode:t}=e;return r.str`must match format "${t}"`},params:e=>{let{schemaCode:t}=e;return r._`{format: ${t}}`}},code(e,t){const{gen:n,data:i,$data:o,schema:s,schemaCode:a,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:f}=l;c.validateFormats&&(o?function(){const o=n.scopeValue("formats",{ref:f.formats,code:c.code.formats}),s=n.const("fDef",r._`${o}[${a}]`),l=n.let("fType"),u=n.let("format");n.if(r._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,r._`${s}.type || "string"`).assign(u,r._`${s}.validate`)),(()=>n.assign(l,r._`"string"`).assign(u,s))),e.fail$data((0,r.or)(!1===c.strictSchema?r.nil:r._`${a} && !${u}`,function(){const e=d.$async?r._`(${s}.async ? await ${u}(${i}) : ${u}(${i}))`:r._`${u}(${i})`,n=r._`(typeof ${u} == "function" ? ${e} : ${u}.test(${i}))`;return r._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}()))}():function(){const o=f.formats[s];if(!o)return void function(){if(!1===c.strictSchema)return void f.logger.warn(e());throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}}();if(!0===o)return;const[a,l,p]=function(e){const t=e instanceof RegExp?(0,r.regexpCode)(e):c.code.formats?r._`${c.code.formats}${(0,r.getProperty)(s)}`:void 0,i=n.scopeValue("formats",{key:s,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,r._`${i}.validate`];return["string",e,i]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw new Error("async format in sync schema");return r._`await ${p}(${i})`}return"function"==typeof l?r._`${p}(${i})`:r._`${p}.test(${i})`}())}())}};t.default=i},9488:(e,t,n)=>{const{parse:r}=n(5405),{addressParser:i}=n(4495),o=n(7013);function s(e){try{return i(e),!0}catch(t){return!1}}e.exports=e=>{const t=r(e);return!("mailto"!==t.scheme||!t.to.every(s))||!("absolute"!==t.reference||!o.allByName[t.scheme])}},9489:(e,t)=>{"use strict";function n(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(e,t){let{schema:r,self:i}=e;const o=i.RULES.types[t];return o&&!0!==o&&n(r,o)},t.shouldUseGroup=n,t.shouldUseRule=r},9493:(e,t,n)=>{"use strict";const r=n(3281),{isArray:i,isObject:o,isEmptyObject:s,isString:a,isUndefined:l}=n(9212),{isList:c,isValue:u,isGraph:d,isSubject:f}=n(660),{expandIri:p,getContextValue:h,isKeyword:m,process:g,processingMode:v}=n(1682),{isAbsolute:y}=n(3508),{REGEX_BCP47:b,REGEX_KEYWORD:w,addValue:x,asArray:k,getValues:S,validateTypeValue:_}=n(7173),{handleEvent:E}=n(7608),P={};function T(e){let{value:t,count:n,options:r}=e;if(0===n||"@value"in t||"@list"in t||1===n&&"@id"in t){if(r.eventHandler){let e,i;0===n?(e="empty object",i="Dropping empty object."):"@value"in t?(e="object with only @value",i="Dropping object with only @value."):"@list"in t?(e="object with only @list",i="Dropping object with only @list."):1===n&&"@id"in t&&(e="object with only @id",i="Dropping object with only @id."),E({event:{type:["JsonLdEvent"],code:e,level:"warning",message:i,details:{value:t}},options:r})}return null}return t}async function $(e){let{activeCtx:t,activeProperty:n,expandedActiveProperty:d,element:w,expandedParent:S,options:N={},insideList:C,typeKey:O,typeScopedContext:I}=e;const R=Object.keys(w).sort(),L=[];let D;const M=w[O]&&"@json"===p(t,i(w[O])?w[O][0]:w[O],{vocab:!0},{...N,typeExpansion:!0});for(const $ of R){let e,C=w[$];if("@context"===$)continue;const O=p(t,$,{vocab:!0},N);if(null===O||!y(O)&&!m(O)){N.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:$,expandedProperty:O}},options:N});continue}if(m(O)){if("@reverse"===d)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:C});if(O in S&&"@included"!==O&&"@type"!==O)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:O})}if("@id"===O){if(!a(C)){if(!N.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:C});if(o(C)){if(!s(C))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:C})}else{if(!i(C))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:C});if(!C.every((e=>a(e))))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:C})}}x(S,"@id",k(C).map((e=>{if(a(e)){const n=p(t,e,{base:!0},N);return N.eventHandler&&(null===n?E(null===e?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:e}},options:N}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:N}):y(n)||E({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:e,expandedId:n}},options:N})),n}return e})),{propertyIsArray:N.isFrame});continue}if("@type"===O){o(C)&&(C=Object.fromEntries(Object.entries(C).map((e=>{let[t,n]=e;return[p(I,t,{vocab:!0}),k(n).map((e=>p(I,e,{base:!0,vocab:!0},{...N,typeExpansion:!0})))]})))),_(C,N.isFrame),x(S,"@type",k(C).map((e=>{if(a(e)){const t=p(I,e,{base:!0,vocab:!0},{...N,typeExpansion:!0});return"@json"===t||y(t)||N.eventHandler&&E({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:e}},options:N}),t}return e})),{propertyIsArray:!!N.isFrame});continue}if("@included"===O&&v(t,1.1)){const e=k(await P.expand({activeCtx:t,activeProperty:n,element:C,options:N}));if(!e.every((e=>f(e))))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:C});x(S,"@included",e,{propertyIsArray:!0});continue}if("@graph"===O&&!o(C)&&!i(C))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:C});if("@value"===O){D=C,M&&v(t,1.1)?S["@value"]=C:x(S,"@value",C,{propertyIsArray:N.isFrame});continue}if("@language"===O){if(null===C)continue;if(!a(C)&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:C});C=k(C).map((e=>a(e)?e.toLowerCase():e));for(const e of C)a(e)&&!e.match(b)&&N.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:N});x(S,"@language",C,{propertyIsArray:N.isFrame});continue}if("@direction"===O){if(!a(C)&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:C});C=k(C);for(const e of C)if(a(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:C});x(S,"@direction",C,{propertyIsArray:N.isFrame});continue}if("@index"===O){if(!a(C))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:C});x(S,"@index",C);continue}if("@reverse"===O){if(!o(C))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:C});if(e=await P.expand({activeCtx:t,activeProperty:"@reverse",element:C,options:N}),"@reverse"in e)for(const t in e["@reverse"])x(S,t,e["@reverse"][t],{propertyIsArray:!0});let n=S["@reverse"]||null;for(const t in e){if("@reverse"===t)continue;null===n&&(n=S["@reverse"]={}),x(n,t,[],{propertyIsArray:!0});const i=e[t];for(let o=0;o<i.length;++o){const s=i[o];if(u(s)||c(s))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});x(n,t,s,{propertyIsArray:!0})}}continue}if("@nest"===O){L.push($);continue}let R=t;const F=h(t,$,"@context");l(F)||(R=await g({activeCtx:t,localCtx:F,propagate:!0,overrideProtected:!0,options:N}));const z=h(t,$,"@container")||[];if(z.includes("@language")&&o(C)){e=j(R,C,h(R,$,"@direction"),N)}else if(z.includes("@index")&&o(C)){const n=z.includes("@graph"),r=h(R,$,"@index")||"@index",i="@index"!==r&&p(t,r,{vocab:!0},N);e=await A({activeCtx:R,options:N,activeProperty:$,value:C,asGraph:n,indexKey:r,propertyIndex:i})}else if(z.includes("@id")&&o(C)){const t=z.includes("@graph");e=await A({activeCtx:R,options:N,activeProperty:$,value:C,asGraph:t,indexKey:"@id"})}else if(z.includes("@type")&&o(C))e=await A({activeCtx:R.revertToPreviousContext(),options:N,activeProperty:$,value:C,asGraph:!1,indexKey:"@type"});else{const r="@list"===O;if(r||"@set"===O){let t=n;r&&"@graph"===d&&(t=null),e=await P.expand({activeCtx:R,activeProperty:t,element:C,options:N,insideList:r})}else e="@json"===h(t,$,"@type")?{"@type":"@json","@value":C}:await P.expand({activeCtx:R,activeProperty:$,element:C,options:N,insideList:!1})}if(null!==e||"@value"===O){if("@list"!==O&&!c(e)&&z.includes("@list")&&(e={"@list":k(e)}),z.includes("@graph")&&!z.some((e=>"@id"===e||"@index"===e))){if(e=k(e),N.isFrame||(e=e.filter((e=>null!==T({value:e,count:Object.keys(e).length,options:N})))),0===e.length)continue;e=e.map((e=>({"@graph":k(e)})))}if(R.mappings.has($)&&R.mappings.get($).reverse){const t=S["@reverse"]=S["@reverse"]||{};e=k(e);for(let n=0;n<e.length;++n){const i=e[n];if(u(i)||c(i))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:e});x(t,O,i,{propertyIsArray:!0})}}else x(S,O,e,{propertyIsArray:!0})}}if("@value"in S)if("@json"===S["@type"]&&v(t,1.1));else if((o(D)||i(D))&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:D});for(const s of L){const e=i(w[s])?w[s]:[w[s]];for(const i of e){if(!o(i)||Object.keys(i).some((e=>"@value"===p(t,e,{vocab:!0},N))))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await $({activeCtx:t,activeProperty:n,expandedActiveProperty:d,element:i,expandedParent:S,options:N,insideList:C,typeScopedContext:I,typeKey:O})}}}function N(e){let{activeCtx:t,activeProperty:n,value:r,options:i}=e;if(null===r||void 0===r)return null;const o=p(t,n,{vocab:!0},i);if("@id"===o)return p(t,r,{base:!0},i);if("@type"===o)return p(t,r,{vocab:!0,base:!0},{...i,typeExpansion:!0});const s=h(t,n,"@type");if(("@id"===s||"@graph"===o)&&a(r)){const e=p(t,r,{base:!0},i);return null===e&&r.match(w)&&i.eventHandler&&E({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:n}},options:i}),{"@id":e}}if("@vocab"===s&&a(r))return{"@id":p(t,r,{vocab:!0,base:!0},i)};if(m(o))return r;const l={};if(s&&!["@id","@vocab","@none"].includes(s))l["@type"]=s;else if(a(r)){const e=h(t,n,"@language");null!==e&&(l["@language"]=e);const r=h(t,n,"@direction");null!==r&&(l["@direction"]=r)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),l["@value"]=r,l}function j(e,t,n,o){const s=[],l=Object.keys(t).sort();for(const c of l){const l=p(e,c,{vocab:!0},o);let u=t[c];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!a(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==l&&(c.match(b)||o.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:c}},options:o}),i["@language"]=c.toLowerCase()),n&&(i["@direction"]=n),s.push(i)}}return s}async function A(e){let{activeCtx:t,options:n,activeProperty:o,value:s,asGraph:a,indexKey:c,propertyIndex:f}=e;const m=[],v=Object.keys(s).sort(),y="@type"===c;for(let b of v){if(y){const e=h(t,b,"@context");l(e)||(t=await g({activeCtx:t,localCtx:e,propagate:!1,options:n}))}let e,v=s[b];i(v)||(v=[v]),v=await P.expand({activeCtx:t,activeProperty:o,element:v,options:n,insideList:!1,insideIndex:!0}),e=f?"@none"===b?"@none":N({activeCtx:t,activeProperty:c,value:b,options:n}):p(t,b,{vocab:!0},n),"@id"===c?b=p(t,b,{base:!0},n):y&&(b=e);for(let t of v){if(a&&!d(t)&&(t={"@graph":[t]}),"@type"===c)"@none"===e||(t["@type"]?t["@type"]=[b].concat(t["@type"]):t["@type"]=[b]);else{if(u(t)&&!["@language","@type","@index"].includes(c))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:t});f?"@none"!==e&&x(t,f,e,{propertyIsArray:!0,prependValue:!0}):"@none"===e||c in t||(t[c]=b)}m.push(t)}}return m}e.exports=P,P.expand=async e=>{let{activeCtx:t,activeProperty:n=null,element:c,options:u={},insideList:d=!1,insideIndex:f=!1,typeScopedContext:m=null}=e;if(null===c||void 0===c)return null;if("@default"===n&&(u=Object.assign({},u,{isFrame:!1})),!i(c)&&!o(c))return d||null!==n&&"@graph"!==p(t,n,{vocab:!0},u)?N({activeCtx:t,activeProperty:n,value:c,options:u}):(u.eventHandler&&E({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:c}},options:u}),null);if(i(c)){let e=[];const r=h(t,n,"@container")||[];d=d||r.includes("@list");for(let o=0;o<c.length;++o){let r=await P.expand({activeCtx:t,activeProperty:n,element:c[o],options:u,insideIndex:f,typeScopedContext:m});d&&i(r)&&(r={"@list":r}),null!==r&&(i(r)?e=e.concat(r):e.push(r))}return e}const b=p(t,n,{vocab:!0},u),w=h(t,n,"@context");m=m||(t.previousContext?t:null);let x=Object.keys(c).sort(),_=!f;if(_&&m&&x.length<=2&&!x.includes("@context"))for(const r of x){const e=p(m,r,{vocab:!0},u);if("@value"===e){_=!1,t=m;break}if("@id"===e&&1===x.length){_=!1;break}}_&&(t=t.revertToPreviousContext()),l(w)||(t=await g({activeCtx:t,localCtx:w,propagate:!0,overrideProtected:!0,options:u})),"@context"in c&&(t=await g({activeCtx:t,localCtx:c["@context"],options:u})),m=t;let j=null;for(const r of x){if("@type"===p(t,r,{vocab:!0},u)){j=j||r;const e=c[r],n=Array.isArray(e)?e.length>1?e.slice().sort():e:[e];for(const r of n){const e=h(m,r,"@context");l(e)||(t=await g({activeCtx:t,localCtx:e,options:u,propagate:!1}))}}}let A={};await $({activeCtx:t,activeProperty:n,expandedActiveProperty:b,element:c,expandedParent:A,options:u,insideList:d,typeKey:j,typeScopedContext:m}),x=Object.keys(A);let C=x.length;if("@value"in A){if("@type"in A&&("@language"in A||"@direction"in A))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:A});let e=C-1;if("@type"in A&&(e-=1),"@index"in A&&(e-=1),"@language"in A&&(e-=1),"@direction"in A&&(e-=1),0!==e)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:A});const n=null===A["@value"]?[]:k(A["@value"]),i=S(A,"@type");if(v(t,1.1)&&i.includes("@json")&&1===i.length);else if(0===n.length)u.eventHandler&&E({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:A}},options:u}),A=null;else{if(!n.every((e=>a(e)||s(e)))&&"@language"in A)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:A});if(!i.every((e=>y(e)&&!(a(e)&&0===e.indexOf("_:"))||s(e))))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:A})}}else if("@type"in A&&!i(A["@type"]))A["@type"]=[A["@type"]];else if("@set"in A||"@list"in A){if(C>1&&(2!==C||!("@index"in A)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:A});"@set"in A&&(A=A["@set"],x=Object.keys(A),C=x.length)}else 1===C&&"@language"in A&&(u.eventHandler&&E({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:A}},options:u}),A=null);return!o(A)||u.keepFreeFloatingNodes||d||null!==n&&"@graph"!==b&&!(h(t,n,"@container")||[]).includes("@graph")||(A=T({value:A,count:C,options:u})),A}},9561:(e,t,n)=>{"use strict";const{HEX:r}=n(9126),i=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function o(e){if(c(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(i)||[],[n]=t;return n?{host:l(n,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="",i=!0;for(const o of e){if(void 0===r[o])return;"0"!==o&&!0===i&&(i=!1),i||(n+=o)}return t&&0===n.length&&(n="0"),n}function a(e){if(c(e,":")<2)return{host:e,isIPV6:!1};const t=function(e){let t=0;const n={error:!1,address:"",zone:""},r=[],i=[];let o=!1,a=!1,l=!1;function c(){if(i.length){if(!1===o){const e=s(i);if(void 0===e)return n.error=!0,!1;r.push(e)}i.length=0}return!0}for(let s=0;s<e.length;s++){const u=e[s];if("["!==u&&"]"!==u)if(":"!==u)if("%"===u){if(!c())break;o=!0}else i.push(u);else{if(!0===a&&(l=!0),!c())break;if(t++,r.push(":"),t>7){n.error=!0;break}s-1>=0&&":"===e[s-1]&&(a=!0)}}return i.length&&(o?n.zone=i.join(""):l?r.push(i.join("")):r.push(s(i))),n.address=r.join(""),n}(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,n=t.address;return t.zone&&(e+="%"+t.zone,n+="%25"+t.zone),{host:e,escapedHost:n,isIPV6:!0}}}function l(e,t){let n="",r=!0;const i=e.length;for(let o=0;o<i;o++){const s=e[o];"0"===s&&r?(o+1<=i&&e[o+1]===t||o+1===i)&&(n+=s,r=!1):(r=s===t,n+=s)}return n}function c(e,t){let n=0;for(let r=0;r<e.length;r++)e[r]===t&&n++;return n}const u=/^\.\.?\//u,d=/^\/\.(?:\/|$)/u,f=/^\/\.\.(?:\/|$)/u,p=/^\/?(?:.|\n)*?(?=\/|$)/u;e.exports={recomposeAuthority:function(e){const t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let n=unescape(e.host);const r=o(n);if(r.isIPV4)n=r.host;else{const t=a(r.host);n=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(n)}return"number"!==typeof e.port&&"string"!==typeof e.port||(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0},normalizeComponentEncoding:function(e,t){const n=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=n(e.scheme)),void 0!==e.userinfo&&(e.userinfo=n(e.userinfo)),void 0!==e.host&&(e.host=n(e.host)),void 0!==e.path&&(e.path=n(e.path)),void 0!==e.query&&(e.query=n(e.query)),void 0!==e.fragment&&(e.fragment=n(e.fragment)),e},removeDotSegments:function(e){const t=[];for(;e.length;)if(e.match(u))e=e.replace(u,"");else if(e.match(d))e=e.replace(d,"/");else if(e.match(f))e=e.replace(f,"/"),t.pop();else if("."===e||".."===e)e="";else{const n=e.match(p);if(!n)throw new Error("Unexpected dot segment condition");{const r=n[0];e=e.slice(r.length),t.push(r)}}return t.join("")},normalizeIPv4:o,normalizeIPv6:a,stringArrayToHexStripped:s}},9609:(e,t,n)=>{const{toASCII:r}=n(6293),i=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;e.exports=e=>{const t=r(e);return t.replace(/\.$/,"").length<=253&&i.test(t)}},9626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(13),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach(((t,n)=>{if((0,r.alwaysValidSchema)(i,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=i},9736:e=>{"use strict";const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function i(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function o(e){const t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}const s={scheme:"http",domainHost:!0,parse:i,serialize:o},a={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=r(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){if(e.port!==(r(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,n]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=n,e.resourceName=void 0}return e.fragment=void 0,e}},l={http:s,https:{scheme:"https",domainHost:s.domainHost,parse:i,serialize:o},ws:a,wss:{scheme:"wss",domainHost:a.domainHost,parse:a.parse,serialize:a.serialize},urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(n);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=l[i];e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){const n=t.scheme||e.scheme||"urn",r=e.nid.toLowerCase(),i=`${n}:${t.nid||r}`,o=l[i];o&&(e=o.serialize(e,t));const s=e,a=e.nss;return s.path=`${r||t.nid}:${a}`,t.skipEscape=!0,s},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,n){const r=e;return r.uuid=r.nss,r.nss=void 0,n.tolerant||r.uuid&&t.test(r.uuid)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t},skipNormalize:!0}};e.exports=l},9763:(e,t,n)=>{"use strict";const r=n(6707),i=n(6609),o=n(1495),s=n(7637);function a(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){let{createMessageDigest:e=()=>new i("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(e){this.deepIterations=new Map,this.quads=e;for(const r of e)this._addBlankNodeQuadInfo({quad:r,component:r.subject}),this._addBlankNodeQuadInfo({quad:r,component:r.object}),this._addBlankNodeQuadInfo({quad:r,component:r.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const r of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:r,hashToBlankNodes:t});const o=[...t.keys()].sort(),l=[];for(const r of o){const e=t.get(r);if(e.length>1){l.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const s of l){const e=[];for(const t of s){if(this.canonicalIssuer.hasId(t))continue;const n=new r("_:b");n.getId(t);const i=await this.hashNDegreeQuads(t,n);e.push(i)}e.sort(a);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const c=[];for(const r of this.quads){const e=s.serializeQuadComponents(this._componentWithCanonicalId(r.subject),r.predicate,this._componentWithCanonicalId(r.object),this._componentWithCanonicalId(r.graph));c.push(e)}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const o of r){const n={subject:null,predicate:o.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,o.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,o.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,o.graph,"graph"),t.push(s.serializeQuad(n))}t.sort();const i=this.createMessageDigest();for(const o of t)i.update(o);return n.hash=await i.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const o=this.createMessageDigest();return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}async hashNDegreeQuads(e,t){const n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);const r=this.createMessageDigest(),i=await this.createHashToRelated(e,t),s=[...i.keys()].sort();for(const a of s){r.update(a);let e,n="";const s=new o(i.get(a));let l=0;for(;s.hasNext();){const r=s.next();++l%3===0&&await this._yield();let i=t.clone(),o="";const a=[];let c=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?o+=this.canonicalIssuer.getId(e):(i.hasId(e)||a.push(e),o+=i.getId(e)),0!==n.length&&o>n){c=!0;break}if(!c){for(const e of a){const t=await this.hashNDegreeQuads(e,i);if(o+=i.getId(e),o+=`<${t.hash}>`,i=t.issuer,0!==n.length&&o>n){c=!0;break}}c||(0===n.length||o<n)&&(n=o,e=i)}}r.update(n),t=e}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const o of r)++i%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode(e){let{id:t,hashToBlankNodes:n}=e;const r=await this.hashFirstDegreeQuads(t),i=n.get(r);i?i.push(t):n.set(r,[t])}_addBlankNodeQuadInfo(e){let{quad:t,component:n}=e;if("BlankNode"!==n.termType)return;const r=n.value,i=this.blankNodeInfo.get(r);i?i.quads.add(t):this.blankNodeInfo.set(r,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash(e){let{quad:t,component:n,position:r,id:i,issuer:o,hashToRelated:s}=e;if("BlankNode"!==n.termType||n.value===i)return;const a=n.value,l=await this.hashRelatedBlankNode(a,t,o,r),c=s.get(l);c?c.push(a):s.set(l,[a])}_componentWithCanonicalId(e){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}}},9772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=void 0;const r=n(5905);class i extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.ValidationError=i;class o extends Error{constructor(e,t,n){super(n||`can't resolve reference ${t} from id ${e}`),this.missingRef=r.resolveUrl(e,t),this.missingSchema=r.normalizeId(r.getFullPath(this.missingRef))}}t.MissingRefError=o,e.exports={ValidationError:i,MissingRefError:o}},9833:function(e){var t,n;t=this,n=function(){function e(t,n,r){return this.id=++e.highestId,this.name=t,this.symbols=n,this.postprocess=r,this}function t(e,t,n,r){this.rule=e,this.dot=t,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function n(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,t){this.rules=e,this.start=t||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(e){n.hasOwnProperty(e.name)||(n[e.name]=[]),n[e.name].push(e)}))}function i(){this.reset("")}function o(e,t,o){if(e instanceof r){var s=e;o=t}else s=r.fromCompiled(e,t);for(var a in this.grammar=s,this.options={keepHistory:!1,lexer:s.lexer||new i},o||{})this.options[a]=o[a];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(s,0);this.table=[l],l.wants[s.start]=[],l.predict(s.start),l.process(),this.current=0}function s(e){var t=typeof e;if("string"===t)return e;if("object"===t){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return e.toString();if(e.type)return"%"+e.type;if(e.test)return"<"+String(e.test)+">";throw new Error("Unknown symbol type: "+e)}}return e.highestId=0,e.prototype.toString=function(e){var t="undefined"===typeof e?this.symbols.map(s).join(" "):this.symbols.slice(0,e).map(s).join(" ")+" \u25cf "+this.symbols.slice(e).map(s).join(" ");return this.name+" \u2192 "+t},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var n=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=e,n.isComplete&&(n.data=n.build(),n.right=void 0),n},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(e){for(var t=this.states,n=this.wants,r=this.completed,i=0;i<t.length;i++){var s=t[i];if(s.isComplete){if(s.finish(),s.data!==o.fail){for(var a=s.wantedBy,l=a.length;l--;){var c=a[l];this.complete(c,s)}if(s.reference===this.index){var u=s.rule.name;(this.completed[u]=this.completed[u]||[]).push(s)}}}else{if("string"!==typeof(u=s.rule.symbols[s.dot])){this.scannable.push(s);continue}if(n[u]){if(n[u].push(s),r.hasOwnProperty(u)){var d=r[u];for(l=0;l<d.length;l++){var f=d[l];this.complete(s,f)}}}else n[u]=[s],this.predict(u)}}},n.prototype.predict=function(e){for(var n=this.grammar.byName[e]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[e],s=new t(i,0,this.index,o);this.states.push(s)}},n.prototype.complete=function(e,t){var n=e.nextState(t);this.states.push(n)},r.fromCompiled=function(t,n){var i=t.Lexer;t.ParserStart&&(n=t.ParserStart,t=t.ParserRules);var o=new r(t=t.map((function(t){return new e(t.name,t.symbols,t.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(e,t){var n=this.buffer;if("string"===typeof n){var r=n.split("\n").slice(Math.max(0,this.line-5),this.line),i=n.indexOf("\n",this.index);-1===i&&(i=n.length);var o=this.index-this.lastLineBreak,s=String(this.line).length;return t+=" at line "+this.line+" col "+o+":\n\n",t+=r.map((function(e,t){return a(this.line-r.length+t+1,s)+" "+e}),this).join("\n"),t+="\n"+a("",s+o)+"^\n"}return t+" at index "+(this.index-1);function a(e,t){var n=String(e);return Array(t-n.length+1).join(" ")+n}},o.fail={},o.prototype.feed=function(e){var t,r=this.lexer;for(r.reset(e,this.lexerState);;){try{if(!(t=r.next()))break}catch(g){var o=new n(this.grammar,this.current+1);throw this.table.push(o),(l=new Error(this.reportLexerError(g))).offset=this.current,l.token=g.token,l}var s=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var a=this.current+1;o=new n(this.grammar,a),this.table.push(o);for(var l,c=void 0!==t.text?t.text:t.value,u=r.constructor===i?t.value:t,d=s.scannable,f=d.length;f--;){var p=d[f],h=p.rule.symbols[p.dot];if(h.test?h.test(u):h.type?h.type===t.type:h.literal===c){var m=p.nextState({data:u,token:t,isToken:!0,reference:a-1});o.states.push(m)}}if(o.process(),0===o.states.length)throw(l=new Error(this.reportError(t))).offset=this.current,l.token=t,l;this.options.keepHistory&&(s.lexerState=r.save()),this.current++}return s&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(e){var t,n,r=e.token;return r?(t="input "+JSON.stringify(r.text[0])+" (lexer error)",n=this.lexer.formatError(r,"Syntax error")):(t="input (lexer error)",n=e.message),this.reportErrorCommon(n,t)},o.prototype.reportError=function(e){var t=(e.type?e.type+" token: ":"")+JSON.stringify(void 0!==e.value?e.value:e),n=this.lexer.formatError(e,"Syntax error");return this.reportErrorCommon(n,t)},o.prototype.reportErrorCommon=function(e,t){var n=[];n.push(e);var r=this.table.length-2,i=this.table[r],o=i.states.filter((function(e){var t=e.rule.symbols[e.dot];return t&&"string"!==typeof t}));return 0===o.length?(n.push("Unexpected "+t+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(i.states,n)):(n.push("Unexpected "+t+". Instead, I was expecting to see one of the following:\n"),o.map((function(e){return this.buildFirstStateStack(e,[])||[e]}),this).forEach((function(e){var t=e[0],r=t.rule.symbols[t.dot],i=this.getSymbolDisplay(r);n.push("A "+i+" based on:"),this.displayStateStack(e,n)}),this)),n.push(""),n.join("\n")},o.prototype.displayStateStack=function(e,t){for(var n,r=0,i=0;i<e.length;i++){var o=e[i],s=o.rule.toString(o.dot);s===n?r++:(r>0&&t.push("    ^ "+r+" more lines identical to this"),r=0,t.push("    "+s)),n=s}},o.prototype.getSymbolDisplay=function(e){return function(e){var t=typeof e;if("string"===t)return e;if("object"===t){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return"character matching "+e;if(e.type)return e.type+" token";if(e.test)return"token matching "+String(e.test);throw new Error("Unknown symbol type: "+e)}}(e)},o.prototype.buildFirstStateStack=function(e,t){if(-1!==t.indexOf(e))return null;if(0===e.wantedBy.length)return[e];var n=e.wantedBy[0],r=[e].concat(t),i=this.buildFirstStateStack(n,r);return null===i?null:[e].concat(i)},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===t&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&e.push(n)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}},e.exports?e.exports=n():t.nearley=n()},9838:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5843),i=n(1459),o=n(3349),s=n(828),a=n(3757),l={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"should NOT have additional properties",params:e=>{let{params:t}=e;return i._`{additionalProperty: ${t.additionalProperty}}`}},code(e){const{gen:t,schema:n,parentSchema:l,data:c,errsCount:u,it:d}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:f,opts:p}=d;if(d.props=!0,"all"!==p.removeAdditional&&a.alwaysValidSchema(d,n))return;const h=r.allSchemaProperties(l.properties),m=r.allSchemaProperties(l.patternProperties);function g(e){t.code(i._`delete ${c}[${e}]`)}function v(r){if("all"===p.removeAdditional||p.removeAdditional&&!1===n)g(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(f||t.break());if("object"==typeof n&&!a.alwaysValidSchema(d,n)){const n=t.name("valid");"failing"===p.removeAdditional?(y(r,n,!1),t.if(i.not(n),(()=>{e.reset(),g(r)}))):(y(r,n),f||t.if(i.not(n),(()=>t.break())))}}}function y(t,n,r){const i={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===r&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,n)}t.forIn("key",c,(e=>{h.length||m.length?t.if(function(e){let n;if(h.length>8){const i=a.schemaRefOrVal(d,l.properties,"properties");n=r.isOwnProperty(t,i,e)}else n=h.length?i.or(...h.map((t=>i._`${e} === ${t}`))):i.nil;return m.length&&(n=i.or(n,...m.map((n=>i._`${r.usePattern(t,n)}.test(${e})`)))),i.not(n)}(e),(()=>v(e))):v(e)})),e.ok(i._`${u} === ${o.default.errors}`)}};t.default=l},9869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6627),i=n(4355),o=n(13),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:e=>{let{params:{missingProperty:t}}=e;return i.str`must have required property '${t}'`},params:e=>{let{params:{missingProperty:t}}=e;return i._`{missingProperty: ${t}}`}},code(e){const{gen:t,schema:n,schemaCode:s,data:a,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const d=n.length>=u.loopRequired;if(c.allErrors?function(){if(d||l)e.block$data(i.nil,f);else for(const t of n)(0,r.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(d||l){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(o,(0,r.propertyInData)(t,a,n,u.ownProperties)),t.if((0,i.not)(o),(()=>{e.error(),t.break()}))}),i.nil)}(o,n))),e.ok(n)}else t.if((0,r.checkMissingProp)(e,n,o)),(0,r.reportMissingProp)(e,o),t.else()}(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!r.has(e)){const t=`required property "${e}" is not defined at "${c.schemaEnv.baseId+c.errSchemaPath}" (strictRequired)`;(0,o.checkStrictMode)(c,t,c.opts.strictRequired)}}function f(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,r.noPropertyInData)(t,a,n,u.ownProperties),(()=>e.error()))}))}}};t.default=s},9935:(e,t,n)=>{"use strict";const r=n(1751),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},9950:(e,t,n)=>{"use strict";e.exports=n(2049)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{152:"82d69be4",163:"4530f286",206:"22134bea"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="editdor:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/editdor/",(()=>{n.b=document.baseURI||self.location.href;var e={311:0,792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkeditdor=self.webpackChunkeditdor||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{ellipseWithEllipse:()=>Pl,ellipseWithLine:()=>El,exists:()=>Sl,lineWithLine:()=>_l,pathWithEllipse:()=>zl,pathWithLine:()=>Fl,pathWithPath:()=>ql,pathWithPolygon:()=>Ul,pathWithPolyline:()=>Bl,pathWithRect:()=>Vl,polygonWithEllipse:()=>Rl,polygonWithLine:()=>Il,polygonWithPolygon:()=>Ml,polygonWithPolyline:()=>Dl,polygonWithRect:()=>Ll,polylineWithEllipse:()=>Al,polylineWithLine:()=>jl,polylineWithPolyline:()=>Ol,polylineWithRect:()=>Cl,rectWithEllipse:()=>$l,rectWithLine:()=>Tl,rectWithRect:()=>Nl});var t={};n.r(t),n.d(t,{Curve:()=>al,Ellipse:()=>Va,Line:()=>La,Path:()=>cl,Point:()=>Ca,Polygon:()=>kl,Polyline:()=>tl,Rect:()=>Xa,bezier:()=>xl,ellipse:()=>Ba,intersection:()=>Zl,line:()=>Da,normalizeAngle:()=>ua,point:()=>Oa,random:()=>ha,rect:()=>Ya,scale:()=>ca,snapToGrid:()=>da,toDeg:()=>fa,toRad:()=>pa,types:()=>xa});var r={};n.r(r),n.d(r,{absolute:()=>au,bottom:()=>pu,ellipse:()=>mu,ellipseSpread:()=>hu,fn:()=>lu,left:()=>uu,line:()=>cu,right:()=>du,top:()=>fu});var i={};n.r(i),n.d(i,{bottom:()=>Eu,inside:()=>Nu,insideOriented:()=>$u,left:()=>ku,manual:()=>xu,outside:()=>Tu,outsideOriented:()=>Pu,radial:()=>ju,radialOriented:()=>Au,right:()=>Su,top:()=>_u});var o={};n.r(o),n.d(o,{manhattan:()=>Cd,metro:()=>Id,normal:()=>Yu,oneSide:()=>Qu,orthogonal:()=>pd,rightAngle:()=>Yd});var s={};n.r(s),n.d(s,{curve:()=>bf,jumpover:()=>ff,normal:()=>pf,rounded:()=>mf,smooth:()=>gf,straight:()=>nf});var a={};n.r(a),n.d(a,{addClass:()=>Mf,list:()=>zf,mask:()=>Rf,opacity:()=>Lf,stroke:()=>Of});var l={};n.r(l),n.d(l,{connectionClosest:()=>Gf,connectionLength:()=>Bf,connectionPerpendicular:()=>Hf,connectionRatio:()=>Vf,resolveRef:()=>Uf});var c={};n.r(c),n.d(c,{anchor:()=>Qf,bbox:()=>Zf,boundary:()=>tp,rectangle:()=>ep});var u={};n.r(u),n.d(u,{bottom:()=>op,bottomLeft:()=>up,bottomRight:()=>dp,center:()=>rp,left:()=>sp,midSide:()=>pp,modelCenter:()=>hp,perpendicular:()=>fp,right:()=>ap,top:()=>ip,topLeft:()=>lp,topRight:()=>cp});var d=n(9950),f=n(1352);const p=d.createContext({offlineTD:"",theme:"dark",isModified:!1,name:"",fileHandle:"",linkedTd:{},validationMessage:void 0,updateOfflineTD:e=>{},updateIsModified:e=>{},setFileHandle:e=>{},removeForm:e=>{},addForm:e=>{},removeLink:e=>{},addActionForm:e=>{},addEventForm:e=>{},removeOneOfAKindReducer:(e,t)=>{},addLinkedTd:e=>{},updateLinkedTd:e=>{},updateValidationMessage:e=>{}}),h="UPDATE_OFFLINE_TD",m="UPDATE_IS_MODFIED",g="SET_FILE_HANDLE",v="REMOVE_FORM_FROM_TD",y="REMOVE_LINK_FROM_TD",b="ADD_PROPERTYFORM_TO_TD",w="ADD_ACTIONFORM_TO_TD",x="ADD_EVENTFORM_TO_TD",k="REMOVE_ONE_OF_A_KIND_FROM_TD",S="ADD_LINKED_TD",_="UPDATE_LINKED_TD",E="UPDATE_VALIDATION_MESSAGE",P=(e,t)=>{switch(t.type){case h:return((e,t)=>{let n=t.linkedTd;try{if(n){if(n&&"object"!==typeof t.fileHandle){let t=JSON.parse(e);if(document.getElementById("linkedTd")){let e=document.getElementById("linkedTd").value;""===e?n[t.title||"ediTDor Thing"]=t:n[e]=t}}}else{let t=JSON.parse(e);n={},n[t.title||"ediTDor Thing"]=t}}catch(r){let e=r.message;console.debug(e)}return{...t,offlineTD:e,isModified:!0,linkedTd:n}})(t.offlineTD,e);case m:return((e,t)=>({...t,isModified:e}))(t.isModified,e);case g:const n=((e,t)=>({...t,fileHandle:e}))(t.fileHandle,e);return n;case v:return((e,t)=>{let n=JSON.parse(t.offlineTD);if(console.log(e),"forms"===e.type)n.forms.forEach(((t,r)=>{"string"===typeof t.op?n.forms.splice(r,1):(t.href===e.form.href&&-1!==t.op.indexOf(e.form.op)&&t.op.splice(t.op.indexOf(e.form.op),1),0===t.op.length&&n.forms.splice(r,1))}));else try{n[e.type][e.propName].forms.forEach(((t,r)=>{"string"===typeof t.op?t.href===e.form.href&&n[e.type][e.propName].forms.splice(r,1):(t.href===e.form.href&&-1!==t.op.indexOf(e.form.op)&&t.op.splice(t.op.indexOf(e.form.op),1),0===t.op.length&&n[e.type][e.propName].forms.splice(r,1))}))}catch(r){alert("Sorry we were unable to delete the Form.")}return{...t,offlineTD:JSON.stringify(n,null,2)}})(t.form,e);case y:return((e,t)=>{let n=JSON.parse(t.offlineTD);try{n.links.splice(e,1)}catch(i){alert("Sorry we were unable to delete the Link.")}let r=t.linkedTd;if(r&&"object"!==typeof t.fileHandle&&document.getElementById("linkedTd")){let e=document.getElementById("linkedTd").value;""===e?r[n.title||"ediTDor Thing"]=n:r[e]=n}return{...t,offlineTD:JSON.stringify(n,null,2),linkedTd:r}})(t.link,e);case k:return((e,t,n)=>{let r=JSON.parse(n.offlineTD);try{delete r[e][t]}catch(i){alert("Sorry we were unable to delete the Form.")}return{...n,offlineTD:JSON.stringify(r,null,2)}})(t.kind,t.oneOfAKindName,e);case b:return((e,t)=>{let n=JSON.parse(t.offlineTD);const r=n.properties[e.propName];return void 0===r.forms&&(r.forms=[]),r.forms.push(e.form),{...t,offlineTD:JSON.stringify(n,null,2)}})(t.form,e);case w:return((e,t)=>{let n=JSON.parse(t.offlineTD);const r=n.actions[e.actionName];return console.log("ActionForms",r.forms),void 0===r.forms&&(r.forms=[]),r.forms.push(e.form),{...t,offlineTD:JSON.stringify(n,null,2)}})(t.params,e);case x:return((e,t)=>{let n=JSON.parse(t.offlineTD);const r=n.events[e.eventName];return void 0===r.forms&&(r.forms=[]),r.forms.push(e.form),{...t,offlineTD:JSON.stringify(n,null,2)}})(t.params,e);case S:return((e,t)=>{let n={},r=t.linkedTd;return n=void 0===r?e:Object.assign(r,e),{...t,linkedTd:n}})(t.linkedTd,e);case _:return((e,t)=>({...t,linkedTd:e}))(t.linkedTd,e);case E:return((e,t)=>({...t,validationMessage:e}))(t.validationMessage,e);default:return e}};var T=n(4414);const $=e=>{const[t,n]=(0,d.useReducer)(P,{offlineTD:"",theme:"dark",validationMessage:""});return(0,T.jsx)(p.Provider,{value:{offlineTD:t.offlineTD,theme:t.theme,isModified:t.isModified,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,updateOfflineTD:(e,t)=>{n({type:h,offlineTD:e})},updateIsModified:e=>{n({type:m,isModified:e})},setFileHandle:e=>{n({type:g,fileHandle:e})},removeForm:e=>{n({type:v,form:e})},removeLink:e=>{n({type:y,link:e})},addForm:e=>{n({type:b,form:e})},addActionForm:e=>{n({type:w,params:e})},addEventForm:e=>{n({type:x,params:e})},removeOneOfAKindReducer:(e,t)=>{n({type:k,kind:e,oneOfAKindName:t})},addLinkedTd:e=>{n({type:S,linkedTd:e})},updateLinkedTd:e=>{n({type:_,linkedTd:e})},updateValidationMessage:e=>{n({type:E,validationMessage:e})}},children:e.children})};function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(i,r))}}}function M(e){return{}.toString.call(e).includes("Object")}function F(e){return"function"===typeof e}var z=D((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),V={changes:function(e,t){return M(t)||z("changeType"),Object.keys(t).some((function(t){return!function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)}))&&z("changeField"),t},selector:function(e){F(e)||z("selectorType")},handler:function(e){F(e)||M(e)||z("handlerType"),M(e)&&Object.values(e).some((function(e){return!F(e)}))&&z("handlersType")},initial:function(e){var t;e||z("initialIsRequired"),M(e)||z("initialType"),t=e,Object.keys(t).length||z("initialContent")}};function B(e,t){return F(t)?t(e.current):t}function U(e,t){return e.current=L(L({},e.current),t),t}function q(e,t,n){return F(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var H={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V.initial(e),V.handler(t);var n={current:e},r=D(q)(n,t),i=D(U)(n),o=D(V.changes)(e),s=D(B)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return V.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(r,i,o,s)(e)}]}};const G=H;const W={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};const J=function(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(n,[].concat(i,r))}}};const K=function(e){return{}.toString.call(e).includes("Object")};var X={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},Y=J((function(e,t){throw new Error(e[t]||e.default)}))(X),Q={config:function(e){return e||Y("configIsRequired"),K(e)||Y("configType"),e.urls?(console.warn(X.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const Z=Q;const ee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const te=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),A(A({},t),n)};var ne={type:"cancelation",msg:"operation is manually canceled"};const re=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(ne):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n};var ie=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(G.create({config:W,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),oe=ie[0],se=ie[1];function ae(e){return document.body.appendChild(e)}function le(e){var t=oe((function(e){return{config:e.config,reject:e.reject}})),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function ce(){var e=oe((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){ue(t),e.resolve(t)}),(function(t){e.reject(t)}))}function ue(e){oe().monaco||se({monaco:e})}var de=new Promise((function(e,t){return se({resolve:e,reject:t})})),fe={config:function(e){var t=Z.config(e),n=t.monaco,r=C(t,["monaco"]);se((function(e){return{config:te(e.config,r),monaco:n}}))},init:function(){var e=oe((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(se({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),re(de);if(window.monaco&&window.monaco.editor)return ue(window.monaco),e.resolve(window.monaco),re(de);ee(ae,le)(ce)}return re(de)},__getMonacoInstance:function(){return oe((function(e){return e.monaco}))}};const pe=fe;var he={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},me={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var ge=function(e){let{children:t}=e;return d.createElement("div",{style:me.container},t)};var ve=function(e){let{width:t,height:n,isEditorReady:r,loading:i,_ref:o,className:s,wrapperProps:a}=e;return d.createElement("section",{style:{...he.wrapper,width:t,height:n},...a},!r&&d.createElement(ge,null,i),d.createElement("div",{ref:o,style:{...he.fullWidth,...!r&&he.hide},className:s}))},ye=(0,d.memo)(ve);var be=function(e){(0,d.useEffect)(e,[])};var we=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,d.useRef)(!0);(0,d.useEffect)(r.current||!n?()=>{r.current=!1}:e,t)};function xe(){}function ke(e,t,n,r){return function(e,t){return e.editor.getModel(Se(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r?Se(e,r):void 0)}(e,t,n,r)}function Se(e,t){return e.Uri.parse(t)}var _e=function(e){let{original:t,modified:n,language:r,originalLanguage:i,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:l=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:f="Loading...",options:p={},height:h="100%",width:m="100%",className:g,wrapperProps:v={},beforeMount:y=xe,onMount:b=xe}=e,[w,x]=(0,d.useState)(!1),[k,S]=(0,d.useState)(!0),_=(0,d.useRef)(null),E=(0,d.useRef)(null),P=(0,d.useRef)(null),T=(0,d.useRef)(b),$=(0,d.useRef)(y),N=(0,d.useRef)(!1);be((()=>{let e=pe.init();return e.then((e=>(E.current=e)&&S(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>_.current?function(){let e=_.current?.getModel();l||e?.original?.dispose(),c||e?.modified?.dispose(),_.current?.dispose()}():e.cancel()})),we((()=>{if(_.current&&E.current){let e=_.current.getOriginalEditor(),n=ke(E.current,t||"",i||r||"text",s||"");n!==e.getModel()&&e.setModel(n)}}),[s],w),we((()=>{if(_.current&&E.current){let e=_.current.getModifiedEditor(),t=ke(E.current,n||"",o||r||"text",a||"");t!==e.getModel()&&e.setModel(t)}}),[a],w),we((()=>{let e=_.current.getModifiedEditor();e.getOption(E.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[n],w),we((()=>{_.current?.getModel()?.original.setValue(t||"")}),[t],w),we((()=>{let{original:e,modified:t}=_.current.getModel();E.current.editor.setModelLanguage(e,i||r||"text"),E.current.editor.setModelLanguage(t,o||r||"text")}),[r,i,o],w),we((()=>{E.current?.editor.setTheme(u)}),[u],w),we((()=>{_.current?.updateOptions(p)}),[p],w);let j=(0,d.useCallback)((()=>{if(!E.current)return;$.current(E.current);let e=ke(E.current,t||"",i||r||"text",s||""),l=ke(E.current,n||"",o||r||"text",a||"");_.current?.setModel({original:e,modified:l})}),[r,n,o,t,i,s,a]),A=(0,d.useCallback)((()=>{!N.current&&P.current&&(_.current=E.current.editor.createDiffEditor(P.current,{automaticLayout:!0,...p}),j(),E.current?.editor.setTheme(u),x(!0),N.current=!0)}),[p,u,j]);return(0,d.useEffect)((()=>{w&&T.current(_.current,E.current)}),[w]),(0,d.useEffect)((()=>{!k&&!w&&A()}),[k,w,A]),d.createElement(ye,{width:m,height:h,isEditorReady:w,loading:f,_ref:P,className:g,wrapperProps:v})};(0,d.memo)(_e);var Ee=function(e){let t=(0,d.useRef)();return(0,d.useEffect)((()=>{t.current=e}),[e]),t.current},Pe=new Map;var Te=function(e){let{defaultValue:t,defaultLanguage:n,defaultPath:r,value:i,language:o,path:s,theme:a="light",line:l,loading:c="Loading...",options:u={},overrideServices:f={},saveViewState:p=!0,keepCurrentModel:h=!1,width:m="100%",height:g="100%",className:v,wrapperProps:y={},beforeMount:b=xe,onMount:w=xe,onChange:x,onValidate:k=xe}=e,[S,_]=(0,d.useState)(!1),[E,P]=(0,d.useState)(!0),T=(0,d.useRef)(null),$=(0,d.useRef)(null),N=(0,d.useRef)(null),j=(0,d.useRef)(w),A=(0,d.useRef)(b),C=(0,d.useRef)(),O=(0,d.useRef)(i),I=Ee(s),R=(0,d.useRef)(!1),L=(0,d.useRef)(!1);be((()=>{let e=pe.init();return e.then((e=>(T.current=e)&&P(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>$.current?(C.current?.dispose(),h?p&&Pe.set(s,$.current.saveViewState()):$.current.getModel()?.dispose(),void $.current.dispose()):e.cancel()})),we((()=>{let e=ke(T.current,t||i||"",n||o||"",s||r||"");e!==$.current?.getModel()&&(p&&Pe.set(I,$.current?.saveViewState()),$.current?.setModel(e),p&&$.current?.restoreViewState(Pe.get(s)))}),[s],S),we((()=>{$.current?.updateOptions(u)}),[u],S),we((()=>{!$.current||void 0===i||($.current.getOption(T.current.editor.EditorOption.readOnly)?$.current.setValue(i):i!==$.current.getValue()&&(L.current=!0,$.current.executeEdits("",[{range:$.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),$.current.pushUndoStop(),L.current=!1))}),[i],S),we((()=>{let e=$.current?.getModel();e&&o&&T.current?.editor.setModelLanguage(e,o)}),[o],S),we((()=>{void 0!==l&&$.current?.revealLine(l)}),[l],S),we((()=>{T.current?.editor.setTheme(a)}),[a],S);let D=(0,d.useCallback)((()=>{if(N.current&&T.current&&!R.current){A.current(T.current);let e=s||r,c=ke(T.current,i||t||"",n||o||"",e||"");$.current=T.current?.editor.create(N.current,{model:c,automaticLayout:!0,...u},f),p&&$.current.restoreViewState(Pe.get(e)),T.current.editor.setTheme(a),void 0!==l&&$.current.revealLine(l),_(!0),R.current=!0}}),[t,n,r,i,o,s,u,f,p,a,l]);return(0,d.useEffect)((()=>{S&&j.current($.current,T.current)}),[S]),(0,d.useEffect)((()=>{!E&&!S&&D()}),[E,S,D]),O.current=i,(0,d.useEffect)((()=>{S&&x&&(C.current?.dispose(),C.current=$.current?.onDidChangeModelContent((e=>{L.current||x($.current.getValue(),e)})))}),[S,x]),(0,d.useEffect)((()=>{if(S){let e=T.current.editor.onDidChangeMarkers((e=>{let t=$.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=T.current.editor.getModelMarkers({resource:t});k?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[S,k]),d.createElement(ye,{width:m,height:g,isEditorReady:S,loading:c,_ref:N,className:v,wrapperProps:y})},$e=(0,d.memo)(Te);const Ne=(e,t,n)=>{let r={...e};for(const[i,o]of Object.entries(t))n.includes(i)||(r[i]=o);return r},je=e=>{if(void 0===e&&!e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(Array.isArray(r.op))for(let e=0;e<r.op.length;e++){const n={...r};n.op=r.op[e],t.push(n)}else t.push(r)}return t},Ae=e=>!!e.forms,Ce=e=>!!e.links,Oe=(e,t)=>{if("string"===typeof t.op){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let n=!0;for(const r in e)"op"!==r&&t[r]!==e[r]&&(n=!1);if(n)return!0}},Ie=async(e,t)=>{var n;if("file"===e.linkedTd[t].kind){try{e.isModified&&e.fileHandle&&(n=await e.fileHandle.createWritable(),await n.write(e.offlineTD),await n.close())}catch(r){console.error(r.message)}let i=e.linkedTd[t];const o=await i.getFile(),s=JSON.parse(await o.text());let a=JSON.stringify(s,null,2);e.setFileHandle(i),e.updateOfflineTD(a),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(n=await e.fileHandle.createWritable(),await n.write(e.offlineTD),await n.close())}catch(r){console.error(r.message)}e.setFileHandle(void 0);const i=e.linkedTd[t];let o=JSON.stringify(i,null,2);e.updateOfflineTD(o),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},Re=(e,t,n)=>{if(!e[t])return"";const r={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},i=e=>"ltr"===e?"\u2066":"\u2067";if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return i(e[t].toString().getDirection())+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const n=r[t.includes("-")?t.split("-")[0]:t.toLowerCase()];return n?i(n)+e[t]:i("ltr")+e[t]}let o,s;if(Array.isArray(n)||(n=[n]),n.forEach((e=>{"object"===typeof e&&(e["@direction"]&&(o=e["@direction"]),e["@language"]&&(s=e["@language"]))})),"title"===t||"description"===t){if(o)return i(o)+e[t];if(s){const n=r[s.includes("-")?s.split("-")[0]:s.toLowerCase()];return n?i(n)+e[t]:i("ltr")+e[t]}}return i(e[t].toString().getDirection())+e[t]},Le={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20},De=(e,t)=>{let n=0;return function(){clearTimeout(n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n=setTimeout(e.bind(this,...i),t||0)}},Me=e=>{const t=(0,d.useContext)(p),[r]=(0,d.useState)([]),[i,o]=(0,d.useState)([]),s=(0,d.useRef)(null),[a,l]=(0,d.useState)([]),[c,u]=(0,d.useState)(""),[f,h]=(0,d.useState)(""),m=d.useMemo((()=>new Worker(new URL(n.p+n.u(163),n.b))),[]),g=d.useMemo((()=>new Worker(new URL(n.p+n.u(152),n.b))),[]),v=(0,d.useCallback)((e=>{g.postMessage(e),m.postMessage(e)}),[g,m]),y=De(v,500);(0,d.useEffect)((()=>{g.onmessage=e=>{var t;console.debug("received message from schema worker"),t=e.data,i.splice(0,i.length),t.forEach((function(e,t){console.debug(`using schema: ${t}`),i.push({schemaUri:t,schema:e})}))},m.onmessage=e=>{console.debug("received message from validation worker"),t.updateValidationMessage(e.data)}}),[g,m,i,t]),(0,d.useEffect)((()=>{t.offlineTD!==f&&(u(t.offlineTD),v(t.offlineTD))}),[t.offlineTD,v,f]);(0,d.useEffect)((()=>{if(t.linkedTd)try{let e=[],n=0;for(let r in t.linkedTd)("file"===t.linkedTd[r].kind||Object.keys(t.linkedTd[r]).length)&&(e.push((0,T.jsx)("option",{value:r,children:r},n)),n++);l(e)}catch(e){console.debug(e)}}),[t.linkedTd,t.offlineTD]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{id:"tabsBackground",children:t.offlineTD&&t.linkedTd&&(0,T.jsx)("select",{name:"linkedTd",id:"linkedTd",className:"text-white",onChange:()=>(async()=>{let e=document.getElementById("linkedTd").value;Ie(t,e)})(),children:a})}),(0,T.jsx)("div",{className:"w-full h-full",id:"editor",children:(0,T.jsx)($e,{options:Le,theme:"vs-"+t.theme,language:"json",ref:s,value:c,editorWillMount:e=>{},editorDidMount:(e,t)=>{if(t.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),!("Proxy"in window))return void console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");let n=new Proxy(r,{set:function(e,n,r,i){e[n]=r;let o=[];for(let t=0;t<e.length;t++)o.push({fileMatch:["*/*"],uri:e[t].schemaUri,schema:e[t].schema});return t.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:o}),!0}});o(n)},onChange:async e=>{await(async e=>{t.updateOfflineTD(e),h(e),y(e)})(e)}})})]})};var Fe=n(7119);const ze=e=>{var t,n,r,i,o,s,a,l;const c=null!==(t=e.title)&&void 0!==t?t:"Default Title",u=null!==(n=e.description)&&void 0!==n?n:"Default description, please override.",d=null!==(r=e.children)&&void 0!==r?r:(0,T.jsx)(T.Fragment,{}),f=null!==(i=e.cancelText)&&void 0!==i?i:"Cancel",p=null!==(o=e.onCancel)&&void 0!==o?o:()=>{},h=null!==(s=e.submitText)&&void 0!==s?s:"Submit",m=null!==(a=e.onSubmit)&&void 0!==a?a:()=>{},g=null===(l=e.hasSubmit)||void 0===l||l;let v={};return window.onkeydown=function(e){v[e.key]=!0,v.Control&&v.Enter&&document.getElementById("submitButton").click()},window.onkeyup=function(e){v[e.key]=!1},(0,T.jsx)("div",{className:"flex bg-gray-400 bg-opacity-50 w-full h-full absolute top-0 left-0 justify-center items-center z-10 text-white",children:(0,T.jsxs)("div",{className:"bg-gray-500 w-1/2 flex flex-col justify-start rounded-xl shadow-xl p-4 max-h-screen",children:[(0,T.jsx)("div",{className:"flex flex-row justify-start items-center  ",children:(0,T.jsx)("h1",{className:"text-xl font-bold flex-grow pl-2",children:c})}),(0,T.jsx)("h2",{className:"text-gray-400 py-2 pl-2",children:u}),(0,T.jsx)("div",{className:"overflow-auto p-2",children:d}),(0,T.jsxs)("div",{className:"flex justify-end pt-4 p-2",children:[(0,T.jsx)("button",{className:"text-white bg-gray-500 p-2 mr-1 rounded-md",onClick:()=>{p()},children:f}),g&&(0,T.jsx)("button",{id:"submitButton",className:"flex text-white bg-blue-500 p-2 rounded-md",onClick:()=>m(),children:h})]})]})})},Ve=(0,d.forwardRef)(((e,t)=>{var n,r,i;const o=(0,d.useContext)(p),[s,a]=d.useState((()=>!1)),l=null!==(n=e.type)&&void 0!==n?n:"",c=l&&l[0].toUpperCase()+l.slice(1),u=null!==(r=e.interaction)&&void 0!==r?r:{},f=null!==(i=e.interactionName)&&void 0!==i?i:"";(0,d.useEffect)((()=>{}),[s,o]),(0,d.useImperativeHandle)(t,(()=>({openModal:()=>h(),close:()=>m()})));const h=()=>{a(!0)},m=()=>{a(!1)},g=e=>!!Ae(u)&&((e,t)=>{for(const n of t.forms){if("string"===typeof e.op)return Oe(e,n);for(const t of e.op)if("string"===typeof n.op){if(n.op===t)return!0}else if(n.op.includes(t)){let t=!0;for(const r in e)"op"!==r&&n[r]!==e[r]&&(t=!1);if(t)return!0}}return!1})(e,u),v=He(l),y=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("label",{className:"text-sm text-gray-400 font-medium pl-3",children:"Operations:"}),(0,T.jsx)("div",{className:"p-1",children:v}),(0,T.jsxs)("div",{className:"p-1 pt-2",children:[(0,T.jsx)("label",{htmlFor:"form-href",className:"text-sm text-gray-400 font-medium pl-2",children:"Href:"}),(0,T.jsx)("input",{type:"text",name:"form-href",id:"form-href",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"http://example.com/href",onChange:()=>{Ue()}}),(0,T.jsx)("span",{id:"form-href-info",className:"text-xs text-red-400 pl-2"})]})]});return s?Fe.createPortal((0,T.jsx)(ze,{onCancel:m,onSubmit:()=>{let e={};e.op=qe(l).map((e=>document.getElementById("form-"+e).checked?document.getElementById("form-"+e).value:void 0)).filter((e=>void 0!==e));const t=document.getElementById("form-href").value;e.href=""!==t?t.trim():"/",0===e.op.length?Be("You have to select at least one operation ..."):g(e)?Be("A Form for one of the selected operations already exists ..."):((e=>{switch(l){case"property":o.addForm({propName:f,form:e});break;case"action":o.addActionForm({actionName:f,form:e});break;case"event":o.addEventForm({eventName:f,form:e});break;case"thing":let t={};try{t=JSON.parse(o.offlineTD)}catch(Pe){}Ae(t)||(t.forms=[]),t.forms.push(e),o.updateOfflineTD(JSON.stringify(t,null,2))}})(e),m())},submitText:"Add",children:y,title:`Add ${c} Form`,description:`Tell us how this ${c} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null})),Be=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},Ue=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},qe=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},He=e=>(0,T.jsx)("div",{className:"bg-gray-600 p-1 rounded-md",children:qe(e).map((e=>Ge(e)))}),Ge=e=>{const t=`form-${e}`;return(0,T.jsxs)("div",{className:"form-checkbox pl-2",children:["invokeaction"!==e?(0,T.jsx)("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):(0,T.jsx)("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:"invokeaction"===e,checked:"invokeaction"===e}),(0,T.jsx)("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)};var We=n(1942),Je=n.n(We);function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ye=(0,d.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,s=Xe(e,["color","size"]);return d.createElement("svg",Ke({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),d.createElement("circle",{cx:"12",cy:"12",r:"10"}),d.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))}));Ye.propTypes={color:Je().string,size:Je().oneOfType([Je().string,Je().number])},Ye.displayName="Info";const Qe=Ye,Ze=Math.min,et=Math.max,tt=Math.round,nt=Math.floor,rt=e=>({x:e,y:e}),it={left:"right",right:"left",bottom:"top",top:"bottom"},ot={start:"end",end:"start"};function st(e,t,n){return et(e,Ze(t,n))}function at(e,t){return"function"===typeof e?e(t):e}function lt(e){return e.split("-")[0]}function ct(e){return e.split("-")[1]}function ut(e){return"x"===e?"y":"x"}function dt(e){return"y"===e?"height":"width"}function ft(e){return["top","bottom"].includes(lt(e))?"y":"x"}function pt(e){return ut(ft(e))}function ht(e){return e.replace(/start|end/g,(e=>ot[e]))}function mt(e){return e.replace(/left|right|bottom|top/g,(e=>it[e]))}function gt(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function vt(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function yt(e,t,n){let{reference:r,floating:i}=e;const o=ft(t),s=pt(t),a=dt(s),l=lt(t),c="y"===o,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ct(t)){case"start":p[s]-=f*(n&&c?-1:1);break;case"end":p[s]+=f*(n&&c?-1:1)}return p}async function bt(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=at(t,e),h=gt(p),m=a[f?"floating"===d?"reference":"floating":d],g=vt(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},w=vt(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-w.top+h.top)/b.y,bottom:(w.bottom-g.bottom+h.bottom)/b.y,left:(g.left-w.left+h.left)/b.x,right:(w.right-g.right+h.right)/b.x}}function wt(){return"undefined"!==typeof window}function xt(e){return _t(e)?(e.nodeName||"").toLowerCase():"#document"}function kt(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function St(e){var t;return null==(t=(_t(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function _t(e){return!!wt()&&(e instanceof Node||e instanceof kt(e).Node)}function Et(e){return!!wt()&&(e instanceof Element||e instanceof kt(e).Element)}function Pt(e){return!!wt()&&(e instanceof HTMLElement||e instanceof kt(e).HTMLElement)}function Tt(e){return!(!wt()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof kt(e).ShadowRoot)}function $t(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=It(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Nt(e){return["table","td","th"].includes(xt(e))}function jt(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function At(e){const t=Ct(),n=Et(e)?It(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Ct(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Ot(e){return["html","body","#document"].includes(xt(e))}function It(e){return kt(e).getComputedStyle(e)}function Rt(e){return Et(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Lt(e){if("html"===xt(e))return e;const t=e.assignedSlot||e.parentNode||Tt(e)&&e.host||St(e);return Tt(t)?t.host:t}function Dt(e){const t=Lt(e);return Ot(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pt(t)&&$t(t)?t:Dt(t)}function Mt(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Dt(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=kt(i);if(o){const e=Ft(s);return t.concat(s,s.visualViewport||[],$t(i)?i:[],e&&n?Mt(e):[])}return t.concat(i,Mt(i,[],n))}function Ft(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zt(e){const t=It(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Pt(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=tt(n)!==o||tt(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Vt(e){return Et(e)?e:e.contextElement}function Bt(e){const t=Vt(e);if(!Pt(t))return rt(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=zt(t);let s=(o?tt(n.width):n.width)/r,a=(o?tt(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Ut=rt(0);function qt(e){const t=kt(e);return Ct()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ut}function Ht(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Vt(e);let s=rt(1);t&&(r?Et(r)&&(s=Bt(r)):s=Bt(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==kt(e))&&t}(o,n,r)?qt(o):rt(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const e=kt(o),t=r&&Et(r)?kt(r):r;let n=e,i=Ft(n);for(;i&&r&&t!==n;){const e=Bt(i),t=i.getBoundingClientRect(),r=It(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=o,c+=s,n=kt(i),i=Ft(n)}}return vt({width:u,height:d,x:l,y:c})}function Gt(e,t){const n=Rt(e).scrollLeft;return t?t.left+n:Ht(St(e)).left+n}function Wt(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:Gt(e,r)),y:r.top+t.scrollTop}}function Jt(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=kt(e),r=St(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=Ct();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=St(e),n=Rt(e),r=e.ownerDocument.body,i=et(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=et(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Gt(e);const a=-n.scrollTop;return"rtl"===It(r).direction&&(s+=et(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(St(e));else if(Et(t))r=function(e,t){const n=Ht(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Pt(e)?Bt(e):rt(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=qt(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return vt(r)}function Kt(e,t){const n=Lt(e);return!(n===t||!Et(n)||Ot(n))&&("fixed"===It(n).position||Kt(n,t))}function Xt(e,t,n){const r=Pt(t),i=St(t),o="fixed"===n,s=Ht(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=rt(0);if(r||!r&&!o)if(("body"!==xt(t)||$t(i))&&(a=Rt(t)),r){const e=Ht(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Gt(i));const c=!i||r||o?rt(0):Wt(i,a);return{x:s.left+a.scrollLeft-l.x-c.x,y:s.top+a.scrollTop-l.y-c.y,width:s.width,height:s.height}}function Yt(e){return"static"===It(e).position}function Qt(e,t){if(!Pt(e)||"fixed"===It(e).position)return null;if(t)return t(e);let n=e.offsetParent;return St(e)===n&&(n=n.ownerDocument.body),n}function Zt(e,t){const n=kt(e);if(jt(e))return n;if(!Pt(e)){let t=Lt(e);for(;t&&!Ot(t);){if(Et(t)&&!Yt(t))return t;t=Lt(t)}return n}let r=Qt(e,t);for(;r&&Nt(r)&&Yt(r);)r=Qt(r,t);return r&&Ot(r)&&Yt(r)&&!At(r)?n:r||function(e){let t=Lt(e);for(;Pt(t)&&!Ot(t);){if(At(t))return t;if(jt(t))return null;t=Lt(t)}return null}(e)||n}const en={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=St(r),a=!!t&&jt(t.floating);if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=rt(1);const u=rt(0),d=Pt(r);if((d||!d&&!o)&&(("body"!==xt(r)||$t(s))&&(l=Rt(r)),Pt(r))){const e=Ht(r);c=Bt(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!s||d||o?rt(0):Wt(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:St,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o="clippingAncestors"===n?jt(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Mt(e,[],!1).filter((e=>Et(e)&&"body"!==xt(e))),i=null;const o="fixed"===It(e).position;let s=o?Lt(e):e;for(;Et(s)&&!Ot(s);){const t=It(s),n=At(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||$t(s)&&!n&&Kt(e,s))?r=r.filter((e=>e!==s)):i=t,s=Lt(s)}return t.set(e,r),r}(t,this._c):[].concat(n),s=[...o,r],a=s[0],l=s.reduce(((e,n)=>{const r=Jt(t,n,i);return e.top=et(r.top,e.top),e.right=Ze(r.right,e.right),e.bottom=Ze(r.bottom,e.bottom),e.left=et(r.left,e.left),e}),Jt(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Zt,getElementRects:async function(e){const t=this.getOffsetParent||Zt,n=this.getDimensions,r=await n(e.floating);return{reference:Xt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=zt(e);return{width:t,height:n}},getScale:Bt,isElement:Et,isRTL:function(e){return"rtl"===It(e).direction}};function tn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nn(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=Vt(e),u=i||o?[...c?Mt(c):[],...Mt(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const d=c&&a?function(e,t){let n,r=null;const i=St(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||t(),!f||!p)return;const h={rootMargin:-nt(d)+"px "+-nt(i.clientWidth-(u+f))+"px "+-nt(i.clientHeight-(d+p))+"px "+-nt(u)+"px",threshold:et(0,Ze(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return s();r?s(!1,r):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==r||tn(c,e.getBoundingClientRect())||s(),m=!1}try{r=new IntersectionObserver(g,{...h,root:i.ownerDocument})}catch(v){r=new IntersectionObserver(g,h)}r.observe(e)}(!0),o}(c,n):null;let f,p=-1,h=null;s&&(h=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),n()})),c&&!l&&h.observe(c),h.observe(t));let m=l?Ht(e):null;return l&&function t(){const r=Ht(e);m&&!tn(m,r)&&n();m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=h)||e.disconnect(),h=null,l&&cancelAnimationFrame(f)}}const rn=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=lt(n),a=ct(n),l="y"===ft(n),c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=at(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"===typeof h&&(p="end"===a?-1*h:h),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},on=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=at(e,t),c={x:n,y:r},u=await bt(t,l),d=ft(lt(i)),f=ut(d);let p=c[f],h=c[d];if(o){const e="y"===f?"bottom":"right";p=st(p+u["y"===f?"top":"left"],p,p-u[e])}if(s){const e="y"===d?"bottom":"right";h=st(h+u["y"===d?"top":"left"],h,h-u[e])}const m=a.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[d]:s}}}}}},sn=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...g}=at(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=lt(i),y=ft(a),b=lt(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=f||(b||!m?[mt(a)]:function(e){const t=mt(e);return[ht(e),t,ht(t)]}(a)),k="none"!==h;!f&&k&&x.push(...function(e,t,n,r){const i=ct(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}(lt(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(ht)))),o}(a,m,h,w));const S=[a,...x],_=await bt(t,g),E=[];let P=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&E.push(_[v]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=ct(e),i=pt(e),o=dt(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=mt(s)),[s,mt(s)]}(i,s,w);E.push(_[e[0]],_[e[1]])}if(P=[...P,{placement:i,overflows:E}],!E.every((e=>e<=0))){var T,$;const e=((null==(T=o.flip)?void 0:T.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:P},reset:{placement:t}};let n=null==($=P.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:$.placement;if(!n)switch(p){case"bestFit":{var N;const e=null==(N=P.filter((e=>{if(k){const t=ft(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},an=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=at(e,t)||{};if(null==c)return{};const d=gt(u),f={x:n,y:r},p=pt(i),h=dt(p),m=await s.getDimensions(c),g="y"===p,v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=o.reference[h]+o.reference[p]-f[p]-o.floating[h],x=f[p]-o.reference[p],k=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let S=k?k[b]:0;S&&await(null==s.isElement?void 0:s.isElement(k))||(S=a.floating[b]||o.floating[h]);const _=w/2-x/2,E=S/2-m[h]/2-1,P=Ze(d[v],E),T=Ze(d[y],E),$=P,N=S-m[h]-T,j=S/2-m[h]/2+_,A=st($,j,N),C=!l.arrow&&null!=ct(i)&&j!==A&&o.reference[h]/2-(j<$?P:T)-m[h]/2<0,O=C?j<$?j-$:j-N:0;return{[p]:f[p]+O,data:{[p]:A,centerOffset:j-A-O,...C&&{alignmentOffset:O}},reset:C}}}),ln=(e,t,n)=>{const r=new Map,i={platform:en,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=yt(c,r,l),f=r,p={},h=0;for(let m=0;m<a.length;m++){const{name:n,fn:o}=a[m],{x:g,y:v,data:y,reset:b}=await o({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,p={...p,[n]:{...p[n],...y}},b&&h<=50&&(h++,"object"===typeof b&&(b.placement&&(f=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=yt(c,f,l))),m=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}})(e,t,{...i,platform:o})};var cn=n(8738);const un="react-tooltip-core-styles",dn="react-tooltip-base-styles",fn={core:!1,base:!1};function pn(e){let{css:t,id:n=dn,type:r="base",ref:i}=e;var o,s;if(!t||"undefined"==typeof document||fn[r])return;if("core"===r&&"undefined"!=typeof process&&(null===(o=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"/editdor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NPM_PACKAGE_VERSION:"0.6.6"})||void 0===o?void 0:o.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==r&&"undefined"!=typeof process&&(null===(s=null===process||void 0===process?void 0:{NODE_ENV:"production",PUBLIC_URL:"/editdor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NPM_PACKAGE_VERSION:"0.6.6"})||void 0===s?void 0:s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===r&&(n=un),i||(i={});const{insertAt:a}=i;if(document.getElementById(n))return;const l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.id=n,c.type="text/css","top"===a&&l.firstChild?l.insertBefore(c,l.firstChild):l.appendChild(c),c.styleSheet?c.styleSheet.cssText=t:c.appendChild(document.createTextNode(t)),fn[r]=!0}const hn=async e=>{let{elementReference:t=null,tooltipReference:n=null,tooltipArrowReference:r=null,place:i="top",offset:o=10,strategy:s="absolute",middlewares:a=[rn(Number(o)),sn({fallbackAxisSideDirection:"start"}),on({padding:5})],border:l}=e;if(!t)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};if(null===n)return{tooltipStyles:{},tooltipArrowStyles:{},place:i};const c=a;return r?(c.push(an({element:r,padding:5})),ln(t,n,{placement:i,strategy:s,middleware:c}).then((e=>{let{x:t,y:n,placement:r,middlewareData:i}=e;var o,s;const a={left:`${t}px`,top:`${n}px`,border:l},{x:c,y:u}=null!==(o=i.arrow)&&void 0!==o?o:{x:0,y:0},d=null!==(s={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]])&&void 0!==s?s:"bottom",f=l&&{borderBottom:l,borderRight:l};let p=0;if(l){const e=`${l}`.match(/(\d+)px/);p=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:a,tooltipArrowStyles:{left:null!=c?`${c}px`:"",top:null!=u?`${u}px`:"",right:"",bottom:"",...f,[d]:`-${4+p}px`},place:r}}))):ln(t,n,{placement:"bottom",strategy:s,middleware:c}).then((e=>{let{x:t,y:n,placement:r}=e;return{tooltipStyles:{left:`${t}px`,top:`${n}px`},tooltipArrowStyles:{},place:r}}))},mn=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),gn=(e,t,n)=>{let r=null;const i=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=()=>{r=null,n||e.apply(this,o)};n&&!r&&(e.apply(this,o),r=setTimeout(a,t)),n||(r&&clearTimeout(r),r=setTimeout(a,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},vn=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,yn=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,n)=>yn(e,t[n])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!vn(e)||!vn(t))return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>yn(e[n],t[n])))},bn=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return"auto"===n||"scroll"===n}))},wn=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(bn(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},xn="undefined"!=typeof window?d.useLayoutEffect:d.useEffect,kn=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Sn="DEFAULT_TOOLTIP_ID",_n={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},En=(0,d.createContext)({getTooltipData:()=>_n});function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return(0,d.useContext)(En).getTooltipData(e)}var Tn={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},$n={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Nn=e=>{let{forwardRef:t,id:n,className:r,classNameArrow:i,variant:o="dark",anchorId:s,anchorSelect:a,place:l="top",offset:c=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:p="absolute",middlewares:h,wrapper:m,delayShow:g=0,delayHide:v=0,float:y=!1,hidden:b=!1,noArrow:w=!1,clickable:x=!1,closeOnEsc:k=!1,closeOnScroll:S=!1,closeOnResize:_=!1,openEvents:E,closeEvents:P,globalCloseEvents:T,imperativeModeOnly:$,style:N,position:j,afterShow:A,afterHide:C,disableTooltip:O,content:I,contentWrapperRef:R,isOpen:L,defaultIsOpen:D=!1,setIsOpen:M,activeAnchor:F,setActiveAnchor:z,border:V,opacity:B,arrowColor:U,role:q="tooltip"}=e;var H;const G=(0,d.useRef)(null),W=(0,d.useRef)(null),J=(0,d.useRef)(null),K=(0,d.useRef)(null),X=(0,d.useRef)(null),[Y,Q]=(0,d.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:l}),[Z,ee]=(0,d.useState)(!1),[te,ne]=(0,d.useState)(!1),[re,ie]=(0,d.useState)(null),oe=(0,d.useRef)(!1),se=(0,d.useRef)(null),{anchorRefs:ae,setActiveAnchor:le}=Pn(n),ce=(0,d.useRef)(!1),[ue,de]=(0,d.useState)([]),fe=(0,d.useRef)(!1),pe=f||u.includes("click"),he=pe||(null==E?void 0:E.click)||(null==E?void 0:E.dblclick)||(null==E?void 0:E.mousedown),me=E?{...E}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!E&&pe&&Object.assign(me,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ge=P?{...P}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!P&&pe&&Object.assign(ge,{mouseleave:!1,blur:!1,mouseout:!1});const ve=T?{...T}:{escape:k||!1,scroll:S||!1,resize:_||!1,clickOutsideAnchor:he||!1};$&&(Object.assign(me,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ge,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ve,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),xn((()=>(fe.current=!0,()=>{fe.current=!1})),[]);const ye=e=>{fe.current&&(e&&ne(!0),setTimeout((()=>{fe.current&&(null==M||M(e),void 0===L&&ee(e))}),10))};(0,d.useEffect)((()=>{if(void 0===L)return()=>null;L&&ne(!0);const e=setTimeout((()=>{ee(L)}),10);return()=>{clearTimeout(e)}}),[L]),(0,d.useEffect)((()=>{if(Z!==oe.current)if(kn(X),oe.current=Z,Z)null==A||A();else{const e=(()=>{const e=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!e)return 0;const[,t,n]=e;return Number(t)*("ms"===n?1:1e3)})();X.current=setTimeout((()=>{ne(!1),ie(null),null==C||C()}),e+25)}}),[Z]);const be=e=>{Q((t=>yn(t,e)?t:e))},we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;kn(J),te?ye(!0):J.current=setTimeout((()=>{ye(!0)}),e)},xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;kn(K),K.current=setTimeout((()=>{ce.current||ye(!1)}),e)},ke=e=>{var t;if(!e)return;const n=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==n?void 0:n.isConnected))return z(null),void le({current:null});g?we():ye(!0),z(n),le({current:n}),kn(K)},Se=()=>{x?xe(v||100):v?xe():ye(!1),kn(J)},_e=e=>{let{x:t,y:n}=e;var r;const i={getBoundingClientRect:()=>({x:t,y:n,width:0,height:0,top:n,left:t,right:t,bottom:n})};hn({place:null!==(r=null==re?void 0:re.place)&&void 0!==r?r:l,offset:c,elementReference:i,tooltipReference:G.current,tooltipArrowReference:W.current,strategy:p,middlewares:h,border:V}).then((e=>{be(e)}))},Ee=e=>{if(!e)return;const t=e,n={x:t.clientX,y:t.clientY};_e(n),se.current=n},Pe=e=>{var t;if(!Z)return;const n=e.target;n.isConnected&&((null===(t=G.current)||void 0===t?void 0:t.contains(n))||[document.querySelector(`[id='${s}']`),...ue].some((e=>null==e?void 0:e.contains(n)))||(ye(!1),kn(J)))},Te=gn(ke,50,!0),$e=gn(Se,50,!0),Ne=e=>{$e.cancel(),Te(e)},je=()=>{Te.cancel(),$e()},Ae=(0,d.useCallback)((()=>{var e,t;const n=null!==(e=null==re?void 0:re.position)&&void 0!==e?e:j;n?_e(n):y?se.current&&_e(se.current):(null==F?void 0:F.isConnected)&&hn({place:null!==(t=null==re?void 0:re.place)&&void 0!==t?t:l,offset:c,elementReference:F,tooltipReference:G.current,tooltipArrowReference:W.current,strategy:p,middlewares:h,border:V}).then((e=>{fe.current&&be(e)}))}),[Z,F,I,N,l,null==re?void 0:re.place,c,p,j,null==re?void 0:re.position,y]);(0,d.useEffect)((()=>{var e,t;const n=new Set(ae);ue.forEach((e=>{(null==O?void 0:O(e))||n.add({current:e})}));const r=document.querySelector(`[id='${s}']`);r&&!(null==O?void 0:O(r))&&n.add({current:r});const i=()=>{ye(!1)},o=wn(F),a=wn(G.current);ve.scroll&&(window.addEventListener("scroll",i),null==o||o.addEventListener("scroll",i),null==a||a.addEventListener("scroll",i));let l=null;ve.resize?window.addEventListener("resize",i):F&&G.current&&(l=nn(F,G.current,Ae,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const c=e=>{"Escape"===e.key&&ye(!1)};ve.escape&&window.addEventListener("keydown",c),ve.clickOutsideAnchor&&window.addEventListener("click",Pe);const u=[],d=e=>{Z&&(null==e?void 0:e.target)===F||ke(e)},f=e=>{Z&&(null==e?void 0:e.target)===F&&Se()},p=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],h=["click","dblclick","mousedown","mouseup"];Object.entries(me).forEach((e=>{let[t,n]=e;n&&(p.includes(t)?u.push({event:t,listener:Ne}):h.includes(t)&&u.push({event:t,listener:d}))})),Object.entries(ge).forEach((e=>{let[t,n]=e;n&&(p.includes(t)?u.push({event:t,listener:je}):h.includes(t)&&u.push({event:t,listener:f}))})),y&&u.push({event:"pointermove",listener:Ee});const m=()=>{ce.current=!0},g=()=>{ce.current=!1,Se()};return x&&!he&&(null===(e=G.current)||void 0===e||e.addEventListener("mouseenter",m),null===(t=G.current)||void 0===t||t.addEventListener("mouseleave",g)),u.forEach((e=>{let{event:t,listener:r}=e;n.forEach((e=>{var n;null===(n=e.current)||void 0===n||n.addEventListener(t,r)}))})),()=>{var e,t;ve.scroll&&(window.removeEventListener("scroll",i),null==o||o.removeEventListener("scroll",i),null==a||a.removeEventListener("scroll",i)),ve.resize?window.removeEventListener("resize",i):null==l||l(),ve.clickOutsideAnchor&&window.removeEventListener("click",Pe),ve.escape&&window.removeEventListener("keydown",c),x&&!he&&(null===(e=G.current)||void 0===e||e.removeEventListener("mouseenter",m),null===(t=G.current)||void 0===t||t.removeEventListener("mouseleave",g)),u.forEach((e=>{let{event:t,listener:r}=e;n.forEach((e=>{var n;null===(n=e.current)||void 0===n||n.removeEventListener(t,r)}))}))}}),[F,Ae,te,ae,ue,E,P,T,pe,g,v]),(0,d.useEffect)((()=>{var e,t;let r=null!==(t=null!==(e=null==re?void 0:re.anchorSelect)&&void 0!==e?e:a)&&void 0!==t?t:"";!r&&n&&(r=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`);const i=new MutationObserver((e=>{const t=[],i=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===n?t.push(e.target):e.oldValue===n&&i.push(e.target)),"childList"===e.type){if(F){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(r)try{i.push(...t.filter((e=>e.matches(r)))),i.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,F))&&(ne(!1),ye(!1),z(null),kn(J),kn(K),!0)}))}if(r)try{const n=[...e.addedNodes].filter((e=>1===e.nodeType));t.push(...n.filter((e=>e.matches(r)))),t.push(...n.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}}})),(t.length||i.length)&&de((e=>[...e.filter((e=>!i.includes(e))),...t]))}));return i.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{i.disconnect()}}),[n,a,null==re?void 0:re.anchorSelect,F]),(0,d.useEffect)((()=>{Ae()}),[Ae]),(0,d.useEffect)((()=>{if(!(null==R?void 0:R.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Ae()))}));return e.observe(R.current),()=>{e.disconnect()}}),[I,null==R?void 0:R.current]),(0,d.useEffect)((()=>{var e;const t=document.querySelector(`[id='${s}']`),n=[...ue,t];F&&n.includes(F)||z(null!==(e=ue[0])&&void 0!==e?e:t)}),[s,ue,F]),(0,d.useEffect)((()=>(D&&ye(!0),()=>{kn(J),kn(K)})),[]),(0,d.useEffect)((()=>{var e;let t=null!==(e=null==re?void 0:re.anchorSelect)&&void 0!==e?e:a;if(!t&&n&&(t=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),t)try{const e=Array.from(document.querySelectorAll(t));de(e)}catch(e){de([])}}),[n,a,null==re?void 0:re.anchorSelect]),(0,d.useEffect)((()=>{J.current&&(kn(J),we(g))}),[g]);const Ce=null!==(H=null==re?void 0:re.content)&&void 0!==H?H:I,Oe=Z&&Object.keys(Y.tooltipStyles).length>0;return(0,d.useImperativeHandle)(t,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}ie(null!=e?e:null),(null==e?void 0:e.delay)?we(e.delay):ye(!0)},close:e=>{(null==e?void 0:e.delay)?xe(e.delay):ye(!1)},activeAnchor:F,place:Y.place,isOpen:Boolean(te&&!b&&Ce&&Oe)}))),te&&!b&&Ce?d.createElement(m,{id:n,role:q,className:cn("react-tooltip",Tn.tooltip,$n.tooltip,$n[o],r,`react-tooltip__place-${Y.place}`,Tn[Oe?"show":"closing"],Oe?"react-tooltip__show":"react-tooltip__closing","fixed"===p&&Tn.fixed,x&&Tn.clickable),onTransitionEnd:e=>{kn(X),Z||"opacity"!==e.propertyName||(ne(!1),ie(null),null==C||C())},style:{...N,...Y.tooltipStyles,opacity:void 0!==B&&Oe?B:void 0},ref:G},Ce,d.createElement(m,{className:cn("react-tooltip-arrow",Tn.arrow,$n.arrow,i,w&&Tn.noArrow),style:{...Y.tooltipArrowStyles,background:U?`linear-gradient(to right bottom, transparent 50%, ${U} 50%)`:void 0},ref:W})):null},jn=e=>{let{content:t}=e;return d.createElement("span",{dangerouslySetInnerHTML:{__html:t}})},An=d.forwardRef(((e,t)=>{let{id:n,anchorId:r,anchorSelect:i,content:o,html:s,render:a,className:l,classNameArrow:c,variant:u="dark",place:f="top",offset:p=10,wrapper:h="div",children:m=null,events:g=["hover"],openOnClick:v=!1,positionStrategy:y="absolute",middlewares:b,delayShow:w=0,delayHide:x=0,float:k=!1,hidden:S=!1,noArrow:_=!1,clickable:E=!1,closeOnEsc:P=!1,closeOnScroll:T=!1,closeOnResize:$=!1,openEvents:N,closeEvents:j,globalCloseEvents:A,imperativeModeOnly:C=!1,style:O,position:I,isOpen:R,defaultIsOpen:L=!1,disableStyleInjection:D=!1,border:M,opacity:F,arrowColor:z,setIsOpen:V,afterShow:B,afterHide:U,disableTooltip:q,role:H="tooltip"}=e;const[G,W]=(0,d.useState)(o),[J,K]=(0,d.useState)(s),[X,Y]=(0,d.useState)(f),[Q,Z]=(0,d.useState)(u),[ee,te]=(0,d.useState)(p),[ne,re]=(0,d.useState)(w),[ie,oe]=(0,d.useState)(x),[se,ae]=(0,d.useState)(k),[le,ce]=(0,d.useState)(S),[ue,de]=(0,d.useState)(h),[fe,pe]=(0,d.useState)(g),[he,me]=(0,d.useState)(y),[ge,ve]=(0,d.useState)(null),[ye,be]=(0,d.useState)(null),we=(0,d.useRef)(D),{anchorRefs:xe,activeAnchor:ke}=Pn(n),Se=e=>null==e?void 0:e.getAttributeNames().reduce(((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(n))&&void 0!==r?r:null),t}),{}),_e=e=>{const t={place:e=>{var t;Y(null!==(t=e)&&void 0!==t?t:f)},content:e=>{W(null!=e?e:o)},html:e=>{K(null!=e?e:s)},variant:e=>{var t;Z(null!==(t=e)&&void 0!==t?t:u)},offset:e=>{te(null===e?p:Number(e))},wrapper:e=>{var t;de(null!==(t=e)&&void 0!==t?t:h)},events:e=>{const t=null==e?void 0:e.split(" ");pe(null!=t?t:g)},"position-strategy":e=>{var t;me(null!==(t=e)&&void 0!==t?t:y)},"delay-show":e=>{re(null===e?w:Number(e))},"delay-hide":e=>{oe(null===e?x:Number(e))},float:e=>{ae(null===e?k:"true"===e)},hidden:e=>{ce(null===e?S:"true"===e)},"class-name":e=>{ve(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((e=>{let[n,r]=e;var i;null===(i=t[n])||void 0===i||i.call(t,r)}))};(0,d.useEffect)((()=>{W(o)}),[o]),(0,d.useEffect)((()=>{K(s)}),[s]),(0,d.useEffect)((()=>{Y(f)}),[f]),(0,d.useEffect)((()=>{Z(u)}),[u]),(0,d.useEffect)((()=>{te(p)}),[p]),(0,d.useEffect)((()=>{re(w)}),[w]),(0,d.useEffect)((()=>{oe(x)}),[x]),(0,d.useEffect)((()=>{ae(k)}),[k]),(0,d.useEffect)((()=>{ce(S)}),[S]),(0,d.useEffect)((()=>{me(y)}),[y]),(0,d.useEffect)((()=>{we.current!==D&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[D]),(0,d.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===D,disableBase:D}}))}),[]),(0,d.useEffect)((()=>{var e;const t=new Set(xe);let o=i;if(!o&&n&&(o=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),o)try{document.querySelectorAll(o).forEach((e=>{t.add({current:e})}))}catch(e){console.warn(`[react-tooltip] "${o}" is not a valid CSS selector`)}const s=document.querySelector(`[id='${r}']`);if(s&&t.add({current:s}),!t.size)return()=>null;const a=null!==(e=null!=ye?ye:s)&&void 0!==e?e:ke.current,l=new MutationObserver((e=>{e.forEach((e=>{var t;if(!a||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const n=Se(a);_e(n)}))})),c={attributes:!0,childList:!1,subtree:!1};if(a){const e=Se(a);_e(e),l.observe(a,c)}return()=>{l.disconnect()}}),[xe,ke,ye,r,i]),(0,d.useEffect)((()=>{(null==O?void 0:O.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),M&&!mn("border",`${M}`)&&console.warn(`[react-tooltip] "${M}" is not a valid \`border\`.`),(null==O?void 0:O.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!mn("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)}),[]);let Ee=m;const Pe=(0,d.useRef)(null);if(a){const e=a({content:(null==ye?void 0:ye.getAttribute("data-tooltip-content"))||G||null,activeAnchor:ye});Ee=e?d.createElement("div",{ref:Pe,className:"react-tooltip-content-wrapper"},e):null}else G&&(Ee=G);J&&(Ee=d.createElement(jn,{content:J}));const Te={forwardRef:t,id:n,anchorId:r,anchorSelect:i,className:cn(l,ge),classNameArrow:c,content:Ee,contentWrapperRef:Pe,place:X,variant:Q,offset:ee,wrapper:ue,events:fe,openOnClick:v,positionStrategy:he,middlewares:b,delayShow:ne,delayHide:ie,float:se,hidden:le,noArrow:_,clickable:E,closeOnEsc:P,closeOnScroll:T,closeOnResize:$,openEvents:N,closeEvents:j,globalCloseEvents:A,imperativeModeOnly:C,style:O,position:I,isOpen:R,defaultIsOpen:L,border:M,opacity:F,arrowColor:z,setIsOpen:V,afterShow:B,afterHide:U,disableTooltip:q,activeAnchor:ye,setActiveAnchor:e=>be(e),role:H};return d.createElement(Nn,{...Te})}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||pn({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||pn({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));const Cn=e=>(0,T.jsxs)("div",{className:"flex flex-row items-center",children:[(0,T.jsx)("div",{className:"pr-0.5",children:e.children}),(0,T.jsx)("button",{onClick:()=>window.open(e.tooltip.href,"_blank"),children:(0,T.jsx)(On,{html:e.tooltip.html})}),(0,T.jsx)("div",{className:"p-1"})]}),On=e=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Qe,{color:"grey",size:"16","data-html":!0,"data-type":"info","data-tip":e.html,"data-background-color":"#2c2c2e"}),(0,T.jsx)(An,{html:!0,type:"info"})]});class In{constructor(e,t){this.html=e,this.href=t}}const Rn=()=>new In("<h2 class='text-lg'>Web of Things Forms</h2>\n                    <p>A Form contains all information needed to make a request to a device.</p>\n                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>\n                    <br />\n                    <p>Click to get more information about Forms.</p>\n                ","https://www.w3.org/TR/wot-thing-description/#form"),Ln=()=>new In("<h2 class='text-lg'>Web of Things Link</h2>\n                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>\n                    <p>Used to link Thing Description with other ressources.</p>\n                    <br />\n                    <p>Click to get more information about Links.</p>\n                ","https://www.w3.org/TR/wot-thing-description/#link"),Dn={properties:new In("<h2 class='text-lg'>Web of Things Properties</h2>\n                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>\n                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>\n                    <br />\n                    <p>Click to get more information about Properties.</p> \n                ","https://www.w3.org/TR/wot-thing-description/#propertyaffordance"),actions:new In("<h2 class='text-lg'>Web of Things Actions</h2>\n                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>\n                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>\n                    <br />\n                    <p>Click to get more information about Actions.</p>\n                ","https://www.w3.org/TR/wot-thing-description/#actionaffordance"),events:new In("<h2 class='text-lg'>Web of Things Events</h2>\n                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>\n                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>\n                <br />\n                <p>Click to get more information about Events.</p>\n            ","https://www.w3.org/TR/wot-thing-description/#eventaffordance"),forms:Rn(),links:Ln()};function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function Fn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zn=(0,d.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,s=Fn(e,["color","size"]);return d.createElement("svg",Mn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),d.createElement("polyline",{points:"3 6 5 6 21 6"}),d.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),d.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),d.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))}));zn.propTypes={color:Je().string,size:Je().oneOfType([Je().string,Je().number])},zn.displayName="Trash2";const Vn=zn;function Bn(e){const t={observeproperty:(0,T.jsx)(Un,{type:"properties",form:e.form,propName:e.propName}),unobserveproperty:(0,T.jsx)(qn,{type:"properties",form:e.form,propName:e.propName}),observeallproperties:(0,T.jsx)(Hn,{type:"forms",form:e.form,propName:e.propName}),unobserveallproperties:(0,T.jsx)(Gn,{type:"forms",form:e.form,propName:e.propName}),readproperty:(0,T.jsx)(Wn,{type:"properties",form:e.form,propName:e.propName}),readmultipleproperties:(0,T.jsx)(Jn,{type:"forms",form:e.form,formIndex:e.propName}),readallproperties:(0,T.jsx)(Kn,{type:"forms",form:e.form,formIndex:e.propName}),writeproperty:(0,T.jsx)(Xn,{type:"properties",form:e.form,propName:e.propName}),writemultipleproperties:(0,T.jsx)(Yn,{type:"forms",form:e.form,formIndex:e.propName}),writeallproperties:(0,T.jsx)(Qn,{type:"forms",form:e.form,formIndex:e.propName}),invokeaction:(0,T.jsx)(Zn,{type:"actions",form:e.form,propName:e.propName}),unsubscribeevent:(0,T.jsx)(qn,{type:"events",form:e.form,propName:e.propName})};return t[e.form.op]?t[e.form.op]:"action"===e.interactionType?(0,T.jsx)(Zn,{type:"actions",form:e.form,propName:e.propName}):"event"===e.interactionType?(0,T.jsx)(Un,{type:"events",form:e.form,propName:e.propName}):(0,T.jsx)(er,{form:e.form,propName:e.propName})}function Un(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formOrange rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formOrange",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formOrange place-self-center text-center text-xs px-4",children:"Observe"})}),(0,T.jsx)("div",{className:"place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formOrange",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function qn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formRed place-self-center text-center text-xs px-4",children:"Unobserve"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Hn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formOrange rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formOrange",children:[(0,T.jsx)("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formOrange place-self-center text-center text-xs px-4",children:"ObserveAll"})}),(0,T.jsx)("div",{className:"place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formOrange",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Gn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed",children:[(0,T.jsx)("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formRed place-self-center text-center text-xs px-4",children:"UnobserveAll"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Wn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formGreen place-self-center text-center text-xs px-4",children:"Read"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Jn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen",children:[(0,T.jsx)("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formGreen place-self-center text-center text-xs px-4",children:"ReadMultiple"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Kn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formGreen rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formGreen",children:[(0,T.jsx)("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formGreen place-self-center text-center text-xs px-4",children:"ReadAll"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formGreen",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Xn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formBlue place-self-center text-center text-xs px-4",children:"Write"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Yn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue",children:[(0,T.jsx)("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formBlue place-self-center text-center text-xs px-4",children:"WriteMultiple"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Qn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue",children:[(0,T.jsx)("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formBlue place-self-center text-center text-xs px-4",children:"WriteAll"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function Zn(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formRed place-self-center text-center text-xs px-4",children:"Invoke"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formRed",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function er(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-gray-300 rounded-md px-4 mt-2 bg-opacity-75 border-2 border-gray-300",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"place-self-center text-center text-xs px-4",children:"Undefined"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base overflow-hidden flex-grow",children:e.form.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-white",onClick:()=>(e=>{t.removeForm(e)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})})]})}function tr(){return tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tr.apply(this,arguments)}function nr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rr=(0,d.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,s=nr(e,["color","size"]);return d.createElement("svg",tr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),d.createElement("polyline",{points:"6 9 12 15 18 9"}))}));rr.propTypes={color:Je().string,size:Je().oneOfType([Je().string,Je().number])},rr.displayName="ChevronDown";const ir=rr,or=e=>{var t,n;return(0,T.jsxs)("div",{className:"py-1",children:[(0,T.jsxs)("label",{htmlFor:e.id,className:"text-sm text-gray-400 font-medium pl-2",children:[e.label,":"]}),(0,T.jsx)("input",{name:e.id,id:e.id,className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:e.placeholder,type:null!==(t=e.type)&&void 0!==t?t:"text",autoFocus:null!==(n=e.autoFocus)&&void 0!==n&&n,onChange:e.onChange?()=>e.onChange():null}),(0,T.jsx)("span",{id:`${e.id}-helper-text`,className:"text-xs text-red-400 pl-2"})]},e.id)},sr=e=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("label",{htmlFor:e.id,className:"text-sm text-gray-400 font-medium pl-2",children:[e.label,":"]}),(0,T.jsx)("textarea",{id:e.id,rows:"5",className:"bg-gray-600 sm:text-sm appearance-none border-2 border-gray-600 rounded w-full p-2 text-white leading-tight focus:outline-none focus:border-blue-500",placeholder:e.placeholder})]}),ar=e=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("label",{htmlFor:e.id,className:"text-sm text-gray-400 font-medium pl-2",children:[e.label,":"]}),(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsx)("select",{className:"block appearance-none w-full bg-gray-600 border-2 border-gray-600 text-white py-3 px-4 pr-8 rounded leading-tight focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map((e=>(0,T.jsx)("option",{children:e},e)))}),(0,T.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,T.jsx)(ir,{color:"#cacaca"})})]})]}),lr=e=>{var t;return(0,T.jsxs)("div",{className:"form-checkbox pl-2",children:[null===(t=e.readOnly)||void 0===t||t?(0,T.jsx)("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):(0,T.jsx)("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),(0,T.jsx)("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id)},cr=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useContext)(p),[r,i]=d.useState((()=>!1)),o="action",s="actions",a=o&&o[0].toUpperCase()+o.slice(1);(0,d.useEffect)((()=>{}),[r,n]),(0,d.useImperativeHandle)(t,(()=>({openModal:()=>l(),close:()=>c()})));const l=()=>{i(!0)},c=()=>{i(!1)},u=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(or,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),(0,T.jsx)(sr,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),f=e=>{let t=JSON.parse(n.offlineTD);t[s]||(t[s]={}),t[s][e.title]=e,n.updateOfflineTD(JSON.stringify(t,null,2))},h=e=>{document.getElementById(`${o}-title-helper-text`).textContent=e,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return r?Fe.createPortal((0,T.jsx)(ze,{onCancel:c,onSubmit:()=>{(()=>{let e={};e.title=document.getElementById(`${o}-title`).value;const t=document.getElementById(`${o}-description`).value;""!==t&&(e.description=t),e.forms=[];let r=JSON.parse(n.offlineTD);r[s]&&r[s][e.title]?h(`An ${a} with this title already exists...`):(f(e),c())})()},submitText:`Add ${a}`,children:u,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null})),ur=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useContext)(p),[r,i]=d.useState((()=>!1)),o="event",s="events",a=o&&o[0].toUpperCase()+o.slice(1);(0,d.useEffect)((()=>{}),[r,n]),(0,d.useImperativeHandle)(t,(()=>({openModal:()=>l(),close:()=>c()})));const l=()=>{i(!0)},c=()=>{i(!1)},u=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(or,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),(0,T.jsx)(sr,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),f=e=>{let t=JSON.parse(n.offlineTD);t[s]||(t[s]={}),t[s][e.title]=e,n.updateOfflineTD(JSON.stringify(t,null,2))},h=e=>{document.getElementById(`${o}-title-helper-text`).textContent=e,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return r?Fe.createPortal((0,T.jsx)(ze,{onCancel:c,onSubmit:()=>{(()=>{let e={};e.title=document.getElementById(`${o}-title`).value;const t=document.getElementById(`${o}-description`).value;""!==t&&(e.description=t),e.forms=[];let r=JSON.parse(n.offlineTD);r[s]&&r[s][e.title]?h(`An ${a} with this title already exists...`):(f(e),c())})()},submitText:`Add ${a}`,children:u,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null})),dr="undefined",fr=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useContext)(p),[r,i]=d.useState((()=>!1)),o="property",s="properties",a=o&&o[0].toUpperCase()+o.slice(1);(0,d.useEffect)((()=>{}),[r,n]),(0,d.useImperativeHandle)(t,(()=>({openModal:()=>l(),close:()=>c()})));const l=()=>{i(!0)},c=()=>{i(!1)},u=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(or,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),(0,T.jsx)(sr,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`}),(0,T.jsx)(ar,{id:`${o}-type`,label:"Type",options:[dr,"number","integer","boolean","string","object","array"]}),(0,T.jsx)("div",{className:"h-2"}),(0,T.jsx)("label",{className:"text-sm text-gray-400 font-medium pl-3",children:"Additional:"}),(0,T.jsxs)("div",{id:"additional",className:"bg-gray-600 p-1 rounded-md",children:[(0,T.jsx)(lr,{id:`${o}-readOnly`,label:"Read Only"}),(0,T.jsx)(lr,{id:`${o}-observable`,label:"Observable"})]})]}),f=e=>{let t=JSON.parse(n.offlineTD);t[s]||(t[s]={}),t[s][e.title]=e,n.updateOfflineTD(JSON.stringify(t,null,2))},h=e=>{document.getElementById(`${o}-title-helper-text`).textContent=e,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return r?Fe.createPortal((0,T.jsx)(ze,{onCancel:c,onSubmit:()=>{(()=>{let e={};e.title=document.getElementById(`${o}-title`).value,e.observable=document.getElementById(`${o}-observable`).checked,e.readOnly=document.getElementById(`${o}-readOnly`).checked;const t=document.getElementById(`${o}-description`).value;""!==t&&(e.description=t);const r=document.getElementById(`${o}-type`).value;r!==dr&&(e.type=r),"array"===r?e.items={}:"object"===r&&(e.properties={}),e.forms=[];let i=JSON.parse(n.offlineTD);i[s]&&i[s][e.title]?h(`A ${a} with this title already exists...`):(f(e),c())})()},submitText:`Add ${a}`,children:u,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null}));function pr(){return pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}function hr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mr=(0,d.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,s=hr(e,["color","size"]);return d.createElement("svg",pr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),d.createElement("circle",{cx:"12",cy:"12",r:"10"}),d.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),d.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));mr.propTypes={color:Je().string,size:Je().oneOfType([Je().string,Je().number])},mr.displayName="PlusCircle";const gr=mr,vr=["title","forms","description"];function yr(e){var t;const n=(0,d.useContext)(p),r=d.useRef();if(0===Object.keys(e.action).length&&e.action.constructor!==Object)return(0,T.jsx)("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const i=e.action,o=je(e.action.forms),s=Ne({name:e.actionName},e.action,vr),a=Object.keys(s).map((e=>(0,T.jsxs)("li",{children:[e," : ",JSON.stringify(s[e])]},e)));return(0,T.jsxs)("details",{children:[(0,T.jsxs)("summary",{className:"text-xl text-gray-400 flex flex-row justify-start items-center cursor-pointer p-0.5",children:[(0,T.jsx)("div",{className:"flex-grow",children:null!==(t=i.title)&&void 0!==t?t:e.actionName}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400",onClick:()=>{n.removeOneOfAKindReducer("actions",e.actionName)},children:(0,T.jsx)(Vn,{size:16,color:"black"})})]}),(0,T.jsxs)("div",{className:"mb-4",children:[(0,T.jsx)("div",{className:"text-lg text-gray-400 pb-2",children:i.description}),(0,T.jsx)("ul",{className:"text-base text-gray-300 list-disc pl-8",children:a}),(0,T.jsxs)("div",{className:"flex flex-row items-center ",children:[(0,T.jsx)("div",{className:"flex flex-grow",children:(0,T.jsx)(Cn,{className:" flex-grow",tooltip:Rn(),children:(0,T.jsx)("h4",{className:"text-lg text-gray-400 pr-1 text-bold",children:"Forms"})})}),(0,T.jsx)("button",{onClick:()=>{r.current.openModal()},children:(0,T.jsx)(gr,{color:"#cacaca",size:"18"})}),(0,T.jsx)(Ve,{type:"action",interaction:i,interactionName:e.actionName,ref:r})]}),o.map(((t,n)=>(0,T.jsx)(Bn,{form:t,propName:e.actionName,interactionType:"action"},n)))]})]})}const br=["title","forms","description"];function wr(e){var t;const n=(0,d.useContext)(p),r=d.useRef();if(0===Object.keys(e.event).length&&e.event.constructor!==Object)return(0,T.jsx)("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const i=e.event,o=je(e.event.forms),s=Ne({name:e.eventName},e.event,br),a=Object.keys(s).map((e=>(0,T.jsxs)("li",{children:[e," : ",JSON.stringify(s[e])]},e)));return(0,T.jsxs)("details",{children:[(0,T.jsxs)("summary",{className:"text-xl text-gray-400 flex flex-row justify-start items-center cursor-pointer p-0.5",children:[(0,T.jsx)("div",{className:"flex-grow",children:null!==(t=i.title)&&void 0!==t?t:e.eventName}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400",onClick:()=>{n.removeOneOfAKindReducer("events",e.eventName)},children:(0,T.jsx)(Vn,{size:16,color:"black"})})]}),(0,T.jsxs)("div",{className:"mb-4",children:[(0,T.jsx)("div",{className:"text-lg text-gray-400 pb-2",children:i.description}),(0,T.jsx)("ul",{className:"text-base text-gray-300 list-disc pl-8",children:a}),(0,T.jsxs)("div",{className:"flex flex-row items-center ",children:[(0,T.jsx)("div",{className:"flex flex-grow",children:(0,T.jsx)(Cn,{className:" flex-grow",tooltip:Rn(),children:(0,T.jsx)("h4",{className:"text-lg text-gray-400 pr-1 text-bold",children:"Forms"})})}),(0,T.jsx)("button",{onClick:()=>{r.current.openModal()},children:(0,T.jsx)(gr,{color:"#cacaca",size:"18"})}),(0,T.jsx)(Ve,{type:"event",interaction:i,interactionName:e.eventName,ref:r})]}),o.map(((t,n)=>(0,T.jsx)(Bn,{form:t,propName:e.eventName,interactionType:"event"},n)))]})]})}const xr=["title","forms","description"];function kr(e){var t;const n=(0,d.useContext)(p),r=d.useRef();if(0===Object.keys(e.prop).length&&e.prop.constructor!==Object)return(0,T.jsx)("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const i=e.prop,o=je(e.prop.forms),s=Ne({name:e.propName},e.prop,xr),a=Object.keys(s).map((e=>(0,T.jsxs)("li",{children:[e," : ",JSON.stringify(s[e])]},e)));return(0,T.jsxs)("details",{children:[(0,T.jsxs)("summary",{className:"text-xl text-white flex flex-row w-full justify-start items-center cursor-pointer p-0.5",children:[(0,T.jsx)("h3",{className:"flex-grow",children:null!==(t=i.title)&&void 0!==t?t:e.propName}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 rounded-full bg-gray-400",onClick:()=>{n.removeOneOfAKindReducer("properties",e.propName)},children:(0,T.jsx)(Vn,{size:16,color:"black"})})]}),(0,T.jsxs)("div",{className:"mb-4",children:[(0,T.jsx)("div",{className:"text-lg text-gray-400 pb-2",children:i.description}),(0,T.jsx)("ul",{className:"list-disc text-base text-gray-300 pl-8",children:a}),(0,T.jsxs)("div",{className:"flex justify-start items-center pt-2",children:[(0,T.jsx)("div",{className:"flex flex-grow",children:(0,T.jsx)(Cn,{className:" flex-grow",tooltip:Rn(),children:(0,T.jsx)("h4",{className:"text-lg text-gray-400 pr-1 text-bold",children:"Forms"})})}),(0,T.jsx)("button",{onClick:()=>{r.current.openModal()},children:(0,T.jsx)(gr,{color:"#cacaca",size:"18"})}),(0,T.jsx)(Ve,{type:"property",interaction:i,interactionName:e.propName,ref:r})]}),o.map(((t,n)=>(0,T.jsx)(Bn,{propName:e.propName,form:t,interactionType:"property",className:"last:pb-4"},n)))]})]})}function Sr(){return Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(this,arguments)}function _r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Er=(0,d.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,s=_r(e,["color","size"]);return d.createElement("svg",Sr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),d.createElement("circle",{cx:"11",cy:"11",r:"8"}),d.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));Er.propTypes={color:Je().string,size:Je().oneOfType([Je().string,Je().number])},Er.displayName="Search";const Pr=Er,Tr=e=>(0,T.jsxs)("div",{className:"relative text-gray-600",children:[(0,T.jsx)("input",{type:"search",autoComplete:"on",className:"caret-gray bg-gray-600 text-white px-5 pr-10 place-self-center rounded-lg text-sm focus:outline-none h-9",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),(0,T.jsx)("div",{disabled:!0,type:"submit",className:"cursor-default absolute right-0 top-0 mt-1 mr-4",children:(0,T.jsx)(Pr,{color:"#2c2c2e"})})]}),$r="asc";let Nr={},jr={};const Ar=e=>{const[t,n]=(0,d.useState)(""),[r,i]=(0,d.useState)($r),o=e.interaction.toLowerCase(),s=(0,d.useContext)(p);try{jr=Nr;const e=JSON.parse(s.offlineTD);Nr=e}catch(u){Nr=jr}const a=()=>{const e=(()=>{if(!Nr[o])return;const e={};return Object.keys(Nr[o]).filter((e=>e.toLowerCase().indexOf(t.toLowerCase())>-1)).forEach((t=>{e[t]=Nr[o][t]})),e})();return Nr.properties&&"properties"===o?Object.keys(e).map(((t,n)=>(0,T.jsx)(kr,{prop:e[t],propName:t},n))):Nr.actions&&"actions"===o?Object.keys(e).map(((t,n)=>(0,T.jsx)(yr,{action:e[t],actionName:t},n))):Nr.events&&"events"===o?Object.keys(e).map(((t,n)=>(0,T.jsx)(wr,{event:e[t],eventName:t},n))):void 0},l=d.useRef();let c;switch(o){case"properties":c=(0,T.jsx)(fr,{ref:l});break;case"actions":c=(0,T.jsx)(cr,{ref:l});break;case"events":c=(0,T.jsx)(ur,{ref:l})}return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"flex justify-start items-end pt-8 pb-4",children:[(0,T.jsx)("div",{className:"flex flex-grow",children:(0,T.jsx)(Cn,{tooltip:Dn[o],children:(0,T.jsx)("h2",{className:"text-2xl text-white pr-1 flex-grow",children:e.interaction})})}),(0,T.jsx)(Tr,{onKeyUp:e=>n(e.target.value),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),(0,T.jsx)("div",{className:"w-2"}),(0,T.jsx)("button",{className:"text-white bg-blue-500 cursor-pointer rounded-md p-2 h-9",onClick:()=>(e=>{if(!Nr[e])return;const t={},n=Object.keys(Nr[e]).map((t=>({key:t,title:Nr[e][t].title})));r===$r?(n.sort(((e,t)=>{const n=e.title?e.title:e.key,r=t.title?t.title:t.key;return n.localeCompare(r)})).forEach((function(n){t[n.key]=Nr[e][n.key]})),i("desc")):(n.sort(((e,t)=>{const n=e.title?e.title:e.key,r=t.title?t.title:t.key;return n.localeCompare(r)})).reverse().forEach((function(n){t[n.key]=Nr[e][n.key]})),i($r)),Nr[e]=t,s.updateOfflineTD(JSON.stringify(Nr,null,2))})(o),children:r===$r?(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,T.jsx)("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):(0,T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,T.jsx)("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})})}),(0,T.jsx)("div",{className:"w-2"}),(0,T.jsx)("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",onClick:()=>{l.current.openModal()},children:"Add"}),c]}),a()&&(0,T.jsx)("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4",children:a()}),!a()&&(0,T.jsx)("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4"})]})};function Cr(){return Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cr.apply(this,arguments)}function Or(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ir=(0,d.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,o=void 0===i?24:i,s=Or(e,["color","size"]);return d.createElement("svg",Cr({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),d.createElement("polyline",{points:"9 18 15 12 9 6"}))}));Ir.propTypes={color:Je().string,size:Je().oneOfType([Je().string,Je().number])},Ir.displayName="ChevronRight";const Rr=Ir;const Lr=e=>{const t=(0,d.useContext)(p),[n,r]=(0,d.useState)(new Array(Object.entries(e).length)),i=(0,d.useCallback)((e=>{let t=n,i=n[e];t[e]=null===i||!i,r([...t])}),[n,r]);return(0,T.jsx)(T.Fragment,{children:Object.entries(e).map(((r,o)=>{let[s,a]=r;if(null!==(c=a)&&("function"===typeof c||"object"===typeof c)){var l;let e=(0,T.jsx)("button",{className:"flex align-top",onClick:()=>i(o),children:(0,T.jsxs)("div",{className:"flex text-white font-bold bg-gray-600 py-1 px-2 rounded-md align-middle",children:[(0,T.jsx)("h4",{children:s}),!0===n[o]?(0,T.jsx)(ir,{className:"pl-1"}):(0,T.jsx)(Rr,{className:"pl-1"})]})}),t=(0,T.jsxs)("div",{className:"flex",children:[(0,T.jsx)("div",{className:"flex w-1 rounded-lg bg-gray-400 ml-2 my-1"}),(0,T.jsx)("div",{className:"pl-8 mt-1",children:!0===n[o]&&(null!==(l=Object.entries(a))&&void 0!==l?l:[]).map(((e,t)=>{let[n,r]=e,i={};return i[n]=r,(0,d.createElement)(Lr,{...i,key:t})}))})]});return(0,T.jsxs)("div",{className:"mb-1",children:[e,!0===n[o]&&t]},o)}var c;const u=Re(e,s,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return(0,T.jsxs)("div",{className:"flex mb-1",children:[(0,T.jsx)("h4",{className:"text-white font-bold bg-gray-600 py-1 px-2 rounded-md",children:s}),(0,T.jsx)("div",{className:"text-gray-400 px-2 py-1",children:u})]},o)}))})};var Dr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mr=d.createContext&&d.createContext(Dr),Fr=function(){return Fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fr.apply(this,arguments)},zr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Vr(e){return e&&e.map((function(e,t){return d.createElement(e.tag,Fr({key:t},e.attr),Vr(e.child))}))}function Br(e){return function(t){return d.createElement(Ur,Fr({attr:Fr({},e.attr)},t),Vr(e.child))}}function Ur(e){var t=function(t){var n,r=e.attr,i=e.size,o=e.title,s=zr(e,["attr","size","title"]),a=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),d.createElement("svg",Fr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Fr(Fr({color:e.color||t.color},t.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&d.createElement("title",null,o),e.children)};return void 0!==Mr?d.createElement(Mr.Consumer,null,(function(e){return t(e)})):t(Dr)}function qr(e){return Br({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"}}]})(e)}function Hr(e){return Br({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"}}]})(e)}function Gr(e){const t=(0,d.useContext)(p),[n,r]=(0,d.useState)(void 0),[i,o]=(0,d.useState)(void 0),[s,a]=(0,d.useState)(void 0),[l,c]=(0,d.useState)(void 0);return(0,d.useEffect)((()=>{const e=t.validationMessage;if(e){if(e.report&&(r(e.report.json),a(e.report.schema)),!e.validationErrors)return o(void 0),void c(void 0);e.validationErrors&&(o(e.validationErrors.json),c(e.validationErrors.schema),console.debug("JSON validation error",i),console.debug("JSON Schema validation error",l))}}),[t,i,l]),(0,T.jsxs)("div",{className:"container bg-gray-600 text-white rounded-md p-4 mb-4",children:[(0,T.jsxs)("div",{className:"flex items-center",children:[(0,T.jsx)("h2",{className:"mr-2",children:"JSON Validation"}),"passed"===n&&(0,T.jsx)(Hr,{}),"failed"===n&&(0,T.jsx)(qr,{})]}),i&&(0,T.jsxs)("div",{className:"flex min-h-[2.5rem] w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed mb-4",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formRed place-self-center text-center text-xs px-4",children:"Error"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base overflow-hidden",children:i})]}),(0,T.jsxs)("div",{className:"flex items-center",children:[(0,T.jsx)("h2",{className:"mr-2",children:"JSON Schema Validation "}),"passed"===s&&(0,T.jsx)(Hr,{}),"failed"===s&&(0,T.jsx)(qr,{})]}),l&&(0,T.jsxs)("div",{className:"flex min-h-[2.5rem] w-full bg-formRed rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formRed",children:[(0,T.jsx)("div",{className:"flex h-6 w-16 bg-white rounded-md place-self-center justify-center",children:(0,T.jsx)("div",{className:"text-formRed place-self-center text-center text-xs px-4",children:"Error"})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base overflow-hidden",children:l})]})]})}var Wr=n(5733);const Jr="[object Arguments]",Kr="[object Array]",Xr="[object Boolean]",Yr="[object Date]",Qr="[object Error]",Zr="[object Function]",ei="[object Map]",ti="[object Number]",ni="[object Object]",ri="[object RegExp]",ii="[object Set]",oi="[object String]",si="[object Symbol]",ai="[object WeakMap]",li="[object ArrayBuffer]",ci="[object DataView]",ui="[object Float32Array]",di="[object Float64Array]",fi="[object Int8Array]",pi="[object Int16Array]",hi="[object Int32Array]",mi="[object Uint8Array]",gi="[object Uint8ClampedArray]",vi="[object Uint16Array]",yi="[object Uint32Array]",bi={[Jr]:!0,[Kr]:!0,[li]:!0,[ci]:!0,[Xr]:!0,[Yr]:!0,[ui]:!0,[di]:!0,[fi]:!0,[pi]:!0,[hi]:!0,[ei]:!0,[ti]:!0,[ni]:!0,[ri]:!0,[ii]:!0,[oi]:!0,[si]:!0,[mi]:!0,[gi]:!0,[vi]:!0,[yi]:!0,[Qr]:!1,[Zr]:!1,[ai]:!1},wi="\\ud800-\\udfff",xi="\\u2700-\\u27bf",ki="a-z\\xdf-\\xf6\\xf8-\\xff",Si="A-Z\\xc0-\\xd6\\xd8-\\xde",_i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ei="['\u2019]",Pi=`[${_i}]`,Ti="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",$i=`[${xi}]`,Ni=`[${ki}]`,ji=`[^${wi}${_i+"\\d"+xi+ki+Si}]`,Ai="\\ud83c[\\udffb-\\udfff]",Ci=`[^${wi}]`,Oi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ii="[\\ud800-\\udbff][\\udc00-\\udfff]",Ri=`[${Si}]`,Li=`(?:${Ni}|${ji})`,Di=`(?:${Ri}|${ji})`,Mi=`(?:${Ei}(?:d|ll|m|re|s|t|ve))?`,Fi=`(?:${Ei}(?:D|LL|M|RE|S|T|VE))?`,zi=`${`(?:${Ti}|${Ai})`}?`,Vi="[\\ufe0e\\ufe0f]?",Bi=Vi+zi+`(?:\\u200d(?:${[Ci,Oi,Ii].join("|")})${Vi+zi})*`,Ui=`(?:${[$i,Oi,Ii].join("|")})${Bi}`,qi=RegExp([`${Ri}?${Ni}+${Mi}(?=${[Pi,Ri,"$"].join("|")})`,`${Di}+${Fi}(?=${[Pi,Ri+Li,"$"].join("|")})`,`${Ri}?${Li}+${Mi}`,`${Ri}+${Fi}`,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",Ui].join("|"),"g"),Hi="__hash_undefined__",Gi=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,Wi=`(?:${[`${Ci}${Ti}?`,Ti,Oi,Ii,`[${wi}]`].join("|")})`,Ji=RegExp(`${Ai}(?=${Ai})|${Wi+Bi}`,"g"),Ki=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xi=/^\w*$/,Yi=".".charCodeAt(0),Qi=/\\(\\)?/g,Zi=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),eo=/^(?:0|[1-9]\d*)$/,to=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),no=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ro=e=>Ji.test(e),io=e=>ro(e)?(e=>e.match(Ji)||[])(e):(e=>e.split(""))(e),oo=e=>null==e?[]:so(e).map((t=>e[t])),so=e=>go(e)?ao(e):Object.keys(Object(e)),ao=(e,t)=>{const n=Array.isArray(e),r=!n&&uo(e)&&bo(e)===Jr,i=!n&&!r&&Eo(e),o=n||r||i,s=e.length,a=new Array(o?s:0);let l=o?-1:s;for(;++l<s;)a[l]=`${l}`;for(const c in e)!t&&!hasOwnProperty.call(e,c)||o&&("length"===c||Jo(c,s))||a.push(c);return a},lo=(e,t)=>{let{length:n}=e;for(;n--;)if(co(e[n][0],t))return n;return-1},co=(e,t)=>e===t||e!==e&&t!==t,uo=e=>null!=e&&"object"==typeof e,fo=(e,t,n)=>{if(!js(n))return!1;const r=typeof t;return!!("number"==r?go(n)&&t>-1&&t<n.length:"string"==r&&t in n)&&co(n[t],e)},po=e=>{const t=e&&e.constructor;return e===("function"===typeof t&&t.prototype||Object.prototype)},ho=(e,t,n)=>{const r=e[t];hasOwnProperty.call(e,t)&&co(r,n)&&(void 0!==n||t in e)||(e[t]=n)},mo=(e,t,n)=>{let r=-1;const i=t.length;for(;++r<i;){const i=t[r];ho(n,i,e[i])}return n},go=e=>null!=e&&"function"!==typeof e&&"number"===typeof e.length&&e.length>-1&&e.length%1===0,vo=e=>"symbol"==typeof e||uo(e)&&bo(e)===si,yo=(e,t)=>{let n=-1;const r=e.length;for(t||(t=new Array(r));++n<r;)t[n]=e[n];return t},bo=e=>null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e),wo=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},xo=(e,t)=>{const n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},ko=e=>"function"!=typeof e.constructor||po(e)?{}:Object.create(Object.getPrototypeOf(e)),So=e=>{if(null==e)return[];e=Object(e);return Object.getOwnPropertySymbols(e).filter((t=>propertyIsEnumerable.call(e,t)))};const _o=(e,t,n)=>{const r=e.constructor;switch(t){case li:return wo(e);case Xr:case Yr:return new r(+e);case ci:return function(e,t){const n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ui:case di:case fi:case pi:case hi:case mi:case gi:case vi:case yi:return xo(e,n);case ei:case ti:case oi:return new r(e);case ri:return(e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t})(e);case ii:return new r;case si:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},Eo=e=>uo(e)&&Gi.test(bo(e)),Po=e=>{const t=Object.keys(e);return Array.isArray(e)||null==e||t.push(...So(Object(e))),t},To=e=>{const t=[];for(;e;)t.push(...So(e)),e=Object.getPrototypeOf(Object(e));return t},$o=e=>{const t=[];for(const n in e)t.push(n);return Array.isArray(e)||t.push(...To(e)),t},No=(e,t)=>{let{__data__:n}=e;const r=n;return Xo(t)?r["string"===typeof t?"string":"hash"]:r.map},jo=(e,t,n)=>e===t||(null==e||null==t||!uo(e)&&!uo(t)?e!==e&&t!==t:Ao(e,t,jo,n)),Ao=(e,t,n,r)=>{let i=Array.isArray(e);const o=Array.isArray(t);let s=i?Kr:bo(e),a=o?Kr:bo(t);s=s==Jr?ni:s,a=a==Jr?ni:a;let l=s==ni;const c=a==ni,u=s==a;if(u&&!l)return r||(r=new Es),i||Eo(e)?Co(e,t,!1,n,r):Lo(e,t,s,n,r);const d=l&&hasOwnProperty.call(e,"__wrapped__"),f=c&&hasOwnProperty.call(t,"__wrapped__");if(d||f){const i=d?e.value():e,o=f?t.value():t;return r||(r=new Es),n(i,o,r)}return!!u&&(r||(r=new Es),((e,t,n,r)=>{const i=Po(e),o=i.length;if(o!=Po(t).length)return!1;let s,a=o;for(;a--;)if(s=i[a],!hasOwnProperty.call(t,s))return!1;const l=r.get(e),c=r.get(t);if(l&&c)return l==t&&c==e;let u,d=!0;for(r.set(e,t),r.set(t,e);++a<o;){s=i[a];const o=e[s],l=t[s];if(o!==l&&!n(o,l,r)){d=!1;break}u||(u="constructor"==s)}if(d&&!u){const n=e.constructor,r=t.constructor;n==r||!("constructor"in e)||!("constructor"in t)||"function"===typeof n&&n instanceof n&&"function"===typeof r&&r instanceof r||(d=!1)}return r.delete(e),r.delete(t),d})(e,t,n,r))},Co=(e,t,n,r,i)=>{const o=e.length,s=t.length;if(o!=s)return!1;const a=i.get(e),l=i.get(t);if(a&&l)return a==t&&l==e;let c=-1,u=!0;const d=n?new Ns:void 0;for(i.set(e,t),i.set(t,e);++c<o;){let n;const o=e[c],s=t[c];if(void 0!==n){if(n)continue;u=!1;break}if(d){if(!Oo(t,((e,t)=>{if(!Io(d,t)&&(o===e||r(o,e,i)))return d.push(t)}))){u=!1;break}}else if(o!==s&&!r(o,s,i)){u=!1;break}}return i.delete(e),i.delete(t),u},Oo=(e,t)=>{let n=-1;const r=null==e?0:e.length;for(;++n<r;)if(t(e[n],n,e))return!0;return!1},Io=(e,t)=>e.has(t),Ro=(e,t,n,r)=>!(e.byteLength!=t.byteLength||!n(new Uint8Array(e),new Uint8Array(t),r)),Lo=(e,t,n,r,i)=>{switch(n){case ci:return e.byteLength==t.byteLength&&e.byteOffset==t.byteOffset&&(e=e.buffer,t=t.buffer,Ro(e,t,r,i));case li:return Ro(e,t,r,i);case Xr:case Yr:case ti:return co(+e,+t);case Qr:return e.name==t.name&&e.message==t.message;case ri:case oi:return e==`${t}`;case ei:let n=Do;case ii:if(n||(n=Mo),e.size!=t.size)return!1;const o=i.get(e);if(o)return o==t;i.set(e,t);const s=Co(n(e),n(t),!0,r,i);return i.delete(e),s;case si:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},Do=e=>{let t=-1,n=Array(e.size);return e.forEach(((e,r)=>{n[++t]=[r,e]})),n},Mo=e=>{let t=-1;const n=new Array(e.size);return e.forEach((e=>{n[++t]=e})),n},Fo=(e,t)=>{if(Array.isArray(e))return!1;const n=typeof e;return!("number"!==n&&"boolean"!==n&&null!=e&&!vo(e))||(Xi.test(e)||!Ki.test(e)||null!=t&&e in Object(t))},zo=(e,t)=>Array.isArray(e)?e:Fo(e,t)?[e]:(e=>{const t=[];return e.charCodeAt(0)===Yi&&t.push(""),e.replace(Zi,((e,n,r,i)=>{let o=e;r?o=i.replace(Qi,"$1"):n&&(o=n.trim()),t.push(o)})),t})(`${e}`),Vo=(e,t)=>{let n=0;const r=(t=zo(t,e)).length;for(;null!=e&&n<r;)e=e[qo(t[n])],n++;return n&&n==r?e:void 0};function Bo(e,t){if(e!==t){const n=void 0!==e,r=null===e,i=e===e,o=vo(e),s=void 0!==t,a=null===t,l=t===t,c=vo(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}const Uo=(e,t)=>{let n=(e,t)=>!!(null==e?0:e.length)&&e.indexOf(t)>-1,r=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=200&&(n=(e,t)=>e.has(t),r=!1,t=new Ns(t));e:for(let s in e){let a=e[s];const l=a;if(a=0!==a?a:0,r&&l===l){let e=o;for(;e--;)if(t[e]===l)continue e;i.push(a)}else n(t,l)||i.push(a)}return i},qo=e=>{if("string"===typeof e||vo(e))return e;const t=`${e}`;return"0"==t&&1/e==-1/0?"-0":t},Ho=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0,s=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;if(o&&(t=s?o(e,arguments.length>5?arguments[5]:void 0,s,a):o(e)),void 0!==t)return t;if(!js(e))return e;const l=Array.isArray(e),c=bo(e);if(l){if(t=(e=>{const t=e.length;let n=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty.call(e,"index")&&(n.index=e.index,n.input=e.input),n})(e),!n)return yo(e,t)}else{const i="function"===typeof e;if(c===ni||c===Jr||i&&!s){if(t=r||i?{}:ko(e),!n)return r?Go(e,mo(e,Object.keys(e),t)):((e,t)=>mo(e,So(e),t))(e,Object.assign(t,e))}else{if(i||!bi[c])return s?e:{};t=_o(e,c,n)}}a||(a=new Es);const u=a.get(e);if(u)return u;if(a.set(e,t),(e=>uo(e)&&bo(e)==ei)(e))return e.forEach(((s,l)=>{t.set(l,Ho(s,n,r,i,o,l,e,a))})),t;if((e=>uo(e)&&bo(e)==ii)(e))return e.forEach((s=>{t.add(Ho(s,n,r,i,o,s,e,a))})),t;if(Eo(e))return t;const d=l?void 0:(i?r?$o:Po:r?Yo:so)(e);return(d||e).forEach(((s,l)=>{d&&(s=e[l=s]),ho(t,l,Ho(s,n,r,i,o,l,e,a))})),t},Go=(e,t)=>mo(e,To(e),t),Wo=(e,t)=>t.length<2?e:Vo(e,t.slice(0,-1)),Jo=(e,t)=>{const n=typeof e;return!!(t=null==t?Number.MAX_SAFE_INTEGER:t)&&("number"===n||"symbol"!==n&&eo.test(e))&&e>-1&&e%1==0&&e<t},Ko=(e,t)=>{t=zo(t,e),e=Wo(e,t);const n=t[t.length-1];return null==e||delete e[qo(n)]},Xo=e=>{const t=typeof e;return"string"===t||"number"===t||"symbol"===t||"boolean"===t?"__proto__"!==e:null===e},Yo=e=>{const t=[];for(const n in e)t.push(n);return t},Qo=(e,t)=>{if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};function Zo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){let r=-1,i=arguments.length<=1?0:arguments.length-1,o=i>1?i-1+1<1||arguments.length<=i-1+1?void 0:arguments[i-1+1]:void 0;const s=i>2?arguments.length<=3?void 0:arguments[3]:void 0;for(o=e.length>3&&"function"===typeof o?(i--,o):t?(e,t)=>{if(Array.isArray(e)&&!Array.isArray(t))return t}:void 0,s&&fo(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],s)&&(o=i<3?void 0:o,i=1),n=Object(n);++r<i;){const t=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];t&&e(n,t,r,o)}return n}}const es=(e,t,n,r,i)=>{e!==t&&na(t,((o,s)=>{if(js(o))i||(i=new Es),ts(e,t,s,n,es,r,i);else{let n=r?r(e[s],o,`${s}`,e,t,i):void 0;void 0===n&&(n=o),ns(e,s,n)}}),Yo)},ts=(e,t,n,r,i,o,s)=>{const a=Qo(e,n),l=Qo(t,n),c=s.get(l);if(c)return void ns(e,n,c);let u=o?o(a,l,`${n}`,e,t,s):void 0,d=void 0===u;if(d){const e=Array.isArray(l),t=!e&&Eo(l);u=l,e||t?Array.isArray(a)?u=a:uo(a)&&go(a)?u=yo(a):t?(d=!1,u=xo(l,!0)):u=[]:Hs(l)||bs(l)?(u=a,bs(a)?u=(e=>{e=Object(e);const t={};for(const n in e)t[n]=e[n];return t})(a):"function"!==typeof a&&js(a)||(u=ko(l))):d=!1}d&&(s.set(l,u),i(u,l,r,o,s),s.delete(l)),ns(e,n,u)},ns=(e,t,n)=>{(void 0!==n&&!co(e[t],n)||void 0===n&&!(t in e))&&ho(e,t,n)};const rs=(e,t)=>e&&function(e,t,n){const r=Object(e),i=n(e);let{length:o}=i,s=-1;for(;o--;){const e=i[++s];if(!1===t(r[e],e,r))break}return e}(e,t,so),is=(e,t)=>{if(null==e)return e;if(!go(e))return rs(e,t);const n=e.length,r=Object(e);let i=-1;for(;++i<n&&!1!==t(r[i],i,r););return e};const os=Set&&1/Mo(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function ss(e,t,n,r,i,o){return js(e)&&js(t)&&(o.set(t,e),es(e,t,void 0,ss,o),o.delete(t)),e}function as(e,t,n){t=t.length?t.map((e=>Array.isArray(e)?t=>Vo(t,1===e.length?e[0]:e):e)):[e=>e];let r=-1,i=-1;const o=go(e)?new Array(e.length):[];return is(e,(e=>{const n=t.map((t=>t(e)));o[++i]={criteria:n,index:++r,value:e}})),function(e,t){let{length:n}=e;e.sort(t);for(;n--;)e[n]=e[n].value;return e}(o,((e,t)=>function(e,t,n){let r=-1;const i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){const e=r<a?n[r]:null,t=(e&&"function"===typeof e?e:Bo)(i[r],o[r]);if(t)return e&&"function"!==typeof e?t*("desc"==e?-1:1):t}return e.index-t.index}(e,t,n)))}function ls(e){return e===e&&!js(e)}function cs(e,t){return n=>null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}function us(e,t){return null!=e&&xs(e,t,ws)}function ds(e){const t=function(e){const t=so(e);let n=t.length;for(;n--;){const r=t[n],i=e[r];t[n]=[r,i,ls(i)]}return t}(e);return 1===t.length&&t[0][2]?cs(t[0][0],t[0][1]):n=>n===e||function(e,t,n,r){let i=n.length;const o=i,s=!r;if(null==e)return!o;let a,l;e=Object(e);for(;i--;)if(a=n[i],s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=n[i];const o=a[0],c=e[o],u=a[1];if(s&&a[2]){if(void 0===c&&!(o in e))return!1}else{const n=new Es;if(r&&(l=r(c,u,o,e,t,n)),!(void 0===l?jo(u,c,n):l))return!1}}return!0}(n,e,t)}function fs(e){return Fo(e)?(t=qo(e),e=>null==e?void 0:e[t]):function(e){return t=>Vo(t,e)}(e);var t}function ps(e){return"function"==typeof e?e:null==e?e=>e:"object"==typeof e?Array.isArray(e)?(t=e[0],n=e[1],Fo(t)&&ls(n)?cs(qo(t),n):e=>{const r=Vo(e,t);return void 0===r&&r===n?us(e,t):jo(n,r)}):ds(e):fs(e);var t,n}function hs(){const e=ps;return arguments.length?e(arguments[0],arguments[1]):e}const ms=(e,t,n,r)=>{let i=-1;const o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n},gs=(e,t,n,r,i)=>(i(e,((e,i,o)=>{n=r?(r=!1,e):t(n,e,i,o)})),n);const vs=e=>Array.isArray(e)||bs(e)||!(!e||!e[Symbol.isConcatSpreadable]);function ys(e,t,n,r,i){let o=-1;const s=e.length;for(n||(n=vs),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?ys(a,t-1,n,r,i):i.push(...a):r||(i[i.length]=a)}return i}const bs=e=>uo(e)&&"[object Arguments]"==bo(e),ws=(e,t)=>null!=e&&t in Object(e),xs=(e,t,n)=>{for(var r,i=-1,o=(t=zo(t,e)).length,s=!1;++i<o;){var a=qo(t[i]);if(!(s=null!=e&&n(e,a)))break;e=e[a]}return s||++i!=o?s:!!(o=null==e?0:e.length)&&("number"==typeof(r=o)&&r>-1&&r%1==0&&r<=Number.MAX_SAFE_INTEGER)&&Jo(a,o)&&(Array.isArray(e)||bs(e))},ks=(e,t)=>{if(void 0===t){const t=to(e)?(e=>e.match(qi))(e):(e=>e.match(no))(e);return t||[]}return e.match(t)||[]},Ss=(_s="toUpperCase",e=>{if(!e)return"";const t=ro(e)?io(e):void 0,n=t?t[0]:e[0],r=t?((e,t,n)=>{const{length:r}=e;return n=void 0===n?r:n,!t&&n>=r?e:e.slice(t,n)})(t,1).join(""):e.slice(1);return n[_s]()+r});var _s;class Es{constructor(e){const t=this.__data__=new Ps(e);this.size=t.size}clear(){this.__data__=new Ps,this.size=0}delete(e){const t=this.__data__,n=t.delete(e);return this.size=t.size,n}get(e){return this.__data__.get(e)}has(e){return this.__data__.has(e)}set(e,t){let n=this.__data__;if(n instanceof Ps){const r=n.__data__;if(r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ts(r)}return n.set(e,t),this.size=n.size,this}}class Ps{constructor(e){let t=-1;const n=null==e?0:e.length;for(this.clear();++t<n;){const n=e[t];this.set(n[0],n[1])}}clear(){this.__data__=[],this.size=0}delete(e){const t=this.__data__,n=lo(t,e);if(n<0)return!1;return n==t.length-1?t.pop():t.splice(n,1),--this.size,!0}get(e){const t=this.__data__,n=lo(t,e);return n<0?void 0:t[n][1]}has(e){return lo(this.__data__,e)>-1}set(e,t){const n=this.__data__,r=lo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}}class Ts{constructor(e){let t=-1;const n=null==e?0:e.length;for(this.clear();++t<n;){const n=e[t];this.set(n[0],n[1])}}clear(){this.size=0,this.__data__={hash:new $s,map:new Map,string:new $s}}delete(e){const t=No(this,e).delete(e);return this.size-=t?1:0,t}get(e){return No(this,e).get(e)}has(e){return No(this,e).has(e)}set(e,t){const n=No(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}}class $s{constructor(e){let t=-1;const n=null==e?0:e.length;for(this.clear();++t<n;){const n=e[t];this.set(n[0],n[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(e){const t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}get(e){const t=this.__data__[e];return t===Hi?void 0:t}has(e){return void 0!==this.__data__[e]}set(e,t){const n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=void 0===t?Hi:t,this}}class Ns{constructor(e){let t=-1;const n=null==e?0:e.length;for(this.__data__=new Ts;++t<n;)this.add(e[t])}add(e){return this.__data__.set(e,Hi),this}has(e){return this.__data__.has(e)}}Ns.prototype.push=Ns.prototype.add;const js=function(e){return!!e&&("object"===typeof e||"function"===typeof e)},As=function(e){var t=Object.prototype.toString;return"number"===typeof e||!!e&&"object"===typeof e&&t.call(e)===ti},Cs=function(e){var t=Object.prototype.toString;return"string"===typeof e||!!e&&"object"===typeof e&&t.call(e)===oi},Os=Zo(((e,t)=>{if(po(t)||go(t))mo(t,so(t),e);else for(var n in t)hasOwnProperty.call(t,n)&&ho(e,n,t[n])})),Is=function(e){let t=-1,n=arguments.length<=1?0:arguments.length-1;const r=n>2?arguments.length<=3?void 0:arguments[3]:void 0;for(r&&fo(arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],r)&&(n=1);++t<n;){const n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];if(null==n)continue;const r=Object.keys(n),i=r.length;let o=-1;for(;++o<i;){const t=r[o],i=e[t];(void 0===i||co(i,Object.prototype[t])&&!hasOwnProperty.call(e,t))&&(e[t]=n[t])}}return e},Rs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.push(void 0,ss),ia.apply(void 0,t)},Ls=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];let o=-1;const s="function"===typeof t,a=go(e)?new Array(e.length):[];return is(e,(e=>{a[++o]=s?t.apply(e,r):Ds(e,t,...r)})),a},Ds=function(e,t){t=zo(t,e);const n=null==(e=Wo(e,t))?e:e[qo(function(e){const t=null==e?0:e.length;return t?e[t-1]:void 0}(t))];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return null==n?void 0:n.apply(e,i)},Ms=(e,t,n)=>{let r=0,i=null==e?0:e.length;if(0==i)return 0;const o=(t=(n=hs(n,2))(t))!==t,s=null===t,a=vo(t),l=void 0===t;for(;r<i;){let c;const u=Math.floor((r+i)/2),d=n(e[u]),f=void 0!==d,p=null===d,h=d===d,m=vo(d);c=o?h:l?h&&f:s?h&&f&&!p:a?h&&f&&!p&&!m:!p&&!m&&d<t,c?r=u+1:i=u}return Math.min(i,4294967294)},Fs=(e,t)=>{let n=-1,r=(e,t)=>!!(null==e?0:e.length)&&e.indexOf(t)>-1;t=hs(t,2);let i=!0;const{length:o}=e,s=[];let a=s;if(o>=200){const n=t?null:os(e);if(n)return Mo(n);i=!1,r=(e,t)=>e.has(t),a=new Ns}else a=t?[]:s;e:for(;++n<o;){let o=e[n];const l=t?t(o):o;if(o=0!==o?o:0,i&&l===l){let e=a.length;for(;e--;)if(a[e]===l)continue e;t&&a.push(l),s.push(o)}else r(a,l)||(a!==s&&a.push(l),s.push(o))}return s},zs=e=>Ho(e),Vs=e=>Ho(e,!0),Bs=e=>{if(null==e)return!0;if(go(e)&&(Array.isArray(e)||"string"===typeof e||"function"===typeof e.splice||Eo(e)||bs(e)))return!e.length;const t=bo(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(po(e))return!(e=>{if(!po(e))return Object.keys(e);var t=[];for(var n in Object(e))hasOwnProperty.call(e,n)&&"constructor"!=n&&t.push(n);return t})(e).length;for(const n in e)if(hasOwnProperty.call(e,n))return!1;return!0},Us=(e,t)=>jo(e,t),qs=e=>"function"===typeof e,Hs=e=>{if(!uo(e)||"[object Object]"!=bo(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Gs=e=>{if(!e)return[];if(go(e))return Cs(e)?io(e):yo(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const t=e[Symbol.iterator]();let n;const r=[];for(;!(n=t.next()).done;)r.push(n.value);return r}const t=bo(e);return(t==ei?Do:t==ii?Mo:oo)(e)};const Ws=(e,t)=>(t=hs(t,2),function(e,t,n){return(Array.isArray(e)?ms:gs)(e,t,n,arguments.length<3,is)}(e,((e,n,r)=>(r=t(n),hasOwnProperty.call(e,r)?e[r].push(n):ho(e,r,[n]),e)),{})),Js=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null==e)return[];const n=t.length;return n>1&&fo(e,t[0],t[1])?t=[]:n>2&&fo(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[hs(t,2)]),as(e,t.flat(1),[])},Ks=e=>(null==e?0:e.length)?ys(e,1/0):[],Xs=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return go(e)?Uo(e,n):[]},Ys=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return uo(e)&&go(e)?Uo(e,n.flat(1)):[]},Qs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.flat(1);return Fs(r)},Zs=(e,t)=>{if(null==e)return!1;"string"===typeof t&&(t=t.split("."));let n=-1,r=e;for(;++n<t.length;){if(!r||!hasOwnProperty.call(r,t[n]))return!1;r=r[t[n]]}return!0},ea=(e,t,n)=>{let r=-1,i=(t=zo(t,e)).length;for(i||(i=1,e=void 0);++r<i;){let o=null==e?void 0:e[qo(t[r])];void 0===o&&(r=i,o=n),e="function"===typeof o?o.call(e):o}return e},ta=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i={};if(null==e)return i;let o=!1;n=n.flat(1).map((t=>(t=zo(t,e),o||(o=t.length>1),t))),mo(e,$o(e),i),o&&(i=Ho(i,!0,!0,!0,(e=>Hs(e)?void 0:e)));let s=n.length;for(;s--;)Ko(i,n[s]);return i},na=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,n=-1;const r=Object(e),i=go(e)?ao(e,!0):Yo(e);let o=i.length;for(;o--;){const e=i[++n];if(!1===t(r[e],e,r))break}};let ra=0;const ia=Zo(((e,t,n,r)=>{es(e,t,n,r)}),!0);var oa=n(3302);const{round:sa,floor:aa,PI:la}=Math,ca={linear:function(e,t,n){var r=e[1]-e[0],i=t[1]-t[0];return(n-e[0])/r*i+t[0]||0}},ua=function(e){return e%360+(e<0?360:0)},da=function(e,t){return t*sa(e/t)},fa=function(e){return 180*e/la%360},pa=function(e,t){return(e=(t=t||!1)?e:e%360)*la/180},ha=function(e,t){if(void 0===t)t=void 0===e?1:e,e=0;else if(t<e){const n=e;e=t,t=n}return aa(Math.random()*(t-e+1)+e)},{cos:ma,sin:ga,atan2:va}=Math,ya=function(e,t){var n=pa(e.y),r=pa(t.y),i=e.x,o=t.x,s=pa(o-i),a=ga(s)*ma(r),l=ma(n)*ga(r)-ga(n)*ma(r)*ma(s),c=fa(va(a,l))-22.5;return c<0&&(c+=360),["NE","E","SE","S","SW","W","NW","N"][c=parseInt(c/45)]},ba=function(e,t){var n=e.x,r=e.y;return(n-=t.x)*n+(r-=t.y)*r},wa=function(e,t){return Math.sqrt(ba(e,t))},xa={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:ka,cos:Sa,sin:_a,sqrt:Ea,min:Pa,max:Ta,atan2:$a,round:Na,pow:ja,PI:Aa}=Math,Ca=function(e,t){if(!(this instanceof Ca))return new Ca(e,t);if("string"===typeof e){var n=e.split(-1===e.indexOf("@")?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=void 0===e?0:e,this.y=void 0===t?0:t};Ca.fromPolar=function(e,t,n){n=new Ca(n);var r=ka(e*Sa(t)),i=ka(e*_a(t)),o=ua(fa(t));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new Ca(n.x+r,n.y+i)},Ca.random=function(e,t,n,r){return new Ca(ha(e,t),ha(n,r))},Ca.prototype={type:xa.Point,chooseClosest:function(e){var t=e.length;if(1===t)return new Ca(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var o=new Ca(e[i]),s=this.squaredDistance(o);s<r&&(n=o,r=s)}return n},adhereToRect:function(e){return e.containsPoint(this)||(this.x=Pa(Ta(this.x,e.x),e.x+e.width),this.y=Pa(Ta(this.y,e.y),e.y+e.height)),this},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return ya(this,e)},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new Ca(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new Ca(this.x-(e||0),this.y-(t||0))},distance:function(e){return wa(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var n=this.x,r=this.y;return new Ca((1-t)*n+t*e.x,(1-t)*r+t*e.y)},magnitude:function(){return Ea(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return ka(e.x-this.x)+ka(e.y-this.y)},move:function(e,t){var n=pa(new Ca(e).theta(this));return this.offset(Sa(n)*t,-_a(n)*t)},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new Ca(e).move(this,this.distance(e))},rotate:function(e,t){if(0===t)return this;e=e||new Ca(0,0),t=pa(ua(-t));var n=Sa(t),r=_a(t),i=n*(this.x-e.x)-r*(this.y-e.y)+e.x,o=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=ja(10,e)}return this.x=Na(this.x*t)/t,this.y=Na(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new Ca(n)||new Ca(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=da(this.x,e),this.y=da(this.y,t||e),this},squaredDistance:function(e){return ba(this,e)},theta:function(e){var t=-((e=new Ca(e)).y-this.y),n=e.x-this.x,r=$a(t,n);return r<0&&(r=2*Aa+r),180*r/Aa},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new Ca(e)||new Ca(0,0);var t=this.x,n=this.y;return this.x=Ea((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=pa(e.theta(new Ca(t,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){return new Ca(0,0).angleBetween(this,e)}},Ca.prototype.translate=Ca.prototype.offset;const Oa=Ca,{max:Ia,min:Ra}=Math,La=function(e,t){return this instanceof La?e instanceof La?new La(e.start,e.end):(this.start=new Ca(e),void(this.end=new Ca(t))):new La(e,t)};La.prototype={type:xa.Line,angle:function(){var e=new Ca(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=Ra(this.start.x,this.end.x),t=Ra(this.start.y,this.end.y),n=Ia(this.start.x,this.end.x),r=Ia(this.start.y,this.end.y);return new Xa(e,t,n-e,r-t)},bearing:function(){return ya(this.start,this.end)},clone:function(){return new La(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new La(this.start,e).vector()),n=Ra(1,Ia(0,t/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(0!==t.cross(e,n))return!1;var r=this.length();return!(new La(t,e).length()>r)&&!(new La(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new La(this.start,t),new La(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new La(this.start,t),new La(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var n=e.intersectionWithLine(this,t);return n&&e instanceof La&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new Ca(this.end.x-this.start.x,this.end.y-this.start.y),n=new Ca(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new Ca(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,s=i.x*t.y-i.y*t.x;if(0===r||o*r<0||s*r<0)return null;if(r>0){if(o>r||s>r)return null}else if(o<r||s<r)return null;return[new Ca(this.start.x+o*t.x/r,this.start.y+o*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return wa(this.start,this.end)},midpoint:function(){return new Ca((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:n,end:r}=t,i=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,e),r.move(i,e),t},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new Ca(e);var t=this.start,n=this.end;return((n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x))/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){return ba(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new La(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new La(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new Ca(this.end.x-this.start.x,this.end.y-this.start.y)}},La.prototype.intersection=La.prototype.intersect;const Da=La,{sqrt:Ma,round:Fa,pow:za}=Math,Va=function(e,t,n){return this instanceof Va?e instanceof Va?new Va(new Ca(e.x,e.y),e.a,e.b):(e=new Ca(e),this.x=e.x,this.y=e.y,this.a=t,void(this.b=n)):new Va(e,t,n)};Va.fromRect=function(e){return e=new Xa(e),new Va(e.center(),e.width/2,e.height/2)},Va.prototype={type:xa.Ellipse,bbox:function(){return new Xa(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new Ca(this.x,this.y)},clone:function(){return new Va(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,o=this.b,s=e.vector(),a=n.difference(new Ca(this)),l=new Ca(s.x/(i*i),s.y/(o*o)),c=new Ca(a.x/(i*i),a.y/(o*o)),u=s.dot(l),d=s.dot(c),f=d*d-u*(a.dot(c)-1);if(f<0)return null;if(f>0){var p=Ma(f),h=(-d-p)/u,m=(-d+p)/u;if((h<0||1<h)&&(m<0||1<m))return null;0<=h&&h<=1&&t.push(n.lerp(r,h)),0<=m&&m<=1&&t.push(n.lerp(r,m))}else{var g=-d/u;if(!(0<=g&&g<=1))return null;t.push(n.lerp(r,g))}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new Ca(e),t&&e.rotate(new Ca(this.x,this.y),t);var n,r=e.x-this.x,i=e.y-this.y;if(0===r)return n=this.bbox().pointNearestToPoint(e),t?n.rotate(new Ca(this.x,this.y),-t):n;var o=i/r,s=o*o,a=this.a*this.a,l=this.b*this.b,c=Ma(1/(1/a+s/l)),u=o*(c=r<0?-c:c);return n=new Ca(this.x+c,this.y+u),t?n.rotate(new Ca(this.x,this.y),-t):n},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(r*r)+(n-s)*(n-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=za(10,e)}return this.x=Fa(this.x*t)/t,this.y=Fa(this.y*t)/t,this.a=Fa(this.a*t)/t,this.b=Fa(this.b*t)/t,this},tangentTheta:function(e){var t,n,r=e.x,i=e.y,o=this.a,s=this.b,a=this.bbox().center(),l=a.x,c=a.y,u=r>a.x+o/2,d=r<a.x-o/2;return u||d?n=o*o/(r-l)-o*o*(i-c)*((t=r>a.x?i-30:i+30)-c)/(s*s*(r-l))+l:t=s*s/(i-c)-s*s*(r-l)*((n=i>a.y?r+30:r-30)-l)/(o*o*(i-c))+c,new Ca(n,t).theta(e)},toString:function(){return new Ca(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Ba=Va,{abs:Ua,cos:qa,sin:Ha,min:Ga,max:Wa,round:Ja,pow:Ka}=Math,Xa=function(e,t,n,r){if(!(this instanceof Xa))return new Xa(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.width=void 0===n?0:n,this.height=void 0===r?0:r};Xa.fromEllipse=function(e){return e=new Va(e),new Xa(e.x-e.a,e.y-e.b,2*e.a,2*e.b)},Xa.fromPointUnion=function(){if(0===arguments.length)return null;const e=new Ca;let t,n,r,i;t=n=1/0,r=i=-1/0;for(let o=0;o<arguments.length;o++){e.update(o<0||arguments.length<=o?void 0:arguments[o]);const s=e.x,a=e.y;s<t&&(t=s),s>r&&(r=s),a<n&&(n=a),a>i&&(i=a)}return new Xa(t,n,r-t,i-n)},Xa.fromRectUnion=function(){if(0===arguments.length)return null;const e=new Xa;let t,n,r,i;t=n=1/0,r=i=-1/0;for(let o=0;o<arguments.length;o++){e.update(o<0||arguments.length<=o?void 0:arguments[o]);const s=e.x,a=e.y,l=s+e.width,c=a+e.height;s<t&&(t=s),l>r&&(r=l),a<n&&(n=a),c>i&&(i=c)}return new Xa(t,n,r-t,i-n)},Xa.prototype={type:xa.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:n}=this,r=pa(e),i=Ua(Ha(r)),o=Ua(qa(r)),s=t*o+n*i,a=t*i+n*o;return this.x+=(t-s)/2,this.y+=(n-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new Ca(this.x,this.y+this.height)},bottomLine:function(){return new La(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new Ca(this.x+this.width/2,this.y+this.height)},center:function(){return new Ca(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Xa(this)},containsPoint:function(e){return e instanceof Ca||(e=new Ca(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Xa(this).normalize(),n=new Xa(e).normalize(),r=t.width,i=t.height,o=n.width,s=n.height;if(!r||!i||!o||!s)return!1;var a=t.x,l=t.y,c=n.x,u=n.y;return o+=c,r+=a,s+=u,i+=l,a<=c&&o<=r&&l<=u&&s<=i},corner:function(){return new Ca(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Xa(this).normalize(),n=new Xa(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=Wa(t.x,r.x),s=Wa(t.y,r.y);return new Xa(o,s,Ga(n.x,i.x)-o,Ga(n.y,i.y)-s)},intersectionWithLine:function(e){var t,n,r=this,i=[r.topLine(),r.rightLine(),r.bottomLine(),r.leftLine()],o=[],s=[],a=i.length;for(n=0;n<a;n++)null!==(t=e.intersect(i[n]))&&s.indexOf(t.toString())<0&&(o.push(t),s.push(t.toString()));return o.length>0?o:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new Ca(e);var n,r=new Ca(this.x+this.width/2,this.y+this.height/2);t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new La(r,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(null!==a){n=a;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new La(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new Ca(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){var n,r,i,o,s,a,l,c;e=new Xa(e),t||(t=e.center());var u=t.x,d=t.y;n=r=i=o=s=a=l=c=1/0;var f=e.topLeft();f.x<u&&(n=(this.x-u)/(f.x-u)),f.y<d&&(s=(this.y-d)/(f.y-d));var p=e.bottomRight();p.x>u&&(r=(this.x+this.width-u)/(p.x-u)),p.y>d&&(a=(this.y+this.height-d)/(p.y-d));var h=e.topRight();h.x>u&&(i=(this.x+this.width-u)/(h.x-u)),h.y<d&&(l=(this.y-d)/(h.y-d));var m=e.bottomLeft();return m.x<u&&(o=(this.x-u)/(m.x-u)),m.y>d&&(c=(this.y+this.height-d)/(m.y-d)),{sx:Ga(n,r,i,o),sy:Ga(s,a,l,c)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return Ga(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return Ca.prototype.offset.call(this,e,t)},origin:function(){return new Ca(this.x,this.y)},pointNearestToPoint:function(e){if(e=new Ca(e),this.containsPoint(e))switch(this.sideNearestToPoint(e)){case"right":return new Ca(this.x+this.width,e.y);case"left":return new Ca(this.x,e.y);case"bottom":return new Ca(e.x,this.y+this.height);case"top":return new Ca(e.x,this.y)}return e.adhereToRect(this)},rightLine:function(){return new La(this.topRight(),this.bottomRight())},rightMiddle:function(){return new Ca(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Ka(10,e)}return this.x=Ja(this.x*t)/t,this.y=Ja(this.y*t)/t,this.width=Ja(this.width*t)/t,this.height=Ja(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){var t=(e=new Ca(e)).x-this.x,n=this.x+this.width-e.x,r=e.y-this.y,i=t,o="left";return n<i&&(i=n,o="right"),r<i&&(i=r,o="top"),this.y+this.height-e.y<i&&(o="bottom"),o},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new La(this.topLeft(),this.topRight())},topMiddle:function(){return new Ca(this.x+this.width/2,this.y)},topRight:function(){return new Ca(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Xa.fromRectUnion(this,e)},update:function(e,t,n,r){return Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=n||0,this.height=r||0,this}},Xa.prototype.bottomRight=Xa.prototype.corner,Xa.prototype.topLeft=Xa.prototype.origin,Xa.prototype.translate=Xa.prototype.offset;const Ya=Xa;function Qa(e){const t=e.trim();if(""===t)return[];const n=[],r=t.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let o=0;o<i;o+=2)n.push({x:+r[o],y:+r[o+1]});return n}function Za(e){const t=e.length;if(0===t)return[];const n=[];for(let r=0;r<t;r++){const t=e[r].clone();n.push(t)}return n}function el(e){const{abs:t}=Math;var n,r,i,o=e.length;if(0===o)return[];for(n=0;n<o;n++)(void 0===i||e[n].y<i.y||e[n].y===i.y&&e[n].x>i.x)&&(i=e[n]);var s=[];for(n=0;n<o;n++){var a=i.theta(e[n]);0===a&&(a=360);var l=[e[n],n,a];s.push(l)}if(s.sort((function(e,t){var n=e[2]-t[2];return 0===n&&(n=t[1]-e[1]),n})),s.length>2){var c=s[s.length-1];s.unshift(c)}for(var u,d,f,p,h,m,g,v={},y=[];0!==s.length;)if(d=(u=s.pop())[0],!v.hasOwnProperty(u[0]+"@@"+u[1]))for(var b=!1;!b;)if(y.length<2)y.push(u),b=!0;else{p=(f=y.pop())[0];var w=(m=(h=y.pop())[0]).cross(p,d);if(w<0)y.push(h),y.push(f),y.push(u),b=!0;else if(0===w){var x=p.angleBetween(m,d);t(x-180)<1e-10||p.equals(d)||m.equals(p)?(v[f[0]+"@@"+f[1]]=p,y.push(h)):t((x+1)%360-1)<1e-10&&(y.push(h),s.push(f))}else v[f[0]+"@@"+f[1]]=p,y.push(h)}y.length>2&&y.pop();var k=-1;for(r=y.length,n=0;n<r;n++){var S=y[n][1];(void 0===g||S<g)&&(g=S,k=n)}var _=[];if(k>0){var E=y.slice(k),P=y.slice(0,k);_=E.concat(P)}else _=y;var T=[];for(r=_.length,n=0;n<r;n++)T.push(_[n][0]);return T}const tl=function(e){return this instanceof tl?"string"===typeof e?new tl.parse(e):void(this.points=Array.isArray(e)?e.map(Ca):[]):new tl(e)};tl.parse=function(e){return new tl(Qa(e))},tl.fromRect=function(e){return new tl([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])},tl.prototype={type:xa.Polyline,bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(0===o)return null;for(var s=0;s<o;s++){var a=i[s],l=a.x,c=a.y;l<e&&(e=l),l>t&&(t=l),c<n&&(n=c),c>r&&(r=c)}return new Xa(e,n,t-e,r-n)},clone:function(){return new tl(Za(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t,n=this.lengthPoints(),r=n.length;if(0===r)return 0;if(1===r)return 0;for(var i=1/0,o=0,s=r-1,a=0;a<s;a++){var l=new La(n[a],n[a+1]),c=l.length(),u=l.closestPointNormalizedLength(e),d=l.pointAt(u).squaredDistance(e);d<i&&(i=d,t=o+u*c),o+=c}return t},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(0===t)return 0;var n=this.length();return 0===n?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(0===n)return!1;for(var r=e.x,i=e.y,o=n-1,s=0,a=0,l=new La,c=new La,u=new Ca;s<n;s++){var d=t[o],f=t[s];if(e.equals(d))return!0;if(l.start=d,l.end=f,l.containsPoint(e))return!0;if(i<=d.y&&i>f.y||i>d.y&&i<=f.y){var p=d.x-r>f.x-r?d.x-r:f.x-r;p>=0&&(u.x=r+p,u.y=i,c.start=e,c.end=u,l.intersect(c)&&a++)}o=s}return a%2===1},close:function(){const{start:e,end:t,points:n}=this;return e&&t&&!e.equals(t)&&n.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new tl(el(this.points))},equals:function(e){if(!e)return!1;var t=this.points,n=e.points,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new La(e),n=[],r=this.lengthPoints(),i=new La,o=0,s=r.length-1;o<s;o++){i.start=r[o],i.end=r[o+1];var a=t.intersectionWithLine(i);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(0===t)return!1;for(var n=new La,r=t-1,i=0;i<r;i++)if(n.start=e[i],n.end=e[i+1],n.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(0===t)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.lengthPoints(),n=t.length;if(0===n)return null;if(1===n)return t[0].clone();if(e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length()*e;return this.pointAtLength(r)},pointAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=n-1,s=0;s<o;s++){var a=r?s:o-1-s,l=t[a],c=t[a+1],u=new La(l,c),d=l.distance(c);if(e<=i+d)return u.pointAtLength((r?1:-1)*(e-i));i+=d}return(r?t[n-1]:t[0]).clone()},round:function(e){for(var t=this.points,n=t.length,r=0;r<n;r++)t[r].round(e);return this},scale:function(e,t,n){for(var r=this.points,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},simplify:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.points;if(t.length<3)return this;const n=e.threshold||1e-10;let r=0;for(;t[r+2];){const e=r+1,i=r+2,o=t[r],s=t[e],a=t[i];new La(o,a).closestPoint(s).distance(s)<=n?t.splice(e,1):r+=1}return this},tangentAt:function(e){var t=this.lengthPoints().length;if(0===t)return null;if(1===t)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length()*e;return this.tangentAtLength(n)},tangentAtLength:function(e){var t=this.lengthPoints(),n=t.length;if(0===n)return null;if(1===n)return null;var r,i=!0;e<0&&(i=!1,e=-e);for(var o=0,s=n-1,a=0;a<s;a++){var l=i?a:s-1-a,c=t[l],u=t[l+1],d=new La(c,u),f=c.distance(u);if(d.isDifferentiable()){if(e<=o+f)return d.tangentAtLength((i?1:-1)*(e-o));r=d}o+=f}if(r){var p=i?1:0;return r.tangentAt(p)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(0===t)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}},Object.defineProperty(tl.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(tl.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points.length;return 0===e?null:this.points[e-1]}});const{abs:nl,sqrt:rl,min:il,max:ol,pow:sl}=Math,al=function(e,t,n,r){return this instanceof al?e instanceof al?new al(e.start,e.controlPoint1,e.controlPoint2,e.end):(this.start=new Ca(e),this.controlPoint1=new Ca(t),this.controlPoint2=new Ca(n),void(this.end=new Ca(r))):new al(e,t,n,r)};function ll(e){var t,n,r=[];for(n=arguments.length,t=1;t<n;t++)r.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(n=r.length,t=0;t<n;t++){var o,s,a=r[t];for(s in a)a.hasOwnProperty(s)&&(delete i[s],o=Object.getOwnPropertyDescriptor(a,s),Object.defineProperty(i,s,o))}return i}al.throughPoints=function(){function e(e){var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,i=(o<t-1?4:3.5)-r[o],n[o]=(e[o]-n[o-1])/i;for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n}return function(t){if(!t||Array.isArray(t)&&t.length<2)throw new Error("At least 2 points are required");for(var n=function(t){var n,r=[],i=[],o=t.length-1;if(1==o)return r[0]=new Ca((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),i[0]=new Ca(2*r[0].x-t[0].x,2*r[0].y-t[0].y),[r,i];var s=[];for(n=1;n<o-1;n++)s[n]=4*t[n].x+2*t[n+1].x;s[0]=t[0].x+2*t[1].x,s[o-1]=(8*t[o-1].x+t[o].x)/2;var a=e(s);for(n=1;n<o-1;++n)s[n]=4*t[n].y+2*t[n+1].y;s[0]=t[0].y+2*t[1].y,s[o-1]=(8*t[o-1].y+t[o].y)/2;var l=e(s);for(n=0;n<o;n++)r.push(new Ca(a[n],l[n])),n<o-1?i.push(new Ca(2*t[n+1].x-a[n+1],2*t[n+1].y-l[n+1])):i.push(new Ca((t[o].x+a[o-1])/2,(t[o].y+l[o-1])/2));return[r,i]}(t),r=[],i=n[0].length,o=0;o<i;o++){var s=new Ca(n[0][o].x,n[0][o].y),a=new Ca(n[1][o].x,n[1][o].y);r.push(new al(t[o],s,a,t[o+1]))}return r}}(),al.prototype={type:xa.Curve,bbox:function(){for(var e,t,n,r,i,o,s,a,l=this.start,c=this.controlPoint1,u=this.controlPoint2,d=this.end,f=l.x,p=l.y,h=c.x,m=c.y,g=u.x,v=u.y,y=d.x,b=d.y,w=new Array,x=new Array,k=[new Array,new Array],S=0;S<2;++S)if(0===S?(t=6*f-12*h+6*g,e=-3*f+9*h-9*g+3*y,n=3*h-3*f):(t=6*p-12*m+6*v,e=-3*p+9*m-9*v+3*b,n=3*m-3*p),nl(e)<1e-12){if(nl(t)<1e-12)continue;0<(r=-n/t)&&r<1&&x.push(r)}else a=rl(s=t*t-4*n*e),s<0||(0<(i=(-t+a)/(2*e))&&i<1&&x.push(i),0<(o=(-t-a)/(2*e))&&o<1&&x.push(o));for(var _,E,P,T=x.length,$=T;T--;)E=(_=1-(r=x[T]))*_*_*f+3*_*_*r*h+3*_*r*r*g+r*r*r*y,k[0][T]=E,P=_*_*_*p+3*_*_*r*m+3*_*r*r*v+r*r*r*b,k[1][T]=P,w[T]={X:E,Y:P};x[$]=0,x[$+1]=1,w[$]={X:f,Y:p},w[$+1]={X:y,Y:b},k[0][$]=f,k[1][$]=p,k[0][$+1]=y,k[1][$+1]=b,x.length=$+2,k[0].length=$+2,k[1].length=$+2,w.length=$+2;var N=il.apply(null,k[0]),j=il.apply(null,k[1]),A=ol.apply(null,k[0]),C=ol.apply(null,k[1]);return new Xa(N,j,A-N,C-j)},clone:function(){return new al(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions};return this.lengthAtT(this.closestPointT(e,r),r)},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},i=this.closestPointLength(e,r);if(!i)return 0;var o=this.length(r);return 0===o?0:i/o},closestPointT:function(e,t){for(var n,r,i,o,s,a,l,c=void 0===(t=t||{}).precision?this.PRECISION:t.precision,u=void 0===t.subdivisions?this.getSubdivisions({precision:c}):t.subdivisions,d=u.length,f=d?1/d:0,p=0;p<d;p++){var h=u[p],m=h.start.distance(e),g=h.end.distance(e),v=m+g;(!l||v<l)&&(n=h,r=p*f,i=(p+1)*f,o=m,s=g,a=h.start.distance(h.end),l=v)}for(var y=sl(10,-c);;){var b=o?nl(o-s)/o:0,w=s?nl(o-s)/s:0;if(b<y||w<y||(!o||o<a*y||(!s||s<a*y)))return o<=s?r:i;var x=n.divide(.5);f/=2;var k=x[0].start.distance(e),S=x[0].end.distance(e),_=k+S,E=x[1].start.distance(e),P=x[1].end.distance(e);_<=E+P?(n=x[0],i-=f,o=k,s=S):(n=x[1],r+=f,o=E,s=P)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){return this.toPolyline(t).containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new al(t,t,t,t),new al(t,n,r,i)];if(e>=1)return[new al(t,n,r,i),new al(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,l=o.divider,c=o.dividerControlPoint1,u=o.dividerControlPoint2;return[new al(t,s,a,l),new al(l,c,u,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new La(t,n).pointAt(e),s=new La(n,r).pointAt(e),a=new La(r,i).pointAt(e),l=new La(o,s).pointAt(e),c=new La(s,a).pointAt(e);return{startControlPoint1:o,startControlPoint2:l,divider:new La(l,c).pointAt(e),dividerControlPoint1:c,dividerControlPoint2:a}},getSubdivisions:function(e){var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new al(n,r,i,o)];if(0===t)return s;if(!this.isDifferentiable())return s;var a=this.endpointDistance(),l=sl(10,-t),c=2;0===r.cross(n,o)&&0===i.cross(n,o)&&(c=2*t);for(var u=0;;){u+=1;for(var d=[],f=s.length,p=0;p<f;p++){var h=s[p].divide(.5);d.push(h[0],h[1])}for(var m=0,g=d.length,v=0;v<g;v++){m+=d[v].endpointDistance()}if(u>=c)if((0!==m?(m-a)/m:0)<l)return d;s=d,a=m}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},length:function(e){for(var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=void 0===e.subdivisions?this.getSubdivisions({precision:t}):e.subdivisions,r=0,i=n.length,o=0;o<i;o++){r+=n[o].endpointDistance()}return r},lengthAtT:function(e,t){if(e<=0)return 0;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.dividerControlPoint1,i=t.divider,o=new La(n,r);return o.translate(i.x-n.x,i.y-n.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},i=this.length(r)*e;return this.tAtLength(i,r)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e);for(var r,i,o,s,a,l=void 0===(t=t||{}).precision?this.PRECISION:t.precision,c=void 0===t.subdivisions?this.getSubdivisions({precision:l}):t.subdivisions,u={precision:l,subdivisions:c},d=0,f=c.length,p=1/f,h=0;h<f;h++){var m=n?h:f-1-h,g=c[h],v=g.endpointDistance();if(e<=d+v){r=g,i=m*p,o=(m+1)*p,s=n?e-d:v+d-e,a=n?v+d-e:e-d;break}d+=v}if(!r)return n?1:0;for(var y=this.length(u),b=sl(10,-l);;){var w,x;if((0!==y?s/y:0)<b)return i;if((0!==y?a/y:0)<b)return o;var k=r.divide(.5);p/=2;var S=k[0].endpointDistance(),_=k[1].endpointDistance();s<=S?(r=k[0],o-=p,x=S-(w=s)):(r=k[1],i+=p,x=_-(w=s-S)),s=w,a=x}},toPoints:function(e){for(var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=void 0===e.subdivisions?this.getSubdivisions({precision:t}):e.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++){var s=n[o];r.push(s.end.clone())}return r},toPolyline:function(e){return new tl(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}},al.prototype.divide=al.prototype.divideAtT;const cl=function(e){if(!(this instanceof cl))return new cl(e);if("string"===typeof e)return new cl.parse(e);var t,n;if(this.segments=[],e)if(Array.isArray(e)&&0!==e.length)if(n=(e=e.reduce((function(e,t){return e.concat(t)}),[])).length,e[0].isSegment)for(t=0;t<n;t++){var r=e[t];this.appendSegment(r)}else{var i=null;for(t=0;t<n;t++){var o=e[t];if(!(o instanceof La||o instanceof al))throw new Error("Cannot construct a path segment from the provided object.");0===t&&this.appendSegment(cl.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(cl.createSegment("M",o.start)),o instanceof La?this.appendSegment(cl.createSegment("L",o.end)):o instanceof al&&this.appendSegment(cl.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof La)this.appendSegment(cl.createSegment("M",e.start)),this.appendSegment(cl.createSegment("L",e.end));else if(e instanceof al)this.appendSegment(cl.createSegment("M",e.start)),this.appendSegment(cl.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else{if(!(e instanceof tl))throw new Error("Cannot construct a path from the provided object.");if(!e.points||0===e.points.length)return;for(n=e.points.length,t=0;t<n;t++){var s=e.points[t];0===t?this.appendSegment(cl.createSegment("M",s)):this.appendSegment(cl.createSegment("L",s))}}else;};function ul(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}cl.parse=function(e){if(!e)return new cl;for(var t=new cl,n=e.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),r=n.length,i=0;i<r;i++){var o=n[i].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),s=cl.createSegment.apply(this,o);t.appendSegment(s)}return t},cl.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=cl.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return ul(t,n)},cl.prototype={type:xa.Path,appendSegment:function(e){var t,n=this.segments,r=n.length,i=0!==r?n[r-1]:null;if(Array.isArray(e)){if(!(e=e.reduce((function(e,t){return e.concat(t)}),[]))[0].isSegment)throw new Error("Segments required.");for(var o=e.length,s=0;s<o;s++){var a=e[s];t=this.prepareSegment(a,i,null),n.push(t),i=t}}else{if(!e||!e.isSegment)throw new Error("Segment required.");t=this.prepareSegment(e,i,null),n.push(t)}},bbox:function(){var e,t=this.segments,n=t.length;if(0===n)return null;for(var r=0;r<n;r++){var i=t[r];if(i.isVisible){var o=i.bbox();e=e?e.union(o):o}}if(e)return e;var s=t[n-1];return new Xa(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new cl,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.closestPointT(e,r);return i?this.lengthAtT(i,r):0},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.closestPointLength(e,r);if(0===i)return 0;var o=this.length(r);return 0===o?0:i/o},closestPointT:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var i,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=1/0,l=0;l<r;l++){var c=n[l],u=s[l];if(c.isVisible){var d=c.closestPointT(e,{precision:o,subdivisions:u}),f=c.pointAtT(d),p=new La(f,e).squaredLength();p<a&&(i={segmentIndex:l,value:d},a=p)}}return i||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var i,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=1/0,l=0;l<r;l++){var c=n[l],u=s[l];if(c.isDifferentiable()){var d=c.closestPointT(e,{precision:o,subdivisions:u}),f=c.pointAtT(d),p=new La(f,e).squaredLength();p<a&&(i=c.tangentAtT(d),a=p)}}return i||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++){n[o].containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r)*e;return this.divideAtLength(i,r)},divideAtLength:function(e,t){var n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);var i,o,s,a,l,c,u,d=void 0===(t=t||{}).precision?this.PRECISION:t.precision,f=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:d}):t.segmentSubdivisions,p=0;for(i=0;i<n;i++){var h=r?i:n-1-i;o=this.getSegment(h);var m=f[h],g=o.length({precision:d,subdivisions:m});if(o.isDifferentiable()&&(l=o,c=h,e<=p+g)){a=h,s=o.divideAtLength((r?1:-1)*(e-p),{precision:d,subdivisions:m});break}p+=g}if(!l)return null;s||(a=c,u=r?1:0,s=l.divideAtT(u));var v=this.clone();v.replaceSegment(a,s);var y=a,b=a+1,w=a+2;s[0].isDifferentiable()||(v.removeSegment(y),b-=1,w-=1);var x=v.getSegment(b).start;v.insertSegment(b,cl.createSegment("M",x)),w+=1,s[1].isDifferentiable()||(v.removeSegment(w-1),w-=1);var k=w-y-1;for(i=w;i<v.segments.length;i++){var S=this.getSegment(i-k);if("Z"===(o=v.getSegment(i)).type&&!S.subpathStartSegment.end.equals(o.subpathStartSegment.end)){var _=cl.createSegment("L",S.end);v.replaceSegment(i,_)}}return[new cl(v.segments.slice(0,b)),new cl(v.segments.slice(b))]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=n[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){for(var t=this.segments,n=t.length,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=[],o=0;o<n;o++){var s=t[o].getSubdivisions({precision:r});i.push(s)}return i},getSubpaths:function(){const e=this.clone().validate().segments,t=e.length,n=[];for(let r=0;r<t;r++){const t=e[r];t.isSubpathStart?n.push(new cl(t)):n[n.length-1].appendSegment(t)}return n},insertSegment:function(e,t){var n,r=this.segments,i=r.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");var o=null,s=null;if(0!==i&&(s=e>=1?(o=r[e-1]).nextSegment:r[0]),Array.isArray(t)){if(!(t=t.reduce((function(e,t){return e.concat(t)}),[]))[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++){var c=t[l];n=this.prepareSegment(c,o,s),r.splice(e+l,0,n),o=n}}else{if(!t||!t.isSegment)throw new Error("Segment required.");n=this.prepareSegment(t,o,s),r.splice(e,0,n)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var s=r[i],a=e.intersect(s);a&&(n||(n=[]),Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++){if(e[n].isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments;return 0===e.length||"M"===e[0].type},length:function(e){var t=this.segments,n=t.length;if(0===n)return 0;for(var r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=0,s=0;s<n;s++){var a=t[s],l=i[s];o+=a.length({subdivisions:l})}return o},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(0===r)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1);for(var s,a=void 0===(t=t||{}).precision?this.PRECISION:t.precision,l=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,c=0,u=0;u<i;u++){var d=n[u];s=l[u],c+=d.length({precisison:a,subdivisions:s})}return d=n[i],s=l[i],c+=d.lengthAtT(o,{precisison:a,subdivisions:s})},pointAt:function(e,t){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r)*e;return this.pointAtLength(i,r)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;if(0===e)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e);for(var o,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,c=0;c<r;c++){var u=i?c:r-1-c,d=n[u],f=a[u],p=d.length({precision:s,subdivisions:f});if(d.isVisible){if(e<=l+p)return d.pointAtLength((i?1:-1)*(e-l),{precision:s,subdivisions:f});o=d}l+=p}return o?i?o.end:o.start:n[r-1].end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n,r=this.segments,i=r.length;if(0===i)throw new Error("Path has no segments.");if(e<0&&(e=i+e),e>=i||e<0)throw new Error("Index out of range.");var o=r[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(!(t=t.reduce((function(e,t){return e.concat(t)}),[]))[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var c=t.length,u=0;u<c;u++){var d=t[u];n=this.prepareSegment(d,s,a),r.splice(e+u,0,n),s=n,l&&n.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");n=this.prepareSegment(t,s,a),r.splice(e,1,n),l&&n.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,n=t.length,r=0;r<n;r++){t[r].round(e)}return this},scale:function(e,t,n){for(var r=this.segments,i=r.length,o=0;o<i;o++){r[o].scale(e,t,n)}return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r)*e;return this.segmentIndexAtLength(i,r)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,c=0;c<r;c++){var u=i?c:r-1-c,d=n[u],f=s[u],p=d.length({precision:o,subdivisions:f});if(d.isVisible){if(e<=l+p)return u;a=u}l+=p}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r)*e;return this.tangentAtLength(i,r)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var o,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,c=0;c<r;c++){var u=i?c:r-1-c,d=n[u],f=a[u],p=d.length({precision:s,subdivisions:f});if(d.isDifferentiable()){if(e<=l+p)return d.tangentAtLength((i?1:-1)*(e-l),{precision:s,subdivisions:f});o=d}l+=p}if(o){var h=i?1:0;return o.tangentAtT(h)}return null},tangentAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(0===n)return null;for(var r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var l=t[a];if(l.isVisible){var c=i[a];if(c.length>0){var u=c.map((function(e){return e.start}));Array.prototype.push.apply(s,u)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new tl(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++){n+=e[r].serialize()+" "}return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++){n[i].translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)e.subpathStartSegment=t?t.subpathStartSegment:null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,cl.createSegment("M",0,0)),this}},Object.defineProperty(cl.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}}),Object.defineProperty(cl.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});var dl={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(dl,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(dl,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(dl,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var fl=function(){for(var e,t,n=[],r=arguments.length,i=0;i<r;i++)n.push(arguments[i]);if(!(this instanceof fl))return ul(fl,n);if(0===r)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");if(n[0]instanceof La){if(1===r)return this.end=n[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+r+" lines provided).")}if("string"===typeof n[0]||"number"===typeof n[0]){if(2===r)return this.end=new Ca(+n[0],+n[1]),this;if(r<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+r+" coordinates provided).");var o;for(e=[],i=0;i<r;i+=2)o=n.slice(i,i+2),e.push(ul(fl,o));return e}if(1===r)return this.end=new Ca(n[0]),this;for(e=[],i=0;i<r;i+=1)t=n[i],e.push(new fl(t));return e},pl={clone:function(){return new fl(this.end)},divideAt:function(e){var t=new La(this.start,this.end).divideAt(e);return[new fl(t[0]),new fl(t[1])]},divideAtLength:function(e){var t=new La(this.start,this.end).divideAtLength(e);return[new fl(t[0]),new fl(t[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(pl,"type",{configurable:!0,enumerable:!0,value:"L"}),fl.prototype=ll(dl,La.prototype,pl);var hl=function(){for(var e,t,n=[],r=arguments.length,i=0;i<r;i++)n.push(arguments[i]);if(!(this instanceof hl))return ul(hl,n);if(0===r)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");if(n[0]instanceof al){if(1===r)return this.controlPoint1=n[0].controlPoint1.clone(),this.controlPoint2=n[0].controlPoint2.clone(),this.end=n[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+r+" curves provided).")}if("string"===typeof n[0]||"number"===typeof n[0]){if(6===r)return this.controlPoint1=new Ca(+n[0],+n[1]),this.controlPoint2=new Ca(+n[2],+n[3]),this.end=new Ca(+n[4],+n[5]),this;if(r<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+r+" coordinates provided).");var o;for(e=[],i=0;i<r;i+=6)o=n.slice(i,i+6),e.push(ul(hl,o));return e}if(3===r)return this.controlPoint1=new Ca(n[0]),this.controlPoint2=new Ca(n[1]),this.end=new Ca(n[2]),this;if(r<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+r+" points provided).");for(e=[],i=0;i<r;i+=3)t=n.slice(i,i+3),e.push(ul(hl,t));return e},ml={clone:function(){return new hl(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new al(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(e,t);return[new hl(n[0]),new hl(n[1])]},divideAtLength:function(e,t){var n=new al(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(e,t);return[new hl(n[0]),new hl(n[1])]},divideAtT:function(e){var t=new al(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(e);return[new hl(t[0]),new hl(t[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(ml,"type",{configurable:!0,enumerable:!0,value:"C"}),hl.prototype=ll(dl,al.prototype,ml);var gl=function(){for(var e,t,n=[],r=arguments.length,i=0;i<r;i++)n.push(arguments[i]);if(!(this instanceof gl))return ul(gl,n);if(0===r)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");if(n[0]instanceof La){if(1===r)return this.end=n[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+r+" lines provided).")}if(n[0]instanceof al){if(1===r)return this.end=n[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+r+" curves provided).")}if("string"===typeof n[0]||"number"===typeof n[0]){if(2===r)return this.end=new Ca(+n[0],+n[1]),this;if(r<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+r+" coordinates provided).");var o;for(e=[],i=0;i<r;i+=2)o=n.slice(i,i+2),0===i?e.push(ul(gl,o)):e.push(ul(fl,o));return e}if(1===r)return this.end=new Ca(n[0]),this;for(e=[],i=0;i<r;i+=1)t=n[i],0===i?e.push(new gl(t)):e.push(new fl(t));return e},vl={bbox:function(){return null},clone:function(){return new gl(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(vl,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(vl,"type",{configurable:!0,enumerable:!0,value:"M"}),gl.prototype=ll(dl,vl);var yl=function(){for(var e=[],t=arguments.length,n=0;n<t;n++)e.push(arguments[n]);if(!(this instanceof yl))return ul(yl,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},bl={clone:function(){return new yl},divideAt:function(e){var t=new La(this.start,this.end).divideAt(e);return[t[1].isDifferentiable()?new fl(t[0]):this.clone(),new fl(t[1])]},divideAtLength:function(e){var t=new La(this.start,this.end).divideAtLength(e);return[t[1].isDifferentiable()?new fl(t[0]):this.clone(),new fl(t[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment)&&!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(bl,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(bl,"type",{configurable:!0,enumerable:!0,value:"Z"}),yl.prototype=ll(dl,La.prototype,bl);var wl=cl.segmentTypes={L:fl,C:hl,M:gl,Z:yl,z:yl};cl.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(wl).join("")+",.]*$"),cl.isDataSupported=function(e){return"string"===typeof e&&this.regexSupportedData.test(e)};const xl={curveThroughPoints:function(e){return console.warn("deprecated"),new cl(al.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t,n=[],r=[],i=e.length-1;if(1==i)return n[0]=new Ca((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new Ca(2*n[0].x-e[0].x,2*n[0].y-e[0].y),[n,r];var o=[];for(t=1;t<i-1;t++)o[t]=4*e[t].x+2*e[t+1].x;o[0]=e[0].x+2*e[1].x,o[i-1]=(8*e[i-1].x+e[i].x)/2;var s=this.getFirstControlPoints(o);for(t=1;t<i-1;++t)o[t]=4*e[t].y+2*e[t+1].y;o[0]=e[0].y+2*e[1].y,o[i-1]=(8*e[i-1].y+e[i].y)/2;var a=this.getFirstControlPoints(o);for(t=0;t<i;t++)n.push(new Ca(s[t],a[t])),t<i-1?r.push(new Ca(2*e[t+1].x-s[t+1],2*e[t+1].y-a[t+1])):r.push(new Ca((e[i].x+s[i-1])/2,(e[i].y+a[i-1])/2));return[n,r]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new al(e,t,n,r);return function(e){var t=i.divide(e);return[{p0:t[0].start,p1:t[0].controlPoint1,p2:t[0].controlPoint2,p3:t[0].end},{p0:t[1].start,p1:t[1].controlPoint1,p2:t[1].controlPoint2,p3:t[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,i=(o<t-1?4:3.5)-r[o],n[o]=(e[o]-n[o-1])/i;for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new al(e,t,n,r);return function(e){return i.closestPointT(e)}}},kl=function(e){return this instanceof kl?"string"===typeof e?new kl.parse(e):void(this.points=Array.isArray(e)?e.map(Ca):[]):new kl(e)};function Sl(e,t,n,r){switch(e.type){case xa.Line:if(t.type===xa.Line)return _l(e,t);break;case xa.Ellipse:switch(t.type){case xa.Line:return El(e,t);case xa.Ellipse:return Pl(e,t)}break;case xa.Rect:switch(t.type){case xa.Line:return Tl(e,t);case xa.Ellipse:return $l(e,t);case xa.Rect:return Nl(e,t)}break;case xa.Polyline:switch(t.type){case xa.Line:return jl(e,t);case xa.Ellipse:return Al(e,t);case xa.Rect:return Cl(e,t);case xa.Polyline:return Ol(e,t)}break;case xa.Polygon:switch(t.type){case xa.Line:return Il(e,t);case xa.Ellipse:return Rl(e,t);case xa.Rect:return Ll(e,t);case xa.Polyline:return Dl(e,t);case xa.Polygon:return Ml(e,t)}break;case xa.Path:switch(t.type){case xa.Line:return Fl(e,t,n);case xa.Ellipse:return zl(e,t,n);case xa.Rect:return Vl(e,t,n);case xa.Polyline:return Bl(e,t,n);case xa.Polygon:return Ul(e,t,n);case xa.Path:return ql(e,t,n,r)}}switch(t.type){case xa.Ellipse:case xa.Rect:case xa.Polyline:case xa.Polygon:case xa.Path:return Sl(t,e,r,n);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function _l(e,t){const n=e.start.x,r=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,l=i-n,c=o-r,u=t.end.x-s,d=t.end.y-a,f=n-s,p=r-a,h=l*d-u*c,m=(l*p-c*f)/h,g=(u*p-d*f)/h;return m>=0&&m<=1&&g>=0&&g<=1}function El(e,t){const n=e.a,r=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,l=t.start.y-o,c=n*n,u=r*r,d=a-s,f=t.end.y-o-l,p=d*d/c+f*f/u,h=2*s*d/c+2*l*f/u,m=h*h-4*p*(s*s/c+l*l/u-1);if(0===m){const e=-h/2/p;return e>=0&&e<=1}if(m>0){const e=Math.sqrt(m),t=(-h+e)/2/p,n=(-h-e)/2/p;return t>=0&&t<=1||n>=0&&n<=1}return!1}function Pl(e,t){return function(e,t,n,r){const{cos:i,sin:o}=Math,s=o(t),a=i(t),l=o(r),c=i(r),u=s*s,d=a*a,f=s*a,p=l*l,h=c*c,m=l*c,g=e.a*e.a,v=e.b*e.b,y=n.a*n.a,b=n.b*n.b,w=g*u+v*d,x=y*p+b*h,k=g*d+v*u,S=y*h+b*p;let _=2*(v-g)*f,E=2*(b-y)*m,P=-2*w*e.x-_*e.y,T=-2*x*n.x-E*n.y,$=-_*e.x-2*k*e.y,N=-E*n.x-2*S*n.y;const j=w*e.x*e.x+k*e.y*e.y+_*e.x*e.y-g*v,A=x*n.x*n.x+S*n.y*n.y+E*n.x*n.y-y*b;_/=2,E/=2,P/=2,T/=2,$/=2,N/=2;const C=Ql([[w,_,P],[_,k,$],[P,$,j]]),O=Ql([[x,E,T],[E,S,N],[T,N,A]]),I=.33333333*(Ql([[x,_,P],[E,k,$],[T,$,j]])+Ql([[w,E,P],[_,S,$],[P,N,j]])+Ql([[w,_,T],[_,k,N],[P,$,A]])),R=.33333333*(Ql([[w,E,T],[_,S,N],[P,N,A]])+Ql([[x,_,T],[E,k,N],[T,$,A]])+Ql([[x,E,P],[E,S,$],[T,N,j]])),L=Yl([[C,I],[I,R]]),D=Yl([[C,R],[I,O]]),M=Yl([[I,R],[R,O]]);if(Yl([[2*L,D],[D,2*M]])>0&&(R>0||I>0))return!1;return!0}(e,0,t,0)}function Tl(e,t){const{start:n,end:r}=t,{x:i,y:o,width:s,height:a}=e;return!(n.x>i+s&&r.x>i+s||n.x<i&&r.x<i||n.y>o+a&&r.y>o+a||n.y<o&&r.y<o)&&(!(!e.containsPoint(t.start)&&!e.containsPoint(t.end))||(_l(e.topLine(),t)||_l(e.rightLine(),t)||_l(e.bottomLine(),t)||_l(e.leftLine(),t)))}function $l(e,t){return!!Nl(e,Xa.fromEllipse(t))&&Rl(kl.fromRect(e),t)}function Nl(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function jl(e,t){return Hl(e,t,{interior:!1})}function Al(e,t){return Gl(e,t,{interior:!1})}function Cl(e,t){return Wl(e,t,{interior:!1})}function Ol(e,t){return Kl(e,t,{interior:!1})}function Il(e,t){return Hl(e,t,{interior:!0})}function Rl(e,t){return Gl(e,t,{interior:!0})}function Ll(e,t){return Wl(e,t,{interior:!0})}function Dl(e,t){return Kl(e,t,{interior:!0})}function Ml(e,t){return Xl(e,t,{interior:!0})}function Fl(e,t,n){return e.getSubpaths().some((e=>{const[r]=e.toPolylines(n),{type:i}=e.getSegment(-1);return"Z"===i?Il(r,t):jl(r,t)}))}function zl(e,t,n){return e.getSubpaths().some((e=>{const[r]=e.toPolylines(n),{type:i}=e.getSegment(-1);return"Z"===i?Rl(r,t):Al(r,t)}))}function Vl(e,t,n){return Ul(e,kl.fromRect(t),n)}function Bl(e,t,n){return Jl(e,t,n,{interior:!1})}function Ul(e,t,n){return Jl(e,t,n,{interior:!0})}function ql(e,t,n,r){return e.getSubpaths().some((e=>{const[i]=e.toPolylines(n),{type:o}=e.getSegment(-1);return"Z"===o?Ul(t,i,r):Bl(t,i,r)}))}function Hl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{interior:r=!1}=n;let i;if(r){if(e.containsPoint(t.start))return!0;const{start:n,end:r,points:o}=e;i=r.equals(n)?o:[...o,n]}else i=e.points;const{length:o}=i,s=new La;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],_l(t,s))return!0;return!1}function Gl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{start:r,end:i,points:o}=e;if(t.containsPoint(r))return!0;let s;const{interior:a=!1}=n;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(r)?o:[...o,r]}else s=o;const{length:l}=s,c=new La;for(let u=0;u<l-1;u++)if(c.start=s[u],c.end=s[u+1],El(t,c))return!0;return!1}function Wl(e,t,n){return Xl(e,kl.fromRect(t),n)}function Jl(e,t,n,r){return e.getSubpaths().some((e=>{const[i]=e.toPolylines(n),{type:o}=e.getSegment(-1);return"Z"===o?Xl(t,i,r):Kl(t,i,r)}))}function Kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{interior:r=!1}=n;let i;if(r){const{start:n}=t;if(e.containsPoint(n))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:s}=o,a=new La;for(let l=0;l<s-1;l++)if(a.start=o[l],a.end=o[l+1],jl(i,a))return!0;return!1}function Xl(e,t,n){return t.containsPoint(e.start)||Kl(e,t.clone().close(),n)}function Yl(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function Ql(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}kl.parse=function(e){return new kl(Qa(e))},kl.fromRect=function(e){return new kl([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])},kl.prototype=ll(tl.prototype,{type:xa.Polygon,clone:function(){return new kl(Za(this.points))},convexHull:function(){return new kl(el(this.points))},lengthPoints:function(){const{start:e,end:t,points:n}=this;return n.length<=1||e.equals(t)?n:[...n,e.clone()]}});const Zl=e,ec=function(){if(!("object"===typeof window&&!!window.SVGAngle))return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n=Math,r=n.PI,i=n.atan2,o=n.sqrt,s=n.min,a=n.max,l=n.cos,c=n.sin,u=function(t,n,r){if(!(this instanceof u))return u.apply(Object.create(u.prototype),arguments);if(t){if(u.isV(t)&&(t=t.node),n=n||{},u.isString(t)){if("svg"===(t=t.trim()).toLowerCase())t=u.createSvgDocument();else if("<"===t[0]){var i=u.createSvgDocument(t);if(i.childNodes.length>1){var o,s,a=[];for(o=0,s=i.childNodes.length;o<s;o++){var l=i.childNodes[o];a.push(new u(document.importNode(l,!0)))}return a}t=document.importNode(i.firstChild,!0)}else t=document.createElementNS(e.svg,t);u.ensureId(t)}return this.node=t,this.setAttributes(n),r&&this.append(r),this}},d=u.prototype;function f(e,t,n){n||(n={});for(var r=n.includeAnnotationIndices,i=n.eol,o=n.lineHeight,s=n.baseSize,a=0,l={},c=t.length-1,d=0;d<=c;d++){var f=t[d],p=null;if(u.isObject(f)){var h=f.attrs,m=u("tspan",h),g=m.node,v=f.t;i&&d===c&&(v+=i),g.textContent=v;var y=h.class;y&&m.addClass(y),r&&m.attr("annotations",f.annotations),p=parseFloat(h["font-size"]),isFinite(p)||(p=s),p&&p>a&&(a=p)}else i&&d===c&&(f+=i),g=document.createTextNode(f||" "),s&&s>a&&(a=s);e.appendChild(g)}return a&&(l.maxFontSize=a),o?l.lineHeight=o:a&&(l.lineHeight=1.2*a),l}Object.defineProperty(d,"id",{enumerable:!0,get:function(){return this.node.id},set:function(e){this.node.id=e}}),d.getTransformToElement=function(e){var t=this.node;if(u.isSVGGraphicsElement(e)&&u.isSVGGraphicsElement(t)){var n=u.toNode(e).getScreenCTM(),r=t.getScreenCTM();if(n&&r)return n.inverse().multiply(r)}return u.createSVGMatrix()},d.transform=function(e,t){var n=this.node;if(u.isUndefined(e))return u.transformStringToMatrix(this.attr("transform"));if(t&&t.absolute)return this.attr("transform",u.matrixToTransformString(e));var r=u.createSVGTransform(e);return n.transform.baseVal.appendItem(r),this},d.translate=function(e,t,n){n=n||{},t=t||0;var r=this.attr("transform")||"",i=u.parseTransformString(r);if(r=i.value,u.isUndefined(e))return i.translate;r=r.replace(/translate\([^)]*\)/g,"").trim();var o="translate("+(n.absolute?e:i.translate.tx+e)+","+(n.absolute?t:i.translate.ty+t)+")";return this.attr("transform",(o+" "+r).trim()),this},d.rotate=function(e,t,n,r){r=r||{};var i=this.attr("transform")||"",o=u.parseTransformString(i);if(i=o.value,u.isUndefined(e))return o.rotate;i=i.replace(/rotate\([^)]*\)/g,"").trim(),e%=360;var s="rotate("+(r.absolute?e:o.rotate.angle+e)+(void 0!==t&&void 0!==n?","+t+","+n:"")+")";return this.attr("transform",(i+" "+s).trim()),this},d.scale=function(e,t){t=u.isUndefined(t)?e:t;var n=this.attr("transform")||"",r=u.parseTransformString(n);if(n=r.value,u.isUndefined(e))return r.scale;n=n.replace(/scale\([^)]*\)/g,"").trim();var i="scale("+e+","+t+")";return this.attr("transform",(n+" "+i).trim()),this},d.bbox=function(e,t){var n,r=this.node,i=r.ownerSVGElement;if(!i)return new Xa(0,0,0,0);try{n=r.getBBox()}catch(s){n={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(e)return new Xa(n);var o=this.getTransformToElement(t||i);return u.transformRect(n,o)},d.getBBox=function(e){var t,n={},r=this.node;if(!r.ownerSVGElement||!u.isSVGGraphicsElement(r))return new Xa(0,0,0,0);if(e&&(e.target&&(n.target=u.toNode(e.target)),e.recursive&&(n.recursive=e.recursive)),n.recursive){var i=this.children(),o=i.length;if(0===o)return this.getBBox({target:n.target,recursive:!1});n.target||(n.target=this);for(var s=0;s<o;s++){var a,l=i[s];a=0===l.children().length?l.getBBox({target:n.target,recursive:!1}):l.getBBox({target:n.target,recursive:!0}),t=t?t.union(a):a}return t}try{t=r.getBBox()}catch(d){t={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(n.target){var c=this.getTransformToElement(n.target);return u.transformRect(t,c)}return new Xa(t)};var p=/em$/;function h(e,t){var n=parseFloat(e);return p.test(e)?n*t:n}d.text=function(t,n){if(t&&"string"!==typeof t)throw new Error("Vectorizer: text() expects the first argument to be a string.");t=u.sanitizeText(t),n||(n={});var r=n.displayEmpty,i=n.eol,o=n.textPath,s=n.textVerticalAnchor,a="middle"===s||"bottom"===s||"top"===s,l=n.x;void 0===l&&(l=this.attr("x")||0);var c=n.includeAnnotationIndices,d=n.annotations;d&&!u.isArray(d)&&(d=[d]);var m=n.lineHeight,g="auto"===m,v=g?"1.5em":m||"1em";this.empty(),this.attr({"xml:space":"preserve",display:t||r?null:"none"});var y=parseFloat(this.attr("font-size"));y||(y=16,(a||d)&&this.attr("font-size",y));var b,w=document;o?("string"===typeof o&&(o={d:o}),b=function(e,t){e||(e={});var n=u("textPath"),r=e.d;if(r&&void 0===e["xlink:href"]){var i=u("path").attr("d",r).appendTo(t.defs());n.attr("xlink:href","#"+i.id)}return u.isObject(e)&&n.attr(e),n.node}(o,this)):b=w.createDocumentFragment();for(var x,k=0,S=t.split("\n"),_=[],E=0,P=S.length-1;E<=P;E++){var T,$=v,N="v-line",j=w.createElementNS(e.svg,"tspan"),A=S[E];if(A)if(d){var C=u.annotateString(A,d,{offset:-k,includeAnnotationIndices:c}),O=(T=f(j,C,{includeAnnotationIndices:c,eol:E!==P&&i,lineHeight:g?null:v,baseSize:y})).lineHeight;O&&g&&0!==E&&($=O),0===E&&(x=.8*T.maxFontSize)}else i&&E!==P&&(A+=i),j.textContent=A;else{j.textContent="-",N+=" v-empty-line";var I=j.style;if(I.fillOpacity=0,I.strokeOpacity=0,d){T={};let e=y;for(let t=(C=u.findAnnotationsAtIndex(d,k)).length;t>0;t--){const n=C[t-1].attrs;if(!n||!("font-size"in n))continue;const r=parseFloat(n["font-size"]);if(isFinite(r)){e=r;break}}g&&(E>0?$=1.2*e:x=.8*e),j.setAttribute("font-size",e),T.maxFontSize=e}}T&&_.push(T),E>0&&j.setAttribute("dy",$),(E>0||o)&&j.setAttribute("x",l),j.className.baseVal=N,b.appendChild(j),k+=A.length+1}if(a)if(d)$=function(e,t,n,r){if(!Array.isArray(t))return 0;var i=t.length;if(!i)return 0;for(var o=t[0],s=h(o.maxFontSize,n)||n,a=0,l=h(r,n),c=1;c<i;c++)a+=h((o=t[c]).lineHeight,n)||l;var u,d=h(o.maxFontSize,n)||n;switch(e){case"middle":u=s/2-.15*d-a/2;break;case"bottom":u=-.25*d-a;break;default:u=.8*s}return u}(s,_,y,v);else if("top"===s)$="0.8em";else{var R;switch(P>0?(R=parseFloat(v)||1,R*=P,p.test(v)||(R/=y)):R=0,s){case"middle":$=.3-R/2+"em";break;case"bottom":$=-R-.3+"em"}}else 0===s?$="0em":s?$=s:($=0,null===this.attr("y")&&this.attr("y",x||"0.8em"));return b.firstChild.setAttribute("dy",$),this.append(b),this},d.removeAttr=function(e){const t=y[e],{ns:n,local:r}=u.qualifyAttr(t),i=this.node;return n?i.hasAttributeNS(n,r)&&i.removeAttributeNS(n,r):i.hasAttribute(t)&&i.removeAttribute(t),this},d.attr=function(e,t){if(u.isUndefined(e)){for(var n=this.node.attributes,r={},i=0;i<n.length;i++)r[n[i].name]=n[i].value;return r}if(u.isString(e)&&u.isUndefined(t))return this.node.getAttribute(y[e]);if("object"===typeof e)for(var o in e)e.hasOwnProperty(o)&&this.setAttribute(o,e[o]);else this.setAttribute(e,t);return this},d.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",u.normalizePathData(this.attr("d"))),this},d.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},d.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},d.setAttributes=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t]);return this},d.append=function(e){u.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++)this.node.appendChild(u.toNode(e[t]));return this},d.prepend=function(e){var t=this.node.firstChild;return t?u(t).before(e):this.append(e)},d.before=function(e){var t=this.node,n=t.parentNode;if(n){u.isArray(e)||(e=[e]);for(var r=0,i=e.length;r<i;r++)n.insertBefore(u.toNode(e[r]),t)}return this},d.appendTo=function(e){return u.toNode(e).appendChild(this.node),this},d.svg=function(){return this.node instanceof window.SVGSVGElement?this:u(this.node.ownerSVGElement)},d.tagName=function(){return this.node.tagName.toUpperCase()},d.defs=function(){var e=this.svg()||this,t=e.node.getElementsByTagName("defs")[0];return t?u(t):u("defs").appendTo(e)},d.clone=function(){var e=u(this.node.cloneNode(!0));return e.node.id=u.uniqueId(),e},d.findOne=function(e){var t=this.node.querySelector(e);return t?u(t):void 0},d.find=function(e){var t=[],n=this.node.querySelectorAll(e);if(n)for(var r=0;r<n.length;r++)t.push(u(n[r]));return t},d.children=function(){for(var e=this.node.childNodes,t=[],n=0;n<e.length;n++){1===e[n].nodeType&&t.push(u(e[n]))}return t},d.parent=function(){return u(this.node.parentNode)||null},d.index=function(){for(var e=0,t=this.node.previousSibling;t;)1===t.nodeType&&e++,t=t.previousSibling;return e},d.findParentByClass=function(e,t){for(var n=this.node.ownerSVGElement,r=this.node.parentNode;r&&r!==t&&r!==n;){var i=u(r);if(i.hasClass(e))return i;r=r.parentNode}return null},d.contains=function(e){var t=this.node,n=u.toNode(e),r=n&&n.parentNode;return t===r||!!(r&&1===r.nodeType&&16&t.compareDocumentPosition(r))},d.toLocalPoint=function(e,t){var n=this.svg().node,r=n.createSVGPoint();r.x=e,r.y=t;try{var i=r.matrixTransform(n.getScreenCTM().inverse()),o=this.getTransformToElement(n).inverse()}catch(s){return r}return i.matrixTransform(o)},d.translateCenterToPoint=function(e){var t=this.getBBox({target:this.svg()}).center();return this.translate(e.x-t.x,e.y-t.y),this},d.translateAndAutoOrient=function(e,t,n){e=new Ca(e),t=new Ca(t),n||(n=this.svg());var r=this.scale();this.attr("transform","");var i=this.getBBox({target:n}).scale(r.sx,r.sy),o=u.createSVGTransform();o.setTranslate(-i.x-i.width/2,-i.y-i.height/2);var s=u.createSVGTransform(),a=e.angleBetween(t,e.clone().offset(1,0));a&&s.setRotate(a,0,0);var l=u.createSVGTransform(),c=e.clone().move(t,i.width/2);l.setTranslate(2*e.x-c.x,2*e.y-c.y);var d=this.getTransformToElement(n),f=u.createSVGTransform();return f.setMatrix(l.matrix.multiply(s.matrix.multiply(o.matrix.multiply(d.scale(r.sx,r.sy))))),this.attr("transform",u.matrixToTransformString(f.matrix)),this},d.animateAlongPath=function(e,t){t=u.toNode(t);var n=u.ensureId(t),r=u("animateMotion",e),i=u("mpath",{"xlink:href":"#"+n});r.append(i),this.append(r);try{r.node.beginElement()}catch(p){if("fake"===document.documentElement.getAttribute("smiling")){var o=r.node;o.animators=[];var s=o.getAttribute("id");s&&(id2anim[s]=o);for(var a=getTargets(o),l=0,c=a.length;l<c;l++){var d=a[l],f=new Animator(o,d,l);animators.push(f),o.animators[l]=f,f.register()}}}return this};const m=/[^\x20\t\r\n\f]+/g;function g(e){return u.isString(e)&&e.trim().match(m)||[]}d.hasClass=function(e){return!!u.isString(e)&&this.node.classList.contains(e.trim())},d.addClass=function(e){return this.node.classList.add(...g(e)),this},d.removeClass=function(e){return this.node.classList.remove(...g(e)),this},d.toggleClass=function(e,t){const n=g(e);for(let r=0;r<n.length;r++)this.node.classList.toggle(n[r],t);return this},d.sample=function(e){e=e||1;for(var t,n=this.node,r=n.getTotalLength(),i=[],o=0;o<r;)t=n.getPointAtLength(o),i.push({x:t.x,y:t.y,distance:o}),o+=e;return i},d.convertToPath=function(){var e=u("path");e.attr(this.attr());var t=this.convertToPathData();return t&&e.attr("d",t),e},d.convertToPathData=function(){var e=this.tagName();switch(e){case"PATH":return this.attr("d");case"LINE":return u.convertLineToPathData(this.node);case"POLYGON":return u.convertPolygonToPathData(this.node);case"POLYLINE":return u.convertPolylineToPathData(this.node);case"ELLIPSE":return u.convertEllipseToPathData(this.node);case"CIRCLE":return u.convertCircleToPathData(this.node);case"RECT":return u.convertRectToPathData(this.node)}throw new Error(e+" cannot be converted to PATH.")},u.prototype.toGeometryShape=function(){var e,t,n,r,i,o,s,a,l,c,d,f,p,h,m;switch(this.tagName()){case"RECT":return e=parseFloat(this.attr("x"))||0,t=parseFloat(this.attr("y"))||0,n=parseFloat(this.attr("width"))||0,r=parseFloat(this.attr("height"))||0,new Xa(e,t,n,r);case"CIRCLE":return i=parseFloat(this.attr("cx"))||0,o=parseFloat(this.attr("cy"))||0,s=parseFloat(this.attr("r"))||0,new Va({x:i,y:o},s,s);case"ELLIPSE":return i=parseFloat(this.attr("cx"))||0,o=parseFloat(this.attr("cy"))||0,a=parseFloat(this.attr("rx"))||0,l=parseFloat(this.attr("ry"))||0,new Va({x:i,y:o},a,l);case"POLYLINE":return c=u.getPointsFromSvgNode(this),new tl(c);case"POLYGON":return(c=u.getPointsFromSvgNode(this)).length>1&&c.push(c[0]),new tl(c);case"PATH":return d=this.attr("d"),cl.isDataSupported(d)||(d=u.normalizePathData(d)),new cl(d);case"LINE":return f=parseFloat(this.attr("x1"))||0,h=parseFloat(this.attr("y1"))||0,p=parseFloat(this.attr("x2"))||0,m=parseFloat(this.attr("y2"))||0,new La({x:f,y:h},{x:p,y:m})}return this.getBBox()},d.findIntersection=function(e,t){var n=this.svg().node;t=t||n;var r=this.getBBox({target:t}),i=r.center();if(r.intersectionWithLineFromCenterToPoint(e)){var o,s=this.tagName();if("RECT"===s){var a=new Xa(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),l=this.getTransformToElement(t),c=u.decomposeMatrix(l),d=n.createSVGTransform();d.setRotate(-c.rotation,i.x,i.y);var f=u.transformRect(a,d.matrix.multiply(l));o=new Xa(f).intersectionWithLineFromCenterToPoint(e,c.rotation)}else if("PATH"===s||"POLYGON"===s||"POLYLINE"===s||"CIRCLE"===s||"ELLIPSE"===s){var p,h,m,g,v,y=("PATH"===s?this:this.convertToPath()).sample(),b=1/0,w=[];for(p=0;p<y.length;p++)h=y[p],m=(m=u.createSVGPoint(h.x,h.y)).matrixTransform(this.getTransformToElement(t)),(v=(h=new Ca(m)).distance(i)+(g=1.1*h.distance(e)))<b?(b=v,w=[{sample:h,refDistance:g}]):v<b+1&&w.push({sample:h,refDistance:g});w.sort((function(e,t){return e.refDistance-t.refDistance})),w[0]&&(o=w[0].sample)}return o}},d.setAttribute=function(e,t){const n=this.node;if(null===t)return this.removeAttr(e),this;const r=y[e],{ns:i}=u.qualifyAttr(r);return i?n.setAttributeNS(i,r,t):"id"===r?n.id=t:n.setAttribute(r,t),this},u.createSvgDocument=function(t){if(t){const n=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="1.1">${t}</svg>`,{documentElement:r}=u.parseXML(n,{async:!1});return r}const n=document.createElementNS(e.svg,"svg");return n.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),n.setAttribute("version","1.1"),n},u.createSVGStyle=function(e){const{node:t}=u("style",{type:"text/css"},[u.createCDATASection(e)]);return t},u.createCDATASection=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return document.implementation.createDocument(null,"xml",null).createCDATASection(e)},u.idCounter=0,u.uniqueId=function(){return"v-"+ ++u.idCounter},u.toNode=function(e){return u.isV(e)?e.node:e.nodeName&&e||e[0]},u.ensureId=function(e){return(e=u.toNode(e)).id||(e.id=u.uniqueId())},u.sanitizeText=function(e){return(e||"").replace(/ /g,"\xa0")},u.isUndefined=function(e){return"undefined"===typeof e},u.isString=function(e){return"string"===typeof e},u.isObject=function(e){return e&&"object"===typeof e},u.isArray=Array.isArray,u.parseXML=function(e,t){var n;t=t||{};try{var r=new DOMParser;u.isUndefined(t.async)||(r.async=t.async),n=r.parseFromString(e,"text/xml")}catch(Fp){n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return n};const v=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach((e=>v[e]=e));const y=new Proxy(v,{get:(e,t)=>u.supportCamelCaseAttributes?t in e?e[t]:e[t]=t.replace(/[A-Z]/g,"-$&").toLowerCase():t});Object.defineProperty(u,"attributeNames",{value:y,writable:!1}),Object.defineProperty(u,"supportCamelCaseAttributes",{value:!1,writable:!0}),u.qualifyAttr=function(t){if(-1!==t.indexOf(":")){var n=t.split(":");return{ns:e[n[0]],local:n[1]}}return{ns:null,local:t}},u.transformSeparatorRegex=/[ ,]+/,u.transformRegex=/\b\w+\([^()]+\)/g,u.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,u.transformTranslateRegex=/\btranslate\(([^()]+)\)/,u.transformRotateRegex=/\brotate\(([^()]+)\)/,u.transformScaleRegex=/\bscale\(([^()]+)\)/,u.transformStringToMatrix=function(e){let t=u.createSVGMatrix();const n=e&&e.match(u.transformRegex);if(!n)return t;const r=n.length;for(let i=0;i<r;i++){const e=n[i].match(u.transformFunctionRegex);if(e){let n,r,i,o,s,a=u.createSVGMatrix();const l=e[1].toLowerCase(),c=e[2].split(u.transformSeparatorRegex);switch(l){case"scale":n=parseFloat(c[0]),r=void 0===c[1]?n:parseFloat(c[1]),a=a.scaleNonUniform(n,r);break;case"translate":i=parseFloat(c[0]),o=parseFloat(c[1]),a=a.translate(i,o);break;case"rotate":s=parseFloat(c[0]),i=parseFloat(c[1])||0,o=parseFloat(c[2])||0,a=0!==i||0!==o?a.translate(i,o).rotate(s).translate(-i,-o):a.rotate(s);break;case"skewx":s=parseFloat(c[0]),a=a.skewX(s);break;case"skewy":s=parseFloat(c[0]),a=a.skewY(s);break;case"matrix":a.a=parseFloat(c[0]),a.b=parseFloat(c[1]),a.c=parseFloat(c[2]),a.d=parseFloat(c[3]),a.e=parseFloat(c[4]),a.f=parseFloat(c[5]);break;default:continue}t=t.multiply(a)}}return t},u.matrixToTransformString=function(e){return e||(e=!0),"matrix("+(void 0!==e.a?e.a:1)+","+(void 0!==e.b?e.b:0)+","+(void 0!==e.c?e.c:0)+","+(void 0!==e.d?e.d:1)+","+(void 0!==e.e?e.e:0)+","+(void 0!==e.f?e.f:0)+")"},u.parseTransformString=function(e){var t,n,r;if(e){var i=u.transformSeparatorRegex;if(e.trim().indexOf("matrix")>=0){var o=u.transformStringToMatrix(e),s=u.decomposeMatrix(o);t=[s.translateX,s.translateY],r=[s.scaleX,s.scaleY],n=[s.rotation];var a=[];0===t[0]&&0===t[1]||a.push("translate("+t+")"),1===r[0]&&1===r[1]||a.push("scale("+r+")"),0!==n[0]&&a.push("rotate("+n+")"),e=a.join(" ")}else{const o=e.match(u.transformTranslateRegex);o&&(t=o[1].split(i));const s=e.match(u.transformRotateRegex);s&&(n=s[1].split(i));const a=e.match(u.transformScaleRegex);a&&(r=a[1].split(i))}}var l=r&&r[0]?parseFloat(r[0]):1;return{value:e,translate:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotate:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:l,sy:r&&r[1]?parseFloat(r[1]):l}}},u.deltaTransformPoint=function(e,t){return{x:t.x*e.a+t.y*e.c+0,y:t.x*e.b+t.y*e.d+0}},u.decomposeMatrix=function(e){var t=u.deltaTransformPoint(e,{x:0,y:1}),n=u.deltaTransformPoint(e,{x:1,y:0}),s=180/r*i(t.y,t.x)-90,a=180/r*i(n.y,n.x);return{translateX:e.e,translateY:e.f,scaleX:o(e.a*e.a+e.b*e.b),scaleY:o(e.c*e.c+e.d*e.d),skewX:s,skewY:a,rotation:s}},u.matrixToScale=function(e){var t,n,r,i;return e?(t=u.isUndefined(e.a)?1:e.a,i=u.isUndefined(e.d)?1:e.d,n=e.b,r=e.c):t=i=1,{sx:n?o(t*t+n*n):t,sy:r?o(r*r+i*i):i}},u.matrixToRotate=function(e){var t={x:0,y:1};return e&&(t=u.deltaTransformPoint(e,t)),{angle:ua(fa(i(t.y,t.x))-90)}},u.matrixToTranslate=function(e){return{tx:e&&e.e||0,ty:e&&e.f||0}},u.isV=function(e){return e instanceof u},u.isVElement=u.isV,u.isSVGGraphicsElement=function(e){return!!e&&((e=u.toNode(e))instanceof SVGElement&&"function"===typeof e.getScreenCTM)};var b=u("svg").node;return u.createSVGMatrix=function(e){var t=b.createSVGMatrix();for(var n in e)t[n]=e[n];return t},u.createSVGTransform=function(e){return u.isUndefined(e)?b.createSVGTransform():(e instanceof SVGMatrix||(e=u.createSVGMatrix(e)),b.createSVGTransformFromMatrix(e))},u.createSVGPoint=function(e,t){var n=b.createSVGPoint();return n.x=e,n.y=t,n},u.transformRect=function(e,t){var n=b.createSVGPoint();n.x=e.x,n.y=e.y;var r=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y;var i=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y+e.height;var o=n.matrixTransform(t);n.x=e.x,n.y=e.y+e.height;var l=n.matrixTransform(t),c=s(r.x,i.x,o.x,l.x),u=a(r.x,i.x,o.x,l.x),d=s(r.y,i.y,o.y,l.y),f=a(r.y,i.y,o.y,l.y);return new Xa(c,d,u-c,f-d)},u.transformPoint=function(e,t){return new Ca(u.createSVGPoint(e.x,e.y).matrixTransform(t))},u.transformLine=function(e,t){return new La(u.transformPoint(e.start,t),u.transformPoint(e.end,t))},u.transformPolyline=function(e,t){var n=e instanceof tl?e.points:e;u.isArray(n)||(n=[]);for(var r=[],i=0,o=n.length;i<o;i++)r[i]=u.transformPoint(n[i],t);return new tl(r)},u.styleToObject=function(e){for(var t={},n=e.split(";"),r=0;r<n.length;r++){var i=n[r].split("=");t[i[0].trim()]=i[1].trim()}return t},u.createSlicePathData=function(e,t,n,i){var o=2*r-1e-6,s=e,a=t,u=n,d=i,f=(d<u&&(f=u,u=d,d=f),d-u),p=f<r?"0":"1",h=l(u),m=c(u),g=l(d),v=c(d);return f>=o?s?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+s+"A"+s+","+s+" 0 1,0 0,"+-s+"A"+s+","+s+" 0 1,0 0,"+s+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":s?"M"+a*h+","+a*m+"A"+a+","+a+" 0 "+p+",1 "+a*g+","+a*v+"L"+s*g+","+s*v+"A"+s+","+s+" 0 "+p+",0 "+s*h+","+s*m+"Z":"M"+a*h+","+a*m+"A"+a+","+a+" 0 "+p+",1 "+a*g+","+a*v+"L0,0Z"},u.mergeAttrs=function(e,t){for(var n in t)"class"===n?e[n]=e[n]?e[n]+" "+t[n]:t[n]:"style"===n?u.isObject(e[n])&&u.isObject(t[n])?e[n]=u.mergeAttrs(e[n],t[n]):u.isObject(e[n])?e[n]=u.mergeAttrs(e[n],u.styleToObject(t[n])):u.isObject(t[n])?e[n]=u.mergeAttrs(u.styleToObject(e[n]),t[n]):e[n]=u.mergeAttrs(u.styleToObject(e[n]),u.styleToObject(t[n])):e[n]=t[n];return e},u.annotateString=function(e,t,n){t=t||[];for(var r,i,o,s=(n=n||{}).offset||0,a=[],l=[],c=0;c<e.length;c++){i=l[c]=e[c];for(var d=0;d<t.length;d++){var f=t[d],p=f.start+s,h=f.end+s;c>=p&&c<h&&(u.isObject(i)?i.attrs=u.mergeAttrs(u.mergeAttrs({},i.attrs),f.attrs):i=l[c]={t:e[c],attrs:f.attrs},n.includeAnnotationIndices&&(i.annotations||(i.annotations=[])).push(d))}(o=l[c-1])?u.isObject(i)&&u.isObject(o)?JSON.stringify(i.attrs)===JSON.stringify(o.attrs)?r.t+=i.t:(a.push(r),r=i):u.isObject(i)||u.isObject(o)?(a.push(r),r=i):r=(r||"")+i:r=i}return r&&a.push(r),a},u.findAnnotationsAtIndex=function(e,t){var n=[];return e&&e.forEach((function(e){e.start<t&&t<=e.end&&n.push(e)})),n},u.findAnnotationsBetweenIndexes=function(e,t,n){var r=[];return e&&e.forEach((function(e){(t>=e.start&&t<e.end||n>e.start&&n<=e.end||e.start>=t&&e.end<n)&&r.push(e)})),r},u.shiftAnnotations=function(e,t,n){return e&&e.forEach((function(e){e.start<t&&e.end>=t?e.end+=n:e.start>=t&&(e.start+=n,e.end+=n)})),e},u.convertLineToPathData=function(e){return["M",(e=u(e)).attr("x1"),e.attr("y1"),"L",e.attr("x2"),e.attr("y2")].join(" ")},u.convertPolygonToPathData=function(e){var t=u.getPointsFromSvgNode(e);return 0===t.length?null:u.svgPointsToPath(t)+" Z"},u.convertPolylineToPathData=function(e){var t=u.getPointsFromSvgNode(e);return 0===t.length?null:u.svgPointsToPath(t)},u.svgPointsToPath=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=e[t].x+" "+e[t].y;return"M "+e.join(" L")},u.getPointsFromSvgNode=function(e){var t=[],n=(e=u.toNode(e)).points;if(n)for(var r=0,i=n.numberOfItems;r<i;r++)t.push(n.getItem(r));return t},u.KAPPA=.551784,u.convertCircleToPathData=function(e){e=u(e);var t=parseFloat(e.attr("cx"))||0,n=parseFloat(e.attr("cy"))||0,r=parseFloat(e.attr("r")),i=r*u.KAPPA;return["M",t,n-r,"C",t+i,n-r,t+r,n-i,t+r,n,"C",t+r,n+i,t+i,n+r,t,n+r,"C",t-i,n+r,t-r,n+i,t-r,n,"C",t-r,n-i,t-i,n-r,t,n-r,"Z"].join(" ")},u.convertEllipseToPathData=function(e){e=u(e);var t=parseFloat(e.attr("cx"))||0,n=parseFloat(e.attr("cy"))||0,r=parseFloat(e.attr("rx")),i=parseFloat(e.attr("ry"))||r,o=r*u.KAPPA,s=i*u.KAPPA;return["M",t,n-i,"C",t+o,n-i,t+r,n-s,t+r,n,"C",t+r,n+s,t+o,n+i,t,n+i,"C",t-o,n+i,t-r,n+s,t-r,n,"C",t-r,n-s,t-o,n-i,t,n-i,"Z"].join(" ")},u.convertRectToPathData=function(e){return e=u(e),u.rectToPath({x:parseFloat(e.attr("x"))||0,y:parseFloat(e.attr("y"))||0,width:parseFloat(e.attr("width"))||0,height:parseFloat(e.attr("height"))||0,rx:parseFloat(e.attr("rx"))||0,ry:parseFloat(e.attr("ry"))||0})},u.rectToPath=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=s(e.rx||e["top-rx"]||0,r/2),a=s(e.rx||e["bottom-rx"]||0,r/2),l=s(e.ry||e["top-ry"]||0,i/2),c=s(e.ry||e["bottom-ry"]||0,i/2);return(o||a||l||c?["M",t,n+l,"v",i-l-c,"a",a,c,0,0,0,a,c,"h",r-2*a,"a",a,c,0,0,0,a,-c,"v",-(i-c-l),"a",o,l,0,0,0,-o,-l,"h",-(r-2*o),"a",o,l,0,0,0,-o,l,"Z"]:["M",t,n,"H",t+r,"V",n+i,"H",t,"V",n,"Z"]).join(" ")},u.normalizePathData=function(){var e="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",t=new RegExp("([a-z])["+e+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+e+"]*,?["+e+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+e+"]*,?["+e+"]*","ig"),r=Math,i=r.PI,o=r.sin,s=r.cos,a=r.tan,l=r.asin,c=r.sqrt,u=r.abs;function d(e,t,n,r,i,o){var s=1/3,a=2/3;return[s*e+a*n,s*t+a*r,s*i+a*n,s*o+a*r,i,o]}function f(e,t,n){return{x:e*s(n)-t*o(n),y:e*o(n)+t*s(n)}}function p(e,t,n,r,d,h,m,g,v,y){var b,w=120*i/180,x=i/180*(+d||0),k=[];if(y)A=y[0],C=y[1],N=y[2],j=y[3];else{e=(b=f(e,t,-x)).x,t=b.y;var S=(e-(g=(b=f(g,v,-x)).x))/2,_=(t-(v=b.y))/2,E=S*S/(n*n)+_*_/(r*r);E>1&&(n*=E=c(E),r*=E);var P=n*n,T=r*r,$=(h==m?-1:1)*c(u((P*T-P*_*_-T*S*S)/(P*_*_+T*S*S))),N=$*n*_/r+(e+g)/2,j=$*-r*S/n+(t+v)/2,A=l(((t-j)/r).toFixed(9)),C=l(((v-j)/r).toFixed(9));(A=e<N?i-A:A)<0&&(A=2*i+A),(C=g<N?i-C:C)<0&&(C=2*i+C),m&&A>C&&(A-=2*i),!m&&C>A&&(C-=2*i)}var O=C-A;if(u(O)>w){var I=C,R=g,L=v;k=p(g=N+n*s(C=A+w*(m&&C>A?1:-1)),v=j+r*o(C),n,r,d,0,m,R,L,[C,I,N,j])}O=C-A;var D=s(A),M=o(A),F=s(C),z=o(C),V=a(O/4),B=4/3*(n*V),U=4/3*(r*V),q=[e,t],H=[e+B*M,t-U*D],G=[g+B*z,v-U*F],W=[g,v];if(H[0]=2*q[0]-H[0],H[1]=2*q[1]-H[1],y)return[H,G,W].concat(k);for(var J=[],K=(k=[H,G,W].concat(k).join().split(",")).length,X=0;X<K;X++)J[X]=X%2?f(k[X-1],k[X],x).y:f(k[X],k[X+1],x).x;return J}function h(e){if(Array.isArray(e)&&Array.isArray(e&&e[0])||(e=function(e){if(!e)return null;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return String(e).replace(t,(function(e,t,o){var s=[],a=t.toLowerCase();for(o.replace(n,(function(e,t){t&&s.push(+t)})),"m"===a&&s.length>2&&(i.push([t].concat(s.splice(0,2))),a="l",t="m"===t?"l":"L");s.length>=r[a]&&(i.push([t].concat(s.splice(0,r[a]))),r[a]););})),i}(e)),!e||!e.length)return[["M",0,0]];for(var r,i=[],o=0,s=0,a=0,l=0,c=e.length,u=0;u<c;u++){var d=[];i.push(d);var f,p,h=e[u];if((r=h[0])!=r.toUpperCase())switch(d[0]=r.toUpperCase(),d[0]){case"A":d[1]=h[1],d[2]=h[2],d[3]=h[3],d[4]=h[4],d[5]=h[5],d[6]=+h[6]+o,d[7]=+h[7]+s;break;case"V":d[1]=+h[1]+s;break;case"H":d[1]=+h[1]+o;break;case"M":for(a=+h[1]+o,l=+h[2]+s,f=h.length,p=1;p<f;p++)d[p]=+h[p]+(p%2?o:s);break;default:for(f=h.length,p=1;p<f;p++)d[p]=+h[p]+(p%2?o:s)}else for(var m=h.length,g=0;g<m;g++)d[g]=h[g];switch(d[0]){case"Z":o=+a,s=+l;break;case"H":o=d[1];break;case"V":s=d[1];break;case"M":a=d[d.length-2],l=d[d.length-1],o=d[d.length-2],s=d[d.length-1];break;default:o=d[d.length-2],s=d[d.length-1]}}return i}function m(e){var t=h(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=null,t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=0===parseFloat(e[1])||0===parseFloat(e[2])?["L",e[6],e[7]]:["C"].concat(p.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),e=["C",r,i].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(d(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(d(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"H":e=["L"].concat(e[1],t.y);break;case"V":e=["L"].concat(t.x,e[1])}return e}function i(e,n){if(e[n].length>7){e[n].shift();for(var r=e[n];r.length;)o[n]="A",e.splice(n++,0,["C"].concat(r.splice(0,6)));e.splice(n,1),l=t.length}}for(var o=[],s="",a="",l=t.length,c=0;c<l;c++){t[c]&&(s=t[c][0]),"C"!==s&&(o[c]=s,c>0&&(a=o[c-1])),t[c]=r(t[c],n,a),"A"!==o[c]&&"C"===s&&(o[c]="C"),i(t,c);var u=t[c],f=u.length;n.x=u[f-2],n.y=u[f-1],n.bx=parseFloat(u[f-4])||n.x,n.by=parseFloat(u[f-3])||n.y}return t[0][0]&&"M"===t[0][0]||t.unshift(["M",0,0]),t}return function(e){return m(e).join(",").split(",").join(" ")}}(),u.namespace=e,u.g=t,u}(),tc=ec,nc={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},rc=function(e){return e?e.toString().split(" ").map((function(e){return e.substr(0,nc.classNamePrefix.length)!==nc.classNamePrefix&&(e=nc.classNamePrefix+e),e})).join(" "):e},ic=function(e){return e?e.toString().split(" ").map((function(e){return e.substr(0,nc.classNamePrefix.length)===nc.classNamePrefix&&(e=e.substr(nc.classNamePrefix.length)),e})).join(" "):e},oc=function(e,t){const n={},r={},i=tc.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(e,t,o){for(let s=0;s<e.length;s++){const l=e[s];if("string"===typeof l){const e=document.createTextNode(l);t.appendChild(e);continue}if(!l.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const c=l.tagName;let u;l.hasOwnProperty("namespaceURI")&&(o=l.namespaceURI),u=document.createElementNS(o,c);const d=o===i,f=d?tc:oa,p=l.attributes;p&&f(u).attr(p);const h=l.style;if(h&&oa(u).css(h),l.hasOwnProperty("className")){const e=l.className;d?u.className.baseVal=e:u.className=e}if(l.hasOwnProperty("textContent")&&(u.textContent=l.textContent),l.hasOwnProperty("selector")){const e=l.selector;if(n[e])throw new Error("json-dom-parser: selector must be unique");n[e]=u,f(u).attr("joint-selector",e)}if(l.hasOwnProperty("groupSelector")){let e=l.groupSelector;Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const n=e[t];let i=r[n];i||(i=r[n]=[]),i.push(u)}}t.appendChild(u);const m=l.children;Array.isArray(m)&&a(m,u,o)}};return a(e,s,o),{fragment:s,selectors:n,groupSelectors:r}},sc=function(e){let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t},ac=function(e,t,n){for(var r,i=Array.isArray(t)?t:t.split(n||"/"),o=0,s=i.length;o<s;){if(r=i[o++],Object(e)!==e||!(r in e))return;e=e[r]}return e},lc=function(e,t){return"string"!==typeof t&&"number"!==typeof t&&(t=String(t)),("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!==t},cc=function(e,t,n,r){const i=Array.isArray(t)?t:t.split(r||"/"),o=i.length-1;let s=e,a=0;for(;a<o;a++){const t=i[a];if(!lc(s,t))return e;s=s[t]||(s[t]={})}return s[i[o]]=n,e},uc=function(e,t,n){const r=Array.isArray(t)?t:t.split(n||"/"),i=r.length-1;let o=e,s=0;for(;s<i;s++){const t=r[s];if(!lc(o,t))return e;const n=o[t];if(!n)return e;o=n}return delete o[r[i]],e},dc=function(e){return dc.id=dc.id||1,void 0===e?"j_"+dc.id++:(e.id=void 0===e.id?"j_"+dc.id++:e.id,e.id)},fc=function(e){if(e.normalized)return e;const{originalEvent:t,target:n}=e,r=t&&t.changedTouches&&t.changedTouches[0];if(r)for(let i in r)void 0===e[i]&&(e[i]=r[i]);if(n){const t=n.correspondingUseElement;t&&(e.target=t)}return e.normalized=!0,e},pc=function(){var e;if("undefined"!==typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=setTimeout((function(){e(n+r)}),r);return t=n+r,i}}return function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return e(void 0!==n?t.bind(n,...i):t)}}(),hc=function(){var e,t="undefined"!=typeof window;return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),mc=function(e){return Cs(e)&&"%"===e.slice(-1)},gc=function(e,t){var n=parseFloat(e);if(Number.isNaN(n))return null;var r,i={};if(i.value=n,null==t)r="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;r=t.join("|")}else Cs(t)&&(r=t);var o=function(t){var n=new RegExp("(?:\\d+(?:\\.\\d+)*)("+t+")$").exec(e);return n?n[1]:null}(r);return null===o?null:(i.unit=o,i)};function vc(e,t){const n=e.split(t);let r=1;for(let i=0,o=n.length-1;i<o;i++){const e=[];(i>0||""!==n[0])&&e.push(0),e.push(t),(i<o-1||""!==n[o])&&e.push(0),n.splice(r,0,...e),r+=e.length+1}return n.filter((e=>""!==e))}function yc(e,t){if(null===e)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const bc=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=t.width,o=t.height,s=r.svgDocument||tc("svg").node,a=tc("tspan").node,l=tc("text").attr(n).append(a).node,c=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(c),s.appendChild(l),r.svgDocument||document.body.appendChild(s);const u=r.preserveSpaces,d=r.separator||""===r.separator?r.separator:" ",f="string"===typeof d?d:" ";var p=r.eol||"\n",h=r.hyphen?new RegExp(r.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,m=r.maxLineCount;As(m)||(m=1/0);var g,v,y,b=e.split(d),w=[],x=[];u&&tc(a).attr("xml:space","preserve");for(var k=0,S=0,_=b.length;k<_;k++){var E=b[k];if((E||u)&&"string"===typeof E){var P=!1;if(p&&E.indexOf(p)>=0){if(E.length>1){const e=vc(b[k],p);b.splice(k,1,...e),k--,_=b.length;continue}if(u&&"string"===typeof b[k-1]){b.splice(k,0,"",0),_+=2,k--;continue}x[++S]=u&&"string"!==typeof b[k+1]?void 0:"",P=!0}if(!P){let e;if(e=u?void 0!==x[S]?x[S]+f+E:E:x[S]?x[S]+f+E:E,c.data=e,a.getComputedTextLength()<=i)x[S]=e,(g||v)&&(w[S++]=!0,g=0,v=0);else{if(!x[S]||g){var T=!!g;if(g=E.length-1,T||!g){if(!g){if(!x[S]){x=[];break}b.splice(k,2,E+b[k+1]),_--,w[S++]=!0,k--;continue}b[k]=E.substring(0,g);const e=b[k+1];b[k+1]=E.substring(g)+(void 0===e||0===e?"":e)}else{if(v)b.splice(k,2,b[k]+b[k+1]),v=0;else{var $=E.search(h);$>-1&&$!==E.length-1&&0!==$&&(v=$+1,g=0),b.splice(k,1,E.substring(0,v||g),E.substring(v||g)),_++}S&&!w[S-1]&&S--}u&&""===x[S]||k--;continue}S++,k--}}var N=null;if(x.length>m)N=m-1;else if(void 0!==o){if(void 0===y&&""!==c.data)if("auto"===n.lineHeight)y=yc({value:1.5,unit:"em"},l);else{y=yc(gc(n.lineHeight,["em","px",""]),l)}y*x.length>o&&(N=Math.floor(o/y)-1)}if(null!==N){x.splice(N+1);var j=r.ellipsis;if(!j||N<0)break;"string"!==typeof j&&(j="\u2026");var A=x[N];if(!A&&!P)break;var C,O,I=A.length;do{if(O=A[I],C=A.substring(0,I),O?O.match(d)&&(C+=O):C+=f,C+=j,c.data=C,a.getComputedTextLength()<=i){x[N]=C;break}I--}while(I>=0);break}}}return r.svgDocument?s.removeChild(l):document.body.removeChild(s),x.join(p)},wc=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,o;return n=r=i=o=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:r,bottom:i,left:o}},xc={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},kc={number:function(e,t){var n=t-e;return function(t){return e+n*t}},object:function(e,t){var n=Object.keys(e);return function(r){var i,o,s={};for(i=n.length-1;-1!=i;i--)s[o=n[i]]=e[o]+(t[o]-e[o])*r;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,o=(255&r)-i,s=65280&n,a=(65280&r)-s,l=16711680&n,c=(16711680&r)-l;return function(e){return"#"+(1<<24|i+o*e&255|s+a*e&65280|l+c*e&16711680).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i[1].indexOf("."),s=o>0?i[1].length-o-1:0;e=+r[1];var a=+i[1]-e,l=r[2];return function(t){return(e+a*t).toFixed(s)+l}}},Sc={outline:function(e){var t=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return _c('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:t+n,innerRadius:t})},highlight:function(e){return _c('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return _c('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return _c(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return _c('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return _c('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return _c('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return _c('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return _c('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return _c('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return _c('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},_c=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,(function(e){for(var t=Array.from(arguments).slice(1,4).find((function(e){return!!e})).split("."),r=n[t.shift()];void 0!==r&&t.length;)r=r[t.shift()];return void 0!==r?r:""}))}},Ec={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function Pc(e,t){const n=new Xa(e);switch(t){case void 0:throw new Error("Position required");case Ec.LEFT:case"leftMiddle":return n.leftMiddle();case Ec.RIGHT:case"rightMiddle":return n.rightMiddle();case Ec.TOP:case"topMiddle":return n.topMiddle();case Ec.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Ec.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Ec.TOP_RIGHT:case"topRight":return n.topRight();case Ec.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Ec.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Ec.CENTER:return n.center();default:throw new Error(`Unknown position: ${t}`)}}function Tc(e){e=Fs(e);const t=Gs(e).reduce((function(e,t){return e[t.id]=t.clone(),e}),{});return Gs(e).forEach((function(e){const n=t[e.id];if(n.isLink()){const e=n.source(),r=n.target();e.id&&t[e.id]&&n.prop("source/id",t[e.id].id),r.id&&t[r.id]&&n.prop("target/id",t[r.id].id)}const r=e.get("parent");r&&t[r]&&n.set("parent",t[r].id);const i=Gs(e.get("embeds")).reduce((function(e,n){return t[n]&&e.push(t[n].id),e}),[]);Bs(i)||n.set("embeds",i)})),t}const $c={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Nc=Object.keys($c).map((e=>$c[e])).join(""),jc="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Ac=/\s/g,Cc=new RegExp(`^(${jc}\\*)?([${Nc}])(/${jc})?([-+]{1,2}${jc})?$`,"g");function Oc(e){throw new Error(`Invalid calc() expression: ${e}`)}function Ic(e,t){const n=Cc.exec(e.replace(Ac,""));n||Oc(e),Cc.lastIndex=0;const[,r,i,o,s]=n,{x:a,y:l,width:c,height:u}=t;let d=0;switch(i){case $c.width:d=c;break;case $c.height:d=u;break;case $c.x:d=a;break;case $c.y:d=l;break;case $c.minimum:d=Math.min(u,c);break;case $c.maximum:d=Math.max(u,c);break;case $c.diagonal:d=Math.sqrt(u*u+c*c)}return r&&(d*=parseFloat(r)),o&&(d/=parseFloat(o.slice(1))),s&&(d+=function(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}(s)),d}function Rc(e){return"string"===typeof e&&e.includes("calc")}const Lc="calc(";function Dc(e,t){let n=e,r=0;for(;;){let e=n.indexOf(Lc,r);if(-1===e)return n;let i=e+5,o=1;e:for(;;){switch(n[i]){case"(":o++;break;case")":if(o--,0===o)break e;break;case void 0:Oc(n)}i++}let s=n.slice(e+5,i);Rc(s)&&(s=Dc(s,t));const a=String(Ic(s,t));n=n.slice(0,e)+a+n.slice(i+1),r=e+a.length}}const Mc=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"].reduce(((e,t)=>(e[t]=!0,e)),{}),Fc={qualify:function(e){return Hs(e)},set:function(e,t,n){Object.keys(e).forEach((function(t){if(Mc[t]&&t in n){const r=e[t];"SELECT"===n.tagName&&Array.isArray(r)?Array.from(n.options).forEach((function(e,t){e.selected=r.includes(e.value)})):n[t]=r}}))}};function zc(e,t){return function(n,r){var i=mc(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var s=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);o[e]=s}return o}}function Vc(e,t,n){return function(r,i){var o,s=mc(r);if(r=parseFloat(r),s&&(r/=100),isFinite(r)){var a=i[n]();o=s||r>0&&r<1?a[e]+i[t]*r:a[e]+r}var l=Ca();return l[e]=o||0,l}}function Bc(e,t,n){return function(r,i){var o;o="middle"===r?i[t]/2:r===n?i[t]:isFinite(r)?r>-1&&r<1?-i[t]*r:-r:mc(r)?i[t]*parseFloat(r)/100:0;var s=Ca();return s[e]=-(i[e]+o),s}}function Uc(e,t){var n="joint-shape",r=t&&t.resetOffset;return function(t,i,o){var s=oa(o),a=s.data(n);if(!a||a.value!==t){var l=e(t);a={value:t,shape:l,shapeBBox:l.bbox()},s.data(n,a)}var c=a.shape.clone(),u=a.shapeBBox.clone(),d=u.origin(),f=i.origin();u.x=f.x,u.y=f.y;var p=i.maxRectScaleToFit(u,f),h=0===u.width||0===i.width?1:p.sx,m=0===u.height||0===i.height?1:p.sy;return c.scale(h,m,d),r&&c.translate(-d.x,-d.y),c}}function qc(e){var t=Uc((function(e){return new cl(tc.normalizePathData(e))}),e);return function(e,n,r){return{d:t(e,n,r).serialize()}}}function Hc(e){var t=Uc(tl,e);return function(e,n,r){return{points:t(e,n,r).serialize()}}}function Gc(e,t){var n=new Ca(1,0);return function(r){var i,o,s=this[e](r);return s?(o=t.rotate?s.vector().vectorAngle(n):0,i=s.start):(i=this.path.start,o=0),0===o?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function Wc(e){return function(t,n,r){const i=tc(r);i.attr(e)!==t&&i.attr(e,t)}}function Jc(e,t,n){return void 0!==n.text}function Kc(){return this.model.isLink()}function Xc(e){var t={},n=e.stroke;"string"===typeof n&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return void 0===r&&(r=e["stroke-opacity"]),void 0===r&&(r=e.opacity),void 0!==r&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}function Yc(e){const{paper:t}=this;return`url(#${"pattern"===e.type?t.definePattern(e):t.defineGradient(e)})`}const Qc={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:Wc("href")},xlinkHref:{set:Wc("xlink:href")},filter:{qualify:Hs,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Hs,set:Yc},stroke:{qualify:Hs,set:Yc},sourceMarker:{qualify:Hs,set:function(e,t,n,r){return e=Os(Xc(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Hs,set:function(e,t,n,r){return e=Os(Xc(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Hs,set:function(e,t,n,r){return e=Os(Xc(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!Hs(n.textWrap)},set:function(e,t,n,r){const i=oa(n),o="joint-text",s=i.data(o),{lineHeight:a,annotations:l,textVerticalAnchor:c,eol:u,displayEmpty:d}=r;let f=r.textPath,p=r.x;Rc(p)&&(p=Dc(p,t));let h=r["font-size"]||r.fontSize;Rc(h)&&(h=Dc(h,t));const m=JSON.stringify([e,a,l,c,u,d,f,p,h]);if(void 0===s||s!==m){if(h&&n.setAttribute("font-size",h),js(f)){const e=f.selector;if("string"===typeof e){const[t]=this.findBySelector(e);t instanceof SVGPathElement&&(f=Os({"xlink:href":"#"+t.id},f))}}tc(n).text(""+e,{lineHeight:a,annotations:l,textPath:f,x:p,textVerticalAnchor:c,eol:u,displayEmpty:d}),i.data(o,m)}}},textWrap:{qualify:Hs,set:function(e,t,n,r){var i={},o=e.width||0;mc(o)?i.width=t.width*parseFloat(o)/100:Rc(o)?i.width=Number(Dc(o,t)):null===e.width?i.width=1/0:i.width=o<=0?t.width+o:o;var s,a=e.height||0;mc(a)?i.height=t.height*parseFloat(a)/100:Rc(a)?i.height=Number(Dc(a,t)):null===e.height||(i.height=a<=0?t.height+a:a);var l=e.text;if(void 0===l&&(l=r.text),void 0!==l){const n=e.breakText||bc,o=r["font-size"]||r.fontSize;s=n(""+l,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":Rc(o)?Dc(o,t):o,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else s="";Qc.text.set.call(this,s,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var r=oa(n),i="joint-title",o=r.data(i);if(void 0===o||o!==e){if(r.data(i,e),"title"===n.tagName)return void(n.textContent=e);var s=n.firstElementChild;if(s&&"title"===s.tagName)s.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,s)}}}},lineHeight:{qualify:Jc},textVerticalAnchor:{qualify:Jc},textPath:{qualify:Jc},annotations:{qualify:Jc},eol:{qualify:Jc},displayEmpty:{qualify:Jc},port:{set:function(e){return null===e||void 0===e.id?e:e.id}},style:{qualify:Hs,set:function(e,t,n){oa(n).css(e)}},html:{set:function(e,t,n){oa(n).html(e+"")}},props:Fc,ref:{},refX:{position:Vc("x","width","origin")},refY:{position:Vc("y","height","origin")},refDx:{position:Vc("x","width","corner")},refDy:{position:Vc("y","height","corner")},refWidth:{set:zc("width","width")},refHeight:{set:zc("height","height")},refRx:{set:zc("rx","width")},refRy:{set:zc("ry","height")},refRInscribed:{set:function(){var e=zc("r","width"),t=zc("r","height");return function(n,r){return(r.height>r.width?e:t)(n,r)}}()},refRCircumscribed:{set:function(e,t){var n=mc(e);e=parseFloat(e),n&&(e/=100);var r,i=Math.sqrt(t.height*t.height+t.width*t.width);return isFinite(e)&&(r=n||e>=0&&e<=1?e*i:Math.max(e+i,0)),{r:r}}},refCx:{set:zc("cx","width")},refCy:{set:zc("cy","height")},xAlignment:{offset:Bc("x","width","right")},yAlignment:{offset:Bc("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:qc({resetOffset:!0})},refDKeepOffset:{set:qc({resetOffset:!1})},refPointsResetOffset:{set:Hc({resetOffset:!0})},refPointsKeepOffset:{set:Hc({resetOffset:!1})},connection:{qualify:Kc,set:function(e){let t,{stubs:n=0}=e;if(isFinite(n)&&0!==n){let e;e=n<0?(this.getConnectionLength()+n)/2:n;const r=this.getConnection(),i=this.getConnectionSubdivisions(),o=r.divideAtLength(e,{segmentSubdivisions:i}),s=r.divideAtLength(-e,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Kc,set:Gc("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Kc,set:Gc("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Kc,set:Gc("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Kc,set:Gc("getTangentAtRatio",{rotate:!1})}};Qc["xlink:href"]=Qc.xlinkHref,["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach((e=>{Qc[e]={qualify:Rc,set:function(t,n){return{[e]:Dc(t,n)}}}})),["width","height","r","rx","ry","font-size","stroke-width"].forEach((e=>{Qc[e]={qualify:Rc,set:function(t,n){return{[e]:Math.max(0,Dc(t,n))}}}})),Qc.refR=Qc.refRInscribed,Qc.refD=Qc.refDResetOffset,Qc.refPoints=Qc.refPointsResetOffset,Qc.atConnectionLength=Qc.atConnectionLengthKeepGradient,Qc.atConnectionRatio=Qc.atConnectionRatioKeepGradient,Qc.fontSize=Qc["font-size"],Qc.strokeWidth=Qc["stroke-width"],Qc.refX2=Qc.refX,Qc.refY2=Qc.refY,Qc.refWidth2=Qc.refWidth,Qc.refHeight2=Qc.refHeight,Qc["ref-x"]=Qc.refX,Qc["ref-y"]=Qc.refY,Qc["ref-dy"]=Qc.refDy,Qc["ref-dx"]=Qc.refDx,Qc["ref-width"]=Qc.refWidth,Qc["ref-height"]=Qc.refHeight,Qc["x-alignment"]=Qc.xAlignment,Qc["y-alignment"]=Qc.yAlignment;const Zc=Qc,eu=Wr.Model.extend({constructor:function(e,t){var n,r=e||{};"function"===typeof this.preinitialize&&this.preinitialize.apply(this,arguments),this.cid=function(){return`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}`+ ++ra}("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=ea(this,"defaults"))&&(r=ia({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=ea(this.constructor.prototype,"defaults").attrs||{},t=this.attributes.attrs,n={};na(t,(function(t,r){const i=e[r];na(t,(function(e,t){js(e)&&!Array.isArray(e)?na(e,(function(e,o){i&&i[t]&&Us(i[t][o],e)||(n[r]=n[r]||{},(n[r][t]||(n[r][t]={}))[o]=e)})):i&&Us(i[t],e)||(n[r]=n[r]||{},n[r][t]=e)}))}));const r=Vs(ta(this.attributes,"attrs"));return r.attrs=n,r},initialize:function(e){const t=this.getIdAttribute();e&&void 0!==e[t]||this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},processPorts:function(){var e=this.ports,t={};na(this.get("attrs"),(function(e,n){e&&e.port&&(void 0!==e.port.id?t[e.port.id]=e.port:t[e.port]={id:e.port})}));var n={};(na(e,(function(e,r){t[r]||(n[r]=!0)})),this.graph&&!Bs(n))&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach((function(e){n[e.get("target").port]&&e.remove()})),this.graph.getConnectedLinks(this,{outbound:!0}).forEach((function(e){n[e.get("source").port]&&e.remove()})));this.ports=t},remove:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{graph:t,collection:n}=this;if(!t)return n&&n.remove(this,e),this;t.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){const t=i[o];t&&t.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){let n;(e=Is(e||{},{foregroundEmbeds:!0})).deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const r=e.foregroundEmbeds?n:Js(n,(e=>e.z()));let i=t.maxZIndex()-n.length+1;const o=t.get("cells");let s=o.indexOf(r[0])!==o.length-n.length;s||(s=r.some((function(e,t){return e.z()!==i+t}))),s&&(this.startBatch("to-front"),i+=n.length,r.forEach((function(t,n){t.set("z",i+n,e)})),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){let n;(e=Is(e||{},{foregroundEmbeds:!0})).deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:!1!==e.breadthFirst,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const r=e.foregroundEmbeds?n:Js(n,(e=>e.z()));let i=t.minZIndex();let o=0!==t.get("cells").indexOf(r[0]);o||(o=r.some((function(e,t){return e.z()!==i+t}))),o&&(this.startBatch("to-back"),i-=n.length,r.forEach((function(t,n){t.set("z",i+n,e)})),this.stopBatch("to-back"))}return this},parent:function(e,t){return void 0===e?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const n=Array.isArray(e)?e:[e];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some((e=>e.isEmbedded()&&this.id!==e.parent())))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,t),this},unembed:function(e,t){const n=Array.isArray(e)?e:[e];return this._unembedCells(n,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every((e=>this!==e&&!this.isEmbeddedIn(e)))},_embedCells:function(e,t){const n="embed";this.startBatch(n);const r=Os([],this.get("embeds"));e.forEach((e=>{r[e.isLink()?"unshift":"push"](e.id),e.parent(this.id,t)})),this.set("embeds",Fs(r),t),this.stopBatch(n)},_unembedCells:function(e,t){const n="unembed";this.startBatch(n),e.forEach((e=>e.unset("parent",t))),this.set("embeds",Xs(this.get("embeds"),...e.map((e=>e.id))),t),this.stopBatch(n)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Bs(t))return[];let n=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(n=Js(n,(e=>e.z()))),n},_getEmbeddedCellsBfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.shift();t.push(r);const i=r.getEmbeddedCells({sortSiblings:e});n.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],n=[];for(n.push(this);n.length>0;){const r=n.pop();t.push(r);const i=r.getEmbeddedCells({sortSiblings:e});for(let e=i.length-1;e>=0;--e)n.push(i[e])}return t.shift(),t},isEmbeddedIn:function(e,t){var n=Cs(e)?e:e.id,r=this.parent();if(t=Os({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if((e=e||{}).deep)return Gs(Tc([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Wr.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,n){var r=Cs(e);if(r||Array.isArray(e)){if(arguments.length>1){var i,o;r?o=(i=e).split("/"):(i=e.join("/"),o=e.slice());var s=o[0],a=o.length;const g=n||{};g.propertyPath=i,g.propertyValue=t,g.propertyPathArray=o,"rewrite"in g||(g.rewrite=!1);for(var l={},c=l,u=s,d=1;d<a;d++){var f=o[d],p=Number.isFinite(r?Number(f):f);c=c[u]=p?[]:{},u=f}l=cc(l,o,t,"/");var h=ia({},this.attributes);g.rewrite&&uc(h,i,"/");var m=ia(h,l);return this.set(s,m[s],g)}return ac(this.attributes,e,"/")}const g=t||{};g.propertyPath=null,g.propertyValue=e,g.propertyPathArray=[],"rewrite"in g||(g.rewrite=!1);const v={};for(const y in e){const{changedValue:t}=ia({},{changedValue:this.attributes[y]},{changedValue:e[y]});v[y]=t}return this.set(v,g)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if("attrs"===r&&(t.dirty=!0),1===n.length)return this.unset(e,t);var i=n.slice(1),o=this.get(r);return void 0===o||null===o?this:(o=Vs(o),uc(o,i,"/"),this.set(r,o,t))},attr:function(e,t,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(Array.isArray(e)?r[0]=["attrs"].concat(e):Cs(e)?r[0]="attrs/"+e:r[0]={attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/",n=Os({duration:100,delay:10,timingFunction:xc.linear,valueFunction:kc.number},n);var i,o=0,s=function(t){var r,a,l;(a=(t-=o=o||t)/n.duration)<1?this._transitionIds[e]=r=pc(s):(a=1,delete this._transitionIds[e]),l=i(n.timingFunction(a)),n.transitionId=r,this.prop(e,l,n),r||this.trigger("transition:end",this,e)}.bind(this);const{_scheduledTransitionIds:a}=this;let l;return l=setTimeout((o=>{a[e]&&(a[e]=Xs(a[e],l),0===a[e].length&&delete a[e]),this.stopPendingTransitions(e,r),i=n.valueFunction(ac(this.attributes,e,r),t),this._transitionIds[e]=pc(o),this.trigger("transition:start",this,e)}),n.delay,s),a[e]||(a[e]=[]),a[e].push(l),l},getTransitions:function(){return Qs(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(e){const n=e.split(t);r=r.filter((e=>Us(n,e.split(t).slice(0,n.length))))}return r.forEach((e=>{n[e].forEach((e=>clearTimeout(e))),delete n[e]})),this},stopPendingTransitions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";const{_transitionIds:n={}}=this;let r=Object.keys(n);if(e){const n=e.split(t);r=r.filter((e=>Us(n,e.split(t).slice(0,n.length))))}r.forEach((e=>{const t=n[e];hc(t),delete n[e],this.trigger("transition:end",this,e)}))},stopTransitions:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Os({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Os({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)e.hasOwnProperty(n)&&this.hasChanged(n)&&(t|=e[n]);return t},angle:function(){return 0},position:function(){return new Ca(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new Ca},getBBox:function(){return new Xa(0,0,0,0)},getPointRotatedAroundCenter(e,t,n){const r=new Ca(t,n);return e&&r.rotate(this.getBBox().center(),e),r},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,n=Zc;return t&&t[e]||n[e]},define:function(e,t,n,r){n=Os({defaults:Rs({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return"undefined"!==typeof joint&&Zs(joint,"shapes")&&cc(joint.shapes,e,i,"."),i}}),tu=eu.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){return void 0===e?zs(this.get("source")):e instanceof eu?((r=zs(t)||{}).id=e.id,i=n,this.set("source",r,i)):Hs(e)?(r=e,i=t,this.set("source",r,i)):((r=zs(t)||{}).x=e.x,r.y=e.y,i=n,this.set("source",r,i));var r,i},target:function(e,t,n){return void 0===e?zs(this.get("target")):e instanceof eu?((r=zs(t)||{}).id=e.id,i=n,this.set("target",r,i)):Hs(e)?(r=e,i=t,this.set("target",r,i)):((r=zs(t)||{}).x=e.x,r.y=e.y,i=n,this.set("target",r,i));var r,i},router:function(e,t,n){if(void 0===e){var r=this.get("router");return r?"object"===typeof r?zs(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i="object"===typeof e||"function"===typeof e,o=i?e:{name:e,args:t},s=i?t:n;return this.set("router",o,s)},connector:function(e,t,n){if(void 0===e){var r=this.get("connector");return r?"object"===typeof r?zs(r):r:this.get("smooth")?{name:"smooth"}:null}var i="object"===typeof e||"function"===typeof e,o=i?e:{name:e,args:t},s=i?t:n;return this.set("connector",o,s)},label:function(e,t,n){var r=this.labels();return(e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return 0===arguments.length?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if((e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(0===arguments.length)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var i=e[r],o=this._normalizeVertex(i);n.push(o)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1);var o=this._normalizeVertex(t);return r.splice(e,0,o),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){return!Hs(e)?{x:e.x,y:e.y}:e},translate:function(e,t,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints((function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}}),n)},scale:function(e,t,n,r){return this.applyToPoints((function(r){return Ca(r).scale(e,t,n).toJSON()}),r)},applyToPoints:function(e,t){if(!qs(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=e(r)),i.id||(n.target=e(i));var o=this.vertices();return o.length>0&&(n.vertices=o.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new Ca(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new Ca(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(Ca),this.getTargetPoint()];return new tl(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(t=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),!i||t&&t.id===i.id||i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:n}=this.attributes,r=t.id,i=n.id;if(!r||!i)return!1;var o=r===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var n=t.source;return n&&n.id&&e&&e.getCell(n.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var n=t.target;return n&&n.id&&e&&e.getCell(n.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter((function(e){return!!e}));e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=Cs(e)||As(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var n=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&n}});function nu(e,t,n){var r=e.toJSON();return r.angle=t||0,Is({},n,r)}function ru(e,t,n,r){return e.map((function(e,t,n){var i=this.pointAt((t+.5)/n.length);return(e.dx||e.dy)&&i.offset(e.dx||0,e.dy||0),nu(i.round(),0,ou(r,e))}),Da(t,n))}function iu(e,t,n,r){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=Va.fromRect(t);return e.map((function(e,l,c){var u=n+r(l,c.length),d=s.clone().rotate(i,-u).scale(o,1,i),f=e.compensateRotation?-a.tangentTheta(d):0;return(e.dx||e.dy)&&d.offset(e.dx||0,e.dy||0),e.dr&&d.move(i,e.dr),nu(d.round(),f,ou(t,e))}))}function ou(e,t){let{x:n,y:r,angle:i}=t;return mc(n)?n=parseFloat(n)/100*e.width:Rc(n)&&(n=Number(Dc(n,e))),mc(r)?r=parseFloat(r)/100*e.height:Rc(r)&&(r=Number(Dc(r,e))),{x:n,y:r,angle:i}}function su(e,t){const{x:n,y:r}=ou(e,t);return new Ca(n||0,r||0)}const au=function(e,t){return e.map((e=>{const n=su(t,e).round().toJSON();return n.angle=e.angle||0,n}))},lu=function(e,t,n){return n.fn(e,t,n)},cu=function(e,t,n){return ru(e,su(t,n.start||t.origin()),su(t,n.end||t.corner()),t)},uu=function(e,t,n){return ru(e,t.origin(),t.bottomLeft(),t)},du=function(e,t,n){return ru(e,t.topRight(),t.corner(),t)},fu=function(e,t,n){return ru(e,t.origin(),t.topRight(),t)},pu=function(e,t,n){return ru(e,t.bottomLeft(),t.corner(),t)},hu=function(e,t,n){var r=n.startAngle||0,i=n.step||360/e.length;return iu(e,t,r,(function(e){return e*i}))},mu=function(e,t,n){var r=n.startAngle||0,i=n.step||20;return iu(e,t,r,(function(e,t){return(e+.5-t/2)*i}))};function gu(e,t){return Rs({},e,t,{x:0,y:0,angle:0,attrs:{}})}function vu(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner());return[n,t.theta(e.topRight()),i,r]}function yu(e,t,n,r){r=Is({},r,{offset:15});var i,o,s,a,l=t.center().theta(e),c=r.offset,u=0;const[d,f,p,h]=vu(t);l<f||l>p?(s=".3em",i=c,o=0,a="start"):l<d?(i=0,o=-c,n?(u=-90,a="start",s=".3em"):(a="middle",s="0")):l<h?(s=".3em",i=-c,o=0,a="end"):(i=0,o=c,n?(u=90,a="start",s=".3em"):(a="middle",s=".6em"));var m=Math.round;return gu(r,{x:m(i),y:m(o),angle:u,attrs:{labelText:{y:s,textAnchor:a}}})}function bu(e,t,n,r){r=Is({},r,{offset:15});var i,o,s,a,l=t.center().theta(e),c=r.offset,u=0;const[d,f,p,h]=vu(t);l<f||l>p?(s=".3em",i=-c,o=0,a="end"):l<d?(i=0,o=c,n?(u=90,a="start",s=".3em"):(a="middle",s=".6em")):l<h?(s=".3em",i=c,o=0,a="start"):(i=0,o=-c,n?(u=-90,a="start",s=".3em"):(a="middle",s="0"));var m=Math.round;return gu(r,{x:m(i),y:m(o),angle:u,attrs:{labelText:{y:s,textAnchor:a}}})}function wu(e,t,n){n=Is({},n,{offset:20});var r,i=Oa(0,0),o=-e.theta(i),s=o,a=e.clone().move(i,n.offset).difference(e).round(),l=".3em";(o+90)%180===0?(r=t?"end":"middle",t||-270!==o||(l="0em")):o>-270&&o<-90?(r="start",s=o-180):r="end";var c=Math.round;return gu(n,{x:c(a.x),y:c(a.y),angle:t?s:0,attrs:{labelText:{y:l,textAnchor:r}}})}const xu=function(e,t,n){return gu(n)},ku=function(e,t,n){return gu(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Su=function(e,t,n){return gu(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},_u=function(e,t,n){return gu(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},Eu=function(e,t,n){return gu(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},Pu=function(e,t,n){return yu(e,t,!0,n)},Tu=function(e,t,n){return yu(e,t,!1,n)},$u=function(e,t,n){return bu(e,t,!0,n)},Nu=function(e,t,n){return bu(e,t,!1,n)},ju=function(e,t,n){return wu(e.difference(t.center()),!1,n)},Au=function(e,t,n){return wu(e.difference(t.center()),!0,n)};var Cu=function(e){var t=Vs(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=r,this.portLabelLayoutNamespace=i,this._init(t)};Cu.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter((function(t){return t.group===e}))},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},l=r.map((function(e){return e&&e.position&&e.position.args})),c=s[o](l,t,a),u={ports:r,result:[]};return Gs(c).reduce(function(e,n,r){var i=e.ports[r];return e.result.push({portId:i.id,portTransformation:n,labelTransformation:this._getPortLabelLayout(i,Ca(n),t),portAttrs:i.attrs,portSize:i.size,labelSize:i.label.size}),e}.bind(this),u),u.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(js(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=Gs(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return ia(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Os({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=ia({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=ia({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=Os({},n.size,t.size),t},_getZIndex:function(e,t){return As(t.z)?t.z:As(e.z)||"auto"===e.z?e.z:"auto"},_createPositionNode:function(e,t){return ia({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n,r={};qs(e)?(n="fn",r.fn=e):Cs(e)?n=e:void 0===e?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):js(e)&&(n=e.name,Os(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};const Ou={_initializePorts:function(){this._createPortData(),this.on("change:ports",(function(){this._processRemovedPort(),this._createPortData()}),this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Gs(e.items).forEach((function(e){t[e.id]=!0}));var n=this.previous("ports")||{},r={};Gs(n.items).forEach((function(e){t[e.id]||(r[e.id]=!0)}));var i=this.graph;i&&!Bs(r)&&(i.getConnectedLinks(this,{inbound:!0}).forEach((function(e){r[e.get("target").port]&&e.remove()})),i.getConnectedLinks(this,{outbound:!0}).forEach((function(e){r[e.get("source").port]&&e.remove()})))},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return-1!==this.getPortIndex(e)},getPorts:function(){return Vs(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=Gs(this.prop(["ports","items"])).filter((t=>t.group===e));return Vs(t)},getPort:function(e){return Vs(Gs(this.prop("ports/items")).find((function(t){return t.id&&t.id===e})))},getPortsPositions:function(e){return this._portSettingsData.getGroupPortsMetrics(e,Xa(this.size())).reduce((function(e,t){var n=t.portTransformation;return e[t.portId]={x:n.x,y:n.y,angle:n.angle},e}),{})},getPortIndex:function(e){var t=js(e)?e.id:e;return this._isValidPortId(t)?Gs(this.prop("ports/items")).findIndex((function(e){return e.id===t})):-1},addPort:function(e,t){if(!js(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=Os([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},insertPort:function(e,t,n){const r="number"===typeof e?e:this.getPortIndex(e);if(!js(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=Os([],this.prop("ports/items"));return i.splice(r,0,t),this.prop("ports/items",i,n),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(-1===i)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):Cs(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],Hs(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[],n=Gs((e=e||{}).items);return n.forEach((function(e){"object"!==typeof e&&t.push("Element: invalid port ",e),this._isValidPortId(e.id)||(e.id=this.generatePortId())}),this),Fs(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return null!==e&&void 0!==e&&!js(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Os([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const n=t||{},r=this.getPortIndex(e);if(-1!==r){const e=Os([],this.prop(["ports","items"]));e.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],e,n),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let n,r;if(Array.isArray(e)){if(n=t||{},0===e.length)return this.this;r=Os([],this.prop(["ports","items"])).filter((function(t){return!e.some((function(e){const n=js(e)?e.id:e;return t.id===n}))}))}else n=e||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var e,t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new Cu(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter((function(t){if(!e.find((function(e){return e.id===t.id})))return t})),i=e.filter((function(e){if(!n.find((function(t){return t.id===e.id})))return e}));i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},Iu={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=Ws(this.model._portSettingsData.getPorts(),"z"),o="auto";Gs(i[o]).forEach((function(n){var r=this._getPortElement(n);t.append(r),e.push(r)}),this);for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a];if(l!==o){var c=parseInt(l,10);this._appendPorts(i[l],c,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=Gs(e).map(this._getPortElement,this);n[t]||t<0?tc(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const n=this._portElementsCache[e];if(!n)return null;if(!t)return n.portContentElement.node;const r=n.portElement.node,i=n.portSelectors,[o=null]=this.findBySelector(t,r,i);return o},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){Ls(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,n,r,i;var o=tc(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),l=a.fragment;t=l.childNodes.length>1?tc("g").append(l):tc(l.firstChild),i=a.selectors}else t=tc(s),Array.isArray(t)&&(t=tc("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const c=this._getPortLabelMarkup(e.label);if(Array.isArray(c)){const{fragment:e,selectors:t}=this.parseDOMJSON(c,o.node),i=e.childNodes.length;i>0&&(r=t,n=1===i?tc(e.firstChild):tc("g").append(e))}else n=tc(c),Array.isArray(n)&&(n=tc("g").append(n));var u;if(i&&r){for(var d in r)if(i[d]&&d!==this.selector)throw new Error("ElementView: selectors within port must be unique.");u=Os({},i,r)}else u=i||r||{};const f="portRoot",p="labelRoot",h="labelText";if(f in u||(u[f]=t.node),n){const e=n.node;if(p in u||(u[p]=e),!(h in u)){const t="TEXT"===n.tagName()?e:Array.from(e.querySelectorAll("text"));u[h]=t,r||(r={}),r[h]=t}}return o.append(t.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:n,portSelectors:u,portLabelSelectors:r,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Xa(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var o=n[r],s=o.portId,a=this._portElementsCache[s]||{},l=o.portTransformation,c=o.labelTransformation;c&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,c.attrs,{rootBBox:new Xa(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,c,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new Xa(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(e,t,n){var r=tc.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},Ru=eu.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),eu.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){const r=As(t);n=(r?n:e)||{};const{parentRelative:i,deep:o,restrictedArea:s}=n;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const e=this.getParentCell();e&&!e.isLink()&&(a=e.get("position"))}if(r){if(a&&(e+=a.x,t+=a.y),o||s){const{x:r,y:i}=this.get("position");this.translate(e-r,t-i,n)}else this.set("position",{x:e,y:t},n);return this}{const e=Ca(this.get("position"));return i?e.difference(a):e}},translate:function(e,t,n){if(t=t||0,0===(e=e||0)&&0===t)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if("function"===typeof i){var o=i.call(this,r.x+e,r.y+t,n);e=o.x-r.x,t=o.y-r.y}else{var s=this.getBBox({deep:!0}),a=r.x-s.x,l=r.y-s.y,c=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,r.x+e)),u=Math.max(i.y+l,Math.min(i.y+i.height+l-s.height,r.y+t));e=c-r.x,t=u-r.y}var d={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(js(n.transition)||(n.transition={}),this.transition("position",d,Os({},n.transition,{valueFunction:kc.object})),Ls(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",d,n),Ls(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return void 0===e?{width:r.width,height:r.height}:(js(e)&&(n=t,t=As(e.height)?e.height:r.height,e=As(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width}var i,o=ua(this.get("angle")||0),s=this.getBBox();if(o){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(a+=Math.floor((o+45)/90),a%=4);var l=s[["bottomLeft","corner","topRight","origin"][a]](),c=Ca(l).rotate(s.center(),-o),u=Math.sqrt(e*e+t*t)/2,d=a*Math.PI/2;d+=Math.atan(a%2==0?t/e:e/t),d-=pa(o);var f=Ca.fromPolar(u,d,c);i=Ca(f).offset(e/-2,t/-2)}else switch(i=s.topLeft(),n.direction){case"top":case"top-right":i.offset(0,s.height-t);break;case"left":case"bottom-left":i.offset(s.width-e,0);break;case"top-left":i.offset(s.width-e,s.height-t)}this.set("size",{width:e,height:t},n),this.position(i.x,i.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter((e=>e.isElement()));return 0===n.length||(this.startBatch("fit-embeds",e),e.deep&&Ls(n,"fitToChildren",e),this._fitToElements(Object.assign({elements:n},e)),this.stopBatch("fit-embeds")),this},fitParent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter((e=>e.isElement()));return 0===r.length||(this.startBatch("fit-parent",e),n._fitToElements(Object.assign({elements:r},e)),e.deep&&n.fitParent(e),this.stopBatch("fit-parent")),this},_fitToElements:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:n,shrinkOnly:r}=e;if(n&&r)return;let{x:i,y:o,width:s,height:a}=t;const{left:l,right:c,top:u,bottom:d}=wc(e.padding);i-=l,o-=u,s+=l+c,a+=d+u;let f=new Xa(i,o,s,a);if(n)f=this.getBBox().union(f);else if(r){const e=this.getBBox().intersect(f);if(!e)return;f=e}this.set({position:{x:f.x,y:f.y},size:{width:f.width,height:f.height}},e)},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-o.width/2-s.x,l=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+l,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return ua(this.get("angle")||0)},getBBox:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{graph:t,attributes:n}=this,{deep:r,rotate:i}=e;if(r&&t){const n=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return n.push(this),t.getCellsBBox(n,e)}const{angle:o=0,position:{x:s,y:a},size:{width:l,height:c}}=n,u=new Xa(s,a,l,c);return i&&u.rotateAroundCenter(o),u},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new Ca(a[o]).offset(n.origin()),c=this.angle();return c&&l.rotate(r,-c),l}});Os(Ru.prototype,Ou);const Lu={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof eu?r=t:r instanceof eu&&(t.length>1&&t.pop(),r=t)),i instanceof eu&&(i={}),e.call(this,r,i)}}},Du=Wr.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace="undefined"!==typeof joint&&Zs(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,r=n.cellNamespace,i=new("link"===e.type?tu:ac(r,e.type,".")||Ru)(e,t);return t.dry||(i.graph=n.graph),i},comparator:function(e){return e.get("z")||0}}),Mu=Wr.Model.extend({initialize:function(e,t){var n=new Du([],{model:(t=t||{}).cellModel,cellNamespace:t.cellNamespace,graph:this});Wr.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:n}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:n}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],n.id&&this._in[n.id]&&this._in[n.id][e.id]&&delete this._in[n.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Wr.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,n){var r;return"object"===typeof e?(r=e,n=t):(r={})[e]=t,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=ta(r,"cells")),Wr.Model.prototype.set.call(this,r,n)},clear:function(e){e=Os({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.startBatch("clear",e);var n=t.sortBy((function(e){return e.isLink()?1:2}));do{n.shift().remove(e)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var n;if(e instanceof Wr.Model?(n=e.attributes,e.graph||t&&t.dry||(e.graph=this)):n=e,!Cs(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Wr.Model?e.has("z")||e.set("z",this.maxZIndex()+1):void 0===e.z&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return 0===e.length||(e=Ks(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach((function(e){this.addCell(e,t),t.position--}),this),this.stopBatch("add",t)),this},resetCells:function(e,t){var n=Gs(e).map((function(e){return this._prepareCell(e,t)}),this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Ls(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter((e=>e.isElement()))},getLinks:function(){return this.get("cells").filter((e=>e.isLink()))},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){var n=(t=t||{}).indirect,r=t.inbound,i=t.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=[],s={};function a(e,t){if(na(e.getOutboundEdges(t.id),function(t,c){if(!s[c]){var u=e.getCell(c);o.push(u),s[c]=!0,n&&(r&&l(e,u),i&&a(e,u))}}.bind(e)),n&&t.isLink()){var c=t.getTargetCell();c&&c.isLink()&&(s[c.id]||(o.push(c),a(e,c)))}}function l(e,t){if(na(e.getInboundEdges(t.id),function(t,c){if(!s[c]){var u=e.getCell(c);o.push(u),s[c]=!0,n&&(r&&l(e,u),i&&a(e,u))}}.bind(e)),n&&t.isLink()){var c=t.getSourceCell();c&&c.isLink()&&(s[c.id]||(o.push(c),l(e,c)))}}if(i&&a(this,e),r&&l(this,e),t.deep){var c=e.getEmbeddedCells({deep:!0}),u={};c.forEach((function(e){e.isElement()&&(u[e.id]=!0)})),c.forEach((function(e){e.isLink()||(i&&na(this.getOutboundEdges(e.id),function(e,n){if(!s[n]){var r=this.getCell(n),{source:i,target:a}=r.attributes,l=i.id,c=a.id;if(!t.includeEnclosed&&l&&u[l]&&c&&u[c])return;o.push(this.getCell(n)),s[n]=!0}}.bind(this)),r&&na(this.getInboundEdges(e.id),function(e,n){if(!s[n]){var r=this.getCell(n),{source:i,target:a}=r.attributes,l=i.id,c=a.id;if(!t.includeEnclosed&&l&&u[l]&&c&&u[c])return;o.push(this.getCell(n)),s[n]=!0}}.bind(this)))}),this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;void 0===n&&void 0===r&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce(function(i,o){var{source:s,target:a}=o.attributes,l=o.hasLoop(t);if(n&&Zs(s,"id")&&!i[s.id]){var c=this.getCell(s.id);c.isElement()&&(!l&&(!c||c===e||t.deep&&c.isEmbeddedIn(e))||(i[s.id]=c))}if(r&&Zs(a,"id")&&!i[a.id]){var u=this.getCell(a.id);u.isElement()&&(!l&&(!u||u===e||t.deep&&u.isEmbeddedIn(e))||(i[a.id]=u))}return i}.bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return Gs(i)},getCommonAncestor:function(){var e=Array.from(arguments).map((function(e){for(var t=[],n=e.get("parent");n;)t.push(n),n=this.getCell(n).get("parent");return t}),this);e=e.sort((function(e,t){return e.length-t.length}));var t=Gs(e.shift()).find((function(t){return e.every((function(e){return e.includes(t)}))}));return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var n=[];return this.search(e,(function(t){t!==e&&n.push(t)}),Os({},t,{outbound:!0})),n},cloneCells:Tc,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],o=[];return Gs(e).forEach((function(e){(r[e.id]||(n.push(e),r[e.id]=e,e.isLink()?o.push(e):i.push(e)),t.deep)&&e.getEmbeddedCells({deep:!0}).forEach((function(e){r[e.id]||(n.push(e),r[e.id]=e,e.isLink()?o.push(e):i.push(e))}))})),o.forEach((function(e){var{source:t,target:o}=e.attributes;if(t.id&&!r[t.id]){var s=this.getCell(t.id);n.push(s),r[s.id]=s,i.push(s)}if(o.id&&!r[o.id]){var a=this.getCell(o.id);n.push(this.getCell(o.id)),r[a.id]=a,i.push(a)}}),this),i.forEach((function(e){this.getConnectedLinks(e,t).forEach((function(e){var{source:t,target:i}=e.attributes;!r[e.id]&&t.id&&r[t.id]&&i.id&&r[i.id]&&(n.push(e),r[e.id]=e)}))}),this),n},getPredecessors:function(e,t){t=t||{};var n=[];return this.search(e,(function(t){t!==e&&n.push(t)}),Os({},t,{inbound:!0})),n},search:function(e,t,n){(n=n||{}).breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(r[s.id])continue;if(r[s.id]=!0,!1===t.call(this,s,i[s.id]))continue;const e=this.getNeighbors(s,n);for(let t=0,n=e.length;t<n;t++){const n=e[t];i[n.id]=i[s.id]+1,o.push(n)}}},dfs:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const e=o.pop();if(r[e.id])continue;if(r[e.id]=!0,!1===t.call(this,e,i[e.id]))continue;const s=this.getNeighbors(e,n),a=o.length;for(let t=0,n=s.length;t<n;t++){const n=s[t];i[n.id]=i[e.id]+1,o.splice(a,0,n)}}},getSources:function(){var e=[];return na(this._nodes,function(t,n){this._in[n]&&!Bs(this._in[n])||e.push(this.getCell(n))}.bind(this)),e},getSinks:function(){var e=[];return na(this._nodes,function(t,n){this._out[n]&&!Bs(this._out[n])||e.push(this.getCell(n))}.bind(this)),e},isSource:function(e){return!this._in[e.id]||Bs(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Bs(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,(function(r){if(r===t&&r!==e)return n=!0,!1}),{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,(function(r){if(r===t&&r!==e)return n=!0,!1}),{inbound:!0}),n},isNeighbor:function(e,t,n){var r=(n=n||{}).inbound,i=n.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=!1;return this.getConnectedLinks(e,n).forEach((function(e){var{source:n,target:s}=e.attributes;return r&&Zs(n,"id")&&n.id===t.id||i&&Zs(s,"id")&&s.id===t.id?(o=!0,!1):void 0})),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach((function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)}))},removeLinks:function(e,t){Ls(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter((t=>t.getBBox({rotate:!0}).containsPoint(e)))},findModelsInArea:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Xa(e),{strict:r=!1}=t,i=r?"containsRect":"intersect";return this.getElements().filter((e=>n[i](e.getBBox({rotate:!0}))))},findModelsUnderElement:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{searchBy:n="bbox"}=t,r=e.getBBox().rotateAroundCenter(e.angle());return("bbox"===n?this.findModelsInArea(r):this.findModelsFromPoint(Pc(r,n))).filter((t=>e.id!==t.id&&!t.isEmbeddedIn(e)))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{rotate:n=!0}=t;return Gs(e).reduce((function(e,t){const r=t.getBBox({rotate:n});return r?e?e.union(r):r:e}),null)},translate:function(e,t,n){var r=this.getCells().filter((function(e){return!e.isEmbedded()}));return Ls(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);Ls(n,"scale",o,s,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Os({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Os({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let n;return n=0===arguments.length?Object.keys(t):Array.isArray(e)?e:[e],n.some((e=>t[e]>0))}},{validations:{multiLinks:function(e,t){var{source:n,target:r}=t.attributes;if(n.id&&r.id){var i=t.getSourceCell();if(i)if(e.getConnectedLinks(i,{outbound:!0}).filter((function(e){var{source:t,target:i}=e.attributes;return t&&t.id===n.id&&(!t.port||t.port===n.port)&&i&&i.id===r.id&&(!i.port||i.port===r.port)})).length>1)return!1}return!0},linkPinning:function(e,t){var{source:n,target:r}=t.attributes;return n.id&&r.id}}});!function(e,t,n){if(Cs(n)){if(!Lu[n])throw new Error('Unknown wrapper: "'+n+'"');n=Lu[n]}if(!qs(n))throw new Error("Wrapper must be a function.");Gs(t).forEach((function(t){e[t]=n(e[t])}))}(Mu.prototype,["resetCells","addCells","removeCells"],Lu.cells);const Fu={},zu=Wr.View.extend({options:{},theme:null,themeClassNamePrefix:rc("theme-"),requireSetThemeOverride:!1,defaultTheme:nc.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Os({},this.options,e),Wr.View.call(this,e)},initialize:function(){Fu[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return null!==this.el.parentNode},renderChildren:function(e){if(e||(e=ea(this,"children")),e){var t=this.svgElement,n=tc.namespace[t?"svg":"xhtml"],r=oc(e,n);(t?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&1===n.nodeType;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(ea(this,"el"));else{var e=ea(this,"tagName"),t=Os({},ea(this,"attributes")),n=Os({},ea(this,"style"));this.id&&(t.id=ea(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(tc.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Wr.$?e:Wr.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=tc(this.el))},_ensureElClassName:function(){var e=ea(this,"className");if(e){var t=rc(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override||(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e),this},addThemeClassName:function(e){if(!(e=e||this.theme))return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Fu[this.cid]=null,Wr.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var r=this.getEventNamespace();for(var i in t){var o=t[i];"function"!==typeof o&&(o=this[o]),o&&oa(e).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(e){return oa(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=ea(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return void 0===t?n&&n[r]||{}:(n||(n=e.data={}),n[r]||(n[r]={}),Os(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Os({},e[0])||{},n=e[1]&&Os({},e[1])||{},r=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return"function"===typeof r&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},t.render.__render__=r,Wr.View.extend.call(this,t,n)}}),Vu="dbltap";if(oa.event&&!(Vu in oa.event.special)){const e=nc.doubleTapInterval,t=30;oa.event.special[Vu]={bindType:"touchend",delegateType:"touchend",handle:function(n){const{handleObj:r,target:i}=n,o=oa.data(i),s=(new Date).getTime(),a="lastTouch"in o?s-o.lastTouch:0;if(a<e&&a>t){o.lastTouch=null,n.type=r.origType;for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];r.handler.call(this,n,...c)}else o.lastTouch=s}}}function Bu(e){return e?Array.isArray(e)?e:[e]:[]}const Uu=zu.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:n}=e;this.cellView=e,this.nodeSelector=t,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof n)[t]=e.findBySelector(n);else if(Hs(n)){const r=e.model.isLink(),{label:i=null,port:o,selector:s}=n;r&&null!==i?t=e.findLabelNode(i,s):!r&&o?t=e.findPortNode(o,s):[t]=e.findBySelector(s)}else n&&(t=tc.toNode(n),t instanceof SVGElement||(t=null));return t||null},getNodeMatrix(e,t){const{options:n}=this,{layer:r}=n,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?r?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:n,options:r,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s)return this.update(t,a),void this.transform();const{vel:l,paper:c}=t,{layer:u}=r;if(u){let e;o?(e=o,this.detachedTransformGroup=null):e=tc("g").addClass("highlight-transform").append(n),this.transformGroup=e,c.getLayerView(u).insertSortedNode(e.node,r.z)}else n.parentNode&&!n.nextSibling||l.append(n)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:n}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):n.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:n}=this;if(!e||t.model.isLink()||n)return;const r=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=r.multiply(i);e.attr("transform",tc.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,n);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:n,constructor:r}=this;e&&this.unhighlight(t,e),this.unmount(),r._removeRef(t,n)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=ea(this,"UPDATE_ATTRIBUTES");Array.isArray(t)&&0!==t.length&&this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:n}=e;ea(this,"UPDATE_ATTRIBUTES").some((e=>t.hasChanged(e)))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,n){const r=this.uniqueId(t,n);this.add(e,t,r,n)},unhighlight:function(e,t,n){const r=this.uniqueId(t,n);this.remove(e,r)},get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{cid:n}=e,{_views:r}=this,i=r[n];if(null===t){const e=[];if(!i)return e;for(let t in i){const n=i[t];n instanceof this&&e.push(n)}return e}if(!i)return null;if(t in i){const e=i[t];if(e instanceof this)return e}return null},add(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=Uu.get(e,n);i&&i.remove();const o=new this(r);return o.id=n,this._addRef(e,n,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,n){const{cid:r}=e,{_views:i}=this;let o=i[r];o||(o=i[r]={}),o[t]=n},_removeRef(e,t){const{cid:n}=e,{_views:r}=this,i=r[n];if(i){t&&delete i[t];for(let e in i)return;delete r[n]}},remove(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bu(this.get(e,t)).forEach((e=>{e.remove()}))},removeAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{_views:n}=this;for(let r in n)for(let i in n[r]){const o=n[r][i];o.cellView.paper===e&&o instanceof this&&(null===t||i===t)&&o.remove()}},update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Bu(this.get(e,t)).forEach((e=>{(n||e.UPDATABLE)&&e.update()}))},transform(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bu(this.get(e,t)).forEach((e=>{e.UPDATABLE&&e.transform()}))},unmount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bu(this.get(e,t)).forEach((e=>e.unmount()))},mount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Bu(this.get(e,t)).forEach((e=>e.mount()))},uniqueId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return tc.ensureId(e)+JSON.stringify(t)}}),qu={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Hu=zu.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach((function(t,n,r){e.push("type-"+r.slice(0,n+1).join("-"))})),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e,t,n,r={},i={},o=0,s=ea(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),e=0,t=l.length;e<t;e++){var c=r[n=l[e]];c||(c=r[n]=1<<o++),i[a]|=c}}var u=ea(this,"initFlag");for(Array.isArray(u)||(u=[u]),e=0,t=u.length;e<t;e++)r[n=u[e]]||(r[n]=1<<o++);if(o>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=r,this._presentationAttributes=i},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||dc(this),zu.call(this,e)},initialize:function(){this.setFlags(),zu.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);!t.updateHandled&&n&&(t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(n,t))},requestUpdate:function(e,t){const{paper:n}=this;n&&e>0&&n.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var n=oc(e),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(t){var s=this.selector;if(r[s])throw new Error("dia.CellView: ambiguous root selector.");r[s]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=qs(this.options.interactive)?this.options.interactive(this):this.options.interactive;return js(t)&&!1!==t[e]||function(e){var t=Object.prototype.toString;return!0===e||!1===e||!!e&&"object"===typeof e&&t.call(e)===Xr}(t)&&!1!==t},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||"."===e)return[t];if(n){var r=n[e];if(r)return Array.isArray(r)?r:[r]}return nc.useCSSSelectors?oa(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),r=this.getNodeMatrix(e);return tc.transformRect(t,n.multiply(r))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():tc.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return tc.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model.position();return tc.createSVGMatrix().translate(e.x,e.y)},getRootRotateMatrix:function(){var e=tc.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e},_notifyHighlight:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{el:r}=this;let i;if([i=r]="string"===typeof t?this.findBySelector(t):this.$(t),n.partial=i!==r,void 0===n.type){let e;switch(!0){case n.embedding:e=qu.EMBEDDING;break;case n.connecting:e=qu.CONNECTING;break;case n.magnetAvailability:e=qu.MAGNET_AVAILABILITY;break;case n.elementAvailability:e=qu.ELEMENT_AVAILABILITY;break;default:e=qu.DEFAULT}n.type=e}return this.notify(e,i,n),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let n=this.$(e)[0];n||(n=t);do{const e=n.getAttribute("magnet"),r=n===t;if((e||r)&&"false"!==e)return n;if(r)return;n=n.parentNode}while(n)},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const[e]=this.findBySelector(n);if(e)return e}return e},getSelector:function(e,t){var n;if(e===this.el)return"string"===typeof t&&(n="> "+t),n;if(e){var r=tc(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(e){var t=this.model,n=t.id,r=this.findAttribute("port",e),i=e.getAttribute("joint-selector"),o={id:n};null!=i&&(o.magnet=i),null!=r?(o.port=r,t.hasPort(r)||i||(o.selector=this.getSelector(e))):null==i&&this.el!==e&&(o.selector=this.getSelector(e));for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return this.customizeLinkEnd(o,e,...a)},customizeLinkEnd:function(e,t,n,r,i,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if("function"===typeof a){var l=a.call(s,e,this,t,new Ca(n,r),i,o,s);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t,n=this.el,r=e.port,i=e.magnet,o=this.model;return null!=r&&o.isElement()&&o.hasPort(r)?t=this.findPortNode(r,i)||n:(i||(i=e.selector),i||null==r||(i='[port="'+r+'"]'),t=this.findBySelector(i,n,this.selectors)[0]),this.findProxyNode(t,"magnet")},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=r.targetMagnet;if("onleave"===s){if(l===a||tc(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,n)}},dragLinkEnd:function(e,t,n){var r=this.eventData(e).linkView;r&&(r.pointerup(e,t,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Bs(t)||(e instanceof SVGElement?tc(e).attr(t):oa(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,o,s,a,l,c,u,d,f=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],!(i=this.getAttributeDefinition(n))||qs(i.qualify)&&!i.qualify.call(this,r,e,t,this)?(a||(a={}),a[(d=n,d.replace(/[A-Z]/g,"-$&").toLowerCase())]=r):(Cs(i.set)&&(a||(a={}),a[i.set]=r),null!==r&&f.push(n,i)));for(o=0,s=f.length;o<s;o+=2)n=f[o],i=f[o+1],r=t[n],qs(i.set)&&(l||(l={}),l[n]=r),qs(i.position)&&(c||(c={}),c[n]=r),qs(i.offset)&&(u||(u={}),u[n]=r);return{raw:t,normal:a,set:l,position:c,offset:u}},updateRelativeAttributes:function(e,t,n,r){var i,o;r||(r={});var s=t.raw||{},a=t.normal||{},l=t.set,c=t.position,u=t.offset;for(i in l){o=l[i];var d=this.getAttributeDefinition(i).set.call(this,o,n.clone(),e,s,this);js(d)?Os(a,d):void 0!==d&&(a[i]=d)}if(e instanceof HTMLElement)this.setNodeAttributes(e,a);else{var f,p,h,m=a.transform,g=tc.transformStringToMatrix(m),v=Ca(g.e,g.f);if(m&&(a=ta(a,"transform"),g.e=g.f=0),c||u){var y=this.getNodeScale(e,r.scalableNode);f=y.sx,p=y.sy}var b=!1;for(i in c)o=c[i],(h=this.getAttributeDefinition(i).position.call(this,o,n.clone(),e,s,this))&&(v.offset(Ca(h).scale(f,p)),b||(b=!0));this.setNodeAttributes(e,a);var w=!1;if(u){var x=this.getNodeBoundingRect(e);if(x.width>0&&x.height>0){var k=tc.transformRect(x,g).scale(1/f,1/p);for(i in u)o=u[i],(h=this.getAttributeDefinition(i).offset.call(this,o,k,e,s,this))&&(v.offset(Ca(h).scale(f,p)),w||(w=!0))}}(void 0!==m||b||w)&&(v.round(1),g.e=v.x,g.f=v.y,e.setAttribute("transform",tc.matrixToTransformString(g)))}},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=tc.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return void 0===t.boundingRect&&(t.boundingRect=tc(e).getBBox()),new Xa(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(void 0===t.magnetMatrix){const{rotatableNode:n,el:r}=this;let i;i=n&&n.contains(e)?n:r,t.magnetMatrix=tc(e).getTransformToElement(i)}return tc.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return void 0===t.geometryShape&&(t.geometryShape=tc(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,o,s,a,l={},c=[];for(var u in e)if(e.hasOwnProperty(u)&&(s=e[u],Hs(s))){var d=n[u]=this.findBySelector(u,t,r);for(i=0,o=d.length;i<o;i++){var f=d[i];a=tc.ensureId(f);var p=r&&r[u]===f,h=l[a];if(h){h.array||(c.push(a),h.array=!0,h.attributes=[h.attributes],h.selectedLength=[h.selectedLength]);var m=h.attributes,g=h.selectedLength;if(p)m.unshift(s),g.unshift(-1);else{var v=Ms(g,o);m.splice(v,0,s),g.splice(v,0,o)}}else l[a]={attributes:s,selectedLength:p?-1:o,node:f,array:!1}}}for(i=0,o=c.length;i<o;i++)(s=l[a=c[i]]).attributes=ia({},...s.attributes.reverse());return l},getEventTarget:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{target:n,type:r,clientX:i=0,clientY:o=0}=e;return t.fromPoint||"touchmove"===r||"touchend"===r||"pointerId"in e&&n.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=Xa()),n.selectors||(n.selectors=this.selectors);var r,i,o,s,a,l={},c={},u=[],d=[],f=n.roAttributes,p=this.findNodesAttributes(f||t,e,l,n.selectors),h=f?this.findNodesAttributes(t,e,l,n.selectors):p;for(var m in p)if(o=(s=p[m]).attributes,i=s.node,(a=this.processNodeAttributes(i,o)).set||a.position||a.offset){var g,v=h[m]&&h[m].attributes,y=v&&void 0===o.ref?v.ref:o.ref;if(y){if(!(g=(l[y]||this.findBySelector(y,e,n.selectors))[0]))throw new Error('dia.CellView: "'+y+'" reference does not exist.')}else g=null;if(r={node:i,refNode:g,processedAttributes:a,allAttributes:v},g){var b=d.findIndex((function(e){return e.refNode===i}));b>-1?d.splice(b,0,r):d.push(r)}else u.push(r)}else this.setNodeAttributes(i,a.normal);u.push(...d);for(let w=0,x=u.length;w<x;w++){r=u[w],i=r.node;const e=(g=r.refNode)?tc.ensureId(g):"";let t=c[e];t||(t=c[e]=g?tc(g).getBBox({target:Gu(i,g)}):n.rootBBox),f?(a=this.processNodeAttributes(i,r.allAttributes),this.mergeProcessedAttributes(a,r.processedAttributes)):a=r.processedAttributes,this.updateRelativeAttributes(i,a,t,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Os(e.set,t.set),Os(e.position,t.position),Os(e.offset,t.offset);var n=e.normal&&e.normal.transform;void 0!==n&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onMount(e){e||(this.mountTools(),Uu.mount(this))},onDetach(){this.unmountTools(),Uu.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return!!t&&(!e||t.getName()===e)},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},removeHighlighters:function(){Uu.remove(this)},updateHighlighters:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Uu.update(this,null,e)},transformHighlighters:function(){Uu.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){const{graph:r}=this.eventData(e);this.notify("cell:pointerup",e,t,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:n}=this;if(t.isAsync()){if(n.isLink()){const e=n.getSourceElement();if(e){const n=t.findViewByModel(e);n&&(t.dumpView(n),t.checkViewVisibility(n))}const r=n.getTargetElement();if(r){const e=t.findViewByModel(r);e&&(t.dumpView(e),t.checkViewVisibility(e))}}t.dumpView(this),t.checkViewVisibility(this)}const r=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(r);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:{TOOLS:"TOOLS"},Highlighting:qu,addPresentationAttributes:function(e){return ia({},ea(this.prototype,"presentationAttributes"),e,(function(e,t){if(e&&t)return"string"===typeof e&&(e=[e]),"string"===typeof t&&(t=[t]),Array.isArray(e)&&Array.isArray(t)?Fs(e.concat(t)):void 0}))}});function Gu(e,t){let n=e;do{if(n.contains(t))return n;n=n.parentNode}while(n);return null}const Wu={TOOLS:Hu.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Ju="move",Ku="magnet",Xu=Hu.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Hu.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Hu.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Wu.UPDATE],position:[Wu.TRANSLATE,Wu.TOOLS],size:[Wu.RESIZE,Wu.PORTS,Wu.TOOLS],angle:[Wu.ROTATE,Wu.TOOLS],markup:[Wu.RENDER],ports:[Wu.PORTS]},initFlag:[Wu.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){const{useCSSSelectors:n}=nc;this.hasFlag(e,Wu.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,Wu.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[Wu.RENDER,Wu.UPDATE,Wu.RESIZE,Wu.TRANSLATE,Wu.ROTATE,Wu.PORTS,Wu.TOOLS]);else{let i=!1;this.hasFlag(e,Wu.RESIZE)&&(this.resize(t),i=!0,e=this.removeFlag(e,[Wu.RESIZE,Wu.UPDATE]),n&&(e=this.removeFlag(e,Wu.PORTS))),this.hasFlag(e,Wu.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Wu.UPDATE),i=!0,n&&(e=this.removeFlag(e,Wu.PORTS))),this.hasFlag(e,Wu.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Wu.TRANSLATE),r=!0),this.hasFlag(e,Wu.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Wu.ROTATE),r=!0),this.hasFlag(e,Wu.PORTS)&&(this._renderPorts(),i=!0,e=this.removeFlag(e,Wu.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,Wu.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Wu.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();const{useCSSSelectors:n}=nc;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new Xa(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"===typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=tc(n[this.rotatableSelector])||null,this.scalableNode=tc(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(tc(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),nc.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=r.width/(s.width||1),l=r.height/(s.height||1);i.attr("transform","scale("+a+","+l+")");var c=this.rotatableNode,u=c&&c.attr("transform");if(u){c.attr("transform",u+" rotate("+-n+","+r.width/2+","+r.height/2+")");var d=i.getBBox({target:this.paper.cells});t.set("position",{x:d.x,y:d.y},Os({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.model||this.model,n=(e.paper||this.paper).model,r=e.initialZIndices={},i=t.getEmbeddedCells({deep:!0}),o=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...i,...o].forEach((e=>r[e.id]=e.attributes.z)),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const s=n.getElements().reduce(((e,t)=>Math.max(e,t.attributes.z||0)),0);o.forEach((e=>{e.attributes.z<=s&&e.set("z",s+1,{ui:!0})})),t.stopBatch("to-front");const a=t.parent();if(a){n.getCell(a).unembed(t,{ui:!0}),e.initialParentId=a}else e.initialParentId=null},processEmbedding:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:c}=o.options;let u;u=qs(a)?Gs(a.call(s,this,t,n,r)):"pointer"===a?Gs(s.findModelsFromPoint({x:n,y:r})):s.findModelsUnderElement(i,{searchBy:a}),u=u.filter((e=>e instanceof eu&&i.id!==e.id&&!e.isEmbeddedIn(i))),l&&(u=u.slice(-1));let d=null;const f=e.candidateEmbedView;for(let p=u.length-1;p>=0;p--){const e=u[p];if(f&&f.model.id==e.id){d=f;break}{const t=e.findView(o);if(!qs(c)||c.call(o,this,t)){d=t;break}}}d&&d!=f&&(this.clearEmbedding(e),e.candidateEmbedView=d.highlight(d.findProxyNode(null,"container"),{embedding:!0})),!d&&f&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;if(t)t.model.embed(n,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:t}=r.options,{initialParentId:n}=e;if(n&&"function"===typeof t&&!t.call(r,this))return void this._disallowUnembed(e)}r.model.getConnectedLinks(n,{deep:!0}).forEach((e=>{e.reparent({ui:!0})}))},_disallowUnembed:function(e){const{model:t,whenNotAllowed:n="revert"}=e,r=t||this.model,i=(e.paper||this.paper).model;switch(n){case"remove":r.remove({ui:!0});break;case"revert":{const{initialParentId:t,initialPosition:n,initialZIndices:o}=e;if(n){const{x:e,y:t}=n;r.position(e,t,{deep:!0,ui:!0})}o&&Object.keys(o).forEach((e=>{const t=i.getCell(e);t&&t.set("z",o[e],{ui:!0})}));const s=i.getCell(t);s&&s.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const n=e.getAttribute(`${t}-selector`);if(n){const t=this.findAttribute("port",e);if(t){const e=this.findPortNode(t,n);if(e)return e}else{const[e]=this.findBySelector(n);if(e)return e}}return e},notifyPointerdown(e,t,n){Hu.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove(e,t,n){Hu.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("element:pointerup",e,t,n),Hu.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Hu.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Hu.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){Hu.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragStart(e,t,n)},pointermove:function(e,t,n){const r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointermove(e,i,t,n),o){case Ku:this.dragMagnet(e,t,n);break;case Ju:(s||this).drag(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(e,t,n)}this.eventData(e,r)},pointerup:function(e,t,n){const r=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=r;switch(i&&this.magnetpointerup(e,i,t,n),o){case Ku:this.dragMagnetEnd(e,t,n);break;case Ju:(s||this).dragEnd(e,t,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(e,t,n)}i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){Hu.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Hu.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Hu.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Hu.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){Hu.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){const{currentTarget:r}=e;this.magnetpointerdown(e,r,t,n),this.eventData(e,{targetMagnet:r}),this.dragMagnetStart(e,t,n)},magnetpointerdown:function(e,t,n,r){this.notify("element:magnet:pointerdown",e,t,n,r)},magnetpointermove:function(e,t,n,r){this.notify("element:magnet:pointermove",e,t,n,r)},magnetpointerup:function(e,t,n,r){this.notify("element:magnet:pointerup",e,t,n,r)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){if(this.isDefaultInteractionPrevented(e))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(e,{action:Ju,delegatedView:r});const i=r.model.position();r.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,n),restrictedArea:this.paper.getRestrictedArea(r,t,n)})},dragMagnetStart:function(e,t,n){const{paper:r}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);e.stopPropagation(),r.options.validateMagnet.call(r,this,o,e)?(r.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,n),this.eventData(e,{action:Ku})):i?this.dragStart(e,t,n):this.pointerdown(e,t,n)},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:c}=s,u=da(t+a.x,i),d=da(n+a.y,i);o.position(u,d,{restrictedArea:l,deep:!0,ui:!0}),r.options.embeddingMode&&(c||(this.prepareEmbedding(s),c=!0),this.processEmbedding(s,e,t,n)),this.eventData(e,{embedding:c})},dragMagnet:function(e,t,n){this.dragLink(e,t,n)},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){this.dragLinkEnd(e,t,n)},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}},{Flags:Wu});Os(Xu.prototype,Iu);const Yu=function(e,t,n){return e},Qu=function(e,t,n){var r,i,o,s=t.side||"bottom",a=wc(t.padding||40),l=n.sourceBBox,c=n.targetBBox,u=l.center(),d=c.center();switch(s){case"bottom":o=1,r="y",i="height";break;case"top":o=-1,r="y",i="height";break;case"left":o=-1,r="x",i="width";break;case"right":o=1,r="x",i="width";break;default:throw new Error("Router: invalid side")}return u[r]+=o*(l[i]/2+a[s]),d[r]+=o*(c[i]/2+a[s]),o*(u[r]-d[r])>0?d[r]=u[r]:u[r]=d[r],[u].concat(e,d)};var Zu={N:"S",S:"N",E:"W",W:"E"},ed={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function td(e,t,n){var r=new Ca(e.x,t.y);return n.containsPoint(r)&&(r=new Ca(t.x,e.y)),r}function nd(e,t){return e["W"===t||"E"===t?"width":"height"]}function rd(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function id(e){return new Xa(e.x,e.y,0,0)}function od(e){var t=wc(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function sd(e,t){return e.sourceBBox.clone().moveAndExpand(od(t))}function ad(e,t){return e.targetBBox.clone().moveAndExpand(od(t))}function ld(e,t,n){var r=new Ca(e.x,t.y),i=new Ca(t.x,e.y),o=rd(e,r),s=rd(e,i),a=Zu[n],l=o===n||o!==a&&(s===a||s!==n)?r:i;return{points:[l],direction:rd(l,t)}}function cd(e,t,n){var r=td(e,t,n);return{points:[r],direction:rd(r,t)}}function ud(e,t,n,r){var i,o={},s=[new Ca(e.x,t.y),new Ca(t.x,e.y)],a=s.filter((function(e){return!n.containsPoint(e)})),l=a.filter((function(t){return rd(t,e)!==r}));if(l.length>0)i=(i=l.filter((function(t){return rd(e,t)===r})).pop())||l[0],o.points=[i],o.direction=rd(i,t);else{i=Ys(s,a)[0];var c=new Ca(t).move(i,-nd(n,r)/2),u=td(c,e,n);o.points=[u,c],o.direction=rd(c,t)}return o}function dd(e,t,n,r){var i=cd(t,e,r),o=i.points[0];if(n.containsPoint(o)){var s=(i=cd(e,t,n)).points[0];if(r.containsPoint(s)){var a=new Ca(e).move(s,-nd(n,rd(e,s))/2),l=new Ca(t).move(o,-nd(r,rd(t,o))/2),c=new La(a,l).midpoint(),u=cd(e,c,n),d=ld(c,t,u.direction);i.points=[u.points[0],d.points[0]],i.direction=d.direction}}return i}function fd(e,t,n,r,i){var o,s,a,l={},c=n.union(r).inflate(1),u=c.center().distance(t)>c.center().distance(e),d=u?t:e,f=u?e:t;return i?(o=Ca.fromPolar(c.width+c.height,ed[i],d),o=c.pointNearestToPoint(o).move(o,-1)):o=c.pointNearestToPoint(d).move(d,1),s=td(o,f,c),o.round().equals(s.round())?(s=Ca.fromPolar(c.width+c.height,pa(o.theta(d))+Math.PI/2,f),a=td(o,s=c.pointNearestToPoint(s).move(f,1).round(),c),l.points=u?[s,a,o]:[o,a,s]):l.points=u?[s,o]:[o,s],l.direction=rd(u?o:s,t),l}function pd(e,t,n){var r,i=sd(n,t),o=ad(n,t),s=function(e,t){return e.sourceAnchor?e.sourceAnchor:sd(e,t).center()}(n,t),a=function(e,t){return e.targetAnchor?e.targetAnchor:ad(e,t).center()}(n,t);i=i.union(id(s)),o=o.union(id(a)),(e=Gs(e).map(Ca)).unshift(s),e.push(a);for(var l=[],c=0,u=e.length-1;c<u;c++){var d=null,f=e[c],p=e[c+1],h=!!rd(f,p);if(0===c)c+1===u?i.intersect(o.clone().inflate(1))?d=fd(f,p,i,o):h||(d=dd(f,p,i,o)):i.containsPoint(p)?d=fd(f,p,i,id(p).moveAndExpand(od(t))):h||(d=cd(f,p,i));else if(c+1===u){var m=h&&rd(p,f)===r;o.containsPoint(f)||m?d=fd(f,p,id(f).moveAndExpand(od(t)),o,r):h||(d=ud(f,p,o,r))}else h||(d=ld(f,p,r));d?(Array.prototype.push.apply(l,d.points),r=d.direction):r=rd(f,p),c+1<u&&l.push(p)}return l}var hd={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,n){if(!qs(pd))throw new Error("Manhattan requires the orthogonal router as default fallback.");return pd(e,Os({},hd,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function md(e){this.map={},this.options=e,this.mapGridSize=100}function gd(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function vd(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function yd(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function bd(e,t){return e.sourceAnchor?e.sourceAnchor:vd(e,t).center()}function wd(e,t,n,r,i){var o=360/n,s=e.theta(function(e,t,n,r){var i=r.step,o=t.x-e.x,s=t.y-e.y,a=o/n.x,l=s/n.y,c=a*i,u=l*i;return new Ca(e.x+c,e.y+u)}(e,t,r,i)),a=ua(s+o/2);return o*Math.floor(a/o)}function xd(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function kd(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function Sd(e,t){return e.round(t)}function _d(e,t,n){return Sd(function(e,t){var n=t.source,r=da(e.x-n.x,t.x)+n.x,i=da(e.y-n.y,t.y)+n.y;return new Ca(r,i)}(e.clone(),t),n)}function Ed(e){return e.clone().toString()}function Pd(e){return new Ca(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function Td(e,t,n,r,i,o,s){for(var a,l=[],c=Pd(i.difference(n)),u=Ed(n),d=e[u];d;){var f=Pd((a=t[u]).difference(d));f.equals(c)||(l.unshift(a),c=f),d=e[u=Ed(d)]}var p=t[u];return Pd(p.difference(r)).equals(c)||l.unshift(p),l}function $d(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function Nd(e,t,n,r,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),l=js(s)?Object.keys(s):[],c=Gs(n),u=l.reduce((function(n,i){if(c.includes(i)){for(var l,u=s[i],d=new Ca(e.x+u.x*(Math.abs(a.x)+t.width),e.y+u.y*(Math.abs(a.y)+t.height)),f=new La(e,d).intersect(t)||[],p=f.length,h=null,m=0;m<p;m++){var g=f[m],v=e.squaredDistance(g);(void 0===l||v>l)&&(l=v,h=g)}if(h){var y=_d(h,r,o);t.containsPoint(y)&&(y=_d(y.offset(u.x*r.x,u.y*r.y),r,o)),n.push(y)}}return n}),[]);return t.containsPoint(e)||u.push(_d(e,r,o)),u}function jd(e,t,n,r){var i,o,s=r.precision;i=Sd(e instanceof Xa?bd(this,r).clone():e.clone(),s),o=Sd(t instanceof Xa?function(e,t){return e.targetAnchor?e.targetAnchor:yd(e,t).center()}(this,r).clone():t.clone(),s);var a,l,c,u,d,f,p,h=(a=r.step,c=o,{source:(l=i).clone(),x:kd(c.x-l.x,a),y:kd(c.y-l.y,a)});if(f=e instanceof Xa?Nd(u=i,e,r.startDirections,h,r):[u=i],t instanceof Xa?(d=o,p=Nd(o,t,r.endDirections,h,r)):p=[d=o],f=f.filter((e=>!n(e))),p=p.filter((e=>!n(e))),f.length>0&&p.length>0){for(var m=new gd,g={},v={},y={},b=0,w=f.length;b<w;b++){var x=f[b],k=Ed(x);m.add(k,$d(x,p)),g[k]=x,y[k]=0}var S,_,E=r.previousDirectionAngle,P=void 0===E,T=r.directions;!function(e,t,n){var r=n.step;Gs(n.directions).forEach((function(e){e.gridOffsetX=e.offsetX/r*t.x,e.gridOffsetY=e.offsetY/r*t.y}))}(0,h,r);for(var $=T.length,N=Gs(p).reduce((function(e,t){var n=Ed(t);return e.push(n),e}),[]),j=r.maximumLoops;!m.isEmpty()&&j>0;){var A,C=m.pop(),O=g[C],I=v[C],R=y[C],L=void 0===I,D=O.equals(u);A=L?P?D?null:wd(u,O,$,h,r):E:wd(I,O,$,h,r);var M=f.length===p.length;if(M)for(var F=0;F<f.length;F++)if(!f[F].equals(p[F])){M=!1;break}if(!(L&&M)&&N.indexOf(C)>=0)return r.previousDirectionAngle=A,Td(v,g,O,u,d);for(b=0;b<$;b++){var z=(S=T[b]).angle;if(_=xd(A,z),P&&D||!(_>r.maxAllowedDirectionChange)){var V=_d(O.clone().offset(S.gridOffsetX,S.gridOffsetY),h,s),B=Ed(V);if(!m.isClose(B)&&!n(V)){if(N.indexOf(B)>=0)if(!V.equals(d))if(xd(z,wd(V,d,$,h,r))>r.maxAllowedDirectionChange)continue;var U=R+S.cost+(D?0:r.penalties[_]);(!m.isOpen(B)||U<y[B])&&(g[B]=V,v[B]=O,y[B]=U,m.add(B,U+$d(V,p)))}}}j--}}return r.fallbackRoute.call(this,u,d,r)}function Ad(e,t,n){!function(e){if(e.directions=ea(e,"directions"),e.penalties=ea(e,"penalties"),e.paddingBox=ea(e,"paddingBox"),e.padding=ea(e,"padding"),e.padding){var t=wc(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Gs(e.directions).forEach((function(e){var t=new Ca(0,0),n=new Ca(e.offsetX,e.offsetY);e.angle=ua(t.theta(n))}))}(t),n.options.perpendicular=!!t.perpendicular;var r=vd(n,t),i=yd(n,t),o=bd(n,t);let s;if("function"===typeof t.isPointObstacle)s=t.isPointObstacle;else{const e=new md(t);e.build(n.paper.model,n.model),s=t=>!e.isPointAccessible(t)}for(var a,l,c=Gs(e).map(Ca),u=[],d=o,f=0,p=c.length;f<=p;f++){var h=null;if(l=a||r,!(a=c[f]))if(a=i,(!n.model.get("source").id||!n.model.get("target").id)&&qs(t.draggingRoute)){var m=l===r?o:l,g=a.origin();h=t.draggingRoute.call(n,m,g,t)}if(null===(h=h||jd.call(n,l,a,s,t)))return t.fallbackRouter(e,t,n);var v=h[0];v&&v.equals(d)&&h.shift(),d=h[h.length-1]||d,Array.prototype.push.apply(u,h)}return u}md.prototype.build=function(e,t){var n=this.options,r=Gs(n.excludeEnds).reduce((function(n,r){var i=t.get(r);if(i){var o=e.getCell(i.id);o&&n.push(o)}return n}),[]),i=[],o=e.getCell(t.get("source").id);o&&(i=Qs(i,o.getAncestors().map((function(e){return e.id}))));var s=e.getCell(t.get("target").id);s&&(i=Qs(i,s.getAncestors().map((function(e){return e.id}))));var a=this.mapGridSize;return e.getElements().reduce((function(e,t){var o=Gs(n.excludeTypes).includes(t.get("type")),s=r.find((function(e){return e.id===t.id})),l=i.includes(t.id);if(!(o||s||l))for(var c=t.getBBox().moveAndExpand(n.paddingBox),u=c.origin().snapToGrid(a),d=c.corner().snapToGrid(a),f=u.x;f<=d.x;f+=a)for(var p=u.y;p<=d.y;p+=a){var h=f+"@"+p;e[h]=e[h]||[],e[h].push(c)}return e}),this.map),this},md.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Gs(this.map[t]).every((function(t){return!t.containsPoint(e)}))},gd.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=Ms(this.items,e,function(e){return this.values[e]}.bind(this));this.items.splice(n,0,e)},gd.prototype.remove=function(e){this.hash[e]=this.CLOSE},gd.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},gd.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},gd.prototype.isEmpty=function(){return 0===this.items.length},gd.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};const Cd=function(e,t,n){return Ad(e,Os({},hd,t),n)};var Od={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(r%180>90){var a=o;o=s,s=a}var l=r%90<45?o:s,c=new La(e,l),u=90*Math.ceil(r/90),d=Ca.fromPolar(c.squaredLength(),pa(u+135),l),f=new La(t,d),p=c.intersection(f),h=p||t,m=p?h:e,g=360/n.directions.length,v=m.theta(t),y=ua(v+g/2),b=g*Math.floor(y/g);return n.previousDirectionAngle=b,h&&i.push(h.round()),i.push(t),i}};const Id=function(e,t,n){if(!qs(Cd))throw new Error("Metro requires the manhattan router.");return Cd(e,Os({},Od,t),n)},Rd={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},Ld=[Rd.LEFT,Rd.RIGHT,Rd.TOP,Rd.BOTTOM],Dd={[Rd.LEFT]:Rd.RIGHT,[Rd.RIGHT]:Rd.LEFT,[Rd.TOP]:Rd.BOTTOM,[Rd.BOTTOM]:Rd.TOP},Md=[Rd.TOP,Rd.BOTTOM],Fd={0:Rd.RIGHT,180:Rd.LEFT,270:Rd.TOP,90:Rd.BOTTOM};function zd(e){return e.angle()}function Vd(e){return new tl(e).simplify({threshold:1}).points}function Bd(e,t){const{point:n,x0:r,y0:i,view:o,bbox:s,direction:a}=e,{point:l,x0:c,y0:u,view:d,bbox:f,direction:p}=t;let h,m;if(o)h=o.model.isLink()?qd(l,n,o):a===Rd.ANCHOR_SIDE?s.sideNearestToPoint(n):a===Rd.MAGNET_SIDE?o.model.getBBox().sideNearestToPoint(n):a;else{const e=new Xa(r,i,0,0);h=Ld.includes(a)?a:e.sideNearestToPoint(l)}if(d)m=d.model.isLink()?qd(n,l,d):p===Rd.ANCHOR_SIDE?f.sideNearestToPoint(l):p===Rd.MAGNET_SIDE?d.model.getBBox().sideNearestToPoint(l):p;else{const e=new Xa(c,u,0,0);m=Ld.includes(p)?p:e.sideNearestToPoint(n)}return[h,m]}function Ud(e,t,n){const[r]=Bd(e,t);switch(r){case Rd.TOP:return function(e,t,n){const{x0:r,y0:i,width:o,height:s,point:a,margin:l}=e,c=i+s,u=r-l,d=r+o+l,f=i-l,{x:p}=a,{x0:h,y0:m}=t;return h===p&&m<i?Rd.BOTTOM:h<p&&m<f?Rd.RIGHT:h>p&&m<f?Rd.LEFT:h<u&&m>=i||h>d&&m>=i?Rd.TOP:h>=u&&h<=p&&m>c||h<=d&&h>=p&&m>c?n.point.x<h?Rd.RIGHT:Rd.LEFT:Rd.TOP}(e,t,n);case Rd.RIGHT:return function(e,t,n){const{y0:r,x0:i,width:o,height:s,point:a,margin:l}=e,c=i+o,u=c+l,d=r-l,f=r+s+l,{x:p,y:h}=a,{x0:m,y0:g}=t;return m>p&&g===h?Rd.LEFT:m>=u&&g<h?Rd.BOTTOM:m>=u&&g>h?Rd.TOP:m<=c&&g<=d||m<=c&&g>=f?Rd.RIGHT:m<i&&g>=d&&g<=h||m<i&&g<=f&&g>=h?n.point.y<g?Rd.BOTTOM:Rd.TOP:Rd.RIGHT}(e,t,n);case Rd.BOTTOM:return function(e,t,n){const{x0:r,y0:i,width:o,height:s,point:a,margin:l}=e,c=i+s,u=r-l,d=r+o+l,f=c+l,{x:p}=a,{x0:h,y0:m}=t;return h===p&&m>c?Rd.TOP:h<p&&m>f?Rd.RIGHT:h>p&&m>f?Rd.LEFT:h<u&&m<=c||h>d&&m<=c?Rd.BOTTOM:h>=u&&h<=p&&m<i||h<=d&&h>=p&&m<i?n.point.x<h?Rd.RIGHT:Rd.LEFT:Rd.BOTTOM}(e,t,n);case Rd.LEFT:return function(e,t,n){const{y0:r,x0:i,width:o,height:s,point:a,margin:l}=e,c=i+o,u=i-l,d=r-l,f=r+s+l,{x:p,y:h}=a,{x0:m,y0:g}=t;return m<p&&g===h?Rd.RIGHT:m<=u&&g<h?Rd.BOTTOM:m<=u&&g>h?Rd.TOP:m>=i&&g<=d||m>=i&&g>=f?Rd.LEFT:m>c&&g>=d&&g<=h||m>c&&g<=f&&g>=h?n.point.y<g?Rd.BOTTOM:Rd.TOP:Rd.LEFT}(e,t,n)}}function qd(e,t,n){const r=n.getTangentAtLength(n.getClosestPointLength(t)),i=90*Math.round(zd(r)/90);if(i%180===0&&e.y===t.y)return e.x<t.x?Rd.LEFT:Rd.RIGHT;if(e.x===t.x)return e.y<t.y?Rd.TOP:Rd.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?Rd.TOP:Rd.BOTTOM;case 90:case 270:return e.x<t.x?Rd.LEFT:Rd.RIGHT}}function Hd(e,t,n,r,i,o,s){r===Rd.AUTO&&(r=i?Rd.MAGNET_SIDE:Rd.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:l,y:c,width:u=0,height:d=0}=a?Xa.fromRectUnion(n,e.model.getBBox()):o;return{point:t,x0:l,y0:c,view:e,bbox:n,width:u,height:d,direction:r,margin:a?s:0}}function Gd(e){let{x:t,y:n}=e;const r=new Ca(t,n);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new Xa(t,n,0,0),width:0,height:0,direction:null,margin:0}}function Wd(e,t,n){const r=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":r.x=i-n;break;case"right":r.x=i+s+n;break;case"top":r.y=o-n;break;case"bottom":r.y=o+a+n}return r}function Jd(e,t){const{point:n,x0:r,y0:i,view:o,width:s,height:a,margin:l}=e,{point:c,x0:u,y0:d,width:f,height:p,margin:h}=t,m=u+f,g=d+p,v=r+s,y=i+a,b=o&&o.model.isElement(),w=r-l,x=v+l,k=i-l,S=y+l,_=u-h,E=m+h,P=d-h,T=g+h,[$,N]=Bd(e,t),j=Wd($,{point:n,x0:r,y0:i,width:s,height:a},l),A=Wd(N,{point:c,x0:u,y0:d,width:f,height:p},h),{x:C,y:O}=j,{x:I,y:R}=A,L=(d+g)/2,D=((r+v)/2<(u+m)/2?v+u:m+r)/2,M=((i+y)/2<L?y+d:g+i)/2;if("left"===$&&"right"===N){if(w<=E){let e=M;return v<=u&&(g>=k&&R<O?e=Math.min(P,k):d<=S&&R>=O&&(e=Math.max(T,S))),[{x:C,y:O},{x:C,y:e},{x:I,y:e},{x:I,y:R}]}const e=(C+I)/2;return[{x:e,y:O},{x:e,y:R}]}if("right"===$&&"left"===N){if(x>=_){let e=M;return C>m&&(g>=k&&R<O?e=Math.min(P,k):d<=S&&R>=O&&(e=Math.max(T,S))),[{x:C,y:O},{x:C,y:e},{x:I,y:e},{x:I,y:R}]}const e=(C+I)/2;return[{x:e,y:O},{x:e,y:R}]}if("top"===$&&"bottom"===N){if(O<R){let e=D,t=O;return O<d&&(m>=w&&I<C?e=Math.min(_,w):u<=x&&I>=C&&(e=Math.max(E,x))),[{x:C,y:t},{x:e,y:t},{x:e,y:R},{x:I,y:R}]}const e=(O+R)/2;return[{x:C,y:e},{x:I,y:e}]}if("bottom"===$&&"top"===N){if(O-l>R){let e=D,t=O;return O>g&&(m>=w&&I<C?e=Math.min(_,w):u<=x&&I>=C&&(e=Math.max(E,x))),[{x:C,y:t},{x:e,y:t},{x:e,y:R},{x:I,y:R}]}const e=(O+R)/2;return[{x:C,y:e},{x:I,y:e}]}if("top"===$&&"top"===N){let e,t=Math.min((y+d)/2,R),n=Math.min((i+g)/2,O);if(R<O){if(C>=E||C<=_)return[{x:C,y:Math.min(O,R)},{x:I,y:Math.min(O,R)}];e=I>C?Math.min(C,_):Math.max(C,E)}else{if(I>=x||I<=w)return[{x:C,y:Math.min(O,R)},{x:I,y:Math.min(O,R)}];e=I>=C?Math.max(I,x):Math.min(I,w)}return[{x:C,y:n},{x:e,y:n},{x:e,y:t},{x:I,y:t}]}if("bottom"===$&&"bottom"===N){let e,t=Math.max((i+g)/2,R),n=Math.max((y+d)/2,O);if(R>O){if(C>=E||C<=_)return[{x:C,y:Math.max(O,R)},{x:I,y:Math.max(O,R)}];e=I>C?Math.min(C,_):Math.max(C,E)}else{if(I>=x||I<=w)return[{x:C,y:Math.max(O,R)},{x:I,y:Math.max(O,R)}];e=I>=C?Math.max(I,x):Math.min(I,w)}return[{x:C,y:n},{x:e,y:n},{x:e,y:t},{x:I,y:t}]}if("left"===$&&"left"===N){let e,t=Math.min((v+u)/2,I),n=Math.min((r+m)/2,C);return e=I>C?R<=O?Math.min(k,R):Math.max(S,R):R>=O?Math.min(P,O):Math.max(T,O),[{x:n,y:O},{x:n,y:e},{x:t,y:e},{x:t,y:R}]}if("right"===$&&"right"===N){let e,t=Math.max((r+m)/2,I),n=Math.max((v+u)/2,C);return e=I<C?R<=O?Math.min(k,R):Math.max(S,R):R>=O?Math.min(P,O):Math.max(T,O),[{x:n,y:O},{x:n,y:e},{x:t,y:e},{x:t,y:R}]}if("top"===$&&"right"===N){if(O>R){if(C<I){let e=M;return(e>L||!b)&&e<T&&C<u&&(e=P),[{x:C,y:e},{x:I,y:e},{x:I,y:R}]}return[{x:C,y:R}]}const e=Math.max(D,E);if(I<C&&R>i&&R<y)return[{x:C,y:O},{x:e,y:O},{x:e,y:R}];if(e>w&&R>i||u>v){const e=Math.min(i-l,d-h),t=Math.max(v+l,m+h);return[{x:C,y:e},{x:t,y:e},{x:t,y:R}]}return[{x:C,y:O},{x:Math.max(e,I),y:O},{x:Math.max(e,I),y:R}]}if("top"===$&&"left"===N){if(O>R){if(C>I){let e=M;return(e>L||!b)&&e<T&&C>m&&(e=P),[{x:C,y:e},{x:I,y:e},{x:I,y:R}]}return[{x:C,y:R}]}const e=Math.min(_,D);if(C<I&&y>=R)return[{x:C,y:O},{x:e,y:O},{x:e,y:R}];if(e<x&&O<g){const e=Math.min(k,P),t=Math.min(w,_);return[{x:C,y:e},{x:t,y:e},{x:t,y:R}]}return[{x:C,y:O},{x:e,y:O},{x:e,y:R}]}if("bottom"===$&&"right"===N){if(O<R){if(C<I){let e=M;return(e<L||!b)&&e>P&&C<u&&(e=T),[{x:C,y:e},{x:I,y:e},{x:I,y:R}]}return[{x:C,y:R}]}if(r<I){const e=Math.max(S,T),t=Math.max(x,E);return[{x:C,y:e},{x:t,y:e},{x:t,y:R}]}return[{x:C,y:O},{x:D,y:O},{x:D,y:R}]}if("bottom"===$&&"left"===N){if(O<R){if(C>I){let e=M;return(e<L||!b)&&e>P&&C>m&&(e=T),[{x:C,y:e},{x:I,y:e},{x:I,y:R}]}return[{x:C,y:R}]}if(v>I){const e=Math.max(S,T),t=Math.min(w,_);return[{x:C,y:e},{x:t,y:e},{x:t,y:R}]}return[{x:C,y:O},{x:D,y:O},{x:D,y:R}]}if("left"===$&&"bottom"===N){if(C>=I&&O>=T)return[{x:I,y:O}];if(C>=m&&O<R){return[{x:D,y:O},{x:D,y:R},{x:I,y:R}]}if(I<v&&g<=i){return[{x:C,y:O},{x:C,y:M},{x:I,y:M}]}const e=Math.min(_,C),t=Math.max(S,T);return[{x:e,y:O},{x:e,y:t},{x:I,y:t}]}if("left"===$&&"top"===N){if(C>I&&O<P)return[{x:I,y:O}];if(C>=m&&O>R){return[{x:D,y:O},{x:D,y:R},{x:I,y:R}]}if(I<=v&&R>O){return[{x:C,y:O},{x:C,y:M},{x:I,y:M}]}const e=R<O?Math.min(w,_):w,t=Math.min(k,P);return[{x:e,y:O},{x:e,y:t},{x:I,y:t}]}if("right"===$&&"top"===N){if(C<=I&&O<P)return[{x:I,y:O}];if(v<u&&O>R){return[{x:D,y:O},{x:D,y:R},{x:I,y:R}]}if(I<C&&d>y){return[{x:C,y:O},{x:C,y:M},{x:I,y:M}]}const e=Math.max(x,E),t=Math.min(k,P);return[{x:e,y:O},{x:e,y:t},{x:I,y:t}]}if("right"===$&&"bottom"===N){if(C<=I&&O>=T)return[{x:I,y:O}];if(C<=_&&O<R){return[{x:D,y:O},{x:D,y:R},{x:I,y:R}]}if(I>r&&g<i){return[{x:C,y:O},{x:C,y:M},{x:I,y:M}]}const e=Math.max(E,C),t=Math.max(S,T);return[{x:e,y:O},{x:e,y:t},{x:I,y:t}]}}function Kd(e,t,n){const{sourceDirection:r=Rd.AUTO,targetDirection:i=Rd.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!n.model.source().port,l=Hd(n.sourceView,n.sourceAnchor,n.sourceBBox,r,a,n.sourceAnchor,o),c=!!n.model.target().port,u=Hd(n.targetView,n.targetAnchor,n.targetBBox,i,c,n.targetAnchor,o);let d=[];if(!s||0===e.length)return Vd(Jd(l,u));const f=e.map((e=>Gd(e))),[p]=f;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(p.point)){const[e]=Bd(l,p),t=e,n=Gd(l.point);n.margin=o,n.direction=e,p.direction=t,d.push(...Jd(n,p),p.point)}else{const e=Ud(l,p,f[1]||u);p.direction=e,d.push(...Jd(l,p),p.point)}for(let m=0;m<f.length-1;m++){const e=f[m],t=f[m+1],n=zd(new La(e.point,t.point));if(n%90===0){const r=Fd[n],i=Dd[r];if(r!==e.direction)d.push(e.point,t.point),t.direction=i;else{const r=ua(n-90);let i=0,s=0;90===r?s=-o:180===r?i=-o:270===r?s=o:0===r&&(i=o);const a={x:e.point.x+i,y:e.point.y+s},l={x:t.point.x+i,y:t.point.y+s},c=new La(t.point,l);t.direction=Fd[zd(c)],d.push(e.point,a,l,t.point)}continue}const[r,i]=Xd(e,t);e.direction=r,t.direction=i,d.push(...Jd(e,t),t.point)}const h=f[f.length-1];if(u.view&&u.view.model.isElement())if(u.view.model.getBBox().inflate(o).containsPoint(h.point)){const[e]=Xd(h,u),t=Gd(u.point),[,n]=Bd(h,u);t.margin=o,t.direction=n,h.direction=e,d.push(...Jd(h,t))}else{const e=Vd(d),t=new La(e[e.length-2],h.point),n=Fd[Math.round(zd(t))];h.direction=n;let r=Jd(h,u);const[i,s]=Vd([...r,u.point]),a=new La(i,s),l=Math.round(zd(a)),c=Fd[l];c!==n&&n===Dd[c]&&(h.margin=o,r=Jd(h,u)),d.push(...r)}else{const[e]=Xd(h,u);h.direction=e,d.push(...Jd(h,u))}return Vd(d)}function Xd(e,t){const n=e.direction,r=Md.includes(n);let i=e.direction,o=t.direction;if(r){const r=e.point.y>t.point.y,s=t.point.x-e.point.x;n===Rd.BOTTOM?(i=r?Dd[n]:s>=0?Rd.RIGHT:Rd.LEFT,s>0?o=r?Rd.LEFT:Rd.TOP:s<0&&(o=r?Rd.RIGHT:Rd.TOP)):(i=r?s>=0?Rd.RIGHT:Rd.LEFT:Dd[n],s>0?o=r?Rd.BOTTOM:Rd.LEFT:s<0&&(o=r?Rd.BOTTOM:Rd.RIGHT))}else{const r=e.point.x>t.point.x,s=t.point.y-e.point.y;n===Rd.RIGHT?(i=r?Dd[n]:s>=0?Rd.BOTTOM:Rd.TOP,s>0?o=r?Rd.TOP:Rd.LEFT:s<0&&(o=r?Rd.BOTTOM:Rd.LEFT)):(i=r?s>=0?Rd.BOTTOM:Rd.TOP:Dd[n],s>0?o=r?Rd.RIGHT:Rd.TOP:s<0&&(o=r?Rd.RIGHT:Rd.BOTTOM))}return[i,o]}Kd.Directions=Rd;const Yd=Kd,Qd={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Zd=Object.values(Qd),ef=10,tf=1,nf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{cornerType:i=Qd.POINT,cornerRadius:o=ef,cornerPreserveAspectRatio:s=!1,precision:a=tf,raw:l=!1}=r;if(-1===Zd.indexOf(i))throw new Error("Invalid `cornerType` provided to `straight` connector.");let c;if(i!==Qd.POINT&&o){let r;c=new cl,c.appendSegment(cl.createSegment("M",e));const l=n.length;for(let u=0;u<l;u++){const l=new Ca(n[u]),d=n[u-1]||e,f=n[u+1]||t,p=r||l.distance(d)/2;let h,m;r=l.distance(f)/2,s?h=m=-Math.min(o,p,r):(h=-Math.min(o,p),m=-Math.min(o,r));const g=l.clone().move(d,h).round(a),v=l.clone().move(f,m).round(a);switch(c.appendSegment(cl.createSegment("L",g)),i){case Qd.CUBIC:{const e=1/3,t=2/3,n=new Ca(e*g.x+t*l.x,t*l.y+e*g.y),r=new Ca(e*v.x+t*l.x,t*l.y+e*v.y);c.appendSegment(cl.createSegment("C",n,r,v));break}case Qd.LINE:c.appendSegment(cl.createSegment("L",v));break;case Qd.GAP:c.appendSegment(cl.createSegment("M",v))}}c.appendSegment(cl.createSegment("L",t))}else{const r=[e].concat(n).concat([t]),i=new tl(r);c=new cl(i)}return l?c:c.serialize()};var rf=["arc","gap","cubic"],of=["smooth"],sf=1/3,af=2/3;function lf(e,t){let{x:n,y:r}=e,{x:i,y:o}=t;if(n>i){let e=n;n=i,i=e,e=r,r=o,o=e}if(r>o){let e=n;n=i,i=e,e=r,r=o,o=e}return[new Ca(n,r),new Ca(i,o)]}function cf(e,t,n){var r=[].concat(e,n,t);return r.reduce((function(e,t,n){var i=r[n+1];return null!=i&&(e[n]=Da(t,i)),e}),[])}function uf(e,t){return Da(e,t).squaredLength()}function df(e,t,n,r){var i,o=new cl;return i=cl.createSegment("M",e[0].start),o.appendSegment(i),Gs(e).forEach((function(s,a){if(s.isJump){var l,c,u,d;if("arc"===n){l=-90,c=s.start.difference(s.end);var f=Number(c.x<0||0===c.x&&c.y<0);f&&(l+=180);var p,h=s.midpoint(),m=new La(h,s.end).rotate(h,l);u=(p=new La(s.start,h)).pointAt(2/3).rotate(s.start,l),d=m.pointAt(1/3).rotate(m.end,-l),i=cl.createSegment("C",u,d,m.end),o.appendSegment(i),p=new La(h,s.end),u=m.pointAt(1/3).rotate(m.end,l),d=p.pointAt(1/3).rotate(s.end,-l),i=cl.createSegment("C",u,d,s.end),o.appendSegment(i)}else if("gap"===n)i=cl.createSegment("M",s.end),o.appendSegment(i);else if("cubic"===n){l=s.start.theta(s.end);var g=.6*t,v=1.35*t;c=s.start.difference(s.end),(f=Number(c.x<0||0===c.x&&c.y<0))&&(v*=-1),u=Ca(s.start.x+g,s.start.y+v).rotate(s.start,l),d=Ca(s.end.x-g,s.end.y+v).rotate(s.end,l),i=cl.createSegment("C",u,d,s.end),o.appendSegment(i)}}else{var y=e[a+1];0==r||!y||y.isJump?(i=cl.createSegment("L",s.end),o.appendSegment(i)):function(e,t,n,r,i){var o,s=n.distance(r)/2,a=n.distance(i)/2,l=-Math.min(e,s),c=-Math.min(e,a),u=n.clone().move(r,l).round(),d=n.clone().move(i,c).round(),f=new Ca(sf*u.x+af*n.x,af*n.y+sf*u.y),p=new Ca(sf*d.x+af*n.x,af*n.y+sf*d.y);o=cl.createSegment("L",u),t.appendSegment(o),o=cl.createSegment("C",f,p,d),t.appendSegment(o)}(r,o,s.end,s.start,y.end)}})),o}const ff=function(e,t,n,r){!function(e){var t=e.paper,n=t._jumpOverUpdateList;if(null==n){n=t._jumpOverUpdateList=[];var r=t.model;r.on("batch:stop",(function(){this.hasActiveBatch()||function(e){for(var t=e._jumpOverUpdateList,n=0;n<t.length;n++){const e=t[n],r=e.getFlag(e.constructor.Flags.CONNECTOR);e.requestUpdate(r)}}(t)})),r.on("reset",(function(){n=t._jumpOverUpdateList=[]}))}n.indexOf(e)<0&&(n.push(e),e.listenToOnce(e.model,"change:connector remove",(function(){n.splice(n.indexOf(e),1)})))}(this);var i=r.raw,o=r.size||5,s=r.jump&&(""+r.jump).toLowerCase(),a=r.radius||0,l=r.ignoreConnectors||of;-1===rf.indexOf(s)&&(s=rf[0]);var c=this.paper,u=c.model.getLinks();if(1===u.length)return df(cf(e,t,n),o,s,a);var d=this.model,f=u.indexOf(d),p=c.options.defaultConnector||{},h=u.filter((function(e,t){var n=e.get("connector")||p;return!Gs(l).includes(n.name)&&(!(t>f)||"jumpover"!==n.name)})),m=h.map((function(e){return c.findViewByModel(e)})),g=cf(e,t,n),v=m.map((function(e){return null==e?[]:e===this?g:cf(e.sourcePoint,e.targetPoint,e.route)}),this),y=g.reduce((function(e,t){var n=h.reduce((function(e,n,r){if(n!==d){const n=v[r].slice(),i=n.findIndex((e=>function(e,t){const[{x:n,y:r},{x:i,y:o}]=lf(e.start,e.end),[{x:s,y:a},{x:l,y:c}]=lf(t.start,t.end);return n<=l&&s<=i&&r<=c&&a<=o}(t,e)));i>-1&&t.containsPoint(n[i].end)&&n.splice(i+1,1);const o=function(e,t){return Gs(t).reduce((function(t,n){var r=e.intersection(n);return r&&t.push(r),t}),[])}(t,n);e.push.apply(e,o)}return e}),[]).sort((function(e,n){return uf(t.start,e)-uf(t.start,n)}));return n.length>0?e.push.apply(e,function(e,t,n){return t.reduce((function(r,i,o){if(!0===i.skip)return r;var s=r.pop()||e,a=Oa(i).move(s.start,-n),l=Oa(i).move(s.start,+n),c=t[o+1];if(null!=c){var u=l.distance(c);u<=n&&(l=c.move(s.start,u),c.skip=!0)}else if(a.distance(s.end)<2*n+1)return r.push(s),r;if(l.distance(s.start)<2*n+1)return r.push(s),r;var d=Da(a,l);return d.isJump=!0,r.push(Da(s.start,a),d,Da(l,s.end)),r}),[])}(t,n,o)):e.push(t),e}),[]),b=df(y,o,s,a);return i?b:b.serialize()},pf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{raw:i}=r;return nf(e,t,n,{cornerType:"point",raw:i})},hf=10,mf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{radius:i=hf,raw:o}=r;return nf(e,t,n,{cornerType:"cubic",cornerRadius:i,precision:0,raw:o})},gf=function(e,t,n,r){var i,o=r&&r.raw;if(n&&0!==n.length){var s=[e].concat(n).concat([t]),a=al.throughPoints(s);i=new cl(a)}else{var l;if(i=new cl,l=cl.createSegment("M",e),i.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var c=(e.x+t.x)/2;l=cl.createSegment("C",c,e.y,c,t.y,t.x,t.y),i.appendSegment(l)}else{var u=(e.y+t.y)/2;l=cl.createSegment("C",e.x,u,t.x,u,t.x,t.y),i.appendSegment(l)}}return o?i:i.serialize()},vf={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},yf={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},bf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;const o=Boolean(r.raw),{direction:s=vf.AUTO,precision:a=3}=r,l={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new Ca(r.sourceTangent):null,targetTangent:r.targetTangent?new Ca(r.targetTangent):null,rotate:Boolean(r.rotate)};"string"===typeof r.sourceDirection?l.sourceDirection=r.sourceDirection:"number"===typeof r.sourceDirection?l.sourceDirection=new Ca(1,0).rotate(null,r.sourceDirection):l.sourceDirection=r.sourceDirection?new Ca(r.sourceDirection).normalize():null,"string"===typeof r.targetDirection?l.targetDirection=r.targetDirection:"number"===typeof r.targetDirection?l.targetDirection=new Ca(1,0).rotate(null,r.targetDirection):l.targetDirection=r.targetDirection?new Ca(r.targetDirection).normalize():null;const c=[e,...n,t].map((e=>new Ca(e)));let u,d;if(l.sourceTangent)u=l.sourceTangent;else{const e=function(e,t,n,r){if(r.sourceDirection)switch(r.sourceDirection){case yf.UP:return new Ca(0,-1);case yf.DOWN:return new Ca(0,1);case yf.LEFT:return new Ca(-1,0);case yf.RIGHT:return new Ca(1,0);case yf.AUTO:return wf(e,t,r);case yf.CLOSEST_POINT:return kf(e,t,r);case yf.OUTWARDS:return _f(e,t,r);default:return r.sourceDirection}switch(n){case vf.HORIZONTAL:return function(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const n=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),s=t[0].clone();s.rotate(r.center(),o),i=n.sideNearestToPoint(s)}else i=r.sideNearestToPoint(t[0]);else i=r.x>t[1].x?"right":"left";if("left"===i)s=new Ca(-1,0);else s=new Ca(1,0);n.rotate&&o&&s.rotate(null,-o);return s}(e,t,r);case vf.VERTICAL:return function(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const n=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),s=t[0].clone();s.rotate(r.center(),o),i=n.sideNearestToPoint(s)}else i=r.sideNearestToPoint(t[0]);else i=r.y>t[1].y?"bottom":"top";if("top"===i)s=new Ca(0,-1);else s=new Ca(0,1);n.rotate&&o&&s.rotate(null,-o);return s}(e,t,r);case vf.CLOSEST_POINT:return kf(e,t,r);case vf.OUTWARDS:return _f(e,t,r);case vf.AUTO:default:return wf(e,t,r)}}(i,c,s,l),t=c[0].distance(c[1])*l.coeff,n=Tf(e,c[1].difference(c[0]).normalize());if(n>Math.PI/4){const r=t+(n-Math.PI/4)*l.angleTangentCoefficient;u=e.clone().scale(r,r)}else u=e.clone().scale(t,t)}if(l.targetTangent)d=l.targetTangent;else{const e=function(e,t,n,r){if(r.targetDirection)switch(r.targetDirection){case yf.UP:return new Ca(0,-1);case yf.DOWN:return new Ca(0,1);case yf.LEFT:return new Ca(-1,0);case yf.RIGHT:return new Ca(1,0);case yf.AUTO:return xf(e,t,r);case yf.CLOSEST_POINT:return Sf(e,t,r);case yf.OUTWARDS:return Ef(e,t,r);default:return r.targetDirection}switch(n){case vf.HORIZONTAL:return function(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const n=e.targetView.getNodeUnrotatedBBox(e.targetView.el),s=t[t.length-1].clone();s.rotate(r.center(),o),i=n.sideNearestToPoint(s)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.x>t[t.length-2].x?"left":"right";if("left"===i)s=new Ca(-1,0);else s=new Ca(1,0);n.rotate&&o&&s.rotate(null,-o);return s}(e,t,r);case vf.VERTICAL:return function(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const n=e.targetView.getNodeUnrotatedBBox(e.targetView.el),s=t[t.length-1].clone();s.rotate(r.center(),o),i=n.sideNearestToPoint(s)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.y>t[t.length-2].y?"top":"bottom";if("top"===i)s=new Ca(0,-1);else s=new Ca(0,1);n.rotate&&o&&s.rotate(null,-o);return s}(e,t,r);case vf.CLOSEST_POINT:return Sf(e,t,r);case vf.OUTWARDS:return Ef(e,t,r);case vf.AUTO:default:return xf(e,t,r)}}(i,c,s,l),t=c.length-1,n=c[t-1].distance(c[t])*l.coeff,r=Tf(e,c[t-1].difference(c[t]).normalize());if(r>Math.PI/4){const t=n+(r-Math.PI/4)*l.angleTangentCoefficient;d=e.clone().scale(t,t)}else d=e.clone().scale(n,n)}const f=function(e,t,n,r){const{tau:i,coeff:o}=r,s=[],a=[],l=[],c=e.length-1;for(let u=0;u<c;u++)s[u]=e[u].distance(e[u+1]);a[0]=t,a[c]=n;for(let u=1;u<c;u++){let t,n;t=1===u?e[u-1].clone().offset(a[u-1].x,a[u-1].y):e[u-1].clone(),n=u===c-1?e[u+1].clone().offset(a[u+1].x,a[u+1].y):e[u+1].clone();const r=t.difference(e[u]).normalize(),i=n.difference(e[u]).normalize(),l=Tf(r,i);let d,f=(Math.PI-l)/2;const p=$f(r,i);let h;h=$f(e[u].difference(e[u+1]),e[u].difference(e[u-1])),p<0&&(f=-f),l<Math.PI/2&&(f<0&&h<0||f>0&&h>0)&&(f-=Math.PI),d=i.clone(),Pf(d,f);const m=d.clone(),g=d.clone(),v=s[u-1]*o,y=s[u]*o;m.scale(v,v),g.scale(y,y),a[u]=[m,g]}for(let u=0;u<c;u++){let t,n;t=0===u?e[u+1].difference(a[u].x/i,a[u].y/i):e[u+1].difference(a[u][1].x/i,a[u][1].y/i),n=u===c-1?e[u].clone().offset(a[u+1].x/i,a[u+1].y/i):e[u].difference(a[u+1][0].x/i,a[u+1][0].y/i),l[u]=[t,e[u],e[u+1],n]}return l}(c,u,d,l),p=f.map((e=>function(e,t){const{tau:n}=t,r=new Ca;r.x=e[1].x+(e[2].x-e[0].x)/(6*n),r.y=e[1].y+(e[2].y-e[0].y)/(6*n);const i=new Ca;return i.x=e[2].x+(e[3].x-e[1].x)/(6*n),i.y=e[2].y+(e[3].y-e[1].y)/(6*n),new al(e[1],r,i,e[2])}(e,l))),h=new cl(p).round(a);return o?h:h.serialize()};function wf(e,t,n){const{sourceBBox:r}=e;let i,o,s;if(e.sourceView)if(o=e.sourceView.model.angle(),n.rotate&&o){const n=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),s=t[0].clone();s.rotate(r.center(),o),i=n.sideNearestToPoint(s)}else i=r.sideNearestToPoint(t[0]);else i=r.sideNearestToPoint(t[1]);switch(i){case"top":s=new Ca(0,-1);break;case"bottom":s=new Ca(0,1);break;case"right":s=new Ca(1,0);break;case"left":s=new Ca(-1,0)}return n.rotate&&o&&s.rotate(null,-o),s}function xf(e,t,n){const{targetBBox:r}=e;let i,o,s;if(e.targetView)if(o=e.targetView.model.angle(),n.rotate&&o){const n=e.targetView.getNodeUnrotatedBBox(e.targetView.el),s=t[t.length-1].clone();s.rotate(r.center(),o),i=n.sideNearestToPoint(s)}else i=r.sideNearestToPoint(t[t.length-1]);else i=r.sideNearestToPoint(t[t.length-2]);switch(i){case"top":s=new Ca(0,-1);break;case"bottom":s=new Ca(0,1);break;case"right":s=new Ca(1,0);break;case"left":s=new Ca(-1,0)}return n.rotate&&o&&s.rotate(null,-o),s}function kf(e,t,n){return t[1].difference(t[0]).normalize()}function Sf(e,t,n){const r=t.length-1;return t[r-1].difference(t[r]).normalize()}function _f(e,t,n){const{sourceBBox:r}=e,i=r.center();return t[0].difference(i).normalize()}function Ef(e,t,n){const{targetBBox:r}=e,i=r.center();return t[t.length-1].difference(i).normalize()}function Pf(e,t){const n=Math.cos(t),r=Math.sin(t),i=n*e.x-r*e.y,o=r*e.x+n*e.y;e.x=i,e.y=o}function Tf(e,t){let n=e.dot(t)/(e.magnitude()*t.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function $f(e,t){return e.x*t.y-e.y*t.x}bf.Directions=vf,bf.TangentDirections=yf;const Nf={TOOLS:Hu.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},jf=Hu.extend({className:function(){var e=Hu.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Hu.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Nf.RENDER],attrs:[Nf.UPDATE],router:[Nf.UPDATE],connector:[Nf.CONNECTOR],smooth:[Nf.UPDATE],manhattan:[Nf.UPDATE],toolMarkup:[Nf.LEGACY_TOOLS],labels:[Nf.LABELS],labelMarkup:[Nf.LABELS],vertices:[Nf.VERTICES,Nf.UPDATE],vertexMarkup:[Nf.VERTICES],source:[Nf.SOURCE,Nf.UPDATE],target:[Nf.TARGET,Nf.UPDATE]},initFlag:[Nf.RENDER,Nf.SOURCE,Nf.TARGET,Nf.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Nf.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Nf.SOURCE)}if(this.hasFlag(e,Nf.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Nf.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,Nf.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[Nf.RENDER,Nf.UPDATE,Nf.VERTICES,Nf.LABELS,Nf.TOOLS,Nf.LEGACY_TOOLS,Nf.CONNECTOR]);let o=!1;this.hasFlag(e,Nf.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Nf.VERTICES));const{model:s}=this,{attributes:a}=s;let l=this.hasFlag(e,Nf.LABELS),c=this.hasFlag(e,Nf.LEGACY_TOOLS);l&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,Nf.LABELS),o=!0),c&&(this.renderTools(),e=this.removeFlag(e,Nf.LEGACY_TOOLS));const u=this.hasFlag(e,Nf.UPDATE),d=this.hasFlag(e,Nf.CONNECTOR);return(u||d)&&(u?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Nf.UPDATE,Nf.TOOLS,Nf.CONNECTOR]),l=!1,c=!1,o=!0),l&&this.updateLabelPositions(),c&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,Nf.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Nf.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Nf.UPDATE),e)},isLabelsRenderRequired:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1)if(!!t[n[1]]){if(2===r)return"markup"in Object(e.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"===typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=tc(e);Array.isArray(t)||(t=[t]);for(var n=this._V,r=0,i=t.length;r<i;r++){var o=t[r],s=o.attr("class");s&&(s=ic(s),n[oa.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if("string"===typeof e)return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=tc(e),n=document.createDocumentFragment();if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var o=t[r].node;n.appendChild(o)}else n.appendChild(t.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t,n=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r=n.childNodes;return(t=r.length>1||"G"!==r[0].nodeName.toUpperCase()?tc("g").append(n):tc(r[0])).addClass("label"),{node:t.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(0===s)return t&&t.remove(),this;t?t.empty():(t=e.labels=tc("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(rc(ea(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var l,c,u=o[a],d=this._normalizeLabelMarkup(this._getLabelMarkup(u.markup));if(d)l=d.node,c=d.selectors;else{var f=i._builtins.defaultLabel,p=this._normalizeLabelMarkup(this._getLabelMarkup(f.markup)),h=i._getDefaultLabel(),m=this._normalizeLabelMarkup(this._getLabelMarkup(h.markup))||p;l=m.node,c=m.selectors}l.setAttribute("label-idx",a),t.append(l),n[a]=l;var g=this.selector;if(c[g])throw new Error("dia.LinkView: ambiguous label root selector.");c[g]=l,r[a]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:n,_V:r,options:i}=this,{labels:o}=r;if(!o||!n.hasLabels())return;const{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,n.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:n}=t;n&&e.labelsLayer&&n.remove()},findLabelNode:function(e,t){const n=this._labelCache[e];if(!n)return null;const r=this._labelSelectors[e],[i=null]=this.findBySelector(t,n,r);return i},_mergeLabelAttrs:function(e,t,n,r){if(null===t)return null;if(void 0===t){if(null===n)return null;if(void 0===n){if(e)return;return r}return e?n:ia({},r,n)}return e?ia({},n,t):ia({},r,n,t)},_mergeLabelSize:function(e,t){if(null===e)return null;if(void 0===e){if(null===t)return null;if(void 0===t)return;return t}return ia({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),r=e._builtins.defaultLabel.attrs,i=e._getDefaultLabel(),o=i.markup,s=i.attrs,a=i.size,l=0,c=t.length;l<c;l++){var u=this._labelCache[l];u.setAttribute("cursor",n?"move":"default");var d=this._labelSelectors[l],f=t[l],p=f.markup,h=f.attrs,m=f.size,g=this._mergeLabelAttrs(p||o,h,s,r),v=this._mergeLabelSize(m,a);this.updateDOMSubtreeAttributes(u,g,{rootBBox:new Xa(v),selectors:d})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e,t=oa(this._V.linkTools.node).empty(),n=_c(this.model.get("toolMarkup")||this.model.toolMarkup),r=tc(n());(t.append(r.node),this._toolCache=r,this.options.doubleLinkTools)&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(n=_c(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),e=tc(n())):e=r.clone(),t.append(e.node),this._tool2Cache=e);return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=oa(this._V.markerVertices.node).empty(),t=_c(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach((function(n,r){e.append(tc(t(Os({idx:r},n))).node)})),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=oa(this._V.markerArrowheads.node);e.empty();var t=_c(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=tc(t({end:"source"})),this._V.targetArrowhead=tc(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const t=this.model,n=t.vertices(),r=[this.sourceAnchor,...n,this.targetAnchor],i=r.length,o=new tl(r);o.simplify({threshold:.001});const s=o.points.map((e=>e.toJSON())),a=s.length;return i===a?0:(t.vertices(s.slice(1,a-1),e),i-a)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new Ca(this.sourceAnchor);case"target":return new Ca(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new Ca(this.sourcePoint);case"target":return new Ca(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{route:n,path:r}=this;if(!n||!r)return;const i=new tl(n);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),r.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),n=this.findAnchors(t),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,r,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:n}=this,r=this.findMarkerPoints(e,t,n),i=this.findPath(e,r.source||t,r.target||n);this.path=i},findMarkerPoints:function(e,t,n){var r,i,o=e[0],s=e[e.length-1],a=this._markerCache;return this._V.markerSource&&(a.sourceBBox=a.sourceBBox||this._V.markerSource.getBBox(),r=Ca(t).move(o||n,a.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(a.targetBBox=a.targetBBox||this._V.markerTarget.getBBox(),i=Ca(n).move(s||t,a.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),a.sourcePoint=r||t.clone(),a.targetPoint=i||n.clone(),{source:r,target:i}},findAnchorsOrdered:function(e,t,n,r){var i,o,s,a,l=this.model,c=l.get(e),u=l.get(n),d=this.getEndView(e),f=this.getEndView(n),p=this.getEndMagnet(e),h=this.getEndMagnet(n);d?(s=t?new Ca(t):f?h:new Ca(u),i=this.getAnchor(c.anchor,d,p,s,e)):i=new Ca(c),f?(a=new Ca(r||i),o=this.getAnchor(u.anchor,f,h,a,n)):o=new Ca(u);var m={};return m[e]=i,m[n]=o,m},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var r,i,o,s,a=e[0],l=e[e.length-1],c=this.model,u=c.get("source"),d=c.get("target"),f=this.sourceView,p=this.targetView,h=this.paper.options;if(f&&!f.isNodeConnection(this.sourceMagnet)){r=this.sourceMagnet||f.el;var m=u.connectionPoint||h.defaultConnectionPoint,g=new La(a||n,t);o=this.getConnectionPoint(m,f,r,g,"source")}else o=t;if(p&&!p.isNodeConnection(this.targetMagnet)){i=this.targetMagnet||p.el;var v=d.connectionPoint||h.defaultConnectionPoint,y=new La(l||t,n);s=this.getConnectionPoint(v,p,i,y,"target")}else s=n;return{source:o,target:s}},getAnchor:function(e,t,n,r,i){var o,s=t.isNodeConnection(n),a=this.paper.options;if(e||(e=s?a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:a.defaultAnchor),!e)throw new Error("Anchor required.");if("function"===typeof e)o=e;else{var l=e.name;if("function"!==typeof(o=a[s?"linkAnchorNamespace":"anchorNamespace"][l]))throw new Error("Unknown anchor: "+l)}var c=o.call(this,t,n,r,e.args||{},i,this);return c?c.round(this.decimalsRounding):new Ca},getConnectionPoint:function(e,t,n,r,i){var o,s,a=r.end,l=this.paper.options;if("function"===typeof l.linkConnectionPoint){var c=n===t.el?void 0:n;if(o=l.linkConnectionPoint(this,t,c,r.start,i))return o}if(!e)return a;if("function"===typeof e)s=e;else{var u=e.name;if("function"!==typeof(s=l.connectionPointNamespace[u]))throw new Error("Unknown connection point: "+u)}return(o=s.call(this,r,t,n,e.args||{},i,this))?o.round(this.decimalsRounding):a},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel.position,n=e._getDefaultLabel(),r=this._normalizeLabelPosition(n.position);return ia({},t,r)},_normalizeLabelPosition:function(e){return"number"===typeof e?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return null===e?null:void 0===e?null===t?null:t:ia({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var e=this.model.get("labels")||[];if(!e.length)return this;for(var t=this._getDefaultLabelPositionProperty(),n=0,r=e.length;n<r;n++){var i=this._labelCache[n];if(i){var o=e[n],s=this._normalizeLabelPosition(o.position),a=this._mergeLabelPositionProperty(s,t),l=this._getLabelTransformationMatrix(a);i.setAttribute("transform",tc.matrixToTransformString(l)),this._cleanLabelMatrices(n)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:n}=this,r=n[e];if(r)for(let i in r){const{id:e}=r[i];e&&e in t&&delete t[e].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;r=this.getPointAtLength(n-i),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===oa.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:n}=this,r=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[r]=null,this.updateEndMagnet(e),!0;const s=n.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(n);return!!a&&(this[r]=a,this.updateEndMagnet(e),!0)},updateEndMagnet:function(e){const t=`${e}Magnet`,n=this.getEndView(e);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=Gs(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){return this._getLabelPositionProperty(e).angle||0},_getLabelPositionArgs:function(e){return this._getLabelPositionProperty(e).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(e,t){return null===e?null:void 0===e?null===t?null:t:ia({},t,e)},addLabel:function(e,t,n,r){var i,o,s,a=0;"number"!==typeof e?(i=e.x,o=e.y,"number"===typeof t?(a=t,s=n):s=t):(i=e,o=t,"number"===typeof n?(a=n,s=r):s=n);var l=this._getDefaultLabelPositionArgs(),c=s,u=this._mergeLabelPositionArgs(c,l),d={position:this.getLabelPosition(i,o,a,u)};return this.model.insertLabel(-1,d,s),-1},addVertex:function(e,t,n){var r="number"!==typeof e,i=r?e.x:e,o=r?e.y:t,s=r?t:n,a={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,n){var r,i,o;js(t)?(r=t.duration,i="reverse"===t.direction,o=t.connection):(r=t,i=!1,o=null);var s={dur:(r=r||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};i&&(s.keyPoints="1;0",s.keyTimes="0;1");var a,l=tc(e);if("string"===typeof o)a=this.findBySelector(o,this.el,this.selectors)[0];else{var c=this._V;a=c.connection?c.connection.node:this.el.querySelector("path")}if(!(a instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(s,a),setTimeout(function(e,t){return function(){e.remove(),"function"===typeof t&&t()}}(l,n),r)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||o,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return e.map(Ca);n=r}var i=qs(n)?n:t[n.name];if(!qs(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var s=n.args||{},a=i.call(this,e,s,this);return a||e.map(Ca)},findPath:function(e,t,n){var r=this.paper.options.connectorNamespace||s,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var a=qs(i)?i:r[i.name];if(!qs(a))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var l=zs(i.args||{});l.raw=!0;var c=a.call(this,t,n,e,l,this);return"string"===typeof c&&(c=new cl(tc.normalizePathData(c))),c},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(mc(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var i,o={},s=0;"number"===typeof n?(s=n,i=r):i=n,i&&(o.args=i);var a,l,c=!(i&&i.absoluteDistance),u=i&&i.absoluteDistance&&i.reverseDistance,d=i&&i.absoluteOffset,f=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},h=new Ca(e,t),m=f.closestPointT(h,p),g=f.lengthAtT(m,p);if(c&&(g=g/this.getConnectionLength()||0),u&&(g=-1*(this.getConnectionLength()-g)||1),o.distance=g,d||(a=f.tangentAtT(m)),a)l=a.pointOffset(h);else{var v=f.pointAtT(m),y=h.difference(v);l={x:y.x,y:y.y}}return o.offset=l,o.angle=s,o},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if("number"===typeof e)t=e;else{if("number"!==typeof e.distance)throw new Error("dia.LinkView: invalid label position distance.");r=e.args||{},t=e.distance,n=e.angle||0}var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;"number"===typeof a&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l,c=0!==s.x||0!==s.y||0===o,u=r.keepGradient,d=r.ensureLegibility,f=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},h=i?t*this.getConnectionLength():t,m=f.tangentAtLength(h,p),g=n;if(m){if(c)(l=m.start.clone()).offset(s);else{var v=m.clone();v.rotate(m.start,-90),v.setLength(o),l=v.end}u&&(g=m.angle()+n,d&&(g=ua((g+90)%180-90)))}else l=f.start.clone(),c&&l.offset(s);return tc.createSVGMatrix().translate(l.x,l.y).rotate(g)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new Ca(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model.vertices(),r=this.getClosestPointLength(new Ca(e,t)),i=0,o=n.length;i<o;i++){var s=n[i];if(r<this.getClosestPointLength(s))break}return i},notifyPointerdown(e,t,n){Hu.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove(e,t,n){Hu.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup(e,t,n){this.notify("link:pointerup",e,t,n),Hu.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Hu.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Hu.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){Hu.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){switch(this.notifyPointerdown(e,t,n),e.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(e,t,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(e,t,n);case"marker-arrowhead":return void this.dragArrowheadStart(e,t,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(e,t,n);case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;switch(r&&this.eventData(e,r),this.eventData(e).action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n)}r&&Os(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;switch(r&&(this.eventData(e,r),this._dragData=null),this.eventData(e).action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){Hu.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Hu.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Hu.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Hu.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){Hu.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){if(tc(e.target).findParentByClass("link-tool",this.el)){if(e.stopPropagation(),this.can("useLinkTools")){if("remove"===t)return void this.model.remove({ui:!0});this.notify(t,e,n,r)}this.notifyPointerdown(e,n,r),this.paper.delegateDragEvents(this,e.data)}else Hu.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n),this.eventData(e).stopPropagation&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var r=e.currentTarget,i=parseInt(r.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),l=this.getLabelCoordinates(a),c=l.x-t,u=l.y-n,d=this._getLabelPositionAngle(i),f=this._getLabelPositionArgs(i),p=this._getDefaultLabelPositionArgs(),h=this._mergeLabelPositionArgs(f,p);this.eventData(e,{action:"label-move",labelIdx:i,dx:c,dy:u,positionAngle:d,positionArgs:h,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var r=e.target,i=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var r=e.target.getAttribute("end"),i=this.startArrowheadMove(r,{ignoreBackwardsCompatibility:!0});this.eventData(e,i)}},dragStart:function(e,t,n){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&"touchmove"===e.type&&(o.async=!1),this.model.label(r.labelIdx,i,o)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){if(this.paper.options.snapLinks){!this._snapArrowhead(e,t,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,n)}else this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,n):this._connectArrowhead(this.getEventTarget(e),t,n,this.eventData(e))},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){if("remove"===e.whenNotAllowed)this.model.remove({ui:!0});else this.model.set(e.arrowhead,e.initialEnd,{ui:!0})},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n);if(i&&!tu.endsEqual(r,i)){var o=this.paper;r.id&&this.notify("link:disconnect",t,o.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,o.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapToPoints:function(e,t,n){let r=null,i=1/0,o=null,s=1/0,a=e.x,l=e.y;for(let c=0;c<t.length;c++){const n=Math.abs(t[c].x-e.x);n<i&&(i=n,r=t[c]);const a=Math.abs(t[c].y-e.y);a<s&&(s=a,o=t[c])}return i<n&&(a=r.x),s<n&&(l=o.y),{x:a,y:l}},_snapArrowheadSelf:function(e,t,n){const{paper:r,model:i}=this,{snapLinksSelf:o}=r.options,s=this.eventData(e),a=o.radius||20,l=[this.getEndAnchor("source"===s.arrowhead?"target":"source"),...i.vertices()],c=this._snapToPoints({x:t,y:n},l,a),u=r.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(u.x,u.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,n){const{paper:r}=this,{snapLinks:i,connectionStrategy:o}=r.options,s=this.eventData(e);let a=!1;var l=i.radius||50,c=r.findViewsInArea({x:t-l,y:n-l,width:2*l,height:2*l}),u=s.closestView||null,d=s.closestMagnet||null,f=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var p,h=Number.MAX_VALUE,m=new Ca(t,n);c.forEach((function(e){const t=[];"false"!==e.el.getAttribute("magnet")&&t.push({bbox:e.model.getBBox(),magnet:e.el}),e.$("[magnet]").toArray().forEach((n=>{t.push({bbox:e.getNodeBBox(n),magnet:n})})),t.forEach((t=>{const{magnet:n,bbox:i}=t,o=i.center().squaredDistance(m);if(o<h){(d===n||r.options.validateConnection.apply(r,s.validateConnectionArgs(e,e.el===n?null:n)))&&(h=o,s.closestView=e,s.closestMagnet=n)}}))}),this);var g=null,v=s.closestView,y=s.closestMagnet;y&&(g=s.magnetProxy=v.findProxyNode(y,"highlighter"));var b=s.arrowhead,w=d!==y;if(u&&w&&u.unhighlight(f,{connecting:!0,snapping:!0}),v){const{prevEnd:e,prevX:r,prevY:i}=s;if(s.prevX=t,s.prevY=n,a=!0,!w&&("function"!==typeof o||r===t&&i===n))return a;if(p=v.getLinkEnd(y,t,n,this.model,b),!w&&Us(e,p))return a;s.prevEnd=p,w&&v.highlight(g,{connecting:!0,snapping:!0})}else p={x:t,y:n};return this.model.set(b,p||{x:t,y:n},{ui:!0}),u&&this.notify("link:snap:disconnect",e,u,d,b),v&&this.notify("link:snap:connect",e,v,y,b),a},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){const{paper:i,model:o}=this;if(r.eventTarget!==e){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const t=r.viewUnderPointer=i.findView(e);if(t){const n=r.magnetUnderPointer=t.findMagnet(e),o=r.magnetProxy=t.findProxyNode(n,"highlighter");n&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(t,n))?o&&t.highlight(o,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=e,o.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});const l=i.getLinkEnd(o,t,n,r,a);r.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){null!==e.z&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t,n=[];n[4]=e,n[5]=this;var r=0,i=0;"source"===e?(r=2,t="target"):(i=2,t="source");var o=this.model.get(t);if(o.id){var s=n[r]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),n[r+1]=a}return function(e,t){return n[i]=e,n[i+1]=e.el===t?void 0:t,n}},_markAvailableMagnets:function(e){function t(e,t){var n=e.paper;return n.options.validateConnection.apply(n,this.validateConnectionArgs(e,t))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,o=r.length;i<o;i++){var s=r[i].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));"false"!==s.el.getAttribute("magnet")&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var c=0,u=l.length;c<u;c++)s.highlight(l[c],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t,n,r=Object.keys(e.marked),i=0,o=r.length;i<o;i++){t=r[i],n=e.marked[t];var s=this.paper.findViewByModel(t);if(s){for(var a=0,l=n.length;a<l;a++)s.unhighlight(n[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:zs(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),!0!==t.ignoreBackwardsCompatibility&&(this._dragData=n),n},onMount:function(){Hu.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Hu.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Hu.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Nf});Object.defineProperty(jf.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Xa(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new Xa(this.sourceAnchor):e.getNodeBBox(n||e.el)}}),Object.defineProperty(jf.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Xa(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new Xa(this.targetAnchor):e.getNodeBBox(n||e.el)}});const Af={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Cf=zu.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return rc(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:n}=this;(e=+e)||(e=0);let r=n[e];if(r)return r;r=n[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in n)o=+o,o<e&&o>i&&(i=o);if(i!==-1/0){const e=n[i];t.insertBefore(r,e.nextSibling)}else t.insertBefore(r,t.firstChild);return r},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let n in t)e.removeChild(t[n]);this.pivotNodes={}}}),Of=Uu.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const e=tc(t);if(i=e.convertToPathData().trim(),"PATH"===e.tagName()&&r){const e=i.search(/.M/i)+1;e>0&&(i=i.substr(0,e))}}catch(Fp){const o=e.getNodeBoundingRect(t);i=tc.rectToPath(Os({},n,o.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:n,options:r}=this,{padding:i,layer:o}=r;let s=this.getNodeMatrix(e,t);if(i){o||t!==e.el||n.remove();let r=e.getNodeBoundingRect(t);const a=r.x+r.width/2,l=r.y+r.height/2;r=tc.transformRect(r,s);const c=Math.max(r.width,1),u=Math.max(r.height,1),d=(c+i)/c,f=(u+i)/u,p=tc.createSVGMatrix({a:d,b:0,c:0,d:f,e:a-d*a,f:l-f*l});s=s.multiply(p)}n.attr({d:this.getPathData(e,t),transform:tc.matrixToTransformString(s)})},highlight(e,t){const{vel:n,options:r}=this;n.attr(r.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),If=20;const Rf=Uu.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:If,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!tc.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(r.includes(o)){const n=e.vel.findOne(`#${t.id}`);if(n){const{node:r}=n;let i=e.getNodeBoundingRect(r);e.model.isElement()&&(i=tc.transformRect(i,e.getNodeMatrix(r)));const o=tc("rect",i.toJSON()),{x:s,y:a}=i.center(),{angle:l,cx:c=s,cy:u=a}=n.rotate();l&&o.rotate(l,c,u),t.parent().append(o)}return t.remove(),!1}return n.forEach((e=>{"fill"===e&&"none"===t.attr("fill")||t.removeAttr(e)})),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach((e=>{t.removeAttr(e)}))},getMaskShape(e,t){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,o=t.tagName();let s;if("G"===o){if(!i)return null;s=t.clone(),function(e,t){const n=e.children();for(;n.length>0;){const e=n.shift();t(e)&&n.push(...e.children())}}(s,(t=>this.transformMaskChild(e,t)))}else{if(r.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,l="none"!==t.attr("fill");let c=parseFloat(t.attr("stroke-width"));isNaN(c)&&(c=1);const u=c+2*o,d=u+2*a;let f=this.getMaskShape(e,t);if(!f){const n=e.getNodeBoundingRect(t.node);n.inflate(n.width?0:.5,n.height?0:.5),f=tc("rect",n.toJSON())}return f.attr(s),tc("mask",{id:this.getMaskId()}).append([f.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":d}),f.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":u})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:n,vel:r}=this,{padding:i,attrs:o,maskClip:s=If,layer:a}=n,l="stroke"in o?o.stroke:"#000000";a||t!==e.el||r.remove();const c=e.getNodeBoundingRect(t).inflate(i+s),u=this.getNodeMatrix(e,t),d=this.getMask(e,tc(t));this.addMask(e.paper,d),r.attr(c.toJSON()),r.attr({transform:tc.matrixToTransformString(u),mask:`url(#${d.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),Lf=Uu.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:rc("highlight-opacity"),highlight:function(e,t){tc(t).addClass(this.opacityClassName)},unhighlight:function(e,t){tc(t).removeClass(this.opacityClassName)}}),Df=rc("highlighted"),Mf=Uu.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:Df},highlight:function(e,t){tc(t).addClass(this.options.className)},unhighlight:function(e,t){tc(t).removeClass(this.options.className)}},{className:Df}),Ff={ROW:"row",COLUMN:"column"},zf=Uu.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const n=e.model,{attribute:r,size:i=20,gap:o=5,direction:s=Ff.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const a="number"===typeof i?{width:i,height:i}:i,l=s===Ff.ROW,c=l?a.width:a.height;let u=n.get(r);Array.isArray(u)||(u=[]);const d=this._prevItems||[],f=u.map(((e,t)=>Us(d[t],u[t])));if(d.length!==u.length||f.some((e=>!e))){const e=this.vel.children(),t=u.map(((t,n)=>{const i=n in e?e[n].node:null;if(f[n])return i;const s=this.createListItem(t,a,i);if(!s)return null;if(!(s instanceof SVGElement))throw new Error("List: item must be an SVGElement");s.dataset.index=n,s.dataset.attribute=r;const u=n*(c+o);return s.setAttribute("transform",l?`translate(${u}, 0)`:`translate(0, ${u})`),s}));this.vel.empty().append(t),this._prevItems=u}const p=u.length,h=0===p?0:p*c+(p-1)*o,m=l?{width:h,height:a.height}:{width:a.width,height:h};this.position(n,m)},position(e,t){const{vel:n,options:r}=this,{margin:i=5,position:o="top-left"}=r,{width:s,height:a}=e.size(),{left:l,right:c,top:u,bottom:d}=wc(i),f=new Xa(l,u,s-(l+c),a-(u+d));let{x:p,y:h}=Pc(f,o);switch(o){case Ec.CENTER:case Ec.TOP:case Ec.BOTTOM:p-=t.width/2;break;case Ec.RIGHT:case Ec.BOTTOM_RIGHT:case Ec.TOP_RIGHT:p-=t.width}switch(o){case Ec.CENTER:case Ec.RIGHT:case Ec.LEFT:h-=t.height/2;break;case Ec.BOTTOM:case Ec.BOTTOM_RIGHT:case Ec.BOTTOM_LEFT:h-=t.height}n.attr("transform",`translate(${p}, ${h})`)}},{Directions:Ff,Positions:Ec});function Vf(e,t,n,r){var i="ratio"in r?r.ratio:.5;return e.getPointAtRatio(i)}function Bf(e,t,n,r){var i="length"in r?r.length:20;return e.getPointAtLength(i)}function Uf(e){return function(t,n,r,i){if(r instanceof Element){var o,s=this.paper.findView(r);if(s)if(s.isNodeConnection(r))o=qf(s,"fixedAt"in i?i.fixedAt:"50%");else o=s.getNodeBBox(r).center();else o=new Ca;return e.call(this,t,n,o,i)}return e.apply(this,arguments)}}function qf(e,t){var n=parseFloat(t);return mc(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}const Hf=Uf((function(e,t,n,r){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new La(n.clone().offset(0,i),n.clone().offset(0,-i)),l=new La(n.clone().offset(i,0),n.clone().offset(-i,0)),c=a.intersect(o,{segmentSubdivisions:s}),u=l.intersect(o,{segmentSubdivisions:s}),d=[];return c&&Array.prototype.push.apply(d,c),u&&Array.prototype.push.apply(d,u),d.length>0?n.chooseClosest(d):"fallbackAt"in r?qf(e,r.fallbackAt):Gf(e,t,n,r)})),Gf=Uf((function(e,t,n,r){var i=e.getClosestPoint(n);return i||new Ca}));function Wf(e,t,n){if(Hs(n)){const{x:r,y:i}=n;if(isFinite(i)){const n=new La(t,e),{start:r,end:o}=n.parallel(i);t=r,e=o}n=r}if(!isFinite(n))return e;var r=e.distance(t);return 0===n&&r>0?e:e.move(t,-Math.min(n,r-1))}function Jf(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}function Kf(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate(Jf(n)/2);var o=e.intersect(i);return Wf(o?e.start.chooseClosest(o):e.end,e.start,r.offset)}var Xf="segmentSubdivisons",Yf="shapeBBox";const Qf=function(e,t,n,r){let{offset:i,alignOffset:o,align:s}=r;return s&&function(e,t){let n,r,i,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{start:a,end:l}=e;switch(t){case"left":n="x",r=l,i=a,o=-1;break;case"right":n="x",r=a,i=l,o=1;break;case"top":n="y",r=l,i=a,o=-1;break;case"bottom":n="y",r=a,i=l,o=1;break;default:return}a[n]<l[n]?r[n]=i[n]:i[n]=r[n],isFinite(s)&&(r[n]+=o*s,i[n]+=o*s)}(e,s,o),Wf(e.end,e.start,i)},Zf=Kf,ep=function(e,t,n,r){var i=t.model.angle();if(0===i)return Kf(e,t,n,r);var o=t.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(Jf(n)/2);var s=o.center(),a=e.clone().rotate(s,i),l=a.setLength(1e6).intersect(o);return Wf(l?a.start.chooseClosest(l).rotate(s,-i):e.end,e.start,r.offset)},tp=function(e,t,n,r){var i,o,s=r.selector,a=e.end;if(i="string"===typeof s?t.findBySelector(s)[0]:!1===s?n:Array.isArray(s)?ac(n,s):function(e){if(!e)return null;var t=e;do{var n=t.tagName;if("string"!==typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!tc.isSVGGraphicsElement(i)){if(i===n||!tc.isSVGGraphicsElement(n))return a;i=n}var l,c=t.getNodeShape(i),u=t.getNodeMatrix(i),d=t.getRootTranslateMatrix(),f=t.getRootRotateMatrix(),p=d.multiply(f).multiply(u),h=p.inverse(),m=tc.transformLine(e,h),g=m.start.clone(),v=t.getNodeData(i);if(!1===r.insideout&&(v[Yf]||(v[Yf]=c.bbox()),v[Yf].containsPoint(g)))return a;if(c instanceof cl){var y=r.precision||2;v[Xf]||(v[Xf]=c.getSegmentSubdivisions({precision:y})),l={precision:y,segmentSubdivisions:v[Xf]}}!0===r.extrapolate&&m.setLength(1e6),(o=m.intersect(c,l))?tc.isArray(o)&&(o=g.chooseClosest(o)):!0===r.sticky&&(o=c instanceof Xa?c.pointNearestToPoint(g):c instanceof Va?c.intersectionWithLineFromCenterToPoint(g):c.closestPoint(g,l));var b=o?tc.transformPoint(o,p):a,w=r.offset||0;return r.stroke&&(w+=Jf(i)/2),Wf(b,e.start,w)};function np(e){return function(t,n,r,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),l=i.dx;if(l){var c=mc(l);l=parseFloat(l),isFinite(l)&&(c&&(l/=100,l*=s.width),a.x+=l)}var u=i.dy;if(u){var d=mc(u);u=parseFloat(u),isFinite(u)&&(d&&(u/=100,u*=s.height),a.y+=u)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}const rp=np("center"),ip=np("topMiddle"),op=np("bottomMiddle"),sp=np("leftMiddle"),ap=np("rightMiddle"),lp=np("origin"),cp=np("topRight"),up=np("bottomLeft"),dp=np("corner"),fp=Uf((function(e,t,n,r){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),c=r.padding;if(isFinite(c)||(c=0),a.y+c<=n.y&&n.y<=l.y-c){var u=n.y-s.y;s.x+=0===i||180===i?0:1*u/Math.tan(pa(i)),s.y+=u}else if(a.x+c<=n.x&&n.x<=l.x-c){var d=n.x-s.x;s.y+=90===i||270===i?0:d*Math.tan(pa(i)),s.x+=d}return s})),pp=Uf((function(e,t,n,r){var i,o,s,a=!!r.rotate;a?(i=e.getNodeUnrotatedBBox(t),s=e.model.getBBox().center(),o=e.model.angle()):i=e.getNodeBBox(t);var l,c=r.padding;switch(isFinite(c)&&i.inflate(c),a&&n.rotate(s,o),i.sideNearestToPoint(n)){case"left":l=i.leftMiddle();break;case"right":l=i.rightMiddle();break;case"top":l=i.topMiddle();break;case"bottom":l=i.bottomMiddle()}return a?l.rotate(s,-o):l})),hp=function(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)},mp={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},gp=1/0,vp=9007199254740991,yp=Hu.Highlighting,bp={[yp.DEFAULT]:{name:"stroke",options:{padding:3}},[yp.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[yp.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},wp=[{name:Af.BACK},{name:Af.CELLS},{name:Af.LABELS},{name:Af.FRONT},{name:Af.TOOLS}],xp=zu.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Xu,linkView:jf,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:bp,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new tu,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,n,r,i,o){return("target"===i?n:e)instanceof Xu},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:mp.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,n,r,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(e,n,r)},onViewPostponed:function(e,t,n){return n.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:a,anchorNamespace:u,linkAnchorNamespace:l,connectionPointNamespace:c,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace="undefined"!==typeof joint&&Zs(joint,"shapes")?joint.shapes:null);const n=this.model=e.model||new Mu;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=oa(t.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!As(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===mp.APPROX){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:l,interactive:c}=e;!l&&"undefined"!==typeof joint&&Zs(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),qs(t)||(e.defaultConnector=Vs(t)),qs(n)||(e.defaultRouter=Vs(n)),qs(r)||(e.defaultConnectionPoint=Vs(r)),qs(i)||(e.defaultAnchor=Vs(i)),qs(o)||(e.defaultLinkAnchor=Vs(o)),Hs(c)&&(e.interactive=Os({},c)),Hs(a)&&(e.highlighting=Rs({},a,bp)),e.origin=Os({},s)},children:function(){var e=tc.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:rc("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:rc("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:rc("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:n,defs:r,layers:i,background:o,grid:s}=e;return n.style.overflow=t.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=oa(o),this.$grid=oa(s),this.renderLayers(),tc.ensureId(n),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp;this.removeLayers(),e.forEach((e=>{let{name:t,sorted:n}=e;const r=new Cf({name:t});this.layers.appendChild(r.el),this._layers[t]=r}));const t=this.getLayerView(Af.CELLS),n=this.getLayerView(Af.TOOLS),r=this.getLayerView(Af.LABELS);this.tools=n.el,this.cells=this.viewport=t.el,t.vel.addClass(rc("viewport")),r.vel.addClass(rc("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach((t=>{e[t].remove(),delete e[t]}))},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach((t=>{e[t].removePivots()}))},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(void 0===e){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),tc.createSVGMatrix(e)}e=tc.createSVGMatrix(e);var r=tc.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return tc.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,n){if(e instanceof Hu)for(var r=e.model,i=this.model.getConnectedLinks(r),o=0,s=i.length;o<s;o++){var a=i[o],l=this.findViewByModel(a);if(l){var c=["UPDATE"];a.getTargetCell()===r&&c.push("TARGET"),a.getSourceCell()===r&&c.push("SOURCE");var u=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(c),u,n)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof Hu))return!1;var n=e.model;if(n.isElement())return!1;if(0===(t&e.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,r),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(n.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,r),e.updateEndMagnet("target")),0===i&&0===s)return!this.dumpView(e,r)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&!1!==r.async)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(r);i&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(e,t,n,r){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:c}=e;let u=i.priorities[n];if(u||(u=i.priorities[n]={}),n>l)for(let p=n-1;p>=l;p--){const e=i.priorities[p];e&&c in e&&(u[c]|=e[c],delete e[c])}let d=u[c]||0;if((d&t)===t)return;d||i.count++,t&s&&d&a?u[c]^=a:t&a&&d&s&&(u[c]^=s),u[c]|=t;const f=o.onViewUpdate;"function"===typeof f&&f.call(this,e,t,n,r||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,n=e.cid,r=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|r[n];return delete r[n],i},dumpView:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.dumpViewUpdate(e);if(!n)return 0;const r=!t.silent;r&&this.notifyBeforeRender(t);const i=this.updateView(e,n,t);if(r){const n={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(n,t)}return i},updateView:function(e,t,n){if(!e)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof Hu){if(t&r)return this.removeView(s),0;if(t&i){const n=!!(t&o);n&&(t^=o),this.insertView(e,n),t^=i}}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=e.FLAG_INSERT;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){return!!e&&e.cid in this._updates.mounted},dumpViews:function(e){var t=Is({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){let t;this.notifyBeforeRender(e);let n=0,r=0,i=vp;do{r++,t=this.updateViewsBatch(e),n+=t.updated,i=Math.min(t.priority,i)}while(!t.empty);const o={updated:n,batches:r,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let n=t.length;for(;n>0&&n--;)for(let r in e[t[n]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:vp});const{_updates:n,options:r}=this,i=n.id;if(i){hc(i),0===t.processed&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=Is({},e,{mountBatchSize:1e3-o.mounted,unmountBatchSize:1e3-o.unmounted}),a=this.checkViewport(s),l=a.unmounted,c=a.mounted;let u=t.processed;const d=n.count;o.updated>0?(u+=o.updated+o.unmounted,o.processed=u,t.priority=Math.min(o.priority,t.priority),o.empty&&0===c?(o.unmounted+=l,o.mounted+=c,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=vp,n.count=0):t.processed=u):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",e));const f=e.progress;if(d&&"function"===typeof f&&f.call(this,o.empty,u,d,o,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=pc(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.beforeRender;"function"!==typeof t&&(t=this.options.beforeRender,"function"!==typeof t)||t.call(this,e,this)},notifyAfterRender:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.afterRender;"function"!==typeof n&&(n=this.options.afterRender),"function"===typeof n&&n.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||gp,n=this._updates,r=0,i=0,o=0,s=0,a=vp,l=!0,c=this.options,u=n.priorities,d="viewport"in e?e.viewport:c.viewport;"function"!==typeof d&&(d=null);var f=c.onViewPostponed;"function"!==typeof f&&(f=null);var p=Object.keys(u);e:for(var h=0,m=p.length;h<m;h++){var g=+p[h],v=u[g];for(var y in v){if(r>=t){l=!1;break e}var b=Fu[y];if(b){var w=v[y];if(0===(w&b.FLAG_REMOVE)){var x=y in n.unmounted;if(b.DETACHABLE&&d&&!d.call(this,b,!x,this)){x||(this.registerUnmountedView(b),this.detachView(b)),n.unmounted[y]|=w,delete v[y],o++;continue}x&&(w|=b.FLAG_INSERT,s++),w|=this.registerMountedView(b)}var k=this.updateView(b,w,e);k>0&&(v[y]=k,!f||!f.call(this,b,k,this)||v[y])?(i++,l=!1):(a>g&&(a=g),r++,delete v[y])}else delete v[y]}}return{priority:a,updated:r,postponed:i,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Fu[t[i]];return r},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Fu[t[i]];return r},checkUnmountedViews:function(e,t){t||(t={});var n=0;"function"!==typeof e&&(e=null);for(var r=("mountBatchSize"in t?t.mountBatchSize:1/0),i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,l=Math.min(o.length,r);a<l;a++){var c=o[a];if(c in s){var u=Fu[c];if(u)if(u.DETACHABLE&&e&&!e.call(this,u,!1,this))o.push(c);else{n++;var d=this.registerMountedView(u);d&&this.scheduleViewUpdate(u,d,u.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),n},checkMountedViews:function(e,t){t||(t={});var n=0;if("function"!==typeof e)return n;for(var r=("unmountBatchSize"in t?t.unmountBatchSize:1/0),i=this._updates,o=i.mountedCids,s=i.mounted,a=0,l=Math.min(o.length,r);a<l;a++){var c=o[a];if(c in s){var u=Fu[c];if(u)if(u.DETACHABLE&&!e.call(this,u,!0,this))n++,this.registerUnmountedView(u)&&this.detachView(u);else o.push(c)}}return o.splice(0,a),n},checkViewVisibility:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="viewport"in t?t.viewport:this.options.viewport;"function"!==typeof n&&(n=null);const r=this._updates,{mounted:i,unmounted:o}=r,s=!e.DETACHABLE||!n||n.call(this,e,!1,this);let a=!1,l=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);const t=r.mountedCids.indexOf(e.cid);r.mountedCids.splice(t,1),a=!0}if(!a&&e.cid in o&&s){const t=r.unmountedCids.indexOf(e.cid);r.unmountedCids.splice(t,1);var c=this.registerMountedView(e);c&&this.scheduleViewUpdate(e,c,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Is({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);if(r>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-r,t.mountBatchSize)}return{mounted:this.checkUnmountedViews(n,t),unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&hc(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,n&&n===r&&t.keyFrozen||(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===mp.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return As(t)||(t=this.el.clientWidth),As(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){const{options:n}=this,{width:r,height:i}=n;let o=void 0===e?r:e,s=void 0===t?i:t;if(r===o&&i===s)return;n.width=o,n.height=s,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,n=e.height;As(t)&&(t=Math.round(t)),As(n)&&(n=Math.round(n)),this.$el.css({width:null===t?"":t,height:null===n?"":n})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,n,r){r=js(e)?e:Os({gridWidth:e,gridHeight:t,padding:n},r);const{x:i,y:o,width:s,height:a}=this.getFitToContentArea(r),{sx:l,sy:c}=this.scale();return this.setOrigin(-i*l,-o*c),this.setDimensions(s*l,a*c),new Xa(i,o,s,a)},getFitToContentArea:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.gridWidth||1,n=e.gridHeight||1,r=wc(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,n),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,c="contentArea"in e?new Xa(e.contentArea):this.getContentArea(e),{sx:u,sy:d}=this.scale();c.x*=u,c.y*=d,c.width*=u,c.height*=d;let f=Math.ceil((c.width+c.x)/t),p=Math.ceil((c.height+c.y)/n);e.allowNegativeBottomRight||(f=Math.max(f,1),p=Math.max(p,1)),f*=t,p*=n;let h=0;("negative"===l&&c.x<0||"positive"===l&&c.x>=0||"any"===l)&&(h=Math.ceil(-c.x/t)*t,h+=r.left,f+=h);let m=0;return("negative"===l&&c.y<0||"positive"===l&&c.y>=0||"any"===l)&&(m=Math.ceil(-c.y/n)*n,m+=r.top,p+=m),f+=r.right,p+=r.bottom,f=Math.max(f,i),p=Math.max(p,o),f=Math.min(f,s),p=Math.min(p,a),new Xa(-h/u,-m/d,f/u,p/d)},transformToFitContent:function(e){let t,n;if(e||(e={}),"contentArea"in e){const r=e.contentArea;t=this.localToPaperRect(r),n=new Ca(r)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Is(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=wc(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const e=this.translate(),t=this.getComputedSize();l={x:e.tx,y:e.ty,width:t.width,height:t.height}}l=new Xa(l).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const c=this.scale();let u=l.width/t.width*c.sx,d=l.height/t.height*c.sy;if(e.preserveAspectRatio&&(u=d=Math.min(u,d)),e.scaleGrid){const t=e.scaleGrid;u=t*Math.floor(u/t),d=t*Math.floor(d/t)}u=Math.min(o,Math.max(i,u)),d=Math.min(a,Math.max(s,d));const f=u/c.sx,p=d/c.sy,h=this.options.origin;let m=l.x-n.x*u-h.x,g=l.y-n.y*d-h.y;switch(e.verticalAlign){case"middle":g+=(l.height-t.height*p)/2;break;case"bottom":g+=l.height-t.height*p}switch(e.horizontalAlign){case"middle":m+=(l.width-t.width*f)/2;break;case"right":m+=l.width-t.width*f}this.scale(u,d),this.translate(m,g)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Xa:tc(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(){const{restrictTranslate:e}=this.options;let t;if(qs(e)){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t=e.apply(this,r)}else t=!0===e?this.getArea():e?new Xa(e):null;return t},createViewForModel:function(e){const{options:t}=this;var n,r,i=t.cellViewNamespace,o=e.get("type")+"View",s=ac(i,o,".");return e.isLink()?(n=t.linkView,r=jf):(n=t.elementView,r=Xu),new(n.prototype instanceof Wr.View?s||n:n.call(this,e)||s||r)({model:e,interactive:t.interactive,labelsLayer:!0===t.labelsLayer?Af.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:n,_updates:r}=this,i=n[t];if(i){var{cid:o}=i;const{mounted:e,unmounted:s}=r;i.remove(),delete n[t],delete e[o],delete s[o]}return i},renderView:function(e,t){const{id:n}=e,r=this._views;let i,o,s=!0;return n in r&&(i=r[n],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=r[n]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(ea(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=e.length;r<i;r++)this.renderView(e[r],t);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){Ls(this._views,"remove"),this._views={}},sortViews:function(){this.isExactSorting()&&(this.isFrozen()?this._updates.sort=!0:this.sortViewsExact())},sortViewsExact:function(){var e=oa(this.cells).children("[model-id]"),t=this.model.get("cells");!function(e,t){var n=oa(e),r=n.map((function(){var e=this.parentNode,t=e.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,t),e.removeChild(t)}}));Array.prototype.sort.call(n,t).each((function(e){r[e].call(this)}))}(e,(function(e,n){var r=t.get(e.getAttribute("model-id")),i=t.get(n.getAttribute("model-id")),o=r.attributes.z||0,s=i.attributes.z||0;return o===s?0:o<s?-1:1}))},insertView:function(e,t){const n=this.getLayerView(Af.CELLS),{el:r,model:i}=e;if(this.options.sorting===mp.APPROX)n.insertSortedNode(r,i.get("z"));else n.insertNode(r);e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,n,r){if(void 0===e)return tc.matrixToScale(this.matrix());void 0===t&&(t=e),void 0===n&&(n=0,r=0);var i=this.translate();if(n||r||i.tx||i.ty){var o=i.tx-n*(e-1),s=i.ty-r*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(void 0===e)return tc.matrixToRotate(this.matrix());if(void 0===t){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(void 0===e)return tc.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:i}=n;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:s,ty:a}=this.translate();return r.x=s,r.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=Cs(e)?this.cells.querySelector(e):e instanceof oa?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=Cs(e)||As(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){return e=new Ca(e),this.model.getElements().map(this.findViewByModel,this).filter((function(t){return t&&t.vel.getBBox({target:this.cells}).containsPoint(e)}),this)},findViewsInArea:function(e,t){t=Is(t||{},{strict:!1}),e=new Xa(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter((function(t){return t&&e[r](t.vel.getBBox({target:this.cells}))}),this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e){if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.trigger("tools:event",e,...n)}},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new Ca(e,t);return tc.transformPoint(n,this.matrix())},localToPaperRect:function(e,t,n,r){var i=new Xa(e,t,n,r);return tc.transformRect(i,this.matrix())},paperToLocalPoint:function(e,t){var n=new Ca(e,t);return tc.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(e,t,n,r){var i=new Xa(e,t,n,r);return tc.transformRect(i,this.matrix().inverse())},localToClientPoint:function(e,t){var n=new Ca(e,t);return tc.transformPoint(n,this.clientMatrix())},localToClientRect:function(e,t,n,r){var i=new Xa(e,t,n,r);return tc.transformRect(i,this.clientMatrix())},clientToLocalPoint:function(e,t){var n=new Ca(e,t);return tc.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(e,t,n,r){var i=new Xa(e,t,n,r);return tc.transformRect(i,this.clientMatrix().inverse())},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new Ca(e,t).difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),o=new Xa(e,t,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new Ca(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof jf))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t))&&(!(!n.linkPinning&&!i.linkPinning.call(this,r,t))&&!("function"===typeof n.allowLink&&!n.allowLink.call(this,e,this)))},getDefaultLink:function(e,t){return qs(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{highlighter:t,type:n}=e;const{highlighting:r,highlighterNamespace:i}=this.options;if(void 0===t){if(!r)return!1;if(n&&(t=r[n],!1===t))return!1;t||(t=r.default)}if(!t)return!1;Cs(t)&&(t={name:t});const o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if("function"!==typeof s.highlight)throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if("function"!==typeof s.unhighlight)throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=fc(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){if(this.eventData(e).mousemoved<=this.options.clickThreshold){e=fc(e);var t=this.findView(e.target);if(this.guard(e,t))return;var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired?this.contextMenuFired=!1:(e=fc(e),this.contextMenuTrigger(e))},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=fc(e);const{target:t,button:n}=e,r=this.findView(t),i=2===n;if(r){if(!i&&this.guard(e,r))return;const n=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!n&&e.preventDefault(),n&&r.preventDefaultInteraction(e);const o=this.customEventTrigger(e,r);if(o){if(o.isPropagationStopped())return;e.data=o.data}const s=t.closest("[magnet]");if(s&&r.el!==s&&r.el.contains(s)){const t=fc(oa.Event(e.originalEvent,{data:e.data,currentTarget:s}));if(this.onmagnet(t),t.isDefaultPrevented()&&e.preventDefault(),t.isPropagationStopped()){if(i)return;return void this.delegateDragEvents(r,t.data)}e.data=t.data}}if(i){this.contextMenuFired=!0;const t=oa.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(t)}else{const t=this.snapToGrid(e.clientX,e.clientY);r?r.pointerdown(e,t.x,t.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,t.x,t.y)),this.delegateDragEvents(r,e.data)}},pointermove:function(e){var t=this.eventData(e);if(t.mousemoved||(t.mousemoved=0,this.undelegateEvents()),!(++t.mousemoved<=this.options.moveThreshold)){e=fc(e);var n=this.snapToGrid(e.clientX,e.clientY),r=t.sourceView;r?r.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=fc(e),n=this.snapToGrid(t.clientX,t.clientY),r=this.eventData(e).sourceView;r?r.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(oa.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=fc(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=fc(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=fc(e);const{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(n);if(i){if(o===i)return;if(i.mouseenter(e),this.el.contains(n))return}o||r===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=fc(e);const{target:t,relatedTarget:n,currentTarget:r}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(n);if(i){if(o===i)return;if(i.mouseleave(e),this.el.contains(n))return}o||r===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:function(e,t,n){if("function"!==typeof e)throw new TypeError("Expected a function");let r,i,o,s,a,l,c=0,u=!1,d=!1,f=!0;const p=!t&&0!==t&&window&&"function"===typeof window.requestAnimationFrame;function h(t){const n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n),s}function m(e,t){return p?(window.cancelAnimationFrame(a),window.requestAnimationFrame(e)):setTimeout(e,t)}function g(e){const n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function v(){const e=Date.now();if(g(e))return y(e);a=m(v,function(e){const n=e-c,r=t-(e-l);return d?Math.min(r,o-n):r}(e))}function y(e){return a=void 0,f&&r?h(e):(r=i=void 0,s)}function b(){const e=Date.now(),n=g(e);for(var o=arguments.length,f=new Array(o),p=0;p<o;p++)f[p]=arguments[p];if(r=f,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=m(v,t),u?h(e):s}(l);if(d)return a=m(v,t),h(l)}return void 0===a&&(a=m(v,t)),s}return t=+t||0,js(n)&&(u=!!n.leading,d="maxWait"in n,o=d?Math.max(+n.maxWait||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=()=>{void 0!==a&&function(e){if(p)return window.cancelAnimationFrame(e);clearTimeout(e)}(a),c=0,r=l=i=a=void 0},b.flush=()=>void 0===a?s:y(Date.now()),b.pending=()=>void 0!==a,b}((function(){const{event:e,deltas:t}=this._mw_evt_buffer,n=t.reduce(((e,t)=>e+function(e,t){return e>t?t:e<-t?-t:e}(t,50)),0),r=Math.pow(.995,n),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,r),this._mw_evt_buffer={event:null,deltas:[]}}),20,{maxWait:20}),mousewheel:function(e){e=fc(e);const t=this.findView(e.target);if(this.guard(e,t))return;const n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:o}=function(e){let t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r="deltaX"in e?e.deltaX:10*t,i="deltaY"in e?e.deltaY:10*n,(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),0===e.deltaX&&0!==e.deltaY&&e.shiftKey&&(r=i,i=0,t=n,n=0),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,deltaX:r,deltaY:i}}(n),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const s=Math.max(-1,Math.min(1,n.wheelDelta));t?t.mousewheel(e,r.x,r.y,s):this.trigger("blank:mousewheel",e,r.x,r.y,s),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=fc(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget;if(n.getAttribute("magnet")){var r=this.findView(n);if(r){if(e=fc(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);t.call(this,r,e,n,i.x,i.y)}}},onmagnet:function(e){if(2===e.button){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=oa.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,(function(e,t,n,r,i){e.onmagnet(t,r,i)}))},magnetpointerdblclick:function(e){this.magnetEvent(e,(function(e,t,n,r,i){e.magnetpointerdblclick(t,n,r,i)}))},magnetcontextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired?this.magnetContextMenuFired=!1:this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,(function(e,t,n,r,i){e.magnetcontextmenu(t,n,r,i)}))},onlabel:function(e){var t=e.currentTarget,n=this.findView(t);if(!n)return;if(e=fc(e),this.guard(e,n))return;const r=this.customEventTrigger(e,n,t);if(r){if(r.isPropagationStopped())return;e.data=r.data}var i=this.snapToGrid(e.clientX,e.clientY);n.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=fc(e),{x:n,y:r}=this.snapToGrid(t.clientX,t.clientY);return[t,n,r]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if("mousedown"===e.type&&2===e.button)return!0;if(this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&void 0!==e.data.guarded)return e.data.guarded;const{target:n}=e;return!!this.GUARDED_TAG_NAMES.includes(n.tagName)||!(t&&t.model&&t.model instanceof eu)&&(this.svg!==n&&this.el!==n&&!oa.contains(this.svg,n))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:tc("svg",{width:"100%",height:"100%"},tc("defs")),patterns:{},add:function(e,t){tc(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(tc("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return void 0!==this.patterns[e]}}),this._gridCache},setGrid:function(e){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(e)?e:[e||{}]).forEach((function(e){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(e))}),this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(Cs(e)&&Array.isArray(t[e]))return t[e].map((function(e){return Os({},e)}));var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(r||i||n.markup||(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map((function(e){return Os({},e)})),s=Array.isArray(n.args)?n.args:[n.args||{}];Is(s[0],ta(e,"args"));for(var a=0;a<s.length;a++)o[a]&&Os(o[a],s[a]);return o}return r?n:[n]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach((function(e,o){var s="pattern_"+o,a=ia(e,n[o],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});a.width=t*(r.a||1)*(a.scaleFactor||1),a.height=t*(r.d||1)*(a.scaleFactor||1),i.exist(s)||i.add(s,tc("pattern",{id:s,patternUnits:"userSpaceOnUse"},tc(a.markup)));var l=i.get(s);qs(a.update)&&a.update(l.node.childNodes[0],a);var c=a.ox%a.width;c<0&&(c+=a.width);var u=a.oy%a.height;u<0&&(u+=a.height),l.attr({x:c,y:u,width:a.width,height:a.height})}));var o=(new XMLSerializer).serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){var t=(e=e||{}).position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();js(t)&&(t=i.tx+r.sx*(t.x||0)+"px "+(i.ty+r.sy*(t.y||0))+"px");js(n)&&(n=(n=new Xa(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(e instanceof HTMLImageElement){if(this._background&&this._background.id===t.id){var n,r=(t=t||{}).size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[function(){return ks(`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}`.replace(/['\u2019]/g,"")).reduce(((e,t,n)=>(t=t.toLowerCase(),e+(n?Ss(t):t))),"")}(i)];if(qs(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),i="repeat",js(r)?(r.width*=l.width/e.width,r.height*=l.height/e.height):void 0===r&&(t.size={width:l.width/s,height:l.height/s})}else n=e.src,void 0===r&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=Vs(e),dc(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Ls(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!js(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+sc(JSON.stringify(e))),!this.isDefined(t)){var r=Sc,i=r[n]&&r[n](e.args||{});if(!i)throw new Error("Non-existing filter "+n);var o=Os({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});tc(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!js(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{type:r,id:i=r+t.id+sc(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;const a=Gs(o).map((e=>{let{offset:t,color:n,opacity:r}=e;return tc("stop").attr({offset:t,"stop-color":n,"stop-opacity":Number.isFinite(r)?r:1})})),l=tc(r,s,a);return l.id=i,l.appendTo(n),i},definePattern:function(e){if(!js(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+sc(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const s=tc("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=r,s.attr(o),"string"===typeof i)s.append(tc(i));else{const{fragment:e}=oc(i);s.append(e)}return s.appendTo(n),r},defineMarker:function(e){if(!js(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:n}=this,{id:r=t.id+sc(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(r))return r;const a=tc("marker",{orient:"auto",overflow:"visible",markerUnits:s});let l;if(a.id=r,a.attr(o),i){let e;if("string"===typeof i)e=tc(i),e=Array.isArray(e)?e:[e];else{const{fragment:t}=oc(i);e=tc(t).children()}l=e.length>1?tc("g").append(e):e[0]}else{const{type:t="path"}=e;l=tc(t)}const c=ta(e,"type","id","markup","attrs","markerUnits");return Object.keys(c).forEach((e=>{const t=c[e],n=l.attr(e);if(null==n)l.attr(e,t);else if("transform"===e)l.attr(e,t+" "+n)})),l.appendTo(a),a.appendTo(n),r},customEventTrigger:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.el;const r=e.target.closest("[event]");if(r&&n!==r&&t.el.contains(r)){const t=fc(oa.Event(e.originalEvent,{data:e.data,currentTarget:r}));return this.onevent(t),t.isDefaultPrevented()&&e.preventDefault(),t}return null}},{sorting:mp,Layers:Af,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var o=i.getContext("2d"),s=As(t.watermarkAngle)?-t.watermarkAngle:-20,a=pa(s),l=i.width/4,c=i.height/4,u=0;u<4;u++)for(var d=0;d<4;d++)(u+d)%2>0&&(o.setTransform(1,0,0,1,(2*u-1)*l,(2*d-1)*c),o.rotate(a),o.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){tc(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;tc(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",tc(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",tc(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",tc(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}}),kp={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if("undefined"!==typeof n)return n;try{n=t()}catch(Fp){n=!1}return this._results[e]=n,n}},Sp=Ru.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});Ru.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Ru.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),Ru.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),Ru.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),Ru.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),Ru.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Ru.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Ru.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Ru.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Ru.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});Ru.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(void 0===e)return this.attr("body/lateralArea");var n={lateralArea:e},r=mc(e)?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:r},t)}},{attributes:{lateralArea:{set:function(e,t){var n=mc(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,o=t.width,s=t.height,a=o/2,l=n?s*e:e,c=tc.KAPPA,u=c*a,d=c*(n?s*e:e),f=r+o/2,p=r+o,h=i+l,m=h-l,g=i+s-l,v=i+s;return{d:["M",r,h,"L",r,g,"C",r,g+d,f-u,v,f,v,"C",f+u,v,p,g+d,p,g,"L",p,h,"C",p,h-d,f+u,m,f,m,"C",f-u,m,r,h-d,r,h,"Z"].join(" ")}}}}});var _p=kp.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}};Ru.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},_p]},{attributes:{text:{set:function(e,t,n,r){if(!(n instanceof HTMLElement)){var i=r.style||{},o={text:e,width:-5,height:"100%"},s=Os({textVerticalAnchor:"middle"},i);return Zc.textWrap.set.call(this,o,t,n,s),{fill:i.color||null}}n.textContent=e},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}});const Ep=tu.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),Pp=(tu.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),tu.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]}),zu.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:n}=this;return!t||!n||t.guard(e,n)}}));const Tp=Pp.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:n=0,y:r=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,l=function(e,t){const{model:n}=e;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}(e,o);const c=e.model.angle();s||(l=l.bbox(c));const{x:u=0,y:d=0}=i;mc(n)?n=parseFloat(n)/100*l.width:Rc(n)&&(n=Number(Dc(n,l))),mc(r)?r=parseFloat(r)/100*l.height:Rc(r)&&(r=Number(Dc(r,l)));let f=tc.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return s&&(f=f.rotate(c)),f=f.translate(n+u-l.width/2,r+d-l.height/2),a&&(f=f.scale(a)),f},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:n=0,distance:r=0,rotate:i,scale:o}=t;let s,a,l;s=mc(r)?e.getTangentAtRatio(parseFloat(r)/100):e.getTangentAtLength(r),s?(a=s.start,l=s.vector().vectorAngle(new Ca(1,0))||0):(a=e.getConnection().start,l=0);let c=tc.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,n);return i||(c=c.rotate(-l)),o&&(c=c.scale(o)),c},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;"function"===typeof t&&t.call(this.relatedView,e,this.relatedView,this)}}}),$p=Tp.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}}),Np=zu.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){var t=(e=Os(this.options,e)).tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof Hu))return this;for(var r=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof Pp&&(s.configure(n,this),this.vel.append(s.el),r.push(s))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var n=this.isRendered,r=0,i=t.length;r<i;r++){var o=t[r];n?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i===e||i.isVisible()||(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:n,layer:r=Af.TOOLS,z:i}=e;return n&&(r?n.paper.getLayerView(r).insertSortedNode(t,i):n.el.appendChild(t)),this}}),jp=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,Ap=async()=>{if(!jp()){const e=await Cp();if(!e)throw new Error("failed to get file through HTML5");return{td:await Op(e),fileName:e.name}}const e=await Dp(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},Cp=async()=>new Promise(((e,t)=>{const n=document.getElementById("fileInput");n.onchange=r=>{const i=n.files[0];return i?e(i):t(new Error("AbortError"))},n.click()})),Op=async e=>new Promise((t=>{const n=new FileReader;n.addEventListener("loadend",(e=>{const n=e.srcElement.result;return t(n)})),n.readAsText(e)})),Ip=async(e,t,n)=>{var r;return jp()?(t=null!==(r=t)&&void 0!==r?r:await Mp(),await Rp(t,n),t):(Lp(e,n),e)},Rp=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();return await n.write(0,t),void await n.close()}const n=await e.createWritable();await n.write(t),await n.close()},Lp=(e,t)=>{const n=JSON.parse(t);let r=n.id||n.title;if(!r)throw Error("the TD has to have either an id or a title to be saved");r=r.replace(/\s/g,"")+".jsonld",e=e||r;const i=new File([t],"",{type:"application/ld+json"}),o=document.getElementById("aDownload");o.href=window.URL.createObjectURL(i),o.setAttribute("download",e),o.click()},Dp=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then((e=>e[0])):window.chooseFileSystemEntries()},Mp=async()=>{if("showSaveFilePicker"in window){const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(e)}return await window.chooseFileSystemEntries({type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]})};let Fp="",zp={},Vp={};const Bp=(0,d.forwardRef)(((e,t)=>{var n;const r=(0,d.useContext)(p),[i,o]=d.useState((()=>!1)),[s,a]=d.useState((()=>"url")),[l,c]=d.useState((()=>({}))),u=null!==(n=e.interaction)&&void 0!==n?n:{};try{Vp=zp,zp=JSON.parse(r.offlineTD),Fp=""}catch(b){Fp=b.message,console.debug(Fp),zp=Vp}(0,d.useImperativeHandle)(t,(()=>({openModal:()=>f(),close:()=>h()})));const f=()=>{o(!0)},h=()=>{o(!1)},m=e=>{a(e),l&&"url"===e&&c({})},g=(0,d.useCallback)((async()=>{try{const e=await Ap();document.getElementById("link-href").value=`./${e.fileName}`,c(e.fileHandle?e.fileHandle:JSON.parse(e.td))}catch(Fp){const t="We ran into an error trying to open your TD.";console.error(t,Fp),alert(t)}}),[]),v=()=>{let e=0;return["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"].map((t=>(e++,(0,T.jsx)("option",{value:t},e))))},y=(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("label",{className:"text-sm text-gray-400 font-medium pl-3",children:"Thing Description:"}),(0,T.jsx)("div",{className:"p-1",children:zp.title}),(0,T.jsxs)("div",{className:"p-1 pt-2",children:[(0,T.jsx)("label",{htmlFor:"rel",className:"text-sm text-gray-400 font-medium pl-2",children:"Relation:(select one of the proposed relations or type your custom relation)"}),(0,T.jsx)("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"relation name"}),(0,T.jsx)("datalist",{id:"relationType",children:(0,T.jsx)(v,{})}),(0,T.jsx)("span",{id:"link-rel-info",className:"text-xs text-red-400 pl-2"})]}),(0,T.jsxs)("div",{className:"p-1 pt-2",children:[(0,T.jsx)("label",{htmlFor:"link-href",className:"text-sm text-gray-400 font-medium pl-2 pr-2",children:"Target ressource:"}),(0,T.jsx)("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",disabled:"upload"===s,onClick:()=>{m("upload")},children:"From local machine"}),(0,T.jsx)("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",style:{marginLeft:"2%"},disabled:"url"===s,onClick:()=>{m("url")},children:"Ressource url"}),(0,T.jsxs)("div",{className:"p-1 pt-4",children:[(0,T.jsx)("input",{type:"text",name:"link-href",id:"link-href",className:"border-gray-600 bg-gray-600 p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"The target ressource",onChange:()=>{qp()},disabled:"url"!==s}),"upload"===s&&(0,T.jsx)("button",{className:"text-white bg-blue-500 cursor-pointer rounded-md p-2 h-9",onClick:g,disabled:"upload"!==s,children:"Open TD"})]}),(0,T.jsx)("span",{id:"link-href-info",className:"text-xs text-red-400 pl-2"}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"type",className:"text-sm text-gray-400 font-medium pl-2",children:"Type:(select one of the proposed types or tape your custom type)"}),(0,T.jsx)("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"media type"}),(0,T.jsxs)("datalist",{id:"mediaType",children:[(0,T.jsx)("option",{value:"application/td+json"}),(0,T.jsx)("option",{value:"image/jpeg"}),(0,T.jsx)("option",{value:"text/csv"}),(0,T.jsx)("option",{value:"video/mp4"})]})]})]})]});return i?Fe.createPortal((0,T.jsx)(ze,{onCancel:h,onSubmit:()=>{let e={},t={};const n=document.getElementById("rel").value,i=document.getElementById("link-href").value,o=document.getElementById("type").value;e.href=""!==i?i.trim():"/";let a=!0;try{var d=new URL(i)}catch(Pe){a=!1}if("url"!==s||!a||"http:"!==d.protocol&&"https:"!==d.protocol)t[i]=l;else try{var f=new XMLHttpRequest;if(f.open("GET",i,!1),f.send(),f.getResponseHeader("content-type").includes("application/td+json")){const e=f.response;let n=JSON.parse(e);t[i]=n}}catch(p){const e="We ran into an error trying to fetch your TD.";console.error(e,p),t[i]=l}""!==n&&(e.rel=n.trim()),""!==o&&(e.type=o.trim()),""===i?Up("The href field is mandatory ..."):(e=>!!Ce(u)&&((e,t)=>{for(const n of t.links)if(n.href===e.href)return!0;return!1})(e,u))(e)?Up("A Link with the target Thing Description already exists ..."):((e=>{let t={};try{t=JSON.parse(r.offlineTD)}catch(Pe){}Ce(t)||(t.links=[]),t.links.push(e),r.updateOfflineTD(JSON.stringify(t,null,2))})(e),r.addLinkedTd(t),c({}),h())},submitText:"Add",children:y,title:"Add Link ",description:`Tell us how this ${zp.title} can interact with other ressources`}),document.getElementById("modal-root")):null})),Up=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},qp=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};function Hp(e){const t=(0,d.useContext)(p);return(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start h-10 w-full bg-formBlue rounded-md px-4 mt-2 bg-opacity-75 border-2 border-formBlue",children:[(0,T.jsx)("div",{className:"flex h-6 w-18 bg-white rounded-md place-self-center justify-center",children:e.link.rel&&(0,T.jsx)("div",{className:"text-formBlue place-self-center text-center text-xs px-4",children:e.link.rel})}),(0,T.jsx)("div",{className:" place-self-center pl-3 text-base text-white overflow-hidden flex-grow",children:e.link.href}),(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:()=>(e=>{let n=t.linkedTd;n[e.link.href]&&(delete n[e.link.href],t.updateLinkedTd(n)),t.removeLink(e.propName),t.updateIsModified(!0)})(e),children:(0,T.jsx)(Vn,{size:16,color:"black"})}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||"file"===t.linkedTd[e.link.href].kind)&&(0,T.jsx)("button",{className:"text-base w-6 h-6 p-1 m-1 shadow-md rounded-full bg-formBlue",onClick:()=>(async e=>{let n=e.link.href;Ie(t,n)})(e),children:(0,T.jsx)(Qe,{size:16,color:"black"})})]})}function Gp(e){const t=(0,d.useContext)(p),n=(0,d.useRef)(),[r,i]=(0,d.useState)(void 0),[o,s]=(0,d.useState)(0),[a,l]=(0,d.useState)("list"),[c,u]=(0,d.useState)(!1);if((0,d.useEffect)((()=>{try{i(JSON.parse(t.offlineTD))}catch(e){console.debug(e)}}),[t.offlineTD]),(0,d.useEffect)((()=>{document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",(function(e){document.getElementsByTagName("details")[1].attributes.open?u(!0):u(!1)}),!1);let e=100,n=30,i=new Mu,a=new xp({el:document.getElementById("tdGraph"),model:i,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(void 0!==r&&r.links){var l=new Sp;l.position(100,10),l.resize(140,40),l.attr({body:{fill:"#005A9C"},label:{text:r.title,fill:"white"}}),l.set("td",{}),l.resize(12*l.attributes.attrs.label.text.length,40),i.addCell(l);for(let o=0;o<r.links.length;o++){e+=70,n+=60;let s=r.links[o].href,u=new Sp;u.position(e,n),u.attr({body:{fill:"#005A9C"},label:{text:s,fill:"white"}}),u.resize(12*u.attributes.attrs.label.text.length,40),i.addCell(u),u.set("href",s);var c=new $p({useModelGeometry:!0,y:"0%",x:"100%",action:async function(e,n,i){if(t.linkedTd){let e=t.linkedTd;e[n.model.get("href")]&&(delete e[n.model.get("href")],t.updateLinkedTd(e))}for(let o=0;o<r.links.length;o++)if(r.links[o].href===n.model.get("href")){t.removeLink(o),t.updateIsModified(!0);break}}}),d=new Np({tools:[c]}),f=u.findView(a);if(f.addTools(d),t.linkedTd&&t.linkedTd[s]&&("file"===t.linkedTd[s].kind||Object.keys(t.linkedTd[s]).length)){u.set("td",t.linkedTd[s]);var p=new Tp({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(e,n,r){let i=n.model.get("href");Ie(t,i)}});let e=new Np({tools:[c,p]});f.addTools(e)}let h=new Ep({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:void 0===r.links[o].rel?"":r.links[o].rel,fill:"grey"}}}]});h.source(l),h.target(u),h.addTo(i)}s(n+30)}}),[o,a,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,r]),void 0===r)return(0,T.jsx)(T.Fragment,{});let f;return r.links&&(f=r.links.map(((e,t)=>(0,T.jsx)(Hp,{link:e,propName:t},t)))),(0,T.jsxs)("details",{className:"pt-8",children:[(0,T.jsxs)("summary",{className:"flex justify-start items-center cursor-pointer",children:[(0,T.jsxs)("div",{className:"flex flex-grow",children:[(0,T.jsx)(Cn,{tooltip:Ln(),children:(0,T.jsx)("h2",{className:"text-2xl text-white p-1 flex-grow",children:"Links"})}),c&&(0,T.jsx)("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",disabled:"list"===a,onClick:()=>l("list"),children:"List"}),c&&(0,T.jsx)("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2 h-9",style:{marginLeft:"10px"},disabled:"graph"===a,onClick:()=>l("graph"),children:"Graph"})]}),(0,T.jsx)("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2",onClick:()=>{n.current.openModal()},children:"Add Top Level Link"}),(0,T.jsx)(Bp,{type:"link",interaction:r,ref:n})]}),f&&"graph"===a&&(0,T.jsx)("div",{className:"pt-4",children:(0,T.jsx)("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4",id:"tdGraph"})}),f&&"list"===a&&(0,T.jsx)("div",{className:"pt-4",children:(0,T.jsx)("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4",children:f})})]})}function Wp(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Jp=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Kp(e,t,n){const r=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),r=Jp.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:i}=e,o="string"===typeof t?t:"string"===typeof i&&i.length>0?i:`./${e.name}`;return"string"!==typeof r.path&&Xp(r,"path",o),void 0!==n&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Xp(r,"relativePath",o),r}function Xp(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Yp=[".DS_Store","Thumbs.db"];function Qp(e){return"object"===typeof e&&null!==e}function Zp(e){return e.filter((e=>-1===Yp.indexOf(e.name)))}function eh(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function th(e){if("function"!==typeof e.webkitGetAsEntry)return rh(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?oh(t):rh(e,t)}function nh(e){return e.reduce(((e,t)=>[...e,...Array.isArray(t)?nh(t):[t]]),[])}function rh(e,t){return Wp(this,void 0,void 0,(function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error(`${e} is not a File`);if(void 0!==t){const e=yield t.getFile();return e.handle=t,Kp(e)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Kp(r,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)}))}function ih(e){return Wp(this,void 0,void 0,(function*(){return e.isDirectory?oh(e):function(e){return Wp(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{e.file((n=>{const r=Kp(n,e.fullPath);t(r)}),(e=>{n(e)}))}))}))}(e)}))}function oh(e){const t=e.createReader();return new Promise(((e,n)=>{const r=[];!function i(){t.readEntries((t=>Wp(this,void 0,void 0,(function*(){if(t.length){const e=Promise.all(t.map(ih));r.push(e),i()}else try{const t=yield Promise.all(r);e(t)}catch(o){n(o)}}))),(e=>{n(e)}))}()}))}var sh=n(6189);function ah(e){return function(e){if(Array.isArray(e))return ph(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ch(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lh(Object(n),!0).forEach((function(t){uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||fh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fh(e,t){if(e){if("string"===typeof e)return ph(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ph(e,t):void 0}}function ph(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hh="function"===typeof sh?sh:sh.default,mh="file-invalid-type",gh="file-too-large",vh="file-too-small",yh="too-many-files",bh=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:mh,message:"File type must be ".concat(t)}},wh=function(e){return{code:gh,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},xh=function(e){return{code:vh,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},kh={code:yh,message:"Too many files"};function Sh(e,t){var n="application/x-moz-file"===e.type||hh(e,t);return[n,n?null:bh(t)]}function _h(e,t,n){if(Eh(e.size))if(Eh(t)&&Eh(n)){if(e.size>n)return[!1,wh(n)];if(e.size<t)return[!1,xh(t)]}else{if(Eh(t)&&e.size<t)return[!1,xh(t)];if(Eh(n)&&e.size>n)return[!1,wh(n)]}return[!0,null]}function Eh(e){return void 0!==e&&null!==e}function Ph(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Th(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function $h(e){e.preventDefault()}function Nh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!Ph(e)&&t&&t.apply(void 0,[e].concat(r)),Ph(e)}))}}function jh(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Ah(e){return/^.*\.[\w]+$/.test(e)}var Ch=["children"],Oh=["open"],Ih=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Rh=["refKey","onChange","onClick"];function Lh(e){return function(e){if(Array.isArray(e))return Fh(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Mh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||Mh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mh(e,t){if(e){if("string"===typeof e)return Fh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fh(e,t):void 0}}function Fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zh(Object(n),!0).forEach((function(t){Bh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var qh=(0,d.forwardRef)((function(e,t){var n=e.children,r=Wh(Uh(e,Ch)),i=r.open,o=Uh(r,Oh);return(0,d.useImperativeHandle)(t,(function(){return{open:i}}),[i]),d.createElement(d.Fragment,null,n(Vh(Vh({},o),{},{open:i})))}));qh.displayName="Dropzone";var Hh={disabled:!1,getFilesFromEvent:function(e){return Wp(this,void 0,void 0,(function*(){return Qp(e)&&Qp(e.dataTransfer)?function(e,t){return Wp(this,void 0,void 0,(function*(){if(e.items){const n=eh(e.items).filter((e=>"file"===e.kind));if("drop"!==t)return n;return Zp(nh(yield Promise.all(n.map(th))))}return Zp(eh(e.files).map((e=>Kp(e))))}))}(e.dataTransfer,e.type):function(e){return Qp(e)&&Qp(e.target)}(e)?function(e){return eh(e.target.files).map((e=>Kp(e)))}(e):Array.isArray(e)&&e.every((e=>"getFile"in e&&"function"===typeof e.getFile))?function(e){return Wp(this,void 0,void 0,(function*(){const t=yield Promise.all(e.map((e=>e.getFile())));return t.map((e=>Kp(e)))}))}(e):[]}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};qh.defaultProps=Hh,qh.propTypes={children:We.func,accept:We.objectOf(We.arrayOf(We.string)),multiple:We.bool,preventDropOnDocument:We.bool,noClick:We.bool,noKeyboard:We.bool,noDrag:We.bool,noDragEventsBubbling:We.bool,minSize:We.number,maxSize:We.number,maxFiles:We.number,disabled:We.bool,getFilesFromEvent:We.func,onFileDialogCancel:We.func,onFileDialogOpen:We.func,useFsAccessApi:We.bool,autoFocus:We.bool,onDragEnter:We.func,onDragLeave:We.func,onDragOver:We.func,onDrop:We.func,onDropAccepted:We.func,onDropRejected:We.func,onError:We.func,validator:We.func};var Gh={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Wh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vh(Vh({},Hh),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,p=t.onDrop,h=t.onDropAccepted,m=t.onDropRejected,g=t.onFileDialogCancel,v=t.onFileDialogOpen,y=t.useFsAccessApi,b=t.autoFocus,w=t.preventDropOnDocument,x=t.noClick,k=t.noKeyboard,S=t.noDrag,_=t.noDragEventsBubbling,E=t.onError,P=t.validator,T=(0,d.useMemo)((function(){return function(e){if(Eh(e))return Object.entries(e).reduce((function(e,t){var n=dh(t,2),r=n[0],i=n[1];return[].concat(ah(e),[r],ah(i))}),[]).filter((function(e){return jh(e)||Ah(e)})).join(",")}(n)}),[n]),$=(0,d.useMemo)((function(){return function(e){return Eh(e)?[{description:"Files",accept:Object.entries(e).filter((function(e){var t=dh(e,2),n=t[0],r=t[1],i=!0;return jh(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),Array.isArray(r)&&r.every(Ah)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),i=!1),i})).reduce((function(e,t){var n=dh(t,2),r=n[0],i=n[1];return ch(ch({},e),{},uh({},r,i))}),{})}]:e}(n)}),[n]),N=(0,d.useMemo)((function(){return"function"===typeof v?v:Kh}),[v]),j=(0,d.useMemo)((function(){return"function"===typeof g?g:Kh}),[g]),A=(0,d.useRef)(null),C=(0,d.useRef)(null),O=Dh((0,d.useReducer)(Jh,Gh),2),I=O[0],R=O[1],L=I.isFocused,D=I.isFileDialogActive,M=(0,d.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),F=function(){!M.current&&D&&setTimeout((function(){C.current&&(C.current.files.length||(R({type:"closeDialog"}),j()))}),300)};(0,d.useEffect)((function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}}),[C,D,j,M]);var z=(0,d.useRef)([]),V=function(e){A.current&&A.current.contains(e.target)||(e.preventDefault(),z.current=[])};(0,d.useEffect)((function(){return w&&(document.addEventListener("dragover",$h,!1),document.addEventListener("drop",V,!1)),function(){w&&(document.removeEventListener("dragover",$h),document.removeEventListener("drop",V))}}),[A,w]),(0,d.useEffect)((function(){return!r&&b&&A.current&&A.current.focus(),function(){}}),[A,b,r]);var B=(0,d.useCallback)((function(e){E?E(e):console.error(e)}),[E]),U=(0,d.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),z.current=[].concat(Lh(z.current),[e.target]),Th(e)&&Promise.resolve(i(e)).then((function(t){if(!Ph(e)||_){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!(!o&&t.length>1||o&&s>=1&&t.length>s)&&t.every((function(e){var t=dh(Sh(e,n),1)[0],o=dh(_h(e,r,i),1)[0],s=a?a(e):null;return t&&o&&!s}))}({files:t,accept:T,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:P});R({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}})).catch((function(e){return B(e)}))}),[i,c,B,_,T,s,o,a,l,P]),q=(0,d.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=Th(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,_]),H=(0,d.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e);var t=z.current.filter((function(e){return A.current&&A.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),z.current=t,t.length>0||(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Th(e)&&u&&u(e))}),[A,u,_]),G=(0,d.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=Dh(Sh(e,T),2),i=t[0],a=t[1],l=Dh(_h(e,s,o),2),c=l[0],u=l[1],d=P?P(e):null;if(i&&c&&!d)n.push(e);else{var f=[a,u];d&&(f=f.concat(d)),r.push({file:e,errors:f.filter((function(e){return e}))})}})),(!a&&n.length>1||a&&l>=1&&n.length>l)&&(n.forEach((function(e){r.push({file:e,errors:[kh]})})),n.splice(0)),R({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),p&&p(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&h&&h(n,t)}),[R,a,T,s,o,l,p,h,m,P]),W=(0,d.useCallback)((function(e){e.preventDefault(),e.persist(),ne(e),z.current=[],Th(e)&&Promise.resolve(i(e)).then((function(t){Ph(e)&&!_||G(t,e)})).catch((function(e){return B(e)})),R({type:"reset"})}),[i,G,B,_]),J=(0,d.useCallback)((function(){if(M.current){R({type:"openDialog"}),N();var e={multiple:a,types:$};window.showOpenFilePicker(e).then((function(e){return i(e)})).then((function(e){G(e,null),R({type:"closeDialog"})})).catch((function(e){!function(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}(e)?!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?B(e):(M.current=!1,C.current?(C.current.value=null,C.current.click()):B(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):(j(e),R({type:"closeDialog"}))}))}else C.current&&(R({type:"openDialog"}),N(),C.current.value=null,C.current.click())}),[R,N,j,y,G,B,$,a]),K=(0,d.useCallback)((function(e){A.current&&A.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),J()))}),[A,J]),X=(0,d.useCallback)((function(){R({type:"focus"})}),[]),Y=(0,d.useCallback)((function(){R({type:"blur"})}),[]),Q=(0,d.useCallback)((function(){x||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?J():setTimeout(J,0))}),[x,J]),Z=function(e){return r?null:e},ee=function(e){return k?null:Z(e)},te=function(e){return S?null:Z(e)},ne=function(e){_&&e.stopPropagation()},re=(0,d.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,o=e.onKeyDown,s=e.onFocus,a=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,f=e.onDrop,p=Uh(e,Ih);return Vh(Vh(Bh({onKeyDown:ee(Nh(o,K)),onFocus:ee(Nh(s,X)),onBlur:ee(Nh(a,Y)),onClick:Z(Nh(l,Q)),onDragEnter:te(Nh(c,U)),onDragOver:te(Nh(u,q)),onDragLeave:te(Nh(d,H)),onDrop:te(Nh(f,W)),role:"string"===typeof i&&""!==i?i:"presentation"},n,A),r||k?{}:{tabIndex:0}),p)}}),[A,K,X,Y,Q,U,q,H,W,k,S,r]),ie=(0,d.useCallback)((function(e){e.stopPropagation()}),[]),oe=(0,d.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,i=e.onClick,o=Uh(e,Rh);return Vh(Vh({},Bh({accept:T,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(Nh(r,W)),onClick:Z(Nh(i,ie)),tabIndex:-1},n,C)),o)}}),[C,n,a,W,r]);return Vh(Vh({},I),{},{isFocused:L&&!r,getRootProps:re,getInputProps:oe,rootRef:A,inputRef:C,open:Z(J)})}function Jh(e,t){switch(t.type){case"focus":return Vh(Vh({},e),{},{isFocused:!0});case"blur":return Vh(Vh({},e),{},{isFocused:!1});case"openDialog":return Vh(Vh({},Gh),{},{isFileDialogActive:!0});case"closeDialog":return Vh(Vh({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Vh(Vh({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Vh(Vh({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Vh({},Gh);default:return e}}function Kh(){}function Xh(){const e=(0,d.useContext)(p),[t,n]=(0,d.useState)(void 0),r=d.useRef();(0,d.useEffect)((()=>{try{n(JSON.parse(e.offlineTD))}catch(t){console.debug(t)}}),[e.offlineTD]);const i=(0,d.useCallback)((t=>{const n=t[0],r=new FileReader;r.onabort=()=>console.error("File reading  - aborted"),r.onerror=()=>console.error("File reading - failed"),r.onload=()=>{const t={td:r.result,fileName:n.name,fileHandle:n};try{let n={};n[t.fileName]=t.fileHandle,e.updateOfflineTD(t.td),e.updateIsModified(!1),e.setFileHandle(t.fileName),e.updateLinkedTd(void 0),e.addLinkedTd(n)}catch(i){console.error("File processing:",i)}},r.readAsText(n)}),[e]),{getRootProps:o,getInputProps:s,isDragActive:a}=Wh({onDrop:i,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10485760});if(!t||!Object.keys(t).length)return(0,T.jsxs)("div",{...o(),className:"flex h-full w-full bg-gray-500 justify-center justify-items-center align-center text-center ",children:[(0,T.jsx)("input",{...s()}),a?(0,T.jsx)("div",{className:"text-4xl text-white place-self-center",children:(0,T.jsx)("p",{children:"Drop the files here ..."})}):(0,T.jsxs)("div",{className:"text-4xl text-white place-self-center",children:['Start writing a new TD by clicking "New"',(0,T.jsx)("p",{children:"or drag and drop .json file here"}),(0,T.jsx)("div",{className:"pt-4",children:(0,T.jsx)("p",{className:"text-gray-600 text-xl",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let l;if(t.forms){l=je(t.forms).map(((e,t)=>(0,T.jsx)(Bn,{form:e,propName:t},t)))}const c=Ne(t.id?{id:t.id}:{},t,["id","properties","actions","events","forms","description","title","links"]);return(0,T.jsxs)("div",{className:"h-full w-full bg-gray-500 p-8 overflow-auto",children:[(0,T.jsx)(Gr,{}),void 0!==t&&Object.keys(t).length>0&&(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"text-3xl text-white",children:t.title?Re(t,"title",t["@context"]):(0,T.jsx)(T.Fragment,{})}),t.description?(0,T.jsx)("div",{className:"text-xl text-white pt-4",children:Re(t,"description",t["@context"])}):(0,T.jsx)(T.Fragment,{}),(0,T.jsx)("div",{className:"pt-4",children:(0,T.jsx)(Lr,{...c})})]}),(0,T.jsxs)("details",{className:"pt-8",children:[(0,T.jsxs)("summary",{className:"flex justify-start items-center cursor-pointer",children:[(0,T.jsx)("div",{className:"flex flex-grow",children:(0,T.jsx)(Cn,{tooltip:Rn(),children:(0,T.jsx)("h2",{className:"text-2xl text-white p-1 flex-grow",children:"Forms"})})}),(0,T.jsx)("button",{className:"text-white font-bold text-sm bg-blue-500 cursor-pointer rounded-md p-2",onClick:()=>{r.current.openModal()},children:"Add Top Level Form"}),(0,T.jsx)(Ve,{type:"thing",interaction:t,ref:r})]}),l&&(0,T.jsx)("div",{className:"pt-4",children:(0,T.jsx)("div",{className:"rounded-lg bg-gray-600 px-6 pt-4 pb-4",children:l})})]}),(0,T.jsx)(Gp,{}),(0,T.jsx)(Ar,{interaction:"Properties"}),(0,T.jsx)(Ar,{interaction:"Actions"}),(0,T.jsx)(Ar,{interaction:"Events"})]})}const Yh=e=>{const t=(0,d.useContext)(p);let n=0,r=0,i=0,o=0;try{const e=JSON.parse(t.offlineTD),a=(new TextEncoder).encode(JSON.stringify(e)).length;n=(s=a)<1024?s+" bytes":s<1048576?(s/1024).toFixed(3)+" KiB":s<1073741824?(s/1048576).toFixed(3)+" MiB":(s/1073741824).toFixed(3)+" GiB",r=e.properties?Object.keys(e.properties).length:0,i=e.properties?Object.keys(e.actions).length:0,o=e.properties?Object.keys(e.events).length:0}catch(a){}var s;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("footer",{className:"bg-blue-500 h-8 flex flex-col items-center justify-center text-white",children:(0,T.jsxs)("div",{className:"flex flex-row items-center justify-start w-full",children:[(0,T.jsxs)("div",{className:"mx-2",children:["Properties: ",r]}),(0,T.jsxs)("div",{className:"mx-2",children:["Actions: ",i]}),(0,T.jsxs)("div",{className:"mx-2",children:["Events: ",o]}),(0,T.jsxs)("div",{className:"mx-2 flex-grow",children:["Size: ",n]}),t.isModified&&(0,T.jsx)("div",{children:"You have unsaved changes. - "}),!t.isModified&&(0,T.jsx)("div",{children:"Your changes are synchronized. - "}),(0,T.jsxs)("div",{className:"mx-2 justify-self-end",children:["Version: ","0.6.6"," |"," ",(0,T.jsx)("u",{children:(0,T.jsx)("a",{href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:"We are on GitHub"})})]})]})})})},Qh=n.p+"static/media/editdor.53415788491f3db27c8f.png",Zh=n.p+"static/media/WoT.e8962bf411bcc4fd1cc9.png";function em(e){return Br({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function tm(e){return Br({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}const nm=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useContext)(p),r=d.useRef(null),i=d.useRef(null),o=(0,d.useCallback)((()=>{try{var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}catch(Pe){}}),[i]),[s,a]=d.useState(!1),[l,c]=d.useState(""),[u,f]=d.useState(!1),[h,m]=d.useState([{author:"chat",description:"Send a message and it will be forwarded to a GPT instance. It will assist you in writing your TDs"}]);(0,d.useImperativeHandle)(t,(()=>({openModal:()=>g(),close:()=>v()})));const g=(0,d.useCallback)((()=>{setTimeout((()=>{o()}),250),a(!0)}),[o]),v=(0,d.useCallback)((()=>{a(!1)}),[]),y=(0,d.useCallback)((()=>{let e=-1;return h.map((t=>(e++,"chat"===t.author?(0,T.jsx)("div",{className:"chat chat-start text-ellipsis whitespace-pre-line",children:(0,T.jsx)("div",{className:"chat-bubble bg-gray-500 text-white",children:(0,T.jsx)("div",{className:"overflow-x-auto",children:t.description})})},e):(0,T.jsx)("div",{className:"chat chat-end text-ellipsis whitespace-pre-line",children:(0,T.jsx)("div",{className:"chat-bubble bg-blue-500 text-white",children:(0,T.jsx)("div",{className:"overflow-x-auto",children:t.description})})},e))))}),[h]),b=(0,d.useCallback)((async()=>{if(""===l)return;f(!0);const e=l;m((t=>[...t,{author:"user",description:e}])),o(),c("");const t=await(async e=>{try{const t=await fetch({NODE_ENV:"production",PUBLIC_URL:"/editdor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NPM_PACKAGE_VERSION:"0.6.6"}.REACT_APP_OPENAI_URI,{method:"POST",headers:{"Content-Type":"application/json","api-key":{NODE_ENV:"production",PUBLIC_URL:"/editdor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NPM_PACKAGE_VERSION:"0.6.6"}.REACT_APP_OPENAI_KEY},body:JSON.stringify({prompt:e,max_tokens:4e3,temperature:1,frequency_penalty:0,presence_penalty:0,top_p:1,best_of:1,stop:null})});return 200!==t.status?"An error occured. Try sending your message again.":(await t.json()).choices[0].text}catch(Fp){return console.error(Fp),"An error occured. Try sending your message again."}})(e);m((e=>[...e,{author:"chat",description:t}])),o(),f(!1)}),[l,o]),w=(0,d.useCallback)((()=>{n.updateOfflineTD(h[h.length-1].description)}),[n,h]),x=(0,d.useCallback)((()=>"chat"===h[h.length-1].author),[h]);return(0,d.useEffect)((()=>{const e=e=>s&&"Escape"===e.key?v():u?void 0:document.activeElement===r.current&&"Enter"===e.key||s&&"Enter"===e.key&&e.ctrlKey?b():void 0;return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[u,s,b,v,r]),(0,d.useEffect)((()=>{o()}),[h,o]),s?(0,T.jsx)("div",{className:"flex w-full h-full absolute justify-end items-end z-10 p-4 pointer-events-none",children:(0,T.jsx)("div",{className:"w-full md:w-3/5 lg:w-2/5  max-h-full shadow-xl bg-gray-600 rounded-xl text-white pointer-events-auto",children:(0,T.jsxs)("div",{className:"flex flex-col justify-start items-start p-4",children:[(0,T.jsxs)("div",{className:"flex w-full justify-between pb-4",children:[(0,T.jsx)("h1",{className:"text-xl font-bold",children:"Ask Your AI Assistant"}),(0,T.jsx)("button",{className:"bg-gray-500 rounded-xl p-2",onClick:v,children:(0,T.jsx)(tm,{})})]}),(0,T.jsxs)("div",{className:"w-full overflow-y-auto overflow-x-hidden max-h-[32rem]",children:[y(),(0,T.jsx)("div",{ref:i})]}),u&&(0,T.jsx)("div",{className:"chat chat-start",children:(0,T.jsxs)("div",{className:"chat-bubble bg-gray-500 text-white flex items-center",children:[(0,T.jsx)("div",{className:"animate-bounce h-1.5 w-1.5 bg-white rounded-full mr-1"}),(0,T.jsx)("div",{className:"animate-bounce h-1.5 w-1.5 bg-white rounded-full mr-1"}),(0,T.jsx)("div",{className:"animate-bounce h-1.5 w-1.5 bg-white rounded-full"})]})}),x()&&!u&&(0,T.jsx)("button",{className:"link pt-2",onClick:w,children:"Copy last message to editor"}),(0,T.jsxs)("div",{className:"flex w-full pt-4",children:[(0,T.jsx)("input",{name:"Chat",id:"Chat",className:"grow border-gray-600 bg-gray-600 p-2 sm:text-sm border-2 text-white rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Start typing...",type:"text",autoFocus:!0,value:l,onChange:e=>c(e.target.value),ref:r}),(0,T.jsx)("button",{id:"submitButton",className:"flex text-white justify-center items-center bg-blue-500 ml-2 py-2 px-4 rounded-lg",onClick:()=>b(),children:(0,T.jsx)(em,{})})]})]})})}):null})),rm=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useContext)(p),[r,i]=d.useState([]),[o,s]=d.useState((()=>!1));(0,d.useEffect)((()=>{i(im(n.offlineTD))}),[n]),(0,d.useImperativeHandle)(t,(()=>({openModal:()=>a(),close:()=>l()})));const a=()=>{s(!0)},l=()=>{s(!1)};return o?Fe.createPortal((0,T.jsx)(ze,{onCancel:l,onSubmit:()=>om(n.offlineTD,r),submitText:"Generate TD",children:r,title:"Generate TD From TM",description:"Please provide values to switch the placeholders with."}),document.getElementById("modal-root")):null})),im=e=>{try{let r,i=/{{/gi,o=[];for(;r=i.exec(e);)o.push(r.index);i=/}}/gi;let s=[];for(;r=i.exec(e);)s.push(r.index);let a=[];for(let f=0;f<o.length;f++)a.push(e.slice(o[f]+2,s[f]));a=[...new Set(a)];const l=a.map((e=>(0,T.jsxs)("div",{className:"py-1",children:[(0,T.jsxs)("label",{htmlFor:e,className:"text-sm text-gray-400 font-medium pl-2",children:[e,":"]}),(0,T.jsx)("input",{type:"text",name:e,id:e,className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:"Enter a value..."})]},e)));let c=[],u=[],d=[];try{const p=JSON.parse(e),h=Object.keys(p.properties?p.properties:{}),m=Object.keys(p.actions?p.actions:{}),g=Object.keys(p.events?p.events:{}),v={properties:[],actions:[],events:[]};if(p["tm:required"])for(const b of p["tm:required"])b.startsWith("#properties/")?v.properties.push(b.split("/")[1]):b.startsWith("#actions/")?v.actions.push(b.split("/")[1]):b.startsWith("#events/")&&v.events.push(b.split("/")[1]);function y(e,t){return t.map((t=>{const n=v[e].includes(t);return(0,T.jsxs)("div",{className:"form-checkbox py-1 pl-2",children:[(0,T.jsx)("input",{id:`${e}/${t}`,className:"form-checkbox-input",type:"checkbox",value:`#${e}/${t}`,disabled:n,defaultChecked:!0,title:n?"This field is required by the TM.":"","data-interaction":e}),(0,T.jsx)("label",{className:"form-checkbox-label pl-2",htmlFor:`${e}/${t}`,children:`#${e}/${t}`})]},`${e}/${t}`)}))}c=y("properties",h),u=y("actions",m),d=y("events",g)}catch(t){}return[...l,(0,T.jsx)("h2",{className:"text-gray-400 pb-2 pt-4",children:"Also, select/unselect the interaction affordances you would like to see in the new TD."},"modalDividerText"),...c,...u,...d]}catch(n){return console.log(n),[]}},om=(e,t)=>{let n={};const r=[],i=[],o=[];for(const a of t)a.props.className.indexOf("form-checkbox")>-1&&document.getElementById(a.props.children[0].props.id).checked&&("properties"===a.props.children[0].props["data-interaction"]?r.push(a.key.split("/")[1]):"actions"===a.props.children[0].props["data-interaction"]?i.push(a.key.split("/")[1]):"events"===a.props.children[0].props["data-interaction"]&&o.push(a.key.split("/")[1]));(t=t.filter((e=>-1===e.props.className.indexOf("form-checkbox")&&"modalDividerText"!==e.key))).forEach((e=>{const t=document.getElementById(e.key);return n[e.key]=t.value,t.value})),Object.keys(n).forEach((t=>{if(isNaN(Number(n[t])))e=e.split(`{{${t}}}`).join(n[t]);else{let r=e.split(`"{{${t}}}"`);1===r.length&&(r=e.split(`{{${t}}}`)),e=r.join(n[t])}}));const s=JSON.parse(e);if(s.properties){const e=Object.keys(s.properties).filter((e=>r.includes(e))).reduce(((e,t)=>(e[t]=s.properties[t],e)),{});s.properties=e}if(s.actions){const e=Object.keys(s.actions).filter((e=>i.includes(e))).reduce(((e,t)=>(e[t]=s.actions[t],e)),{});s.actions=e}if(s.events){const e=Object.keys(s.events).filter((e=>o.includes(e))).reduce(((e,t)=>(e[t]=s.events[t],e)),{});s.events=e}delete s["@type"],delete s["tm:required"],localStorage.setItem("td",JSON.stringify(s)),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")},sm=e=>e.reduce(((e,t)=>{if(!t.name||""===t.name.trim())throw new Error("Error on CSV file: Row name is required");if(!t["modbus:address"]||""===t["modbus:address"].trim())throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${t.name}"`);if(!t["modbus:entity"]||""===t["modbus:entity"].trim())throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${t.name}"`);return e[t.name]=(e=>{var t,n,r,i,o,s;return{...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...e.minimum?{minimum:Number(e.minimum)}:{},...e.maximum?{maximum:Number(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:null!==(t=e.href)&&void 0!==t?t:"/","modbus:unitID":null!==(n=Number(e["modbus:unitID"]))&&void 0!==n?n:1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":null!==(r=Number(e["modbus:quantity"]))&&void 0!==r?r:1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":null!==(i=Boolean(e["modbus:zeroBasedAddressing"]))&&void 0!==i&&i,"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":null===(o=Boolean(e["modbus:mostSignificantByte"]))||void 0===o||o,"modbus:mostSignificantWord":null===(s=Boolean(e["modbus:mostSignificantWord"]))||void 0===s||s,...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}})(t),e}),{}),am=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useContext)(p),[r,i]=d.useState((()=>!1)),[o,s]=d.useState("TD"),[a,l]=d.useState({}),[c,u]=d.useState(""),[f,h]=d.useState("Modbus TCP"),m=d.useRef(null);(0,d.useImperativeHandle)(t,(()=>({openModal:()=>g(),close:()=>v()})));const g=()=>{i(!0)},v=()=>{u(""),h("Modbus TCP"),l({}),i(!1)},y=lm((e=>{s(e.target.value)}),o,f,h,c,u,m,l);return r?Fe.createPortal((0,T.jsx)(ze,{onCancel:v,onSubmit:()=>{let e=um(o,a),t={};t[e.title]=e,n.updateLinkedTd(void 0),n.addLinkedTd(t),n.updateOfflineTD(JSON.stringify(e,null,"\t")),v()},children:y,submitText:"TD"===o?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null})),lm=(e,t,n,r,i,o,s,a)=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("label",{htmlFor:"type",className:"text-sm text-gray-400 font-medium pl-2",children:"Type:"}),(0,T.jsxs)("div",{className:"relative",children:[(0,T.jsxs)("select",{className:"block appearance-none w-full bg-gray-600 border-2 border-gray-600 text-white py-3 px-4 pr-8 rounded leading-tight focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t,children:[(0,T.jsx)("option",{value:"TD",children:"Thing Description"}),(0,T.jsx)("option",{value:"TM",children:"Thing Model"})]}),(0,T.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,T.jsx)(ir,{color:"#cacaca"})})]}),cm("ID","urn:thing-id","thing-id","url","autoFocus"),cm("Title","Thing Title","thing-title","text"),cm("Base","http://www.example.com/thing-path","thing-base","url"),(0,T.jsx)("label",{htmlFor:"thing-description",className:"text-sm text-gray-400 font-medium pl-2",children:"Description:"}),(0,T.jsx)("textarea",{id:"thing-description",rows:"5",className:"bg-gray-600 sm:text-sm appearance-none border-2 border-gray-600 rounded w-full p-2 text-white leading-tight focus:outline-none focus:border-blue-500",placeholder:"A short description about this new Thing..."}),(0,T.jsx)("label",{htmlFor:"thing-security",className:"text-sm text-gray-400 font-medium pl-2",children:"Security:"}),(0,T.jsxs)("div",{className:"relative mb-8",children:[(0,T.jsxs)("select",{className:"block appearance-none w-full bg-gray-600 border-2 border-gray-600 text-white py-3 px-4 pr-8 rounded leading-tight focus:border-blue-500 focus:outline-none",id:"thing-security",children:[(0,T.jsx)("option",{children:"nosec"}),(0,T.jsx)("option",{children:"basic"}),(0,T.jsx)("option",{children:"digest"}),(0,T.jsx)("option",{children:"bearer"}),(0,T.jsx)("option",{children:"psk"}),(0,T.jsx)("option",{children:"oauth2"}),(0,T.jsx)("option",{children:"apikey"})]}),(0,T.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,T.jsx)(ir,{color:"#cacaca"})})]}),(0,T.jsx)("div",{className:"pt-2",children:(0,T.jsx)("label",{htmlFor:"submit-csv",className:"text-sm text-gray-400 font-medium pl-2",children:"Add properties in CSV format:"})}),(0,T.jsxs)("div",{className:"flex justify-between border-gray-600 border-2 rounded",children:[(0,T.jsxs)("div",{className:"flex justify-between",children:[(0,T.jsxs)("div",{className:"flex items-center p-2",children:[(0,T.jsx)("label",{htmlFor:"protocol-option",className:"text-lg text-gray-400 pl-2 pr-2",children:"Protocol:"}),(0,T.jsxs)("div",{className:"relative w-10",children:[(0,T.jsxs)("select",{id:"protocol-option",className:"block appearance-none bg-gray-600 border-2 border-gray-600 text-white py-2 px-4 pr-8 rounded leading-tight focus:border-blue-500 focus:outline-none",value:n,onChange:e=>r(e.target.value),children:[(0,T.jsx)("option",{children:"Modbus TCP"}),(0,T.jsx)("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),(0,T.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,T.jsx)(ir,{color:"#cacaca"})})]})]}),(0,T.jsx)("div",{className:"flex items-center",children:(0,T.jsx)("button",{id:"download-template",className:"border-2 border-gray-600 rounded px-2 text-white leading-tight focus:outline-none focus:border-blue-500 bg-blue-500 h-10",onClick:()=>{const e=new Blob(["name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout"],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},children:"Download CSV Template"})})]}),(0,T.jsxs)("div",{className:"flex items-center ml-2 mr-2",children:[(0,T.jsx)("input",{type:"file",accept:".csv",ref:s,onChange:e=>{const t=e.target.files[0];if(t){o(t.name);const e=new FileReader;e.onload=e=>{const t=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=e.split("\n").map((e=>e.trim())).filter((e=>e.length>0));if(t){const e=r[0].split(n).map((e=>e.trim()));return r.slice(1).map((t=>{const r=t.split(n).map((e=>e.trim()));return e.reduce(((e,t,n)=>(e[t]=r[n],e)),{})}))}throw new Error("CSV parsing without headers is not supported")}(e.target.result,!0,",");let n={};try{if(n=sm(t),0===Object.keys(n).length)throw new Error("No valid properties found in the CSV file.")}catch(Fp){alert(Fp.message)}a(n)},e.onerror=e=>{alert("Reading file:",e.target.error)},e.readAsText(t)}},style:{display:"none"}}),(0,T.jsx)("button",{id:"submit-csv",className:"border-2 border-gray-600 rounded p-2 text-white leading-tight focus:outline-none focus:border-blue-500 bg-blue-500",onClick:()=>{s.current&&s.current.click()},children:"Load a CSV File"}),(0,T.jsx)("div",{className:"",children:(0,T.jsx)("p",{className:"pl-2",children:i||"No file selected"})})]})]})]}),cm=(e,t,n,r,i)=>(0,T.jsxs)("div",{className:"py-1",children:[(0,T.jsxs)("label",{htmlFor:n,className:"text-sm text-gray-400 font-medium pl-2",children:[e,":"]}),(0,T.jsx)("input",{name:n,id:n,className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",placeholder:t,type:r,autoFocus:"autoFocus"===i})]},n),um=(e,t)=>{let n=document.getElementById("thing-id").value,r=document.getElementById("thing-title").value,i=document.getElementById("thing-base").value,o=document.getElementById("thing-description").value,s=document.getElementById("thing-security").value;var a={"@context":"https://www.w3.org/2019/wot/td/v1"};a.title=""!==r?r:"ediTDor Thing","TM"===e&&(a["@type"]="tm:ThingModel"),""!==n&&(a.id=""!==n?n:"urn:editdor-thing-id"),""!==i&&(a.base=""!==i?i:"/"),""!==o&&(a.description=o);let l={};return l[`${s}_sc`]={scheme:s},a.securityDefinitions=l,a.security=`${s}_sc`,a.properties=t,a.actions={},a.events={},a};n(6279),n(8900),n(988),n(4837);var dm=n(742),fm=n.n(dm);n(5480);const pm=JSON.parse('{"title":"Thing Description","version":"1.1-05-September-2022","description":"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"},"minItems":1},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"bcp47_string":{"type":"string","pattern":"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema-type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"type":["integer","number"],"exclusiveMinimum":0},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]}}]}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]}}]}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},"additionalProperties":true,"required":["op"]},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"},"synchronous":{"type":"boolean"}},"required":["forms"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"},"hreflang":{"anyOf":[{"$ref":"#/definitions/bcp47_string"},{"type":"array","items":{"$ref":"#/definitions/bcp47_string"}}]}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"required":["scheme"],"additionalProperties":true},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"],"additionalProperties":true},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["auto"]}},"not":{"required":["name"]},"required":["scheme"],"additionalProperties":true},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"],"additionalProperties":true},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"],"additionalProperties":true}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","cookie","uri","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","enum":["code","client","device"]}]}},"required":["scheme"],"additionalProperties":true},"securityScheme":{"oneOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}');const hm="$ref",mm="dataSchema";!function(e){const t=new Map,n=new Map;gm(t,e,"#/"),t.forEach(((e,t)=>{if(e.size>0){const r=(t.match(/\//gi)||[]).length;let i=n.get(r);i?(i.set(t.replace(/^r/g,""),e),n.set(r,i)):(i=new Map,i.set(t.replace(/^r/g,""),e),n.set(r,i))}}))}(pm);function gm(e,t,n){const r=new Set;if(t[hm]){if("r"===n[0]&&t[hm].includes(mm))return;return t[hm].includes(mm)&&(n="r"+n),void gm(ym(pm,t[hm]),n)}if("object"===t.type){const i=t.properties;for(const e in i)if(i.hasOwnProperty(e)){if(e===hm){if("r"===n[0]&&i[e].includes(mm))continue;return i[e].includes(mm)&&(n="r"+n),void gm(ym(pm,i[e]),n)}gm(i[e],`${n}${e}/`),r.add(e)}const o=t.additional_properties;for(const e in o)if(o.hasOwnProperty(e)&&e===hm){if("r"===n[0]&&o[e].includes(mm))continue;return o[e].includes(mm)&&(n="r"+n),void gm(ym(pm,o[e]),`${n}*/`)}vm(e,n,r)}if("array"===t.type){const i=t.items;for(const e in i)if(i.hasOwnProperty(e)&&e===hm){if("r"===n[0]&&i[e].includes(mm))continue;return i[e].includes(mm)&&(n="r"+n),void gm(ym(pm,i[e]),n)}vm(e,n,r)}for(const i in t)t.hasOwnProperty(i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach((e=>{gm(e,n)}))}function vm(e,t,n){let r=e.get(t);if(r){const i=new Set(r);n.forEach((e=>{i.add(e)})),e.set(t,i)}else e.set(t,n)}function ym(e,t){const n=t.split("/");if("#"!==n[0])return void console.log("Parsing not implemented for between files");let r=e;for(let i=1;i<n.length;i++)r=r[n[i]];return r}const bm=e=>{let t;try{t=JSON.parse(e)}catch(i){return void console.debug(i)}let n="tdjson";(e=>"object"===typeof e&&!Array.isArray(e)&&null!==e&&!!e.hasOwnProperty("@type")&&e["@type"].indexOf("tm:ThingModel")>-1)(t)&&(n="tmjson");var r;return r=n.concat(e),fm().compressToEncodedURIComponent(r)},wm=e=>{let t=(n=e,fm().decompressFromEncodedURIComponent(n));var n;if(null!=t&&""!==t){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},xm=(0,d.forwardRef)(((e,t)=>{const n=(0,d.useContext)(p),[r,i]=d.useState(!1),[o,s]=d.useState(""),[a,l]=d.useState("");(0,d.useImperativeHandle)(t,(()=>({openModal:()=>c(),close:()=>u()})));const c=()=>{i(!0);const e=bm(n.offlineTD);l(e);const t=`${window.location.origin+window.location.pathname}?td=${e}`;s(t),km(t),Sm()},u=()=>{i(!1)};let f=(0,T.jsx)("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"border-gray-600 bg-gray-600 w-full p-2 sm:text-sm border-2 text-white rounded-md focus:outline-none focus:border-blue-500",defaultValue:o});return r?Fe.createPortal((0,T.jsx)(ze,{hasSubmit:!0,onSubmit:u,submitText:"Okay",cancelText:"Open in Playground",onCancel:()=>{window.open(`https://playground.thingweb.io//#${a}`),u()},children:f,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null})),km=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then((function(){console.log("Async: Copied TD link to clipboard!")}),(function(e){console.error("Async: Could not copy TD to clipboard: ",e)}))},Sm=()=>{setTimeout((()=>{try{document.getElementById("share-td-field").select()}catch(Pe){}}),250)};function _m(e){return(0,T.jsx)("button",{onClick:e.onClick,className:" flex bg-blue-400                  hover:bg-blue-300  text-white  font-bold  py-2 px-5  rounded  h-12 text-center  cursor-pointer justify-center ",children:(0,T.jsx)("div",{className:"place-self-center",children:e.children})})}function Em(){const e=(0,d.useContext)(p),[t,n]=d.useState(!1),r=(0,d.useCallback)((()=>{if(!e.isModified)return!0;return window.confirm("Discard changes? All changes you made to your TD will be lost.")}),[e.isModified]),i=(0,d.useCallback)((async()=>{if(r())try{const t=await Ap(),n=`./${t.fileName}`;let r={};r[n]=t.fileHandle?t.fileHandle:JSON.parse(t.td),e.updateOfflineTD(t.td),e.updateIsModified(!1),e.setFileHandle(t.fileHandle||t.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(r)}catch(Fp){const t="Opening a new TD was canceled or an error occured.";console.error(t,Fp),alert(t)}}),[e,r]),o=(0,d.useCallback)((async()=>{try{JSON.parse(e.offlineTD)}catch(Fp){return alert("Didn't save TD. The given TD can't be parsed into a JSON object.")}try{const t=await Ip(e.name,e.fileHandle,e.offlineTD);e.setFileHandle(null!==t&&void 0!==t?t:e.fileHandle),e.updateIsModified(!1)}catch(Fp){console.debug(Fp),alert("Didn't save TD. The action was either canceled or ran into an error.")}}),[e]),s=(0,d.useCallback)((async()=>{try{const t=await Ip(e.name,void 0,e.offlineTD);e.setFileHandle(null!==t&&void 0!==t?t:e.fileHandle),e.updateIsModified(!1)}catch(Fp){console.debug(Fp),alert("Didn't save TD. The action was either canceled or ran into an error.")}}),[e]),a=e=>async()=>{n(!0),await e(),n(!1)};(0,d.useEffect)((()=>{const e=e=>{(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"s"===e.key&&(e.preventDefault(),e.stopPropagation(),a(o)()),(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"o"===e.key&&(e.preventDefault(),e.stopPropagation(),a(i)()),(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"n"===e.key&&(e.preventDefault(),e.stopPropagation(),f())};return document.addEventListener("keydown",e,!1),window.onbeforeunload=function(e){var t="Important: Please click on 'Save' button to leave this page.";return"undefined"==typeof e&&(e=window.event),e&&(e.returnValue=t),t},()=>{document.removeEventListener("keydown",e,!1)}}),[i,o]);const l=d.useRef(),c=d.useRef(),u=d.useRef(),f=()=>{u.current.openModal()},h=d.useRef(),m=(0,d.useCallback)((()=>({NODE_ENV:"production",PUBLIC_URL:"/editdor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NPM_PACKAGE_VERSION:"0.6.6"}.REACT_APP_OPENAI_KEY&&{NODE_ENV:"production",PUBLIC_URL:"/editdor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_NPM_PACKAGE_VERSION:"0.6.6"}.REACT_APP_OPENAI_URI)),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("header",{className:"flex justify-between items-center h-16 bg-blue-500",children:[(0,T.jsxs)("div",{className:"flex items-center",children:[(0,T.jsx)("img",{className:"pl-2 h-12",src:Zh,alt:"WOT"}),(0,T.jsx)("div",{className:"w-2"}),(0,T.jsx)("button",{children:(0,T.jsx)("img",{className:"pl-2 h-8",src:Qh,alt:"LOGO",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank")})})]}),(0,T.jsxs)("div",{className:"flex space-x-2 pr-2 items-center",children:[t&&(0,T.jsx)("div",{className:"app-header-spinner"}),m()&&(0,T.jsx)(_m,{onClick:()=>{h.current.openModal()},children:"GPT"}),(0,T.jsx)(_m,{onClick:()=>{c.current.openModal()},children:"Share"}),(0,T.jsx)(_m,{onClick:f,children:"New"}),(0,T.jsx)(_m,{onClick:a(i),children:"Open"}),(0,T.jsx)(_m,{onClick:a(o),children:"Save"}),(0,T.jsx)(_m,{onClick:a(s),children:"Persist As File"}),function(e){try{e=JSON.parse(e)}catch{return!1}return!!e.hasOwnProperty("@type")&&e["@type"].indexOf("tm:ThingModel")>-1}(e.offlineTD)&&(0,T.jsx)(_m,{onClick:()=>{l.current.openModal()},children:"Convert To TD"})]})]}),(0,T.jsx)(rm,{ref:l}),(0,T.jsx)(xm,{ref:c}),(0,T.jsx)(am,{ref:u}),(0,T.jsx)(nm,{ref:h}),(0,T.jsx)("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),(0,T.jsx)("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"},children:"download"})]})}let Pm=!1;const Tm=e=>{const t=(0,d.useContext)(p);return(0,d.useEffect)((()=>{$m(document.getElementById("separator"),"H")}),[e]),(0,d.useEffect)((()=>{if(Pm||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("localstorage")<=-1)return;Pm=!0;const e=new URL(window.location.href),n=e.searchParams.get("td");if(null!==n){const e=wm(n);if(void 0===e)return void alert("The lz compressed TD found in the URL couldn't be reconstructed.");t.updateOfflineTD(JSON.stringify(e,null,2))}if(e.searchParams.has("localstorage")){let e=localStorage.getItem("td");if(void 0===e)return void alert("Request to read TD from local storage failed.");e=JSON.parse(e),t.updateOfflineTD(JSON.stringify(e,null,2))}}),[t]),(0,T.jsxs)("main",{className:"h-full w-screen flex flex-col",children:[(0,T.jsx)(Em,{}),(0,T.jsxs)("div",{className:"flex-grow splitter flex flex-row w-full height-adjust",children:[(0,T.jsx)("div",{className:"w-7/12",id:"second",children:(0,T.jsx)(Xh,{})}),(0,T.jsx)("div",{id:"separator"}),(0,T.jsx)("div",{className:"w-5/12",id:"first",children:(0,T.jsx)(Me,{})})]}),(0,T.jsx)(Yh,{}),(0,T.jsx)("div",{id:"modal-root"})]})},$m=(e,t)=>{let n;const r=document.getElementById("first"),i=document.getElementById("second"),o=o=>{var s={x:n.e.clientX-o.clientX,y:o.clientY-n.e.clientY};"H"===t&&(s.x=Math.min(Math.max(s.x,-n.firstWidth),n.secondWidth),e.style.left=n.offsetLeft+s.x+"px",r.style.width=n.firstWidth+s.x+"px",i.style.width=n.secondWidth-s.x+"px")};e.onmousedown=t=>{n={e:t,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,firstWidth:r.offsetWidth,secondWidth:i.offsetWidth},document.onmousemove=o,document.onmouseup=()=>{document.onmousemove=document.onmouseup=null}}},Nm=e=>(0,T.jsx)($,{children:(0,T.jsx)(Tm,{})}),jm=e=>{e&&e instanceof Function&&n.e(206).then(n.bind(n,8206)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};n(5430).patch();f.createRoot(document.getElementById("root")).render((0,T.jsx)(d.StrictMode,{children:(0,T.jsx)(Nm,{})})),jm()})()})();