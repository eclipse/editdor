var eJ=Object.defineProperty;var tJ=(e,t,r)=>t in e?eJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Jn=(e,t,r)=>tJ(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function NP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var S3={exports:{}},O_={},$3={exports:{}},_r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=Symbol.for("react.element"),rJ=Symbol.for("react.portal"),nJ=Symbol.for("react.fragment"),iJ=Symbol.for("react.strict_mode"),oJ=Symbol.for("react.profiler"),aJ=Symbol.for("react.provider"),sJ=Symbol.for("react.context"),lJ=Symbol.for("react.forward_ref"),uJ=Symbol.for("react.suspense"),cJ=Symbol.for("react.memo"),fJ=Symbol.for("react.lazy"),$2=Symbol.iterator;function dJ(e){return e===null||typeof e!="object"?null:(e=$2&&e[$2]||e["@@iterator"],typeof e=="function"?e:null)}var T3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A3=Object.assign,x3={};function Fh(e,t,r){this.props=e,this.context=t,this.refs=x3,this.updater=r||T3}Fh.prototype.isReactComponent={};Fh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function O3(){}O3.prototype=Fh.prototype;function IP(e,t,r){this.props=e,this.context=t,this.refs=x3,this.updater=r||T3}var jP=IP.prototype=new O3;jP.constructor=IP;A3(jP,Fh.prototype);jP.isPureReactComponent=!0;var T2=Array.isArray,P3=Object.prototype.hasOwnProperty,CP={current:null},R3={key:!0,ref:!0,__self:!0,__source:!0};function N3(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)P3.call(t,n)&&!R3.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:vg,type:e,key:o,ref:a,props:i,_owner:CP.current}}function hJ(e,t){return{$$typeof:vg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kP(e){return typeof e=="object"&&e!==null&&e.$$typeof===vg}function pJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var A2=/\/+/g;function fS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pJ(""+e.key):t.toString(36)}function $y(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vg:case rJ:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+fS(a,0):n,T2(i)?(r="",e!=null&&(r=e.replace(A2,"$&/")+"/"),$y(i,t,r,"",function(u){return u})):i!=null&&(kP(i)&&(i=hJ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(A2,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",T2(e))for(var s=0;s<e.length;s++){o=e[s];var l=n+fS(o,s);a+=$y(o,t,r,l,i)}else if(l=dJ(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=n+fS(o,s++),a+=$y(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pv(e,t,r){if(e==null)return e;var n=[],i=0;return $y(e,n,"","",function(o){return t.call(r,o,i++)}),n}function mJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lo={current:null},Ty={transition:null},gJ={ReactCurrentDispatcher:lo,ReactCurrentBatchConfig:Ty,ReactCurrentOwner:CP};function I3(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:pv,forEach:function(e,t,r){pv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pv(e,function(){t++}),t},toArray:function(e){return pv(e,function(t){return t})||[]},only:function(e){if(!kP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=Fh;_r.Fragment=nJ;_r.Profiler=oJ;_r.PureComponent=IP;_r.StrictMode=iJ;_r.Suspense=uJ;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gJ;_r.act=I3;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=A3({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=CP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)P3.call(t,l)&&!R3.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:vg,type:e.type,key:i,ref:o,props:n,_owner:a}};_r.createContext=function(e){return e={$$typeof:sJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aJ,_context:e},e.Consumer=e};_r.createElement=N3;_r.createFactory=function(e){var t=N3.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:lJ,render:e}};_r.isValidElement=kP;_r.lazy=function(e){return{$$typeof:fJ,_payload:{_status:-1,_result:e},_init:mJ}};_r.memo=function(e,t){return{$$typeof:cJ,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=Ty.transition;Ty.transition={};try{e()}finally{Ty.transition=t}};_r.unstable_act=I3;_r.useCallback=function(e,t){return lo.current.useCallback(e,t)};_r.useContext=function(e){return lo.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return lo.current.useDeferredValue(e)};_r.useEffect=function(e,t){return lo.current.useEffect(e,t)};_r.useId=function(){return lo.current.useId()};_r.useImperativeHandle=function(e,t,r){return lo.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return lo.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return lo.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return lo.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return lo.current.useReducer(e,t,r)};_r.useRef=function(e){return lo.current.useRef(e)};_r.useState=function(e){return lo.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return lo.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return lo.current.useTransition()};_r.version="18.3.1";$3.exports=_r;var Ce=$3.exports;const Je=Wl(Ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vJ=Ce,yJ=Symbol.for("react.element"),wJ=Symbol.for("react.fragment"),bJ=Object.prototype.hasOwnProperty,_J=vJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EJ={key:!0,ref:!0,__self:!0,__source:!0};function j3(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)bJ.call(t,n)&&!EJ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:yJ,type:e,key:o,ref:a,props:i,_owner:_J.current}}O_.Fragment=wJ;O_.jsx=j3;O_.jsxs=j3;S3.exports=O_;var re=S3.exports,w$={},C3={exports:{}},Zo={},k3={exports:{}},D3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ie){var k=Z.length;Z.push(ie);e:for(;0<k;){var B=k-1>>>1,G=Z[B];if(0<i(G,ie))Z[B]=ie,Z[k]=G,k=B;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ie=Z[0],k=Z.pop();if(k!==ie){Z[0]=k;e:for(var B=0,G=Z.length,P=G>>>1;B<P;){var N=2*(B+1)-1,q=Z[N],oe=N+1,J=Z[oe];if(0>i(q,k))oe<G&&0>i(J,q)?(Z[B]=J,Z[oe]=k,B=oe):(Z[B]=q,Z[N]=k,B=N);else if(oe<G&&0>i(J,k))Z[B]=J,Z[oe]=k,B=oe;else break e}}return ie}function i(Z,ie){var k=Z.sortIndex-ie.sortIndex;return k!==0?k:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],f=1,c=null,h=3,g=!1,m=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(Z){for(var ie=r(u);ie!==null;){if(ie.callback===null)n(u);else if(ie.startTime<=Z)n(u),ie.sortIndex=ie.expirationTime,t(l,ie);else break;ie=r(u)}}function E(Z){if(_=!1,y(Z),!m)if(r(l)!==null)m=!0,X($);else{var ie=r(u);ie!==null&&ce(E,ie.startTime-Z)}}function $(Z,ie){m=!1,_&&(_=!1,p(A),A=-1),g=!0;var k=h;try{for(y(ie),c=r(l);c!==null&&(!(c.expirationTime>ie)||Z&&!C());){var B=c.callback;if(typeof B=="function"){c.callback=null,h=c.priorityLevel;var G=B(c.expirationTime<=ie);ie=e.unstable_now(),typeof G=="function"?c.callback=G:c===r(l)&&n(l),y(ie)}else n(l);c=r(l)}if(c!==null)var P=!0;else{var N=r(u);N!==null&&ce(E,N.startTime-ie),P=!1}return P}finally{c=null,h=k,g=!1}}var T=!1,d=null,A=-1,x=5,O=-1;function C(){return!(e.unstable_now()-O<x)}function F(){if(d!==null){var Z=e.unstable_now();O=Z;var ie=!0;try{ie=d(!0,Z)}finally{ie?V():(T=!1,d=null)}}else T=!1}var V;if(typeof S=="function")V=function(){S(F)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=F,V=function(){H.postMessage(null)}}else V=function(){v(F,0)};function X(Z){d=Z,T||(T=!0,V())}function ce(Z,ie){A=v(function(){Z(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,X($))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var ie=3;break;default:ie=h}var k=h;h=ie;try{return Z()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var k=h;h=Z;try{return ie()}finally{h=k}},e.unstable_scheduleCallback=function(Z,ie,k){var B=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?B+k:B):k=B,Z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,Z={id:f++,callback:ie,priorityLevel:Z,startTime:k,expirationTime:G,sortIndex:-1},k>B?(Z.sortIndex=k,t(u,Z),r(l)===null&&Z===r(u)&&(_?(p(A),A=-1):_=!0,ce(E,k-B))):(Z.sortIndex=G,t(l,Z),m||g||(m=!0,X($))),Z},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(Z){var ie=h;return function(){var k=h;h=ie;try{return Z.apply(this,arguments)}finally{h=k}}}})(D3);k3.exports=D3;var SJ=k3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $J=Ce,Qo=SJ;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M3=new Set,Nm={};function Uf(e,t){_h(e,t),_h(e+"Capture",t)}function _h(e,t){for(Nm[e]=t,e=0;e<t.length;e++)M3.add(t[e])}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b$=Object.prototype.hasOwnProperty,TJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x2={},O2={};function AJ(e){return b$.call(O2,e)?!0:b$.call(x2,e)?!1:TJ.test(e)?O2[e]=!0:(x2[e]=!0,!1)}function xJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OJ(e,t,r,n){if(t===null||typeof t>"u"||xJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function uo(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pi[e]=new uo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pi[t]=new uo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pi[e]=new uo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pi[e]=new uo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pi[e]=new uo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pi[e]=new uo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pi[e]=new uo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pi[e]=new uo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pi[e]=new uo(e,5,!1,e.toLowerCase(),null,!1,!1)});var DP=/[\-:]([a-z])/g;function MP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(DP,MP);Pi[t]=new uo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(DP,MP);Pi[t]=new uo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(DP,MP);Pi[t]=new uo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pi[e]=new uo(e,1,!1,e.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new uo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pi[e]=new uo(e,1,!1,e.toLowerCase(),null,!0,!0)});function LP(e,t,r,n){var i=Pi.hasOwnProperty(t)?Pi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OJ(t,r,i,n)&&(r=null),n||i===null?AJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gl=$J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mv=Symbol.for("react.element"),Ld=Symbol.for("react.portal"),Fd=Symbol.for("react.fragment"),FP=Symbol.for("react.strict_mode"),_$=Symbol.for("react.profiler"),L3=Symbol.for("react.provider"),F3=Symbol.for("react.context"),BP=Symbol.for("react.forward_ref"),E$=Symbol.for("react.suspense"),S$=Symbol.for("react.suspense_list"),UP=Symbol.for("react.memo"),Ru=Symbol.for("react.lazy"),B3=Symbol.for("react.offscreen"),P2=Symbol.iterator;function cp(e){return e===null||typeof e!="object"?null:(e=P2&&e[P2]||e["@@iterator"],typeof e=="function"?e:null)}var kn=Object.assign,dS;function jp(e){if(dS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dS=t&&t[1]||""}return`
`+dS+e}var hS=!1;function pS(e,t){if(!e||hS)return"";hS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{hS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jp(e):""}function PJ(e){switch(e.tag){case 5:return jp(e.type);case 16:return jp("Lazy");case 13:return jp("Suspense");case 19:return jp("SuspenseList");case 0:case 2:case 15:return e=pS(e.type,!1),e;case 11:return e=pS(e.type.render,!1),e;case 1:return e=pS(e.type,!0),e;default:return""}}function $$(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fd:return"Fragment";case Ld:return"Portal";case _$:return"Profiler";case FP:return"StrictMode";case E$:return"Suspense";case S$:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F3:return(e.displayName||"Context")+".Consumer";case L3:return(e._context.displayName||"Context")+".Provider";case BP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case UP:return t=e.displayName||null,t!==null?t:$$(e.type)||"Memo";case Ru:t=e._payload,e=e._init;try{return $$(e(t))}catch{}}return null}function RJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $$(t);case 8:return t===FP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NJ(e){var t=U3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gv(e){e._valueTracker||(e._valueTracker=NJ(e))}function z3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=U3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ab(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function T$(e,t){var r=t.checked;return kn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function R2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function q3(e,t){t=t.checked,t!=null&&LP(e,"checked",t,!1)}function A$(e,t){q3(e,t);var r=rc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?x$(e,t.type,r):t.hasOwnProperty("defaultValue")&&x$(e,t.type,rc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function x$(e,t,r){(t!=="number"||ab(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cp=Array.isArray;function rh(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rc(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function O$(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(St(91));return kn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(St(92));if(Cp(r)){if(1<r.length)throw Error(St(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rc(r)}}function V3(e,t){var r=rc(t.value),n=rc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function j2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P$(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vv,W3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vv=vv||document.createElement("div"),vv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Im(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var im={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IJ=["Webkit","ms","Moz","O"];Object.keys(im).forEach(function(e){IJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),im[t]=im[e]})});function G3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||im.hasOwnProperty(e)&&im[e]?(""+t).trim():t+"px"}function K3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=G3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var jJ=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R$(e,t){if(t){if(jJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(St(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(St(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(St(61))}if(t.style!=null&&typeof t.style!="object")throw Error(St(62))}}function N$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var I$=null;function zP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var j$=null,nh=null,ih=null;function C2(e){if(e=bg(e)){if(typeof j$!="function")throw Error(St(280));var t=e.stateNode;t&&(t=j_(t),j$(e.stateNode,e.type,t))}}function J3(e){nh?ih?ih.push(e):ih=[e]:nh=e}function Y3(){if(nh){var e=nh,t=ih;if(ih=nh=null,C2(e),t)for(e=0;e<t.length;e++)C2(t[e])}}function X3(e,t){return e(t)}function Q3(){}var mS=!1;function Z3(e,t,r){if(mS)return e(t,r);mS=!0;try{return X3(e,t,r)}finally{mS=!1,(nh!==null||ih!==null)&&(Q3(),Y3())}}function jm(e,t){var r=e.stateNode;if(r===null)return null;var n=j_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(St(231,t,typeof r));return r}var C$=!1;if(Ml)try{var fp={};Object.defineProperty(fp,"passive",{get:function(){C$=!0}}),window.addEventListener("test",fp,fp),window.removeEventListener("test",fp,fp)}catch{C$=!1}function CJ(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var om=!1,sb=null,lb=!1,k$=null,kJ={onError:function(e){om=!0,sb=e}};function DJ(e,t,r,n,i,o,a,s,l){om=!1,sb=null,CJ.apply(kJ,arguments)}function MJ(e,t,r,n,i,o,a,s,l){if(DJ.apply(this,arguments),om){if(om){var u=sb;om=!1,sb=null}else throw Error(St(198));lb||(lb=!0,k$=u)}}function zf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function e4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function k2(e){if(zf(e)!==e)throw Error(St(188))}function LJ(e){var t=e.alternate;if(!t){if(t=zf(e),t===null)throw Error(St(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return k2(i),e;if(o===n)return k2(i),t;o=o.sibling}throw Error(St(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(St(189))}}if(r.alternate!==n)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?e:t}function t4(e){return e=LJ(e),e!==null?r4(e):null}function r4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=r4(e);if(t!==null)return t;e=e.sibling}return null}var n4=Qo.unstable_scheduleCallback,D2=Qo.unstable_cancelCallback,FJ=Qo.unstable_shouldYield,BJ=Qo.unstable_requestPaint,Hn=Qo.unstable_now,UJ=Qo.unstable_getCurrentPriorityLevel,qP=Qo.unstable_ImmediatePriority,i4=Qo.unstable_UserBlockingPriority,ub=Qo.unstable_NormalPriority,zJ=Qo.unstable_LowPriority,o4=Qo.unstable_IdlePriority,P_=null,Zs=null;function qJ(e){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(P_,e,void 0,(e.current.flags&128)===128)}catch{}}var cs=Math.clz32?Math.clz32:WJ,VJ=Math.log,HJ=Math.LN2;function WJ(e){return e>>>=0,e===0?32:31-(VJ(e)/HJ|0)|0}var yv=64,wv=4194304;function kp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cb(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=kp(s):(o&=a,o!==0&&(n=kp(o)))}else a=r&~i,a!==0?n=kp(a):o!==0&&(n=kp(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cs(t),i=1<<r,n|=e[r],t&=~i;return n}function GJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KJ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-cs(o),s=1<<a,l=i[a];l===-1?(!(s&r)||s&n)&&(i[a]=GJ(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function D$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a4(){var e=yv;return yv<<=1,!(yv&4194240)&&(yv=64),e}function gS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cs(t),e[t]=r}function JJ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-cs(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function VP(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Zr=0;function s4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l4,HP,u4,c4,f4,M$=!1,bv=[],Vu=null,Hu=null,Wu=null,Cm=new Map,km=new Map,ju=[],YJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M2(e,t){switch(e){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":Hu=null;break;case"mouseover":case"mouseout":Wu=null;break;case"pointerover":case"pointerout":Cm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":km.delete(t.pointerId)}}function dp(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=bg(t),t!==null&&HP(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function XJ(e,t,r,n,i){switch(t){case"focusin":return Vu=dp(Vu,e,t,r,n,i),!0;case"dragenter":return Hu=dp(Hu,e,t,r,n,i),!0;case"mouseover":return Wu=dp(Wu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Cm.set(o,dp(Cm.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,km.set(o,dp(km.get(o)||null,e,t,r,n,i)),!0}return!1}function d4(e){var t=sf(e.target);if(t!==null){var r=zf(t);if(r!==null){if(t=r.tag,t===13){if(t=e4(r),t!==null){e.blockedOn=t,f4(e.priority,function(){u4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ay(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=L$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);I$=n,r.target.dispatchEvent(n),I$=null}else return t=bg(r),t!==null&&HP(t),e.blockedOn=r,!1;t.shift()}return!0}function L2(e,t,r){Ay(e)&&r.delete(t)}function QJ(){M$=!1,Vu!==null&&Ay(Vu)&&(Vu=null),Hu!==null&&Ay(Hu)&&(Hu=null),Wu!==null&&Ay(Wu)&&(Wu=null),Cm.forEach(L2),km.forEach(L2)}function hp(e,t){e.blockedOn===t&&(e.blockedOn=null,M$||(M$=!0,Qo.unstable_scheduleCallback(Qo.unstable_NormalPriority,QJ)))}function Dm(e){function t(i){return hp(i,e)}if(0<bv.length){hp(bv[0],e);for(var r=1;r<bv.length;r++){var n=bv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vu!==null&&hp(Vu,e),Hu!==null&&hp(Hu,e),Wu!==null&&hp(Wu,e),Cm.forEach(t),km.forEach(t),r=0;r<ju.length;r++)n=ju[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ju.length&&(r=ju[0],r.blockedOn===null);)d4(r),r.blockedOn===null&&ju.shift()}var oh=Gl.ReactCurrentBatchConfig,fb=!0;function ZJ(e,t,r,n){var i=Zr,o=oh.transition;oh.transition=null;try{Zr=1,WP(e,t,r,n)}finally{Zr=i,oh.transition=o}}function eY(e,t,r,n){var i=Zr,o=oh.transition;oh.transition=null;try{Zr=4,WP(e,t,r,n)}finally{Zr=i,oh.transition=o}}function WP(e,t,r,n){if(fb){var i=L$(e,t,r,n);if(i===null)AS(e,t,n,db,r),M2(e,n);else if(XJ(i,e,t,r,n))n.stopPropagation();else if(M2(e,n),t&4&&-1<YJ.indexOf(e)){for(;i!==null;){var o=bg(i);if(o!==null&&l4(o),o=L$(e,t,r,n),o===null&&AS(e,t,n,db,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else AS(e,t,n,null,r)}}var db=null;function L$(e,t,r,n){if(db=null,e=zP(n),e=sf(e),e!==null)if(t=zf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=e4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return db=e,null}function h4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UJ()){case qP:return 1;case i4:return 4;case ub:case zJ:return 16;case o4:return 536870912;default:return 16}default:return 16}}var Mu=null,GP=null,xy=null;function p4(){if(xy)return xy;var e,t=GP,r=t.length,n,i="value"in Mu?Mu.value:Mu.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return xy=i.slice(e,1<n?1-n:void 0)}function Oy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _v(){return!0}function F2(){return!1}function ea(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_v:F2,this.isPropagationStopped=F2,this}return kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_v)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_v)},persist:function(){},isPersistent:_v}),t}var Bh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},KP=ea(Bh),wg=kn({},Bh,{view:0,detail:0}),tY=ea(wg),vS,yS,pp,R_=kn({},wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pp&&(pp&&e.type==="mousemove"?(vS=e.screenX-pp.screenX,yS=e.screenY-pp.screenY):yS=vS=0,pp=e),vS)},movementY:function(e){return"movementY"in e?e.movementY:yS}}),B2=ea(R_),rY=kn({},R_,{dataTransfer:0}),nY=ea(rY),iY=kn({},wg,{relatedTarget:0}),wS=ea(iY),oY=kn({},Bh,{animationName:0,elapsedTime:0,pseudoElement:0}),aY=ea(oY),sY=kn({},Bh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lY=ea(sY),uY=kn({},Bh,{data:0}),U2=ea(uY),cY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dY[e])?!!t[e]:!1}function JP(){return hY}var pY=kn({},wg,{key:function(e){if(e.key){var t=cY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JP,charCode:function(e){return e.type==="keypress"?Oy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mY=ea(pY),gY=kn({},R_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z2=ea(gY),vY=kn({},wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JP}),yY=ea(vY),wY=kn({},Bh,{propertyName:0,elapsedTime:0,pseudoElement:0}),bY=ea(wY),_Y=kn({},R_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EY=ea(_Y),SY=[9,13,27,32],YP=Ml&&"CompositionEvent"in window,am=null;Ml&&"documentMode"in document&&(am=document.documentMode);var $Y=Ml&&"TextEvent"in window&&!am,m4=Ml&&(!YP||am&&8<am&&11>=am),q2=" ",V2=!1;function g4(e,t){switch(e){case"keyup":return SY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bd=!1;function TY(e,t){switch(e){case"compositionend":return v4(t);case"keypress":return t.which!==32?null:(V2=!0,q2);case"textInput":return e=t.data,e===q2&&V2?null:e;default:return null}}function AY(e,t){if(Bd)return e==="compositionend"||!YP&&g4(e,t)?(e=p4(),xy=GP=Mu=null,Bd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m4&&t.locale!=="ko"?null:t.data;default:return null}}var xY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xY[e.type]:t==="textarea"}function y4(e,t,r,n){J3(n),t=hb(t,"onChange"),0<t.length&&(r=new KP("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var sm=null,Mm=null;function OY(e){P4(e,0)}function N_(e){var t=qd(e);if(z3(t))return e}function PY(e,t){if(e==="change")return t}var w4=!1;if(Ml){var bS;if(Ml){var _S="oninput"in document;if(!_S){var W2=document.createElement("div");W2.setAttribute("oninput","return;"),_S=typeof W2.oninput=="function"}bS=_S}else bS=!1;w4=bS&&(!document.documentMode||9<document.documentMode)}function G2(){sm&&(sm.detachEvent("onpropertychange",b4),Mm=sm=null)}function b4(e){if(e.propertyName==="value"&&N_(Mm)){var t=[];y4(t,Mm,e,zP(e)),Z3(OY,t)}}function RY(e,t,r){e==="focusin"?(G2(),sm=t,Mm=r,sm.attachEvent("onpropertychange",b4)):e==="focusout"&&G2()}function NY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return N_(Mm)}function IY(e,t){if(e==="click")return N_(t)}function jY(e,t){if(e==="input"||e==="change")return N_(t)}function CY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ds=typeof Object.is=="function"?Object.is:CY;function Lm(e,t){if(ds(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!b$.call(t,i)||!ds(e[i],t[i]))return!1}return!0}function K2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function J2(e,t){var r=K2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K2(r)}}function _4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E4(){for(var e=window,t=ab();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ab(e.document)}return t}function XP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kY(e){var t=E4(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_4(r.ownerDocument.documentElement,r)){if(n!==null&&XP(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=J2(r,o);var a=J2(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DY=Ml&&"documentMode"in document&&11>=document.documentMode,Ud=null,F$=null,lm=null,B$=!1;function Y2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;B$||Ud==null||Ud!==ab(n)||(n=Ud,"selectionStart"in n&&XP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lm&&Lm(lm,n)||(lm=n,n=hb(F$,"onSelect"),0<n.length&&(t=new KP("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ud)))}function Ev(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zd={animationend:Ev("Animation","AnimationEnd"),animationiteration:Ev("Animation","AnimationIteration"),animationstart:Ev("Animation","AnimationStart"),transitionend:Ev("Transition","TransitionEnd")},ES={},S4={};Ml&&(S4=document.createElement("div").style,"AnimationEvent"in window||(delete zd.animationend.animation,delete zd.animationiteration.animation,delete zd.animationstart.animation),"TransitionEvent"in window||delete zd.transitionend.transition);function I_(e){if(ES[e])return ES[e];if(!zd[e])return e;var t=zd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in S4)return ES[e]=t[r];return e}var $4=I_("animationend"),T4=I_("animationiteration"),A4=I_("animationstart"),x4=I_("transitionend"),O4=new Map,X2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ac(e,t){O4.set(e,t),Uf(t,[e])}for(var SS=0;SS<X2.length;SS++){var $S=X2[SS],MY=$S.toLowerCase(),LY=$S[0].toUpperCase()+$S.slice(1);ac(MY,"on"+LY)}ac($4,"onAnimationEnd");ac(T4,"onAnimationIteration");ac(A4,"onAnimationStart");ac("dblclick","onDoubleClick");ac("focusin","onFocus");ac("focusout","onBlur");ac(x4,"onTransitionEnd");_h("onMouseEnter",["mouseout","mouseover"]);_h("onMouseLeave",["mouseout","mouseover"]);_h("onPointerEnter",["pointerout","pointerover"]);_h("onPointerLeave",["pointerout","pointerover"]);Uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dp));function Q2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,MJ(n,t,void 0,e),e.currentTarget=null}function P4(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Q2(i,s,u),o=l}else for(a=0;a<n.length;a++){if(s=n[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Q2(i,s,u),o=l}}}if(lb)throw e=k$,lb=!1,k$=null,e}function yn(e,t){var r=t[H$];r===void 0&&(r=t[H$]=new Set);var n=e+"__bubble";r.has(n)||(R4(t,e,2,!1),r.add(n))}function TS(e,t,r){var n=0;t&&(n|=4),R4(r,e,n,t)}var Sv="_reactListening"+Math.random().toString(36).slice(2);function Fm(e){if(!e[Sv]){e[Sv]=!0,M3.forEach(function(r){r!=="selectionchange"&&(FY.has(r)||TS(r,!1,e),TS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sv]||(t[Sv]=!0,TS("selectionchange",!1,t))}}function R4(e,t,r,n){switch(h4(t)){case 1:var i=ZJ;break;case 4:i=eY;break;default:i=WP}r=i.bind(null,t,r,e),i=void 0,!C$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function AS(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=sf(s),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}s=s.parentNode}}n=n.return}Z3(function(){var u=o,f=zP(r),c=[];e:{var h=O4.get(e);if(h!==void 0){var g=KP,m=e;switch(e){case"keypress":if(Oy(r)===0)break e;case"keydown":case"keyup":g=mY;break;case"focusin":m="focus",g=wS;break;case"focusout":m="blur",g=wS;break;case"beforeblur":case"afterblur":g=wS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=B2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=yY;break;case $4:case T4:case A4:g=aY;break;case x4:g=bY;break;case"scroll":g=tY;break;case"wheel":g=EY;break;case"copy":case"cut":case"paste":g=lY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=z2}var _=(t&4)!==0,v=!_&&e==="scroll",p=_?h!==null?h+"Capture":null:h;_=[];for(var S=u,y;S!==null;){y=S;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,p!==null&&(E=jm(S,p),E!=null&&_.push(Bm(S,E,y)))),v)break;S=S.return}0<_.length&&(h=new g(h,m,null,r,f),c.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==I$&&(m=r.relatedTarget||r.fromElement)&&(sf(m)||m[Ll]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?sf(m):null,m!==null&&(v=zf(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(_=B2,E="onMouseLeave",p="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(_=z2,E="onPointerLeave",p="onPointerEnter",S="pointer"),v=g==null?h:qd(g),y=m==null?h:qd(m),h=new _(E,S+"leave",g,r,f),h.target=v,h.relatedTarget=y,E=null,sf(f)===u&&(_=new _(p,S+"enter",m,r,f),_.target=y,_.relatedTarget=v,E=_),v=E,g&&m)t:{for(_=g,p=m,S=0,y=_;y;y=pd(y))S++;for(y=0,E=p;E;E=pd(E))y++;for(;0<S-y;)_=pd(_),S--;for(;0<y-S;)p=pd(p),y--;for(;S--;){if(_===p||p!==null&&_===p.alternate)break t;_=pd(_),p=pd(p)}_=null}else _=null;g!==null&&Z2(c,h,g,_,!1),m!==null&&v!==null&&Z2(c,v,m,_,!0)}}e:{if(h=u?qd(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var $=PY;else if(H2(h))if(w4)$=jY;else{$=NY;var T=RY}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&($=IY);if($&&($=$(e,u))){y4(c,$,r,f);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&x$(h,"number",h.value)}switch(T=u?qd(u):window,e){case"focusin":(H2(T)||T.contentEditable==="true")&&(Ud=T,F$=u,lm=null);break;case"focusout":lm=F$=Ud=null;break;case"mousedown":B$=!0;break;case"contextmenu":case"mouseup":case"dragend":B$=!1,Y2(c,r,f);break;case"selectionchange":if(DY)break;case"keydown":case"keyup":Y2(c,r,f)}var d;if(YP)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Bd?g4(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(m4&&r.locale!=="ko"&&(Bd||A!=="onCompositionStart"?A==="onCompositionEnd"&&Bd&&(d=p4()):(Mu=f,GP="value"in Mu?Mu.value:Mu.textContent,Bd=!0)),T=hb(u,A),0<T.length&&(A=new U2(A,e,null,r,f),c.push({event:A,listeners:T}),d?A.data=d:(d=v4(r),d!==null&&(A.data=d)))),(d=$Y?TY(e,r):AY(e,r))&&(u=hb(u,"onBeforeInput"),0<u.length&&(f=new U2("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=d))}P4(c,t)})}function Bm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hb(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=jm(e,r),o!=null&&n.unshift(Bm(e,o,i)),o=jm(e,t),o!=null&&n.push(Bm(e,o,i))),e=e.return}return n}function pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z2(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=jm(r,o),l!=null&&a.unshift(Bm(r,l,s))):i||(l=jm(r,o),l!=null&&a.push(Bm(r,l,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var BY=/\r\n?/g,UY=/\u0000|\uFFFD/g;function eC(e){return(typeof e=="string"?e:""+e).replace(BY,`
`).replace(UY,"")}function $v(e,t,r){if(t=eC(t),eC(e)!==t&&r)throw Error(St(425))}function pb(){}var U$=null,z$=null;function q$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var V$=typeof setTimeout=="function"?setTimeout:void 0,zY=typeof clearTimeout=="function"?clearTimeout:void 0,tC=typeof Promise=="function"?Promise:void 0,qY=typeof queueMicrotask=="function"?queueMicrotask:typeof tC<"u"?function(e){return tC.resolve(null).then(e).catch(VY)}:V$;function VY(e){setTimeout(function(){throw e})}function xS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Dm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Dm(t)}function Gu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),zs="__reactFiber$"+Uh,Um="__reactProps$"+Uh,Ll="__reactContainer$"+Uh,H$="__reactEvents$"+Uh,HY="__reactListeners$"+Uh,WY="__reactHandles$"+Uh;function sf(e){var t=e[zs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ll]||r[zs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=rC(e);e!==null;){if(r=e[zs])return r;e=rC(e)}return t}e=r,r=e.parentNode}return null}function bg(e){return e=e[zs]||e[Ll],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(St(33))}function j_(e){return e[Um]||null}var W$=[],Vd=-1;function sc(e){return{current:e}}function _n(e){0>Vd||(e.current=W$[Vd],W$[Vd]=null,Vd--)}function hn(e,t){Vd++,W$[Vd]=e.current,e.current=t}var nc={},qi=sc(nc),To=sc(!1),Of=nc;function Eh(e,t){var r=e.type.contextTypes;if(!r)return nc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ao(e){return e=e.childContextTypes,e!=null}function mb(){_n(To),_n(qi)}function nC(e,t,r){if(qi.current!==nc)throw Error(St(168));hn(qi,t),hn(To,r)}function N4(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(St(108,RJ(e)||"Unknown",i));return kn({},r,n)}function gb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nc,Of=qi.current,hn(qi,e),hn(To,To.current),!0}function iC(e,t,r){var n=e.stateNode;if(!n)throw Error(St(169));r?(e=N4(e,t,Of),n.__reactInternalMemoizedMergedChildContext=e,_n(To),_n(qi),hn(qi,e)):_n(To),hn(To,r)}var $l=null,C_=!1,OS=!1;function I4(e){$l===null?$l=[e]:$l.push(e)}function GY(e){C_=!0,I4(e)}function lc(){if(!OS&&$l!==null){OS=!0;var e=0,t=Zr;try{var r=$l;for(Zr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$l=null,C_=!1}catch(i){throw $l!==null&&($l=$l.slice(e+1)),n4(qP,lc),i}finally{Zr=t,OS=!1}}return null}var Hd=[],Wd=0,vb=null,yb=0,va=[],ya=0,Pf=null,Ol=1,Pl="";function Hc(e,t){Hd[Wd++]=yb,Hd[Wd++]=vb,vb=e,yb=t}function j4(e,t,r){va[ya++]=Ol,va[ya++]=Pl,va[ya++]=Pf,Pf=e;var n=Ol;e=Pl;var i=32-cs(n)-1;n&=~(1<<i),r+=1;var o=32-cs(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ol=1<<32-cs(t)+i|r<<i|n,Pl=o+e}else Ol=1<<o|r<<i|n,Pl=e}function QP(e){e.return!==null&&(Hc(e,1),j4(e,1,0))}function ZP(e){for(;e===vb;)vb=Hd[--Wd],Hd[Wd]=null,yb=Hd[--Wd],Hd[Wd]=null;for(;e===Pf;)Pf=va[--ya],va[ya]=null,Pl=va[--ya],va[ya]=null,Ol=va[--ya],va[ya]=null}var Yo=null,Ko=null,On=!1,as=null;function C4(e,t){var r=Ra(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function oC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yo=e,Ko=Gu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yo=e,Ko=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pf!==null?{id:Ol,overflow:Pl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ra(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yo=e,Ko=null,!0):!1;default:return!1}}function G$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function K$(e){if(On){var t=Ko;if(t){var r=t;if(!oC(e,t)){if(G$(e))throw Error(St(418));t=Gu(r.nextSibling);var n=Yo;t&&oC(e,t)?C4(n,r):(e.flags=e.flags&-4097|2,On=!1,Yo=e)}}else{if(G$(e))throw Error(St(418));e.flags=e.flags&-4097|2,On=!1,Yo=e}}}function aC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yo=e}function Tv(e){if(e!==Yo)return!1;if(!On)return aC(e),On=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!q$(e.type,e.memoizedProps)),t&&(t=Ko)){if(G$(e))throw k4(),Error(St(418));for(;t;)C4(e,t),t=Gu(t.nextSibling)}if(aC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(St(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ko=Gu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ko=null}}else Ko=Yo?Gu(e.stateNode.nextSibling):null;return!0}function k4(){for(var e=Ko;e;)e=Gu(e.nextSibling)}function Sh(){Ko=Yo=null,On=!1}function eR(e){as===null?as=[e]:as.push(e)}var KY=Gl.ReactCurrentBatchConfig;function mp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var n=r.stateNode}if(!n)throw Error(St(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,e))}return e}function Av(e,t){throw e=Object.prototype.toString.call(t),Error(St(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sC(e){var t=e._init;return t(e._payload)}function D4(e){function t(p,S){if(e){var y=p.deletions;y===null?(p.deletions=[S],p.flags|=16):y.push(S)}}function r(p,S){if(!e)return null;for(;S!==null;)t(p,S),S=S.sibling;return null}function n(p,S){for(p=new Map;S!==null;)S.key!==null?p.set(S.key,S):p.set(S.index,S),S=S.sibling;return p}function i(p,S){return p=Xu(p,S),p.index=0,p.sibling=null,p}function o(p,S,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<S?(p.flags|=2,S):y):(p.flags|=2,S)):(p.flags|=1048576,S)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function s(p,S,y,E){return S===null||S.tag!==6?(S=kS(y,p.mode,E),S.return=p,S):(S=i(S,y),S.return=p,S)}function l(p,S,y,E){var $=y.type;return $===Fd?f(p,S,y.props.children,E,y.key):S!==null&&(S.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ru&&sC($)===S.type)?(E=i(S,y.props),E.ref=mp(p,S,y),E.return=p,E):(E=ky(y.type,y.key,y.props,null,p.mode,E),E.ref=mp(p,S,y),E.return=p,E)}function u(p,S,y,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==y.containerInfo||S.stateNode.implementation!==y.implementation?(S=DS(y,p.mode,E),S.return=p,S):(S=i(S,y.children||[]),S.return=p,S)}function f(p,S,y,E,$){return S===null||S.tag!==7?(S=vf(y,p.mode,E,$),S.return=p,S):(S=i(S,y),S.return=p,S)}function c(p,S,y){if(typeof S=="string"&&S!==""||typeof S=="number")return S=kS(""+S,p.mode,y),S.return=p,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mv:return y=ky(S.type,S.key,S.props,null,p.mode,y),y.ref=mp(p,null,S),y.return=p,y;case Ld:return S=DS(S,p.mode,y),S.return=p,S;case Ru:var E=S._init;return c(p,E(S._payload),y)}if(Cp(S)||cp(S))return S=vf(S,p.mode,y,null),S.return=p,S;Av(p,S)}return null}function h(p,S,y,E){var $=S!==null?S.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return $!==null?null:s(p,S,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mv:return y.key===$?l(p,S,y,E):null;case Ld:return y.key===$?u(p,S,y,E):null;case Ru:return $=y._init,h(p,S,$(y._payload),E)}if(Cp(y)||cp(y))return $!==null?null:f(p,S,y,E,null);Av(p,y)}return null}function g(p,S,y,E,$){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(y)||null,s(S,p,""+E,$);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mv:return p=p.get(E.key===null?y:E.key)||null,l(S,p,E,$);case Ld:return p=p.get(E.key===null?y:E.key)||null,u(S,p,E,$);case Ru:var T=E._init;return g(p,S,y,T(E._payload),$)}if(Cp(E)||cp(E))return p=p.get(y)||null,f(S,p,E,$,null);Av(S,E)}return null}function m(p,S,y,E){for(var $=null,T=null,d=S,A=S=0,x=null;d!==null&&A<y.length;A++){d.index>A?(x=d,d=null):x=d.sibling;var O=h(p,d,y[A],E);if(O===null){d===null&&(d=x);break}e&&d&&O.alternate===null&&t(p,d),S=o(O,S,A),T===null?$=O:T.sibling=O,T=O,d=x}if(A===y.length)return r(p,d),On&&Hc(p,A),$;if(d===null){for(;A<y.length;A++)d=c(p,y[A],E),d!==null&&(S=o(d,S,A),T===null?$=d:T.sibling=d,T=d);return On&&Hc(p,A),$}for(d=n(p,d);A<y.length;A++)x=g(d,p,A,y[A],E),x!==null&&(e&&x.alternate!==null&&d.delete(x.key===null?A:x.key),S=o(x,S,A),T===null?$=x:T.sibling=x,T=x);return e&&d.forEach(function(C){return t(p,C)}),On&&Hc(p,A),$}function _(p,S,y,E){var $=cp(y);if(typeof $!="function")throw Error(St(150));if(y=$.call(y),y==null)throw Error(St(151));for(var T=$=null,d=S,A=S=0,x=null,O=y.next();d!==null&&!O.done;A++,O=y.next()){d.index>A?(x=d,d=null):x=d.sibling;var C=h(p,d,O.value,E);if(C===null){d===null&&(d=x);break}e&&d&&C.alternate===null&&t(p,d),S=o(C,S,A),T===null?$=C:T.sibling=C,T=C,d=x}if(O.done)return r(p,d),On&&Hc(p,A),$;if(d===null){for(;!O.done;A++,O=y.next())O=c(p,O.value,E),O!==null&&(S=o(O,S,A),T===null?$=O:T.sibling=O,T=O);return On&&Hc(p,A),$}for(d=n(p,d);!O.done;A++,O=y.next())O=g(d,p,A,O.value,E),O!==null&&(e&&O.alternate!==null&&d.delete(O.key===null?A:O.key),S=o(O,S,A),T===null?$=O:T.sibling=O,T=O);return e&&d.forEach(function(F){return t(p,F)}),On&&Hc(p,A),$}function v(p,S,y,E){if(typeof y=="object"&&y!==null&&y.type===Fd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case mv:e:{for(var $=y.key,T=S;T!==null;){if(T.key===$){if($=y.type,$===Fd){if(T.tag===7){r(p,T.sibling),S=i(T,y.props.children),S.return=p,p=S;break e}}else if(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ru&&sC($)===T.type){r(p,T.sibling),S=i(T,y.props),S.ref=mp(p,T,y),S.return=p,p=S;break e}r(p,T);break}else t(p,T);T=T.sibling}y.type===Fd?(S=vf(y.props.children,p.mode,E,y.key),S.return=p,p=S):(E=ky(y.type,y.key,y.props,null,p.mode,E),E.ref=mp(p,S,y),E.return=p,p=E)}return a(p);case Ld:e:{for(T=y.key;S!==null;){if(S.key===T)if(S.tag===4&&S.stateNode.containerInfo===y.containerInfo&&S.stateNode.implementation===y.implementation){r(p,S.sibling),S=i(S,y.children||[]),S.return=p,p=S;break e}else{r(p,S);break}else t(p,S);S=S.sibling}S=DS(y,p.mode,E),S.return=p,p=S}return a(p);case Ru:return T=y._init,v(p,S,T(y._payload),E)}if(Cp(y))return m(p,S,y,E);if(cp(y))return _(p,S,y,E);Av(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,S!==null&&S.tag===6?(r(p,S.sibling),S=i(S,y),S.return=p,p=S):(r(p,S),S=kS(y,p.mode,E),S.return=p,p=S),a(p)):r(p,S)}return v}var $h=D4(!0),M4=D4(!1),wb=sc(null),bb=null,Gd=null,tR=null;function rR(){tR=Gd=bb=null}function nR(e){var t=wb.current;_n(wb),e._currentValue=t}function J$(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ah(e,t){bb=e,tR=Gd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($o=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(tR!==e)if(e={context:e,memoizedValue:t,next:null},Gd===null){if(bb===null)throw Error(St(308));Gd=e,bb.dependencies={lanes:0,firstContext:e}}else Gd=Gd.next=e;return t}var lf=null;function iR(e){lf===null?lf=[e]:lf.push(e)}function L4(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,iR(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fl(e,n)}function Fl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nu=!1;function oR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ku(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fl(e,r)}return i=n.interleaved,i===null?(t.next=t,iR(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fl(e,r)}function Py(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VP(e,r)}}function lC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _b(e,t,r,n){var i=e.updateQueue;Nu=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;a=0,f=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,_=s;switch(h=t,g=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){c=m.call(g,c,h);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,h=typeof m=="function"?m.call(g,c,h):m,h==null)break e;c=kn({},c,h);break e;case 2:Nu=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=g,l=c):f=f.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Nf|=a,e.lanes=a,e.memoizedState=c}}function uC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(St(191,i));i.call(n)}}}var _g={},el=sc(_g),zm=sc(_g),qm=sc(_g);function uf(e){if(e===_g)throw Error(St(174));return e}function aR(e,t){switch(hn(qm,t),hn(zm,e),hn(el,_g),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:P$(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=P$(t,e)}_n(el),hn(el,t)}function Th(){_n(el),_n(zm),_n(qm)}function B4(e){uf(qm.current);var t=uf(el.current),r=P$(t,e.type);t!==r&&(hn(zm,e),hn(el,r))}function sR(e){zm.current===e&&(_n(el),_n(zm))}var In=sc(0);function Eb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var PS=[];function lR(){for(var e=0;e<PS.length;e++)PS[e]._workInProgressVersionPrimary=null;PS.length=0}var Ry=Gl.ReactCurrentDispatcher,RS=Gl.ReactCurrentBatchConfig,Rf=0,Cn=null,ri=null,ci=null,Sb=!1,um=!1,Vm=0,JY=0;function Ii(){throw Error(St(321))}function uR(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ds(e[r],t[r]))return!1;return!0}function cR(e,t,r,n,i,o){if(Rf=o,Cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ry.current=e===null||e.memoizedState===null?ZY:eX,e=r(n,i),um){o=0;do{if(um=!1,Vm=0,25<=o)throw Error(St(301));o+=1,ci=ri=null,t.updateQueue=null,Ry.current=tX,e=r(n,i)}while(um)}if(Ry.current=$b,t=ri!==null&&ri.next!==null,Rf=0,ci=ri=Cn=null,Sb=!1,t)throw Error(St(300));return e}function fR(){var e=Vm!==0;return Vm=0,e}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?Cn.memoizedState=ci=e:ci=ci.next=e,ci}function ka(){if(ri===null){var e=Cn.alternate;e=e!==null?e.memoizedState:null}else e=ri.next;var t=ci===null?Cn.memoizedState:ci.next;if(t!==null)ci=t,ri=e;else{if(e===null)throw Error(St(310));ri=e,e={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},ci===null?Cn.memoizedState=ci=e:ci=ci.next=e}return ci}function Hm(e,t){return typeof t=="function"?t(e):t}function NS(e){var t=ka(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=ri,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,l=null,u=o;do{var f=u.lane;if((Rf&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,a=n):l=l.next=c,Cn.lanes|=f,Nf|=f}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=s,ds(n,t.memoizedState)||($o=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Cn.lanes|=o,Nf|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function IS(e){var t=ka(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);ds(o,t.memoizedState)||($o=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function U4(){}function z4(e,t){var r=Cn,n=ka(),i=t(),o=!ds(n.memoizedState,i);if(o&&(n.memoizedState=i,$o=!0),n=n.queue,dR(H4.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ci!==null&&ci.memoizedState.tag&1){if(r.flags|=2048,Wm(9,V4.bind(null,r,n,i,t),void 0,null),di===null)throw Error(St(349));Rf&30||q4(r,t,i)}return i}function q4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function V4(e,t,r,n){t.value=r,t.getSnapshot=n,W4(t)&&G4(e)}function H4(e,t,r){return r(function(){W4(t)&&G4(e)})}function W4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ds(e,r)}catch{return!0}}function G4(e){var t=Fl(e,1);t!==null&&fs(t,e,1,-1)}function cC(e){var t=Fs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:e},t.queue=e,e=e.dispatch=QY.bind(null,Cn,e),[t.memoizedState,e]}function Wm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function K4(){return ka().memoizedState}function Ny(e,t,r,n){var i=Fs();Cn.flags|=e,i.memoizedState=Wm(1|t,r,void 0,n===void 0?null:n)}function k_(e,t,r,n){var i=ka();n=n===void 0?null:n;var o=void 0;if(ri!==null){var a=ri.memoizedState;if(o=a.destroy,n!==null&&uR(n,a.deps)){i.memoizedState=Wm(t,r,o,n);return}}Cn.flags|=e,i.memoizedState=Wm(1|t,r,o,n)}function fC(e,t){return Ny(8390656,8,e,t)}function dR(e,t){return k_(2048,8,e,t)}function J4(e,t){return k_(4,2,e,t)}function Y4(e,t){return k_(4,4,e,t)}function X4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q4(e,t,r){return r=r!=null?r.concat([e]):null,k_(4,4,X4.bind(null,t,e),r)}function hR(){}function Z4(e,t){var r=ka();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uR(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eB(e,t){var r=ka();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&uR(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tB(e,t,r){return Rf&21?(ds(r,t)||(r=a4(),Cn.lanes|=r,Nf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$o=!0),e.memoizedState=r)}function YY(e,t){var r=Zr;Zr=r!==0&&4>r?r:4,e(!0);var n=RS.transition;RS.transition={};try{e(!1),t()}finally{Zr=r,RS.transition=n}}function rB(){return ka().memoizedState}function XY(e,t,r){var n=Yu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nB(e))iB(t,r);else if(r=L4(e,t,r,n),r!==null){var i=io();fs(r,e,n,i),oB(r,t,n)}}function QY(e,t,r){var n=Yu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nB(e))iB(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,ds(s,a)){var l=t.interleaved;l===null?(i.next=i,iR(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=L4(e,t,i,n),r!==null&&(i=io(),fs(r,e,n,i),oB(r,t,n))}}function nB(e){var t=e.alternate;return e===Cn||t!==null&&t===Cn}function iB(e,t){um=Sb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VP(e,r)}}var $b={readContext:Ca,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},ZY={readContext:Ca,useCallback:function(e,t){return Fs().memoizedState=[e,t===void 0?null:t],e},useContext:Ca,useEffect:fC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ny(4194308,4,X4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ny(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ny(4,2,e,t)},useMemo:function(e,t){var r=Fs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=XY.bind(null,Cn,e),[n.memoizedState,e]},useRef:function(e){var t=Fs();return e={current:e},t.memoizedState=e},useState:cC,useDebugValue:hR,useDeferredValue:function(e){return Fs().memoizedState=e},useTransition:function(){var e=cC(!1),t=e[0];return e=YY.bind(null,e[1]),Fs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Cn,i=Fs();if(On){if(r===void 0)throw Error(St(407));r=r()}else{if(r=t(),di===null)throw Error(St(349));Rf&30||q4(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,fC(H4.bind(null,n,o,e),[e]),n.flags|=2048,Wm(9,V4.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Fs(),t=di.identifierPrefix;if(On){var r=Pl,n=Ol;r=(n&~(1<<32-cs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=JY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eX={readContext:Ca,useCallback:Z4,useContext:Ca,useEffect:dR,useImperativeHandle:Q4,useInsertionEffect:J4,useLayoutEffect:Y4,useMemo:eB,useReducer:NS,useRef:K4,useState:function(){return NS(Hm)},useDebugValue:hR,useDeferredValue:function(e){var t=ka();return tB(t,ri.memoizedState,e)},useTransition:function(){var e=NS(Hm)[0],t=ka().memoizedState;return[e,t]},useMutableSource:U4,useSyncExternalStore:z4,useId:rB,unstable_isNewReconciler:!1},tX={readContext:Ca,useCallback:Z4,useContext:Ca,useEffect:dR,useImperativeHandle:Q4,useInsertionEffect:J4,useLayoutEffect:Y4,useMemo:eB,useReducer:IS,useRef:K4,useState:function(){return IS(Hm)},useDebugValue:hR,useDeferredValue:function(e){var t=ka();return ri===null?t.memoizedState=e:tB(t,ri.memoizedState,e)},useTransition:function(){var e=IS(Hm)[0],t=ka().memoizedState;return[e,t]},useMutableSource:U4,useSyncExternalStore:z4,useId:rB,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){t=kn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Y$(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var D_={isMounted:function(e){return(e=e._reactInternals)?zf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=io(),i=Yu(e),o=Cl(n,i);o.payload=t,r!=null&&(o.callback=r),t=Ku(e,o,i),t!==null&&(fs(t,e,i,n),Py(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=io(),i=Yu(e),o=Cl(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ku(e,o,i),t!==null&&(fs(t,e,i,n),Py(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=io(),n=Yu(e),i=Cl(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ku(e,i,n),t!==null&&(fs(t,e,n,r),Py(t,e,n))}};function dC(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Lm(r,n)||!Lm(i,o):!0}function aB(e,t,r){var n=!1,i=nc,o=t.contextType;return typeof o=="object"&&o!==null?o=Ca(o):(i=Ao(t)?Of:qi.current,n=t.contextTypes,o=(n=n!=null)?Eh(e,i):nc),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=D_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&D_.enqueueReplaceState(t,t.state,null)}function X$(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},oR(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ca(o):(o=Ao(t)?Of:qi.current,i.context=Eh(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Y$(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&D_.enqueueReplaceState(i,i.state,null),_b(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ah(e,t){try{var r="",n=t;do r+=PJ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function jS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Q$(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rX=typeof WeakMap=="function"?WeakMap:Map;function sB(e,t,r){r=Cl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ab||(Ab=!0,lT=n),Q$(e,t)},r}function lB(e,t,r){r=Cl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Q$(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Q$(e,t),typeof n!="function"&&(Ju===null?Ju=new Set([this]):Ju.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function pC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new rX;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=gX.bind(null,e,t,r),t.then(e,e))}function mC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gC(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Cl(-1,1),t.tag=2,Ku(r,t,1))),r.lanes|=1),e)}var nX=Gl.ReactCurrentOwner,$o=!1;function Yi(e,t,r,n){t.child=e===null?M4(t,null,r,n):$h(t,e.child,r,n)}function vC(e,t,r,n,i){r=r.render;var o=t.ref;return ah(t,i),n=cR(e,t,r,n,o,i),r=fR(),e!==null&&!$o?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bl(e,t,i)):(On&&r&&QP(t),t.flags|=1,Yi(e,t,n,i),t.child)}function yC(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!_R(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,uB(e,t,o,n,i)):(e=ky(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Lm,r(a,n)&&e.ref===t.ref)return Bl(e,t,i)}return t.flags|=1,e=Xu(o,n),e.ref=t.ref,e.return=t,t.child=e}function uB(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Lm(o,n)&&e.ref===t.ref)if($o=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&($o=!0);else return t.lanes=e.lanes,Bl(e,t,i)}return Z$(e,t,r,n,i)}function cB(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},hn(Jd,Vo),Vo|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,hn(Jd,Vo),Vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,hn(Jd,Vo),Vo|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,hn(Jd,Vo),Vo|=n;return Yi(e,t,i,r),t.child}function fB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Z$(e,t,r,n,i){var o=Ao(r)?Of:qi.current;return o=Eh(t,o),ah(t,i),r=cR(e,t,r,n,o,i),n=fR(),e!==null&&!$o?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bl(e,t,i)):(On&&n&&QP(t),t.flags|=1,Yi(e,t,r,i),t.child)}function wC(e,t,r,n,i){if(Ao(r)){var o=!0;gb(t)}else o=!1;if(ah(t,i),t.stateNode===null)Iy(e,t),aB(t,r,n),X$(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ca(u):(u=Ao(r)?Of:qi.current,u=Eh(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||l!==u)&&hC(t,a,n,u),Nu=!1;var h=t.memoizedState;a.state=h,_b(t,n,a,i),l=t.memoizedState,s!==n||h!==l||To.current||Nu?(typeof f=="function"&&(Y$(t,r,f,n),l=t.memoizedState),(s=Nu||dC(t,r,s,n,h,l,u))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,F4(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:rs(t.type,s),a.props=u,c=t.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ca(l):(l=Ao(r)?Of:qi.current,l=Eh(t,l));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==c||h!==l)&&hC(t,a,n,l),Nu=!1,h=t.memoizedState,a.state=h,_b(t,n,a,i);var m=t.memoizedState;s!==c||h!==m||To.current||Nu?(typeof g=="function"&&(Y$(t,r,g,n),m=t.memoizedState),(u=Nu||dC(t,r,u,n,h,m,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return eT(e,t,r,n,o,i)}function eT(e,t,r,n,i,o){fB(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&iC(t,r,!1),Bl(e,t,o);n=t.stateNode,nX.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=$h(t,e.child,null,o),t.child=$h(t,null,s,o)):Yi(e,t,s,o),t.memoizedState=n.state,i&&iC(t,r,!0),t.child}function dB(e){var t=e.stateNode;t.pendingContext?nC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nC(e,t.context,!1),aR(e,t.containerInfo)}function bC(e,t,r,n,i){return Sh(),eR(i),t.flags|=256,Yi(e,t,r,n),t.child}var tT={dehydrated:null,treeContext:null,retryLane:0};function rT(e){return{baseLanes:e,cachePool:null,transitions:null}}function hB(e,t,r){var n=t.pendingProps,i=In.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),hn(In,i&1),e===null)return K$(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=F_(a,n,0,null),e=vf(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rT(r),t.memoizedState=tT,e):pR(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return iX(e,t,a,n,s,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Xu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Xu(s,o):(o=vf(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?rT(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=tT,n}return o=e.child,e=o.sibling,n=Xu(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pR(e,t){return t=F_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xv(e,t,r,n){return n!==null&&eR(n),$h(t,e.child,null,r),e=pR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iX(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=jS(Error(St(422))),xv(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=F_({mode:"visible",children:n.children},i,0,null),o=vf(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&$h(t,e.child,null,a),t.child.memoizedState=rT(a),t.memoizedState=tT,o);if(!(t.mode&1))return xv(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(St(419)),n=jS(o,n,void 0),xv(e,t,a,n)}if(s=(a&e.childLanes)!==0,$o||s){if(n=di,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fl(e,i),fs(n,e,i,-1))}return bR(),n=jS(Error(St(421))),xv(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=vX.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ko=Gu(i.nextSibling),Yo=t,On=!0,as=null,e!==null&&(va[ya++]=Ol,va[ya++]=Pl,va[ya++]=Pf,Ol=e.id,Pl=e.overflow,Pf=t),t=pR(t,n.children),t.flags|=4096,t)}function _C(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),J$(e.return,t,r)}function CS(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function pB(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Yi(e,t,n.children,r),n=In.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_C(e,r,t);else if(e.tag===19)_C(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(hn(In,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Eb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),CS(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Eb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}CS(t,!0,r,null,o);break;case"together":CS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Iy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Nf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(St(153));if(t.child!==null){for(e=t.child,r=Xu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function oX(e,t,r){switch(t.tag){case 3:dB(t),Sh();break;case 5:B4(t);break;case 1:Ao(t.type)&&gb(t);break;case 4:aR(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;hn(wb,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(hn(In,In.current&1),t.flags|=128,null):r&t.child.childLanes?hB(e,t,r):(hn(In,In.current&1),e=Bl(e,t,r),e!==null?e.sibling:null);hn(In,In.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pB(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),hn(In,In.current),n)break;return null;case 22:case 23:return t.lanes=0,cB(e,t,r)}return Bl(e,t,r)}var mB,nT,gB,vB;mB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nT=function(){};gB=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,uf(el.current);var o=null;switch(r){case"input":i=T$(e,i),n=T$(e,n),o=[];break;case"select":i=kn({},i,{value:void 0}),n=kn({},n,{value:void 0}),o=[];break;case"textarea":i=O$(e,i),n=O$(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pb)}R$(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yn("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};vB=function(e,t,r,n){r!==n&&(t.flags|=4)};function gp(e,t){if(!On)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ji(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function aX(e,t,r){var n=t.pendingProps;switch(ZP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(t),null;case 1:return Ao(t.type)&&mb(),ji(t),null;case 3:return n=t.stateNode,Th(),_n(To),_n(qi),lR(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,as!==null&&(fT(as),as=null))),nT(e,t),ji(t),null;case 5:sR(t);var i=uf(qm.current);if(r=t.type,e!==null&&t.stateNode!=null)gB(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(St(166));return ji(t),null}if(e=uf(el.current),Tv(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[zs]=t,n[Um]=o,e=(t.mode&1)!==0,r){case"dialog":yn("cancel",n),yn("close",n);break;case"iframe":case"object":case"embed":yn("load",n);break;case"video":case"audio":for(i=0;i<Dp.length;i++)yn(Dp[i],n);break;case"source":yn("error",n);break;case"img":case"image":case"link":yn("error",n),yn("load",n);break;case"details":yn("toggle",n);break;case"input":R2(n,o),yn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},yn("invalid",n);break;case"textarea":I2(n,o),yn("invalid",n)}R$(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&$v(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&$v(n.textContent,s,e),i=["children",""+s]):Nm.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&yn("scroll",n)}switch(r){case"input":gv(n),N2(n,o,!0);break;case"textarea":gv(n),j2(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=pb)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[zs]=t,e[Um]=n,mB(e,t,!1,!1),t.stateNode=e;e:{switch(a=N$(r,n),r){case"dialog":yn("cancel",e),yn("close",e),i=n;break;case"iframe":case"object":case"embed":yn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Dp.length;i++)yn(Dp[i],e);i=n;break;case"source":yn("error",e),i=n;break;case"img":case"image":case"link":yn("error",e),yn("load",e),i=n;break;case"details":yn("toggle",e),i=n;break;case"input":R2(e,n),i=T$(e,n),yn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=kn({},n,{value:void 0}),yn("invalid",e);break;case"textarea":I2(e,n),i=O$(e,n),yn("invalid",e);break;default:i=n}R$(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?K3(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W3(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Im(e,l):typeof l=="number"&&Im(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Nm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yn("scroll",e):l!=null&&LP(e,o,l,a))}switch(r){case"input":gv(e),N2(e,n,!1);break;case"textarea":gv(e),j2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rc(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?rh(e,!!n.multiple,o,!1):n.defaultValue!=null&&rh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ji(t),null;case 6:if(e&&t.stateNode!=null)vB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(St(166));if(r=uf(qm.current),uf(el.current),Tv(t)){if(n=t.stateNode,r=t.memoizedProps,n[zs]=t,(o=n.nodeValue!==r)&&(e=Yo,e!==null))switch(e.tag){case 3:$v(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$v(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zs]=t,t.stateNode=n}return ji(t),null;case 13:if(_n(In),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(On&&Ko!==null&&t.mode&1&&!(t.flags&128))k4(),Sh(),t.flags|=98560,o=!1;else if(o=Tv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(St(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(St(317));o[zs]=t}else Sh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ji(t),o=!1}else as!==null&&(fT(as),as=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||In.current&1?oi===0&&(oi=3):bR())),t.updateQueue!==null&&(t.flags|=4),ji(t),null);case 4:return Th(),nT(e,t),e===null&&Fm(t.stateNode.containerInfo),ji(t),null;case 10:return nR(t.type._context),ji(t),null;case 17:return Ao(t.type)&&mb(),ji(t),null;case 19:if(_n(In),o=t.memoizedState,o===null)return ji(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)gp(o,!1);else{if(oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Eb(e),a!==null){for(t.flags|=128,gp(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return hn(In,In.current&1|2),t.child}e=e.sibling}o.tail!==null&&Hn()>xh&&(t.flags|=128,n=!0,gp(o,!1),t.lanes=4194304)}else{if(!n)if(e=Eb(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!On)return ji(t),null}else 2*Hn()-o.renderingStartTime>xh&&r!==1073741824&&(t.flags|=128,n=!0,gp(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Hn(),t.sibling=null,r=In.current,hn(In,n?r&1|2:r&1),t):(ji(t),null);case 22:case 23:return wR(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Vo&1073741824&&(ji(t),t.subtreeFlags&6&&(t.flags|=8192)):ji(t),null;case 24:return null;case 25:return null}throw Error(St(156,t.tag))}function sX(e,t){switch(ZP(t),t.tag){case 1:return Ao(t.type)&&mb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Th(),_n(To),_n(qi),lR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sR(t),null;case 13:if(_n(In),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(St(340));Sh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _n(In),null;case 4:return Th(),null;case 10:return nR(t.type._context),null;case 22:case 23:return wR(),null;case 24:return null;default:return null}}var Ov=!1,Li=!1,lX=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Kd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fn(e,t,n)}else r.current=null}function iT(e,t,r){try{r()}catch(n){Fn(e,t,n)}}var EC=!1;function uX(e,t){if(U$=fb,e=E4(),XP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,l=-1,u=0,f=0,c=e,h=null;t:for(;;){for(var g;c!==r||i!==0&&c.nodeType!==3||(s=a+i),c!==o||n!==0&&c.nodeType!==3||(l=a+n),c.nodeType===3&&(a+=c.nodeValue.length),(g=c.firstChild)!==null;)h=c,c=g;for(;;){if(c===e)break t;if(h===r&&++u===i&&(s=a),h===o&&++f===n&&(l=a),(g=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=g}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(z$={focusedElem:e,selectionRange:r},fb=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,v=m.memoizedState,p=t.stateNode,S=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:rs(t.type,_),v);p.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(E){Fn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return m=EC,EC=!1,m}function cm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&iT(t,r,o)}i=i.next}while(i!==n)}}function M_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function oT(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yB(e){var t=e.alternate;t!==null&&(e.alternate=null,yB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zs],delete t[Um],delete t[H$],delete t[HY],delete t[WY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wB(e){return e.tag===5||e.tag===3||e.tag===4}function SC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function aT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pb));else if(n!==4&&(e=e.child,e!==null))for(aT(e,t,r),e=e.sibling;e!==null;)aT(e,t,r),e=e.sibling}function sT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sT(e,t,r),e=e.sibling;e!==null;)sT(e,t,r),e=e.sibling}var $i=null,is=!1;function cu(e,t,r){for(r=r.child;r!==null;)bB(e,t,r),r=r.sibling}function bB(e,t,r){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(P_,r)}catch{}switch(r.tag){case 5:Li||Kd(r,t);case 6:var n=$i,i=is;$i=null,cu(e,t,r),$i=n,is=i,$i!==null&&(is?(e=$i,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$i.removeChild(r.stateNode));break;case 18:$i!==null&&(is?(e=$i,r=r.stateNode,e.nodeType===8?xS(e.parentNode,r):e.nodeType===1&&xS(e,r),Dm(e)):xS($i,r.stateNode));break;case 4:n=$i,i=is,$i=r.stateNode.containerInfo,is=!0,cu(e,t,r),$i=n,is=i;break;case 0:case 11:case 14:case 15:if(!Li&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&iT(r,t,a),i=i.next}while(i!==n)}cu(e,t,r);break;case 1:if(!Li&&(Kd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Fn(r,t,s)}cu(e,t,r);break;case 21:cu(e,t,r);break;case 22:r.mode&1?(Li=(n=Li)||r.memoizedState!==null,cu(e,t,r),Li=n):cu(e,t,r);break;default:cu(e,t,r)}}function $C(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lX),t.forEach(function(n){var i=yX.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Wa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:$i=s.stateNode,is=!1;break e;case 3:$i=s.stateNode.containerInfo,is=!0;break e;case 4:$i=s.stateNode.containerInfo,is=!0;break e}s=s.return}if($i===null)throw Error(St(160));bB(o,a,i),$i=null,is=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_B(t,e),t=t.sibling}function _B(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wa(t,e),xs(e),n&4){try{cm(3,e,e.return),M_(3,e)}catch(_){Fn(e,e.return,_)}try{cm(5,e,e.return)}catch(_){Fn(e,e.return,_)}}break;case 1:Wa(t,e),xs(e),n&512&&r!==null&&Kd(r,r.return);break;case 5:if(Wa(t,e),xs(e),n&512&&r!==null&&Kd(r,r.return),e.flags&32){var i=e.stateNode;try{Im(i,"")}catch(_){Fn(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&q3(i,o),N$(s,a);var u=N$(s,o);for(a=0;a<l.length;a+=2){var f=l[a],c=l[a+1];f==="style"?K3(i,c):f==="dangerouslySetInnerHTML"?W3(i,c):f==="children"?Im(i,c):LP(i,f,c,u)}switch(s){case"input":A$(i,o);break;case"textarea":V3(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?rh(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?rh(i,!!o.multiple,o.defaultValue,!0):rh(i,!!o.multiple,o.multiple?[]:"",!1))}i[Um]=o}catch(_){Fn(e,e.return,_)}}break;case 6:if(Wa(t,e),xs(e),n&4){if(e.stateNode===null)throw Error(St(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Fn(e,e.return,_)}}break;case 3:if(Wa(t,e),xs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dm(t.containerInfo)}catch(_){Fn(e,e.return,_)}break;case 4:Wa(t,e),xs(e);break;case 13:Wa(t,e),xs(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vR=Hn())),n&4&&$C(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Li=(u=Li)||f,Wa(t,e),Li=u):Wa(t,e),xs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Mt=e,f=e.child;f!==null;){for(c=Mt=f;Mt!==null;){switch(h=Mt,g=h.child,h.tag){case 0:case 11:case 14:case 15:cm(4,h,h.return);break;case 1:Kd(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){Fn(n,r,_)}}break;case 5:Kd(h,h.return);break;case 22:if(h.memoizedState!==null){AC(c);continue}}g!==null?(g.return=h,Mt=g):AC(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,l=c.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=G3("display",a))}catch(_){Fn(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){Fn(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Wa(t,e),xs(e),n&4&&$C(e);break;case 21:break;default:Wa(t,e),xs(e)}}function xs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(wB(r)){var n=r;break e}r=r.return}throw Error(St(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Im(i,""),n.flags&=-33);var o=SC(e);sT(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=SC(e);aT(e,s,a);break;default:throw Error(St(161))}}catch(l){Fn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cX(e,t,r){Mt=e,EB(e)}function EB(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var i=Mt,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ov;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Li;s=Ov;var u=Li;if(Ov=a,(Li=l)&&!u)for(Mt=i;Mt!==null;)a=Mt,l=a.child,a.tag===22&&a.memoizedState!==null?xC(i):l!==null?(l.return=a,Mt=l):xC(i);for(;o!==null;)Mt=o,EB(o),o=o.sibling;Mt=i,Ov=s,Li=u}TC(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Mt=o):TC(e)}}function TC(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Li||M_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Li)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&uC(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uC(t,a,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Dm(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Li||t.flags&512&&oT(t)}catch(h){Fn(t,t.return,h)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function AC(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function xC(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{M_(4,t)}catch(l){Fn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Fn(t,i,l)}}var o=t.return;try{oT(t)}catch(l){Fn(t,o,l)}break;case 5:var a=t.return;try{oT(t)}catch(l){Fn(t,a,l)}}}catch(l){Fn(t,t.return,l)}if(t===e){Mt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Mt=s;break}Mt=t.return}}var fX=Math.ceil,Tb=Gl.ReactCurrentDispatcher,mR=Gl.ReactCurrentOwner,Na=Gl.ReactCurrentBatchConfig,Dr=0,di=null,Qn=null,xi=0,Vo=0,Jd=sc(0),oi=0,Gm=null,Nf=0,L_=0,gR=0,fm=null,Eo=null,vR=0,xh=1/0,wl=null,Ab=!1,lT=null,Ju=null,Pv=!1,Lu=null,xb=0,dm=0,uT=null,jy=-1,Cy=0;function io(){return Dr&6?Hn():jy!==-1?jy:jy=Hn()}function Yu(e){return e.mode&1?Dr&2&&xi!==0?xi&-xi:KY.transition!==null?(Cy===0&&(Cy=a4()),Cy):(e=Zr,e!==0||(e=window.event,e=e===void 0?16:h4(e.type)),e):1}function fs(e,t,r,n){if(50<dm)throw dm=0,uT=null,Error(St(185));yg(e,r,n),(!(Dr&2)||e!==di)&&(e===di&&(!(Dr&2)&&(L_|=r),oi===4&&Cu(e,xi)),xo(e,n),r===1&&Dr===0&&!(t.mode&1)&&(xh=Hn()+500,C_&&lc()))}function xo(e,t){var r=e.callbackNode;KJ(e,t);var n=cb(e,e===di?xi:0);if(n===0)r!==null&&D2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&D2(r),t===1)e.tag===0?GY(OC.bind(null,e)):I4(OC.bind(null,e)),qY(function(){!(Dr&6)&&lc()}),r=null;else{switch(s4(n)){case 1:r=qP;break;case 4:r=i4;break;case 16:r=ub;break;case 536870912:r=o4;break;default:r=ub}r=RB(r,SB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function SB(e,t){if(jy=-1,Cy=0,Dr&6)throw Error(St(327));var r=e.callbackNode;if(sh()&&e.callbackNode!==r)return null;var n=cb(e,e===di?xi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ob(e,n);else{t=n;var i=Dr;Dr|=2;var o=TB();(di!==e||xi!==t)&&(wl=null,xh=Hn()+500,gf(e,t));do try{pX();break}catch(s){$B(e,s)}while(!0);rR(),Tb.current=o,Dr=i,Qn!==null?t=0:(di=null,xi=0,t=oi)}if(t!==0){if(t===2&&(i=D$(e),i!==0&&(n=i,t=cT(e,i))),t===1)throw r=Gm,gf(e,0),Cu(e,n),xo(e,Hn()),r;if(t===6)Cu(e,n);else{if(i=e.current.alternate,!(n&30)&&!dX(i)&&(t=Ob(e,n),t===2&&(o=D$(e),o!==0&&(n=o,t=cT(e,o))),t===1))throw r=Gm,gf(e,0),Cu(e,n),xo(e,Hn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(St(345));case 2:Wc(e,Eo,wl);break;case 3:if(Cu(e,n),(n&130023424)===n&&(t=vR+500-Hn(),10<t)){if(cb(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){io(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=V$(Wc.bind(null,e,Eo,wl),t);break}Wc(e,Eo,wl);break;case 4:if(Cu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-cs(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=Hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fX(n/1960))-n,10<n){e.timeoutHandle=V$(Wc.bind(null,e,Eo,wl),n);break}Wc(e,Eo,wl);break;case 5:Wc(e,Eo,wl);break;default:throw Error(St(329))}}}return xo(e,Hn()),e.callbackNode===r?SB.bind(null,e):null}function cT(e,t){var r=fm;return e.current.memoizedState.isDehydrated&&(gf(e,t).flags|=256),e=Ob(e,t),e!==2&&(t=Eo,Eo=r,t!==null&&fT(t)),e}function fT(e){Eo===null?Eo=e:Eo.push.apply(Eo,e)}function dX(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ds(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cu(e,t){for(t&=~gR,t&=~L_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cs(t),n=1<<r;e[r]=-1,t&=~n}}function OC(e){if(Dr&6)throw Error(St(327));sh();var t=cb(e,0);if(!(t&1))return xo(e,Hn()),null;var r=Ob(e,t);if(e.tag!==0&&r===2){var n=D$(e);n!==0&&(t=n,r=cT(e,n))}if(r===1)throw r=Gm,gf(e,0),Cu(e,t),xo(e,Hn()),r;if(r===6)throw Error(St(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wc(e,Eo,wl),xo(e,Hn()),null}function yR(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(xh=Hn()+500,C_&&lc())}}function If(e){Lu!==null&&Lu.tag===0&&!(Dr&6)&&sh();var t=Dr;Dr|=1;var r=Na.transition,n=Zr;try{if(Na.transition=null,Zr=1,e)return e()}finally{Zr=n,Na.transition=r,Dr=t,!(Dr&6)&&lc()}}function wR(){Vo=Jd.current,_n(Jd)}function gf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zY(r)),Qn!==null)for(r=Qn.return;r!==null;){var n=r;switch(ZP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mb();break;case 3:Th(),_n(To),_n(qi),lR();break;case 5:sR(n);break;case 4:Th();break;case 13:_n(In);break;case 19:_n(In);break;case 10:nR(n.type._context);break;case 22:case 23:wR()}r=r.return}if(di=e,Qn=e=Xu(e.current,null),xi=Vo=t,oi=0,Gm=null,gR=L_=Nf=0,Eo=fm=null,lf!==null){for(t=0;t<lf.length;t++)if(r=lf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}lf=null}return e}function $B(e,t){do{var r=Qn;try{if(rR(),Ry.current=$b,Sb){for(var n=Cn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sb=!1}if(Rf=0,ci=ri=Cn=null,um=!1,Vm=0,mR.current=null,r===null||r.return===null){oi=1,Gm=t,Qn=null;break}e:{var o=e,a=r.return,s=r,l=t;if(t=xi,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=mC(a);if(g!==null){g.flags&=-257,gC(g,a,s,o,t),g.mode&1&&pC(o,u,t),t=g,l=u;var m=t.updateQueue;if(m===null){var _=new Set;_.add(l),t.updateQueue=_}else m.add(l);break e}else{if(!(t&1)){pC(o,u,t),bR();break e}l=Error(St(426))}}else if(On&&s.mode&1){var v=mC(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),gC(v,a,s,o,t),eR(Ah(l,s));break e}}o=l=Ah(l,s),oi!==4&&(oi=2),fm===null?fm=[o]:fm.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=sB(o,l,t);lC(o,p);break e;case 1:s=l;var S=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ju===null||!Ju.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=lB(o,s,t);lC(o,E);break e}}o=o.return}while(o!==null)}xB(r)}catch($){t=$,Qn===r&&r!==null&&(Qn=r=r.return);continue}break}while(!0)}function TB(){var e=Tb.current;return Tb.current=$b,e===null?$b:e}function bR(){(oi===0||oi===3||oi===2)&&(oi=4),di===null||!(Nf&268435455)&&!(L_&268435455)||Cu(di,xi)}function Ob(e,t){var r=Dr;Dr|=2;var n=TB();(di!==e||xi!==t)&&(wl=null,gf(e,t));do try{hX();break}catch(i){$B(e,i)}while(!0);if(rR(),Dr=r,Tb.current=n,Qn!==null)throw Error(St(261));return di=null,xi=0,oi}function hX(){for(;Qn!==null;)AB(Qn)}function pX(){for(;Qn!==null&&!FJ();)AB(Qn)}function AB(e){var t=PB(e.alternate,e,Vo);e.memoizedProps=e.pendingProps,t===null?xB(e):Qn=t,mR.current=null}function xB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sX(r,t),r!==null){r.flags&=32767,Qn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oi=6,Qn=null;return}}else if(r=aX(r,t,Vo),r!==null){Qn=r;return}if(t=t.sibling,t!==null){Qn=t;return}Qn=t=e}while(t!==null);oi===0&&(oi=5)}function Wc(e,t,r){var n=Zr,i=Na.transition;try{Na.transition=null,Zr=1,mX(e,t,r,n)}finally{Na.transition=i,Zr=n}return null}function mX(e,t,r,n){do sh();while(Lu!==null);if(Dr&6)throw Error(St(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(St(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(JJ(e,o),e===di&&(Qn=di=null,xi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pv||(Pv=!0,RB(ub,function(){return sh(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Na.transition,Na.transition=null;var a=Zr;Zr=1;var s=Dr;Dr|=4,mR.current=null,uX(e,r),_B(r,e),kY(z$),fb=!!U$,z$=U$=null,e.current=r,cX(r),BJ(),Dr=s,Zr=a,Na.transition=o}else e.current=r;if(Pv&&(Pv=!1,Lu=e,xb=i),o=e.pendingLanes,o===0&&(Ju=null),qJ(r.stateNode),xo(e,Hn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ab)throw Ab=!1,e=lT,lT=null,e;return xb&1&&e.tag!==0&&sh(),o=e.pendingLanes,o&1?e===uT?dm++:(dm=0,uT=e):dm=0,lc(),null}function sh(){if(Lu!==null){var e=s4(xb),t=Na.transition,r=Zr;try{if(Na.transition=null,Zr=16>e?16:e,Lu===null)var n=!1;else{if(e=Lu,Lu=null,xb=0,Dr&6)throw Error(St(331));var i=Dr;for(Dr|=4,Mt=e.current;Mt!==null;){var o=Mt,a=o.child;if(Mt.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Mt=u;Mt!==null;){var f=Mt;switch(f.tag){case 0:case 11:case 15:cm(8,f,o)}var c=f.child;if(c!==null)c.return=f,Mt=c;else for(;Mt!==null;){f=Mt;var h=f.sibling,g=f.return;if(yB(f),f===u){Mt=null;break}if(h!==null){h.return=g,Mt=h;break}Mt=g}}}var m=o.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}Mt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Mt=a;else e:for(;Mt!==null;){if(o=Mt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cm(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Mt=p;break e}Mt=o.return}}var S=e.current;for(Mt=S;Mt!==null;){a=Mt;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Mt=y;else e:for(a=S;Mt!==null;){if(s=Mt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:M_(9,s)}}catch($){Fn(s,s.return,$)}if(s===a){Mt=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,Mt=E;break e}Mt=s.return}}if(Dr=i,lc(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(P_,e)}catch{}n=!0}return n}finally{Zr=r,Na.transition=t}}return!1}function PC(e,t,r){t=Ah(r,t),t=sB(e,t,1),e=Ku(e,t,1),t=io(),e!==null&&(yg(e,1,t),xo(e,t))}function Fn(e,t,r){if(e.tag===3)PC(e,e,r);else for(;t!==null;){if(t.tag===3){PC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ju===null||!Ju.has(n))){e=Ah(r,e),e=lB(t,e,1),t=Ku(t,e,1),e=io(),t!==null&&(yg(t,1,e),xo(t,e));break}}t=t.return}}function gX(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=io(),e.pingedLanes|=e.suspendedLanes&r,di===e&&(xi&r)===r&&(oi===4||oi===3&&(xi&130023424)===xi&&500>Hn()-vR?gf(e,0):gR|=r),xo(e,t)}function OB(e,t){t===0&&(e.mode&1?(t=wv,wv<<=1,!(wv&130023424)&&(wv=4194304)):t=1);var r=io();e=Fl(e,t),e!==null&&(yg(e,t,r),xo(e,r))}function vX(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),OB(e,r)}function yX(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(St(314))}n!==null&&n.delete(t),OB(e,r)}var PB;PB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||To.current)$o=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $o=!1,oX(e,t,r);$o=!!(e.flags&131072)}else $o=!1,On&&t.flags&1048576&&j4(t,yb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Iy(e,t),e=t.pendingProps;var i=Eh(t,qi.current);ah(t,r),i=cR(null,t,n,e,i,r);var o=fR();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ao(n)?(o=!0,gb(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oR(t),i.updater=D_,t.stateNode=i,i._reactInternals=t,X$(t,n,e,r),t=eT(null,t,n,!0,o,r)):(t.tag=0,On&&o&&QP(t),Yi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Iy(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=bX(n),e=rs(n,e),i){case 0:t=Z$(null,t,n,e,r);break e;case 1:t=wC(null,t,n,e,r);break e;case 11:t=vC(null,t,n,e,r);break e;case 14:t=yC(null,t,n,rs(n.type,e),r);break e}throw Error(St(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rs(n,i),Z$(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rs(n,i),wC(e,t,n,i,r);case 3:e:{if(dB(t),e===null)throw Error(St(387));n=t.pendingProps,o=t.memoizedState,i=o.element,F4(e,t),_b(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ah(Error(St(423)),t),t=bC(e,t,n,r,i);break e}else if(n!==i){i=Ah(Error(St(424)),t),t=bC(e,t,n,r,i);break e}else for(Ko=Gu(t.stateNode.containerInfo.firstChild),Yo=t,On=!0,as=null,r=M4(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sh(),n===i){t=Bl(e,t,r);break e}Yi(e,t,n,r)}t=t.child}return t;case 5:return B4(t),e===null&&K$(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,q$(n,i)?a=null:o!==null&&q$(n,o)&&(t.flags|=32),fB(e,t),Yi(e,t,a,r),t.child;case 6:return e===null&&K$(t),null;case 13:return hB(e,t,r);case 4:return aR(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$h(t,null,n,r):Yi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rs(n,i),vC(e,t,n,i,r);case 7:return Yi(e,t,t.pendingProps,r),t.child;case 8:return Yi(e,t,t.pendingProps.children,r),t.child;case 12:return Yi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,hn(wb,n._currentValue),n._currentValue=a,o!==null)if(ds(o.value,a)){if(o.children===i.children&&!To.current){t=Bl(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Cl(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),J$(o.return,r,t),s.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(St(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),J$(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Yi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ah(t,r),i=Ca(i),n=n(i),t.flags|=1,Yi(e,t,n,r),t.child;case 14:return n=t.type,i=rs(n,t.pendingProps),i=rs(n.type,i),yC(e,t,n,i,r);case 15:return uB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rs(n,i),Iy(e,t),t.tag=1,Ao(n)?(e=!0,gb(t)):e=!1,ah(t,r),aB(t,n,i),X$(t,n,i,r),eT(null,t,n,!0,e,r);case 19:return pB(e,t,r);case 22:return cB(e,t,r)}throw Error(St(156,t.tag))};function RB(e,t){return n4(e,t)}function wX(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(e,t,r,n){return new wX(e,t,r,n)}function _R(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bX(e){if(typeof e=="function")return _R(e)?1:0;if(e!=null){if(e=e.$$typeof,e===BP)return 11;if(e===UP)return 14}return 2}function Xu(e,t){var r=e.alternate;return r===null?(r=Ra(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ky(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")_R(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fd:return vf(r.children,i,o,t);case FP:a=8,i|=8;break;case _$:return e=Ra(12,r,t,i|2),e.elementType=_$,e.lanes=o,e;case E$:return e=Ra(13,r,t,i),e.elementType=E$,e.lanes=o,e;case S$:return e=Ra(19,r,t,i),e.elementType=S$,e.lanes=o,e;case B3:return F_(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L3:a=10;break e;case F3:a=9;break e;case BP:a=11;break e;case UP:a=14;break e;case Ru:a=16,n=null;break e}throw Error(St(130,e==null?e:typeof e,""))}return t=Ra(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function vf(e,t,r,n){return e=Ra(7,e,n,t),e.lanes=r,e}function F_(e,t,r,n){return e=Ra(22,e,n,t),e.elementType=B3,e.lanes=r,e.stateNode={isHidden:!1},e}function kS(e,t,r){return e=Ra(6,e,null,t),e.lanes=r,e}function DS(e,t,r){return t=Ra(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _X(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gS(0),this.expirationTimes=gS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gS(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ER(e,t,r,n,i,o,a,s,l){return e=new _X(e,t,r,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ra(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oR(o),e}function EX(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ld,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function NB(e){if(!e)return nc;e=e._reactInternals;e:{if(zf(e)!==e||e.tag!==1)throw Error(St(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ao(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(St(171))}if(e.tag===1){var r=e.type;if(Ao(r))return N4(e,r,t)}return t}function IB(e,t,r,n,i,o,a,s,l){return e=ER(r,n,!0,e,i,o,a,s,l),e.context=NB(null),r=e.current,n=io(),i=Yu(r),o=Cl(n,i),o.callback=t??null,Ku(r,o,i),e.current.lanes=i,yg(e,i,n),xo(e,n),e}function B_(e,t,r,n){var i=t.current,o=io(),a=Yu(i);return r=NB(r),t.context===null?t.context=r:t.pendingContext=r,t=Cl(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ku(i,t,a),e!==null&&(fs(e,i,a,o),Py(e,i,a)),a}function Pb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function SR(e,t){RC(e,t),(e=e.alternate)&&RC(e,t)}function SX(){return null}var jB=typeof reportError=="function"?reportError:function(e){console.error(e)};function $R(e){this._internalRoot=e}U_.prototype.render=$R.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(St(409));B_(e,t,null,null)};U_.prototype.unmount=$R.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;If(function(){B_(null,e,null,null)}),t[Ll]=null}};function U_(e){this._internalRoot=e}U_.prototype.unstable_scheduleHydration=function(e){if(e){var t=c4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ju.length&&t!==0&&t<ju[r].priority;r++);ju.splice(r,0,e),r===0&&d4(e)}};function TR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NC(){}function $X(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Pb(a);o.call(u)}}var a=IB(t,n,e,0,null,!1,!1,"",NC);return e._reactRootContainer=a,e[Ll]=a.current,Fm(e.nodeType===8?e.parentNode:e),If(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Pb(l);s.call(u)}}var l=ER(e,0,!1,null,null,!1,!1,"",NC);return e._reactRootContainer=l,e[Ll]=l.current,Fm(e.nodeType===8?e.parentNode:e),If(function(){B_(t,l,r,n)}),l}function q_(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Pb(a);s.call(l)}}B_(t,a,e,i)}else a=$X(r,t,e,i,n);return Pb(a)}l4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kp(t.pendingLanes);r!==0&&(VP(t,r|1),xo(t,Hn()),!(Dr&6)&&(xh=Hn()+500,lc()))}break;case 13:If(function(){var n=Fl(e,1);if(n!==null){var i=io();fs(n,e,1,i)}}),SR(e,1)}};HP=function(e){if(e.tag===13){var t=Fl(e,134217728);if(t!==null){var r=io();fs(t,e,134217728,r)}SR(e,134217728)}};u4=function(e){if(e.tag===13){var t=Yu(e),r=Fl(e,t);if(r!==null){var n=io();fs(r,e,t,n)}SR(e,t)}};c4=function(){return Zr};f4=function(e,t){var r=Zr;try{return Zr=e,t()}finally{Zr=r}};j$=function(e,t,r){switch(t){case"input":if(A$(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=j_(n);if(!i)throw Error(St(90));z3(n),A$(n,i)}}}break;case"textarea":V3(e,r);break;case"select":t=r.value,t!=null&&rh(e,!!r.multiple,t,!1)}};X3=yR;Q3=If;var TX={usingClientEntryPoint:!1,Events:[bg,qd,j_,J3,Y3,yR]},vp={findFiberByHostInstance:sf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AX={bundleType:vp.bundleType,version:vp.version,rendererPackageName:vp.rendererPackageName,rendererConfig:vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t4(e),e===null?null:e.stateNode},findFiberByHostInstance:vp.findFiberByHostInstance||SX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rv.isDisabled&&Rv.supportsFiber)try{P_=Rv.inject(AX),Zs=Rv}catch{}}Zo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TX;Zo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TR(t))throw Error(St(200));return EX(e,t,null,r)};Zo.createRoot=function(e,t){if(!TR(e))throw Error(St(299));var r=!1,n="",i=jB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ER(e,1,!1,null,null,r,!1,n,i),e[Ll]=t.current,Fm(e.nodeType===8?e.parentNode:e),new $R(t)};Zo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(St(188)):(e=Object.keys(e).join(","),Error(St(268,e)));return e=t4(t),e=e===null?null:e.stateNode,e};Zo.flushSync=function(e){return If(e)};Zo.hydrate=function(e,t,r){if(!z_(t))throw Error(St(200));return q_(null,e,t,!0,r)};Zo.hydrateRoot=function(e,t,r){if(!TR(e))throw Error(St(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=jB;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=IB(t,null,e,1,r??null,i,!1,o,a),e[Ll]=t.current,Fm(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new U_(t)};Zo.render=function(e,t,r){if(!z_(t))throw Error(St(200));return q_(null,e,t,!1,r)};Zo.unmountComponentAtNode=function(e){if(!z_(e))throw Error(St(40));return e._reactRootContainer?(If(function(){q_(null,null,e,!1,function(){e._reactRootContainer=null,e[Ll]=null})}),!0):!1};Zo.unstable_batchedUpdates=yR;Zo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!z_(r))throw Error(St(200));if(e==null||e._reactInternals===void 0)throw Error(St(38));return q_(e,t,r,!1,n)};Zo.version="18.3.1-next-f1338f8080-20240426";function CB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CB)}catch(e){console.error(e)}}CB(),C3.exports=Zo;var kB=C3.exports;const ys=Wl(kB);var IC=kB;w$.createRoot=IC.createRoot,w$.hydrateRoot=IC.hydrateRoot;const xX={offlineTD:"",isValidJSON:!0,parsedTD:{},isModified:!1,name:"",fileHandle:null,linkedTd:{},validationMessage:void 0,updateOfflineTD:()=>{},updateIsModified:()=>{},setFileHandle:()=>{},removeForm:()=>{},addForm:()=>{},removeLink:()=>{},removeOneOfAKindReducer:()=>{},addLinkedTd:()=>{},updateLinkedTd:()=>{},updateValidationMessage:()=>{}},pn=Je.createContext(xX),OX=(e,t)=>{switch(t.type){case DB:return PX(t.offlineTD,e);case MB:return DX(t.isModified,e);case LB:return MX(t.fileHandle,e);case FB:return RX(t.level,t.interactionName,t.toBeDeletedForm,t.index,e);case BB:return NX(t.link,e);case zB:return IX(t.kind,t.oneOfAKindName,e);case UB:return jX(t.level,t.interactionName,t.form,e);case qB:return CX(t.linkedTd,e);case VB:return kX(t.linkedTd,e);case HB:return LX(t.validationMessage,e);default:return e}},PX=(e,t)=>{if(e==t.offlineTD)return t;if(e==="")return{...t,offlineTD:"",isModified:!0,isValidJSON:!0,parsedTD:{}};let r;try{r=JSON.parse(e)}catch(i){return console.error(i.message),{...t,offlineTD:e,isModified:!0,isValidJSON:!1,parsedTD:t.parsedTD}}let n=t.linkedTd;if(!n)n={[r.title||"ediTDor Thing"]:r};else if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const i=document.getElementById("linkedTd"),o=(i==null?void 0:i.value)||"";o===""?n[r.title||"ediTDor Thing"]=r:n[o]=r}return{...t,offlineTD:e,isModified:!0,isValidJSON:!0,linkedTd:n,parsedTD:r}},RX=(e,t,r,n,i)=>{var s,l;if(!i.isValidJSON)return i;let o=structuredClone(i.parsedTD),a;if(e==="thing"){if(!o.forms||!Array.isArray(o.forms))return i;a=o.forms}else{if(!o[e]||!o[e][t]||!o[e][t].forms||!Array.isArray(o[e][t].forms))return i;a=o[e][t].forms}if(!a||n>a.length-1)return i;if((s=a[n])!=null&&s.op&&Array.isArray(a[n].op)){const u=a[n].op.indexOf(r.op);if(u===-1)return i;a[n].op.splice(u,1),a[n].op.length==0&&a.splice(n,1)}else((l=a[n])==null?void 0:l.op)===r.op&&a.splice(n,1);return{...i,offlineTD:JSON.stringify(o,null,2),parsedTD:o}},NX=(e,t)=>{var i;if(!t.isValidJSON)return t;let r=structuredClone(t.parsedTD);try{(i=r.links)==null||i.splice(e,1)}catch{alert("Sorry we were unable to delete the Link.")}let n=t.linkedTd;if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const o=document.getElementById("linkedTd");let a=o?o.value:"";a===""?n[r.title||"ediTDor Thing"]=r:n[a]=r}return{...t,offlineTD:JSON.stringify(r,null,2),linkedTd:n,parsedTD:r}},IX=(e,t,r)=>{if(!r.isValidJSON)return r;let n=structuredClone(r.parsedTD);try{delete n[e][t]}catch{alert("Sorry we were unable to delete the Form.")}return{...r,offlineTD:JSON.stringify(n,null,2),parsedTD:n}},jX=(e,t,r,n)=>{var a;if(!n.isValidJSON)return n;let i=structuredClone(n.parsedTD);if(e=="thing")return i.forms&&!Array.isArray(i.forms)?n:(i.forms||(i.forms=void 0),(a=i.forms)==null||a.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i});if(!i[e]||!i[e][t])return n;const o=i[e][t];return o.forms||(o.forms=[]),o.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i}},CX=(e,t)=>{let r=structuredClone(t.linkedTd),n={};return r===void 0?n=e:n=Object.assign(r,e),{...t,linkedTd:n}},kX=(e,t)=>({...t,linkedTd:e}),DX=(e,t)=>({...t,isModified:e}),MX=(e,t)=>({...t,fileHandle:e}),LX=(e,t)=>({...t,validationMessage:e}),DB="UPDATE_OFFLINE_TD",MB="UPDATE_IS_MODIFIED",LB="SET_FILE_HANDLE",FB="REMOVE_FORM_FROM_TD",BB="REMOVE_LINK_FROM_TD",UB="ADD_FORM_TO_TD",zB="REMOVE_ONE_OF_A_KIND_FROM_TD",qB="ADD_LINKED_TD",VB="UPDATE_LINKED_TD",HB="UPDATE_VALIDATION_MESSAGE",FX=({children:e})=>{const[t,r]=Ce.useReducer(OX,{offlineTD:"",validationMessage:"",parsedTD:{},isValidJSON:!1}),n=g=>{r({type:DB,offlineTD:g})},i=g=>{r({type:MB,isModified:g})},o=g=>{r({type:LB,fileHandle:g})},a=g=>{r({type:BB,link:g})},s=(g,m,_)=>{r({type:UB,level:g,interactionName:m,form:_})},l=(g,m,_,v)=>{r({type:FB,level:g,interactionName:m,toBeDeletedForm:_,index:v})},u=(g,m)=>{r({type:zB,kind:g,oneOfAKindName:m})},f=g=>{r({type:qB,linkedTd:g})},c=g=>{r({type:VB,linkedTd:g})},h=g=>{r({type:HB,validationMessage:g})};return re.jsx(pn.Provider,{value:{offlineTD:t.offlineTD,isModified:t.isModified,isValidJSON:t.isValidJSON,parsedTD:t.parsedTD,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,updateOfflineTD:n,updateIsModified:i,setFileHandle:o,removeLink:a,addForm:s,removeForm:l,removeOneOfAKindReducer:u,addLinkedTd:f,updateLinkedTd:c,updateValidationMessage:h},children:e})};function BX(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function zX(e,t){if(e==null)return{};var r=UX(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qX(e,t){return VX(e)||HX(e,t)||WX(e,t)||GX()}function VX(e){if(Array.isArray(e))return e}function HX(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw o}}return r}}function WX(e,t){if(e){if(typeof e=="string")return kC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(e,t)}}function kC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KX(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function Mp(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(r,[].concat(i,s))}}}function Rb(e){return{}.toString.call(e).includes("Object")}function YX(e){return!Object.keys(e).length}function Km(e){return typeof e=="function"}function XX(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function QX(e,t){return Rb(t)||Qu("changeType"),Object.keys(t).some(function(r){return!XX(e,r)})&&Qu("changeField"),t}function ZX(e){Km(e)||Qu("selectorType")}function e5(e){Km(e)||Rb(e)||Qu("handlerType"),Rb(e)&&Object.values(e).some(function(t){return!Km(t)})&&Qu("handlersType")}function t5(e){e||Qu("initialIsRequired"),Rb(e)||Qu("initialType"),YX(e)&&Qu("initialContent")}function r5(e,t){throw new Error(e[t]||e.default)}var n5={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Qu=Mp(r5)(n5),Nv={changes:QX,selector:ZX,handler:e5,initial:t5};function i5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Nv.initial(e),Nv.handler(t);var r={current:e},n=Mp(s5)(r,t),i=Mp(a5)(r),o=Mp(Nv.changes)(e),a=Mp(o5)(r);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Nv.selector(u),u(r.current)}function l(u){JX(n,i,o,a)(u)}return[s,l]}function o5(e,t){return Km(t)?t(e.current):t}function a5(e,t){return e.current=MC(MC({},e.current),t),t}function s5(e,t,r){return Km(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var l5={create:i5},u5={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function c5(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t.apply(r,[].concat(i,s))}}}function f5(e){return{}.toString.call(e).includes("Object")}function d5(e){return e||LC("configIsRequired"),f5(e)||LC("configType"),e.urls?(h5(),{paths:{vs:e.urls.monacoBase}}):e}function h5(){console.warn(WB.deprecation)}function p5(e,t){throw new Error(e[t]||e.default)}var WB={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},LC=c5(p5)(WB),m5={config:d5},g5=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,a){return a(o)},i)}};function GB(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],GB(e[r],t[r]))}),CC(CC({},e),t)}var v5={type:"cancelation",msg:"operation is manually canceled"};function MS(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(v5):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var y5=l5.create({config:u5,isInitialized:!1,resolve:null,reject:null,monaco:null}),KB=qX(y5,2),Eg=KB[0],V_=KB[1];function w5(e){var t=m5.config(e),r=t.monaco,n=zX(t,["monaco"]);V_(function(i){return{config:GB(i.config,n),monaco:r}})}function b5(){var e=Eg(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(V_({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),MS(LS);if(window.monaco&&window.monaco.editor)return JB(window.monaco),e.resolve(window.monaco),MS(LS);g5(_5,S5)($5)}return MS(LS)}function _5(e){return document.body.appendChild(e)}function E5(e){var t=document.createElement("script");return e&&(t.src=e),t}function S5(e){var t=Eg(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=E5("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function $5(){var e=Eg(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){JB(r),e.resolve(r)},function(r){e.reject(r)})}function JB(e){Eg().monaco||V_({monaco:e})}function T5(){return Eg(function(e){var t=e.monaco;return t})}var LS=new Promise(function(e,t){return V_({resolve:e,reject:t})}),YB={config:w5,init:b5,__getMonacoInstance:T5},A5={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},FS=A5,x5={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},O5=x5;function P5({children:e}){return Je.createElement("div",{style:O5.container},e)}var R5=P5,N5=R5;function I5({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:a}){return Je.createElement("section",{style:{...FS.wrapper,width:e,height:t},...a},!r&&Je.createElement(N5,null,n),Je.createElement("div",{ref:i,style:{...FS.fullWidth,...!r&&FS.hide},className:o}))}var j5=I5,XB=Ce.memo(j5);function C5(e){Ce.useEffect(e,[])}var QB=C5;function k5(e,t,r=!0){let n=Ce.useRef(!0);Ce.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var Ho=k5;function hm(){}function Yd(e,t,r,n){return D5(e,n)||M5(e,t,r,n)}function D5(e,t){return e.editor.getModel(ZB(e,t))}function M5(e,t,r,n){return e.editor.createModel(t,r,n?ZB(e,n):void 0)}function ZB(e,t){return e.Uri.parse(t)}function L5({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:f="Loading...",options:c={},height:h="100%",width:g="100%",className:m,wrapperProps:_={},beforeMount:v=hm,onMount:p=hm}){let[S,y]=Ce.useState(!1),[E,$]=Ce.useState(!0),T=Ce.useRef(null),d=Ce.useRef(null),A=Ce.useRef(null),x=Ce.useRef(p),O=Ce.useRef(v),C=Ce.useRef(!1);QB(()=>{let H=YB.init();return H.then(X=>(d.current=X)&&$(!1)).catch(X=>(X==null?void 0:X.type)!=="cancelation"&&console.error("Monaco initialization: error:",X)),()=>T.current?Q():H.cancel()}),Ho(()=>{if(T.current&&d.current){let H=T.current.getOriginalEditor(),X=Yd(d.current,e||"",n||r||"text",o||"");X!==H.getModel()&&H.setModel(X)}},[o],S),Ho(()=>{if(T.current&&d.current){let H=T.current.getModifiedEditor(),X=Yd(d.current,t||"",i||r||"text",a||"");X!==H.getModel()&&H.setModel(X)}},[a],S),Ho(()=>{let H=T.current.getModifiedEditor();H.getOption(d.current.editor.EditorOption.readOnly)?H.setValue(t||""):t!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[t],S),Ho(()=>{var H,X;(X=(H=T.current)==null?void 0:H.getModel())==null||X.original.setValue(e||"")},[e],S),Ho(()=>{let{original:H,modified:X}=T.current.getModel();d.current.editor.setModelLanguage(H,n||r||"text"),d.current.editor.setModelLanguage(X,i||r||"text")},[r,n,i],S),Ho(()=>{var H;(H=d.current)==null||H.editor.setTheme(u)},[u],S),Ho(()=>{var H;(H=T.current)==null||H.updateOptions(c)},[c],S);let F=Ce.useCallback(()=>{var ce;if(!d.current)return;O.current(d.current);let H=Yd(d.current,e||"",n||r||"text",o||""),X=Yd(d.current,t||"",i||r||"text",a||"");(ce=T.current)==null||ce.setModel({original:H,modified:X})},[r,t,i,e,n,o,a]),V=Ce.useCallback(()=>{var H;!C.current&&A.current&&(T.current=d.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...c}),F(),(H=d.current)==null||H.editor.setTheme(u),y(!0),C.current=!0)},[c,u,F]);Ce.useEffect(()=>{S&&x.current(T.current,d.current)},[S]),Ce.useEffect(()=>{!E&&!S&&V()},[E,S,V]);function Q(){var X,ce,Z,ie;let H=(X=T.current)==null?void 0:X.getModel();s||((ce=H==null?void 0:H.original)==null||ce.dispose()),l||((Z=H==null?void 0:H.modified)==null||Z.dispose()),(ie=T.current)==null||ie.dispose()}return Je.createElement(XB,{width:g,height:h,isEditorReady:S,loading:f,_ref:A,className:m,wrapperProps:_})}var F5=L5;Ce.memo(F5);function B5(e){let t=Ce.useRef();return Ce.useEffect(()=>{t.current=e},[e]),t.current}var U5=B5,Iv=new Map;function z5({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:a="light",line:s,loading:l="Loading...",options:u={},overrideServices:f={},saveViewState:c=!0,keepCurrentModel:h=!1,width:g="100%",height:m="100%",className:_,wrapperProps:v={},beforeMount:p=hm,onMount:S=hm,onChange:y,onValidate:E=hm}){let[$,T]=Ce.useState(!1),[d,A]=Ce.useState(!0),x=Ce.useRef(null),O=Ce.useRef(null),C=Ce.useRef(null),F=Ce.useRef(S),V=Ce.useRef(p),Q=Ce.useRef(),H=Ce.useRef(n),X=U5(o),ce=Ce.useRef(!1),Z=Ce.useRef(!1);QB(()=>{let B=YB.init();return B.then(G=>(x.current=G)&&A(!1)).catch(G=>(G==null?void 0:G.type)!=="cancelation"&&console.error("Monaco initialization: error:",G)),()=>O.current?k():B.cancel()}),Ho(()=>{var G,P,N,q;let B=Yd(x.current,e||n||"",t||i||"",o||r||"");B!==((G=O.current)==null?void 0:G.getModel())&&(c&&Iv.set(X,(P=O.current)==null?void 0:P.saveViewState()),(N=O.current)==null||N.setModel(B),c&&((q=O.current)==null||q.restoreViewState(Iv.get(o))))},[o],$),Ho(()=>{var B;(B=O.current)==null||B.updateOptions(u)},[u],$),Ho(()=>{!O.current||n===void 0||(O.current.getOption(x.current.editor.EditorOption.readOnly)?O.current.setValue(n):n!==O.current.getValue()&&(Z.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),O.current.pushUndoStop(),Z.current=!1))},[n],$),Ho(()=>{var G,P;let B=(G=O.current)==null?void 0:G.getModel();B&&i&&((P=x.current)==null||P.editor.setModelLanguage(B,i))},[i],$),Ho(()=>{var B;s!==void 0&&((B=O.current)==null||B.revealLine(s))},[s],$),Ho(()=>{var B;(B=x.current)==null||B.editor.setTheme(a)},[a],$);let ie=Ce.useCallback(()=>{var B;if(!(!C.current||!x.current)&&!ce.current){V.current(x.current);let G=o||r,P=Yd(x.current,n||e||"",t||i||"",G||"");O.current=(B=x.current)==null?void 0:B.editor.create(C.current,{model:P,automaticLayout:!0,...u},f),c&&O.current.restoreViewState(Iv.get(G)),x.current.editor.setTheme(a),s!==void 0&&O.current.revealLine(s),T(!0),ce.current=!0}},[e,t,r,n,i,o,u,f,c,a,s]);Ce.useEffect(()=>{$&&F.current(O.current,x.current)},[$]),Ce.useEffect(()=>{!d&&!$&&ie()},[d,$,ie]),H.current=n,Ce.useEffect(()=>{var B,G;$&&y&&((B=Q.current)==null||B.dispose(),Q.current=(G=O.current)==null?void 0:G.onDidChangeModelContent(P=>{Z.current||y(O.current.getValue(),P)}))},[$,y]),Ce.useEffect(()=>{if($){let B=x.current.editor.onDidChangeMarkers(G=>{var N;let P=(N=O.current.getModel())==null?void 0:N.uri;if(P&&G.find(q=>q.path===P.path)){let q=x.current.editor.getModelMarkers({resource:P});E==null||E(q)}});return()=>{B==null||B.dispose()}}return()=>{}},[$,E]);function k(){var B,G;(B=Q.current)==null||B.dispose(),h?c&&Iv.set(o,O.current.saveViewState()):(G=O.current.getModel())==null||G.dispose(),O.current.dispose()}return Je.createElement(XB,{width:g,height:m,isEditorReady:$,loading:l,_ref:C,className:_,wrapperProps:v})}var q5=z5,V5=Ce.memo(q5),eU=V5;const tU="---",rU="A-Za-z--------",H5=new RegExp("^[^"+rU+"]*["+tU+"]"),W5=new RegExp("^[^"+tU+"]*["+rU+"]");function FC(e){const t=String(e||"");return H5.test(t)?"rtl":W5.test(t)?"ltr":"neutral"}const nU=e=>!(typeof e=="object"&&!Array.isArray(e)&&e!==null)||!e.hasOwnProperty("@type")?!1:e["@type"].indexOf("tm:ThingModel")>-1,H_=(e,t,r)=>{let n={...e};for(const[i,o]of Object.entries(t))r.includes(i)||(n[i]=o);return n},W_=e=>{if(e===void 0&&!e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!Array.isArray(n.op)){n.actualIndex=r,t.push(n);continue}for(let i=0;i<n.op.length;i++){const o={...n};o.op=n.op[i],o.actualIndex=r,t.push(o)}}return t},G5=(e,t)=>{for(const r of t.links)if(r.href===e.href)return!0;return!1},K5=(e,t)=>{for(const r of t.forms){if(typeof e.op=="string")return J5(e,r);for(const n of e.op)if(typeof r.op=="string"){if(r.op===n)return!0}else if(r.op.includes(n)){let i=!0;for(const o in e)o!=="op"&&r[o]!==e[o]&&(i=!1);if(i)return!0}}return!1},J5=(e,t)=>{if(typeof t.op=="string"){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let r=!0;for(const n in e)n!=="op"&&t[n]!==e[n]&&(r=!1);if(r)return!0}},AR=async(e,t)=>{var r;if(e.linkedTd[t].kind==="file"){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(s){console.error(s.message)}let n=e.linkedTd[t];const i=await n.getFile(),o=JSON.parse(await i.text());let a=JSON.stringify(o,null,2);e.setFileHandle(n),e.updateOfflineTD(a),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(o){console.error(o.message)}e.setFileHandle(void 0);const n=e.linkedTd[t];let i=JSON.stringify(n,null,2);e.updateOfflineTD(i),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},dT=(e,t,r)=>{if(!e[t])return"";const n="",i="",o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},a=u=>u==="ltr"?n:i;if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return a(FC(e[t].toString()))+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const u=t.includes("-")?t.split("-")[0]:t.toLowerCase(),f=o[u];return f?a(f)+e[t]:a("ltr")+e[t]}let s,l;if(Array.isArray(r)||(r=[r]),r.forEach(u=>{typeof u=="object"&&(u["@direction"]&&(s=u["@direction"]),u["@language"]&&(l=u["@language"]))}),t==="title"||t==="description"){if(s)return a(s)+e[t];if(l){const u=l.includes("-")?l.split("-")[0]:l.toLowerCase(),f=o[u];return f?a(f)+e[t]:a("ltr")+e[t]}}return a(FC(e[t].toString()))+e[t]},Y5={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20};let BC;const X5=(e,t,r)=>{clearTimeout(BC),BC=setTimeout(()=>e(t),r)},Q5=({editorRef:e})=>{const t=Ce.useContext(pn),[r]=Ce.useState([]),[n,i]=Ce.useState(void 0),o=Ce.useRef(null),[a,s]=Ce.useState([]),[l,u]=Ce.useState(""),[f,c]=Ce.useState(""),h=Je.useMemo(()=>new Worker(new URL(""+new URL("validationWorker-fRgmX0S3.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),g=Je.useMemo(()=>new Worker(new URL(""+new URL("schemaWorker-BsNUkMIg.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),m=Ce.useCallback(y=>{g.postMessage(y),h.postMessage(y)},[g,h]);Ce.useEffect(()=>{const y=E=>{n.splice(0,n.length),E.forEach(function($,T){console.debug(`using schema: ${T}`),n.push({schemaUri:T,schema:$})})};g.onmessage=E=>{console.debug("received message from schema worker"),y(E.data)},h.onmessage=E=>{console.debug("received message from validation worker");const $=E.data;t.updateValidationMessage($)}},[g,h,n,t]),Ce.useEffect(()=>{t.offlineTD!==f&&(u(t.offlineTD),m(t.offlineTD))},[t.offlineTD,m,f]);const _=y=>{},v=(y,E)=>{if(E.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),!("Proxy"in window)){console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");return}let $=new Proxy(r,{set:function(T,d,A,x){T[d]=A;let O=[];for(let C=0;C<T.length;C++)O.push({fileMatch:["*/*"],uri:T[C].schemaUri,schema:T[C].schema});return E.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:O}),!0}});o.current=y,e&&(e.current=y),i($)},p=async(y,E)=>{if(y){try{JSON.parse(y),t.updateOfflineTD(y),t.updateValidationMessage(void 0)}catch($){t.updateValidationMessage({valid:!1,message:"Invalid JSON: "+($ instanceof Error?$.message:String($))})}c(y),X5(m,y??"",500)}};Ce.useEffect(()=>{if(t.linkedTd)try{let y=[],E=0;for(let $ in t.linkedTd)(t.linkedTd[$].kind==="file"||Object.keys(t.linkedTd[$]).length)&&(y.push(re.jsx("option",{value:$,children:$},E)),E++);s(y)}catch(y){console.debug(y)}},[t.linkedTd,t.offlineTD]);const S=async()=>{let y=document.getElementById("linkedTd").value;AR(t,y)};return re.jsxs(re.Fragment,{children:[re.jsx("div",{className:"h-[5%] bg-[#1e1e1e]",children:t.offlineTD&&t.linkedTd&&re.jsx("select",{name:"linkedTd",id:"linkedTd",className:"w-[50%] bg-[#1e1e1e] text-white",onChange:()=>S(),children:a})}),re.jsx("div",{className:"h-[95%] w-full",children:re.jsx(eU,{options:Y5,theme:"vs-dark",language:"json",value:l,beforeMount:_,onMount:v,onChange:p})})]})},jn=({children:e,variant:t="primary",className:r="",type:n="button",onClick:i,id:o,disabled:a})=>{const s="cursor-pointer rounded-md p-2 text-sm font-bold",l={primary:"bg-blue-500 text-white hover:bg-blue-600",secondary:"bg-gray-500 text-white hover:bg-gray-600",empty:""};return re.jsx("button",{id:o,className:`${s} ${l[t]} ${r}`,onClick:i,type:n,disabled:a,children:e})},La=e=>{const t=e.title??"Default Title",r=e.description??"Default description, please override.",n=e.children??re.jsx(re.Fragment,{}),i=e.cancelText??"Cancel",o=e.onCancel??(()=>{}),a=e.submitText??"Submit",s=e.onSubmit??(()=>{}),l=e.hasSubmit??!0;let u={};return window.onkeydown=function(f){var c,h;u[f.key]=!0,u.Control&&u.Enter?(c=document.getElementById("submitButton"))==null||c.click():u.Escape&&((h=document.getElementById("cancelButton"))==null||h.click())},window.onkeyup=function(f){u[f.key]=!1},re.jsx(re.Fragment,{children:re.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-black bg-opacity-80 text-white",children:re.jsxs("div",{className:"flex max-h-[95%] w-[80%] flex-col justify-start rounded-xl bg-gray-500 p-4 shadow-xl lg:w-[40%]",children:[re.jsx("div",{className:"flex flex-row items-center justify-start",children:re.jsx("h1",{className:"flex-grow pl-2 text-xl font-bold",children:t})}),re.jsx("h2",{className:`py-2 pl-2 text-gray-400 ${e.className}`,children:r}),re.jsx("div",{className:"overflow-auto p-2",children:n}),re.jsxs("div",{className:"flex justify-end p-2 pt-4",children:[a!=="OK"&&re.jsx(jn,{id:"cancelButton",onClick:()=>o(),variant:"primary",type:"button",className:"mr-1",children:i}),l&&re.jsx(jn,{id:"submitButton",onClick:()=>s(),variant:"primary",type:"button",className:"flex",children:a})]})]})})})},Sg=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState(()=>!1),o=e.type??"",a=o&&o[0].toUpperCase()+o.slice(1),s=e.interaction??{},l=e.interactionName??"";Ce.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0)},f=()=>{i(!1)},c=_=>s.forms?K5(_,s):!1,h=_=>({action:"actions",property:"properties",event:"events",thing:"thing"})[_],g=eQ(o),m=re.jsxs(re.Fragment,{children:[re.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Operations:"}),re.jsx("div",{className:"p-1",children:g}),re.jsxs("div",{className:"p-1 pt-2",children:[re.jsx("label",{htmlFor:"form-href",className:"pl-2 text-sm font-medium text-gray-400",children:"Href:"}),re.jsx("input",{type:"text",name:"form-href",id:"form-href",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"http://example.com/href",onChange:()=>{Z5()}}),re.jsx("span",{id:"form-href-info",className:"pl-2 text-xs text-red-400"})]})]});return n?ys.createPortal(re.jsx(La,{onCancel:f,onSubmit:()=>{var v,p;const _={op:iU(o).map(S=>{const y=document.getElementById("form-"+S);return y!=null&&y.checked?y.value:void 0}).filter(S=>S!==void 0),href:((p=(v=document.getElementById("form-href"))==null?void 0:v.value)==null?void 0:p.trim())||"/"};_.op.length===0?UC("You have to select at least one operation ..."):c(_)?UC("A Form for one of the selected operations already exists ..."):(r.addForm(h(o),l,_),f())},submitText:"Add",children:m,title:`Add ${a} Form`,description:`Tell us how this ${a} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null}),UC=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},Z5=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},iU=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},eQ=e=>re.jsx("div",{className:"rounded-md bg-gray-600 p-1",children:iU(e).map(t=>tQ(t))}),tQ=e=>{const t=`form-${e}`;return re.jsxs("div",{className:"form-checkbox pl-2",children:[e!=="invokeaction"?re.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):re.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:e==="invokeaction",checked:e==="invokeaction"}),re.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)};Sg.displayName="AddFormDialog";const Oh=Math.min,yf=Math.max,Nb=Math.round,jv=Math.floor,tl=e=>({x:e,y:e}),rQ={left:"right",right:"left",bottom:"top",top:"bottom"},nQ={start:"end",end:"start"};function hT(e,t,r){return yf(e,Oh(t,r))}function $g(e,t){return typeof e=="function"?e(t):e}function jf(e){return e.split("-")[0]}function Tg(e){return e.split("-")[1]}function oU(e){return e==="x"?"y":"x"}function xR(e){return e==="y"?"height":"width"}const iQ=new Set(["top","bottom"]);function Fu(e){return iQ.has(jf(e))?"y":"x"}function OR(e){return oU(Fu(e))}function oQ(e,t,r){r===void 0&&(r=!1);const n=Tg(e),i=OR(e),o=xR(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Ib(a)),[a,Ib(a)]}function aQ(e){const t=Ib(e);return[pT(e),t,pT(t)]}function pT(e){return e.replace(/start|end/g,t=>nQ[t])}const zC=["left","right"],qC=["right","left"],sQ=["top","bottom"],lQ=["bottom","top"];function uQ(e,t,r){switch(e){case"top":case"bottom":return r?t?qC:zC:t?zC:qC;case"left":case"right":return t?sQ:lQ;default:return[]}}function cQ(e,t,r,n){const i=Tg(e);let o=uQ(jf(e),r==="start",n);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(pT)))),o}function Ib(e){return e.replace(/left|right|bottom|top/g,t=>rQ[t])}function fQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function aU(e){return typeof e!="number"?fQ(e):{top:e,right:e,bottom:e,left:e}}function jb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function VC(e,t,r){let{reference:n,floating:i}=e;const o=Fu(t),a=OR(t),s=xR(a),l=jf(t),u=o==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let g;switch(l){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:c};break;case"left":g={x:n.x-i.width,y:c};break;default:g={x:n.x,y:n.y}}switch(Tg(t)){case"start":g[a]-=h*(r&&u?-1:1);break;case"end":g[a]+=h*(r&&u?-1:1);break}return g}const dQ=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=VC(u,n,l),h=n,g={},m=0;for(let _=0;_<s.length;_++){const{name:v,fn:p}=s[_],{x:S,y,data:E,reset:$}=await p({x:f,y:c,initialPlacement:n,placement:h,strategy:i,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});f=S??f,c=y??c,g={...g,[v]:{...g[v],...E}},$&&m<=50&&(m++,typeof $=="object"&&($.placement&&(h=$.placement),$.rects&&(u=$.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:f,y:c}=VC(u,h,l)),_=-1)}return{x:f,y:c,placement:h,strategy:i,middlewareData:g}};async function sU(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:h=!1,padding:g=0}=$g(t,e),m=aU(g),v=s[h?c==="floating"?"reference":"floating":c],p=jb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:f,strategy:l})),S=c==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),E=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=jb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:S,offsetParent:y,strategy:l}):S);return{top:(p.top-$.top+m.top)/E.y,bottom:($.bottom-p.bottom+m.bottom)/E.y,left:(p.left-$.left+m.left)/E.x,right:($.right-p.right+m.right)/E.x}}const hQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:u,padding:f=0}=$g(e,t)||{};if(u==null)return{};const c=aU(f),h={x:r,y:n},g=OR(i),m=xR(g),_=await a.getDimensions(u),v=g==="y",p=v?"top":"left",S=v?"bottom":"right",y=v?"clientHeight":"clientWidth",E=o.reference[m]+o.reference[g]-h[g]-o.floating[m],$=h[g]-o.reference[g],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let d=T?T[y]:0;(!d||!await(a.isElement==null?void 0:a.isElement(T)))&&(d=s.floating[y]||o.floating[m]);const A=E/2-$/2,x=d/2-_[m]/2-1,O=Oh(c[p],x),C=Oh(c[S],x),F=O,V=d-_[m]-C,Q=d/2-_[m]/2+A,H=hT(F,Q,V),X=!l.arrow&&Tg(i)!=null&&Q!==H&&o.reference[m]/2-(Q<F?O:C)-_[m]/2<0,ce=X?Q<F?Q-F:Q-V:0;return{[g]:h[g]+ce,data:{[g]:H,centerOffset:Q-H-ce,...X&&{alignmentOffset:ce}},reset:X}}}),pQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...v}=$g(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=jf(i),S=Fu(s),y=jf(s)===s,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),$=h||(y||!_?[Ib(s)]:aQ(s)),T=m!=="none";!h&&T&&$.push(...cQ(s,_,m,E));const d=[s,...$],A=await sU(t,v),x=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&x.push(A[p]),c){const Q=oQ(i,a,E);x.push(A[Q[0]],A[Q[1]])}if(O=[...O,{placement:i,overflows:x}],!x.every(Q=>Q<=0)){var C,F;const Q=(((C=o.flip)==null?void 0:C.index)||0)+1,H=d[Q];if(H&&(!(c==="alignment"?S!==Fu(H):!1)||O.every(Z=>Fu(Z.placement)===S?Z.overflows[0]>0:!0)))return{data:{index:Q,overflows:O},reset:{placement:H}};let X=(F=O.filter(ce=>ce.overflows[0]<=0).sort((ce,Z)=>ce.overflows[1]-Z.overflows[1])[0])==null?void 0:F.placement;if(!X)switch(g){case"bestFit":{var V;const ce=(V=O.filter(Z=>{if(T){const ie=Fu(Z.placement);return ie===S||ie==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ie=>ie>0).reduce((ie,k)=>ie+k,0)]).sort((Z,ie)=>Z[1]-ie[1])[0])==null?void 0:V[0];ce&&(X=ce);break}case"initialPlacement":X=s;break}if(i!==X)return{reset:{placement:X}}}return{}}}},mQ=new Set(["left","top"]);async function gQ(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=jf(r),s=Tg(r),l=Fu(r)==="y",u=mQ.has(a)?-1:1,f=o&&l?-1:1,c=$g(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:m}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return s&&typeof m=="number"&&(g=s==="end"?m*-1:m),l?{x:g*f,y:h*u}:{x:h*u,y:g*f}}const vQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await gQ(t,e);return a===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},yQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:p,y:S}=v;return{x:p,y:S}}},...l}=$g(e,t),u={x:r,y:n},f=await sU(t,l),c=Fu(jf(i)),h=oU(c);let g=u[h],m=u[c];if(o){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",S=g+f[v],y=g-f[p];g=hT(S,g,y)}if(a){const v=c==="y"?"top":"left",p=c==="y"?"bottom":"right",S=m+f[v],y=m-f[p];m=hT(S,m,y)}const _=s.fn({...t,[h]:g,[c]:m});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[h]:o,[c]:a}}}}}};function G_(){return typeof window<"u"}function zh(e){return lU(e)?(e.nodeName||"").toLowerCase():"#document"}function Xo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ol(e){var t;return(t=(lU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lU(e){return G_()?e instanceof Node||e instanceof Xo(e).Node:!1}function hs(e){return G_()?e instanceof Element||e instanceof Xo(e).Element:!1}function il(e){return G_()?e instanceof HTMLElement||e instanceof Xo(e).HTMLElement:!1}function HC(e){return!G_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xo(e).ShadowRoot}const wQ=new Set(["inline","contents"]);function Ag(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!wQ.has(i)}const bQ=new Set(["table","td","th"]);function _Q(e){return bQ.has(zh(e))}const EQ=[":popover-open",":modal"];function K_(e){return EQ.some(t=>{try{return e.matches(t)}catch{return!1}})}const SQ=["transform","translate","scale","rotate","perspective"],$Q=["transform","translate","scale","rotate","perspective","filter"],TQ=["paint","layout","strict","content"];function PR(e){const t=RR(),r=hs(e)?ps(e):e;return SQ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$Q.some(n=>(r.willChange||"").includes(n))||TQ.some(n=>(r.contain||"").includes(n))}function AQ(e){let t=ic(e);for(;il(t)&&!Ph(t);){if(PR(t))return t;if(K_(t))return null;t=ic(t)}return null}function RR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xQ=new Set(["html","body","#document"]);function Ph(e){return xQ.has(zh(e))}function ps(e){return Xo(e).getComputedStyle(e)}function J_(e){return hs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ic(e){if(zh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||HC(e)&&e.host||ol(e);return HC(t)?t.host:t}function uU(e){const t=ic(e);return Ph(t)?e.ownerDocument?e.ownerDocument.body:e.body:il(t)&&Ag(t)?t:uU(t)}function Jm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=uU(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),a=Xo(i);if(o){const s=mT(a);return t.concat(a,a.visualViewport||[],Ag(i)?i:[],s&&r?Jm(s):[])}return t.concat(i,Jm(i,[],r))}function mT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cU(e){const t=ps(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=il(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:n,s=Nb(r)!==o||Nb(n)!==a;return s&&(r=o,n=a),{width:r,height:n,$:s}}function NR(e){return hs(e)?e:e.contextElement}function lh(e){const t=NR(e);if(!il(t))return tl(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=cU(t);let a=(o?Nb(r.width):r.width)/n,s=(o?Nb(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const OQ=tl(0);function fU(e){const t=Xo(e);return!RR()||!t.visualViewport?OQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function PQ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xo(e)?!1:t}function Cf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=NR(e);let a=tl(1);t&&(n?hs(n)&&(a=lh(n)):a=lh(e));const s=PQ(o,r,n)?fU(o):tl(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,f=i.width/a.x,c=i.height/a.y;if(o){const h=Xo(o),g=n&&hs(n)?Xo(n):n;let m=h,_=mT(m);for(;_&&n&&g!==m;){const v=lh(_),p=_.getBoundingClientRect(),S=ps(_),y=p.left+(_.clientLeft+parseFloat(S.paddingLeft))*v.x,E=p.top+(_.clientTop+parseFloat(S.paddingTop))*v.y;l*=v.x,u*=v.y,f*=v.x,c*=v.y,l+=y,u+=E,m=Xo(_),_=mT(m)}}return jb({width:f,height:c,x:l,y:u})}function IR(e,t){const r=J_(e).scrollLeft;return t?t.left+r:Cf(ol(e)).left+r}function dU(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:IR(e,n)),o=n.top+t.scrollTop;return{x:i,y:o}}function RQ(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",a=ol(n),s=t?K_(t.floating):!1;if(n===a||s&&o)return r;let l={scrollLeft:0,scrollTop:0},u=tl(1);const f=tl(0),c=il(n);if((c||!c&&!o)&&((zh(n)!=="body"||Ag(a))&&(l=J_(n)),il(n))){const g=Cf(n);u=lh(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const h=a&&!c&&!o?dU(a,l,!0):tl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-l.scrollTop*u.y+f.y+h.y}}function NQ(e){return Array.from(e.getClientRects())}function IQ(e){const t=ol(e),r=J_(e),n=e.ownerDocument.body,i=yf(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=yf(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+IR(e);const s=-r.scrollTop;return ps(n).direction==="rtl"&&(a+=yf(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:s}}function jQ(e,t){const r=Xo(e),n=ol(e),i=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const u=RR();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}const CQ=new Set(["absolute","fixed"]);function kQ(e,t){const r=Cf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=il(e)?lh(e):tl(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:a,height:s,x:l,y:u}}function WC(e,t,r){let n;if(t==="viewport")n=jQ(e,r);else if(t==="document")n=IQ(ol(e));else if(hs(t))n=kQ(t,r);else{const i=fU(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return jb(n)}function hU(e,t){const r=ic(e);return r===t||!hs(r)||Ph(r)?!1:ps(r).position==="fixed"||hU(r,t)}function DQ(e,t){const r=t.get(e);if(r)return r;let n=Jm(e,[],!1).filter(s=>hs(s)&&zh(s)!=="body"),i=null;const o=ps(e).position==="fixed";let a=o?ic(e):e;for(;hs(a)&&!Ph(a);){const s=ps(a),l=PR(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&CQ.has(i.position)||Ag(a)&&!l&&hU(e,a))?n=n.filter(f=>f!==a):i=s,a=ic(a)}return t.set(e,n),n}function MQ(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?K_(t)?[]:DQ(t,this._c):[].concat(r),n],s=a[0],l=a.reduce((u,f)=>{const c=WC(t,f,i);return u.top=yf(c.top,u.top),u.right=Oh(c.right,u.right),u.bottom=Oh(c.bottom,u.bottom),u.left=yf(c.left,u.left),u},WC(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function LQ(e){const{width:t,height:r}=cU(e);return{width:t,height:r}}function FQ(e,t,r){const n=il(t),i=ol(t),o=r==="fixed",a=Cf(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=tl(0);function u(){l.x=IR(i)}if(n||!n&&!o)if((zh(t)!=="body"||Ag(i))&&(s=J_(t)),n){const g=Cf(t,!0,o,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else i&&u();o&&!n&&i&&u();const f=i&&!n&&!o?dU(i,s):tl(0),c=a.left+s.scrollLeft-l.x-f.x,h=a.top+s.scrollTop-l.y-f.y;return{x:c,y:h,width:a.width,height:a.height}}function BS(e){return ps(e).position==="static"}function GC(e,t){if(!il(e)||ps(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ol(e)===r&&(r=r.ownerDocument.body),r}function pU(e,t){const r=Xo(e);if(K_(e))return r;if(!il(e)){let i=ic(e);for(;i&&!Ph(i);){if(hs(i)&&!BS(i))return i;i=ic(i)}return r}let n=GC(e,t);for(;n&&_Q(n)&&BS(n);)n=GC(n,t);return n&&Ph(n)&&BS(n)&&!PR(n)?r:n||AQ(e)||r}const BQ=async function(e){const t=this.getOffsetParent||pU,r=this.getDimensions,n=await r(e.floating);return{reference:FQ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UQ(e){return ps(e).direction==="rtl"}const zQ={convertOffsetParentRelativeRectToViewportRelativeRect:RQ,getDocumentElement:ol,getClippingRect:MQ,getOffsetParent:pU,getElementRects:BQ,getClientRects:NQ,getDimensions:LQ,getScale:lh,isElement:hs,isRTL:UQ};function mU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qQ(e,t){let r=null,n;const i=ol(e);function o(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:c,width:h,height:g}=u;if(s||t(),!h||!g)return;const m=jv(c),_=jv(i.clientWidth-(f+h)),v=jv(i.clientHeight-(c+g)),p=jv(f),y={rootMargin:-m+"px "+-_+"px "+-v+"px "+-p+"px",threshold:yf(0,Oh(1,l))||1};let E=!0;function $(T){const d=T[0].intersectionRatio;if(d!==l){if(!E)return a();d?a(!1,d):n=setTimeout(()=>{a(!1,1e-7)},1e3)}d===1&&!mU(u,e.getBoundingClientRect())&&a(),E=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return a(!0),o}function VQ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=NR(e),f=i||o?[...u?Jm(u):[],...Jm(t)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const c=u&&s?qQ(u,r):null;let h=-1,g=null;a&&(g=new ResizeObserver(p=>{let[S]=p;S&&S.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(t)})),r()}),u&&!l&&g.observe(u),g.observe(t));let m,_=l?Cf(e):null;l&&v();function v(){const p=Cf(e);_&&!mU(_,p)&&r(),_=p,m=requestAnimationFrame(v)}return r(),()=>{var p;f.forEach(S=>{i&&S.removeEventListener("scroll",r),o&&S.removeEventListener("resize",r)}),c==null||c(),(p=g)==null||p.disconnect(),g=null,l&&cancelAnimationFrame(m)}}const HQ=vQ,WQ=yQ,GQ=pQ,KQ=hQ,KC=(e,t,r)=>{const n=new Map,i={platform:zQ,...r},o={...i.platform,_c:n};return dQ(e,t,{...i,platform:o})};var gU={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,n(s)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)t.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(gU);var JQ=gU.exports;const gT=Wl(JQ);var JC={GENERATE_SOURCEMAP:"false",GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_b99b87c2-c1a8-4df2-8794-6572fc70b37a",npm_package_devDependencies__types_node:"^22.13.15",npm_package_dependencies_react_dropzone:"^14.3.8",DOTNET_NOLOGO:"1",USER:"runner",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.19.4 linux x64",CI:"true",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_b99b87c2-c1a8-4df2-8794-6572fc70b37a",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.19.4/x64/bin/node",npm_package_devDependencies_vite:"^5.2.0",npm_package_dependencies_direction:"^2.0.1",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_dependencies_jsonld:"^8.3.2",HOME:"/home/runner",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_browserslist_production_1:"not dead",npm_package_dependencies_jointjs:"^3.7.7",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"eclipse",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies_react_scan:"^0.4.3",npm_package_dependencies__monaco_editor_react:"^4.7.0",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-9.0.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.2.13676358",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"56974",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.2.1",npm_package_dependencies_react_feather:"^2.0.10",SYSTEMD_EXEC_PID:"1886",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"This project aims to make creating W3C Thing Description instances and Thing Models easy by providing a platform-independent ediTDor tool. The following features are addressed in this project",npm_package_devDependencies_typescript:"^5.0.0",npm_package_devDependencies_tailwindcss:"^3.4.7",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^18.2.22",npm_package_homepage:"https://eclipse.github.io/editdor/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250804.2.0",npm_package_devDependencies_prettier:"^3.5.3",npm_package_scripts_dev:"cross-env REACT_APP_TARGET_URL=http://localhost:8080 vite",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__vitejs_plugin_react:"^4.2.1",npm_package_dependencies_wot_thing_description_types:"1.1.0-12-March-2025",npm_package_dependencies_react_tooltip:"^5.26.4",npm_package_type:"module",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.11/x64",JOURNAL_STREAM:"9:11732",GITHUB_WORKFLOW:"publish-to-github-pages",_:"/usr/local/bin/yarn",npm_package_devDependencies_autoprefixer:"^10.4.19",npm_package_devDependencies__babel_preset_react:"^7.26.3",npm_package_private:"true",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.5/x64",npm_package_scripts_lint:"eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GITHUB_RUN_ID:"16876894530",npm_package_devDependencies__babel_core:"^7.26.10",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"6a2baa1e90749cc0af0b5412a5f2d7eda162c538",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.6",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"eclipse/editdor/.github/workflows/publish-to-gh-pages.yml@refs/heads/master",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_prettier_plugin_tailwindcss:"^0.6.11",npm_package_author_email:"editdor-dev@eclipse.org",PATH:"/tmp/yarn--1754906671121-0.18176880816637353:/home/runner/work/editdor/editdor/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.19.4/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.4/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.4/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.4/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.19.4/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_e7cc24a5-c1d4-4d13-a870-f1fd032b956e",INVOCATION_ID:"d6ad9267d8544b1086637f8da4fb6cd3",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies__babel_eslint_parser:"^7.27.0",npm_package_repository_type:"git",npm_package_name:"editdor",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"62",GITHUB_TRIGGERING_ACTOR:"egekorkan",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_browserslist_development_2:"last 1 safari version",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^8.57.0",npm_package_dependencies_react_dom:"^18.2.0",npm_package_dependencies__types_json_schema:"^7.0.15",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000889518",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"eclipse/editdor",npm_lifecycle_script:"vite build",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"285060286",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_devDependencies__types_react:"^18.2.66",npm_package_dependencies_ajv:"^8.17.1",npm_package_repository_url:"git+https://github.com/eclipse/editdor.git",npm_package_version:"0.7.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_ajv_formats:"^3.0.1",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/editdor/editdor",ACCEPT_EULA:"Y",GITHUB_JOB:"publish-to-gh-pages",npm_package_dependencies_json_dup_key_validator:"^1.0.3",GITHUB_SHA:"6a2baa1e90749cc0af0b5412a5f2d7eda162c538",GITHUB_RUN_ATTEMPT:"1",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"egekorkan",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_eslint_plugin_react:"^7.34.1",npm_package_dependencies_lz_string:"^1.5.0",npm_package_license:"EPL-2.0 OR W3C-20150513",npm_config_strict_ssl:"true",npm_package_devDependencies__types_babel__core:"^7",npm_package_dependencies_monaco_editor:"^0.52.2",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_b99b87c2-c1a8-4df2-8794-6572fc70b37a",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/editdor/editdor",GITHUB_ACTOR_ID:"20195407",RUNNER_WORKSPACE:"/home/runner/work/editdor",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_dependencies__column_resizer_react:"^1.3.0",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_b99b87c2-c1a8-4df2-8794-6572fc70b37a",npm_package_author_name:"Eclipse ediTDor",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_package_devDependencies_postcss:"^8.4.40",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",npm_package_dependencies_wot_typescript_definitions:"^0.8.0-SNAPSHOT.30",npm_package_dependencies_ajv_formats_draft2019:"1.6.1",npm_package_dependencies__node_wot_browser_bundle:"0.9.0",INIT_CWD:"/home/runner/work/editdor/editdor",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_b99b87c2-c1a8-4df2-8794-6572fc70b37a",npm_package_dependencies_react:"^18.2.0",NODE_ENV:"production"};const YQ="react-tooltip-core-styles",XQ="react-tooltip-base-styles",YC={core:!1,base:!1};function XC({css:e,id:t=XQ,type:r="base",ref:n}){var i,o;if(!e||typeof document>"u"||YC[r]||r==="core"&&typeof process<"u"&&(!((i=process==null?void 0:JC)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:JC)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=YQ),n||(n={});const{insertAt:a}=n;if(document.getElementById(t))return;const s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",a==="top"&&s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),YC[r]=!0}const QC=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:a=[HQ(Number(i)),GQ({fallbackAxisSideDirection:"start"}),WQ({padding:5})],border:s,arrowSize:l=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const u=a;return r?(u.push(KQ({element:r,padding:5})),KC(e,t,{placement:n,strategy:o,middleware:u}).then(({x:f,y:c,placement:h,middlewareData:g})=>{var m,_;const v={left:`${f}px`,top:`${c}px`,border:s},{x:p,y:S}=(m=g.arrow)!==null&&m!==void 0?m:{x:0,y:0},y=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&_!==void 0?_:"bottom",E=s&&{borderBottom:s,borderRight:s};let $=0;if(s){const T=`${s}`.match(/(\d+)px/);$=T!=null&&T[1]?Number(T[1]):1}return{tooltipStyles:v,tooltipArrowStyles:{left:p!=null?`${p}px`:"",top:S!=null?`${S}px`:"",right:"",bottom:"",...E,[y]:`-${l/2+$}px`},place:h}})):KC(e,t,{placement:"bottom",strategy:o,middleware:u}).then(({x:f,y:c,placement:h})=>({tooltipStyles:{left:`${f}px`,top:`${c}px`},tooltipArrowStyles:{},place:h}))},ZC=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),ek=(e,t,r)=>{let n=null;const i=function(...o){const a=()=>{n=null};!n&&(e.apply(this,o),n=setTimeout(a,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},tk=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",vT=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>vT(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!tk(e)||!tk(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(i=>vT(e[i],t[i]))},QQ=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},rk=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(QQ(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},ZQ=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect,fa=e=>{e.current&&(clearTimeout(e.current),e.current=null)},eZ="DEFAULT_TOOLTIP_ID",tZ={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},rZ=Ce.createContext({getTooltipData:()=>tZ});function vU(e=eZ){return Ce.useContext(rZ).getTooltipData(e)}var md={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},US={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const nZ=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:a,place:s="top",offset:l=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:c="absolute",middlewares:h,wrapper:g,delayShow:m=0,delayHide:_=0,float:v=!1,hidden:p=!1,noArrow:S=!1,clickable:y=!1,closeOnEsc:E=!1,closeOnScroll:$=!1,closeOnResize:T=!1,openEvents:d,closeEvents:A,globalCloseEvents:x,imperativeModeOnly:O,style:C,position:F,afterShow:V,afterHide:Q,disableTooltip:H,content:X,contentWrapperRef:ce,isOpen:Z,defaultIsOpen:ie=!1,setIsOpen:k,activeAnchor:B,setActiveAnchor:G,border:P,opacity:N,arrowColor:q,arrowSize:oe=8,role:J="tooltip"})=>{var Y;const se=Ce.useRef(null),be=Ce.useRef(null),Ne=Ce.useRef(null),R=Ce.useRef(null),D=Ce.useRef(null),[M,K]=Ce.useState({tooltipStyles:{},tooltipArrowStyles:{},place:s}),[ae,fe]=Ce.useState(!1),[de,pe]=Ce.useState(!1),[xe,Le]=Ce.useState(null),ke=Ce.useRef(!1),nt=Ce.useRef(null),{anchorRefs:qe,setActiveAnchor:Ue}=vU(t),W=Ce.useRef(!1),[I,L]=Ce.useState([]),ne=Ce.useRef(!1),ye=f||u.includes("click"),Se=ye||(d==null?void 0:d.click)||(d==null?void 0:d.dblclick)||(d==null?void 0:d.mousedown),De=d?{...d}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!d&&ye&&Object.assign(De,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const je=A?{...A}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!A&&ye&&Object.assign(je,{mouseleave:!1,blur:!1,mouseout:!1});const Be=x?{...x}:{escape:E||!1,scroll:$||!1,resize:T||!1,clickOutsideAnchor:Se||!1};O&&(Object.assign(De,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(je,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Be,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),ZQ(()=>(ne.current=!0,()=>{ne.current=!1}),[]);const at=et=>{ne.current&&(et&&pe(!0),setTimeout(()=>{ne.current&&(k==null||k(et),Z===void 0&&fe(et))},10))};Ce.useEffect(()=>{if(Z===void 0)return()=>null;Z&&pe(!0);const et=setTimeout(()=>{fe(Z)},10);return()=>{clearTimeout(et)}},[Z]),Ce.useEffect(()=>{if(ae!==ke.current)if(fa(D),ke.current=ae,ae)V==null||V();else{const et=(xt=>{const Ot=xt.match(/^([\d.]+)(ms|s)$/);if(!Ot)return 0;const[,he,ue]=Ot;return Number(he)*(ue==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));D.current=setTimeout(()=>{pe(!1),Le(null),Q==null||Q()},et+25)}},[ae]);const wt=et=>{K(xt=>vT(xt,et)?xt:et)},ut=(et=m)=>{fa(Ne),de?at(!0):Ne.current=setTimeout(()=>{at(!0)},et)},kt=(et=_)=>{fa(R),R.current=setTimeout(()=>{W.current||at(!1)},et)},Tr=et=>{var xt;if(!et)return;const Ot=(xt=et.currentTarget)!==null&&xt!==void 0?xt:et.target;if(!(Ot!=null&&Ot.isConnected))return G(null),void Ue({current:null});m?ut():at(!0),G(Ot),Ue({current:Ot}),fa(R)},Pr=()=>{y?kt(_||100):_?kt():at(!1),fa(Ne)},or=({x:et,y:xt})=>{var Ot;const he={getBoundingClientRect:()=>({x:et,y:xt,width:0,height:0,top:xt,left:et,right:et,bottom:xt})};QC({place:(Ot=xe==null?void 0:xe.place)!==null&&Ot!==void 0?Ot:s,offset:l,elementReference:he,tooltipReference:se.current,tooltipArrowReference:be.current,strategy:c,middlewares:h,border:P,arrowSize:oe}).then(ue=>{wt(ue)})},ur=et=>{if(!et)return;const xt=et,Ot={x:xt.clientX,y:xt.clientY};or(Ot),nt.current=Ot},on=et=>{var xt;if(!ae)return;const Ot=et.target;Ot.isConnected&&(!((xt=se.current)===null||xt===void 0)&&xt.contains(Ot)||[document.querySelector(`[id='${o}']`),...I].some(he=>he==null?void 0:he.contains(Ot))||(at(!1),fa(Ne)))},tr=ek(Tr,50),Dt=ek(Pr,50),Jt=et=>{Dt.cancel(),tr(et)},Ee=()=>{tr.cancel(),Dt()},Oe=Ce.useCallback(()=>{var et,xt;const Ot=(et=xe==null?void 0:xe.position)!==null&&et!==void 0?et:F;Ot?or(Ot):v?nt.current&&or(nt.current):B!=null&&B.isConnected&&QC({place:(xt=xe==null?void 0:xe.place)!==null&&xt!==void 0?xt:s,offset:l,elementReference:B,tooltipReference:se.current,tooltipArrowReference:be.current,strategy:c,middlewares:h,border:P,arrowSize:oe}).then(he=>{ne.current&&wt(he)})},[ae,B,X,C,s,xe==null?void 0:xe.place,l,c,F,xe==null?void 0:xe.position,v,oe]);Ce.useEffect(()=>{var et,xt;const Ot=new Set(qe);I.forEach(At=>{H!=null&&H(At)||Ot.add({current:At})});const he=document.querySelector(`[id='${o}']`);he&&!(H!=null&&H(he))&&Ot.add({current:he});const ue=()=>{at(!1)},we=rk(B),Re=rk(se.current);Be.scroll&&(window.addEventListener("scroll",ue),we==null||we.addEventListener("scroll",ue),Re==null||Re.addEventListener("scroll",ue));let Ae=null;Be.resize?window.addEventListener("resize",ue):B&&se.current&&(Ae=VQ(B,se.current,Oe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const ot=At=>{At.key==="Escape"&&at(!1)};Be.escape&&window.addEventListener("keydown",ot),Be.clickOutsideAnchor&&window.addEventListener("click",on);const tt=[],Tt=At=>!!(At!=null&&At.target&&(B!=null&&B.contains(At.target))),jt=At=>{ae&&Tt(At)||Tr(At)},Lt=At=>{ae&&Tt(At)&&Pr()},$t=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Rt=["click","dblclick","mousedown","mouseup"];Object.entries(De).forEach(([At,Ct])=>{Ct&&($t.includes(At)?tt.push({event:At,listener:Jt}):Rt.includes(At)&&tt.push({event:At,listener:jt}))}),Object.entries(je).forEach(([At,Ct])=>{Ct&&($t.includes(At)?tt.push({event:At,listener:Ee}):Rt.includes(At)&&tt.push({event:At,listener:Lt}))}),v&&tt.push({event:"pointermove",listener:ur});const Ht=()=>{W.current=!0},yt=()=>{W.current=!1,Pr()},zt=y&&(je.mouseout||je.mouseleave);return zt&&((et=se.current)===null||et===void 0||et.addEventListener("mouseover",Ht),(xt=se.current)===null||xt===void 0||xt.addEventListener("mouseout",yt)),tt.forEach(({event:At,listener:Ct})=>{Ot.forEach(en=>{var jr;(jr=en.current)===null||jr===void 0||jr.addEventListener(At,Ct)})}),()=>{var At,Ct;Be.scroll&&(window.removeEventListener("scroll",ue),we==null||we.removeEventListener("scroll",ue),Re==null||Re.removeEventListener("scroll",ue)),Be.resize?window.removeEventListener("resize",ue):Ae==null||Ae(),Be.clickOutsideAnchor&&window.removeEventListener("click",on),Be.escape&&window.removeEventListener("keydown",ot),zt&&((At=se.current)===null||At===void 0||At.removeEventListener("mouseover",Ht),(Ct=se.current)===null||Ct===void 0||Ct.removeEventListener("mouseout",yt)),tt.forEach(({event:en,listener:jr})=>{Ot.forEach(Vr=>{var mn;(mn=Vr.current)===null||mn===void 0||mn.removeEventListener(en,jr)})})}},[B,Oe,de,qe,I,d,A,x,ye,m,_]),Ce.useEffect(()=>{var et,xt;let Ot=(xt=(et=xe==null?void 0:xe.anchorSelect)!==null&&et!==void 0?et:a)!==null&&xt!==void 0?xt:"";!Ot&&t&&(Ot=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const he=new MutationObserver(ue=>{const we=[],Re=[];ue.forEach(Ae=>{if(Ae.type==="attributes"&&Ae.attributeName==="data-tooltip-id"&&(Ae.target.getAttribute("data-tooltip-id")===t?we.push(Ae.target):Ae.oldValue===t&&Re.push(Ae.target)),Ae.type==="childList"){if(B){const ot=[...Ae.removedNodes].filter(tt=>tt.nodeType===1);if(Ot)try{Re.push(...ot.filter(tt=>tt.matches(Ot))),Re.push(...ot.flatMap(tt=>[...tt.querySelectorAll(Ot)]))}catch{}ot.some(tt=>{var Tt;return!!(!((Tt=tt==null?void 0:tt.contains)===null||Tt===void 0)&&Tt.call(tt,B))&&(pe(!1),at(!1),G(null),fa(Ne),fa(R),!0)})}if(Ot)try{const ot=[...Ae.addedNodes].filter(tt=>tt.nodeType===1);we.push(...ot.filter(tt=>tt.matches(Ot))),we.push(...ot.flatMap(tt=>[...tt.querySelectorAll(Ot)]))}catch{}}}),(we.length||Re.length)&&L(Ae=>[...Ae.filter(ot=>!Re.includes(ot)),...we])});return he.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{he.disconnect()}},[t,a,xe==null?void 0:xe.anchorSelect,B]),Ce.useEffect(()=>{Oe()},[Oe]),Ce.useEffect(()=>{if(!(ce!=null&&ce.current))return()=>null;const et=new ResizeObserver(()=>{setTimeout(()=>Oe())});return et.observe(ce.current),()=>{et.disconnect()}},[X,ce==null?void 0:ce.current]),Ce.useEffect(()=>{var et;const xt=document.querySelector(`[id='${o}']`),Ot=[...I,xt];B&&Ot.includes(B)||G((et=I[0])!==null&&et!==void 0?et:xt)},[o,I,B]),Ce.useEffect(()=>(ie&&at(!0),()=>{fa(Ne),fa(R)}),[]),Ce.useEffect(()=>{var et;let xt=(et=xe==null?void 0:xe.anchorSelect)!==null&&et!==void 0?et:a;if(!xt&&t&&(xt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),xt)try{const Ot=Array.from(document.querySelectorAll(xt));L(Ot)}catch{L([])}},[t,a,xe==null?void 0:xe.anchorSelect]),Ce.useEffect(()=>{Ne.current&&(fa(Ne),ut(m))},[m]);const ct=(Y=xe==null?void 0:xe.content)!==null&&Y!==void 0?Y:X,ht=ae&&Object.keys(M.tooltipStyles).length>0;return Ce.useImperativeHandle(e,()=>({open:et=>{if(et!=null&&et.anchorSelect)try{document.querySelector(et.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${et.anchorSelect}" is not a valid CSS selector`)}Le(et??null),et!=null&&et.delay?ut(et.delay):at(!0)},close:et=>{et!=null&&et.delay?kt(et.delay):at(!1)},activeAnchor:B,place:M.place,isOpen:!!(de&&!p&&ct&&ht)})),de&&!p&&ct?Je.createElement(g,{id:t,role:J,className:gT("react-tooltip",md.tooltip,US.tooltip,US[i],r,`react-tooltip__place-${M.place}`,md[ht?"show":"closing"],ht?"react-tooltip__show":"react-tooltip__closing",c==="fixed"&&md.fixed,y&&md.clickable),onTransitionEnd:et=>{fa(D),ae||et.propertyName!=="opacity"||(pe(!1),Le(null),Q==null||Q())},style:{...C,...M.tooltipStyles,opacity:N!==void 0&&ht?N:void 0},ref:se},ct,Je.createElement(g,{className:gT("react-tooltip-arrow",md.arrow,US.arrow,n,S&&md.noArrow),style:{...M.tooltipArrowStyles,background:q?`linear-gradient(to right bottom, transparent 50%, ${q} 50%)`:void 0,"--rt-arrow-size":`${oe}px`},ref:be})):null},iZ=({content:e})=>Je.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),oZ=Je.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:a,classNameArrow:s,variant:l="dark",place:u="top",offset:f=10,wrapper:c="div",children:h=null,events:g=["hover"],openOnClick:m=!1,positionStrategy:_="absolute",middlewares:v,delayShow:p=0,delayHide:S=0,float:y=!1,hidden:E=!1,noArrow:$=!1,clickable:T=!1,closeOnEsc:d=!1,closeOnScroll:A=!1,closeOnResize:x=!1,openEvents:O,closeEvents:C,globalCloseEvents:F,imperativeModeOnly:V=!1,style:Q,position:H,isOpen:X,defaultIsOpen:ce=!1,disableStyleInjection:Z=!1,border:ie,opacity:k,arrowColor:B,arrowSize:G,setIsOpen:P,afterShow:N,afterHide:q,disableTooltip:oe,role:J="tooltip"},Y)=>{const[se,be]=Ce.useState(n),[Ne,R]=Ce.useState(i),[D,M]=Ce.useState(u),[K,ae]=Ce.useState(l),[fe,de]=Ce.useState(f),[pe,xe]=Ce.useState(p),[Le,ke]=Ce.useState(S),[nt,qe]=Ce.useState(y),[Ue,W]=Ce.useState(E),[I,L]=Ce.useState(c),[ne,ye]=Ce.useState(g),[Se,De]=Ce.useState(_),[je,Be]=Ce.useState(null),[at,wt]=Ce.useState(null),ut=Ce.useRef(Z),{anchorRefs:kt,activeAnchor:Tr}=vU(e),Pr=Dt=>Dt==null?void 0:Dt.getAttributeNames().reduce((Jt,Ee)=>{var Oe;return Ee.startsWith("data-tooltip-")&&(Jt[Ee.replace(/^data-tooltip-/,"")]=(Oe=Dt==null?void 0:Dt.getAttribute(Ee))!==null&&Oe!==void 0?Oe:null),Jt},{}),or=Dt=>{const Jt={place:Ee=>{var Oe;M((Oe=Ee)!==null&&Oe!==void 0?Oe:u)},content:Ee=>{be(Ee??n)},html:Ee=>{R(Ee??i)},variant:Ee=>{var Oe;ae((Oe=Ee)!==null&&Oe!==void 0?Oe:l)},offset:Ee=>{de(Ee===null?f:Number(Ee))},wrapper:Ee=>{var Oe;L((Oe=Ee)!==null&&Oe!==void 0?Oe:c)},events:Ee=>{const Oe=Ee==null?void 0:Ee.split(" ");ye(Oe??g)},"position-strategy":Ee=>{var Oe;De((Oe=Ee)!==null&&Oe!==void 0?Oe:_)},"delay-show":Ee=>{xe(Ee===null?p:Number(Ee))},"delay-hide":Ee=>{ke(Ee===null?S:Number(Ee))},float:Ee=>{qe(Ee===null?y:Ee==="true")},hidden:Ee=>{W(Ee===null?E:Ee==="true")},"class-name":Ee=>{Be(Ee)}};Object.values(Jt).forEach(Ee=>Ee(null)),Object.entries(Dt).forEach(([Ee,Oe])=>{var ct;(ct=Jt[Ee])===null||ct===void 0||ct.call(Jt,Oe)})};Ce.useEffect(()=>{be(n)},[n]),Ce.useEffect(()=>{R(i)},[i]),Ce.useEffect(()=>{M(u)},[u]),Ce.useEffect(()=>{ae(l)},[l]),Ce.useEffect(()=>{de(f)},[f]),Ce.useEffect(()=>{xe(p)},[p]),Ce.useEffect(()=>{ke(S)},[S]),Ce.useEffect(()=>{qe(y)},[y]),Ce.useEffect(()=>{W(E)},[E]),Ce.useEffect(()=>{De(_)},[_]),Ce.useEffect(()=>{ut.current!==Z&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[Z]),Ce.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:Z==="core",disableBase:Z}}))},[]),Ce.useEffect(()=>{var Dt;const Jt=new Set(kt);let Ee=r;if(!Ee&&e&&(Ee=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Ee)try{document.querySelectorAll(Ee).forEach(xt=>{Jt.add({current:xt})})}catch{console.warn(`[react-tooltip] "${Ee}" is not a valid CSS selector`)}const Oe=document.querySelector(`[id='${t}']`);if(Oe&&Jt.add({current:Oe}),!Jt.size)return()=>null;const ct=(Dt=at??Oe)!==null&&Dt!==void 0?Dt:Tr.current,ht=new MutationObserver(xt=>{xt.forEach(Ot=>{var he;if(!ct||Ot.type!=="attributes"||!(!((he=Ot.attributeName)===null||he===void 0)&&he.startsWith("data-tooltip-")))return;const ue=Pr(ct);or(ue)})}),et={attributes:!0,childList:!1,subtree:!1};if(ct){const xt=Pr(ct);or(xt),ht.observe(ct,et)}return()=>{ht.disconnect()}},[kt,Tr,at,t,r]),Ce.useEffect(()=>{Q!=null&&Q.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ie&&!ZC("border",`${ie}`)&&console.warn(`[react-tooltip] "${ie}" is not a valid \`border\`.`),Q!=null&&Q.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),k&&!ZC("opacity",`${k}`)&&console.warn(`[react-tooltip] "${k}" is not a valid \`opacity\`.`)},[]);let ur=h;const on=Ce.useRef(null);if(o){const Dt=o({content:(at==null?void 0:at.getAttribute("data-tooltip-content"))||se||null,activeAnchor:at});ur=Dt?Je.createElement("div",{ref:on,className:"react-tooltip-content-wrapper"},Dt):null}else se&&(ur=se);Ne&&(ur=Je.createElement(iZ,{content:Ne}));const tr={forwardRef:Y,id:e,anchorId:t,anchorSelect:r,className:gT(a,je),classNameArrow:s,content:ur,contentWrapperRef:on,place:D,variant:K,offset:fe,wrapper:I,events:ne,openOnClick:m,positionStrategy:Se,middlewares:v,delayShow:pe,delayHide:Le,float:nt,hidden:Ue,noArrow:$,clickable:T,closeOnEsc:d,closeOnScroll:A,closeOnResize:x,openEvents:O,closeEvents:C,globalCloseEvents:F,imperativeModeOnly:V,style:Q,position:H,isOpen:X,defaultIsOpen:ce,border:ie,opacity:k,arrowColor:B,arrowSize:G,setIsOpen:P,afterShow:N,afterHide:q,disableTooltip:oe,activeAnchor:at,setActiveAnchor:Dt=>wt(Dt),role:J};return Je.createElement(nZ,{...tr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||XC({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||XC({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Gc=e=>re.jsxs(re.Fragment,{children:[re.jsx("a",{"data-tooltip-id":e.id,"data-tooltip-html":e.html,className:e.className,children:re.jsx(e.IconComponent,{color:e.color??"grey",size:e.size??"16"})}),re.jsx(oZ,{id:e.id,place:"top",className:"z-10"})]});var yU={exports:{}},aZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sZ=aZ,lZ=sZ;function wU(){}function bU(){}bU.resetWarningCache=wU;var uZ=function(){function e(n,i,o,a,s,l){if(l!==lZ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bU,resetWarningCache:wU};return r.PropTypes=r,r};yU.exports=uZ();var cZ=yU.exports;const rt=Wl(cZ);function yT(){return yT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yT.apply(this,arguments)}function fZ(e,t){if(e==null)return{};var r=dZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ym=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=fZ(e,["color","size"]);return Je.createElement("svg",yT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),Je.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),Je.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});Ym.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};Ym.displayName="AlertTriangle";function wT(){return wT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wT.apply(this,arguments)}function hZ(e,t){if(e==null)return{};var r=pZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var jR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=hZ(e,["color","size"]);return Je.createElement("svg",wT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),Je.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))});jR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};jR.displayName="CheckCircle";function bT(){return bT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bT.apply(this,arguments)}function mZ(e,t){if(e==null)return{};var r=gZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Xm=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=mZ(e,["color","size"]);return Je.createElement("svg",bT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"20 6 9 17 4 12"}))});Xm.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};Xm.displayName="Check";function _T(){return _T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_T.apply(this,arguments)}function vZ(e,t){if(e==null)return{};var r=yZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var wf=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=vZ(e,["color","size"]);return Je.createElement("svg",_T({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"6 9 12 15 18 9"}))});wf.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};wf.displayName="ChevronDown";function ET(){return ET=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ET.apply(this,arguments)}function wZ(e,t){if(e==null)return{};var r=bZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var CR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=wZ(e,["color","size"]);return Je.createElement("svg",ET({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"9 18 15 12 9 6"}))});CR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};CR.displayName="ChevronRight";function ST(){return ST=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ST.apply(this,arguments)}function _Z(e,t){if(e==null)return{};var r=EZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var kR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=_Z(e,["color","size"]);return Je.createElement("svg",ST({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"18 15 12 9 6 15"}))});kR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};kR.displayName="ChevronUp";function $T(){return $T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}function SZ(e,t){if(e==null)return{};var r=$Z(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Z(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var DR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=SZ(e,["color","size"]);return Je.createElement("svg",$T({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),Je.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});DR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};DR.displayName="Copy";function TT(){return TT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TT.apply(this,arguments)}function TZ(e,t){if(e==null)return{};var r=AZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var MR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=TZ(e,["color","size"]);return Je.createElement("svg",TT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),Je.createElement("polyline",{points:"7 10 12 15 17 10"}),Je.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});MR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};MR.displayName="Download";function AT(){return AT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AT.apply(this,arguments)}function xZ(e,t){if(e==null)return{};var r=OZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var LR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=xZ(e,["color","size"]);return Je.createElement("svg",AT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),Je.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});LR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};LR.displayName="Edit";function xT(){return xT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xT.apply(this,arguments)}function PZ(e,t){if(e==null)return{};var r=RZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var FR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=PZ(e,["color","size"]);return Je.createElement("svg",xT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),Je.createElement("polyline",{points:"15 3 21 3 21 9"}),Je.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))});FR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};FR.displayName="ExternalLink";function OT(){return OT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OT.apply(this,arguments)}function NZ(e,t){if(e==null)return{};var r=IZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var BR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=NZ(e,["color","size"]);return Je.createElement("svg",OT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),Je.createElement("polyline",{points:"14 2 14 8 20 8"}),Je.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),Je.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});BR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};BR.displayName="FilePlus";function PT(){return PT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PT.apply(this,arguments)}function jZ(e,t){if(e==null)return{};var r=CZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var UR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=jZ(e,["color","size"]);return Je.createElement("svg",PT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),Je.createElement("polyline",{points:"14 2 14 8 20 8"}),Je.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),Je.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),Je.createElement("polyline",{points:"10 9 9 9 8 9"}))});UR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};UR.displayName="FileText";function RT(){return RT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RT.apply(this,arguments)}function kZ(e,t){if(e==null)return{};var r=DZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var zR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=kZ(e,["color","size"]);return Je.createElement("svg",RT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Je.createElement("polyline",{points:"13 2 13 9 20 9"}))});zR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};zR.displayName="File";function NT(){return NT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NT.apply(this,arguments)}function MZ(e,t){if(e==null)return{};var r=LZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var qR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=MZ(e,["color","size"]);return Je.createElement("svg",NT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});qR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};qR.displayName="GitHub";function IT(){return IT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IT.apply(this,arguments)}function FZ(e,t){if(e==null)return{};var r=BZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var xg=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=FZ(e,["color","size"]);return Je.createElement("svg",IT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("circle",{cx:"12",cy:"12",r:"10"}),Je.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),Je.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});xg.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};xg.displayName="Info";function jT(){return jT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jT.apply(this,arguments)}function UZ(e,t){if(e==null)return{};var r=zZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var VR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=UZ(e,["color","size"]);return Je.createElement("svg",jT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),Je.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))});VR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};VR.displayName="Link";function CT(){return CT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CT.apply(this,arguments)}function qZ(e,t){if(e==null)return{};var r=VZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var HR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=qZ(e,["color","size"]);return Je.createElement("svg",CT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});HR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};HR.displayName="Minus";function kT(){return kT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kT.apply(this,arguments)}function HZ(e,t){if(e==null)return{};var r=WZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var WR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=HZ(e,["color","size"]);return Je.createElement("svg",kT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("circle",{cx:"12",cy:"12",r:"10"}),Je.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),Je.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});WR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};WR.displayName="PlusCircle";function DT(){return DT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DT.apply(this,arguments)}function GZ(e,t){if(e==null)return{};var r=KZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var GR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=GZ(e,["color","size"]);return Je.createElement("svg",DT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Je.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});GR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};GR.displayName="Plus";function MT(){return MT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MT.apply(this,arguments)}function JZ(e,t){if(e==null)return{};var r=YZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var KR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=JZ(e,["color","size"]);return Je.createElement("svg",MT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"1 4 1 10 7 10"}),Je.createElement("polyline",{points:"23 20 23 14 17 14"}),Je.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});KR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};KR.displayName="RefreshCcw";function LT(){return LT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LT.apply(this,arguments)}function XZ(e,t){if(e==null)return{};var r=QZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Y_=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=XZ(e,["color","size"]);return Je.createElement("svg",LT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"23 4 23 10 17 10"}),Je.createElement("polyline",{points:"1 20 1 14 7 14"}),Je.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});Y_.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};Y_.displayName="RefreshCw";function FT(){return FT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FT.apply(this,arguments)}function ZZ(e,t){if(e==null)return{};var r=e7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var JR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=ZZ(e,["color","size"]);return Je.createElement("svg",FT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"1 4 1 10 7 10"}),Je.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});JR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};JR.displayName="RotateCcw";function BT(){return BT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BT.apply(this,arguments)}function t7(e,t){if(e==null)return{};var r=r7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var YR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=t7(e,["color","size"]);return Je.createElement("svg",BT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"23 4 23 10 17 10"}),Je.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))});YR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};YR.displayName="RotateCw";function UT(){return UT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UT.apply(this,arguments)}function n7(e,t){if(e==null)return{};var r=i7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var XR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=n7(e,["color","size"]);return Je.createElement("svg",UT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),Je.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),Je.createElement("polyline",{points:"7 3 7 8 15 8"}))});XR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};XR.displayName="Save";function zT(){return zT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT.apply(this,arguments)}function o7(e,t){if(e==null)return{};var r=a7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var QR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=o7(e,["color","size"]);return Je.createElement("svg",zT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("circle",{cx:"11",cy:"11",r:"8"}),Je.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});QR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};QR.displayName="Search";function qT(){return qT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qT.apply(this,arguments)}function s7(e,t){if(e==null)return{};var r=l7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ZR=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=s7(e,["color","size"]);return Je.createElement("svg",qT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("circle",{cx:"12",cy:"12",r:"3"}),Je.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});ZR.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};ZR.displayName="Settings";function VT(){return VT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VT.apply(this,arguments)}function u7(e,t){if(e==null)return{};var r=c7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var eN=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=u7(e,["color","size"]);return Je.createElement("svg",VT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),Je.createElement("polyline",{points:"16 6 12 2 8 6"}),Je.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))});eN.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};eN.displayName="Share";function HT(){return HT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HT.apply(this,arguments)}function f7(e,t){if(e==null)return{};var r=d7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var uc=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=f7(e,["color","size"]);return Je.createElement("svg",HT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("polyline",{points:"3 6 5 6 21 6"}),Je.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Je.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Je.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});uc.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};uc.displayName="Trash2";function WT(){return WT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WT.apply(this,arguments)}function h7(e,t){if(e==null)return{};var r=p7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var tN=Ce.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,a=h7(e,["color","size"]);return Je.createElement("svg",WT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),Je.createElement("circle",{cx:"12",cy:"12",r:"10"}),Je.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),Je.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15"}))});tN.propTypes={color:rt.string,size:rt.oneOfType([rt.string,rt.number])};tN.displayName="XCircle";const al=e=>re.jsxs("div",{className:"flex justify-center",children:[re.jsx("div",{className:"pr-0.5",children:e.children}),re.jsx("button",{onClick:()=>window.open(e.tooltip.href,"_blank"),children:re.jsx(Gc,{html:e.tooltip.html||"No tooltip content available",id:e.id,IconComponent:xg})}),re.jsx("div",{className:"p-1"})]});class Kl{constructor(t,r){this.html=t,this.href=r}}const m7=()=>{const e=`<h2 class='text-lg'>Web of Things Properties</h2>
                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>
                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>
                    <br />
                    <p>Click to get more information about Properties.</p> 
                `,t="https://www.w3.org/TR/wot-thing-description/#propertyaffordance";return new Kl(e,t)},g7=()=>{const e=`<h2 class='text-lg'>Web of Things Actions</h2>
                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>
                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>
                    <br />
                    <p>Click to get more information about Actions.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#actionaffordance";return new Kl(e,t)},v7=()=>{const e=`<h2 class='text-lg'>Web of Things Events</h2>
                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>
                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>
                <br />
                <p>Click to get more information about Events.</p>
            `,t="https://www.w3.org/TR/wot-thing-description/#eventaffordance";return new Kl(e,t)},Og=()=>{const e=`<h2 class='text-lg'>Web of Things Forms</h2>
                    <p>A Form contains all information needed to make a request to a device.</p>
                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>
                    <br />
                    <p>Click to get more information about Forms.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#form";return new Kl(e,t)},_U=()=>{const e=`<h2 class='text-lg'>Web of Things Link</h2>
                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>
                    <p>Used to link Thing Description with other ressources.</p>
                    <br />
                    <p>Click to get more information about Links.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#link";return new Kl(e,t)},GT=()=>{const e=`<h2 class='text-lg'>Unit ID</h2>
                    <p>Slave address of the Modbus device.</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#url-terms";return new Kl(e,t)},KT=()=>{const e=`<h2 class='text-lg'>Address Offset</h2>
                    <p>Should all addresses shift by one (false) or not (true)</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new Kl(e,t)},JT=()=>{const e=`<h2 class='text-lg'>Endianness</h2>
                    <p>Should the words or the bytes be swapped?</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new Kl(e,t)},EU=()=>{const e=`<h2 class='text-lg'>Validate</h2>
                    <p>Validate the Thing Description against the WoT TD Schema.</p>
                   
                    <p>Click to get more information about the schema.</p>
                `,t="https://github.com/wot-oss/tmc/blob/main/internal/commands/validate/tmc-mandatory.schema.json";return new Kl(e,t)},y7={properties:m7(),actions:g7(),events:v7(),forms:Og(),links:_U(),unitId:GT(),addressOffset:KT(),endianness:JT(),validateTM:EU()};var w7={},b7=Object.create,X_=Object.defineProperty,_7=Object.getOwnPropertyDescriptor,rN=Object.getOwnPropertyNames,E7=Object.getPrototypeOf,S7=Object.prototype.hasOwnProperty,nn=(e,t)=>function(){return e&&(t=(0,e[rN(e)[0]])(e=0)),t},Pe=(e,t)=>function(){return t||(0,e[rN(e)[0]])((t={exports:{}}).exports,t),t.exports},sl=(e,t)=>{for(var r in t)X_(e,r,{get:t[r],enumerable:!0})},SU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of rN(t))!S7.call(e,i)&&i!==r&&X_(e,i,{get:()=>t[i],enumerable:!(n=_7(t,i))||n.enumerable});return e},nN=(e,t,r)=>(r=e!=null?b7(E7(e)):{},SU(!e||!e.__esModule?X_(r,"default",{value:e,enumerable:!0}):r,e)),Or=e=>SU(X_({},"__esModule",{value:!0}),e);function $7(){if(YT)return Od;YT=!0,Od.byteLength=s,Od.toByteArray=u,Od.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(g){var m=g.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=g.indexOf("=");_===-1&&(_=m);var v=_===m?0:4-_%4;return[_,v]}function s(g){var m=a(g),_=m[0],v=m[1];return(_+v)*3/4-v}function l(g,m,_){return(m+_)*3/4-_}function u(g){var m,_=a(g),v=_[0],p=_[1],S=new r(l(g,v,p)),y=0,E=p>0?v-4:v,$;for($=0;$<E;$+=4)m=t[g.charCodeAt($)]<<18|t[g.charCodeAt($+1)]<<12|t[g.charCodeAt($+2)]<<6|t[g.charCodeAt($+3)],S[y++]=m>>16&255,S[y++]=m>>8&255,S[y++]=m&255;return p===2&&(m=t[g.charCodeAt($)]<<2|t[g.charCodeAt($+1)]>>4,S[y++]=m&255),p===1&&(m=t[g.charCodeAt($)]<<10|t[g.charCodeAt($+1)]<<4|t[g.charCodeAt($+2)]>>2,S[y++]=m>>8&255,S[y++]=m&255),S}function f(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function c(g,m,_){for(var v,p=[],S=m;S<_;S+=3)v=(g[S]<<16&16711680)+(g[S+1]<<8&65280)+(g[S+2]&255),p.push(f(v));return p.join("")}function h(g){for(var m,_=g.length,v=_%3,p=[],S=16383,y=0,E=_-v;y<E;y+=S)p.push(c(g,y,y+S>E?E:y+S));return v===1?(m=g[_-1],p.push(e[m>>2]+e[m<<4&63]+"==")):v===2&&(m=(g[_-2]<<8)+g[_-1],p.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),p.join("")}return Od}function T7(){return XT||(XT=!0,Lp.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,g=e[t+c];for(c+=h,o=g&(1<<-f)-1,g>>=-f,f+=s;f>0;o=o*256+e[t+c],c+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(g?-1:1)*a*Math.pow(2,o-n)},Lp.write=function(e,t,r,n,i,o){var a,s,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+g]=s&255,g+=m,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+g]=a&255,g+=m,a/=256,u-=8);e[r+g-m]|=_*128}),Lp}function Io(){if(QT)return _u;QT=!0;const e=$7(),t=T7(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;_u.Buffer=a,_u.SlowBuffer=p,_u.INSPECT_MAX_BYTES=50;const n=2147483647;_u.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(W,I),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const I=new Uint8Array(W);return Object.setPrototypeOf(I,a.prototype),I}function a(W,I,L){if(typeof W=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return s(W,I,L)}a.poolSize=8192;function s(W,I,L){if(typeof W=="string")return c(W,I);if(ArrayBuffer.isView(W))return g(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Le(W,ArrayBuffer)||W&&Le(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(W,SharedArrayBuffer)||W&&Le(W.buffer,SharedArrayBuffer)))return m(W,I,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=W.valueOf&&W.valueOf();if(ne!=null&&ne!==W)return a.from(ne,I,L);const ye=_(W);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,I,L){return s(W,I,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,I,L){return l(W),W<=0?o(W):I!==void 0?typeof L=="string"?o(W).fill(I,L):o(W).fill(I):o(W)}a.alloc=function(W,I,L){return u(W,I,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}a.allocUnsafe=function(W){return f(W)},a.allocUnsafeSlow=function(W){return f(W)};function c(W,I){if((typeof I!="string"||I==="")&&(I="utf8"),!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const L=S(W,I)|0;let ne=o(L);const ye=ne.write(W,I);return ye!==L&&(ne=ne.slice(0,ye)),ne}function h(W){const I=W.length<0?0:v(W.length)|0,L=o(I);for(let ne=0;ne<I;ne+=1)L[ne]=W[ne]&255;return L}function g(W){if(Le(W,Uint8Array)){const I=new Uint8Array(W);return m(I.buffer,I.byteOffset,I.byteLength)}return h(W)}function m(W,I,L){if(I<0||W.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return I===void 0&&L===void 0?ne=new Uint8Array(W):L===void 0?ne=new Uint8Array(W,I):ne=new Uint8Array(W,I,L),Object.setPrototypeOf(ne,a.prototype),ne}function _(W){if(a.isBuffer(W)){const I=v(W.length)|0,L=o(I);return L.length===0||W.copy(L,0,0,I),L}if(W.length!==void 0)return typeof W.length!="number"||ke(W.length)?o(0):h(W);if(W.type==="Buffer"&&Array.isArray(W.data))return h(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function p(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==a.prototype},a.compare=function(I,L){if(Le(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),Le(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(I)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;let ne=I.length,ye=L.length;for(let Se=0,De=Math.min(ne,ye);Se<De;++Se)if(I[Se]!==L[Se]){ne=I[Se],ye=L[Se];break}return ne<ye?-1:ye<ne?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);let ne;if(L===void 0)for(L=0,ne=0;ne<I.length;++ne)L+=I[ne].length;const ye=a.allocUnsafe(L);let Se=0;for(ne=0;ne<I.length;++ne){let De=I[ne];if(Le(De,Uint8Array))Se+De.length>ye.length?(a.isBuffer(De)||(De=a.from(De)),De.copy(ye,Se)):Uint8Array.prototype.set.call(ye,De,Se);else if(a.isBuffer(De))De.copy(ye,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=De.length}return ye};function S(W,I){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Le(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&L===0)return 0;let ye=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return ae(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return pe(W).length;default:if(ye)return ne?-1:ae(W).length;I=(""+I).toLowerCase(),ye=!0}}a.byteLength=S;function y(W,I,L){let ne=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(W||(W="utf8");;)switch(W){case"hex":return Z(this,I,L);case"utf8":case"utf-8":return V(this,I,L);case"ascii":return X(this,I,L);case"latin1":case"binary":return ce(this,I,L);case"base64":return F(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,I,L);default:if(ne)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ne=!0}}a.prototype._isBuffer=!0;function E(W,I,L){const ne=W[I];W[I]=W[L],W[L]=ne}a.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<I;L+=2)E(this,L,L+1);return this},a.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<I;L+=4)E(this,L,L+3),E(this,L+1,L+2);return this},a.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<I;L+=8)E(this,L,L+7),E(this,L+1,L+6),E(this,L+2,L+5),E(this,L+3,L+4);return this},a.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?V(this,0,I):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:a.compare(this,I)===0},a.prototype.inspect=function(){let I="";const L=_u.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(I,L,ne,ye,Se){if(Le(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),ne===void 0&&(ne=I?I.length:0),ye===void 0&&(ye=0),Se===void 0&&(Se=this.length),L<0||ne>I.length||ye<0||Se>this.length)throw new RangeError("out of range index");if(ye>=Se&&L>=ne)return 0;if(ye>=Se)return-1;if(L>=ne)return 1;if(L>>>=0,ne>>>=0,ye>>>=0,Se>>>=0,this===I)return 0;let De=Se-ye,je=ne-L;const Be=Math.min(De,je),at=this.slice(ye,Se),wt=I.slice(L,ne);for(let ut=0;ut<Be;++ut)if(at[ut]!==wt[ut]){De=at[ut],je=wt[ut];break}return De<je?-1:je<De?1:0};function $(W,I,L,ne,ye){if(W.length===0)return-1;if(typeof L=="string"?(ne=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,ke(L)&&(L=ye?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(ye)return-1;L=W.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof I=="string"&&(I=a.from(I,ne)),a.isBuffer(I))return I.length===0?-1:T(W,I,L,ne,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(W,I,L):Uint8Array.prototype.lastIndexOf.call(W,I,L):T(W,[I],L,ne,ye);throw new TypeError("val must be string, number or Buffer")}function T(W,I,L,ne,ye){let Se=1,De=W.length,je=I.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(W.length<2||I.length<2)return-1;Se=2,De/=2,je/=2,L/=2}function Be(wt,ut){return Se===1?wt[ut]:wt.readUInt16BE(ut*Se)}let at;if(ye){let wt=-1;for(at=L;at<De;at++)if(Be(W,at)===Be(I,wt===-1?0:at-wt)){if(wt===-1&&(wt=at),at-wt+1===je)return wt*Se}else wt!==-1&&(at-=at-wt),wt=-1}else for(L+je>De&&(L=De-je),at=L;at>=0;at--){let wt=!0;for(let ut=0;ut<je;ut++)if(Be(W,at+ut)!==Be(I,ut)){wt=!1;break}if(wt)return at}return-1}a.prototype.includes=function(I,L,ne){return this.indexOf(I,L,ne)!==-1},a.prototype.indexOf=function(I,L,ne){return $(this,I,L,ne,!0)},a.prototype.lastIndexOf=function(I,L,ne){return $(this,I,L,ne,!1)};function d(W,I,L,ne){L=Number(L)||0;const ye=W.length-L;ne?(ne=Number(ne),ne>ye&&(ne=ye)):ne=ye;const Se=I.length;ne>Se/2&&(ne=Se/2);let De;for(De=0;De<ne;++De){const je=parseInt(I.substr(De*2,2),16);if(ke(je))return De;W[L+De]=je}return De}function A(W,I,L,ne){return xe(ae(I,W.length-L),W,L,ne)}function x(W,I,L,ne){return xe(fe(I),W,L,ne)}function O(W,I,L,ne){return xe(pe(I),W,L,ne)}function C(W,I,L,ne){return xe(de(I,W.length-L),W,L,ne)}a.prototype.write=function(I,L,ne,ye){if(L===void 0)ye="utf8",ne=this.length,L=0;else if(ne===void 0&&typeof L=="string")ye=L,ne=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(ne)?(ne=ne>>>0,ye===void 0&&(ye="utf8")):(ye=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-L;if((ne===void 0||ne>Se)&&(ne=Se),I.length>0&&(ne<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let De=!1;for(;;)switch(ye){case"hex":return d(this,I,L,ne);case"utf8":case"utf-8":return A(this,I,L,ne);case"ascii":case"latin1":case"binary":return x(this,I,L,ne);case"base64":return O(this,I,L,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,I,L,ne);default:if(De)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),De=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,I,L){return I===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(I,L))}function V(W,I,L){L=Math.min(W.length,L);const ne=[];let ye=I;for(;ye<L;){const Se=W[ye];let De=null,je=Se>239?4:Se>223?3:Se>191?2:1;if(ye+je<=L){let Be,at,wt,ut;switch(je){case 1:Se<128&&(De=Se);break;case 2:Be=W[ye+1],(Be&192)===128&&(ut=(Se&31)<<6|Be&63,ut>127&&(De=ut));break;case 3:Be=W[ye+1],at=W[ye+2],(Be&192)===128&&(at&192)===128&&(ut=(Se&15)<<12|(Be&63)<<6|at&63,ut>2047&&(ut<55296||ut>57343)&&(De=ut));break;case 4:Be=W[ye+1],at=W[ye+2],wt=W[ye+3],(Be&192)===128&&(at&192)===128&&(wt&192)===128&&(ut=(Se&15)<<18|(Be&63)<<12|(at&63)<<6|wt&63,ut>65535&&ut<1114112&&(De=ut))}}De===null?(De=65533,je=1):De>65535&&(De-=65536,ne.push(De>>>10&1023|55296),De=56320|De&1023),ne.push(De),ye+=je}return H(ne)}const Q=4096;function H(W){const I=W.length;if(I<=Q)return String.fromCharCode.apply(String,W);let L="",ne=0;for(;ne<I;)L+=String.fromCharCode.apply(String,W.slice(ne,ne+=Q));return L}function X(W,I,L){let ne="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)ne+=String.fromCharCode(W[ye]&127);return ne}function ce(W,I,L){let ne="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)ne+=String.fromCharCode(W[ye]);return ne}function Z(W,I,L){const ne=W.length;(!I||I<0)&&(I=0),(!L||L<0||L>ne)&&(L=ne);let ye="";for(let Se=I;Se<L;++Se)ye+=nt[W[Se]];return ye}function ie(W,I,L){const ne=W.slice(I,L);let ye="";for(let Se=0;Se<ne.length-1;Se+=2)ye+=String.fromCharCode(ne[Se]+ne[Se+1]*256);return ye}a.prototype.slice=function(I,L){const ne=this.length;I=~~I,L=L===void 0?ne:~~L,I<0?(I+=ne,I<0&&(I=0)):I>ne&&(I=ne),L<0?(L+=ne,L<0&&(L=0)):L>ne&&(L=ne),L<I&&(L=I);const ye=this.subarray(I,L);return Object.setPrototypeOf(ye,a.prototype),ye};function k(W,I,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+I>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return ye},a.prototype.readUintBE=a.prototype.readUIntBE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=this[I+--L],Se=1;for(;L>0&&(Se*=256);)ye+=this[I+--L]*Se;return ye},a.prototype.readUint8=a.prototype.readUInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readBigUInt64LE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,Se=this[++I]+this[++I]*2**8+this[++I]*2**16+ne*2**24;return BigInt(ye)+(BigInt(Se)<<BigInt(32))}),a.prototype.readBigUInt64BE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=L*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],Se=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ne;return(BigInt(ye)<<BigInt(32))+BigInt(Se)}),a.prototype.readIntLE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return Se*=128,ye>=Se&&(ye-=Math.pow(2,8*L)),ye},a.prototype.readIntBE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=L,Se=1,De=this[I+--ye];for(;ye>0&&(Se*=256);)De+=this[I+--ye]*Se;return Se*=128,De>=Se&&(De-=Math.pow(2,8*L)),De},a.prototype.readInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},a.prototype.readInt16LE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ne=this[I]|this[I+1]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt16BE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ne=this[I+1]|this[I]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readBigInt64LE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(ne<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),a.prototype.readBigInt64BE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=(L<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(ye)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ne)}),a.prototype.readFloatLE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!1,52,8)};function B(W,I,L,ne,ye,Se){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Se)throw new RangeError('"value" argument is out of bounds');if(L+ne>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(I,L,ne,ye){if(I=+I,L=L>>>0,ne=ne>>>0,!ye){const je=Math.pow(2,8*ne)-1;B(this,I,L,ne,je,0)}let Se=1,De=0;for(this[L]=I&255;++De<ne&&(Se*=256);)this[L+De]=I/Se&255;return L+ne},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(I,L,ne,ye){if(I=+I,L=L>>>0,ne=ne>>>0,!ye){const je=Math.pow(2,8*ne)-1;B(this,I,L,ne,je,0)}let Se=ne-1,De=1;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)this[L+Se]=I/De&255;return L+ne},a.prototype.writeUint8=a.prototype.writeUInt8=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,1,255,0),this[L]=I&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function G(W,I,L,ne,ye){Ne(I,ne,ye,W,L,7);let Se=Number(I&BigInt(4294967295));W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return W[L++]=De,De=De>>8,W[L++]=De,De=De>>8,W[L++]=De,De=De>>8,W[L++]=De,L}function P(W,I,L,ne,ye){Ne(I,ne,ye,W,L,7);let Se=Number(I&BigInt(4294967295));W[L+7]=Se,Se=Se>>8,W[L+6]=Se,Se=Se>>8,W[L+5]=Se,Se=Se>>8,W[L+4]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return W[L+3]=De,De=De>>8,W[L+2]=De,De=De>>8,W[L+1]=De,De=De>>8,W[L]=De,L+8}a.prototype.writeBigUInt64LE=qe(function(I,L=0){return G(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=qe(function(I,L=0){return P(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(I,L,ne,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ne-1);B(this,I,L,ne,Be-1,-Be)}let Se=0,De=1,je=0;for(this[L]=I&255;++Se<ne&&(De*=256);)I<0&&je===0&&this[L+Se-1]!==0&&(je=1),this[L+Se]=(I/De>>0)-je&255;return L+ne},a.prototype.writeIntBE=function(I,L,ne,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ne-1);B(this,I,L,ne,Be-1,-Be)}let Se=ne-1,De=1,je=0;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)I<0&&je===0&&this[L+Se+1]!==0&&(je=1),this[L+Se]=(I/De>>0)-je&255;return L+ne},a.prototype.writeInt8=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},a.prototype.writeInt16LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeInt16BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeInt32LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},a.prototype.writeInt32BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},a.prototype.writeBigInt64LE=qe(function(I,L=0){return G(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=qe(function(I,L=0){return P(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function N(W,I,L,ne,ye,Se){if(L+ne>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,I,L,ne,ye){return I=+I,L=L>>>0,ye||N(W,I,L,4),t.write(W,I,L,ne,23,4),L+4}a.prototype.writeFloatLE=function(I,L,ne){return q(this,I,L,!0,ne)},a.prototype.writeFloatBE=function(I,L,ne){return q(this,I,L,!1,ne)};function oe(W,I,L,ne,ye){return I=+I,L=L>>>0,ye||N(W,I,L,8),t.write(W,I,L,ne,52,8),L+8}a.prototype.writeDoubleLE=function(I,L,ne){return oe(this,I,L,!0,ne)},a.prototype.writeDoubleBE=function(I,L,ne){return oe(this,I,L,!1,ne)},a.prototype.copy=function(I,L,ne,ye){if(!a.isBuffer(I))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!ye&&ye!==0&&(ye=this.length),L>=I.length&&(L=I.length),L||(L=0),ye>0&&ye<ne&&(ye=ne),ye===ne||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-L<ye-ne&&(ye=I.length-L+ne);const Se=ye-ne;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,ne,ye):Uint8Array.prototype.set.call(I,this.subarray(ne,ye),L),Se},a.prototype.fill=function(I,L,ne,ye){if(typeof I=="string"){if(typeof L=="string"?(ye=L,L=0,ne=this.length):typeof ne=="string"&&(ye=ne,ne=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!a.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){const De=I.charCodeAt(0);(ye==="utf8"&&De<128||ye==="latin1")&&(I=De)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<ne)throw new RangeError("Out of range index");if(ne<=L)return this;L=L>>>0,ne=ne===void 0?this.length:ne>>>0,I||(I=0);let Se;if(typeof I=="number")for(Se=L;Se<ne;++Se)this[Se]=I;else{const De=a.isBuffer(I)?I:a.from(I,ye),je=De.length;if(je===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Se=0;Se<ne-L;++Se)this[Se+L]=De[Se%je]}return this};const J={};function Y(W,I,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,I){return`The "${W}" argument must be of type number. Received type ${typeof I}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,I,L){let ne=`The value of "${W}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=se(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=se(ye)),ye+="n"),ne+=` It must be ${I}. Received ${ye}`,ne},RangeError);function se(W){let I="",L=W.length;const ne=W[0]==="-"?1:0;for(;L>=ne+4;L-=3)I=`_${W.slice(L-3,L)}${I}`;return`${W.slice(0,L)}${I}`}function be(W,I,L){R(I,"offset"),(W[I]===void 0||W[I+L]===void 0)&&D(I,W.length-(L+1))}function Ne(W,I,L,ne,ye,Se){if(W>L||W<I){const De=typeof I=="bigint"?"n":"";let je;throw I===0||I===BigInt(0)?je=`>= 0${De} and < 2${De} ** ${(Se+1)*8}${De}`:je=`>= -(2${De} ** ${(Se+1)*8-1}${De}) and < 2 ** ${(Se+1)*8-1}${De}`,new J.ERR_OUT_OF_RANGE("value",je,W)}be(ne,ye,Se)}function R(W,I){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(I,"number",W)}function D(W,I,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):I<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,W)}const M=/[^+/0-9A-Za-z-_]/g;function K(W){if(W=W.split("=")[0],W=W.trim().replace(M,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function ae(W,I){I=I||1/0;let L;const ne=W.length;let ye=null;const Se=[];for(let De=0;De<ne;++De){if(L=W.charCodeAt(De),L>55295&&L<57344){if(!ye){if(L>56319){(I-=3)>-1&&Se.push(239,191,189);continue}else if(De+1===ne){(I-=3)>-1&&Se.push(239,191,189);continue}ye=L;continue}if(L<56320){(I-=3)>-1&&Se.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(I-=3)>-1&&Se.push(239,191,189);if(ye=null,L<128){if((I-=1)<0)break;Se.push(L)}else if(L<2048){if((I-=2)<0)break;Se.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;Se.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;Se.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Se}function fe(W){const I=[];for(let L=0;L<W.length;++L)I.push(W.charCodeAt(L)&255);return I}function de(W,I){let L,ne,ye;const Se=[];for(let De=0;De<W.length&&!((I-=2)<0);++De)L=W.charCodeAt(De),ne=L>>8,ye=L%256,Se.push(ye),Se.push(ne);return Se}function pe(W){return e.toByteArray(K(W))}function xe(W,I,L,ne){let ye;for(ye=0;ye<ne&&!(ye+L>=I.length||ye>=W.length);++ye)I[ye+L]=W[ye];return ye}function Le(W,I){return W instanceof I||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===I.name}function ke(W){return W!==W}const nt=function(){const W="0123456789abcdef",I=new Array(256);for(let L=0;L<16;++L){const ne=L*16;for(let ye=0;ye<16;++ye)I[ne+ye]=W[L]+W[ye]}return I}();function qe(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return _u}var Od,YT,Lp,XT,_u,QT,Q_=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtuTasat.js"(){Te(),Od={},YT=!1,Lp={},XT=!1,_u={},QT=!1}}),cc={};sl(cc,{Buffer:()=>Yr,INSPECT_MAX_BYTES:()=>$U,default:()=>vl,kMaxLength:()=>TU});var vl,Yr,$U,TU,fc=nn({"../../node_modules/@jspm/core/nodelibs/browser/buffer.js"(){Te(),Q_(),vl=Io(),vl.Buffer,vl.SlowBuffer,vl.INSPECT_MAX_BYTES,vl.kMaxLength,Yr=vl.Buffer,$U=vl.INSPECT_MAX_BYTES,TU=vl.kMaxLength}}),Te=nn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){fc()}}),Pg=Pe({"../core/dist/thing-description.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ThingEvent=e.ThingAction=e.ThingProperty=e.BaseSchema=e.Form=e.Thing=e.DEFAULT_THING_TYPE=e.DEFAULT_CONTEXT_LANGUAGE=e.DEFAULT_CONTEXT_V11=e.DEFAULT_CONTEXT_V1=void 0,e.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",e.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",e.DEFAULT_CONTEXT_LANGUAGE="en",e.DEFAULT_THING_TYPE="Thing";var t=class{constructor(){this["@context"]=[e.DEFAULT_CONTEXT_V1,e.DEFAULT_CONTEXT_V11],this["@type"]=e.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};e.Thing=t;var r=class{constructor(s,l){this.href=s,l!=null&&(this.contentType=l)}};e.Form=r;var n=class{};e.BaseSchema=n;var i=class extends n{};e.ThingProperty=i;var o=class{};e.ThingAction=o;var a=class{};e.ThingEvent=a}}),A7=Pe({"../../node_modules/ms/index.js"(e,t){Te();var r=1e3,n=r*60,i=n*60,o=i*24,a=o*7,s=o*365.25;t.exports=function(h,g){g=g||{};var m=typeof h;if(m==="string"&&h.length>0)return l(h);if(m==="number"&&isFinite(h))return g.long?f(h):u(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function l(h){if(h=String(h),!(h.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(g){var m=parseFloat(g[1]),_=(g[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return m*s;case"weeks":case"week":case"w":return m*a;case"days":case"day":case"d":return m*o;case"hours":case"hour":case"hrs":case"hr":case"h":return m*i;case"minutes":case"minute":case"mins":case"min":case"m":return m*n;case"seconds":case"second":case"secs":case"sec":case"s":return m*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function u(h){var g=Math.abs(h);return g>=o?Math.round(h/o)+"d":g>=i?Math.round(h/i)+"h":g>=n?Math.round(h/n)+"m":g>=r?Math.round(h/r)+"s":h+"ms"}function f(h){var g=Math.abs(h);return g>=o?c(h,g,o,"day"):g>=i?c(h,g,i,"hour"):g>=n?c(h,g,n,"minute"):g>=r?c(h,g,r,"second"):h+" ms"}function c(h,g,m,_){var v=g>=m*1.5;return Math.round(h/m)+" "+_+(v?"s":"")}}}),x7=Pe({"../../node_modules/debug/src/common.js"(e,t){Te();function r(n){o.debug=o,o.default=o,o.coerce=c,o.disable=l,o.enable=s,o.enabled=u,o.humanize=A7(),o.destroy=h,Object.keys(n).forEach(g=>{o[g]=n[g]}),o.names=[],o.skips=[],o.formatters={};function i(g){let m=0;for(let _=0;_<g.length;_++)m=(m<<5)-m+g.charCodeAt(_),m|=0;return o.colors[Math.abs(m)%o.colors.length]}o.selectColor=i;function o(g){let m,_=null,v,p;function S(...y){if(!S.enabled)return;const E=S,$=Number(new Date),T=$-(m||$);E.diff=T,E.prev=m,E.curr=$,m=$,y[0]=o.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let d=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(x,O)=>{if(x==="%%")return"%";d++;const C=o.formatters[O];if(typeof C=="function"){const F=y[d];x=C.call(E,F),y.splice(d,1),d--}return x}),o.formatArgs.call(E,y),(E.log||o.log).apply(E,y)}return S.namespace=g,S.useColors=o.useColors(),S.color=o.selectColor(g),S.extend=a,S.destroy=o.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==o.namespaces&&(v=o.namespaces,p=o.enabled(g)),p),set:y=>{_=y}}),typeof o.init=="function"&&o.init(S),S}function a(g,m){const _=o(this.namespace+(typeof m>"u"?":":m)+g);return _.log=this.log,_}function s(g){o.save(g),o.namespaces=g,o.names=[],o.skips=[];let m;const _=(typeof g=="string"?g:"").split(/[\s,]+/),v=_.length;for(m=0;m<v;m++)_[m]&&(g=_[m].replace(/\*/g,".*?"),g[0]==="-"?o.skips.push(new RegExp("^"+g.slice(1)+"$")):o.names.push(new RegExp("^"+g+"$")))}function l(){const g=[...o.names.map(f),...o.skips.map(f).map(m=>"-"+m)].join(",");return o.enable(""),g}function u(g){if(g[g.length-1]==="*")return!0;let m,_;for(m=0,_=o.skips.length;m<_;m++)if(o.skips[m].test(g))return!1;for(m=0,_=o.names.length;m<_;m++)if(o.names[m].test(g))return!0;return!1}function f(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function c(g){return g instanceof Error?g.stack||g.message:g}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),AU=Pe({"../../node_modules/debug/src/browser.js"(e,t){Te(),e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(f++,h==="%c"&&(c=f))}),l.splice(c,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=w7.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=x7()(e);var{formatters:s}=t.exports;s.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}}),jo=Pe({"../core/dist/logger.js"(e){Te();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createInfoLogger=o,e.createDebugLogger=a,e.createWarnLogger=s,e.createErrorLogger=l,e.createLoggers=u;var r=t(AU()),n;(function(f){f[f.info=0]="info",f[f.debug=1]="debug",f[f.warn=2]="warn",f[f.error=3]="error"})(n||(n={}));function i(f,c){const h=["node-wot",...f,n[c]].join(":");return(0,r.default)(h)}function o(...f){return i(f,n.info)}function a(...f){return i(f,n.debug)}function s(...f){return i(f,n.warn)}function l(...f){return i(f,n.error)}function u(...f){return{info:o(...f),debug:a(...f),warn:s(...f),error:l(...f)}}}}),O7=Pe({"../../node_modules/is-absolute-url/index.js"(e,t){Te(),t.exports=r=>{if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return/^[a-zA-Z]:\\/.test(r)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r)}}}),P7=Pe({"../../node_modules/url-toolkit/src/url-toolkit.js"(e,t){Te(),function(r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=s.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=s.normalizePath(c.path),s.buildURLFromParts(c)}var h=s.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=s.normalizePath(h.path),s.buildURLFromParts(h)):u;var g=s.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var m=i.exec(g.path);g.netLoc=m[1],g.path=m[2]}g.netLoc&&!g.path&&(g.path="/");var _={scheme:g.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(_.netLoc=g.netLoc,h.path[0]!=="/"))if(!h.path)_.path=g.path,h.params||(_.params=g.params,h.query||(_.query=g.query));else{var v=g.path,p=v.substring(0,v.lastIndexOf("/")+1)+h.path;_.path=s.normalizePath(p)}return _.path===null&&(_.path=f.alwaysNormalize?s.normalizePath(h.path):h.path),s.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};typeof e=="object"&&typeof t=="object"?t.exports=s:typeof define=="function"&&define.amd?define([],function(){return s}):typeof e=="object"?e.URLToolkit=s:r.URLToolkit=s}(e)}}),iN=Pe({"../core/dist/serdes.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(_,v,p,S){S===void 0&&(S=p);var y=Object.getOwnPropertyDescriptor(v,p);(!y||("get"in y?!v.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(_,S,y)}:function(_,v,p,S){S===void 0&&(S=p),_[S]=v[p]}),r=e&&e.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=e&&e.__importStar||function(){var _=function(v){return _=Object.getOwnPropertyNames||function(p){var S=[];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(S[S.length]=y);return S},_(v)};return function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var S=_(v),y=0;y<S.length;y++)S[y]!=="default"&&t(p,v,S[y]);return r(p,v),p}}();Object.defineProperty(e,"__esModule",{value:!0}),e.setContextLanguage=h,e.parseTD=g,e.serializeTD=m;var i=n(Pg()),o=jo(),a=O7(),s=P7(),{debug:l,warn:u}=(0,o.createLoggers)("core","serdes");function f(_,v){const p=_[v];(typeof p!="object"||p==null)&&(_[v]={})}function c(_,v){const p=_[v];(p===void 0||typeof p!="boolean")&&(_[v]=!1)}function h(_,v,p){if(Array.isArray(_["@context"])){const S=_["@context"];let y=!1;for(const E of S)typeof E=="object"&&E["@language"]!==void 0&&(p&&(E["@language"]=v),y=!0);y||S.push({"@language":v})}}function g(_,v){l(`parseTD() parsing
\`\`\`
${_}
\`\`\``);const p=JSON.parse(_.replace(/^\uFEFF/,""));if(p["@context"]===void 0)p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11];else if(Array.isArray(p["@context"])){let y=p["@context"];const E=y.indexOf(i.DEFAULT_CONTEXT_V1),$=y.indexOf(i.DEFAULT_CONTEXT_V11);E===-1&&$===-1?(y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(E!==-1&&$!==-1?(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(E!==-1&&E!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y.unshift(i.DEFAULT_CONTEXT_V1)),$!==-1&&$!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11))),p["@context"]=y)}else if(p["@context"]!==i.DEFAULT_CONTEXT_V1&&p["@context"]!==i.DEFAULT_CONTEXT_V11){const y=p["@context"];p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11,y]}if(h(p,i.DEFAULT_CONTEXT_LANGUAGE,!1),p["@type"]===void 0)p["@type"]=i.DEFAULT_THING_TYPE;else if(Array.isArray(p["@type"])){const y=p["@type"];y.indexOf(i.DEFAULT_THING_TYPE)===-1&&y.unshift(i.DEFAULT_THING_TYPE)}else if(p["@type"]!==i.DEFAULT_THING_TYPE){const y=p["@type"];p["@type"]=[i.DEFAULT_THING_TYPE,y]}for(const y of Object.values(p.properties??{}))for(const E of["readOnly","writeOnly","observable"])c(y,E);for(const y of Object.values(p.actions??{}))for(const E of["safe","idempotent"])c(y,E);for(const y of["properties","actions","events"])f(p,y);p.security===void 0&&u("parseTD() found no security metadata"),typeof p.security=="string"&&(p.security=[p.security]);const S=[];for(const[y,E]of Object.entries(p.properties??{})){if(E.forms==null)throw new Error(`Property '${y}' has no forms field`);for(const $ of E.forms){if(!$.href)throw new Error(`Form of Property '${y}' has no href field`);if(!a($.href)&&p.base==null)throw new Error(`Form of Property '${y}' has relative URI while TD has no base field`);S.push($)}}for(const[y,E]of Object.entries(p.actions??{})){if(E.forms==null)throw new Error(`Action '${y}' has no forms field`);for(const $ of E.forms){if(!$.href)throw new Error(`Form of Action '${y}' has no href field`);if(!a($.href)&&p.base==null)throw new Error(`Form of Action '${y}' has relative URI while TD has no base field`);S.push($)}}for(const[y,E]of Object.entries(p.events??{})){if(E.forms==null)throw new Error(`Event '${y}' has no forms field`);for(const $ of E.forms){if(!$.href)throw new Error(`Form of Event '${y}' has no href field`);if(!a($.href)&&p.base==null)throw new Error(`Form of Event '${y}' has relative URI while TD has no base field`);S.push($)}}if(Object.prototype.hasOwnProperty.call(p,"base")&&(v===void 0||v===!0)){l("parseTD() normalizing 'base' into 'forms'");for(const y of S)y.href.match(/^([a-z0-9+-.]+:).+/i)||(l(`parseTDString() applying base '${p.base}' to '${y.href}'`),y.href=s.buildAbsoluteURL(p.base,y.href))}return p}function m(_){var S;const v=JSON.parse(JSON.stringify(_));if((v.security==null||v.security.length===0)&&(v.securityDefinitions={nosec_sc:{scheme:"nosec"}},v.security=["nosec_sc"]),((S=v.forms)==null?void 0:S.length)===0&&delete v.forms,v.properties!=null&&Object.keys(v.properties).length===0)delete v.properties;else if(v.properties!=null)for(const y of Object.values(v.properties))for(const E of["readOnly","writeOnly","observable"])c(y,E);if(v.actions!=null&&Object.keys(v.actions).length===0)delete v.actions;else if(v.actions!=null)for(const y of Object.values(v.actions))for(const E of["safe","idempotent"])c(y,E);return v.events!=null&&Object.keys(v.events).length===0&&delete v.events,(v==null?void 0:v.links.length)===0&&delete v.links,JSON.stringify(v)}}});function xU(){return Kc.now()/1e3}var Kc,Sf,R7=nn({"../../node_modules/@jspm/core/nodelibs/browser/process.js"(){Te(),Kc={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Kc.now===void 0&&(Sf=Date.now(),Kc.timing&&Kc.timing.navigationStart&&(Sf=Kc.timing.navigationStart),Kc.now=()=>Date.now()-Sf)}}),OU={};sl(OU,{EOL:()=>NU,arch:()=>IU,constants:()=>RU,cpus:()=>jU,default:()=>Zt,endianness:()=>CU,freemem:()=>kU,getNetworkInterfaces:()=>DU,homedir:()=>MU,hostname:()=>LU,loadavg:()=>FU,networkInterfaces:()=>BU,platform:()=>UU,release:()=>zU,tmpDir:()=>qU,tmpdir:()=>VU,totalmem:()=>HU,type:()=>WU,uptime:()=>xU,version:()=>PU});function N7(){return ZT||(ZT=!0,Yn.endianness=function(){return"LE"},Yn.hostname=function(){return typeof location<"u"?location.hostname:""},Yn.loadavg=function(){return[]},Yn.uptime=function(){return 0},Yn.freemem=function(){return Number.MAX_VALUE},Yn.totalmem=function(){return Number.MAX_VALUE},Yn.cpus=function(){return[]},Yn.type=function(){return"Browser"},Yn.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Yn.networkInterfaces=Yn.getNetworkInterfaces=function(){return{}},Yn.arch=function(){return"javascript"},Yn.platform=function(){return"browser"},Yn.tmpdir=Yn.tmpDir=function(){return"/tmp"},Yn.EOL=`
`,Yn.homedir=function(){return"/"}),Yn}var Yn,ZT,Zt,nk,PU,RU,NU,IU,jU,CU,kU,DU,MU,LU,FU,BU,UU,zU,qU,VU,HU,WU,I7=nn({"../../node_modules/@jspm/core/nodelibs/browser/os.js"(){Te(),R7(),Yn={},ZT=!1,Zt=N7(),Zt.endianness,Zt.hostname,Zt.loadavg,Zt.uptime,Zt.freemem,Zt.totalmem,Zt.cpus,Zt.type,Zt.release,Zt.networkInterfaces,Zt.getNetworkInterfaces,Zt.arch,Zt.platform,Zt.tmpdir,Zt.tmpDir,Zt.EOL,Zt.homedir,nk=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE",Zt.endianness=function(){return nk},Zt.homedir=function(){return"/home"},Zt.version=function(){return""},Zt.arch=function(){return"x64"},Zt.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)},Zt.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})},Zt.uptime=xU,Zt.constants={},PU=Zt.version,RU=Zt.constants,NU=Zt.EOL,IU=Zt.arch,jU=Zt.cpus,CU=Zt.endianness,kU=Zt.freemem,DU=Zt.getNetworkInterfaces,MU=Zt.homedir,LU=Zt.hostname,FU=Zt.loadavg,BU=Zt.networkInterfaces,UU=Zt.platform,zU=Zt.release,qU=Zt.tmpDir,VU=Zt.tmpdir,HU=Zt.totalmem,WU=Zt.type}}),Cb=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,y)=>`${S}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,y)=>(y instanceof r&&(S[y.str]=(S[y.str]||0)+1),S),{})}};e._Code=n,e.nil=new n("");function i(p,...S){const y=[p[0]];let E=0;for(;E<S.length;)s(y,S[E]),y.push(p[++E]);return new n(y)}e._=i;var o=new n("+");function a(p,...S){const y=[g(p[0])];let E=0;for(;E<S.length;)y.push(o),s(y,S[E]),y.push(o,g(p[++E]));return l(y),new n(y)}e.str=a;function s(p,S){S instanceof n?p.push(...S._items):S instanceof r?p.push(S):p.push(c(S))}e.addCodeArg=s;function l(p){let S=1;for(;S<p.length-1;){if(p[S]===o){const y=u(p[S-1],p[S+1]);if(y!==void 0){p.splice(S-1,3,y);continue}p[S++]="+"}S++}}function u(p,S){if(S==='""')return p;if(p==='""')return S;if(typeof p=="string")return S instanceof r||p[p.length-1]!=='"'?void 0:typeof S!="string"?`${p.slice(0,-1)}${S}"`:S[0]==='"'?p.slice(0,-1)+S.slice(1):void 0;if(typeof S=="string"&&S[0]==='"'&&!(p instanceof r))return`"${p}${S.slice(1)}`}function f(p,S){return S.emptyStr()?p:p.emptyStr()?S:a`${p}${S}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),ik=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Cb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,g=(f=u.key)!==null&&f!==void 0?f:u.ref;let m=this._values[h];if(m){const p=m.get(g);if(p)return p}else m=this._values[h]=new Map;m.set(g,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const g in l){const m=l[g];if(!m)continue;const _=f[g]=f[g]||new Map;m.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${S} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=s}}),pr=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Cb(),r=ik(),n=Cb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=ik();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,N){return this}},a=class extends o{constructor(P,N,q){super(),this.varKind=P,this.name=N,this.rhs=q}render({es5:P,_n:N}){const q=P?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${oe};`+N}optimizeNames(P,N){if(P[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,P,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(P,N,q){super(),this.lhs=P,this.rhs=N,this.sideEffects=q}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,N){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,P,N),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends s{constructor(P,N,q,oe){super(P,q,oe),this.op=N}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},h=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,N){return this.code=Q(this.code,P,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},g=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((N,q)=>N+q.render(P),"")}optimizeNodes(){const{nodes:P}=this;let N=P.length;for(;N--;){const q=P[N].optimizeNodes();Array.isArray(q)?P.splice(N,1,...q):q?P[N]=q:P.splice(N,1)}return P.length>0?this:void 0}optimizeNames(P,N){const{nodes:q}=this;let oe=q.length;for(;oe--;){const J=q[oe];J.optimizeNames(P,N)||(H(P,J.names),q.splice(oe,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((P,N)=>F(P,N.names),{})}},m=class extends g{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends g{},v=class extends m{};v.kind="else";var p=class Dy extends m{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return N===!1?q instanceof Dy?q:q.nodes:this.nodes.length?this:new Dy(X(N),q instanceof Dy?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=Q(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}};p.kind="if";var S=class extends m{};S.kind="for";var y=class extends S{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iteration=Q(this.iteration,P,N),this}get names(){return F(super.names,this.iteration.names)}},E=class extends S{constructor(P,N,q,oe){super(),this.varKind=P,this.name=N,this.from=q,this.to=oe}render(P){const N=P.es5?r.varKinds.var:this.varKind,{name:q,from:oe,to:J}=this;return`for(${N} ${q}=${oe}; ${q}<${J}; ${q}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends S{constructor(P,N,q,oe){super(),this.loop=P,this.varKind=N,this.name=q,this.iterable=oe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iterable=Q(this.iterable,P,N),this}get names(){return F(super.names,this.iterable.names)}},T=class extends m{constructor(P,N,q){super(),this.name=P,this.args=N,this.async=q}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends g{render(P){return"return "+super.render(P)}};d.kind="return";var A=class extends m{render(P){let N="try"+super.render(P);return this.catch&&(N+=this.catch.render(P)),this.finally&&(N+=this.finally.render(P)),N}optimizeNodes(){var P,N;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(P,N){var q,oe;return super.optimizeNames(P,N),(q=this.catch)===null||q===void 0||q.optimizeNames(P,N),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(P,N),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},x=class extends m{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};x.kind="catch";var O=class extends m{render(P){return"finally"+super.render(P)}};O.kind="finally";var C=class{constructor(P,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,N){const q=this._extScope.value(P,N);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(P,N){return this._extScope.getValue(P,N)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,N,q,oe){const J=this._scope.toName(N);return q!==void 0&&oe&&(this._constants[J.str]=q),this._leafNode(new a(P,J,q)),J}const(P,N,q){return this._def(r.varKinds.const,P,N,q)}let(P,N,q){return this._def(r.varKinds.let,P,N,q)}var(P,N,q){return this._def(r.varKinds.var,P,N,q)}assign(P,N,q){return this._leafNode(new s(P,N,q))}add(P,N){return this._leafNode(new l(P,e.operators.ADD,N))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const N=["{"];for(const[q,oe]of P)N.length>1&&N.push(","),N.push(q),(q!==oe||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,oe));return N.push("}"),new t._Code(N)}if(P,N,q){if(this._blockNode(new p(P)),N&&q)this.code(N).else().code(q).endIf();else if(N)this.code(N).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new p(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(P,N){return this._blockNode(P),N&&this.code(N).endFor(),this}for(P,N){return this._for(new y(P),N)}forRange(P,N,q,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new E(J,Y,N,q),()=>oe(Y))}forOf(P,N,q,oe=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${Y}.length`,se=>{this.var(J,(0,t._)`${Y}[${se}]`),q(J)})}return this._for(new $("of",oe,J,N),()=>q(J))}forIn(P,N,q,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${N})`,q);const J=this._scope.toName(P);return this._for(new $("in",oe,J,N),()=>q(J))}endFor(){return this._endBlockNode(S)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const N=new d;if(this._blockNode(N),this.code(P),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,N,q){if(!N&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new A;if(this._blockNode(oe),this.code(P),N){const J=this.name("e");this._currNode=oe.catch=new x(J),N(J)}return q&&(this._currNode=oe.finally=new O,this.code(q)),this._endBlockNode(x,O)}throw(P){return this._leafNode(new c(P))}block(P,N){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(N),this}endBlock(P){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-N;if(q<0||P!==void 0&&q!==P)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${P} expected`);return this._nodes.length=N,this}func(P,N=t.nil,q,oe){return this._blockNode(new T(P,N,q)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,N){const q=this._currNode;if(q instanceof P||N&&q instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${P.kind}/${N.kind}`:P.kind}"`)}_elseNode(P){const N=this._currNode;if(!(N instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const N=this._nodes;N[N.length-1]=P}};e.CodeGen=C;function F(P,N){for(const q in N)P[q]=(P[q]||0)+(N[q]||0);return P}function V(P,N){return N instanceof t._CodeOrName?F(P,N.names):P}function Q(P,N,q){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function oe(Y){const se=q[Y.str];return se===void 0||N[Y.str]!==1?Y:(delete N[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&N[se.str]===1&&q[se.str]!==void 0)}}function H(P,N){for(const q in N)P[q]=(P[q]||0)-(N[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${G(P)}`}e.not=X;var ce=B(e.operators.AND);function Z(...P){return P.reduce(ce)}e.and=Z;var ie=B(e.operators.OR);function k(...P){return P.reduce(ie)}e.or=k;function B(P){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${G(N)} ${P} ${G(q)}`}function G(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),Br=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=pr(),r=Cb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const O=x.RULES.keywords;for(const C in d)O[C]||$(T,`unknown keyword: "${C}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,x,O){if(!O){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function g(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=g;function m({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(O,C,F,V)=>{const Q=F===void 0?C:F instanceof t.Name?(C instanceof t.Name?T(O,C,F):d(O,C,F),F):C instanceof t.Name?(d(O,F,C),C):A(C,F);return V===t.Name&&!(Q instanceof t.Name)?x(O,Q):Q}}e.mergeEvaluated={props:m({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:m({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var p={};function S(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=S;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y||(e.Type=y={}));function E(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=E;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),dc=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),Z_=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=pr(),r=Br(),n=dc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,S,y){const{it:E}=v,{gen:$,compositeRule:T,allErrors:d}=E,A=c(v,p,S);y??(T||d)?l($,A):u(E,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,S){const{it:y}=v,{gen:E,compositeRule:$,allErrors:T}=y,d=c(v,p,S);l(E,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:S,data:y,errsCount:E,it:$}){if(E===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",E,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,S),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const S=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${S}]`),(0,t._)`${n.default.vErrors}.push(${S})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:S,validateName:y,schemaEnv:E}=v;E.$async?S.throw((0,t._)`new ${v.ValidationError}(${p})`):(S.assign((0,t._)`${y}.errors`,p),S.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,S){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,S)}function h(v,p,S={}){const{gen:y,it:E}=v,$=[g(E,S),m(v,S)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const S=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,S)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:S,parentSchema:y}){let E=y?p:(0,t.str)`${p}/${v}`;return S&&(E=(0,t.str)`${E}${(0,r.getErrorPath)(S,r.Type.Str)}`),[f.schemaPath,E]}function _(v,{params:p,message:S},y){const{keyword:E,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,E],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof S=="function"?S(v):S]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),j7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=Z_(),r=pr(),n=dc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),GU=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),KU=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),kb=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=GU(),r=KU(),n=Z_(),i=pr(),o=Br(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a||(e.DataType=a={}));function s(y){const E=l(y.type);if(E.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&E.push("null")}return E}e.getSchemaTypes=s;function l(y){const E=Array.isArray(y)?y:y?[y]:[];if(E.every(t.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}e.getJSONTypes=l;function u(y,E){const{gen:$,data:T,opts:d}=y,A=c(E,d.coerceTypes),x=E.length>0&&!(A.length===0&&E.length===1&&(0,r.schemaHasRulesForType)(y,E[0]));if(x){const O=_(E,T,d.strictNumbers,a.Wrong);$.if(O,()=>{A.length?h(y,E,A):p(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,E){return E?y.filter($=>f.has($)||E==="array"&&$==="array"):[]}function h(y,E,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(E,d,A.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&C(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),g(y,O)});function C(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function g({gen:y,parentData:E,parentDataProperty:$},T){y.if((0,i._)`${E} !== undefined`,()=>y.assign((0,i._)`${E}[${$}]`,T))}function m(y,E,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${E} ${d} null`;case"array":A=(0,i._)`Array.isArray(${E})`;break;case"object":A=(0,i._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":A=x((0,i._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${E} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function x(O=i.nil){return(0,i.and)((0,i._)`typeof ${E} == "number"`,O,$?(0,i._)`isFinite(${E})`:i.nil)}}e.checkDataType=m;function _(y,E,$,T){if(y.length===1)return m(y[0],E,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${E} != "object"`;d=A.null?x:(0,i._)`!${E} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,m(x,E,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:E})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${E}}`};function p(y){const E=S(y);(0,n.reportError)(E,v)}e.reportTypeError=p;function S(y){const{gen:E,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:E,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),C7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=pr(),r=Br();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let g=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(g=(0,t._)`${g} || ${h} === null || ${h} === ""`),l.if(g,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}}}),ws=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=pr(),r=Br(),n=dc(),i=Br();function o(y,E){const{gen:$,data:T,it:d}=y;$.if(c($,T,E,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${E}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:E,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,E,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,E){y.setParams({missingProperty:E},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,E,$){return(0,t._)`${l(y)}.call(${E}, ${$})`}e.isOwnProperty=u;function f(y,E,$,T){const d=(0,t._)`${E}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,E,$)}`:d}e.propertyInData=f;function c(y,E,$,T){const d=(0,t._)`${E}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,E,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(E=>E!=="__proto__"):[]}e.allSchemaProperties=h;function g(y,E){return h(E).filter($=>!(0,r.alwaysValidSchema)(y,E[$]))}e.schemaProperties=g;function m({schemaCode:y,data:E,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},O,C,F){const V=F?(0,t._)`${y}, ${E}, ${T}${d}`:E,Q=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&Q.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...Q)}`;return C!==t.nil?(0,t._)`${O}.call(${C}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=m;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:E}},$){const T=E.unicodeRegExp?"u":"",{regExp:d}=E.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:E,data:$,keyword:T,it:d}=y,A=E.name("valid");if(d.allErrors){const O=E.let("valid",!0);return x(()=>E.assign(O,!1)),O}return E.var(A,!0),x(()=>E.break()),A;function x(O){const C=E.const("len",(0,t._)`${$}.length`);E.forRange("i",0,C,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),E.if((0,t.not)(A),O)})}}e.validateArray=p;function S(y){const{gen:E,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(C=>(0,r.alwaysValidSchema)(d,C))&&!d.opts.unevaluated)return;const x=E.let("valid",!1),O=E.name("_valid");E.block(()=>$.forEach((C,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);E.assign(x,(0,t._)`${x} || ${O}`),y.mergeValidEvaluated(V,O)||E.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=S}}),k7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=pr(),r=dc(),n=ws(),i=Z_();function o(g,m){const{gen:_,keyword:v,schema:p,parentSchema:S,it:y}=g,E=m.macro.call(y.self,p,S,y),$=f(_,v,E);y.opts.validateSchema!==!1&&y.self.validateSchema(E,!0);const T=_.name("valid");g.subschema({schema:E,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),g.pass(T,()=>g.error(!0))}e.macroKeywordCode=o;function a(g,m){var _;const{gen:v,keyword:p,schema:S,parentSchema:y,$data:E,it:$}=g;u($,m);const T=!E&&m.compile?m.compile.call($.self,S,y,$):m.validate,d=f(v,p,T),A=v.let("valid");g.block$data(A,x),g.ok((_=m.valid)!==null&&_!==void 0?_:A);function x(){if(m.errors===!1)F(),m.modifying&&s(g),V(()=>g.error());else{const Q=m.async?O():C();m.modifying&&s(g),V(()=>l(g,Q))}}function O(){const Q=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(Q,(0,t._)`${H}.errors`),()=>v.throw(H))),Q}function C(){const Q=(0,t._)`${d}.errors`;return v.assign(Q,null),F(t.nil),Q}function F(Q=m.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,X=!("compile"in m&&!E||m.schema===!1);v.assign(A,(0,t._)`${Q}${(0,n.callValidateCode)(g,d,H,X)}`,m.modifying)}function V(Q){var H;v.if((0,t.not)((H=m.valid)!==null&&H!==void 0?H:A),Q)}}e.funcKeywordCode=a;function s(g){const{gen:m,data:_,it:v}=g;m.if(v.parentData,()=>m.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(g,m){const{gen:_}=g;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${m} : ${r.default.vErrors}.concat(${m})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},m){if(m.async&&!g.$async)throw new Error("async keyword in sync schema")}function f(g,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return g.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(g,m,_=!1){return!m.length||m.some(v=>v==="array"?Array.isArray(g):v==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==v||_&&typeof g>"u")}e.validSchemaType=c;function h({schema:g,opts:m,self:_,errSchemaPath:v},p,S){if(Array.isArray(p.keyword)?!p.keyword.includes(S):p.keyword!==S)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(E=>!Object.prototype.hasOwnProperty.call(g,E)))throw new Error(`parent schema must have dependencies of ${S}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(g[S])){const $=`keyword "${S}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(m.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),D7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=pr(),r=Br();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const g=a.schema[s];return l===void 0?{schema:g,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:g[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=s,S=g.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);m(S),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:g.let("data",f,!0);m(_),h!==void 0&&(a.propertyName=h)}c&&(a.dataTypes=c);function m(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),qh=Pe({"../../node_modules/fast-deep-equal/index.js"(e,t){Te(),t.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,a,s;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(a=o;a--!==0;)if(!r(n[a],i[a]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(s=Object.keys(n),o=s.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,s[a]))return!1;for(a=o;a--!==0;){var l=s[a];if(!r(n[l],i[l]))return!1}return!0}return n!==n&&i!==i}}}),M7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,h,g,m){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,h,g,m);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,a,s,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var S in v)n(o,a,s,v[S],u+"/"+_+"/"+i(S),f,u,_,l,S)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,h,g,m)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),eE=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Br(),r=qh(),n=M7(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!s(v):p?l(v)<=p:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const p in v){if(a.has(p))return!0;const S=v[p];if(Array.isArray(S)&&S.some(s)||typeof S=="object"&&s(S))return!0}return!1}function l(v){let p=0;for(const S in v){if(S==="$ref")return 1/0;if(p++,!i.has(S)&&(typeof v[S]=="object"&&(0,t.eachItem)(v[S],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",S){S!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function g(v,p,S){return S=h(S),v.resolve(p,S)}e.resolveUrl=g;var m=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:S,uriResolver:y}=this.opts,E=h(v[S]||p),$={"":E},T=u(y,E,!1),d={},A=new Set;return n(v,{allKeys:!0},(C,F,V,Q)=>{if(Q===void 0)return;const H=T+F;let X=$[Q];typeof C[S]=="string"&&(X=ce.call(this,C[S])),Z.call(this,C.$anchor),Z.call(this,C.$dynamicAnchor),$[F]=X;function ce(ie){const k=this.opts.uriResolver.resolve;if(ie=h(X?k(X,ie):ie),A.has(ie))throw O(ie);A.add(ie);let B=this.refs[ie];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(C,B.schema,ie):ie!==h(H)&&(ie[0]==="#"?(x(C,d[ie],ie),d[ie]=C):this.refs[ie]=H),ie}function Z(ie){if(typeof ie=="string"){if(!m.test(ie))throw new Error(`invalid anchor "${ie}"`);ce.call(this,`#${ie}`)}}}),d;function x(C,F,V){if(F!==void 0&&!r(C,F))throw O(V)}function O(C){return new Error(`reference "${C}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),tE=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=j7(),r=kb(),n=KU(),i=kb(),o=C7(),a=k7(),s=D7(),l=pr(),u=dc(),f=eE(),c=Br(),h=Z_();function g(R){if(T(R)&&(A(R),$(R))){p(R);return}m(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=g;function m({gen:R,validateName:D,schema:M,schemaEnv:K,opts:ae},fe){ae.code.es5?R.func(D,(0,l._)`${u.default.data}, ${u.default.valCxt}`,K.$async,()=>{R.code((0,l._)`"use strict"; ${y(M,ae)}`),v(R,ae),R.code(fe)}):R.func(D,(0,l._)`${u.default.data}, ${_(ae)}`,K.$async,()=>R.code(y(M,ae)).code(fe))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,D){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),D.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),D.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(R){const{schema:D,opts:M,gen:K}=R;m(R,()=>{M.$comment&&D.$comment&&Q(R),C(R),K.let(u.default.vErrors,null),K.let(u.default.errors,0),M.unevaluated&&S(R),x(R),H(R)})}function S(R){const{gen:D,validateName:M}=R;R.evaluated=D.const("evaluated",(0,l._)`${M}.evaluated`),D.if((0,l._)`${R.evaluated}.dynamicProps`,()=>D.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),D.if((0,l._)`${R.evaluated}.dynamicItems`,()=>D.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,D){const M=typeof R=="object"&&R[D.schemaId];return M&&(D.code.source||D.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function E(R,D){if(T(R)&&(A(R),$(R))){d(R,D);return}(0,t.boolOrEmptySchema)(R,D)}function $({schema:R,self:D}){if(typeof R=="boolean")return!R;for(const M in R)if(D.RULES.all[M])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,D){const{schema:M,gen:K,opts:ae}=R;ae.$comment&&M.$comment&&Q(R),F(R),V(R);const fe=K.const("_errs",u.default.errors);x(R,fe),K.var(D,(0,l._)`${fe} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),O(R)}function x(R,D){if(R.opts.jtd)return ce(R,[],!1,D);const M=(0,r.getSchemaTypes)(R.schema),K=(0,r.coerceAndCheckDataType)(R,M);ce(R,M,!K,D)}function O(R){const{schema:D,errSchemaPath:M,opts:K,self:ae}=R;D.$ref&&K.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(D,ae.RULES)&&ae.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function C(R){const{schema:D,opts:M}=R;D.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const D=R.schema[R.opts.schemaId];D&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,D))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function Q({gen:R,schemaEnv:D,schema:M,errSchemaPath:K,opts:ae}){const fe=M.$comment;if(ae.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${fe})`);else if(typeof ae.$comment=="function"){const de=(0,l.str)`${K}/$comment`,pe=R.scopeValue("root",{ref:D.root});R.code((0,l._)`${u.default.self}.opts.$comment(${fe}, ${de}, ${pe}.schema)`)}}function H(R){const{gen:D,schemaEnv:M,validateName:K,ValidationError:ae,opts:fe}=R;M.$async?D.if((0,l._)`${u.default.errors} === 0`,()=>D.return(u.default.data),()=>D.throw((0,l._)`new ${ae}(${u.default.vErrors})`)):(D.assign((0,l._)`${K}.errors`,u.default.vErrors),fe.unevaluated&&X(R),D.return((0,l._)`${u.default.errors} === 0`))}function X({gen:R,evaluated:D,props:M,items:K}){M instanceof l.Name&&R.assign((0,l._)`${D}.props`,M),K instanceof l.Name&&R.assign((0,l._)`${D}.items`,K)}function ce(R,D,M,K){const{gen:ae,schema:fe,data:de,allErrors:pe,opts:xe,self:Le}=R,{RULES:ke}=Le;if(fe.$ref&&(xe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(fe,ke))){ae.block(()=>Y(R,"$ref",ke.all.$ref.definition));return}xe.jtd||ie(R,D),ae.block(()=>{for(const qe of ke.rules)nt(qe);nt(ke.post)});function nt(qe){(0,n.shouldUseGroup)(fe,qe)&&(qe.type?(ae.if((0,i.checkDataType)(qe.type,de,xe.strictNumbers)),Z(R,qe),D.length===1&&D[0]===qe.type&&M&&(ae.else(),(0,i.reportTypeError)(R)),ae.endIf()):Z(R,qe),pe||ae.if((0,l._)`${u.default.errors} === ${K||0}`))}}function Z(R,D){const{gen:M,schema:K,opts:{useDefaults:ae}}=R;ae&&(0,o.assignDefaults)(R,D.type),M.block(()=>{for(const fe of D.rules)(0,n.shouldUseRule)(K,fe)&&Y(R,fe.keyword,fe.definition,D.type)})}function ie(R,D){R.schemaEnv.meta||!R.opts.strictTypes||(k(R,D),R.opts.allowUnionTypes||B(R,D),G(R,R.dataTypes))}function k(R,D){if(D.length){if(!R.dataTypes.length){R.dataTypes=D;return}D.forEach(M=>{N(R.dataTypes,M)||oe(R,`type "${M}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,D)}}function B(R,D){D.length>1&&!(D.length===2&&D.includes("null"))&&oe(R,"use allowUnionTypes to allow union type keyword")}function G(R,D){const M=R.self.RULES.all;for(const K in M){const ae=M[K];if(typeof ae=="object"&&(0,n.shouldUseRule)(R.schema,ae)){const{type:fe}=ae.definition;fe.length&&!fe.some(de=>P(D,de))&&oe(R,`missing type "${fe.join(",")}" for keyword "${K}"`)}}}function P(R,D){return R.includes(D)||D==="number"&&R.includes("integer")}function N(R,D){return R.includes(D)||D==="integer"&&R.includes("number")}function q(R,D){const M=[];for(const K of R.dataTypes)N(D,K)?M.push(K):D.includes("integer")&&K==="number"&&M.push("integer");R.dataTypes=M}function oe(R,D){const M=R.schemaEnv.baseId+R.errSchemaPath;D+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(R,D,R.opts.strictTypes)}var J=class{constructor(R,D,M){if((0,a.validateKeywordUsage)(R,D,M),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=M,this.data=R.data,this.schema=R.schema[M],this.$data=D.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,M,this.$data),this.schemaType=D.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=D,this.$data)this.schemaCode=R.gen.const("vSchema",Ne(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,D,M){this.failResult((0,l.not)(R),D,M)}failResult(R,D,M){this.gen.if(R),M?M():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,D){this.failResult((0,l.not)(R),void 0,D)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:D}=this;this.fail((0,l._)`${D} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,D,M){if(D){this.setParams(D),this._error(R,M),this.setParams({});return}this._error(R,M)}_error(R,D){(R?h.reportExtraError:h.reportError)(this,this.def.error,D)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,D){D?Object.assign(this.params,R):this.params=R}block$data(R,D,M=l.nil){this.gen.block(()=>{this.check$data(R,M),D()})}check$data(R=l.nil,D=l.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:ae,def:fe}=this;M.if((0,l.or)((0,l._)`${K} === undefined`,D)),R!==l.nil&&M.assign(R,!0),(ae.length||fe.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&M.assign(R,!1)),M.else()}invalid$data(){const{gen:R,schemaCode:D,schemaType:M,def:K,it:ae}=this;return(0,l.or)(fe(),de());function fe(){if(M.length){if(!(D instanceof l.Name))throw new Error("ajv implementation error");const pe=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(pe,D,ae.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(K.validateSchema){const pe=R.scopeValue("validate$data",{ref:K.validateSchema});return(0,l._)`!${pe}(${D})`}return l.nil}}subschema(R,D){const M=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(M,this.it,R),(0,s.extendSubschemaMode)(M,R);const K={...this.it,...M,items:void 0,props:void 0};return E(K,D),K}mergeEvaluated(R,D){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&R.props!==void 0&&(M.props=c.mergeEvaluated.props(K,R.props,M.props,D)),M.items!==!0&&R.items!==void 0&&(M.items=c.mergeEvaluated.items(K,R.items,M.items,D)))}mergeValidEvaluated(R,D){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(D,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,D,M,K){const ae=new J(R,M,D);"code"in M?M.code(ae,K):ae.$data&&M.validate?(0,a.funcKeywordCode)(ae,M):"macro"in M?(0,a.macroKeywordCode)(ae,M):(M.compile||M.validate)&&(0,a.funcKeywordCode)(ae,M)}var se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ne(R,{dataLevel:D,dataNames:M,dataPathArr:K}){let ae,fe;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!se.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);ae=R,fe=u.default.rootData}else{const Le=be.exec(R);if(!Le)throw new Error(`Invalid JSON-pointer: ${R}`);const ke=+Le[1];if(ae=Le[2],ae==="#"){if(ke>=D)throw new Error(xe("property/index",ke));return K[D-ke]}if(ke>D)throw new Error(xe("data",ke));if(fe=M[D-ke],!ae)return fe}let de=fe;const pe=ae.split("/");for(const Le of pe)Le&&(fe=(0,l._)`${fe}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,de=(0,l._)`${de} && ${fe}`);return de;function xe(Le,ke){return`Cannot access ${Le} ${ke} levels up, current level is ${D}`}}e.getData=Ne}}),oN=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),rE=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=eE(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),aN=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=pr(),r=oN(),n=dc(),i=eE(),o=Br(),a=tE(),s=class{constructor(p){var S;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(S=p.baseId)!==null&&S!==void 0?S:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(p){const S=c.call(this,p);if(S)return S;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:E,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:E,lines:$,ownProperties:T});let A;p.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");p.validateName=x;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:x,ValidationError:A,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(p),(0,a.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();C=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(C=this.opts.code.process(C,p));const Q=new Function(`${n.default.self}`,`${n.default.scope}`,C)(this,this.scope.get());if(this.scope.value(x,{ref:Q}),Q.errors=null,Q.schema=p.schema,Q.schemaEnv=p,p.$async&&(Q.$async=!0),this.opts.code.source===!0&&(Q.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:X}=O;Q.evaluated={props:H instanceof t.Name?void 0:H,items:X instanceof t.Name?void 0:X,dynamicProps:H instanceof t.Name,dynamicItems:X instanceof t.Name},Q.source&&(Q.source.evaluated=(0,t.stringify)(Q.evaluated))}return p.validate=Q,p}catch(F){throw delete p.validate,delete p.validateName,C&&this.logger.error("Error compiling schema, function code:",C),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,S,y){var E;y=(0,i.resolveUrl)(this.opts.uriResolver,S,y);const $=p.refs[y];if($)return $;let T=g.call(this,p,y);if(T===void 0){const d=(E=p.localRefs)===null||E===void 0?void 0:E[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:p,baseId:S}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const S of this._compilations)if(h(S,p))return S}e.getCompilingSchema=c;function h(p,S){return p.schema===S.schema&&p.root===S.root&&p.baseId===S.baseId}function g(p,S){let y;for(;typeof(y=this.refs[S])=="string";)S=y;return y||this.schemas[S]||m.call(this,p,S)}function m(p,S){const y=this.opts.uriResolver.parse(S),E=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&E===$)return v.call(this,y,p);const T=(0,i.normalizeId)(E),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=m.call(this,p,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(S)){const{schema:A}=d,{schemaId:x}=this.opts,O=A[x];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new s({schema:A,schemaId:x,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=m;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:S,schema:y,root:E}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&O&&(S=(0,i.resolveUrl)(this.opts.uriResolver,S,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,S,y.$ref);T=m.call(this,E,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:E,baseId:S}),T.schema!==T.root.schema)return T}}}),L7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),F7=Pe({"../../node_modules/fast-uri/lib/scopedChars.js"(e,t){Te();var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:r}}}),B7=Pe({"../../node_modules/fast-uri/lib/utils.js"(e,t){Te();var{HEX:r}=F7(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(p){if(u(p,".")<3)return{host:p,isIPV4:!1};const S=p.match(n)||[],[y]=S;return y?{host:l(y,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function o(p,S=!1){let y="",E=!0;for(const $ of p){if(r[$]===void 0)return;$!=="0"&&E===!0&&(E=!1),E||(y+=$)}return S&&y.length===0&&(y="0"),y}function a(p){let S=0;const y={error:!1,address:"",zone:""},E=[],$=[];let T=!1,d=!1,A=!1;function x(){if($.length){if(T===!1){const O=o($);if(O!==void 0)E.push(O);else return y.error=!0,!1}$.length=0}return!0}for(let O=0;O<p.length;O++){const C=p[O];if(!(C==="["||C==="]"))if(C===":"){if(d===!0&&(A=!0),!x())break;if(S++,E.push(":"),S>7){y.error=!0;break}O-1>=0&&p[O-1]===":"&&(d=!0);continue}else if(C==="%"){if(!x())break;T=!0}else{$.push(C);continue}}return $.length&&(T?y.zone=$.join(""):A?E.push($.join("")):E.push(o($))),y.address=E.join(""),y}function s(p){if(u(p,":")<2)return{host:p,isIPV6:!1};const S=a(p);if(S.error)return{host:p,isIPV6:!1};{let y=S.address,E=S.address;return S.zone&&(y+="%"+S.zone,E+="%25"+S.zone),{host:y,escapedHost:E,isIPV6:!0}}}function l(p,S){let y="",E=!0;const $=p.length;for(let T=0;T<$;T++){const d=p[T];d==="0"&&E?(T+1<=$&&p[T+1]===S||T+1===$)&&(y+=d,E=!1):(d===S?E=!0:E=!1,y+=d)}return y}function u(p,S){let y=0;for(let E=0;E<p.length;E++)p[E]===S&&y++;return y}var f=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,h=/^\/\.\.(?:\/|$)/u,g=/^\/?(?:.|\n)*?(?=\/|$)/u;function m(p){const S=[];for(;p.length;)if(p.match(f))p=p.replace(f,"");else if(p.match(c))p=p.replace(c,"/");else if(p.match(h))p=p.replace(h,"/"),S.pop();else if(p==="."||p==="..")p="";else{const y=p.match(g);if(y){const E=y[0];p=p.slice(E.length),S.push(E)}else throw new Error("Unexpected dot segment condition")}return S.join("")}function _(p,S){const y=S!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=y(p.scheme)),p.userinfo!==void 0&&(p.userinfo=y(p.userinfo)),p.host!==void 0&&(p.host=y(p.host)),p.path!==void 0&&(p.path=y(p.path)),p.query!==void 0&&(p.query=y(p.query)),p.fragment!==void 0&&(p.fragment=y(p.fragment)),p}function v(p){const S=[];if(p.userinfo!==void 0&&(S.push(p.userinfo),S.push("@")),p.host!==void 0){let y=unescape(p.host);const E=i(y);if(E.isIPV4)y=E.host;else{const $=s(E.host);$.isIPV6===!0?y=`[${$.escapedHost}]`:y=p.host}S.push(y)}return(typeof p.port=="number"||typeof p.port=="string")&&(S.push(":"),S.push(String(p.port))),S.length?S.join(""):void 0}t.exports={recomposeAuthority:v,normalizeComponentEncoding:_,removeDotSegments:m,normalizeIPv4:i,normalizeIPv6:s,stringArrayToHexStripped:o}}}),U7=Pe({"../../node_modules/fast-uri/lib/schemes.js"(e,t){Te();var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(E){return typeof E.secure=="boolean"?E.secure:String(E.scheme).toLowerCase()==="wss"}function o(E){return E.host||(E.error=E.error||"HTTP URIs must have a host."),E}function a(E){const $=String(E.scheme).toLowerCase()==="https";return(E.port===($?443:80)||E.port==="")&&(E.port=void 0),E.path||(E.path="/"),E}function s(E){return E.secure=i(E),E.resourceName=(E.path||"/")+(E.query?"?"+E.query:""),E.path=void 0,E.query=void 0,E}function l(E){if((E.port===(i(E)?443:80)||E.port==="")&&(E.port=void 0),typeof E.secure=="boolean"&&(E.scheme=E.secure?"wss":"ws",E.secure=void 0),E.resourceName){const[$,T]=E.resourceName.split("?");E.path=$&&$!=="/"?$:void 0,E.query=T,E.resourceName=void 0}return E.fragment=void 0,E}function u(E,$){if(!E.path)return E.error="URN can not be parsed",E;const T=E.path.match(n);if(T){const d=$.scheme||E.scheme||"urn";E.nid=T[1].toLowerCase(),E.nss=T[2];const A=`${d}:${$.nid||E.nid}`,x=y[A];E.path=void 0,x&&(E=x.parse(E,$))}else E.error=E.error||"URN can not be parsed.";return E}function f(E,$){const T=$.scheme||E.scheme||"urn",d=E.nid.toLowerCase(),A=`${T}:${$.nid||d}`,x=y[A];x&&(E=x.serialize(E,$));const O=E,C=E.nss;return O.path=`${d||$.nid}:${C}`,$.skipEscape=!0,O}function c(E,$){const T=E;return T.uuid=T.nss,T.nss=void 0,!$.tolerant&&(!T.uuid||!r.test(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function h(E){const $=E;return $.nss=(E.uuid||"").toLowerCase(),$}var g={scheme:"http",domainHost:!0,parse:o,serialize:a},m={scheme:"https",domainHost:g.domainHost,parse:o,serialize:a},_={scheme:"ws",domainHost:!0,parse:s,serialize:l},v={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},p={scheme:"urn",parse:u,serialize:f,skipNormalize:!0},S={scheme:"urn:uuid",parse:c,serialize:h,skipNormalize:!0},y={http:g,https:m,ws:_,wss:v,urn:p,"urn:uuid":S};t.exports=y}}),z7=Pe({"../../node_modules/fast-uri/index.js"(e,t){Te();var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:a}=B7(),s=U7();function l(S,y){return typeof S=="string"?S=h(v(S,y),y):typeof S=="object"&&(S=v(h(S,y),y)),S}function u(S,y,E){const $=Object.assign({scheme:"null"},E),T=f(v(S,$),v(y,$),$,!0);return h(T,{...$,skipEscape:!0})}function f(S,y,E,$){const T={};return $||(S=v(h(S,E),E),y=v(h(y,E),E)),E=E||{},!E.tolerant&&y.scheme?(T.scheme=y.scheme,T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.path?(y.path.charAt(0)==="/"?T.path=i(y.path):((S.userinfo!==void 0||S.host!==void 0||S.port!==void 0)&&!S.path?T.path="/"+y.path:S.path?T.path=S.path.slice(0,S.path.lastIndexOf("/")+1)+y.path:T.path=y.path,T.path=i(T.path)),T.query=y.query):(T.path=S.path,y.query!==void 0?T.query=y.query:T.query=S.query),T.userinfo=S.userinfo,T.host=S.host,T.port=S.port),T.scheme=S.scheme),T.fragment=y.fragment,T}function c(S,y,E){return typeof S=="string"?(S=unescape(S),S=h(a(v(S,E),!0),{...E,skipEscape:!0})):typeof S=="object"&&(S=h(a(S,!0),{...E,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=h(a(v(y,E),!0),{...E,skipEscape:!0})):typeof y=="object"&&(y=h(a(y,!0),{...E,skipEscape:!0})),S.toLowerCase()===y.toLowerCase()}function h(S,y){const E={host:S.host,scheme:S.scheme,userinfo:S.userinfo,port:S.port,path:S.path,query:S.query,nid:S.nid,nss:S.nss,uuid:S.uuid,fragment:S.fragment,reference:S.reference,resourceName:S.resourceName,secure:S.secure,error:""},$=Object.assign({},y),T=[],d=s[($.scheme||E.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(E,$),E.path!==void 0&&($.skipEscape?E.path=unescape(E.path):(E.path=escape(E.path),E.scheme!==void 0&&(E.path=E.path.split("%3A").join(":")))),$.reference!=="suffix"&&E.scheme&&T.push(E.scheme,":");const A=o(E);if(A!==void 0&&($.reference!=="suffix"&&T.push("//"),T.push(A),E.path&&E.path.charAt(0)!=="/"&&T.push("/")),E.path!==void 0){let x=E.path;!$.absolutePath&&(!d||!d.absolutePath)&&(x=i(x)),A===void 0&&(x=x.replace(/^\/\//u,"/%2F")),T.push(x)}return E.query!==void 0&&T.push("?",E.query),E.fragment!==void 0&&T.push("#",E.fragment),T.join("")}var g=Array.from({length:127},(S,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function m(S){let y=0;for(let E=0,$=S.length;E<$;++E)if(y=S.charCodeAt(E),y>126||g[y])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(S,y){const E=Object.assign({},y),$={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},T=S.indexOf("%")!==-1;let d=!1;E.reference==="suffix"&&(S=(E.scheme?E.scheme+":":"")+"//"+S);const A=S.match(_);if(A){if($.scheme=A[1],$.userinfo=A[3],$.host=A[4],$.port=parseInt(A[5],10),$.path=A[6]||"",$.query=A[7],$.fragment=A[8],isNaN($.port)&&($.port=A[5]),$.host){const O=n($.host);if(O.isIPV4===!1){const C=r(O.host);$.host=C.host.toLowerCase(),d=C.isIPV6}else $.host=O.host,d=!0}$.scheme===void 0&&$.userinfo===void 0&&$.host===void 0&&$.port===void 0&&$.query===void 0&&!$.path?$.reference="same-document":$.scheme===void 0?$.reference="relative":$.fragment===void 0?$.reference="absolute":$.reference="uri",E.reference&&E.reference!=="suffix"&&E.reference!==$.reference&&($.error=$.error||"URI is not a "+E.reference+" reference.");const x=s[(E.scheme||$.scheme||"").toLowerCase()];if(!E.unicodeSupport&&(!x||!x.unicodeSupport)&&$.host&&(E.domainHost||x&&x.domainHost)&&d===!1&&m($.host))try{$.host=URL.domainToASCII($.host.toLowerCase())}catch(O){$.error=$.error||"Host's domain name can not be converted to ASCII: "+O}(!x||x&&!x.skipNormalize)&&(T&&$.scheme!==void 0&&($.scheme=unescape($.scheme)),T&&$.host!==void 0&&($.host=unescape($.host)),$.path&&($.path=escape(unescape($.path))),$.fragment&&($.fragment=encodeURI(decodeURIComponent($.fragment)))),x&&x.parse&&x.parse($,E)}else $.error=$.error||"URI can not be parsed.";return $}var p={SCHEMES:s,normalize:l,resolve:u,resolveComponents:f,equal:c,serialize:h,parse:v};t.exports=p,t.exports.default=p,t.exports.fastUri=p}}),q7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=z7();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),V7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=tE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=oN(),i=rE(),o=GU(),a=aN(),s=pr(),l=eE(),u=kb(),f=Br(),c=L7(),h=q7(),g=(k,B)=>new RegExp(k,B);g.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},S=200;function y(k){var B,G,P,N,q,oe,J,Y,se,be,Ne,R,D,M,K,ae,fe,de,pe,xe,Le,ke,nt,qe,Ue;const W=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ne=(P=(G=k.code)===null||G===void 0?void 0:G.regExp)!==null&&P!==void 0?P:g,ye=(N=k.uriResolver)!==null&&N!==void 0?N:h.default;return{strictSchema:(oe=(q=k.strictSchema)!==null&&q!==void 0?q:W)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=k.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Ne=k.strictTuples)!==null&&Ne!==void 0?Ne:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:W)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:S,loopEnum:(ae=k.loopEnum)!==null&&ae!==void 0?ae:S,meta:(fe=k.meta)!==null&&fe!==void 0?fe:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(xe=k.schemaId)!==null&&xe!==void 0?xe:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(ke=k.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(nt=k.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var E=class{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...y(k)};const{es5:B,lines:G}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:G}),this.logger=F(k.logger);const P=k.validateFormats;k.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,k,"NOT SUPPORTED"),$.call(this,p,k,"DEPRECATED","warn"),this._metaOpts=O.call(this),k.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&x.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),d.call(this),k.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:B,schemaId:G}=this.opts;let P=c;G==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&k&&this.addMetaSchema(P,P[G],!1)}defaultMeta(){const{meta:k,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[B]||k:void 0}validate(k,B){let G;if(typeof k=="string"){if(G=this.getSchema(k),!G)throw new Error(`no schema with key or ref "${k}"`)}else G=this.compile(k);const P=G(B);return"$async"in G||(this.errors=G.errors),P}compile(k,B){const G=this._addSchema(k,B);return G.validate||this._compileSchemaEnv(G)}compileAsync(k,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:G}=this.opts;return P.call(this,k,B);async function P(se,be){await N.call(this,se.$schema);const Ne=this._addSchema(se,be);return Ne.validate||q.call(this,Ne)}async function N(se){se&&!this.getSchema(se)&&await P.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(be){if(!(be instanceof i.default))throw be;return oe.call(this,be),await J.call(this,be.missingSchema),q.call(this,se)}}function oe({missingSchema:se,missingRef:be}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${be} cannot be resolved`)}async function J(se){const be=await Y.call(this,se);this.refs[se]||await N.call(this,be.$schema),this.refs[se]||this.addSchema(be,se,B)}async function Y(se){const be=this._loading[se];if(be)return be;try{return await(this._loading[se]=G(se))}finally{delete this._loading[se]}}}addSchema(k,B,G,P=this.opts.validateSchema){if(Array.isArray(k)){for(const q of k)this.addSchema(q,void 0,G,P);return this}let N;if(typeof k=="object"){const{schemaId:q}=this.opts;if(N=k[q],N!==void 0&&typeof N!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||N),this._checkUnique(B),this.schemas[B]=this._addSchema(k,G,B,P,!0),this}addMetaSchema(k,B,G=this.opts.validateSchema){return this.addSchema(k,B,!0,G),this}validateSchema(k,B){if(typeof k=="boolean")return!0;let G;if(G=k.$schema,G!==void 0&&typeof G!="string")throw new Error("$schema must be a string");if(G=G||this.opts.defaultMeta||this.defaultMeta(),!G)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(G,k);if(!P&&B){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return P}getSchema(k){let B;for(;typeof(B=T.call(this,k))=="string";)k=B;if(B===void 0){const{schemaId:G}=this.opts,P=new a.SchemaEnv({schema:{},schemaId:G});if(B=a.resolveSchema.call(this,P,k),!B)return;this.refs[k]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,k);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const B=k;this._cache.delete(B);let G=k[this.opts.schemaId];return G&&(G=(0,l.normalizeId)(G),delete this.schemas[G],delete this.refs[G]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const B of k)this.addKeyword(B);return this}addKeyword(k,B){let G;if(typeof k=="string")G=k,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=G);else if(typeof k=="object"&&B===void 0){if(B=k,G=B.keyword,Array.isArray(G)&&!G.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,G,B),!B)return(0,f.eachItem)(G,N=>H.call(this,N)),this;ce.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(G,P.type.length===0?N=>H.call(this,N,P):N=>P.type.forEach(q=>H.call(this,N,P,q))),this}getKeyword(k){const B=this.RULES.all[k];return typeof B=="object"?B.definition:!!B}removeKeyword(k){const{RULES:B}=this;delete B.keywords[k],delete B.all[k];for(const G of B.rules){const P=G.rules.findIndex(N=>N.keyword===k);P>=0&&G.rules.splice(P,1)}return this}addFormat(k,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[k]=B,this}errorsText(k=this.errors,{separator:B=", ",dataVar:G="data"}={}){return!k||k.length===0?"No errors":k.map(P=>`${G}${P.instancePath} ${P.message}`).reduce((P,N)=>P+B+N)}$dataMetaSchema(k,B){const G=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const P of B){const N=P.split("/").slice(1);let q=k;for(const oe of N)q=q[oe];for(const oe in G){const J=G[oe];if(typeof J!="object")continue;const{$data:Y}=J.definition,se=q[oe];Y&&se&&(q[oe]=ie(se))}}return k}_removeAllSchemas(k,B){for(const G in k){const P=k[G];(!B||B.test(G))&&(typeof P=="string"?delete k[G]:P&&!P.meta&&(this._cache.delete(P.schema),delete k[G]))}}_addSchema(k,B,G,P=this.opts.validateSchema,N=this.opts.addUsedSchema){let q;const{schemaId:oe}=this.opts;if(typeof k=="object")q=k[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(k);if(J!==void 0)return J;G=(0,l.normalizeId)(q||G);const Y=l.getSchemaRefs.call(this,k,G);return J=new a.SchemaEnv({schema:k,schemaId:oe,meta:B,baseId:G,localRefs:Y}),this._cache.set(J.schema,J),N&&!G.startsWith("#")&&(G&&this._checkUnique(G),this.refs[G]=J),P&&this.validateSchema(k,!0),J}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):a.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,k)}finally{this.opts=B}}};E.ValidationError=n.default,E.MissingRefError=i.default,e.default=E;function $(k,B,G,P="error"){for(const N in k){const q=N;q in B&&this.logger[P](`${G}: option ${N}. ${k[q]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function A(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function x(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const G=k[B];G.keyword||(G.keyword=B),this.addKeyword(G)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}var C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(k,B){const{RULES:G}=this;if((0,f.eachItem)(k,P=>{if(G.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,G){var P;const N=B==null?void 0:B.post;if(G&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=N?q.post:q.rules.find(({type:Y})=>Y===G);if(oe||(oe={type:G,rules:[]},q.rules.push(oe)),q.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,oe,J,B.before):oe.rules.push(J),q.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(k,B,G){const P=k.rules.findIndex(N=>N.keyword===G);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${G} is not defined`))}function ce(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ie(B)),k.validateSchema=this.compile(B,!0))}var Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(k){return{anyOf:[k,Z]}}}}),H7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),W7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=rE(),r=ws(),n=pr(),i=dc(),o=aN(),a=Br(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:g}=f,{baseId:m,schemaEnv:_,validateName:v,opts:p,self:S}=g,{root:y}=_;if((h==="#"||h==="#/")&&m===y.baseId)return $();const E=o.resolveRef.call(S,y,m,h);if(E===void 0)throw new t.default(g.opts.uriResolver,m,h);if(E instanceof o.SchemaEnv)return T(E);return d(E);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",p.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),O=c.name("valid"),C=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:h},O);f.mergeEvaluated(C),f.ok(O)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,g){const{gen:m,it:_}=f,{allErrors:v,schemaEnv:p,opts:S}=_,y=S.passContext?i.default.this:n.nil;g?E():$();function E(){if(!p.$async)throw new Error("async schema referenced by sync schema");const A=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||m.assign(A,!0)},x=>{m.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>m.throw(x)),T(x),v||m.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;m.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),m.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const O=(x=h==null?void 0:h.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=a.mergeEvaluated.props(m,O.props,_.props));else{const C=m.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(m,C,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=a.mergeEvaluated.items(m,O.items,_.items));else{const C=m.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(m,C,_.items,n.Name)}}}e.callRef=u,e.default=s}}),G7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=H7(),r=W7(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),K7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),J7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),Y7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),X7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=Y7(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),Q7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ws(),r=pr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${a})`)}};e.default=i}}),Z7=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),eee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ws(),r=pr(),n=Br(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:h}=a,{opts:g}=h;if(!c&&l.length===0)return;const m=l.length>=g.loopRequired;if(h.allErrors?_():v(),g.strictRequired){const y=a.parentSchema.properties,{definedProperties:E}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!E.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(m||c)a.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(m||c){const E=s.let("valid",!0);a.block$data(E,()=>S(y,E)),a.ok(E)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function p(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,g.ownProperties),()=>a.error())})}function S(y,E){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(E,(0,t.propertyInData)(s,f,y,g.ownProperties)),s.if((0,r.not)(E),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),tee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),sN=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=qh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),ree=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=kb(),r=pr(),n=Br(),i=sN(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:g,it:m}=s;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];s.block$data(_,p,(0,r._)`${g} === false`),s.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(S()?y:E)($,T))}function S(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,m.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function E($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),nee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=sN(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),iee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=sN(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:h}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const g=f.length>=h.opts.loopEnum;let m;const _=()=>m??(m=(0,r.useFunc)(s,n.default));let v;if(g||u)v=s.let("valid"),a.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((E,$)=>S(y,$)))}a.pass(v);function p(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function S(y,E){const $=f[E];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${E}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),oee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=K7(),r=J7(),n=X7(),i=Q7(),o=Z7(),a=eee(),s=tee(),l=ree(),u=nee(),f=iee(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),JU=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=pr(),r=Br(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:h}=a;h.items=!0;const g=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${g} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${g} <= ${s.length}`);l.if((0,t.not)(_),()=>m(_)),a.ok(_)}function m(_){l.forRange("i",s.length,g,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),YU=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=pr(),r=Br(),n=ws(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:g}=a;v(f),g.opts.unevaluated&&l.length&&g.items!==!0&&(g.items=r.mergeEvaluated.items(u,l.length,g.items));const m=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,S)=>{(0,r.alwaysValidSchema)(g,p)||(u.if((0,t._)`${_} > ${S}`,()=>a.subschema({keyword:h,schemaProp:S,dataProp:S},m)),a.ok(m))});function v(p){const{opts:S,errSchemaPath:y}=g,E=l.length,$=E===p.minItems&&(E===p.maxItems||p[s]===!1);if(S.strictTuples&&!$){const T=`"${h}" is ${E}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(g,T,S.strictTuples)}}}e.validateTuple=o,e.default=i}}),aee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=YU(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),see=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=ws(),i=JU(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),lee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:g,maxContains:m}=l;f.opts.next?(c=g===void 0?1:g,h=m):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let E=(0,t._)`${_} >= ${c}`;h!==void 0&&(E=(0,t._)`${E} && ${_} <= ${h}`),o.pass(E);return}f.items=!0;const v=a.name("valid");h===void 0&&c===1?S(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),h!==void 0&&a.if((0,t._)`${u}.length > 0`,p)):(a.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const E=a.name("_valid"),$=a.let("count",0);S(E,()=>a.if(E,()=>y($)))}function S(E,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},E),$()})}function y(E){a.code((0,t._)`${E}++`),h===void 0?a.if((0,t._)`${E} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${E} > ${h}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${E} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),uee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=pr(),r=Br(),n=ws();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=s,e.default=i}}),cee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),XU=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ws(),r=pr(),n=dc(),i=Br(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:g}=s;if(!h)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=g;if(g.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(g,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);S(),s.ok((0,r._)`${h} === ${n.default.errors}`);function S(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(g,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return p.length&&(A=(0,r.or)(A,...p.map(x=>(0,r._)`${(0,t.usePattern)(s,x)}.test(${d})`))),(0,r.not)(A)}function E(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){E(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),m||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(g,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),E(d)})):(T(d,A),m||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(O,A)}}};e.default=a}}),fee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=tE(),r=ws(),n=Br(),i=XU(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(h),c.props));const g=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(g.length===0)return;const m=s.name("valid");for(const p of g)_(p)?v(p):(s.if((0,r.propertyInData)(s,f,p,c.opts.ownProperties)),v(p),c.allErrors||s.else().var(m,!0),s.endIf()),a.it.definedProperties.add(p),a.ok(m);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){a.subschema({keyword:"properties",schemaProp:p,dataProp:p},m)}}};e.default=o}}),dee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ws(),r=pr(),n=Br(),i=Br(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:h}=c,g=(0,t.allSchemaProperties)(l),m=g.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(g.length===0||m.length===g.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:p}=c;S();function S(){for(const $ of g)_&&y($),c.allErrors?E($):(s.var(v,!0),E($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function E($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=m.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?s.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),hee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),pee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ws(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),mee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),h=a.let("passing",null),g=a.name("_valid");o.setParams({passing:h}),a.block(m),o.result(c,()=>o.reset(),()=>o.error(!0));function m(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?a.var(g,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},g),v>0&&a.if((0,t._)`${g} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),a.if(g,()=>{a.assign(c,!0),a.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),gee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),vee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=s.let("valid",!0),g=s.name("_valid");if(m(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(g,_("then",v),_("else",v))}else f?s.if(g,_("then")):s.if((0,t.not)(g),_("else"));a.pass(h,()=>a.error(!0));function m(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);a.mergeEvaluated(v)}function _(v,p){return()=>{const S=a.subschema({keyword:v},g);s.assign(h,g),a.mergeValidEvaluated(S,h),p?s.assign(p,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),yee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),wee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=JU(),r=aee(),n=YU(),i=see(),o=lee(),a=uee(),s=cee(),l=XU(),u=fee(),f=dee(),c=hee(),h=pee(),g=mee(),m=gee(),_=vee(),v=yee();function p(S=!1){const y=[c.default,h.default,g.default,m.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return S?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),bee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:g,schemaEnv:m,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const S=a.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=a.const("fDef",(0,t._)`${S}[${f}]`),E=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(E,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(E,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=m.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${E} === ${o} && !${x}`}}function p(){const S=_.formats[u];if(!S){T();return}if(S===!0)return;const[y,E,$]=d(S);y===o&&i.pass(A());function T(){if(h.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function d(x){const O=x instanceof RegExp?(0,t.regexpCode)(x):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,C=a.scopeValue("formats",{key:u,ref:x,code:O});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${C}.validate`]:["string",x,C]}function A(){if(typeof S=="object"&&!(S instanceof RegExp)&&S.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof E=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),_ee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bee(),r=[t.default];e.default=r}}),Eee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),See=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=G7(),r=oee(),n=wee(),i=_ee(),o=Eee(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),$ee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t||(e.DiscrError=t={}))}}),Tee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=$ee(),n=aN(),i=rE(),o=Br(),a={message:({params:{discrError:l,tagName:u}})=>l===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:l,tag:u,tagName:f}})=>(0,t._)`{error: ${l}, tag: ${f}, tagValue: ${u}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:a,code(l){const{gen:u,data:f,schema:c,parentSchema:h,it:g}=l,{oneOf:m}=h;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=c.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const v=u.let("valid",!1),p=u.const("tag",(0,t._)`${f}${(0,t.getProperty)(_)}`);u.if((0,t._)`typeof ${p} == "string"`,()=>S(),()=>l.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:_})),l.ok(v);function S(){const $=E();u.if(!1);for(const T in $)u.elseIf((0,t._)`${p} === ${T}`),u.assign(v,y($[T]));u.else(),l.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:_}),u.endIf()}function y($){const T=u.name("valid"),d=l.subschema({keyword:"oneOf",schemaProp:$},T);return l.mergeEvaluated(d,t.Name),T}function E(){var $;const T={},d=x(h);let A=!0;for(let F=0;F<m.length;F++){let V=m[F];if(V!=null&&V.$ref&&!(0,o.schemaHasRulesButRef)(V,g.self.RULES)){const H=V.$ref;if(V=n.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,H),V instanceof n.SchemaEnv&&(V=V.schema),V===void 0)throw new i.default(g.opts.uriResolver,g.baseId,H)}const Q=($=V==null?void 0:V.properties)===null||$===void 0?void 0:$[_];if(typeof Q!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);A=A&&(d||x(V)),O(Q,F)}if(!A)throw new Error(`discriminator: "${_}" must be required`);return T;function x({required:F}){return Array.isArray(F)&&F.includes(_)}function O(F,V){if(F.const)C(F.const,V);else if(F.enum)for(const Q of F.enum)C(Q,V);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function C(F,V){if(typeof F!="string"||F in T)throw new Error(`discriminator: "${_}" values must be unique strings`);T[F]=V}}}};e.default=s}}),Aee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),QU=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=V7(),n=See(),i=Tee(),o=Aee(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(g,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=tE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=oN();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=rE();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),xee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,F){return{validate:C,compare:F}}e.fullFormats={date:t(o,a),time:t(l(!0),u),"date-time":t(h(!0),g),"iso-time":t(l(),f),"iso-date-time":t(h(),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(C){const F=n.exec(C);if(!F)return!1;const V=+F[1],Q=+F[2],H=+F[3];return Q>=1&&Q<=12&&H>=1&&H<=(Q===2&&r(V)?29:i[Q])}function a(C,F){if(C&&F)return C>F?1:C<F?-1:0}var s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(C){return function(V){const Q=s.exec(V);if(!Q)return!1;const H=+Q[1],X=+Q[2],ce=+Q[3],Z=Q[4],ie=Q[5]==="-"?-1:1,k=+(Q[6]||0),B=+(Q[7]||0);if(k>23||B>59||C&&!Z)return!1;if(H<=23&&X<=59&&ce<60)return!0;const G=X-B*ie,P=H-k*ie-(G<0?1:0);return(P===23||P===-1)&&(G===59||G===-1)&&ce<61}}function u(C,F){if(!(C&&F))return;const V=new Date("2020-01-01T"+C).valueOf(),Q=new Date("2020-01-01T"+F).valueOf();if(V&&Q)return V-Q}function f(C,F){if(!(C&&F))return;const V=s.exec(C),Q=s.exec(F);if(V&&Q)return C=V[1]+V[2]+V[3],F=Q[1]+Q[2]+Q[3],C>F?1:C<F?-1:0}var c=/t|\s/i;function h(C){const F=l(C);return function(Q){const H=Q.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function g(C,F){if(!(C&&F))return;const V=new Date(C).valueOf(),Q=new Date(F).valueOf();if(V&&Q)return V-Q}function m(C,F){if(!(C&&F))return;const[V,Q]=C.split(c),[H,X]=F.split(c),ce=a(V,H);if(ce!==void 0)return ce||u(Q,X)}var _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(C){return _.test(C)&&v.test(C)}var S=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(C){return S.lastIndex=0,S.test(C)}var E=-2147483648,$=2**31-1;function T(C){return Number.isInteger(C)&&C<=$&&C>=E}function d(C){return Number.isInteger(C)}function A(){return!0}var x=/[^\\]\\Z/;function O(C){if(x.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}}}),Oee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=QU(),r=pr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,r.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,r._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=s,{opts:g,self:m}=h;if(!g.validateFormats)return;const _=new t.KeywordCxt(h,m.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:m.formats,code:g.code.formats}),E=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${E} != "object"`,(0,r._)`${E} instanceof RegExp`,(0,r._)`typeof ${E}.compare != "function"`,S(E)))}function p(){const y=_.schema,E=m.formats[y];if(!E||E===!0)return;if(typeof E!="object"||E instanceof RegExp||typeof E.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:E,code:g.code.formats?(0,r._)`${g.code.formats}${(0,r.getProperty)(y)}`:void 0});s.fail$data(S($))}function S(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a}}),Pee=Pe({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=xee(),n=Oee(),i=pr(),o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],g=f.formats||r.formatNames;return l(u,g,c,h),f.keywords&&(0,n.default)(u),u};s.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var g,m;(g=(m=u.opts.code).formats)!==null&&g!==void 0||(m.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}});function hc(){return eA||(eA=!0,typeof Object.create=="function"?Fp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Fp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Fp}var Fp,eA,lN=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CkFCi-G1.js"(){Te(),Fp={},eA=!1}});function rn(){rn.init.call(this)}function My(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function ZU(e){return e._maxListeners===void 0?rn.defaultMaxListeners:e._maxListeners}function ok(e,t,r,n){var i,o,a,s;if(My(r),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),a===void 0)a=o[t]=r,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=ZU(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function Ree(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ak(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Ree.bind(n);return i.listener=r,n.wrapFn=i,i}function sk(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var a=new Array(o.length),s=0;s<a.length;++s)a[s]=o[s].listener||o[s];return a}(i):ez(i,i.length)}function lk(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function ez(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var uk,ck,Nc,zS,qS,VS,Xi,nE=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-tHuMsdT0.js"(){Te(),Nc=typeof Reflect=="object"?Reflect:null,zS=Nc&&typeof Nc.apply=="function"?Nc.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ck=Nc&&typeof Nc.ownKeys=="function"?Nc.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},qS=Number.isNaN||function(e){return e!=e},uk=rn,rn.EventEmitter=rn,rn.prototype._events=void 0,rn.prototype._eventsCount=0,rn.prototype._maxListeners=void 0,VS=10,Object.defineProperty(rn,"defaultMaxListeners",{enumerable:!0,get:function(){return VS},set:function(e){if(typeof e!="number"||e<0||qS(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");VS=e}}),rn.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},rn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||qS(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},rn.prototype.getMaxListeners=function(){return ZU(this)},rn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(s===void 0)return!1;if(typeof s=="function")zS(s,this,t);else{var l=s.length,u=ez(s,l);for(r=0;r<l;++r)zS(u[r],this,t)}return!0},rn.prototype.addListener=function(e,t){return ok(this,e,t,!1)},rn.prototype.on=rn.prototype.addListener,rn.prototype.prependListener=function(e,t){return ok(this,e,t,!0)},rn.prototype.once=function(e,t){return My(t),this.on(e,ak(this,e,t)),this},rn.prototype.prependOnceListener=function(e,t){return My(t),this.prependListener(e,ak(this,e,t)),this},rn.prototype.removeListener=function(e,t){var r,n,i,o,a;if(My(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(s,l){for(;l+1<s.length;l++)s[l]=s[l+1];s.pop()}(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this},rn.prototype.off=rn.prototype.removeListener,rn.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},rn.prototype.listeners=function(e){return sk(this,e,!0)},rn.prototype.rawListeners=function(e){return sk(this,e,!1)},rn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):lk.call(e,t)},rn.prototype.listenerCount=lk,rn.prototype.eventNames=function(){return this._eventsCount>0?ck(this._events):[]},Xi=uk,Xi.EventEmitter,Xi.defaultMaxListeners,Xi.init,Xi.listenerCount,Xi.EventEmitter,Xi.defaultMaxListeners,Xi.init,Xi.listenerCount}}),Nee=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtDiafJB.js"(){Te(),nE(),Xi.once=function(e,t){return new Promise((r,n)=>{function i(...a){o!==void 0&&e.removeListener("error",o),r(a)}let o;t!=="error"&&(o=a=>{e.removeListener(name,i),n(a)},e.once("error",o)),e.once(t,i)})},Xi.on=function(e,t){const r=[],n=[];let i=null,o=!1;const a={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,s),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,s),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,s),e.on("error",l),a;function s(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,a.return()}}}});function tA(){throw new Error("setTimeout has not been defined")}function rA(){throw new Error("clearTimeout has not been defined")}function tz(e){if(bl===setTimeout)return setTimeout(e,0);if((bl===tA||!bl)&&setTimeout)return bl=setTimeout,setTimeout(e,0);try{return bl(e,0)}catch{try{return bl.call(null,e,0)}catch{return bl.call(this||bf,e,0)}}}function Iee(){_f&&ff&&(_f=!1,ff.length?Hs=ff.concat(Hs):gm=-1,Hs.length&&rz())}function rz(){if(!_f){var e=tz(Iee);_f=!0;for(var t=Hs.length;t;){for(ff=Hs,Hs=[];++gm<t;)ff&&ff[gm].run();gm=-1,t=Hs.length}ff=null,_f=!1,function(r){if(_l===clearTimeout)return clearTimeout(r);if((_l===rA||!_l)&&clearTimeout)return _l=clearTimeout,clearTimeout(r);try{_l(r)}catch{try{return _l.call(null,r)}catch{return _l.call(this||bf,r)}}}(e)}}function fk(e,t){(this||bf).fun=e,(this||bf).array=t}function ml(){}function Ic(e){return e.call.bind(e)}function Rg(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}function dk(e){return oo&&Ro?b(e)!==void 0:nz(e)||iz(e)||oz(e)||az(e)||sz(e)||lz(e)||uz(e)||cz(e)||fz(e)||dz(e)||hz(e)}function nz(e){return oo&&Ro?b(e)==="Uint8Array":Pn(e)==="[object Uint8Array]"||vz(e)&&e.buffer!==void 0}function iz(e){return oo&&Ro?b(e)==="Uint8ClampedArray":Pn(e)==="[object Uint8ClampedArray]"}function oz(e){return oo&&Ro?b(e)==="Uint16Array":Pn(e)==="[object Uint16Array]"}function az(e){return oo&&Ro?b(e)==="Uint32Array":Pn(e)==="[object Uint32Array]"}function sz(e){return oo&&Ro?b(e)==="Int8Array":Pn(e)==="[object Int8Array]"}function lz(e){return oo&&Ro?b(e)==="Int16Array":Pn(e)==="[object Int16Array]"}function uz(e){return oo&&Ro?b(e)==="Int32Array":Pn(e)==="[object Int32Array]"}function cz(e){return oo&&Ro?b(e)==="Float32Array":Pn(e)==="[object Float32Array]"}function fz(e){return oo&&Ro?b(e)==="Float64Array":Pn(e)==="[object Float64Array]"}function dz(e){return oo&&Ro?b(e)==="BigInt64Array":Pn(e)==="[object BigInt64Array]"}function hz(e){return oo&&Ro?b(e)==="BigUint64Array":Pn(e)==="[object BigUint64Array]"}function Cv(e){return Pn(e)==="[object Map]"}function kv(e){return Pn(e)==="[object Set]"}function Dv(e){return Pn(e)==="[object WeakMap]"}function HS(e){return Pn(e)==="[object WeakSet]"}function Db(e){return Pn(e)==="[object ArrayBuffer]"}function hk(e){return typeof ArrayBuffer<"u"&&(Db.working?Db(e):e instanceof ArrayBuffer)}function Mb(e){return Pn(e)==="[object DataView]"}function pk(e){return typeof DataView<"u"&&(Mb.working?Mb(e):e instanceof DataView)}function Lb(e){return Pn(e)==="[object SharedArrayBuffer]"}function mk(e){return typeof SharedArrayBuffer<"u"&&(Lb.working?Lb(e):e instanceof SharedArrayBuffer)}function gk(e){return Rg(e,yz)}function vk(e){return Rg(e,wz)}function yk(e){return Rg(e,bz)}function wk(e){return nA&&Rg(e,w)}function bk(e){return Fy&&Rg(e,v2)}function ku(e,t){var r={seen:[],stylize:Cee};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),uN(t)?r.showHidden=t:t&&dt._extend(r,t),cf(r.showHidden)&&(r.showHidden=!1),cf(r.depth)&&(r.depth=2),cf(r.colors)&&(r.colors=!1),cf(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=jee),Fb(r,e,r.depth)}function jee(e,t){var r=ku.styles[t];return r?"\x1B["+ku.colors[r][0]+"m"+e+"\x1B["+ku.colors[r][1]+"m":e}function Cee(e,t){return e}function Fb(e,t,r){if(e.customInspect&&t&&Ly(t.inspect)&&t.inspect!==dt.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return Ub(n)||(n=Fb(e,n,r)),n}var i=function(h,g){if(cf(g))return h.stylize("undefined","undefined");if(Ub(g)){var m="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(m,"string")}if(mz(g))return h.stylize(""+g,"number");if(uN(g))return h.stylize(""+g,"boolean");if(Bb(g))return h.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),a=function(h){var g={};return h.forEach(function(m,_){g[m]=!0}),g}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),mm(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return WS(t);if(o.length===0){if(Ly(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(pm(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(zb(t))return e.stylize(Date.prototype.toString.call(t),"date");if(mm(t))return WS(t)}var l,u="",f=!1,c=["{","}"];return pz(t)&&(f=!0,c=["[","]"]),Ly(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),pm(t)&&(u=" "+RegExp.prototype.toString.call(t)),zb(t)&&(u=" "+Date.prototype.toUTCString.call(t)),mm(t)&&(u=" "+WS(t)),o.length!==0||f&&t.length!=0?r<0?pm(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(h,g,m,_,v){for(var p=[],S=0,y=g.length;S<y;++S)gz(g,String(S))?p.push(GS(h,g,m,_,String(S),!0)):p.push("");return v.forEach(function(E){E.match(/^\d+$/)||p.push(GS(h,g,m,_,E,!0))}),p}(e,t,r,a,o):o.map(function(h){return GS(e,t,r,a,h,f)}),e.seen.pop(),function(h,g,m){var _=0;return h.reduce(function(v,p){return _++,p.indexOf(`
`)>=0&&_++,v+p.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?m[0]+(g===""?"":g+`
 `)+" "+h.join(`,
  `)+" "+m[1]:m[0]+g+" "+h.join(", ")+" "+m[1]}(l,u,c)):c[0]+u+c[1]}function WS(e){return"["+Error.prototype.toString.call(e)+"]"}function GS(e,t,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),gz(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=Bb(r)?Fb(e,l.value,null):Fb(e,l.value,r-1)).indexOf(`
`)>-1&&(s=o?s.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+s.split(`
`).map(function(u){return"   "+u}).join(`
`)):s=e.stylize("[Circular]","special")),cf(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function pz(e){return Array.isArray(e)}function uN(e){return typeof e=="boolean"}function Bb(e){return e===null}function mz(e){return typeof e=="number"}function Ub(e){return typeof e=="string"}function cf(e){return e===void 0}function pm(e){return uh(e)&&cN(e)==="[object RegExp]"}function uh(e){return typeof e=="object"&&e!==null}function zb(e){return uh(e)&&cN(e)==="[object Date]"}function mm(e){return uh(e)&&(cN(e)==="[object Error]"||e instanceof Error)}function Ly(e){return typeof e=="function"}function cN(e){return Object.prototype.toString.call(e)}function KS(e){return e<10?"0"+e.toString(10):e.toString(10)}function kee(){var e=new Date,t=[KS(e.getHours()),KS(e.getMinutes()),KS(e.getSeconds())].join(":");return[e.getDate(),_z[e.getMonth()],t].join(" ")}function gz(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dee(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}var _k,bl,_l,bf,Mn,ff,Hs,_f,gm,An,Ek,Mv,yp,JS,Sk,$k,Tk,Ak,xk,YS,XS,QS,Ok,Pk,Rk,ZS,yr,vz,Nk,Ik,nA,Fy,Ro,oo,jk,Pn,yz,wz,bz,gd,dt,Ga,e1,Ck,wp,t1,Lv,_z,fu,Ng=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-D3uu3VYh.js"(){if(Te(),bf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Mn=_k={},function(){try{bl=typeof setTimeout=="function"?setTimeout:tA}catch{bl=tA}try{_l=typeof clearTimeout=="function"?clearTimeout:rA}catch{_l=rA}}(),Hs=[],_f=!1,gm=-1,Mn.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a];Hs.push(new fk(i,o)),Hs.length!==1||_f||tz(rz)},fk.prototype.run=function(){(this||bf).fun.apply(null,(this||bf).array)},Mn.title="browser",Mn.browser=!0,Mn.env={},Mn.argv=[],Mn.version="",Mn.versions={},Mn.on=ml,Mn.addListener=ml,Mn.once=ml,Mn.off=ml,Mn.removeListener=ml,Mn.removeAllListeners=ml,Mn.emit=ml,Mn.prependListener=ml,Mn.prependOnceListener=ml,Mn.listeners=function(i){return[]},Mn.binding=function(i){throw new Error("process.binding is not supported")},Mn.cwd=function(){return"/"},Mn.chdir=function(i){throw new Error("process.chdir is not supported")},Mn.umask=function(){return 0},An=_k,An.addListener,An.argv,An.binding,An.browser,An.chdir,An.cwd,An.emit,An.env,An.listeners,An.nextTick,An.off,An.on,An.once,An.prependListener,An.prependOnceListener,An.removeAllListeners,An.removeListener,An.title,An.umask,An.version,An.versions,Ek=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Mv=Object.prototype.toString,yp=function(i){return!(Ek&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&Mv.call(i)==="[object Arguments]"},JS=function(i){return!!yp(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&Mv.call(i)!=="[object Array]"&&Mv.call(i.callee)==="[object Function]"},Sk=function(){return yp(arguments)}(),yp.isLegacyArguments=JS,$k=Sk?yp:JS,Tk=Object.prototype.toString,Ak=Function.prototype.toString,xk=/^\s*(?:function)?\*/,YS=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",XS=Object.getPrototypeOf,QS=function(){if(!YS)return!1;try{return Function("return function*() {}")()}catch{}}(),Ok=QS?XS(QS):{},Pk=function(i){return typeof i=="function"&&(!!xk.test(Ak.call(i))||(YS?XS(i)===Ok:Tk.call(i)==="[object GeneratorFunction]"))},Rk=typeof Object.create=="function"?function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,o){if(o){i.super_=o;var a=function(){};a.prototype=o.prototype,i.prototype=new a,i.prototype.constructor=i}},ZS=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},yr={},vz=ZS,Nk=$k,Ik=Pk,nA=typeof BigInt<"u",Fy=typeof Symbol<"u",Ro=Fy&&Symbol.toStringTag!==void 0,oo=typeof Uint8Array<"u",jk=typeof ArrayBuffer<"u",oo&&Ro)var e=Object.getPrototypeOf(Uint8Array.prototype),t=Ic(Object.getOwnPropertyDescriptor(e,Symbol.toStringTag).get);if(Pn=Ic(Object.prototype.toString),yz=Ic(Number.prototype.valueOf),wz=Ic(String.prototype.valueOf),bz=Ic(Boolean.prototype.valueOf),nA)var r=Ic(BigInt.prototype.valueOf);if(Fy)var n=Ic(Symbol.prototype.valueOf);yr.isArgumentsObject=Nk,yr.isGeneratorFunction=Ik,yr.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},yr.isArrayBufferView=function(i){return jk&&ArrayBuffer.isView?ArrayBuffer.isView(i):dk(i)||pk(i)},yr.isTypedArray=dk,yr.isUint8Array=nz,yr.isUint8ClampedArray=iz,yr.isUint16Array=oz,yr.isUint32Array=az,yr.isInt8Array=sz,yr.isInt16Array=lz,yr.isInt32Array=uz,yr.isFloat32Array=cz,yr.isFloat64Array=fz,yr.isBigInt64Array=dz,yr.isBigUint64Array=hz,Cv.working=typeof Map<"u"&&Cv(new Map),yr.isMap=function(i){return typeof Map<"u"&&(Cv.working?Cv(i):i instanceof Map)},kv.working=typeof Set<"u"&&kv(new Set),yr.isSet=function(i){return typeof Set<"u"&&(kv.working?kv(i):i instanceof Set)},Dv.working=typeof WeakMap<"u"&&Dv(new WeakMap),yr.isWeakMap=function(i){return typeof WeakMap<"u"&&(Dv.working?Dv(i):i instanceof WeakMap)},HS.working=typeof WeakSet<"u"&&HS(new WeakSet),yr.isWeakSet=function(i){return HS(i)},Db.working=typeof ArrayBuffer<"u"&&Db(new ArrayBuffer),yr.isArrayBuffer=hk,Mb.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Mb(new DataView(new ArrayBuffer(1),0,1)),yr.isDataView=pk,Lb.working=typeof SharedArrayBuffer<"u"&&Lb(new SharedArrayBuffer),yr.isSharedArrayBuffer=mk,yr.isAsyncFunction=function(i){return Pn(i)==="[object AsyncFunction]"},yr.isMapIterator=function(i){return Pn(i)==="[object Map Iterator]"},yr.isSetIterator=function(i){return Pn(i)==="[object Set Iterator]"},yr.isGeneratorObject=function(i){return Pn(i)==="[object Generator]"},yr.isWebAssemblyCompiledModule=function(i){return Pn(i)==="[object WebAssembly.Module]"},yr.isNumberObject=gk,yr.isStringObject=vk,yr.isBooleanObject=yk,yr.isBigIntObject=wk,yr.isSymbolObject=bk,yr.isBoxedPrimitive=function(i){return gk(i)||vk(i)||yk(i)||wk(i)||bk(i)},yr.isAnyArrayBuffer=function(i){return oo&&(hk(i)||mk(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(yr,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})}),gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,dt={},Ga=An,e1=Object.getOwnPropertyDescriptors||function(i){for(var o=Object.keys(i),a={},s=0;s<o.length;s++)a[o[s]]=Object.getOwnPropertyDescriptor(i,o[s]);return a},Ck=/%[sdj%]/g,dt.format=function(i){if(!Ub(i)){for(var o=[],a=0;a<arguments.length;a++)o.push(ku(arguments[a]));return o.join(" ")}a=1;for(var s=arguments,l=s.length,u=String(i).replace(Ck,function(c){if(c==="%%")return"%";if(a>=l)return c;switch(c){case"%s":return String(s[a++]);case"%d":return Number(s[a++]);case"%j":try{return JSON.stringify(s[a++])}catch{return"[Circular]"}default:return c}}),f=s[a];a<l;f=s[++a])Bb(f)||!uh(f)?u+=" "+f:u+=" "+ku(f);return u},dt.deprecate=function(i,o){if(Ga!==void 0&&Ga.noDeprecation===!0)return i;if(Ga===void 0)return function(){return dt.deprecate(i,o).apply(this||gd,arguments)};var a=!1;return function(){if(!a){if(Ga.throwDeprecation)throw new Error(o);Ga.traceDeprecation?console.trace(o):console.error(o),a=!0}return i.apply(this||gd,arguments)}},wp={},t1=/^$/,Ga.env.NODE_DEBUG&&(Lv=Ga.env.NODE_DEBUG,Lv=Lv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),t1=new RegExp("^"+Lv+"$","i")),dt.debuglog=function(i){if(i=i.toUpperCase(),!wp[i])if(t1.test(i)){var o=Ga.pid;wp[i]=function(){var a=dt.format.apply(dt,arguments);console.error("%s %d: %s",i,o,a)}}else wp[i]=function(){};return wp[i]},dt.inspect=ku,ku.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ku.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},dt.types=yr,dt.isArray=pz,dt.isBoolean=uN,dt.isNull=Bb,dt.isNullOrUndefined=function(i){return i==null},dt.isNumber=mz,dt.isString=Ub,dt.isSymbol=function(i){return typeof i=="symbol"},dt.isUndefined=cf,dt.isRegExp=pm,dt.types.isRegExp=pm,dt.isObject=uh,dt.isDate=zb,dt.types.isDate=zb,dt.isError=mm,dt.types.isNativeError=mm,dt.isFunction=Ly,dt.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},dt.isBuffer=ZS,_z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dt.log=function(){console.log("%s - %s",kee(),dt.format.apply(dt,arguments))},dt.inherits=Rk,dt._extend=function(i,o){if(!o||!uh(o))return i;for(var a=Object.keys(o),s=a.length;s--;)i[a[s]]=o[a[s]];return i},fu=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0,dt.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(fu&&i[fu]){var o;if(typeof(o=i[fu])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,fu,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var a,s,l=new Promise(function(c,h){a=c,s=h}),u=[],f=0;f<arguments.length;f++)u.push(arguments[f]);u.push(function(c,h){c?s(c):a(h)});try{i.apply(this||gd,u)}catch(c){s(c)}return l}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),fu&&Object.defineProperty(o,fu,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,e1(i))},dt.promisify.custom=fu,dt.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function o(){for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);var l=a.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var u=this||gd,f=function(){return l.apply(u,arguments)};i.apply(this||gd,a).then(function(c){Ga.nextTick(f.bind(null,null,c))},function(c){Ga.nextTick(Dee.bind(null,c,f))})}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),Object.defineProperties(o,e1(i)),o},dt._extend,dt.callbackify,dt.debuglog,dt.deprecate,dt.format,dt.inherits,dt.inspect,dt.isArray,dt.isBoolean,dt.isBuffer,dt.isDate,dt.isError,dt.isFunction,dt.isNull,dt.isNullOrUndefined,dt.isNumber,dt.isObject,dt.isPrimitive,dt.isRegExp,dt.isString,dt.isSymbol,dt.isUndefined,dt.log,dt.promisify,dt._extend,dt.callbackify,dt.debuglog,dt.deprecate,dt.format,dt.inherits,dt.inspect,dt.isArray,dt.isBoolean,dt.isBuffer,dt.isDate,dt.isError,dt.isFunction,dt.isNull,dt.isNullOrUndefined,dt.isNumber,dt.isObject,dt.isPrimitive,dt.isRegExp,dt.isString,dt.isSymbol,dt.isUndefined,dt.log,dt.promisify,dt.types}}),Mee=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CbQqNoLO.js"(){Te(),Ng(),dt._extend,dt.callbackify,dt.debuglog,dt.deprecate,dt.format,dt.inherits,dt.inspect,dt.isArray,dt.isBoolean,dt.isBuffer,dt.isDate,dt.isError,dt.isFunction,dt.isNull,dt.isNullOrUndefined,dt.isNumber,dt.isObject,dt.isPrimitive,dt.isRegExp,dt.isString,dt.isSymbol,dt.isUndefined,dt.log,dt.promisify,dt.types,dt.TextEncoder=globalThis.TextEncoder,dt.TextDecoder=globalThis.TextDecoder}});function fN(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Lee(){!Ef||!df||(Ef=!1,df.length?Ws=df.concat(Ws):vm=-1,Ws.length&&Ez())}function Ez(){if(!Ef){var e=setTimeout(Lee,0);Ef=!0;for(var t=Ws.length;t;){for(df=Ws,Ws=[];++vm<t;)df&&df[vm].run();vm=-1,t=Ws.length}df=null,Ef=!1,clearTimeout(e)}}function Fee(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ws.push(new Sz(e,t)),Ws.length===1&&!Ef&&setTimeout(Ez,0)}function Sz(e,t){this.fun=e,this.array=t}function Ci(){}function Bee(e){fN("_linkedBinding")}function Uee(e){fN("dlopen")}function zee(){return[]}function qee(){return[]}function Vee(e,t){if(!e)throw new Error(t||"assertion error")}function Hee(){return!1}function Wee(){return Tl.now()/1e3}function r1(e){var t=Math.floor((Date.now()-Tl.now())*.001),r=Tl.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=By)),[n,i]}function du(){return hi}function Gee(e){return[]}var Ws,Ef,df,vm,kk,Dk,Mk,Lk,Fk,Bk,Uk,zk,qk,Vk,Hk,Wk,Gk,Kk,Jk,Yk,Xk,Qk,Zk,eD,tD,Fv,rD,nD,iD,oD,aD,sD,lD,uD,cD,fD,dD,hD,pD,mD,gD,vD,yD,wD,bD,_D,ED,SD,$D,TD,AD,Tl,Sf,By,xD,OD,PD,RD,ND,ID,jD,CD,kD,DD,MD,hi,Ig=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DEMDiNwt.js"(){Te(),Ws=[],Ef=!1,vm=-1,Sz.prototype.run=function(){this.fun.apply(null,this.array)},kk="browser",Dk="x64",Mk="browser",Lk={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Fk=["/usr/bin/node"],Bk=[],Uk="v16.8.0",zk={},qk=function(e,t){console.warn((t?t+": ":"")+e)},Vk=function(e){fN("binding")},Hk=function(e){return 0},Wk=function(){return"/"},Gk=function(e){},Kk={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Jk=Ci,Yk=[],Xk={},Qk=!1,Zk={},eD=Ci,tD=Ci,Fv=function(){return{}},rD=Fv,nD=Fv,iD=Ci,oD=Ci,aD=Ci,sD={},lD={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},uD=Ci,cD=Ci,fD=Ci,dD=Ci,hD=Ci,pD=Ci,mD=Ci,gD=void 0,vD=void 0,yD=void 0,wD=Ci,bD=2,_D=1,ED="/bin/usr/node",SD=9229,$D="node",TD=[],AD=Ci,Tl={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Tl.now===void 0&&(Sf=Date.now(),Tl.timing&&Tl.timing.navigationStart&&(Sf=Tl.timing.navigationStart),Tl.now=()=>Date.now()-Sf),By=1e9,r1.bigint=function(e){var t=r1(e);return typeof BigInt>"u"?t[0]*By+t[1]:BigInt(t[0]*By)+BigInt(t[1])},xD=10,OD={},PD=0,RD=du,ND=du,ID=du,jD=du,CD=du,kD=Ci,DD=du,MD=du,hi={version:Uk,versions:zk,arch:Dk,platform:Mk,release:Kk,_rawDebug:Jk,moduleLoadList:Yk,binding:Vk,_linkedBinding:Bee,_events:OD,_eventsCount:PD,_maxListeners:xD,on:du,addListener:RD,once:ND,off:ID,removeListener:jD,removeAllListeners:CD,emit:kD,prependListener:DD,prependOnceListener:MD,listeners:Gee,domain:Xk,_exiting:Qk,config:Zk,dlopen:Uee,uptime:Wee,_getActiveRequests:zee,_getActiveHandles:qee,reallyExit:eD,_kill:tD,cpuUsage:Fv,resourceUsage:rD,memoryUsage:nD,kill:iD,exit:oD,openStdin:aD,allowedNodeEnvironmentFlags:sD,assert:Vee,features:lD,_fatalExceptions:uD,setUncaughtExceptionCaptureCallback:cD,hasUncaughtExceptionCaptureCallback:Hee,emitWarning:qk,nextTick:Fee,_tickCallback:fD,_debugProcess:dD,_debugEnd:hD,_startProfilerIdleNotifier:pD,_stopProfilerIdleNotifier:mD,stdout:gD,stdin:yD,stderr:vD,abort:wD,umask:Hk,chdir:Gk,cwd:Wk,env:Lk,title:kk,argv:Fk,execArgv:Bk,pid:bD,ppid:_D,execPath:ED,debugPort:SD,hrtime:r1,argv0:$D,_preload_modules:TD,setSourceMapsEnabled:AD}}});function Kee(){if(iA)return Uy;iA=!0,Uy=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||zy,arguments)}return o}function t(r){try{if(!zy.localStorage)return!1}catch{return!1}var n=zy.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Uy}var Uy,iA,zy,Jee=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BsRZ0PEC.js"(){Te(),Uy={},iA=!1,zy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global}});function Yee(){if(oA)return Pd;oA=!0;var e=Io(),t=e.Buffer;function r(i,o){for(var a in i)o[a]=i[a]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?Pd=e:(r(e,Pd),Pd.Buffer=n);function n(i,o,a){return t(i,o,a)}return n.prototype=Object.create(t.prototype),r(t,n),n.from=function(i,o,a){if(typeof i=="number")throw new TypeError("Argument must not be a number");return t(i,o,a)},n.alloc=function(i,o,a){if(typeof i!="number")throw new TypeError("Argument must be a number");var s=t(i);return o!==void 0?typeof a=="string"?s.fill(o,a):s.fill(o):s.fill(0),s},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(i)},Pd}function Xee(){if(aA)return qy;aA=!0;var e=Yee().Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var S;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(S)return;p=(""+p).toLowerCase(),S=!0}}function n(p){var S=r(p);if(typeof S!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return S||p}qy.StringDecoder=i;function i(p){this.encoding=n(p);var S;switch(this.encoding){case"utf16le":this.text=c,this.end=h,S=4;break;case"utf8":this.fillLast=l,S=4;break;case"base64":this.text=g,this.end=m,S=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(S)}i.prototype.write=function(p){if(p.length===0)return"";var S,y;if(this.lastNeed){if(S=this.fillLast(p),S===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?S?S+this.text(p,y):this.text(p,y):S||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function o(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function a(p,S,y){var E=S.length-1;if(E<y)return 0;var $=o(S[E]);return $>=0?($>0&&(p.lastNeed=$-1),$):--E<y||$===-2?0:($=o(S[E]),$>=0?($>0&&(p.lastNeed=$-2),$):--E<y||$===-2?0:($=o(S[E]),$>=0?($>0&&($===2?$=0:p.lastNeed=$-3),$):0))}function s(p,S,y){if((S[0]&192)!==128)return p.lastNeed=0,"";if(p.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return p.lastNeed=1,"";if(p.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return p.lastNeed=2,""}}function l(p){var S=this.lastTotal-this.lastNeed,y=s(this,p);if(y!==void 0)return y;if(this.lastNeed<=p.length)return p.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,S,0,p.length),this.lastNeed-=p.length}function u(p,S){var y=a(this,p,S);if(!this.lastNeed)return p.toString("utf8",S);this.lastTotal=y;var E=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,E),p.toString("utf8",S,E)}function f(p){var S=p&&p.length?this.write(p):"";return this.lastNeed?S+"":S}function c(p,S){if((p.length-S)%2===0){var y=p.toString("utf16le",S);if(y){var E=y.charCodeAt(y.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",S,p.length-1)}function h(p){var S=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,y)}return S}function g(p,S){var y=(p.length-S)%3;return y===0?p.toString("base64",S):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",S,p.length-y))}function m(p){var S=p&&p.length?this.write(p):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function _(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}return qy}var Pd,oA,qy,aA,ch,$z=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js"(){Te(),Q_(),Pd={},oA=!1,qy={},aA=!1,ch=Xee(),ch.StringDecoder,ch.StringDecoder}});function Qee(){if(sA)return Vy;sA=!0;var e=Vy={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||Jc,_,0)}}}function a(_){if(r===clearTimeout)return clearTimeout(_);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||Jc,_)}}}var s=[],l=!1,u,f=-1;function c(){!l||!u||(l=!1,u.length?s=u.concat(s):f=-1,s.length&&h())}function h(){if(!l){var _=o(c);l=!0;for(var v=s.length;v;){for(u=s,s=[];++f<v;)u&&u[f].run();f=-1,v=s.length}u=null,l=!1,a(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)v[p-1]=arguments[p];s.push(new g(_,v)),s.length===1&&!l&&o(h)};function g(_,v){(this||Jc).fun=_,(this||Jc).array=v}g.prototype.run=function(){(this||Jc).fun.apply(null,(this||Jc).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function m(){}return e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Vy}var Vy,sA,Jc,Wr,iE=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-b0rmRow7.js"(){Te(),Vy={},sA=!1,Jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Wr=Qee(),Wr.platform="browser",Wr.addListener,Wr.argv,Wr.binding,Wr.browser,Wr.chdir,Wr.cwd,Wr.emit,Wr.env,Wr.listeners,Wr.nextTick,Wr.off,Wr.on,Wr.once,Wr.prependListener,Wr.prependOnceListener,Wr.removeAllListeners,Wr.removeListener,Wr.title,Wr.umask,Wr.version,Wr.versions}});function Zee(){if(lA)return Hy;lA=!0;var e=Wr;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var g=s.lastIndexOf("/");if(g!==s.length-1){g===-1?(s="",l=0):(s=s.slice(0,g),l=s.length-1-s.lastIndexOf("/")),u=h,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=h,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,h):s=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var h=s.length,g=h-c,m=f<g?f:g,_=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>m&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=a.charCodeAt(l+v),S=s.charCodeAt(c+v);if(p!==S)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var h=s.length-1,g=-1;for(c=a.length-1;c>=0;--c){var m=a.charCodeAt(c);if(m===47){if(!f){l=c+1;break}}else g===-1&&(f=!1,g=c+1),h>=0&&(m===s.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=g))}return l===u?u=g:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,h=a.length-1;h>=0;--h){var g=a.charCodeAt(h);if(g===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),g===46?s===-1?s=h:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,h=0,g=-1,m=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!m){h=_+1;break}continue}g===-1&&(m=!1,g=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||g===-1||v===0||v===1&&c===g-1&&c===h+1?g!==-1&&(h===0&&u?s.base=s.name=a.slice(1,g):s.base=s.name=a.slice(h,g)):(h===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,g)):(s.name=a.slice(h,c),s.base=a.slice(h,g)),s.ext=a.slice(c,g)),h>0?s.dir=a.slice(0,h-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Hy=i,Hy}function jc(e){throw new RangeError(Az[e])}function LD(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(o,a){const s=[];let l=o.length;for(;l--;)s[l]=a(o[l]);return s}((e=e.replace(Tz,".")).split("."),t).join(".");return n+i}function FD(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}function ete(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ha(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function bp(e,t,r){if(e&&Xa.isObject(e)&&e instanceof ha)return e;var n=new ha;return n.parse(e,t,r),n}function tte(){if(cA)return Wy;cA=!0;var e=An;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var g=s.lastIndexOf("/");if(g!==s.length-1){g===-1?(s="",l=0):(s=s.slice(0,g),l=s.length-1-s.lastIndexOf("/")),u=h,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=h,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,h):s=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var h=s.length,g=h-c,m=f<g?f:g,_=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>m&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=a.charCodeAt(l+v),S=s.charCodeAt(c+v);if(p!==S)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var h=s.length-1,g=-1;for(c=a.length-1;c>=0;--c){var m=a.charCodeAt(c);if(m===47){if(!f){l=c+1;break}}else g===-1&&(f=!1,g=c+1),h>=0&&(m===s.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=g))}return l===u?u=g:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,h=a.length-1;h>=0;--h){var g=a.charCodeAt(h);if(g===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),g===46?s===-1?s=h:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,h=0,g=-1,m=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!m){h=_+1;break}continue}g===-1&&(m=!1,g=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||g===-1||v===0||v===1&&c===g-1&&c===h+1?g!==-1&&(h===0&&u?s.base=s.name=a.slice(1,g):s.base=s.name=a.slice(h,g)):(h===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,g)):(s.name=a.slice(h,c),s.base=a.slice(h,g)),s.ext=a.slice(c,g)),h>0?s.dir=a.slice(0,h-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Wy=i,Wy}function rte(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return qb?nte(e):ite(e)}function nte(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Nz,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<Pz||n>Rz||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function ite(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function ote(e){let t=fA.resolve(e);const r=e.charCodeAt(e.length-1);(r===Oz||qb&&r===xz)&&t[t.length-1]!==fA.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(Iz,"%25")),!qb&&t.includes("\\")&&(t=t.replace(jz,"%5C")),t.includes(`
`)&&(t=t.replace(Cz,"%0A")),t.includes("\r")&&(t=t.replace(kz,"%0D")),t.includes("	")&&(t=t.replace(Dz,"%09")),n.pathname=t,n}function ate(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Vb?ste(e):lte(e)}function ste(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Uz,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<Fz||n>Bz||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function lte(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function ute(e){let t=uA.resolve(e);const r=e.charCodeAt(e.length-1);(r===Lz||Vb&&r===Mz)&&t[t.length-1]!==uA.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(zz,"%25")),!Vb&&t.includes("\\")&&(t=t.replace(qz,"%5C")),t.includes(`
`)&&(t=t.replace(Vz,"%0A")),t.includes("\r")&&(t=t.replace(Hz,"%0D")),t.includes("	")&&(t=t.replace(Wz,"%09")),n.pathname=t,n}var Hy,lA,uA,Cc,BD,UD,Tz,Az,Ka,Bv,n1,i1,o1,a1,zD,qD,vd,VD,Os,Jr,HD,Xa,WD,GD,KD,JD,Uv,s1,l1,u1,YD,XD,zv,kc,qv,Wy,cA,fA,QD,xz,Oz,Pz,Rz,qb,Nz,Iz,jz,Cz,kz,Dz,ZD,Mz,Lz,Fz,Bz,Vb,Uz,zz,qz,Vz,Hz,Wz,Gz=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DHWh-hmB.js"(){Te(),Ng(),iE(),Hy={},lA=!1,uA=Zee(),Cc=2147483647,BD=/^xn--/,UD=/[^\0-\x7E]/,Tz=/[\x2E\u3002\uFF0E\uFF61]/g,Az={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ka=Math.floor,Bv=String.fromCharCode,n1=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},i1=function(e,t,r){let n=0;for(e=r?Ka(e/700):e>>1,e+=Ka(e/t);e>455;n+=36)e=Ka(e/35);return Ka(n+36*e/(e+38))},o1=function(e){const t=[],r=e.length;let n=0,i=128,o=72,a=e.lastIndexOf("-");a<0&&(a=0);for(let l=0;l<a;++l)e.charCodeAt(l)>=128&&jc("not-basic"),t.push(e.charCodeAt(l));for(let l=a>0?a+1:0;l<r;){let u=n;for(let c=1,h=36;;h+=36){l>=r&&jc("invalid-input");const g=(s=e.charCodeAt(l++))-48<10?s-22:s-65<26?s-65:s-97<26?s-97:36;(g>=36||g>Ka((Cc-n)/c))&&jc("overflow"),n+=g*c;const m=h<=o?1:h>=o+26?26:h-o;if(g<m)break;const _=36-m;c>Ka(Cc/_)&&jc("overflow"),c*=_}const f=t.length+1;o=i1(n-u,f,u==0),Ka(n/f)>Cc-i&&jc("overflow"),i+=Ka(n/f),n%=f,t.splice(n++,0,i)}var s;return String.fromCodePoint(...t)},a1=function(e){const t=[];let r=(e=FD(e)).length,n=128,i=0,o=72;for(const l of e)l<128&&t.push(Bv(l));let a=t.length,s=a;for(a&&t.push("-");s<r;){let l=Cc;for(const f of e)f>=n&&f<l&&(l=f);const u=s+1;l-n>Ka((Cc-i)/u)&&jc("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>Cc&&jc("overflow"),f==n){let c=i;for(let h=36;;h+=36){const g=h<=o?1:h>=o+26?26:h-o;if(c<g)break;const m=c-g,_=36-g;t.push(Bv(n1(g+m%_,0))),c=Ka(m/_)}t.push(Bv(n1(c,0))),o=i1(i,u,s==a),i=0,++s}++i,++n}return t.join("")},zD={version:"2.1.0",ucs2:{decode:FD,encode:e=>String.fromCodePoint(...e)},decode:o1,encode:a1,toASCII:function(e){return LD(e,function(t){return UD.test(t)?"xn--"+a1(t):t})},toUnicode:function(e){return LD(e,function(t){return BD.test(t)?o1(t.slice(4).toLowerCase()):t})}},qD=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var u,f,c,h,g=e[l].replace(o,"%20"),m=g.indexOf(r);m>=0?(u=g.substr(0,m),f=g.substr(m+1)):(u=g,f=""),c=decodeURIComponent(u),h=decodeURIComponent(f),ete(i,c)?Array.isArray(i[c])?i[c].push(h):i[c]=[i[c],h]:i[c]=h}return i},vd=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},VD=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(vd(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(vd(a))}).join(t):o+encodeURIComponent(vd(e[i]))}).join(t):n?encodeURIComponent(vd(n))+r+encodeURIComponent(vd(e)):""},Os={},Os.decode=Os.parse=qD,Os.encode=Os.stringify=VD,Os.decode,Os.encode,Os.parse,Os.stringify,Jr={},HD=zD,Xa={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Jr.parse=bp,Jr.resolve=function(e,t){return bp(e,!1,!0).resolve(t)},Jr.resolveObject=function(e,t){return e?bp(e,!1,!0).resolveObject(t):t},Jr.format=function(e){return Xa.isString(e)&&(e=bp(e)),e instanceof ha?e.format():ha.prototype.format.call(e)},Jr.Url=ha,WD=/^([a-z0-9.+-]+:)/i,GD=/:[0-9]*$/,KD=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,JD=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Uv=["'"].concat(JD),s1=["%","/","?",";","#"].concat(Uv),l1=["/","?","#"],u1=/^[+a-z0-9A-Z_-]{0,63}$/,YD=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,XD={javascript:!0,"javascript:":!0},zv={javascript:!0,"javascript:":!0},kc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},qv=Os,ha.prototype.parse=function(e,t,r){if(!Xa.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!r&&e.split("#").length===1){var s=KD.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?qv.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=WD.exec(a);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=a.substr(0,2)==="//";!f||l&&zv[l]||(a=a.substr(2),this.slashes=!0)}if(!zv[l]&&(f||l&&!kc[l])){for(var c,h,g=-1,m=0;m<l1.length;m++)(_=a.indexOf(l1[m]))!==-1&&(g===-1||_<g)&&(g=_);for((h=g===-1?a.lastIndexOf("@"):a.lastIndexOf("@",g))!==-1&&(c=a.slice(0,h),a=a.slice(h+1),this.auth=decodeURIComponent(c)),g=-1,m=0;m<s1.length;m++){var _;(_=a.indexOf(s1[m]))!==-1&&(g===-1||_<g)&&(g=_)}g===-1&&(g=a.length),this.host=a.slice(0,g),a=a.slice(g),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var p=this.hostname.split(/\./),S=(m=0,p.length);m<S;m++){var y=p[m];if(y&&!y.match(u1)){for(var E="",$=0,T=y.length;$<T;$++)y.charCodeAt($)>127?E+="x":E+=y[$];if(!E.match(u1)){var d=p.slice(0,m),A=p.slice(m+1),x=y.match(YD);x&&(d.push(x[1]),A.unshift(x[2])),A.length&&(a="/"+A.join(".")+a),this.hostname=d.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=HD.toASCII(this.hostname));var O=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+O,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!XD[u])for(m=0,S=Uv.length;m<S;m++){var F=Uv[m];if(a.indexOf(F)!==-1){var V=encodeURIComponent(F);V===F&&(V=escape(F)),a=a.split(F).join(V)}}var Q=a.indexOf("#");Q!==-1&&(this.hash=a.substr(Q),a=a.slice(0,Q));var H=a.indexOf("?");if(H!==-1?(this.search=a.substr(H),this.query=a.substr(H+1),t&&(this.query=qv.parse(this.query)),a=a.slice(0,H)):t&&(this.search="",this.query={}),a&&(this.pathname=a),kc[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){O=this.pathname||"";var X=this.search||"";this.path=O+X}return this.href=this.format(),this},ha.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Xa.isObject(this.query)&&Object.keys(this.query).length&&(o=qv.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||kc[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}))+(a=a.replace("#","%23"))+n},ha.prototype.resolve=function(e){return this.resolveObject(bp(e,!1,!0)).format()},ha.prototype.resolveObject=function(e){if(Xa.isString(e)){var t=new ha;t.parse(e,!1,!0),e=t}for(var r=new ha,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];l!=="protocol"&&(r[l]=e[l])}return kc[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!kc[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||zv[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),h[0]!==""&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",m=r.search||"";r.path=g+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",p=v||_||r.host&&e.pathname,S=p,y=r.pathname&&r.pathname.split("/")||[],E=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!kc[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(h[0]===""?h[0]=e.host:h.unshift(e.host)),e.host=null),p=p&&(h[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=h;else if(h.length)y||(y=[]),y.pop(),y=y.concat(h),r.search=e.search,r.query=e.query;else if(!Xa.isNullOrUndefined(e.search))return E&&(r.hostname=r.host=y.shift(),(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift())),r.search=e.search,r.query=e.query,Xa.isNull(r.pathname)&&Xa.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var $=y.slice(-1)[0],T=(r.host||e.host||y.length>1)&&($==="."||$==="..")||$==="",d=0,A=y.length;A>=0;A--)($=y[A])==="."?y.splice(A,1):$===".."?(y.splice(A,1),d++):d&&(y.splice(A,1),d--);if(!p&&!S)for(;d--;d)y.unshift("..");!p||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),T&&y.join("/").substr(-1)!=="/"&&y.push("");var x,O=y[0]===""||y[0]&&y[0].charAt(0)==="/";return E&&(r.hostname=r.host=O?"":y.length?y.shift():"",(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift())),(p=p||r.host&&y.length)&&!O&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),Xa.isNull(r.pathname)&&Xa.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},ha.prototype.parseHost=function(){var e=this.host,t=GD.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Wy={},cA=!1,fA=tte(),QD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=ote,Jr.fileURLToPath=rte,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.URL,xz=92,Oz=47,Pz=97,Rz=122,qb=QD==="win32",Nz=/\//g,Iz=/%/g,jz=/\\/g,Cz=/\n/g,kz=/\r/g,Dz=/\t/g,ZD=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=ute,Jr.fileURLToPath=ate,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.parse,Jr.URL,Mz=92,Lz=47,Fz=97,Bz=122,Vb=ZD==="win32",Uz=/\//g,zz=/%/g,qz=/\\/g,Vz=/\n/g,Hz=/\r/g,Wz=/\t/g}}),oE={};sl(oE,{Agent:()=>i6,ClientRequest:()=>o6,IncomingMessage:()=>a6,METHODS:()=>s6,STATUS_CODES:()=>l6,default:()=>js,get:()=>u6,globalAgent:()=>c6,request:()=>f6});function Kz(){if(dA)return vo;dA=!0,vo.fetch=n(Eu.fetch)&&n(Eu.ReadableStream),vo.writableStream=n(Eu.WritableStream),vo.abortController=n(Eu.AbortController);var e;function t(){if(e!==void 0)return e;if(Eu.XMLHttpRequest){e=new Eu.XMLHttpRequest;try{e.open("GET",Eu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}vo.arraybuffer=vo.fetch||r("arraybuffer"),vo.msstream=!vo.fetch&&r("ms-stream"),vo.mozchunkedarraybuffer=!vo.fetch&&r("moz-chunked-arraybuffer"),vo.overrideMimeType=vo.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,vo}function Jz(){return hA||(hA=!0,Gy=Xi.EventEmitter),Gy}function cte(){if(pA)return Ky;pA=!0;function e(m,_){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);_&&(p=p.filter(function(S){return Object.getOwnPropertyDescriptor(m,S).enumerable})),v.push.apply(v,p)}return v}function t(m){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?e(Object(v),!0).forEach(function(p){r(m,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(v,p))})}return m}function r(m,_,v){return _=a(_),_ in m?Object.defineProperty(m,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[_]=v,m}function n(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function i(m,_){for(var v=0;v<_.length;v++){var p=_[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,a(p.key),p)}}function o(m,_,v){return _&&i(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),m}function a(m){var _=s(m,"string");return typeof _=="symbol"?_:String(_)}function s(m,_){if(typeof m!="object"||m===null)return m;var v=m[Symbol.toPrimitive];if(v!==void 0){var p=v.call(m,_);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var l=Io(),u=l.Buffer,f=dt,c=f.inspect,h=c&&c.custom||"inspect";function g(m,_,v){u.prototype.copy.call(m,_,v)}return Ky=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return o(m,[{key:"push",value:function(v){var p={data:v,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(v){var p={data:v,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var p=this.head,S=""+p.data;p=p.next;)S+=v+p.data;return S}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var p=u.allocUnsafe(v>>>0),S=this.head,y=0;S;)g(S.data,p,y),y+=S.data.length,S=S.next;return p}},{key:"consume",value:function(v,p){var S;return v<this.head.data.length?(S=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?S=this.shift():S=p?this._getString(v):this._getBuffer(v),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var p=this.head,S=1,y=p.data;for(v-=y.length;p=p.next;){var E=p.data,$=v>E.length?E.length:v;if($===E.length?y+=E:y+=E.slice(0,v),v-=$,v===0){$===E.length?(++S,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=E.slice($));break}++S}return this.length-=S,y}},{key:"_getBuffer",value:function(v){var p=u.allocUnsafe(v),S=this.head,y=1;for(S.data.copy(p),v-=S.data.length;S=S.next;){var E=S.data,$=v>E.length?E.length:v;if(E.copy(p,p.length-v,0,$),v-=$,v===0){$===E.length?(++y,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=E.slice($));break}++y}return this.length-=y,p}},{key:h,value:function(v,p){return c(this,t(t({},p),{},{depth:0,customInspect:!1}))}}]),m}(),Ky}function Yz(){if(mA)return Jy;mA=!0;var e=hi;function t(s,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,s)):e.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(s,l){o(s,l),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function a(s,l){var u=s._readableState,f=s._writableState;u&&u.autoDestroy||f&&f.autoDestroy?s.destroy(l):s.emit("error",l)}return Jy={destroy:t,undestroy:i,errorOrDestroy:a},Jy}function Vh(){if(gA)return Yy;gA=!0;const e={};function t(a,s,l){l||(l=Error);function u(c,h,g){return typeof s=="string"?s:s(c,h,g)}class f extends l{constructor(h,g,m){super(u(h,g,m))}}f.prototype.name=l.name,f.prototype.code=a,e[a]=f}function r(a,s){if(Array.isArray(a)){const l=a.length;return a=a.map(u=>String(u)),l>2?`one of ${s} ${a.slice(0,l-1).join(", ")}, or `+a[l-1]:l===2?`one of ${s} ${a[0]} or ${a[1]}`:`of ${s} ${a[0]}`}else return`of ${s} ${String(a)}`}function n(a,s,l){return a.substr(0,s.length)===s}function i(a,s,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-s.length,l)===s}function o(a,s,l){return typeof l!="number"&&(l=0),l+s.length>a.length?!1:a.indexOf(s,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(a,s){return'The value "'+s+'" is invalid for option "'+a+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(a,s,l){let u;typeof s=="string"&&n(s,"not ")?(u="must not be",s=s.replace(/^not /,"")):u="must be";let f;if(i(a," argument"))f=`The ${a} ${u} ${r(s,"type")}`;else{const c=o(a,".")?"property":"argument";f=`The "${a}" ${c} ${u} ${r(s,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Yy.codes=e,Yy}function Xz(){if(vA)return Xy;vA=!0;var e=Vh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,a){var s=t(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=a?o:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return Xy={getHighWaterMark:r},Xy}function Qz(){if(yA)return Qy;yA=!0;var e=hi;Qy=x;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){oe(Y,J)}}var r;x.WritableState=d;var n={deprecate:Kee()},i=Jz(),o=Io().Buffer,a=(typeof wA<"u"?wA:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof a}var u=Yz(),f=Xz(),c=f.getHighWaterMark,h=Vh().codes,g=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,S=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;hc()(x,i);function T(){}function d(J,Y,se){r=r||Rh(),J=J||{},typeof se!="boolean"&&(se=Y instanceof r),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ne){ce(Y,Ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,se=[];Y;)se.push(Y),Y=Y.next;return se},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==x?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function x(J){r=r||Rh();var Y=this instanceof r;if(!Y&&!A.call(x,this))return new x(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}x.prototype.pipe=function(){$(this,new v)};function O(J,Y){var se=new y;$(J,se),e.nextTick(Y,se)}function C(J,Y,se,be){var Ne;return se===null?Ne=new S:typeof se!="string"&&!Y.objectMode&&(Ne=new g("chunk",["string","Buffer"],se)),Ne?($(J,Ne),e.nextTick(be,Ne),!1):!0}x.prototype.write=function(J,Y,se){var be=this._writableState,Ne=!1,R=!be.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=s(J)),typeof Y=="function"&&(se=Y,Y=null),R?Y="buffer":Y||(Y=be.defaultEncoding),typeof se!="function"&&(se=T),be.ending?O(this,se):(R||C(this,be,J,se))&&(be.pendingcb++,Ne=V(this,be,R,J,Y,se)),Ne},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&k(this,J))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new E(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,se){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,se)),Y}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,se,be,Ne,R){if(!se){var D=F(Y,be,Ne);be!==D&&(se=!0,Ne="buffer",be=D)}var M=Y.objectMode?1:be.length;Y.length+=M;var K=Y.length<Y.highWaterMark;if(K||(Y.needDrain=!0),Y.writing||Y.corked){var ae=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Ne,isBuf:se,callback:R,next:null},ae?ae.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else Q(J,Y,!1,M,be,Ne,R);return K}function Q(J,Y,se,be,Ne,R,D){Y.writelen=be,Y.writecb=D,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new p("write")):se?J._writev(Ne,Y.onwrite):J._write(Ne,R,Y.onwrite),Y.sync=!1}function H(J,Y,se,be,Ne){--Y.pendingcb,se?(e.nextTick(Ne,be),e.nextTick(N,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Ne(be),J._writableState.errorEmitted=!0,$(J,be),N(J,Y))}function X(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function ce(J,Y){var se=J._writableState,be=se.sync,Ne=se.writecb;if(typeof Ne!="function")throw new _;if(X(se),Y)H(J,se,be,Y,Ne);else{var R=B(se)||J.destroyed;!R&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&k(J,se),be?e.nextTick(Z,J,se,R,Ne):Z(J,se,R,Ne)}}function Z(J,Y,se,be){se||ie(J,Y),Y.pendingcb--,be(),N(J,Y)}function ie(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function k(J,Y){Y.bufferProcessing=!0;var se=Y.bufferedRequest;if(J._writev&&se&&se.next){var be=Y.bufferedRequestCount,Ne=new Array(be),R=Y.corkedRequestsFree;R.entry=se;for(var D=0,M=!0;se;)Ne[D]=se,se.isBuf||(M=!1),se=se.next,D+=1;Ne.allBuffers=M,Q(J,Y,!0,Y.length,Ne,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;se;){var K=se.chunk,ae=se.encoding,fe=se.callback,de=Y.objectMode?1:K.length;if(Q(J,Y,!1,de,K,ae,fe),se=se.next,Y.bufferedRequestCount--,Y.writing)break}se===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=se,Y.bufferProcessing=!1}x.prototype._write=function(J,Y,se){se(new m("_write()"))},x.prototype._writev=null,x.prototype.end=function(J,Y,se){var be=this._writableState;return typeof J=="function"?(se=J,J=null,Y=null):typeof Y=="function"&&(se=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||q(this,be,se),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function G(J,Y){J._final(function(se){Y.pendingcb--,se&&$(J,se),Y.prefinished=!0,J.emit("prefinish"),N(J,Y)})}function P(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(G,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function N(J,Y){var se=B(Y);if(se&&(P(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return se}function q(J,Y,se){Y.ending=!0,N(J,Y),se&&(Y.finished?e.nextTick(se):J.once("finish",se)),Y.ended=!0,J.writable=!1}function oe(J,Y,se){var be=J.entry;for(J.entry=null;be;){var Ne=be.callback;Y.pendingcb--,Ne(se),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=u.destroy,x.prototype._undestroy=u.undestroy,x.prototype._destroy=function(J,Y){Y(J)},Qy}function Rh(){if(bA)return Zy;bA=!0;var e=hi,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};Zy=s;var r=Zz(),n=Qz();hc()(s,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Zy}function dN(){if(_A)return e0;_A=!0;var e=Vh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=t(s||r);var l=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||s.call(o)},g=o._readableState&&o._readableState.endEmitted,m=function(){l=!1,g=!0,u||s.call(o)},_=function(y){s.call(o,y)},v=function(){var y;if(l&&!g)return(!o._readableState||!o._readableState.ended)&&(y=new e),s.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),s.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",m),o.on("finish",h),a.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",m),o.removeListener("error",_),o.removeListener("close",v)}}return e0=i,e0}function fte(){if(EA)return t0;EA=!0;var e=hi,t;function r(E,$,T){return $=n($),$ in E?Object.defineProperty(E,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[$]=T,E}function n(E){var $=i(E,"string");return typeof $=="symbol"?$:String($)}function i(E,$){if(typeof E!="object"||E===null)return E;var T=E[Symbol.toPrimitive];if(T!==void 0){var d=T.call(E,$);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(E)}var o=dN(),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function g(E,$){return{value:E,done:$}}function m(E){var $=E[a];if($!==null){var T=E[h].read();T!==null&&(E[f]=null,E[a]=null,E[s]=null,$(g(T,!1)))}}function _(E){e.nextTick(m,E)}function v(E,$){return function(T,d){E.then(function(){if($[u]){T(g(void 0,!0));return}$[c](T,d)},d)}}var p=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var $=this,T=this[l];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(g(void 0,!0));if(this[h].destroyed)return new Promise(function(O,C){e.nextTick(function(){$[l]?C($[l]):O(g(void 0,!0))})});var d=this[f],A;if(d)A=new Promise(v(d,this));else{var x=this[h].read();if(x!==null)return Promise.resolve(g(x,!1));A=new Promise(this[c])}return this[f]=A,A}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var $=this;return new Promise(function(T,d){$[h].destroy(null,function(A){if(A){d(A);return}T(g(void 0,!0))})})}),t),p),y=function($){var T,d=Object.create(S,(T={},r(T,h,{value:$,writable:!0}),r(T,a,{value:null,writable:!0}),r(T,s,{value:null,writable:!0}),r(T,l,{value:null,writable:!0}),r(T,u,{value:$._readableState.endEmitted,writable:!0}),r(T,c,{value:function(x,O){var C=d[h].read();C?(d[f]=null,d[a]=null,d[s]=null,x(g(C,!1))):(d[a]=x,d[s]=O)},writable:!0}),T));return d[f]=null,o($,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=d[s];x!==null&&(d[f]=null,d[a]=null,d[s]=null,x(A)),d[l]=A;return}var O=d[a];O!==null&&(d[f]=null,d[a]=null,d[s]=null,O(g(void 0,!0))),d[u]=!0}),$.on("readable",_.bind(null,d)),d};return t0=y,t0}function dte(){return SA||(SA=!0,r0=function(){throw new Error("Readable.from is not available in the browser")}),r0}function Zz(){if($A)return n0;$A=!0;var e=hi;n0=O;var t;O.ReadableState=x,Xi.EventEmitter;var r=function(D,M){return D.listeners(M).length},n=Jz(),i=Io().Buffer,o=(typeof TA<"u"?TA:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(R){return i.from(R)}function s(R){return i.isBuffer(R)||R instanceof o}var l=dt,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=cte(),c=Yz(),h=Xz(),g=h.getHighWaterMark,m=Vh().codes,_=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,p=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,E,$;hc()(O,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,D,M){if(typeof R.prependListener=="function")return R.prependListener(D,M);!R._events||!R._events[D]?R.on(D,M):Array.isArray(R._events[D])?R._events[D].unshift(M):R._events[D]=[M,R._events[D]]}function x(R,D,M){t=t||Rh(),R=R||{},typeof M!="boolean"&&(M=D instanceof t),this.objectMode=!!R.objectMode,M&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=g(this,R,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=ch.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function O(R){if(t=t||Rh(),!(this instanceof O))return new O(R);var D=this instanceof t;this._readableState=new x(R,this,D),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(R,D){D(R)},O.prototype.push=function(R,D){var M=this._readableState,K;return M.objectMode?K=!0:typeof R=="string"&&(D=D||M.defaultEncoding,D!==M.encoding&&(R=i.from(R,D),D=""),K=!0),C(this,R,D,!1,K)},O.prototype.unshift=function(R){return C(this,R,null,!0,!1)};function C(R,D,M,K,ae){u("readableAddChunk",D);var fe=R._readableState;if(D===null)fe.reading=!1,ce(R,fe);else{var de;if(ae||(de=V(fe,D)),de)T(R,de);else if(fe.objectMode||D&&D.length>0)if(typeof D!="string"&&!fe.objectMode&&Object.getPrototypeOf(D)!==i.prototype&&(D=a(D)),K)fe.endEmitted?T(R,new S):F(R,fe,D,!0);else if(fe.ended)T(R,new v);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!M?(D=fe.decoder.write(D),fe.objectMode||D.length!==0?F(R,fe,D,!1):k(R,fe)):F(R,fe,D,!1)}else K||(fe.reading=!1,k(R,fe))}return!fe.ended&&(fe.length<fe.highWaterMark||fe.length===0)}function F(R,D,M,K){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,R.emit("data",M)):(D.length+=D.objectMode?1:M.length,K?D.buffer.unshift(M):D.buffer.push(M),D.needReadable&&Z(R)),k(R,D)}function V(R,D){var M;return!s(D)&&typeof D!="string"&&D!==void 0&&!R.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],D)),M}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(R){y||(y=ch.StringDecoder);var D=new y(R);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,K="";M!==null;)K+=D.write(M.data),M=M.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var Q=1073741824;function H(R){return R>=Q?R=Q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function X(R,D){return R<=0||D.length===0&&D.ended?0:D.objectMode?1:R!==R?D.flowing&&D.length?D.buffer.head.data.length:D.length:(R>D.highWaterMark&&(D.highWaterMark=H(R)),R<=D.length?R:D.ended?D.length:(D.needReadable=!0,0))}O.prototype.read=function(R){u("read",R),R=parseInt(R,10);var D=this._readableState,M=R;if(R!==0&&(D.emittedReadable=!1),R===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return u("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?se(this):Z(this),null;if(R=X(R,D),R===0&&D.ended)return D.length===0&&se(this),null;var K=D.needReadable;u("need readable",K),(D.length===0||D.length-R<D.highWaterMark)&&(K=!0,u("length less than watermark",K)),D.ended||D.reading?(K=!1,u("reading or ended",K)):K&&(u("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(R=X(M,D)));var ae;return R>0?ae=Y(R,D):ae=null,ae===null?(D.needReadable=D.length<=D.highWaterMark,R=0):(D.length-=R,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),M!==R&&D.ended&&se(this)),ae!==null&&this.emit("data",ae),ae};function ce(R,D){if(u("onEofChunk"),!D.ended){if(D.decoder){var M=D.decoder.end();M&&M.length&&(D.buffer.push(M),D.length+=D.objectMode?1:M.length)}D.ended=!0,D.sync?Z(R):(D.needReadable=!1,D.emittedReadable||(D.emittedReadable=!0,ie(R)))}}function Z(R){var D=R._readableState;u("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(u("emitReadable",D.flowing),D.emittedReadable=!0,e.nextTick(ie,R))}function ie(R){var D=R._readableState;u("emitReadable_",D.destroyed,D.length,D.ended),!D.destroyed&&(D.length||D.ended)&&(R.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,J(R)}function k(R,D){D.readingMore||(D.readingMore=!0,e.nextTick(B,R,D))}function B(R,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var M=D.length;if(u("maybeReadMore read 0"),R.read(0),M===D.length)break}D.readingMore=!1}O.prototype._read=function(R){T(this,new p("_read()"))},O.prototype.pipe=function(R,D){var M=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=R;break;case 1:K.pipes=[K.pipes,R];break;default:K.pipes.push(R);break}K.pipesCount+=1,u("pipe count=%d opts=%j",K.pipesCount,D);var ae=(!D||D.end!==!1)&&R!==e.stdout&&R!==e.stderr,fe=ae?pe:I;K.endEmitted?e.nextTick(fe):M.once("end",fe),R.on("unpipe",de);function de(L,ne){u("onunpipe"),L===M&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,ke())}function pe(){u("onend"),R.end()}var xe=G(M);R.on("drain",xe);var Le=!1;function ke(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",xe),R.removeListener("error",qe),R.removeListener("unpipe",de),M.removeListener("end",pe),M.removeListener("end",I),M.removeListener("data",nt),Le=!0,K.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&xe()}M.on("data",nt);function nt(L){u("ondata");var ne=R.write(L);u("dest.write",ne),ne===!1&&((K.pipesCount===1&&K.pipes===R||K.pipesCount>1&&Ne(K.pipes,R)!==-1)&&!Le&&(u("false write response, pause",K.awaitDrain),K.awaitDrain++),M.pause())}function qe(L){u("onerror",L),I(),R.removeListener("error",qe),r(R,"error")===0&&T(R,L)}A(R,"error",qe);function Ue(){R.removeListener("finish",W),I()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),I()}R.once("finish",W);function I(){u("unpipe"),M.unpipe(R)}return R.emit("pipe",M),K.flowing||(u("pipe resume"),M.resume()),R};function G(R){return function(){var M=R._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(R,"data")&&(M.flowing=!0,J(R))}}O.prototype.unpipe=function(R){var D=this._readableState,M={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return R&&R!==D.pipes?this:(R||(R=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,R&&R.emit("unpipe",this,M),this);if(!R){var K=D.pipes,ae=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var fe=0;fe<ae;fe++)K[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Ne(D.pipes,R);return de===-1?this:(D.pipes.splice(de,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),R.emit("unpipe",this,M),this)},O.prototype.on=function(R,D){var M=n.prototype.on.call(this,R,D),K=this._readableState;return R==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):R==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,u("on readable",K.length,K.reading),K.length?Z(this):K.reading||e.nextTick(N,this)),M},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(R,D){var M=n.prototype.removeListener.call(this,R,D);return R==="readable"&&e.nextTick(P,this),M},O.prototype.removeAllListeners=function(R){var D=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(P,this),D};function P(R){var D=R._readableState;D.readableListening=R.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:R.listenerCount("data")>0&&R.resume()}function N(R){u("readable nexttick read 0"),R.read(0)}O.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,D){D.resumeScheduled||(D.resumeScheduled=!0,e.nextTick(oe,R,D))}function oe(R,D){u("resume",D.reading),D.reading||R.read(0),D.resumeScheduled=!1,R.emit("resume"),J(R),D.flowing&&!D.reading&&R.read(0)}O.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var D=R._readableState;for(u("flow",D.flowing);D.flowing&&R.read()!==null;);}O.prototype.wrap=function(R){var D=this,M=this._readableState,K=!1;R.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var de=M.decoder.end();de&&de.length&&D.push(de)}D.push(null)}),R.on("data",function(de){if(u("wrapped data"),M.decoder&&(de=M.decoder.write(de)),!(M.objectMode&&de==null)&&!(!M.objectMode&&(!de||!de.length))){var pe=D.push(de);pe||(K=!0,R.pause())}});for(var ae in R)this[ae]===void 0&&typeof R[ae]=="function"&&(this[ae]=function(pe){return function(){return R[pe].apply(R,arguments)}}(ae));for(var fe=0;fe<d.length;fe++)R.on(d[fe],this.emit.bind(this,d[fe]));return this._read=function(de){u("wrapped _read",de),K&&(K=!1,R.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=fte()),E(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),O._fromList=Y,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,D){if(D.length===0)return null;var M;return D.objectMode?M=D.buffer.shift():!R||R>=D.length?(D.decoder?M=D.buffer.join(""):D.buffer.length===1?M=D.buffer.first():M=D.buffer.concat(D.length),D.buffer.clear()):M=D.buffer.consume(R,D.decoder),M}function se(R){var D=R._readableState;u("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,e.nextTick(be,D,R))}function be(R,D){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,D.readable=!1,D.emit("end"),R.autoDestroy)){var M=D._writableState;(!M||M.autoDestroy&&M.finished)&&D.destroy()}}typeof Symbol=="function"&&(O.from=function(R,D){return $===void 0&&($=dte()),$(O,R,D)});function Ne(R,D){for(var M=0,K=R.length;M<K;M++)if(R[M]===D)return M;return-1}return n0}function e6(){if(AA)return i0;AA=!0,i0=s;var e=Vh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Rh();hc()(s,o);function a(f,c){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(g===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),g(f);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}s.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},s.prototype._transform=function(f,c,h){h(new t("_transform()"))},s.prototype._write=function(f,c,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=c,!g.transforming){var m=this._readableState;(g.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},s.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return i0}function hte(){if(xA)return o0;xA=!0,o0=t;var e=e6();hc()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},o0}function pte(){if(OA)return a0;OA=!0;var e;function t(h){var g=!1;return function(){g||(g=!0,h.apply(void 0,arguments))}}var r=Vh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function a(h){return h.setHeader&&typeof h.abort=="function"}function s(h,g,m,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=dN()),e(h,{readable:g,writable:m},function(S){if(S)return _(S);v=!0,_()});var p=!1;return function(S){if(!v&&!p){if(p=!0,a(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(S||new i("pipe"))}}}function l(h){h()}function u(h,g){return h.pipe(g)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];var _=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var v,p=g.map(function(S,y){var E=y<g.length-1,$=y>0;return s(S,E,$,function(T){v||(v=T),T&&p.forEach(l),!E&&(p.forEach(l),_(v))})});return g.reduce(u)}return a0=c,a0}function t6(){return PA||(PA=!0,Wi=Wi=Zz(),Wi.Stream=Wi,Wi.Readable=Wi,Wi.Writable=Qz(),Wi.Duplex=Rh(),Wi.Transform=e6(),Wi.PassThrough=hte(),Wi.finished=dN(),Wi.pipeline=pte()),Wi}function r6(){if(RA)return Bp;RA=!0;var e=Io().Buffer,t=hi,r=Kz(),n=hc(),i=t6(),o=Bp.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=Bp.IncomingMessage=function(s,l,u,f){var c=this||Up;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){g.read().then(function(S){if(!c._destroyed){if(f(S.done),S.done){c.push(null);return}c.push(e.from(S.value)),p()}}).catch(function(S){f(!0),c._destroyed||c.emit("error",S)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(S,y){c.headers[y.toLowerCase()]=S,c.rawHeaders.push(y,S)}),r.writableStream){var h=new WritableStream({write:function(S){return f(!1),new Promise(function(y,E){c._destroyed?E():c.push(e.from(S))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(S){f(!0),c._destroyed||c.emit("error",S)}});try{l.body.pipeTo(h).catch(function(S){f(!0),c._destroyed||c.emit("error",S)});return}catch{}}var g=l.body.getReader();p()}else{c._xhr=s,c._pos=0,c.url=s.responseURL,c.statusCode=s.status,c.statusMessage=s.statusText;var m=s.getAllResponseHeaders().split(/\r?\n/);if(m.forEach(function(p){var S=p.match(/^([^:]+):\s*(.*)/);if(S){var y=S[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(S[2])):c.headers[y]!==void 0?c.headers[y]+=", "+S[2]:c.headers[y]=S[2],c.rawHeaders.push(S[1],S[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(a,i.Readable),a.prototype._read=function(){var s=this||Up,l=s._resumeFetch;l&&(s._resumeFetch=null,l())},a.prototype._onXHRProgress=function(s){var l=this||Up,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),g=0;g<c.length;g++)h[g]=c.charCodeAt(g)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var m=new Up.MSStreamReader;m.onprogress=function(){m.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(m.result.slice(l._pos)))),l._pos=m.result.byteLength)},m.onload=function(){s(!0),l.push(null)},m.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(s(!0),l.push(null))},Bp}function mte(){if(NA)return s0;NA=!0;var e=Io().Buffer,t=hi,r=Kz(),n=hc(),i=r6(),o=t6(),a=i.IncomingMessage,s=i.readyStates;function l(h,g){return r.fetch&&g?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=s0=function(h){var g=this||ei;o.Writable.call(g),g._opts=h,g._body=[],g._headers={},h.auth&&g.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){g.setHeader(v,h.headers[v])});var m,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,m=!0;else if(h.mode==="prefer-streaming")m=!1;else if(h.mode==="allow-wrong-content-type")m=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")m=!0;else throw new Error("Invalid value for opts.mode");g._mode=l(m,_),g._fetchTimer=null,g._socketTimeout=null,g._socketTimer=null,g.on("finish",function(){g._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,g){var m=this||ei,_=h.toLowerCase();c.indexOf(_)===-1&&(m._headers[_]={name:h,value:g})},u.prototype.getHeader=function(h){var g=(this||ei)._headers[h.toLowerCase()];return g?g.value:null},u.prototype.removeHeader=function(h){var g=this||ei;delete g._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||ei;if(!h._destroyed){var g=h._opts;"timeout"in g&&g.timeout!==0&&h.setTimeout(g.timeout);var m=h._headers,_=null;g.method!=="GET"&&g.method!=="HEAD"&&(_=new Blob(h._body,{type:(m["content-type"]||{}).value||""}));var v=[];if(Object.keys(m).forEach(function(E){var $=m[E].name,T=m[E].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),h._mode==="fetch"){var p=null;if(r.abortController){var S=new AbortController;p=S.signal,h._fetchAbortController=S,"requestTimeout"in g&&g.requestTimeout!==0&&(h._fetchTimer=ei.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},g.requestTimeout))}ei.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:g.withCredentials?"include":"same-origin",signal:p}).then(function(E){h._fetchResponse=E,h._resetTimers(!1),h._connect()},function(E){h._resetTimers(!0),h._destroyed||h.emit("error",E)})}else{var y=h._xhr=new ei.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(E){t.nextTick(function(){h.emit("error",E)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!g.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in g&&(y.timeout=g.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(E){y.setRequestHeader(E[0],E[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case s.LOADING:case s.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(E){t.nextTick(function(){h.emit("error",E)});return}}}};function f(h){try{var g=h.status;return g!==null&&g!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||ei;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||ei;h._destroyed||(h._response=new a(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(g){h.emit("error",g)}),h.emit("response",h._response))},u.prototype._write=function(h,g,m){var _=this||ei;_._body.push(h),m()},u.prototype._resetTimers=function(h){var g=this||ei;ei.clearTimeout(g._socketTimer),g._socketTimer=null,h?(ei.clearTimeout(g._fetchTimer),g._fetchTimer=null):g._socketTimeout&&(g._socketTimer=ei.setTimeout(function(){g.emit("timeout")},g._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var g=this||ei;g._destroyed=!0,g._resetTimers(!0),g._response&&(g._response._destroyed=!0),g._xhr?g._xhr.abort():g._fetchAbortController&&g._fetchAbortController.abort(),h&&g.emit("error",h)},u.prototype.end=function(h,g,m){var _=this||ei;typeof h=="function"&&(m=h,h=void 0),o.Writable.prototype.end.call(_,h,g,m)},u.prototype.setTimeout=function(h,g){var m=this||ei;g&&m.once("timeout",g),m._socketTimeout=h,m._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return s0}function gte(){if(IA)return l0;IA=!0,l0=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return l0}function vte(){return jA||(jA=!0,u0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),u0}function yte(){if(CA)return c0;CA=!0;var e=mte(),t=r6(),r=gte(),n=vte(),i=Jr,o=c0;return o.request=function(a,s){typeof a=="string"?a=i.parse(a):a=r(a);var l=n6.location.protocol.search(/^https?:$/)===-1?"http:":"",u=a.protocol||l,f=a.hostname||a.host,c=a.port,h=a.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),a.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var g=new e(a);return s&&g.on("response",s),g},o.get=function(s,l){var u=o.request(s,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],c0}var vo,dA,Eu,Gy,hA,Ky,pA,Jy,mA,Yy,gA,Xy,vA,Qy,yA,wA,Zy,bA,e0,_A,t0,EA,r0,SA,n0,$A,TA,i0,AA,o0,xA,a0,OA,Wi,PA,Bp,RA,Up,s0,NA,ei,l0,IA,u0,jA,c0,CA,n6,js,i6,o6,a6,s6,l6,u6,c6,f6,hN=nn({"../../node_modules/@jspm/core/nodelibs/browser/http.js"(){Te(),lN(),Nee(),nE(),Q_(),Mee(),Ng(),Ig(),Jee(),$z(),Gz(),iE(),vo={},dA=!1,Eu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Gy={},hA=!1,Ky={},pA=!1,Jy={},mA=!1,Yy={},gA=!1,Xy={},vA=!1,Qy={},yA=!1,wA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Zy={},bA=!1,e0={},_A=!1,t0={},EA=!1,r0={},SA=!1,n0={},$A=!1,TA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,i0={},AA=!1,o0={},xA=!1,a0={},OA=!1,Wi={},PA=!1,Bp={},RA=!1,Up=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,s0={},NA=!1,ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,l0={},IA=!1,u0={},jA=!1,c0={},CA=!1,n6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,js=yte(),i6=js.Agent,o6=js.ClientRequest,a6=js.IncomingMessage,s6=js.METHODS,l6=js.STATUS_CODES,u6=js.get,c6=js.globalAgent,f6=js.request}});function eM(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function wte(e,t,r){for(var n,i,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(os[(i=n)>>18&63]+os[i>>12&63]+os[i>>6&63]+os[63&i]);return o.join("")}function Rl(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,vt.prototype),t}function vt(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return kA(e)}return d6(e,t,r)}function d6(e,t,r){if(typeof e=="string")return function(o,a){if(typeof a=="string"&&a!==""||(a="utf8"),!vt.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var s=0|p6(o,a),l=Rl(s),u=l.write(o,a);return u!==s&&(l=l.slice(0,u)),l}(e,t);if(ArrayBuffer.isView(e))return c1(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Nl(e,ArrayBuffer)||e&&Nl(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Nl(e,SharedArrayBuffer)||e&&Nl(e.buffer,SharedArrayBuffer)))return tM(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return vt.from(n,t,r);var i=function(o){if(vt.isBuffer(o)){var a=0|pN(o.length),s=Rl(a);return s.length===0||o.copy(s,0,0,a),s}if(o.length!==void 0)return typeof o.length!="number"||mN(o.length)?Rl(0):c1(o);if(o.type==="Buffer"&&Array.isArray(o.data))return c1(o.data)}(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return vt.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h6(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function kA(e){return h6(e),Rl(e<0?0:0|pN(e))}function c1(e){for(var t=e.length<0?0:0|pN(e.length),r=Rl(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function tM(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,vt.prototype),n}function pN(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p6(e,t){if(vt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Nl(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return DA(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return y6(e).length;default:if(i)return n?-1:DA(e).length;t=(""+t).toLowerCase(),i=!0}}function bte(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Pte(this,t,r);case"utf8":case"utf-8":return g6(this,t,r);case"ascii":return xte(this,t,r);case"latin1":case"binary":return Ote(this,t,r);case"base64":return Ate(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rte(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Dc(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function rM(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),mN(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof t=="string"&&(t=vt.from(t,n)),vt.isBuffer(t))return t.length===0?-1:nM(e,t,r,n,i);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):nM(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function nM(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(g,m){return a===1?g[m]:g.readUInt16BE(m*a)}if(i){var f=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===l)return f*a}else f!==-1&&(o-=o-f),f=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var c=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){c=!1;break}if(c)return o}return-1}function _te(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(mN(s))return a;e[r+a]=s}return a}function Ete(e,t,r,n){return aE(DA(t,e.length-r),e,r,n)}function m6(e,t,r,n){return aE(function(i){for(var o=[],a=0;a<i.length;++a)o.push(255&i.charCodeAt(a));return o}(t),e,r,n)}function Ste(e,t,r,n){return m6(e,t,r,n)}function $te(e,t,r,n){return aE(y6(t),e,r,n)}function Tte(e,t,r,n){return aE(function(i,o){for(var a,s,l,u=[],f=0;f<i.length&&!((o-=2)<0);++f)a=i.charCodeAt(f),s=a>>8,l=a%256,u.push(l),u.push(s);return u}(t,e.length-r),e,r,n)}function Ate(e,t,r){return t===0&&r===e.length?Hb.fromByteArray(e):Hb.fromByteArray(e.slice(t,r))}function g6(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],f=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(f=l)}f===null?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(h){var g=h.length;if(g<=4096)return String.fromCharCode.apply(String,h);for(var m="",_=0;_<g;)m+=String.fromCharCode.apply(String,h.slice(_,_+=4096));return m}(n)}function xte(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Ote(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Pte(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=A6[e[o]];return i}function Rte(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function si(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function go(e,t,r,n,i,o){if(!vt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function v6(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function iM(e,t,r,n,i){return t=+t,r>>>=0,i||v6(e,0,r,4),Qc.write(e,t,r,n,23,4),r+4}function oM(e,t,r,n,i){return t=+t,r>>>=0,i||v6(e,0,r,8),Qc.write(e,t,r,n,52,8),r+8}function DA(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function y6(e){return Hb.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(T6,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function aE(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Nl(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function mN(e){return e!=e}function aM(e,t){for(var r in e)t[r]=e[r]}function Mc(e,t,r){return Qa(e,t,r)}function _p(e){var t;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}}(r);if(typeof n!="string"&&(Gb.isEncoding===MA||!MA(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=Ite,this.end=jte,t=4;break;case"utf8":this.fillLast=Nte,t=4;break;case"base64":this.text=Cte,this.end=kte,t=3;break;default:return this.write=Dte,this.end=Mte,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Gb.allocUnsafe(t)}function f1(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Nte(e){var t=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,""}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function Ite(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function jte(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Cte(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function kte(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Dte(e){return e.toString(this.encoding)}function Mte(e){return e&&e.length?this.write(e):""}function Lte(){if(LA)return Rd;LA=!0,Rd.byteLength=s,Rd.toByteArray=u,Rd.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(g){var m=g.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=g.indexOf("=");_===-1&&(_=m);var v=_===m?0:4-_%4;return[_,v]}function s(g){var m=a(g),_=m[0],v=m[1];return(_+v)*3/4-v}function l(g,m,_){return(m+_)*3/4-_}function u(g){var m,_=a(g),v=_[0],p=_[1],S=new r(l(g,v,p)),y=0,E=p>0?v-4:v,$;for($=0;$<E;$+=4)m=t[g.charCodeAt($)]<<18|t[g.charCodeAt($+1)]<<12|t[g.charCodeAt($+2)]<<6|t[g.charCodeAt($+3)],S[y++]=m>>16&255,S[y++]=m>>8&255,S[y++]=m&255;return p===2&&(m=t[g.charCodeAt($)]<<2|t[g.charCodeAt($+1)]>>4,S[y++]=m&255),p===1&&(m=t[g.charCodeAt($)]<<10|t[g.charCodeAt($+1)]<<4|t[g.charCodeAt($+2)]>>2,S[y++]=m>>8&255,S[y++]=m&255),S}function f(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function c(g,m,_){for(var v,p=[],S=m;S<_;S+=3)v=(g[S]<<16&16711680)+(g[S+1]<<8&65280)+(g[S+2]&255),p.push(f(v));return p.join("")}function h(g){for(var m,_=g.length,v=_%3,p=[],S=16383,y=0,E=_-v;y<E;y+=S)p.push(c(g,y,y+S>E?E:y+S));return v===1?(m=g[_-1],p.push(e[m>>2]+e[m<<4&63]+"==")):v===2&&(m=(g[_-2]<<8)+g[_-1],p.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),p.join("")}return Rd}function Fte(){return FA||(FA=!0,zp.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,g=e[t+c];for(c+=h,o=g&(1<<-f)-1,g>>=-f,f+=s;f>0;o=o*256+e[t+c],c+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(g?-1:1)*a*Math.pow(2,o-n)},zp.write=function(e,t,r,n,i,o){var a,s,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a=a+c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+g]=s&255,g+=m,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+g]=a&255,g+=m,a/=256,u-=8);e[r+g-m]|=_*128}),zp}function Bte(){if(BA)return Su;BA=!0;const e=Lte(),t=Fte(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Su.Buffer=a,Su.SlowBuffer=p,Su.INSPECT_MAX_BYTES=50;const n=2147483647;Su.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const W=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(W,I),W.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(W){if(W>n)throw new RangeError('The value "'+W+'" is invalid for option "size"');const I=new Uint8Array(W);return Object.setPrototypeOf(I,a.prototype),I}function a(W,I,L){if(typeof W=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(W)}return s(W,I,L)}a.poolSize=8192;function s(W,I,L){if(typeof W=="string")return c(W,I);if(ArrayBuffer.isView(W))return g(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(Le(W,ArrayBuffer)||W&&Le(W.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(W,SharedArrayBuffer)||W&&Le(W.buffer,SharedArrayBuffer)))return m(W,I,L);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=W.valueOf&&W.valueOf();if(ne!=null&&ne!==W)return a.from(ne,I,L);const ye=_(W);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return a.from(W[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}a.from=function(W,I,L){return s(W,I,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function u(W,I,L){return l(W),W<=0?o(W):I!==void 0?typeof L=="string"?o(W).fill(I,L):o(W).fill(I):o(W)}a.alloc=function(W,I,L){return u(W,I,L)};function f(W){return l(W),o(W<0?0:v(W)|0)}a.allocUnsafe=function(W){return f(W)},a.allocUnsafeSlow=function(W){return f(W)};function c(W,I){if((typeof I!="string"||I==="")&&(I="utf8"),!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const L=S(W,I)|0;let ne=o(L);const ye=ne.write(W,I);return ye!==L&&(ne=ne.slice(0,ye)),ne}function h(W){const I=W.length<0?0:v(W.length)|0,L=o(I);for(let ne=0;ne<I;ne+=1)L[ne]=W[ne]&255;return L}function g(W){if(Le(W,Uint8Array)){const I=new Uint8Array(W);return m(I.buffer,I.byteOffset,I.byteLength)}return h(W)}function m(W,I,L){if(I<0||W.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return I===void 0&&L===void 0?ne=new Uint8Array(W):L===void 0?ne=new Uint8Array(W,I):ne=new Uint8Array(W,I,L),Object.setPrototypeOf(ne,a.prototype),ne}function _(W){if(a.isBuffer(W)){const I=v(W.length)|0,L=o(I);return L.length===0||W.copy(L,0,0,I),L}if(W.length!==void 0)return typeof W.length!="number"||ke(W.length)?o(0):h(W);if(W.type==="Buffer"&&Array.isArray(W.data))return h(W.data)}function v(W){if(W>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return W|0}function p(W){return+W!=W&&(W=0),a.alloc(+W)}a.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==a.prototype},a.compare=function(I,L){if(Le(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),Le(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(I)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;let ne=I.length,ye=L.length;for(let Se=0,De=Math.min(ne,ye);Se<De;++Se)if(I[Se]!==L[Se]){ne=I[Se],ye=L[Se];break}return ne<ye?-1:ye<ne?1:0},a.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return a.alloc(0);let ne;if(L===void 0)for(L=0,ne=0;ne<I.length;++ne)L+=I[ne].length;const ye=a.allocUnsafe(L);let Se=0;for(ne=0;ne<I.length;++ne){let De=I[ne];if(Le(De,Uint8Array))Se+De.length>ye.length?(a.isBuffer(De)||(De=a.from(De)),De.copy(ye,Se)):Uint8Array.prototype.set.call(ye,De,Se);else if(a.isBuffer(De))De.copy(ye,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=De.length}return ye};function S(W,I){if(a.isBuffer(W))return W.length;if(ArrayBuffer.isView(W)||Le(W,ArrayBuffer))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const L=W.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&L===0)return 0;let ye=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return ae(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return pe(W).length;default:if(ye)return ne?-1:ae(W).length;I=(""+I).toLowerCase(),ye=!0}}a.byteLength=S;function y(W,I,L){let ne=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(W||(W="utf8");;)switch(W){case"hex":return Z(this,I,L);case"utf8":case"utf-8":return V(this,I,L);case"ascii":return X(this,I,L);case"latin1":case"binary":return ce(this,I,L);case"base64":return F(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,I,L);default:if(ne)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),ne=!0}}a.prototype._isBuffer=!0;function E(W,I,L){const ne=W[I];W[I]=W[L],W[L]=ne}a.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<I;L+=2)E(this,L,L+1);return this},a.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<I;L+=4)E(this,L,L+3),E(this,L+1,L+2);return this},a.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<I;L+=8)E(this,L,L+7),E(this,L+1,L+6),E(this,L+2,L+5),E(this,L+3,L+4);return this},a.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?V(this,0,I):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(I){if(!a.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:a.compare(this,I)===0},a.prototype.inspect=function(){let I="";const L=Su.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(I,L,ne,ye,Se){if(Le(I,Uint8Array)&&(I=a.from(I,I.offset,I.byteLength)),!a.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),ne===void 0&&(ne=I?I.length:0),ye===void 0&&(ye=0),Se===void 0&&(Se=this.length),L<0||ne>I.length||ye<0||Se>this.length)throw new RangeError("out of range index");if(ye>=Se&&L>=ne)return 0;if(ye>=Se)return-1;if(L>=ne)return 1;if(L>>>=0,ne>>>=0,ye>>>=0,Se>>>=0,this===I)return 0;let De=Se-ye,je=ne-L;const Be=Math.min(De,je),at=this.slice(ye,Se),wt=I.slice(L,ne);for(let ut=0;ut<Be;++ut)if(at[ut]!==wt[ut]){De=at[ut],je=wt[ut];break}return De<je?-1:je<De?1:0};function $(W,I,L,ne,ye){if(W.length===0)return-1;if(typeof L=="string"?(ne=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,ke(L)&&(L=ye?0:W.length-1),L<0&&(L=W.length+L),L>=W.length){if(ye)return-1;L=W.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof I=="string"&&(I=a.from(I,ne)),a.isBuffer(I))return I.length===0?-1:T(W,I,L,ne,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(W,I,L):Uint8Array.prototype.lastIndexOf.call(W,I,L):T(W,[I],L,ne,ye);throw new TypeError("val must be string, number or Buffer")}function T(W,I,L,ne,ye){let Se=1,De=W.length,je=I.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(W.length<2||I.length<2)return-1;Se=2,De/=2,je/=2,L/=2}function Be(wt,ut){return Se===1?wt[ut]:wt.readUInt16BE(ut*Se)}let at;if(ye){let wt=-1;for(at=L;at<De;at++)if(Be(W,at)===Be(I,wt===-1?0:at-wt)){if(wt===-1&&(wt=at),at-wt+1===je)return wt*Se}else wt!==-1&&(at-=at-wt),wt=-1}else for(L+je>De&&(L=De-je),at=L;at>=0;at--){let wt=!0;for(let ut=0;ut<je;ut++)if(Be(W,at+ut)!==Be(I,ut)){wt=!1;break}if(wt)return at}return-1}a.prototype.includes=function(I,L,ne){return this.indexOf(I,L,ne)!==-1},a.prototype.indexOf=function(I,L,ne){return $(this,I,L,ne,!0)},a.prototype.lastIndexOf=function(I,L,ne){return $(this,I,L,ne,!1)};function d(W,I,L,ne){L=Number(L)||0;const ye=W.length-L;ne?(ne=Number(ne),ne>ye&&(ne=ye)):ne=ye;const Se=I.length;ne>Se/2&&(ne=Se/2);let De;for(De=0;De<ne;++De){const je=parseInt(I.substr(De*2,2),16);if(ke(je))return De;W[L+De]=je}return De}function A(W,I,L,ne){return xe(ae(I,W.length-L),W,L,ne)}function x(W,I,L,ne){return xe(fe(I),W,L,ne)}function O(W,I,L,ne){return xe(pe(I),W,L,ne)}function C(W,I,L,ne){return xe(de(I,W.length-L),W,L,ne)}a.prototype.write=function(I,L,ne,ye){if(L===void 0)ye="utf8",ne=this.length,L=0;else if(ne===void 0&&typeof L=="string")ye=L,ne=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(ne)?(ne=ne>>>0,ye===void 0&&(ye="utf8")):(ye=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-L;if((ne===void 0||ne>Se)&&(ne=Se),I.length>0&&(ne<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let De=!1;for(;;)switch(ye){case"hex":return d(this,I,L,ne);case"utf8":case"utf-8":return A(this,I,L,ne);case"ascii":case"latin1":case"binary":return x(this,I,L,ne);case"base64":return O(this,I,L,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,I,L,ne);default:if(De)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),De=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(W,I,L){return I===0&&L===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(I,L))}function V(W,I,L){L=Math.min(W.length,L);const ne=[];let ye=I;for(;ye<L;){const Se=W[ye];let De=null,je=Se>239?4:Se>223?3:Se>191?2:1;if(ye+je<=L){let Be,at,wt,ut;switch(je){case 1:Se<128&&(De=Se);break;case 2:Be=W[ye+1],(Be&192)===128&&(ut=(Se&31)<<6|Be&63,ut>127&&(De=ut));break;case 3:Be=W[ye+1],at=W[ye+2],(Be&192)===128&&(at&192)===128&&(ut=(Se&15)<<12|(Be&63)<<6|at&63,ut>2047&&(ut<55296||ut>57343)&&(De=ut));break;case 4:Be=W[ye+1],at=W[ye+2],wt=W[ye+3],(Be&192)===128&&(at&192)===128&&(wt&192)===128&&(ut=(Se&15)<<18|(Be&63)<<12|(at&63)<<6|wt&63,ut>65535&&ut<1114112&&(De=ut))}}De===null?(De=65533,je=1):De>65535&&(De-=65536,ne.push(De>>>10&1023|55296),De=56320|De&1023),ne.push(De),ye+=je}return H(ne)}const Q=4096;function H(W){const I=W.length;if(I<=Q)return String.fromCharCode.apply(String,W);let L="",ne=0;for(;ne<I;)L+=String.fromCharCode.apply(String,W.slice(ne,ne+=Q));return L}function X(W,I,L){let ne="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)ne+=String.fromCharCode(W[ye]&127);return ne}function ce(W,I,L){let ne="";L=Math.min(W.length,L);for(let ye=I;ye<L;++ye)ne+=String.fromCharCode(W[ye]);return ne}function Z(W,I,L){const ne=W.length;(!I||I<0)&&(I=0),(!L||L<0||L>ne)&&(L=ne);let ye="";for(let Se=I;Se<L;++Se)ye+=nt[W[Se]];return ye}function ie(W,I,L){const ne=W.slice(I,L);let ye="";for(let Se=0;Se<ne.length-1;Se+=2)ye+=String.fromCharCode(ne[Se]+ne[Se+1]*256);return ye}a.prototype.slice=function(I,L){const ne=this.length;I=~~I,L=L===void 0?ne:~~L,I<0?(I+=ne,I<0&&(I=0)):I>ne&&(I=ne),L<0?(L+=ne,L<0&&(L=0)):L>ne&&(L=ne),L<I&&(L=I);const ye=this.subarray(I,L);return Object.setPrototypeOf(ye,a.prototype),ye};function k(W,I,L){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+I>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return ye},a.prototype.readUintBE=a.prototype.readUIntBE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=this[I+--L],Se=1;for(;L>0&&(Se*=256);)ye+=this[I+--L]*Se;return ye},a.prototype.readUint8=a.prototype.readUInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]|this[I+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]<<8|this[I+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},a.prototype.readBigUInt64LE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,Se=this[++I]+this[++I]*2**8+this[++I]*2**16+ne*2**24;return BigInt(ye)+(BigInt(Se)<<BigInt(32))}),a.prototype.readBigUInt64BE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=L*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],Se=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ne;return(BigInt(ye)<<BigInt(32))+BigInt(Se)}),a.prototype.readIntLE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return Se*=128,ye>=Se&&(ye-=Math.pow(2,8*L)),ye},a.prototype.readIntBE=function(I,L,ne){I=I>>>0,L=L>>>0,ne||k(I,L,this.length);let ye=L,Se=1,De=this[I+--ye];for(;ye>0&&(Se*=256);)De+=this[I+--ye]*Se;return Se*=128,De>=Se&&(De-=Math.pow(2,8*L)),De},a.prototype.readInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},a.prototype.readInt16LE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ne=this[I]|this[I+1]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt16BE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ne=this[I+1]|this[I]<<8;return ne&32768?ne|4294901760:ne},a.prototype.readInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},a.prototype.readInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},a.prototype.readBigInt64LE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(ne<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),a.prototype.readBigInt64BE=qe(function(I){I=I>>>0,R(I,"offset");const L=this[I],ne=this[I+7];(L===void 0||ne===void 0)&&D(I,this.length-8);const ye=(L<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(ye)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ne)}),a.prototype.readFloatLE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!0,23,4)},a.prototype.readFloatBE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!1,23,4)},a.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!0,52,8)},a.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!1,52,8)};function B(W,I,L,ne,ye,Se){if(!a.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Se)throw new RangeError('"value" argument is out of bounds');if(L+ne>W.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(I,L,ne,ye){if(I=+I,L=L>>>0,ne=ne>>>0,!ye){const je=Math.pow(2,8*ne)-1;B(this,I,L,ne,je,0)}let Se=1,De=0;for(this[L]=I&255;++De<ne&&(Se*=256);)this[L+De]=I/Se&255;return L+ne},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(I,L,ne,ye){if(I=+I,L=L>>>0,ne=ne>>>0,!ye){const je=Math.pow(2,8*ne)-1;B(this,I,L,ne,je,0)}let Se=ne-1,De=1;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)this[L+Se]=I/De&255;return L+ne},a.prototype.writeUint8=a.prototype.writeUInt8=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,1,255,0),this[L]=I&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function G(W,I,L,ne,ye){Ne(I,ne,ye,W,L,7);let Se=Number(I&BigInt(4294967295));W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se,Se=Se>>8,W[L++]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return W[L++]=De,De=De>>8,W[L++]=De,De=De>>8,W[L++]=De,De=De>>8,W[L++]=De,L}function P(W,I,L,ne,ye){Ne(I,ne,ye,W,L,7);let Se=Number(I&BigInt(4294967295));W[L+7]=Se,Se=Se>>8,W[L+6]=Se,Se=Se>>8,W[L+5]=Se,Se=Se>>8,W[L+4]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return W[L+3]=De,De=De>>8,W[L+2]=De,De=De>>8,W[L+1]=De,De=De>>8,W[L]=De,L+8}a.prototype.writeBigUInt64LE=qe(function(I,L=0){return G(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=qe(function(I,L=0){return P(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(I,L,ne,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ne-1);B(this,I,L,ne,Be-1,-Be)}let Se=0,De=1,je=0;for(this[L]=I&255;++Se<ne&&(De*=256);)I<0&&je===0&&this[L+Se-1]!==0&&(je=1),this[L+Se]=(I/De>>0)-je&255;return L+ne},a.prototype.writeIntBE=function(I,L,ne,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ne-1);B(this,I,L,ne,Be-1,-Be)}let Se=ne-1,De=1,je=0;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)I<0&&je===0&&this[L+Se+1]!==0&&(je=1),this[L+Se]=(I/De>>0)-je&255;return L+ne},a.prototype.writeInt8=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},a.prototype.writeInt16LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},a.prototype.writeInt16BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},a.prototype.writeInt32LE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},a.prototype.writeInt32BE=function(I,L,ne){return I=+I,L=L>>>0,ne||B(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},a.prototype.writeBigInt64LE=qe(function(I,L=0){return G(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=qe(function(I,L=0){return P(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function N(W,I,L,ne,ye,Se){if(L+ne>W.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function q(W,I,L,ne,ye){return I=+I,L=L>>>0,ye||N(W,I,L,4),t.write(W,I,L,ne,23,4),L+4}a.prototype.writeFloatLE=function(I,L,ne){return q(this,I,L,!0,ne)},a.prototype.writeFloatBE=function(I,L,ne){return q(this,I,L,!1,ne)};function oe(W,I,L,ne,ye){return I=+I,L=L>>>0,ye||N(W,I,L,8),t.write(W,I,L,ne,52,8),L+8}a.prototype.writeDoubleLE=function(I,L,ne){return oe(this,I,L,!0,ne)},a.prototype.writeDoubleBE=function(I,L,ne){return oe(this,I,L,!1,ne)},a.prototype.copy=function(I,L,ne,ye){if(!a.isBuffer(I))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!ye&&ye!==0&&(ye=this.length),L>=I.length&&(L=I.length),L||(L=0),ye>0&&ye<ne&&(ye=ne),ye===ne||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-L<ye-ne&&(ye=I.length-L+ne);const Se=ye-ne;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,ne,ye):Uint8Array.prototype.set.call(I,this.subarray(ne,ye),L),Se},a.prototype.fill=function(I,L,ne,ye){if(typeof I=="string"){if(typeof L=="string"?(ye=L,L=0,ne=this.length):typeof ne=="string"&&(ye=ne,ne=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!a.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){const De=I.charCodeAt(0);(ye==="utf8"&&De<128||ye==="latin1")&&(I=De)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<ne)throw new RangeError("Out of range index");if(ne<=L)return this;L=L>>>0,ne=ne===void 0?this.length:ne>>>0,I||(I=0);let Se;if(typeof I=="number")for(Se=L;Se<ne;++Se)this[Se]=I;else{const De=a.isBuffer(I)?I:a.from(I,ye),je=De.length;if(je===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Se=0;Se<ne-L;++Se)this[Se+L]=De[Se%je]}return this};const J={};function Y(W,I,L){J[W]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(W,I){return`The "${W}" argument must be of type number. Received type ${typeof I}`},TypeError),Y("ERR_OUT_OF_RANGE",function(W,I,L){let ne=`The value of "${W}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=se(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=se(ye)),ye+="n"),ne+=` It must be ${I}. Received ${ye}`,ne},RangeError);function se(W){let I="",L=W.length;const ne=W[0]==="-"?1:0;for(;L>=ne+4;L-=3)I=`_${W.slice(L-3,L)}${I}`;return`${W.slice(0,L)}${I}`}function be(W,I,L){R(I,"offset"),(W[I]===void 0||W[I+L]===void 0)&&D(I,W.length-(L+1))}function Ne(W,I,L,ne,ye,Se){if(W>L||W<I){const De=typeof I=="bigint"?"n":"";let je;throw I===0||I===BigInt(0)?je=`>= 0${De} and < 2${De} ** ${(Se+1)*8}${De}`:je=`>= -(2${De} ** ${(Se+1)*8-1}${De}) and < 2 ** ${(Se+1)*8-1}${De}`,new J.ERR_OUT_OF_RANGE("value",je,W)}be(ne,ye,Se)}function R(W,I){if(typeof W!="number")throw new J.ERR_INVALID_ARG_TYPE(I,"number",W)}function D(W,I,L){throw Math.floor(W)!==W?(R(W,L),new J.ERR_OUT_OF_RANGE("offset","an integer",W)):I<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,W)}const M=/[^+/0-9A-Za-z-_]/g;function K(W){if(W=W.split("=")[0],W=W.trim().replace(M,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function ae(W,I){I=I||1/0;let L;const ne=W.length;let ye=null;const Se=[];for(let De=0;De<ne;++De){if(L=W.charCodeAt(De),L>55295&&L<57344){if(!ye){if(L>56319){(I-=3)>-1&&Se.push(239,191,189);continue}else if(De+1===ne){(I-=3)>-1&&Se.push(239,191,189);continue}ye=L;continue}if(L<56320){(I-=3)>-1&&Se.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(I-=3)>-1&&Se.push(239,191,189);if(ye=null,L<128){if((I-=1)<0)break;Se.push(L)}else if(L<2048){if((I-=2)<0)break;Se.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;Se.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;Se.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Se}function fe(W){const I=[];for(let L=0;L<W.length;++L)I.push(W.charCodeAt(L)&255);return I}function de(W,I){let L,ne,ye;const Se=[];for(let De=0;De<W.length&&!((I-=2)<0);++De)L=W.charCodeAt(De),ne=L>>8,ye=L%256,Se.push(ye),Se.push(ne);return Se}function pe(W){return e.toByteArray(K(W))}function xe(W,I,L,ne){let ye;for(ye=0;ye<ne&&!(ye+L>=I.length||ye>=W.length);++ye)I[ye+L]=W[ye];return ye}function Le(W,I){return W instanceof I||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===I.name}function ke(W){return W!==W}const nt=function(){const W="0123456789abcdef",I=new Array(256);for(let L=0;L<16;++L){const ne=L*16;for(let ye=0;ye<16;++ye)I[ne+ye]=W[L]+W[ye]}return I}();function qe(W){return typeof BigInt>"u"?Ue:W}function Ue(){throw new Error("BigInt not supported")}return Su}function qf(){return UA||(UA=!0,typeof Object.create=="function"?qp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:qp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),qp}function w6(){return zA||(zA=!0,f0=Xi.EventEmitter),f0}function Ute(){if(qA)return d0;qA=!0;function e(h,g){var m=Object.keys(h);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(h);g&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),m.push.apply(m,_)}return m}function t(h){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?e(Object(m),!0).forEach(function(_){r(h,_,m[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(m)):e(Object(m)).forEach(function(_){Object.defineProperty(h,_,Object.getOwnPropertyDescriptor(m,_))})}return h}function r(h,g,m){return g in h?Object.defineProperty(h,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[g]=m,h}function n(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function i(h,g){for(var m=0;m<g.length;m++){var _=g[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}function o(h,g,m){return g&&i(h.prototype,g),h}var a=Il,s=a.Buffer,l=dt,u=l.inspect,f=u&&u.custom||"inspect";function c(h,g,m){s.prototype.copy.call(h,g,m)}return d0=function(){function h(){n(this,h),this.head=null,this.tail=null,this.length=0}return o(h,[{key:"push",value:function(m){var _={data:m,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(m){var _={data:m,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var _=this.head,v=""+_.data;_=_.next;)v+=m+_.data;return v}},{key:"concat",value:function(m){if(this.length===0)return s.alloc(0);for(var _=s.allocUnsafe(m>>>0),v=this.head,p=0;v;)c(v.data,_,p),p+=v.data.length,v=v.next;return _}},{key:"consume",value:function(m,_){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?v=this.shift():v=_?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var _=this.head,v=1,p=_.data;for(m-=p.length;_=_.next;){var S=_.data,y=m>S.length?S.length:m;if(y===S.length?p+=S:p+=S.slice(0,m),m-=y,m===0){y===S.length?(++v,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=S.slice(y));break}++v}return this.length-=v,p}},{key:"_getBuffer",value:function(m){var _=s.allocUnsafe(m),v=this.head,p=1;for(v.data.copy(_),m-=v.data.length;v=v.next;){var S=v.data,y=m>S.length?S.length:m;if(S.copy(_,_.length-m,0,y),m-=y,m===0){y===S.length?(++p,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=S.slice(y));break}++p}return this.length-=p,_}},{key:f,value:function(m,_){return u(this,t({},_,{depth:0,customInspect:!1}))}}]),h}(),d0}function b6(){if(VA)return h0;VA=!0;var e=Wr;function t(s,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,s)):e.nextTick(o,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(s,l){o(s,l),n(s)}function n(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(s,l){s.emit("error",l)}function a(s,l){var u=s._readableState,f=s._writableState;u&&u.autoDestroy||f&&f.autoDestroy?s.destroy(l):s.emit("error",l)}return h0={destroy:t,undestroy:i,errorOrDestroy:a},h0}function Hh(){if(HA)return p0;HA=!0;const e={};function t(a,s,l){l||(l=Error);function u(c,h,g){return typeof s=="string"?s:s(c,h,g)}class f extends l{constructor(h,g,m){super(u(h,g,m))}}f.prototype.name=l.name,f.prototype.code=a,e[a]=f}function r(a,s){if(Array.isArray(a)){const l=a.length;return a=a.map(u=>String(u)),l>2?`one of ${s} ${a.slice(0,l-1).join(", ")}, or `+a[l-1]:l===2?`one of ${s} ${a[0]} or ${a[1]}`:`of ${s} ${a[0]}`}else return`of ${s} ${String(a)}`}function n(a,s,l){return a.substr(0,s.length)===s}function i(a,s,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-s.length,l)===s}function o(a,s,l){return typeof l!="number"&&(l=0),l+s.length>a.length?!1:a.indexOf(s,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(a,s){return'The value "'+s+'" is invalid for option "'+a+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(a,s,l){let u;typeof s=="string"&&n(s,"not ")?(u="must not be",s=s.replace(/^not /,"")):u="must be";let f;if(i(a," argument"))f=`The ${a} ${u} ${r(s,"type")}`;else{const c=o(a,".")?"property":"argument";f=`The "${a}" ${c} ${u} ${r(s,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),p0.codes=e,p0}function _6(){if(WA)return m0;WA=!0;var e=Hh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,a){var s=t(i,a,o);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var l=a?o:"highWaterMark";throw new e(l,s)}return Math.floor(s)}return n.objectMode?16:16*1024}return m0={getHighWaterMark:r},m0}function zte(){if(GA)return g0;GA=!0,g0=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||v0,arguments)}return o}function t(r){try{if(!v0.localStorage)return!1}catch{return!1}var n=v0.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return g0}function E6(){if(KA)return y0;KA=!0;var e=Wr;y0=x;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){oe(Y,J)}}var r;x.WritableState=d;var n={deprecate:zte()},i=w6(),o=Il.Buffer,a=x6.Uint8Array||function(){};function s(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof a}var u=b6(),f=_6(),c=f.getHighWaterMark,h=Hh().codes,g=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,S=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;qf()(x,i);function T(){}function d(J,Y,se){r=r||Nh(),J=J||{},typeof se!="boolean"&&(se=Y instanceof r),this.objectMode=!!J.objectMode,se&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ne){ce(Y,Ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,se=[];Y;)se.push(Y),Y=Y.next;return se},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var A;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(Y){return A.call(this,Y)?!0:this!==x?!1:Y&&Y._writableState instanceof d}})):A=function(Y){return Y instanceof this};function x(J){r=r||Nh();var Y=this instanceof r;if(!Y&&!A.call(x,this))return new x(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}x.prototype.pipe=function(){$(this,new v)};function O(J,Y){var se=new y;$(J,se),e.nextTick(Y,se)}function C(J,Y,se,be){var Ne;return se===null?Ne=new S:typeof se!="string"&&!Y.objectMode&&(Ne=new g("chunk",["string","Buffer"],se)),Ne?($(J,Ne),e.nextTick(be,Ne),!1):!0}x.prototype.write=function(J,Y,se){var be=this._writableState,Ne=!1,R=!be.objectMode&&l(J);return R&&!o.isBuffer(J)&&(J=s(J)),typeof Y=="function"&&(se=Y,Y=null),R?Y="buffer":Y||(Y=be.defaultEncoding),typeof se!="function"&&(se=T),be.ending?O(this,se):(R||C(this,be,J,se))&&(be.pendingcb++,Ne=V(this,be,R,J,Y,se)),Ne},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&k(this,J))},x.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new E(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,se){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,se)),Y}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,se,be,Ne,R){if(!se){var D=F(Y,be,Ne);be!==D&&(se=!0,Ne="buffer",be=D)}var M=Y.objectMode?1:be.length;Y.length+=M;var K=Y.length<Y.highWaterMark;if(K||(Y.needDrain=!0),Y.writing||Y.corked){var ae=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Ne,isBuf:se,callback:R,next:null},ae?ae.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else Q(J,Y,!1,M,be,Ne,R);return K}function Q(J,Y,se,be,Ne,R,D){Y.writelen=be,Y.writecb=D,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new p("write")):se?J._writev(Ne,Y.onwrite):J._write(Ne,R,Y.onwrite),Y.sync=!1}function H(J,Y,se,be,Ne){--Y.pendingcb,se?(e.nextTick(Ne,be),e.nextTick(N,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Ne(be),J._writableState.errorEmitted=!0,$(J,be),N(J,Y))}function X(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function ce(J,Y){var se=J._writableState,be=se.sync,Ne=se.writecb;if(typeof Ne!="function")throw new _;if(X(se),Y)H(J,se,be,Y,Ne);else{var R=B(se)||J.destroyed;!R&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&k(J,se),be?e.nextTick(Z,J,se,R,Ne):Z(J,se,R,Ne)}}function Z(J,Y,se,be){se||ie(J,Y),Y.pendingcb--,be(),N(J,Y)}function ie(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function k(J,Y){Y.bufferProcessing=!0;var se=Y.bufferedRequest;if(J._writev&&se&&se.next){var be=Y.bufferedRequestCount,Ne=new Array(be),R=Y.corkedRequestsFree;R.entry=se;for(var D=0,M=!0;se;)Ne[D]=se,se.isBuf||(M=!1),se=se.next,D+=1;Ne.allBuffers=M,Q(J,Y,!0,Y.length,Ne,"",R.finish),Y.pendingcb++,Y.lastBufferedRequest=null,R.next?(Y.corkedRequestsFree=R.next,R.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;se;){var K=se.chunk,ae=se.encoding,fe=se.callback,de=Y.objectMode?1:K.length;if(Q(J,Y,!1,de,K,ae,fe),se=se.next,Y.bufferedRequestCount--,Y.writing)break}se===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=se,Y.bufferProcessing=!1}x.prototype._write=function(J,Y,se){se(new m("_write()"))},x.prototype._writev=null,x.prototype.end=function(J,Y,se){var be=this._writableState;return typeof J=="function"?(se=J,J=null,Y=null):typeof Y=="function"&&(se=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||q(this,be,se),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function G(J,Y){J._final(function(se){Y.pendingcb--,se&&$(J,se),Y.prefinished=!0,J.emit("prefinish"),N(J,Y)})}function P(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(G,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function N(J,Y){var se=B(Y);if(se&&(P(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return se}function q(J,Y,se){Y.ending=!0,N(J,Y),se&&(Y.finished?e.nextTick(se):J.once("finish",se)),Y.ended=!0,J.writable=!1}function oe(J,Y,se){var be=J.entry;for(J.entry=null;be;){var Ne=be.callback;Y.pendingcb--,Ne(se),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),x.prototype.destroy=u.destroy,x.prototype._undestroy=u.undestroy,x.prototype._destroy=function(J,Y){Y(J)},y0}function Nh(){if(JA)return w0;JA=!0;var e=Wr,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};w0=s;var r=S6(),n=E6();qf()(s,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var a=i[o];s.prototype[a]||(s.prototype[a]=n.prototype[a])}function s(f){if(!(this instanceof s))return new s(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),w0}function gN(){if(YA)return b0;YA=!0;var e=Hh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var a=!1;return function(){if(!a){a=!0;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,a,s){if(typeof a=="function")return i(o,null,a);a||(a={}),s=t(s||r);var l=a.readable||a.readable!==!1&&o.readable,u=a.writable||a.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||s.call(o)},g=o._readableState&&o._readableState.endEmitted,m=function(){l=!1,g=!0,u||s.call(o)},_=function(y){s.call(o,y)},v=function(){var y;if(l&&!g)return(!o._readableState||!o._readableState.ended)&&(y=new e),s.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),s.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",m),o.on("finish",h),a.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",m),o.removeListener("error",_),o.removeListener("close",v)}}return b0=i,b0}function qte(){if(XA)return _0;XA=!0;var e=Wr,t;function r(S,y,E){return y in S?Object.defineProperty(S,y,{value:E,enumerable:!0,configurable:!0,writable:!0}):S[y]=E,S}var n=gN(),i=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),s=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function c(S,y){return{value:S,done:y}}function h(S){var y=S[i];if(y!==null){var E=S[f].read();E!==null&&(S[l]=null,S[i]=null,S[o]=null,y(c(E,!1)))}}function g(S){e.nextTick(h,S)}function m(S,y){return function(E,$){S.then(function(){if(y[s]){E(c(void 0,!0));return}y[u](E,$)},$)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var y=this,E=this[a];if(E!==null)return Promise.reject(E);if(this[s])return Promise.resolve(c(void 0,!0));if(this[f].destroyed)return new Promise(function(A,x){e.nextTick(function(){y[a]?x(y[a]):A(c(void 0,!0))})});var $=this[l],T;if($)T=new Promise(m($,this));else{var d=this[f].read();if(d!==null)return Promise.resolve(c(d,!1));T=new Promise(this[u])}return this[l]=T,T}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var y=this;return new Promise(function(E,$){y[f].destroy(null,function(T){if(T){$(T);return}E(c(void 0,!0))})})}),t),_),p=function(y){var E,$=Object.create(v,(E={},r(E,f,{value:y,writable:!0}),r(E,i,{value:null,writable:!0}),r(E,o,{value:null,writable:!0}),r(E,a,{value:null,writable:!0}),r(E,s,{value:y._readableState.endEmitted,writable:!0}),r(E,u,{value:function(d,A){var x=$[f].read();x?($[l]=null,$[i]=null,$[o]=null,d(c(x,!1))):($[i]=d,$[o]=A)},writable:!0}),E));return $[l]=null,n(y,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var d=$[o];d!==null&&($[l]=null,$[i]=null,$[o]=null,d(T)),$[a]=T;return}var A=$[i];A!==null&&($[l]=null,$[i]=null,$[o]=null,A(c(void 0,!0))),$[s]=!0}),y.on("readable",g.bind(null,$)),$};return _0=p,_0}function Vte(){return QA||(QA=!0,E0=function(){throw new Error("Readable.from is not available in the browser")}),E0}function S6(){if(ZA)return S0;ZA=!0;var e=Wr;S0=O;var t;O.ReadableState=x,Xi.EventEmitter;var r=function(D,M){return D.listeners(M).length},n=w6(),i=Il.Buffer,o=O6.Uint8Array||function(){};function a(R){return i.from(R)}function s(R){return i.isBuffer(R)||R instanceof o}var l=dt,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=Ute(),c=b6(),h=_6(),g=h.getHighWaterMark,m=Hh().codes,_=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,p=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,E,$;qf()(O,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function A(R,D,M){if(typeof R.prependListener=="function")return R.prependListener(D,M);!R._events||!R._events[D]?R.on(D,M):Array.isArray(R._events[D])?R._events[D].unshift(M):R._events[D]=[M,R._events[D]]}function x(R,D,M){t=t||Nh(),R=R||{},typeof M!="boolean"&&(M=D instanceof t),this.objectMode=!!R.objectMode,M&&(this.objectMode=this.objectMode||!!R.readableObjectMode),this.highWaterMark=g(this,R,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(y||(y=Wb.StringDecoder),this.decoder=new y(R.encoding),this.encoding=R.encoding)}function O(R){if(t=t||Nh(),!(this instanceof O))return new O(R);var D=this instanceof t;this._readableState=new x(R,this,D),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(R,D){D(R)},O.prototype.push=function(R,D){var M=this._readableState,K;return M.objectMode?K=!0:typeof R=="string"&&(D=D||M.defaultEncoding,D!==M.encoding&&(R=i.from(R,D),D=""),K=!0),C(this,R,D,!1,K)},O.prototype.unshift=function(R){return C(this,R,null,!0,!1)};function C(R,D,M,K,ae){u("readableAddChunk",D);var fe=R._readableState;if(D===null)fe.reading=!1,ce(R,fe);else{var de;if(ae||(de=V(fe,D)),de)T(R,de);else if(fe.objectMode||D&&D.length>0)if(typeof D!="string"&&!fe.objectMode&&Object.getPrototypeOf(D)!==i.prototype&&(D=a(D)),K)fe.endEmitted?T(R,new S):F(R,fe,D,!0);else if(fe.ended)T(R,new v);else{if(fe.destroyed)return!1;fe.reading=!1,fe.decoder&&!M?(D=fe.decoder.write(D),fe.objectMode||D.length!==0?F(R,fe,D,!1):k(R,fe)):F(R,fe,D,!1)}else K||(fe.reading=!1,k(R,fe))}return!fe.ended&&(fe.length<fe.highWaterMark||fe.length===0)}function F(R,D,M,K){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,R.emit("data",M)):(D.length+=D.objectMode?1:M.length,K?D.buffer.unshift(M):D.buffer.push(M),D.needReadable&&Z(R)),k(R,D)}function V(R,D){var M;return!s(D)&&typeof D!="string"&&D!==void 0&&!R.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],D)),M}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(R){y||(y=Wb.StringDecoder);var D=new y(R);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,K="";M!==null;)K+=D.write(M.data),M=M.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var Q=1073741824;function H(R){return R>=Q?R=Q:(R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++),R}function X(R,D){return R<=0||D.length===0&&D.ended?0:D.objectMode?1:R!==R?D.flowing&&D.length?D.buffer.head.data.length:D.length:(R>D.highWaterMark&&(D.highWaterMark=H(R)),R<=D.length?R:D.ended?D.length:(D.needReadable=!0,0))}O.prototype.read=function(R){u("read",R),R=parseInt(R,10);var D=this._readableState,M=R;if(R!==0&&(D.emittedReadable=!1),R===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return u("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?se(this):Z(this),null;if(R=X(R,D),R===0&&D.ended)return D.length===0&&se(this),null;var K=D.needReadable;u("need readable",K),(D.length===0||D.length-R<D.highWaterMark)&&(K=!0,u("length less than watermark",K)),D.ended||D.reading?(K=!1,u("reading or ended",K)):K&&(u("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(R=X(M,D)));var ae;return R>0?ae=Y(R,D):ae=null,ae===null?(D.needReadable=D.length<=D.highWaterMark,R=0):(D.length-=R,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),M!==R&&D.ended&&se(this)),ae!==null&&this.emit("data",ae),ae};function ce(R,D){if(u("onEofChunk"),!D.ended){if(D.decoder){var M=D.decoder.end();M&&M.length&&(D.buffer.push(M),D.length+=D.objectMode?1:M.length)}D.ended=!0,D.sync?Z(R):(D.needReadable=!1,D.emittedReadable||(D.emittedReadable=!0,ie(R)))}}function Z(R){var D=R._readableState;u("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(u("emitReadable",D.flowing),D.emittedReadable=!0,e.nextTick(ie,R))}function ie(R){var D=R._readableState;u("emitReadable_",D.destroyed,D.length,D.ended),!D.destroyed&&(D.length||D.ended)&&(R.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,J(R)}function k(R,D){D.readingMore||(D.readingMore=!0,e.nextTick(B,R,D))}function B(R,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var M=D.length;if(u("maybeReadMore read 0"),R.read(0),M===D.length)break}D.readingMore=!1}O.prototype._read=function(R){T(this,new p("_read()"))},O.prototype.pipe=function(R,D){var M=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=R;break;case 1:K.pipes=[K.pipes,R];break;default:K.pipes.push(R);break}K.pipesCount+=1,u("pipe count=%d opts=%j",K.pipesCount,D);var ae=(!D||D.end!==!1)&&R!==e.stdout&&R!==e.stderr,fe=ae?pe:I;K.endEmitted?e.nextTick(fe):M.once("end",fe),R.on("unpipe",de);function de(L,ne){u("onunpipe"),L===M&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,ke())}function pe(){u("onend"),R.end()}var xe=G(M);R.on("drain",xe);var Le=!1;function ke(){u("cleanup"),R.removeListener("close",Ue),R.removeListener("finish",W),R.removeListener("drain",xe),R.removeListener("error",qe),R.removeListener("unpipe",de),M.removeListener("end",pe),M.removeListener("end",I),M.removeListener("data",nt),Le=!0,K.awaitDrain&&(!R._writableState||R._writableState.needDrain)&&xe()}M.on("data",nt);function nt(L){u("ondata");var ne=R.write(L);u("dest.write",ne),ne===!1&&((K.pipesCount===1&&K.pipes===R||K.pipesCount>1&&Ne(K.pipes,R)!==-1)&&!Le&&(u("false write response, pause",K.awaitDrain),K.awaitDrain++),M.pause())}function qe(L){u("onerror",L),I(),R.removeListener("error",qe),r(R,"error")===0&&T(R,L)}A(R,"error",qe);function Ue(){R.removeListener("finish",W),I()}R.once("close",Ue);function W(){u("onfinish"),R.removeListener("close",Ue),I()}R.once("finish",W);function I(){u("unpipe"),M.unpipe(R)}return R.emit("pipe",M),K.flowing||(u("pipe resume"),M.resume()),R};function G(R){return function(){var M=R._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(R,"data")&&(M.flowing=!0,J(R))}}O.prototype.unpipe=function(R){var D=this._readableState,M={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return R&&R!==D.pipes?this:(R||(R=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,R&&R.emit("unpipe",this,M),this);if(!R){var K=D.pipes,ae=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var fe=0;fe<ae;fe++)K[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Ne(D.pipes,R);return de===-1?this:(D.pipes.splice(de,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),R.emit("unpipe",this,M),this)},O.prototype.on=function(R,D){var M=n.prototype.on.call(this,R,D),K=this._readableState;return R==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):R==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,u("on readable",K.length,K.reading),K.length?Z(this):K.reading||e.nextTick(N,this)),M},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(R,D){var M=n.prototype.removeListener.call(this,R,D);return R==="readable"&&e.nextTick(P,this),M},O.prototype.removeAllListeners=function(R){var D=n.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&e.nextTick(P,this),D};function P(R){var D=R._readableState;D.readableListening=R.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:R.listenerCount("data")>0&&R.resume()}function N(R){u("readable nexttick read 0"),R.read(0)}O.prototype.resume=function(){var R=this._readableState;return R.flowing||(u("resume"),R.flowing=!R.readableListening,q(this,R)),R.paused=!1,this};function q(R,D){D.resumeScheduled||(D.resumeScheduled=!0,e.nextTick(oe,R,D))}function oe(R,D){u("resume",D.reading),D.reading||R.read(0),D.resumeScheduled=!1,R.emit("resume"),J(R),D.flowing&&!D.reading&&R.read(0)}O.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(R){var D=R._readableState;for(u("flow",D.flowing);D.flowing&&R.read()!==null;);}O.prototype.wrap=function(R){var D=this,M=this._readableState,K=!1;R.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var de=M.decoder.end();de&&de.length&&D.push(de)}D.push(null)}),R.on("data",function(de){if(u("wrapped data"),M.decoder&&(de=M.decoder.write(de)),!(M.objectMode&&de==null)&&!(!M.objectMode&&(!de||!de.length))){var pe=D.push(de);pe||(K=!0,R.pause())}});for(var ae in R)this[ae]===void 0&&typeof R[ae]=="function"&&(this[ae]=function(pe){return function(){return R[pe].apply(R,arguments)}}(ae));for(var fe=0;fe<d.length;fe++)R.on(d[fe],this.emit.bind(this,d[fe]));return this._read=function(de){u("wrapped _read",de),K&&(K=!1,R.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=qte()),E(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),O._fromList=Y,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(R,D){if(D.length===0)return null;var M;return D.objectMode?M=D.buffer.shift():!R||R>=D.length?(D.decoder?M=D.buffer.join(""):D.buffer.length===1?M=D.buffer.first():M=D.buffer.concat(D.length),D.buffer.clear()):M=D.buffer.consume(R,D.decoder),M}function se(R){var D=R._readableState;u("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,e.nextTick(be,D,R))}function be(R,D){if(u("endReadableNT",R.endEmitted,R.length),!R.endEmitted&&R.length===0&&(R.endEmitted=!0,D.readable=!1,D.emit("end"),R.autoDestroy)){var M=D._writableState;(!M||M.autoDestroy&&M.finished)&&D.destroy()}}typeof Symbol=="function"&&(O.from=function(R,D){return $===void 0&&($=Vte()),$(O,R,D)});function Ne(R,D){for(var M=0,K=R.length;M<K;M++)if(R[M]===D)return M;return-1}return S0}function $6(){if(ex)return $0;ex=!0,$0=s;var e=Hh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Nh();qf()(s,o);function a(f,c){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(g===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),g(f);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}s.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},s.prototype._transform=function(f,c,h){h(new t("_transform()"))},s.prototype._write=function(f,c,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=c,!g.transforming){var m=this._readableState;(g.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},s.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},s.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return $0}function Hte(){if(tx)return T0;tx=!0,T0=t;var e=$6();qf()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},T0}function Wte(){if(rx)return A0;rx=!0;var e;function t(h){var g=!1;return function(){g||(g=!0,h.apply(void 0,arguments))}}var r=Hh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function a(h){return h.setHeader&&typeof h.abort=="function"}function s(h,g,m,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=gN()),e(h,{readable:g,writable:m},function(S){if(S)return _(S);v=!0,_()});var p=!1;return function(S){if(!v&&!p){if(p=!0,a(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(S||new i("pipe"))}}}function l(h){h()}function u(h,g){return h.pipe(g)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];var _=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var v,p=g.map(function(S,y){var E=y<g.length-1,$=y>0;return s(S,E,$,function(T){v||(v=T),T&&p.forEach(l),!E&&(p.forEach(l),_(v))})});return g.reduce(u)}return A0=c,A0}var sM,os,Bo,lM,Vv,Lc,uM,cM,Ps,Hb,Qc,d1,T6,A6,Ep,Sp,Qa,fM,Wb,Gb,MA,Rd,LA,zp,FA,Su,BA,Il,qp,UA,f0,zA,d0,qA,h0,VA,p0,HA,m0,WA,g0,GA,v0,y0,KA,x6,w0,JA,b0,YA,_0,XA,E0,QA,S0,ZA,O6,$0,ex,T0,tx,A0,rx,P6=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-B738Er4n.js"(){for(Te(),nE(),Ng(),iE(),sM={byteLength:function(e){var t=eM(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=eM(e),i=n[0],o=n[1],a=new lM(function(u,f,c){return 3*(f+c)/4-c}(0,i,o)),s=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=Bo[e.charCodeAt(r)]<<18|Bo[e.charCodeAt(r+1)]<<12|Bo[e.charCodeAt(r+2)]<<6|Bo[e.charCodeAt(r+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return o===2&&(t=Bo[e.charCodeAt(r)]<<2|Bo[e.charCodeAt(r+1)]>>4,a[s++]=255&t),o===1&&(t=Bo[e.charCodeAt(r)]<<10|Bo[e.charCodeAt(r+1)]<<4|Bo[e.charCodeAt(r+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,a=r-n;o<a;o+=16383)i.push(wte(e,o,o+16383>a?a:o+16383));return n===1?(t=e[r-1],i.push(os[t>>2]+os[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(os[t>>10]+os[t>>4&63]+os[t<<2&63]+"=")),i.join("")}},os=[],Bo=[],lM=typeof Uint8Array<"u"?Uint8Array:Array,Vv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lc=0,uM=Vv.length;Lc<uM;++Lc)os[Lc]=Vv[Lc],Bo[Vv.charCodeAt(Lc)]=Lc;Bo[45]=62,Bo[95]=63,cM={read:function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,g=e[t+c];for(c+=h,o=g&(1<<-f)-1,g>>=-f,f+=s;f>0;o=256*o+e[t+c],c+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return a?NaN:1/0*(g?-1:1);a+=Math.pow(2,n),o-=u}return(g?-1:1)*a*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+g]=255&s,g+=m,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+g]=255&a,g+=m,a/=256,u-=8);e[r+g-m]|=128*_}},Ps={},Hb=sM,Qc=cM,d1=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,Ps.Buffer=vt,Ps.SlowBuffer=function(e){return+e!=e&&(e=0),vt.alloc(+e)},Ps.INSPECT_MAX_BYTES=50,Ps.kMaxLength=2147483647,vt.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),vt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(vt.prototype,"parent",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.buffer}}),Object.defineProperty(vt.prototype,"offset",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.byteOffset}}),vt.poolSize=8192,vt.from=function(e,t,r){return d6(e,t,r)},Object.setPrototypeOf(vt.prototype,Uint8Array.prototype),Object.setPrototypeOf(vt,Uint8Array),vt.alloc=function(e,t,r){return function(n,i,o){return h6(n),n<=0?Rl(n):i!==void 0?typeof o=="string"?Rl(n).fill(i,o):Rl(n).fill(i):Rl(n)}(e,t,r)},vt.allocUnsafe=function(e){return kA(e)},vt.allocUnsafeSlow=function(e){return kA(e)},vt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==vt.prototype},vt.compare=function(e,t){if(Nl(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),Nl(t,Uint8Array)&&(t=vt.from(t,t.offset,t.byteLength)),!vt.isBuffer(e)||!vt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},vt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},vt.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return vt.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=vt.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Nl(o,Uint8Array)&&(o=vt.from(o)),!vt.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},vt.byteLength=p6,vt.prototype._isBuffer=!0,vt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Dc(this,t,t+1);return this},vt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Dc(this,t,t+3),Dc(this,t+1,t+2);return this},vt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Dc(this,t,t+7),Dc(this,t+1,t+6),Dc(this,t+2,t+5),Dc(this,t+3,t+4);return this},vt.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?g6(this,0,e):bte.apply(this,arguments)},vt.prototype.toLocaleString=vt.prototype.toString,vt.prototype.equals=function(e){if(!vt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||vt.compare(this,e)===0},vt.prototype.inspect=function(){var e="",t=Ps.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},d1&&(vt.prototype[d1]=vt.prototype.inspect),vt.prototype.compare=function(e,t,r,n,i){if(Nl(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),!vt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(n,i),u=e.slice(t,r),f=0;f<s;++f)if(l[f]!==u[f]){o=l[f],a=u[f];break}return o<a?-1:a<o?1:0},vt.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},vt.prototype.indexOf=function(e,t,r){return rM(this,e,t,r,!0)},vt.prototype.lastIndexOf=function(e,t,r){return rM(this,e,t,r,!1)},vt.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _te(this,e,t,r);case"utf8":case"utf-8":return Ete(this,e,t,r);case"ascii":return m6(this,e,t,r);case"latin1":case"binary":return Ste(this,e,t,r);case"base64":return $te(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tte(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},vt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},vt.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,vt.prototype),n},vt.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},vt.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},vt.prototype.readUInt8=function(e,t){return e>>>=0,t||si(e,1,this.length),this[e]},vt.prototype.readUInt16LE=function(e,t){return e>>>=0,t||si(e,2,this.length),this[e]|this[e+1]<<8},vt.prototype.readUInt16BE=function(e,t){return e>>>=0,t||si(e,2,this.length),this[e]<<8|this[e+1]},vt.prototype.readUInt32LE=function(e,t){return e>>>=0,t||si(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},vt.prototype.readUInt32BE=function(e,t){return e>>>=0,t||si(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},vt.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},vt.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||si(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},vt.prototype.readInt8=function(e,t){return e>>>=0,t||si(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},vt.prototype.readInt16LE=function(e,t){e>>>=0,t||si(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt16BE=function(e,t){e>>>=0,t||si(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt32LE=function(e,t){return e>>>=0,t||si(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},vt.prototype.readInt32BE=function(e,t){return e>>>=0,t||si(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},vt.prototype.readFloatLE=function(e,t){return e>>>=0,t||si(e,4,this.length),Qc.read(this,e,!0,23,4)},vt.prototype.readFloatBE=function(e,t){return e>>>=0,t||si(e,4,this.length),Qc.read(this,e,!1,23,4)},vt.prototype.readDoubleLE=function(e,t){return e>>>=0,t||si(e,8,this.length),Qc.read(this,e,!0,52,8)},vt.prototype.readDoubleBE=function(e,t){return e>>>=0,t||si(e,8,this.length),Qc.read(this,e,!1,52,8)},vt.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||go(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},vt.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||go(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},vt.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,1,255,0),this[t]=255&e,t+1},vt.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},vt.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);go(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&s===0&&this[t+o-1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},vt.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);go(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&s===0&&this[t+o+1]!==0&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},vt.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},vt.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},vt.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeFloatLE=function(e,t,r){return iM(this,e,t,!0,r)},vt.prototype.writeFloatBE=function(e,t,r){return iM(this,e,t,!1,r)},vt.prototype.writeDoubleLE=function(e,t,r){return oM(this,e,t,!0,r)},vt.prototype.writeDoubleBE=function(e,t,r){return oM(this,e,t,!1,r)},vt.prototype.copy=function(e,t,r,n){if(!vt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},vt.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!vt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var i=e.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(e=i)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var a=vt.isBuffer(e)?e:vt.from(e,n),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this},T6=/[^+/0-9A-Za-z-_]/g,A6=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),Ps.Buffer,Ps.INSPECT_MAX_BYTES,Ps.kMaxLength,Ep={},Sp=Ps,Qa=Sp.Buffer,Qa.from&&Qa.alloc&&Qa.allocUnsafe&&Qa.allocUnsafeSlow?Ep=Sp:(aM(Sp,Ep),Ep.Buffer=Mc),Mc.prototype=Object.create(Qa.prototype),aM(Qa,Mc),Mc.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Qa(e,t,r)},Mc.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Qa(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Mc.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Qa(e)},Mc.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sp.SlowBuffer(e)},fM=Ep,Wb={},Gb=fM.Buffer,MA=Gb.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Wb.StringDecoder=_p,_p.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},_p.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},_p.prototype.text=function(e,t){var r=function(i,o,a){var s=o.length-1;if(s<a)return 0;var l=f1(o[s]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--s<a||l===-2?0:(l=f1(o[s]))>=0?(l>0&&(i.lastNeed=l-2),l):--s<a||l===-2?0:(l=f1(o[s]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},_p.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Rd={},LA=!1,zp={},FA=!1,Su={},BA=!1,Il=Bte(),Il.Buffer,Il.INSPECT_MAX_BYTES,Il.kMaxLength,qp={},UA=!1,f0={},zA=!1,d0={},qA=!1,h0={},VA=!1,p0={},HA=!1,m0={},WA=!1,g0={},GA=!1,v0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,y0={},KA=!1,x6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,w0={},JA=!1,b0={},YA=!1,_0={},XA=!1,E0={},QA=!1,S0={},ZA=!1,O6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,$0={},ex=!1,T0={},tx=!1,A0={},rx=!1}});function R6(){return nx||(nx=!0,Gi=Gi=S6(),Gi.Stream=Gi,Gi.Readable=Gi,Gi.Writable=E6(),Gi.Duplex=Nh(),Gi.Transform=$6(),Gi.PassThrough=Hte(),Gi.finished=gN(),Gi.pipeline=Wte()),Gi}var Gi,nx,Gte=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-C4rKjYLo.js"(){Te(),P6(),Gi={},nx=!1}}),jg={};sl(jg,{Agent:()=>C6,ClientRequest:()=>k6,IncomingMessage:()=>D6,METHODS:()=>M6,STATUS_CODES:()=>L6,default:()=>ks,get:()=>F6,globalAgent:()=>B6,request:()=>U6});function N6(){if(ix)return yo;ix=!0,yo.fetch=n($u.fetch)&&n($u.ReadableStream),yo.writableStream=n($u.WritableStream),yo.abortController=n($u.AbortController);var e;function t(){if(e!==void 0)return e;if($u.XMLHttpRequest){e=new $u.XMLHttpRequest;try{e.open("GET",$u.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}yo.arraybuffer=yo.fetch||r("arraybuffer"),yo.msstream=!yo.fetch&&r("ms-stream"),yo.mozchunkedarraybuffer=!yo.fetch&&r("moz-chunked-arraybuffer"),yo.overrideMimeType=yo.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,yo}function I6(){if(ox)return Vp;ox=!0;var e=Il.Buffer,t=Wr,r=N6(),n=qf(),i=R6(),o=Vp.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},a=Vp.IncomingMessage=function(s,l,u,f){var c=this||Hp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){g.read().then(function(S){if(!c._destroyed){if(f(S.done),S.done){c.push(null);return}c.push(e.from(S.value)),p()}}).catch(function(S){f(!0),c._destroyed||c.emit("error",S)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(S,y){c.headers[y.toLowerCase()]=S,c.rawHeaders.push(y,S)}),r.writableStream){var h=new WritableStream({write:function(S){return f(!1),new Promise(function(y,E){c._destroyed?E():c.push(e.from(S))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(S){f(!0),c._destroyed||c.emit("error",S)}});try{l.body.pipeTo(h).catch(function(S){f(!0),c._destroyed||c.emit("error",S)});return}catch{}}var g=l.body.getReader();p()}else{c._xhr=s,c._pos=0,c.url=s.responseURL,c.statusCode=s.status,c.statusMessage=s.statusText;var m=s.getAllResponseHeaders().split(/\r?\n/);if(m.forEach(function(p){var S=p.match(/^([^:]+):\s*(.*)/);if(S){var y=S[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(S[2])):c.headers[y]!==void 0?c.headers[y]+=", "+S[2]:c.headers[y]=S[2],c.rawHeaders.push(S[1],S[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(a,i.Readable),a.prototype._read=function(){var s=this||Hp,l=s._resumeFetch;l&&(s._resumeFetch=null,l())},a.prototype._onXHRProgress=function(s){var l=this||Hp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),g=0;g<c.length;g++)h[g]=c.charCodeAt(g)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var m=new Hp.MSStreamReader;m.onprogress=function(){m.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(m.result.slice(l._pos)))),l._pos=m.result.byteLength)},m.onload=function(){s(!0),l.push(null)},m.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(s(!0),l.push(null))},Vp}function Kte(){if(ax)return x0;ax=!0;var e=Il.Buffer,t=Wr,r=N6(),n=qf(),i=I6(),o=R6(),a=i.IncomingMessage,s=i.readyStates;function l(h,g){return r.fetch&&g?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=x0=function(h){var g=this||ti;o.Writable.call(g),g._opts=h,g._body=[],g._headers={},h.auth&&g.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){g.setHeader(v,h.headers[v])});var m,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,m=!0;else if(h.mode==="prefer-streaming")m=!1;else if(h.mode==="allow-wrong-content-type")m=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")m=!0;else throw new Error("Invalid value for opts.mode");g._mode=l(m,_),g._fetchTimer=null,g._socketTimeout=null,g._socketTimer=null,g.on("finish",function(){g._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,g){var m=this||ti,_=h.toLowerCase();c.indexOf(_)===-1&&(m._headers[_]={name:h,value:g})},u.prototype.getHeader=function(h){var g=(this||ti)._headers[h.toLowerCase()];return g?g.value:null},u.prototype.removeHeader=function(h){var g=this||ti;delete g._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||ti;if(!h._destroyed){var g=h._opts;"timeout"in g&&g.timeout!==0&&h.setTimeout(g.timeout);var m=h._headers,_=null;g.method!=="GET"&&g.method!=="HEAD"&&(_=new Blob(h._body,{type:(m["content-type"]||{}).value||""}));var v=[];if(Object.keys(m).forEach(function(E){var $=m[E].name,T=m[E].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),h._mode==="fetch"){var p=null;if(r.abortController){var S=new AbortController;p=S.signal,h._fetchAbortController=S,"requestTimeout"in g&&g.requestTimeout!==0&&(h._fetchTimer=ti.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},g.requestTimeout))}ti.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:g.withCredentials?"include":"same-origin",signal:p}).then(function(E){h._fetchResponse=E,h._resetTimers(!1),h._connect()},function(E){h._resetTimers(!0),h._destroyed||h.emit("error",E)})}else{var y=h._xhr=new ti.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(E){t.nextTick(function(){h.emit("error",E)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!g.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in g&&(y.timeout=g.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(E){y.setRequestHeader(E[0],E[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case s.LOADING:case s.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(E){t.nextTick(function(){h.emit("error",E)});return}}}};function f(h){try{var g=h.status;return g!==null&&g!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||ti;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||ti;h._destroyed||(h._response=new a(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(g){h.emit("error",g)}),h.emit("response",h._response))},u.prototype._write=function(h,g,m){var _=this||ti;_._body.push(h),m()},u.prototype._resetTimers=function(h){var g=this||ti;ti.clearTimeout(g._socketTimer),g._socketTimer=null,h?(ti.clearTimeout(g._fetchTimer),g._fetchTimer=null):g._socketTimeout&&(g._socketTimer=ti.setTimeout(function(){g.emit("timeout")},g._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var g=this||ti;g._destroyed=!0,g._resetTimers(!0),g._response&&(g._response._destroyed=!0),g._xhr?g._xhr.abort():g._fetchAbortController&&g._fetchAbortController.abort(),h&&g.emit("error",h)},u.prototype.end=function(h,g,m){var _=this||ti;typeof h=="function"&&(m=h,h=void 0),o.Writable.prototype.end.call(_,h,g,m)},u.prototype.setTimeout=function(h,g){var m=this||ti;g&&m.once("timeout",g),m._socketTimeout=h,m._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return x0}function Jte(){if(sx)return O0;sx=!0,O0=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return O0}function Yte(){return lx||(lx=!0,P0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),P0}function Xte(){if(ux)return R0;ux=!0;var e=Kte(),t=I6(),r=Jte(),n=Yte(),i=Jr,o=R0;return o.request=function(a,s){typeof a=="string"?a=i.parse(a):a=r(a);var l=j6.location.protocol.search(/^https?:$/)===-1?"http:":"",u=a.protocol||l,f=a.hostname||a.host,c=a.port,h=a.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),a.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var g=new e(a);return s&&g.on("response",s),g},o.get=function(s,l){var u=o.request(s,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],R0}function Qte(){if(cx)return N0;cx=!0;var e=Cs,t=Jr,r=N0;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,a){return o=i(o),e.request.call(this||fx,o,a)},r.get=function(o,a){return o=i(o),e.get.call(this||fx,o,a)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}return N0}var yo,ix,$u,Vp,ox,Hp,x0,ax,ti,O0,sx,P0,lx,R0,ux,j6,Cs,N0,cx,fx,ks,C6,k6,D6,M6,L6,F6,B6,U6,sE=nn({"../../node_modules/@jspm/core/nodelibs/browser/https.js"(){Te(),P6(),Gte(),iE(),Gz(),nE(),Ng(),yo={},ix=!1,$u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Vp={},ox=!1,Hp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,x0={},ax=!1,ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,O0={},sx=!1,P0={},lx=!1,R0={},ux=!1,j6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Cs=Xte(),Cs.Agent,Cs.ClientRequest,Cs.IncomingMessage,Cs.METHODS,Cs.STATUS_CODES,Cs.get,Cs.globalAgent,Cs.request,N0={},cx=!1,fx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ks=Qte(),C6=ks.Agent,k6=ks.ClientRequest,D6=ks.IncomingMessage,M6=ks.METHODS,L6=ks.STATUS_CODES,F6=ks.get,B6=ks.globalAgent,U6=ks.request}}),vN={};sl(vN,{default:()=>z6});var z6,q6=nn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js"(){Te(),z6={}}}),Zte=Pe({"../../node_modules/@thingweb/thing-model/node_modules/json-placeholder-replacer/dist/library.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.JsonPlaceholderReplacer=void 0;var t=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],r=":",n=[],i=class{constructor(o){this.variablesMap=[],this.configuration=this.initializeOptions(o);const a=l=>l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(l=>Object.assign(Object.assign({},l),{escapedBeginning:a(l.begin),escapedEnding:a(l.end)}));const s=this.configuration.delimiterTags.map(l=>`^${l.begin}[^${l.end}]+${l.end}$`).join("|");this.delimiterTagsRegex=new RegExp(s)}addVariableMap(o){return typeof o=="string"?this.variablesMap.push(JSON.parse(o)):this.variablesMap.push(o),this}setVariableMap(...o){return this.variablesMap.length=0,o.forEach(a=>this.addVariableMap(a)),this}replace(o){return this.replaceChildren(o,this.variablesMap)}replaceWith(o,...a){return this.replaceChildren(o,a)}initializeOptions(o){var a;let s=t,l=r,u=n;return o!==void 0&&(o.delimiterTags!==void 0&&o.delimiterTags.length>0&&(s=o.delimiterTags),o.defaultValueSeparator!==void 0&&(l=o.defaultValueSeparator),!((a=o.nullishValues)===null||a===void 0)&&a.length&&(u=o.nullishValues.map(f=>JSON.stringify(f)))),{defaultValueSeparator:l,delimiterTags:s,nullishValues:u}}replaceChildren(o,a){for(const s in o){const l=o[s];typeof l=="object"?o[s]=this.replaceChildren(l,a):l!==void 0&&(o[s]=this.replaceValue(l,a))}return o}replaceValue(o,a){const s=o.toString(),l=!this.delimiterTagsRegex.test(o),u=this.configuration.delimiterTags.reduce((f,c)=>{const h=new RegExp(`(${c.escapedBeginning}[^${c.escapedEnding}]+${c.escapedEnding})`,"g");return f.replace(h,this.replacer(l,a)(c))},s);try{return u===s?o:JSON.parse(u)}catch{return u}}replacer(o,a){return s=>l=>{const{tag:u,defaultValue:f}=this.parseTag(l,s),c=this.checkInEveryMap(u,a);if(c===void 0)return f!==void 0?f:l;if(!o)return c;const h=JSON.parse(c);return typeof h=="object"?JSON.stringify(h):h}}parseTag(o,a){const s=o.substring(a.begin.length,o.length-a.begin.length);let l=s,u;const f=s.indexOf(this.configuration.defaultValueSeparator);return f>0&&(l=s.substring(0,f),u=s.substring(f+this.configuration.defaultValueSeparator.length)),{tag:l,defaultValue:u}}checkInEveryMap(o,a){const{nullishValues:s}=this.configuration;let l;return a.forEach(u=>{let f=this.navigateThroughMap(u,o);f!==void 0&&s.includes(f)&&(f=void 0),l=f||l}),l}navigateThroughMap(o,a){if(o===void 0)return;const s=o[a];if(s!==void 0)return JSON.stringify(s);const l=a.split("."),u=l[0];return l.shift(),this.navigateThroughMap(o[u],l.join("."))}};e.JsonPlaceholderReplacer=i}}),ere=Pe({"../../node_modules/wot-thing-model-types/schema/tm-json-schema-validation.json"(e,t){t.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}}}),tre=Pe({"../../node_modules/@thingweb/thing-model/dist/src/tm-helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(E,$,T,d){d===void 0&&(d=T);var A=Object.getOwnPropertyDescriptor($,T);(!A||("get"in A?!$.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return $[T]}}),Object.defineProperty(E,d,A)}:function(E,$,T,d){d===void 0&&(d=T),E[d]=$[T]}),r=e&&e.__setModuleDefault||(Object.create?function(E,$){Object.defineProperty(E,"default",{enumerable:!0,value:$})}:function(E,$){E.default=$}),n=e&&e.__importStar||function(E){if(E&&E.__esModule)return E;var $={};if(E!=null)for(var T in E)T!=="default"&&Object.prototype.hasOwnProperty.call(E,T)&&t($,E,T);return r($,E),$},i=e&&e.__awaiter||function(E,$,T,d){function A(x){return x instanceof T?x:new T(function(O){O(x)})}return new(T||(T=Promise))(function(x,O){function C(Q){try{V(d.next(Q))}catch(H){O(H)}}function F(Q){try{V(d.throw(Q))}catch(H){O(H)}}function V(Q){Q.done?x(Q.value):A(Q.value).then(C,F)}V((d=d.apply(E,$||[])).next())})},o=e&&e.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThingModelHelpers=void 0;var a=o(QU()),s=o(Pee()),l=n((hN(),Or(oE))),u=n((sE(),Or(jg))),f=n((q6(),Or(vN))),c=Zte(),h=o(ere()),g=o(AU()),m="node-wot:td-tools:thing-model-helpers",_=(0,g.default)(`${m}:debug`),v=(0,g.default)(`${m}:error`),p=h.default,S=new a.default({strict:!1});(0,s.default)(S);var y=class da{constructor($){this.deps=[],this.resolver=void 0,$&&(this.resolver=$)}static isThingModel($){if($==null||typeof $!="object"||Array.isArray($))return!1;const T=$;if(Array.isArray(T["@type"])){if(T["@type"].filter(A=>A==="tm:ThingModel").length>0)return!0}else if(T["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef(T)).length>0||"links"in T&&Array.isArray(T.links)&&T.links.find(A=>A.rel==="tm:extends")!=null||T.properties!==void 0&&this.isThingModel(T.properties)||T.actions!==void 0&&this.isThingModel(T.actions)||T.events!==void 0&&this.isThingModel(T.events))}static getModelVersion($){var T;return typeof($==null?void 0:$.version)=="object"&&typeof((T=$==null?void 0:$.version)===null||T===void 0?void 0:T.model)=="string"?$.version.model:void 0}static validateThingModel($){var T;const d=da.tsSchemaValidator($);let A;return d||(A=(T=da.tsSchemaValidator.errors)===null||T===void 0?void 0:T.map(x=>x.message).join(`
`)),{valid:d,errors:A}}getPartialTDs($,T){return i(this,void 0,void 0,function*(){return(yield this._getPartialTDs($,T)).map(x=>{const O=x;return O["@type"]instanceof Array?O["@type"]=O["@type"].map(C=>C==="tm:ThingModel"?"Thing":C):O["@type"]="Thing",O})})}fetchModel($){return i(this,void 0,void 0,function*(){this.addDependency($);let T;if(this.resolver?T=yield this.resolver.fetch($):T=yield this.localFetch($),!da.isThingModel(T))throw new Error(`Data at ${$} is not a Thing Model`);return T})}localFetch($){switch($.split("://")[0]){case"file":{const d=$.split("://")[1];return new Promise((A,x)=>{f.readFile(d,{encoding:"utf-8"},function(O,C){O?x(O):A(JSON.parse(C))})})}case"http":return new Promise((d,A)=>{l.get($,x=>{(x.statusCode==null||x.statusCode!==200)&&A(new Error(`http status code not 200 but ${x.statusCode} for ${$}`)),x.setEncoding("utf8");let O="";x.on("data",C=>{O+=C}),x.on("end",()=>{try{const C=JSON.parse(O);_(`https fetched: ${C}`),d(C)}catch(C){v(C)}})}).on("error",x=>{A(x)})});case"https":return new Promise((d,A)=>{u.get($,x=>{(x.statusCode==null||x.statusCode!==200)&&A(new Error(`https status code not 200 but ${x.statusCode} for ${$}`)),x.setEncoding("utf8");let O="";x.on("data",C=>{O+=C}),x.on("end",()=>{try{const C=JSON.parse(O);_(`https fetched: ${C}`),d(C)}catch(C){v(C)}})}).on("error",x=>{A(x)})})}return null}_getPartialTDs($,T){return i(this,void 0,void 0,function*(){if(!da.isThingModel($))throw new Error(`${$} is not a Thing Model`);let d=da.validateThingModel($);if(d.valid===!1||d.errors!==void 0)throw new Error(d.errors);if(d=this.checkPlaceholderMap($,T==null?void 0:T.map),d.valid===!1||d.errors!==void 0)throw new Error(d.errors);const A=yield this.fetchAffordances($);return yield this.composeModel($,A,T)})}fetchAffordances($){var T;return i(this,void 0,void 0,function*(){const d={},A=da.getThingModelLinks($,"tm:extends");if(A.length>0){d.extends=[];for(const C of A){let F=yield this.fetchModel(C.href);[F]=yield this._getPartialTDs(F),d.extends.push(F)}}const x=["properties","actions","events"];d.imports=[];for(const C of x){const F=da.getThingModelRef($[C]);if(Object.keys(F).length>0)for(const V in F){const Q=F[V],H=this.parseTmRef(Q);if(H.uri==null)throw new Error(`Missing remote path in ${Q}`);let X=yield this.fetchModel(H.uri);[X]=yield this._getPartialTDs(X),delete $[C][V]["tm:ref"];const ce=(T=this.getRefAffordance(H,X))!==null&&T!==void 0?T:{};H.name=V,d.imports.push(Object.assign({affordance:ce},H))}}const O=da.getThingModelLinks($,"tm:submodel");if(O.length>0){d.submodel={};for(const C of O){const F=yield this.fetchModel(C.href);d.submodel[C.href]=F}}return d})}composeModel($,T,d){var A,x,O,C,F;return i(this,void 0,void 0,function*(){let V=[];const Q=((A=$.title)!==null&&A!==void 0?A:"").replace(/ /g,"");d||(d={}),d.baseUrl==null&&(d.baseUrl=".");const H=this.returnNewTMHref(d.baseUrl,Q),X=this.returnNewTDHref(d.baseUrl,Q);if("extends"in T){const ce=(x=T.extends)!==null&&x!==void 0?x:[];for(const Z of ce)$=da.extendThingModel(Z,$);$.links=(O=$.links)===null||O===void 0?void 0:O.filter(Z=>Z.rel!=="tm:extends")}if("imports"in T){const ce=(C=T.imports)!==null&&C!==void 0?C:[];for(const Z of ce)$=da.importAffordance(Z.type,Z.name,Z.affordance,$)}if("submodel"in T){const ce=T.submodel;for(const Z in ce){const ie=ce[Z];if(d.selfComposition===!0){if(!$.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const k=$.links.findIndex(q=>q.href===Z),G=$.links[k].instanceName;if(G==null)throw new Error("Self composition is not possible without instance names");const[P]=yield this._getPartialTDs(ie,d),N=["properties","actions","events"];for(const q of N)for(const oe in P[q]){const J=`${G}_${oe}`;q in $||($[q]={}),$[q][J]=P[q][oe]}}else{const k=((F=ie.title)!==null&&F!==void 0?F:"").replace(/ /g,""),B=this.returnNewTDHref(d.baseUrl,k);ie.links||(ie.links=[]),ie.links.push({rel:"collection",href:X,type:"application/td+json"});const G=yield this._getPartialTDs(ie,d);V.push(...G),$=da.formatSubmodelLink($,Z,B)}}}return(!$.links||d.selfComposition===!0)&&($.links=[]),$.links.push({rel:"type",href:H,type:"application/tm+json"}),"version"in $&&delete $.version,d.map&&($=this.fillPlaceholder($,d.map)),V.unshift($),V=V.map(ce=>this.fillPlaceholder(ce,d==null?void 0:d.map)),this.deps.length>0&&this.removeDependency(),V})}static getThingModelRef($){const T={};if($==null)return T;for(const d in $)for(const A in $[d])A==="tm:ref"&&(T[d]=$[d]["tm:ref"]);return T}static getThingModelLinks($,T){let d=[];return"links"in $&&Array.isArray($.links)&&(d=$.links),d.filter(A=>A.rel===T)}static extendThingModel($,T){let d={};const A=$.properties,x=$.actions,O=$.events;if(d=Object.assign(Object.assign({},$),T),A){d.properties||(d.properties={});for(const C in A)T.properties&&T.properties[C]!=null?d.properties[C]=Object.assign(Object.assign({},A[C]),T.properties[C]):d.properties[C]=A[C]}if(x){d.actions||(d.actions={});for(const C in x)T.actions&&C in T.actions?d.actions[C]=Object.assign(Object.assign({},x[C]),T.actions[C]):d.actions[C]=x[C]}if(O){d.events||(d.events={});for(const C in O)T.events&&C in T.events?d.events[C]=Object.assign(Object.assign({},O[C]),T.events[C]):d.events[C]=O[C]}return d}static importAffordance($,T,d,A){A[$]||(A[$]={});const x=A[$][T];A[$][T]=Object.assign(Object.assign({},d),x);for(const O in A[$][T])A[$][T][O]===void 0&&delete A[$][T][O];return A}static formatSubmodelLink($,T,d){if(!$.links)throw new Error("Links are missing");const A=$.links.findIndex(O=>O.href===T);if(A===-1)throw new Error("Link not found");const x=$.links[A];return"instanceName"in x&&delete x.instanceName,$.links[A]=Object.assign(Object.assign({},x),{href:d,type:"application/td+json",rel:"item"}),$}parseTmRef($){const T=$.split("#")[0],d=$.split("#")[1],A=d.split("/")[1],x=d.split("/")[2];return{uri:T,type:A,name:x}}getRefAffordance($,T){const d=$.type,A=$.name;if(!(d in T))return;const x=T[d];if(A in x)return x[A]}fillPlaceholder($,T={}){const d=new c.JsonPlaceholderReplacer;return d.addVariableMap(T),d.replace($)}checkPlaceholderMap($,T={}){var d;const A="{{.*?}}";let O=(d=JSON.stringify($).match(new RegExp(A,"g")))!==null&&d!==void 0?d:[];O=O.map(V=>V.replace("{{","").replace("}}",""));let C=!0,F;return(O==null?void 0:O.length)>0&&T==null?(C=!1,F=`No map provided for model ${$.title}`):O.length>0&&O.every(V=>V in T?!0:(F=`Missing required fields in map for model ${$.title}`,C=!1,!1)),{valid:C,errors:F}}returnNewTMHref($,T){return`${$}/${T}.tm.jsonld`}returnNewTDHref($,T){return`${$}/${T}.td.jsonld`}addDependency($){if(this.deps.indexOf($)>-1)throw new Error(`Circular dependency found for ${$}`);this.deps.push($)}removeDependency($){$!=null?this.deps=this.deps.filter(T=>T!==$):this.deps.pop()}};e.ThingModelHelpers=y,y.tsSchemaValidator=S.compile(p)}}),rre=Pe({"../../node_modules/@thingweb/thing-model/dist/src/resolver-interface.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0})}}),nre=Pe({"../../node_modules/@thingweb/thing-model/dist/src/thing-model.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,a,s)}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(tre(),e),r(rre(),e)}}),V6={};sl(V6,{EventEmitter:()=>H6,default:()=>qs,defaultMaxListeners:()=>W6,init:()=>G6,listenerCount:()=>K6,on:()=>J6,once:()=>Y6});function ire(){if(dx)return Wp;dx=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function($,T,d){return Function.prototype.apply.call($,T,d)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:r=function($){return Object.getOwnPropertyNames($)};function n(E){console&&console.warn&&console.warn(E)}var i=Number.isNaN||function($){return $!==$};function o(){o.init.call(this)}Wp=o,Wp.once=p,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(E){if(typeof E!="number"||E<0||i(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");a=E}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function l(E){return E._maxListeners===void 0?o.defaultMaxListeners:E._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function($){for(var T=[],d=1;d<arguments.length;d++)T.push(arguments[d]);var A=$==="error",x=this._events;if(x!==void 0)A=A&&x.error===void 0;else if(!A)return!1;if(A){var O;if(T.length>0&&(O=T[0]),O instanceof Error)throw O;var C=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw C.context=O,C}var F=x[$];if(F===void 0)return!1;if(typeof F=="function")t(F,this,T);else for(var V=F.length,Q=m(F,V),d=0;d<V;++d)t(Q[d],this,T);return!0};function u(E,$,T,d){var A,x,O;if(s(T),x=E._events,x===void 0?(x=E._events=Object.create(null),E._eventsCount=0):(x.newListener!==void 0&&(E.emit("newListener",$,T.listener?T.listener:T),x=E._events),O=x[$]),O===void 0)O=x[$]=T,++E._eventsCount;else if(typeof O=="function"?O=x[$]=d?[T,O]:[O,T]:d?O.unshift(T):O.push(T),A=l(E),A>0&&O.length>A&&!O.warned){O.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=E,C.type=$,C.count=O.length,n(C)}return E}o.prototype.addListener=function($,T){return u(this,$,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function($,T){return u(this,$,T,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(E,$,T){var d={fired:!1,wrapFn:void 0,target:E,type:$,listener:T},A=f.bind(d);return A.listener=T,d.wrapFn=A,A}o.prototype.once=function($,T){return s(T),this.on($,c(this,$,T)),this},o.prototype.prependOnceListener=function($,T){return s(T),this.prependListener($,c(this,$,T)),this},o.prototype.removeListener=function($,T){var d,A,x,O,C;if(s(T),A=this._events,A===void 0)return this;if(d=A[$],d===void 0)return this;if(d===T||d.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete A[$],A.removeListener&&this.emit("removeListener",$,d.listener||T));else if(typeof d!="function"){for(x=-1,O=d.length-1;O>=0;O--)if(d[O]===T||d[O].listener===T){C=d[O].listener,x=O;break}if(x<0)return this;x===0?d.shift():_(d,x),d.length===1&&(A[$]=d[0]),A.removeListener!==void 0&&this.emit("removeListener",$,C||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function($){var T,d,A;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[$]),this;if(arguments.length===0){var x=Object.keys(d),O;for(A=0;A<x.length;++A)O=x[A],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=d[$],typeof T=="function")this.removeListener($,T);else if(T!==void 0)for(A=T.length-1;A>=0;A--)this.removeListener($,T[A]);return this};function h(E,$,T){var d=E._events;if(d===void 0)return[];var A=d[$];return A===void 0?[]:typeof A=="function"?T?[A.listener||A]:[A]:T?v(A):m(A,A.length)}o.prototype.listeners=function($){return h(this,$,!0)},o.prototype.rawListeners=function($){return h(this,$,!1)},o.listenerCount=function(E,$){return typeof E.listenerCount=="function"?E.listenerCount($):g.call(E,$)},o.prototype.listenerCount=g;function g(E){var $=this._events;if($!==void 0){var T=$[E];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(E,$){for(var T=new Array($),d=0;d<$;++d)T[d]=E[d];return T}function _(E,$){for(;$+1<E.length;$++)E[$]=E[$+1];E.pop()}function v(E){for(var $=new Array(E.length),T=0;T<$.length;++T)$[T]=E[T].listener||E[T];return $}function p(E,$){return new Promise(function(T,d){function A(O){E.removeListener($,x),d(O)}function x(){typeof E.removeListener=="function"&&E.removeListener("error",A),T([].slice.call(arguments))}y(E,$,x,{once:!0}),$!=="error"&&S(E,A,{once:!0})})}function S(E,$,T){typeof E.on=="function"&&y(E,"error",$,T)}function y(E,$,T,d){if(typeof E.on=="function")d.once?E.once($,T):E.on($,T);else if(typeof E.addEventListener=="function")E.addEventListener($,function A(x){d.once&&E.removeEventListener($,A),T(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}return Wp}var Wp,dx,qs,H6,W6,G6,K6,J6,Y6,X6=nn({"../../node_modules/@jspm/core/nodelibs/browser/events.js"(){Te(),Wp={},dx=!1,qs=ire(),qs.once,qs.once=function(e,t){return new Promise((r,n)=>{function i(...a){o!==void 0&&e.removeListener("error",o),r(a)}let o;t!=="error"&&(o=a=>{e.removeListener(name,i),n(a)},e.once("error",o)),e.once(t,i)})},qs.on=function(e,t){const r=[],n=[];let i=null,o=!1;const a={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,s),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,s),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,s),e.on("error",l),a;function s(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,a.return()}},{EventEmitter:H6,defaultMaxListeners:W6,init:G6,listenerCount:K6,on:J6,once:Y6}=qs}});function Q6(){return hx||(hx=!0,I0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),I0}function ore(){return px||(px=!0,j0=Error),j0}function are(){return mx||(mx=!0,C0=EvalError),C0}function sre(){return gx||(gx=!0,k0=RangeError),k0}function lre(){return vx||(vx=!0,D0=ReferenceError),D0}function Z6(){return yx||(yx=!0,M0=SyntaxError),M0}function Cg(){return wx||(wx=!0,L0=TypeError),L0}function ure(){return bx||(bx=!0,F0=URIError),F0}function cre(){if(_x)return B0;_x=!0;var e=typeof Symbol<"u"&&Symbol,t=Q6();return B0=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},B0}function fre(){if(Ex)return U0;Ex=!0;var e={__proto__:null,foo:{}},t=Object;return U0=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},U0}function dre(){if(Sx)return z0;Sx=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],c=0;c<l.length;c+=1)f[c]=l[c];for(var h=0;h<u.length;h+=1)f[h+l.length]=u[h];return f},o=function(l,u){for(var f=[],c=u,h=0;c<l.length;c+=1,h+=1)f[h]=l[c];return f},a=function(s,l){for(var u="",f=0;f<s.length;f+=1)u+=s[f],f+1<s.length&&(u+=l);return u};return z0=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=o(arguments,1),c,h=function(){if(this instanceof c){var p=u.apply(this,i(f,arguments));return Object(p)===p?p:this}return u.apply(l,i(f,arguments))},g=r(0,u.length-f.length),m=[],_=0;_<g;_++)m[_]="$"+_;if(c=Function("binder","return function ("+a(m,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},z0}function yN(){if($x)return q0;$x=!0;var e=dre();return q0=Function.prototype.bind||e,q0}function hre(){if(Tx)return V0;Tx=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=yN();return V0=r.call(e,t),V0}function Wh(){if(Ax)return H0;Ax=!0;var e,t=ore(),r=are(),n=sre(),i=lre(),o=Z6(),a=Cg(),s=ure(),l=Function,u=function(ce){try{return l('"use strict"; return ('+ce+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new a},h=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,g=cre()(),m=fre()(),_=Object.getPrototypeOf||(m?function(ce){return ce.__proto__}:null),v={},p=typeof Uint8Array>"u"||!_?e:_(Uint8Array),S={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":g&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&_?_(_([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g||!_?e:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g||!_?e:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&_?_(""[Symbol.iterator]()):e,"%Symbol%":g?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":h,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":s,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(_)try{null.error}catch(ce){var y=_(_(ce));S["%Error.prototype%"]=y}var E=function ce(Z){var ie;if(Z==="%AsyncFunction%")ie=u("async function () {}");else if(Z==="%GeneratorFunction%")ie=u("function* () {}");else if(Z==="%AsyncGeneratorFunction%")ie=u("async function* () {}");else if(Z==="%AsyncGenerator%"){var k=ce("%AsyncGeneratorFunction%");k&&(ie=k.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var B=ce("%AsyncGenerator%");B&&_&&(ie=_(B.prototype))}return S[Z]=ie,ie},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=yN(),d=hre(),A=T.call(Function.call,Array.prototype.concat),x=T.call(Function.apply,Array.prototype.splice),O=T.call(Function.call,String.prototype.replace),C=T.call(Function.call,String.prototype.slice),F=T.call(Function.call,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,H=function(Z){var ie=C(Z,0,1),k=C(Z,-1);if(ie==="%"&&k!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(k==="%"&&ie!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var B=[];return O(Z,V,function(G,P,N,q){B[B.length]=N?O(q,Q,"$1"):P||G}),B},X=function(Z,ie){var k=Z,B;if(d($,k)&&(B=$[k],k="%"+B[0]+"%"),d(S,k)){var G=S[k];if(G===v&&(G=E(k)),typeof G>"u"&&!ie)throw new a("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:B,name:k,value:G}}throw new o("intrinsic "+Z+" does not exist!")};return H0=function(Z,ie){if(typeof Z!="string"||Z.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ie!="boolean")throw new a('"allowMissing" argument must be a boolean');if(F(/^%?[^%]*%?$/,Z)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var k=H(Z),B=k.length>0?k[0]:"",G=X("%"+B+"%",ie),P=G.name,N=G.value,q=!1,oe=G.alias;oe&&(B=oe[0],x(k,A([0,1],oe)));for(var J=1,Y=!0;J<k.length;J+=1){var se=k[J],be=C(se,0,1),Ne=C(se,-1);if((be==='"'||be==="'"||be==="`"||Ne==='"'||Ne==="'"||Ne==="`")&&be!==Ne)throw new o("property names with quotes must have matching quotes");if((se==="constructor"||!Y)&&(q=!0),B+="."+se,P="%"+B+"%",d(S,P))N=S[P];else if(N!=null){if(!(se in N)){if(!ie)throw new a("base intrinsic for "+Z+" exists, but the property is not available.");return}if(f&&J+1>=k.length){var R=f(N,se);Y=!!R,Y&&"get"in R&&!("originalValue"in R.get)?N=R.get:N=N[se]}else Y=d(N,se),N=N[se];Y&&!q&&(S[P]=N)}}return N},H0}function wN(){if(xx)return W0;xx=!0;var e=Wh(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return W0=t,W0}function bN(){if(Ox)return G0;Ox=!0;var e=Wh(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return G0=t,G0}function pre(){if(Px)return K0;Px=!0;var e=wN(),t=Z6(),r=Cg(),n=bN();return K0=function(o,a,s){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,h=!!n&&n(o,a);if(e)e(o,a,{configurable:f===null&&h?h.configurable:!f,enumerable:l===null&&h?h.enumerable:!l,value:s,writable:u===null&&h?h.writable:!u});else if(c||!l&&!u&&!f)o[a]=s;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},K0}function mre(){if(Rx)return J0;Rx=!0;var e=wN(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},J0=t,J0}function gre(){if(Nx)return Y0;Nx=!0;var e=Wh(),t=pre(),r=mre()(),n=bN(),i=Cg(),o=e("%Math.floor%");return Y0=function(s,l){if(typeof s!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in s&&n){var h=n(s,"length");h&&!h.configurable&&(f=!1),h&&!h.writable&&(c=!1)}return(f||c||!u)&&(r?t(s,"length",l,!0,!0):t(s,"length",l)),s},Y0}function eq(){if(Ix)return Nd;Ix=!0;var e=yN(),t=Wh(),r=gre(),n=Cg(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),a=t("%Reflect.apply%",!0)||e.call(o,i),s=wN(),l=t("%Math.max%");Nd=function(c){if(typeof c!="function")throw new n("a function is required");var h=a(e,o,arguments);return r(h,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return a(e,i,arguments)};return s?s(Nd,"apply",{value:u}):Nd.apply=u,Nd}function _N(){if(jx)return X0;jx=!0;var e=Wh(),t=eq(),r=t(e("String.prototype.indexOf"));return X0=function(i,o){var a=e(i,!!o);return typeof a=="function"&&r(i,".prototype.")>-1?t(a):a},X0}var I0,hx,j0,px,C0,mx,k0,gx,D0,vx,M0,yx,L0,wx,F0,bx,B0,_x,U0,Ex,z0,Sx,q0,$x,V0,Tx,H0,Ax,W0,xx,G0,Ox,K0,Px,J0,Rx,Y0,Nx,Nd,Ix,X0,jx,EN=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtcTpLWz.js"(){Te(),I0={},hx=!1,j0={},px=!1,C0={},mx=!1,k0={},gx=!1,D0={},vx=!1,M0={},yx=!1,L0={},wx=!1,F0={},bx=!1,B0={},_x=!1,U0={},Ex=!1,z0={},Sx=!1,q0={},$x=!1,V0={},Tx=!1,H0={},Ax=!1,W0={},xx=!1,G0={},Ox=!1,K0={},Px=!1,J0={},Rx=!1,Y0={},Nx=!1,Nd={},Ix=!1,X0={},jx=!1}}),lE={};sl(lE,{TextDecoder:()=>Pq,TextEncoder:()=>Oq,_extend:()=>iq,callbackify:()=>oq,debuglog:()=>aq,default:()=>Wt,deprecate:()=>sq,format:()=>lq,inherits:()=>uq,inspect:()=>cq,isArray:()=>fq,isBoolean:()=>dq,isBuffer:()=>hq,isDate:()=>pq,isError:()=>mq,isFunction:()=>gq,isNull:()=>vq,isNullOrUndefined:()=>yq,isNumber:()=>wq,isObject:()=>bq,isPrimitive:()=>_q,isRegExp:()=>Eq,isString:()=>Sq,isSymbol:()=>$q,isUndefined:()=>Tq,log:()=>Aq,promisify:()=>Kb,types:()=>xq});function SN(){if(Cx)return Q0;Cx=!0;var e=Q6();return Q0=function(){return e()&&!!Symbol.toStringTag},Q0}function vre(){if(kx)return Z0;kx=!0;var e=SN()(),t=_N(),r=t("Object.prototype.toString"),n=function(s){return e&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:r(s)==="[object Arguments]"},i=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&r(s)!=="[object Array]"&&r(s.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,Z0=o?n:i,Z0}function yre(){if(Dx)return ew;Dx=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=SN()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return ew=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var f=o();a=f?i(f):!1}return i(l)===a},ew}function wre(){if(Mx)return tw;Mx=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(S){S!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(y){try{var E=e.call(y);return i.test(E)}catch{return!1}},a=function(y){try{return o(y)?!1:(e.call(y),!0)}catch{return!1}},s=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",c="[object HTMLAllCollection]",h="[object HTML document.all class]",g="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var p=document.all;s.call(p)===s.call(document.all)&&(v=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var E=s.call(y);return(E===c||E===h||E===g||E===l)&&y("")==null}catch{}return!1})}return tw=t?function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(E){if(E!==n)return!1}return!o(y)&&a(y)}:function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(m)return a(y);if(o(y))return!1;var E=s.call(y);return E!==u&&E!==f&&!/^\[object HTML/.test(E)?!1:a(y)},tw}function bre(){if(Lx)return rw;Lx=!0;var e=wre(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var c=0,h=l.length;c<h;c++)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},i=function(l,u,f){for(var c=0,h=l.length;c<h;c++)f==null?u(l.charAt(c),c,l):u.call(f,l.charAt(c),c,l)},o=function(l,u,f){for(var c in l)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},a=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=f),t.call(l)==="[object Array]"?n(l,u,c):typeof l=="string"?i(l,u,c):o(l,u,c)};return rw=a,rw}function _re(){return Fx||(Fx=!0,nw=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),nw}function Ere(){if(Bx)return iw;Bx=!0;var e=_re(),t=typeof globalThis>"u"?rq:globalThis;return iw=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},iw}function tq(){if(Ux)return ow;Ux=!0;var e=bre(),t=Ere(),r=eq(),n=_N(),i=bN(),o=n("Object.prototype.toString"),a=SN()(),s=typeof globalThis>"u"?nq:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,p){for(var S=0;S<v.length;S+=1)if(v[S]===p)return S;return-1},h={__proto__:null};a&&i&&f?e(l,function(_){var v=new s[_];if(Symbol.toStringTag in v){var p=f(v),S=i(p,Symbol.toStringTag);if(!S){var y=f(p);S=i(y,Symbol.toStringTag)}h["$"+_]=r(S.get)}}):e(l,function(_){var v=new s[_],p=v.slice||v.set;p&&(h["$"+_]=r(p))});var g=function(v){var p=!1;return e(h,function(S,y){if(!p)try{"$"+S(v)===y&&(p=u(y,1))}catch{}}),p},m=function(v){var p=!1;return e(h,function(S,y){if(!p)try{S(v),p=u(y,1)}catch{}}),p};return ow=function(v){if(!v||typeof v!="object")return!1;if(!a){var p=u(o(v),8,-1);return c(l,p)>-1?p:p!=="Object"?!1:m(v)}return i?g(v):null},ow}function Sre(){if(zx)return aw;zx=!0;var e=tq();return aw=function(r){return!!e(r)},aw}function $re(){if(qx)return fr;qx=!0;var e=vre(),t=yre(),r=tq(),n=Sre();function i(de){return de.call.bind(de)}var o=typeof BigInt<"u",a=typeof Symbol<"u",s=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(a)var h=i(Symbol.prototype.valueOf);function g(de,pe){if(typeof de!="object")return!1;try{return pe(de),!0}catch{return!1}}fr.isArgumentsObject=e,fr.isGeneratorFunction=t,fr.isTypedArray=n;function m(de){return typeof Promise<"u"&&de instanceof Promise||de!==null&&typeof de=="object"&&typeof de.then=="function"&&typeof de.catch=="function"}fr.isPromise=m;function _(de){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(de):n(de)||G(de)}fr.isArrayBufferView=_;function v(de){return r(de)==="Uint8Array"}fr.isUint8Array=v;function p(de){return r(de)==="Uint8ClampedArray"}fr.isUint8ClampedArray=p;function S(de){return r(de)==="Uint16Array"}fr.isUint16Array=S;function y(de){return r(de)==="Uint32Array"}fr.isUint32Array=y;function E(de){return r(de)==="Int8Array"}fr.isInt8Array=E;function $(de){return r(de)==="Int16Array"}fr.isInt16Array=$;function T(de){return r(de)==="Int32Array"}fr.isInt32Array=T;function d(de){return r(de)==="Float32Array"}fr.isFloat32Array=d;function A(de){return r(de)==="Float64Array"}fr.isFloat64Array=A;function x(de){return r(de)==="BigInt64Array"}fr.isBigInt64Array=x;function O(de){return r(de)==="BigUint64Array"}fr.isBigUint64Array=O;function C(de){return s(de)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function F(de){return typeof Map>"u"?!1:C.working?C(de):de instanceof Map}fr.isMap=F;function V(de){return s(de)==="[object Set]"}V.working=typeof Set<"u"&&V(new Set);function Q(de){return typeof Set>"u"?!1:V.working?V(de):de instanceof Set}fr.isSet=Q;function H(de){return s(de)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function X(de){return typeof WeakMap>"u"?!1:H.working?H(de):de instanceof WeakMap}fr.isWeakMap=X;function ce(de){return s(de)==="[object WeakSet]"}ce.working=typeof WeakSet<"u"&&ce(new WeakSet);function Z(de){return ce(de)}fr.isWeakSet=Z;function ie(de){return s(de)==="[object ArrayBuffer]"}ie.working=typeof ArrayBuffer<"u"&&ie(new ArrayBuffer);function k(de){return typeof ArrayBuffer>"u"?!1:ie.working?ie(de):de instanceof ArrayBuffer}fr.isArrayBuffer=k;function B(de){return s(de)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function G(de){return typeof DataView>"u"?!1:B.working?B(de):de instanceof DataView}fr.isDataView=G;var P=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function N(de){return s(de)==="[object SharedArrayBuffer]"}function q(de){return typeof P>"u"?!1:(typeof N.working>"u"&&(N.working=N(new P)),N.working?N(de):de instanceof P)}fr.isSharedArrayBuffer=q;function oe(de){return s(de)==="[object AsyncFunction]"}fr.isAsyncFunction=oe;function J(de){return s(de)==="[object Map Iterator]"}fr.isMapIterator=J;function Y(de){return s(de)==="[object Set Iterator]"}fr.isSetIterator=Y;function se(de){return s(de)==="[object Generator]"}fr.isGeneratorObject=se;function be(de){return s(de)==="[object WebAssembly.Module]"}fr.isWebAssemblyCompiledModule=be;function Ne(de){return g(de,l)}fr.isNumberObject=Ne;function R(de){return g(de,u)}fr.isStringObject=R;function D(de){return g(de,f)}fr.isBooleanObject=D;function M(de){return o&&g(de,c)}fr.isBigIntObject=M;function K(de){return a&&g(de,h)}fr.isSymbolObject=K;function ae(de){return Ne(de)||R(de)||D(de)||M(de)||K(de)}fr.isBoxedPrimitive=ae;function fe(de){return typeof Uint8Array<"u"&&(k(de)||q(de))}return fr.isAnyArrayBuffer=fe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(de){Object.defineProperty(fr,de,{enumerable:!1,value:function(){throw new Error(de+" is not supported in userland")}})}),fr}function Tre(){return Vx||(Vx=!0,sw=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),sw}function Are(){if(Hx)return dr;Hx=!0;var e=hi,t=Object.getOwnPropertyDescriptors||function(P){for(var N=Object.keys(P),q={},oe=0;oe<N.length;oe++)q[N[oe]]=Object.getOwnPropertyDescriptor(P,N[oe]);return q},r=/%[sdj%]/g;dr.format=function(G){if(!$(G)){for(var P=[],N=0;N<arguments.length;N++)P.push(a(arguments[N]));return P.join(" ")}for(var N=1,q=arguments,oe=q.length,J=String(G).replace(r,function(se){if(se==="%%")return"%";if(N>=oe)return se;switch(se){case"%s":return String(q[N++]);case"%d":return Number(q[N++]);case"%j":try{return JSON.stringify(q[N++])}catch{return"[Circular]"}default:return se}}),Y=q[N];N<oe;Y=q[++N])S(Y)||!x(Y)?J+=" "+Y:J+=" "+a(Y);return J},dr.deprecate=function(G,P){if(typeof e<"u"&&e.noDeprecation===!0)return G;if(typeof e>"u")return function(){return dr.deprecate(G,P).apply(this||Id,arguments)};var N=!1;function q(){if(!N){if(e.throwDeprecation)throw new Error(P);e.traceDeprecation?console.trace(P):console.error(P),N=!0}return G.apply(this||Id,arguments)}return q};var n={},i=/^$/;if(e.env.NODE_DEBUG){var o=e.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}dr.debuglog=function(G){if(G=G.toUpperCase(),!n[G])if(i.test(G)){var P=e.pid;n[G]=function(){var N=dr.format.apply(dr,arguments);console.error("%s %d: %s",G,P,N)}}else n[G]=function(){};return n[G]};function a(G,P){var N={seen:[],stylize:l};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),p(P)?N.showHidden=P:P&&dr._extend(N,P),d(N.showHidden)&&(N.showHidden=!1),d(N.depth)&&(N.depth=2),d(N.colors)&&(N.colors=!1),d(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=s),f(N,G,N.depth)}dr.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(G,P){var N=a.styles[P];return N?"\x1B["+a.colors[N][0]+"m"+G+"\x1B["+a.colors[N][1]+"m":G}function l(G,P){return G}function u(G){var P={};return G.forEach(function(N,q){P[N]=!0}),P}function f(G,P,N){if(G.customInspect&&P&&F(P.inspect)&&P.inspect!==dr.inspect&&!(P.constructor&&P.constructor.prototype===P)){var q=P.inspect(N,G);return $(q)||(q=f(G,q,N)),q}var oe=c(G,P);if(oe)return oe;var J=Object.keys(P),Y=u(J);if(G.showHidden&&(J=Object.getOwnPropertyNames(P)),C(P)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return h(P);if(J.length===0){if(F(P)){var se=P.name?": "+P.name:"";return G.stylize("[Function"+se+"]","special")}if(A(P))return G.stylize(RegExp.prototype.toString.call(P),"regexp");if(O(P))return G.stylize(Date.prototype.toString.call(P),"date");if(C(P))return h(P)}var be="",Ne=!1,R=["{","}"];if(v(P)&&(Ne=!0,R=["[","]"]),F(P)){var D=P.name?": "+P.name:"";be=" [Function"+D+"]"}if(A(P)&&(be=" "+RegExp.prototype.toString.call(P)),O(P)&&(be=" "+Date.prototype.toUTCString.call(P)),C(P)&&(be=" "+h(P)),J.length===0&&(!Ne||P.length==0))return R[0]+be+R[1];if(N<0)return A(P)?G.stylize(RegExp.prototype.toString.call(P),"regexp"):G.stylize("[Object]","special");G.seen.push(P);var M;return Ne?M=g(G,P,N,Y,J):M=J.map(function(K){return m(G,P,N,Y,K,Ne)}),G.seen.pop(),_(M,be,R)}function c(G,P){if(d(P))return G.stylize("undefined","undefined");if($(P)){var N="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(N,"string")}if(E(P))return G.stylize(""+P,"number");if(p(P))return G.stylize(""+P,"boolean");if(S(P))return G.stylize("null","null")}function h(G){return"["+Error.prototype.toString.call(G)+"]"}function g(G,P,N,q,oe){for(var J=[],Y=0,se=P.length;Y<se;++Y)Z(P,String(Y))?J.push(m(G,P,N,q,String(Y),!0)):J.push("");return oe.forEach(function(be){be.match(/^\d+$/)||J.push(m(G,P,N,q,be,!0))}),J}function m(G,P,N,q,oe,J){var Y,se,be;if(be=Object.getOwnPropertyDescriptor(P,oe)||{value:P[oe]},be.get?be.set?se=G.stylize("[Getter/Setter]","special"):se=G.stylize("[Getter]","special"):be.set&&(se=G.stylize("[Setter]","special")),Z(q,oe)||(Y="["+oe+"]"),se||(G.seen.indexOf(be.value)<0?(S(N)?se=f(G,be.value,null):se=f(G,be.value,N-1),se.indexOf(`
`)>-1&&(J?se=se.split(`
`).map(function(Ne){return"  "+Ne}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(Ne){return"   "+Ne}).join(`
`))):se=G.stylize("[Circular]","special")),d(Y)){if(J&&oe.match(/^\d+$/))return se;Y=JSON.stringify(""+oe),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=G.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=G.stylize(Y,"string"))}return Y+": "+se}function _(G,P,N){var q=G.reduce(function(oe,J){return J.indexOf(`
`)>=0,oe+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return q>60?N[0]+(P===""?"":P+`
 `)+" "+G.join(`,
  `)+" "+N[1]:N[0]+P+" "+G.join(", ")+" "+N[1]}dr.types=$re();function v(G){return Array.isArray(G)}dr.isArray=v;function p(G){return typeof G=="boolean"}dr.isBoolean=p;function S(G){return G===null}dr.isNull=S;function y(G){return G==null}dr.isNullOrUndefined=y;function E(G){return typeof G=="number"}dr.isNumber=E;function $(G){return typeof G=="string"}dr.isString=$;function T(G){return typeof G=="symbol"}dr.isSymbol=T;function d(G){return G===void 0}dr.isUndefined=d;function A(G){return x(G)&&Q(G)==="[object RegExp]"}dr.isRegExp=A,dr.types.isRegExp=A;function x(G){return typeof G=="object"&&G!==null}dr.isObject=x;function O(G){return x(G)&&Q(G)==="[object Date]"}dr.isDate=O,dr.types.isDate=O;function C(G){return x(G)&&(Q(G)==="[object Error]"||G instanceof Error)}dr.isError=C,dr.types.isNativeError=C;function F(G){return typeof G=="function"}dr.isFunction=F;function V(G){return G===null||typeof G=="boolean"||typeof G=="number"||typeof G=="string"||typeof G=="symbol"||typeof G>"u"}dr.isPrimitive=V,dr.isBuffer=Tre();function Q(G){return Object.prototype.toString.call(G)}function H(G){return G<10?"0"+G.toString(10):G.toString(10)}var X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ce(){var G=new Date,P=[H(G.getHours()),H(G.getMinutes()),H(G.getSeconds())].join(":");return[G.getDate(),X[G.getMonth()],P].join(" ")}dr.log=function(){console.log("%s - %s",ce(),dr.format.apply(dr,arguments))},dr.inherits=hc(),dr._extend=function(G,P){if(!P||!x(P))return G;for(var N=Object.keys(P),q=N.length;q--;)G[N[q]]=P[N[q]];return G};function Z(G,P){return Object.prototype.hasOwnProperty.call(G,P)}var ie=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;dr.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(ie&&P[ie]){if(N=P[ie],typeof N!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(N,ie,{value:N,enumerable:!1,writable:!1,configurable:!0}),N}function N(){for(var q,oe,J=new Promise(function(be,Ne){q=be,oe=Ne}),Y=[],se=0;se<arguments.length;se++)Y.push(arguments[se]);Y.push(function(be,Ne){be?oe(be):q(Ne)});try{P.apply(this||Id,Y)}catch(be){oe(be)}return J}return Object.setPrototypeOf(N,Object.getPrototypeOf(P)),ie&&Object.defineProperty(N,ie,{value:N,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(N,t(P))},dr.promisify.custom=ie;function k(G,P){if(!G){var N=new Error("Promise was rejected with a falsy value");N.reason=G,G=N}return P(G)}function B(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var N=[],q=0;q<arguments.length;q++)N.push(arguments[q]);var oe=N.pop();if(typeof oe!="function")throw new TypeError("The last argument must be of type Function");var J=this||Id,Y=function(){return oe.apply(J,arguments)};G.apply(this||Id,N).then(function(se){e.nextTick(Y.bind(null,null,se))},function(se){e.nextTick(k.bind(null,se,Y))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(G)),Object.defineProperties(P,t(G)),P}return dr.callbackify=B,dr}var Q0,Cx,Z0,kx,ew,Dx,tw,Mx,rw,Lx,nw,Fx,iw,Bx,rq,ow,Ux,nq,aw,zx,fr,qx,sw,Vx,dr,Hx,Id,Wt,iq,oq,aq,sq,lq,uq,cq,fq,dq,hq,pq,mq,gq,vq,yq,wq,bq,_q,Eq,Sq,$q,Tq,Aq,Kb,xq,Oq,Pq,uE=nn({"../../node_modules/@jspm/core/nodelibs/browser/util.js"(){Te(),EN(),lN(),Ig(),Q0={},Cx=!1,Z0={},kx=!1,ew={},Dx=!1,tw={},Mx=!1,rw={},Lx=!1,nw={},Fx=!1,iw={},Bx=!1,rq=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ow={},Ux=!1,nq=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,aw={},zx=!1,fr={},qx=!1,sw={},Vx=!1,dr={},Hx=!1,Id=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Wt=Are(),Wt.format,Wt.deprecate,Wt.debuglog,Wt.inspect,Wt.types,Wt.isArray,Wt.isBoolean,Wt.isNull,Wt.isNullOrUndefined,Wt.isNumber,Wt.isString,Wt.isSymbol,Wt.isUndefined,Wt.isRegExp,Wt.isObject,Wt.isDate,Wt.isError,Wt.isFunction,Wt.isPrimitive,Wt.isBuffer,Wt.log,Wt.inherits,Wt._extend,Wt.promisify,Wt.callbackify,iq=Wt._extend,oq=Wt.callbackify,aq=Wt.debuglog,sq=Wt.deprecate,lq=Wt.format,uq=Wt.inherits,cq=Wt.inspect,fq=Wt.isArray,dq=Wt.isBoolean,hq=Wt.isBuffer,pq=Wt.isDate,mq=Wt.isError,gq=Wt.isFunction,vq=Wt.isNull,yq=Wt.isNullOrUndefined,wq=Wt.isNumber,bq=Wt.isObject,_q=Wt.isPrimitive,Eq=Wt.isRegExp,Sq=Wt.isString,$q=Wt.isSymbol,Tq=Wt.isUndefined,Aq=Wt.log,Kb=Wt.promisify,xq=Wt.types,Oq=Wt.TextEncoder=globalThis.TextEncoder,Pq=Wt.TextDecoder=globalThis.TextDecoder}}),ta={};sl(ta,{Duplex:()=>Mq,PassThrough:()=>Fq,Readable:()=>xw,Stream:()=>zq,Transform:()=>Lq,Writable:()=>Dq,default:()=>tn,finished:()=>Bq,pipeline:()=>Uq,promises:()=>qq});function Bn(){return Wx||(Wx=!0,lw={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}),lw}function Qm(){if(Gx)return jd;Gx=!0;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return jd=e,jd.AbortSignal=t,jd.default=e,jd}function ao(){if(Kx)return Gp;Kx=!0;const e=Io(),{kResistStopPropagation:t,SymbolDispose:r}=Bn(),n=globalThis.AbortSignal||Qm().AbortSignal,i=globalThis.AbortController||Qm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,a=globalThis.Blob||e.Blob,s=typeof a<"u"?function(h){return h instanceof a}:function(h){return!1},l=(c,h)=>{if(c!==void 0&&(c===null||typeof c!="object"||!("aborted"in c)))throw new ERR_INVALID_ARG_TYPE(h,"AbortSignal",c)},u=(c,h)=>{if(typeof c!="function")throw new ERR_INVALID_ARG_TYPE(h,"Function",c)};class f extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let g="";for(let m=0;m<h.length;m++)g+=`    ${h[m].stack}
`;super(g),this.name="AggregateError",this.errors=h}}return Gp={AggregateError:f,kEmptyObject:Object.freeze({}),once(c){let h=!1;return function(...g){h||(h=!0,c.apply(this,g))}},createDeferredPromise:function(){let c,h;return{promise:new Promise((m,_)=>{c=m,h=_}),resolve:c,reject:h}},promisify(c){return new Promise((h,g)=>{c((m,..._)=>m?g(m):h(..._))})},debuglog(){return function(){}},format(c,...h){return c.replace(/%([sdifj])/g,function(...[g,m]){const _=h.shift();return m==="f"?_.toFixed(6):m==="j"?JSON.stringify(_):m==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof o},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:s,deprecate(c,h){return c},addAbortListener:qs.addAbortListener||function(h,g){if(h===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",h);l(h,"signal"),u(g,"listener");let m;return h.aborted?queueMicrotask(()=>g()):(h.addEventListener("abort",g,{__proto__:null,once:!0,[t]:!0}),m=()=>{h.removeEventListener("abort",g)}),{__proto__:null,[r](){var _;(_=m)===null||_===void 0||_()}}},AbortSignalAny:n.any||function(h){if(h.length===1)return h[0];const g=new i,m=()=>g.abort();return h.forEach(_=>{l(_,"signals"),_.addEventListener("abort",m,{once:!0})}),g.signal.addEventListener("abort",()=>{h.forEach(_=>_.removeEventListener("abort",m))},{once:!0}),g.signal}},Gp.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),Gp}function Co(){if(Jx)return uw;Jx=!0;const{format:e,inspect:t,AggregateError:r}=ao(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function u(v,p){if(!v)throw new l.ERR_INTERNAL_ASSERTION(p)}function f(v){let p="",S=v.length;const y=v[0]==="-"?1:0;for(;S>=y+4;S-=3)p=`_${v.slice(S-3,S)}${p}`;return`${v.slice(0,S)}${p}`}function c(v,p,S){if(typeof p=="function")return u(p.length<=S.length,`Code: ${v}; The provided arguments length (${S.length}) does not match the required ones (${p.length}).`),p(...S);const y=(p.match(/%[dfijoOs]/g)||[]).length;return u(y===S.length,`Code: ${v}; The provided arguments length (${S.length}) does not match the required ones (${y}).`),S.length===0?p:e(p,...S)}function h(v,p,S){S||(S=Error);class y extends S{constructor(...$){super(c(v,p,$))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:S.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[i]=!0,l[v]=y}function g(v){const p=s+v.name;return Object.defineProperty(v,"name",{value:p}),v}function m(v,p){if(v&&p&&v!==p){if(Array.isArray(p.errors))return p.errors.push(v),p;const S=new n([p,v],p.message);return S.code=p.code,S}return v||p}class _ extends Error{constructor(p="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",S);super(p,S),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(v,p,S)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(p)||(p=[p]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const E=[],$=[],T=[];for(const A of p)u(typeof A=="string","All expected entries have to be of type string"),o.includes(A)?E.push(A.toLowerCase()):a.test(A)?$.push(A):(u(A!=="object",'The value "object" should be written as "Object"'),T.push(A));if($.length>0){const A=E.indexOf("object");A!==-1&&(E.splice(E,A,1),$.push("Object"))}if(E.length>0){switch(E.length){case 1:y+=`of type ${E[0]}`;break;case 2:y+=`one of type ${E[0]} or ${E[1]}`;break;default:{const A=E.pop();y+=`one of type ${E.join(", ")}, or ${A}`}}($.length>0||T.length>0)&&(y+=" or ")}if($.length>0){switch($.length){case 1:y+=`an instance of ${$[0]}`;break;case 2:y+=`an instance of ${$[0]} or ${$[1]}`;break;default:{const A=$.pop();y+=`an instance of ${$.join(", ")}, or ${A}`}}T.length>0&&(y+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(y+="an "),y+=`${T[0]}`;break;case 2:y+=`one of ${T[0]} or ${T[1]}`;break;default:{const A=T.pop();y+=`one of ${T.join(", ")}, or ${A}`}}if(S==null)y+=`. Received ${S}`;else if(typeof S=="function"&&S.name)y+=`. Received function ${S.name}`;else if(typeof S=="object"){var d;if((d=S.constructor)!==null&&d!==void 0&&d.name)y+=`. Received an instance of ${S.constructor.name}`;else{const A=t(S,{depth:-1});y+=`. Received ${A}`}}else{let A=t(S,{colors:!1});A.length>25&&(A=`${A.slice(0,25)}...`),y+=`. Received type ${typeof S} (${A})`}return y},TypeError),h("ERR_INVALID_ARG_VALUE",(v,p,S="is invalid")=>{let y=t(p);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${S}. Received ${y}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(v,p,S)=>{var y;const E=S!=null&&(y=S.constructor)!==null&&y!==void 0&&y.name?`instance of ${S.constructor.name}`:`type ${typeof S}`;return`Expected ${v} to be returned from the "${p}" function but got ${E}.`},TypeError),h("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let p;const S=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),S){case 1:p+=`The ${v[0]} argument`;break;case 2:p+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();p+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${p} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(v,p,S)=>{u(p,'Missing "range" argument');let y;return Number.isInteger(S)&&Math.abs(S)>2**32?y=f(String(S)):typeof S=="bigint"?(y=String(S),(S>2n**32n||S<-(2n**32n))&&(y=f(y)),y+="n"):y=t(S),`The value of "${v}" is out of range. It must be ${p}. Received ${y}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),uw={AbortError:_,aggregateTwoErrors:g(m),hideStackFrames:g,codes:l},uw}function kg(){if(Yx)return cw;Yx=!0;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:c,StringPrototypeToUpperCase:h,StringPrototypeTrim:g}=Bn(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:p,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:y}}=Co(),{normalizeEncoding:E}=ao(),{isAsyncFunction:$,isArrayBufferView:T}=ao().types,d={};function A(pe){return pe===(pe|0)}function x(pe){return pe===pe>>>0}const O=/^[0-7]+$/,C="must be a 32-bit unsigned integer or an octal string";function F(pe,xe,Le){if(typeof pe>"u"&&(pe=Le),typeof pe=="string"){if(f(O,pe)===null)throw new p(xe,pe,C);pe=l(pe,8)}return H(pe,xe),pe}const V=m((pe,xe,Le=s,ke=a)=>{if(typeof pe!="number")throw new v(xe,"number",pe);if(!i(pe))throw new S(xe,"an integer",pe);if(pe<Le||pe>ke)throw new S(xe,`>= ${Le} && <= ${ke}`,pe)}),Q=m((pe,xe,Le=-2147483648,ke=2147483647)=>{if(typeof pe!="number")throw new v(xe,"number",pe);if(!i(pe))throw new S(xe,"an integer",pe);if(pe<Le||pe>ke)throw new S(xe,`>= ${Le} && <= ${ke}`,pe)}),H=m((pe,xe,Le=!1)=>{if(typeof pe!="number")throw new v(xe,"number",pe);if(!i(pe))throw new S(xe,"an integer",pe);const ke=Le?1:0,nt=4294967295;if(pe<ke||pe>nt)throw new S(xe,`>= ${ke} && <= ${nt}`,pe)});function X(pe,xe){if(typeof pe!="string")throw new v(xe,"string",pe)}function ce(pe,xe,Le=void 0,ke){if(typeof pe!="number")throw new v(xe,"number",pe);if(Le!=null&&pe<Le||ke!=null&&pe>ke||(Le!=null||ke!=null)&&o(pe))throw new S(xe,`${Le!=null?`>= ${Le}`:""}${Le!=null&&ke!=null?" && ":""}${ke!=null?`<= ${ke}`:""}`,pe)}const Z=m((pe,xe,Le)=>{if(!t(Le,pe)){const nt="must be one of: "+r(n(Le,qe=>typeof qe=="string"?`'${qe}'`:c(qe)),", ");throw new p(xe,pe,nt)}});function ie(pe,xe){if(typeof pe!="boolean")throw new v(xe,"boolean",pe)}function k(pe,xe,Le){return pe==null||!u(pe,xe)?Le:pe[xe]}const B=m((pe,xe,Le=null)=>{const ke=k(Le,"allowArray",!1),nt=k(Le,"allowFunction",!1);if(!k(Le,"nullable",!1)&&pe===null||!ke&&e(pe)||typeof pe!="object"&&(!nt||typeof pe!="function"))throw new v(xe,"Object",pe)}),G=m((pe,xe)=>{if(pe!=null&&typeof pe!="object"&&typeof pe!="function")throw new v(xe,"a dictionary",pe)}),P=m((pe,xe,Le=0)=>{if(!e(pe))throw new v(xe,"Array",pe);if(pe.length<Le){const ke=`must be longer than ${Le}`;throw new p(xe,pe,ke)}});function N(pe,xe){P(pe,xe);for(let Le=0;Le<pe.length;Le++)X(pe[Le],`${xe}[${Le}]`)}function q(pe,xe){P(pe,xe);for(let Le=0;Le<pe.length;Le++)ie(pe[Le],`${xe}[${Le}]`)}function oe(pe,xe){P(pe,xe);for(let Le=0;Le<pe.length;Le++){const ke=pe[Le],nt=`${xe}[${Le}]`;if(ke==null)throw new v(nt,"AbortSignal",ke);Ne(ke,nt)}}function J(pe,xe="signal"){if(X(pe,xe),d[pe]===void 0)throw d[h(pe)]!==void 0?new y(pe+" (signals must use all capital letters)"):new y(pe)}const Y=m((pe,xe="buffer")=>{if(!T(pe))throw new v(xe,["Buffer","TypedArray","DataView"],pe)});function se(pe,xe){const Le=E(xe),ke=pe.length;if(Le==="hex"&&ke%2!==0)throw new p("encoding",xe,`is invalid for data of length ${ke}`)}function be(pe,xe="Port",Le=!0){if(typeof pe!="number"&&typeof pe!="string"||typeof pe=="string"&&g(pe).length===0||+pe!==+pe>>>0||pe>65535||pe===0&&!Le)throw new _(xe,pe,Le);return pe|0}const Ne=m((pe,xe)=>{if(pe!==void 0&&(pe===null||typeof pe!="object"||!("aborted"in pe)))throw new v(xe,"AbortSignal",pe)}),R=m((pe,xe)=>{if(typeof pe!="function")throw new v(xe,"Function",pe)}),D=m((pe,xe)=>{if(typeof pe!="function"||$(pe))throw new v(xe,"Function",pe)}),M=m((pe,xe)=>{if(pe!==void 0)throw new v(xe,"undefined",pe)});function K(pe,xe,Le){if(!t(Le,pe))throw new v(xe,`('${r(Le,"|")}')`,pe)}const ae=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(pe,xe){if(typeof pe>"u"||!f(ae,pe))throw new p(xe,pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function de(pe){if(typeof pe=="string")return fe(pe,"hints"),pe;if(e(pe)){const xe=pe.length;let Le="";if(xe===0)return Le;for(let ke=0;ke<xe;ke++){const nt=pe[ke];fe(nt,"hints"),Le+=nt,ke!==xe-1&&(Le+=", ")}return Le}throw new p("hints",pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return cw={isInt32:A,isUint32:x,parseFileMode:F,validateArray:P,validateStringArray:N,validateBooleanArray:q,validateAbortSignalArray:oe,validateBoolean:ie,validateBuffer:Y,validateDictionary:G,validateEncoding:se,validateFunction:R,validateInt32:Q,validateInteger:V,validateNumber:ce,validateObject:B,validateOneOf:Z,validatePlainFunction:D,validatePort:be,validateSignalName:J,validateString:X,validateUint32:H,validateUndefined:M,validateUnion:K,validateAbortSignal:Ne,validateLinkHeaderValue:de},cw}function Jl(){if(Xx)return fw;Xx=!0;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Bn(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),a=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(k,B=!1){var G;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!B||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((G=k._readableState)===null||G===void 0?void 0:G.readable)!==!1)&&(!k._writableState||k._readableState))}function c(k){var B;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((B=k._writableState)===null||B===void 0?void 0:B.writable)!==!1))}function h(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function g(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function m(k){return!!(k&&!g(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function _(k){return!!(k&&!g(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function v(k){return!!(k&&!g(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function p(k){return m(k)||_(k)||v(k)}function S(k,B){return k==null?!1:B===!0?typeof k[e]=="function":B===!1?typeof k[t]=="function":typeof k[e]=="function"||typeof k[t]=="function"}function y(k){if(!g(k))return null;const B=k._writableState,G=k._readableState,P=B||G;return!!(k.destroyed||k[n]||P!=null&&P.destroyed)}function E(k){if(!c(k))return null;if(k.writableEnded===!0)return!0;const B=k._writableState;return B!=null&&B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function $(k,B){if(!c(k))return null;if(k.writableFinished===!0)return!0;const G=k._writableState;return G!=null&&G.errored?!1:typeof(G==null?void 0:G.finished)!="boolean"?null:!!(G.finished||B===!1&&G.ended===!0&&G.length===0)}function T(k){if(!f(k))return null;if(k.readableEnded===!0)return!0;const B=k._readableState;return!B||B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function d(k,B){if(!f(k))return null;const G=k._readableState;return G!=null&&G.errored?!1:typeof(G==null?void 0:G.endEmitted)!="boolean"?null:!!(G.endEmitted||B===!1&&G.ended===!0&&G.length===0)}function A(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.readable)!="boolean"?null:y(k)?!1:f(k)&&k.readable&&!d(k)}function x(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.writable)!="boolean"?null:y(k)?!1:c(k)&&k.writable&&!E(k)}function O(k,B){return g(k)?y(k)?!0:!((B==null?void 0:B.readable)!==!1&&A(k)||(B==null?void 0:B.writable)!==!1&&x(k)):null}function C(k){var B,G;return g(k)?k.writableErrored?k.writableErrored:(B=(G=k._writableState)===null||G===void 0?void 0:G.errored)!==null&&B!==void 0?B:null:null}function F(k){var B,G;return g(k)?k.readableErrored?k.readableErrored:(B=(G=k._readableState)===null||G===void 0?void 0:G.errored)!==null&&B!==void 0?B:null:null}function V(k){if(!g(k))return null;if(typeof k.closed=="boolean")return k.closed;const B=k._writableState,G=k._readableState;return typeof(B==null?void 0:B.closed)=="boolean"||typeof(G==null?void 0:G.closed)=="boolean"?(B==null?void 0:B.closed)||(G==null?void 0:G.closed):typeof k._closed=="boolean"&&Q(k)?k._closed:null}function Q(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function H(k){return typeof k._sent100=="boolean"&&Q(k)}function X(k){var B;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((B=k.req)===null||B===void 0?void 0:B.upgradeOrConnect)===void 0}function ce(k){if(!g(k))return null;const B=k._writableState,G=k._readableState,P=B||G;return!P&&H(k)||!!(P&&P.autoDestroy&&P.emitClose&&P.closed===!1)}function Z(k){var B;return!!(k&&((B=k[s])!==null&&B!==void 0?B:k.readableDidRead||k.readableAborted))}function ie(k){var B,G,P,N,q,oe,J,Y,se,be;return!!(k&&((B=(G=(P=(N=(q=(oe=k[i])!==null&&oe!==void 0?oe:k.readableErrored)!==null&&q!==void 0?q:k.writableErrored)!==null&&N!==void 0?N:(J=k._readableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&P!==void 0?P:(Y=k._writableState)===null||Y===void 0?void 0:Y.errorEmitted)!==null&&G!==void 0?G:(se=k._readableState)===null||se===void 0?void 0:se.errored)!==null&&B!==void 0?B:!((be=k._writableState)===null||be===void 0)&&be.errored))}return fw={isDestroyed:y,kIsDestroyed:n,isDisturbed:Z,kIsDisturbed:s,isErrored:ie,kIsErrored:i,isReadable:A,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:a,isClosed:V,isDuplexNodeStream:h,isFinished:O,isIterable:S,isReadableNodeStream:f,isReadableStream:m,isReadableEnded:T,isReadableFinished:d,isReadableErrored:F,isNodeStream:g,isWebStream:p,isWritable:x,isWritableNodeStream:c,isWritableStream:_,isWritableEnded:E,isWritableFinished:$,isWritableErrored:C,isServerRequest:X,isServerResponse:H,willEmitClose:ce,isTransformStream:v},fw}function pc(){if(Qx)return Kp;Qx=!0;const e=hi,{AbortError:t,codes:r}=Co(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:a}=ao(),{validateAbortSignal:s,validateFunction:l,validateObject:u,validateBoolean:f}=kg(),{Promise:c,PromisePrototypeThen:h,SymbolDispose:g}=Bn(),{isClosed:m,isReadable:_,isReadableNodeStream:v,isReadableStream:p,isReadableFinished:S,isReadableErrored:y,isWritable:E,isWritableNodeStream:$,isWritableStream:T,isWritableFinished:d,isWritableErrored:A,isNodeStream:x,willEmitClose:O,kIsClosedPromise:C}=Jl();let F;function V(Z){return Z.setHeader&&typeof Z.abort=="function"}const Q=()=>{};function H(Z,ie,k){var B,G;if(arguments.length===2?(k=ie,ie=o):ie==null?ie=o:u(ie,"options"),l(k,"callback"),s(ie.signal,"options.signal"),k=a(k),p(Z)||T(Z))return X(Z,ie,k);if(!x(Z))throw new n("stream",["ReadableStream","WritableStream","Stream"],Z);const P=(B=ie.readable)!==null&&B!==void 0?B:v(Z),N=(G=ie.writable)!==null&&G!==void 0?G:$(Z),q=Z._writableState,oe=Z._readableState,J=()=>{Z.writable||be()};let Y=O(Z)&&v(Z)===P&&$(Z)===N,se=d(Z,!1);const be=()=>{se=!0,Z.destroyed&&(Y=!1),!(Y&&(!Z.readable||P))&&(!P||Ne)&&k.call(Z)};let Ne=S(Z,!1);const R=()=>{Ne=!0,Z.destroyed&&(Y=!1),!(Y&&(!Z.writable||N))&&(!N||se)&&k.call(Z)},D=pe=>{k.call(Z,pe)};let M=m(Z);const K=()=>{M=!0;const pe=A(Z)||y(Z);if(pe&&typeof pe!="boolean")return k.call(Z,pe);if(P&&!Ne&&v(Z,!0)&&!S(Z,!1))return k.call(Z,new i);if(N&&!se&&!d(Z,!1))return k.call(Z,new i);k.call(Z)},ae=()=>{M=!0;const pe=A(Z)||y(Z);if(pe&&typeof pe!="boolean")return k.call(Z,pe);k.call(Z)},fe=()=>{Z.req.on("finish",be)};V(Z)?(Z.on("complete",be),Y||Z.on("abort",K),Z.req?fe():Z.on("request",fe)):N&&!q&&(Z.on("end",J),Z.on("close",J)),!Y&&typeof Z.aborted=="boolean"&&Z.on("aborted",K),Z.on("end",R),Z.on("finish",be),ie.error!==!1&&Z.on("error",D),Z.on("close",K),M?e.nextTick(K):q!=null&&q.errorEmitted||oe!=null&&oe.errorEmitted?Y||e.nextTick(ae):(!P&&(!Y||_(Z))&&(se||E(Z)===!1)||!N&&(!Y||E(Z))&&(Ne||_(Z)===!1)||oe&&Z.req&&Z.aborted)&&e.nextTick(ae);const de=()=>{k=Q,Z.removeListener("aborted",K),Z.removeListener("complete",be),Z.removeListener("abort",K),Z.removeListener("request",fe),Z.req&&Z.req.removeListener("finish",be),Z.removeListener("end",J),Z.removeListener("close",J),Z.removeListener("finish",be),Z.removeListener("end",R),Z.removeListener("error",D),Z.removeListener("close",K)};if(ie.signal&&!M){const pe=()=>{const xe=k;de(),xe.call(Z,new t(void 0,{cause:ie.signal.reason}))};if(ie.signal.aborted)e.nextTick(pe);else{F=F||ao().addAbortListener;const xe=F(ie.signal,pe),Le=k;k=a((...ke)=>{xe[g](),Le.apply(Z,ke)})}}return de}function X(Z,ie,k){let B=!1,G=Q;if(ie.signal)if(G=()=>{B=!0,k.call(Z,new t(void 0,{cause:ie.signal.reason}))},ie.signal.aborted)e.nextTick(G);else{F=F||ao().addAbortListener;const N=F(ie.signal,G),q=k;k=a((...oe)=>{N[g](),q.apply(Z,oe)})}const P=(...N)=>{B||e.nextTick(()=>k.apply(Z,N))};return h(Z[C].promise,P,P),Q}function ce(Z,ie){var k;let B=!1;return ie===null&&(ie=o),(k=ie)!==null&&k!==void 0&&k.cleanup&&(f(ie.cleanup,"cleanup"),B=ie.cleanup),new c((G,P)=>{const N=H(Z,ie,q=>{B&&N(),q?P(q):G()})})}return Kp=H,Kp.finished=ce,Kp}function Gh(){if(Zx)return dw;Zx=!0;const e=hi,{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Co(),{Symbol:i}=Bn(),{kIsDestroyed:o,isDestroyed:a,isFinished:s,isServerRequest:l}=Jl(),u=i("kDestroy"),f=i("kConstruct");function c(O,C,F){O&&(O.stack,C&&!C.errored&&(C.errored=O),F&&!F.errored&&(F.errored=O))}function h(O,C){const F=this._readableState,V=this._writableState,Q=V||F;return V!=null&&V.destroyed||F!=null&&F.destroyed?(typeof C=="function"&&C(),this):(c(O,V,F),V&&(V.destroyed=!0),F&&(F.destroyed=!0),Q.constructed?g(this,O,C):this.once(u,function(H){g(this,t(H,O),C)}),this)}function g(O,C,F){let V=!1;function Q(H){if(V)return;V=!0;const X=O._readableState,ce=O._writableState;c(H,ce,X),ce&&(ce.closed=!0),X&&(X.closed=!0),typeof F=="function"&&F(H),H?e.nextTick(m,O,H):e.nextTick(_,O)}try{O._destroy(C||null,Q)}catch(H){Q(H)}}function m(O,C){v(O,C),_(O)}function _(O){const C=O._readableState,F=O._writableState;F&&(F.closeEmitted=!0),C&&(C.closeEmitted=!0),(F!=null&&F.emitClose||C!=null&&C.emitClose)&&O.emit("close")}function v(O,C){const F=O._readableState,V=O._writableState;V!=null&&V.errorEmitted||F!=null&&F.errorEmitted||(V&&(V.errorEmitted=!0),F&&(F.errorEmitted=!0),O.emit("error",C))}function p(){const O=this._readableState,C=this._writableState;O&&(O.constructed=!0,O.closed=!1,O.closeEmitted=!1,O.destroyed=!1,O.errored=null,O.errorEmitted=!1,O.reading=!1,O.ended=O.readable===!1,O.endEmitted=O.readable===!1),C&&(C.constructed=!0,C.destroyed=!1,C.closed=!1,C.closeEmitted=!1,C.errored=null,C.errorEmitted=!1,C.finalCalled=!1,C.prefinished=!1,C.ended=C.writable===!1,C.ending=C.writable===!1,C.finished=C.writable===!1)}function S(O,C,F){const V=O._readableState,Q=O._writableState;if(Q!=null&&Q.destroyed||V!=null&&V.destroyed)return this;V!=null&&V.autoDestroy||Q!=null&&Q.autoDestroy?O.destroy(C):C&&(C.stack,Q&&!Q.errored&&(Q.errored=C),V&&!V.errored&&(V.errored=C),F?e.nextTick(v,O,C):v(O,C))}function y(O,C){if(typeof O._construct!="function")return;const F=O._readableState,V=O._writableState;F&&(F.constructed=!1),V&&(V.constructed=!1),O.once(f,C),!(O.listenerCount(f)>1)&&e.nextTick(E,O)}function E(O){let C=!1;function F(V){if(C){S(O,V??new r);return}C=!0;const Q=O._readableState,H=O._writableState,X=H||Q;Q&&(Q.constructed=!0),H&&(H.constructed=!0),X.destroyed?O.emit(u,V):V?S(O,V,!0):e.nextTick($,O)}try{O._construct(V=>{e.nextTick(F,V)})}catch(V){e.nextTick(F,V)}}function $(O){O.emit(f)}function T(O){return(O==null?void 0:O.setHeader)&&typeof O.abort=="function"}function d(O){O.emit("close")}function A(O,C){O.emit("error",C),e.nextTick(d,O)}function x(O,C){!O||a(O)||(!C&&!s(O)&&(C=new n),l(O)?(O.socket=null,O.destroy(C)):T(O)?O.abort():T(O.req)?O.req.abort():typeof O.destroy=="function"?O.destroy(C):typeof O.close=="function"?O.close():C?e.nextTick(A,O,C):e.nextTick(d,O),O.destroyed||(O[o]=!0))}return dw={construct:y,destroyer:x,destroy:h,undestroy:p,errorOrDestroy:S},dw}function $N(){if(eO)return hw;eO=!0;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Bn(),{EventEmitter:r}=qs;function n(o){r.call(this,o)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(o,a){const s=this;function l(_){o.writable&&o.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function u(){s.readable&&s.resume&&s.resume()}o.on("drain",u),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",c),s.on("close",h));let f=!1;function c(){f||(f=!0,o.end())}function h(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function g(_){m(),r.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",g),i(o,"error",g);function m(){s.removeListener("data",l),o.removeListener("drain",u),s.removeListener("end",c),s.removeListener("close",h),s.removeListener("error",g),o.removeListener("error",g),s.removeListener("end",m),s.removeListener("close",m),o.removeListener("close",m)}return s.on("end",m),s.on("close",m),o.on("close",m),o.emit("pipe",s),o};function i(o,a,s){if(typeof o.prependListener=="function")return o.prependListener(a,s);!o._events||!o._events[a]?o.on(a,s):e(o._events[a])?o._events[a].unshift(s):o._events[a]=[s,o._events[a]]}return hw={Stream:n,prependListener:i},hw}function cE(){if(tO)return Cd;tO=!0;const{SymbolDispose:e}=Bn(),{AbortError:t,codes:r}=Co(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=Jl(),a=pc(),{ERR_INVALID_ARG_TYPE:s}=r;let l;const u=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new s(c,"AbortSignal",f)};return Cd.addAbortSignal=function(c,h){if(u(c,"signal"),!n(h)&&!i(h))throw new s("stream",["ReadableStream","WritableStream","Stream"],h);return Cd.addAbortSignalNoValidate(c,h)},Cd.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;const h=n(c)?()=>{c.destroy(new t(void 0,{cause:f.reason}))}:()=>{c[o](new t(void 0,{cause:f.reason}))};if(f.aborted)h();else{l=l||ao().addAbortListener;const g=l(f,h);a(c,g[e])}return c},Cd}function xre(){if(rO)return pw;rO=!0;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Bn(),{Buffer:i}=Io(),{inspect:o}=ao();return pw=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=s+l.data;return u}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(s,l){const u=this.head.data;if(s<u.length){const f=u.slice(0,s);return this.head.data=u.slice(s),f}return s===u.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",u=this.head,f=0;do{const c=u.data;if(s>c.length)l+=c,s-=c.length;else{s===c.length?(l+=c,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(c,0,s),this.head=u,u.data=e(c,s));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(s){const l=i.allocUnsafe(s),u=s;let f=this.head,c=0;do{const h=f.data;if(s>h.length)r(l,h,u-s),s-=h.length;else{s===h.length?(r(l,h,u-s),++c,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(h.buffer,h.byteOffset,s),u-s),this.head=f,f.data=h.slice(s));break}++c}while((f=f.next)!==null);return this.length-=c,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return o(this,{...l,depth:0,customInspect:!1})}},pw}function fE(){if(nO)return mw;nO=!0;const{MathFloor:e,NumberIsInteger:t}=Bn(),{validateInteger:r}=kg(),{ERR_INVALID_ARG_VALUE:n}=Co().codes;let i=16*1024,o=16;function a(f,c,h){return f.highWaterMark!=null?f.highWaterMark:c?f[h]:null}function s(f){return f?o:i}function l(f,c){r(c,"value",0),f?o=c:i=c}function u(f,c,h,g){const m=a(c,g,h);if(m!=null){if(!t(m)||m<0){const _=g?`options.${h}`:"options.highWaterMark";throw new n(_,m)}return e(m)}return s(f.objectMode)}return mw={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},mw}function Rq(){if(iO)return gw;iO=!0;const e=hi,{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Bn(),{Buffer:i}=Io(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=Co().codes;function s(l,u,f){let c;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let h;if(u&&u[r])h=!0,c=u[r]();else if(u&&u[n])h=!1,c=u[n]();else throw new o("iterable",["Iterable"],u);const g=new l({objectMode:!0,highWaterMark:1,...f});let m=!1;g._read=function(){m||(m=!0,v())},g._destroy=function(p,S){t(_(p),()=>e.nextTick(S,p),y=>e.nextTick(S,y||p))};async function _(p){const S=p!=null,y=typeof c.throw=="function";if(S&&y){const{value:E,done:$}=await c.throw(p);if(await E,$)return}if(typeof c.return=="function"){const{value:E}=await c.return();await E}}async function v(){for(;;){try{const{value:p,done:S}=h?await c.next():c.next();if(S)g.push(null);else{const y=p&&typeof p.then=="function"?await p:p;if(y===null)throw m=!1,new a;if(g.push(y))continue;m=!1}}catch(p){g.destroy(p)}break}}return g}return gw=s,gw}function dE(){if(oO)return vw;oO=!0;const e=hi,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:s,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:c,Symbol:h}=Bn();vw=ke,ke.ReadableState=Le;const{EventEmitter:g}=qs,{Stream:m,prependListener:_}=$N(),{Buffer:v}=Io(),{addAbortSignal:p}=cE(),S=pc();let y=ao().debuglog("stream",Ee=>{y=Ee});const E=xre(),$=Gh(),{getHighWaterMark:T,getDefaultHighWaterMark:d}=fE(),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:Q}=Co(),{validateObject:H}=kg(),X=h("kPaused"),{StringDecoder:ce}=ch,Z=Rq();s(ke.prototype,m.prototype),s(ke,m);const ie=()=>{},{errorOrDestroy:k}=$,B=1,G=2,P=4,N=8,q=16,oe=32,J=64,Y=128,se=256,be=512,Ne=1024,R=2048,D=4096,M=8192,K=16384,ae=32768,fe=65536,de=1<<17,pe=1<<18;function xe(Ee){return{enumerable:!1,get(){return((this||ft).state&Ee)!==0},set(Oe){Oe?(this||ft).state|=Ee:(this||ft).state&=~Ee}}}o(Le.prototype,{objectMode:xe(B),ended:xe(G),endEmitted:xe(P),reading:xe(N),constructed:xe(q),sync:xe(oe),needReadable:xe(J),emittedReadable:xe(Y),readableListening:xe(se),resumeScheduled:xe(be),errorEmitted:xe(Ne),emitClose:xe(R),autoDestroy:xe(D),destroyed:xe(M),closed:xe(K),closeEmitted:xe(ae),multiAwaitDrain:xe(fe),readingMore:xe(de),dataEmitted:xe(pe)});function Le(Ee,Oe,ct){typeof ct!="boolean"&&(ct=Oe instanceof Ul()),(this||ft).state=R|D|q|oe,Ee&&Ee.objectMode&&((this||ft).state|=B),ct&&Ee&&Ee.readableObjectMode&&((this||ft).state|=B),(this||ft).highWaterMark=Ee?T(this||ft,Ee,"readableHighWaterMark",ct):d(!1),(this||ft).buffer=new E,(this||ft).length=0,(this||ft).pipes=[],(this||ft).flowing=null,(this||ft)[X]=null,Ee&&Ee.emitClose===!1&&((this||ft).state&=~R),Ee&&Ee.autoDestroy===!1&&((this||ft).state&=~D),(this||ft).errored=null,(this||ft).defaultEncoding=Ee&&Ee.defaultEncoding||"utf8",(this||ft).awaitDrainWriters=null,(this||ft).decoder=null,(this||ft).encoding=null,Ee&&Ee.encoding&&((this||ft).decoder=new ce(Ee.encoding),(this||ft).encoding=Ee.encoding)}function ke(Ee){if(!((this||ft)instanceof ke))return new ke(Ee);const Oe=(this||ft)instanceof Ul();(this||ft)._readableState=new Le(Ee,this||ft,Oe),Ee&&(typeof Ee.read=="function"&&((this||ft)._read=Ee.read),typeof Ee.destroy=="function"&&((this||ft)._destroy=Ee.destroy),typeof Ee.construct=="function"&&((this||ft)._construct=Ee.construct),Ee.signal&&!Oe&&p(Ee.signal,this||ft)),m.call(this||ft,Ee),$.construct(this||ft,()=>{(this||ft)._readableState.needReadable&&Se(this||ft,(this||ft)._readableState)})}ke.prototype.destroy=$.destroy,ke.prototype._undestroy=$.undestroy,ke.prototype._destroy=function(Ee,Oe){Oe(Ee)},ke.prototype[g.captureRejectionSymbol]=function(Ee){this.destroy(Ee)},ke.prototype[f]=function(){let Ee;return(this||ft).destroyed||(Ee=(this||ft).readableEnded?null:new Q,this.destroy(Ee)),new l((Oe,ct)=>S(this||ft,ht=>ht&&ht!==Ee?ct(ht):Oe(null)))},ke.prototype.push=function(Ee,Oe){return nt(this||ft,Ee,Oe,!1)},ke.prototype.unshift=function(Ee,Oe){return nt(this||ft,Ee,Oe,!0)};function nt(Ee,Oe,ct,ht){y("readableAddChunk",Oe);const et=Ee._readableState;let xt;if(et.state&B||(typeof Oe=="string"?(ct=ct||et.defaultEncoding,et.encoding!==ct&&(ht&&et.encoding?Oe=v.from(Oe,ct).toString(et.encoding):(Oe=v.from(Oe,ct),ct=""))):Oe instanceof v?ct="":m._isUint8Array(Oe)?(Oe=m._uint8ArrayToBuffer(Oe),ct=""):Oe!=null&&(xt=new x("chunk",["string","Buffer","Uint8Array"],Oe))),xt)k(Ee,xt);else if(Oe===null)et.state&=~N,L(Ee,et);else if(et.state&B||Oe&&Oe.length>0)if(ht)if(et.state&P)k(Ee,new V);else{if(et.destroyed||et.errored)return!1;qe(Ee,et,Oe,!0)}else if(et.ended)k(Ee,new F);else{if(et.destroyed||et.errored)return!1;et.state&=~N,et.decoder&&!ct?(Oe=et.decoder.write(Oe),et.objectMode||Oe.length!==0?qe(Ee,et,Oe,!1):Se(Ee,et)):qe(Ee,et,Oe,!1)}else ht||(et.state&=~N,Se(Ee,et));return!et.ended&&(et.length<et.highWaterMark||et.length===0)}function qe(Ee,Oe,ct,ht){Oe.flowing&&Oe.length===0&&!Oe.sync&&Ee.listenerCount("data")>0?(Oe.state&fe?Oe.awaitDrainWriters.clear():Oe.awaitDrainWriters=null,Oe.dataEmitted=!0,Ee.emit("data",ct)):(Oe.length+=Oe.objectMode?1:ct.length,ht?Oe.buffer.unshift(ct):Oe.buffer.push(ct),Oe.state&J&&ne(Ee)),Se(Ee,Oe)}ke.prototype.isPaused=function(){const Ee=(this||ft)._readableState;return Ee[X]===!0||Ee.flowing===!1},ke.prototype.setEncoding=function(Ee){const Oe=new ce(Ee);(this||ft)._readableState.decoder=Oe,(this||ft)._readableState.encoding=(this||ft)._readableState.decoder.encoding;const ct=(this||ft)._readableState.buffer;let ht="";for(const et of ct)ht+=Oe.write(et);return ct.clear(),ht!==""&&ct.push(ht),(this||ft)._readableState.length=ht.length,this||ft};const Ue=1073741824;function W(Ee){if(Ee>Ue)throw new C("size","<= 1GiB",Ee);return Ee--,Ee|=Ee>>>1,Ee|=Ee>>>2,Ee|=Ee>>>4,Ee|=Ee>>>8,Ee|=Ee>>>16,Ee++,Ee}function I(Ee,Oe){return Ee<=0||Oe.length===0&&Oe.ended?0:Oe.state&B?1:n(Ee)?Oe.flowing&&Oe.length?Oe.buffer.first().length:Oe.length:Ee<=Oe.length?Ee:Oe.ended?Oe.length:0}ke.prototype.read=function(Ee){y("read",Ee),Ee===void 0?Ee=NaN:r(Ee)||(Ee=i(Ee,10));const Oe=(this||ft)._readableState,ct=Ee;if(Ee>Oe.highWaterMark&&(Oe.highWaterMark=W(Ee)),Ee!==0&&(Oe.state&=~Y),Ee===0&&Oe.needReadable&&((Oe.highWaterMark!==0?Oe.length>=Oe.highWaterMark:Oe.length>0)||Oe.ended))return y("read: emitReadable",Oe.length,Oe.ended),Oe.length===0&&Oe.ended?ur(this||ft):ne(this||ft),null;if(Ee=I(Ee,Oe),Ee===0&&Oe.ended)return Oe.length===0&&ur(this||ft),null;let ht=(Oe.state&J)!==0;if(y("need readable",ht),(Oe.length===0||Oe.length-Ee<Oe.highWaterMark)&&(ht=!0,y("length less than watermark",ht)),Oe.ended||Oe.reading||Oe.destroyed||Oe.errored||!Oe.constructed)ht=!1,y("reading, ended or constructing",ht);else if(ht){y("do read"),Oe.state|=N|oe,Oe.length===0&&(Oe.state|=J);try{this._read(Oe.highWaterMark)}catch(xt){k(this||ft,xt)}Oe.state&=~oe,Oe.reading||(Ee=I(ct,Oe))}let et;return Ee>0?et=or(Ee,Oe):et=null,et===null?(Oe.needReadable=Oe.length<=Oe.highWaterMark,Ee=0):(Oe.length-=Ee,Oe.multiAwaitDrain?Oe.awaitDrainWriters.clear():Oe.awaitDrainWriters=null),Oe.length===0&&(Oe.ended||(Oe.needReadable=!0),ct!==Ee&&Oe.ended&&ur(this||ft)),et!==null&&!Oe.errorEmitted&&!Oe.closeEmitted&&(Oe.dataEmitted=!0,this.emit("data",et)),et};function L(Ee,Oe){if(y("onEofChunk"),!Oe.ended){if(Oe.decoder){const ct=Oe.decoder.end();ct&&ct.length&&(Oe.buffer.push(ct),Oe.length+=Oe.objectMode?1:ct.length)}Oe.ended=!0,Oe.sync?ne(Ee):(Oe.needReadable=!1,Oe.emittedReadable=!0,ye(Ee))}}function ne(Ee){const Oe=Ee._readableState;y("emitReadable",Oe.needReadable,Oe.emittedReadable),Oe.needReadable=!1,Oe.emittedReadable||(y("emitReadable",Oe.flowing),Oe.emittedReadable=!0,e.nextTick(ye,Ee))}function ye(Ee){const Oe=Ee._readableState;y("emitReadable_",Oe.destroyed,Oe.length,Oe.ended),!Oe.destroyed&&!Oe.errored&&(Oe.length||Oe.ended)&&(Ee.emit("readable"),Oe.emittedReadable=!1),Oe.needReadable=!Oe.flowing&&!Oe.ended&&Oe.length<=Oe.highWaterMark,kt(Ee)}function Se(Ee,Oe){!Oe.readingMore&&Oe.constructed&&(Oe.readingMore=!0,e.nextTick(De,Ee,Oe))}function De(Ee,Oe){for(;!Oe.reading&&!Oe.ended&&(Oe.length<Oe.highWaterMark||Oe.flowing&&Oe.length===0);){const ct=Oe.length;if(y("maybeReadMore read 0"),Ee.read(0),ct===Oe.length)break}Oe.readingMore=!1}ke.prototype._read=function(Ee){throw new O("_read()")},ke.prototype.pipe=function(Ee,Oe){const ct=this||ft,ht=(this||ft)._readableState;ht.pipes.length===1&&(ht.multiAwaitDrain||(ht.multiAwaitDrain=!0,ht.awaitDrainWriters=new u(ht.awaitDrainWriters?[ht.awaitDrainWriters]:[]))),ht.pipes.push(Ee),y("pipe count=%d opts=%j",ht.pipes.length,Oe);const xt=(!Oe||Oe.end!==!1)&&Ee!==e.stdout&&Ee!==e.stderr?he:Lt;ht.endEmitted?e.nextTick(xt):ct.once("end",xt),Ee.on("unpipe",Ot);function Ot($t,Rt){y("onunpipe"),$t===ct&&Rt&&Rt.hasUnpiped===!1&&(Rt.hasUnpiped=!0,Re())}function he(){y("onend"),Ee.end()}let ue,we=!1;function Re(){y("cleanup"),Ee.removeListener("close",Tt),Ee.removeListener("finish",jt),ue&&Ee.removeListener("drain",ue),Ee.removeListener("error",tt),Ee.removeListener("unpipe",Ot),ct.removeListener("end",he),ct.removeListener("end",Lt),ct.removeListener("data",ot),we=!0,ue&&ht.awaitDrainWriters&&(!Ee._writableState||Ee._writableState.needDrain)&&ue()}function Ae(){we||(ht.pipes.length===1&&ht.pipes[0]===Ee?(y("false write response, pause",0),ht.awaitDrainWriters=Ee,ht.multiAwaitDrain=!1):ht.pipes.length>1&&ht.pipes.includes(Ee)&&(y("false write response, pause",ht.awaitDrainWriters.size),ht.awaitDrainWriters.add(Ee)),ct.pause()),ue||(ue=je(ct,Ee),Ee.on("drain",ue))}ct.on("data",ot);function ot($t){y("ondata");const Rt=Ee.write($t);y("dest.write",Rt),Rt===!1&&Ae()}function tt($t){if(y("onerror",$t),Lt(),Ee.removeListener("error",tt),Ee.listenerCount("error")===0){const Rt=Ee._writableState||Ee._readableState;Rt&&!Rt.errorEmitted?k(Ee,$t):Ee.emit("error",$t)}}_(Ee,"error",tt);function Tt(){Ee.removeListener("finish",jt),Lt()}Ee.once("close",Tt);function jt(){y("onfinish"),Ee.removeListener("close",Tt),Lt()}Ee.once("finish",jt);function Lt(){y("unpipe"),ct.unpipe(Ee)}return Ee.emit("pipe",ct),Ee.writableNeedDrain===!0?Ae():ht.flowing||(y("pipe resume"),ct.resume()),Ee};function je(Ee,Oe){return function(){const ht=Ee._readableState;ht.awaitDrainWriters===Oe?(y("pipeOnDrain",1),ht.awaitDrainWriters=null):ht.multiAwaitDrain&&(y("pipeOnDrain",ht.awaitDrainWriters.size),ht.awaitDrainWriters.delete(Oe)),(!ht.awaitDrainWriters||ht.awaitDrainWriters.size===0)&&Ee.listenerCount("data")&&Ee.resume()}}ke.prototype.unpipe=function(Ee){const Oe=(this||ft)._readableState,ct={hasUnpiped:!1};if(Oe.pipes.length===0)return this||ft;if(!Ee){const et=Oe.pipes;Oe.pipes=[],this.pause();for(let xt=0;xt<et.length;xt++)et[xt].emit("unpipe",this||ft,{hasUnpiped:!1});return this||ft}const ht=t(Oe.pipes,Ee);return ht===-1?this||ft:(Oe.pipes.splice(ht,1),Oe.pipes.length===0&&this.pause(),Ee.emit("unpipe",this||ft,ct),this||ft)},ke.prototype.on=function(Ee,Oe){const ct=m.prototype.on.call(this||ft,Ee,Oe),ht=(this||ft)._readableState;return Ee==="data"?(ht.readableListening=this.listenerCount("readable")>0,ht.flowing!==!1&&this.resume()):Ee==="readable"&&!ht.endEmitted&&!ht.readableListening&&(ht.readableListening=ht.needReadable=!0,ht.flowing=!1,ht.emittedReadable=!1,y("on readable",ht.length,ht.reading),ht.length?ne(this||ft):ht.reading||e.nextTick(at,this||ft)),ct},ke.prototype.addListener=ke.prototype.on,ke.prototype.removeListener=function(Ee,Oe){const ct=m.prototype.removeListener.call(this||ft,Ee,Oe);return Ee==="readable"&&e.nextTick(Be,this||ft),ct},ke.prototype.off=ke.prototype.removeListener,ke.prototype.removeAllListeners=function(Ee){const Oe=m.prototype.removeAllListeners.apply(this||ft,arguments);return(Ee==="readable"||Ee===void 0)&&e.nextTick(Be,this||ft),Oe};function Be(Ee){const Oe=Ee._readableState;Oe.readableListening=Ee.listenerCount("readable")>0,Oe.resumeScheduled&&Oe[X]===!1?Oe.flowing=!0:Ee.listenerCount("data")>0?Ee.resume():Oe.readableListening||(Oe.flowing=null)}function at(Ee){y("readable nexttick read 0"),Ee.read(0)}ke.prototype.resume=function(){const Ee=(this||ft)._readableState;return Ee.flowing||(y("resume"),Ee.flowing=!Ee.readableListening,wt(this||ft,Ee)),Ee[X]=!1,this||ft};function wt(Ee,Oe){Oe.resumeScheduled||(Oe.resumeScheduled=!0,e.nextTick(ut,Ee,Oe))}function ut(Ee,Oe){y("resume",Oe.reading),Oe.reading||Ee.read(0),Oe.resumeScheduled=!1,Ee.emit("resume"),kt(Ee),Oe.flowing&&!Oe.reading&&Ee.read(0)}ke.prototype.pause=function(){return y("call pause flowing=%j",(this||ft)._readableState.flowing),(this||ft)._readableState.flowing!==!1&&(y("pause"),(this||ft)._readableState.flowing=!1,this.emit("pause")),(this||ft)._readableState[X]=!0,this||ft};function kt(Ee){const Oe=Ee._readableState;for(y("flow",Oe.flowing);Oe.flowing&&Ee.read()!==null;);}ke.prototype.wrap=function(Ee){let Oe=!1;Ee.on("data",ht=>{!this.push(ht)&&Ee.pause&&(Oe=!0,Ee.pause())}),Ee.on("end",()=>{this.push(null)}),Ee.on("error",ht=>{k(this||ft,ht)}),Ee.on("close",()=>{this.destroy()}),Ee.on("destroy",()=>{this.destroy()}),(this||ft)._read=()=>{Oe&&Ee.resume&&(Oe=!1,Ee.resume())};const ct=a(Ee);for(let ht=1;ht<ct.length;ht++){const et=ct[ht];(this||ft)[et]===void 0&&typeof Ee[et]=="function"&&((this||ft)[et]=Ee[et].bind(Ee))}return this||ft},ke.prototype[c]=function(){return Tr(this||ft)},ke.prototype.iterator=function(Ee){return Ee!==void 0&&H(Ee,"options"),Tr(this||ft,Ee)};function Tr(Ee,Oe){typeof Ee.read!="function"&&(Ee=ke.wrap(Ee,{objectMode:!0}));const ct=Pr(Ee,Oe);return ct.stream=Ee,ct}async function*Pr(Ee,Oe){let ct=ie;function ht(Ot){(this||ft)===Ee?(ct(),ct=ie):ct=Ot}Ee.on("readable",ht);let et;const xt=S(Ee,{writable:!1},Ot=>{et=Ot?A(et,Ot):null,ct(),ct=ie});try{for(;;){const Ot=Ee.destroyed?null:Ee.read();if(Ot!==null)yield Ot;else{if(et)throw et;if(et===null)return;await new l(ht)}}}catch(Ot){throw et=A(et,Ot),et}finally{(et||(Oe==null?void 0:Oe.destroyOnReturn)!==!1)&&(et===void 0||Ee._readableState.autoDestroy)?$.destroyer(Ee,null):(Ee.off("readable",ht),xt())}}o(ke.prototype,{readable:{__proto__:null,get(){const Ee=(this||ft)._readableState;return!!Ee&&Ee.readable!==!1&&!Ee.destroyed&&!Ee.errorEmitted&&!Ee.endEmitted},set(Ee){(this||ft)._readableState&&((this||ft)._readableState.readable=!!Ee)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||ft)._readableState.readable!==!1&&((this||ft)._readableState.destroyed||(this||ft)._readableState.errored)&&!(this||ft)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState&&(this||ft)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState.flowing},set:function(Ee){(this||ft)._readableState&&((this||ft)._readableState.flowing=Ee)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||ft)._readableState?(this||ft)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.destroyed:!1},set(Ee){(this||ft)._readableState&&((this||ft)._readableState.destroyed=Ee)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.endEmitted:!1}}}),o(Le.prototype,{pipesCount:{__proto__:null,get(){return(this||ft).pipes.length}},paused:{__proto__:null,get(){return(this||ft)[X]!==!1},set(Ee){(this||ft)[X]=!!Ee}}}),ke._fromList=or;function or(Ee,Oe){if(Oe.length===0)return null;let ct;return Oe.objectMode?ct=Oe.buffer.shift():!Ee||Ee>=Oe.length?(Oe.decoder?ct=Oe.buffer.join(""):Oe.buffer.length===1?ct=Oe.buffer.first():ct=Oe.buffer.concat(Oe.length),Oe.buffer.clear()):ct=Oe.buffer.consume(Ee,Oe.decoder),ct}function ur(Ee){const Oe=Ee._readableState;y("endReadable",Oe.endEmitted),Oe.endEmitted||(Oe.ended=!0,e.nextTick(on,Oe,Ee))}function on(Ee,Oe){if(y("endReadableNT",Ee.endEmitted,Ee.length),!Ee.errored&&!Ee.closeEmitted&&!Ee.endEmitted&&Ee.length===0){if(Ee.endEmitted=!0,Oe.emit("end"),Oe.writable&&Oe.allowHalfOpen===!1)e.nextTick(tr,Oe);else if(Ee.autoDestroy){const ct=Oe._writableState;(!ct||ct.autoDestroy&&(ct.finished||ct.writable===!1))&&Oe.destroy()}}}function tr(Ee){Ee.writable&&!Ee.writableEnded&&!Ee.destroyed&&Ee.end()}ke.from=function(Ee,Oe){return Z(ke,Ee,Oe)};let Dt;function Jt(){return Dt===void 0&&(Dt={}),Dt}return ke.fromWeb=function(Ee,Oe){return Jt().newStreamReadableFromReadableStream(Ee,Oe)},ke.toWeb=function(Ee,Oe){return Jt().newReadableStreamFromStreamReadable(Ee,Oe)},ke.wrap=function(Ee,Oe){var ct,ht;return new ke({objectMode:(ct=(ht=Ee.readableObjectMode)!==null&&ht!==void 0?ht:Ee.objectMode)!==null&&ct!==void 0?ct:!0,...Oe,destroy(et,xt){$.destroyer(Ee,et),xt(et)}}).wrap(Ee)},vw}function TN(){if(aO)return yw;aO=!0;const e=hi,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:u}=Bn();yw=H,H.WritableState=V;const{EventEmitter:f}=qs,c=$N().Stream,{Buffer:h}=Io(),g=Gh(),{addAbortSignal:m}=cE(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=fE(),{ERR_INVALID_ARG_TYPE:p,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:d,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:x}=Co().codes,{errorOrDestroy:O}=g;a(H.prototype,c.prototype),a(H,c);function C(){}const F=l("kOnFinished");function V(D,M,K){typeof K!="boolean"&&(K=M instanceof Ul()),(this||Et).objectMode=!!(D&&D.objectMode),K&&((this||Et).objectMode=(this||Et).objectMode||!!(D&&D.writableObjectMode)),(this||Et).highWaterMark=D?_(this||Et,D,"writableHighWaterMark",K):v(!1),(this||Et).finalCalled=!1,(this||Et).needDrain=!1,(this||Et).ending=!1,(this||Et).ended=!1,(this||Et).finished=!1,(this||Et).destroyed=!1;const ae=!!(D&&D.decodeStrings===!1);(this||Et).decodeStrings=!ae,(this||Et).defaultEncoding=D&&D.defaultEncoding||"utf8",(this||Et).length=0,(this||Et).writing=!1,(this||Et).corked=0,(this||Et).sync=!0,(this||Et).bufferProcessing=!1,(this||Et).onwrite=k.bind(void 0,M),(this||Et).writecb=null,(this||Et).writelen=0,(this||Et).afterWriteTickInfo=null,Q(this||Et),(this||Et).pendingcb=0,(this||Et).constructed=!0,(this||Et).prefinished=!1,(this||Et).errorEmitted=!1,(this||Et).emitClose=!D||D.emitClose!==!1,(this||Et).autoDestroy=!D||D.autoDestroy!==!1,(this||Et).errored=null,(this||Et).closed=!1,(this||Et).closeEmitted=!1,(this||Et)[F]=[]}function Q(D){D.buffered=[],D.bufferedIndex=0,D.allBuffers=!0,D.allNoop=!0}V.prototype.getBuffer=function(){return t((this||Et).buffered,(this||Et).bufferedIndex)},i(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||Et).buffered.length-(this||Et).bufferedIndex}});function H(D){const M=(this||Et)instanceof Ul();if(!M&&!n(H,this||Et))return new H(D);(this||Et)._writableState=new V(D,this||Et,M),D&&(typeof D.write=="function"&&((this||Et)._write=D.write),typeof D.writev=="function"&&((this||Et)._writev=D.writev),typeof D.destroy=="function"&&((this||Et)._destroy=D.destroy),typeof D.final=="function"&&((this||Et)._final=D.final),typeof D.construct=="function"&&((this||Et)._construct=D.construct),D.signal&&m(D.signal,this||Et)),c.call(this||Et,D),g.construct(this||Et,()=>{const K=(this||Et)._writableState;K.writing||N(this||Et,K),Y(this||Et,K)})}i(H,u,{__proto__:null,value:function(D){return n(this||Et,D)?!0:(this||Et)!==H?!1:D&&D._writableState instanceof V}}),H.prototype.pipe=function(){O(this||Et,new E)};function X(D,M,K,ae){const fe=D._writableState;if(typeof K=="function")ae=K,K=fe.defaultEncoding;else{if(!K)K=fe.defaultEncoding;else if(K!=="buffer"&&!h.isEncoding(K))throw new x(K);typeof ae!="function"&&(ae=C)}if(M===null)throw new d;if(!fe.objectMode)if(typeof M=="string")fe.decodeStrings!==!1&&(M=h.from(M,K),K="buffer");else if(M instanceof h)K="buffer";else if(c._isUint8Array(M))M=c._uint8ArrayToBuffer(M),K="buffer";else throw new p("chunk",["string","Buffer","Uint8Array"],M);let de;return fe.ending?de=new A:fe.destroyed&&(de=new $("write")),de?(e.nextTick(ae,de),O(D,de,!0),de):(fe.pendingcb++,ce(D,fe,M,K,ae))}H.prototype.write=function(D,M,K){return X(this||Et,D,M,K)===!0},H.prototype.cork=function(){(this||Et)._writableState.corked++},H.prototype.uncork=function(){const D=(this||Et)._writableState;D.corked&&(D.corked--,D.writing||N(this||Et,D))},H.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=s(M)),!h.isEncoding(M))throw new x(M);return(this||Et)._writableState.defaultEncoding=M,this||Et};function ce(D,M,K,ae,fe){const de=M.objectMode?1:K.length;M.length+=de;const pe=M.length<M.highWaterMark;return pe||(M.needDrain=!0),M.writing||M.corked||M.errored||!M.constructed?(M.buffered.push({chunk:K,encoding:ae,callback:fe}),M.allBuffers&&ae!=="buffer"&&(M.allBuffers=!1),M.allNoop&&fe!==C&&(M.allNoop=!1)):(M.writelen=de,M.writecb=fe,M.writing=!0,M.sync=!0,D._write(K,ae,M.onwrite),M.sync=!1),pe&&!M.errored&&!M.destroyed}function Z(D,M,K,ae,fe,de,pe){M.writelen=ae,M.writecb=pe,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new $("write")):K?D._writev(fe,M.onwrite):D._write(fe,de,M.onwrite),M.sync=!1}function ie(D,M,K,ae){--M.pendingcb,ae(K),P(M),O(D,K)}function k(D,M){const K=D._writableState,ae=K.sync,fe=K.writecb;if(typeof fe!="function"){O(D,new y);return}K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0,M?(M.stack,K.errored||(K.errored=M),D._readableState&&!D._readableState.errored&&(D._readableState.errored=M),ae?e.nextTick(ie,D,K,M,fe):ie(D,K,M,fe)):(K.buffered.length>K.bufferedIndex&&N(D,K),ae?K.afterWriteTickInfo!==null&&K.afterWriteTickInfo.cb===fe?K.afterWriteTickInfo.count++:(K.afterWriteTickInfo={count:1,cb:fe,stream:D,state:K},e.nextTick(B,K.afterWriteTickInfo)):G(D,K,1,fe))}function B({stream:D,state:M,count:K,cb:ae}){return M.afterWriteTickInfo=null,G(D,M,K,ae)}function G(D,M,K,ae){for(!M.ending&&!D.destroyed&&M.length===0&&M.needDrain&&(M.needDrain=!1,D.emit("drain"));K-- >0;)M.pendingcb--,ae();M.destroyed&&P(M),Y(D,M)}function P(D){if(D.writing)return;for(let fe=D.bufferedIndex;fe<D.buffered.length;++fe){var M;const{chunk:de,callback:pe}=D.buffered[fe],xe=D.objectMode?1:de.length;D.length-=xe,pe((M=D.errored)!==null&&M!==void 0?M:new $("write"))}const K=D[F].splice(0);for(let fe=0;fe<K.length;fe++){var ae;K[fe]((ae=D.errored)!==null&&ae!==void 0?ae:new $("end"))}Q(D)}function N(D,M){if(M.corked||M.bufferProcessing||M.destroyed||!M.constructed)return;const{buffered:K,bufferedIndex:ae,objectMode:fe}=M,de=K.length-ae;if(!de)return;let pe=ae;if(M.bufferProcessing=!0,de>1&&D._writev){M.pendingcb-=de-1;const xe=M.allNoop?C:ke=>{for(let nt=pe;nt<K.length;++nt)K[nt].callback(ke)},Le=M.allNoop&&pe===0?K:t(K,pe);Le.allBuffers=M.allBuffers,Z(D,M,!0,M.length,Le,"",xe),Q(M)}else{do{const{chunk:xe,encoding:Le,callback:ke}=K[pe];K[pe++]=null;const nt=fe?1:xe.length;Z(D,M,!1,nt,xe,Le,ke)}while(pe<K.length&&!M.writing);pe===K.length?Q(M):pe>256?(K.splice(0,pe),M.bufferedIndex=0):M.bufferedIndex=pe}M.bufferProcessing=!1}H.prototype._write=function(D,M,K){if((this||Et)._writev)this._writev([{chunk:D,encoding:M}],K);else throw new S("_write()")},H.prototype._writev=null,H.prototype.end=function(D,M,K){const ae=(this||Et)._writableState;typeof D=="function"?(K=D,D=null,M=null):typeof M=="function"&&(K=M,M=null);let fe;if(D!=null){const de=X(this||Et,D,M);de instanceof r&&(fe=de)}return ae.corked&&(ae.corked=1,this.uncork()),fe||(!ae.errored&&!ae.ending?(ae.ending=!0,Y(this||Et,ae,!0),ae.ended=!0):ae.finished?fe=new T("end"):ae.destroyed&&(fe=new $("end"))),typeof K=="function"&&(fe||ae.finished?e.nextTick(K,fe):ae[F].push(K)),this||Et};function q(D){return D.ending&&!D.destroyed&&D.constructed&&D.length===0&&!D.errored&&D.buffered.length===0&&!D.finished&&!D.writing&&!D.errorEmitted&&!D.closeEmitted}function oe(D,M){let K=!1;function ae(fe){if(K){O(D,fe??y());return}if(K=!0,M.pendingcb--,fe){const de=M[F].splice(0);for(let pe=0;pe<de.length;pe++)de[pe](fe);O(D,fe,M.sync)}else q(M)&&(M.prefinished=!0,D.emit("prefinish"),M.pendingcb++,e.nextTick(se,D,M))}M.sync=!0,M.pendingcb++;try{D._final(ae)}catch(fe){ae(fe)}M.sync=!1}function J(D,M){!M.prefinished&&!M.finalCalled&&(typeof D._final=="function"&&!M.destroyed?(M.finalCalled=!0,oe(D,M)):(M.prefinished=!0,D.emit("prefinish")))}function Y(D,M,K){q(M)&&(J(D,M),M.pendingcb===0&&(K?(M.pendingcb++,e.nextTick((ae,fe)=>{q(fe)?se(ae,fe):fe.pendingcb--},D,M)):q(M)&&(M.pendingcb++,se(D,M))))}function se(D,M){M.pendingcb--,M.finished=!0;const K=M[F].splice(0);for(let ae=0;ae<K.length;ae++)K[ae]();if(D.emit("finish"),M.autoDestroy){const ae=D._readableState;(!ae||ae.autoDestroy&&(ae.endEmitted||ae.readable===!1))&&D.destroy()}}o(H.prototype,{closed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.destroyed:!1},set(D){(this||Et)._writableState&&((this||Et)._writableState.destroyed=D)}},writable:{__proto__:null,get(){const D=(this||Et)._writableState;return!!D&&D.writable!==!1&&!D.destroyed&&!D.errored&&!D.ending&&!D.ended},set(D){(this||Et)._writableState&&((this||Et)._writableState.writable=!!D)}},writableFinished:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const D=(this||Et)._writableState;return D?!D.destroyed&&!D.ending&&D.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||Et)._writableState?(this||Et)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Et)._writableState.writable!==!1&&((this||Et)._writableState.destroyed||(this||Et)._writableState.errored)&&!(this||Et)._writableState.finished)}}});const be=g.destroy;H.prototype.destroy=function(D,M){const K=(this||Et)._writableState;return!K.destroyed&&(K.bufferedIndex<K.buffered.length||K[F].length)&&e.nextTick(P,K),be.call(this||Et,D,M),this||Et},H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(D,M){M(D)},H.prototype[f.captureRejectionSymbol]=function(D){this.destroy(D)};let Ne;function R(){return Ne===void 0&&(Ne={}),Ne}return H.fromWeb=function(D,M){return R().newStreamWritableFromWritableStream(D,M)},H.toWeb=function(D){return R().newWritableStreamFromStreamWritable(D)},yw}function Ore(){if(sO)return ww;sO=!0;const e=hi,t=Io(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=Jl(),c=pc(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m}}=Co(),{destroyer:_}=Gh(),v=Ul(),p=dE(),S=TN(),{createDeferredPromise:y}=ao(),E=Rq(),$=globalThis.Blob||t.Blob,T=typeof $<"u"?function(V){return V instanceof $}:function(V){return!1},d=globalThis.AbortController||Qm().AbortController,{FunctionPrototypeCall:A}=Bn();class x extends v{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}ww=function F(V,Q){if(l(V))return V;if(a(V))return C({readable:V});if(s(V))return C({writable:V});if(o(V))return C({writable:!1,readable:!1});if(u(V))return C({readable:p.fromWeb(V)});if(f(V))return C({writable:S.fromWeb(V)});if(typeof V=="function"){const{value:X,write:ce,final:Z,destroy:ie}=O(V);if(i(X))return E(x,X,{objectMode:!0,write:ce,final:Z,destroy:ie});const k=X==null?void 0:X.then;if(typeof k=="function"){let B;const G=A(k,X,P=>{if(P!=null)throw new m("nully","body",P)},P=>{_(B,P)});return B=new x({objectMode:!0,readable:!1,write:ce,final(P){Z(async()=>{try{await G,e.nextTick(P,null)}catch(N){e.nextTick(P,N)}})},destroy:ie})}throw new m("Iterable, AsyncIterable or AsyncFunction",Q,X)}if(T(V))return F(V.arrayBuffer());if(i(V))return E(x,V,{objectMode:!0,writable:!1});if(u(V==null?void 0:V.readable)&&f(V==null?void 0:V.writable))return x.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const X=V!=null&&V.readable?a(V==null?void 0:V.readable)?V==null?void 0:V.readable:F(V.readable):void 0,ce=V!=null&&V.writable?s(V==null?void 0:V.writable)?V==null?void 0:V.writable:F(V.writable):void 0;return C({readable:X,writable:ce})}const H=V==null?void 0:V.then;if(typeof H=="function"){let X;return A(H,V,ce=>{ce!=null&&X.push(ce),X.push(null)},ce=>{_(X,ce)}),X=new x({objectMode:!0,writable:!1,read(){}})}throw new g(Q,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function O(F){let{promise:V,resolve:Q}=y();const H=new d,X=H.signal;return{value:F(async function*(){for(;;){const Z=V;V=null;const{chunk:ie,done:k,cb:B}=await Z;if(e.nextTick(B),k)return;if(X.aborted)throw new h(void 0,{cause:X.reason});({promise:V,resolve:Q}=y()),yield ie}}(),{signal:X}),write(Z,ie,k){const B=Q;Q=null,B({chunk:Z,done:!1,cb:k})},final(Z){const ie=Q;Q=null,ie({done:!0,cb:Z})},destroy(Z,ie){H.abort(),ie(Z)}}}function C(F){const V=F.readable&&typeof F.readable.read!="function"?p.wrap(F.readable):F.readable,Q=F.writable;let H=!!r(V),X=!!n(Q),ce,Z,ie,k,B;function G(P){const N=k;k=null,N?N(P):P&&B.destroy(P)}return B=new x({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(Q!=null&&Q.writableObjectMode),readable:H,writable:X}),X&&(c(Q,P=>{X=!1,P&&_(V,P),G(P)}),B._write=function(P,N,q){Q.write(P,N)?q():ce=q},B._final=function(P){Q.end(),Z=P},Q.on("drain",function(){if(ce){const P=ce;ce=null,P()}}),Q.on("finish",function(){if(Z){const P=Z;Z=null,P()}})),H&&(c(V,P=>{H=!1,P&&_(V,P),G(P)}),V.on("readable",function(){if(ie){const P=ie;ie=null,P()}}),V.on("end",function(){B.push(null)}),B._read=function(){for(;;){const P=V.read();if(P===null){ie=B._read;return}if(!B.push(P))return}}),B._destroy=function(P,N){!P&&k!==null&&(P=new h),ie=null,ce=null,Z=null,k===null?N(P):(k=N,_(Q,P),_(V,P))},B}return ww}function Ul(){if(lO)return bw;lO=!0;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Bn();bw=a;const i=dE(),o=TN();n(a.prototype,i.prototype),n(a,i);{const f=r(o.prototype);for(let c=0;c<f.length;c++){const h=f[c];a.prototype[h]||(a.prototype[h]=o.prototype[h])}}function a(f){if(!(this instanceof a))return new a(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let s;function l(){return s===void 0&&(s={}),s}a.fromWeb=function(f,c){return l().newStreamDuplexFromReadableWritablePair(f,c)},a.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return a.from=function(f){return u||(u=Ore()),u(f,"body")},bw}function Nq(){if(uO)return _w;uO=!0;const{ObjectSetPrototypeOf:e,Symbol:t}=Bn();_w=a;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Co().codes,n=Ul(),{getHighWaterMark:i}=fE();e(a.prototype,n.prototype),e(a,n);const o=t("kCallback");function a(u){if(!(this instanceof a))return new a(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[o]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,c)=>{if(f){u?u(f):this.destroy(f);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==s&&s.call(this)}return a.prototype._final=s,a.prototype._transform=function(u,f,c){throw new r("_transform()")},a.prototype._write=function(u,f,c){const h=this._readableState,g=this._writableState,m=h.length;this._transform(u,f,(_,v)=>{if(_){c(_);return}v!=null&&this.push(v),g.ended||m===h.length||h.length<h.highWaterMark?c():this[o]=c})},a.prototype._read=function(){if(this[o]){const u=this[o];this[o]=null,u()}},_w}function Iq(){if(cO)return Ew;cO=!0;const{ObjectSetPrototypeOf:e}=Bn();Ew=r;const t=Nq();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},Ew}function AN(){if(fO)return Sw;fO=!0;const e=hi,{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Bn(),o=pc(),{once:a}=ao(),s=Gh(),l=Ul(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:_}=Co(),{validateFunction:v,validateAbortSignal:p}=kg(),{isIterable:S,isReadable:y,isReadableNodeStream:E,isNodeStream:$,isTransformStream:T,isWebStream:d,isReadableStream:A,isReadableFinished:x}=Jl(),O=globalThis.AbortController||Qm().AbortController;let C,F,V;function Q(P,N,q){let oe=!1;P.on("close",()=>{oe=!0});const J=o(P,{readable:N,writable:q},Y=>{oe=!Y});return{destroy:Y=>{oe||(oe=!0,s.destroyer(P,Y||new g("pipe")))},cleanup:J}}function H(P){return v(P[P.length-1],"streams[stream.length - 1]"),P.pop()}function X(P){if(S(P))return P;if(E(P))return ce(P);throw new f("val",["Readable","Iterable","AsyncIterable"],P)}async function*ce(P){F||(F=dE()),yield*F.prototype[n].call(P)}async function Z(P,N,q,{end:oe}){let J,Y=null;const se=R=>{if(R&&(J=R),Y){const D=Y;Y=null,D()}},be=()=>new r((R,D)=>{J?D(J):Y=()=>{J?D(J):R()}});N.on("drain",se);const Ne=o(N,{readable:!1},se);try{N.writableNeedDrain&&await be();for await(const R of P)N.write(R)||await be();oe&&(N.end(),await be()),q()}catch(R){q(J!==R?u(J,R):R)}finally{Ne(),N.off("drain",se)}}async function ie(P,N,q,{end:oe}){T(N)&&(N=N.writable);const J=N.getWriter();try{for await(const Y of P)await J.ready,J.write(Y).catch(()=>{});await J.ready,oe&&await J.close(),q()}catch(Y){try{await J.abort(Y),q(Y)}catch(se){q(se)}}}function k(...P){return B(P,a(H(P)))}function B(P,N,q){if(P.length===1&&t(P[0])&&(P=P[0]),P.length<2)throw new h("streams");const oe=new O,J=oe.signal,Y=q==null?void 0:q.signal,se=[];p(Y,"options.signal");function be(){fe(new _)}V=V||ao().addAbortListener;let Ne;Y&&(Ne=V(Y,be));let R,D;const M=[];let K=0;function ae(Le){fe(Le,--K===0)}function fe(Le,ke){var nt;if(Le&&(!R||R.code==="ERR_STREAM_PREMATURE_CLOSE")&&(R=Le),!(!R&&!ke)){for(;M.length;)M.shift()(R);(nt=Ne)===null||nt===void 0||nt[i](),oe.abort(),ke&&(R||se.forEach(qe=>qe()),e.nextTick(N,R,D))}}let de;for(let Le=0;Le<P.length;Le++){const ke=P[Le],nt=Le<P.length-1,qe=Le>0,Ue=nt||(q==null?void 0:q.end)!==!1,W=Le===P.length-1;if($(ke)){let I=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ae(L)};if(Ue){const{destroy:L,cleanup:ne}=Q(ke,nt,qe);M.push(L),y(ke)&&W&&se.push(ne)}ke.on("error",I),y(ke)&&W&&se.push(()=>{ke.removeListener("error",I)})}if(Le===0)if(typeof ke=="function"){if(de=ke({signal:J}),!S(de))throw new c("Iterable, AsyncIterable or Stream","source",de)}else S(ke)||E(ke)||T(ke)?de=ke:de=l.from(ke);else if(typeof ke=="function"){if(T(de)){var pe;de=X((pe=de)===null||pe===void 0?void 0:pe.readable)}else de=X(de);if(de=ke(de,{signal:J}),nt){if(!S(de,!0))throw new c("AsyncIterable",`transform[${Le-1}]`,de)}else{var xe;C||(C=Iq());const I=new C({objectMode:!0}),L=(xe=de)===null||xe===void 0?void 0:xe.then;if(typeof L=="function")K++,L.call(de,Se=>{D=Se,Se!=null&&I.write(Se),Ue&&I.end(),e.nextTick(ae)},Se=>{I.destroy(Se),e.nextTick(ae,Se)});else if(S(de,!0))K++,Z(de,I,ae,{end:Ue});else if(A(de)||T(de)){const Se=de.readable||de;K++,Z(Se,I,ae,{end:Ue})}else throw new c("AsyncIterable or Promise","destination",de);de=I;const{destroy:ne,cleanup:ye}=Q(de,!1,!0);M.push(ne),W&&se.push(ye)}}else if($(ke)){if(E(de)){K+=2;const I=G(de,ke,ae,{end:Ue});y(ke)&&W&&se.push(I)}else if(T(de)||A(de)){const I=de.readable||de;K++,Z(I,ke,ae,{end:Ue})}else if(S(de))K++,Z(de,ke,ae,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=ke}else if(d(ke)){if(E(de))K++,ie(X(de),ke,ae,{end:Ue});else if(A(de)||S(de))K++,ie(de,ke,ae,{end:Ue});else if(T(de))K++,ie(de.readable,ke,ae,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=ke}else de=l.from(ke)}return(J!=null&&J.aborted||Y!=null&&Y.aborted)&&e.nextTick(be),de}function G(P,N,q,{end:oe}){let J=!1;if(N.on("close",()=>{J||q(new m)}),P.pipe(N,{end:!1}),oe){let Y=function(){J=!0,N.end()};x(P)?e.nextTick(Y):P.once("end",Y)}else q();return o(P,{readable:!0,writable:!1},Y=>{const se=P._readableState;Y&&Y.code==="ERR_STREAM_PREMATURE_CLOSE"&&se&&se.ended&&!se.errored&&!se.errorEmitted?P.once("end",q).once("error",q):q(Y)}),o(N,{readable:!1,writable:!0},q)}return Sw={pipelineImpl:B,pipeline:k},Sw}function jq(){if(dO)return $w;dO=!0;const{pipeline:e}=AN(),t=Ul(),{destroyer:r}=Gh(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:s,isWritableStream:l,isReadableStream:u}=Jl(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:h}}=Co(),g=pc();return $w=function(..._){if(_.length===0)throw new h("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const C=_.length-1;_[C]=t.from(_[C])}for(let C=0;C<_.length;++C)if(!(!n(_[C])&&!a(_[C]))){if(C<_.length-1&&!(i(_[C])||u(_[C])||s(_[C])))throw new c(`streams[${C}]`,v[C],"must be readable");if(C>0&&!(o(_[C])||l(_[C])||s(_[C])))throw new c(`streams[${C}]`,v[C],"must be writable")}let p,S,y,E,$;function T(C){const F=E;E=null,F?F(C):C?$.destroy(C):!O&&!x&&$.destroy()}const d=_[0],A=e(_,T),x=!!(o(d)||l(d)||s(d)),O=!!(i(A)||u(A)||s(A));if($=new t({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(A!=null&&A.readableObjectMode),writable:x,readable:O}),x){if(n(d))$._write=function(F,V,Q){d.write(F,V)?Q():p=Q},$._final=function(F){d.end(),S=F},d.on("drain",function(){if(p){const F=p;p=null,F()}});else if(a(d)){const V=(s(d)?d.writable:d).getWriter();$._write=async function(Q,H,X){try{await V.ready,V.write(Q).catch(()=>{}),X()}catch(ce){X(ce)}},$._final=async function(Q){try{await V.ready,V.close().catch(()=>{}),S=Q}catch(H){Q(H)}}}const C=s(A)?A.readable:A;g(C,()=>{if(S){const F=S;S=null,F()}})}if(O){if(n(A))A.on("readable",function(){if(y){const C=y;y=null,C()}}),A.on("end",function(){$.push(null)}),$._read=function(){for(;;){const C=A.read();if(C===null){y=$._read;return}if(!$.push(C))return}};else if(a(A)){const F=(s(A)?A.readable:A).getReader();$._read=async function(){for(;;)try{const{value:V,done:Q}=await F.read();if(!$.push(V))return;if(Q){$.push(null);return}}catch{return}}}}return $._destroy=function(C,F){!C&&E!==null&&(C=new f),y=null,p=null,S=null,E===null?F(C):(E=F,n(A)&&r(A,C))},$},$w}function Pre(){if(hO)return Jp;hO=!0;const e=globalThis.AbortController||Qm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=Co(),{validateAbortSignal:a,validateInteger:s,validateObject:l}=kg(),u=Bn().Symbol("kWeak"),f=Bn().Symbol("kResistStopPropagation"),{finished:c}=pc(),h=jq(),{addAbortSignalNoValidate:g}=cE(),{isWritable:m,isNodeStream:_}=Jl(),{deprecate:v}=ao(),{ArrayPrototypePush:p,Boolean:S,MathFloor:y,Number:E,NumberIsNaN:$,Promise:T,PromiseReject:d,PromiseResolve:A,PromisePrototypeThen:x,Symbol:O}=Bn(),C=O("kEmpty"),F=O("kEof");function V(Y,se){if(se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&a(se.signal,"options.signal"),_(Y)&&!m(Y))throw new t("stream",Y,"must be writable");const be=h(this,Y);return se!=null&&se.signal&&g(se.signal,be),be}function Q(Y,se){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&a(se.signal,"options.signal");let be=1;(se==null?void 0:se.concurrency)!=null&&(be=y(se.concurrency));let Ne=be-1;return(se==null?void 0:se.highWaterMark)!=null&&(Ne=y(se.highWaterMark)),s(be,"options.concurrency",1),s(Ne,"options.highWaterMark",0),Ne+=be,(async function*(){const D=ao().AbortSignalAny([se==null?void 0:se.signal].filter(S)),M=this,K=[],ae={signal:D};let fe,de,pe=!1,xe=0;function Le(){pe=!0,ke()}function ke(){xe-=1,nt()}function nt(){de&&!pe&&xe<be&&K.length<Ne&&(de(),de=null)}async function qe(){try{for await(let Ue of M){if(pe)return;if(D.aborted)throw new o;try{if(Ue=Y(Ue,ae),Ue===C)continue;Ue=A(Ue)}catch(W){Ue=d(W)}xe+=1,x(Ue,ke,Le),K.push(Ue),fe&&(fe(),fe=null),!pe&&(K.length>=Ne||xe>=be)&&await new T(W=>{de=W})}K.push(F)}catch(Ue){const W=d(Ue);x(W,ke,Le),K.push(W)}finally{pe=!0,fe&&(fe(),fe=null)}}qe();try{for(;;){for(;K.length>0;){const Ue=await K[0];if(Ue===F)return;if(D.aborted)throw new o;Ue!==C&&(yield Ue),K.shift(),nt()}await new T(Ue=>{fe=Ue})}}finally{pe=!0,de&&(de(),de=null)}}).call(this)}function H(Y=void 0){return Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&a(Y.signal,"options.signal"),(async function*(){let be=0;for await(const R of this){var Ne;if(Y!=null&&(Ne=Y.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new o({cause:Y.signal.reason});yield[be++,R]}}).call(this)}async function X(Y,se=void 0){for await(const be of k.call(this,Y,se))return!0;return!1}async function ce(Y,se=void 0){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);return!await X.call(this,async(...be)=>!await Y(...be),se)}async function Z(Y,se){for await(const be of k.call(this,Y,se))return be}async function ie(Y,se){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Ne,R){return await Y(Ne,R),C}for await(const Ne of Q.call(this,be,se));}function k(Y,se){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Ne,R){return await Y(Ne,R)?Ne:C}return Q.call(this,be,se)}class B extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function G(Y,se,be){var Ne;if(typeof Y!="function")throw new r("reducer",["Function","AsyncFunction"],Y);be!=null&&l(be,"options"),(be==null?void 0:be.signal)!=null&&a(be.signal,"options.signal");let R=arguments.length>1;if(be!=null&&(Ne=be.signal)!==null&&Ne!==void 0&&Ne.aborted){const fe=new o(void 0,{cause:be.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(fe)),fe}const D=new e,M=D.signal;if(be!=null&&be.signal){const fe={once:!0,[u]:this,[f]:!0};be.signal.addEventListener("abort",()=>D.abort(),fe)}let K=!1;try{for await(const fe of this){var ae;if(K=!0,be!=null&&(ae=be.signal)!==null&&ae!==void 0&&ae.aborted)throw new o;R?se=await Y(se,fe,{signal:M}):(se=fe,R=!0)}if(!K&&!R)throw new B}finally{D.abort()}return se}async function P(Y){Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&a(Y.signal,"options.signal");const se=[];for await(const Ne of this){var be;if(Y!=null&&(be=Y.signal)!==null&&be!==void 0&&be.aborted)throw new o(void 0,{cause:Y.signal.reason});p(se,Ne)}return se}function N(Y,se){const be=Q.call(this,Y,se);return(async function*(){for await(const R of be)yield*R}).call(this)}function q(Y){if(Y=E(Y),$(Y))return 0;if(Y<0)throw new i("number",">= 0",Y);return Y}function oe(Y,se=void 0){return se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&a(se.signal,"options.signal"),Y=q(Y),(async function*(){var Ne;if(se!=null&&(Ne=se.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new o;for await(const D of this){var R;if(se!=null&&(R=se.signal)!==null&&R!==void 0&&R.aborted)throw new o;Y--<=0&&(yield D)}}).call(this)}function J(Y,se=void 0){return se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&a(se.signal,"options.signal"),Y=q(Y),(async function*(){var Ne;if(se!=null&&(Ne=se.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new o;for await(const D of this){var R;if(se!=null&&(R=se.signal)!==null&&R!==void 0&&R.aborted)throw new o;if(Y-- >0&&(yield D),Y<=0)return}}).call(this)}return Jp.streamReturningOperators={asIndexedPairs:v(H,"readable.asIndexedPairs will be removed in a future version."),drop:oe,filter:k,flatMap:N,map:Q,take:J,compose:V},Jp.promiseReturningOperators={every:ce,forEach:ie,reduce:G,toArray:P,some:X,find:Z},Jp}function Cq(){if(pO)return Tw;pO=!0;const{ArrayPrototypePop:e,Promise:t}=Bn(),{isIterable:r,isNodeStream:n,isWebStream:i}=Jl(),{pipelineImpl:o}=AN(),{finished:a}=pc();kq();function s(...l){return new t((u,f)=>{let c,h;const g=l[l.length-1];if(g&&typeof g=="object"&&!n(g)&&!r(g)&&!i(g)){const m=e(l);c=m.signal,h=m.end}o(l,(m,_)=>{m?f(m):u(_)},{signal:c,end:h})})}return Tw={finished:a,pipeline:s},Tw}function kq(){if(mO)return Aw;mO=!0;const{Buffer:e}=Io(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Bn(),{promisify:{custom:i}}=ao(),{streamReturningOperators:o,promiseReturningOperators:a}=Pre(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Co(),l=jq(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=fE(),{pipeline:c}=AN(),{destroyer:h}=Gh(),g=pc(),m=Cq(),_=Jl(),v=Aw=$N().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=dE();for(const S of r(o)){let y=function(...$){if(new.target)throw s();return v.Readable.from(n(E,this||gO,$))};const E=o[S];t(y,"name",{__proto__:null,value:E.name}),t(y,"length",{__proto__:null,value:E.length}),t(v.Readable.prototype,S,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const S of r(a)){let y=function(...$){if(new.target)throw s();return n(E,this||gO,$)};const E=a[S];t(y,"name",{__proto__:null,value:E.name}),t(y,"length",{__proto__:null,value:E.length}),t(v.Readable.prototype,S,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=TN(),v.Duplex=Ul(),v.Transform=Nq(),v.PassThrough=Iq(),v.pipeline=c;const{addAbortSignal:p}=cE();return v.addAbortSignal=p,v.finished=g,v.destroy=h,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),t(c,i,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),t(g,i,{__proto__:null,enumerable:!0,get(){return m.finished}}),v.Stream=v,v._isUint8Array=function(y){return y instanceof Uint8Array},v._uint8ArrayToBuffer=function(y){return e.from(y.buffer,y.byteOffset,y.byteLength)},Aw}function Rre(){if(vO)return Rn;vO=!0;const e=kq(),t=Cq(),r=e.Readable.destroy;return Rn=e.Readable,Rn._uint8ArrayToBuffer=e._uint8ArrayToBuffer,Rn._isUint8Array=e._isUint8Array,Rn.isDisturbed=e.isDisturbed,Rn.isErrored=e.isErrored,Rn.isReadable=e.isReadable,Rn.Readable=e.Readable,Rn.Writable=e.Writable,Rn.Duplex=e.Duplex,Rn.Transform=e.Transform,Rn.PassThrough=e.PassThrough,Rn.addAbortSignal=e.addAbortSignal,Rn.finished=e.finished,Rn.destroy=e.destroy,Rn.destroy=r,Rn.pipeline=e.pipeline,Rn.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Rn.Stream=e.Stream,Rn.default=Rn,Rn}var lw,Wx,jd,Gx,Gp,Kx,uw,Jx,cw,Yx,fw,Xx,Kp,Qx,dw,Zx,hw,eO,Cd,tO,pw,rO,mw,nO,gw,iO,vw,oO,ft,yw,aO,Et,ww,sO,bw,lO,_w,uO,Ew,cO,Sw,fO,$w,dO,Jp,hO,Tw,pO,Aw,mO,gO,Rn,vO,tn,xw,Dq,Mq,Lq,Fq,Bq,Uq,zq,qq,Fa=nn({"../../node_modules/@jspm/core/nodelibs/browser/stream.js"(){Te(),Q_(),X6(),Ig(),$z(),uE(),EN(),lN(),lw={},Wx=!1,jd={},Gx=!1,Gp={},Kx=!1,uw={},Jx=!1,cw={},Yx=!1,fw={},Xx=!1,Kp={},Qx=!1,dw={},Zx=!1,hw={},eO=!1,Cd={},tO=!1,pw={},rO=!1,mw={},nO=!1,gw={},iO=!1,vw={},oO=!1,ft=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,yw={},aO=!1,Et=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ww={},sO=!1,bw={},lO=!1,_w={},uO=!1,Ew={},cO=!1,Sw={},fO=!1,$w={},dO=!1,Jp={},hO=!1,Tw={},pO=!1,Aw={},mO=!1,gO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Rn={},vO=!1,tn=Rre(),tn._uint8ArrayToBuffer,tn._isUint8Array,tn.isDisturbed,tn.isErrored,tn.isReadable,tn.Readable,tn.Writable,tn.Duplex,tn.Transform,tn.PassThrough,tn.addAbortSignal,tn.finished,tn.destroy,tn.pipeline,tn.compose,tn.Stream,xw=tn.Readable,xw.wrap=function(e,t){return t=Object.assign({objectMode:e.readableObjectMode!=null||e.objectMode!=null||!0},t),t.destroy=function(r,n){e.destroy(r),n(r)},new xw(t).wrap(e)},Dq=tn.Writable,Mq=tn.Duplex,Lq=tn.Transform,Fq=tn.PassThrough,Bq=tn.finished,Uq=tn.pipeline,zq=tn.Stream,qq={finished:Kb(tn.finished),pipeline:Kb(tn.pipeline)}}}),xN=Pe({"../../node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).WebStreamsPolyfill={})}(e,function(r){function n(){}function i(z){return typeof z=="object"&&z!==null||typeof z=="function"}const o=n;function a(z,ee){try{Object.defineProperty(z,"name",{value:ee,configurable:!0})}catch{}}const s=Promise,l=Promise.resolve.bind(s),u=Promise.prototype.then,f=Promise.reject.bind(s),c=l;function h(z){return new s(z)}function g(z){return h(ee=>ee(z))}function m(z){return f(z)}function _(z,ee,ge){return u.call(z,ee,ge)}function v(z,ee,ge){_(_(z,ee,ge),void 0,o)}function p(z,ee){v(z,ee)}function S(z,ee){v(z,void 0,ee)}function y(z,ee,ge){return _(z,ee,ge)}function E(z){_(z,void 0,o)}let $=z=>{if(typeof queueMicrotask=="function")$=queueMicrotask;else{const ee=g(void 0);$=ge=>_(ee,ge)}return $(z)};function T(z,ee,ge){if(typeof z!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(z,ee,ge)}function d(z,ee,ge){try{return g(T(z,ee,ge))}catch($e){return m($e)}}class A{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(ee){const ge=this._back;let $e=ge;ge._elements.length===16383&&($e={_elements:[],_next:void 0}),ge._elements.push(ee),$e!==ge&&(this._back=$e,ge._next=$e),++this._size}shift(){const ee=this._front;let ge=ee;const $e=this._cursor;let He=$e+1;const Ve=ee._elements,Ye=Ve[$e];return He===16384&&(ge=ee._next,He=0),--this._size,this._cursor=He,ee!==ge&&(this._front=ge),Ve[$e]=void 0,Ye}forEach(ee){let ge=this._cursor,$e=this._front,He=$e._elements;for(;!(ge===He.length&&$e._next===void 0||ge===He.length&&($e=$e._next,He=$e._elements,ge=0,He.length===0));)ee(He[ge]),++ge}peek(){const ee=this._front,ge=this._cursor;return ee._elements[ge]}}const x=Symbol("[[AbortSteps]]"),O=Symbol("[[ErrorSteps]]"),C=Symbol("[[CancelSteps]]"),F=Symbol("[[PullSteps]]"),V=Symbol("[[ReleaseSteps]]");function Q(z,ee){z._ownerReadableStream=ee,ee._reader=z,ee._state==="readable"?Z(z):ee._state==="closed"?function(ge){Z(ge),B(ge)}(z):ie(z,ee._storedError)}function H(z,ee){return Tn(z._ownerReadableStream,ee)}function X(z){const ee=z._ownerReadableStream;ee._state==="readable"?k(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(ge,$e){ie(ge,$e)}(z,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),ee._readableStreamController[V](),ee._reader=void 0,z._ownerReadableStream=void 0}function ce(z){return new TypeError("Cannot "+z+" a stream using a released reader")}function Z(z){z._closedPromise=h((ee,ge)=>{z._closedPromise_resolve=ee,z._closedPromise_reject=ge})}function ie(z,ee){Z(z),k(z,ee)}function k(z,ee){z._closedPromise_reject!==void 0&&(E(z._closedPromise),z._closedPromise_reject(ee),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}function B(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0)}const G=Number.isFinite||function(z){return typeof z=="number"&&isFinite(z)},P=Math.trunc||function(z){return z<0?Math.ceil(z):Math.floor(z)};function N(z,ee){if(z!==void 0&&typeof(ge=z)!="object"&&typeof ge!="function")throw new TypeError(`${ee} is not an object.`);var ge}function q(z,ee){if(typeof z!="function")throw new TypeError(`${ee} is not a function.`)}function oe(z,ee){if(!function(ge){return typeof ge=="object"&&ge!==null||typeof ge=="function"}(z))throw new TypeError(`${ee} is not an object.`)}function J(z,ee,ge){if(z===void 0)throw new TypeError(`Parameter ${ee} is required in '${ge}'.`)}function Y(z,ee,ge){if(z===void 0)throw new TypeError(`${ee} is required in '${ge}'.`)}function se(z){return Number(z)}function be(z){return z===0?0:z}function Ne(z,ee){const ge=Number.MAX_SAFE_INTEGER;let $e=Number(z);if($e=be($e),!G($e))throw new TypeError(`${ee} is not a finite number`);if($e=function(He){return be(P(He))}($e),$e<0||$e>ge)throw new TypeError(`${ee} is outside the accepted range of 0 to ${ge}, inclusive`);return G($e)&&$e!==0?$e:0}function R(z,ee){if(!gi(z))throw new TypeError(`${ee} is not a ReadableStream.`)}function D(z){return new de(z)}function M(z,ee){z._reader._readRequests.push(ee)}function K(z,ee,ge){const $e=z._reader._readRequests.shift();ge?$e._closeSteps():$e._chunkSteps(ee)}function ae(z){return z._reader._readRequests.length}function fe(z){const ee=z._reader;return ee!==void 0&&!!pe(ee)}class de{constructor(ee){if(J(ee,1,"ReadableStreamDefaultReader"),R(ee,"First parameter"),vi(ee))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Q(this,ee),this._readRequests=new A}get closed(){return pe(this)?this._closedPromise:m(ke("closed"))}cancel(ee=void 0){return pe(this)?this._ownerReadableStream===void 0?m(ce("cancel")):H(this,ee):m(ke("cancel"))}read(){if(!pe(this))return m(ke("read"));if(this._ownerReadableStream===void 0)return m(ce("read from"));let ee,ge;const $e=h((He,Ve)=>{ee=He,ge=Ve});return xe(this,{_chunkSteps:He=>ee({value:He,done:!1}),_closeSteps:()=>ee({value:void 0,done:!0}),_errorSteps:He=>ge(He)}),$e}releaseLock(){if(!pe(this))throw ke("releaseLock");this._ownerReadableStream!==void 0&&function(ee){X(ee);const ge=new TypeError("Reader was released");Le(ee,ge)}(this)}}function pe(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readRequests")&&z instanceof de}function xe(z,ee){const ge=z._ownerReadableStream;ge._disturbed=!0,ge._state==="closed"?ee._closeSteps():ge._state==="errored"?ee._errorSteps(ge._storedError):ge._readableStreamController[F](ee)}function Le(z,ee){const ge=z._readRequests;z._readRequests=new A,ge.forEach($e=>{$e._errorSteps(ee)})}function ke(z){return new TypeError(`ReadableStreamDefaultReader.prototype.${z} can only be used on a ReadableStreamDefaultReader`)}var nt,qe,Ue;function W(z){return z.slice()}function I(z,ee,ge,$e,He){new Uint8Array(z).set(new Uint8Array(ge,$e,He),ee)}Object.defineProperties(de.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(de.prototype.cancel,"cancel"),a(de.prototype.read,"read"),a(de.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(de.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let L=z=>(L=typeof z.transfer=="function"?ee=>ee.transfer():typeof structuredClone=="function"?ee=>structuredClone(ee,{transfer:[ee]}):ee=>ee,L(z)),ne=z=>(ne=typeof z.detached=="boolean"?ee=>ee.detached:ee=>ee.byteLength===0,ne(z));function ye(z,ee,ge){if(z.slice)return z.slice(ee,ge);const $e=ge-ee,He=new ArrayBuffer($e);return I(He,0,z,ee,$e),He}function Se(z,ee){const ge=z[ee];if(ge!=null){if(typeof ge!="function")throw new TypeError(`${String(ee)} is not a function`);return ge}}function De(z){try{const ee=z.done,ge=z.value;return _(c(ge),$e=>({done:ee,value:$e}))}catch(ee){return m(ee)}}const je=(Ue=(nt=Symbol.asyncIterator)!==null&&nt!==void 0?nt:(qe=Symbol.for)===null||qe===void 0?void 0:qe.call(Symbol,"Symbol.asyncIterator"))!==null&&Ue!==void 0?Ue:"@@asyncIterator";function Be(z,ee="sync",ge){if(ge===void 0)if(ee==="async"){if((ge=Se(z,je))===void 0)return function(He){const Ve={next(){let Ye;try{Ye=at(He)}catch(Ge){return m(Ge)}return De(Ye)},return(Ye){let Ge;try{const Xe=Se(He.iterator,"return");if(Xe===void 0)return g({done:!0,value:Ye});Ge=T(Xe,He.iterator,[Ye])}catch(Xe){return m(Xe)}return i(Ge)?De(Ge):m(new TypeError("The iterator.return() method must return an object"))}};return{iterator:Ve,nextMethod:Ve.next,done:!1}}(Be(z,"sync",Se(z,Symbol.iterator)))}else ge=Se(z,Symbol.iterator);if(ge===void 0)throw new TypeError("The object is not iterable");const $e=T(ge,z,[]);if(!i($e))throw new TypeError("The iterator method must return an object");return{iterator:$e,nextMethod:$e.next,done:!1}}function at(z){const ee=T(z.nextMethod,z.iterator,[]);if(!i(ee))throw new TypeError("The iterator.next() method must return an object");return ee}class wt{constructor(ee,ge){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=ee,this._preventCancel=ge}next(){const ee=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,ee,ee):ee(),this._ongoingPromise}return(ee){const ge=()=>this._returnSteps(ee);return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,ge,ge):ge(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const ee=this._reader;let ge,$e;const He=h((Ve,Ye)=>{ge=Ve,$e=Ye});return xe(ee,{_chunkSteps:Ve=>{this._ongoingPromise=void 0,$(()=>ge({value:Ve,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,X(ee),ge({value:void 0,done:!0})},_errorSteps:Ve=>{this._ongoingPromise=void 0,this._isFinished=!0,X(ee),$e(Ve)}}),He}_returnSteps(ee){if(this._isFinished)return Promise.resolve({value:ee,done:!0});this._isFinished=!0;const ge=this._reader;if(!this._preventCancel){const $e=H(ge,ee);return X(ge),y($e,()=>({value:ee,done:!0}))}return X(ge),g({value:ee,done:!0})}}const ut={next(){return kt(this)?this._asyncIteratorImpl.next():m(Tr("next"))},return(z){return kt(this)?this._asyncIteratorImpl.return(z):m(Tr("return"))},[je](){return this}};function kt(z){if(!i(z)||!Object.prototype.hasOwnProperty.call(z,"_asyncIteratorImpl"))return!1;try{return z._asyncIteratorImpl instanceof wt}catch{return!1}}function Tr(z){return new TypeError(`ReadableStreamAsyncIterator.${z} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(ut,je,{enumerable:!1});const Pr=Number.isNaN||function(z){return z!=z};function or(z){const ee=ye(z.buffer,z.byteOffset,z.byteOffset+z.byteLength);return new Uint8Array(ee)}function ur(z){const ee=z._queue.shift();return z._queueTotalSize-=ee.size,z._queueTotalSize<0&&(z._queueTotalSize=0),ee.value}function on(z,ee,ge){if(typeof($e=ge)!="number"||Pr($e)||$e<0||ge===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var $e;z._queue.push({value:ee,size:ge}),z._queueTotalSize+=ge}function tr(z){z._queue=new A,z._queueTotalSize=0}function Dt(z){return z===DataView}class Jt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ct(this))throw Cr("view");return this._view}respond(ee){if(!ct(this))throw Cr("respond");if(J(ee,1,"respond"),ee=Ne(ee,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ne(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Vr(this._associatedReadableByteStreamController,ee)}respondWithNewView(ee){if(!ct(this))throw Cr("respondWithNewView");if(J(ee,1,"respondWithNewView"),!ArrayBuffer.isView(ee))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ne(ee.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");mn(this._associatedReadableByteStreamController,ee)}}Object.defineProperties(Jt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),a(Jt.prototype.respond,"respond"),a(Jt.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Jt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ee{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Oe(this))throw Qr("byobRequest");return en(this)}get desiredSize(){if(!Oe(this))throw Qr("desiredSize");return jr(this)}close(){if(!Oe(this))throw Qr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const ee=this._controlledReadableByteStream._state;if(ee!=="readable")throw new TypeError(`The stream (in ${ee} state) is not in the readable state and cannot be closed`);yt(this)}enqueue(ee){if(!Oe(this))throw Qr("enqueue");if(J(ee,1,"enqueue"),!ArrayBuffer.isView(ee))throw new TypeError("chunk must be an array buffer view");if(ee.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(ee.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const ge=this._controlledReadableByteStream._state;if(ge!=="readable")throw new TypeError(`The stream (in ${ge} state) is not in the readable state and cannot be enqueued to`);zt(this,ee)}error(ee=void 0){if(!Oe(this))throw Qr("error");At(this,ee)}[C](ee){et(this),tr(this);const ge=this._cancelAlgorithm(ee);return Ht(this),ge}[F](ee){const ge=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ct(this,ee);const $e=this._autoAllocateChunkSize;if($e!==void 0){let He;try{He=new ArrayBuffer($e)}catch(Ye){return void ee._errorSteps(Ye)}const Ve={buffer:He,bufferByteLength:$e,byteOffset:0,byteLength:$e,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ve)}M(ge,ee),ht(this)}[V](){if(this._pendingPullIntos.length>0){const ee=this._pendingPullIntos.peek();ee.readerType="none",this._pendingPullIntos=new A,this._pendingPullIntos.push(ee)}}}function Oe(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableByteStream")&&z instanceof Ee}function ct(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_associatedReadableByteStreamController")&&z instanceof Jt}function ht(z){if(function(ge){const $e=ge._controlledReadableByteStream;return $e._state!=="readable"||ge._closeRequested||!ge._started?!1:!!(fe($e)&&ae($e)>0||aa($e)&&oa($e)>0||jr(ge)>0)}(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,ht(z)),null),ge=>(At(z,ge),null))}}function et(z){Tt(z),z._pendingPullIntos=new A}function xt(z,ee){let ge=!1;z._state==="closed"&&(ge=!0);const $e=he(ee);ee.readerType==="default"?K(z,$e,ge):function(He,Ve,Ye){const Ge=He._reader,Xe=Ge._readIntoRequests.shift();Ye?Xe._closeSteps(Ve):Xe._chunkSteps(Ve)}(z,$e,ge)}function Ot(z,ee){for(let ge=0;ge<ee.length;++ge)xt(z,ee[ge])}function he(z){const ee=z.bytesFilled,ge=z.elementSize;return new z.viewConstructor(z.buffer,z.byteOffset,ee/ge)}function ue(z,ee,ge,$e){z._queue.push({buffer:ee,byteOffset:ge,byteLength:$e}),z._queueTotalSize+=$e}function we(z,ee,ge,$e){let He;try{He=ye(ee,ge,ge+$e)}catch(Ve){throw At(z,Ve),Ve}ue(z,He,0,$e)}function Re(z,ee){ee.bytesFilled>0&&we(z,ee.buffer,ee.byteOffset,ee.bytesFilled),Rt(z)}function Ae(z,ee){const ge=Math.min(z._queueTotalSize,ee.byteLength-ee.bytesFilled),$e=ee.bytesFilled+ge;let He=ge,Ve=!1;const Ye=$e-$e%ee.elementSize;Ye>=ee.minimumFill&&(He=Ye-ee.bytesFilled,Ve=!0);const Ge=z._queue;for(;He>0;){const Xe=Ge.peek(),pt=Math.min(He,Xe.byteLength),gt=ee.byteOffset+ee.bytesFilled;I(ee.buffer,gt,Xe.buffer,Xe.byteOffset,pt),Xe.byteLength===pt?Ge.shift():(Xe.byteOffset+=pt,Xe.byteLength-=pt),z._queueTotalSize-=pt,ot(z,pt,ee),He-=pt}return Ve}function ot(z,ee,ge){ge.bytesFilled+=ee}function tt(z){z._queueTotalSize===0&&z._closeRequested?(Ht(z),hl(z._controlledReadableByteStream)):ht(z)}function Tt(z){z._byobRequest!==null&&(z._byobRequest._associatedReadableByteStreamController=void 0,z._byobRequest._view=null,z._byobRequest=null)}function jt(z){const ee=[];for(;z._pendingPullIntos.length>0&&z._queueTotalSize!==0;){const ge=z._pendingPullIntos.peek();Ae(z,ge)&&(Rt(z),ee.push(ge))}return ee}function Lt(z,ee,ge,$e){const He=z._controlledReadableByteStream,Ve=ee.constructor,Ye=function(_t){return Dt(_t)?1:_t.BYTES_PER_ELEMENT}(Ve),{byteOffset:Ge,byteLength:Xe}=ee,pt=ge*Ye;let gt;try{gt=L(ee.buffer)}catch(_t){return void $e._errorSteps(_t)}const Ft={buffer:gt,bufferByteLength:gt.byteLength,byteOffset:Ge,byteLength:Xe,bytesFilled:0,minimumFill:pt,elementSize:Ye,viewConstructor:Ve,readerType:"byob"};if(z._pendingPullIntos.length>0)return z._pendingPullIntos.push(Ft),void pi(He,$e);if(He._state!=="closed"){if(z._queueTotalSize>0){if(Ae(z,Ft)){const _t=he(Ft);return tt(z),void $e._chunkSteps(_t)}if(z._closeRequested){const _t=new TypeError("Insufficient bytes to fill elements in the given buffer");return At(z,_t),void $e._errorSteps(_t)}}z._pendingPullIntos.push(Ft),pi(He,$e),ht(z)}else{const _t=new Ve(Ft.buffer,Ft.byteOffset,0);$e._closeSteps(_t)}}function $t(z,ee){const ge=z._pendingPullIntos.peek();Tt(z),z._controlledReadableByteStream._state==="closed"?function($e,He){He.readerType==="none"&&Rt($e);const Ve=$e._controlledReadableByteStream;if(aa(Ve)){const Ye=[];for(let Ge=0;Ge<oa(Ve);++Ge)Ye.push(Rt($e));Ot(Ve,Ye)}}(z,ge):function($e,He,Ve){if(ot(0,He,Ve),Ve.readerType==="none"){Re($e,Ve);const Xe=jt($e);return void Ot($e._controlledReadableByteStream,Xe)}if(Ve.bytesFilled<Ve.minimumFill)return;Rt($e);const Ye=Ve.bytesFilled%Ve.elementSize;if(Ye>0){const Xe=Ve.byteOffset+Ve.bytesFilled;we($e,Ve.buffer,Xe-Ye,Ye)}Ve.bytesFilled-=Ye;const Ge=jt($e);xt($e._controlledReadableByteStream,Ve),Ot($e._controlledReadableByteStream,Ge)}(z,ee,ge),ht(z)}function Rt(z){return z._pendingPullIntos.shift()}function Ht(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0}function yt(z){const ee=z._controlledReadableByteStream;if(!z._closeRequested&&ee._state==="readable")if(z._queueTotalSize>0)z._closeRequested=!0;else{if(z._pendingPullIntos.length>0){const ge=z._pendingPullIntos.peek();if(ge.bytesFilled%ge.elementSize!=0){const $e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw At(z,$e),$e}}Ht(z),hl(ee)}}function zt(z,ee){const ge=z._controlledReadableByteStream;if(z._closeRequested||ge._state!=="readable")return;const{buffer:$e,byteOffset:He,byteLength:Ve}=ee;if(ne($e))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const Ye=L($e);if(z._pendingPullIntos.length>0){const Ge=z._pendingPullIntos.peek();if(ne(Ge.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Tt(z),Ge.buffer=L(Ge.buffer),Ge.readerType==="none"&&Re(z,Ge)}if(fe(ge))(function(Ge){const Xe=Ge._controlledReadableByteStream._reader;for(;Xe._readRequests.length>0;){if(Ge._queueTotalSize===0)return;Ct(Ge,Xe._readRequests.shift())}})(z),ae(ge)===0?ue(z,Ye,He,Ve):(z._pendingPullIntos.length>0&&Rt(z),K(ge,new Uint8Array(Ye,He,Ve),!1));else if(aa(ge)){ue(z,Ye,He,Ve);const Ge=jt(z);Ot(z._controlledReadableByteStream,Ge)}else ue(z,Ye,He,Ve);ht(z)}function At(z,ee){const ge=z._controlledReadableByteStream;ge._state==="readable"&&(et(z),tr(z),Ht(z),ca(ge,ee))}function Ct(z,ee){const ge=z._queue.shift();z._queueTotalSize-=ge.byteLength,tt(z);const $e=new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength);ee._chunkSteps($e)}function en(z){if(z._byobRequest===null&&z._pendingPullIntos.length>0){const ee=z._pendingPullIntos.peek(),ge=new Uint8Array(ee.buffer,ee.byteOffset+ee.bytesFilled,ee.byteLength-ee.bytesFilled),$e=Object.create(Jt.prototype);(function(He,Ve,Ye){He._associatedReadableByteStreamController=Ve,He._view=Ye})($e,z,ge),z._byobRequest=$e}return z._byobRequest}function jr(z){const ee=z._controlledReadableByteStream._state;return ee==="errored"?null:ee==="closed"?0:z._strategyHWM-z._queueTotalSize}function Vr(z,ee){const ge=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(ee!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(ee===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(ge.bytesFilled+ee>ge.byteLength)throw new RangeError("bytesWritten out of range")}ge.buffer=L(ge.buffer),$t(z,ee)}function mn(z,ee){const ge=z._pendingPullIntos.peek();if(z._controlledReadableByteStream._state==="closed"){if(ee.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(ee.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(ge.byteOffset+ge.bytesFilled!==ee.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(ge.bufferByteLength!==ee.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(ge.bytesFilled+ee.byteLength>ge.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const $e=ee.byteLength;ge.buffer=L(ee.buffer),$t(z,$e)}function Wn(z,ee,ge,$e,He,Ve,Ye){ee._controlledReadableByteStream=z,ee._pullAgain=!1,ee._pulling=!1,ee._byobRequest=null,ee._queue=ee._queueTotalSize=void 0,tr(ee),ee._closeRequested=!1,ee._started=!1,ee._strategyHWM=Ve,ee._pullAlgorithm=$e,ee._cancelAlgorithm=He,ee._autoAllocateChunkSize=Ye,ee._pendingPullIntos=new A,z._readableStreamController=ee,v(g(ge()),()=>(ee._started=!0,ht(ee),null),Ge=>(At(ee,Ge),null))}function Cr(z){return new TypeError(`ReadableStreamBYOBRequest.prototype.${z} can only be used on a ReadableStreamBYOBRequest`)}function Qr(z){return new TypeError(`ReadableByteStreamController.prototype.${z} can only be used on a ReadableByteStreamController`)}function Zn(z,ee){if((z=`${z}`)!="byob")throw new TypeError(`${ee} '${z}' is not a valid enumeration value for ReadableStreamReaderMode`);return z}function gn(z){return new kr(z)}function pi(z,ee){z._reader._readIntoRequests.push(ee)}function oa(z){return z._reader._readIntoRequests.length}function aa(z){const ee=z._reader;return ee!==void 0&&!!En(ee)}Object.defineProperties(Ee.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),a(Ee.prototype.close,"close"),a(Ee.prototype.enqueue,"enqueue"),a(Ee.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ee.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class kr{constructor(ee){if(J(ee,1,"ReadableStreamBYOBReader"),R(ee,"First parameter"),vi(ee))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Oe(ee._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Q(this,ee),this._readIntoRequests=new A}get closed(){return En(this)?this._closedPromise:m(sa("closed"))}cancel(ee=void 0){return En(this)?this._ownerReadableStream===void 0?m(ce("cancel")):H(this,ee):m(sa("cancel"))}read(ee,ge={}){if(!En(this))return m(sa("read"));if(!ArrayBuffer.isView(ee))return m(new TypeError("view must be an array buffer view"));if(ee.byteLength===0)return m(new TypeError("view must have non-zero byteLength"));if(ee.buffer.byteLength===0)return m(new TypeError("view's buffer must have non-zero byteLength"));if(ne(ee.buffer))return m(new TypeError("view's buffer has been detached"));let $e;try{$e=function(Xe,pt){var gt;return N(Xe,pt),{min:Ne((gt=Xe==null?void 0:Xe.min)!==null&&gt!==void 0?gt:1,`${pt} has member 'min' that`)}}(ge,"options")}catch(Xe){return m(Xe)}const He=$e.min;if(He===0)return m(new TypeError("options.min must be greater than 0"));if(function(Xe){return Dt(Xe.constructor)}(ee)){if(He>ee.byteLength)return m(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(He>ee.length)return m(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return m(ce("read from"));let Ve,Ye;const Ge=h((Xe,pt)=>{Ve=Xe,Ye=pt});return mi(this,ee,He,{_chunkSteps:Xe=>Ve({value:Xe,done:!1}),_closeSteps:Xe=>Ve({value:Xe,done:!0}),_errorSteps:Xe=>Ye(Xe)}),Ge}releaseLock(){if(!En(this))throw sa("releaseLock");this._ownerReadableStream!==void 0&&function(ee){X(ee);const ge=new TypeError("Reader was released");Es(ee,ge)}(this)}}function En(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readIntoRequests")&&z instanceof kr}function mi(z,ee,ge,$e){const He=z._ownerReadableStream;He._disturbed=!0,He._state==="errored"?$e._errorSteps(He._storedError):Lt(He._readableStreamController,ee,ge,$e)}function Es(z,ee){const ge=z._readIntoRequests;z._readIntoRequests=new A,ge.forEach($e=>{$e._errorSteps(ee)})}function sa(z){return new TypeError(`ReadableStreamBYOBReader.prototype.${z} can only be used on a ReadableStreamBYOBReader`)}function Un(z,ee){const{highWaterMark:ge}=z;if(ge===void 0)return ee;if(Pr(ge)||ge<0)throw new RangeError("Invalid highWaterMark");return ge}function Sc(z){const{size:ee}=z;return ee||(()=>1)}function ul(z,ee){N(z,ee);const ge=z==null?void 0:z.highWaterMark,$e=z==null?void 0:z.size;return{highWaterMark:ge===void 0?void 0:se(ge),size:$e===void 0?void 0:ev($e,`${ee} has member 'size' that`)}}function ev(z,ee){return q(z,ee),ge=>se(z(ge))}function sS(z,ee,ge){return q(z,ge),$e=>d(z,ee,[$e])}function lS(z,ee,ge){return q(z,ge),()=>d(z,ee,[])}function Mo(z,ee,ge){return q(z,ge),$e=>T(z,ee,[$e])}function tv(z,ee,ge){return q(z,ge),($e,He)=>d(z,ee,[$e,He])}function Ql(z,ee){if(!fo(z))throw new TypeError(`${ee} is not a WritableStream.`)}Object.defineProperties(kr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),a(kr.prototype.cancel,"cancel"),a(kr.prototype.read,"read"),a(kr.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(kr.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Ss{constructor(ee={},ge={}){ee===void 0?ee=null:oe(ee,"First parameter");const $e=ul(ge,"Second parameter"),He=function(Ye,Ge){N(Ye,Ge);const Xe=Ye==null?void 0:Ye.abort,pt=Ye==null?void 0:Ye.close,gt=Ye==null?void 0:Ye.start,Ft=Ye==null?void 0:Ye.type,_t=Ye==null?void 0:Ye.write;return{abort:Xe===void 0?void 0:sS(Xe,Ye,`${Ge} has member 'abort' that`),close:pt===void 0?void 0:lS(pt,Ye,`${Ge} has member 'close' that`),start:gt===void 0?void 0:Mo(gt,Ye,`${Ge} has member 'start' that`),write:_t===void 0?void 0:tv(_t,Ye,`${Ge} has member 'write' that`),type:Ft}}(ee,"First parameter");if($s(this),He.type!==void 0)throw new RangeError("Invalid type is specified");const Ve=Sc($e);(function(Ye,Ge,Xe,pt){const gt=Object.create(eu.prototype);let Ft,_t,Ut,Er;Ft=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.write!==void 0?Rr=>Ge.write(Rr,gt):()=>g(void 0),Ut=Ge.close!==void 0?()=>Ge.close():()=>g(void 0),Er=Ge.abort!==void 0?Rr=>Ge.abort(Rr):()=>g(void 0),op(Ye,gt,Ft,_t,Ut,Er,Xe,pt)})(this,He,Un($e,1),Ve)}get locked(){if(!fo(this))throw ld("locked");return Ts(this)}abort(ee=void 0){return fo(this)?Ts(this)?m(new TypeError("Cannot abort a stream that already has a writer")):ed(this,ee):m(ld("abort"))}close(){return fo(this)?Ts(this)?m(new TypeError("Cannot close a stream that already has a writer")):Lo(this)?m(new TypeError("Cannot close an already-closing stream")):Zl(this):m(ld("close"))}getWriter(){if(!fo(this))throw ld("getWriter");return rv(this)}}function rv(z){return new qa(z)}function $s(z){z._state="writable",z._storedError=void 0,z._writer=void 0,z._writableStreamController=void 0,z._writeRequests=new A,z._inFlightWriteRequest=void 0,z._closeRequest=void 0,z._inFlightCloseRequest=void 0,z._pendingAbortRequest=void 0,z._backpressure=!1}function fo(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_writableStreamController")&&z instanceof Ss}function Ts(z){return z._writer!==void 0}function ed(z,ee){var ge;if(z._state==="closed"||z._state==="errored")return g(void 0);z._writableStreamController._abortReason=ee,(ge=z._writableStreamController._abortController)===null||ge===void 0||ge.abort(ee);const $e=z._state;if($e==="closed"||$e==="errored")return g(void 0);if(z._pendingAbortRequest!==void 0)return z._pendingAbortRequest._promise;let He=!1;$e==="erroring"&&(He=!0,ee=void 0);const Ve=h((Ye,Ge)=>{z._pendingAbortRequest={_promise:void 0,_resolve:Ye,_reject:Ge,_reason:ee,_wasAlreadyErroring:He}});return z._pendingAbortRequest._promise=Ve,He||$c(z,ee),Ve}function Zl(z){const ee=z._state;if(ee==="closed"||ee==="errored")return m(new TypeError(`The stream (in ${ee} state) is not in the writable state and cannot be closed`));const ge=h((Ve,Ye)=>{const Ge={_resolve:Ve,_reject:Ye};z._closeRequest=Ge}),$e=z._writer;var He;return $e!==void 0&&z._backpressure&&ee==="writable"&&le($e),on(He=z._writableStreamController,av,0),ru(He),ge}function td(z,ee){z._state!=="writable"?rd(z):$c(z,ee)}function $c(z,ee){const ge=z._writableStreamController;z._state="erroring",z._storedError=ee;const $e=z._writer;$e!==void 0&&nv($e,ee),!function(He){return!(He._inFlightWriteRequest===void 0&&He._inFlightCloseRequest===void 0)}(z)&&ge._started&&rd(z)}function rd(z){z._state="errored",z._writableStreamController[O]();const ee=z._storedError;if(z._writeRequests.forEach($e=>{$e._reject(ee)}),z._writeRequests=new A,z._pendingAbortRequest===void 0)return void nd(z);const ge=z._pendingAbortRequest;if(z._pendingAbortRequest=void 0,ge._wasAlreadyErroring)return ge._reject(ee),void nd(z);v(z._writableStreamController[x](ge._reason),()=>(ge._resolve(),nd(z),null),$e=>(ge._reject($e),nd(z),null))}function Lo(z){return z._closeRequest!==void 0||z._inFlightCloseRequest!==void 0}function nd(z){z._closeRequest!==void 0&&(z._closeRequest._reject(z._storedError),z._closeRequest=void 0);const ee=z._writer;ee!==void 0&&lp(ee,z._storedError)}function id(z,ee){const ge=z._writer;ge!==void 0&&ee!==z._backpressure&&(ee?function($e){cd($e)}(ge):le(ge)),z._backpressure=ee}Object.defineProperties(Ss.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),a(Ss.prototype.abort,"abort"),a(Ss.prototype.close,"close"),a(Ss.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ss.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class qa{constructor(ee){if(J(ee,1,"WritableStreamDefaultWriter"),Ql(ee,"First parameter"),Ts(ee))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=ee,ee._writer=this;const ge=ee._state;if(ge==="writable")!Lo(ee)&&ee._backpressure?cd(this):U(this),Tc(this);else if(ge==="erroring")j(this,ee._storedError),Tc(this);else if(ge==="closed")U(this),Tc($e=this),sv($e);else{const He=ee._storedError;j(this,He),ud(this,He)}var $e}get closed(){return cl(this)?this._closedPromise:m(fl("closed"))}get desiredSize(){if(!cl(this))throw fl("desiredSize");if(this._ownerWritableStream===void 0)throw Va("desiredSize");return function(ee){const ge=ee._ownerWritableStream,$e=ge._state;return $e==="errored"||$e==="erroring"?null:$e==="closed"?0:ap(ge._writableStreamController)}(this)}get ready(){return cl(this)?this._readyPromise:m(fl("ready"))}abort(ee=void 0){return cl(this)?this._ownerWritableStream===void 0?m(Va("abort")):function(ge,$e){return ed(ge._ownerWritableStream,$e)}(this,ee):m(fl("abort"))}close(){if(!cl(this))return m(fl("close"));const ee=this._ownerWritableStream;return ee===void 0?m(Va("close")):Lo(ee)?m(new TypeError("Cannot close an already-closing stream")):od(this)}releaseLock(){if(!cl(this))throw fl("releaseLock");this._ownerWritableStream!==void 0&&iv(this)}write(ee=void 0){return cl(this)?this._ownerWritableStream===void 0?m(Va("write to")):ov(this,ee):m(fl("write"))}}function cl(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_ownerWritableStream")&&z instanceof qa}function od(z){return Zl(z._ownerWritableStream)}function uS(z,ee){z._closedPromiseState==="pending"?lp(z,ee):function(ge,$e){ud(ge,$e)}(z,ee)}function nv(z,ee){z._readyPromiseState==="pending"?te(z,ee):function(ge,$e){j(ge,$e)}(z,ee)}function iv(z){const ee=z._ownerWritableStream,ge=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");nv(z,ge),uS(z,ge),ee._writer=void 0,z._ownerWritableStream=void 0}function ov(z,ee){const ge=z._ownerWritableStream,$e=ge._writableStreamController,He=function(Ge,Xe){if(Ge._strategySizeAlgorithm===void 0)return 1;try{return Ge._strategySizeAlgorithm(Xe)}catch(pt){return nu(Ge,pt),1}}($e,ee);if(ge!==z._ownerWritableStream)return m(Va("write to"));const Ve=ge._state;if(Ve==="errored")return m(ge._storedError);if(Lo(ge)||Ve==="closed")return m(new TypeError("The stream is closing or closed and cannot be written to"));if(Ve==="erroring")return m(ge._storedError);const Ye=function(Ge){return h((Xe,pt)=>{const gt={_resolve:Xe,_reject:pt};Ge._writeRequests.push(gt)})}(ge);return function(Ge,Xe,pt){try{on(Ge,Xe,pt)}catch(Ft){return void nu(Ge,Ft)}const gt=Ge._controlledWritableStream;!Lo(gt)&&gt._state==="writable"&&id(gt,ad(Ge)),ru(Ge)}($e,ee,He),Ye}Object.defineProperties(qa.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),a(qa.prototype.abort,"abort"),a(qa.prototype.close,"close"),a(qa.prototype.releaseLock,"releaseLock"),a(qa.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(qa.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const av={};class eu{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ip(this))throw sp("abortReason");return this._abortReason}get signal(){if(!ip(this))throw sp("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(ee=void 0){if(!ip(this))throw sp("error");this._controlledWritableStream._state==="writable"&&sd(this,ee)}[x](ee){const ge=this._abortAlgorithm(ee);return tu(this),ge}[O](){tr(this)}}function ip(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledWritableStream")&&z instanceof eu}function op(z,ee,ge,$e,He,Ve,Ye,Ge){ee._controlledWritableStream=z,z._writableStreamController=ee,ee._queue=void 0,ee._queueTotalSize=void 0,tr(ee),ee._abortReason=void 0,ee._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),ee._started=!1,ee._strategySizeAlgorithm=Ge,ee._strategyHWM=Ye,ee._writeAlgorithm=$e,ee._closeAlgorithm=He,ee._abortAlgorithm=Ve;const Xe=ad(ee);id(z,Xe),v(g(ge()),()=>(ee._started=!0,ru(ee),null),pt=>(ee._started=!0,td(z,pt),null))}function tu(z){z._writeAlgorithm=void 0,z._closeAlgorithm=void 0,z._abortAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function ap(z){return z._strategyHWM-z._queueTotalSize}function ru(z){const ee=z._controlledWritableStream;if(!z._started||ee._inFlightWriteRequest!==void 0)return;if(ee._state==="erroring")return void rd(ee);if(z._queue.length===0)return;const ge=z._queue.peek().value;ge===av?function($e){const He=$e._controlledWritableStream;(function(Ye){Ye._inFlightCloseRequest=Ye._closeRequest,Ye._closeRequest=void 0})(He),ur($e);const Ve=$e._closeAlgorithm();tu($e),v(Ve,()=>(function(Ye){Ye._inFlightCloseRequest._resolve(void 0),Ye._inFlightCloseRequest=void 0,Ye._state==="erroring"&&(Ye._storedError=void 0,Ye._pendingAbortRequest!==void 0&&(Ye._pendingAbortRequest._resolve(),Ye._pendingAbortRequest=void 0)),Ye._state="closed";const Ge=Ye._writer;Ge!==void 0&&sv(Ge)}(He),null),Ye=>(function(Ge,Xe){Ge._inFlightCloseRequest._reject(Xe),Ge._inFlightCloseRequest=void 0,Ge._pendingAbortRequest!==void 0&&(Ge._pendingAbortRequest._reject(Xe),Ge._pendingAbortRequest=void 0),td(Ge,Xe)}(He,Ye),null))}(z):function($e,He){const Ve=$e._controlledWritableStream;(function(Ge){Ge._inFlightWriteRequest=Ge._writeRequests.shift()})(Ve);const Ye=$e._writeAlgorithm(He);v(Ye,()=>{(function(Xe){Xe._inFlightWriteRequest._resolve(void 0),Xe._inFlightWriteRequest=void 0})(Ve);const Ge=Ve._state;if(ur($e),!Lo(Ve)&&Ge==="writable"){const Xe=ad($e);id(Ve,Xe)}return ru($e),null},Ge=>(Ve._state==="writable"&&tu($e),function(Xe,pt){Xe._inFlightWriteRequest._reject(pt),Xe._inFlightWriteRequest=void 0,td(Xe,pt)}(Ve,Ge),null))}(z,ge)}function nu(z,ee){z._controlledWritableStream._state==="writable"&&sd(z,ee)}function ad(z){return ap(z)<=0}function sd(z,ee){const ge=z._controlledWritableStream;tu(z),$c(ge,ee)}function ld(z){return new TypeError(`WritableStream.prototype.${z} can only be used on a WritableStream`)}function sp(z){return new TypeError(`WritableStreamDefaultController.prototype.${z} can only be used on a WritableStreamDefaultController`)}function fl(z){return new TypeError(`WritableStreamDefaultWriter.prototype.${z} can only be used on a WritableStreamDefaultWriter`)}function Va(z){return new TypeError("Cannot "+z+" a stream using a released writer")}function Tc(z){z._closedPromise=h((ee,ge)=>{z._closedPromise_resolve=ee,z._closedPromise_reject=ge,z._closedPromiseState="pending"})}function ud(z,ee){Tc(z),lp(z,ee)}function lp(z,ee){z._closedPromise_reject!==void 0&&(E(z._closedPromise),z._closedPromise_reject(ee),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="rejected")}function sv(z){z._closedPromise_resolve!==void 0&&(z._closedPromise_resolve(void 0),z._closedPromise_resolve=void 0,z._closedPromise_reject=void 0,z._closedPromiseState="resolved")}function cd(z){z._readyPromise=h((ee,ge)=>{z._readyPromise_resolve=ee,z._readyPromise_reject=ge}),z._readyPromiseState="pending"}function j(z,ee){cd(z),te(z,ee)}function U(z){cd(z),le(z)}function te(z,ee){z._readyPromise_reject!==void 0&&(E(z._readyPromise),z._readyPromise_reject(ee),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="rejected")}function le(z){z._readyPromise_resolve!==void 0&&(z._readyPromise_resolve(void 0),z._readyPromise_resolve=void 0,z._readyPromise_reject=void 0,z._readyPromiseState="fulfilled")}Object.defineProperties(eu.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(eu.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const me=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,ve=function(){const z=me==null?void 0:me.DOMException;return function(ee){if(typeof ee!="function"&&typeof ee!="object"||ee.name!=="DOMException")return!1;try{return new ee,!0}catch{return!1}}(z)?z:void 0}()||function(){const z=function(ee,ge){this.message=ee||"",this.name=ge||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return a(z,"DOMException"),z.prototype=Object.create(Error.prototype),Object.defineProperty(z.prototype,"constructor",{value:z,writable:!0,configurable:!0}),z}();function _e(z,ee,ge,$e,He,Ve){const Ye=D(z),Ge=rv(ee);z._disturbed=!0;let Xe=!1,pt=g(void 0);return h((gt,Ft)=>{let _t;if(Ve!==void 0){if(_t=()=>{const rr=Ve.reason!==void 0?Ve.reason:new ve("Aborted","AbortError"),vn=[];$e||vn.push(()=>ee._state==="writable"?ed(ee,rr):g(void 0)),He||vn.push(()=>z._state==="readable"?Tn(z,rr):g(void 0)),an(()=>Promise.all(vn.map(Nr=>Nr())),!0,rr)},Ve.aborted)return void _t();Ve.addEventListener("abort",_t)}var Ut,Er,Rr;if(Hr(z,Ye._closedPromise,rr=>($e?xr(!0,rr):an(()=>ed(ee,rr),!0,rr),null)),Hr(ee,Ge._closedPromise,rr=>(He?xr(!0,rr):an(()=>Tn(z,rr),!0,rr),null)),Ut=z,Er=Ye._closedPromise,Rr=()=>(ge?xr():an(()=>function(rr){const vn=rr._ownerWritableStream,Nr=vn._state;return Lo(vn)||Nr==="closed"?g(void 0):Nr==="errored"?m(vn._storedError):od(rr)}(Ge)),null),Ut._state==="closed"?Rr():p(Er,Rr),Lo(ee)||ee._state==="closed"){const rr=new TypeError("the destination writable stream closed before all data could be piped to it");He?xr(!0,rr):an(()=>Tn(z,rr),!0,rr)}function Dn(){const rr=pt;return _(pt,()=>rr!==pt?Dn():void 0)}function Hr(rr,vn,Nr){rr._state==="errored"?Nr(rr._storedError):S(vn,Nr)}function an(rr,vn,Nr){function Ir(){return v(rr(),()=>Ni(vn,Nr),nr=>Ni(!0,nr)),null}Xe||(Xe=!0,ee._state!=="writable"||Lo(ee)?Ir():p(Dn(),Ir))}function xr(rr,vn){Xe||(Xe=!0,ee._state!=="writable"||Lo(ee)?Ni(rr,vn):p(Dn(),()=>Ni(rr,vn)))}function Ni(rr,vn){return iv(Ge),X(Ye),Ve!==void 0&&Ve.removeEventListener("abort",_t),rr?Ft(vn):gt(void 0),null}E(h((rr,vn)=>{(function Nr(Ir){Ir?rr():_(Xe?g(!0):_(Ge._readyPromise,()=>h((nr,sn)=>{xe(Ye,{_chunkSteps:cr=>{pt=_(ov(Ge,cr),void 0,n),nr(!1)},_closeSteps:()=>nr(!0),_errorSteps:sn})})),Nr,vn)})(!1)}))})}class Fe{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Me(this))throw Sn("desiredSize");return gr(this)}close(){if(!Me(this))throw Sn("close");if(!Yt(this))throw new TypeError("The stream is not in a state that permits close");Qe(this)}enqueue(ee=void 0){if(!Me(this))throw Sn("enqueue");if(!Yt(this))throw new TypeError("The stream is not in a state that permits enqueue");return bt(this,ee)}error(ee=void 0){if(!Me(this))throw Sn("error");qt(this,ee)}[C](ee){tr(this);const ge=this._cancelAlgorithm(ee);return lt(this),ge}[F](ee){const ge=this._controlledReadableStream;if(this._queue.length>0){const $e=ur(this);this._closeRequested&&this._queue.length===0?(lt(this),hl(ge)):Ke(this),ee._chunkSteps($e)}else M(ge,ee),Ke(this)}[V](){}}function Me(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledReadableStream")&&z instanceof Fe}function Ke(z){if(it(z)){if(z._pulling)return void(z._pullAgain=!0);z._pulling=!0,v(z._pullAlgorithm(),()=>(z._pulling=!1,z._pullAgain&&(z._pullAgain=!1,Ke(z)),null),ee=>(qt(z,ee),null))}}function it(z){const ee=z._controlledReadableStream;return!Yt(z)||!z._started?!1:vi(ee)&&ae(ee)>0?!0:gr(z)>0}function lt(z){z._pullAlgorithm=void 0,z._cancelAlgorithm=void 0,z._strategySizeAlgorithm=void 0}function Qe(z){if(!Yt(z))return;const ee=z._controlledReadableStream;z._closeRequested=!0,z._queue.length===0&&(lt(z),hl(ee))}function bt(z,ee){if(!Yt(z))return;const ge=z._controlledReadableStream;if(vi(ge)&&ae(ge)>0)K(ge,ee,!1);else{let $e;try{$e=z._strategySizeAlgorithm(ee)}catch(He){throw qt(z,He),He}try{on(z,ee,$e)}catch(He){throw qt(z,He),He}}Ke(z)}function qt(z,ee){const ge=z._controlledReadableStream;ge._state==="readable"&&(tr(z),lt(z),ca(ge,ee))}function gr(z){const ee=z._controlledReadableStream._state;return ee==="errored"?null:ee==="closed"?0:z._strategyHWM-z._queueTotalSize}function Yt(z){const ee=z._controlledReadableStream._state;return!z._closeRequested&&ee==="readable"}function Gn(z,ee,ge,$e,He,Ve,Ye){ee._controlledReadableStream=z,ee._queue=void 0,ee._queueTotalSize=void 0,tr(ee),ee._started=!1,ee._closeRequested=!1,ee._pullAgain=!1,ee._pulling=!1,ee._strategySizeAlgorithm=Ye,ee._strategyHWM=Ve,ee._pullAlgorithm=$e,ee._cancelAlgorithm=He,z._readableStreamController=ee,v(g(ge()),()=>(ee._started=!0,Ke(ee),null),Ge=>(qt(ee,Ge),null))}function Sn(z){return new TypeError(`ReadableStreamDefaultController.prototype.${z} can only be used on a ReadableStreamDefaultController`)}function la(z,ee){return Oe(z._readableStreamController)?function(ge){let $e,He,Ve,Ye,Ge,Xe=D(ge),pt=!1,gt=!1,Ft=!1,_t=!1,Ut=!1;const Er=h(Nr=>{Ge=Nr});function Rr(Nr){S(Nr._closedPromise,Ir=>(Nr!==Xe||(At(Ve._readableStreamController,Ir),At(Ye._readableStreamController,Ir),_t&&Ut||Ge(void 0)),null))}function Dn(){En(Xe)&&(X(Xe),Xe=D(ge),Rr(Xe)),xe(Xe,{_chunkSteps:Nr=>{$(()=>{gt=!1,Ft=!1;const Ir=Nr;let nr=Nr;if(!_t&&!Ut)try{nr=or(Nr)}catch(sn){return At(Ve._readableStreamController,sn),At(Ye._readableStreamController,sn),void Ge(Tn(ge,sn))}_t||zt(Ve._readableStreamController,Ir),Ut||zt(Ye._readableStreamController,nr),pt=!1,gt?an():Ft&&xr()})},_closeSteps:()=>{pt=!1,_t||yt(Ve._readableStreamController),Ut||yt(Ye._readableStreamController),Ve._readableStreamController._pendingPullIntos.length>0&&Vr(Ve._readableStreamController,0),Ye._readableStreamController._pendingPullIntos.length>0&&Vr(Ye._readableStreamController,0),_t&&Ut||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function Hr(Nr,Ir){pe(Xe)&&(X(Xe),Xe=gn(ge),Rr(Xe));const nr=Ir?Ye:Ve,sn=Ir?Ve:Ye;mi(Xe,Nr,1,{_chunkSteps:cr=>{$(()=>{gt=!1,Ft=!1;const fn=Ir?Ut:_t;if(Ir?_t:Ut)fn||mn(nr._readableStreamController,cr);else{let mo;try{mo=or(cr)}catch(wi){return At(nr._readableStreamController,wi),At(sn._readableStreamController,wi),void Ge(Tn(ge,wi))}fn||mn(nr._readableStreamController,cr),zt(sn._readableStreamController,mo)}pt=!1,gt?an():Ft&&xr()})},_closeSteps:cr=>{pt=!1;const fn=Ir?Ut:_t,mo=Ir?_t:Ut;fn||yt(nr._readableStreamController),mo||yt(sn._readableStreamController),cr!==void 0&&(fn||mn(nr._readableStreamController,cr),!mo&&sn._readableStreamController._pendingPullIntos.length>0&&Vr(sn._readableStreamController,0)),fn&&mo||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function an(){if(pt)return gt=!0,g(void 0);pt=!0;const Nr=en(Ve._readableStreamController);return Nr===null?Dn():Hr(Nr._view,!1),g(void 0)}function xr(){if(pt)return Ft=!0,g(void 0);pt=!0;const Nr=en(Ye._readableStreamController);return Nr===null?Dn():Hr(Nr._view,!0),g(void 0)}function Ni(Nr){if(_t=!0,$e=Nr,Ut){const Ir=W([$e,He]),nr=Tn(ge,Ir);Ge(nr)}return Er}function rr(Nr){if(Ut=!0,He=Nr,_t){const Ir=W([$e,He]),nr=Tn(ge,Ir);Ge(nr)}return Er}function vn(){}return Ve=ou(vn,an,Ni),Ye=ou(vn,xr,rr),Rr(Xe),[Ve,Ye]}(z):function(ge,$e){const He=D(ge);let Ve,Ye,Ge,Xe,pt,gt=!1,Ft=!1,_t=!1,Ut=!1;const Er=h(xr=>{pt=xr});function Rr(){return gt?(Ft=!0,g(void 0)):(gt=!0,xe(He,{_chunkSteps:xr=>{$(()=>{Ft=!1;const Ni=xr,rr=xr;_t||bt(Ge._readableStreamController,Ni),Ut||bt(Xe._readableStreamController,rr),gt=!1,Ft&&Rr()})},_closeSteps:()=>{gt=!1,_t||Qe(Ge._readableStreamController),Ut||Qe(Xe._readableStreamController),_t&&Ut||pt(void 0)},_errorSteps:()=>{gt=!1}}),g(void 0))}function Dn(xr){if(_t=!0,Ve=xr,Ut){const Ni=W([Ve,Ye]),rr=Tn(ge,Ni);pt(rr)}return Er}function Hr(xr){if(Ut=!0,Ye=xr,_t){const Ni=W([Ve,Ye]),rr=Tn(ge,Ni);pt(rr)}return Er}function an(){}return Ge=Ri(an,Rr,Dn),Xe=Ri(an,Rr,Hr),S(He._closedPromise,xr=>(qt(Ge._readableStreamController,xr),qt(Xe._readableStreamController,xr),_t&&Ut||pt(void 0),null)),[Ge,Xe]}(z)}function ua(z){return i(ee=z)&&ee.getReader!==void 0?function(ge){let $e;function He(){let Ye;try{Ye=ge.read()}catch(Ge){return m(Ge)}return y(Ye,Ge=>{if(!i(Ge))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Ge.done)Qe($e._readableStreamController);else{const Xe=Ge.value;bt($e._readableStreamController,Xe)}})}function Ve(Ye){try{return g(ge.cancel(Ye))}catch(Ge){return m(Ge)}}return $e=Ri(n,He,Ve,0),$e}(z.getReader()):function(ge){let $e;const He=Be(ge,"async");function Ve(){let Ge;try{Ge=at(He)}catch(Xe){return m(Xe)}return y(g(Ge),Xe=>{if(!i(Xe))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Xe.done)Qe($e._readableStreamController);else{const pt=Xe.value;bt($e._readableStreamController,pt)}})}function Ye(Ge){const Xe=He.iterator;let pt;try{pt=Se(Xe,"return")}catch(gt){return m(gt)}return pt===void 0?g(void 0):y(d(pt,Xe,[Ge]),gt=>{if(!i(gt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return $e=Ri(n,Ve,Ye,0),$e}(z);var ee}function vr(z,ee,ge){return q(z,ge),$e=>d(z,ee,[$e])}function dl(z,ee,ge){return q(z,ge),$e=>d(z,ee,[$e])}function Ar(z,ee,ge){return q(z,ge),$e=>T(z,ee,[$e])}function $n(z,ee){if((z=`${z}`)!="bytes")throw new TypeError(`${ee} '${z}' is not a valid enumeration value for ReadableStreamType`);return z}function iu(z,ee){N(z,ee);const ge=z==null?void 0:z.preventAbort,$e=z==null?void 0:z.preventCancel,He=z==null?void 0:z.preventClose,Ve=z==null?void 0:z.signal;return Ve!==void 0&&function(Ye,Ge){if(!function(Xe){if(typeof Xe!="object"||Xe===null)return!1;try{return typeof Xe.aborted=="boolean"}catch{return!1}}(Ye))throw new TypeError(`${Ge} is not an AbortSignal.`)}(Ve,`${ee} has member 'signal' that`),{preventAbort:!!ge,preventCancel:!!$e,preventClose:!!He,signal:Ve}}Object.defineProperties(Fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),a(Fe.prototype.close,"close"),a(Fe.prototype.enqueue,"enqueue"),a(Fe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fe.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Kn{constructor(ee={},ge={}){ee===void 0?ee=null:oe(ee,"First parameter");const $e=ul(ge,"Second parameter"),He=function(Ve,Ye){N(Ve,Ye);const Ge=Ve,Xe=Ge==null?void 0:Ge.autoAllocateChunkSize,pt=Ge==null?void 0:Ge.cancel,gt=Ge==null?void 0:Ge.pull,Ft=Ge==null?void 0:Ge.start,_t=Ge==null?void 0:Ge.type;return{autoAllocateChunkSize:Xe===void 0?void 0:Ne(Xe,`${Ye} has member 'autoAllocateChunkSize' that`),cancel:pt===void 0?void 0:vr(pt,Ge,`${Ye} has member 'cancel' that`),pull:gt===void 0?void 0:dl(gt,Ge,`${Ye} has member 'pull' that`),start:Ft===void 0?void 0:Ar(Ft,Ge,`${Ye} has member 'start' that`),type:_t===void 0?void 0:$n(_t,`${Ye} has member 'type' that`)}}(ee,"First parameter");if(ho(this),He.type==="bytes"){if($e.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(Ve,Ye,Ge){const Xe=Object.create(Ee.prototype);let pt,gt,Ft;pt=Ye.start!==void 0?()=>Ye.start(Xe):()=>{},gt=Ye.pull!==void 0?()=>Ye.pull(Xe):()=>g(void 0),Ft=Ye.cancel!==void 0?Ut=>Ye.cancel(Ut):()=>g(void 0);const _t=Ye.autoAllocateChunkSize;if(_t===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Wn(Ve,Xe,pt,gt,Ft,Ge,_t)})(this,He,Un($e,0))}else{const Ve=Sc($e);(function(Ye,Ge,Xe,pt){const gt=Object.create(Fe.prototype);let Ft,_t,Ut;Ft=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.pull!==void 0?()=>Ge.pull(gt):()=>g(void 0),Ut=Ge.cancel!==void 0?Er=>Ge.cancel(Er):()=>g(void 0),Gn(Ye,gt,Ft,_t,Ut,Xe,pt)})(this,He,Un($e,1),Ve)}}get locked(){if(!gi(this))throw yi("locked");return vi(this)}cancel(ee=void 0){return gi(this)?vi(this)?m(new TypeError("Cannot cancel a stream that already has a reader")):Tn(this,ee):m(yi("cancel"))}getReader(ee=void 0){if(!gi(this))throw yi("getReader");return function(ge,$e){N(ge,$e);const He=ge==null?void 0:ge.mode;return{mode:He===void 0?void 0:Zn(He,`${$e} has member 'mode' that`)}}(ee,"First parameter").mode===void 0?D(this):gn(this)}pipeThrough(ee,ge={}){if(!gi(this))throw yi("pipeThrough");J(ee,1,"pipeThrough");const $e=function(Ve,Ye){N(Ve,Ye);const Ge=Ve==null?void 0:Ve.readable;Y(Ge,"readable","ReadableWritablePair"),R(Ge,`${Ye} has member 'readable' that`);const Xe=Ve==null?void 0:Ve.writable;return Y(Xe,"writable","ReadableWritablePair"),Ql(Xe,`${Ye} has member 'writable' that`),{readable:Ge,writable:Xe}}(ee,"First parameter"),He=iu(ge,"Second parameter");if(vi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ts($e.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return E(_e(this,$e.writable,He.preventClose,He.preventAbort,He.preventCancel,He.signal)),$e.readable}pipeTo(ee,ge={}){if(!gi(this))return m(yi("pipeTo"));if(ee===void 0)return m("Parameter 1 is required in 'pipeTo'.");if(!fo(ee))return m(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let $e;try{$e=iu(ge,"Second parameter")}catch(He){return m(He)}return vi(this)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ts(ee)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_e(this,ee,$e.preventClose,$e.preventAbort,$e.preventCancel,$e.signal)}tee(){if(!gi(this))throw yi("tee");return W(la(this))}values(ee=void 0){if(!gi(this))throw yi("values");return function(ge,$e){const He=D(ge),Ve=new wt(He,$e),Ye=Object.create(ut);return Ye._asyncIteratorImpl=Ve,Ye}(this,function(ge,$e){return N(ge,$e),{preventCancel:!!(ge==null?void 0:ge.preventCancel)}}(ee,"First parameter").preventCancel)}[je](ee){return this.values(ee)}static from(ee){return ua(ee)}}function Ri(z,ee,ge,$e=1,He=()=>1){const Ve=Object.create(Kn.prototype);return ho(Ve),Gn(Ve,Object.create(Fe.prototype),z,ee,ge,$e,He),Ve}function ou(z,ee,ge){const $e=Object.create(Kn.prototype);return ho($e),Wn($e,Object.create(Ee.prototype),z,ee,ge,0,void 0),$e}function ho(z){z._state="readable",z._reader=void 0,z._storedError=void 0,z._disturbed=!1}function gi(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_readableStreamController")&&z instanceof Kn}function vi(z){return z._reader!==void 0}function Tn(z,ee){if(z._disturbed=!0,z._state==="closed")return g(void 0);if(z._state==="errored")return m(z._storedError);hl(z);const ge=z._reader;if(ge!==void 0&&En(ge)){const $e=ge._readIntoRequests;ge._readIntoRequests=new A,$e.forEach(He=>{He._closeSteps(void 0)})}return y(z._readableStreamController[C](ee),n)}function hl(z){z._state="closed";const ee=z._reader;if(ee!==void 0&&(B(ee),pe(ee))){const ge=ee._readRequests;ee._readRequests=new A,ge.forEach($e=>{$e._closeSteps()})}}function ca(z,ee){z._state="errored",z._storedError=ee;const ge=z._reader;ge!==void 0&&(k(ge,ee),pe(ge)?Le(ge,ee):Es(ge,ee))}function yi(z){return new TypeError(`ReadableStream.prototype.${z} can only be used on a ReadableStream`)}function lv(z,ee){N(z,ee);const ge=z==null?void 0:z.highWaterMark;return Y(ge,"highWaterMark","QueuingStrategyInit"),{highWaterMark:se(ge)}}Object.defineProperties(Kn,{from:{enumerable:!0}}),Object.defineProperties(Kn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),a(Kn.from,"from"),a(Kn.prototype.cancel,"cancel"),a(Kn.prototype.getReader,"getReader"),a(Kn.prototype.pipeThrough,"pipeThrough"),a(Kn.prototype.pipeTo,"pipeTo"),a(Kn.prototype.tee,"tee"),a(Kn.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Kn.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Kn.prototype,je,{value:Kn.prototype.values,writable:!0,configurable:!0});const uv=z=>z.byteLength;a(uv,"size");class fd{constructor(ee){J(ee,1,"ByteLengthQueuingStrategy"),ee=lv(ee,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=ee.highWaterMark}get highWaterMark(){if(!Ac(this))throw Mr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ac(this))throw Mr("size");return uv}}function Mr(z){return new TypeError(`ByteLengthQueuingStrategy.prototype.${z} can only be used on a ByteLengthQueuingStrategy`)}function Ac(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_byteLengthQueuingStrategyHighWaterMark")&&z instanceof fd}Object.defineProperties(fd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fd.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const po=()=>1;a(po,"size");class Ha{constructor(ee){J(ee,1,"CountQueuingStrategy"),ee=lv(ee,"First parameter"),this._countQueuingStrategyHighWaterMark=ee.highWaterMark}get highWaterMark(){if(!fv(this))throw cv("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!fv(this))throw cv("size");return po}}function cv(z){return new TypeError(`CountQueuingStrategy.prototype.${z} can only be used on a CountQueuingStrategy`)}function fv(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_countQueuingStrategyHighWaterMark")&&z instanceof Ha}function dv(z,ee,ge){return q(z,ge),$e=>d(z,ee,[$e])}function pl(z,ee,ge){return q(z,ge),$e=>T(z,ee,[$e])}function up(z,ee,ge){return q(z,ge),($e,He)=>d(z,ee,[$e,He])}function As(z,ee,ge){return q(z,ge),$e=>d(z,ee,[$e])}Object.defineProperties(Ha.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ha.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class xc{constructor(ee={},ge={},$e={}){ee===void 0&&(ee=null);const He=ul(ge,"Second parameter"),Ve=ul($e,"Third parameter"),Ye=function(_t,Ut){N(_t,Ut);const Er=_t==null?void 0:_t.cancel,Rr=_t==null?void 0:_t.flush,Dn=_t==null?void 0:_t.readableType,Hr=_t==null?void 0:_t.start,an=_t==null?void 0:_t.transform,xr=_t==null?void 0:_t.writableType;return{cancel:Er===void 0?void 0:As(Er,_t,`${Ut} has member 'cancel' that`),flush:Rr===void 0?void 0:dv(Rr,_t,`${Ut} has member 'flush' that`),readableType:Dn,start:Hr===void 0?void 0:pl(Hr,_t,`${Ut} has member 'start' that`),transform:an===void 0?void 0:up(an,_t,`${Ut} has member 'transform' that`),writableType:xr}}(ee,"First parameter");if(Ye.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Ye.writableType!==void 0)throw new RangeError("Invalid writableType specified");const Ge=Un(Ve,0),Xe=Sc(Ve),pt=Un(He,1),gt=Sc(He);let Ft;(function(_t,Ut,Er,Rr,Dn,Hr){function an(){return Ut}function xr(Ir){return function(nr,sn){const cr=nr._transformStreamController;return nr._backpressure?y(nr._backpressureChangePromise,()=>{const fn=nr._writable;if(fn._state==="erroring")throw fn._storedError;return hd(cr,sn)}):hd(cr,sn)}(_t,Ir)}function Ni(Ir){return function(nr,sn){const cr=nr._transformStreamController;if(cr._finishPromise!==void 0)return cr._finishPromise;const fn=nr._readable;cr._finishPromise=h((wi,cS)=>{cr._finishPromise_resolve=wi,cr._finishPromise_reject=cS});const mo=cr._cancelAlgorithm(sn);return uu(cr),v(mo,()=>(fn._state==="errored"?We(cr,fn._storedError):(qt(fn._readableStreamController,sn),Ie(cr)),null),wi=>(qt(fn._readableStreamController,wi),We(cr,wi),null)),cr._finishPromise}(_t,Ir)}function rr(){return function(Ir){const nr=Ir._transformStreamController;if(nr._finishPromise!==void 0)return nr._finishPromise;const sn=Ir._readable;nr._finishPromise=h((fn,mo)=>{nr._finishPromise_resolve=fn,nr._finishPromise_reject=mo});const cr=nr._flushAlgorithm();return uu(nr),v(cr,()=>(sn._state==="errored"?We(nr,sn._storedError):(Qe(sn._readableStreamController),Ie(nr)),null),fn=>(qt(sn._readableStreamController,fn),We(nr,fn),null)),nr._finishPromise}(_t)}function vn(){return function(Ir){return dd(Ir,!1),Ir._backpressureChangePromise}(_t)}function Nr(Ir){return function(nr,sn){const cr=nr._transformStreamController;if(cr._finishPromise!==void 0)return cr._finishPromise;const fn=nr._writable;cr._finishPromise=h((wi,cS)=>{cr._finishPromise_resolve=wi,cr._finishPromise_reject=cS});const mo=cr._cancelAlgorithm(sn);return uu(cr),v(mo,()=>(fn._state==="errored"?We(cr,fn._storedError):(nu(fn._writableStreamController,sn),Pc(nr),Ie(cr)),null),wi=>(nu(fn._writableStreamController,wi),Pc(nr),We(cr,wi),null)),cr._finishPromise}(_t,Ir)}_t._writable=function(Ir,nr,sn,cr,fn=1,mo=()=>1){const wi=Object.create(Ss.prototype);return $s(wi),op(wi,Object.create(eu.prototype),Ir,nr,sn,cr,fn,mo),wi}(an,xr,rr,Ni,Er,Rr),_t._readable=Ri(an,vn,Nr,Dn,Hr),_t._backpressure=void 0,_t._backpressureChangePromise=void 0,_t._backpressureChangePromise_resolve=void 0,dd(_t,!0),_t._transformStreamController=void 0})(this,h(_t=>{Ft=_t}),pt,gt,Ge,Xe),function(_t,Ut){const Er=Object.create(Fo.prototype);let Rr,Dn,Hr;Rr=Ut.transform!==void 0?an=>Ut.transform(an,Er):an=>{try{return hv(Er,an),g(void 0)}catch(xr){return m(xr)}},Dn=Ut.flush!==void 0?()=>Ut.flush(Er):()=>g(void 0),Hr=Ut.cancel!==void 0?an=>Ut.cancel(an):()=>g(void 0),function(an,xr,Ni,rr,vn){xr._controlledTransformStream=an,an._transformStreamController=xr,xr._transformAlgorithm=Ni,xr._flushAlgorithm=rr,xr._cancelAlgorithm=vn,xr._finishPromise=void 0,xr._finishPromise_resolve=void 0,xr._finishPromise_reject=void 0}(_t,Er,Rr,Dn,Hr)}(this,Ye),Ye.start!==void 0?Ft(Ye.start(this._transformStreamController)):Ft(void 0)}get readable(){if(!au(this))throw Ze("readable");return this._readable}get writable(){if(!au(this))throw Ze("writable");return this._writable}}function au(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_transformStreamController")&&z instanceof xc}function Oc(z,ee){qt(z._readable._readableStreamController,ee),su(z,ee)}function su(z,ee){uu(z._transformStreamController),nu(z._writable._writableStreamController,ee),Pc(z)}function Pc(z){z._backpressure&&dd(z,!1)}function dd(z,ee){z._backpressureChangePromise!==void 0&&z._backpressureChangePromise_resolve(),z._backpressureChangePromise=h(ge=>{z._backpressureChangePromise_resolve=ge}),z._backpressure=ee}Object.defineProperties(xc.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(xc.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Fo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!lu(this))throw Rc("desiredSize");return gr(this._controlledTransformStream._readable._readableStreamController)}enqueue(ee=void 0){if(!lu(this))throw Rc("enqueue");hv(this,ee)}error(ee=void 0){if(!lu(this))throw Rc("error");var ge;ge=ee,Oc(this._controlledTransformStream,ge)}terminate(){if(!lu(this))throw Rc("terminate");(function(ee){const ge=ee._controlledTransformStream;Qe(ge._readable._readableStreamController);const $e=new TypeError("TransformStream terminated");su(ge,$e)})(this)}}function lu(z){return!!i(z)&&!!Object.prototype.hasOwnProperty.call(z,"_controlledTransformStream")&&z instanceof Fo}function uu(z){z._transformAlgorithm=void 0,z._flushAlgorithm=void 0,z._cancelAlgorithm=void 0}function hv(z,ee){const ge=z._controlledTransformStream,$e=ge._readable._readableStreamController;if(!Yt($e))throw new TypeError("Readable side is not in a state that permits enqueue");try{bt($e,ee)}catch(Ve){throw su(ge,Ve),ge._readable._storedError}(function(Ve){return!it(Ve)})($e)!==ge._backpressure&&dd(ge,!0)}function hd(z,ee){return y(z._transformAlgorithm(ee),void 0,ge=>{throw Oc(z._controlledTransformStream,ge),ge})}function Rc(z){return new TypeError(`TransformStreamDefaultController.prototype.${z} can only be used on a TransformStreamDefaultController`)}function Ie(z){z._finishPromise_resolve!==void 0&&(z._finishPromise_resolve(),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function We(z,ee){z._finishPromise_reject!==void 0&&(E(z._finishPromise),z._finishPromise_reject(ee),z._finishPromise_resolve=void 0,z._finishPromise_reject=void 0)}function Ze(z){return new TypeError(`TransformStream.prototype.${z} can only be used on a TransformStream`)}Object.defineProperties(Fo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),a(Fo.prototype.enqueue,"enqueue"),a(Fo.prototype.error,"error"),a(Fo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=fd,r.CountQueuingStrategy=Ha,r.ReadableByteStreamController=Ee,r.ReadableStream=Kn,r.ReadableStreamBYOBReader=kr,r.ReadableStreamBYOBRequest=Jt,r.ReadableStreamDefaultController=Fe,r.ReadableStreamDefaultReader=de,r.TransformStream=xc,r.TransformStreamDefaultController=Fo,r.WritableStream=Ss,r.WritableStreamDefaultController=eu,r.WritableStreamDefaultWriter=qa})}}),ON=Pe({"../core/dist/protocol-helpers.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Fa(),Or(ta)),r=xN(),n=jo(),{debug:i,warn:o}=(0,n.createLoggers)("core","protocol-helpers");function a(c){return class extends c{set nodeStream(h){this._nodeStream=h}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(h){this._wotStream=h}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var s=a(t.Readable),l=a(r.ReadableStream);function u(c){return c instanceof l||c instanceof s}var f=class{static updatePropertyFormWithTemplate(c,h){for(const g of h.forms??[])if(g.href,g.contentType!=null){c.contentType=g.contentType;return}}static updateActionFormWithTemplate(c,h){for(const g of h.forms??[])if(g.href,g.contentType!=null){c.contentType=g.contentType;return}}static updateEventFormWithTemplate(c,h){for(const g of h.forms??[])if(g.href,g.contentType!=null){c.contentType=g.contentType;return}}static getPropertyContentType(c,h,g){var m;if(h!=null&&g!=null&&(c==null?void 0:c.properties)!=null&&c.properties[h]!=null&&c.properties[h].forms!=null&&Array.isArray(c.properties[h].forms)){for(const _ of c.properties[h].forms)if((m=_.href)!=null&&m.startsWith(g)&&_.contentType!=null)return _.contentType}}static getActionContentType(c,h,g){var m;if(h!=null&&g!=null&&(c!=null&&c.actions)&&c.actions!=null&&Array.isArray((m=c.actions[h])==null?void 0:m.forms)){for(const _ of c.actions[h].forms)if(_.href&&_.href.startsWith(g)&&_.contentType!=null)return _.contentType}}static getEventContentType(c,h,g){var m;if(h!=null&&g!=null&&(c!=null&&c.events)&&((m=c==null?void 0:c.events[h])==null?void 0:m.forms)!=null&&Array.isArray(c.events[h].forms)){for(const _ of c.events[h].forms)if(_.href&&_.href.startsWith(g)&&_.contentType!=null)return _.contentType}}static toWoTStream(c){if(u(c))return c.wotStream;const h=new l({start:g=>{c.on("data",m=>g.enqueue(m)),c.on("error",m=>g.error(m)),c.on("end",()=>g.close())},cancel:g=>{c instanceof t.Readable&&c.destroy(g)}});return c instanceof t.Readable?h.nodeStream=c:h.nodeStream=new t.Readable(c),h}static toNodeStream(c){if(u(c))return c.nodeStream;if(c instanceof t.Readable)return c;const h=c.getReader(),g=new s({read:m=>{h.read().then(_=>{g.push(_.value),_.done&&g.push(null)})},destroy:(m,_)=>{h.releaseLock(),c.cancel(m).then(()=>_(m))}});return g.wotStream=c,g.nodeStream=g,g}static readStreamFully(c){return new Promise((h,g)=>{if(c!=null){const m=[];c.on("data",_=>m.push(_)),c.on("error",g),c.on("end",()=>{m[0]!=null&&(m[0]instanceof Array||m[0]instanceof Yr||m[0]instanceof Uint8Array)?h(Yr.concat(m)):m[0]!=null&&typeof m[0]=="string"?h(Yr.from(m.join())):h(Yr.from(m))})}else i("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),h(Yr.alloc(0))})}static findRequestMatchingFormIndex(c,h,g,m){if(c===void 0)return 0;let _=c.filter(v=>{const p=new URL(v.href.replace(/(\{[\S]*\})/,"")),S=g!==void 0?g.indexOf("?")!==-1?g.split("?")[0]:g:void 0;return p.protocol===h+":"&&(S===void 0||p.pathname===S)});if(m!=null){const v=_.filter(p=>p.contentType===m);v.length>0&&(_=v)}return _.length>0?c.indexOf(_[0]):0}static getFormIndexForOperation(c,h,g,m){var p;let _=-1,v=[];switch(h){case"property":if(c.readOnly===!0&&g==="writeproperty"||c.writeOnly===!0&&g==="readproperty")return _;c.readOnly!==!0&&v.push("writeproperty"),c.writeOnly!==!0&&v.push("readproperty");break;case"action":v=["invokeaction"];break;case"event":v=["subscribeevent","unsubscribeevent"];break}if(v.indexOf(g)!==-1&&(g=void 0),c.forms!==void 0&&m!==void 0&&c.forms.length>m){const S=c.forms[m];S!=null&&(g==null||((p=S.op)==null?void 0:p.includes(g))===!0)&&(_=m)}return c.forms!==void 0&&_===-1&&(g!==void 0?c.forms.every(S=>{var y;return((y=S.op)==null?void 0:y.includes(g))===!0&&(_=c.forms.indexOf(S)),_===-1}):c.forms.every(S=>(_=c.forms.indexOf(S),!1))),_}static getPropertyOpValues(c){const h=[];return c.readOnly!==!0&&h.push("writeproperty"),c.writeOnly!==!0&&h.push("readproperty"),h.length===0&&o("Property was declared both as readOnly and writeOnly."),c.observable===!0&&(h.push("observeproperty"),h.push("unobserveproperty")),h}};e.default=f}}),Vq=Pe({"../core/dist/content.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultContent=e.Content=void 0;var r=ll(),n=t(ON()),i=class{constructor(a,s){this.type=a,this.body=s}toBuffer(){return n.default.readStreamFully(this.body)}};e.Content=i;var o=class extends i{constructor(a){super(r.ContentSerdes.DEFAULT,a)}};e.DefaultContent=o}}),Kh=Pe({"../../node_modules/nofilter/lib/index.js"(e,t){Te();var r=(Fa(),Or(ta)),{Buffer:n}=(fc(),Or(cc)),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),o=class Ow extends r.Transform{constructor(s,l,u={}){let f=null,c=null;switch(typeof s){case"object":n.isBuffer(s)?f=s:s&&(u=s);break;case"string":f=s;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof l){case"object":l&&(u=l);break;case"string":c=l;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!u||typeof u!="object")throw new TypeError("Invalid options");f==null&&(f=u.input),c==null&&(c=u.inputEncoding),delete u.input,delete u.inputEncoding;const h=u.watchPipe==null?!0:u.watchPipe;delete u.watchPipe;const g=!!u.readError;delete u.readError,super(u),this.readError=g,h&&this.on("pipe",m=>{const _=m._readableState.objectMode;if(this.length>0&&_!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=_,this._writableState.objectMode=_}),f!=null&&this.end(f,c)}static isNoFilter(s){return s instanceof this}static compare(s,l){if(!(s instanceof this))throw new TypeError("Arguments must be NoFilters");return s===l?0:s.compare(l)}static concat(s,l){if(!Array.isArray(s))throw new TypeError("list argument must be an Array of NoFilters");if(s.length===0||l===0)return n.alloc(0);l==null&&(l=s.reduce((h,g)=>{if(!(g instanceof Ow))throw new TypeError("list argument must be an Array of NoFilters");return h+g.length},0));let u=!0,f=!0;const c=s.map(h=>{if(!(h instanceof Ow))throw new TypeError("list argument must be an Array of NoFilters");const g=h.slice();return n.isBuffer(g)?f=!1:u=!1,g});if(u)return n.concat(c,l);if(f)return[].concat(...c).slice(0,l);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(s,l,u){!this._readableState.objectMode&&!n.isBuffer(s)&&(s=n.from(s,l)),this.push(s),u()}_bufArray(){let s=this._readableState.buffer;if(!Array.isArray(s)){let l=s.head;for(s=[];l!=null;)s.push(l.data),l=l.next}return s}read(s){const l=super.read(s);if(l!=null){if(this.emit("read",l),this.readError&&l.length<s)throw new Error(`Read ${l.length}, wanted ${s}`)}else if(this.readError)throw new Error(`No data available, wanted ${s}`);return l}readFull(s){let l=null,u=null,f=null;return new Promise((c,h)=>{if(this.length>=s){c(this.read(s));return}if(this.writableFinished){h(new Error(`Stream finished before ${s} bytes were available`));return}l=g=>{this.length>=s&&c(this.read(s))},u=()=>{h(new Error(`Stream finished before ${s} bytes were available`))},f=h,this.on("readable",l),this.on("error",f),this.on("finish",u)}).finally(()=>{l&&(this.removeListener("readable",l),this.removeListener("error",f),this.removeListener("finish",u))})}promise(s){let l=!1;return new Promise((u,f)=>{this.on("finish",()=>{const c=this.read();s!=null&&!l&&(l=!0,s(null,c)),u(c)}),this.on("error",c=>{s!=null&&!l&&(l=!0,s(c)),f(c)})})}compare(s){if(!(s instanceof Ow))throw new TypeError("Arguments must be NoFilters");if(this===s)return 0;const l=this.slice(),u=s.slice();if(n.isBuffer(l)&&n.isBuffer(u))return l.compare(u);throw new Error("Cannot compare streams in object mode")}equals(s){return this.compare(s)===0}slice(s,l){if(this._readableState.objectMode)return this._bufArray().slice(s,l);const u=this._bufArray();switch(u.length){case 0:return n.alloc(0);case 1:return u[0].slice(s,l);default:return n.concat(u).slice(s,l)}}get(s){return this.slice()[s]}toJSON(){const s=this.slice();return n.isBuffer(s)?s.toJSON():s}toString(s,l,u){const f=this.slice(l,u);return n.isBuffer(f)?!s||s==="utf8"?i.decode(f):f.toString(s):JSON.stringify(f)}[Symbol.for("nodejs.util.inspect.custom")](s,l){const f=this._bufArray().map(c=>n.isBuffer(c)?l.stylize(c.toString("hex"),"string"):JSON.stringify(c)).join(", ");return`${this.constructor.name} [${f}]`}get length(){return this._readableState.length}writeBigInt(s){let l=s.toString(16);if(s<0){const u=BigInt(Math.floor(l.length/2));s=(BigInt(1)<<u*BigInt(8))+s,l=s.toString(16)}return l.length%2&&(l=`0${l}`),this.push(n.from(l,"hex"))}readUBigInt(s){const l=this.read(s);return n.isBuffer(l)?BigInt(`0x${l.toString("hex")}`):null}readBigInt(s){const l=this.read(s);if(!n.isBuffer(l))return null;let u=BigInt(`0x${l.toString("hex")}`);if(l[0]&128){const f=BigInt(1)<<BigInt(l.length)*BigInt(8);u-=f}return u}writeUInt8(s){const l=n.from([s]);return this.push(l)}writeUInt16LE(s){const l=n.alloc(2);return l.writeUInt16LE(s),this.push(l)}writeUInt16BE(s){const l=n.alloc(2);return l.writeUInt16BE(s),this.push(l)}writeUInt32LE(s){const l=n.alloc(4);return l.writeUInt32LE(s),this.push(l)}writeUInt32BE(s){const l=n.alloc(4);return l.writeUInt32BE(s),this.push(l)}writeInt8(s){const l=n.from([s]);return this.push(l)}writeInt16LE(s){const l=n.alloc(2);return l.writeUInt16LE(s),this.push(l)}writeInt16BE(s){const l=n.alloc(2);return l.writeUInt16BE(s),this.push(l)}writeInt32LE(s){const l=n.alloc(4);return l.writeUInt32LE(s),this.push(l)}writeInt32BE(s){const l=n.alloc(4);return l.writeUInt32BE(s),this.push(l)}writeFloatLE(s){const l=n.alloc(4);return l.writeFloatLE(s),this.push(l)}writeFloatBE(s){const l=n.alloc(4);return l.writeFloatBE(s),this.push(l)}writeDoubleLE(s){const l=n.alloc(8);return l.writeDoubleLE(s),this.push(l)}writeDoubleBE(s){const l=n.alloc(8);return l.writeDoubleBE(s),this.push(l)}writeBigInt64LE(s){const l=n.alloc(8);return l.writeBigInt64LE(s),this.push(l)}writeBigInt64BE(s){const l=n.alloc(8);return l.writeBigInt64BE(s),this.push(l)}writeBigUInt64LE(s){const l=n.alloc(8);return l.writeBigUInt64LE(s),this.push(l)}writeBigUInt64BE(s){const l=n.alloc(8);return l.writeBigUInt64BE(s),this.push(l)}readUInt8(){const s=this.read(1);return n.isBuffer(s)?s.readUInt8():null}readUInt16LE(){const s=this.read(2);return n.isBuffer(s)?s.readUInt16LE():null}readUInt16BE(){const s=this.read(2);return n.isBuffer(s)?s.readUInt16BE():null}readUInt32LE(){const s=this.read(4);return n.isBuffer(s)?s.readUInt32LE():null}readUInt32BE(){const s=this.read(4);return n.isBuffer(s)?s.readUInt32BE():null}readInt8(){const s=this.read(1);return n.isBuffer(s)?s.readInt8():null}readInt16LE(){const s=this.read(2);return n.isBuffer(s)?s.readInt16LE():null}readInt16BE(){const s=this.read(2);return n.isBuffer(s)?s.readInt16BE():null}readInt32LE(){const s=this.read(4);return n.isBuffer(s)?s.readInt32LE():null}readInt32BE(){const s=this.read(4);return n.isBuffer(s)?s.readInt32BE():null}readFloatLE(){const s=this.read(4);return n.isBuffer(s)?s.readFloatLE():null}readFloatBE(){const s=this.read(4);return n.isBuffer(s)?s.readFloatBE():null}readDoubleLE(){const s=this.read(8);return n.isBuffer(s)?s.readDoubleLE():null}readDoubleBE(){const s=this.read(8);return n.isBuffer(s)?s.readDoubleBE():null}readBigInt64LE(){const s=this.read(8);return n.isBuffer(s)?s.readBigInt64LE():null}readBigInt64BE(){const s=this.read(8);return n.isBuffer(s)?s.readBigInt64BE():null}readBigUInt64LE(){const s=this.read(8);return n.isBuffer(s)?s.readBigUInt64LE():null}readBigUInt64BE(){const s=this.read(8);return n.isBuffer(s)?s.readBigUInt64BE():null}};t.exports=o}}),mc=Pe({"../../node_modules/cbor/lib/constants.js"(e){Te(),e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}}}),Dg=Pe({"../../node_modules/cbor/lib/utils.js"(e){Te();var{Buffer:t}=(fc(),Or(cc)),r=Kh(),n=(Fa(),Or(ta)),i=mc(),{NUMBYTES:o,SHIFT32:a,BI:s,SYMS:l}=i,u=2097151,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=g=>f.decode(g),e.utf8.checksUTF8=!0;function c(g){return g instanceof n.Readable?!0:["read","on","pipe"].every(m=>typeof g[m]=="function")}e.isBufferish=function(m){return m&&typeof m=="object"&&(t.isBuffer(m)||m instanceof Uint8Array||m instanceof Uint8ClampedArray||m instanceof ArrayBuffer||m instanceof DataView)},e.bufferishToBuffer=function(m){return t.isBuffer(m)?m:ArrayBuffer.isView(m)?t.from(m.buffer,m.byteOffset,m.byteLength):m instanceof ArrayBuffer?t.from(m):null},e.parseCBORint=function(m,_){switch(m){case o.ONE:return _.readUInt8(0);case o.TWO:return _.readUInt16BE(0);case o.FOUR:return _.readUInt32BE(0);case o.EIGHT:{const v=_.readUInt32BE(0),p=_.readUInt32BE(4);return v>u?BigInt(v)*s.SHIFT32+BigInt(p):v*a+p}default:throw new Error(`Invalid additional info for int: ${m}`)}},e.writeHalf=function(m,_){const v=t.allocUnsafe(4);v.writeFloatBE(_,0);const p=v.readUInt32BE(0);if(p&8191)return!1;let S=p>>16&32768;const y=p>>23&255,E=p&8388607;if(y>=113&&y<=142)S+=(y-112<<10)+(E>>13);else if(y>=103&&y<113){if(E&(1<<126-y)-1)return!1;S+=E+8388608>>126-y}else return!1;return m.writeUInt16BE(S),!0},e.parseHalf=function(m){const _=m[0]&128?-1:1,v=(m[0]&124)>>2,p=(m[0]&3)<<8|m[1];if(v){if(v===31)return _*(p?NaN:1/0)}else return _*5960464477539063e-23*p;return _*2**(v-25)*(1024+p)},e.parseCBORfloat=function(m){switch(m.length){case 2:return e.parseHalf(m);case 4:return m.readFloatBE(0);case 8:return m.readDoubleBE(0);default:throw new Error(`Invalid float size: ${m.length}`)}},e.hex=function(m){return t.from(m.replace(/^0x/,""),"hex")},e.bin=function(m){m=m.replace(/\s/g,"");let _=0,v=m.length%8||8;const p=[];for(;v<=m.length;)p.push(parseInt(m.slice(_,v),2)),_=v,v+=8;return t.from(p)},e.arrayEqual=function(m,_){return m==null&&_==null?!0:m==null||_==null?!1:m.length===_.length&&m.every((v,p)=>v===_[p])},e.bufferToBigInt=function(m){return BigInt(`0x${m.toString("hex")}`)},e.cborValueToString=function(m,_=-1){switch(typeof m){case"symbol":{switch(m){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(m.description)return m.description;const p=m.toString().match(/^Symbol\((?<name>.*)\)/);return p&&p.groups.name?p.groups.name:"Symbol"}case"string":return JSON.stringify(m);case"bigint":return m.toString();case"number":{const v=Object.is(m,-0)?"-0":String(m);return _>0?`${v}_${_}`:v}case"object":{const v=e.bufferishToBuffer(m);if(v){const p=v.toString("hex");return _===-1/0?p:`h'${p}'`}return typeof m[Symbol.for("nodejs.util.inspect.custom")]=="function"?m[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(m)?"[]":"{}"}}return String(m)},e.guessEncoding=function(m,_){if(typeof m=="string")return new r(m,_??"hex");const v=e.bufferishToBuffer(m);if(v)return new r(v);if(c(m))return m;throw new Error("Unknown input type")};var h={"=":"","+":"-","/":"_"};e.base64url=function(m){return e.bufferishToBuffer(m).toString("base64").replace(/[=+/]/g,_=>h[_])},e.base64=function(m){return e.bufferishToBuffer(m).toString("base64")},e.isBigEndian=function(){const m=new Uint8Array(4),_=new Uint32Array(m.buffer);return!((_[0]=1)&m[0])}}}),Nre=Pe({"../../node_modules/cbor/vendor/binary-parse-stream/index.js"(e,t){Te();var r=(Fa(),Or(ta)),n=Kh(),i=class extends r.Transform{constructor(o){super(o),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new n,this.__restart()}_transform(o,a,s){for(this.bs.write(o);this.bs.length>=this.__needed;){let l=null;const u=this.__needed===null?void 0:this.bs.read(this.__needed);try{l=this.__parser.next(u)}catch(f){return s(f)}this.__needed&&(this.__fresh=!1),l.done?(this.push(l.value),this.__restart()):this.__needed=l.value||1/0}return s()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(o){o(this.__fresh?null:new Error("unexpected end of input"))}};t.exports=i}}),Hq=Pe({"../../node_modules/cbor/lib/tagged.js"(e,t){Te();var r=mc(),n=Dg(),i=Symbol("INTERNAL_JSON");function o(_,v){if(n.isBufferish(_))_.toJSON=v;else if(Array.isArray(_))for(const p of _)o(p,v);else if(_&&typeof _=="object"&&(!(_ instanceof m)||_.tag<21||_.tag>23))for(const p of Object.values(_))o(p,v)}function a(){return n.base64(this)}function s(){return n.base64url(this)}function l(){return this.toString("hex")}function u(_,v,p,S){const y=new DataView(_),[E,$]={2:[y.getUint16,y.setUint16],4:[y.getUint32,y.setUint32],8:[y.getBigUint64,y.setBigUint64]}[v],T=p+S;for(let d=p;d<T;d+=v)$.call(y,d,E.call(y,d,!0))}var f={0:_=>new Date(_),1:_=>new Date(_*1e3),2:_=>n.bufferToBigInt(_),3:_=>r.BI.MINUS_ONE-n.bufferToBigInt(_),21:(_,v)=>(n.isBufferish(_)?v[i]=s:o(_,s),v),22:(_,v)=>(n.isBufferish(_)?v[i]=a:o(_,a),v),23:(_,v)=>(n.isBufferish(_)?v[i]=l:o(_,l),v),32:_=>new URL(_),33:(_,v)=>{if(!_.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const p=_.length%4;if(p===1)throw new Error("Invalid base64url length");if(p===2){if("AQgw".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding")}else if(p===3&&"AEIMQUYcgkosw048".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding");return v},34:(_,v)=>{const p=_.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!p)throw new Error("Invalid base64 characters");if(_.length%4!==0)throw new Error("Invalid base64 length");if(p.groups.padding==="="){if("AQgw".indexOf(_[_.length-2])===-1)throw new Error("Invalid base64 padding")}else if(p.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(_[_.length-3])===-1)throw new Error("Invalid base64 padding");return v},35:_=>new RegExp(_),258:_=>new Set(_)},c={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(c[67]=BigUint64Array,c[71]=BigUint64Array),typeof BigInt64Array<"u"&&(c[75]=BigInt64Array,c[79]=BigInt64Array);function h(_,v){if(!n.isBufferish(_))throw new TypeError("val not a buffer");const{tag:p}=v,S=c[p];if(!S)throw new Error(`Invalid typed array tag: ${p}`);const y=p&4,$=2**(((p&16)>>4)+(p&3));!y!==n.isBigEndian()&&$>1&&u(_.buffer,$,_.byteOffset,_.byteLength);const T=_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength);return new S(T)}for(const _ of Object.keys(c))f[_]=h;var g={},m=class yO{constructor(v,p,S){if(this.tag=v,this.value=p,this.err=S,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const v={tag:this.tag,value:this.value};return this.err&&(v.err=this.err),v}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(v){return v._pushTag(this.tag),v.pushAny(this.value)}convert(v){let p=v==null?void 0:v[this.tag];if(typeof p!="function"&&(p=yO.TAGS[this.tag],typeof p!="function"))return this;try{return p.call(this,this.value,this)}catch(S){return S&&S.message&&S.message.length>0?this.err=S.message:this.err=S,this}}static get TAGS(){return g}static set TAGS(v){g=v}static reset(){yO.TAGS={...f}}};m.INTERNAL_JSON=i,m.reset(),t.exports=m}}),Wq=Pe({"../../node_modules/cbor/lib/simple.js"(e,t){Te();var{MT:r,SIMPLE:n,SYMS:i}=mc(),o=class wO{constructor(s){if(typeof s!="number")throw new Error(`Invalid Simple type: ${typeof s}`);if(s<0||s>255||(s|0)!==s)throw new Error(`value must be a small positive integer: ${s}`);this.value=s}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](s,l){return`simple(${this.value})`}encodeCBOR(s){return s._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(s){return s instanceof wO}static decode(s,l=!0,u=!1){switch(s){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return l?null:i.NULL;case n.UNDEFINED:return l?void 0:i.UNDEFINED;case-1:if(!l||!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new wO(s)}}};t.exports=o}}),hE=Pe({"../../node_modules/cbor/lib/decoder.js"(e,t){Te();var r=Nre(),n=Hq(),i=Wq(),o=Dg(),a=Kh();Fa(),Or(ta);var s=mc(),{MT:l,NUMBYTES:u,SYMS:f,BI:c}=s,{Buffer:h}=(fc(),Or(cc)),g=Symbol("count"),m=Symbol("major type"),_=Symbol("error"),v=Symbol("not found");function p(T,d,A){const x=[];return x[g]=A,x[f.PARENT]=T,x[m]=d,x}function S(T,d){const A=new a;return A[g]=-1,A[f.PARENT]=T,A[m]=d,A}var y=class extends Error{constructor(T,d){super(`Unexpected data: 0x${T.toString(16)}`),this.name="UnexpectedDataError",this.byte=T,this.value=d}};function E(T,d){switch(typeof T){case"function":return{options:{},cb:T};case"string":return{options:{encoding:T},cb:d};case"object":return{options:T||{},cb:d};default:throw new TypeError("Unknown option type")}}var $=class Ds extends r{constructor(d={}){const{tags:A={},max_depth:x=-1,preferWeb:O=!1,required:C=!1,encoding:F="hex",extendedResults:V=!1,preventDuplicateKeys:Q=!1,...H}=d;super({defaultEncoding:F,...H}),this.running=!0,this.max_depth=x,this.tags=A,this.preferWeb=O,this.extendedResults=V,this.required=C,this.preventDuplicateKeys=Q,V&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new a)}static nullcheck(d){switch(d){case f.NULL:return null;case f.UNDEFINED:return;case v:throw new Error("Value not found");default:return d}}static decodeFirstSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=E(A));const{encoding:x="hex",...O}=A,C=new Ds(O),F=o.guessEncoding(d,x),V=C._parse();let Q=V.next();for(;!Q.done;){const X=F.read(Q.value);if(X==null||X.length!==Q.value)throw new Error("Insufficient data");C.extendedResults&&C.valueBytes.write(X),Q=V.next(X)}let H=null;if(C.extendedResults)H=Q.value,H.unused=F.read();else if(H=Ds.nullcheck(Q.value),F.length>0){const X=F.read(1);throw F.unshift(X),new y(X[0],H)}return H}static decodeAllSync(d,A={}){if(d==null)throw new TypeError("input required");({options:A}=E(A));const{encoding:x="hex",...O}=A,C=new Ds(O),F=o.guessEncoding(d,x),V=[];for(;F.length>0;){const Q=C._parse();let H=Q.next();for(;!H.done;){const X=F.read(H.value);if(X==null||X.length!==H.value)throw new Error("Insufficient data");C.extendedResults&&C.valueBytes.write(X),H=Q.next(X)}V.push(Ds.nullcheck(H.value))}return V}static decodeFirst(d,A={},x=null){if(d==null)throw new TypeError("input required");({options:A,cb:x}=E(A,x));const{encoding:O="hex",required:C=!1,...F}=A,V=new Ds(F);let Q=v;const H=o.guessEncoding(d,O),X=new Promise((ce,Z)=>{V.on("data",ie=>{Q=Ds.nullcheck(ie),V.close()}),V.once("error",ie=>V.extendedResults&&ie instanceof y?(Q.unused=V.bs.slice(),ce(Q)):(Q!==v&&(ie.value=Q),Q=_,V.close(),Z(ie))),V.once("end",()=>{switch(Q){case v:return C?Z(new Error("No CBOR found")):ce(Q);case _:return;default:return ce(Q)}})});return typeof x=="function"&&X.then(ce=>x(null,ce),x),H.pipe(V),X}static decodeAll(d,A={},x=null){if(d==null)throw new TypeError("input required");({options:A,cb:x}=E(A,x));const{encoding:O="hex",...C}=A,F=new Ds(C),V=[];F.on("data",H=>V.push(Ds.nullcheck(H)));const Q=new Promise((H,X)=>{F.on("error",X),F.on("end",()=>H(V))});return typeof x=="function"&&Q.then(H=>x(void 0,H),H=>x(H,void 0)),o.guessEncoding(d,O).pipe(F),Q}close(){this.running=!1,this.__fresh=!0}_onRead(d){this.valueBytes.write(d)}*_parse(){let d=null,A=0,x=null;for(;;){if(this.max_depth>=0&&A>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[O]=yield 1;if(!this.running)throw this.bs.unshift(h.from([O])),new y(O);const C=O>>5,F=O&31,V=d==null?void 0:d[m],Q=d==null?void 0:d.length;switch(F){case u.ONE:this.emit("more-bytes",C,1,V,Q),[x]=yield 1;break;case u.TWO:case u.FOUR:case u.EIGHT:{const X=1<<F-24;this.emit("more-bytes",C,X,V,Q);const ce=yield X;x=C===l.SIMPLE_FLOAT?ce:o.parseCBORint(F,ce);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${F}`);case u.INDEFINITE:switch(C){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error(`Invalid indefinite encoding for MT ${C}`)}x=-1;break;default:x=F}switch(C){case l.POS_INT:break;case l.NEG_INT:x===Number.MAX_SAFE_INTEGER?x=c.NEG_MAX:x=typeof x=="bigint"?c.MINUS_ONE-x:-1-x;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(x){case 0:this.emit("start-string",C,x,V,Q),C===l.UTF8_STRING?x="":x=this.preferWeb?new Uint8Array(0):h.allocUnsafe(0);break;case-1:this.emit("start",C,f.STREAM,V,Q),d=S(d,C),A++;continue;default:this.emit("start-string",C,x,V,Q),x=yield x,C===l.UTF8_STRING?x=o.utf8(x):this.preferWeb&&(x=new Uint8Array(x.buffer,x.byteOffset,x.length))}break;case l.ARRAY:case l.MAP:switch(x){case 0:x=C===l.MAP?{}:[];break;case-1:this.emit("start",C,f.STREAM,V,Q),d=p(d,C,-1),A++;continue;default:this.emit("start",C,x,V,Q),d=p(d,C,x*(C-3)),A++;continue}break;case l.TAG:this.emit("start",C,x,V,Q),d=p(d,C,1),d.push(x),A++;continue;case l.SIMPLE_FLOAT:if(typeof x=="number"){if(F===u.ONE&&x<32)throw new Error(`Invalid two-byte encoding of simple value ${x}`);const X=d!=null;x=i.decode(x,X,X&&d[g]<0)}else x=o.parseCBORfloat(x)}this.emit("value",x,V,Q,F);let H=!1;for(;d!=null;){if(x===f.BREAK)d[g]=1;else if(Array.isArray(d))d.push(x);else{const ce=d[m];if(ce!=null&&ce!==C)throw this.running=!1,new Error("Invalid major type in indefinite encoding");d.write(x)}if(--d[g]!==0){H=!0;break}if(--A,delete d[g],Array.isArray(d))switch(d[m]){case l.ARRAY:x=d;break;case l.MAP:{let ce=!0;if(d.length%2!==0)throw new Error(`Invalid map length: ${d.length}`);for(let Z=0,ie=d.length;Z<ie;Z+=2)if(typeof d[Z]!="string"||d[Z]==="__proto__"){ce=!1;break}if(ce){x={};for(let Z=0,ie=d.length;Z<ie;Z+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(x,d[Z]))throw new Error("Duplicate keys in a map");x[d[Z]]=d[Z+1]}}else{x=new Map;for(let Z=0,ie=d.length;Z<ie;Z+=2){if(this.preventDuplicateKeys&&x.has(d[Z]))throw new Error("Duplicate keys in a map");x.set(d[Z],d[Z+1])}}break}case l.TAG:{x=new n(d[0],d[1]).convert(this.tags);break}}else if(d instanceof a)switch(d[m]){case l.BYTE_STRING:x=d.slice(),this.preferWeb&&(x=new Uint8Array(x.buffer,x.byteOffset,x.length));break;case l.UTF8_STRING:x=d.toString("utf-8");break}this.emit("stop",d[m]);const X=d;d=d[f.PARENT],delete X[f.PARENT],delete X[m]}if(!H){if(this.extendedResults){const X=this.valueBytes.slice(),ce={value:Ds.nullcheck(x),bytes:X,length:X.length};return this.valueBytes=new a,ce}return x}}}};$.NOT_FOUND=v,t.exports=$}}),Ire=Pe({"../../node_modules/cbor/lib/commented.js"(e,t){Te();var r=(Fa(),Or(ta)),n=Dg(),i=hE(),o=Kh(),{MT:a,NUMBYTES:s,SYMS:l}=mc(),{Buffer:u}=(fc(),Or(cc));function f(g){return g>1?"s":""}function c(g,m){switch(typeof g){case"function":return{options:{},cb:g};case"string":return{options:{encoding:g},cb:m};case"number":return{options:{max_depth:g},cb:m};case"object":return{options:g||{},cb:m};default:throw new TypeError("Unknown option type")}}var h=class bO extends r.Transform{constructor(m={}){const{depth:_=1,max_depth:v=10,no_summary:p=!1,tags:S={},preferWeb:y,encoding:E,...$}=m;super({...$,readableObjectMode:!1,writableObjectMode:!1}),this.depth=_,this.max_depth=v,this.all=new o,S[24]||(S[24]=this._tag_24.bind(this)),this.parser=new i({tags:S,max_depth:v,preferWeb:y,encoding:E}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),p||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(m){const _=new bO({depth:this.depth+1,no_summary:!0});_.on("data",v=>this.push(v)),_.on("error",v=>this.emit("error",v)),_.end(m)}_transform(m,_,v){this.parser.write(m,_,v)}_flush(m){return this.parser._flush(m)}static comment(m,_={},v=null){if(m==null)throw new Error("input required");({options:_,cb:v}=c(_,v));const p=new o,{encoding:S="hex",...y}=_,E=new bO(y);let $=null;return typeof v=="function"?(E.on("end",()=>{v(null,p.toString("utf8"))}),E.on("error",v)):$=new Promise((T,d)=>{E.on("end",()=>{T(p.toString("utf8"))}),E.on("error",d)}),E.pipe(p),n.guessEncoding(m,S).pipe(E),$}_on_error(m){this.push("ERROR: "),this.push(m.toString()),this.push(`
`)}_on_read(m){this.all.write(m);const _=m.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(_);let v=(this.max_depth-this.depth)*2-_.length;v<1&&(v=1),this.push(new Array(v+1).join(" ")),this.push("-- ")}_on_more(m,_,v,p){let S="";switch(this.depth++,m){case a.POS_INT:S="Positive number,";break;case a.NEG_INT:S="Negative number,";break;case a.ARRAY:S="Array, length";break;case a.MAP:S="Map, count";break;case a.BYTE_STRING:S="Bytes, length";break;case a.UTF8_STRING:S="String, length";break;case a.SIMPLE_FLOAT:_===1?S="Simple value,":S="Float,";break}this.push(`${S} next ${_} byte${f(_)}
`)}_on_start_string(m,_,v,p){let S="";switch(this.depth++,m){case a.BYTE_STRING:S=`Bytes, length: ${_}`;break;case a.UTF8_STRING:S=`String, length: ${_.toString()}`;break}this.push(`${S}
`)}_on_start(m,_,v,p){switch(this.depth++,v){case a.ARRAY:this.push(`[${p}], `);break;case a.MAP:p%2?this.push(`{Val:${Math.floor(p/2)}}, `):this.push(`{Key:${Math.floor(p/2)}}, `);break}switch(m){case a.TAG:this.push(`Tag #${_}`),_===24&&this.push(" Encoded CBOR data item");break;case a.ARRAY:_===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${_} item${f(_)}`);break;case a.MAP:_===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${_} pair${f(_)}`);break;case a.BYTE_STRING:this.push("Bytes (streaming)");break;case a.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(m){this.depth--}_on_value(m,_,v,p){if(m!==l.BREAK)switch(_){case a.ARRAY:this.push(`[${v}], `);break;case a.MAP:v%2?this.push(`{Val:${Math.floor(v/2)}}, `):this.push(`{Key:${Math.floor(v/2)}}, `);break}const S=n.cborValueToString(m,-1/0);switch(typeof m=="string"||u.isBuffer(m)?(m.length>0&&(this.push(S),this.push(`
`)),this.depth--):(this.push(S),this.push(`
`)),p){case s.ONE:case s.TWO:case s.FOUR:case s.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};t.exports=h}}),jre=Pe({"../../node_modules/cbor/lib/diagnose.js"(e,t){Te();var r=(Fa(),Or(ta)),n=hE(),i=Dg(),o=Kh(),{MT:a,SYMS:s}=mc();function l(f,c){switch(typeof f){case"function":return{options:{},cb:f};case"string":return{options:{encoding:f},cb:c};case"object":return{options:f||{},cb:c};default:throw new TypeError("Unknown option type")}}var u=class Gq extends r.Transform{constructor(c={}){const{separator:h=`
`,stream_errors:g=!1,tags:m,max_depth:_,preferWeb:v,encoding:p,...S}=c;super({...S,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=h,this.stream_errors=g,this.parser=new n({tags:m,max_depth:_,preferWeb:v,encoding:p}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(c,h,g){return this.parser.write(c,h,g)}_flush(c){return this.parser._flush(h=>this.stream_errors?(h&&this._on_error(h),c()):c(h))}static diagnose(c,h={},g=null){if(c==null)throw new TypeError("input required");({options:h,cb:g}=l(h,g));const{encoding:m="hex",..._}=h,v=new o,p=new Gq(_);let S=null;return typeof g=="function"?(p.on("end",()=>g(null,v.toString("utf8"))),p.on("error",g)):S=new Promise((y,E)=>{p.on("end",()=>y(v.toString("utf8"))),p.on("error",E)}),p.pipe(v),i.guessEncoding(c,m).pipe(p),S}_on_error(c){this.stream_errors?this.push(c.toString()):this.emit("error",c)}_on_more(c,h,g,m){c===a.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[h])}_fore(c,h){switch(c){case a.BYTE_STRING:case a.UTF8_STRING:case a.ARRAY:h>0&&this.push(", ");break;case a.MAP:h>0&&(h%2?this.push(": "):this.push(", "))}}_on_value(c,h,g){if(c===s.BREAK)return;this._fore(h,g);const m=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(c,m))}_on_start(c,h,g,m){switch(this._fore(g,m),c){case a.TAG:this.push(`${h}(`);break;case a.ARRAY:this.push("[");break;case a.MAP:this.push("{");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push("(");break}h===s.STREAM&&this.push("_ ")}_on_stop(c){switch(c){case a.TAG:this.push(")");break;case a.ARRAY:this.push("]");break;case a.MAP:this.push("}");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};t.exports=u}}),Kq=Pe({"../../node_modules/cbor/lib/encoder.js"(e,t){Te();var r=(Fa(),Or(ta)),n=Kh(),i=Dg(),o=mc(),{MT:a,NUMBYTES:s,SHIFT32:l,SIMPLE:u,SYMS:f,TAG:c,BI:h}=o,{Buffer:g}=(fc(),Or(cc)),m=a.SIMPLE_FLOAT<<5|s.TWO,_=a.SIMPLE_FLOAT<<5|s.FOUR,v=a.SIMPLE_FLOAT<<5|s.EIGHT,p=a.SIMPLE_FLOAT<<5|u.TRUE,S=a.SIMPLE_FLOAT<<5|u.FALSE,y=a.SIMPLE_FLOAT<<5|u.UNDEFINED,E=a.SIMPLE_FLOAT<<5|u.NULL,$=g.from([255]),T=g.from("f97e00","hex"),d=g.from("f9fc00","hex"),A=g.from("f97c00","hex"),x=g.from("f98000","hex"),O={},C={};function F(Q){if(!Q)return"number";switch(Q.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${Q}"`)}var V=class Ei extends r.Transform{constructor(H={}){const{canonical:X=!1,encodeUndefined:ce,disallowUndefinedKeys:Z=!1,dateType:ie="number",collapseBigIntegers:k=!1,detectLoops:B=!1,omitUndefinedProperties:G=!1,genTypes:P=[],...N}=H;if(super({...N,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=X,this.encodeUndefined=ce,this.disallowUndefinedKeys=Z,this.dateType=F(ie),this.collapseBigIntegers=this.canonical?!0:k,this.detectLoops=void 0,typeof B=="boolean")B&&(this.detectLoops=new WeakSet);else if(B instanceof WeakSet)this.detectLoops=B;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=G,this.semanticTypes={...Ei.SEMANTIC_TYPES},Array.isArray(P))for(let q=0,oe=P.length;q<oe;q+=2)this.addSemanticType(P[q],P[q+1]);else for(const[q,oe]of Object.entries(P))this.addSemanticType(q,oe)}_transform(H,X,ce){const Z=this.pushAny(H);return ce(Z===!1?new Error("Push Error"):void 0)}_flush(H){return H()}_pushUInt8(H){const X=g.allocUnsafe(1);return X.writeUInt8(H,0),this.push(X)}_pushUInt16BE(H){const X=g.allocUnsafe(2);return X.writeUInt16BE(H,0),this.push(X)}_pushUInt32BE(H){const X=g.allocUnsafe(4);return X.writeUInt32BE(H,0),this.push(X)}_pushFloatBE(H){const X=g.allocUnsafe(4);return X.writeFloatBE(H,0),this.push(X)}_pushDoubleBE(H){const X=g.allocUnsafe(8);return X.writeDoubleBE(H,0),this.push(X)}_pushNaN(){return this.push(T)}_pushInfinity(H){const X=H<0?d:A;return this.push(X)}_pushFloat(H){if(this.canonical){const X=g.allocUnsafe(2);if(i.writeHalf(X,H))return this._pushUInt8(m)&&this.push(X)}return Math.fround(H)===H?this._pushUInt8(_)&&this._pushFloatBE(H):this._pushUInt8(v)&&this._pushDoubleBE(H)}_pushInt(H,X,ce){const Z=X<<5;if(H<24)return this._pushUInt8(Z|H);if(H<=255)return this._pushUInt8(Z|s.ONE)&&this._pushUInt8(H);if(H<=65535)return this._pushUInt8(Z|s.TWO)&&this._pushUInt16BE(H);if(H<=4294967295)return this._pushUInt8(Z|s.FOUR)&&this._pushUInt32BE(H);let ie=Number.MAX_SAFE_INTEGER;return X===a.NEG_INT&&ie--,H<=ie?this._pushUInt8(Z|s.EIGHT)&&this._pushUInt32BE(Math.floor(H/l))&&this._pushUInt32BE(H%l):X===a.NEG_INT?this._pushFloat(ce):this._pushFloat(H)}_pushIntNum(H){return Object.is(H,-0)?this.push(x):H<0?this._pushInt(-H-1,a.NEG_INT,H):this._pushInt(H,a.POS_INT)}_pushNumber(H){return isNaN(H)?this._pushNaN():isFinite(H)?Math.round(H)===H?this._pushIntNum(H):this._pushFloat(H):this._pushInfinity(H)}_pushString(H){const X=g.byteLength(H,"utf8");return this._pushInt(X,a.UTF8_STRING)&&this.push(H,"utf8")}_pushBoolean(H){return this._pushUInt8(H?p:S)}_pushUndefined(H){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(y);case"function":return this.pushAny(this.encodeUndefined(H));case"object":{const X=i.bufferishToBuffer(this.encodeUndefined);if(X)return this.push(X)}}return this.pushAny(this.encodeUndefined)}_pushNull(H){return this._pushUInt8(E)}_pushTag(H){return this._pushInt(H,a.TAG)}_pushJSBigint(H){let X=a.POS_INT,ce=c.POS_BIGINT;if(H<0&&(H=-H+h.MINUS_ONE,X=a.NEG_INT,ce=c.NEG_BIGINT),this.collapseBigIntegers&&H<=h.MAXINT64)return H<=4294967295?this._pushInt(Number(H),X):this._pushUInt8(X<<5|s.EIGHT)&&this._pushUInt32BE(Number(H/h.SHIFT32))&&this._pushUInt32BE(Number(H%h.SHIFT32));let Z=H.toString(16);Z.length%2&&(Z=`0${Z}`);const ie=g.from(Z,"hex");return this._pushTag(ce)&&Ei._pushBuffer(this,ie)}_pushObject(H,X){if(!H)return this._pushNull(H);if(X={indefinite:!1,skipTypes:!1,...X},!X.indefinite&&this.detectLoops){if(this.detectLoops.has(H))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(H)}if(!X.skipTypes){const k=H.encodeCBOR;if(typeof k=="function")return k.call(H,this);const B=this.semanticTypes[H.constructor.name];if(B)return B.call(H,this,H)}const ce=Object.keys(H).filter(k=>{const B=typeof H[k];return B!=="function"&&(!this.omitUndefinedProperties||B!=="undefined")}),Z={};if(this.canonical&&ce.sort((k,B)=>{const G=Z[k]||(Z[k]=Ei.encode(k)),P=Z[B]||(Z[B]=Ei.encode(B));return G.compare(P)}),X.indefinite){if(!this._pushUInt8(a.MAP<<5|s.INDEFINITE))return!1}else if(!this._pushInt(ce.length,a.MAP))return!1;let ie=null;for(let k=0,B=ce.length;k<B;k++){const G=ce[k];if(this.canonical&&(ie=Z[G])){if(!this.push(ie))return!1}else if(!this._pushString(G))return!1;if(!this.pushAny(H[G]))return!1}if(X.indefinite){if(!this.push($))return!1}else this.detectLoops&&this.detectLoops.delete(H);return!0}_encodeAll(H){const X=new n({highWaterMark:this.readableHighWaterMark});this.pipe(X);for(const ce of H)this.pushAny(ce);return this.end(),X.read()}addSemanticType(H,X){const ce=typeof H=="string"?H:H.name,Z=this.semanticTypes[ce];if(X){if(typeof X!="function")throw new TypeError("fun must be of type function");this.semanticTypes[ce]=X}else Z&&delete this.semanticTypes[ce];return Z}pushAny(H){switch(typeof H){case"number":return this._pushNumber(H);case"bigint":return this._pushJSBigint(H);case"string":return this._pushString(H);case"boolean":return this._pushBoolean(H);case"undefined":return this._pushUndefined(H);case"object":return this._pushObject(H);case"symbol":switch(H){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${H.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof H}, ${typeof H.toString=="function"?H.toString():""}`)}}static pushArray(H,X,ce){ce={indefinite:!1,...ce};const Z=X.length;if(ce.indefinite){if(!H._pushUInt8(a.ARRAY<<5|s.INDEFINITE))return!1}else if(!H._pushInt(Z,a.ARRAY))return!1;for(let ie=0;ie<Z;ie++)if(!H.pushAny(X[ie]))return!1;return!(ce.indefinite&&!H.push($))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(H,X){switch(H.dateType){case"string":return H._pushTag(c.DATE_STRING)&&H._pushString(X.toISOString());case"int":return H._pushTag(c.DATE_EPOCH)&&H._pushIntNum(Math.round(X.getTime()/1e3));case"float":return H._pushTag(c.DATE_EPOCH)&&H._pushFloat(X.getTime()/1e3);case"number":default:return H._pushTag(c.DATE_EPOCH)&&H.pushAny(X.getTime()/1e3)}}static _pushBuffer(H,X){return H._pushInt(X.length,a.BYTE_STRING)&&H.push(X)}static _pushNoFilter(H,X){return Ei._pushBuffer(H,X.slice())}static _pushRegexp(H,X){return H._pushTag(c.REGEXP)&&H.pushAny(X.source)}static _pushSet(H,X){if(!H._pushTag(c.SET)||!H._pushInt(X.size,a.ARRAY))return!1;for(const ce of X)if(!H.pushAny(ce))return!1;return!0}static _pushURL(H,X){return H._pushTag(c.URI)&&H.pushAny(X.toString())}static _pushBoxed(H,X){return H.pushAny(X.valueOf())}static _pushMap(H,X,ce){ce={indefinite:!1,...ce};let Z=[...X.entries()];if(H.omitUndefinedProperties&&(Z=Z.filter(([ie,k])=>k!==void 0)),ce.indefinite){if(!H._pushUInt8(a.MAP<<5|s.INDEFINITE))return!1}else if(!H._pushInt(Z.length,a.MAP))return!1;if(H.canonical){const ie=new Ei({genTypes:H.semanticTypes,canonical:H.canonical,detectLoops:!!H.detectLoops,dateType:H.dateType,disallowUndefinedKeys:H.disallowUndefinedKeys,collapseBigIntegers:H.collapseBigIntegers}),k=new n({highWaterMark:H.readableHighWaterMark});ie.pipe(k),Z.sort(([B],[G])=>{ie.pushAny(B);const P=k.read();ie.pushAny(G);const N=k.read();return P.compare(N)});for(const[B,G]of Z){if(H.disallowUndefinedKeys&&typeof B>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(B)&&H.pushAny(G)))return!1}}else for(const[ie,k]of Z){if(H.disallowUndefinedKeys&&typeof ie>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(ie)&&H.pushAny(k)))return!1}return!(ce.indefinite&&!H.push($))}static _pushTypedArray(H,X){let ce=64,Z=X.BYTES_PER_ELEMENT;const{name:ie}=X.constructor;return ie.startsWith("Float")?(ce|=16,Z/=2):ie.includes("U")||(ce|=8),(ie.includes("Clamped")||Z!==1&&!i.isBigEndian())&&(ce|=4),ce|={1:0,2:1,4:2,8:3}[Z],H._pushTag(ce)?Ei._pushBuffer(H,g.from(X.buffer,X.byteOffset,X.byteLength)):!1}static _pushArrayBuffer(H,X){return Ei._pushBuffer(H,g.from(X))}static encodeIndefinite(H,X,ce={}){if(X==null){if(this==null)throw new Error("No object to encode");X=this}const{chunkSize:Z=4096}=ce;let ie=!0;const k=typeof X;let B=null;if(k==="string"){ie=ie&&H._pushUInt8(a.UTF8_STRING<<5|s.INDEFINITE);let G=0;for(;G<X.length;){const P=G+Z;ie=ie&&H._pushString(X.slice(G,P)),G=P}ie=ie&&H.push($)}else if(B=i.bufferishToBuffer(X)){ie=ie&&H._pushUInt8(a.BYTE_STRING<<5|s.INDEFINITE);let G=0;for(;G<B.length;){const P=G+Z;ie=ie&&Ei._pushBuffer(H,B.slice(G,P)),G=P}ie=ie&&H.push($)}else if(Array.isArray(X))ie=ie&&Ei.pushArray(H,X,{indefinite:!0});else if(X instanceof Map)ie=ie&&Ei._pushMap(H,X,{indefinite:!0});else{if(k!=="object")throw new Error("Invalid indefinite encoding");ie=ie&&H._pushObject(X,{indefinite:!0,skipTypes:!0})}return ie}static encode(...H){return new Ei()._encodeAll(H)}static encodeCanonical(...H){return new Ei({canonical:!0})._encodeAll(H)}static encodeOne(H,X){return new Ei(X)._encodeAll([H])}static encodeAsync(H,X){return new Promise((ce,Z)=>{const ie=[],k=new Ei(X);k.on("data",B=>ie.push(B)),k.on("error",Z),k.on("finish",()=>ce(g.concat(ie))),k.pushAny(H),k.end()})}static get SEMANTIC_TYPES(){return C}static set SEMANTIC_TYPES(H){C=H}static reset(){Ei.SEMANTIC_TYPES={...O}}};Object.assign(O,{Array:V.pushArray,Date:V._pushDate,Buffer:V._pushBuffer,[g.name]:V._pushBuffer,Map:V._pushMap,NoFilter:V._pushNoFilter,[n.name]:V._pushNoFilter,RegExp:V._pushRegexp,Set:V._pushSet,ArrayBuffer:V._pushArrayBuffer,Uint8ClampedArray:V._pushTypedArray,Uint8Array:V._pushTypedArray,Uint16Array:V._pushTypedArray,Uint32Array:V._pushTypedArray,Int8Array:V._pushTypedArray,Int16Array:V._pushTypedArray,Int32Array:V._pushTypedArray,Float32Array:V._pushTypedArray,Float64Array:V._pushTypedArray,URL:V._pushURL,Boolean:V._pushBoxed,Number:V._pushBoxed,String:V._pushBoxed}),typeof BigUint64Array<"u"&&(O[BigUint64Array.name]=V._pushTypedArray),typeof BigInt64Array<"u"&&(O[BigInt64Array.name]=V._pushTypedArray),V.reset(),t.exports=V}}),Cre=Pe({"../../node_modules/cbor/lib/map.js"(e,t){Te();var{Buffer:r}=(fc(),Or(cc)),n=Kq(),i=hE(),{MT:o}=mc(),a=class Tu extends Map{constructor(l){super(l)}static _encode(l){return n.encodeCanonical(l).toString("base64")}static _decode(l){return i.decodeFirstSync(l,"base64")}get(l){return super.get(Tu._encode(l))}set(l,u){return super.set(Tu._encode(l),u)}delete(l){return super.delete(Tu._encode(l))}has(l){return super.has(Tu._encode(l))}*keys(){for(const l of super.keys())yield Tu._decode(l)}*entries(){for(const l of super.entries())yield[Tu._decode(l[0]),l[1]]}[Symbol.iterator](){return this.entries()}forEach(l,u){if(typeof l!="function")throw new TypeError("Must be function");for(const f of super.entries())l.call(this,f[1],Tu._decode(f[0]),this)}encodeCBOR(l){if(!l._pushInt(this.size,o.MAP))return!1;if(l.canonical){const u=Array.from(super.entries()).map(f=>[r.from(f[0],"base64"),f[1]]);u.sort((f,c)=>f[0].compare(c[0]));for(const f of u)if(!(l.push(f[0])&&l.pushAny(f[1])))return!1}else for(const u of super.entries())if(!(l.push(r.from(u[0],"base64"))&&l.pushAny(u[1])))return!1;return!0}};t.exports=a}}),kre=Pe({"../../node_modules/cbor/lib/cbor.js"(e){Te(),e.Commented=Ire(),e.Diagnose=jre(),e.Decoder=hE(),e.Encoder=Kq(),e.Simple=Wq(),e.Tagged=Hq(),e.Map=Cre(),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}}}),Jq=Pe({"../core/dist/codecs/cbor-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=jo(),r=kre(),{debug:n}=(0,t.createLoggers)("core","cbor-codec"),i=class{constructor(o){this.subMediaType=o??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(o,a,s){n(`CborCodec parsing '${o.toString()}'`);try{return(0,r.decode)(o)}catch(l){if(o.byteLength===0)return null;throw l}}valueToBytes(o,a,s){return n("CborCodec serializing",o),o===void 0?Yr.alloc(0):(0,r.encode)(o)}};e.default=i}}),Yq=Pe({"../core/dist/codecs/json-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ll(),r=jo(),{debug:n}=(0,r.createLoggers)("core","json-codec"),i=class{constructor(o){this.subMediaType=o??t.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(o,a,s){n(`JsonCodec parsing '${o.toString()}'`);let l;try{l=JSON.parse(o.toString())}catch(u){if(u instanceof SyntaxError)o.byteLength===0?l=void 0:l=o.toString();else throw u}return l}valueToBytes(o,a,s){n("JsonCodec serializing",o);let l="";return o!==void 0&&(l=JSON.stringify(o)),Yr.from(l)}};e.default=i}}),Xq=Pe({"../core/dist/codecs/text-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=jo(),{debug:r}=(0,t.createLoggers)("core","text-codec"),n=class{constructor(i){this.subMediaType=i??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(i,o,a){return r(`TextCodec parsing '${i.toString()}'`),i.toString(a==null?void 0:a.charset)}valueToBytes(i,o,a){r(`TextCodec serializing '${i}'`);let s="";i!==void 0&&(typeof i=="string"?s=i:s=JSON.stringify(i));let l;if(a&&a.charset)switch(a.charset){case"ascii":l="ascii";break;case"utf8":l="utf8";break;case"utf-8":l="utf-8";break;case"utf16le":l="utf16le";break;case"ucs2":l="ucs2";break;case"ucs-2":l="ucs-2";break;case"base64":l="base64";break;case"latin1":l="latin1";break;case"binary":l="binary";break;case"hex":l="hex";break}const u=Yr.alloc(s.length);return u.write(s,l),u}};e.default=n}}),Qq=Pe({"../core/dist/codecs/base64-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.subMediaType=r}getMediaType(){return this.subMediaType}bytesToValue(r,n,i){return r.toString("ascii")}valueToBytes(r,n,i){let o="";return r!==void 0&&(o=JSON.stringify(r)),Yr.from(o,"base64")}};e.default=t}}),pE=Pe({"../../node_modules/@petamoriken/float16/lib/_util/messages.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t="This is not an object";e.THIS_IS_NOT_AN_OBJECT=t;var r="This is not a Float16Array object";e.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=r;var n="This constructor is not a subclass of Float16Array";e.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=n;var i="The constructor property value is not an object";e.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=i;var o="Species constructor didn't return TypedArray object";e.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=o;var a="Derived constructor created TypedArray object which was too small length";e.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=a;var s="Attempting to access detached ArrayBuffer";e.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=s;var l="Cannot convert undefined or null to object";e.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=l;var u="Cannot mix BigInt and other types, use explicit conversions";e.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=u;var f="@@iterator property is not callable";e.ITERATOR_PROPERTY_IS_NOT_CALLABLE=f;var c="Reduce of empty array with no initial value";e.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=c;var h="The comparison function must be either a function or undefined";e.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED=h;var g="Offset is out of bounds";e.OFFSET_IS_OUT_OF_BOUNDS=g}}),Vf=Pe({"../../node_modules/@petamoriken/float16/lib/_util/primordials.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pE();function r(Ot){return(he,...ue)=>i(Ot,he,ue)}function n(Ot,he){return r(l(Ot,he).get)}var{apply:i,construct:o,defineProperty:a,get:s,getOwnPropertyDescriptor:l,getPrototypeOf:u,has:f,ownKeys:c,set:h,setPrototypeOf:g}=Reflect;e.ReflectSetPrototypeOf=g,e.ReflectSet=h,e.ReflectOwnKeys=c,e.ReflectHas=f,e.ReflectGetPrototypeOf=u,e.ReflectGetOwnPropertyDescriptor=l,e.ReflectGet=s,e.ReflectDefineProperty=a,e.ReflectConstruct=o,e.ReflectApply=i;var m=Proxy;e.NativeProxy=m;var{EPSILON:_,MAX_SAFE_INTEGER:v,isFinite:p,isNaN:S}=Number;e.NumberIsNaN=S,e.NumberIsFinite=p,e.MAX_SAFE_INTEGER=v,e.EPSILON=_;var{iterator:y,species:E,toStringTag:$,for:T}=Symbol;e.SymbolFor=T,e.SymbolToStringTag=$,e.SymbolSpecies=E,e.SymbolIterator=y;var d=Object;e.NativeObject=d;var{create:A,defineProperty:x,freeze:O,is:C}=d;e.ObjectIs=C,e.ObjectFreeze=O,e.ObjectDefineProperty=x,e.ObjectCreate=A;var F=d.prototype,V=F.__lookupGetter__?r(F.__lookupGetter__):(Ot,he)=>{if(Ot==null)throw ur(t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let ue=d(Ot);do{const we=l(ue,he);if(we!==void 0)return Q(we,"get")?we.get:void 0}while((ue=u(ue))!==null)};e.ObjectPrototype__lookupGetter__=V;var Q=d.hasOwn||r(F.hasOwnProperty);e.ObjectHasOwn=Q;var H=Array,X=H.isArray;e.ArrayIsArray=X;var ce=H.prototype,Z=r(ce.join);e.ArrayPrototypeJoin=Z;var ie=r(ce.push);e.ArrayPrototypePush=ie;var k=r(ce.toLocaleString);e.ArrayPrototypeToLocaleString=k;var B=ce[y];e.NativeArrayPrototypeSymbolIterator=B;var G=r(B);e.ArrayPrototypeSymbolIterator=G;var{abs:P,trunc:N}=Math;e.MathTrunc=N,e.MathAbs=P;var q=ArrayBuffer;e.NativeArrayBuffer=q;var oe=q.isView;e.ArrayBufferIsView=oe;var J=q.prototype,Y=r(J.slice);e.ArrayBufferPrototypeSlice=Y;var se=n(J,"byteLength");e.ArrayBufferPrototypeGetByteLength=se;var be=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;e.NativeSharedArrayBuffer=be;var Ne=be&&n(be.prototype,"byteLength");e.SharedArrayBufferPrototypeGetByteLength=Ne;var R=u(Uint8Array);e.TypedArray=R;var D=R.from,M=R.prototype;e.TypedArrayPrototype=M;var K=M[y];e.NativeTypedArrayPrototypeSymbolIterator=K;var ae=r(M.keys);e.TypedArrayPrototypeKeys=ae;var fe=r(M.values);e.TypedArrayPrototypeValues=fe;var de=r(M.entries);e.TypedArrayPrototypeEntries=de;var pe=r(M.set);e.TypedArrayPrototypeSet=pe;var xe=r(M.reverse);e.TypedArrayPrototypeReverse=xe;var Le=r(M.fill);e.TypedArrayPrototypeFill=Le;var ke=r(M.copyWithin);e.TypedArrayPrototypeCopyWithin=ke;var nt=r(M.sort);e.TypedArrayPrototypeSort=nt;var qe=r(M.slice);e.TypedArrayPrototypeSlice=qe;var Ue=r(M.subarray);e.TypedArrayPrototypeSubarray=Ue;var W=n(M,"buffer");e.TypedArrayPrototypeGetBuffer=W;var I=n(M,"byteOffset");e.TypedArrayPrototypeGetByteOffset=I;var L=n(M,"length");e.TypedArrayPrototypeGetLength=L;var ne=n(M,$);e.TypedArrayPrototypeGetSymbolToStringTag=ne;var ye=Uint8Array;e.NativeUint8Array=ye;var Se=Uint16Array;e.NativeUint16Array=Se;var De=(...Ot)=>i(D,Se,Ot);e.Uint16ArrayFrom=De;var je=Uint32Array;e.NativeUint32Array=je;var Be=Float32Array;e.NativeFloat32Array=Be;var at=u([][y]());e.ArrayIteratorPrototype=at;var wt=r(at.next);e.ArrayIteratorPrototypeNext=wt;var ut=r(function*(){}().next);e.GeneratorPrototypeNext=ut;var kt=u(at);e.IteratorPrototype=kt;var Tr=DataView.prototype,Pr=r(Tr.getUint16);e.DataViewPrototypeGetUint16=Pr;var or=r(Tr.setUint16);e.DataViewPrototypeSetUint16=or;var ur=TypeError;e.NativeTypeError=ur;var on=RangeError;e.NativeRangeError=on;var tr=WeakSet;e.NativeWeakSet=tr;var Dt=tr.prototype,Jt=r(Dt.add);e.WeakSetPrototypeAdd=Jt;var Ee=r(Dt.has);e.WeakSetPrototypeHas=Ee;var Oe=WeakMap;e.NativeWeakMap=Oe;var ct=Oe.prototype,ht=r(ct.get);e.WeakMapPrototypeGet=ht;var et=r(ct.has);e.WeakMapPrototypeHas=et;var xt=r(ct.set);e.WeakMapPrototypeSet=xt}}),Zq=Pe({"../../node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.safeIfNeeded=i,e.wrap=s;var t=Vf(),r=new t.NativeWeakMap,n=(0,t.ObjectCreate)(null,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(r,this);return(0,t.ArrayIteratorPrototypeNext)(u)}},[t.SymbolIterator]:{value:function(){return this}}});function i(l){if(l[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext)return l;const u=(0,t.ObjectCreate)(n);return(0,t.WeakMapPrototypeSet)(r,u,(0,t.ArrayPrototypeSymbolIterator)(l)),u}var o=new t.NativeWeakMap,a=(0,t.ObjectCreate)(t.IteratorPrototype,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(o,this);return(0,t.GeneratorPrototypeNext)(u)},writable:!0,configurable:!0}});for(const l of(0,t.ReflectOwnKeys)(t.ArrayIteratorPrototype))l!=="next"&&(0,t.ObjectDefineProperty)(a,l,(0,t.ReflectGetOwnPropertyDescriptor)(t.ArrayIteratorPrototype,l));function s(l){const u=(0,t.ObjectCreate)(a);return(0,t.WeakMapPrototypeSet)(o,u,l),u}}}),mE=Pe({"../../node_modules/@petamoriken/float16/lib/_util/is.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isAnyArrayBuffer=l,e.isCanonicalIntegerIndexString=c,e.isNativeBigIntTypedArray=o,e.isNativeTypedArray=i,e.isObject=r,e.isObjectLike=n,e.isOrdinaryArray=u,e.isOrdinaryNativeTypedArray=f,e.isSharedArrayBuffer=s;var t=Vf();function r(h){return h!==null&&typeof h=="object"||typeof h=="function"}function n(h){return h!==null&&typeof h=="object"}function i(h){return(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h)!==void 0}function o(h){const g=(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h);return g==="BigInt64Array"||g==="BigUint64Array"}function a(h){try{return(0,t.ArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function s(h){if(t.NativeSharedArrayBuffer===null)return!1;try{return(0,t.SharedArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function l(h){return a(h)||s(h)}function u(h){return(0,t.ArrayIsArray)(h)?h[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function f(h){return i(h)?h[t.SymbolIterator]===t.NativeTypedArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function c(h){if(typeof h!="string")return!1;const g=+h;return h!==g+""||!(0,t.NumberIsFinite)(g)?!1:g===(0,t.MathTrunc)(g)}}}),Dre=Pe({"../../node_modules/@petamoriken/float16/lib/_util/brand.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.hasFloat16ArrayBrand=o;var t=mE(),r=pE(),n=Vf(),i=(0,n.SymbolFor)("__Float16Array__");e.brand=i;function o(a){if(!(0,t.isObjectLike)(a))return!1;const s=(0,n.ReflectGetPrototypeOf)(a);if(!(0,t.isObjectLike)(s))return!1;const l=s.constructor;if(l===void 0)return!1;if(!(0,t.isObject)(l))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,n.ReflectHas)(l,i)}}}),PN=Pe({"../../node_modules/@petamoriken/float16/lib/_util/converter.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertToNumber=y,e.roundToFloat16=u,e.roundToFloat16Bits=_;var t=Vf(),r=1/t.EPSILON;function n(E){return E+r-r}var i=6103515625e-14,o=65504,a=.0009765625,s=a*i,l=a*r;function u(E){const $=+E;if(!(0,t.NumberIsFinite)($)||$===0)return $;const T=$>0?1:-1,d=(0,t.MathAbs)($);if(d<i)return T*n(d/s)*s;const A=(1+l)*d,x=A-(A-d);return x>o||(0,t.NumberIsNaN)(x)?T*(1/0):T*x}var f=new t.NativeArrayBuffer(4),c=new t.NativeFloat32Array(f),h=new t.NativeUint32Array(f),g=new t.NativeUint16Array(512),m=new t.NativeUint8Array(512);for(let E=0;E<256;++E){const $=E-127;$<-27?(g[E]=0,g[E|256]=32768,m[E]=24,m[E|256]=24):$<-14?(g[E]=1024>>-$-14,g[E|256]=1024>>-$-14|32768,m[E]=-$-1,m[E|256]=-$-1):$<=15?(g[E]=$+15<<10,g[E|256]=$+15<<10|32768,m[E]=13,m[E|256]=13):$<128?(g[E]=31744,g[E|256]=64512,m[E]=24,m[E|256]=24):(g[E]=31744,g[E|256]=64512,m[E]=13,m[E|256]=13)}function _(E){c[0]=u(E);const $=h[0],T=$>>23&511;return g[T]+(($&8388607)>>m[T])}var v=new t.NativeUint32Array(2048);for(let E=1;E<1024;++E){let $=E<<13,T=0;for(;!($&8388608);)$<<=1,T-=8388608;$&=-8388609,T+=947912704,v[E]=$|T}for(let E=1024;E<2048;++E)v[E]=939524096+(E-1024<<13);var p=new t.NativeUint32Array(64);for(let E=1;E<31;++E)p[E]=E<<23;p[31]=1199570944,p[32]=2147483648;for(let E=33;E<63;++E)p[E]=2147483648+(E-32<<23);p[63]=3347054592;var S=new t.NativeUint16Array(64);for(let E=1;E<64;++E)E!==32&&(S[E]=1024);function y(E){const $=E>>10;return h[0]=v[S[$]+(E&1023)]+p[$],c[0]}}}),Mre=Pe({"../../node_modules/@petamoriken/float16/lib/_util/spec.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.IsDetachedBuffer=s,e.SpeciesConstructor=a,e.ToIntegerOrInfinity=i,e.ToLength=o,e.defaultCompare=l;var t=mE(),r=pE(),n=Vf();function i(u){const f=+u;return(0,n.NumberIsNaN)(f)||f===0?0:(0,n.MathTrunc)(f)}function o(u){const f=i(u);return f<0?0:f<n.MAX_SAFE_INTEGER?f:n.MAX_SAFE_INTEGER}function a(u,f){if(!(0,t.isObject)(u))throw(0,n.NativeTypeError)(r.THIS_IS_NOT_AN_OBJECT);const c=u.constructor;if(c===void 0)return f;if(!(0,t.isObject)(c))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const h=c[n.SymbolSpecies];return h??f}function s(u){if((0,t.isSharedArrayBuffer)(u))return!1;try{return(0,n.ArrayBufferPrototypeSlice)(u,0,0),!1}catch{}return!0}function l(u,f){const c=(0,n.NumberIsNaN)(u),h=(0,n.NumberIsNaN)(f);if(c&&h)return 0;if(c)return 1;if(h||u<f)return-1;if(u>f)return 1;if(u===0&&f===0){const g=(0,n.ObjectIs)(u,0),m=(0,n.ObjectIs)(f,0);if(!g&&m)return-1;if(g&&!m)return 1}return 0}}}),eV=Pe({"../../node_modules/@petamoriken/float16/lib/Float16Array.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isFloat16Array=f;var t=Zq(),r=Dre(),n=PN(),i=mE(),o=pE(),a=Vf(),s=Mre(),l=2,u=new a.NativeWeakMap;function f(y){return(0,a.WeakMapPrototypeHas)(u,y)||!(0,a.ArrayBufferIsView)(y)&&(0,r.hasFloat16ArrayBrand)(y)}function c(y){if(!f(y))throw(0,a.NativeTypeError)(o.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function h(y,E){const $=f(y),T=(0,i.isNativeTypedArray)(y);if(!$&&!T)throw(0,a.NativeTypeError)(o.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof E=="number"){let d;if($){const A=g(y);d=(0,a.TypedArrayPrototypeGetLength)(A)}else d=(0,a.TypedArrayPrototypeGetLength)(y);if(d<E)throw(0,a.NativeTypeError)(o.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,i.isNativeBigIntTypedArray)(y))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function g(y){const E=(0,a.WeakMapPrototypeGet)(u,y);if(E!==void 0){const d=(0,a.TypedArrayPrototypeGetBuffer)(E);if((0,s.IsDetachedBuffer)(d))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return E}const $=y.buffer;if((0,s.IsDetachedBuffer)($))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const T=(0,a.ReflectConstruct)(p,[$,y.byteOffset,y.length],y.constructor);return(0,a.WeakMapPrototypeGet)(u,T)}function m(y){const E=(0,a.TypedArrayPrototypeGetLength)(y),$=[];for(let T=0;T<E;++T)$[T]=(0,n.convertToNumber)(y[T]);return $}var _=new a.NativeWeakSet;for(const y of(0,a.ReflectOwnKeys)(a.TypedArrayPrototype)){if(y===a.SymbolToStringTag)continue;const E=(0,a.ReflectGetOwnPropertyDescriptor)(a.TypedArrayPrototype,y);(0,a.ObjectHasOwn)(E,"get")&&typeof E.get=="function"&&(0,a.WeakSetPrototypeAdd)(_,E.get)}var v=(0,a.ObjectFreeze)({get(y,E,$){return(0,i.isCanonicalIntegerIndexString)(E)&&(0,a.ObjectHasOwn)(y,E)?(0,n.convertToNumber)((0,a.ReflectGet)(y,E)):(0,a.WeakSetPrototypeHas)(_,(0,a.ObjectPrototype__lookupGetter__)(y,E))?(0,a.ReflectGet)(y,E):(0,a.ReflectGet)(y,E,$)},set(y,E,$,T){return(0,i.isCanonicalIntegerIndexString)(E)&&(0,a.ObjectHasOwn)(y,E)?(0,a.ReflectSet)(y,E,(0,n.roundToFloat16Bits)($)):(0,a.ReflectSet)(y,E,$,T)},getOwnPropertyDescriptor(y,E){if((0,i.isCanonicalIntegerIndexString)(E)&&(0,a.ObjectHasOwn)(y,E)){const $=(0,a.ReflectGetOwnPropertyDescriptor)(y,E);return $.value=(0,n.convertToNumber)($.value),$}return(0,a.ReflectGetOwnPropertyDescriptor)(y,E)},defineProperty(y,E,$){return(0,i.isCanonicalIntegerIndexString)(E)&&(0,a.ObjectHasOwn)(y,E)&&(0,a.ObjectHasOwn)($,"value")&&($.value=(0,n.roundToFloat16Bits)($.value)),(0,a.ReflectDefineProperty)(y,E,$)}}),p=class li{constructor(E,$,T){let d;if(f(E))d=(0,a.ReflectConstruct)(a.NativeUint16Array,[g(E)],new.target);else if((0,i.isObject)(E)&&!(0,i.isAnyArrayBuffer)(E)){let x,O;if((0,i.isNativeTypedArray)(E)){x=E,O=(0,a.TypedArrayPrototypeGetLength)(E);const C=(0,a.TypedArrayPrototypeGetBuffer)(E);if((0,s.IsDetachedBuffer)(C))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,i.isNativeBigIntTypedArray)(E))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const F=new a.NativeArrayBuffer(O*l);d=(0,a.ReflectConstruct)(a.NativeUint16Array,[F],new.target)}else{const C=E[a.SymbolIterator];if(C!=null&&typeof C!="function")throw(0,a.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);C!=null?(0,i.isOrdinaryArray)(E)?(x=E,O=E.length):(x=[...E],O=x.length):(x=E,O=(0,s.ToLength)(x.length)),d=(0,a.ReflectConstruct)(a.NativeUint16Array,[O],new.target)}for(let C=0;C<O;++C)d[C]=(0,n.roundToFloat16Bits)(x[C])}else d=(0,a.ReflectConstruct)(a.NativeUint16Array,arguments,new.target);const A=new a.NativeProxy(d,v);return(0,a.WeakMapPrototypeSet)(u,A,d),A}static from(E,...$){const T=this;if(!(0,a.ReflectHas)(T,r.brand))throw(0,a.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(T===li){if(f(E)&&$.length===0){const V=g(E),Q=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(V),(0,a.TypedArrayPrototypeGetByteOffset)(V),(0,a.TypedArrayPrototypeGetLength)(V));return new li((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(Q)))}if($.length===0)return new li((0,a.TypedArrayPrototypeGetBuffer)((0,a.Uint16ArrayFrom)(E,n.roundToFloat16Bits)));const C=$[0],F=$[1];return new li((0,a.TypedArrayPrototypeGetBuffer)((0,a.Uint16ArrayFrom)(E,function(V,...Q){return(0,n.roundToFloat16Bits)((0,a.ReflectApply)(C,this,[V,...(0,t.safeIfNeeded)(Q)]))},F)))}let d,A;const x=E[a.SymbolIterator];if(x!=null&&typeof x!="function")throw(0,a.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(x!=null)(0,i.isOrdinaryArray)(E)?(d=E,A=E.length):(0,i.isOrdinaryNativeTypedArray)(E)?(d=E,A=(0,a.TypedArrayPrototypeGetLength)(E)):(d=[...E],A=d.length);else{if(E==null)throw(0,a.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);d=(0,a.NativeObject)(E),A=(0,s.ToLength)(d.length)}const O=new T(A);if($.length===0)for(let C=0;C<A;++C)O[C]=d[C];else{const C=$[0],F=$[1];for(let V=0;V<A;++V)O[V]=(0,a.ReflectApply)(C,F,[d[V],V])}return O}static of(...E){const $=this;if(!(0,a.ReflectHas)($,r.brand))throw(0,a.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const T=E.length;if($===li){const A=new li(T),x=g(A);for(let O=0;O<T;++O)x[O]=(0,n.roundToFloat16Bits)(E[O]);return A}const d=new $(T);for(let A=0;A<T;++A)d[A]=E[A];return d}keys(){c(this);const E=g(this);return(0,a.TypedArrayPrototypeKeys)(E)}values(){c(this);const E=g(this);return(0,t.wrap)(function*(){for(const $ of(0,a.TypedArrayPrototypeValues)(E))yield(0,n.convertToNumber)($)}())}entries(){c(this);const E=g(this);return(0,t.wrap)(function*(){for(const[$,T]of(0,a.TypedArrayPrototypeEntries)(E))yield[$,(0,n.convertToNumber)(T)]}())}at(E){c(this);const $=g(this),T=(0,a.TypedArrayPrototypeGetLength)($),d=(0,s.ToIntegerOrInfinity)(E),A=d>=0?d:T+d;if(!(A<0||A>=T))return(0,n.convertToNumber)($[A])}with(E,$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=(0,s.ToIntegerOrInfinity)(E),x=A>=0?A:d+A,O=+$;if(x<0||x>=d)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);const C=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T)),F=new li((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(C))),V=g(F);return V[x]=(0,n.roundToFloat16Bits)(O),F}map(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0],x=(0,s.SpeciesConstructor)(T,li);if(x===li){const C=new li(d),F=g(C);for(let V=0;V<d;++V){const Q=(0,n.convertToNumber)(T[V]);F[V]=(0,n.roundToFloat16Bits)((0,a.ReflectApply)(E,A,[Q,V,this]))}return C}const O=new x(d);h(O,d);for(let C=0;C<d;++C){const F=(0,n.convertToNumber)(T[C]);O[C]=(0,a.ReflectApply)(E,A,[F,C,this])}return O}filter(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0],x=[];for(let F=0;F<d;++F){const V=(0,n.convertToNumber)(T[F]);(0,a.ReflectApply)(E,A,[V,F,this])&&(0,a.ArrayPrototypePush)(x,V)}const O=(0,s.SpeciesConstructor)(T,li),C=new O(x);return h(C),C}reduce(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,a.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,x;$.length===0?(A=(0,n.convertToNumber)(T[0]),x=1):(A=$[0],x=0);for(let O=x;O<d;++O)A=E(A,(0,n.convertToNumber)(T[O]),O,this);return A}reduceRight(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,a.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let A,x;$.length===0?(A=(0,n.convertToNumber)(T[d-1]),x=d-2):(A=$[0],x=d-1);for(let O=x;O>=0;--O)A=E(A,(0,n.convertToNumber)(T[O]),O,this);return A}forEach(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)(0,a.ReflectApply)(E,A,[(0,n.convertToNumber)(T[x]),x,this])}find(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x){const O=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(E,A,[O,x,this]))return O}}findIndex(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x){const O=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(E,A,[O,x,this]))return x}return-1}findLast(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=d-1;x>=0;--x){const O=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(E,A,[O,x,this]))return O}}findLastIndex(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=d-1;x>=0;--x){const O=(0,n.convertToNumber)(T[x]);if((0,a.ReflectApply)(E,A,[O,x,this]))return x}return-1}every(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)if(!(0,a.ReflectApply)(E,A,[(0,n.convertToNumber)(T[x]),x,this]))return!1;return!0}some(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T),A=$[0];for(let x=0;x<d;++x)if((0,a.ReflectApply)(E,A,[(0,n.convertToNumber)(T[x]),x,this]))return!0;return!1}set(E,...$){c(this);const T=g(this),d=(0,s.ToIntegerOrInfinity)($[0]);if(d<0)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);if(E==null)throw(0,a.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,i.isNativeBigIntTypedArray)(E))throw(0,a.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(E))return(0,a.TypedArrayPrototypeSet)(g(this),g(E),d);if((0,i.isNativeTypedArray)(E)){const C=(0,a.TypedArrayPrototypeGetBuffer)(E);if((0,s.IsDetachedBuffer)(C))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const A=(0,a.TypedArrayPrototypeGetLength)(T),x=(0,a.NativeObject)(E),O=(0,s.ToLength)(x.length);if(d===1/0||O+d>A)throw(0,a.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);for(let C=0;C<O;++C)T[C+d]=(0,n.roundToFloat16Bits)(x[C])}reverse(){c(this);const E=g(this);return(0,a.TypedArrayPrototypeReverse)(E),this}toReversed(){c(this);const E=g(this),$=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(E),(0,a.TypedArrayPrototypeGetByteOffset)(E),(0,a.TypedArrayPrototypeGetLength)(E)),T=new li((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)($))),d=g(T);return(0,a.TypedArrayPrototypeReverse)(d),T}fill(E,...$){c(this);const T=g(this);return(0,a.TypedArrayPrototypeFill)(T,(0,n.roundToFloat16Bits)(E),...(0,t.safeIfNeeded)($)),this}copyWithin(E,$,...T){c(this);const d=g(this);return(0,a.TypedArrayPrototypeCopyWithin)(d,E,$,...(0,t.safeIfNeeded)(T)),this}sort(E){c(this);const $=g(this),T=E!==void 0?E:s.defaultCompare;return(0,a.TypedArrayPrototypeSort)($,(d,A)=>T((0,n.convertToNumber)(d),(0,n.convertToNumber)(A))),this}toSorted(E){c(this);const $=g(this);if(E!==void 0&&typeof E!="function")throw new a.NativeTypeError(o.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const T=E!==void 0?E:s.defaultCompare,d=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)($),(0,a.TypedArrayPrototypeGetByteOffset)($),(0,a.TypedArrayPrototypeGetLength)($)),A=new li((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(d))),x=g(A);return(0,a.TypedArrayPrototypeSort)(x,(O,C)=>T((0,n.convertToNumber)(O),(0,n.convertToNumber)(C))),A}slice(E,$){c(this);const T=g(this),d=(0,s.SpeciesConstructor)(T,li);if(d===li){const ce=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T));return new li((0,a.TypedArrayPrototypeGetBuffer)((0,a.TypedArrayPrototypeSlice)(ce,E,$)))}const A=(0,a.TypedArrayPrototypeGetLength)(T),x=(0,s.ToIntegerOrInfinity)(E),O=$===void 0?A:(0,s.ToIntegerOrInfinity)($);let C;x===-1/0?C=0:x<0?C=A+x>0?A+x:0:C=A<x?A:x;let F;O===-1/0?F=0:O<0?F=A+O>0?A+O:0:F=A<O?A:O;const V=F-C>0?F-C:0,Q=new d(V);if(h(Q,V),V===0)return Q;const H=(0,a.TypedArrayPrototypeGetBuffer)(T);if((0,s.IsDetachedBuffer)(H))throw(0,a.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let X=0;for(;C<F;)Q[X]=(0,n.convertToNumber)(T[C]),++C,++X;return Q}subarray(E,$){c(this);const T=g(this),d=(0,s.SpeciesConstructor)(T,li),A=new a.NativeUint16Array((0,a.TypedArrayPrototypeGetBuffer)(T),(0,a.TypedArrayPrototypeGetByteOffset)(T),(0,a.TypedArrayPrototypeGetLength)(T)),x=(0,a.TypedArrayPrototypeSubarray)(A,E,$),O=new d((0,a.TypedArrayPrototypeGetBuffer)(x),(0,a.TypedArrayPrototypeGetByteOffset)(x),(0,a.TypedArrayPrototypeGetLength)(x));return h(O),O}indexOf(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=(0,s.ToIntegerOrInfinity)($[0]);if(A===1/0)return-1;A<0&&(A+=d,A<0&&(A=0));for(let x=A;x<d;++x)if((0,a.ObjectHasOwn)(T,x)&&(0,n.convertToNumber)(T[x])===E)return x;return-1}lastIndexOf(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=$.length>=1?(0,s.ToIntegerOrInfinity)($[0]):d-1;if(A===-1/0)return-1;A>=0?A=A<d-1?A:d-1:A+=d;for(let x=A;x>=0;--x)if((0,a.ObjectHasOwn)(T,x)&&(0,n.convertToNumber)(T[x])===E)return x;return-1}includes(E,...$){c(this);const T=g(this),d=(0,a.TypedArrayPrototypeGetLength)(T);let A=(0,s.ToIntegerOrInfinity)($[0]);if(A===1/0)return!1;A<0&&(A+=d,A<0&&(A=0));const x=(0,a.NumberIsNaN)(E);for(let O=A;O<d;++O){const C=(0,n.convertToNumber)(T[O]);if(x&&(0,a.NumberIsNaN)(C)||C===E)return!0}return!1}join(E){c(this);const $=g(this),T=m($);return(0,a.ArrayPrototypeJoin)(T,E)}toLocaleString(...E){c(this);const $=g(this),T=m($);return(0,a.ArrayPrototypeToLocaleString)(T,...(0,t.safeIfNeeded)(E))}get[a.SymbolToStringTag](){if(f(this))return"Float16Array"}};e.Float16Array=p,(0,a.ObjectDefineProperty)(p,"BYTES_PER_ELEMENT",{value:l}),(0,a.ObjectDefineProperty)(p,r.brand,{}),(0,a.ReflectSetPrototypeOf)(p,a.TypedArray);var S=p.prototype;(0,a.ObjectDefineProperty)(S,"BYTES_PER_ELEMENT",{value:l}),(0,a.ObjectDefineProperty)(S,a.SymbolIterator,{value:S.values,writable:!0,configurable:!0}),(0,a.ReflectSetPrototypeOf)(S,a.TypedArrayPrototype)}}),Lre=Pe({"../../node_modules/@petamoriken/float16/lib/isTypedArray.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=n;var t=eV(),r=mE();function n(i){return(0,r.isNativeTypedArray)(i)||(0,t.isFloat16Array)(i)}}}),Fre=Pe({"../../node_modules/@petamoriken/float16/lib/DataView.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat16=i,e.setFloat16=o;var t=Zq(),r=PN(),n=Vf();function i(a,s,...l){return(0,r.convertToNumber)((0,n.DataViewPrototypeGetUint16)(a,s,...(0,t.safeIfNeeded)(l)))}function o(a,s,l,...u){return(0,n.DataViewPrototypeSetUint16)(a,s,(0,r.roundToFloat16Bits)(l),...(0,t.safeIfNeeded)(u))}}}),Bre=Pe({"../../node_modules/@petamoriken/float16/lib/f16round.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.f16round=r;var t=PN();function r(n){return(0,t.roundToFloat16)(n)}}}),Ure=Pe({"../../node_modules/@petamoriken/float16/lib/index.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=eV();e.Float16Array=t.Float16Array,e.isFloat16Array=t.isFloat16Array;var r=Lre();e.isTypedArray=r.isTypedArray;var n=Fre();e.getFloat16=n.getFloat16,e.setFloat16=n.setFloat16;var i=Bre();e.f16round=i.f16round,e.hfround=i.f16round}}),tV=Pe({"../core/dist/protocol-interfaces.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.Endianness=void 0;var t;(function(r){r.BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(t||(e.Endianness=t={}))}}),rV=Pe({"../core/dist/codecs/octetstream-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ure(),r=jo(),n=tV(),{debug:i,warn:o}=(0,r.createLoggers)("core","octetstream-codec"),a=class{getMediaType(){return"application/octet-stream"}bytesToValue(s,l,u={}){var v,p;i("OctetstreamCodec parsing",s),i("Parameters",u);const f=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(f!==void 0){if(isNaN(f)||f<0)throw new Error("'length' parameter must be a non-negative number");if(f!==s.length)throw new Error(`Lengths do not match, required: ${f} provided: ${s.length}`)}let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):s.length*8;if(isNaN(h)||h<0)throw new Error("'ex:bitLength' must be a non-negative number");const g=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(g)||g<0)throw new Error("'ex:bitOffset' must be a non-negative number");const m=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let _=l==null?void 0:l.type;if(!_)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const S=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(S){if(S[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=S[2],parseInt(S[3])!==h)throw new Error(`Type is '${(S[1]??"")+S[2]+S[3]}' but 'ex:bitLength' is `+h)}}if(h>s.length*8-g)throw new Error(`'ex:bitLength' is ${h}, but buffer length at offset ${g} is ${s.length*8-g}`);switch(((p=u==null?void 0:u.byteSeq)==null?void 0:p.includes("BYTE_SWAP"))===!0&&s.length>1&&s.swap16(),g!==void 0&&h<s.length*8&&(s=this.readBits(s,g,h),h=s.length*8),_){case"boolean":return!s.every(S=>S===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(s,{dataLength:h,bigEndian:m,signed:c});case"float":case"double":case"number":return this.numberToValue(s,{dataLength:h,bigEndian:m});case"string":return s.toString(u.charset);case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(s,l,u);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+_)}}integerToValue(s,l){const{dataLength:u,bigEndian:f,signed:c}=l;switch(u){case 8:return c?s.readInt8(0):s.readUInt8(0);case 16:return f?c?s.readInt16BE(0):s.readUInt16BE(0):c?s.readInt16LE(0):s.readUInt16LE(0);case 32:return f?c?s.readInt32BE(0):s.readUInt32BE(0):c?s.readInt32LE(0):s.readUInt32LE(0);default:{const h=f?c?s.readIntBE(0,u/8):s.readUIntBE(0,u/8):c?s.readIntLE(0,u/8):s.readUIntLE(0,u/8);return Number.isSafeInteger(h)||o("Result is not a safe integer"),h}}}numberToValue(s,l){const{dataLength:u,bigEndian:f}=l;switch(u){case 16:return(0,t.getFloat16)(new DataView(s.buffer),s.byteOffset,!f);case 32:return f?s.readFloatBE(0):s.readFloatLE(0);case 64:return f?s.readDoubleBE(0):s.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}}objectToValue(s,l,u={}){if((l==null?void 0:l.type)!=="object")throw new Error("Schema must be of type 'object'");const f={},c=Object.getOwnPropertyNames(l.properties);for(const h of c){const g=l.properties[h],m=s.length.toString();f[h]=this.bytesToValue(s,g,{...u,length:m})}return f}valueToBytes(s,l,u={}){var v;i(`OctetstreamCodec serializing '${s}'`);const f=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(h!==void 0&&(isNaN(h)||h<0))throw new Error("'length' parameter must be a non-negative number");let g=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):void 0;if(g!==void 0&&(isNaN(g)||g<0))throw new Error("'ex:bitLength' must be a non-negative number");const m=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(m)||m<0)throw new Error("'ex:bitOffset' must be a non-negative number");let _=(l==null?void 0:l.type)??void 0;if(s===void 0)throw new Error("Undefined value");if(_===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const p=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(p){if(p[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=p[2],g!==void 0){if(parseInt(p[3])!==g)throw new Error(`Type is '${(p[1]??"")+p[2]+p[3]}' but 'ex:bitLength' is `+g)}else g=+p[3]}}if(h===void 0)g!==void 0&&(h=Math.ceil((m+g)/8)),o("Missing 'length' parameter necessary for write. I'll do my best");else if(g===void 0)g=h*8;else if(h*8<g+m)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(_){case"boolean":if(s===!0){const p=Yr.alloc(h??1,0);for(let S=m;S<m+(g??p.length*8);++S)p[Math.floor(S/8)]|=1<<7-S%8;return p}else return Yr.alloc(h??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(s,{bitLength:g,byteLength:h,bigEndian:f,offset:m,signed:c,byteSeq:u.byteSeq??""});case"float":case"number":return this.valueToNumber(s,{bitLength:g,byteLength:h,bigEndian:f,offset:m,byteSeq:u.byteSeq??""});case"string":return this.valueToString(s,{bitLength:g,byteLength:h,offset:m,charset:u.charset??"utf8"});case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return s===null?Yr.alloc(0):this.valueToObject(s,l,u);case"array":case"undefined":throw new Error("Unable to handle dataType "+_);case"null":return Yr.alloc(0);default:throw new Error("Unable to handle dataType "+_)}}valueToInteger(s,l){const u=l.bitLength??32,f=l.offset??0,c=l.byteLength??Math.ceil((f+u)/8),{bigEndian:h,signed:g,byteSeq:m}=l;if(typeof s!="number")throw new Error("Value is not a number");Number.isSafeInteger(s)||o("Value is not a safe integer",s);const _=Math.pow(2,g?u-1:u)-1;if(g){if(s<-_-1||s>_)throw new Error("Integer overflow when representing "+s+" as a signed integer using "+u+" bit(s)")}else if(s<0||s>_)throw new Error("Integer overflow when representing "+s+" as an unsigned integer using "+u+" bit(s)");const v=Yr.alloc(c);if(f!==0)return this.writeBits(v,s,f,u,h),v;switch(m!=null&&m.includes("BYTE_SwAP")&&c>1&&v.swap16(),c){case 1:g?v.writeInt8(s,0):v.writeUInt8(s,0);break;case 2:h?g?v.writeInt16BE(s,0):v.writeUInt16BE(s,0):g?v.writeInt16LE(s,0):v.writeUInt16LE(s,0);break;case 4:h?g?v.writeInt32BE(s,0):v.writeUInt32BE(s,0):g?v.writeInt32LE(s,0):v.writeUInt32LE(s,0);break;default:g&&s<0&&(s+=1<<8*u);for(let p=0;p<c;++p){const S=s%256;s/=256,v.writeInt8(S,h?c-p-1:p)}}return v}valueToNumber(s,l){if(typeof s!="number")throw new Error("Value is not a number");const u=l.bitLength??(l.byteLength!==void 0?l.byteLength*8:32),f=l.offset??0,{bigEndian:c,byteSeq:h}=l,g=l.byteLength??Math.ceil((f+u)/8),m=Math.floor(f/8),_=Yr.alloc(g);if(f%8!==0)throw new Error("Offset must be a multiple of 8");switch(h&&g>1&&_.swap16(),u){case 16:(0,t.setFloat16)(new DataView(_.buffer),m,s,!c);break;case 32:c?_.writeFloatBE(s,m):_.writeFloatLE(s,0);break;case 64:c?_.writeDoubleBE(s,m):_.writeDoubleLE(s,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}return _}valueToString(s,l){if(typeof s!="string")throw new Error("Value is not a string");const u=l.offset??0,{charset:f}=l,c=String(s);if(!Yr.isEncoding(f))throw new Error("Invalid charset "+f);const h=Yr.from(c,f),g=l.bitLength??h.length*8;if(h.length>g)throw new Error(`String is ${h.length*8} bits long, but 'ex:bitLength' is ${g}`);const m=l.byteLength??Math.ceil((u+g)/8);if(u%8===0)return Yr.concat([Yr.alloc(m-g/8),h]);{const _=Yr.alloc(m);return this.copyBits(h,0,_,u,g),_}}valueToObject(s,l,u={},f){if(typeof s!="object"||s===null)throw new Error("Value is not an object");if(u.length===void 0)throw new Error("Missing 'length' parameter necessary for write");const c=parseInt(u.length),h=l["ex:bitOffset"]!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(h)||h<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(h>c*8)throw new Error(`'ex:bitOffset' ${h} exceeds 'length' ${c}`);f=f??Yr.alloc(c);for(const[g,m]of Object.entries(l.properties)){if(Object.hasOwnProperty.call(s,g)===!1)throw new Error(`Missing property '${g}'`);const _=s[g],v=parseInt(m["ex:bitOffset"]),p=parseInt(m["ex:bitLength"]);let S;m.type==="object"?S=this.valueToObject(_,m,u,f):S=this.valueToBytes(_,m,u),this.copyBits(S,v,f,h+v,p)}return f}readBits(s,l,u){if(l<0)throw new Error("bitOffset must be >= 0");if(u<0)throw new Error("bitLength must be >= 0");if(l+u>s.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const f=Yr.alloc(Math.ceil(u/8));let c=Math.floor(l/8),h=l%8,g=s[c],m=0,_=0;for(let v=0;v<u;v++){const p=g>>7-h&1;m=m<<1|p,h++,h>7&&(c++,h=0,g=s[c]),(v+1===u%8||(v+1)%8===u%8||v===u-1)&&(f[_]=m,m=0,_++)}return f}writeBits(s,l,u,f,c){let h=Math.floor(u/8),g=u%8;for(let m=0;m<f;m++){const _=c?l>>f-1-m&1:l>>m&1;s[h]|=_<<(c?7-g:g),g++,g===8&&(g=0,h++)}}copyBits(s,l,u,f,c){if(l%8===0&&f%8===0&&c%8===0)s.copy(u,f/8,l/8,l+c/8);else{const h=this.readBits(s,l,c);if(h.length<=6)this.writeBits(u,h.readUIntBE(0,h.length),f,c,!0);else for(let g=0;g<h.length;g++){const m=h.readUInt8(g);this.writeBits(u,m,f+g*8,8,!0)}}}};e.default=a}}),ll=Pe({"../core/dist/content-serdes.js"(e){Te();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentSerdes=void 0;var r=Vq(),n=t(Jq()),i=t(Yq()),o=t(Xq()),a=t(Qq()),s=t(rV()),l=(Fa(),Or(ta)),u=ko(),f=xN(),c=jo(),{debug:h,warn:g}=(0,c.createLoggers)("core","content-serdes"),m=class zo{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new zo,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new i.default("application/td+json")),this.instance.addCodec(new i.default("application/ld+json")),this.instance.addCodec(new n.default,!0),this.instance.addCodec(new o.default),this.instance.addCodec(new o.default("text/html")),this.instance.addCodec(new o.default("text/css")),this.instance.addCodec(new o.default("application/xml")),this.instance.addCodec(new o.default("application/xhtml+xml")),this.instance.addCodec(new o.default("image/svg+xml")),this.instance.addCodec(new a.default("image/png")),this.instance.addCodec(new a.default("image/gif")),this.instance.addCodec(new a.default("image/jpeg")),this.instance.addCodec(new s.default)),this.instance}static getMediaType(v){return v.split(";")[0].trim()}static getMediaTypeParameters(v){const p=v.split(";").slice(1),S={};return p.forEach(y=>{const E=y.indexOf("=");E>=0?S[y.substr(0,E).trim()]=y.substr(E+1).trim():S[y.trim()]=void 0}),S}addCodec(v,p=!1){zo.get().codecs.set(v.getMediaType(),v),p&&zo.get().offered.add(v.getMediaType())}getSupportedMediaTypes(){return Array.from(zo.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(zo.get().offered)}isSupported(v){const p=zo.getMediaType(v);return this.codecs.has(p)}contentToValue(v,p){if(v.type===void 0)if(v.body.byteLength>0)v.type=zo.DEFAULT;else return;const S=zo.getMediaType(v.type),y=zo.getMediaTypeParameters(v.type);return this.codecs.has(S)?(h(`ContentSerdes deserializing from ${v.type}`),this.codecs.get(S).bytesToValue(v.body,p,y)):(g(`ContentSerdes passthrough due to unsupported media type '${S}'`),v.body.toString())}valueToContent(v,p,S=zo.DEFAULT){if(v===void 0&&g("ContentSerdes valueToContent got no value"),v instanceof f.ReadableStream)return new r.Content(S,u.ProtocolHelpers.toNodeStream(v));let y;const E=zo.getMediaType(S),$=zo.getMediaTypeParameters(S),T=this.codecs.get(E);return T?(h(`ContentSerdes serializing to ${S}`),y=T.valueToBytes(v,p,$)):(g(`ContentSerdes passthrough due to unsupported serialization format '${S}'`),y=Yr.from(v===null?"":v.toString())),new r.Content(S,l.Readable.from([y]))}};e.ContentSerdes=m,m.DEFAULT="application/json",m.TD="application/td+json",m.JSON_LD="application/ld+json",e.default=m.get()}}),Jb=Pe({"../core/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,y)=>`${S}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,y)=>(y instanceof r&&(S[y.str]=(S[y.str]||0)+1),S),{})}};e._Code=n,e.nil=new n("");function i(p,...S){const y=[p[0]];let E=0;for(;E<S.length;)s(y,S[E]),y.push(p[++E]);return new n(y)}e._=i;var o=new n("+");function a(p,...S){const y=[g(p[0])];let E=0;for(;E<S.length;)y.push(o),s(y,S[E]),y.push(o,g(p[++E]));return l(y),new n(y)}e.str=a;function s(p,S){S instanceof n?p.push(...S._items):S instanceof r?p.push(S):p.push(c(S))}e.addCodeArg=s;function l(p){let S=1;for(;S<p.length-1;){if(p[S]===o){const y=u(p[S-1],p[S+1]);if(y!==void 0){p.splice(S-1,3,y);continue}p[S++]="+"}S++}}function u(p,S){if(S==='""')return p;if(p==='""')return S;if(typeof p=="string")return S instanceof r||p[p.length-1]!=='"'?void 0:typeof S!="string"?`${p.slice(0,-1)}${S}"`:S[0]==='"'?p.slice(0,-1)+S.slice(1):void 0;if(typeof S=="string"&&S[0]==='"'&&!(p instanceof r))return`"${p}${S.slice(1)}`}function f(p,S){return S.emptyStr()?p:p.emptyStr()?S:a`${p}${S}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),dM=Pe({"../core/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Jb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,g=(f=u.key)!==null&&f!==void 0?f:u.ref;let m=this._values[h];if(m){const p=m.get(g);if(p)return p}else m=this._values[h]=new Map;m.set(g,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const g in l){const m=l[g];if(!m)continue;const _=f[g]=f[g]||new Map;m.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${S} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=s}}),br=Pe({"../core/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Jb(),r=dM(),n=Jb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=dM();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,N){return this}},a=class extends o{constructor(P,N,q){super(),this.varKind=P,this.name=N,this.rhs=q}render({es5:P,_n:N}){const q=P?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${oe};`+N}optimizeNames(P,N){if(P[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,P,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(P,N,q){super(),this.lhs=P,this.rhs=N,this.sideEffects=q}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,N){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,P,N),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends s{constructor(P,N,q,oe){super(P,q,oe),this.op=N}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},h=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,N){return this.code=Q(this.code,P,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},g=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((N,q)=>N+q.render(P),"")}optimizeNodes(){const{nodes:P}=this;let N=P.length;for(;N--;){const q=P[N].optimizeNodes();Array.isArray(q)?P.splice(N,1,...q):q?P[N]=q:P.splice(N,1)}return P.length>0?this:void 0}optimizeNames(P,N){const{nodes:q}=this;let oe=q.length;for(;oe--;){const J=q[oe];J.optimizeNames(P,N)||(H(P,J.names),q.splice(oe,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((P,N)=>F(P,N.names),{})}},m=class extends g{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends g{},v=class extends m{};v.kind="else";var p=class Pw extends m{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return N===!1?q instanceof Pw?q:q.nodes:this.nodes.length?this:new Pw(X(N),q instanceof Pw?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=Q(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}};p.kind="if";var S=class extends m{};S.kind="for";var y=class extends S{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iteration=Q(this.iteration,P,N),this}get names(){return F(super.names,this.iteration.names)}},E=class extends S{constructor(P,N,q,oe){super(),this.varKind=P,this.name=N,this.from=q,this.to=oe}render(P){const N=P.es5?r.varKinds.var:this.varKind,{name:q,from:oe,to:J}=this;return`for(${N} ${q}=${oe}; ${q}<${J}; ${q}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends S{constructor(P,N,q,oe){super(),this.loop=P,this.varKind=N,this.name=q,this.iterable=oe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iterable=Q(this.iterable,P,N),this}get names(){return F(super.names,this.iterable.names)}},T=class extends m{constructor(P,N,q){super(),this.name=P,this.args=N,this.async=q}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends g{render(P){return"return "+super.render(P)}};d.kind="return";var A=class extends m{render(P){let N="try"+super.render(P);return this.catch&&(N+=this.catch.render(P)),this.finally&&(N+=this.finally.render(P)),N}optimizeNodes(){var P,N;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(P,N){var q,oe;return super.optimizeNames(P,N),(q=this.catch)===null||q===void 0||q.optimizeNames(P,N),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(P,N),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},x=class extends m{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};x.kind="catch";var O=class extends m{render(P){return"finally"+super.render(P)}};O.kind="finally";var C=class{constructor(P,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,N){const q=this._extScope.value(P,N);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(P,N){return this._extScope.getValue(P,N)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,N,q,oe){const J=this._scope.toName(N);return q!==void 0&&oe&&(this._constants[J.str]=q),this._leafNode(new a(P,J,q)),J}const(P,N,q){return this._def(r.varKinds.const,P,N,q)}let(P,N,q){return this._def(r.varKinds.let,P,N,q)}var(P,N,q){return this._def(r.varKinds.var,P,N,q)}assign(P,N,q){return this._leafNode(new s(P,N,q))}add(P,N){return this._leafNode(new l(P,e.operators.ADD,N))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const N=["{"];for(const[q,oe]of P)N.length>1&&N.push(","),N.push(q),(q!==oe||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,oe));return N.push("}"),new t._Code(N)}if(P,N,q){if(this._blockNode(new p(P)),N&&q)this.code(N).else().code(q).endIf();else if(N)this.code(N).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new p(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(P,N){return this._blockNode(P),N&&this.code(N).endFor(),this}for(P,N){return this._for(new y(P),N)}forRange(P,N,q,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new E(J,Y,N,q),()=>oe(Y))}forOf(P,N,q,oe=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${Y}.length`,se=>{this.var(J,(0,t._)`${Y}[${se}]`),q(J)})}return this._for(new $("of",oe,J,N),()=>q(J))}forIn(P,N,q,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${N})`,q);const J=this._scope.toName(P);return this._for(new $("in",oe,J,N),()=>q(J))}endFor(){return this._endBlockNode(S)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const N=new d;if(this._blockNode(N),this.code(P),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,N,q){if(!N&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new A;if(this._blockNode(oe),this.code(P),N){const J=this.name("e");this._currNode=oe.catch=new x(J),N(J)}return q&&(this._currNode=oe.finally=new O,this.code(q)),this._endBlockNode(x,O)}throw(P){return this._leafNode(new c(P))}block(P,N){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(N),this}endBlock(P){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-N;if(q<0||P!==void 0&&q!==P)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${P} expected`);return this._nodes.length=N,this}func(P,N=t.nil,q,oe){return this._blockNode(new T(P,N,q)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,N){const q=this._currNode;if(q instanceof P||N&&q instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${P.kind}/${N.kind}`:P.kind}"`)}_elseNode(P){const N=this._currNode;if(!(N instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const N=this._nodes;N[N.length-1]=P}};e.CodeGen=C;function F(P,N){for(const q in N)P[q]=(P[q]||0)+(N[q]||0);return P}function V(P,N){return N instanceof t._CodeOrName?F(P,N.names):P}function Q(P,N,q){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function oe(Y){const se=q[Y.str];return se===void 0||N[Y.str]!==1?Y:(delete N[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&N[se.str]===1&&q[se.str]!==void 0)}}function H(P,N){for(const q in N)P[q]=(P[q]||0)-(N[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${G(P)}`}e.not=X;var ce=B(e.operators.AND);function Z(...P){return P.reduce(ce)}e.and=Z;var ie=B(e.operators.OR);function k(...P){return P.reduce(ie)}e.or=k;function B(P){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${G(N)} ${P} ${G(q)}`}function G(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),Ur=Pe({"../core/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=br(),r=Jb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const O=x.RULES.keywords;for(const C in d)O[C]||$(T,`unknown keyword: "${C}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,x,O){if(!O){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function g(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=g;function m({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(O,C,F,V)=>{const Q=F===void 0?C:F instanceof t.Name?(C instanceof t.Name?T(O,C,F):d(O,C,F),F):C instanceof t.Name?(d(O,F,C),C):A(C,F);return V===t.Name&&!(Q instanceof t.Name)?x(O,Q):Q}}e.mergeEvaluated={props:m({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:m({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var p={};function S(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=S;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function E(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=E;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),gc=Pe({"../core/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),gE=Pe({"../core/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=br(),r=Ur(),n=gc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,S,y){const{it:E}=v,{gen:$,compositeRule:T,allErrors:d}=E,A=c(v,p,S);y??(T||d)?l($,A):u(E,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,S){const{it:y}=v,{gen:E,compositeRule:$,allErrors:T}=y,d=c(v,p,S);l(E,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:S,data:y,errsCount:E,it:$}){if(E===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",E,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,S),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const S=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${S}]`),(0,t._)`${n.default.vErrors}.push(${S})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:S,validateName:y,schemaEnv:E}=v;E.$async?S.throw((0,t._)`new ${v.ValidationError}(${p})`):(S.assign((0,t._)`${y}.errors`,p),S.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,S){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,S)}function h(v,p,S={}){const{gen:y,it:E}=v,$=[g(E,S),m(v,S)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const S=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,S)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:S,parentSchema:y}){let E=y?p:(0,t.str)`${p}/${v}`;return S&&(E=(0,t.str)`${E}${(0,r.getErrorPath)(S,r.Type.Str)}`),[f.schemaPath,E]}function _(v,{params:p,message:S},y){const{keyword:E,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,E],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof S=="function"?S(v):S]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),zre=Pe({"../core/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=gE(),r=br(),n=gc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),nV=Pe({"../core/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),iV=Pe({"../core/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),Yb=Pe({"../core/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=nV(),r=iV(),n=gE(),i=br(),o=Ur(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function s(y){const E=l(y.type);if(E.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&E.push("null")}return E}e.getSchemaTypes=s;function l(y){const E=Array.isArray(y)?y:y?[y]:[];if(E.every(t.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}e.getJSONTypes=l;function u(y,E){const{gen:$,data:T,opts:d}=y,A=c(E,d.coerceTypes),x=E.length>0&&!(A.length===0&&E.length===1&&(0,r.schemaHasRulesForType)(y,E[0]));if(x){const O=_(E,T,d.strictNumbers,a.Wrong);$.if(O,()=>{A.length?h(y,E,A):p(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,E){return E?y.filter($=>f.has($)||E==="array"&&$==="array"):[]}function h(y,E,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(E,d,A.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&C(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),g(y,O)});function C(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function g({gen:y,parentData:E,parentDataProperty:$},T){y.if((0,i._)`${E} !== undefined`,()=>y.assign((0,i._)`${E}[${$}]`,T))}function m(y,E,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${E} ${d} null`;case"array":A=(0,i._)`Array.isArray(${E})`;break;case"object":A=(0,i._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":A=x((0,i._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${E} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function x(O=i.nil){return(0,i.and)((0,i._)`typeof ${E} == "number"`,O,$?(0,i._)`isFinite(${E})`:i.nil)}}e.checkDataType=m;function _(y,E,$,T){if(y.length===1)return m(y[0],E,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${E} != "object"`;d=A.null?x:(0,i._)`!${E} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,m(x,E,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:E})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${E}}`};function p(y){const E=S(y);(0,n.reportError)(E,v)}e.reportTypeError=p;function S(y){const{gen:E,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:E,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),qre=Pe({"../core/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=br(),r=Ur();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let g=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(g=(0,t._)`${g} || ${h} === null || ${h} === ""`),l.if(g,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}}}),bs=Pe({"../core/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=br(),r=Ur(),n=gc(),i=Ur();function o(y,E){const{gen:$,data:T,it:d}=y;$.if(c($,T,E,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${E}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:E,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,E,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,E){y.setParams({missingProperty:E},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,E,$){return(0,t._)`${l(y)}.call(${E}, ${$})`}e.isOwnProperty=u;function f(y,E,$,T){const d=(0,t._)`${E}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,E,$)}`:d}e.propertyInData=f;function c(y,E,$,T){const d=(0,t._)`${E}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,E,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(E=>E!=="__proto__"):[]}e.allSchemaProperties=h;function g(y,E){return h(E).filter($=>!(0,r.alwaysValidSchema)(y,E[$]))}e.schemaProperties=g;function m({schemaCode:y,data:E,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},O,C,F){const V=F?(0,t._)`${y}, ${E}, ${T}${d}`:E,Q=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&Q.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...Q)}`;return C!==t.nil?(0,t._)`${O}.call(${C}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=m;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:E}},$){const T=E.unicodeRegExp?"u":"",{regExp:d}=E.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:E,data:$,keyword:T,it:d}=y,A=E.name("valid");if(d.allErrors){const O=E.let("valid",!0);return x(()=>E.assign(O,!1)),O}return E.var(A,!0),x(()=>E.break()),A;function x(O){const C=E.const("len",(0,t._)`${$}.length`);E.forRange("i",0,C,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),E.if((0,t.not)(A),O)})}}e.validateArray=p;function S(y){const{gen:E,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(C=>(0,r.alwaysValidSchema)(d,C))&&!d.opts.unevaluated)return;const x=E.let("valid",!1),O=E.name("_valid");E.block(()=>$.forEach((C,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);E.assign(x,(0,t._)`${x} || ${O}`),y.mergeValidEvaluated(V,O)||E.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=S}}),Vre=Pe({"../core/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=br(),r=gc(),n=bs(),i=gE();function o(g,m){const{gen:_,keyword:v,schema:p,parentSchema:S,it:y}=g,E=m.macro.call(y.self,p,S,y),$=f(_,v,E);y.opts.validateSchema!==!1&&y.self.validateSchema(E,!0);const T=_.name("valid");g.subschema({schema:E,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),g.pass(T,()=>g.error(!0))}e.macroKeywordCode=o;function a(g,m){var _;const{gen:v,keyword:p,schema:S,parentSchema:y,$data:E,it:$}=g;u($,m);const T=!E&&m.compile?m.compile.call($.self,S,y,$):m.validate,d=f(v,p,T),A=v.let("valid");g.block$data(A,x),g.ok((_=m.valid)!==null&&_!==void 0?_:A);function x(){if(m.errors===!1)F(),m.modifying&&s(g),V(()=>g.error());else{const Q=m.async?O():C();m.modifying&&s(g),V(()=>l(g,Q))}}function O(){const Q=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(Q,(0,t._)`${H}.errors`),()=>v.throw(H))),Q}function C(){const Q=(0,t._)`${d}.errors`;return v.assign(Q,null),F(t.nil),Q}function F(Q=m.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,X=!("compile"in m&&!E||m.schema===!1);v.assign(A,(0,t._)`${Q}${(0,n.callValidateCode)(g,d,H,X)}`,m.modifying)}function V(Q){var H;v.if((0,t.not)((H=m.valid)!==null&&H!==void 0?H:A),Q)}}e.funcKeywordCode=a;function s(g){const{gen:m,data:_,it:v}=g;m.if(v.parentData,()=>m.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(g,m){const{gen:_}=g;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${m} : ${r.default.vErrors}.concat(${m})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},m){if(m.async&&!g.$async)throw new Error("async keyword in sync schema")}function f(g,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return g.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(g,m,_=!1){return!m.length||m.some(v=>v==="array"?Array.isArray(g):v==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==v||_&&typeof g>"u")}e.validSchemaType=c;function h({schema:g,opts:m,self:_,errSchemaPath:v},p,S){if(Array.isArray(p.keyword)?!p.keyword.includes(S):p.keyword!==S)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(E=>!Object.prototype.hasOwnProperty.call(g,E)))throw new Error(`parent schema must have dependencies of ${S}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(g[S])){const $=`keyword "${S}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(m.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),Hre=Pe({"../core/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=br(),r=Ur();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const g=a.schema[s];return l===void 0?{schema:g,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:g[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=s,S=g.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);m(S),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:g.let("data",f,!0);m(_),h!==void 0&&(a.propertyName=h)}c&&(a.dataTypes=c);function m(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),Wre=Pe({"../core/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,h,g,m){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,h,g,m);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,a,s,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var S in v)n(o,a,s,v[S],u+"/"+_+"/"+i(S),f,u,_,l,S)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,h,g,m)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),vE=Pe({"../core/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Ur(),r=qh(),n=Wre(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!s(v):p?l(v)<=p:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const p in v){if(a.has(p))return!0;const S=v[p];if(Array.isArray(S)&&S.some(s)||typeof S=="object"&&s(S))return!0}return!1}function l(v){let p=0;for(const S in v){if(S==="$ref")return 1/0;if(p++,!i.has(S)&&(typeof v[S]=="object"&&(0,t.eachItem)(v[S],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",S){S!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function g(v,p,S){return S=h(S),v.resolve(p,S)}e.resolveUrl=g;var m=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:S,uriResolver:y}=this.opts,E=h(v[S]||p),$={"":E},T=u(y,E,!1),d={},A=new Set;return n(v,{allKeys:!0},(C,F,V,Q)=>{if(Q===void 0)return;const H=T+F;let X=$[Q];typeof C[S]=="string"&&(X=ce.call(this,C[S])),Z.call(this,C.$anchor),Z.call(this,C.$dynamicAnchor),$[F]=X;function ce(ie){const k=this.opts.uriResolver.resolve;if(ie=h(X?k(X,ie):ie),A.has(ie))throw O(ie);A.add(ie);let B=this.refs[ie];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(C,B.schema,ie):ie!==h(H)&&(ie[0]==="#"?(x(C,d[ie],ie),d[ie]=C):this.refs[ie]=H),ie}function Z(ie){if(typeof ie=="string"){if(!m.test(ie))throw new Error(`invalid anchor "${ie}"`);ce.call(this,`#${ie}`)}}}),d;function x(C,F,V){if(F!==void 0&&!r(C,F))throw O(V)}function O(C){return new Error(`reference "${C}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),yE=Pe({"../core/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=zre(),r=Yb(),n=iV(),i=Yb(),o=qre(),a=Vre(),s=Hre(),l=br(),u=gc(),f=vE(),c=Ur(),h=gE();function g(R){if(T(R)&&(A(R),$(R))){p(R);return}m(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=g;function m({gen:R,validateName:D,schema:M,schemaEnv:K,opts:ae},fe){ae.code.es5?R.func(D,(0,l._)`${u.default.data}, ${u.default.valCxt}`,K.$async,()=>{R.code((0,l._)`"use strict"; ${y(M,ae)}`),v(R,ae),R.code(fe)}):R.func(D,(0,l._)`${u.default.data}, ${_(ae)}`,K.$async,()=>R.code(y(M,ae)).code(fe))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,D){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),D.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),D.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(R){const{schema:D,opts:M,gen:K}=R;m(R,()=>{M.$comment&&D.$comment&&Q(R),C(R),K.let(u.default.vErrors,null),K.let(u.default.errors,0),M.unevaluated&&S(R),x(R),H(R)})}function S(R){const{gen:D,validateName:M}=R;R.evaluated=D.const("evaluated",(0,l._)`${M}.evaluated`),D.if((0,l._)`${R.evaluated}.dynamicProps`,()=>D.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),D.if((0,l._)`${R.evaluated}.dynamicItems`,()=>D.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,D){const M=typeof R=="object"&&R[D.schemaId];return M&&(D.code.source||D.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function E(R,D){if(T(R)&&(A(R),$(R))){d(R,D);return}(0,t.boolOrEmptySchema)(R,D)}function $({schema:R,self:D}){if(typeof R=="boolean")return!R;for(const M in R)if(D.RULES.all[M])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,D){const{schema:M,gen:K,opts:ae}=R;ae.$comment&&M.$comment&&Q(R),F(R),V(R);const fe=K.const("_errs",u.default.errors);x(R,fe),K.var(D,(0,l._)`${fe} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),O(R)}function x(R,D){if(R.opts.jtd)return ce(R,[],!1,D);const M=(0,r.getSchemaTypes)(R.schema),K=(0,r.coerceAndCheckDataType)(R,M);ce(R,M,!K,D)}function O(R){const{schema:D,errSchemaPath:M,opts:K,self:ae}=R;D.$ref&&K.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(D,ae.RULES)&&ae.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function C(R){const{schema:D,opts:M}=R;D.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const D=R.schema[R.opts.schemaId];D&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,D))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function Q({gen:R,schemaEnv:D,schema:M,errSchemaPath:K,opts:ae}){const fe=M.$comment;if(ae.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${fe})`);else if(typeof ae.$comment=="function"){const de=(0,l.str)`${K}/$comment`,pe=R.scopeValue("root",{ref:D.root});R.code((0,l._)`${u.default.self}.opts.$comment(${fe}, ${de}, ${pe}.schema)`)}}function H(R){const{gen:D,schemaEnv:M,validateName:K,ValidationError:ae,opts:fe}=R;M.$async?D.if((0,l._)`${u.default.errors} === 0`,()=>D.return(u.default.data),()=>D.throw((0,l._)`new ${ae}(${u.default.vErrors})`)):(D.assign((0,l._)`${K}.errors`,u.default.vErrors),fe.unevaluated&&X(R),D.return((0,l._)`${u.default.errors} === 0`))}function X({gen:R,evaluated:D,props:M,items:K}){M instanceof l.Name&&R.assign((0,l._)`${D}.props`,M),K instanceof l.Name&&R.assign((0,l._)`${D}.items`,K)}function ce(R,D,M,K){const{gen:ae,schema:fe,data:de,allErrors:pe,opts:xe,self:Le}=R,{RULES:ke}=Le;if(fe.$ref&&(xe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(fe,ke))){ae.block(()=>Y(R,"$ref",ke.all.$ref.definition));return}xe.jtd||ie(R,D),ae.block(()=>{for(const qe of ke.rules)nt(qe);nt(ke.post)});function nt(qe){(0,n.shouldUseGroup)(fe,qe)&&(qe.type?(ae.if((0,i.checkDataType)(qe.type,de,xe.strictNumbers)),Z(R,qe),D.length===1&&D[0]===qe.type&&M&&(ae.else(),(0,i.reportTypeError)(R)),ae.endIf()):Z(R,qe),pe||ae.if((0,l._)`${u.default.errors} === ${K||0}`))}}function Z(R,D){const{gen:M,schema:K,opts:{useDefaults:ae}}=R;ae&&(0,o.assignDefaults)(R,D.type),M.block(()=>{for(const fe of D.rules)(0,n.shouldUseRule)(K,fe)&&Y(R,fe.keyword,fe.definition,D.type)})}function ie(R,D){R.schemaEnv.meta||!R.opts.strictTypes||(k(R,D),R.opts.allowUnionTypes||B(R,D),G(R,R.dataTypes))}function k(R,D){if(D.length){if(!R.dataTypes.length){R.dataTypes=D;return}D.forEach(M=>{N(R.dataTypes,M)||oe(R,`type "${M}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,D)}}function B(R,D){D.length>1&&!(D.length===2&&D.includes("null"))&&oe(R,"use allowUnionTypes to allow union type keyword")}function G(R,D){const M=R.self.RULES.all;for(const K in M){const ae=M[K];if(typeof ae=="object"&&(0,n.shouldUseRule)(R.schema,ae)){const{type:fe}=ae.definition;fe.length&&!fe.some(de=>P(D,de))&&oe(R,`missing type "${fe.join(",")}" for keyword "${K}"`)}}}function P(R,D){return R.includes(D)||D==="number"&&R.includes("integer")}function N(R,D){return R.includes(D)||D==="integer"&&R.includes("number")}function q(R,D){const M=[];for(const K of R.dataTypes)N(D,K)?M.push(K):D.includes("integer")&&K==="number"&&M.push("integer");R.dataTypes=M}function oe(R,D){const M=R.schemaEnv.baseId+R.errSchemaPath;D+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(R,D,R.opts.strictTypes)}var J=class{constructor(R,D,M){if((0,a.validateKeywordUsage)(R,D,M),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=M,this.data=R.data,this.schema=R.schema[M],this.$data=D.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,M,this.$data),this.schemaType=D.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=D,this.$data)this.schemaCode=R.gen.const("vSchema",Ne(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,D,M){this.failResult((0,l.not)(R),D,M)}failResult(R,D,M){this.gen.if(R),M?M():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,D){this.failResult((0,l.not)(R),void 0,D)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:D}=this;this.fail((0,l._)`${D} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,D,M){if(D){this.setParams(D),this._error(R,M),this.setParams({});return}this._error(R,M)}_error(R,D){(R?h.reportExtraError:h.reportError)(this,this.def.error,D)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,D){D?Object.assign(this.params,R):this.params=R}block$data(R,D,M=l.nil){this.gen.block(()=>{this.check$data(R,M),D()})}check$data(R=l.nil,D=l.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:ae,def:fe}=this;M.if((0,l.or)((0,l._)`${K} === undefined`,D)),R!==l.nil&&M.assign(R,!0),(ae.length||fe.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&M.assign(R,!1)),M.else()}invalid$data(){const{gen:R,schemaCode:D,schemaType:M,def:K,it:ae}=this;return(0,l.or)(fe(),de());function fe(){if(M.length){if(!(D instanceof l.Name))throw new Error("ajv implementation error");const pe=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(pe,D,ae.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(K.validateSchema){const pe=R.scopeValue("validate$data",{ref:K.validateSchema});return(0,l._)`!${pe}(${D})`}return l.nil}}subschema(R,D){const M=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(M,this.it,R),(0,s.extendSubschemaMode)(M,R);const K={...this.it,...M,items:void 0,props:void 0};return E(K,D),K}mergeEvaluated(R,D){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&R.props!==void 0&&(M.props=c.mergeEvaluated.props(K,R.props,M.props,D)),M.items!==!0&&R.items!==void 0&&(M.items=c.mergeEvaluated.items(K,R.items,M.items,D)))}mergeValidEvaluated(R,D){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(D,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,D,M,K){const ae=new J(R,M,D);"code"in M?M.code(ae,K):ae.$data&&M.validate?(0,a.funcKeywordCode)(ae,M):"macro"in M?(0,a.macroKeywordCode)(ae,M):(M.compile||M.validate)&&(0,a.funcKeywordCode)(ae,M)}var se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ne(R,{dataLevel:D,dataNames:M,dataPathArr:K}){let ae,fe;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!se.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);ae=R,fe=u.default.rootData}else{const Le=be.exec(R);if(!Le)throw new Error(`Invalid JSON-pointer: ${R}`);const ke=+Le[1];if(ae=Le[2],ae==="#"){if(ke>=D)throw new Error(xe("property/index",ke));return K[D-ke]}if(ke>D)throw new Error(xe("data",ke));if(fe=M[D-ke],!ae)return fe}let de=fe;const pe=ae.split("/");for(const Le of pe)Le&&(fe=(0,l._)`${fe}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,de=(0,l._)`${de} && ${fe}`);return de;function xe(Le,ke){return`Cannot access ${Le} ${ke} levels up, current level is ${D}`}}e.getData=Ne}}),RN=Pe({"../core/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),NN=Pe({"../core/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=vE(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),IN=Pe({"../core/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=br(),r=RN(),n=gc(),i=vE(),o=Ur(),a=yE(),s=class{constructor(p){var S;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(S=p.baseId)!==null&&S!==void 0?S:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(p){const S=c.call(this,p);if(S)return S;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:E,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:E,lines:$,ownProperties:T});let A;p.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");p.validateName=x;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:x,ValidationError:A,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(p),(0,a.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();C=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(C=this.opts.code.process(C,p));const Q=new Function(`${n.default.self}`,`${n.default.scope}`,C)(this,this.scope.get());if(this.scope.value(x,{ref:Q}),Q.errors=null,Q.schema=p.schema,Q.schemaEnv=p,p.$async&&(Q.$async=!0),this.opts.code.source===!0&&(Q.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:X}=O;Q.evaluated={props:H instanceof t.Name?void 0:H,items:X instanceof t.Name?void 0:X,dynamicProps:H instanceof t.Name,dynamicItems:X instanceof t.Name},Q.source&&(Q.source.evaluated=(0,t.stringify)(Q.evaluated))}return p.validate=Q,p}catch(F){throw delete p.validate,delete p.validateName,C&&this.logger.error("Error compiling schema, function code:",C),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,S,y){var E;y=(0,i.resolveUrl)(this.opts.uriResolver,S,y);const $=p.refs[y];if($)return $;let T=g.call(this,p,y);if(T===void 0){const d=(E=p.localRefs)===null||E===void 0?void 0:E[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:p,baseId:S}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const S of this._compilations)if(h(S,p))return S}e.getCompilingSchema=c;function h(p,S){return p.schema===S.schema&&p.root===S.root&&p.baseId===S.baseId}function g(p,S){let y;for(;typeof(y=this.refs[S])=="string";)S=y;return y||this.schemas[S]||m.call(this,p,S)}function m(p,S){const y=this.opts.uriResolver.parse(S),E=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&E===$)return v.call(this,y,p);const T=(0,i.normalizeId)(E),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=m.call(this,p,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(S)){const{schema:A}=d,{schemaId:x}=this.opts,O=A[x];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new s({schema:A,schemaId:x,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=m;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:S,schema:y,root:E}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&O&&(S=(0,i.resolveUrl)(this.opts.uriResolver,S,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,S,y.$ref);T=m.call(this,E,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:E,baseId:S}),T.schema!==T.root.schema)return T}}}),Gre=Pe({"../core/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),oV=Pe({"../../node_modules/uri-js/dist/es5/uri.all.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n(r.URI=r.URI||{})}(e,function(r){function n(){for(var he=arguments.length,ue=Array(he),we=0;we<he;we++)ue[we]=arguments[we];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var Re=ue.length-1,Ae=1;Ae<Re;++Ae)ue[Ae]=ue[Ae].slice(1,-1);return ue[Re]=ue[Re].slice(1),ue.join("")}else return ue[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function a(he){return he.toUpperCase()}function s(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,ue){var we=he;if(ue)for(var Re in ue)we[Re]=ue[Re];return we}function u(he){var ue="[A-Za-z]",we="[0-9]",Re=n(we,"[A-Fa-f]"),Ae=i(i("%[EFef]"+Re+"%"+Re+Re+"%"+Re+Re)+"|"+i("%[89A-Fa-f]"+Re+"%"+Re+Re)+"|"+i("%"+Re+Re)),ot="[\\:\\/\\?\\#\\[\\]\\@]",tt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Tt=n(ot,tt),jt=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Lt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(ue,we,"[\\-\\.\\_\\~]",jt);i(ue+n(ue,we,"[\\+\\-\\.]")+"*"),i(i(Ae+"|"+n($t,tt,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Ht=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),yt=i(Re+"{1,4}"),zt=i(i(yt+"\\:"+yt)+"|"+Ht),At=i(i(yt+"\\:")+"{6}"+zt),Ct=i("\\:\\:"+i(yt+"\\:")+"{5}"+zt),en=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+zt),jr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+zt),Vr=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+zt),mn=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+zt),Wn=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+zt),Cr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Qr=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Zn=i([At,Ct,en,jr,Vr,mn,Wn,Cr,Qr].join("|")),gn=i(i($t+"|"+Ae)+"+");i("[vV]"+Re+"+\\."+n($t,tt,"[\\:]")+"+"),i(i(Ae+"|"+n($t,tt))+"*");var pi=i(Ae+"|"+n($t,tt,"[\\:\\@]"));return i(i(Ae+"|"+n($t,tt,"[\\@]"))+"+"),i(i(pi+"|"+n("[\\/\\?]",Lt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,tt),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,tt),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,tt),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,tt),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]",Lt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,tt),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,Tt),"g"),PCT_ENCODED:new RegExp(Ae,"g"),IPV4ADDRESS:new RegExp("^("+Ht+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zn+")"+i(i("\\%25|\\%(?!"+Re+"{2})")+"("+gn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function he(ue,we){var Re=[],Ae=!0,ot=!1,tt=void 0;try{for(var Tt=ue[Symbol.iterator](),jt;!(Ae=(jt=Tt.next()).done)&&(Re.push(jt.value),!(we&&Re.length===we));Ae=!0);}catch(Lt){ot=!0,tt=Lt}finally{try{!Ae&&Tt.return&&Tt.return()}finally{if(ot)throw tt}}return Re}return function(ue,we){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return he(ue,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(he){if(Array.isArray(he)){for(var ue=0,we=Array(he.length);ue<he.length;ue++)we[ue]=he[ue];return we}else return Array.from(he)},m=2147483647,_=36,v=1,p=26,S=38,y=700,E=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=_-v,F=Math.floor,V=String.fromCharCode;function Q(he){throw new RangeError(O[he])}function H(he,ue){for(var we=[],Re=he.length;Re--;)we[Re]=ue(he[Re]);return we}function X(he,ue){var we=he.split("@"),Re="";we.length>1&&(Re=we[0]+"@",he=we[1]),he=he.replace(x,".");var Ae=he.split("."),ot=H(Ae,ue).join(".");return Re+ot}function ce(he){for(var ue=[],we=0,Re=he.length;we<Re;){var Ae=he.charCodeAt(we++);if(Ae>=55296&&Ae<=56319&&we<Re){var ot=he.charCodeAt(we++);(ot&64512)==56320?ue.push(((Ae&1023)<<10)+(ot&1023)+65536):(ue.push(Ae),we--)}else ue.push(Ae)}return ue}var Z=function(ue){return String.fromCodePoint.apply(String,g(ue))},ie=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},k=function(ue,we){return ue+22+75*(ue<26)-((we!=0)<<5)},B=function(ue,we,Re){var Ae=0;for(ue=Re?F(ue/y):ue>>1,ue+=F(ue/we);ue>C*p>>1;Ae+=_)ue=F(ue/C);return F(Ae+(C+1)*ue/(ue+S))},G=function(ue){var we=[],Re=ue.length,Ae=0,ot=$,tt=E,Tt=ue.lastIndexOf(T);Tt<0&&(Tt=0);for(var jt=0;jt<Tt;++jt)ue.charCodeAt(jt)>=128&&Q("not-basic"),we.push(ue.charCodeAt(jt));for(var Lt=Tt>0?Tt+1:0;Lt<Re;){for(var $t=Ae,Rt=1,Ht=_;;Ht+=_){Lt>=Re&&Q("invalid-input");var yt=ie(ue.charCodeAt(Lt++));(yt>=_||yt>F((m-Ae)/Rt))&&Q("overflow"),Ae+=yt*Rt;var zt=Ht<=tt?v:Ht>=tt+p?p:Ht-tt;if(yt<zt)break;var At=_-zt;Rt>F(m/At)&&Q("overflow"),Rt*=At}var Ct=we.length+1;tt=B(Ae-$t,Ct,$t==0),F(Ae/Ct)>m-ot&&Q("overflow"),ot+=F(Ae/Ct),Ae%=Ct,we.splice(Ae++,0,ot)}return String.fromCodePoint.apply(String,we)},P=function(ue){var we=[];ue=ce(ue);var Re=ue.length,Ae=$,ot=0,tt=E,Tt=!0,jt=!1,Lt=void 0;try{for(var $t=ue[Symbol.iterator](),Rt;!(Tt=(Rt=$t.next()).done);Tt=!0){var Ht=Rt.value;Ht<128&&we.push(V(Ht))}}catch(Un){jt=!0,Lt=Un}finally{try{!Tt&&$t.return&&$t.return()}finally{if(jt)throw Lt}}var yt=we.length,zt=yt;for(yt&&we.push(T);zt<Re;){var At=m,Ct=!0,en=!1,jr=void 0;try{for(var Vr=ue[Symbol.iterator](),mn;!(Ct=(mn=Vr.next()).done);Ct=!0){var Wn=mn.value;Wn>=Ae&&Wn<At&&(At=Wn)}}catch(Un){en=!0,jr=Un}finally{try{!Ct&&Vr.return&&Vr.return()}finally{if(en)throw jr}}var Cr=zt+1;At-Ae>F((m-ot)/Cr)&&Q("overflow"),ot+=(At-Ae)*Cr,Ae=At;var Qr=!0,Zn=!1,gn=void 0;try{for(var pi=ue[Symbol.iterator](),oa;!(Qr=(oa=pi.next()).done);Qr=!0){var aa=oa.value;if(aa<Ae&&++ot>m&&Q("overflow"),aa==Ae){for(var kr=ot,En=_;;En+=_){var mi=En<=tt?v:En>=tt+p?p:En-tt;if(kr<mi)break;var Es=kr-mi,sa=_-mi;we.push(V(k(mi+Es%sa,0))),kr=F(Es/sa)}we.push(V(k(kr,0))),tt=B(ot,Cr,zt==yt),ot=0,++zt}}}catch(Un){Zn=!0,gn=Un}finally{try{!Qr&&pi.return&&pi.return()}finally{if(Zn)throw gn}}++ot,++Ae}return we.join("")},N=function(ue){return X(ue,function(we){return d.test(we)?G(we.slice(4).toLowerCase()):we})},q=function(ue){return X(ue,function(we){return A.test(we)?"xn--"+P(we):we})},oe={version:"2.1.0",ucs2:{decode:ce,encode:Z},decode:G,encode:P,toASCII:q,toUnicode:N},J={};function Y(he){var ue=he.charCodeAt(0),we=void 0;return ue<16?we="%0"+ue.toString(16).toUpperCase():ue<128?we="%"+ue.toString(16).toUpperCase():ue<2048?we="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():we="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),we}function se(he){for(var ue="",we=0,Re=he.length;we<Re;){var Ae=parseInt(he.substr(we+1,2),16);if(Ae<128)ue+=String.fromCharCode(Ae),we+=3;else if(Ae>=194&&Ae<224){if(Re-we>=6){var ot=parseInt(he.substr(we+4,2),16);ue+=String.fromCharCode((Ae&31)<<6|ot&63)}else ue+=he.substr(we,6);we+=6}else if(Ae>=224){if(Re-we>=9){var tt=parseInt(he.substr(we+4,2),16),Tt=parseInt(he.substr(we+7,2),16);ue+=String.fromCharCode((Ae&15)<<12|(tt&63)<<6|Tt&63)}else ue+=he.substr(we,9);we+=9}else ue+=he.substr(we,3),we+=3}return ue}function be(he,ue){function we(Re){var Ae=se(Re);return Ae.match(ue.UNRESERVED)?Ae:Re}return he.scheme&&(he.scheme=String(he.scheme).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(ue.PCT_ENCODED,we).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,a)),he.host!==void 0&&(he.host=String(he.host).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,a)),he.path!==void 0&&(he.path=String(he.path).replace(ue.PCT_ENCODED,we).replace(he.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,a)),he.query!==void 0&&(he.query=String(he.query).replace(ue.PCT_ENCODED,we).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,a)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(ue.PCT_ENCODED,we).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,a)),he}function Ne(he){return he.replace(/^0*(.*)/,"$1")||"0"}function R(he,ue){var we=he.match(ue.IPV4ADDRESS)||[],Re=h(we,2),Ae=Re[1];return Ae?Ae.split(".").map(Ne).join("."):he}function D(he,ue){var we=he.match(ue.IPV6ADDRESS)||[],Re=h(we,3),Ae=Re[1],ot=Re[2];if(Ae){for(var tt=Ae.toLowerCase().split("::").reverse(),Tt=h(tt,2),jt=Tt[0],Lt=Tt[1],$t=Lt?Lt.split(":").map(Ne):[],Rt=jt.split(":").map(Ne),Ht=ue.IPV4ADDRESS.test(Rt[Rt.length-1]),yt=Ht?7:8,zt=Rt.length-yt,At=Array(yt),Ct=0;Ct<yt;++Ct)At[Ct]=$t[Ct]||Rt[zt+Ct]||"";Ht&&(At[yt-1]=R(At[yt-1],ue));var en=At.reduce(function(Cr,Qr,Zn){if(!Qr||Qr==="0"){var gn=Cr[Cr.length-1];gn&&gn.index+gn.length===Zn?gn.length++:Cr.push({index:Zn,length:1})}return Cr},[]),jr=en.sort(function(Cr,Qr){return Qr.length-Cr.length})[0],Vr=void 0;if(jr&&jr.length>1){var mn=At.slice(0,jr.index),Wn=At.slice(jr.index+jr.length);Vr=mn.join(":")+"::"+Wn.join(":")}else Vr=At.join(":");return ot&&(Vr+="%"+ot),Vr}else return he}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,K="".match(/(){0}/)[1]===void 0;function ae(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},Re=ue.iri!==!1?c:f;ue.reference==="suffix"&&(he=(ue.scheme?ue.scheme+":":"")+"//"+he);var Ae=he.match(M);if(Ae){K?(we.scheme=Ae[1],we.userinfo=Ae[3],we.host=Ae[4],we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=Ae[7],we.fragment=Ae[8],isNaN(we.port)&&(we.port=Ae[5])):(we.scheme=Ae[1]||void 0,we.userinfo=he.indexOf("@")!==-1?Ae[3]:void 0,we.host=he.indexOf("//")!==-1?Ae[4]:void 0,we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=he.indexOf("?")!==-1?Ae[7]:void 0,we.fragment=he.indexOf("#")!==-1?Ae[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ae[4]:void 0)),we.host&&(we.host=D(R(we.host,Re),Re)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==we.reference&&(we.error=we.error||"URI is not a "+ue.reference+" reference.");var ot=J[(ue.scheme||we.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!ot||!ot.unicodeSupport)){if(we.host&&(ue.domainHost||ot&&ot.domainHost))try{we.host=oe.toASCII(we.host.replace(Re.PCT_ENCODED,se).toLowerCase())}catch(tt){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+tt}be(we,f)}else be(we,Re);ot&&ot.parse&&ot.parse(we,ue)}else we.error=we.error||"URI can not be parsed.";return we}function fe(he,ue){var we=ue.iri!==!1?c:f,Re=[];return he.userinfo!==void 0&&(Re.push(he.userinfo),Re.push("@")),he.host!==void 0&&Re.push(D(R(String(he.host),we),we).replace(we.IPV6ADDRESS,function(Ae,ot,tt){return"["+ot+(tt?"%25"+tt:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(Re.push(":"),Re.push(String(he.port))),Re.length?Re.join(""):void 0}var de=/^\.\.?\//,pe=/^\/\.(\/|$)/,xe=/^\/\.\.(\/|$)/,Le=/^\/?(?:.|\n)*?(?=\/|$)/;function ke(he){for(var ue=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(pe))he=he.replace(pe,"/");else if(he.match(xe))he=he.replace(xe,"/"),ue.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Le);if(we){var Re=we[0];he=he.slice(Re.length),ue.push(Re)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function nt(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ue.iri?c:f,Re=[],Ae=J[(ue.scheme||he.scheme||"").toLowerCase()];if(Ae&&Ae.serialize&&Ae.serialize(he,ue),he.host&&!we.IPV6ADDRESS.test(he.host)){if(ue.domainHost||Ae&&Ae.domainHost)try{he.host=ue.iri?oe.toUnicode(he.host):oe.toASCII(he.host.replace(we.PCT_ENCODED,se).toLowerCase())}catch(Tt){he.error=he.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+Tt}}be(he,we),ue.reference!=="suffix"&&he.scheme&&(Re.push(he.scheme),Re.push(":"));var ot=fe(he,ue);if(ot!==void 0&&(ue.reference!=="suffix"&&Re.push("//"),Re.push(ot),he.path&&he.path.charAt(0)!=="/"&&Re.push("/")),he.path!==void 0){var tt=he.path;!ue.absolutePath&&(!Ae||!Ae.absolutePath)&&(tt=ke(tt)),ot===void 0&&(tt=tt.replace(/^\/\//,"/%2F")),Re.push(tt)}return he.query!==void 0&&(Re.push("?"),Re.push(he.query)),he.fragment!==void 0&&(Re.push("#"),Re.push(he.fragment)),Re.join("")}function qe(he,ue){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=arguments[3],Ae={};return Re||(he=ae(nt(he,we),we),ue=ae(nt(ue,we),we)),we=we||{},!we.tolerant&&ue.scheme?(Ae.scheme=ue.scheme,Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=ke(ue.path||""),Ae.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=ke(ue.path||""),Ae.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?Ae.path=ke(ue.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?Ae.path="/"+ue.path:he.path?Ae.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+ue.path:Ae.path=ue.path,Ae.path=ke(Ae.path)),Ae.query=ue.query):(Ae.path=he.path,ue.query!==void 0?Ae.query=ue.query:Ae.query=he.query),Ae.userinfo=he.userinfo,Ae.host=he.host,Ae.port=he.port),Ae.scheme=he.scheme),Ae.fragment=ue.fragment,Ae}function Ue(he,ue,we){var Re=l({scheme:"null"},we);return nt(qe(ae(he,Re),ae(ue,Re),Re,!0),Re)}function W(he,ue){return typeof he=="string"?he=nt(ae(he,ue),ue):o(he)==="object"&&(he=ae(nt(he,ue),ue)),he}function I(he,ue,we){return typeof he=="string"?he=nt(ae(he,we),we):o(he)==="object"&&(he=nt(he,we)),typeof ue=="string"?ue=nt(ae(ue,we),we):o(ue)==="object"&&(ue=nt(ue,we)),he===ue}function L(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function ne(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,se)}var ye={scheme:"http",domainHost:!0,parse:function(ue,we){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,we){var Re=String(ue.scheme).toLowerCase()==="https";return(ue.port===(Re?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Se={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function De(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var je={scheme:"ws",domainHost:!0,parse:function(ue,we){var Re=ue;return Re.secure=De(Re),Re.resourceName=(Re.path||"/")+(Re.query?"?"+Re.query:""),Re.path=void 0,Re.query=void 0,Re},serialize:function(ue,we){if((ue.port===(De(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var Re=ue.resourceName.split("?"),Ae=h(Re,2),ot=Ae[0],tt=Ae[1];ue.path=ot&&ot!=="/"?ot:void 0,ue.query=tt,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Be={scheme:"wss",domainHost:je.domainHost,parse:je.parse,serialize:je.serialize},at={},wt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ut="[0-9A-Fa-f]",kt=i(i("%[EFef]"+ut+"%"+ut+ut+"%"+ut+ut)+"|"+i("%[89A-Fa-f]"+ut+"%"+ut+ut)+"|"+i("%"+ut+ut)),Tr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",or=n(Pr,'[\\"\\\\]'),ur="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",on=new RegExp(wt,"g"),tr=new RegExp(kt,"g"),Dt=new RegExp(n("[^]",Tr,"[\\.]",'[\\"]',or),"g"),Jt=new RegExp(n("[^]",wt,ur),"g"),Ee=Jt;function Oe(he){var ue=se(he);return ue.match(on)?ue:he}var ct={scheme:"mailto",parse:function(ue,we){var Re=ue,Ae=Re.to=Re.path?Re.path.split(","):[];if(Re.path=void 0,Re.query){for(var ot=!1,tt={},Tt=Re.query.split("&"),jt=0,Lt=Tt.length;jt<Lt;++jt){var $t=Tt[jt].split("=");switch($t[0]){case"to":for(var Rt=$t[1].split(","),Ht=0,yt=Rt.length;Ht<yt;++Ht)Ae.push(Rt[Ht]);break;case"subject":Re.subject=ne($t[1],we);break;case"body":Re.body=ne($t[1],we);break;default:ot=!0,tt[ne($t[0],we)]=ne($t[1],we);break}}ot&&(Re.headers=tt)}Re.query=void 0;for(var zt=0,At=Ae.length;zt<At;++zt){var Ct=Ae[zt].split("@");if(Ct[0]=ne(Ct[0]),we.unicodeSupport)Ct[1]=ne(Ct[1],we).toLowerCase();else try{Ct[1]=oe.toASCII(ne(Ct[1],we).toLowerCase())}catch(en){Re.error=Re.error||"Email address's domain name can not be converted to ASCII via punycode: "+en}Ae[zt]=Ct.join("@")}return Re},serialize:function(ue,we){var Re=ue,Ae=s(ue.to);if(Ae){for(var ot=0,tt=Ae.length;ot<tt;++ot){var Tt=String(Ae[ot]),jt=Tt.lastIndexOf("@"),Lt=Tt.slice(0,jt).replace(tr,Oe).replace(tr,a).replace(Dt,Y),$t=Tt.slice(jt+1);try{$t=we.iri?oe.toUnicode($t):oe.toASCII(ne($t,we).toLowerCase())}catch(zt){Re.error=Re.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+zt}Ae[ot]=Lt+"@"+$t}Re.path=Ae.join(",")}var Rt=ue.headers=ue.headers||{};ue.subject&&(Rt.subject=ue.subject),ue.body&&(Rt.body=ue.body);var Ht=[];for(var yt in Rt)Rt[yt]!==at[yt]&&Ht.push(yt.replace(tr,Oe).replace(tr,a).replace(Jt,Y)+"="+Rt[yt].replace(tr,Oe).replace(tr,a).replace(Ee,Y));return Ht.length&&(Re.query=Ht.join("&")),Re}},ht=/^([^\:]+)\:(.*)/,et={scheme:"urn",parse:function(ue,we){var Re=ue.path&&ue.path.match(ht),Ae=ue;if(Re){var ot=we.scheme||Ae.scheme||"urn",tt=Re[1].toLowerCase(),Tt=Re[2],jt=ot+":"+(we.nid||tt),Lt=J[jt];Ae.nid=tt,Ae.nss=Tt,Ae.path=void 0,Lt&&(Ae=Lt.parse(Ae,we))}else Ae.error=Ae.error||"URN can not be parsed.";return Ae},serialize:function(ue,we){var Re=we.scheme||ue.scheme||"urn",Ae=ue.nid,ot=Re+":"+(we.nid||Ae),tt=J[ot];tt&&(ue=tt.serialize(ue,we));var Tt=ue,jt=ue.nss;return Tt.path=(Ae||we.nid)+":"+jt,Tt}},xt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ot={scheme:"urn:uuid",parse:function(ue,we){var Re=ue;return Re.uuid=Re.nss,Re.nss=void 0,!we.tolerant&&(!Re.uuid||!Re.uuid.match(xt))&&(Re.error=Re.error||"UUID is not valid."),Re},serialize:function(ue,we){var Re=ue;return Re.nss=(ue.uuid||"").toLowerCase(),Re}};J[ye.scheme]=ye,J[Se.scheme]=Se,J[je.scheme]=je,J[Be.scheme]=Be,J[ct.scheme]=ct,J[et.scheme]=et,J[Ot.scheme]=Ot,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=se,r.parse=ae,r.removeDotSegments=ke,r.serialize=nt,r.resolveComponents=qe,r.resolve=Ue,r.normalize=W,r.equal=I,r.escapeComponent=L,r.unescapeComponent=ne,Object.defineProperty(r,"__esModule",{value:!0})})}}),Kre=Pe({"../core/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=oV();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),Jre=Pe({"../core/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=yE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=RN(),i=NN(),o=nV(),a=IN(),s=br(),l=vE(),u=Yb(),f=Ur(),c=Gre(),h=Kre(),g=(k,B)=>new RegExp(k,B);g.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},S=200;function y(k){var B,G,P,N,q,oe,J,Y,se,be,Ne,R,D,M,K,ae,fe,de,pe,xe,Le,ke,nt,qe,Ue;const W=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ne=(P=(G=k.code)===null||G===void 0?void 0:G.regExp)!==null&&P!==void 0?P:g,ye=(N=k.uriResolver)!==null&&N!==void 0?N:h.default;return{strictSchema:(oe=(q=k.strictSchema)!==null&&q!==void 0?q:W)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=k.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Ne=k.strictTuples)!==null&&Ne!==void 0?Ne:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:W)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:S,loopEnum:(ae=k.loopEnum)!==null&&ae!==void 0?ae:S,meta:(fe=k.meta)!==null&&fe!==void 0?fe:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(xe=k.schemaId)!==null&&xe!==void 0?xe:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(ke=k.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(nt=k.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var E=class{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...y(k)};const{es5:B,lines:G}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:G}),this.logger=F(k.logger);const P=k.validateFormats;k.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,k,"NOT SUPPORTED"),$.call(this,p,k,"DEPRECATED","warn"),this._metaOpts=O.call(this),k.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&x.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),d.call(this),k.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:B,schemaId:G}=this.opts;let P=c;G==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&k&&this.addMetaSchema(P,P[G],!1)}defaultMeta(){const{meta:k,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[B]||k:void 0}validate(k,B){let G;if(typeof k=="string"){if(G=this.getSchema(k),!G)throw new Error(`no schema with key or ref "${k}"`)}else G=this.compile(k);const P=G(B);return"$async"in G||(this.errors=G.errors),P}compile(k,B){const G=this._addSchema(k,B);return G.validate||this._compileSchemaEnv(G)}compileAsync(k,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:G}=this.opts;return P.call(this,k,B);async function P(se,be){await N.call(this,se.$schema);const Ne=this._addSchema(se,be);return Ne.validate||q.call(this,Ne)}async function N(se){se&&!this.getSchema(se)&&await P.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(be){if(!(be instanceof i.default))throw be;return oe.call(this,be),await J.call(this,be.missingSchema),q.call(this,se)}}function oe({missingSchema:se,missingRef:be}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${be} cannot be resolved`)}async function J(se){const be=await Y.call(this,se);this.refs[se]||await N.call(this,be.$schema),this.refs[se]||this.addSchema(be,se,B)}async function Y(se){const be=this._loading[se];if(be)return be;try{return await(this._loading[se]=G(se))}finally{delete this._loading[se]}}}addSchema(k,B,G,P=this.opts.validateSchema){if(Array.isArray(k)){for(const q of k)this.addSchema(q,void 0,G,P);return this}let N;if(typeof k=="object"){const{schemaId:q}=this.opts;if(N=k[q],N!==void 0&&typeof N!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||N),this._checkUnique(B),this.schemas[B]=this._addSchema(k,G,B,P,!0),this}addMetaSchema(k,B,G=this.opts.validateSchema){return this.addSchema(k,B,!0,G),this}validateSchema(k,B){if(typeof k=="boolean")return!0;let G;if(G=k.$schema,G!==void 0&&typeof G!="string")throw new Error("$schema must be a string");if(G=G||this.opts.defaultMeta||this.defaultMeta(),!G)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(G,k);if(!P&&B){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return P}getSchema(k){let B;for(;typeof(B=T.call(this,k))=="string";)k=B;if(B===void 0){const{schemaId:G}=this.opts,P=new a.SchemaEnv({schema:{},schemaId:G});if(B=a.resolveSchema.call(this,P,k),!B)return;this.refs[k]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,k);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const B=k;this._cache.delete(B);let G=k[this.opts.schemaId];return G&&(G=(0,l.normalizeId)(G),delete this.schemas[G],delete this.refs[G]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const B of k)this.addKeyword(B);return this}addKeyword(k,B){let G;if(typeof k=="string")G=k,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=G);else if(typeof k=="object"&&B===void 0){if(B=k,G=B.keyword,Array.isArray(G)&&!G.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,G,B),!B)return(0,f.eachItem)(G,N=>H.call(this,N)),this;ce.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(G,P.type.length===0?N=>H.call(this,N,P):N=>P.type.forEach(q=>H.call(this,N,P,q))),this}getKeyword(k){const B=this.RULES.all[k];return typeof B=="object"?B.definition:!!B}removeKeyword(k){const{RULES:B}=this;delete B.keywords[k],delete B.all[k];for(const G of B.rules){const P=G.rules.findIndex(N=>N.keyword===k);P>=0&&G.rules.splice(P,1)}return this}addFormat(k,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[k]=B,this}errorsText(k=this.errors,{separator:B=", ",dataVar:G="data"}={}){return!k||k.length===0?"No errors":k.map(P=>`${G}${P.instancePath} ${P.message}`).reduce((P,N)=>P+B+N)}$dataMetaSchema(k,B){const G=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const P of B){const N=P.split("/").slice(1);let q=k;for(const oe of N)q=q[oe];for(const oe in G){const J=G[oe];if(typeof J!="object")continue;const{$data:Y}=J.definition,se=q[oe];Y&&se&&(q[oe]=ie(se))}}return k}_removeAllSchemas(k,B){for(const G in k){const P=k[G];(!B||B.test(G))&&(typeof P=="string"?delete k[G]:P&&!P.meta&&(this._cache.delete(P.schema),delete k[G]))}}_addSchema(k,B,G,P=this.opts.validateSchema,N=this.opts.addUsedSchema){let q;const{schemaId:oe}=this.opts;if(typeof k=="object")q=k[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(k);if(J!==void 0)return J;G=(0,l.normalizeId)(q||G);const Y=l.getSchemaRefs.call(this,k,G);return J=new a.SchemaEnv({schema:k,schemaId:oe,meta:B,baseId:G,localRefs:Y}),this._cache.set(J.schema,J),N&&!G.startsWith("#")&&(G&&this._checkUnique(G),this.refs[G]=J),P&&this.validateSchema(k,!0),J}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):a.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,k)}finally{this.opts=B}}};e.default=E,E.ValidationError=n.default,E.MissingRefError=i.default;function $(k,B,G,P="error"){for(const N in k){const q=N;q in B&&this.logger[P](`${G}: option ${N}. ${k[q]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function A(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function x(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const G=k[B];G.keyword||(G.keyword=B),this.addKeyword(G)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}var C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(k,B){const{RULES:G}=this;if((0,f.eachItem)(k,P=>{if(G.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,G){var P;const N=B==null?void 0:B.post;if(G&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=N?q.post:q.rules.find(({type:Y})=>Y===G);if(oe||(oe={type:G,rules:[]},q.rules.push(oe)),q.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,oe,J,B.before):oe.rules.push(J),q.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(k,B,G){const P=k.rules.findIndex(N=>N.keyword===G);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${G} is not defined`))}function ce(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ie(B)),k.validateSchema=this.compile(B,!0))}var Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(k){return{anyOf:[k,Z]}}}}),Yre=Pe({"../core/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),Xre=Pe({"../core/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=NN(),r=bs(),n=br(),i=gc(),o=IN(),a=Ur(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:g}=f,{baseId:m,schemaEnv:_,validateName:v,opts:p,self:S}=g,{root:y}=_;if((h==="#"||h==="#/")&&m===y.baseId)return $();const E=o.resolveRef.call(S,y,m,h);if(E===void 0)throw new t.default(g.opts.uriResolver,m,h);if(E instanceof o.SchemaEnv)return T(E);return d(E);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",p.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),O=c.name("valid"),C=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:h},O);f.mergeEvaluated(C),f.ok(O)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,g){const{gen:m,it:_}=f,{allErrors:v,schemaEnv:p,opts:S}=_,y=S.passContext?i.default.this:n.nil;g?E():$();function E(){if(!p.$async)throw new Error("async schema referenced by sync schema");const A=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||m.assign(A,!0)},x=>{m.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>m.throw(x)),T(x),v||m.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;m.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),m.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const O=(x=h==null?void 0:h.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=a.mergeEvaluated.props(m,O.props,_.props));else{const C=m.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(m,C,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=a.mergeEvaluated.items(m,O.items,_.items));else{const C=m.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(m,C,_.items,n.Name)}}}e.callRef=u,e.default=s}}),Qre=Pe({"../core/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Yre(),r=Xre(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),Zre=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),ene=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),tne=Pe({"../core/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),rne=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=tne(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),nne=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bs(),r=br(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${a})`)}};e.default=i}}),ine=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),one=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bs(),r=br(),n=Ur(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:h}=a,{opts:g}=h;if(!c&&l.length===0)return;const m=l.length>=g.loopRequired;if(h.allErrors?_():v(),g.strictRequired){const y=a.parentSchema.properties,{definedProperties:E}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!E.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(m||c)a.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(m||c){const E=s.let("valid",!0);a.block$data(E,()=>S(y,E)),a.ok(E)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function p(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,g.ownProperties),()=>a.error())})}function S(y,E){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(E,(0,t.propertyInData)(s,f,y,g.ownProperties)),s.if((0,r.not)(E),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),ane=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),jN=Pe({"../core/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=qh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),sne=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Yb(),r=br(),n=Ur(),i=jN(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:g,it:m}=s;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];s.block$data(_,p,(0,r._)`${g} === false`),s.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(S()?y:E)($,T))}function S(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,m.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function E($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),lne=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=jN(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),une=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=jN(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:h}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const g=f.length>=h.opts.loopEnum;let m;const _=()=>m??(m=(0,r.useFunc)(s,n.default));let v;if(g||u)v=s.let("valid"),a.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((E,$)=>S(y,$)))}a.pass(v);function p(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function S(y,E){const $=f[E];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${E}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),cne=Pe({"../core/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zre(),r=ene(),n=rne(),i=nne(),o=ine(),a=one(),s=ane(),l=sne(),u=lne(),f=une(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),aV=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=br(),r=Ur(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:h}=a;h.items=!0;const g=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${g} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${g} <= ${s.length}`);l.if((0,t.not)(_),()=>m(_)),a.ok(_)}function m(_){l.forRange("i",s.length,g,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),sV=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=br(),r=Ur(),n=bs(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:g}=a;v(f),g.opts.unevaluated&&l.length&&g.items!==!0&&(g.items=r.mergeEvaluated.items(u,l.length,g.items));const m=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,S)=>{(0,r.alwaysValidSchema)(g,p)||(u.if((0,t._)`${_} > ${S}`,()=>a.subschema({keyword:h,schemaProp:S,dataProp:S},m)),a.ok(m))});function v(p){const{opts:S,errSchemaPath:y}=g,E=l.length,$=E===p.minItems&&(E===p.maxItems||p[s]===!1);if(S.strictTuples&&!$){const T=`"${h}" is ${E}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(g,T,S.strictTuples)}}}e.validateTuple=o,e.default=i}}),fne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=sV(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),dne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=bs(),i=aV(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),hne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:g,maxContains:m}=l;f.opts.next?(c=g===void 0?1:g,h=m):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let E=(0,t._)`${_} >= ${c}`;h!==void 0&&(E=(0,t._)`${E} && ${_} <= ${h}`),o.pass(E);return}f.items=!0;const v=a.name("valid");h===void 0&&c===1?S(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),h!==void 0&&a.if((0,t._)`${u}.length > 0`,p)):(a.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const E=a.name("_valid"),$=a.let("count",0);S(E,()=>a.if(E,()=>y($)))}function S(E,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},E),$()})}function y(E){a.code((0,t._)`${E}++`),h===void 0?a.if((0,t._)`${E} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${E} > ${h}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${E} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),pne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=br(),r=Ur(),n=bs();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=s,e.default=i}}),mne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),lV=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bs(),r=br(),n=gc(),i=Ur(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:g}=s;if(!h)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=g;if(g.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(g,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);S(),s.ok((0,r._)`${h} === ${n.default.errors}`);function S(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(g,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return p.length&&(A=(0,r.or)(A,...p.map(x=>(0,r._)`${(0,t.usePattern)(s,x)}.test(${d})`))),(0,r.not)(A)}function E(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){E(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),m||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(g,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),E(d)})):(T(d,A),m||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(O,A)}}};e.default=a}}),gne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=yE(),r=bs(),n=Ur(),i=lV(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(h),c.props));const g=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(g.length===0)return;const m=s.name("valid");for(const p of g)_(p)?v(p):(s.if((0,r.propertyInData)(s,f,p,c.opts.ownProperties)),v(p),c.allErrors||s.else().var(m,!0),s.endIf()),a.it.definedProperties.add(p),a.ok(m);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){a.subschema({keyword:"properties",schemaProp:p,dataProp:p},m)}}};e.default=o}}),vne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bs(),r=br(),n=Ur(),i=Ur(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:h}=c,g=(0,t.allSchemaProperties)(l),m=g.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(g.length===0||m.length===g.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:p}=c;S();function S(){for(const $ of g)_&&y($),c.allErrors?E($):(s.var(v,!0),E($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function E($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=m.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?s.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),yne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),wne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bs(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),bne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),h=a.let("passing",null),g=a.name("_valid");o.setParams({passing:h}),a.block(m),o.result(c,()=>o.reset(),()=>o.error(!0));function m(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?a.var(g,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},g),v>0&&a.if((0,t._)`${g} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),a.if(g,()=>{a.assign(c,!0),a.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),_ne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),Ene=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=s.let("valid",!0),g=s.name("_valid");if(m(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(g,_("then",v),_("else",v))}else f?s.if(g,_("then")):s.if((0,t.not)(g),_("else"));a.pass(h,()=>a.error(!0));function m(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);a.mergeEvaluated(v)}function _(v,p){return()=>{const S=a.subschema({keyword:v},g);s.assign(h,g),a.mergeValidEvaluated(S,h),p?s.assign(p,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),Sne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),$ne=Pe({"../core/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=aV(),r=fne(),n=sV(),i=dne(),o=hne(),a=pne(),s=mne(),l=lV(),u=gne(),f=vne(),c=yne(),h=wne(),g=bne(),m=_ne(),_=Ene(),v=Sne();function p(S=!1){const y=[c.default,h.default,g.default,m.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return S?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Tne=Pe({"../core/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:g,schemaEnv:m,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const S=a.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=a.const("fDef",(0,t._)`${S}[${f}]`),E=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(E,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(E,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=m.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${E} === ${o} && !${x}`}}function p(){const S=_.formats[u];if(!S){T();return}if(S===!0)return;const[y,E,$]=d(S);y===o&&i.pass(A());function T(){if(h.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function d(x){const O=x instanceof RegExp?(0,t.regexpCode)(x):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,C=a.scopeValue("formats",{key:u,ref:x,code:O});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${C}.validate`]:["string",x,C]}function A(){if(typeof S=="object"&&!(S instanceof RegExp)&&S.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof E=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),Ane=Pe({"../core/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Tne(),r=[t.default];e.default=r}}),xne=Pe({"../core/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),One=Pe({"../core/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qre(),r=cne(),n=$ne(),i=Ane(),o=xne(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),Pne=Pe({"../core/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Rne=Pe({"../core/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Pne(),n=IN(),i=Ur(),o={message:({params:{discrError:s,tagName:l}})=>s===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:u}})=>(0,t._)`{error: ${s}, tag: ${u}, tagValue: ${l}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(s){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=s,{oneOf:g}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=f.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(m)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:m})),s.ok(_);function p(){const E=y();l.if(!1);for(const $ in E)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,S(E[$]));l.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:m}),l.endIf()}function S(E){const $=l.name("valid"),T=s.subschema({keyword:"oneOf",schemaProp:E},$);return s.mergeEvaluated(T,t.Name),$}function y(){var E;const $={},T=A(c);let d=!0;for(let C=0;C<g.length;C++){let F=g[C];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,h.self.RULES)&&(F=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(E=F==null?void 0:F.properties)===null||E===void 0?void 0:E[m];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(T||A(F)),x(V,C)}if(!d)throw new Error(`discriminator: "${m}" must be required`);return $;function A({required:C}){return Array.isArray(C)&&C.includes(m)}function x(C,F){if(C.const)O(C.const,F);else if(C.enum)for(const V of C.enum)O(V,F);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function O(C,F){if(typeof C!="string"||C in $)throw new Error(`discriminator: "${m}" values must be unique strings`);$[C]=F}}}};e.default=a}}),Nne=Pe({"../core/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),uV=Pe({"../core/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Jre(),n=One(),i=Rne(),o=Nne(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(g,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=yE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=RN();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=NN();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),Ine=Pe({"../../node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(x,O){return{validate:x,compare:O}}e.fullFormats={date:t(o,a),time:t(l,u),"date-time":t(c,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:A,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:E},int64:{type:"number",validate:$},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(x){return x%4===0&&(x%100!==0||x%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(x){const O=n.exec(x);if(!O)return!1;const C=+O[1],F=+O[2],V=+O[3];return F>=1&&F<=12&&V>=1&&V<=(F===2&&r(C)?29:i[F])}function a(x,O){if(x&&O)return x>O?1:x<O?-1:0}var s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(x,O){const C=s.exec(x);if(!C)return!1;const F=+C[1],V=+C[2],Q=+C[3],H=C[5];return(F<=23&&V<=59&&Q<=59||F===23&&V===59&&Q===60)&&(!O||H!=="")}function u(x,O){if(!(x&&O))return;const C=s.exec(x),F=s.exec(O);if(C&&F)return x=C[1]+C[2]+C[3]+(C[4]||""),O=F[1]+F[2]+F[3]+(F[4]||""),x>O?1:x<O?-1:0}var f=/t|\s/i;function c(x){const O=x.split(f);return O.length===2&&o(O[0])&&l(O[1],!0)}function h(x,O){if(!(x&&O))return;const[C,F]=x.split(f),[V,Q]=O.split(f),H=a(C,V);if(H!==void 0)return H||u(F,Q)}var g=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(x){return g.test(x)&&m.test(x)}var v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(x){return v.lastIndex=0,v.test(x)}var S=-2147483648,y=2**31-1;function E(x){return Number.isInteger(x)&&x<=y&&x>=S}function $(x){return Number.isInteger(x)}function T(){return!0}var d=/[^\\]\\Z/;function A(x){if(d.test(x))return!1;try{return new RegExp(x),!0}catch{return!1}}}}),Xb=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((S,y)=>`${S}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((S,y)=>(y instanceof r&&(S[y.str]=(S[y.str]||0)+1),S),{})}};e._Code=n,e.nil=new n("");function i(p,...S){const y=[p[0]];let E=0;for(;E<S.length;)s(y,S[E]),y.push(p[++E]);return new n(y)}e._=i;var o=new n("+");function a(p,...S){const y=[g(p[0])];let E=0;for(;E<S.length;)y.push(o),s(y,S[E]),y.push(o,g(p[++E]));return l(y),new n(y)}e.str=a;function s(p,S){S instanceof n?p.push(...S._items):S instanceof r?p.push(S):p.push(c(S))}e.addCodeArg=s;function l(p){let S=1;for(;S<p.length-1;){if(p[S]===o){const y=u(p[S-1],p[S+1]);if(y!==void 0){p.splice(S-1,3,y);continue}p[S++]="+"}S++}}function u(p,S){if(S==='""')return p;if(p==='""')return S;if(typeof p=="string")return S instanceof r||p[p.length-1]!=='"'?void 0:typeof S!="string"?`${p.slice(0,-1)}${S}"`:S[0]==='"'?p.slice(0,-1)+S.slice(1):void 0;if(typeof S=="string"&&S[0]==='"'&&!(p instanceof r))return`"${p}${S.slice(1)}`}function f(p,S){return S.emptyStr()?p:p.emptyStr()?S:a`${p}${S}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),hM=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Xb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var a=(0,t._)`\n`,s=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,g=(f=u.key)!==null&&f!==void 0?f:u.ref;let m=this._values[h];if(m){const p=m.get(g);if(p)return p}else m=this._values[h]=new Map;m.set(g,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const g in l){const m=l[g];if(!m)continue;const _=f[g]=f[g]||new Map;m.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${S} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=s}}),mr=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Xb(),r=hM(),n=Xb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=hM();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,N){return this}},a=class extends o{constructor(P,N,q){super(),this.varKind=P,this.name=N,this.rhs=q}render({es5:P,_n:N}){const q=P?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${oe};`+N}optimizeNames(P,N){if(P[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,P,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},s=class extends o{constructor(P,N,q){super(),this.lhs=P,this.rhs=N,this.sideEffects=q}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,N){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,P,N),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends s{constructor(P,N,q,oe){super(P,q,oe),this.op=N}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},h=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,N){return this.code=Q(this.code,P,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},g=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((N,q)=>N+q.render(P),"")}optimizeNodes(){const{nodes:P}=this;let N=P.length;for(;N--;){const q=P[N].optimizeNodes();Array.isArray(q)?P.splice(N,1,...q):q?P[N]=q:P.splice(N,1)}return P.length>0?this:void 0}optimizeNames(P,N){const{nodes:q}=this;let oe=q.length;for(;oe--;){const J=q[oe];J.optimizeNames(P,N)||(H(P,J.names),q.splice(oe,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((P,N)=>F(P,N.names),{})}},m=class extends g{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends g{},v=class extends m{};v.kind="else";var p=class Rw extends m{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return N===!1?q instanceof Rw?q:q.nodes:this.nodes.length?this:new Rw(X(N),q instanceof Rw?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=Q(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}};p.kind="if";var S=class extends m{};S.kind="for";var y=class extends S{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iteration=Q(this.iteration,P,N),this}get names(){return F(super.names,this.iteration.names)}},E=class extends S{constructor(P,N,q,oe){super(),this.varKind=P,this.name=N,this.from=q,this.to=oe}render(P){const N=P.es5?r.varKinds.var:this.varKind,{name:q,from:oe,to:J}=this;return`for(${N} ${q}=${oe}; ${q}<${J}; ${q}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends S{constructor(P,N,q,oe){super(),this.loop=P,this.varKind=N,this.name=q,this.iterable=oe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iterable=Q(this.iterable,P,N),this}get names(){return F(super.names,this.iterable.names)}},T=class extends m{constructor(P,N,q){super(),this.name=P,this.args=N,this.async=q}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends g{render(P){return"return "+super.render(P)}};d.kind="return";var A=class extends m{render(P){let N="try"+super.render(P);return this.catch&&(N+=this.catch.render(P)),this.finally&&(N+=this.finally.render(P)),N}optimizeNodes(){var P,N;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(P,N){var q,oe;return super.optimizeNames(P,N),(q=this.catch)===null||q===void 0||q.optimizeNames(P,N),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(P,N),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},x=class extends m{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};x.kind="catch";var O=class extends m{render(P){return"finally"+super.render(P)}};O.kind="finally";var C=class{constructor(P,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,N){const q=this._extScope.value(P,N);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(P,N){return this._extScope.getValue(P,N)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,N,q,oe){const J=this._scope.toName(N);return q!==void 0&&oe&&(this._constants[J.str]=q),this._leafNode(new a(P,J,q)),J}const(P,N,q){return this._def(r.varKinds.const,P,N,q)}let(P,N,q){return this._def(r.varKinds.let,P,N,q)}var(P,N,q){return this._def(r.varKinds.var,P,N,q)}assign(P,N,q){return this._leafNode(new s(P,N,q))}add(P,N){return this._leafNode(new l(P,e.operators.ADD,N))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const N=["{"];for(const[q,oe]of P)N.length>1&&N.push(","),N.push(q),(q!==oe||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,oe));return N.push("}"),new t._Code(N)}if(P,N,q){if(this._blockNode(new p(P)),N&&q)this.code(N).else().code(q).endIf();else if(N)this.code(N).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new p(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(P,N){return this._blockNode(P),N&&this.code(N).endFor(),this}for(P,N){return this._for(new y(P),N)}forRange(P,N,q,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new E(J,Y,N,q),()=>oe(Y))}forOf(P,N,q,oe=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${Y}.length`,se=>{this.var(J,(0,t._)`${Y}[${se}]`),q(J)})}return this._for(new $("of",oe,J,N),()=>q(J))}forIn(P,N,q,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${N})`,q);const J=this._scope.toName(P);return this._for(new $("in",oe,J,N),()=>q(J))}endFor(){return this._endBlockNode(S)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const N=new d;if(this._blockNode(N),this.code(P),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,N,q){if(!N&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new A;if(this._blockNode(oe),this.code(P),N){const J=this.name("e");this._currNode=oe.catch=new x(J),N(J)}return q&&(this._currNode=oe.finally=new O,this.code(q)),this._endBlockNode(x,O)}throw(P){return this._leafNode(new c(P))}block(P,N){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(N),this}endBlock(P){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-N;if(q<0||P!==void 0&&q!==P)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${P} expected`);return this._nodes.length=N,this}func(P,N=t.nil,q,oe){return this._blockNode(new T(P,N,q)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,N){const q=this._currNode;if(q instanceof P||N&&q instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${P.kind}/${N.kind}`:P.kind}"`)}_elseNode(P){const N=this._currNode;if(!(N instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const N=this._nodes;N[N.length-1]=P}};e.CodeGen=C;function F(P,N){for(const q in N)P[q]=(P[q]||0)+(N[q]||0);return P}function V(P,N){return N instanceof t._CodeOrName?F(P,N.names):P}function Q(P,N,q){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function oe(Y){const se=q[Y.str];return se===void 0||N[Y.str]!==1?Y:(delete N[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&N[se.str]===1&&q[se.str]!==void 0)}}function H(P,N){for(const q in N)P[q]=(P[q]||0)-(N[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${G(P)}`}e.not=X;var ce=B(e.operators.AND);function Z(...P){return P.reduce(ce)}e.and=Z;var ie=B(e.operators.OR);function k(...P){return P.reduce(ie)}e.or=k;function B(P){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${G(N)} ${P} ${G(q)}`}function G(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),zr=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=mr(),r=Xb();function n(T){const d={};for(const A of T)d[A]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!a(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:A,self:x}=T;if(!A.strictSchema||typeof d=="boolean")return;const O=x.RULES.keywords;for(const C in d)O[C]||$(T,`unknown keyword: "${C}"`)}e.checkUnknownRules=o;function a(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(d[A])return!0;return!1}e.schemaHasRules=a;function s(T,d){if(typeof T=="boolean")return!T;for(const A in T)if(A!=="$ref"&&d.all[A])return!0;return!1}e.schemaHasRulesButRef=s;function l({topSchemaRef:T,schemaPath:d},A,x,O){if(!O){if(typeof A=="number"||typeof A=="boolean")return A;if(typeof A=="string")return(0,t._)`${A}`}return(0,t._)`${T}${d}${(0,t.getProperty)(x)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function g(T,d){if(Array.isArray(T))for(const A of T)d(A);else d(T)}e.eachItem=g;function m({mergeNames:T,mergeToName:d,mergeValues:A,resultToName:x}){return(O,C,F,V)=>{const Q=F===void 0?C:F instanceof t.Name?(C instanceof t.Name?T(O,C,F):d(O,C,F),F):C instanceof t.Name?(d(O,F,C),C):A(C,F);return V===t.Name&&!(Q instanceof t.Name)?x(O,Q):Q}}e.mergeEvaluated={props:m({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(A,!0),()=>T.assign(A,(0,t._)`${A} || {}`).code((0,t._)`Object.assign(${A}, ${d})`))}),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>{d===!0?T.assign(A,!0):(T.assign(A,(0,t._)`${A} || {}`),v(T,A,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:m({mergeNames:(T,d,A)=>T.if((0,t._)`${A} !== true && ${d} !== undefined`,()=>T.assign(A,(0,t._)`${d} === true ? true : ${A} > ${d} ? ${A} : ${d}`)),mergeToName:(T,d,A)=>T.if((0,t._)`${A} !== true`,()=>T.assign(A,d===!0?!0:(0,t._)`${A} > ${d} ? ${A} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const A=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,A,d),A}e.evaluatedPropsToName=_;function v(T,d,A){Object.keys(A).forEach(x=>T.assign((0,t._)`${d}${(0,t.getProperty)(x)}`,!0))}e.setEvaluated=v;var p={};function S(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=S;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function E(T,d,A){if(T instanceof t.Name){const x=d===y.Num;return A?x?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:x?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return A?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=E;function $(T,d,A=T.opts.strictSchema){if(A){if(d=`strict mode: ${d}`,A===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),vc=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),wE=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=mr(),r=zr(),n=vc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,S,y){const{it:E}=v,{gen:$,compositeRule:T,allErrors:d}=E,A=c(v,p,S);y??(T||d)?l($,A):u(E,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,S){const{it:y}=v,{gen:E,compositeRule:$,allErrors:T}=y,d=c(v,p,S);l(E,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:S,data:y,errsCount:E,it:$}){if(E===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",E,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,S),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const S=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${S}]`),(0,t._)`${n.default.vErrors}.push(${S})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:S,validateName:y,schemaEnv:E}=v;E.$async?S.throw((0,t._)`new ${v.ValidationError}(${p})`):(S.assign((0,t._)`${y}.errors`,p),S.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,S){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,S)}function h(v,p,S={}){const{gen:y,it:E}=v,$=[g(E,S),m(v,S)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const S=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,S)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:S,parentSchema:y}){let E=y?p:(0,t.str)`${p}/${v}`;return S&&(E=(0,t.str)`${E}${(0,r.getErrorPath)(S,r.Type.Str)}`),[f.schemaPath,E]}function _(v,{params:p,message:S},y){const{keyword:E,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,E],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof S=="function"?S(v):S]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}}}),jne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=wE(),r=mr(),n=vc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?s(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function a(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),s(l)):f.var(u,!0)}e.boolOrEmptySchema=a;function s(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),cV=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),fV=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},a){const s=o.RULES.types[a];return s&&s!==!0&&r(i,s)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(a=>n(i,a))}e.shouldUseGroup=r;function n(i,o){var a;return i[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(s=>i[s]!==void 0))}e.shouldUseRule=n}}),Qb=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=cV(),r=fV(),n=wE(),i=mr(),o=zr(),a;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function s(y){const E=l(y.type);if(E.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&E.push("null")}return E}e.getSchemaTypes=s;function l(y){const E=Array.isArray(y)?y:y?[y]:[];if(E.every(t.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}e.getJSONTypes=l;function u(y,E){const{gen:$,data:T,opts:d}=y,A=c(E,d.coerceTypes),x=E.length>0&&!(A.length===0&&E.length===1&&(0,r.schemaHasRulesForType)(y,E[0]));if(x){const O=_(E,T,d.strictNumbers,a.Wrong);$.if(O,()=>{A.length?h(y,E,A):p(y)})}return x}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,E){return E?y.filter($=>f.has($)||E==="array"&&$==="array"):[]}function h(y,E,$){const{gen:T,data:d,opts:A}=y,x=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);A.coerceTypes==="array"&&T.if((0,i._)`${x} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(x,(0,i._)`typeof ${d}`).if(_(E,d,A.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&A.coerceTypes==="array")&&C(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),g(y,O)});function C(F){switch(F){case"string":T.elseIf((0,i._)`${x} == "number" || ${x} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${x} == "boolean" || ${d} === null
              || (${x} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${x} === "boolean" || ${d} === null
              || (${x} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${x} === "string" || ${x} === "number"
              || ${x} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function g({gen:y,parentData:E,parentDataProperty:$},T){y.if((0,i._)`${E} !== undefined`,()=>y.assign((0,i._)`${E}[${$}]`,T))}function m(y,E,$,T=a.Correct){const d=T===a.Correct?i.operators.EQ:i.operators.NEQ;let A;switch(y){case"null":return(0,i._)`${E} ${d} null`;case"array":A=(0,i._)`Array.isArray(${E})`;break;case"object":A=(0,i._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":A=x((0,i._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":A=x();break;default:return(0,i._)`typeof ${E} ${d} ${y}`}return T===a.Correct?A:(0,i.not)(A);function x(O=i.nil){return(0,i.and)((0,i._)`typeof ${E} == "number"`,O,$?(0,i._)`isFinite(${E})`:i.nil)}}e.checkDataType=m;function _(y,E,$,T){if(y.length===1)return m(y[0],E,$,T);let d;const A=(0,o.toHash)(y);if(A.array&&A.object){const x=(0,i._)`typeof ${E} != "object"`;d=A.null?x:(0,i._)`!${E} || ${x}`,delete A.null,delete A.array,delete A.object}else d=i.nil;A.number&&delete A.integer;for(const x in A)d=(0,i.and)(d,m(x,E,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:E})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${E}}`};function p(y){const E=S(y);(0,n.reportError)(E,v)}e.reportTypeError=p;function S(y){const{gen:E,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:E,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),Cne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=mr(),r=zr();function n(o,a){const{properties:s,items:l}=o.schema;if(a==="object"&&s)for(const u in s)i(o,u,s[u].default);else a==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,a,s){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(s===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let g=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(g=(0,t._)`${g} || ${h} === null || ${h} === ""`),l.if(g,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}}}),_s=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=mr(),r=zr(),n=vc(),i=zr();function o(y,E){const{gen:$,data:T,it:d}=y;$.if(c($,T,E,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${E}`},!0),y.error()})}e.checkReportMissingProp=o;function a({gen:y,data:E,it:{opts:$}},T,d){return(0,t.or)(...T.map(A=>(0,t.and)(c(y,E,A,$.ownProperties),(0,t._)`${d} = ${A}`)))}e.checkMissingProp=a;function s(y,E){y.setParams({missingProperty:E},!0),y.error()}e.reportMissingProp=s;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,E,$){return(0,t._)`${l(y)}.call(${E}, ${$})`}e.isOwnProperty=u;function f(y,E,$,T){const d=(0,t._)`${E}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,E,$)}`:d}e.propertyInData=f;function c(y,E,$,T){const d=(0,t._)`${E}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,E,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(E=>E!=="__proto__"):[]}e.allSchemaProperties=h;function g(y,E){return h(E).filter($=>!(0,r.alwaysValidSchema)(y,E[$]))}e.schemaProperties=g;function m({schemaCode:y,data:E,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:A},it:x},O,C,F){const V=F?(0,t._)`${y}, ${E}, ${T}${d}`:E,Q=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,A)],[n.default.parentData,x.parentData],[n.default.parentDataProperty,x.parentDataProperty],[n.default.rootData,n.default.rootData]];x.opts.dynamicRef&&Q.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...Q)}`;return C!==t.nil?(0,t._)`${O}.call(${C}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=m;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:E}},$){const T=E.unicodeRegExp?"u":"",{regExp:d}=E.code,A=d($,T);return y.scopeValue("pattern",{key:A.toString(),ref:A,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:E,data:$,keyword:T,it:d}=y,A=E.name("valid");if(d.allErrors){const O=E.let("valid",!0);return x(()=>E.assign(O,!1)),O}return E.var(A,!0),x(()=>E.break()),A;function x(O){const C=E.const("len",(0,t._)`${$}.length`);E.forRange("i",0,C,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},A),E.if((0,t.not)(A),O)})}}e.validateArray=p;function S(y){const{gen:E,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(C=>(0,r.alwaysValidSchema)(d,C))&&!d.opts.unevaluated)return;const x=E.let("valid",!1),O=E.name("_valid");E.block(()=>$.forEach((C,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);E.assign(x,(0,t._)`${x} || ${O}`),y.mergeValidEvaluated(V,O)||E.if((0,t.not)(x))})),y.result(x,()=>y.reset(),()=>y.error(!0))}e.validateUnion=S}}),kne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=mr(),r=vc(),n=_s(),i=wE();function o(g,m){const{gen:_,keyword:v,schema:p,parentSchema:S,it:y}=g,E=m.macro.call(y.self,p,S,y),$=f(_,v,E);y.opts.validateSchema!==!1&&y.self.validateSchema(E,!0);const T=_.name("valid");g.subschema({schema:E,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),g.pass(T,()=>g.error(!0))}e.macroKeywordCode=o;function a(g,m){var _;const{gen:v,keyword:p,schema:S,parentSchema:y,$data:E,it:$}=g;u($,m);const T=!E&&m.compile?m.compile.call($.self,S,y,$):m.validate,d=f(v,p,T),A=v.let("valid");g.block$data(A,x),g.ok((_=m.valid)!==null&&_!==void 0?_:A);function x(){if(m.errors===!1)F(),m.modifying&&s(g),V(()=>g.error());else{const Q=m.async?O():C();m.modifying&&s(g),V(()=>l(g,Q))}}function O(){const Q=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(A,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(Q,(0,t._)`${H}.errors`),()=>v.throw(H))),Q}function C(){const Q=(0,t._)`${d}.errors`;return v.assign(Q,null),F(t.nil),Q}function F(Q=m.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,X=!("compile"in m&&!E||m.schema===!1);v.assign(A,(0,t._)`${Q}${(0,n.callValidateCode)(g,d,H,X)}`,m.modifying)}function V(Q){var H;v.if((0,t.not)((H=m.valid)!==null&&H!==void 0?H:A),Q)}}e.funcKeywordCode=a;function s(g){const{gen:m,data:_,it:v}=g;m.if(v.parentData,()=>m.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(g,m){const{gen:_}=g;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${m} : ${r.default.vErrors}.concat(${m})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},m){if(m.async&&!g.$async)throw new Error("async keyword in sync schema")}function f(g,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return g.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(g,m,_=!1){return!m.length||m.some(v=>v==="array"?Array.isArray(g):v==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==v||_&&typeof g>"u")}e.validSchemaType=c;function h({schema:g,opts:m,self:_,errSchemaPath:v},p,S){if(Array.isArray(p.keyword)?!p.keyword.includes(S):p.keyword!==S)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(E=>!Object.prototype.hasOwnProperty.call(g,E)))throw new Error(`parent schema must have dependencies of ${S}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(g[S])){const $=`keyword "${S}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(m.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),Dne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=mr(),r=zr();function n(a,{keyword:s,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const g=a.schema[s];return l===void 0?{schema:g,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:g[l],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(a,s,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=s;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=s,S=g.let("data",(0,t._)`${s.data}${(0,t.getProperty)(l)}`,!0);m(S),a.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${l}`,a.dataPathArr=[...v,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:g.let("data",f,!0);m(_),h!==void 0&&(a.propertyName=h)}c&&(a.dataTypes=c);function m(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}e.extendSubschemaData=i;function o(a,{jtdDiscriminator:s,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(a.compositeRule=u),f!==void 0&&(a.createErrors=f),c!==void 0&&(a.allErrors=c),a.jtdDiscriminator=s,a.jtdMetadata=l}e.extendSubschemaMode=o}}),Mne=Pe({"../../node_modules/ajv-formats/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var l=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};n(a,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,a,s,l,u,f,c,h,g,m){if(l&&typeof l=="object"&&!Array.isArray(l)){a(l,u,f,c,h,g,m);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,a,s,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var S in v)n(o,a,s,v[S],u+"/"+_+"/"+i(S),f,u,_,l,S)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,a,s,v,u+"/"+_,f,u,_,l)}s(l,u,f,c,h,g,m)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),bE=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=zr(),r=qh(),n=Mne(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!s(v):p?l(v)<=p:!1}e.inlineRef=o;var a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(v){for(const p in v){if(a.has(p))return!0;const S=v[p];if(Array.isArray(S)&&S.some(s)||typeof S=="object"&&s(S))return!0}return!1}function l(v){let p=0;for(const S in v){if(S==="$ref")return 1/0;if(p++,!i.has(S)&&(typeof v[S]=="object"&&(0,t.eachItem)(v[S],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",S){S!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function g(v,p,S){return S=h(S),v.resolve(p,S)}e.resolveUrl=g;var m=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:S,uriResolver:y}=this.opts,E=h(v[S]||p),$={"":E},T=u(y,E,!1),d={},A=new Set;return n(v,{allKeys:!0},(C,F,V,Q)=>{if(Q===void 0)return;const H=T+F;let X=$[Q];typeof C[S]=="string"&&(X=ce.call(this,C[S])),Z.call(this,C.$anchor),Z.call(this,C.$dynamicAnchor),$[F]=X;function ce(ie){const k=this.opts.uriResolver.resolve;if(ie=h(X?k(X,ie):ie),A.has(ie))throw O(ie);A.add(ie);let B=this.refs[ie];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?x(C,B.schema,ie):ie!==h(H)&&(ie[0]==="#"?(x(C,d[ie],ie),d[ie]=C):this.refs[ie]=H),ie}function Z(ie){if(typeof ie=="string"){if(!m.test(ie))throw new Error(`invalid anchor "${ie}"`);ce.call(this,`#${ie}`)}}}),d;function x(C,F,V){if(F!==void 0&&!r(C,F))throw O(V)}function O(C){return new Error(`reference "${C}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),_E=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=jne(),r=Qb(),n=fV(),i=Qb(),o=Cne(),a=kne(),s=Dne(),l=mr(),u=vc(),f=bE(),c=zr(),h=wE();function g(R){if(T(R)&&(A(R),$(R))){p(R);return}m(R,()=>(0,t.topBoolOrEmptySchema)(R))}e.validateFunctionCode=g;function m({gen:R,validateName:D,schema:M,schemaEnv:K,opts:ae},fe){ae.code.es5?R.func(D,(0,l._)`${u.default.data}, ${u.default.valCxt}`,K.$async,()=>{R.code((0,l._)`"use strict"; ${y(M,ae)}`),v(R,ae),R.code(fe)}):R.func(D,(0,l._)`${u.default.data}, ${_(ae)}`,K.$async,()=>R.code(y(M,ae)).code(fe))}function _(R){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${R.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(R,D){R.if(u.default.valCxt,()=>{R.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),R.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),R.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),R.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),D.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{R.var(u.default.instancePath,(0,l._)`""`),R.var(u.default.parentData,(0,l._)`undefined`),R.var(u.default.parentDataProperty,(0,l._)`undefined`),R.var(u.default.rootData,u.default.data),D.dynamicRef&&R.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(R){const{schema:D,opts:M,gen:K}=R;m(R,()=>{M.$comment&&D.$comment&&Q(R),C(R),K.let(u.default.vErrors,null),K.let(u.default.errors,0),M.unevaluated&&S(R),x(R),H(R)})}function S(R){const{gen:D,validateName:M}=R;R.evaluated=D.const("evaluated",(0,l._)`${M}.evaluated`),D.if((0,l._)`${R.evaluated}.dynamicProps`,()=>D.assign((0,l._)`${R.evaluated}.props`,(0,l._)`undefined`)),D.if((0,l._)`${R.evaluated}.dynamicItems`,()=>D.assign((0,l._)`${R.evaluated}.items`,(0,l._)`undefined`))}function y(R,D){const M=typeof R=="object"&&R[D.schemaId];return M&&(D.code.source||D.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function E(R,D){if(T(R)&&(A(R),$(R))){d(R,D);return}(0,t.boolOrEmptySchema)(R,D)}function $({schema:R,self:D}){if(typeof R=="boolean")return!R;for(const M in R)if(D.RULES.all[M])return!0;return!1}function T(R){return typeof R.schema!="boolean"}function d(R,D){const{schema:M,gen:K,opts:ae}=R;ae.$comment&&M.$comment&&Q(R),F(R),V(R);const fe=K.const("_errs",u.default.errors);x(R,fe),K.var(D,(0,l._)`${fe} === ${u.default.errors}`)}function A(R){(0,c.checkUnknownRules)(R),O(R)}function x(R,D){if(R.opts.jtd)return ce(R,[],!1,D);const M=(0,r.getSchemaTypes)(R.schema),K=(0,r.coerceAndCheckDataType)(R,M);ce(R,M,!K,D)}function O(R){const{schema:D,errSchemaPath:M,opts:K,self:ae}=R;D.$ref&&K.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(D,ae.RULES)&&ae.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function C(R){const{schema:D,opts:M}=R;D.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(R,"default is ignored in the schema root")}function F(R){const D=R.schema[R.opts.schemaId];D&&(R.baseId=(0,f.resolveUrl)(R.opts.uriResolver,R.baseId,D))}function V(R){if(R.schema.$async&&!R.schemaEnv.$async)throw new Error("async schema in sync schema")}function Q({gen:R,schemaEnv:D,schema:M,errSchemaPath:K,opts:ae}){const fe=M.$comment;if(ae.$comment===!0)R.code((0,l._)`${u.default.self}.logger.log(${fe})`);else if(typeof ae.$comment=="function"){const de=(0,l.str)`${K}/$comment`,pe=R.scopeValue("root",{ref:D.root});R.code((0,l._)`${u.default.self}.opts.$comment(${fe}, ${de}, ${pe}.schema)`)}}function H(R){const{gen:D,schemaEnv:M,validateName:K,ValidationError:ae,opts:fe}=R;M.$async?D.if((0,l._)`${u.default.errors} === 0`,()=>D.return(u.default.data),()=>D.throw((0,l._)`new ${ae}(${u.default.vErrors})`)):(D.assign((0,l._)`${K}.errors`,u.default.vErrors),fe.unevaluated&&X(R),D.return((0,l._)`${u.default.errors} === 0`))}function X({gen:R,evaluated:D,props:M,items:K}){M instanceof l.Name&&R.assign((0,l._)`${D}.props`,M),K instanceof l.Name&&R.assign((0,l._)`${D}.items`,K)}function ce(R,D,M,K){const{gen:ae,schema:fe,data:de,allErrors:pe,opts:xe,self:Le}=R,{RULES:ke}=Le;if(fe.$ref&&(xe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(fe,ke))){ae.block(()=>Y(R,"$ref",ke.all.$ref.definition));return}xe.jtd||ie(R,D),ae.block(()=>{for(const qe of ke.rules)nt(qe);nt(ke.post)});function nt(qe){(0,n.shouldUseGroup)(fe,qe)&&(qe.type?(ae.if((0,i.checkDataType)(qe.type,de,xe.strictNumbers)),Z(R,qe),D.length===1&&D[0]===qe.type&&M&&(ae.else(),(0,i.reportTypeError)(R)),ae.endIf()):Z(R,qe),pe||ae.if((0,l._)`${u.default.errors} === ${K||0}`))}}function Z(R,D){const{gen:M,schema:K,opts:{useDefaults:ae}}=R;ae&&(0,o.assignDefaults)(R,D.type),M.block(()=>{for(const fe of D.rules)(0,n.shouldUseRule)(K,fe)&&Y(R,fe.keyword,fe.definition,D.type)})}function ie(R,D){R.schemaEnv.meta||!R.opts.strictTypes||(k(R,D),R.opts.allowUnionTypes||B(R,D),G(R,R.dataTypes))}function k(R,D){if(D.length){if(!R.dataTypes.length){R.dataTypes=D;return}D.forEach(M=>{N(R.dataTypes,M)||oe(R,`type "${M}" not allowed by context "${R.dataTypes.join(",")}"`)}),q(R,D)}}function B(R,D){D.length>1&&!(D.length===2&&D.includes("null"))&&oe(R,"use allowUnionTypes to allow union type keyword")}function G(R,D){const M=R.self.RULES.all;for(const K in M){const ae=M[K];if(typeof ae=="object"&&(0,n.shouldUseRule)(R.schema,ae)){const{type:fe}=ae.definition;fe.length&&!fe.some(de=>P(D,de))&&oe(R,`missing type "${fe.join(",")}" for keyword "${K}"`)}}}function P(R,D){return R.includes(D)||D==="number"&&R.includes("integer")}function N(R,D){return R.includes(D)||D==="integer"&&R.includes("number")}function q(R,D){const M=[];for(const K of R.dataTypes)N(D,K)?M.push(K):D.includes("integer")&&K==="number"&&M.push("integer");R.dataTypes=M}function oe(R,D){const M=R.schemaEnv.baseId+R.errSchemaPath;D+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(R,D,R.opts.strictTypes)}var J=class{constructor(R,D,M){if((0,a.validateKeywordUsage)(R,D,M),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=M,this.data=R.data,this.schema=R.schema[M],this.$data=D.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(R,this.schema,M,this.$data),this.schemaType=D.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=D,this.$data)this.schemaCode=R.gen.const("vSchema",Ne(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,D,M){this.failResult((0,l.not)(R),D,M)}failResult(R,D,M){this.gen.if(R),M?M():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,D){this.failResult((0,l.not)(R),void 0,D)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:D}=this;this.fail((0,l._)`${D} !== undefined && (${(0,l.or)(this.invalid$data(),R)})`)}error(R,D,M){if(D){this.setParams(D),this._error(R,M),this.setParams({});return}this._error(R,M)}_error(R,D){(R?h.reportExtraError:h.reportError)(this,this.def.error,D)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,D){D?Object.assign(this.params,R):this.params=R}block$data(R,D,M=l.nil){this.gen.block(()=>{this.check$data(R,M),D()})}check$data(R=l.nil,D=l.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:ae,def:fe}=this;M.if((0,l.or)((0,l._)`${K} === undefined`,D)),R!==l.nil&&M.assign(R,!0),(ae.length||fe.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),R!==l.nil&&M.assign(R,!1)),M.else()}invalid$data(){const{gen:R,schemaCode:D,schemaType:M,def:K,it:ae}=this;return(0,l.or)(fe(),de());function fe(){if(M.length){if(!(D instanceof l.Name))throw new Error("ajv implementation error");const pe=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(pe,D,ae.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(K.validateSchema){const pe=R.scopeValue("validate$data",{ref:K.validateSchema});return(0,l._)`!${pe}(${D})`}return l.nil}}subschema(R,D){const M=(0,s.getSubschema)(this.it,R);(0,s.extendSubschemaData)(M,this.it,R),(0,s.extendSubschemaMode)(M,R);const K={...this.it,...M,items:void 0,props:void 0};return E(K,D),K}mergeEvaluated(R,D){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&R.props!==void 0&&(M.props=c.mergeEvaluated.props(K,R.props,M.props,D)),M.items!==!0&&R.items!==void 0&&(M.items=c.mergeEvaluated.items(K,R.items,M.items,D)))}mergeValidEvaluated(R,D){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(D,()=>this.mergeEvaluated(R,l.Name)),!0}};e.KeywordCxt=J;function Y(R,D,M,K){const ae=new J(R,M,D);"code"in M?M.code(ae,K):ae.$data&&M.validate?(0,a.funcKeywordCode)(ae,M):"macro"in M?(0,a.macroKeywordCode)(ae,M):(M.compile||M.validate)&&(0,a.funcKeywordCode)(ae,M)}var se=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ne(R,{dataLevel:D,dataNames:M,dataPathArr:K}){let ae,fe;if(R==="")return u.default.rootData;if(R[0]==="/"){if(!se.test(R))throw new Error(`Invalid JSON-pointer: ${R}`);ae=R,fe=u.default.rootData}else{const Le=be.exec(R);if(!Le)throw new Error(`Invalid JSON-pointer: ${R}`);const ke=+Le[1];if(ae=Le[2],ae==="#"){if(ke>=D)throw new Error(xe("property/index",ke));return K[D-ke]}if(ke>D)throw new Error(xe("data",ke));if(fe=M[D-ke],!ae)return fe}let de=fe;const pe=ae.split("/");for(const Le of pe)Le&&(fe=(0,l._)`${fe}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,de=(0,l._)`${de} && ${fe}`);return de;function xe(Le,ke){return`Cannot access ${Le} ${ke} levels up, current level is ${D}`}}e.getData=Ne}}),CN=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),kN=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=bE(),r=class extends Error{constructor(n,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),DN=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=mr(),r=CN(),n=vc(),i=bE(),o=zr(),a=_E(),s=class{constructor(p){var S;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(S=p.baseId)!==null&&S!==void 0?S:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=s;function l(p){const S=c.call(this,p);if(S)return S;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:E,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:E,lines:$,ownProperties:T});let A;p.$async&&(A=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const x=d.scopeName("validate");p.validateName=x;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:x,ValidationError:A,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(p),(0,a.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();C=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(C=this.opts.code.process(C,p));const Q=new Function(`${n.default.self}`,`${n.default.scope}`,C)(this,this.scope.get());if(this.scope.value(x,{ref:Q}),Q.errors=null,Q.schema=p.schema,Q.schemaEnv=p,p.$async&&(Q.$async=!0),this.opts.code.source===!0&&(Q.source={validateName:x,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:X}=O;Q.evaluated={props:H instanceof t.Name?void 0:H,items:X instanceof t.Name?void 0:X,dynamicProps:H instanceof t.Name,dynamicItems:X instanceof t.Name},Q.source&&(Q.source.evaluated=(0,t.stringify)(Q.evaluated))}return p.validate=Q,p}catch(F){throw delete p.validate,delete p.validateName,C&&this.logger.error("Error compiling schema, function code:",C),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,S,y){var E;y=(0,i.resolveUrl)(this.opts.uriResolver,S,y);const $=p.refs[y];if($)return $;let T=g.call(this,p,y);if(T===void 0){const d=(E=p.localRefs)===null||E===void 0?void 0:E[y],{schemaId:A}=this.opts;d&&(T=new s({schema:d,schemaId:A,root:p,baseId:S}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const S of this._compilations)if(h(S,p))return S}e.getCompilingSchema=c;function h(p,S){return p.schema===S.schema&&p.root===S.root&&p.baseId===S.baseId}function g(p,S){let y;for(;typeof(y=this.refs[S])=="string";)S=y;return y||this.schemas[S]||m.call(this,p,S)}function m(p,S){const y=this.opts.uriResolver.parse(S),E=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&E===$)return v.call(this,y,p);const T=(0,i.normalizeId)(E),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const A=m.call(this,p,d);return typeof(A==null?void 0:A.schema)!="object"?void 0:v.call(this,y,A)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(S)){const{schema:A}=d,{schemaId:x}=this.opts,O=A[x];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new s({schema:A,schemaId:x,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=m;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:S,schema:y,root:E}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const A of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const x=y[(0,o.unescapeFragment)(A)];if(x===void 0)return;y=x;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(A)&&O&&(S=(0,i.resolveUrl)(this.opts.uriResolver,S,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const A=(0,i.resolveUrl)(this.opts.uriResolver,S,y.$ref);T=m.call(this,E,A)}const{schemaId:d}=this.opts;if(T=T||new s({schema:y,schemaId:d,root:E,baseId:S}),T.schema!==T.root.schema)return T}}}),Lne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),Fne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=oV();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),Bne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=_E();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=mr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=CN(),i=kN(),o=cV(),a=DN(),s=mr(),l=bE(),u=Qb(),f=zr(),c=Lne(),h=Fne(),g=(k,B)=>new RegExp(k,B);g.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},S=200;function y(k){var B,G,P,N,q,oe,J,Y,se,be,Ne,R,D,M,K,ae,fe,de,pe,xe,Le,ke,nt,qe,Ue;const W=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ne=(P=(G=k.code)===null||G===void 0?void 0:G.regExp)!==null&&P!==void 0?P:g,ye=(N=k.uriResolver)!==null&&N!==void 0?N:h.default;return{strictSchema:(oe=(q=k.strictSchema)!==null&&q!==void 0?q:W)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=k.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Ne=k.strictTuples)!==null&&Ne!==void 0?Ne:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:W)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:S,loopEnum:(ae=k.loopEnum)!==null&&ae!==void 0?ae:S,meta:(fe=k.meta)!==null&&fe!==void 0?fe:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(xe=k.schemaId)!==null&&xe!==void 0?xe:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(ke=k.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(nt=k.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var E=class{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...y(k)};const{es5:B,lines:G}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:B,lines:G}),this.logger=F(k.logger);const P=k.validateFormats;k.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,k,"NOT SUPPORTED"),$.call(this,p,k,"DEPRECATED","warn"),this._metaOpts=O.call(this),k.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&x.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),d.call(this),k.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:B,schemaId:G}=this.opts;let P=c;G==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&k&&this.addMetaSchema(P,P[G],!1)}defaultMeta(){const{meta:k,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[B]||k:void 0}validate(k,B){let G;if(typeof k=="string"){if(G=this.getSchema(k),!G)throw new Error(`no schema with key or ref "${k}"`)}else G=this.compile(k);const P=G(B);return"$async"in G||(this.errors=G.errors),P}compile(k,B){const G=this._addSchema(k,B);return G.validate||this._compileSchemaEnv(G)}compileAsync(k,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:G}=this.opts;return P.call(this,k,B);async function P(se,be){await N.call(this,se.$schema);const Ne=this._addSchema(se,be);return Ne.validate||q.call(this,Ne)}async function N(se){se&&!this.getSchema(se)&&await P.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(be){if(!(be instanceof i.default))throw be;return oe.call(this,be),await J.call(this,be.missingSchema),q.call(this,se)}}function oe({missingSchema:se,missingRef:be}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${be} cannot be resolved`)}async function J(se){const be=await Y.call(this,se);this.refs[se]||await N.call(this,be.$schema),this.refs[se]||this.addSchema(be,se,B)}async function Y(se){const be=this._loading[se];if(be)return be;try{return await(this._loading[se]=G(se))}finally{delete this._loading[se]}}}addSchema(k,B,G,P=this.opts.validateSchema){if(Array.isArray(k)){for(const q of k)this.addSchema(q,void 0,G,P);return this}let N;if(typeof k=="object"){const{schemaId:q}=this.opts;if(N=k[q],N!==void 0&&typeof N!="string")throw new Error(`schema ${q} must be string`)}return B=(0,l.normalizeId)(B||N),this._checkUnique(B),this.schemas[B]=this._addSchema(k,G,B,P,!0),this}addMetaSchema(k,B,G=this.opts.validateSchema){return this.addSchema(k,B,!0,G),this}validateSchema(k,B){if(typeof k=="boolean")return!0;let G;if(G=k.$schema,G!==void 0&&typeof G!="string")throw new Error("$schema must be a string");if(G=G||this.opts.defaultMeta||this.defaultMeta(),!G)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(G,k);if(!P&&B){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return P}getSchema(k){let B;for(;typeof(B=T.call(this,k))=="string";)k=B;if(B===void 0){const{schemaId:G}=this.opts,P=new a.SchemaEnv({schema:{},schemaId:G});if(B=a.resolveSchema.call(this,P,k),!B)return;this.refs[k]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,k);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const B=k;this._cache.delete(B);let G=k[this.opts.schemaId];return G&&(G=(0,l.normalizeId)(G),delete this.schemas[G],delete this.refs[G]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const B of k)this.addKeyword(B);return this}addKeyword(k,B){let G;if(typeof k=="string")G=k,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=G);else if(typeof k=="object"&&B===void 0){if(B=k,G=B.keyword,Array.isArray(G)&&!G.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,G,B),!B)return(0,f.eachItem)(G,N=>H.call(this,N)),this;ce.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(G,P.type.length===0?N=>H.call(this,N,P):N=>P.type.forEach(q=>H.call(this,N,P,q))),this}getKeyword(k){const B=this.RULES.all[k];return typeof B=="object"?B.definition:!!B}removeKeyword(k){const{RULES:B}=this;delete B.keywords[k],delete B.all[k];for(const G of B.rules){const P=G.rules.findIndex(N=>N.keyword===k);P>=0&&G.rules.splice(P,1)}return this}addFormat(k,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[k]=B,this}errorsText(k=this.errors,{separator:B=", ",dataVar:G="data"}={}){return!k||k.length===0?"No errors":k.map(P=>`${G}${P.instancePath} ${P.message}`).reduce((P,N)=>P+B+N)}$dataMetaSchema(k,B){const G=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const P of B){const N=P.split("/").slice(1);let q=k;for(const oe of N)q=q[oe];for(const oe in G){const J=G[oe];if(typeof J!="object")continue;const{$data:Y}=J.definition,se=q[oe];Y&&se&&(q[oe]=ie(se))}}return k}_removeAllSchemas(k,B){for(const G in k){const P=k[G];(!B||B.test(G))&&(typeof P=="string"?delete k[G]:P&&!P.meta&&(this._cache.delete(P.schema),delete k[G]))}}_addSchema(k,B,G,P=this.opts.validateSchema,N=this.opts.addUsedSchema){let q;const{schemaId:oe}=this.opts;if(typeof k=="object")q=k[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(k);if(J!==void 0)return J;G=(0,l.normalizeId)(q||G);const Y=l.getSchemaRefs.call(this,k,G);return J=new a.SchemaEnv({schema:k,schemaId:oe,meta:B,baseId:G,localRefs:Y}),this._cache.set(J.schema,J),N&&!G.startsWith("#")&&(G&&this._checkUnique(G),this.refs[G]=J),P&&this.validateSchema(k,!0),J}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):a.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const B=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,k)}finally{this.opts=B}}};e.default=E,E.ValidationError=n.default,E.MissingRefError=i.default;function $(k,B,G,P="error"){for(const N in k){const q=N;q in B&&this.logger[P](`${G}: option ${N}. ${k[q]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function A(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function x(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const G=k[B];G.keyword||(G.keyword=B),this.addKeyword(G)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}var C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(k,B){const{RULES:G}=this;if((0,f.eachItem)(k,P=>{if(G.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,G){var P;const N=B==null?void 0:B.post;if(G&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=N?q.post:q.rules.find(({type:Y})=>Y===G);if(oe||(oe={type:G,rules:[]},q.rules.push(oe)),q.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,oe,J,B.before):oe.rules.push(J),q.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(k,B,G){const P=k.rules.findIndex(N=>N.keyword===G);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${G} is not defined`))}function ce(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ie(B)),k.validateSchema=this.compile(B,!0))}var Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(k){return{anyOf:[k,Z]}}}}),Une=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),zne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=kN(),r=_s(),n=mr(),i=vc(),o=DN(),a=zr(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:g}=f,{baseId:m,schemaEnv:_,validateName:v,opts:p,self:S}=g,{root:y}=_;if((h==="#"||h==="#/")&&m===y.baseId)return $();const E=o.resolveRef.call(S,y,m,h);if(E===void 0)throw new t.default(g.opts.uriResolver,m,h);if(E instanceof o.SchemaEnv)return T(E);return d(E);function $(){if(_===y)return u(f,v,_,_.$async);const A=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${A}.validate`,y,y.$async)}function T(A){const x=l(f,A);u(f,x,A,A.$async)}function d(A){const x=c.scopeValue("schema",p.code.source===!0?{ref:A,code:(0,n.stringify)(A)}:{ref:A}),O=c.name("valid"),C=f.subschema({schema:A,dataTypes:[],schemaPath:n.nil,topSchemaRef:x,errSchemaPath:h},O);f.mergeEvaluated(C),f.ok(O)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,g){const{gen:m,it:_}=f,{allErrors:v,schemaEnv:p,opts:S}=_,y=S.passContext?i.default.this:n.nil;g?E():$();function E(){if(!p.$async)throw new Error("async schema referenced by sync schema");const A=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||m.assign(A,!0)},x=>{m.if((0,n._)`!(${x} instanceof ${_.ValidationError})`,()=>m.throw(x)),T(x),v||m.assign(A,!1)}),f.ok(A)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(A){const x=(0,n._)`${A}.errors`;m.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${x} : ${i.default.vErrors}.concat(${x})`),m.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(A){var x;if(!_.opts.unevaluated)return;const O=(x=h==null?void 0:h.validate)===null||x===void 0?void 0:x.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=a.mergeEvaluated.props(m,O.props,_.props));else{const C=m.var("props",(0,n._)`${A}.evaluated.props`);_.props=a.mergeEvaluated.props(m,C,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=a.mergeEvaluated.items(m,O.items,_.items));else{const C=m.var("items",(0,n._)`${A}.evaluated.items`);_.items=a.mergeEvaluated.items(m,C,_.items,n.Name)}}}e.callRef=u,e.default=s}}),qne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Une(),r=zne(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),Vne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u}=a;a.fail$data((0,t._)`${l} ${n[s].fail} ${u} || isNaN(${l})`)}};e.default=o}}),Hne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:a,schemaCode:s,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${c}))`)}};e.default=n}}),Wne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,a;for(;o<n;)i++,a=r.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=r.charCodeAt(o),(a&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),Gne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=Wne(),i={message({keyword:a,schemaCode:s}){const l=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(a){const{keyword:s,data:l,schemaCode:u,it:f}=a,c=s==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(a.gen,n.default)}(${l})`;a.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),Kne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_s(),r=mr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:a,$data:s,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=s?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${a})`)}};e.default=i}}),Jne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${a}).length ${l} ${s}`)}};e.default=n}}),Yne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_s(),r=mr(),n=zr(),i={message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,schema:l,schemaCode:u,data:f,$data:c,it:h}=a,{opts:g}=h;if(!c&&l.length===0)return;const m=l.length>=g.loopRequired;if(h.allErrors?_():v(),g.strictRequired){const y=a.parentSchema.properties,{definedProperties:E}=a.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!E.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(m||c)a.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(a,y)}function v(){const y=s.let("missing");if(m||c){const E=s.let("valid",!0);a.block$data(E,()=>S(y,E)),a.ok(E)}else s.if((0,t.checkMissingProp)(a,l,y)),(0,t.reportMissingProp)(a,y),s.else()}function p(){s.forOf("prop",u,y=>{a.setParams({missingProperty:y}),s.if((0,t.noPropertyInData)(s,f,y,g.ownProperties),()=>a.error())})}function S(y,E){a.setParams({missingProperty:y}),s.forOf(y,u,()=>{s.assign(E,(0,t.propertyInData)(s,f,y,g.ownProperties)),s.if((0,r.not)(E),()=>{a.error(),s.break()})},r.nil)}}};e.default=o}}),Xne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message({keyword:i,schemaCode:o}){const a=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:a,schemaCode:s}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${a}.length ${l} ${s}`)}};e.default=n}}),MN=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=qh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),Qne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qb(),r=mr(),n=zr(),i=MN(),o={message:({params:{i:s,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${s} are identical)`,params:({params:{i:s,j:l}})=>(0,r._)`{i: ${s}, j: ${l}}`},a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(s){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:g,it:m}=s;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];s.block$data(_,p,(0,r._)`${g} === false`),s.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");s.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(S()?y:E)($,T))}function S(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),A=(0,t.checkDataTypes)(v,d,m.opts.strictNumbers,t.DataType.Wrong),x=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(A,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${x}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${x}[${d}]`),s.error(),l.assign(_,!1).break()}).code((0,r._)`${x}[${d}] = ${$}`)})}function E($,T){const d=(0,n.useFunc)(l,i.default),A=l.name("outer");l.label(A).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{s.error(),l.assign(_,!1).break(A)})))}}};e.default=a}}),Zne=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=MN(),i={message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},o={keyword:"const",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schemaCode:f,schema:c}=a;u||c&&typeof c=="object"?a.fail$data((0,t._)`!${(0,r.useFunc)(s,n.default)}(${l}, ${f})`):a.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),eie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=MN(),i={message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(a){const{gen:s,data:l,$data:u,schema:f,schemaCode:c,it:h}=a;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const g=f.length>=h.opts.loopEnum;let m;const _=()=>m??(m=(0,r.useFunc)(s,n.default));let v;if(g||u)v=s.let("valid"),a.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=s.const("vSchema",c);v=(0,t.or)(...f.map((E,$)=>S(y,$)))}a.pass(v);function p(){s.assign(v,!1),s.forOf("v",c,y=>s.if((0,t._)`${_()}(${l}, ${y})`,()=>s.assign(v,!0).break()))}function S(y,E){const $=f[E];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${E}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),tie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Vne(),r=Hne(),n=Gne(),i=Kne(),o=Jne(),a=Yne(),s=Xne(),l=Qne(),u=Zne(),f=eie(),c=[t.default,r.default,n.default,i.default,o.default,a.default,s.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),dV=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=mr(),r=zr(),n={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(a){const{parentSchema:s,it:l}=a,{items:u}=s;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,u)}};function o(a,s){const{gen:l,schema:u,data:f,keyword:c,it:h}=a;h.items=!0;const g=l.const("len",(0,t._)`${f}.length`);if(u===!1)a.setParams({len:s.length}),a.pass((0,t._)`${g} <= ${s.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${g} <= ${s.length}`);l.if((0,t.not)(_),()=>m(_)),a.ok(_)}function m(_){l.forRange("i",s.length,g,v=>{a.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),hV=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=mr(),r=zr(),n=_s(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:l}=a;if(Array.isArray(s))return o(a,"additionalItems",s);l.items=!0,!(0,r.alwaysValidSchema)(l,s)&&a.ok((0,n.validateArray)(a))}};function o(a,s,l=a.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:g}=a;v(f),g.opts.unevaluated&&l.length&&g.items!==!0&&(g.items=r.mergeEvaluated.items(u,l.length,g.items));const m=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,S)=>{(0,r.alwaysValidSchema)(g,p)||(u.if((0,t._)`${_} > ${S}`,()=>a.subschema({keyword:h,schemaProp:S,dataProp:S},m)),a.ok(m))});function v(p){const{opts:S,errSchemaPath:y}=g,E=l.length,$=E===p.minItems&&(E===p.maxItems||p[s]===!1);if(S.strictTuples&&!$){const T=`"${h}" is ${E}-tuple, but minItems or maxItems/${s} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(g,T,S.strictTuples)}}}e.validateTuple=o,e.default=i}}),rie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=hV(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),nie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=_s(),i=dV(),o={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(s){const{schema:l,parentSchema:u,it:f}=s,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(s,c):s.ok((0,n.validateArray)(s)))}};e.default=a}}),iie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:({params:{min:o,max:a}})=>a===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${a}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:g,maxContains:m}=l;f.opts.next?(c=g===void 0?1:g,h=m):c=1;const _=a.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,s)){let E=(0,t._)`${_} >= ${c}`;h!==void 0&&(E=(0,t._)`${E} && ${_} <= ${h}`),o.pass(E);return}f.items=!0;const v=a.name("valid");h===void 0&&c===1?S(v,()=>a.if(v,()=>a.break())):c===0?(a.let(v,!0),h!==void 0&&a.if((0,t._)`${u}.length > 0`,p)):(a.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const E=a.name("_valid"),$=a.let("count",0);S(E,()=>a.if(E,()=>y($)))}function S(E,$){a.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},E),$()})}function y(E){a.code((0,t._)`${E}++`),h===void 0?a.if((0,t._)`${E} >= ${c}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${E} > ${h}`,()=>a.assign(v,!1).break()),c===1?a.assign(v,!0):a.if((0,t._)`${E} >= ${c}`,()=>a.assign(v,!0)))}}};e.default=i}}),oie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=mr(),r=zr(),n=_s();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=s,e.default=i}}),aie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:a,schema:s,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,s))return;const f=a.name("valid");a.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),a.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||a.break()})}),o.ok(f)}};e.default=i}}),pV=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_s(),r=mr(),n=vc(),i=zr(),o={message:"must NOT have additional properties",params:({params:s})=>(0,r._)`{additionalProperty: ${s.additionalProperty}}`},a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(s){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:g}=s;if(!h)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=g;if(g.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(g,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);S(),s.ok((0,r._)`${h} === ${n.default.errors}`);function S(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let A;if(v.length>8){const x=(0,i.schemaRefOrVal)(g,f.properties,"properties");A=(0,t.isOwnProperty)(l,x,d)}else v.length?A=(0,r.or)(...v.map(x=>(0,r._)`${d} === ${x}`)):A=r.nil;return p.length&&(A=(0,r.or)(A,...p.map(x=>(0,r._)`${(0,t.usePattern)(s,x)}.test(${d})`))),(0,r.not)(A)}function E(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){E(d);return}if(u===!1){s.setParams({additionalProperty:d}),s.error(),m||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(g,u)){const A=l.name("valid");_.removeAdditional==="failing"?(T(d,A,!1),l.if((0,r.not)(A),()=>{s.reset(),E(d)})):(T(d,A),m||l.if((0,r.not)(A),()=>l.break()))}}function T(d,A,x){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};x===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(O,A)}}};e.default=a}}),sie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_E(),r=_s(),n=zr(),i=pV(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,parentSchema:u,data:f,it:c}=a;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(s,(0,n.toHash)(h),c.props));const g=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(g.length===0)return;const m=s.name("valid");for(const p of g)_(p)?v(p):(s.if((0,r.propertyInData)(s,f,p,c.opts.ownProperties)),v(p),c.allErrors||s.else().var(m,!0),s.endIf()),a.it.definedProperties.add(p),a.ok(m);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){a.subschema({keyword:"properties",schemaProp:p,dataProp:p},m)}}};e.default=o}}),lie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_s(),r=mr(),n=zr(),i=zr(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:l,data:u,parentSchema:f,it:c}=a,{opts:h}=c,g=(0,t.allSchemaProperties)(l),m=g.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(g.length===0||m.length===g.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=s.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(s,c.props));const{props:p}=c;S();function S(){for(const $ of g)_&&y($),c.allErrors?E($):(s.var(v,!0),E($),s.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function E($){s.forIn("key",u,T=>{s.if((0,r._)`${(0,t.usePattern)(a,$)}.test(${T})`,()=>{const d=m.includes($);d||a.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?s.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&s.if((0,r.not)(v),()=>s.break())})})}}};e.default=o}}),uie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:a}=n;if((0,t.alwaysValidSchema)(a,o)){n.fail();return}const s=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),cie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_s(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),fie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:a,schema:s,parentSchema:l,it:u}=o;if(!Array.isArray(s))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=s,c=a.let("valid",!1),h=a.let("passing",null),g=a.name("_valid");o.setParams({passing:h}),a.block(m),o.result(c,()=>o.reset(),()=>o.error(!0));function m(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?a.var(g,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},g),v>0&&a.if((0,t._)`${g} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),a.if(g,()=>{a.assign(c,!0),a.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),die=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const s=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(a,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},s);n.ok(s),n.mergeEvaluated(f)})}};e.default=r}}),hie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(a){const{gen:s,parentSchema:l,it:u}=a;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=s.let("valid",!0),g=s.name("_valid");if(m(),a.reset(),f&&c){const v=s.let("ifClause");a.setParams({ifClause:v}),s.if(g,_("then",v),_("else",v))}else f?s.if(g,_("then")):s.if((0,t.not)(g),_("else"));a.pass(h,()=>a.error(!0));function m(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);a.mergeEvaluated(v)}function _(v,p){return()=>{const S=a.subschema({keyword:v},g);s.assign(h,g),a.mergeValidEvaluated(S,h),p?s.assign(p,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function o(a,s){const l=a.schema[s];return l!==void 0&&!(0,r.alwaysValidSchema)(a,l)}e.default=i}}),pie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),mie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=dV(),r=rie(),n=hV(),i=nie(),o=iie(),a=oie(),s=aie(),l=pV(),u=sie(),f=lie(),c=uie(),h=cie(),g=fie(),m=die(),_=hie(),v=pie();function p(S=!1){const y=[c.default,h.default,g.default,m.default,_.default,v.default,s.default,l.default,a.default,u.default,f.default];return S?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),gie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:a,data:s,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:g,schemaEnv:m,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const S=a.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=a.const("fDef",(0,t._)`${S}[${f}]`),E=a.let("fType"),$=a.let("format");a.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>a.assign(E,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>a.assign(E,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const A=m.$async?(0,t._)`(${y}.async ? await ${$}(${s}) : ${$}(${s}))`:(0,t._)`${$}(${s})`,x=(0,t._)`(typeof ${$} == "function" ? ${A} : ${$}.test(${s}))`;return(0,t._)`${$} && ${$} !== true && ${E} === ${o} && !${x}`}}function p(){const S=_.formats[u];if(!S){T();return}if(S===!0)return;const[y,E,$]=d(S);y===o&&i.pass(A());function T(){if(h.strictSchema===!1){_.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function d(x){const O=x instanceof RegExp?(0,t.regexpCode)(x):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,C=a.scopeValue("formats",{key:u,ref:x,code:O});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,t._)`${C}.validate`]:["string",x,C]}function A(){if(typeof S=="object"&&!(S instanceof RegExp)&&S.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${s})`}return typeof E=="function"?(0,t._)`${$}(${s})`:(0,t._)`${$}.test(${s})`}}}};e.default=n}}),vie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=gie(),r=[t.default];e.default=r}}),yie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),wie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=qne(),r=tie(),n=mie(),i=vie(),o=yie(),a=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=a}}),bie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),_ie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=bie(),n=DN(),i=zr(),o={message:({params:{discrError:s,tagName:l}})=>s===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:u}})=>(0,t._)`{error: ${s}, tag: ${u}, tagValue: ${l}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(s){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=s,{oneOf:g}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=f.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(m)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>s.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:m})),s.ok(_);function p(){const E=y();l.if(!1);for(const $ in E)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,S(E[$]));l.else(),s.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:m}),l.endIf()}function S(E){const $=l.name("valid"),T=s.subschema({keyword:"oneOf",schemaProp:E},$);return s.mergeEvaluated(T,t.Name),$}function y(){var E;const $={},T=A(c);let d=!0;for(let C=0;C<g.length;C++){let F=g[C];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,h.self.RULES)&&(F=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(E=F==null?void 0:F.properties)===null||E===void 0?void 0:E[m];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(T||A(F)),x(V,C)}if(!d)throw new Error(`discriminator: "${m}" must be required`);return $;function A({required:C}){return Array.isArray(C)&&C.includes(m)}function x(C,F){if(C.const)O(C.const,F);else if(C.enum)for(const V of C.enum)O(V,F);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function O(C,F){if(typeof C!="string"||C in $)throw new Error(`discriminator: "${m}" values must be unique strings`);$[C]=F}}}};e.default=a}}),Eie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),Sie=Pe({"../../node_modules/ajv-formats/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Bne(),n=wie(),i=_ie(),o=Eie(),a=["/properties"],s="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(g,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=_E();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=mr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=CN();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=kN();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),$ie=Pe({"../../node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=Sie(),r=mr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>r.str`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>r._`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=s,{opts:g,self:m}=h;if(!g.validateFormats)return;const _=new t.KeywordCxt(h,m.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:m.formats,code:g.code.formats}),E=l.const("fmt",r._`${y}[${_.schemaCode}]`);s.fail$data(r.or(r._`typeof ${E} != "object"`,r._`${E} instanceof RegExp`,r._`typeof ${E}.compare != "function"`,S(E)))}function p(){const y=_.schema,E=m.formats[y];if(!E||E===!0)return;if(typeof E!="object"||E instanceof RegExp||typeof E.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:E,code:g.code.formats?r._`${g.code.formats}${r.getProperty(y)}`:void 0});s.fail$data(S($))}function S(y){return r._`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a}}),mV=Pe({"../../node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=Ine(),n=$ie(),i=mr(),o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],g=f.formats||r.formatNames;return l(u,g,c,h),f.keywords&&n.default(u),u};s.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var g,m;(g=(m=u.opts.code).formats)!==null&&g!==void 0||(m.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s}}),Tie=Pe({"../../node_modules/wot-thing-description-types/schema/td-json-schema-validation.json"(e,t){t.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}}}),Mg=Pe({"../core/dist/helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(y,E,$,T){T===void 0&&(T=$);var d=Object.getOwnPropertyDescriptor(E,$);(!d||("get"in d?!E.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return E[$]}}),Object.defineProperty(y,T,d)}:function(y,E,$,T){T===void 0&&(T=$),y[T]=E[$]}),r=e&&e.__setModuleDefault||(Object.create?function(y,E){Object.defineProperty(y,"default",{enumerable:!0,value:E})}:function(y,E){y.default=E}),n=e&&e.__importStar||function(){var y=function(E){return y=Object.getOwnPropertyNames||function($){var T=[];for(var d in $)Object.prototype.hasOwnProperty.call($,d)&&(T[T.length]=d);return T},y(E)};return function(E){if(E&&E.__esModule)return E;var $={};if(E!=null)for(var T=y(E),d=0;d<T.length;d++)T[d]!=="default"&&t($,E,T[d]);return r($,E),$}}(),i=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((I7(),Or(OU))),a=nre(),s=Pg(),l=ll(),u=i(uV()),f=i(mV()),c=i(Tie()),h=jo(),{debug:g,error:m,warn:_}=(0,h.createLoggers)("core","helpers"),v=c.default,p=new u.default({strict:!1});(0,f.default)(p);var S=class yl{constructor(E){this.srv=E}static extractScheme(E){const $=new URL(E);if(g($),$.protocol===null)throw new Error(`Protocol in url "${E}" must be valid`);const T=$.protocol.slice(0,-1);return g(`Helpers found scheme '${T}'`),T}static setStaticAddress(E){yl.staticAddress=E}static getAddresses(){const E=[];if(yl.staticAddress!==void 0)return E.push(yl.staticAddress),g(`AddressHelper uses static ${E}`),E;{const $=o.networkInterfaces();for(const T of Object.values($))T==null||T.forEach(d=>{g(`AddressHelper found ${d.address}`),d.internal===!1&&(d.family==="IPv4"?E.push(d.address):d.scopeid===0&&E.push(yl.toUriLiteral(d.address)))});return E.length===0&&E.push("localhost"),g(`AddressHelper identified ${E}`),E}}static toUriLiteral(E){return E==null?(m(`AddressHelper received invalid address '${E}'`),"{invalid address - undefined}"):(E.indexOf(":")!==-1&&(E=`[${E}]`),E)}static generateUniqueName(E){const $=E.match(/.+_([0-9]+)$/);return $!==null?E.slice(0,-$[1].length)+(1+parseInt($[1])):E+"_2"}static toStringArray(E){return E!=null?typeof E=="string"?[E]:E:[]}static structuredClone(E){return JSON.parse(JSON.stringify(E))}fetch(E){return new Promise(($,T)=>{const d=this.srv.getClientFor(yl.extractScheme(E));g(`WoTImpl fetching TD from '${E}' with ${d}`),d.readResource(new s.Form(E,l.ContentSerdes.TD)).then(async A=>{A.type!==l.ContentSerdes.TD&&A.type!==l.ContentSerdes.JSON_LD&&_(`WoTImpl received TD with media type '${A.type}' from ${E}`);const x=(await A.toBuffer()).toString("utf-8");try{const O=JSON.parse(x);$(O)}catch(O){T(new Error(`WoTImpl fetched invalid JSON from '${E}': ${O instanceof Error?O.message:O}`))}}).then(async A=>(await d.stop(),A)).catch(A=>{T(A)})})}static extend(E,$){const T={};for(const[d,A]of Object.entries(E))T[d]=A;for(const[d,A]of Object.entries($))Object.prototype.hasOwnProperty.call(T,d)||(T[d]=A);return T}static async parseInteractionOutput(E){try{return await E.value()}catch{throw m("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(E){const $=yl.structuredClone(E);if($.required!==void 0){const T=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray($.required)){const d=$.required;$.required=d.filter(A=>!T.includes(A))}else typeof $.required=="string"&&T.indexOf($.required)!==-1&&delete $.required}if($.definitions!=null)for(const[T,d]of Object.entries($.definitions)??[])$.definitions[T]=this.createExposeThingInitSchema(d);return $}static validateExposedThingInit(E){var d;if(E["@type"]==="tm:ThingModel"||a.ThingModelHelpers.isThingModel(E)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};const $=yl.tsSchemaValidator(E);let T;return $||(T=(d=yl.tsSchemaValidator.errors)==null?void 0:d.map(A=>A.message).join(`
`)),{valid:$,errors:T}}static parseInteractionOptions(E,$,T){if(!this.validateInteractionOptions(E,$,T))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${$.title}' Thing Interaction nor '${E.title}' Thing`);const d=$.uriVariables??{},A=E.uriVariables??{},x={};T!=null&&T.uriVariables?Object.entries(T.uriVariables).forEach(C=>{(C[0]in d||C[0]in A)&&(x[C[0]]=C[1])}):T={uriVariables:{}};for(const[O,C]of Object.entries(A))!(O in x)&&"default"in C&&(x[O]=C.default);return T.uriVariables=x,T}static validateInteractionOptions(E,$,T){const d=$.uriVariables??{},A=E.uriVariables??{};if(T!=null&&T.uriVariables){const x=Object.entries(T.uriVariables);for(let O=0;O<x.length;O++){const C=x[O];if(!(C[0]in d)&&!(C[0]in A))return!1}}return!0}static parseUrlParameters(E,$={},T={}){const d={};if(E==null||T==null&&$==null)return d;const A=E.split("?")[1];return A==null||(A.indexOf("&")!==-1?A.split("&"):[A]).forEach(O=>{const C=O.split("="),F=decodeURIComponent(C[0]),V=decodeURIComponent(C.length>1?C[1]:"");T!=null&&T[F]!=null?T[F].type==="integer"||T[F].type==="number"?d[F]=+V:d[F]=V:$!=null&&$[F]!=null&&($[F].type==="integer"||$[F].type==="number"?d[F]=+V:d[F]=V)}),d}static updateInteractionNameWithUriVariablePattern(E,$={},T={}){const d=encodeURIComponent(E),A=[...Object.keys($),...Object.keys(T)];if(A.length===0)return d;const x=A.map(encodeURIComponent).join(",");return d+"{?"+x+"}"}};S.tsSchemaValidator=p.compile(S.createExposeThingInitSchema(v)),S.staticAddress=void 0,e.default=S}}),Aie=Pe({"../core/dist/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DataSchemaError=e.NotSupportedError=e.NotReadableError=void 0;var t=class gV extends Error{constructor(o){super(o),Object.setPrototypeOf(this,gV.prototype)}};e.NotReadableError=t;var r=class vV extends Error{constructor(o){super(o),Object.setPrototypeOf(this,vV.prototype)}};e.NotSupportedError=r;var n=class extends Error{constructor(i,o){super(i),this.value=o,Object.setPrototypeOf(this,r.prototype)}};e.DataSchemaError=n}}),yV=Pe({"../core/dist/interaction-output.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(T,d,A,x){x===void 0&&(x=A);var O=Object.getOwnPropertyDescriptor(d,A);(!O||("get"in O?!d.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return d[A]}}),Object.defineProperty(T,x,O)}:function(T,d,A,x){x===void 0&&(x=A),T[x]=d[A]}),r=e&&e.__setModuleDefault||(Object.create?function(T,d){Object.defineProperty(T,"default",{enumerable:!0,value:d})}:function(T,d){T.default=d}),n=e&&e.__importStar||function(){var T=function(d){return T=Object.getOwnPropertyNames||function(A){var x=[];for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(x[x.length]=O);return x},T(d)};return function(d){if(d&&d.__esModule)return d;var A={};if(d!=null)for(var x=T(d),O=0;O<x.length;O++)x[O]!=="default"&&t(A,d,x[O]);return r(A,d),A}}(),i=e&&e.__classPrivateFieldGet||function(T,d,A,x){if(A==="a"&&!x)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?T!==d||!x:!d.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?x:A==="a"?x.call(T):x?x.value:d.get(T)},o=e&&e.__classPrivateFieldSet||function(T,d,A,x,O){if(x==="m")throw new TypeError("Private method is not writable");if(x==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?T!==d||!O:!d.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return x==="a"?O.call(T,A):O?O.value=A:d.set(T,A),A},a=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}},s,l,u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOutput=void 0;var c=n((uE(),Or(lE))),h=ll(),g=ko(),m=Aie(),_=a(uV()),v=a(mV()),p=jo(),{debug:S,warn:y}=(0,p.createLoggers)("core","interaction-output"),E=new _.default({strict:!1,addUsedSchema:!1});(0,v.default)(E);var $=class{get data(){if(i(this,f,"f"))return i(this,f,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,o(this,f,g.ProtocolHelpers.toWoTStream(i(this,s,"f").body),"f")}constructor(T,d,A,x={ignoreValidation:!1}){s.set(this,void 0),l.set(this,void 0),u.set(this,void 0),f.set(this,void 0),o(this,s,T,"f"),this.form=d,this.schema=A,this.ignoreValidation=x.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(i(this,u,"f"))return i(this,u,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const T=await i(this,s,"f").toBuffer();return this.dataUsed=!0,o(this,u,T,"f"),T}async value(){if(this.schema==null){y("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(i(this,l,"f")!==void 0)return i(this,l,"f");if(this.dataUsed)throw new m.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new m.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new m.NotReadableError("No schema type defined");if(!h.ContentSerdes.get().isSupported(i(this,s,"f").type)){const x=`Content type ${i(this,s,"f").type} not supported`;throw new m.NotSupportedError(x)}const T=await i(this,s,"f").toBuffer();this.dataUsed=!0,o(this,u,T,"f");const d=h.ContentSerdes.get().contentToValue({type:i(this,s,"f").type,body:T},this.schema),A=E.compile(this.schema);if(!this.ignoreValidation&&!A(d))throw S(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),S(`value: ${d}`),S(`Error: ${A.errors}`),new m.DataSchemaError("Invalid value according to DataSchema",d);return o(this,l,d,"f"),d}};e.InteractionOutput=$,s=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap}}),xie=Pe({"../core/dist/protocol-listener-registry.js"(e){Te();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(ll()),n=class wV{constructor(){this.listeners=new Map}register(o,a,s){if(o.forms[a]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let l=this.listeners.get(o);l||(l=new Map,this.listeners.set(o,l));let u=l.get(a);u||(u=[],l.set(a,u)),u.push(s)}unregister(o,a,s){const l=this.listeners.get(o);if(!l)throw new Error("Not found");const u=l.get(a);if(!u)throw new Error("Form not found");const f=u.indexOf(s);if(f<0)throw new Error("Form not found");u.splice(f,1)}unregisterAll(){this.listeners.clear()}notify(o,a,s,l){const u=this.listeners.get(o)??wV.EMPTY_MAP;if(l!==void 0){const f=u.get(l);if(f){const c=o.forms[l].contentType,h=r.default.valueToContent(a,s,c);f.forEach(g=>g(h));return}}for(const[f,c]of u){const h=o.forms[f].contentType,g=r.default.valueToContent(a,s,h);c.forEach(m=>m(g))}}};n.EMPTY_MAP=new Map,e.default=n}}),bV=Pe({"../core/dist/exposed-thing.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(O,C,F,V){V===void 0&&(V=F);var Q=Object.getOwnPropertyDescriptor(C,F);(!Q||("get"in Q?!C.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return C[F]}}),Object.defineProperty(O,V,Q)}:function(O,C,F,V){V===void 0&&(V=F),O[V]=C[F]}),r=e&&e.__setModuleDefault||(Object.create?function(O,C){Object.defineProperty(O,"default",{enumerable:!0,value:C})}:function(O,C){O.default=C}),n=e&&e.__importStar||function(){var O=function(C){return O=Object.getOwnPropertyNames||function(F){var V=[];for(var Q in F)Object.prototype.hasOwnProperty.call(F,Q)&&(V[V.length]=Q);return V},O(C)};return function(C){if(C&&C.__esModule)return C;var F={};if(C!=null)for(var V=O(C),Q=0;Q<V.length;Q++)V[Q]!=="default"&&t(F,C,V[Q]);return r(F,C),F}}(),i=e&&e.__classPrivateFieldSet||function(O,C,F,V,Q){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!Q)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?O!==C||!Q:!C.has(O))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?Q.call(O,F):Q?Q.value=F:C.set(O,F),F},o=e&&e.__classPrivateFieldGet||function(O,C,F,V){if(F==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?O!==C||!V:!C.has(O))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?V:F==="a"?V.call(O):V?V.value:C.get(O)},a=e&&e.__importDefault||function(O){return O&&O.__esModule?O:{default:O}},s,l,u,f,c,h;Object.defineProperty(e,"__esModule",{value:!0});var g=n(Pg()),m=iN(),_=a(Mg()),v=yV(),p=(Fa(),Or(ta)),S=a(ON()),y=xN(),E=ko(),$=a(ll()),T=a(xie()),d=jo(),{debug:A}=(0,d.createLoggers)("core","exposed-thing"),x=class extends g.Thing{constructor(O,C={}){super(),s.set(this,new Map),l.set(this,new Map),u.set(this,new Map),f.set(this,new T.default),c.set(this,new T.default),h.set(this,void 0),i(this,h,O,"f"),this.id=C.id??"",this.title=C.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const F=_.default.structuredClone(C);Object.assign(this,F),(0,m.setContextLanguage)(this,g.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,m.serializeTD)(this))}emitEvent(O,C){if(this.events[O]!=null){const F=this.events[O];o(this,c,"f").notify(F,C,F.data)}else throw new Error("NotFoundError for event '"+O+"'")}async emitPropertyChange(O){var C;if(this.properties[O]!=null){const F=this.properties[O],V=(C=o(this,s,"f").get(O))==null?void 0:C.readHandler;if(!V)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const Q=await V();o(this,f,"f").notify(F,Q,F)}else throw new Error("NotFoundError for property '"+O+"'")}expose(){return A(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((O,C)=>{o(this,h,"f").expose(this).then(()=>{O()}).catch(F=>C(F))})}async destroy(){A(`ExposedThing '${this.title}' destroying the thing and its interactions`),await o(this,h,"f").destroyThing(this.id),o(this,c,"f").unregisterAll(),o(this,f,"f").unregisterAll(),o(this,u,"f").clear(),o(this,s,"f").clear(),o(this,u,"f").clear()}setPropertyReadHandler(O,C){if(A(`ExposedThing '${this.title}' setting read handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${O}' due to writeOnly flag`);{let F=o(this,s,"f").get(O);F?F.readHandler=C:F={readHandler:C},o(this,s,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyWriteHandler(O,C){if(A(`ExposedThing '${this.title}' setting write handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${O}' due to readOnly flag`);{let F=o(this,s,"f").get(O);F?F.writeHandler=C:F={writeHandler:C},o(this,s,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyObserveHandler(O,C){if(A(`ExposedThing '${this.title}' setting property observe handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${O}' since the observable flag is set to false`);{let F=o(this,s,"f").get(O);F?F.observeHandler=C:F={observeHandler:C},o(this,s,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyUnobserveHandler(O,C){if(A(`ExposedThing '${this.title}' setting property unobserve handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${O}' due to missing observable flag`);{let F=o(this,s,"f").get(O);F?F.unobserveHandler=C:F={unobserveHandler:C},o(this,s,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setActionHandler(O,C){if(A(`ExposedThing '${this.title}' setting action handler for '${O}'`),this.actions[O]!=null)o(this,l,"f").set(O,C);else throw new Error(`ExposedThing '${this.title}' has no Action '${O}'`);return this}setEventSubscribeHandler(O,C){if(A(`ExposedThing '${this.title}' setting event subscribe handler for '${O}'`),this.events[O]!=null){let F=o(this,u,"f").get(O);F?F.subscribe=C:F={subscribe:C},o(this,u,"f").set(O,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${O}'`);return this}setEventUnsubscribeHandler(O,C){if(A(`ExposedThing '${this.title}' setting event unsubscribe handler for '${O}'`),this.events[O]!=null){let F=o(this,u,"f").get(O);F?F.unsubscribe=C:F={unsubscribe:C},o(this,u,"f").set(O,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${O}'`);return this}async handleInvokeAction(O,C,F){if(this.actions[O]!=null){A(`ExposedThing '${this.title}' has Action state of '${O}'`);const V=o(this,l,"f").get(O);if(V!=null){A(`ExposedThing '${this.title}' calls registered handler for Action '${O}'`),_.default.validateInteractionOptions(this,this.actions[O],F);const Q=this.actions[O].forms[F.formIndex]??{contentType:"application/json"},H=await V(new v.InteractionOutput(C,Q,this.actions[O].input),F);if(H!==void 0)return $.default.valueToContent(H,this.actions[O].output,Q.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${O}'`)}async handleReadProperty(O,C){var F,V;if(this.properties[O]!=null){A(`ExposedThing '${this.title}' has Action state of '${O}'`);const Q=(F=o(this,s,"f").get(O))==null?void 0:F.readHandler;if(Q!=null){A(`ExposedThing '${this.title}' calls registered readHandler for Property '${O}'`),_.default.validateInteractionOptions(this,this.properties[O],C);const H=await Q(C),X=((V=this.properties[O])==null?void 0:V.forms[C.formIndex])??{contentType:"application/json"};return $.default.valueToContent(H,this.properties[O],(X==null?void 0:X.contentType)??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}async _handleReadProperties(O,C){try{const F=new Map;for(const V of O){if(!this.properties[V].forms.find(X=>X.contentType===E.ContentSerdes.DEFAULT||X.contentType==null))continue;const H=await this.handleReadProperty(V,C);F.set(V,H)}return F}catch(F){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${O}.
 Error: ${F}`)}}async handleReadAllProperties(O){const C=Object.keys(this.properties);return await this._handleReadProperties(C,O)}async handleReadMultipleProperties(O,C){return await this._handleReadProperties(O,C)}async handleWriteProperty(O,C,F){var V,Q;if(this.properties[O]!=null){if(this.properties[O].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${O}' is readOnly`);_.default.validateInteractionOptions(this,this.properties[O],F);const H=(V=o(this,s,"f").get(O))==null?void 0:V.writeHandler,X=((Q=this.properties[O])==null?void 0:Q.forms[F.formIndex])??{};if(H!=null)await H(new v.InteractionOutput(C,X,this.properties[O]),F);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}async handleWriteMultipleProperties(O,C){const F=[];for(const[V,Q]of Object.entries(O))this.properties[V].forms.find(X=>X.contentType==="application/json"||X.contentType==null)!=null&&F.push(this.handleWriteProperty(V,Q,C));try{await Promise.all(F)}catch(V){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${V.message}`)}}async handleSubscribeEvent(O,C,F){var V;if(this.events[O]!=null){_.default.validateInteractionOptions(this,this.events[O],F);const Q=S.default.getFormIndexForOperation(this.events[O],"event","subscribeevent",F.formIndex);if(Q!==-1)o(this,c,"f").register(this.events[O],Q,C),A(`ExposedThing '${this.title}' subscribes to event '${O}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(O))==null?void 0:V.subscribe;H&&await H(F),A(`ExposedThing '${this.title}' subscribes to event '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${O}'`)}handleUnsubscribeEvent(O,C,F){var V;if(this.events[O]!=null){_.default.validateInteractionOptions(this,this.events[O],F);const Q=S.default.getFormIndexForOperation(this.events[O],"event","unsubscribeevent",F.formIndex);if(Q!==-1)o(this,c,"f").unregister(this.events[O],Q,C);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(O))==null?void 0:V.unsubscribe;H&&H(F),A(`ExposedThing '${this.title}' unsubscribes from event '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${O}'`)}async handleObserveProperty(O,C,F){var V;if(this.properties[O]!=null){_.default.validateInteractionOptions(this,this.properties[O],F);const Q=S.default.getFormIndexForOperation(this.properties[O],"property","observeproperty",F.formIndex);if(Q!==-1)o(this,f,"f").register(this.properties[O],Q,C),A(`ExposedThing '${this.title}' subscribes to property '${O}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,s,"f").get(O))==null?void 0:V.observeHandler;H&&await H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}handleUnobserveProperty(O,C,F){var V;if(this.properties[O]!=null){_.default.validateInteractionOptions(this,this.properties[O],F);const Q=S.default.getFormIndexForOperation(this.properties[O],"property","unobserveproperty",F.formIndex);if(Q!==-1)o(this,f,"f").unregister(this.properties[O],Q,C);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,s,"f").get(O))==null?void 0:V.unobserveHandler;H&&H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}static interactionInputToReadable(O){let C;return typeof ReadableStream<"u"&&O instanceof ReadableStream||O instanceof y.ReadableStream?C=S.default.toNodeStream(O):Array.isArray(O)||typeof O=="object"?C=p.Readable.from(Yr.from(JSON.stringify(O),"utf-8")):C=p.Readable.from(Yr.from(O.toString(),"utf-8")),C}};s=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,h=new WeakMap,e.default=x}}),Oie=Pe({"../../node_modules/content-type/index.js"(e){Te();var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,a=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;e.format=s,e.parse=l;function s(h){if(!h||typeof h!="object")throw new TypeError("argument obj is required");var g=h.parameters,m=h.type;if(!m||!a.test(m))throw new TypeError("invalid type");var _=m;if(g&&typeof g=="object")for(var v,p=Object.keys(g).sort(),S=0;S<p.length;S++){if(v=p[S],!n.test(v))throw new TypeError("invalid parameter name");_+="; "+v+"="+f(g[v])}return _}function l(h){if(!h)throw new TypeError("argument string is required");var g=typeof h=="object"?u(h):h;if(typeof g!="string")throw new TypeError("argument string is required to be a string");var m=g.indexOf(";"),_=m!==-1?g.slice(0,m).trim():g.trim();if(!a.test(_))throw new TypeError("invalid media type");var v=new c(_.toLowerCase());if(m!==-1){var p,S,y;for(t.lastIndex=m;S=t.exec(g);){if(S.index!==m)throw new TypeError("invalid parameter format");m+=S[0].length,p=S[1].toLowerCase(),y=S[2],y.charCodeAt(0)===34&&(y=y.slice(1,-1),y.indexOf("\\")!==-1&&(y=y.replace(i,"$1"))),v.parameters[p]=y}if(m!==g.length)throw new TypeError("invalid parameter format")}return v}function u(h){var g;if(typeof h.getHeader=="function"?g=h.getHeader("content-type"):typeof h.headers=="object"&&(g=h.headers&&h.headers["content-type"]),typeof g!="string")throw new TypeError("content-type header is missing from object");return g}function f(h){var g=String(h);if(n.test(g))return g;if(g.length>0&&!r.test(g))throw new TypeError("invalid parameter value");return'"'+g.replace(o,"\\$1")+'"'}function c(h){this.parameters=Object.create(null),this.type=h}}}),Pie=Pe({"../../node_modules/uritemplate/bin/uritemplate.js"(e,t){Te(),function(r){var n=function(){function _(v){this.options=v}return _.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},_}(),i=function(){function _(A){return Object.prototype.toString.apply(A)==="[object Array]"}function v(A){return Object.prototype.toString.apply(A)==="[object String]"}function p(A){return Object.prototype.toString.apply(A)==="[object Number]"}function S(A){return Object.prototype.toString.apply(A)==="[object Boolean]"}function y(A,x){var O="",C=!0,F;for(F=0;F<A.length;F+=1)C?C=!1:O+=x,O+=A[F];return O}function E(A,x){for(var O=[],C=0;C<A.length;C+=1)O.push(x(A[C]));return O}function $(A,x){for(var O=[],C=0;C<A.length;C+=1)x(A[C])&&O.push(A[C]);return O}function T(A){if(typeof A!="object"||A===null)return A;Object.freeze(A);var x,O;for(O in A)A.hasOwnProperty(O)&&(x=A[O],typeof x=="object"&&d(x));return A}function d(A){return typeof Object.freeze=="function"?T(A):A}return{isArray:_,isString:v,isNumber:p,isBoolean:S,join:y,map:E,filter:$,deepFreeze:d}}(),o=function(){function _(S){return S>="a"&&S<="z"||S>="A"&&S<="Z"}function v(S){return S>="0"&&S<="9"}function p(S){return v(S)||S>="a"&&S<="f"||S>="A"&&S<="F"}return{isAlpha:_,isDigit:v,isHexDigit:p}}(),a=function(){var _={encode:function($){return unescape(encodeURIComponent($))},numBytes:function($){return $<=127?1:194<=$&&$<=223?2:224<=$&&$<=239?3:240<=$&&$<=244?4:0},isValidFollowingCharCode:function($){return 128<=$&&$<=191}};function v($){var T="",d=_.encode($),A,x;for(x=0;x<d.length;x+=1)A=d.charCodeAt(x),T+="%"+(A<16?"0":"")+A.toString(16).toUpperCase();return T}function p($,T){return $.charAt(T)==="%"&&o.isHexDigit($.charAt(T+1))&&o.isHexDigit($.charAt(T+2))}function S($,T){return parseInt($.substr(T,2),16)}function y($){if(!p($,0))return!1;var T=S($,1),d=_.numBytes(T);if(d===0)return!1;for(var A=1;A<d;A+=1)if(!p($,3*A)||!_.isValidFollowingCharCode(S($,3*A+1)))return!1;return!0}function E($,T){var d=$.charAt(T);if(!p($,T))return d;var A=S($,T+1),x=_.numBytes(A);if(x===0)return d;for(var O=1;O<x;O+=1)if(!p($,T+3*O)||!_.isValidFollowingCharCode(S($,T+3*O+1)))return d;return $.substr(T,3*x)}return{encodeCharacter:v,isPctEncoded:y,pctCharAt:E}}(),s=function(){function _(S){return o.isAlpha(S)||o.isDigit(S)||S==="_"||a.isPctEncoded(S)}function v(S){return o.isAlpha(S)||o.isDigit(S)||S==="-"||S==="."||S==="_"||S==="~"}function p(S){return S===":"||S==="/"||S==="?"||S==="#"||S==="["||S==="]"||S==="@"||S==="!"||S==="$"||S==="&"||S==="("||S===")"||S==="*"||S==="+"||S===","||S===";"||S==="="||S==="'"}return{isVarchar:_,isUnreserved:v,isReserved:p}}(),l=function(){function _(y,E){var $="",T,d="";for((typeof y=="number"||typeof y=="boolean")&&(y=y.toString()),T=0;T<y.length;T+=d.length)d=y.charAt(T),$+=s.isUnreserved(d)||E&&s.isReserved(d)?d:a.encodeCharacter(d);return $}function v(y){return _(y,!0)}function p(y,E){var $=a.pctCharAt(y,E);return $.length>1||s.isReserved($)||s.isUnreserved($)?$:a.encodeCharacter($)}function S(y){var E="",$,T="";for($=0;$<y.length;$+=T.length)T=a.pctCharAt(y,$),T.length>1?E+=T:E+=s.isReserved(T)||s.isUnreserved(T)?T:a.encodeCharacter(T);return E}return{encode:_,encodePassReserved:v,encodeLiteral:S,encodeLiteralCharacter:p}}(),u=function(){var _={};function v(p){_[p]={symbol:p,separator:p==="?"?"&":p===""||p==="+"||p==="#"?",":p,named:p===";"||p==="&"||p==="?",ifEmpty:p==="&"||p==="?"?"=":"",first:p==="+"?"":p,encode:p==="+"||p==="#"?l.encodePassReserved:l.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(p){return _[p]?_[p]:"=,!@|".indexOf(p)>=0?null:_[""]}}}();function f(_){var v;if(_==null)return!1;if(i.isArray(_))return _.length>0;if(typeof _=="string"||typeof _=="number"||typeof _=="boolean")return!0;for(v in _)if(_.hasOwnProperty(v)&&f(_[v]))return!0;return!1}var c=function(){function _(v){this.literal=l.encodeLiteral(v)}return _.prototype.expand=function(){return this.literal},_.prototype.toString=_.prototype.expand,_}(),h=function(){function _(p){var S,y=[],E=null,$=null,T=null,d,A="";function x(){var C=p.substring($,d);if(C.length===0)throw new n({expressionText:p,message:"a varname must be specified",position:d});E={varname:C,exploded:!1,maxLength:null},$=null}function O(){if(T===d)throw new n({expressionText:p,message:"after a ':' you have to specify the length",position:d});E.maxLength=parseInt(p.substring(T,d),10),T=null}for(S=function(C){var F=u.valueOf(C);if(F===null)throw new n({expressionText:p,message:"illegal use of reserved operator",position:d,operator:C});return F}(p.charAt(0)),d=S.symbol.length,$=d;d<p.length;d+=A.length){if(A=a.pctCharAt(p,d),$!==null){if(A==="."){if($===d)throw new n({expressionText:p,message:"a varname MUST NOT start with a dot",position:d});continue}if(s.isVarchar(A))continue;x()}if(T!==null){if(d===T&&A==="0")throw new n({expressionText:p,message:"A :prefix must not start with digit 0",position:d});if(o.isDigit(A)){if(d-T>=4)throw new n({expressionText:p,message:"A :prefix must have max 4 digits",position:d});continue}O()}if(A===":"){if(E.maxLength!==null)throw new n({expressionText:p,message:"only one :maxLength is allowed per varspec",position:d});if(E.exploded)throw new n({expressionText:p,message:"an exploeded varspec MUST NOT be varspeced",position:d});T=d+1;continue}if(A==="*"){if(E===null)throw new n({expressionText:p,message:"exploded without varspec",position:d});if(E.exploded)throw new n({expressionText:p,message:"exploded twice",position:d});if(E.maxLength)throw new n({expressionText:p,message:"an explode (*) MUST NOT follow to a prefix",position:d});E.exploded=!0;continue}if(A===","){y.push(E),E=null,$=d+1;continue}throw new n({expressionText:p,message:"illegal character",character:A,position:d})}return $!==null&&x(),T!==null&&O(),y.push(E),new g(p,S,y)}function v(p){var S,y,E=[],$=null,T=0;for(S=0;S<p.length;S+=1){if(y=p.charAt(S),T!==null){if(y==="}")throw new n({templateText:p,message:"unopened brace closed",position:S});y==="{"&&(T<S&&E.push(new c(p.substring(T,S))),T=null,$=S);continue}if($!==null){if(y==="{")throw new n({templateText:p,message:"brace already opened",position:S});if(y==="}"){if($+1===S)throw new n({templateText:p,message:"empty braces",position:$});try{E.push(_(p.substring($+1,S)))}catch(d){throw d.prototype===n.prototype?new n({templateText:p,message:d.options.message,position:$+d.options.position,details:d.options}):d}$=null,T=S+1}continue}throw new Error("reached unreachable code")}if($!==null)throw new n({templateText:p,message:"unclosed brace",position:$});return T<p.length&&E.push(new c(p.substr(T))),new m(p,E)}return v}(),g=function(){function _(A){return JSON&&JSON.stringify?JSON.stringify(A):A}function v(A){if(!f(A))return!0;if(i.isString(A))return A==="";if(i.isNumber(A)||i.isBoolean(A))return!1;if(i.isArray(A))return A.length===0;for(var x in A)if(A.hasOwnProperty(x))return!1;return!0}function p(A){var x=[],O;for(O in A)A.hasOwnProperty(O)&&x.push({name:O,value:A[O]});return x}function S(A,x,O){this.templateText=A,this.operator=x,this.varspecs=O}S.prototype.toString=function(){return this.templateText};function y(A,x,O){var C="";if(O=O.toString(),x.named){if(C+=l.encodeLiteral(A.varname),O==="")return C+=x.ifEmpty,C;C+="="}return A.maxLength!==null&&(O=O.substr(0,A.maxLength)),C+=x.encode(O),C}function E(A){return f(A.value)}function $(A,x,O){var C=[],F="";if(x.named){if(F+=l.encodeLiteral(A.varname),v(O))return F+=x.ifEmpty,F;F+="="}return i.isArray(O)?(C=O,C=i.filter(C,f),C=i.map(C,x.encode),F+=i.join(C,",")):(C=p(O),C=i.filter(C,E),C=i.map(C,function(V){return x.encode(V.name)+","+x.encode(V.value)}),F+=i.join(C,",")),F}function T(A,x,O){var C=i.isArray(O),F=[];return C?(F=O,F=i.filter(F,f),F=i.map(F,function(V){var Q=l.encodeLiteral(A.varname);return v(V)?Q+=x.ifEmpty:Q+="="+x.encode(V),Q})):(F=p(O),F=i.filter(F,E),F=i.map(F,function(V){var Q=l.encodeLiteral(V.name);return v(V.value)?Q+=x.ifEmpty:Q+="="+x.encode(V.value),Q})),i.join(F,x.separator)}function d(A,x){var O=[],C="";return i.isArray(x)?(O=x,O=i.filter(O,f),O=i.map(O,A.encode),C+=i.join(O,A.separator)):(O=p(x),O=i.filter(O,function(F){return f(F.value)}),O=i.map(O,function(F){return A.encode(F.name)+"="+A.encode(F.value)}),C+=i.join(O,A.separator)),C}return S.prototype.expand=function(A){var x=[],O,C,F,V=this.operator;for(O=0;O<this.varspecs.length;O+=1)if(C=this.varspecs[O],F=A[C.varname],F!=null)if(C.exploded,i.isArray(F),typeof F=="string"||typeof F=="number"||typeof F=="boolean")x.push(y(C,V,F));else{if(C.maxLength&&f(F))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+_(F));C.exploded?f(F)&&(V.named?x.push(T(C,V,F)):x.push(d(V,F))):(V.named||!v(F))&&x.push($(C,V,F))}return x.length===0?"":V.first+i.join(x,V.separator)},S}(),m=function(){function _(v,p){this.templateText=v,this.expressions=p,i.deepFreeze(this)}return _.prototype.toString=function(){return this.templateText},_.prototype.expand=function(v){var p,S="";for(p=0;p<this.expressions.length;p+=1)S+=this.expressions[p].expand(v);return S},_.parse=h,_.UriTemplateError=n,_}();r(m)}(function(r){typeof t<"u"?t.exports=r:typeof define=="function"?define([],function(){return r}):typeof window<"u"?window.UriTemplate=r:global.UriTemplate=r})}}),_V=Pe({"../core/dist/consumed-thing.js"(e){Te();var t=e&&e.__classPrivateFieldSet||function(H,X,ce,Z,ie){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!ie)throw new TypeError("Private accessor was defined without a setter");if(typeof X=="function"?H!==X||!ie:!X.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?ie.call(H,ce):ie?ie.value=ce:X.set(H,ce),ce},r=e&&e.__classPrivateFieldGet||function(H,X,ce,Z){if(ce==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof X=="function"?H!==X||!Z:!X.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ce==="m"?Z:ce==="a"?Z.call(H):Z?Z.value:X.get(H)},n=e&&e.__importDefault||function(H){return H&&H.__esModule?H:{default:H}},i,o,a,s,l,u,f,c;Object.defineProperty(e,"__esModule",{value:!0});var h=Pg(),g=n(Mg()),m=n(Oie()),_=n(ll()),v=Pie(),p=yV(),S=jo(),{debug:y,warn:E}=(0,S.createLoggers)("core","consumed-thing"),$;(function(H){H[H.PropertyAffordance=0]="PropertyAffordance",H[H.ActionAffordance=1]="ActionAffordance",H[H.EventAffordance=2]="EventAffordance"})($||($={}));var T=class extends h.ThingProperty{constructor(H,X){super(),i.set(this,void 0),o.set(this,void 0),t(this,i,H,"f"),t(this,o,X,"f")}};i=new WeakMap,o=new WeakMap;var d=class extends h.ThingAction{constructor(H,X){super(),a.set(this,void 0),s.set(this,void 0),t(this,a,H,"f"),t(this,s,X,"f")}};a=new WeakMap,s=new WeakMap;var A=class extends h.ThingEvent{constructor(H,X){super(),l.set(this,void 0),u.set(this,void 0),t(this,l,H,"f"),t(this,u,X,"f")}};l=new WeakMap,u=new WeakMap;var x=class{constructor(H,X,ce){this.thing=H,this.name=X,this.client=ce,this.active=!0}};function O(H,X,ce,Z){const ie=v.parse(ce.href),k=g.default.parseInteractionOptions(H,X,Z).uriVariables,B=ie.expand(k??{});if(B!==ce.href){const G={...ce};G.href=B,ce=G,y(`ConsumedThing '${H.title}' update form URI to ${ce.href}`)}return ce}var C=class extends x{constructor(H,X,ce,Z){var k;super(H,X,ce),this.form=Z,this.active=!1;const ie=(k=this.thing.properties)==null?void 0:k[X].forms.indexOf(Z);if(ie===void 0||ie<0)throw new Error(`Could not find form ${Z.href} in property ${X}`);this.formIndex=ie}async stop(H){await this.unobserveProperty(H),this.thing.observedProperties.delete(this.name)}async unobserveProperty(H={}){const X=this.thing.properties[this.name];if(X==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:ce}=this.thing.getClientFor(X.forms,"unobserveproperty",$.PropertyAffordance,H);if(ce==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const Z=O(this.thing,X,ce,H);y(`ConsumedThing '${this.thing.title}' unobserving to ${ce.href}`),await this.client.unlinkResource(Z),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(H.op)&&H.op.includes("unobserveproperty"))return this.formIndex;const X=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(X===-1)throw new Error("Could not find matching form for unsubscribe");return X}findFormIndexWithScoring(H,X,ce){var B;const Z=X[H];let ie=0,k=-1;for(let G=0;G<X.length;G++){let P=0;const N=X[G];(N.op===ce||((B=N==null?void 0:N.op)==null?void 0:B.includes(ce))===!0&&Array.isArray(N.op)===!0)&&(P+=1),new URL(N.href).origin===new URL(Z.href).origin&&(P+=1),N.contentType===Z.contentType&&(P+=1),P>ie&&(ie=P,k=G)}return k}};function F(H,X,ce){var B;const Z=X[H];let ie=0,k=-1;for(let G=0;G<X.length;G++){let P=0;const N=X[G];(N.op===ce||((B=N==null?void 0:N.op)==null?void 0:B.includes(ce))===!0&&Array.isArray(N.op)===!0)&&(P+=1),new URL(N.href).origin===new URL(Z.href).origin&&(P+=1),N.contentType===Z.contentType&&(P+=1),P>ie&&(ie=P,k=G)}return k}var V=class extends x{constructor(H,X,ce,Z){var k;super(H,X,ce),this.form=Z;const ie=(k=this.thing.events)==null?void 0:k[X].forms.indexOf(Z);if(ie===void 0||ie<0)throw new Error(`Could not find form ${Z.href} in event ${X}`);this.formIndex=ie}async stop(H){await this.unsubscribeEvent(H),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(H={}){const X=this.thing.events[this.name];if(X==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:ce}=this.thing.getClientFor(X.forms,"unsubscribeevent",$.EventAffordance,H);if(ce==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const Z=O(this.thing,X,ce,H);y(`ConsumedThing '${this.thing.title}' unsubscribing to ${ce.href}`),this.client.unlinkResource(Z),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.events[this.name].forms[this.formIndex];if(H.op==null||Array.isArray(H.op)&&H.op.includes("unsubscribeevent"))return this.formIndex;const X=F(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(X===-1)throw new Error("Could not find matching form for unsubscribe");return X}},Q=class extends h.Thing{constructor(H,X){super(),f.set(this,void 0),c.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,t(this,f,H,"f"),t(this,c,new Map,"f"),this.properties={},this.actions={},this.events={};const ce=g.default.structuredClone(X??{});Object.assign(this,ce),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(H,X){E("not implemented")}extendInteractions(){for(const[H,X]of Object.entries(this.properties)){const ce=g.default.extend(X,new T(H,this));this.properties[H]=ce}for(const[H,X]of Object.entries(this.actions)){const ce=g.default.extend(X,new d(H,this));this.actions[H]=ce}for(const[H,X]of Object.entries(this.events)){const ce=g.default.extend(X,new A(H,this));this.events[H]=ce}}findForm(H,X,ce,Z,ie){let k;for(const B of H){let G="";if(B.op!==void 0)G=B.op;else switch(ce){case $.PropertyAffordance:G=["readproperty","writeproperty"];break;case $.ActionAffordance:G="invokeaction";break;case $.EventAffordance:G="subscribeevent";break}if(G.indexOf(X)!==-1&&B.href.indexOf(Z[ie]+":")!==-1){k=B;break}}return k}getSecuritySchemes(H){const X=[];for(const ce of H){const Z=this.securityDefinitions[ce+""];Z!=null&&X.push(Z)}return X}ensureClientSecurity(H,X){if(this.securityDefinitions!=null){const ce=()=>y(`ConsumedThing '${this.title}' setting credentials for ${H} based on thing security`);X!=null&&Array.isArray(X.security)&&X.security.length>0?(ce(),H.setSecurity(this.getSecuritySchemes(X.security),r(this,f,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(ce(),H.setSecurity(this.getSecuritySchemes(this.security),r(this,f,"f").getCredentials(this.id)))}}getClientFor(H,X,ce,Z){if(H.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let ie,k;if((Z==null?void 0:Z.formIndex)!==void 0)if(y(`ConsumedThing '${this.title}' asked to use formIndex '${Z.formIndex}'`),Z.formIndex>=0&&Z.formIndex<H.length){ie=H[Z.formIndex];const B=g.default.extractScheme(ie.href);if(r(this,f,"f").hasClientFor(B))y(`ConsumedThing '${this.title}' got client for '${B}'`),k=r(this,f,"f").getClientFor(B),r(this,c,"f").get(B)||(this.ensureClientSecurity(k,ie),r(this,c,"f").set(B,k));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${Z.formIndex}'`);else{const B=H.map(P=>g.default.extractScheme(P.href)),G=B.findIndex(P=>r(this,c,"f").has(P));if(G!==-1)y(`ConsumedThing '${this.title}' chose cached client for '${B[G]}'`),k=r(this,c,"f").get(B[G]),ie=this.findForm(H,X,ce,B,G);else{y(`ConsumedThing '${this.title}' has no client in cache (${G})`);const P=B.findIndex(N=>r(this,f,"f").hasClientFor(N));if(P===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`);k=r(this,f,"f").getClientFor(B[P]),y(`ConsumedThing '${this.title}' got new client for '${B[P]}'`),r(this,c,"f").set(B[P],k),ie=this.findForm(H,X,ce,B,P),this.ensureClientSecurity(k,ie)}}return{client:k,form:ie}}async readProperty(H,X){const ce=this.properties[H];if(ce==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:Z,form:ie}=this.getClientFor(ce.forms,"readproperty",$.PropertyAffordance,X);if(ie==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(Z==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${ie.href}`);y(`ConsumedThing '${this.title}' reading ${ie.href}`),ie=this.handleUriVariables(ce,ie,X);const k=await Z.readResource(ie);try{return this.handleInteractionOutput(k,ie,ce,!1)}catch(B){const G=B instanceof Error?B:new Error(JSON.stringify(B));throw new Error(`Error while processing property for ${ce.title}. ${G.message}`)}}handleInteractionOutput(H,X,ce,Z){if(H.type??(H.type=X.contentType??"application/json"),X.response!=null){const ie=m.default.parse(H.type),k=m.default.parse(X.response.contentType);if(ie.type!==k.type)throw new Error(`Unexpected type '${H.type}' in response. Should be '${X.response.contentType}'`)}return new p.InteractionOutput(H,X,ce,{ignoreValidation:Z})}async _readProperties(H){const X=[];for(const Z of H)X.push(this.readProperty(Z));const ce=new Map;try{const Z=await Promise.all(X);let ie=0;for(const k of H)ce.set(k,Z[ie]),ie++;return ce}catch(Z){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${H}.
 Error: ${Z}`)}}readAllProperties(H){const X=[];for(const[ce,Z]of Object.entries(this.properties)){const{form:ie}=this.getClientFor(Z.forms,"readproperty",$.PropertyAffordance,H);ie!=null&&X.push(ce)}return this._readProperties(X)}readMultipleProperties(H,X){return this._readProperties(H)}async writeProperty(H,X,ce){const Z=this.properties[H];if(Z==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:ie,form:k}=this.getClientFor(Z.forms,"writeproperty",$.PropertyAffordance,ce);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ie==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${k.href}`);y(`ConsumedThing '${this.title}' writing ${k.href} with '${X}'`);const B=_.default.valueToContent(X,Z,k.contentType);k=this.handleUriVariables(Z,k,ce),await ie.writeResource(k,B)}async writeMultipleProperties(H,X){const ce=[];for(const[Z,ie]of H.entries())ce.push(this.writeProperty(Z,ie));try{await Promise.all(ce)}catch(Z){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${H}
 Error: ${Z}`)}}async invokeAction(H,X,ce){const Z=this.actions[H];if(Z==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${H}`);let{client:ie,form:k}=this.getClientFor(Z.forms,"invokeaction",$.ActionAffordance,ce);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ie==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${k.href}`);y(`ConsumedThing '${this.title}' invoking ${k.href}${X!==void 0?" with '"+X+"'":""}`);let B;X!==void 0&&(B=_.default.valueToContent(X,Z.input,k.contentType)),k=this.handleUriVariables(Z,k,ce);const G=await ie.invokeResource(k,B);try{const P=Z.synchronous===void 0?!0:!Z.synchronous;return this.handleInteractionOutput(G,k,Z.output,P)}catch(P){const N=P instanceof Error?P:new Error(JSON.stringify(P));throw new Error(`Error while processing action for ${Z.title}. ${N.message}`)}}async observeProperty(H,X,ce,Z){const ie=this.properties[H];if(ie==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);const{client:k,form:B}=this.getClientFor(ie.forms,"observeproperty",$.PropertyAffordance,Z);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.observedProperties.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only observe once`);y(`ConsumedThing '${this.title}' observing to ${B.href}`);const G=this.handleUriVariables(ie,B,Z);await k.subscribeResource(G,N=>{try{X(this.handleInteractionOutput(N,B,ie,!1))}catch(q){const oe=q instanceof Error?q:new Error(JSON.stringify(q));E(`Error while processing observe property for ${ie.title}. ${oe.message}`),E(q)}},N=>{ce==null||ce(N)},()=>{});const P=new C(this,H,k,B);return this.observedProperties.set(H,P),P}async subscribeEvent(H,X,ce,Z){const ie=this.events[H];if(ie==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${H}`);const{client:k,form:B}=this.getClientFor(ie.forms,"subscribeevent",$.EventAffordance,Z);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.subscribedEvents.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only subscribe once`);y(`ConsumedThing '${this.title}' subscribing to ${B.href}`);const G=this.handleUriVariables(ie,B,Z);await k.subscribeResource(G,N=>{try{X(this.handleInteractionOutput(N,B,ie.data,!1))}catch(q){const oe=q instanceof Error?q:new Error(JSON.stringify(q));E(`Error while processing event for ${ie.title}. ${oe.message}`),E(q)}},N=>{ce==null||ce(N)},()=>{});const P=new V(this,H,k,B);return this.subscribedEvents.set(H,P),P}handleUriVariables(H,X,ce){return O(this,H,X,ce)}};f=new WeakMap,c=new WeakMap,e.default=Q}}),Rie=Pe({"../core/dist/validation.js"(e){Te();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.isThingDescription=n,e.getLastValidationErrors=i;var r=t(Mg());function n(o){return r.default.tsSchemaValidator(o)}function i(){var a;const o=(a=r.default.tsSchemaValidator.errors)==null?void 0:a.map(s=>s.message).join(`
`);return new Error(o)}}}),Nie=Pe({"../core/dist/wot-impl.js"(e){Te();var t=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataType=void 0;var r=iN(),n=t(bV()),i=t(_V()),o=t(Mg()),a=jo(),s=t(ll()),l=Rie(),u=(uE(),Or(lE)),{debug:f}=(0,a.createLoggers)("core","wot-impl"),c=class{constructor(m,_){this.directory=m,this.filter=_,this.filter=_,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let m;try{m=await(await this.directory.readProperty("things")).value()}catch(_){this.error=_ instanceof Error?_:new Error((0,u.inspect)(_)),this.done=!0;return}for(const _ of m){if(this.done)return;if(!(0,l.isThingDescription)(_)){this.error=(0,l.getLastValidationErrors)();continue}yield _}this.done=!0}},h=class{constructor(m){this.srv=m}async discover(m){throw new Error("not implemented")}async exploreDirectory(m,_){const v=await this.requestThingDescription(m),p=await this.consume(v);return new c(p,_)}async requestThingDescription(m){const _=o.default.extractScheme(m),p=await this.srv.getClientFor(_).requestThingDescription(m),S=s.default.contentToValue({type:p.type,body:await p.toBuffer()},{});if((0,l.isThingDescription)(S))return S;throw(0,l.getLastValidationErrors)()}async consume(m){try{const _=(0,r.parseTD)(JSON.stringify(m),!0),v=new i.default(this.srv,_);return f(`WoTImpl consuming TD ${v.id!=null?`'${v.id}'`:"without id"} to instantiate ConsumedThing '${v.title}'`),v}catch(_){throw new Error(`Cannot consume TD because ${_ instanceof Error?_.message:_}`)}}produce(m){return new Promise((_,v)=>{try{const p=o.default.validateExposedThingInit(m);if(!p.valid)throw new Error(`Thing Description JSON schema validation failed:
`+p.errors);const S=new n.default(this.srv,m);if(f(`WoTImpl producing new ExposedThing '${S.title}'`),this.srv.addThing(S))_(S);else throw new Error("Thing already exists: "+S.title)}catch(p){v(new Error(`Cannot produce ExposedThing because " + ${p instanceof Error?p.message:p}`))}})}};e.default=h;var g;(function(m){m.boolean="boolean",m.number="number",m.integer="integer",m.string="string",m.object="object",m.array="array",m.null="null"})(g||(e.DataType=g={}))}}),EV=Pe({"../../node_modules/uuid/dist/rng-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}t.exports=e.default}}),LN=Pe({"../../node_modules/uuid/dist/bytesToUuid.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[];for(n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);var n;function i(a,s){var l=s||0,u=r;return[u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],"-",u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]],u[a[l++]]].join("")}var o=i;e.default=o,t.exports=e.default}}),Iie=Pe({"../../node_modules/uuid/dist/v1.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(EV()),n=i(LN());function i(c){return c&&c.__esModule?c:{default:c}}var o,a,s=0,l=0;function u(c,h,g){var m=h&&g||0,_=h||[];c=c||{};var v=c.node||o,p=c.clockseq!==void 0?c.clockseq:a;if(v==null||p==null){var S=c.random||(c.rng||r.default)();v==null&&(v=o=[S[0]|1,S[1],S[2],S[3],S[4],S[5]]),p==null&&(p=a=(S[6]<<8|S[7])&16383)}var y=c.msecs!==void 0?c.msecs:new Date().getTime(),E=c.nsecs!==void 0?c.nsecs:l+1,$=y-s+(E-l)/1e4;if($<0&&c.clockseq===void 0&&(p=p+1&16383),($<0||y>s)&&c.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=y,l=E,a=p,y+=122192928e5;var T=((y&268435455)*1e4+E)%4294967296;_[m++]=T>>>24&255,_[m++]=T>>>16&255,_[m++]=T>>>8&255,_[m++]=T&255;var d=y/4294967296*1e4&268435455;_[m++]=d>>>8&255,_[m++]=d&255,_[m++]=d>>>24&15|16,_[m++]=d>>>16&255,_[m++]=p>>>8|128,_[m++]=p&255;for(var A=0;A<6;++A)_[m+A]=v[A];return h||(0,n.default)(_)}var f=u;e.default=f,t.exports=e.default}}),SV=Pe({"../../node_modules/uuid/dist/v35.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=s,e.URL=e.DNS=void 0;var t=r(LN());function r(l){return l&&l.__esModule?l:{default:l}}function n(l){var u=[];return l.replace(/[a-fA-F0-9]{2}/g,function(f){u.push(parseInt(f,16))}),u}function i(l){l=unescape(encodeURIComponent(l));for(var u=new Array(l.length),f=0;f<l.length;f++)u[f]=l.charCodeAt(f);return u}var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;var a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=a;function s(l,u,f){var c=function(h,g,m,_){var v=m&&_||0;if(typeof h=="string"&&(h=i(h)),typeof g=="string"&&(g=n(g)),!Array.isArray(h))throw TypeError("value must be an array of bytes");if(!Array.isArray(g)||g.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var p=f(g.concat(h));if(p[6]=p[6]&15|u,p[8]=p[8]&63|128,m)for(var S=0;S<16;++S)m[v+S]=p[S];return m||(0,t.default)(p)};try{c.name=l}catch{}return c.DNS=o,c.URL=a,c}}}),jie=Pe({"../../node_modules/uuid/dist/md5-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(m){if(typeof m=="string"){var _=unescape(encodeURIComponent(m));m=new Array(_.length);for(var v=0;v<_.length;v++)m[v]=_.charCodeAt(v)}return n(i(o(m),m.length*8))}function n(m){var _,v,p=[],S=m.length*32,y="0123456789abcdef",E;for(_=0;_<S;_+=8)v=m[_>>5]>>>_%32&255,E=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16),p.push(E);return p}function i(m,_){m[_>>5]|=128<<_%32,m[(_+64>>>9<<4)+14]=_;var v,p,S,y,E,$=1732584193,T=-271733879,d=-1732584194,A=271733878;for(v=0;v<m.length;v+=16)p=$,S=T,y=d,E=A,$=u($,T,d,A,m[v],7,-680876936),A=u(A,$,T,d,m[v+1],12,-389564586),d=u(d,A,$,T,m[v+2],17,606105819),T=u(T,d,A,$,m[v+3],22,-1044525330),$=u($,T,d,A,m[v+4],7,-176418897),A=u(A,$,T,d,m[v+5],12,1200080426),d=u(d,A,$,T,m[v+6],17,-1473231341),T=u(T,d,A,$,m[v+7],22,-45705983),$=u($,T,d,A,m[v+8],7,1770035416),A=u(A,$,T,d,m[v+9],12,-1958414417),d=u(d,A,$,T,m[v+10],17,-42063),T=u(T,d,A,$,m[v+11],22,-1990404162),$=u($,T,d,A,m[v+12],7,1804603682),A=u(A,$,T,d,m[v+13],12,-40341101),d=u(d,A,$,T,m[v+14],17,-1502002290),T=u(T,d,A,$,m[v+15],22,1236535329),$=f($,T,d,A,m[v+1],5,-165796510),A=f(A,$,T,d,m[v+6],9,-1069501632),d=f(d,A,$,T,m[v+11],14,643717713),T=f(T,d,A,$,m[v],20,-373897302),$=f($,T,d,A,m[v+5],5,-701558691),A=f(A,$,T,d,m[v+10],9,38016083),d=f(d,A,$,T,m[v+15],14,-660478335),T=f(T,d,A,$,m[v+4],20,-405537848),$=f($,T,d,A,m[v+9],5,568446438),A=f(A,$,T,d,m[v+14],9,-1019803690),d=f(d,A,$,T,m[v+3],14,-187363961),T=f(T,d,A,$,m[v+8],20,1163531501),$=f($,T,d,A,m[v+13],5,-1444681467),A=f(A,$,T,d,m[v+2],9,-51403784),d=f(d,A,$,T,m[v+7],14,1735328473),T=f(T,d,A,$,m[v+12],20,-1926607734),$=c($,T,d,A,m[v+5],4,-378558),A=c(A,$,T,d,m[v+8],11,-2022574463),d=c(d,A,$,T,m[v+11],16,1839030562),T=c(T,d,A,$,m[v+14],23,-35309556),$=c($,T,d,A,m[v+1],4,-1530992060),A=c(A,$,T,d,m[v+4],11,1272893353),d=c(d,A,$,T,m[v+7],16,-155497632),T=c(T,d,A,$,m[v+10],23,-1094730640),$=c($,T,d,A,m[v+13],4,681279174),A=c(A,$,T,d,m[v],11,-358537222),d=c(d,A,$,T,m[v+3],16,-722521979),T=c(T,d,A,$,m[v+6],23,76029189),$=c($,T,d,A,m[v+9],4,-640364487),A=c(A,$,T,d,m[v+12],11,-421815835),d=c(d,A,$,T,m[v+15],16,530742520),T=c(T,d,A,$,m[v+2],23,-995338651),$=h($,T,d,A,m[v],6,-198630844),A=h(A,$,T,d,m[v+7],10,1126891415),d=h(d,A,$,T,m[v+14],15,-1416354905),T=h(T,d,A,$,m[v+5],21,-57434055),$=h($,T,d,A,m[v+12],6,1700485571),A=h(A,$,T,d,m[v+3],10,-1894986606),d=h(d,A,$,T,m[v+10],15,-1051523),T=h(T,d,A,$,m[v+1],21,-2054922799),$=h($,T,d,A,m[v+8],6,1873313359),A=h(A,$,T,d,m[v+15],10,-30611744),d=h(d,A,$,T,m[v+6],15,-1560198380),T=h(T,d,A,$,m[v+13],21,1309151649),$=h($,T,d,A,m[v+4],6,-145523070),A=h(A,$,T,d,m[v+11],10,-1120210379),d=h(d,A,$,T,m[v+2],15,718787259),T=h(T,d,A,$,m[v+9],21,-343485551),$=a($,p),T=a(T,S),d=a(d,y),A=a(A,E);return[$,T,d,A]}function o(m){var _,v=[];for(v[(m.length>>2)-1]=void 0,_=0;_<v.length;_+=1)v[_]=0;var p=m.length*8;for(_=0;_<p;_+=8)v[_>>5]|=(m[_/8]&255)<<_%32;return v}function a(m,_){var v=(m&65535)+(_&65535),p=(m>>16)+(_>>16)+(v>>16);return p<<16|v&65535}function s(m,_){return m<<_|m>>>32-_}function l(m,_,v,p,S,y){return a(s(a(a(_,m),a(p,y)),S),v)}function u(m,_,v,p,S,y,E){return l(_&v|~_&p,m,_,S,y,E)}function f(m,_,v,p,S,y,E){return l(_&p|v&~p,m,_,S,y,E)}function c(m,_,v,p,S,y,E){return l(_^v^p,m,_,S,y,E)}function h(m,_,v,p,S,y,E){return l(v^(_|~p),m,_,S,y,E)}var g=r;e.default=g,t.exports=e.default}}),Cie=Pe({"../../node_modules/uuid/dist/v3.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(SV()),n=i(jie());function i(s){return s&&s.__esModule?s:{default:s}}var o=(0,r.default)("v3",48,n.default),a=o;e.default=a,t.exports=e.default}}),kie=Pe({"../../node_modules/uuid/dist/v4.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(EV()),n=i(LN());function i(s){return s&&s.__esModule?s:{default:s}}function o(s,l,u){var f=l&&u||0;typeof s=="string"&&(l=s==="binary"?new Array(16):null,s=null),s=s||{};var c=s.random||(s.rng||r.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,l)for(var h=0;h<16;++h)l[f+h]=c[h];return l||(0,n.default)(c)}var a=o;e.default=a,t.exports=e.default}}),Die=Pe({"../../node_modules/uuid/dist/sha1-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(a,s,l,u){switch(a){case 0:return s&l^~s&u;case 1:return s^l^u;case 2:return s&l^s&u^l&u;case 3:return s^l^u}}function n(a,s){return a<<s|a>>>32-s}function i(a){var s=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){var u=unescape(encodeURIComponent(a));a=new Array(u.length);for(var f=0;f<u.length;f++)a[f]=u.charCodeAt(f)}a.push(128);for(var c=a.length/4+2,h=Math.ceil(c/16),g=new Array(h),f=0;f<h;f++){g[f]=new Array(16);for(var m=0;m<16;m++)g[f][m]=a[f*64+m*4]<<24|a[f*64+m*4+1]<<16|a[f*64+m*4+2]<<8|a[f*64+m*4+3]}g[h-1][14]=(a.length-1)*8/Math.pow(2,32),g[h-1][14]=Math.floor(g[h-1][14]),g[h-1][15]=(a.length-1)*8&4294967295;for(var f=0;f<h;f++){for(var _=new Array(80),v=0;v<16;v++)_[v]=g[f][v];for(var v=16;v<80;v++)_[v]=n(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var p=l[0],S=l[1],y=l[2],E=l[3],$=l[4],v=0;v<80;v++){var T=Math.floor(v/20),d=n(p,5)+r(T,S,y,E)+$+s[T]+_[v]>>>0;$=E,E=y,y=n(S,30)>>>0,S=p,p=d}l[0]=l[0]+p>>>0,l[1]=l[1]+S>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+E>>>0,l[4]=l[4]+$>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var o=i;e.default=o,t.exports=e.default}}),Mie=Pe({"../../node_modules/uuid/dist/v5.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(SV()),n=i(Die());function i(s){return s&&s.__esModule?s:{default:s}}var o=(0,r.default)("v5",80,n.default),a=o;e.default=a,t.exports=e.default}}),Lie=Pe({"../../node_modules/uuid/dist/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(Iie()),r=o(Cie()),n=o(kie()),i=o(Mie());function o(a){return a&&a.__esModule?a:{default:a}}}}),Fie=Pe({"../core/dist/servient.js"(e){Te();var t=e&&e.__classPrivateFieldGet||function(m,_,v,p){if(v==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?m!==_||!p:!_.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?p:v==="a"?p.call(m):p?p.value:_.get(m)},r=e&&e.__classPrivateFieldSet||function(m,_,v,p,S){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!S)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?m!==_||!S:!_.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?S.call(m,v):S?S.value=v:_.set(m,v),v},n=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},i,o;Object.defineProperty(e,"__esModule",{value:!0});var a=n(Nie()),s=n(ll()),l=Lie(),u=jo(),f=ko(),{debug:c,warn:h}=(0,u.createLoggers)("core","servient"),g=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,i.set(this,void 0),o.set(this,!1)}addMediaType(m,_=!1){s.default.addCodec(m,_)}expose(m){if(this.servers.length===0)return h("Servient has no servers to expose Things"),new Promise(p=>{p()});c(`Servient exposing '${m.title}'`);const _=f.Helpers.structuredClone(m);m.forms=[];for(const p of Object.values(m.properties))p.forms=[];for(const p of Object.values(m.actions))p.forms=[];for(const p of Object.values(m.events))p.forms=[];const v=[];return this.servers.forEach(p=>{v.push(p.expose(m,_))}),new Promise((p,S)=>{Promise.all(v).then(()=>p()).catch(y=>S(y))})}addThing(m){return m.id||(m.id="urn:uuid:"+(0,l.v4)(),h(`Servient generating ID for '${m.title}': '${m.id}'`)),this.things.has(m.id)?!1:(this.things.set(m.id,m),c(`Servient reset ID '${m.id}' with '${m.title}'`),!0)}destroyThing(m){return new Promise((_,v)=>{if(this.things.has(m)){c(`Servient destroying thing with id '${m}'`),this.things.delete(m);const p=[];this.servers.forEach(S=>{p.push(S.destroy(m))}),Promise.all(p).then(()=>_(!0)).catch(S=>v(S))}else h(`Servient was asked to destroy thing but failed to find thing with id '${m}'`),_(!1)})}getThing(m){if(this.things.has(m))return this.things.get(m)}getThings(){c(`Servient getThings size == '${this.things.size}'`);const m={};return this.things.forEach((_,v)=>{m[v]=_.getThingDescription()}),m}addServer(m){return this.things.forEach((_,v)=>m.expose(_)),this.servers.push(m),!0}getServers(){return this.servers.slice(0)}addClientFactory(m){c(`Servient adding client factory for '${m.scheme}'`),this.clientFactories.set(m.scheme,m)}removeClientFactory(m){var _;return c(`Servient removing client factory for '${m}'`),(_=this.clientFactories.get(m))==null||_.destroy(),this.clientFactories.delete(m)}hasClientFor(m){return c(`Servient checking for '${m}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(m)}getClientFor(m){const _=this.clientFactories.get(m);if(_)return c(`Servient creating client for scheme '${m}'`),_.getClient();throw new Error(`Servient has no ClientFactory for scheme '${m}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(m){for(const[_,v]of Object.entries(m??{})){c(`Servient storing credentials for '${_}'`);const p=this.credentialStore.get(_)??[];p.length===0&&this.credentialStore.set(_,p),p.push(v)}}getCredentials(m){c(`Servient looking up credentials for '${m}' (@deprecated)`);const _=this.credentialStore.get(m);if(_&&_.length>0)return _[0]}retrieveCredentials(m){return c(`Servient looking up credentials for '${m}'`),this.credentialStore.get(m)}async start(){if(t(this,i,"f")!==void 0)return c("Servient started already -> nop -> returning previous WoT implementation"),t(this,i,"f");if(t(this,o,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const m=[];return this.servers.forEach(_=>m.push(_.start(this))),this.clientFactories.forEach(_=>_.init()),await Promise.all(m),r(this,i,new a.default(this),"f")}async shutdown(){if(t(this,i,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(t(this,o,"f")){c("Servient shutdown already -> nop");return}this.clientFactories.forEach(_=>_.destroy());const m=this.servers.map(_=>_.stop());await Promise.all(m),r(this,o,!0,"f"),r(this,i,void 0,"f")}};i=new WeakMap,o=new WeakMap,e.default=g}}),ko=Pe({"../core/dist/core.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(v,p,S,y){y===void 0&&(y=S);var E=Object.getOwnPropertyDescriptor(p,S);(!E||("get"in E?!p.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return p[S]}}),Object.defineProperty(v,y,E)}:function(v,p,S,y){y===void 0&&(y=S),v[y]=p[S]}),r=e&&e.__exportStar||function(v,p){for(var S in v)S!=="default"&&!Object.prototype.hasOwnProperty.call(p,S)&&t(p,v,S)},n=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWarnLogger=e.createInfoLogger=e.createErrorLogger=e.createDebugLogger=e.createLoggers=e.ProtocolHelpers=e.Helpers=e.ExposedThing=e.ConsumedThing=e.DefaultContent=e.Content=e.NetconfOctetstreamCodecCodec=e.Base64Codec=e.TextCodec=e.CborCodec=e.JsonCodec=e.Servient=void 0;var i=n(Fie());e.Servient=i.default,e.default=i.default,r(Pg(),e),r(iN(),e),r(ll(),e);var o=Yq();Object.defineProperty(e,"JsonCodec",{enumerable:!0,get:function(){return n(o).default}});var a=Jq();Object.defineProperty(e,"CborCodec",{enumerable:!0,get:function(){return n(a).default}});var s=Xq();Object.defineProperty(e,"TextCodec",{enumerable:!0,get:function(){return n(s).default}});var l=Qq();Object.defineProperty(e,"Base64Codec",{enumerable:!0,get:function(){return n(l).default}});var u=rV();Object.defineProperty(e,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return n(u).default}}),r(tV(),e);var f=Vq();Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return f.Content}}),Object.defineProperty(e,"DefaultContent",{enumerable:!0,get:function(){return f.DefaultContent}});var c=_V();Object.defineProperty(e,"ConsumedThing",{enumerable:!0,get:function(){return n(c).default}});var h=bV();Object.defineProperty(e,"ExposedThing",{enumerable:!0,get:function(){return n(h).default}});var g=Mg();Object.defineProperty(e,"Helpers",{enumerable:!0,get:function(){return n(g).default}});var m=ON();Object.defineProperty(e,"ProtocolHelpers",{enumerable:!0,get:function(){return n(m).default}});var _=jo();Object.defineProperty(e,"createLoggers",{enumerable:!0,get:function(){return _.createLoggers}}),Object.defineProperty(e,"createDebugLogger",{enumerable:!0,get:function(){return _.createDebugLogger}}),Object.defineProperty(e,"createErrorLogger",{enumerable:!0,get:function(){return _.createErrorLogger}}),Object.defineProperty(e,"createInfoLogger",{enumerable:!0,get:function(){return _.createInfoLogger}}),Object.defineProperty(e,"createWarnLogger",{enumerable:!0,get:function(){return _.createWarnLogger}})}});/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var FN=Pe({"../../node_modules/node-fetch/browser.js"(e,t){Te();var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}}),Bie=Pe({"../../node_modules/rxjs/util/isArray.js"(e){Te(),e.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}}}),Uie=Pe({"../../node_modules/rxjs/util/isObject.js"(e){Te();function t(r){return r!=null&&typeof r=="object"}e.isObject=t}}),zie=Pe({"../../node_modules/rxjs/util/isFunction.js"(e){Te();function t(r){return typeof r=="function"}e.isFunction=t}}),$V=Pe({"../../node_modules/rxjs/util/errorObject.js"(e){Te(),e.errorObject={e:{}}}}),qie=Pe({"../../node_modules/rxjs/util/tryCatch.js"(e){Te();var t=$V(),r;function n(){try{return r.apply(this,arguments)}catch(o){return t.errorObject.e=o,t.errorObject}}function i(o){return r=o,n}e.tryCatch=i}}),Vie=Pe({"../../node_modules/rxjs/util/UnsubscriptionError.js"(e){Te();var t=e&&e.__extends||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},r=function(n){t(i,n);function i(o){n.call(this),this.errors=o;var a=Error.call(this,o?o.length+` errors occurred during unsubscription:
  `+o.map(function(s,l){return l+1+") "+s.toString()}).join(`
  `):"");this.name=a.name="UnsubscriptionError",this.stack=a.stack,this.message=a.message}return i}(Error);e.UnsubscriptionError=r}}),Hie=Pe({"../../node_modules/rxjs/Subscription.js"(e){Te();var t=Bie(),r=Uie(),n=zie(),i=qie(),o=$V(),a=Vie(),s=function(){function u(f){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,f&&(this._unsubscribe=f)}return u.prototype.unsubscribe=function(){var f=!1,c;if(!this.closed){var h=this,g=h._parent,m=h._parents,_=h._unsubscribe,v=h._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,S=m?m.length:0;g;)g.remove(this),g=++p<S&&m[p]||null;if(n.isFunction(_)){var y=i.tryCatch(_).call(this);y===o.errorObject&&(f=!0,c=c||(o.errorObject.e instanceof a.UnsubscriptionError?l(o.errorObject.e.errors):[o.errorObject.e]))}if(t.isArray(v))for(p=-1,S=v.length;++p<S;){var E=v[p];if(r.isObject(E)){var y=i.tryCatch(E.unsubscribe).call(E);if(y===o.errorObject){f=!0,c=c||[];var $=o.errorObject.e;$ instanceof a.UnsubscriptionError?c=c.concat(l($.errors)):c.push($)}}}if(f)throw new a.UnsubscriptionError(c)}},u.prototype.add=function(f){if(!f||f===u.EMPTY)return u.EMPTY;if(f===this)return this;var c=f;switch(typeof f){case"function":c=new u(f);case"object":if(c.closed||typeof c.unsubscribe!="function")return c;if(this.closed)return c.unsubscribe(),c;if(typeof c._addParent!="function"){var h=c;c=new u,c._subscriptions=[h]}break;default:throw new Error("unrecognized teardown "+f+" added to Subscription.")}var g=this._subscriptions||(this._subscriptions=[]);return g.push(c),c._addParent(this),c},u.prototype.remove=function(f){var c=this._subscriptions;if(c){var h=c.indexOf(f);h!==-1&&c.splice(h,1)}},u.prototype._addParent=function(f){var c=this,h=c._parent,g=c._parents;!h||h===f?this._parent=f:g?g.indexOf(f)===-1&&g.push(f):this._parents=[f]},u.EMPTY=function(f){return f.closed=!0,f}(new u),u}();e.Subscription=s;function l(u){return u.reduce(function(f,c){return f.concat(c instanceof a.UnsubscriptionError?c.errors:c)},[])}}}),Wie=Pe({"(disabled):../../node_modules/client-oauth2/node_modules/safe-buffer/index.js"(){Te()}}),TV={};sl(TV,{decode:()=>AV,default:()=>Ms,encode:()=>xV,parse:()=>OV,stringify:()=>PV});function Gie(){if(_O)return Nw;_O=!0;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return Nw=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var a=/\+/g;t=t.split(r);var s=1e3;i&&typeof i.maxKeys=="number"&&(s=i.maxKeys);var l=t.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var f=t[u].replace(a,"%20"),c=f.indexOf(n),h,g,m,_;c>=0?(h=f.substr(0,c),g=f.substr(c+1)):(h=f,g=""),m=decodeURIComponent(h),_=decodeURIComponent(g),e(o,m)?Array.isArray(o[m])?o[m].push(_):o[m]=[o[m],_]:o[m]=_}return o},Nw}function Kie(){if(EO)return Iw;EO=!0;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return Iw=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var a=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(s){return a+encodeURIComponent(e(s))}).join(r):a+encodeURIComponent(e(t[o]))}).filter(Boolean).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},Iw}function Jie(){return SO||(SO=!0,Yc.decode=Yc.parse=Gie(),Yc.encode=Yc.stringify=Kie()),Yc}var Nw,_O,Iw,EO,Yc,SO,Ms,AV,xV,OV,PV,Yie=nn({"../../node_modules/@jspm/core/nodelibs/browser/querystring.js"(){Te(),Nw={},_O=!1,Iw={},EO=!1,Yc={},SO=!1,Ms=Jie(),Ms.decode,Ms.parse,Ms.encode,Ms.stringify,AV=Ms.decode,xV=Ms.encode,OV=Ms.parse,PV=Ms.stringify}}),Xie=Pe({"../../node_modules/client-oauth2/src/request/browser.js"(e,t){Te(),t.exports=function(n,i,o,a){return new Promise(function(s,l){var u=new window.XMLHttpRequest;u.open(n,i),u.onload=function(){return s({status:u.status,body:u.responseText})},u.onerror=u.onabort=function(){return l(new Error(u.statusText||"XHR aborted: "+i))},Object.keys(a).forEach(function(f){u.setRequestHeader(f,a[f])}),u.send(o)})}}}),Qie=Pe({"../../node_modules/client-oauth2/src/client-oauth2.js"(e,t){Te();var r=Wie().Buffer,n=(Yie(),Or(TV)),i=Xie(),o="https://example.org/",a;typeof r=="function"?a=u:a=window.btoa.bind(window),t.exports=S;var s={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},l={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function u(x){return r.from(x).toString("base64")}function f(x){for(var O=1;O<arguments.length;O++){var C=arguments[O];if(x[C]==null)throw new TypeError('Expected "'+C+'" to exist')}}function c(x){var O=l[x.error]||x.error_description||x.error;if(O){var C=new Error(O);return C.body=x,C.code="EAUTH",C}}function h(x){try{return JSON.parse(x)}catch{return n.parse(x)}}function g(x){return Array.isArray(x)?x.join(" "):v(x)}function m(x,O){f(x,"clientId","authorizationUri");const C={client_id:x.clientId,redirect_uri:x.redirectUri,response_type:O,state:x.state};x.scopes!==void 0&&(C.scope=g(x.scopes));const F=x.authorizationUri.includes("?")?"&":"?";return x.authorizationUri+F+n.stringify(Object.assign(C,x.query))}function _(x,O){return"Basic "+a(v(x)+":"+v(O))}function v(x){return x==null?"":String(x)}function p(x,O){return{url:x.url,method:x.method,body:Object.assign({},x.body,O.body),query:Object.assign({},x.query,O.query),headers:Object.assign({},x.headers,O.headers)}}function S(x,O){this.options=x,this.request=O||i,this.code=new d(this),this.token=new $(this),this.owner=new E(this),this.credentials=new T(this),this.jwt=new A(this)}S.Token=y,S.prototype.createToken=function(x,O,C,F){var V=Object.assign({},F,typeof x=="string"?{access_token:x}:x,typeof O=="string"?{refresh_token:O}:O,typeof C=="string"?{token_type:C}:C);return new S.Token(this,V)},S.prototype._request=function(x){var O=x.url,C=n.stringify(x.body),F=n.stringify(x.query);return F&&(O+=(O.indexOf("?")===-1?"?":"&")+F),this.request(x.method,O,C,x.headers).then(function(V){var Q=h(V.body),H=c(Q);if(H)return Promise.reject(H);if(V.status<200||V.status>=399){var X=new Error("HTTP status "+V.status);return X.status=V.status,X.body=V.body,X.code="ESTATUS",Promise.reject(X)}return Q})};function y(x,O){this.client=x,this.data=O,this.tokenType=O.token_type&&O.token_type.toLowerCase(),this.accessToken=O.access_token,this.refreshToken=O.refresh_token,this.expiresIn(Number(O.expires_in))}y.prototype.expiresIn=function(x){if(typeof x=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+x);else if(x instanceof Date)this.expires=new Date(x.getTime());else throw new TypeError("Unknown duration: "+x);return this.expires},y.prototype.sign=function(x){if(!this.accessToken)throw new Error("Unable to sign without access token");if(x.headers=x.headers||{},this.tokenType==="bearer")x.headers.Authorization="Bearer "+this.accessToken;else{var O=x.url.split("#"),C="access_token="+this.accessToken,F=O[0].replace(/[?&]access_token=[^&#]/,""),V=O[1]?"#"+O[1]:"";x.url=F+(F.indexOf("?")>-1?"&":"?")+C+V,x.headers.Pragma="no-store",x.headers["Cache-Control"]="no-store"}return x},y.prototype.refresh=function(x){var O=this,C=Object.assign({},this.client.options,x);return this.refreshToken?this.client._request(p({url:C.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(C.clientId,C.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},C)).then(function(F){return O.client.createToken(Object.assign({},O.data,F))}):Promise.reject(new Error("No refresh token"))},y.prototype.expired=function(){return Date.now()>this.expires.getTime()};function E(x){this.client=x}E.prototype.getToken=function(x,O,C){var F=this,V=Object.assign({},this.client.options,C);const Q={username:x,password:O,grant_type:"password"};return V.scopes!==void 0&&(Q.scope=g(V.scopes)),this.client._request(p({url:V.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(V.clientId,V.clientSecret)}),body:Q},V)).then(function(H){return F.client.createToken(H)})};function $(x){this.client=x}$.prototype.getUri=function(x){var O=Object.assign({},this.client.options,x);return m(O,"token")},$.prototype.getToken=function(x,O){var C=Object.assign({},this.client.options,O),F=typeof x=="object"?x:new URL(x,o),V=new URL(C.redirectUri,o);if(typeof F.pathname=="string"&&F.pathname!==V.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+F.pathname));if(!F.hash&&!F.search)return Promise.reject(new TypeError("Unable to process uri: "+x));var Q=Object.assign({},typeof F.search=="string"?n.parse(F.search.substr(1)):F.search||{},typeof F.hash=="string"?n.parse(F.hash.substr(1)):F.hash||{}),H=c(Q);return H?Promise.reject(H):C.state!=null&&Q.state!==C.state?Promise.reject(new TypeError("Invalid state: "+Q.state)):Promise.resolve(this.client.createToken(Q))};function T(x){this.client=x}T.prototype.getToken=function(x){var O=this,C=Object.assign({},this.client.options,x);f(C,"clientId","clientSecret","accessTokenUri");const F={grant_type:"client_credentials"};return C.scopes!==void 0&&(F.scope=g(C.scopes)),this.client._request(p({url:C.accessTokenUri,method:"POST",headers:Object.assign({},s,{Authorization:_(C.clientId,C.clientSecret)}),body:F},C)).then(function(V){return O.client.createToken(V)})};function d(x){this.client=x}d.prototype.getUri=function(x){var O=Object.assign({},this.client.options,x);return m(O,"code")},d.prototype.getToken=function(x,O){var C=this,F=Object.assign({},this.client.options,O);f(F,"clientId","accessTokenUri");var V=typeof x=="object"?x:new URL(x,o);if(typeof F.redirectUri=="string"&&typeof V.pathname=="string"&&V.pathname!==new URL(F.redirectUri,o).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+V.pathname));if(!V.search||!V.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+x));var Q=typeof V.search=="string"?n.parse(V.search.substr(1)):V.search||{},H=c(Q);if(H)return Promise.reject(H);if(F.state!=null&&Q.state!==F.state)return Promise.reject(new TypeError("Invalid state: "+Q.state));if(!Q.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var X=Object.assign({},s),ce={code:Q.code,grant_type:"authorization_code",redirect_uri:F.redirectUri};return F.clientSecret?X.Authorization=_(F.clientId,F.clientSecret):ce.client_id=F.clientId,this.client._request(p({url:F.accessTokenUri,method:"POST",headers:X,body:ce},F)).then(function(Z){return C.client.createToken(Z)})};function A(x){this.client=x}A.prototype.getToken=function(x,O){var C=this,F=Object.assign({},this.client.options,O),V=Object.assign({},s);f(F,"accessTokenUri"),F.clientId&&(V.Authorization=_(F.clientId,F.clientSecret));const Q={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:x};return F.scopes!==void 0&&(Q.scope=g(F.scopes)),this.client._request(p({url:F.accessTokenUri,method:"POST",headers:V,body:Q},F)).then(function(H){return C.client.createToken(H)})}}}),Zie=Pe({"../../node_modules/strict-uri-encode/index.js"(e,t){Te(),t.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),eoe=Pe({"../../node_modules/decode-uri-component/index.js"(e,t){Te();var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(l,u){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;u=u||1;var f=l.slice(0,u),c=l.slice(u);return Array.prototype.concat.call([],o(f),o(c))}function a(l){try{return decodeURIComponent(l)}catch{for(var u=l.match(n)||[],f=1;f<u.length;f++)l=o(u,f).join(""),u=l.match(n)||[];return l}}function s(l){for(var u={"%FE%FF":"","%FF%FE":""},f=i.exec(l);f;){try{u[f[0]]=decodeURIComponent(f[0])}catch{var c=a(f[0]);c!==f[0]&&(u[f[0]]=c)}f=i.exec(l)}u["%C2"]="";for(var h=Object.keys(u),g=0;g<h.length;g++){var m=h[g];l=l.replace(new RegExp(m,"g"),u[m])}return l}t.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return s(l)}}}}),toe=Pe({"../../node_modules/split-on-first/index.js"(e,t){Te(),t.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];const i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),roe=Pe({"../../node_modules/filter-obj/index.js"(e,t){Te(),t.exports=function(r,n){for(var i={},o=Object.keys(r),a=Array.isArray(n),s=0;s<o.length;s++){var l=o[s],u=r[l];(a?n.indexOf(l)!==-1:n(l,u,r))&&(i[l]=u)}return i}}}),noe=Pe({"../../node_modules/query-string/index.js"(e){Te();var t=Zie(),r=eoe(),n=toe(),i=roe(),o=S=>S==null,a=Symbol("encodeFragmentIdentifier");function s(S){switch(S.arrayFormat){case"index":return y=>(E,$)=>{const T=E.length;return $===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?E:$===null?[...E,[f(y,S),"[",T,"]"].join("")]:[...E,[f(y,S),"[",f(T,S),"]=",f($,S)].join("")]};case"bracket":return y=>(E,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?E:$===null?[...E,[f(y,S),"[]"].join("")]:[...E,[f(y,S),"[]=",f($,S)].join("")];case"colon-list-separator":return y=>(E,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?E:$===null?[...E,[f(y,S),":list="].join("")]:[...E,[f(y,S),":list=",f($,S)].join("")];case"comma":case"separator":case"bracket-separator":{const y=S.arrayFormat==="bracket-separator"?"[]=":"=";return E=>($,T)=>T===void 0||S.skipNull&&T===null||S.skipEmptyString&&T===""?$:(T=T===null?"":T,$.length===0?[[f(E,S),y,f(T,S)].join("")]:[[$,f(T,S)].join(S.arrayFormatSeparator)])}default:return y=>(E,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?E:$===null?[...E,f(y,S)]:[...E,[f(y,S),"=",f($,S)].join("")]}}function l(S){let y;switch(S.arrayFormat){case"index":return(E,$,T)=>{if(y=/\[(\d*)\]$/.exec(E),E=E.replace(/\[\d*\]$/,""),!y){T[E]=$;return}T[E]===void 0&&(T[E]={}),T[E][y[1]]=$};case"bracket":return(E,$,T)=>{if(y=/(\[\])$/.exec(E),E=E.replace(/\[\]$/,""),!y){T[E]=$;return}if(T[E]===void 0){T[E]=[$];return}T[E]=[].concat(T[E],$)};case"colon-list-separator":return(E,$,T)=>{if(y=/(:list)$/.exec(E),E=E.replace(/:list$/,""),!y){T[E]=$;return}if(T[E]===void 0){T[E]=[$];return}T[E]=[].concat(T[E],$)};case"comma":case"separator":return(E,$,T)=>{const d=typeof $=="string"&&$.includes(S.arrayFormatSeparator),A=typeof $=="string"&&!d&&c($,S).includes(S.arrayFormatSeparator);$=A?c($,S):$;const x=d||A?$.split(S.arrayFormatSeparator).map(O=>c(O,S)):$===null?$:c($,S);T[E]=x};case"bracket-separator":return(E,$,T)=>{const d=/(\[\])$/.test(E);if(E=E.replace(/\[\]$/,""),!d){T[E]=$&&c($,S);return}const A=$===null?[]:$.split(S.arrayFormatSeparator).map(x=>c(x,S));if(T[E]===void 0){T[E]=A;return}T[E]=[].concat(T[E],A)};default:return(E,$,T)=>{if(T[E]===void 0){T[E]=$;return}T[E]=[].concat(T[E],$)}}}function u(S){if(typeof S!="string"||S.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(S,y){return y.encode?y.strict?t(S):encodeURIComponent(S):S}function c(S,y){return y.decode?r(S):S}function h(S){return Array.isArray(S)?S.sort():typeof S=="object"?h(Object.keys(S)).sort((y,E)=>Number(y)-Number(E)).map(y=>S[y]):S}function g(S){const y=S.indexOf("#");return y!==-1&&(S=S.slice(0,y)),S}function m(S){let y="";const E=S.indexOf("#");return E!==-1&&(y=S.slice(E)),y}function _(S){S=g(S);const y=S.indexOf("?");return y===-1?"":S.slice(y+1)}function v(S,y){return y.parseNumbers&&!Number.isNaN(Number(S))&&typeof S=="string"&&S.trim()!==""?S=Number(S):y.parseBooleans&&S!==null&&(S.toLowerCase()==="true"||S.toLowerCase()==="false")&&(S=S.toLowerCase()==="true"),S}function p(S,y){y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y),u(y.arrayFormatSeparator);const E=l(y),$=Object.create(null);if(typeof S!="string"||(S=S.trim().replace(/^[?#&]/,""),!S))return $;for(const T of S.split("&")){if(T==="")continue;let[d,A]=n(y.decode?T.replace(/\+/g," "):T,"=");A=A===void 0?null:["comma","separator","bracket-separator"].includes(y.arrayFormat)?A:c(A,y),E(c(d,y),A,$)}for(const T of Object.keys($)){const d=$[T];if(typeof d=="object"&&d!==null)for(const A of Object.keys(d))d[A]=v(d[A],y);else $[T]=v(d,y)}return y.sort===!1?$:(y.sort===!0?Object.keys($).sort():Object.keys($).sort(y.sort)).reduce((T,d)=>{const A=$[d];return A&&typeof A=="object"&&!Array.isArray(A)?T[d]=h(A):T[d]=A,T},Object.create(null))}e.extract=_,e.parse=p,e.stringify=(S,y)=>{if(!S)return"";y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y),u(y.arrayFormatSeparator);const E=A=>y.skipNull&&o(S[A])||y.skipEmptyString&&S[A]==="",$=s(y),T={};for(const A of Object.keys(S))E(A)||(T[A]=S[A]);const d=Object.keys(T);return y.sort!==!1&&d.sort(y.sort),d.map(A=>{const x=S[A];return x===void 0?"":x===null?f(A,y):Array.isArray(x)?x.length===0&&y.arrayFormat==="bracket-separator"?f(A,y)+"[]":x.reduce($(A),[]).join("&"):f(A,y)+"="+f(x,y)}).filter(A=>A.length>0).join("&")},e.parseUrl=(S,y)=>{y=Object.assign({decode:!0},y);const[E,$]=n(S,"#");return Object.assign({url:E.split("?")[0]||"",query:p(_(S),y)},y&&y.parseFragmentIdentifier&&$?{fragmentIdentifier:c($,y)}:{})},e.stringifyUrl=(S,y)=>{y=Object.assign({encode:!0,strict:!0,[a]:!0},y);const E=g(S.url).split("?")[0]||"",$=e.extract(S.url),T=e.parse($,{sort:!1}),d=Object.assign(T,S.query);let A=e.stringify(d,y);A&&(A=`?${A}`);let x=m(S.url);return S.fragmentIdentifier&&(x=`#${y[a]?f(S.fragmentIdentifier,y):S.fragmentIdentifier}`),`${E}${A}${x}`},e.pick=(S,y,E)=>{E=Object.assign({parseFragmentIdentifier:!0,[a]:!1},E);const{url:$,query:T,fragmentIdentifier:d}=e.parseUrl(S,E);return e.stringifyUrl({url:$,query:i(T,y),fragmentIdentifier:d},E)},e.exclude=(S,y,E)=>{const $=Array.isArray(y)?T=>!y.includes(T):(T,d)=>!y(T,d);return e.pick(S,$,E)}}}),RV=Pe({"../binding-http/dist/credential.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(g,m,_,v){v===void 0&&(v=_);var p=Object.getOwnPropertyDescriptor(m,_);(!p||("get"in p?!m.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(g,v,p)}:function(g,m,_,v){v===void 0&&(v=_),g[v]=m[_]}),r=e&&e.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),n=e&&e.__importStar||function(){var g=function(m){return g=Object.getOwnPropertyNames||function(_){var v=[];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(v[v.length]=p);return v},g(m)};return function(m){if(m&&m.__esModule)return m;var _={};if(m!=null)for(var v=g(m),p=0;p<v.length;p++)v[p]!=="default"&&t(_,m,v[p]);return r(_,m),_}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TuyaCustomBearer=e.OAuthCredential=e.BasicKeyCredential=e.BearerCredential=e.BasicCredential=e.Credential=void 0;var i=n(FN()),o=n((q6(),Or(vN))),a=n(noe()),s=class{};e.Credential=s;var l=class extends s{constructor({username:g,password:m},_){if(super(),g===void 0||m===void 0||g===null||m===null)throw new Error("No Basic credentials for Thing");this.username=g,this.password=m,this.options=_}async sign(g){const m=g.clone();let _="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),m.headers.set(_,"Basic "+Yr.from(this.username+":"+this.password).toString("base64")),m}};e.BasicCredential=l;var u=class extends s{constructor({token:g},m){if(super(),g==null)throw new Error("No Bearer credentials for Thing");this.token=g,this.options=m}async sign(g){const m=g.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),m.headers.set(_,"Bearer "+this.token),m}};e.BearerCredential=u;var f=class extends s{constructor({apiKey:g},m){if(super(),g==null)throw new Error("No API key credentials for Thing");this.apiKey=g,this.options=m}async sign(g){const m=g.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),m.headers.append(_,this.apiKey),m}};e.BasicKeyCredential=f;var c=class NV extends s{constructor(m,_){super(),this.token=m,this.refresh=_,this.token=m}async sign(m){if(this.token instanceof Promise){const p=this.token;this.token=await p}let _={url:m.url,headers:{}};return _=this.token.sign(_),new i.Request(m,_)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let m;return this.refresh?m=await this.refresh():m=await this.token.refresh(),new NV(m,this.refresh)}};e.OAuthCredential=c;var h=class extends s{constructor(g,m){super(),this.key=g.key,this.secret=g.secret,this.baseUri=m.baseUri}async sign(g){var y;const m=this.isTokenExpired();(this.token===void 0||this.token===""||m)&&await this.requestAndRefreshToken(m);const _=g.url,v=(y=g.body)==null?void 0:y.read().toString(),p=g.method,S=this.getHeaders(!0,g.headers.raw(),v,_,p);return Object.assign(S,g.headers.raw()),new i.Request(_,{method:p,body:v!==""?v:void 0,headers:S})}async requestAndRefreshToken(g){var y,E,$;const _={headers:this.getHeaders(!1,{}),method:"GET"};let v=`${this.baseUri}/token?grant_type=1`;g&&(v=`${this.baseUri}/token/${this.refreshToken}`);const p=await(await(0,i.default)(v,_)).json();if(p.success??!1){this.token=(y=p.result)==null?void 0:y.access_token,this.refreshToken=(E=p.result)==null?void 0:E.refresh_token;const T=($=p.result)==null?void 0:$.expire_time;T!=null&&(this.expireTime=new Date(Date.now()+T*1e3))}else throw new Error("token fetch failed")}getHeaders(g,m,_,v,p){const S=Date.now().toString(),y=this.baseUri.replace("/v1.0",""),E=v==null?void 0:v.replace(y,""),$=this.requestSign(g,S,_,E,p);return{t:S,client_id:this.key,sign_method:"HMAC-SHA256",sign:$,access_token:this.token??""}}requestSign(g,m,_,v="",p){const S=o.createHash("sha256").update(_??"").digest("hex");let y="/v1.0/token?grant_type=1";const E="";let $="";const T=p??"GET";if(g){$=this.token??"";const x=a.parse(v.split("?")[1]);let O={};O=Object.assign(O,x);const C={};Object.keys(O).sort().forEach(V=>{C[V]=O[V]});const F=a.stringify(C);y=decodeURIComponent(F?`${v.split("?")[0]}?${F}`:v)}const d=[this.key,$,m,[T,S,E,y].join(`
`)].join("");return o.createHmac("sha256",this.secret).update(d).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};e.TuyaCustomBearer=h}}),IV=Pe({"../binding-http/dist/oauth-manager.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=ko(),n=t(Qie()),i=(sE(),Or(jg)),o=RV();function a(l){return(u,f,c,h)=>new Promise((g,m)=>{const _=new URL(f),v={method:u,host:_.hostname,port:parseInt(_.port),path:_.pathname+_.search,headers:h};v.rejectUnauthorized=l;const p=(0,i.request)(v);p.on("response",S=>{S.setEncoding("utf8");const y=[];S.on("data",E=>{y.push(E)}),S.on("end",()=>{g({status:S.statusCode??500,body:y.toString()})})}),p.on("error",S=>{m(S)}),p.write(c),p.end()})}var s=class{constructor(){this.tokenStore=new Map}handleClient(l,u){const f=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes),body:{}},a(!1)),c=f.credentials.getToken();return new o.OAuthCredential(c,f.credentials.getToken.bind(f.credentials))}handleResourceOwnerCredential(l,u){const c=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes)},a(!1)).owner.getToken(u.username,u.password);return new o.OAuthCredential(c)}};e.default=s}});function ioe(){if($O)return jw;$O=!0;const e=2147483647,t=36,r=1,n=26,i=38,o=700,a=72,s=128,l="-",u=/^xn--/,f=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=t-r,m=Math.floor,_=String.fromCharCode;function v(V){throw new RangeError(h[V])}function p(V,Q){const H=[];let X=V.length;for(;X--;)H[X]=Q(V[X]);return H}function S(V,Q){const H=V.split("@");let X="";H.length>1&&(X=H[0]+"@",V=H[1]),V=V.replace(c,".");const ce=V.split("."),Z=p(ce,Q).join(".");return X+Z}function y(V){const Q=[];let H=0;const X=V.length;for(;H<X;){const ce=V.charCodeAt(H++);if(ce>=55296&&ce<=56319&&H<X){const Z=V.charCodeAt(H++);(Z&64512)==56320?Q.push(((ce&1023)<<10)+(Z&1023)+65536):(Q.push(ce),H--)}else Q.push(ce)}return Q}const E=V=>String.fromCodePoint(...V),$=function(V){return V>=48&&V<58?26+(V-48):V>=65&&V<91?V-65:V>=97&&V<123?V-97:t},T=function(V,Q){return V+22+75*(V<26)-((Q!=0)<<5)},d=function(V,Q,H){let X=0;for(V=H?m(V/o):V>>1,V+=m(V/Q);V>g*n>>1;X+=t)V=m(V/g);return m(X+(g+1)*V/(V+i))},A=function(V){const Q=[],H=V.length;let X=0,ce=s,Z=a,ie=V.lastIndexOf(l);ie<0&&(ie=0);for(let k=0;k<ie;++k)V.charCodeAt(k)>=128&&v("not-basic"),Q.push(V.charCodeAt(k));for(let k=ie>0?ie+1:0;k<H;){const B=X;for(let P=1,N=t;;N+=t){k>=H&&v("invalid-input");const q=$(V.charCodeAt(k++));q>=t&&v("invalid-input"),q>m((e-X)/P)&&v("overflow"),X+=q*P;const oe=N<=Z?r:N>=Z+n?n:N-Z;if(q<oe)break;const J=t-oe;P>m(e/J)&&v("overflow"),P*=J}const G=Q.length+1;Z=d(X-B,G,B==0),m(X/G)>e-ce&&v("overflow"),ce+=m(X/G),X%=G,Q.splice(X++,0,ce)}return String.fromCodePoint(...Q)},x=function(V){const Q=[];V=y(V);const H=V.length;let X=s,ce=0,Z=a;for(const B of V)B<128&&Q.push(_(B));const ie=Q.length;let k=ie;for(ie&&Q.push(l);k<H;){let B=e;for(const P of V)P>=X&&P<B&&(B=P);const G=k+1;B-X>m((e-ce)/G)&&v("overflow"),ce+=(B-X)*G,X=B;for(const P of V)if(P<X&&++ce>e&&v("overflow"),P===X){let N=ce;for(let q=t;;q+=t){const oe=q<=Z?r:q>=Z+n?n:q-Z;if(N<oe)break;const J=N-oe,Y=t-oe;Q.push(_(T(oe+J%Y,0))),N=m(J/Y)}Q.push(_(T(N,0))),Z=d(ce,G,k===ie),ce=0,++k}++ce,++X}return Q.join("")};return jw={version:"2.3.1",ucs2:{decode:y,encode:E},decode:A,encode:x,toASCII:function(V){return S(V,function(Q){return f.test(Q)?"xn--"+x(Q):Q})},toUnicode:function(V){return S(V,function(Q){return u.test(Q)?A(Q.slice(4).toLowerCase()):Q})}},jw}var jw,$O,Au,ooe=nn({"../../node_modules/@jspm/core/nodelibs/browser/punycode.js"(){Te(),jw={},$O=!1,Au=ioe(),Au.decode,Au.encode,Au.toASCII,Au.toUnicode,Au.ucs2,Au.version}});function aoe(){if(TO)return Cw;TO=!0;var e=hi;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,a){for(var s="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(s.length<2||l!==2||s.charCodeAt(s.length-1)!==46||s.charCodeAt(s.length-2)!==46){if(s.length>2){var g=s.lastIndexOf("/");if(g!==s.length-1){g===-1?(s="",l=0):(s=s.slice(0,g),l=s.length-1-s.lastIndexOf("/")),u=h,f=0;continue}}else if(s.length===2||s.length===1){s="",l=0,u=h,f=0;continue}}a&&(s.length>0?s+="/..":s="..",l=2)}else s.length>0?s+="/"+o.slice(u+1,h):s=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return s}function n(o,a){var s=a.dir||a.root,l=a.base||(a.name||"")+(a.ext||"");return s?s===a.root?s+l:s+o+l:l}var i={resolve:function(){for(var a="",s=!1,l,u=arguments.length-1;u>=-1&&!s;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(a=f+"/"+a,s=f.charCodeAt(0)===47)}return a=r(a,!s),s?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(t(a),a.length===0)return".";var s=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return a=r(a,!s),a.length===0&&!s&&(a="."),a.length>0&&l&&(a+="/"),s?"/"+a:a},isAbsolute:function(a){return t(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":i.normalize(a)},relative:function(a,s){if(t(a),t(s),a===s||(a=i.resolve(a),s=i.resolve(s),a===s))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var h=s.length,g=h-c,m=f<g?f:g,_=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(s.charCodeAt(c+v)===47)return s.slice(c+v+1);if(v===0)return s.slice(c+v)}else f>m&&(a.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=a.charCodeAt(l+v),S=s.charCodeAt(c+v);if(p!==S)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||a.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+s.slice(c+_):(c+=_,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(a){return a},dirname:function(a){if(t(a),a.length===0)return".";for(var s=a.charCodeAt(0),l=s===47,u=-1,f=!0,c=a.length-1;c>=1;--c)if(s=a.charCodeAt(c),s===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(a);var l=0,u=-1,f=!0,c;if(s!==void 0&&s.length>0&&s.length<=a.length){if(s.length===a.length&&s===a)return"";var h=s.length-1,g=-1;for(c=a.length-1;c>=0;--c){var m=a.charCodeAt(c);if(m===47){if(!f){l=c+1;break}}else g===-1&&(f=!1,g=c+1),h>=0&&(m===s.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=g))}return l===u?u=g:u===-1&&(u=a.length),a.slice(l,u)}else{for(c=a.length-1;c>=0;--c)if(a.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":a.slice(l,u)}},extname:function(a){t(a);for(var s=-1,l=0,u=-1,f=!0,c=0,h=a.length-1;h>=0;--h){var g=a.charCodeAt(h);if(g===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),g===46?s===-1?s=h:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||u===-1||c===0||c===1&&s===u-1&&s===l+1?"":a.slice(s,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return n("/",a)},parse:function(a){t(a);var s={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return s;var l=a.charCodeAt(0),u=l===47,f;u?(s.root="/",f=1):f=0;for(var c=-1,h=0,g=-1,m=!0,_=a.length-1,v=0;_>=f;--_){if(l=a.charCodeAt(_),l===47){if(!m){h=_+1;break}continue}g===-1&&(m=!1,g=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||g===-1||v===0||v===1&&c===g-1&&c===h+1?g!==-1&&(h===0&&u?s.base=s.name=a.slice(1,g):s.base=s.name=a.slice(h,g)):(h===0&&u?(s.name=a.slice(1,c),s.base=a.slice(1,g)):(s.name=a.slice(h,c),s.base=a.slice(h,g)),s.ext=a.slice(c,g)),h>0?s.dir=a.slice(0,h-1):u&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Cw=i,Cw}var Cw,TO,AO,soe=nn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BlJi4mNy.js"(){Te(),Ig(),Cw={},TO=!1,AO=aoe()}}),jV={};sl(jV,{URL:()=>qV,Url:()=>LV,default:()=>Di,fileURLToPath:()=>kV,format:()=>FV,parse:()=>zV,pathToFileURL:()=>DV,resolve:()=>BV,resolveObject:()=>UV});function loe(){if(xO)return kw;xO=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=i&&o&&typeof o.get=="function"?o.get:null,s=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,c=f?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,g=h?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,_=Object.prototype.toString,v=Function.prototype.toString,p=String.prototype.match,S=String.prototype.slice,y=String.prototype.replace,E=String.prototype.toUpperCase,$=String.prototype.toLowerCase,T=RegExp.prototype.test,d=Array.prototype.concat,A=Array.prototype.join,x=Array.prototype.slice,O=Math.floor,C=typeof BigInt=="function"?BigInt.prototype.valueOf:null,F=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Q=typeof Symbol=="function"&&typeof Symbol.iterator=="object",H=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Q||!0)?Symbol.toStringTag:null,X=Object.prototype.propertyIsEnumerable,ce=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(je){return je.__proto__}:null);function Z(je,Be){if(je===1/0||je===-1/0||je!==je||je&&je>-1e3&&je<1e3||T.call(/e/,Be))return Be;var at=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof je=="number"){var wt=je<0?-O(-je):O(je);if(wt!==je){var ut=String(wt),kt=S.call(Be,ut.length+1);return y.call(ut,at,"$&_")+"."+y.call(y.call(kt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(Be,at,"$&_")}var ie=MV,k=ie.custom,B=Ne(k)?k:null;kw=function je(Be,at,wt,ut){var kt=at||{};if(M(kt,"quoteStyle")&&kt.quoteStyle!=="single"&&kt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(kt,"maxStringLength")&&(typeof kt.maxStringLength=="number"?kt.maxStringLength<0&&kt.maxStringLength!==1/0:kt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Tr=M(kt,"customInspect")?kt.customInspect:!0;if(typeof Tr!="boolean"&&Tr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(M(kt,"indent")&&kt.indent!==null&&kt.indent!=="	"&&!(parseInt(kt.indent,10)===kt.indent&&kt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(M(kt,"numericSeparator")&&typeof kt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pr=kt.numericSeparator;if(typeof Be>"u")return"undefined";if(Be===null)return"null";if(typeof Be=="boolean")return Be?"true":"false";if(typeof Be=="string")return qe(Be,kt);if(typeof Be=="number"){if(Be===0)return 1/0/Be>0?"0":"-0";var or=String(Be);return Pr?Z(Be,or):or}if(typeof Be=="bigint"){var ur=String(Be)+"n";return Pr?Z(Be,ur):ur}var on=typeof kt.depth>"u"?5:kt.depth;if(typeof wt>"u"&&(wt=0),wt>=on&&on>0&&typeof Be=="object")return N(Be)?"[Array]":"[Object]";var tr=ye(kt,wt);if(typeof ut>"u")ut=[];else if(fe(ut,Be)>=0)return"[Circular]";function Dt(jt,Lt,$t){if(Lt&&(ut=x.call(ut),ut.push(Lt)),$t){var Rt={depth:kt.depth};return M(kt,"quoteStyle")&&(Rt.quoteStyle=kt.quoteStyle),je(jt,Rt,wt+1,ut)}return je(jt,kt,wt+1,ut)}if(typeof Be=="function"&&!oe(Be)){var Jt=ae(Be),Ee=De(Be,Dt);return"[Function"+(Jt?": "+Jt:" (anonymous)")+"]"+(Ee.length>0?" { "+A.call(Ee,", ")+" }":"")}if(Ne(Be)){var Oe=Q?y.call(String(Be),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(Be);return typeof Be=="object"&&!Q?W(Oe):Oe}if(nt(Be)){for(var ct="<"+$.call(String(Be.nodeName)),ht=Be.attributes||[],et=0;et<ht.length;et++)ct+=" "+ht[et].name+"="+G(P(ht[et].value),"double",kt);return ct+=">",Be.childNodes&&Be.childNodes.length&&(ct+="..."),ct+="</"+$.call(String(Be.nodeName))+">",ct}if(N(Be)){if(Be.length===0)return"[]";var xt=De(Be,Dt);return tr&&!ne(xt)?"["+Se(xt,tr)+"]":"[ "+A.call(xt,", ")+" ]"}if(J(Be)){var Ot=De(Be,Dt);return!("cause"in Error.prototype)&&"cause"in Be&&!X.call(Be,"cause")?"{ ["+String(Be)+"] "+A.call(d.call("[cause]: "+Dt(Be.cause),Ot),", ")+" }":Ot.length===0?"["+String(Be)+"]":"{ ["+String(Be)+"] "+A.call(Ot,", ")+" }"}if(typeof Be=="object"&&Tr){if(B&&typeof Be[B]=="function"&&ie)return ie(Be,{depth:on-wt});if(Tr!=="symbol"&&typeof Be.inspect=="function")return Be.inspect()}if(de(Be)){var he=[];return n&&n.call(Be,function(jt,Lt){he.push(Dt(Lt,Be,!0)+" => "+Dt(jt,Be))}),L("Map",r.call(Be),he,tr)}if(Le(Be)){var ue=[];return s&&s.call(Be,function(jt){ue.push(Dt(jt,Be))}),L("Set",a.call(Be),ue,tr)}if(pe(Be))return I("WeakMap");if(ke(Be))return I("WeakSet");if(xe(Be))return I("WeakRef");if(se(Be))return W(Dt(Number(Be)));if(R(Be))return W(Dt(C.call(Be)));if(be(Be))return W(m.call(Be));if(Y(Be))return W(Dt(String(Be)));if(typeof window<"u"&&Be===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Be===globalThis||typeof Dw<"u"&&Be===Dw)return"{ [object globalThis] }";if(!q(Be)&&!oe(Be)){var we=De(Be,Dt),Re=ce?ce(Be)===Object.prototype:Be instanceof Object||Be.constructor===Object,Ae=Be instanceof Object?"":"null prototype",ot=!Re&&H&&Object(Be)===Be&&H in Be?S.call(K(Be),8,-1):Ae?"Object":"",tt=Re||typeof Be.constructor!="function"?"":Be.constructor.name?Be.constructor.name+" ":"",Tt=tt+(ot||Ae?"["+A.call(d.call([],ot||[],Ae||[]),": ")+"] ":"");return we.length===0?Tt+"{}":tr?Tt+"{"+Se(we,tr)+"}":Tt+"{ "+A.call(we,", ")+" }"}return String(Be)};function G(je,Be,at){var wt=(at.quoteStyle||Be)==="double"?'"':"'";return wt+je+wt}function P(je){return y.call(String(je),/"/g,"&quot;")}function N(je){return K(je)==="[object Array]"&&(!H||!(typeof je=="object"&&H in je))}function q(je){return K(je)==="[object Date]"&&(!H||!(typeof je=="object"&&H in je))}function oe(je){return K(je)==="[object RegExp]"&&(!H||!(typeof je=="object"&&H in je))}function J(je){return K(je)==="[object Error]"&&(!H||!(typeof je=="object"&&H in je))}function Y(je){return K(je)==="[object String]"&&(!H||!(typeof je=="object"&&H in je))}function se(je){return K(je)==="[object Number]"&&(!H||!(typeof je=="object"&&H in je))}function be(je){return K(je)==="[object Boolean]"&&(!H||!(typeof je=="object"&&H in je))}function Ne(je){if(Q)return je&&typeof je=="object"&&je instanceof Symbol;if(typeof je=="symbol")return!0;if(!je||typeof je!="object"||!V)return!1;try{return V.call(je),!0}catch{}return!1}function R(je){if(!je||typeof je!="object"||!C)return!1;try{return C.call(je),!0}catch{}return!1}var D=Object.prototype.hasOwnProperty||function(je){return je in(this||Dw)};function M(je,Be){return D.call(je,Be)}function K(je){return _.call(je)}function ae(je){if(je.name)return je.name;var Be=p.call(v.call(je),/^function\s*([\w$]+)/);return Be?Be[1]:null}function fe(je,Be){if(je.indexOf)return je.indexOf(Be);for(var at=0,wt=je.length;at<wt;at++)if(je[at]===Be)return at;return-1}function de(je){if(!r||!je||typeof je!="object")return!1;try{r.call(je);try{a.call(je)}catch{return!0}return je instanceof Map}catch{}return!1}function pe(je){if(!u||!je||typeof je!="object")return!1;try{u.call(je,u);try{c.call(je,c)}catch{return!0}return je instanceof WeakMap}catch{}return!1}function xe(je){if(!g||!je||typeof je!="object")return!1;try{return g.call(je),!0}catch{}return!1}function Le(je){if(!a||!je||typeof je!="object")return!1;try{a.call(je);try{r.call(je)}catch{return!0}return je instanceof Set}catch{}return!1}function ke(je){if(!c||!je||typeof je!="object")return!1;try{c.call(je,c);try{u.call(je,u)}catch{return!0}return je instanceof WeakSet}catch{}return!1}function nt(je){return!je||typeof je!="object"?!1:typeof HTMLElement<"u"&&je instanceof HTMLElement?!0:typeof je.nodeName=="string"&&typeof je.getAttribute=="function"}function qe(je,Be){if(je.length>Be.maxStringLength){var at=je.length-Be.maxStringLength,wt="... "+at+" more character"+(at>1?"s":"");return qe(S.call(je,0,Be.maxStringLength),Be)+wt}var ut=y.call(y.call(je,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ue);return G(ut,"single",Be)}function Ue(je){var Be=je.charCodeAt(0),at={8:"b",9:"t",10:"n",12:"f",13:"r"}[Be];return at?"\\"+at:"\\x"+(Be<16?"0":"")+E.call(Be.toString(16))}function W(je){return"Object("+je+")"}function I(je){return je+" { ? }"}function L(je,Be,at,wt){var ut=wt?Se(at,wt):A.call(at,", ");return je+" ("+Be+") {"+ut+"}"}function ne(je){for(var Be=0;Be<je.length;Be++)if(fe(je[Be],`
`)>=0)return!1;return!0}function ye(je,Be){var at;if(je.indent==="	")at="	";else if(typeof je.indent=="number"&&je.indent>0)at=A.call(Array(je.indent+1)," ");else return null;return{base:at,prev:A.call(Array(Be+1),at)}}function Se(je,Be){if(je.length===0)return"";var at=`
`+Be.prev+Be.base;return at+A.call(je,","+at)+`
`+Be.prev}function De(je,Be){var at=N(je),wt=[];if(at){wt.length=je.length;for(var ut=0;ut<je.length;ut++)wt[ut]=M(je,ut)?Be(je[ut],je):""}var kt=typeof F=="function"?F(je):[],Tr;if(Q){Tr={};for(var Pr=0;Pr<kt.length;Pr++)Tr["$"+kt[Pr]]=kt[Pr]}for(var or in je)M(je,or)&&(at&&String(Number(or))===or&&or<je.length||Q&&Tr["$"+or]instanceof Symbol||(T.call(/[^\w$]/,or)?wt.push(Be(or,je)+": "+Be(je[or],je)):wt.push(or+": "+Be(je[or],je))));if(typeof F=="function")for(var ur=0;ur<kt.length;ur++)X.call(je,kt[ur])&&wt.push("["+Be(kt[ur])+"]: "+Be(je[kt[ur]],je));return wt}return kw}function uoe(){if(OO)return Mw;OO=!0;var e=Wh(),t=_N(),r=loe(),n=Cg(),i=e("%WeakMap%",!0),o=e("%Map%",!0),a=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),f=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),h=function(v,p){for(var S=v,y;(y=S.next)!==null;S=y)if(y.key===p)return S.next=y.next,y.next=v.next,v.next=y,y},g=function(v,p){var S=h(v,p);return S&&S.value},m=function(v,p,S){var y=h(v,p);y?y.value=S:v.next={key:p,next:v.next,value:S}},_=function(v,p){return!!h(v,p)};return Mw=function(){var p,S,y,E={assert:function($){if(!E.has($))throw new n("Side channel does not contain "+r($))},get:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(p)return a(p,$)}else if(o){if(S)return u(S,$)}else if(y)return g(y,$)},has:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(p)return l(p,$)}else if(o){if(S)return c(S,$)}else if(y)return _(y,$);return!1},set:function($,T){i&&$&&(typeof $=="object"||typeof $=="function")?(p||(p=new i),s(p,$,T)):o?(S||(S=new o),f(S,$,T)):(y||(y={key:{},next:null}),m(y,$,T))}};return E},Mw}function BN(){if(PO)return Lw;PO=!0;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Lw={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},Lw}function CV(){if(RO)return Fw;RO=!0;var e=BN(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],p=0;p<256;++p)v.push("%"+((p<16?"0":"")+p.toString(16)).toUpperCase());return v}(),i=function(p){for(;p.length>1;){var S=p.pop(),y=S.obj[S.prop];if(r(y)){for(var E=[],$=0;$<y.length;++$)typeof y[$]<"u"&&E.push(y[$]);S.obj[S.prop]=E}}},o=function(p,S){for(var y=S&&S.plainObjects?Object.create(null):{},E=0;E<p.length;++E)typeof p[E]<"u"&&(y[E]=p[E]);return y},a=function v(p,S,y){if(!S)return p;if(typeof S!="object"){if(r(p))p.push(S);else if(p&&typeof p=="object")(y&&(y.plainObjects||y.allowPrototypes)||!t.call(Object.prototype,S))&&(p[S]=!0);else return[p,S];return p}if(!p||typeof p!="object")return[p].concat(S);var E=p;return r(p)&&!r(S)&&(E=o(p,y)),r(p)&&r(S)?(S.forEach(function($,T){if(t.call(p,T)){var d=p[T];d&&typeof d=="object"&&$&&typeof $=="object"?p[T]=v(d,$,y):p.push($)}else p[T]=$}),p):Object.keys(S).reduce(function($,T){var d=S[T];return t.call($,T)?$[T]=v($[T],d,y):$[T]=d,$},E)},s=function(p,S){return Object.keys(S).reduce(function(y,E){return y[E]=S[E],y},p)},l=function(v,p,S){var y=v.replace(/\+/g," ");if(S==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch{return y}},u=1024,f=function(p,S,y,E,$){if(p.length===0)return p;var T=p;if(typeof p=="symbol"?T=Symbol.prototype.toString.call(p):typeof p!="string"&&(T=String(p)),y==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var d="",A=0;A<T.length;A+=u){for(var x=T.length>=u?T.slice(A,A+u):T,O=[],C=0;C<x.length;++C){var F=x.charCodeAt(C);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||$===e.RFC1738&&(F===40||F===41)){O[O.length]=x.charAt(C);continue}if(F<128){O[O.length]=n[F];continue}if(F<2048){O[O.length]=n[192|F>>6]+n[128|F&63];continue}if(F<55296||F>=57344){O[O.length]=n[224|F>>12]+n[128|F>>6&63]+n[128|F&63];continue}C+=1,F=65536+((F&1023)<<10|x.charCodeAt(C)&1023),O[O.length]=n[240|F>>18]+n[128|F>>12&63]+n[128|F>>6&63]+n[128|F&63]}d+=O.join("")}return d},c=function(p){for(var S=[{obj:{o:p},prop:"o"}],y=[],E=0;E<S.length;++E)for(var $=S[E],T=$.obj[$.prop],d=Object.keys(T),A=0;A<d.length;++A){var x=d[A],O=T[x];typeof O=="object"&&O!==null&&y.indexOf(O)===-1&&(S.push({obj:T,prop:x}),y.push(O))}return i(S),p},h=function(p){return Object.prototype.toString.call(p)==="[object RegExp]"},g=function(p){return!p||typeof p!="object"?!1:!!(p.constructor&&p.constructor.isBuffer&&p.constructor.isBuffer(p))},m=function(p,S){return[].concat(p,S)},_=function(p,S){if(r(p)){for(var y=[],E=0;E<p.length;E+=1)y.push(S(p[E]));return y}return S(p)};return Fw={arrayToObject:o,assign:s,combine:m,compact:c,decode:l,encode:f,isBuffer:g,isRegExp:h,maybeMap:_,merge:a},Fw}function coe(){if(NO)return Bw;NO=!0;var e=uoe(),t=CV(),r=BN(),n=Object.prototype.hasOwnProperty,i={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,p){return v+"["+p+"]"},repeat:function(v){return v}},o=Array.isArray,a=Array.prototype.push,s=function(_,v){a.apply(_,o(v)?v:[v])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},c=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},h={},g=function _(v,p,S,y,E,$,T,d,A,x,O,C,F,V,Q,H,X,ce){for(var Z=v,ie=ce,k=0,B=!1;(ie=ie.get(h))!==void 0&&!B;){var G=ie.get(v);if(k+=1,typeof G<"u"){if(G===k)throw new RangeError("Cyclic object value");B=!0}typeof ie.get(h)>"u"&&(k=0)}if(typeof x=="function"?Z=x(p,Z):Z instanceof Date?Z=F(Z):S==="comma"&&o(Z)&&(Z=t.maybeMap(Z,function(K){return K instanceof Date?F(K):K})),Z===null){if($)return A&&!H?A(p,f.encoder,X,"key",V):p;Z=""}if(c(Z)||t.isBuffer(Z)){if(A){var P=H?p:A(p,f.encoder,X,"key",V);return[Q(P)+"="+Q(A(Z,f.encoder,X,"value",V))]}return[Q(p)+"="+Q(String(Z))]}var N=[];if(typeof Z>"u")return N;var q;if(S==="comma"&&o(Z))H&&A&&(Z=t.maybeMap(Z,A)),q=[{value:Z.length>0?Z.join(",")||null:void 0}];else if(o(x))q=x;else{var oe=Object.keys(Z);q=O?oe.sort(O):oe}var J=d?p.replace(/\./g,"%2E"):p,Y=y&&o(Z)&&Z.length===1?J+"[]":J;if(E&&o(Z)&&Z.length===0)return Y+"[]";for(var se=0;se<q.length;++se){var be=q[se],Ne=typeof be=="object"&&typeof be.value<"u"?be.value:Z[be];if(!(T&&Ne===null)){var R=C&&d?be.replace(/\./g,"%2E"):be,D=o(Z)?typeof S=="function"?S(Y,R):Y:Y+(C?"."+R:"["+R+"]");ce.set(v,k);var M=e();M.set(h,ce),s(N,_(Ne,D,S,y,E,$,T,d,S==="comma"&&H&&o(Z)?null:A,x,O,C,F,V,Q,H,X,M))}}return N},m=function(v){if(!v)return f;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var p=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var S=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");S=v.format}var y=r.formatters[S],E=f.filter;(typeof v.filter=="function"||o(v.filter))&&(E=v.filter);var $;if(v.arrayFormat in i?$=v.arrayFormat:"indices"in v?$=v.indices?"indices":"repeat":$=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:$,charset:p,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:E,format:S,formatter:y,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}};return Bw=function(_,v){var p=_,S=m(v),y,E;typeof S.filter=="function"?(E=S.filter,p=E("",p)):o(S.filter)&&(E=S.filter,y=E);var $=[];if(typeof p!="object"||p===null)return"";var T=i[S.arrayFormat],d=T==="comma"&&S.commaRoundTrip;y||(y=Object.keys(p)),S.sort&&y.sort(S.sort);for(var A=e(),x=0;x<y.length;++x){var O=y[x];S.skipNulls&&p[O]===null||s($,g(p[O],O,T,d,S.allowEmptyArrays,S.strictNullHandling,S.skipNulls,S.encodeDotInKeys,S.encode?S.encoder:null,S.filter,S.sort,S.allowDots,S.serializeDate,S.format,S.formatter,S.encodeValuesOnly,S.charset,A))}var C=$.join(S.delimiter),F=S.addQueryPrefix===!0?"?":"";return S.charsetSentinel&&(S.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),C.length>0?F+C:""},Bw}function foe(){if(IO)return Uw;IO=!0;var e=CV(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(h){return h.replace(/&#(\d+);/g,function(g,m){return String.fromCharCode(parseInt(m,10))})},o=function(h,g){return h&&typeof h=="string"&&g.comma&&h.indexOf(",")>-1?h.split(","):h},a="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",l=function(g,m){var _={__proto__:null},v=m.ignoreQueryPrefix?g.replace(/^\?/,""):g;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var p=m.parameterLimit===1/0?void 0:m.parameterLimit,S=v.split(m.delimiter,p),y=-1,E,$=m.charset;if(m.charsetSentinel)for(E=0;E<S.length;++E)S[E].indexOf("utf8=")===0&&(S[E]===s?$="utf-8":S[E]===a&&($="iso-8859-1"),y=E,E=S.length);for(E=0;E<S.length;++E)if(E!==y){var T=S[E],d=T.indexOf("]="),A=d===-1?T.indexOf("="):d+1,x,O;A===-1?(x=m.decoder(T,n.decoder,$,"key"),O=m.strictNullHandling?null:""):(x=m.decoder(T.slice(0,A),n.decoder,$,"key"),O=e.maybeMap(o(T.slice(A+1),m),function(F){return m.decoder(F,n.decoder,$,"value")})),O&&m.interpretNumericEntities&&$==="iso-8859-1"&&(O=i(O)),T.indexOf("[]=")>-1&&(O=r(O)?[O]:O);var C=t.call(_,x);C&&m.duplicates==="combine"?_[x]=e.combine(_[x],O):(!C||m.duplicates==="last")&&(_[x]=O)}return _},u=function(h,g,m,_){for(var v=_?g:o(g,m),p=h.length-1;p>=0;--p){var S,y=h[p];if(y==="[]"&&m.parseArrays)S=m.allowEmptyArrays&&(v===""||m.strictNullHandling&&v===null)?[]:[].concat(v);else{S=m.plainObjects?Object.create(null):{};var E=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,$=m.decodeDotInKeys?E.replace(/%2E/g,"."):E,T=parseInt($,10);!m.parseArrays&&$===""?S={0:v}:!isNaN(T)&&y!==$&&String(T)===$&&T>=0&&m.parseArrays&&T<=m.arrayLimit?(S=[],S[T]=v):$!=="__proto__"&&(S[$]=v)}v=S}return v},f=function(g,m,_,v){if(g){var p=_.allowDots?g.replace(/\.([^.[]+)/g,"[$1]"):g,S=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,E=_.depth>0&&S.exec(p),$=E?p.slice(0,E.index):p,T=[];if($){if(!_.plainObjects&&t.call(Object.prototype,$)&&!_.allowPrototypes)return;T.push($)}for(var d=0;_.depth>0&&(E=y.exec(p))!==null&&d<_.depth;){if(d+=1,!_.plainObjects&&t.call(Object.prototype,E[1].slice(1,-1))&&!_.allowPrototypes)return;T.push(E[1])}if(E){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");T.push("["+p.slice(E.index)+"]")}return u(T,m,_,v)}},c=function(g){if(!g)return n;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.decodeDotInKeys<"u"&&typeof g.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(g.decoder!==null&&typeof g.decoder<"u"&&typeof g.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=typeof g.charset>"u"?n.charset:g.charset,_=typeof g.duplicates>"u"?n.duplicates:g.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof g.allowDots>"u"?g.decodeDotInKeys===!0?!0:n.allowDots:!!g.allowDots;return{allowDots:v,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof g.allowPrototypes=="boolean"?g.allowPrototypes:n.allowPrototypes,allowSparse:typeof g.allowSparse=="boolean"?g.allowSparse:n.allowSparse,arrayLimit:typeof g.arrayLimit=="number"?g.arrayLimit:n.arrayLimit,charset:m,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:n.charsetSentinel,comma:typeof g.comma=="boolean"?g.comma:n.comma,decodeDotInKeys:typeof g.decodeDotInKeys=="boolean"?g.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof g.decoder=="function"?g.decoder:n.decoder,delimiter:typeof g.delimiter=="string"||e.isRegExp(g.delimiter)?g.delimiter:n.delimiter,depth:typeof g.depth=="number"||g.depth===!1?+g.depth:n.depth,duplicates:_,ignoreQueryPrefix:g.ignoreQueryPrefix===!0,interpretNumericEntities:typeof g.interpretNumericEntities=="boolean"?g.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof g.parameterLimit=="number"?g.parameterLimit:n.parameterLimit,parseArrays:g.parseArrays!==!1,plainObjects:typeof g.plainObjects=="boolean"?g.plainObjects:n.plainObjects,strictDepth:typeof g.strictDepth=="boolean"?!!g.strictDepth:n.strictDepth,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:n.strictNullHandling}};return Uw=function(h,g){var m=c(g);if(h===""||h===null||typeof h>"u")return m.plainObjects?Object.create(null):{};for(var _=typeof h=="string"?l(h,m):h,v=m.plainObjects?Object.create(null):{},p=Object.keys(_),S=0;S<p.length;++S){var y=p[S],E=f(y,_[y],m,typeof h=="string");v=e.merge(v,E,m)}return m.allowSparse===!0?v:e.compact(v)},Uw}function doe(){if(jO)return zw;jO=!0;var e=coe(),t=foe(),r=BN();return zw={formats:r,parse:t,stringify:e},zw}function hoe(){if(CO)return xu;CO=!0;var e=Au;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(o),s=["'"].concat(a),l=["%","/","?",";","#"].concat(s),u=["/","?","#"],f=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=doe();function p($,T,d){if($&&typeof $=="object"&&$ instanceof t)return $;var A=new t;return A.parse($,T,d),A}t.prototype.parse=function($,T,d){if(typeof $!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var A=$.indexOf("?"),x=A!==-1&&A<$.indexOf("#")?"?":"#",O=$.split(x),C=/\\/g;O[0]=O[0].replace(C,"/"),$=O.join(x);var F=$;if(F=F.trim(),!d&&$.split("#").length===1){var V=i.exec(F);if(V)return this.path=F,this.href=F,this.pathname=V[1],V[2]?(this.search=V[2],T?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var Q=r.exec(F);if(Q){Q=Q[0];var H=Q.toLowerCase();this.protocol=H,F=F.substr(Q.length)}if(d||Q||F.match(/^\/\/[^@/]+@[^@/]+/)){var X=F.substr(0,2)==="//";X&&!(Q&&m[Q])&&(F=F.substr(2),this.slashes=!0)}if(!m[Q]&&(X||Q&&!_[Q])){for(var ce=-1,Z=0;Z<u.length;Z++){var ie=F.indexOf(u[Z]);ie!==-1&&(ce===-1||ie<ce)&&(ce=ie)}var k,B;ce===-1?B=F.lastIndexOf("@"):B=F.lastIndexOf("@",ce),B!==-1&&(k=F.slice(0,B),F=F.slice(B+1),this.auth=decodeURIComponent(k)),ce=-1;for(var Z=0;Z<l.length;Z++){var ie=F.indexOf(l[Z]);ie!==-1&&(ce===-1||ie<ce)&&(ce=ie)}ce===-1&&(ce=F.length),this.host=F.slice(0,ce),F=F.slice(ce),this.parseHost(),this.hostname=this.hostname||"";var G=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!G)for(var P=this.hostname.split(/\./),Z=0,N=P.length;Z<N;Z++){var q=P[Z];if(q&&!q.match(c)){for(var oe="",J=0,Y=q.length;J<Y;J++)q.charCodeAt(J)>127?oe+="x":oe+=q[J];if(!oe.match(c)){var se=P.slice(0,Z),be=P.slice(Z+1),Ne=q.match(h);Ne&&(se.push(Ne[1]),be.unshift(Ne[2])),be.length&&(F="/"+be.join(".")+F),this.hostname=se.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),G||(this.hostname=e.toASCII(this.hostname));var R=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+R,this.href+=this.host,G&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),F[0]!=="/"&&(F="/"+F))}if(!g[H])for(var Z=0,N=s.length;Z<N;Z++){var M=s[Z];if(F.indexOf(M)!==-1){var K=encodeURIComponent(M);K===M&&(K=escape(M)),F=F.split(M).join(K)}}var ae=F.indexOf("#");ae!==-1&&(this.hash=F.substr(ae),F=F.slice(0,ae));var fe=F.indexOf("?");if(fe!==-1?(this.search=F.substr(fe),this.query=F.substr(fe+1),T&&(this.query=v.parse(this.query)),F=F.slice(0,fe)):T&&(this.search="",this.query={}),F&&(this.pathname=F),_[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",de=this.search||"";this.path=R+de}return this.href=this.format(),this};function S($){return typeof $=="string"&&($=p($)),$ instanceof t?$.format():t.prototype.format.call($)}t.prototype.format=function(){var $=this.auth||"";$&&($=encodeURIComponent($),$=$.replace(/%3A/i,":"),$+="@");var T=this.protocol||"",d=this.pathname||"",A=this.hash||"",x=!1,O="";this.host?x=$+this.host:this.hostname&&(x=$+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(x+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(O=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var C=this.search||O&&"?"+O||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||_[T])&&x!==!1?(x="//"+(x||""),d&&d.charAt(0)!=="/"&&(d="/"+d)):x||(x=""),A&&A.charAt(0)!=="#"&&(A="#"+A),C&&C.charAt(0)!=="?"&&(C="?"+C),d=d.replace(/[?#]/g,function(F){return encodeURIComponent(F)}),C=C.replace("#","%23"),T+x+d+C+A};function y($,T){return p($,!1,!0).resolve(T)}t.prototype.resolve=function($){return this.resolveObject(p($,!1,!0)).format()};function E($,T){return $?p($,!1,!0).resolveObject(T):T}return t.prototype.resolveObject=function($){if(typeof $=="string"){var T=new t;T.parse($,!1,!0),$=T}for(var d=new t,A=Object.keys(this),x=0;x<A.length;x++){var O=A[x];d[O]=this[O]}if(d.hash=$.hash,$.href==="")return d.href=d.format(),d;if($.slashes&&!$.protocol){for(var C=Object.keys($),F=0;F<C.length;F++){var V=C[F];V!=="protocol"&&(d[V]=$[V])}return _[d.protocol]&&d.hostname&&!d.pathname&&(d.pathname="/",d.path=d.pathname),d.href=d.format(),d}if($.protocol&&$.protocol!==d.protocol){if(!_[$.protocol]){for(var Q=Object.keys($),H=0;H<Q.length;H++){var X=Q[H];d[X]=$[X]}return d.href=d.format(),d}if(d.protocol=$.protocol,!$.host&&!m[$.protocol]){for(var N=($.pathname||"").split("/");N.length&&!($.host=N.shift()););$.host||($.host=""),$.hostname||($.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),d.pathname=N.join("/")}else d.pathname=$.pathname;if(d.search=$.search,d.query=$.query,d.host=$.host||"",d.auth=$.auth,d.hostname=$.hostname||$.host,d.port=$.port,d.pathname||d.search){var ce=d.pathname||"",Z=d.search||"";d.path=ce+Z}return d.slashes=d.slashes||$.slashes,d.href=d.format(),d}var ie=d.pathname&&d.pathname.charAt(0)==="/",k=$.host||$.pathname&&$.pathname.charAt(0)==="/",B=k||ie||d.host&&$.pathname,G=B,P=d.pathname&&d.pathname.split("/")||[],N=$.pathname&&$.pathname.split("/")||[],q=d.protocol&&!_[d.protocol];if(q&&(d.hostname="",d.port=null,d.host&&(P[0]===""?P[0]=d.host:P.unshift(d.host)),d.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(N[0]===""?N[0]=$.host:N.unshift($.host)),$.host=null),B=B&&(N[0]===""||P[0]==="")),k)d.host=$.host||$.host===""?$.host:d.host,d.hostname=$.hostname||$.hostname===""?$.hostname:d.hostname,d.search=$.search,d.query=$.query,P=N;else if(N.length)P||(P=[]),P.pop(),P=P.concat(N),d.search=$.search,d.query=$.query;else if($.search!=null){if(q){d.host=P.shift(),d.hostname=d.host;var oe=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;oe&&(d.auth=oe.shift(),d.hostname=oe.shift(),d.host=d.hostname)}return d.search=$.search,d.query=$.query,(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d}if(!P.length)return d.pathname=null,d.search?d.path="/"+d.search:d.path=null,d.href=d.format(),d;for(var J=P.slice(-1)[0],Y=(d.host||$.host||P.length>1)&&(J==="."||J==="..")||J==="",se=0,be=P.length;be>=0;be--)J=P[be],J==="."?P.splice(be,1):J===".."?(P.splice(be,1),se++):se&&(P.splice(be,1),se--);if(!B&&!G)for(;se--;se)P.unshift("..");B&&P[0]!==""&&(!P[0]||P[0].charAt(0)!=="/")&&P.unshift(""),Y&&P.join("/").substr(-1)!=="/"&&P.push("");var Ne=P[0]===""||P[0]&&P[0].charAt(0)==="/";if(q){d.hostname=Ne?"":P.length?P.shift():"",d.host=d.hostname;var oe=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;oe&&(d.auth=oe.shift(),d.hostname=oe.shift(),d.host=d.hostname)}return B=B||d.host&&P.length,B&&!Ne&&P.unshift(""),P.length>0?d.pathname=P.join("/"):(d.pathname=null,d.path=null),(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.auth=$.auth||d.auth,d.slashes=d.slashes||$.slashes,d.href=d.format(),d},t.prototype.parseHost=function(){var $=this.host,T=n.exec($);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),$=$.substr(0,$.length-T.length)),$&&(this.hostname=$)},xu.parse=p,xu.resolve=y,xu.resolveObject=E,xu.format=S,xu.Url=t,xu}function kV(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Zb?poe(e):moe(e)}function poe(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(KV,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<WV||n>GV||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function moe(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function DV(e){let t=AO.resolve(e);const r=e.charCodeAt(e.length-1);(r===HV||Zb&&r===VV)&&t[t.length-1]!==AO.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(JV,"%25")),!Zb&&t.includes("\\")&&(t=t.replace(YV,"%5C")),t.includes(`
`)&&(t=t.replace(XV,"%0A")),t.includes("\r")&&(t=t.replace(QV,"%0D")),t.includes("	")&&(t=t.replace(ZV,"%09")),n.pathname=t,n}var MV,kw,xO,Dw,Mw,OO,Lw,PO,Fw,RO,Bw,NO,Uw,IO,zw,jO,xu,CO,Di,pM,LV,FV,BV,UV,zV,qV,VV,HV,WV,GV,Zb,KV,JV,YV,XV,QV,ZV,goe=nn({"../../node_modules/@jspm/core/nodelibs/browser/url.js"(){Te(),ooe(),EN(),soe(),Ig(),MV=Object.freeze(Object.create(null)),kw={},xO=!1,Dw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Mw={},OO=!1,Lw={},PO=!1,Fw={},RO=!1,Bw={},NO=!1,Uw={},IO=!1,zw={},jO=!1,xu={},CO=!1,Di=hoe(),Di.parse,Di.resolve,Di.resolveObject,Di.format,Di.Url,pM=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Di.URL=typeof URL<"u"?URL:null,Di.pathToFileURL=DV,Di.fileURLToPath=kV,LV=Di.Url,FV=Di.format,BV=Di.resolve,UV=Di.resolveObject,zV=Di.parse,qV=Di.URL,VV=92,HV=47,WV=97,GV=122,Zb=pM==="win32",KV=/\//g,JV=/%/g,YV=/\\/g,XV=/\n/g,QV=/\r/g,ZV=/\t/g}}),voe=Pe({"../../node_modules/eventsource/lib/eventsource.js"(e,t){Te();var r=(goe(),Or(jV)).parse,n=(X6(),Or(V6)),i=(sE(),Or(jg)),o=(hN(),Or(oE)),a=(uE(),Or(lE)),s=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],u=58,f=32,c=10,h=13,g=1024*256,m=/^(cookie|authorization)$/i;function _(E){return l.every(function($,T){return E[T]===$})}function v(E,$){var T=v.CONNECTING,d=$&&$.headers,A=!1;Object.defineProperty(this,"readyState",{get:function(){return T}}),Object.defineProperty(this,"url",{get:function(){return E}});var x=this;x.reconnectInterval=1e3,x.connectionInProgress=!1;function O(k){T!==v.CLOSED&&(T=v.CONNECTING,Z("error",new p("error",{message:k})),X&&(E=X,X=null,A=!1),setTimeout(function(){T!==v.CONNECTING||x.connectionInProgress||(x.connectionInProgress=!0,ce())},x.reconnectInterval))}var C,F="";d&&d["Last-Event-ID"]&&(F=d["Last-Event-ID"],delete d["Last-Event-ID"]);var V=!1,Q="",H="",X=null;function ce(){var k=r(E),B=k.protocol==="https:";if(k.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},F&&(k.headers["Last-Event-ID"]=F),d){var G=A?y(d):d;for(var P in G){var N=G[P];N&&(k.headers[P]=N)}}k.rejectUnauthorized=!($&&!$.rejectUnauthorized),$&&$.createConnection!==void 0&&(k.createConnection=$.createConnection);var q=$&&$.proxy;if(q){var oe=r($.proxy);B=oe.protocol==="https:",k.protocol=B?"https:":"http:",k.path=E,k.headers.Host=k.host,k.hostname=oe.hostname,k.host=oe.host,k.port=oe.port}if($&&$.https){for(var J in $.https)if(s.indexOf(J)!==-1){var Y=$.https[J];Y!==void 0&&(k[J]=Y)}}$&&$.withCredentials!==void 0&&(k.withCredentials=$.withCredentials),C=(B?i:o).request(k,function(se){if(x.connectionInProgress=!1,se.statusCode===500||se.statusCode===502||se.statusCode===503||se.statusCode===504){Z("error",new p("error",{status:se.statusCode,message:se.statusMessage})),O();return}if(se.statusCode===301||se.statusCode===302||se.statusCode===307){var be=se.headers.location;if(!be){Z("error",new p("error",{status:se.statusCode,message:se.statusMessage}));return}var Ne=new URL(E).origin,R=new URL(be).origin;A=Ne!==R,se.statusCode===307&&(X=E),E=be,process.nextTick(ce);return}if(se.statusCode!==200)return Z("error",new p("error",{status:se.statusCode,message:se.statusMessage})),x.close();T=v.OPEN,se.on("close",function(){se.removeAllListeners("close"),se.removeAllListeners("end"),O()}),se.on("end",function(){se.removeAllListeners("close"),se.removeAllListeners("end"),O()}),Z("open",new p("open"));var D,M,K=0,ae=-1,fe=0,de=0;se.on("data",function(pe){D?(pe.length>D.length-de&&(fe=D.length*2+pe.length,fe>g&&(fe=D.length+pe.length+g),M=Yr.alloc(fe),D.copy(M,0,0,de),D=M),pe.copy(D,de),de+=pe.length):(D=pe,_(D)&&(D=D.slice(l.length)),de=D.length);for(var xe=0,Le=de;xe<Le;){V&&(D[xe]===c&&++xe,V=!1);for(var ke=-1,nt=ae,qe,Ue=K;ke<0&&Ue<Le;++Ue)qe=D[Ue],qe===u?nt<0&&(nt=Ue-xe):qe===h?(V=!0,ke=Ue-xe):qe===c&&(ke=Ue-xe);if(ke<0){K=Le-xe,ae=nt;break}else K=0,ae=-1;ie(D,xe,nt,ke),xe+=ke+1}xe===Le?(D=void 0,de=0):xe>0&&(D=D.slice(xe,de),de=D.length)})}),C.on("error",function(se){x.connectionInProgress=!1,O(se.message)}),C.setNoDelay&&C.setNoDelay(!0),C.end()}ce();function Z(){x.listeners(arguments[0]).length>0&&x.emit.apply(x,arguments)}this._close=function(){T!==v.CLOSED&&(T=v.CLOSED,C.abort&&C.abort(),C.xhr&&C.xhr.abort&&C.xhr.abort())};function ie(k,B,G,P){if(P===0){if(Q.length>0){var N=H||"message";Z(N,new S(N,{data:Q.slice(0,-1),lastEventId:F,origin:new URL(E).origin})),Q=""}H=void 0}else if(G>0){var q=G<0,oe=0,J=k.slice(B,B+(q?P:G)).toString();q?oe=P:k[B+G+1]!==f?oe=G+1:oe=G+2,B+=oe;var Y=P-oe,se=k.slice(B,B+Y).toString();if(J==="data")Q+=se+`
`;else if(J==="event")H=se;else if(J==="id")F=se;else if(J==="retry"){var be=parseInt(se,10);Number.isNaN(be)||(x.reconnectInterval=be)}}}}t.exports=v,a.inherits(v,n.EventEmitter),v.prototype.constructor=v,["open","error","message"].forEach(function(E){Object.defineProperty(v.prototype,"on"+E,{get:function(){var T=this.listeners(E)[0];return T?T._listener?T._listener:T:void 0},set:function(T){this.removeAllListeners(E),this.addEventListener(E,T)}})}),Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(v,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(v,"CLOSED",{enumerable:!0,value:2}),v.prototype.CONNECTING=0,v.prototype.OPEN=1,v.prototype.CLOSED=2,v.prototype.close=function(){this._close()},v.prototype.addEventListener=function($,T){typeof T=="function"&&(T._listener=T,this.on($,T))},v.prototype.dispatchEvent=function($){if(!$.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit($.type,$.detail)},v.prototype.removeEventListener=function($,T){typeof T=="function"&&(T._listener=void 0,this.removeListener($,T))};function p(E,$){if(Object.defineProperty(this,"type",{writable:!1,value:E,enumerable:!0}),$)for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function S(E,$){Object.defineProperty(this,"type",{writable:!1,value:E,enumerable:!0});for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function y(E){var $={};for(var T in E)m.test(T)||($[T]=E[T]);return $}}}),yoe=Pe({"../binding-http/dist/subscription-protocols.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.SSESubscription=e.LongPollingSubscription=void 0;var r=t(voe()),n=ko(),i=(Fa(),Or(ta)),{debug:o}=(0,n.createLoggers)("binding-http","subscription-protocols"),a=class{constructor(l,u){this.form=l,this.client=u,this.closed=!1,this.abortController=new AbortController}open(l,u,f){return new Promise((c,h)=>{const g=async m=>{try{if(m){const p=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.fetch(p)).ok&&c()}const _=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});o(`HttpClient (subscribeResource) sending ${_.method} to ${_.url}`);const v=await this.client.fetch(_);if(this.client.checkFetchResponse(v),o(`HttpClient received ${v.status} from ${_.url}`),o(`HttpClient received headers: ${JSON.stringify(v.headers.raw())}`),o(`HttpClient received Content-Type: ${v.headers.get("content-type")}`),!this.closed){const p=n.ProtocolHelpers.toNodeStream(v.body);l(new n.Content(v.headers.get("content-type")??n.ContentSerdes.DEFAULT,p)),g(!1)}f&&f()}catch(_){const v=_ instanceof Error?_:new Error(JSON.stringify(_));u&&u(v),f&&f(),h(_)}};g(!0)})}close(){this.abortController.abort(),this.closed=!0}};e.LongPollingSubscription=a;var s=class{constructor(l){this.form=l,this.closed=!1}open(l,u,f){return new Promise((c,h)=>{this.eventSource=new r.default(this.form.href),this.eventSource.onopen=g=>{o(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),c()},this.eventSource.onmessage=g=>{o(`HttpClient received ${JSON.stringify(g)} from ${this.form.href}`);const m=new n.Content(this.form.contentType??n.ContentSerdes.DEFAULT,i.Readable.from(g.data));l(m)},this.eventSource.onerror=function(g){u==null||u(new Error(g.toString())),f&&f(),h(g.toString())}})}close(){var l;(l=this.eventSource)==null||l.close()}};e.SSESubscription=s}}),woe=Pe({"../binding-http/dist/http-client-impl.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(S,y,E,$){$===void 0&&($=E);var T=Object.getOwnPropertyDescriptor(y,E);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[E]}}),Object.defineProperty(S,$,T)}:function(S,y,E,$){$===void 0&&($=E),S[$]=y[E]}),r=e&&e.__setModuleDefault||(Object.create?function(S,y){Object.defineProperty(S,"default",{enumerable:!0,value:y})}:function(S,y){S.default=y}),n=e&&e.__importStar||function(){var S=function(y){return S=Object.getOwnPropertyNames||function(E){var $=[];for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&($[$.length]=T);return $},S(y)};return function(y){if(y&&y.__esModule)return y;var E={};if(y!=null)for(var $=S(y),T=0;T<$.length;T++)$[T]!=="default"&&t(E,y,$[T]);return r(E,y),E}}(),i=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((hN(),Or(oE))),a=n((sE(),Or(jg))),s=Hie(),l=ko(),u=n(FN()),f=(fc(),Or(cc)),c=i(IV()),h=RV(),g=yoe(),{debug:m,warn:_,error:v}=(0,l.createLoggers)("binding-http","http-client-impl"),p=class Yp{constructor(y=null,E=!1,$=new c.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,y!==null&&y.proxy&&y.proxy.href&&(this.proxyRequest=new u.Request(Yp.fixLocalhostName(y.proxy.href)),y.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(y.proxy,"username")||!Object.prototype.hasOwnProperty.call(y.proxy,"password"))&&_("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(y.proxy.username+":"+y.proxy.password).toString("base64"))):y.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(y.proxy,"token")||_("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+y.proxy.token)),this.proxyRequest.protocol==="https"&&(E=!0),m(`HttpClient using ${E?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),y!==null&&y.allowSelfSigned!==void 0&&(this.allowSelfSigned=y.allowSelfSigned,_("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=E?new a.Agent({rejectUnauthorized:!this.allowSelfSigned}):new o.Agent,this.provider=E?"https":"http",this.oauth=$}toString(){return"[HttpClient]"}async readResource(y){const E=y.contentType!=null?[["accept",y.contentType]]:[["accept",l.ContentSerdes.DEFAULT]],$=await this.generateFetchRequest(y,"GET",{headers:E});m(`HttpClient (readResource) sending ${$.method} to ${$.url}`);const T=await this.fetch($);this.checkFetchResponse(T),m(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`),m(`HttpClient received Content-Type: ${T.headers.get("content-type")}`);const d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??l.ContentSerdes.DEFAULT,d)}async writeResource(y,E){const $=await this.generateFetchRequest(y,"PUT",{headers:[["content-type",E.type]],body:E.body});m(`HttpClient (writeResource) sending ${$.method} with '${$.headers.get("Content-Type")}' to ${$.url}`);const T=await this.fetch($);m(`HttpClient received ${T.status} from ${T.url}`),this.checkFetchResponse(T),m(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`)}async subscribeResource(y,E,$,T){const d="longpoll";let A=y.subprotocol;A==null&&(_(`Subscribing to ${y.href} using long polling for form without subprotocol`),A=d);let x;if(A===d)x=new g.LongPollingSubscription(y,this);else if(y.subprotocol==="sse")x=new g.SSESubscription(y);else throw new Error(`HttpClient does not support subprotocol ${y.subprotocol}`);return await x.open(E,$,T),this.activeSubscriptions.set(y.href,x),new s.Subscription(()=>{x.close()})}async invokeResource(y,E){var x,O;const $=E!=null?[["content-type",E.type]]:[];((x=y.response)==null?void 0:x.contentType)!=null?$.push(["accept",(O=y.response)==null?void 0:O.contentType]):y.contentType!=null?$.push(["accept",y.contentType]):$.push(["accept",l.ContentSerdes.DEFAULT]);const T=await this.generateFetchRequest(y,"POST",{headers:$,body:E==null?void 0:E.body});m(`HttpClient (invokeResource) sending ${T.method} ${E!=null?`with '"${T.headers.get("Content-Type")}"`:""} to ${T.url}`);const d=await this.fetch(T);m(`HttpClient received ${d.status} from ${T.url}`),m(`HttpClient received Content-Type: ${d.headers.get("content-type")}`),this.checkFetchResponse(d);const A=l.ProtocolHelpers.toNodeStream(d.body);return new l.Content(d.headers.get("content-type")??l.ContentSerdes.DEFAULT,A)}async unlinkResource(y){m(`HttpClient (unlinkResource) ${y.href}`);const E=this.activeSubscriptions.get(y.href);E?E.close():_(`HttpClient cannot unlink ${y.href} no subscription found`)}async requestThingDescription(y){const E={Accept:"application/td+json"},$=await this.generateFetchRequest({href:y},"GET",E),T=await this.fetch($),d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??"application/td+json",d)}async start(){}async stop(){var y,E;(E=(y=this.agent)==null?void 0:y.destroy)==null||E.call(y)}setSecurity(y,E){if(y===void 0||!Array.isArray(y)||y.length===0)return _("HttpClient without security"),!1;const $=y[0];switch($.scheme){case"basic":{const T=$;this.credential=new h.BasicCredential(E,T);break}case"bearer":{const T=$;this.credential=new h.BearerCredential(E,T);break}case"apikey":{const T=$;this.credential=new h.BasicKeyCredential(E,T);break}case"oauth2":{const T=$;T.flow==="client"?(T.flow="client_credentials",this.credential=this.oauth.handleClient(T,E)):T.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential(T,E));break}case"TuyaCustomBearer":{this.credential=new h.TuyaCustomBearer(E,$);break}case"nosec":break;default:return v(`HttpClient cannot set security scheme '${$.scheme}'. ${y}`),!1}if($.proxy!=null){if(this.proxyRequest!==null&&m(`HttpClient overriding client-side proxy with security proxy '${$.proxy}`),this.proxyRequest=new u.Request(Yp.fixLocalhostName($.proxy)),$.scheme==="basic"){const T=E;if(T===void 0||T.username===void 0||T.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(T.username+":"+T.password).toString("base64"))}else if($.scheme==="bearer"){const T=E;if(E===void 0||T.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+T.token)}}return m(`HttpClient using security scheme '${$.scheme}'`),!0}async generateFetchRequest(y,E,$={}){const T=$,d=Yp.fixLocalhostName(y.href);if(T.method=y["htv:methodName"]?y["htv:methodName"]:E,T.headers=T.headers??[],T.headers=T.headers,Array.isArray(y["htv:headers"])){m(`HttpClient got Form 'headers' ${y["htv:headers"]}`);const x=y["htv:headers"];for(const O of x)T.headers=T.headers.filter(C=>C[0].toLowerCase()!==O["htv:fieldName"].toLowerCase()),T.headers.push([O["htv:fieldName"],O["htv:fieldValue"]])}else if(typeof y["htv:headers"]=="object"){m(`HttpClient got Form SINGLE-ENTRY 'headers' ${y["htv:headers"]}`);const x=y["htv:headers"];T.headers=T.headers.filter(O=>O[0].toLowerCase()!==x["htv:fieldName"].toLowerCase()),T.headers.push([x["htv:fieldName"],x["htv:fieldValue"]])}T.agent=this.agent;let A=this.proxyRequest?new u.Request(this.proxyRequest,T):new u.Request(d,T);if(this.credential&&(A=await this.credential.sign(A)),this.proxyRequest){const x=new URL(d);A.url=A.url+x.pathname,m(`HttpClient proxy request URL: ${A.url}`),A.headers.set("host",x.hostname)}return A}async fetch(y,E){const $=await(0,u.default)(y,{body:E==null?void 0:E.body});return Yp.isOAuthTokenExpired($,this.credential)?(this.credential=await this.credential.refreshToken(),await(0,u.default)(await this.credential.sign(y))):$}checkFetchResponse(y){const E=y.status;if(E<200)throw new Error(`HttpClient received ${E} and cannot continue (not implemented, open GitHub Issue)`);if(!(E<300))throw E<400?new Error(`HttpClient received ${E} and cannot continue (not implemented, open GitHub Issue)`):E<500?new Error(`Client error: ${y.statusText}`):new Error(`Server error: ${y.statusText}`)}static isOAuthTokenExpired(y,E){return y.status===401&&E instanceof h.OAuthCredential}static fixLocalhostName(y){const E=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return E.test(y)?(_("LOCALHOST FIX"),y.replace(E,"$1$2127.0.0.1")):y}};e.default=p}}),e_=Pe({"../binding-http/dist/http-client-browser.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=ko(),n=(Fa(),Or(ta)),i=t(woe()),o=class extends i.default{async generateFetchRequest(a,s,l){if((l==null?void 0:l.body)instanceof n.Readable){const u=await r.ProtocolHelpers.readStreamFully(l.body);l.body=u}return super.generateFetchRequest(a,s,l)}};e.default=o}}),mM=Pe({"../binding-http/dist/http-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=ko(),n=t(e_()),i=t(IV()),{debug:o,warn:a}=(0,r.createLoggers)("binding-http","http-client-factory"),s=class{constructor(l=null){this.scheme="http",this.config=null,this.oAuthManager=new i.default,this.config=l}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(a("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new n.default(this.config,!0,this.oAuthManager)):(o(`HttpClientFactory creating client for '${this.scheme}'`),new n.default(this.config))}init(){return!0}destroy(){return!0}};e.default=s}}),gM=Pe({"../binding-http/dist/https-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=ko(),n=t(e_()),{debug:i,warn:o}=(0,r.createLoggers)("binding-http","https-client-factory"),a=class{constructor(s=null){this.scheme="https",this.config=null,this.config=s}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(o("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new n.default(this.config)):(i(`HttpsClientFactory creating client for '${this.scheme}'`),new n.default(this.config,!0))}init(){return!0}destroy(){return!0}};e.default=a}}),boe=Pe({"../binding-http/dist/http-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(c,h,g,m){m===void 0&&(m=g);var _=Object.getOwnPropertyDescriptor(h,g);(!_||("get"in _?!h.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(c,m,_)}:function(c,h,g,m){m===void 0&&(m=g),c[m]=h[g]}),r=e&&e.__exportStar||function(c,h){for(var g in c)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&t(h,c,g)},n=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpForm=e.HttpHeader=e.HttpsClientFactory=e.HttpClientFactory=e.HttpClient=void 0;var i=ko(),o=FN(),a=e_();Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n(a).default}});var s=mM();Object.defineProperty(e,"HttpClientFactory",{enumerable:!0,get:function(){return n(s).default}});var l=gM();Object.defineProperty(e,"HttpsClientFactory",{enumerable:!0,get:function(){return n(l).default}}),r(e_(),e),r(mM(),e),r(gM(),e);var u=class{};e.HttpHeader=u;var f=class extends i.Form{};e.HttpForm=f,o.Headers.prototype.raw=function(){const c={};for(const[h,g]of this.entries())c[h]=g.split(",");return c},o.Response.prototype.buffer=async function(){return Yr.from(await this.arrayBuffer())}}}),kO=Pe({"../binding-websockets/dist/ws-client.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ko(),{debug:r,warn:n}=(0,t.createLoggers)("binding-websockets","ws-client"),i=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(o){return new Promise((a,s)=>{})}writeResource(o,a){return new Promise((s,l)=>{})}invokeResource(o,a){return new Promise((s,l)=>{})}unlinkResource(o){return new Promise((a,s)=>{})}subscribeResource(o,a,s,l){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(o){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(o,a){if(o===void 0||!Array.isArray(o)||o.length===0)return n("WebSocketClient received empty security metadata"),!1;const s=o[0];return r(`WebSocketClient using security scheme '${s.scheme}'`),!0}};e.default=i}}),vM=Pe({"../binding-websockets/dist/ws-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=ko(),n=t(kO()),{debug:i}=(0,r.createLoggers)("binding-websockets","ws-client-factory"),o=class{constructor(a=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=a}getClient(){return i(`HttpClientFactory creating client for '${this.scheme}'`),new n.default}init(){return!0}destroy(){return!0}};e.default=o}}),yM=Pe({"../binding-websockets/dist/wss-client-factory.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};e.default=t}}),_oe=Pe({"../binding-websockets/dist/ws-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(s,l,u,f){f===void 0&&(f=u);var c=Object.getOwnPropertyDescriptor(l,u);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,f,c)}:function(s,l,u,f){f===void 0&&(f=u),s[f]=l[u]}),r=e&&e.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,s,u)},n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketSecureClientFactory=e.WebSocketClientFactory=e.WebSocketClient=void 0;var i=kO();Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return n(i).default}});var o=vM();Object.defineProperty(e,"WebSocketClientFactory",{enumerable:!0,get:function(){return n(o).default}});var a=yM();Object.defineProperty(e,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return n(a).default}}),r(kO(),e),r(vM(),e),r(yM(),e)}});Te();var Eoe=nN(ko()),Soe=nN(boe());nN(_oe());const UN=new Eoe.Servient;UN.addClientFactory(new Soe.HttpClientFactory);console.log("init servient");const e8={readproperty:{color:"Green",title:"Read",level:"properties",callback:t8},writeproperty:{color:"Blue",title:"Write",level:"properties",callback:Toe},observeproperty:{color:"Orange",title:"Observe",level:"properties",callback:null},unobserveproperty:{color:"Red",title:"Unobserve",level:"properties",callback:null},invokeaction:{color:"Orange",title:"Invoke",level:"actions",callback:null},subscribeevent:{color:"Orange",title:"Subscribe",level:"events",callback:null},unsubscribeevent:{color:"Red",title:"Unsubscribe",level:"events",callback:null},readmultipleproperties:{color:"Green",title:"Read Multiple",level:"thing",callback:null},readallproperties:{color:"Green",title:"Read All",level:"thing",callback:null},writemultipleproperties:{color:"Blue",title:"Write Multiple",level:"thing",callback:null},writeallproperties:{color:"Blue",title:"Write All",level:"thing",callback:null},observeallproperties:{color:"Orange",title:"Observe All",level:"thing",callback:null},unobserveallproperties:{color:"Red",title:"Unobserve All",level:"thing",callback:null}};function yd(e){return e.replace(/^"|"$/g,"")}const $oe=(e,t)=>{try{switch(e){case"boolean":return yd(t).toLowerCase()==="true";case"integer":const r=parseInt(yd(t),10);if(isNaN(r))throw new Error(`Error on convert "${t}" to an integer.`);return r;case"number":const n=parseFloat(yd(t));if(isNaN(n))throw new Error(`Error on convert "${t}" to a number.`);return n;case"string":return yd(t);case"array":let i=yd(t);if(Array.isArray(i))return i;try{const o=JSON.parse(i);if(Array.isArray(o))return o}catch{throw new Error(`Error on convert "${t}" to an array.`)}case"object":try{return JSON.parse(yd(t))}catch{throw new Error(`Error on convert "${t}" to an object.`)}default:throw new Error(`Unsupported type: "${e}".`)}}catch(r){console.error(`Failed to parse content for ${e}:`,r)}};async function t8(e,t,r){try{const o=await(await(await UN.start()).consume(e)).readProperty(t,r);o.ignoreValidation=!0;const a=await o.value();return{result:JSON.stringify(a,null,2),err:null}}catch(n){return console.debug(n),{result:"",err:n}}}async function Toe(e,t,r){try{const n=e.properties[t].type,i=$oe(n,r);return await(await(await UN.start()).consume(e)).writeProperty(t,i),{result:`Successfully wrote ${JSON.stringify(i).length>50?JSON.stringify(i).slice(0,50)+"...":JSON.stringify(i)} to '${t}'.`,err:null}}catch(n){return console.debug(n),{result:"",err:n}}}const Aoe=({formType:e,form:t,interactionFunction:r})=>{const n=Ce.useContext(pn),[i,o]=Ce.useState(""),[a,s]=Ce.useState(!1),[l,u]=Ce.useState(null),[f,c]=Ce.useState(null),h=e8[e];if(!h)return re.jsx(re.Fragment,{});const g=re.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:re.jsx("div",{className:`text-form${h.color} place-self-center px-4 text-center`,children:h.title})}),m=async()=>{if(!r)return;s(!0);const _=await r(n.parsedTD,t.propName,i);_.err!==null?(c(_.err.message),u(null)):(c(null),u(_.result)),s(!1),o("")};return re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:`flex min-h-12 w-full items-stretch bg-opacity-75 bg-form${h.color} mt-2 ${a||l!==null||f!=null||t.op==="writeproperty"?"rounded-t-md":"rounded-md"} border-2 pl-4 border-form${h.color}`,children:[r&&re.jsx("button",{onClick:m,children:g}),!r&&re.jsx("div",{className:"flex",children:g}),re.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:t.href}),(f!==null||l!==null)&&re.jsx("button",{className:`flex min-w-10 items-center justify-center border-r-2 border-form${h.color} bg-form${h.color}`,onClick:()=>{c(null),u(null)},children:re.jsx(kR,{size:16,color:"white"})}),re.jsx("button",{className:`flex min-w-10 items-center justify-center bg-form${h.color}`,onClick:()=>n.removeForm(h.level,t.propName,t,t.actualIndex),children:re.jsx(uc,{size:16,color:"white"})})]}),t.op==="writeproperty"&&re.jsx("form",{onSubmit:_=>{_.preventDefault(),m()},children:re.jsx("input",{type:"text",placeholder:"Input a value and hit write...",value:i,onChange:_=>o(_.target.value),className:`flex w-full overflow-auto bg-white px-4 py-2 ${l!==null||f!=null?"border-b-2 border-gray-300":"rounded-b-md"}`})}),a!==!1&&re.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:re.jsx("div",{className:"p-4 text-black",children:"Waiting for a response..."})}),f!==null&&re.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:re.jsxs("div",{className:"text-formRed p-4",children:["Error: ",f]})}),l!==null&&re.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:re.jsx("div",{className:"p-4 text-black",children:l})})]})},xoe=({level:e,form:t})=>{const r=Ce.useContext(pn);return re.jsxs("div",{className:"flex min-h-10 w-full items-stretch rounded-md border-2 border-gray-300 bg-gray-300 bg-opacity-75 pl-4",children:[re.jsx("div",{className:"flex h-6 min-w-20 justify-center place-self-center rounded-md bg-white",children:re.jsx("div",{className:"place-self-center px-4 text-center text-xs text-black",children:"Undefined"})}),re.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-white",children:t.href}),re.jsx("button",{className:"flex w-10 items-center justify-center bg-gray-300",onClick:()=>r.removeForm(e,t.propName,t,t.actualIndex),children:re.jsx(uc,{size:16,color:"black"})})]})},Ooe=e=>({action:"actions",property:"properties",event:"events",thing:"thing"})[e],EE=e=>{e.form.propName=e.propName;const t=e8[e.form.op];return t?re.jsx(re.Fragment,{children:re.jsx(Aoe,{formType:e.form.op,form:e.form,interactionFunction:t.callback})}):re.jsx(xoe,{level:Ooe(e.interactionType),form:e.form})},zN=e=>re.jsxs(re.Fragment,{children:[re.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),re.jsx("textarea",{id:e.id,rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder})]}),ns=e=>re.jsxs("div",{className:"py-1",children:[re.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),re.jsx("input",{name:e.id,id:e.id,className:` ${e.className} w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`,placeholder:e.placeholder,type:e.type??"text",autoFocus:e.autoFocus??!1,onChange:e.onChange,value:e.value}),re.jsx("span",{id:`${e.id}-helper-text`,className:"pl-2 text-xs text-red-400"})]},e.id),r8=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState(()=>!1),o="action",a="actions",s=o[0].toUpperCase()+o.slice(1);Ce.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=re.jsxs(re.Fragment,{children:[re.jsx(ns,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>g()}),re.jsx(zN,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}const m=document.getElementById(`${o}-title`),_=document.getElementById(`${o}-description`),v={title:m.value,description:_.value||void 0,forms:[]},p=r.parsedTD;p[a]&&p[a][v.title]?h(`An ${s} with this title already exists...`):(p[a]={...p[a],[v.title]:v},r.updateOfflineTD(JSON.stringify(p,null,2)),u())},h=m=>{document.getElementById(`${o}-title-helper-text`).textContent=m,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},g=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ys.createPortal(re.jsx(La,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null});r8.displayName="AddActionDialog";const n8=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState(()=>!1),o="event",a="events",s=o[0].toUpperCase()+o.slice(1);Ce.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=re.jsxs(re.Fragment,{children:[re.jsx(ns,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>g()}),re.jsx(zN,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`})]}),c=()=>{const m={title:document.getElementById(`${o}-title`).value,forms:[]},_=document.getElementById(`${o}-description`).value;if(_!==""&&(m.description=_),m.forms=[],!r.isValidJSON){h("Can't add Event. TD is malformed.");return}const v=r.parsedTD;v[a]&&v[a][m.title]?h(`An ${s} with this title already exists...`):(v[a]={...v[a],[m.title]:m},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},h=m=>{document.getElementById(`${o}-title-helper-text`).textContent=m,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},g=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ys.createPortal(re.jsx(La,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null});n8.displayName="AddEventDialog";const wM=e=>re.jsxs("div",{className:"form-checkbox pl-2",children:[e.readOnly??!0?re.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):re.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),re.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id),Poe=e=>re.jsxs(re.Fragment,{children:[re.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),re.jsxs("div",{className:`relative ${e.className??""} `,children:[re.jsx("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map(t=>re.jsx("option",{children:t},t))}),re.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:re.jsx(wf,{color:"#cacaca"})})]})]}),bM="undefined",i8=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState(()=>!1),o="property",a="properties",s=o[0].toUpperCase()+o.slice(1);Ce.useEffect(()=>{},[n,r]),Ce.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=re.jsxs(re.Fragment,{children:[re.jsx(ns,{id:`${o}-title`,label:"Title",placeholder:`${s} Title`,autoFocus:!0,onChange:()=>g()}),re.jsx(zN,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${s}...`}),re.jsx(Poe,{id:`${o}-type`,label:"Type",options:[bM,"number","integer","boolean","string","object","array"]}),re.jsx("div",{className:"h-2"}),re.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Additional:"}),re.jsxs("div",{id:"additional",className:"rounded-md bg-gray-600 p-1",children:[re.jsx(wM,{id:`${o}-readOnly`,label:"Read Only"}),re.jsx(wM,{id:`${o}-observable`,label:"Observable"})]})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}const m={title:document.getElementById(`${o}-title`).value,observable:document.getElementById(`${o}-observable`).checked,readOnly:document.getElementById(`${o}-readOnly`).checked,forms:[]},_=document.getElementById(`${o}-description`).value;_!==""&&(m.description=_);const v=document.getElementById(`${o}-type`).value;v!==bM&&(m.type=v),v==="array"?m.items={}:v==="object"&&(m.properties={}),m.forms=[];const p=r.parsedTD;p[a]&&p[a][m.title]?h(`A ${s} with this title already exists...`):(p[a]={...p[a],[m.title]:m},r.updateOfflineTD(JSON.stringify(p,null,2)),u())},h=m=>{document.getElementById(`${o}-title-helper-text`).textContent=m,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},g=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ys.createPortal(re.jsx(La,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${s}`,children:f,title:`Add New ${s}`,description:`Tell us a little something about the ${s} you want to add.`}),document.getElementById("modal-root")):null});i8.displayName="AddPropertyDialog";const qN=({onClick:e})=>re.jsx("button",{className:"border-formBlue bg-formBlue flex min-h-10 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",onClick:e,children:re.jsxs("div",{className:"flex items-center justify-center",children:[re.jsx(WR,{color:"white",size:"20"}),re.jsx("div",{className:"pl-2 text-center text-white",children:"Click to add Form..."})]})}),Roe=["title","forms","description"],Noe=e=>{const t=Ce.useContext(pn),[r,n]=Ce.useState(!1),i=Je.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.action).length===0&&e.action.constructor!==Object)return re.jsx("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const a=e.action,s=W_(e.action.forms),l=H_({name:e.actionName},e.action,Roe),u=Object.keys(l).map(c=>re.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("actions",e.actionName)};return re.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[re.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[re.jsx("h3",{className:"flex-grow px-2",children:a.title??e.actionName}),r&&re.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:re.jsx(uc,{size:16,color:"white"})})]}),re.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&re.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),re.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),re.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:re.jsx(al,{className:"flex-grow",tooltip:Og(),id:"actions",children:re.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),re.jsx(qN,{onClick:o}),re.jsx(Sg,{type:"action",interaction:a,interactionName:e.actionName,ref:i}),s.map((c,h)=>re.jsx(EE,{form:c,propName:e.actionName,interactionType:"action"},`${h}-${c.href}`))]})]})},Ioe=["title","forms","description"],joe=e=>{const t=Ce.useContext(pn),[r,n]=Ce.useState(!1),i=Je.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.event).length===0&&e.event.constructor!==Object)return re.jsx("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const a=e.event,s=W_(e.event.forms),l=H_({name:e.eventName},e.event,Ioe),u=Object.keys(l).map(c=>re.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("events",e.eventName)};return re.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[re.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[re.jsx("div",{className:"flex-grow px-2",children:a.title??e.eventName}),r&&re.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:re.jsx(uc,{size:16,color:"white"})})]}),re.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&re.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),re.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),re.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:re.jsx(al,{className:"flex-grow",tooltip:Og(),id:"events",children:re.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),re.jsx(qN,{onClick:o}),re.jsx(Sg,{type:"event",interaction:a,interactionName:e.eventName,ref:i}),s.map((c,h)=>re.jsx(EE,{form:c,propName:e.eventName,interactionType:"event"},`${h}-${c.href}`))]})]})},Coe=["title","forms","description"],koe=e=>{const t=Ce.useContext(pn),[r,n]=Ce.useState(!1),i=Je.useRef(e),o=()=>{i.current.openModal()};if(Object.keys(e.prop).length===0&&e.prop.constructor!==Object)return re.jsx("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const a=e.prop,s=W_(structuredClone(e.prop.forms)),l=H_({name:e.propName},e.prop,Coe),u=Object.keys(l).map(c=>re.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("properties",e.propName)};return re.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[re.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[re.jsx("h3",{className:"flex-grow px-2",children:a.title??e.propName}),r&&re.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:re.jsx(uc,{size:16,color:"white"})})]}),re.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[a.description&&re.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:a.description}),re.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),re.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:re.jsx(al,{tooltip:Og(),id:"properties",children:re.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),re.jsx(qN,{onClick:o}),re.jsx(Sg,{type:"property",interaction:a,interactionName:e.propName,ref:i}),s.map((c,h)=>re.jsx(EE,{propName:e.propName,form:c,interactionType:"property"},`${h}-${c.href}`))]})]})},Doe=e=>re.jsxs("div",{className:"relative text-gray-600",children:[re.jsx("input",{type:"search",autoComplete:"on",className:"caret-gray h-9 place-self-center rounded-lg bg-gray-600 px-5 pr-10 text-sm text-white focus:outline-none",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),re.jsx("div",{disabled:!0,type:"submit",className:"absolute right-0 top-0 mr-4 mt-1 cursor-default",children:re.jsx(QR,{color:"#2c2c2e"})})]}),o8=({value:e,onUpdate:t,inferiorLimit:r,superiorLimit:n=1e5})=>{const i=a=>{a.stopPropagation();const s=e<n?e+1:r;t(s)},o=a=>{a.stopPropagation();const s=e>r?e-1:n;t(s)};return re.jsx(re.Fragment,{children:re.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[re.jsx("div",{className:"col-span-0"}),re.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white",children:re.jsx("h1",{children:e.toString()})}),re.jsxs("div",{className:"col-span-4 flex h-full w-full",children:[re.jsx("button",{className:"justify-centers flex h-full w-full cursor-pointer items-center bg-gray-600",onClick:i,children:re.jsx(GR,{size:18,color:"white"})}),re.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:o,children:re.jsx(HR,{size:18,color:"white"})})]})]})})},_M=({idIcon:e,onUpdateIncrement:t,tooltip:r,textLabel:n,valueButton:i,inferiorLimit:o,superiorLimit:a})=>re.jsx(re.Fragment,{children:re.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[re.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:re.jsx(al,{tooltip:r,id:e,children:re.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),re.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:re.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[re.jsx("div",{className:"col-span-12"}),re.jsx("div",{className:"col-span-12",children:re.jsx("div",{className:"grid h-full w-full grid-cols-12",children:re.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:re.jsx(o8,{value:i,onUpdate:t,inferiorLimit:o,superiorLimit:a})})})}),re.jsx("div",{className:"col-span-12"})]})})]})}),t_=({value:e,description:t,className:r,onClick:n})=>re.jsxs("div",{className:"grid h-full w-full grid-cols-12 pb-1 pt-1",children:[t?re.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center font-bold text-white",children:t}):re.jsx("div",{className:"col-span-0"}),re.jsx("div",{className:`${t?"col-span-4":"col-span-8"} flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white`,children:re.jsx("h1",{children:e.toString()})}),re.jsx("div",{className:"col-span-2 h-full w-full pr-1",children:re.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:n,children:re.jsx(KR,{size:16,color:"white"})})})]}),EM=({idIcon:e,onUpdateIncrement:t,tooltip:r,textLabel:n,valueButton:i})=>re.jsx(re.Fragment,{children:re.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[re.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:re.jsx(al,{tooltip:r,id:e,children:re.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),re.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:re.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[re.jsx("div",{className:"col-span-12"}),re.jsx("div",{className:"col-span-12",children:re.jsx("div",{className:"grid h-full w-full grid-cols-12",children:re.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:re.jsx(t_,{description:"",value:i,onClick:()=>t(!i)})})})}),re.jsx("div",{className:"col-span-12"})]})})]})}),SM=({idIcon:e,tooltip:t,textLabel:r,firstDescription:n,firstValue:i,firsthandleOnClick:o,secondDescription:a,secondValue:s,secondhandleOnClick:l})=>re.jsx(re.Fragment,{children:re.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[re.jsx("div",{className:"col-span-4 flex items-center justify-center rounded-l-md bg-blue-500",children:re.jsx(al,{tooltip:t,id:e,children:re.jsx("h1",{className:"p-2 font-bold text-white",children:r})})}),re.jsx("div",{className:"col-span-8 rounded-r-md",children:re.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[re.jsx("div",{id:"firstRow",className:"col-span-12 rounded-tr-md bg-blue-500",children:re.jsx(t_,{description:n,value:i,onClick:()=>o(i,n)})}),re.jsx("div",{id:"secondRow",className:"col-span-12 rounded-br-md bg-blue-500",children:re.jsx(t_,{description:a,value:s,onClick:()=>l(s,a)})})]})})]})}),Moe=e=>{const t=Ce.useContext(pn),r=t.parsedTD,[n,i]=Ce.useState(0),[o,a]=Ce.useState(!0),[s,l]=Ce.useState({wordSwap:!1,byteSwap:!1}),u=(m,_,v)=>{r.properties&&(Object.entries(r.properties).forEach(([p,S])=>{S.forms&&S.forms.forEach(y=>{if(!y.href){alert(`Form href is empty on property: ${p}`);return}(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))&&(v==="endianness"?m==="wordSwap"?y["modbus:mostSignificantWord"]=_:m==="byteSwap"&&(y["modbus:mostSignificantByte"]=_):y[m]=_)})}),t.updateOfflineTD(JSON.stringify(r,null,2)))},f=m=>{i(m),u("modbus:unitID",m)},c=m=>{a(m),u("modbus:zeroBasedAddressing",m)},h=(m,_)=>{l(v=>({...v,[_]:m})),u(_,m,"endianness")},g=Je.useMemo(()=>{const m={unitID:!0,zeroBasedAddressing:!0,mostSignificantWord:!0,mostSignificantByte:!0};if(!r.properties)return m;const _={},v={unitID:!1,zeroBasedAddressing:!1,mostSignificantWord:!1,mostSignificantByte:!1};for(const[p,S]of Object.entries(r.properties))if(S.forms){for(const y of S.forms)if(y.href&&(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))){const E=y["modbus:unitID"];E!==void 0&&(v.unitID?E!==_.unitID&&(m.unitID=!1):(_.unitID=E,v.unitID=!0,n!==E&&i(E)));const $=y["modbus:zeroBasedAddressing"];$!==void 0&&(v.zeroBasedAddressing?$!==_.zeroBasedAddressing&&(m.zeroBasedAddressing=!1):(_.zeroBasedAddressing=$,v.zeroBasedAddressing=!0,o!==$&&a($)));const T=y["modbus:mostSignificantWord"];T!==void 0&&(v.mostSignificantWord?T!==_.mostSignificantWord&&(m.mostSignificantWord=!1):(_.mostSignificantWord=T,v.mostSignificantWord=!0,s.wordSwap!==T&&l(A=>({...A,wordSwap:T}))));const d=y["modbus:mostSignificantByte"];d!==void 0&&(v.mostSignificantByte?d!==_.mostSignificantByte&&(m.mostSignificantByte=!1):(_.mostSignificantByte=d,v.mostSignificantByte=!0,s.byteSwap!==d&&l(A=>({...A,byteSwap:d}))))}}return m},[r.properties,e.isBaseModbus,n,o,s]);return re.jsx(re.Fragment,{children:re.jsxs("div",{className:"grid grid-cols-12 gap-1 rounded-t-md bg-gray-600 px-2",children:[re.jsx("div",{className:"col-span-12 rounded-md bg-gray-600 px-2",children:e.isBaseModbus?re.jsx("h1",{className:"py-1 text-xl text-white",children:"Group Controls"}):re.jsx("div",{})}),re.jsx("div",{id:"unitId",className:`col-span-4 px-2 ${g.unitID?"h-16":"h-full"}`,children:g.unitID?re.jsx(_M,{idIcon:"unitId",textLabel:"Unit ID",onUpdateIncrement:f,inferiorLimit:0,superiorLimit:255,tooltip:GT(),valueButton:n}):re.jsx(re.Fragment,{children:re.jsxs("div",{className:"flex h-full flex-col",children:[re.jsx("div",{className:"flex-grow",children:re.jsx(_M,{idIcon:"unitId",textLabel:"Unit ID",onUpdateIncrement:f,inferiorLimit:0,superiorLimit:255,tooltip:GT(),valueButton:n})}),re.jsx("div",{className:"rounded-md p-1 text-center",children:re.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different unit id is detected on different affordances. Clicking + or - will set all to the same value"})})]})})}),re.jsx("div",{id:"addressOffset",className:`col-span-4 px-2 ${g.zeroBasedAddressing?"h-16":"h-full"}`,children:g.zeroBasedAddressing?re.jsx(EM,{idIcon:"addressOffset",tooltip:KT(),textLabel:"Address Offset",valueButton:o,onUpdateIncrement:()=>c(!o)}):re.jsx(re.Fragment,{children:re.jsxs("div",{className:"flex h-full flex-col",children:[re.jsx("div",{className:"flex-grow",children:re.jsx(EM,{idIcon:"addressOffset",tooltip:KT(),textLabel:"Address Offset",valueButton:o,onUpdateIncrement:()=>c(!o)})}),re.jsx("div",{className:"rounded-md p-1 text-center",children:re.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different address offset is detected on different affordances. Clicking to swap and set all to the same value"})})]})})}),re.jsx("div",{id:"endianness",className:`col-span-4 px-2 ${g.mostSignificantByte&&g.mostSignificantWord?"h-16":"h-full"}`,children:g.mostSignificantByte&&g.mostSignificantWord?re.jsx(SM,{idIcon:"endianness",tooltip:JT(),textLabel:"Endianness",firstDescription:"wordswap",firstValue:s.wordSwap,firsthandleOnClick:(m,_)=>h(!s.wordSwap,"wordSwap"),secondDescription:"byteswap",secondValue:s.byteSwap,secondhandleOnClick:()=>h(!s.byteSwap,"byteSwap")}):re.jsxs(re.Fragment,{children:[re.jsx("div",{className:"col-span-12",children:re.jsx(SM,{idIcon:"endianness",tooltip:JT(),textLabel:"Endianness",firstDescription:"wordswap",firstValue:s.wordSwap,firsthandleOnClick:(m,_)=>h(!s.wordSwap,"wordSwap"),secondDescription:"byteswap",secondValue:s.byteSwap,secondhandleOnClick:()=>h(!s.byteSwap,"byteSwap")})}),re.jsx("div",{className:"col-span-12 p-1",children:re.jsx("div",{className:"rounded-md text-center",children:re.jsxs("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:["Different endianness (",[!g.mostSignificantWord&&"wordSwap",!g.mostSignificantByte&&"byteSwap"].filter(Boolean).join(" and "),") is detected on different affordances. Clicking to swap and set all to the same value"]})})})]})})]})})},Loe=({items:e,page:t=1,itemsPerPage:r=10,filter:n=()=>!0,onItemsChange:i,children:o})=>{const[a,s]=Ce.useState(t),l=Ce.useMemo(()=>e.filter(n),[e,n]),u=Ce.useMemo(()=>{const m=(a-1)*r;return l.slice(m,m+r)},[l,a,r]),f=Ce.useMemo(()=>Math.ceil(l.length/r),[l,r]),c=a===1,h=a===f,g=m=>{m<1||m>f||s(m)};return Ce.useEffect(()=>{i&&i(u)},[u,i]),Ce.useEffect(()=>{a>f&&s(1)},[l,f,a]),re.jsxs("div",{className:"flex flex-col",children:[re.jsx("div",{className:"overflow-x-auto",children:o({items:u})}),l.length>r&&re.jsxs("div",{className:"mt-4 flex w-full items-center justify-end gap-3 text-white",children:[re.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:c,onClick:()=>g(a-1),children:re.jsx("span",{className:"px-2 font-bold text-white",children:"<"})}),Array.from({length:f},(m,_)=>_+1).map(m=>re.jsx("div",{className:`cursor-pointer text-lg ${a===m?"text-coral font-black":""}`,onClick:()=>g(m),children:m},m)),re.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:h,onClick:()=>g(a+1),children:re.jsx("span",{className:"px-2 font-bold text-white",children:">"})})]})]})},qw=e=>{const t=e.split(" - ");return parseInt(t[1],10)},Foe=(e,t)=>{let r=t+1;return t===0?e:e+` (form ${String(r)})`},Boe=e=>(e.startsWith("modbus:")&&(e=e.replace("modbus:","")),e.startsWith("propName")&&(e="Property Name"),e.startsWith("href")&&(e="Resource"),e.startsWith("htv:methodName")&&(e="Method"),e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e.charAt(0).toUpperCase()+e.slice(1)),Uoe=e=>/^(https?:\/\/)([\w.-]+)(:\d+)?(\/[^\s]*)?$/i.test(e),zoe=({contrast:e=!1,filter:t="",headers:r,items:n,itemsPerPage:i=6,orderBy:o="",order:a="asc",onRowClick:s,onCellClick:l,onSendRequestClick:u,className:f="",renderItem:c,placeholder:h})=>{const g=Ce.useMemo(()=>{const E=typeof t=="function"?t:($=>T=>!($!=null&&$.trim())||Object.values(T).some(d=>String(d).toLowerCase().indexOf(($||"").toLowerCase())>=0))(t);return n.filter(E)},[n,t]),m=Ce.useMemo(()=>{if(!o)return g;const y=a==="asc"?[1,-1]:[-1,1];return[...g].sort((E,$)=>E[o]>$[o]?y[0]:E[o]<$[o]?y[1]:0)},[g,o,a]),[_,v]=Ce.useState({});Ce.useEffect(()=>{const y=n.reduce((E,$)=>($.id&&(E[$.id]={value:"",error:""}),E),{});v(y)},[n]);const p=(y,E,$,T)=>re.jsx("select",{value:y,onChange:d=>l==null?void 0:l(T,$,d.target.value),className:"h-full w-full rounded bg-gray-600 px-2 py-1",children:E.map(d=>re.jsx("option",{value:d,children:d},d))}),S=(y,E)=>{var T,d,A,x,O,C,F;if(c)return c(y,E);const $=y[E];switch(E){case"previewValue":return y.href.startsWith("http")||y.href.startsWith("https")||y.href.startsWith("ws")||y.href.startsWith("wss")?re.jsxs("div",{className:`flex h-full w-full items-center justify-center ${(T=_[y.id])!=null&&T.error?"bg-red-500 text-white":""} ${(d=_[y.id])!=null&&d.value?"bg-formGreen text-black":""} `,onClick:async()=>{if(u){const Q=await u(y);v(H=>({...H,[y.id]:Q}))}},children:[((A=_[y.id])==null?void 0:A.error)&&re.jsxs("div",{className:"flex items-center justify-center",children:[re.jsx("h1",{className:"px-2",children:"Error"}),re.jsx(Gc,{id:"info",html:`Error description: ${_[y.id].error}`,color:"white",IconComponent:Ym})]}),!((x=_[y.id])!=null&&x.error)&&!((O=_[y.id])!=null&&O.value)&&re.jsx(Gc,{id:"check",html:"Click to send request",IconComponent:Xm,size:20}),!((C=_[y.id])!=null&&C.error)&&((F=_[y.id])==null?void 0:F.value)&&re.jsxs("div",{className:"flex h-full w-full items-center justify-center",children:[re.jsx("h1",{className:"px-2",children:_[y.id].value}),re.jsx(Gc,{id:"checkCircle",html:"Successful read property in the device",IconComponent:jR,size:20})]})]}):re.jsxs("div",{className:"flex h-full w-full items-center justify-center",children:[re.jsx("h1",{className:"px-2",children:"Unable"}),re.jsx(Gc,{id:"xCircle",html:"Unable to perform non HTTP or WebSocket operations",IconComponent:tN,size:20})]});case"propName":let V=y.description?y.description:"No description available";return re.jsxs("div",{className:"flex h-full w-full items-center px-1",onClick:()=>s==null?void 0:s(y,"viewProperty"),children:[re.jsx("div",{className:"flex h-full w-full items-center",children:Foe(y.propName,qw(y.id))}),re.jsx("div",{className:"items-center justify-center px-1",children:re.jsx(Gc,{id:"info",html:`Property description: ${V}`,IconComponent:xg})})]});case"editForm":return re.jsx("div",{className:"flex h-full w-full items-center justify-center px-2",onClick:()=>s==null?void 0:s(y,"viewPropertyElementForm"),children:re.jsx(Gc,{id:"edit",html:"Click to preview property",IconComponent:LR,size:20})});case"modbus:entity":return p($,["Coil","DiscreteInput","HoldingRegister","InputRegister"],E,y);case"modbus:function":return p($,["readCoil","readDeviceIdentification","readDiscreteInput","readHoldingRegisters","readInputRegisters","writeMultipleCoils","writeMultipleHoldingRegisters","writeSingleCoil","writeSingleHoldingRegister"],E,y);case"modbus:type":return p($,["integer","boolean","string","float","decimal","byte","short","int","long","unsignedByte","unsignedShort","unsignedInt","unsignedLong","double","hexBinary"],E,y)}return $==null?"-":typeof $=="boolean"?re.jsx(t_,{onClick:V=>{V.stopPropagation(),l==null||l(y,E,!$)},value:$,description:"",className:""}):typeof $=="string"?re.jsxs("div",{className:"group relative",children:[re.jsx("input",{type:"text",value:$,onChange:V=>l==null?void 0:l(y,E,V.target.value),onBlur:V=>l==null?void 0:l(y,E,V.target.value),className:"w-full truncate border-none bg-gray-600 px-2 py-1 text-center text-sm font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-500",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:$.length>10?$:void 0}),re.jsx("div",{className:"absolute left-0 top-full mt-1 hidden w-max max-w-xs rounded bg-gray-700 px-2 py-1 text-sm text-white shadow-lg group-hover:block",children:$})]}):typeof $=="number"?re.jsx(o8,{value:$,onUpdate:V=>{l==null||l(y,E,V)},inferiorLimit:0}):$};return re.jsx(Loe,{items:m,itemsPerPage:i,children:({items:y})=>re.jsx("div",{className:"relative overflow-x-auto",children:re.jsx("div",{className:`inline-block ${f}`,children:re.jsxs("table",{className:"w-full text-nowrap",children:[re.jsx("thead",{children:re.jsx("tr",{children:r.map((E,$)=>re.jsx("th",{className:`text-elevation-0-1 my-2.5 text-sm font-bold text-white ${$===0?"pl-5":$===r.length-1?"pr-5":"px-5"}`,children:E.text},`header-${E.key}`))})}),re.jsx("tbody",{children:y.length>0?y.map((E,$)=>re.jsx("tr",{children:r.map((T,d)=>re.jsx("td",{children:re.jsx("div",{className:`h-10 items-center overflow-hidden text-ellipsis border border-solid border-transparent text-white hover:border-white ${d>0&&d<r.length-1&&"text-center"} ${d===r.length-1&&"rounded-r text-right"} ${E.status==="info"&&d===0&&"border-l-info"} ${E.status==="error"&&d===0&&"border-l-definitive"} bg-elevation-1-hover cursor-pointer`,children:S(E,T.key)})},`cell-${$}-${T.key}`))},`row-${$}-${E.id}`)):re.jsx("tr",{children:re.jsx("td",{colSpan:r.length,className:`flex items-end justify-center py-6 ${e?"bg-elevation-1-hover":"bg-elevation-1"}`,children:h||re.jsx("div",{className:"text-elevation-0-1 text-sm font-bold text-white",children:"No entries"})})})})]})})})})},Hv="asc",qoe="desc",h1=e=>{var Q,H;const t=Ce.useContext(pn),r=t.isValidJSON?JSON.parse(t.offlineTD):{},[n,i]=Ce.useState(""),[o,a]=Ce.useState(Hv),s=Je.useRef(null),[l,u]=Ce.useState("list"),[f,c]=Ce.useState(!1),[h,g]=Ce.useState({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),m=e.interaction.toLowerCase(),_=X=>i(X.target.value),v=!!((Q=r.base)!=null&&Q.includes("modbus://"))||!!((H=r.base)!=null&&H.includes("modbus+tcp")),p=X=>{if(!X.properties||Object.keys(X.properties).length===0)return!1;const ce=Z=>Z.href?Z.href.includes("modbus://")||Z.href.includes("modbus+tcp://"):!1;return v||Object.values(X.properties).some(Z=>{var ie;return(ie=Z.forms)==null?void 0:ie.some(k=>ce(k))})},S=()=>{if(!r[m])return{};const X={};return Object.keys(r[m]).filter(ce=>ce.toLowerCase().indexOf(n.toLowerCase())>-1).forEach(ce=>{X[ce]=r[m][ce]}),X},y=X=>{if(!r[X])return;const ce={},Z=Object.keys(r[X]).map(ie=>({key:ie,title:r[X][ie].title}));o===Hv?(Z.sort((ie,k)=>{const B=ie.title?ie.title:ie.key,G=k.title?k.title:k.key;return B.localeCompare(G)}).forEach(function(ie){ce[ie.key]=r[X][ie.key]}),a(qoe)):(Z.sort((ie,k)=>{const B=ie.title?ie.title:ie.key,G=k.title?k.title:k.key;return B.localeCompare(G)}).reverse().forEach(function(ie){ce[ie.key]=r[X][ie.key]}),a(Hv)),r[X]=ce,t.updateOfflineTD(JSON.stringify(r,null,2))},E=()=>o===Hv?re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:re.jsx("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:re.jsx("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})}),$=async X=>{const ce=qw(X.id);try{const Z=await t8(r,X.propName,{formIndex:ce});return Z.err?{value:"",error:Z.err.message}:{value:Z.result,error:""}}catch(Z){return{value:"",error:Z.message}}},T=(X,ce,Z)=>{const ie=qw(X.id);try{r[m][X.propName].forms[ie][ce]=Z}catch(k){console.error(k)}t.updateOfflineTD(JSON.stringify(r,null,2))},d=(X,ce)=>{const Z=qw(X.id);let ie;if(ce==="viewPropertyElementForm")ie=r[m][X.propName].forms[Z];else try{ie={[X.propName]:r[m][X.propName]}}catch(k){console.error(k)}g({editorState:JSON.stringify(ie,null,2),propName:X.propName,formsIndex:Z,state:ce,title:ce==="viewProperty"?h.title:`Edit form number ${Z+1} of property ${X.propName}`}),c(!0)},A=()=>{g({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),c(!1)},x=()=>{let X=JSON.parse(h.editorState);h.state==="viewProperty"?r[m][h.propName]=X[h.propName]:r[m][h.propName].forms[h.formsIndex]=X,t.updateOfflineTD(JSON.stringify(r,null,2)),c(!1),g({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"})},O=()=>{const X=S();if(r.properties&&m==="properties"){if(l==="list")return Object.keys(X).map((B,G)=>re.jsx(koe,{prop:X[B],propName:B},G));const ce=Object.keys(X).length?["id","description","propName","editForm","previewValue",...new Set(Object.keys(X).flatMap(B=>(X[B].forms||[]).flatMap(P=>Object.keys(P))))].map(B=>({key:B,text:Boe(B)})):[];let ie=Object.keys(X).flatMap(B=>(X[B].forms||[]).map((P,N)=>({id:`${B} - ${N}`,description:X[B].description??"",propName:B,...P}))).filter(B=>Array.isArray(B.op)?B.op.includes("readproperty"):B.op==="readproperty"),k=ce.filter(B=>B.key!=="op").filter(B=>B.key!=="id").filter(B=>B.key!=="description");return v&&(k=k.filter(B=>B.key!=="href")),re.jsx(zoe,{headers:k,items:ie,itemsPerPage:10,orderBy:"",order:"asc",onCellClick:T,onRowClick:d,onSendRequestClick:$})}if(r.actions&&m==="actions")return Object.keys(X).map((ce,Z)=>re.jsx(Noe,{action:X[ce],actionName:ce},Z));if(r.events&&m==="events")return Object.keys(X).map((ce,Z)=>re.jsx(joe,{event:X[ce],eventName:ce},Z))},C=()=>{s.current&&s.current.openModal()};let F;switch(m){case"properties":F=re.jsx(i8,{ref:s});break;case"actions":F=re.jsx(r8,{ref:s});break;case"events":F=re.jsx(n8,{ref:s});break}const V=O();return re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"flex items-end justify-start pb-4 pt-8",children:[re.jsxs("div",{className:"flex flex-grow",children:[re.jsx(al,{tooltip:y7[m],id:m,children:re.jsx("h2",{className:"flex-grow pr-1 text-2xl text-white",children:e.interaction})}),re.jsxs("div",{children:[m==="properties"&&re.jsx(jn,{onClick:()=>u("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),m==="properties"&&re.jsx(jn,{onClick:()=>u("table"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Table"})]})]}),re.jsx(Doe,{onKeyUp:X=>_(X),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),re.jsx("div",{className:"w-2"}),re.jsx(jn,{onClick:()=>y(m),variant:"primary",type:"button",className:"h-9",children:E()}),re.jsx("div",{className:"w-2"}),re.jsx(jn,{onClick:C,variant:"primary",type:"button",className:"h-9",children:"Add"}),F]}),m==="properties"&&p(r)&&re.jsx(Moe,{isBaseModbus:p(r)}),V&&re.jsx("div",{className:"rounded-lg bg-gray-600 px-4 pb-4 pt-4",children:V||re.jsx("div",{className:"px-6"})}),f&&re.jsx(La,{title:h.title,description:"Modify the content using this editor",onCancel:A,onSubmit:x,submitText:"Save",children:re.jsx(eU,{height:"400px",defaultLanguage:"json",value:h.editorState,onChange:X=>g({...h,editorState:X||""}),options:{minimap:{enabled:!1},fontSize:14},theme:"vs-dark"})})]})};function Voe(e){return e===null?!1:typeof e=="function"||typeof e=="object"}const a8=e=>{const t=Ce.useContext(pn),[r,n]=Ce.useState(new Array(Object.entries(e).length)),i=Ce.useCallback(o=>{let a=r,s=r[o];a[o]=s===null?!0:!s,n([...a])},[r,n]);return re.jsx(re.Fragment,{children:Object.entries(e).map(([o,a],s)=>{if(Voe(a)){let u=re.jsx("button",{className:"flex align-top",onClick:()=>i(s),children:re.jsxs("div",{className:"flex rounded-md bg-gray-600 px-2 py-1 align-middle font-bold text-white",children:[re.jsx("h4",{children:o}),r[s]===!0?re.jsx(wf,{className:"pl-1"}):re.jsx(CR,{className:"pl-1"})]})}),f=re.jsxs("div",{className:"flex",children:[re.jsx("div",{className:"my-1 ml-2 flex w-1 rounded-lg bg-gray-400"}),re.jsx("div",{className:"mt-1 pl-8",children:r[s]===!0&&(Object.entries(a)??[]).map(([c,h],g)=>{let m={};return m[c]=h,Ce.createElement(a8,{...m,key:g})})})]});return re.jsxs("div",{className:"mb-1",children:[u,r[s]===!0&&f]},s)}const l=dT(e,o,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return re.jsxs("div",{className:"mb-1 flex",children:[re.jsx("h4",{className:"rounded-md bg-gray-600 px-2 py-1 font-bold text-white",children:o}),re.jsx("div",{className:"px-2 py-1 text-gray-400",children:l})]},s)})})};var s8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$M=Je.createContext&&Je.createContext(s8),Hoe=["attr","size","title"];function Woe(e,t){if(e==null)return{};var r=Goe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Goe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(this,arguments)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){Koe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Koe(e,t,r){return t=Joe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=Yoe(e,"string");return typeof t=="symbol"?t:t+""}function Yoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l8(e){return e&&e.map((t,r)=>Je.createElement(t.tag,n_({key:r},t.attr),l8(t.child)))}function u8(e){return t=>Je.createElement(Xoe,r_({attr:n_({},e.attr)},t),l8(e.child))}function Xoe(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=Woe(e,Hoe),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),Je.createElement("svg",r_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:n_(n_({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&Je.createElement("title",null,o),e.children)};return $M!==void 0?Je.createElement($M.Consumer,null,r=>t(r)):t(s8)}function AM(e){return u8({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}function xM(e){return u8({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}const Qoe=({onUndo:e,onRedo:t})=>{const r=Ce.useContext(pn),[n,i]=Ce.useState(void 0),[o,a]=Ce.useState(void 0),[s,l]=Ce.useState(void 0),[u,f]=Ce.useState(void 0);return Ce.useEffect(()=>{const c=r.validationMessage;if(c){if(c.report&&(i(c.report.json),l(c.report.schema)),!c.validationErrors){a(void 0),f(void 0);return}c.validationErrors&&(a(c.validationErrors.json),f(c.validationErrors.schema),console.debug("JSON validation error",c.validationErrors.json),console.debug("JSON Schema validation error",c.validationErrors.schema))}},[r,o,u]),re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"col-span-4 mb-4 flex justify-end gap-2",children:[re.jsxs(jn,{onClick:e,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[re.jsx(JR,{size:16,strokeWidth:3,className:"mr-2"}),re.jsx("span",{className:"font-bold",children:"Undo"})]}),re.jsxs(jn,{onClick:t,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[re.jsx("span",{className:"mr-2 font-bold",children:"Redo"}),re.jsx(YR,{size:16,strokeWidth:3})]})]}),re.jsxs("div",{className:"mb-4 w-full rounded-md bg-gray-600 p-4 text-white",children:[re.jsxs("div",{className:"flex items-center",children:[re.jsx("h2",{className:"mr-2",children:"JSON Validation"}),n==="passed"&&re.jsx(xM,{}),n==="failed"&&re.jsx(AM,{})]}),o&&re.jsxs("div",{className:"bg-formRed border-formRed mb-4 mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[re.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:re.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),re.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:o})]}),re.jsxs("div",{className:"flex items-center",children:[re.jsx("h2",{className:"mr-2",children:"JSON Schema Validation "}),s==="passed"&&re.jsx(xM,{}),s==="failed"&&re.jsx(AM,{})]}),u&&re.jsxs("div",{className:"bg-formRed border-formRed mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[re.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:re.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),re.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:u})]})]})]})},El={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Zoe=Object.keys(El).map(e=>El[e]).join(""),p1="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",eae=/\s/g,OM=new RegExp(`^(${p1}\\*)?([${Zoe}])(/${p1})?([-+]{1,2}${p1})?$`,"g");function c8(e){throw new Error(`Invalid calc() expression: ${e}`)}function tae(e,t){const r=OM.exec(e.replace(eae,""));r||c8(e),OM.lastIndex=0;const[,n,i,o,a]=r,{x:s,y:l,width:u,height:f}=t;let c=0;switch(i){case El.width:{c=u;break}case El.height:{c=f;break}case El.x:{c=s;break}case El.y:{c=l;break}case El.minimum:{c=Math.min(f,u);break}case El.maximum:{c=Math.max(f,u);break}case El.diagonal:{c=Math.sqrt(f*f+u*u);break}}return n&&(c*=parseFloat(n)),o&&(c/=parseFloat(o.slice(1))),a&&(c+=rae(a)),c}function rae(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function Ta(e){return typeof e=="string"&&e.includes("calc")}const f8="calc(",PM=f8.length;function Aa(e,t){let r=e,n=0;do{let i=r.indexOf(f8,n);if(i===-1)return r;let o=i+PM,a=1;e:do{switch(r[o]){case"(":{a++;break}case")":{if(a--,a===0)break e;break}case void 0:c8(r)}o++}while(!0);let s=r.slice(i+PM,o);Ta(s)&&(s=Aa(s,t));const l=String(tae(s,t));r=r.slice(0,i)+l+r.slice(o+1),n=i+l.length}while(!0)}const{round:nae,floor:iae,PI:d8}=Math,oae={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},ms=function(e){return e%360+(e<0?360:0)},kf=function(e,t){return t*nae(e/t)},SE=function(e){return 180*e/d8%360},Oo=function(e,t){return t=t||!1,e=t?e:e%360,e*d8/180},DO=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return iae(Math.random()*(t-e+1)+e)},{cos:Wv,sin:m1,atan2:aae}=Math,h8=function(e,t){var r=Oo(e.y),n=Oo(t.y),i=e.x,o=t.x,a=Oo(o-i),s=m1(a)*Wv(n),l=Wv(r)*m1(n)-m1(r)*Wv(n)*Wv(a),u=SE(aae(s,l)),f=["NE","E","SE","S","SW","W","NW","N"],c=u-22.5;return c<0&&(c+=360),c=parseInt(c/45),f[c]},VN=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return(r-=i)*r+(n-=o)*n},p8=function(e,t){return Math.sqrt(VN(e,t))},ar={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:i_,cos:MO,sin:LO,sqrt:RM,min:NM,max:IM,atan2:sae,round:jM,pow:lae,PI:CM}=Math,ze=function(e,t){if(!(this instanceof ze))return new ze(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};ze.fromPolar=function(e,t,r){r=new ze(r);var n=i_(e*MO(t)),i=i_(e*LO(t)),o=ms(SE(t));return o<90?i=-i:o<180?(n=-n,i=-i):o<270&&(n=-n),new ze(r.x+n,r.y+i)};ze.random=function(e,t,r,n){return new ze(DO(e,t),DO(r,n))};ze.prototype={type:ar.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new ze(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var o=new ze(e[i]),a=this.squaredDistance(o);a<n&&(r=o,n=a)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=NM(IM(this.x,e.x),e.x+e.width),this.y=NM(IM(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return h8(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new ze(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ze(this.x-(e||0),this.y-(t||0))},distance:function(e){return p8(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new ze((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return RM(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return i_(e.x-this.x)+i_(e.y-this.y)},move:function(e,t){var r=Oo(new ze(e).theta(this)),n=this.offset(MO(r)*t,-LO(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ze(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new ze(0,0),t=Oo(ms(-t));var r=MO(t),n=LO(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,o=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=lae(10,e);break}return this.x=jM(this.x*t)/t,this.y=jM(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new ze(r)||new ze(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=kf(this.x,e),this.y=kf(this.y,t||e),this},squaredDistance:function(e){return VN(this,e)},theta:function(e){e=new ze(e);var t=-(e.y-this.y),r=e.x-this.x,n=sae(t,r);return n<0&&(n=2*CM+n),180*n/CM},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ze(e)||new ze(0,0);var t=this.x,r=this.y;return this.x=RM((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=Oo(e.theta(new ze(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new ze(0,0);return t.angleBetween(this,e)}};ze.prototype.translate=ze.prototype.offset;const o_=ze,{max:g1,min:v1}=Math,Nt=function(e,t){if(!(this instanceof Nt))return new Nt(e,t);if(e instanceof Nt)return new Nt(e.start,e.end);this.start=new ze(e),this.end=new ze(t)};Nt.prototype={type:ar.Line,angle:function(){var e=new ze(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=v1(this.start.x,this.end.x),t=v1(this.start.y,this.end.y),r=g1(this.start.x,this.end.x),n=g1(this.start.y,this.end.y);return new Pt(e,t,r-e,n-t)},bearing:function(){return h8(this.start,this.end)},clone:function(){return new Nt(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new Nt(this.start,e).vector()),r=v1(1,g1(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new Nt(t,e).length()>n||new Nt(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new Nt(this.start,t),new Nt(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new Nt(this.start,t),new Nt(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof Nt&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new ze(this.end.x-this.start.x,this.end.y-this.start.y),r=new ze(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new ze(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*r.y-i.y*r.x,a=i.x*t.y-i.y*t.x;if(n===0||o*n<0||a*n<0)return null;if(n>0){if(o>n||a>n)return null}else if(o<n||a<n)return null;return[new ze(this.start.x+o*t.x/n,this.start.y+o*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return p8(this.start,this.end)},midpoint:function(){return new ze((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),o=n.clone().rotate(r,90);return r.move(o,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new ze(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return VN(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new Nt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new Nt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ze(this.end.x-this.start.x,this.end.y-this.start.y)}};Nt.prototype.intersection=Nt.prototype.intersect;const $f=Nt,{sqrt:kM,round:Gv,pow:uae}=Math,ro=function(e,t,r){if(!(this instanceof ro))return new ro(e,t,r);if(e instanceof ro)return new ro(new ze(e.x,e.y),e.a,e.b);e=new ze(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};ro.fromRect=function(e){return e=new Pt(e),new ro(e.center(),e.width/2,e.height/2)};ro.prototype={type:ar.Ellipse,bbox:function(){return new Pt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ze(this.x,this.y)},clone:function(){return new ro(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,o=this.b,a=e.vector(),s=r.difference(new ze(this)),l=new ze(a.x/(i*i),a.y/(o*o)),u=new ze(s.x/(i*i),s.y/(o*o)),f=a.dot(l),c=a.dot(u),h=s.dot(u)-1,g=c*c-f*h;if(g<0)return null;if(g>0){var m=kM(g),_=(-c-m)/f,v=(-c+m)/f;if((_<0||1<_)&&(v<0||1<v))return null;0<=_&&_<=1&&t.push(r.lerp(n,_)),0<=v&&v<=1&&t.push(r.lerp(n,v))}else{var p=-c/f;if(0<=p&&p<=1)t.push(r.lerp(n,p));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e),t&&e.rotate(new ze(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ze(this.x,this.y),-t):i;var o=n/r,a=o*o,s=this.a*this.a,l=this.b*this.b,u=kM(1/(1/s+a/l));u=r<0?-u:u;var f=o*u;return i=new ze(this.x+u,this.y+f),t?i.rotate(new ze(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,o=this.x,a=this.y;return(t-o)*(t-o)/(n*n)+(r-a)*(r-a)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=uae(10,e);break}return this.x=Gv(this.x*t)/t,this.y=Gv(this.y*t)/t,this.a=Gv(this.a*t)/t,this.b=Gv(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,o=this.b,a=this.bbox().center(),s=a.x,l=a.y,u=r>a.x+i/2,f=r<a.x-i/2,c,h;return u||f?(c=r>a.x?n-t:n+t,h=i*i/(r-s)-i*i*(n-l)*(c-l)/(o*o*(r-s))+s):(h=n>a.y?r+t:r-t,c=o*o/(n-l)-o*o*(r-s)*(h-s)/(i*i*(n-l))+l),new ze(h,c).theta(e)},toString:function(){return new ze(this.x,this.y).toString()+" "+this.a+" "+this.b}};const cae=ro,{abs:DM,cos:fae,sin:dae,min:$p,max:MM,round:Kv,pow:hae}=Math,Pt=function(e,t,r,n){if(!(this instanceof Pt))return new Pt(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};Pt.fromEllipse=function(e){return e=new ro(e),new Pt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};Pt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new ze;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let a=0;a<e.length;a++){t.update(e[a]);const s=t.x,l=t.y;s<r&&(r=s),s>i&&(i=s),l<n&&(n=l),l>o&&(o=l)}return new Pt(r,n,i-r,o-n)};Pt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new Pt;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let a=0;a<e.length;a++){t.update(e[a]);const s=t.x,l=t.y,u=s+t.width,f=l+t.height;s<r&&(r=s),u>i&&(i=u),l<n&&(n=l),f>o&&(o=f)}return new Pt(r,n,i-r,o-n)};Pt.prototype={type:ar.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=Oo(e),i=DM(dae(n)),o=DM(fae(n)),a=t*o+r*i,s=t*i+r*o;return this.x+=(t-a)/2,this.y+=(r-s)/2,this.width=a,this.height=s,this},bottomLeft:function(){return new ze(this.x,this.y+this.height)},bottomLine:function(){return new Nt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ze(this.x+this.width/2,this.y+this.height)},center:function(){return new ze(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Pt(this)},containsPoint:function(e){return e instanceof ze||(e=new ze(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Pt(this).normalize(),r=new Pt(e).normalize(),n=t.width,i=t.height,o=r.width,a=r.height;if(!n||!i||!o||!a)return!1;var s=t.x,l=t.y,u=r.x,f=r.y;return o+=u,n+=s,a+=f,i+=l,s<=u&&o<=n&&l<=f&&a<=i},corner:function(){return new ze(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Pt(this).normalize(),r=new Pt(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var o=MM(t.x,n.x),a=MM(t.y,n.y);return new Pt(o,a,$p(r.x,i.x)-o,$p(r.y,i.y)-a)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],o,a,s=r.length;for(a=0;a<s;a++)o=e.intersect(r[a]),o!==null&&i.indexOf(o.toString())<0&&(n.push(o),i.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e);var r=new ze(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new Nt(r,e),a=i.length-1;a>=0;--a){var s=i[a].intersection(o);if(s!==null){n=s;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new Nt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ze(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Pt(e),t||(t=e.center());var r,n,i,o,a,s,l,u,f=t.x,c=t.y;r=n=i=o=a=s=l=u=1/0;var h=e.topLeft();h.x<f&&(r=(this.x-f)/(h.x-f)),h.y<c&&(a=(this.y-c)/(h.y-c));var g=e.bottomRight();g.x>f&&(n=(this.x+this.width-f)/(g.x-f)),g.y>c&&(s=(this.y+this.height-c)/(g.y-c));var m=e.topRight();m.x>f&&(i=(this.x+this.width-f)/(m.x-f)),m.y<c&&(l=(this.y-c)/(m.y-c));var _=e.bottomLeft();return _.x<f&&(o=(this.x-f)/(_.x-f)),_.y>c&&(u=(this.y+this.height-c)/(_.y-c)),{sx:$p(r,n,i,o),sy:$p(a,s,l,u)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return $p(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return ze.prototype.offset.call(this,e,t)},origin:function(){return new ze(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ze(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new ze(this.x+this.width,e.y);case"left":return new ze(this.x,e.y);case"bottom":return new ze(e.x,this.y+this.height);case"top":return new ze(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new Nt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ze(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=hae(10,e);break}return this.x=Kv(this.x*t)/t,this.y=Kv(this.y*t)/t,this.width=Kv(this.width*t)/t,this.height=Kv(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ze(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,o=t,a="left";return r<o&&(o=r,a="right"),n<o&&(o=n,a="top"),i<o&&(a="bottom"),a},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Nt(this.topLeft(),this.topRight())},topMiddle:function(){return new ze(this.x+this.width/2,this.y)},topRight:function(){return new ze(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Pt.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};Pt.prototype.bottomRight=Pt.prototype.corner;Pt.prototype.topLeft=Pt.prototype.origin;Pt.prototype.translate=Pt.prototype.offset;const pae=Pt;function m8(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let o=0;o<i;o+=2)r.push({x:+n[o],y:+n[o+1]});return r}function g8(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function v8(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var o;for(r=0;r<i;r++)(o===void 0||e[r].y<o.y||e[r].y===o.y&&e[r].x>o.x)&&(o=e[r]);var a=[];for(r=0;r<i;r++){var s=o.theta(e[r]);s===0&&(s=360);var l=[e[r],r,s];a.push(l)}if(a.sort(function(V,Q){var H=V[2]-Q[2];return H===0&&(H=Q[1]-V[1]),H}),a.length>2){var u=a[a.length-1];a.unshift(u)}for(var f={},c=[],h,g,m,_,v,p;a.length!==0;)if(h=a.pop(),g=h[0],!f.hasOwnProperty(h[0]+"@@"+h[1]))for(var S=!1;!S;)if(c.length<2)c.push(h),S=!0;else{m=c.pop(),_=m[0],v=c.pop(),p=v[0];var y=p.cross(_,g);if(y<0)c.push(v),c.push(m),c.push(h),S=!0;else if(y===0){var E=1e-10,$=_.angleBetween(p,g);t($-180)<E||_.equals(g)||p.equals(_)?(f[m[0]+"@@"+m[1]]=_,c.push(v)):t(($+1)%360-1)<E&&(c.push(v),a.push(m))}else f[m[0]+"@@"+m[1]]=_,c.push(v)}c.length>2&&c.pop();var T,d=-1;for(n=c.length,r=0;r<n;r++){var A=c[r][1];(T===void 0||A<T)&&(T=A,d=r)}var x=[];if(d>0){var O=c.slice(d),C=c.slice(0,d);x=O.concat(C)}else x=c;var F=[];for(n=x.length,r=0;r<n;r++)F.push(x[r][0]);return F}const cn=function(e){if(!(this instanceof cn))return new cn(e);if(typeof e=="string")return new cn.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};cn.parse=function(e){return new cn(m8(e))};cn.fromRect=function(e){return new cn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};cn.prototype={type:ar.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var a=0;a<o;a++){var s=i[a],l=s.x,u=s.y;l<e&&(e=l),l>t&&(t=l),u<r&&(r=u),u>n&&(n=u)}return new Pt(e,r,t-e,n-r)},clone:function(){return new cn(g8(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,o=0,a=r-1,s=0;s<a;s++){var l=new Nt(t[s],t[s+1]),u=l.length(),f=l.closestPointNormalizedLength(e),c=l.pointAt(f),h=c.squaredDistance(e);h<i&&(i=h,n=o+f*u),o+=u}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,o=r-1,a=0,s=0,l=new Nt,u=new Nt,f=new ze;a<r;a++){var c=t[o],h=t[a];if(e.equals(c)||(l.start=c,l.end=h,l.containsPoint(e)))return!0;if(i<=c.y&&i>h.y||i>c.y&&i<=h.y){var g=c.x-n>h.x-n?c.x-n:h.x-n;g>=0&&(f.x=n+g,f.y=i,u.start=e,u.end=f,l.intersect(u)&&s++)}o=a}return s%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new cn(v8(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],a=e.points[i];if(!o.equals(a))return!1}return!0},intersectionWithLine:function(e){for(var t=new Nt(e),r=[],n=this.lengthPoints(),i=new Nt,o=0,a=n.length-1;o<a;o++){i.start=n[o],i.end=n[o+1];var s=t.intersectionWithLine(i);s&&r.push(s[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new Nt,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,o=r-1,a=0;a<o;a++){var s=n?a:o-1-a,l=t[s],u=t[s+1],f=new Nt(l,u),c=l.distance(u);if(e<=i+c)return f.pointAtLength((n?1:-1)*(e-i));i+=c}var h=n?t[r-1]:t[0];return h.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,o=0;o<i;o++)n[o].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,o=n+1,a=n+2,s=t[i],l=t[o],u=t[a];new Nt(s,u).closestPoint(l).distance(l)<=r?t.splice(o,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,o=0,a=r-1,s=0;s<a;s++){var l=n?s:a-1-s,u=t[l],f=t[l+1],c=new Nt(u,f),h=u.distance(f);if(c.isDifferentiable()){if(e<=o+h)return c.tangentAtLength((n?1:-1)*(e-o));i=c}o+=h}if(i){var g=n?1:0;return i.tangentAt(g)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(cn.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(cn.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:Jv,sqrt:mae,min:LM,max:FM,pow:y1}=Math,Fr=function(e,t,r,n){if(!(this instanceof Fr))return new Fr(e,t,r,n);if(e instanceof Fr)return new Fr(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new ze(e),this.controlPoint1=new ze(t),this.controlPoint2=new ze(r),this.end=new ze(n)};Fr.throughPoints=function(){function e(r){var n=[],i=[],o=r.length-1,a;if(o==1)return n[0]=new ze((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new ze(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var s=[];for(a=1;a<o-1;a++)s[a]=4*r[a].x+2*r[a+1].x;s[0]=r[0].x+2*r[1].x,s[o-1]=(8*r[o-1].x+r[o].x)/2;var l=t(s);for(a=1;a<o-1;++a)s[a]=4*r[a].y+2*r[a+1].y;s[0]=r[0].y+2*r[1].y,s[o-1]=(8*r[o-1].y+r[o].y)/2;var u=t(s);for(a=0;a<o;a++)n.push(new ze(l[a],u[a])),a<o-1?i.push(new ze(2*r[a+1].x-l[a+1],2*r[a+1].y-u[a+1])):i.push(new ze((r[o].x+l[o-1])/2,(r[o].y+u[o-1])/2));return[n,i]}function t(r){var n=r.length,i=[],o=[],a=2;i[0]=r[0]/a;for(var s=1;s<n;s++)o[s]=1/a,a=(s<n-1?4:3.5)-o[s],i[s]=(r[s]-i[s-1])/a;for(s=1;s<n;s++)i[n-s-1]-=o[n-s]*i[n-s];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],o=n[0].length,a=0;a<o;a++){var s=new ze(n[0][a].x,n[0][a].y),l=new ze(n[1][a].x,n[1][a].y);i.push(new Fr(r[a],s,l,r[a+1]))}return i}}();Fr.prototype={type:ar.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,o=e.y,a=t.x,s=t.y,l=r.x,u=r.y,f=n.x,c=n.y,h=new Array,g=new Array,m=[new Array,new Array],_,v,p,S,y,E,$,T,d=0;d<2;++d){if(d===0?(v=6*i-12*a+6*l,_=-3*i+9*a-9*l+3*f,p=3*a-3*i):(v=6*o-12*s+6*u,_=-3*o+9*s-9*u+3*c,p=3*s-3*o),Jv(_)<1e-12){if(Jv(v)<1e-12)continue;S=-p/v,0<S&&S<1&&g.push(S);continue}$=v*v-4*p*_,T=mae($),!($<0)&&(y=(-v+T)/(2*_),0<y&&y<1&&g.push(y),E=(-v-T)/(2*_),0<E&&E<1&&g.push(E))}for(var A=g.length,x=A,O,C,F;A--;)S=g[A],O=1-S,C=O*O*O*i+3*O*O*S*a+3*O*S*S*l+S*S*S*f,m[0][A]=C,F=O*O*O*o+3*O*O*S*s+3*O*S*S*u+S*S*S*c,m[1][A]=F,h[A]={X:C,Y:F};g[x]=0,g[x+1]=1,h[x]={X:i,Y:o},h[x+1]={X:f,Y:c},m[0][x]=i,m[1][x]=o,m[0][x+1]=f,m[1][x+1]=c,g.length=x+2,m[0].length=x+2,m[1].length=x+2,h.length=x+2;var V=LM.apply(null,m[0]),Q=LM.apply(null,m[1]),H=FM.apply(null,m[0]),X=FM.apply(null,m[1]);return new Pt(V,Q,H-V,X-Q)},clone:function(){return new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.closestPointLength(e,i);if(!o)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,o,a,s,l,u,f,c=n.length,h=c?1/c:0,g=0;g<c;g++){var m=n[g],_=m.start.distance(e),v=m.end.distance(e),p=_+v;(!f||p<f)&&(i=m,o=g*h,a=(g+1)*h,s=_,l=v,u=m.start.distance(m.end),f=p)}for(var S=y1(10,-r);;){var y=s?Jv(s-l)/s:0,E=l?Jv(s-l)/l:0,$=y<S||E<S,T=s?s<u*S:!0,d=l?l<u*S:!0,A=T||d;if($||A)return s<=l?o:a;var x=i.divide(.5);h/=2;var O=x[0].start.distance(e),C=x[0].end.distance(e),F=O+C,V=x[1].start.distance(e),Q=x[1].end.distance(e),H=V+Q;F<=H?(i=x[0],a-=h,s=O,l=C):(i=x[1],o+=h,s=V,l=Q)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new Fr(t,t,t,t),new Fr(t,r,n,i)];if(e>=1)return[new Fr(t,r,n,i),new Fr(i,i,i,i)];var o=this.getSkeletonPoints(e),a=o.startControlPoint1,s=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new Fr(t,a,s,l),new Fr(l,u,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new Nt(t,r).pointAt(e),a=new Nt(r,n).pointAt(e),s=new Nt(n,i).pointAt(e),l=new Nt(o,a).pointAt(e),u=new Nt(a,s).pointAt(e),f=new Nt(l,u).pointAt(e),c={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:s};return c},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,o=this.end,a=[new Fr(r,n,i,o)];if(t===0)return a;var s=!this.isDifferentiable();if(s)return a;var l=this.endpointDistance(),u=y1(10,-t),f=2,c=n.cross(r,o)===0&&i.cross(r,o)===0;c&&(f=2*t);for(var h=0;;){h+=1;for(var g=[],m=a.length,_=0;_<m;_++){var v=a[_],p=v.divide(.5);g.push(p[0],p[1])}for(var S=0,y=g.length,E=0;E<y;E++){var $=g[E];S+=$.endpointDistance()}if(h>=f){var T=S!==0?(S-l)/S:0;if(T<u)return g}a=g,l=S}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,o=0;o<i;o++){var a=r[o];n+=a.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,o=new Nt(r,n);return o.translate(i.x-r.x,i.y-r.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.length(i),a=o*e;return this.tAtLength(a,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,o={precision:n,subdivisions:i},a,s,l,u,f,c=0,h=i.length,g=1/h,m=0;m<h;m++){var _=r?m:h-1-m,v=i[m],p=v.endpointDistance();if(e<=c+p){a=v,s=_*g,l=(_+1)*g,u=r?e-c:p+c-e,f=r?p+c-e:e-c;break}c+=p}if(!a)return r?1:0;for(var S=this.length(o),y=y1(10,-n);;){var E;if(E=S!==0?u/S:0,E<y)return s;if(E=S!==0?f/S:0,E<y)return l;var $,T,d=a.divide(.5);g/=2;var A=d[0].endpointDistance(),x=d[1].endpointDistance();u<=A?(a=d[0],l-=g,$=u,T=A-$):(a=d[1],s+=g,$=u-A,T=x-$),u=$,f=T}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,o=0;o<i;o++){var a=r[o];n.push(a.end.clone())}return n},toPolyline:function(e){return new cn(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Fr.prototype.divide=Fr.prototype.divideAtT;function Lg(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var o=n[t],a,s;for(s in o)o.hasOwnProperty(s)&&(delete i[s],a=Object.getOwnPropertyDescriptor(o,s),Object.defineProperty(i,s,a))}return i}const Bt=function(e){if(!(this instanceof Bt))return new Bt(e);if(typeof e=="string")return new Bt.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(s,l){return s.concat(l)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var o=e[t];if(!(o instanceof Nt||o instanceof Fr))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Bt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(Bt.createSegment("M",o.start)),o instanceof Nt?this.appendSegment(Bt.createSegment("L",o.end)):o instanceof Fr&&this.appendSegment(Bt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof Nt)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("L",e.end));else if(e instanceof Fr)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof cn){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var a=e.points[t];t===0?this.appendSegment(Bt.createSegment("M",a)):this.appendSegment(Bt.createSegment("L",a))}}else throw new Error("Cannot construct a path from the provided object.")};Bt.parse=function(e){if(!e)return new Bt;for(var t=new Bt,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,o=0;o<i;o++){var a=n[o],s=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=a.match(s),u=Bt.createSegment.apply(this,l);t.appendSegment(u)}return t};Bt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Bt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return rl(t,r)};Bt.prototype={type:ar.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var a=e.length,s=0;s<a;s++){var l=e[s];n=this.prepareSegment(l,i,o),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,o),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var o=i.bbox();r=r?r.union(o):o}}if(r)return r;var a=e[t-1];return new Pt(a.end.x,a.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new Bt,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointLength(e,i);if(o===0)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isVisible){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),g=new Nt(h,e).squaredLength();g<s&&(a={segmentIndex:l,value:c},s=g)}}return a||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isDifferentiable()){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),g=new Nt(h,e).squaredLength();g<s&&(a=u.tangentAtT(c),s=g)}}return a||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,o=0;o<n;o++){var a=r[o];a.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.divideAtLength(l,a)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a,s,l=0,u,f,c,h,g;for(a=0;a<r;a++){var m=n?a:r-1-a;s=this.getSegment(m);var _=o[m],v=s.length({precision:i,subdivisions:_});if(s.isDifferentiable()&&(c=s,h=m,e<=l+v)){f=m,u=s.divideAtLength((n?1:-1)*(e-l),{precision:i,subdivisions:_});break}l+=v}if(!c)return null;u||(f=h,g=n?1:0,u=c.divideAtT(g));var p=this.clone();p.replaceSegment(f,u);var S=f,y=f+1,E=f+2;u[0].isDifferentiable()||(p.removeSegment(S),y-=1,E-=1);var $=p.getSegment(y).start;p.insertSegment(y,Bt.createSegment("M",$)),E+=1,u[1].isDifferentiable()||(p.removeSegment(E-1),E-=1);var T=E-S-1;for(a=E;a<p.segments.length;a++){var d=this.getSegment(a-T);if(s=p.getSegment(a),s.type==="Z"&&!d.subpathStartSegment.end.equals(s.subpathStartSegment.end)){var A=Bt.createSegment("L",d.end);p.replaceSegment(a,A)}}var x=new Bt(p.segments.slice(0,y)),O=new Bt(p.segments.slice(y));return[x,O]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],a=r[i];if(o.type!==a.type||!o.equals(a))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<r;o++){var a=t[o],s=a.getSubdivisions({precision:n});i.push(s)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const o=t[i];o.isSubpathStart?n.push(new Bt(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,o=null,a=null;if(n!==0&&(e>=1?(o=r[e-1],a=o.nextSegment):a=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,c){return f.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var s=t.length,l=0;l<s;l++){var u=t[l];i=this.prepareSegment(u,o,a),r.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,a),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,o=n.length;i<o;i++){var a=n[i],s=e.intersect(a);s&&(r||(r=[]),Array.isArray(s)?Array.prototype.push.apply(r,s):r.push(s))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=0,a=0;a<r;a++){var s=t[a],l=i[a];o+=s.length({subdivisions:l})}return o},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=n?(i=n-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var a=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):t.segmentSubdivisions,l,u=0,f=0;f<i;f++){var c=r[f];l=s[f],u+=c.length({precisison:a,subdivisions:l})}return c=r[i],l=s[i],u+=c.lengthAtT(o,{precisison:a,subdivisions:l}),u},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.pointAtLength(l,a)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=a[f],g=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+g)return c.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});s=c}l+=g}if(s)return i?s.end:s.start;var m=r[n-1];return m.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,o=n.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,o=r[e],a=o.previousSegment,s=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(h,g){return h.concat(g)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,f=0;f<u;f++){var c=t[f];i=this.prepareSegment(c,a,s),r.splice(e+f,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,a,s),r.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&s&&this.updateSubpathStartSegment(s)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,o=0;o<i;o++){var a=n[o];a.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.segmentIndexAtLength(l,a)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s=null,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=a[f],g=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+g)return f;s=f}l+=g}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*e;return this.tangentAtLength(l,a)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,s,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=a[f],g=c.length({precision:o,subdivisions:h});if(c.isDifferentiable()){if(e<=l+g)return c.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});s=c}l+=g}if(s){var m=i?1:0;return s.tangentAtT(m)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=[],a=[],s=0;s<r;s++){var l=t[s];if(l.isVisible){var u=i[s];if(u.length>0){var f=u.map(function(c){return c.start});Array.prototype.push.apply(a,f)}else a.push(l.start)}else a.length>0&&(a.push(t[s-1].end),o.push(a),a=[])}return a.length>0&&(a.push(this.end),o.push(a)),o},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new cn(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var o=r[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Bt.createSegment("M",0,0)),this}};Object.defineProperty(Bt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(Bt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function rl(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Hf={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Hf,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Hf,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Hf,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Ai=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Ai))return rl(Ai,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Nt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(rl(Ai,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],n.push(new Ai(o));return n}},y8={clone:function(){return new Ai(this.end)},divideAt:function(e){var t=new Nt(this.start,this.end),r=t.divideAt(e);return[new Ai(r[0]),new Ai(r[1])]},divideAtLength:function(e){var t=new Nt(this.start,this.end),r=t.divideAtLength(e);return[new Ai(r[0]),new Ai(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(y8,"type",{configurable:!0,enumerable:!0,value:"L"});Ai.prototype=Lg(Hf,Nt.prototype,y8);var Wo=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Wo))return rl(Wo,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof Fr){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new ze(+e[0],+e[1]),this.controlPoint2=new ze(+e[2],+e[3]),this.end=new ze(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(rl(Wo,i));return n}else{if(t===3)return this.controlPoint1=new ze(e[0]),this.controlPoint2=new ze(e[1]),this.end=new ze(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(n=[],r=0;r<t;r+=3)o=e.slice(r,r+3),n.push(rl(Wo,o));return n}},w8={clone:function(){return new Wo(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new Wo(n[0]),new Wo(n[1])]},divideAtLength:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new Wo(n[0]),new Wo(n[1])]},divideAtT:function(e){var t=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new Wo(r[0]),new Wo(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(w8,"type",{configurable:!0,enumerable:!0,value:"C"});Wo.prototype=Lg(Hf,Fr.prototype,w8);var hf=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof hf))return rl(hf,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Nt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Fr){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(rl(hf,i)):n.push(rl(Ai,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],r===0?n.push(new hf(o)):n.push(new Ai(o));return n}},HN={bbox:function(){return null},clone:function(){return new hf(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(HN,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(HN,"type",{configurable:!0,enumerable:!0,value:"M"});hf.prototype=Lg(Hf,HN);var Ih=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Ih))return rl(Ih,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},WN={clone:function(){return new Ih},divideAt:function(e){var t=new Nt(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new Ai(r[0]):this.clone(),new Ai(r[1])]},divideAtLength:function(e){var t=new Nt(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new Ai(r[0]):this.clone(),new Ai(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(WN,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(WN,"type",{configurable:!0,enumerable:!0,value:"Z"});Ih.prototype=Lg(Hf,Nt.prototype,WN);var gae=Bt.segmentTypes={L:Ai,C:Wo,M:hf,Z:Ih,z:Ih};Bt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(gae).join("")+",.]*$");Bt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const vae={curveThroughPoints:function(e){return console.warn("deprecated"),new Bt(Fr.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new ze((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new ze(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var o=[];for(i=1;i<n-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[n-1]=(8*e[n-1].x+e[n].x)/2;var a=this.getFirstControlPoints(o);for(i=1;i<n-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[n-1]=(8*e[n-1].y+e[n].y)/2;var s=this.getFirstControlPoints(o);for(i=0;i<n;i++)t.push(new ze(a[i],s[i])),i<n-1?r.push(new ze(2*e[i+1].x-a[i+1],2*e[i+1].y-s[i+1])):r.push(new ze((e[n].x+a[n-1])/2,(e[n].y+s[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(a){var s=i.divide(a);return[{p0:s[0].start,p1:s[0].controlPoint1,p2:s[0].controlPoint2,p3:s[0].end},{p0:s[1].start,p1:s[1].controlPoint1,p2:s[1].controlPoint2,p3:s[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var o=1;o<t;o++)n[o]=1/i,i=(o<t-1?4:3.5)-n[o],r[o]=(e[o]-r[o-1])/i;for(o=1;o<t;o++)r[t-o-1]-=n[t-o]*r[t-o];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(a){return i.closestPointT(a)}}},Po=function(e){if(!(this instanceof Po))return new Po(e);if(typeof e=="string")return new Po.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};Po.parse=function(e){return new Po(m8(e))};Po.fromRect=function(e){return new Po([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};Po.prototype=Lg(cn.prototype,{type:ar.Polygon,clone:function(){return new Po(g8(this.points))},convexHull:function(){return new Po(v8(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function b8(e,t,r,n){switch(e.type){case ar.Line:{switch(t.type){case ar.Line:return pf(e,t)}break}case ar.Ellipse:{switch(t.type){case ar.Line:return GN(e,t);case ar.Ellipse:return _8(e,t)}break}case ar.Rect:{switch(t.type){case ar.Line:return E8(e,t);case ar.Ellipse:return S8(e,t);case ar.Rect:return KN(e,t)}break}case ar.Polyline:{switch(t.type){case ar.Line:return $E(e,t);case ar.Ellipse:return JN(e,t);case ar.Rect:return $8(e,t);case ar.Polyline:return T8(e,t)}break}case ar.Polygon:{switch(t.type){case ar.Line:return YN(e,t);case ar.Ellipse:return TE(e,t);case ar.Rect:return A8(e,t);case ar.Polyline:return x8(e,t);case ar.Polygon:return O8(e,t)}break}case ar.Path:{switch(t.type){case ar.Line:return P8(e,t,r);case ar.Ellipse:return R8(e,t,r);case ar.Rect:return N8(e,t,r);case ar.Polyline:return XN(e,t,r);case ar.Polygon:return AE(e,t,r);case ar.Path:return I8(e,t,r,n)}break}}switch(t.type){case ar.Ellipse:case ar.Rect:case ar.Polyline:case ar.Polygon:case ar.Path:return b8(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function pf(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,o=e.end.y,a=t.start.x,s=t.start.y,l=t.end.x,u=t.end.y,f=i-r,c=o-n,h=l-a,g=u-s,m=r-a,_=n-s,v=f*g-h*c,p=(f*_-c*m)/v,S=(h*_-g*m)/v;return p>=0&&p<=1&&S>=0&&S<=1}function GN(e,t){const r=e.a,n=e.b,i=e.x,o=e.y,a=t.start.x-i,s=t.end.x-i,l=t.start.y-o,u=t.end.y-o,f=r*r,c=n*n,h=s-a,g=u-l,m=h*h/f+g*g/c,_=2*a*h/f+2*l*g/c,v=a*a/f+l*l/c-1,p=_*_-4*m*v;if(p===0){const S=-_/2/m;return S>=0&&S<=1}else if(p>0){const S=Math.sqrt(p),y=(-_+S)/2/m,E=(-_-S)/2/m;return y>=0&&y<=1||E>=0&&E<=1}return!1}function _8(e,t){return yae(e,0,t,0)}function E8(e,t){const{start:r,end:n}=t,{x:i,y:o,width:a,height:s}=e;return r.x>i+a&&n.x>i+a||r.x<i&&n.x<i||r.y>o+s&&n.y>o+s||r.y<o&&n.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:pf(e.topLine(),t)||pf(e.rightLine(),t)||pf(e.bottomLine(),t)||pf(e.leftLine(),t)}function S8(e,t){return KN(e,Pt.fromEllipse(t))?TE(Po.fromRect(e),t):!1}function KN(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function $E(e,t){return j8(e,t,{interior:!1})}function JN(e,t){return C8(e,t,{interior:!1})}function $8(e,t){return k8(e,t,{interior:!1})}function T8(e,t){return xE(e,t,{interior:!1})}function YN(e,t){return j8(e,t,{interior:!0})}function TE(e,t){return C8(e,t,{interior:!0})}function A8(e,t){return k8(e,t,{interior:!0})}function x8(e,t){return xE(e,t,{interior:!0})}function O8(e,t){return QN(e,t,{interior:!0})}function P8(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?YN(i,t):$E(i,t)})}function R8(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?TE(i,t):JN(i,t)})}function N8(e,t,r){return AE(e,Po.fromRect(t),r)}function XN(e,t,r){return D8(e,t,r,{interior:!1})}function AE(e,t,r){return D8(e,t,r,{interior:!0})}function I8(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:a}=i.getSegment(-1);return a==="Z"?AE(t,o,n):XN(t,o,n)})}function j8(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:s,end:l,points:u}=e;i=l.equals(s)?u:[...u,s]}else i=e.points;const{length:o}=i,a=new Nt;for(let s=0;s<o-1;s++)if(a.start=i[s],a.end=i[s+1],pf(t,a))return!0;return!1}function C8(e,t,r={}){const{start:n,end:i,points:o}=e;if(t.containsPoint(n))return!0;let a;const{interior:s=!1}=r;if(s){if(e.containsPoint(t.center()))return!0;a=i.equals(n)?o:[...o,n]}else a=o;const{length:l}=a,u=new Nt;for(let f=0;f<l-1;f++)if(u.start=a[f],u.end=a[f+1],GN(t,u))return!0;return!1}function k8(e,t,r){const n=Po.fromRect(t);return QN(e,n,r)}function D8(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:a}=i.getSegment(-1);return a==="Z"?QN(t,o,n):xE(t,o,n)})}function xE(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:a}=o,s=new Nt;for(let l=0;l<a-1;l++)if(s.start=o[l],s.end=o[l+1],$E(i,s))return!0;return!1}function QN(e,t,r){return t.containsPoint(e.start)||xE(e,t.clone().close(),r)}function yae(e,t,r,n){const{cos:i,sin:o}=Math,a=o(t),s=i(t),l=o(n),u=i(n),f=a*a,c=s*s,h=a*s,g=l*l,m=u*u,_=l*u,v=e.a*e.a,p=e.b*e.b,S=r.a*r.a,y=r.b*r.b,E=v*f+p*c,$=S*g+y*m,T=v*c+p*f,d=S*m+y*g;let A=2*(p-v)*h,x=2*(y-S)*_,O=-2*E*e.x-A*e.y,C=-2*$*r.x-x*r.y,F=-A*e.x-2*T*e.y,V=-x*r.x-2*d*r.y;const Q=E*e.x*e.x+T*e.y*e.y+A*e.x*e.y-v*p,H=$*r.x*r.x+d*r.y*r.y+x*r.x*r.y-S*y;A=A/2,x=x/2,O=O/2,C=C/2,F=F/2,V=V/2;const X=hu([[E,A,O],[A,T,F],[O,F,Q]]),ce=hu([[$,x,C],[x,d,V],[C,V,H]]),Z=.33333333*(hu([[$,A,O],[x,T,F],[C,F,Q]])+hu([[E,x,O],[A,d,F],[O,V,Q]])+hu([[E,A,C],[A,T,V],[O,F,H]])),ie=.33333333*(hu([[E,x,C],[A,d,V],[O,V,H]])+hu([[$,A,C],[x,T,V],[C,F,H]])+hu([[$,x,O],[x,d,F],[C,V,Q]])),k=Yv([[X,Z],[Z,ie]]),B=Yv([[X,ie],[Z,ce]]),G=Yv([[Z,ie],[ie,ce]]);return!(Yv([[2*k,B],[B,2*G]])>0&&(ie>0||Z>0))}function Yv(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function hu(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const wae=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:_8,ellipseWithLine:GN,exists:b8,lineWithLine:pf,pathWithEllipse:R8,pathWithLine:P8,pathWithPath:I8,pathWithPolygon:AE,pathWithPolyline:XN,pathWithRect:N8,polygonWithEllipse:TE,polygonWithLine:YN,polygonWithPolygon:O8,polygonWithPolyline:x8,polygonWithRect:A8,polylineWithEllipse:JN,polylineWithLine:$E,polylineWithPolyline:T8,polylineWithRect:$8,rectWithEllipse:S8,rectWithLine:E8,rectWithRect:KN},Symbol.toStringTag,{value:"Module"})),bae=wae,_ae=Object.freeze(Object.defineProperty({__proto__:null,Curve:Fr,Ellipse:ro,Line:Nt,Path:Bt,Point:ze,Polygon:Po,Polyline:cn,Rect:Pt,bezier:vae,ellipse:cae,intersection:bae,line:$f,normalizeAngle:ms,point:o_,random:DO,rect:pae,scale:oae,snapToGrid:kf,toDeg:SE,toRad:Oo,types:ar},Symbol.toStringTag,{value:"Module"}));var M8={},ZN="1.13.7",BM=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},OE=Array.prototype,eI=Object.prototype,UM=typeof Symbol<"u"?Symbol.prototype:null,Eae=OE.push,Fg=OE.slice,Zm=eI.toString,Sae=eI.hasOwnProperty,L8=typeof ArrayBuffer<"u",$ae=typeof DataView<"u",Tae=Array.isArray,zM=Object.keys,qM=Object.create,VM=L8&&ArrayBuffer.isView,Aae=isNaN,xae=isFinite,F8=!{toString:null}.propertyIsEnumerable("toString"),HM=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Oae=Math.pow(2,53)-1;function so(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function yc(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function B8(e){return e===null}function tI(e){return e===void 0}function rI(e){return e===!0||e===!1||Zm.call(e)==="[object Boolean]"}function U8(e){return!!(e&&e.nodeType===1)}function Hi(e){var t="[object "+e+"]";return function(r){return Zm.call(r)===t}}const PE=Hi("String"),nI=Hi("Number"),z8=Hi("Date"),q8=Hi("RegExp"),V8=Hi("Error"),iI=Hi("Symbol"),oI=Hi("ArrayBuffer");var H8=Hi("Function"),Pae=BM.document&&BM.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Pae!="function"&&(H8=function(e){return typeof e=="function"||!1});const Vi=H8,W8=Hi("Object");var G8=$ae&&(!/\[native code\]/.test(String(DataView))||W8(new DataView(new ArrayBuffer(8)))),aI=typeof Map<"u"&&W8(new Map),Rae=Hi("DataView");function Nae(e){return e!=null&&Vi(e.getInt8)&&oI(e.buffer)}const eg=G8?Nae:Rae,wc=Tae||Hi("Array");function bc(e,t){return e!=null&&Sae.call(e,t)}var FO=Hi("Arguments");(function(){FO(arguments)||(FO=function(e){return bc(e,"callee")})})();const RE=FO;function K8(e){return!iI(e)&&xae(e)&&!isNaN(parseFloat(e))}function sI(e){return nI(e)&&Aae(e)}function lI(e){return function(){return e}}function J8(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=Oae}}function Y8(e){return function(t){return t==null?void 0:t[e]}}const a_=Y8("byteLength"),Iae=J8(a_);var jae=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Cae(e){return VM?VM(e)&&!eg(e):Iae(e)&&jae.test(Zm.call(e))}const uI=L8?Cae:lI(!1),No=Y8("length");function kae(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function X8(e,t){t=kae(t);var r=HM.length,n=e.constructor,i=Vi(n)&&n.prototype||eI,o="constructor";for(bc(e,o)&&!t.contains(o)&&t.push(o);r--;)o=HM[r],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function ai(e){if(!yc(e))return[];if(zM)return zM(e);var t=[];for(var r in e)bc(e,r)&&t.push(r);return F8&&X8(e,t),t}function Q8(e){if(e==null)return!0;var t=No(e);return typeof t=="number"&&(wc(e)||PE(e)||RE(e))?t===0:No(ai(e))===0}function cI(e,t){var r=ai(t),n=r.length;if(e==null)return!n;for(var i=Object(e),o=0;o<n;o++){var a=r[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function Xr(e){if(e instanceof Xr)return e;if(!(this instanceof Xr))return new Xr(e);this._wrapped=e}Xr.VERSION=ZN;Xr.prototype.value=function(){return this._wrapped};Xr.prototype.valueOf=Xr.prototype.toJSON=Xr.prototype.value;Xr.prototype.toString=function(){return String(this._wrapped)};function WM(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,a_(e))}var GM="[object DataView]";function BO(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:Z8(e,t,r,n)}function Z8(e,t,r,n){e instanceof Xr&&(e=e._wrapped),t instanceof Xr&&(t=t._wrapped);var i=Zm.call(e);if(i!==Zm.call(t))return!1;if(G8&&i=="[object Object]"&&eg(e)){if(!eg(t))return!1;i=GM}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return UM.valueOf.call(e)===UM.valueOf.call(t);case"[object ArrayBuffer]":case GM:return Z8(WM(e),WM(t),r,n)}var o=i==="[object Array]";if(!o&&uI(e)){var a=a_(e);if(a!==a_(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var s=e.constructor,l=t.constructor;if(s!==l&&!(Vi(s)&&s instanceof s&&Vi(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!BO(e[u],t[u],r,n))return!1}else{var f=ai(e),c;if(u=f.length,ai(t).length!==u)return!1;for(;u--;)if(c=f[u],!(bc(t,c)&&BO(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function e9(e,t){return BO(e,t)}function Jh(e){if(!yc(e))return[];var t=[];for(var r in e)t.push(r);return F8&&X8(e,t),t}function fI(e){var t=No(e);return function(r){if(r==null)return!1;var n=Jh(r);if(No(n))return!1;for(var i=0;i<t;i++)if(!Vi(r[e[i]]))return!1;return e!==n9||!Vi(r[dI])}}var dI="forEach",t9="has",hI=["clear","delete"],r9=["get",t9,"set"],Dae=hI.concat(dI,r9),n9=hI.concat(r9),Mae=["add"].concat(hI,dI,t9);const i9=aI?fI(Dae):Hi("Map"),o9=aI?fI(n9):Hi("WeakMap"),a9=aI?fI(Mae):Hi("Set"),s9=Hi("WeakSet");function Wf(e){for(var t=ai(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function l9(e){for(var t=ai(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function pI(e){for(var t={},r=ai(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function tg(e){var t=[];for(var r in e)Vi(e[r])&&t.push(r);return t.sort()}function mI(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var u=a[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}const gI=mI(Jh),jh=mI(ai),vI=mI(Jh,!0);function Lae(){return function(){}}function u9(e){if(!yc(e))return{};if(qM)return qM(e);var t=Lae();t.prototype=e;var r=new t;return t.prototype=null,r}function c9(e,t){var r=u9(e);return t&&jh(r,t),r}function f9(e){return yc(e)?wc(e)?e.slice():gI({},e):e}function d9(e,t){return t(e),e}function yI(e){return wc(e)?e:[e]}Xr.toPath=yI;function Bg(e){return Xr.toPath(e)}function wI(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function bI(e,t,r){var n=wI(e,Bg(t));return tI(n)?r:n}function h9(e,t){t=Bg(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!bc(e,i))return!1;e=e[i]}return!!r}function NE(e){return e}function Df(e){return e=jh({},e),function(t){return cI(t,e)}}function IE(e){return e=Bg(e),function(t){return wI(t,e)}}function Ug(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,a){return e.call(t,n,i,o,a)}}return function(){return e.apply(t,arguments)}}function p9(e,t,r){return e==null?NE:Vi(e)?Ug(e,t,r):yc(e)&&!wc(e)?Df(e):IE(e)}function jE(e,t){return p9(e,t,1/0)}Xr.iteratee=jE;function Do(e,t,r){return Xr.iteratee!==jE?Xr.iteratee(e,t):p9(e,t,r)}function m9(e,t,r){t=Do(t,r);for(var n=ai(e),i=n.length,o={},a=0;a<i;a++){var s=n[a];o[s]=t(e[s],s,e)}return o}function _I(){}function g9(e){return e==null?_I:function(t){return bI(e,t)}}function v9(e,t,r){var n=Array(Math.max(0,e));t=Ug(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function s_(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Ch=Date.now||function(){return new Date().getTime()};function y9(e){var t=function(o){return e[o]},r="(?:"+ai(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(i,t):o}}const w9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b9=y9(w9),Fae=pI(w9),_9=y9(Fae),E9=Xr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var w1=/(.)^/,Bae={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Uae=/\\|'|\r|\n|\u2028|\u2029/g;function zae(e){return"\\"+Bae[e]}var qae=/^\s*(\w|\$)+\s*$/;function S9(e,t,r){!t&&r&&(t=r),t=vI({},t,Xr.templateSettings);var n=RegExp([(t.escape||w1).source,(t.interpolate||w1).source,(t.evaluate||w1).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(u,f,c,h,g){return o+=e.slice(i,g).replace(Uae,zae),i=g+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?o+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:h&&(o+=`';
`+h+`
__p+='`),u}),o+=`';
`;var a=t.variable;if(a){if(!qae.test(a))throw new Error("variable is not a bare identifier: "+a)}else o=`with(obj||{}){
`+o+`}
`,a="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var s;try{s=new Function(a,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return s.call(this,u,Xr)};return l.source="function("+a+`){
`+o+"}",l}function $9(e,t,r){t=Bg(t);var n=t.length;if(!n)return Vi(r)?r.call(e):r;for(var i=0;i<n;i++){var o=e==null?void 0:e[t[i]];o===void 0&&(o=r,i=n),e=Vi(o)?o.call(e):o}return e}var Vae=0;function T9(e){var t=++Vae+"";return e?e+t:t}function A9(e){var t=Xr(e);return t._chain=!0,t}function x9(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=u9(e.prototype),a=e.apply(o,i);return yc(a)?a:o}var Gf=so(function(e,t){var r=Gf.placeholder,n=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===r?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return x9(e,n,this,this,a)};return n});Gf.placeholder=Xr;const EI=so(function(e,t,r){if(!Vi(e))throw new TypeError("Bind must be called on a function");var n=so(function(i){return x9(e,n,t,this,r.concat(i))});return n}),ra=J8(No);function Kf(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,o=0,a=No(e);o<a;o++){var s=e[o];if(ra(s)&&(wc(s)||RE(s)))if(t>1)Kf(s,t-1,r,n),i=n.length;else for(var l=0,u=s.length;l<u;)n[i++]=s[l++];else r||(n[i++]=s)}return n}const O9=so(function(e,t){t=Kf(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=EI(e[n],e)}return e});function P9(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return bc(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const SI=so(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),R9=Gf(SI,Xr,1);function N9(e,t,r){var n,i,o,a,s=0;r||(r={});var l=function(){s=r.leading===!1?0:Ch(),n=null,a=e.apply(i,o),n||(i=o=null)},u=function(){var f=Ch();!s&&r.leading===!1&&(s=f);var c=t-(f-s);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),s=f,a=e.apply(i,o),n||(i=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(n),s=0,n=i=o=null},u}function I9(e,t,r){var n,i,o,a,s,l=function(){var f=Ch()-i;t>f?n=setTimeout(l,t-f):(n=null,r||(a=e.apply(s,o)),n||(o=s=null))},u=so(function(f){return s=this,o=f,i=Ch(),n||(n=setTimeout(l,t),r&&(a=e.apply(s,o))),a});return u.cancel=function(){clearTimeout(n),n=o=s=null},u}function j9(e,t){return Gf(t,e)}function CE(e){return function(){return!e.apply(this,arguments)}}function C9(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function k9(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function $I(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const D9=Gf($I,2);function TI(e,t,r){t=Do(t,r);for(var n=ai(e),i,o=0,a=n.length;o<a;o++)if(i=n[o],t(e[i],i,e))return i}function M9(e){return function(t,r,n){r=Do(r,n);for(var i=No(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const kE=M9(1),AI=M9(-1);function xI(e,t,r,n){r=Do(r,n,1);for(var i=r(t),o=0,a=No(e);o<a;){var s=Math.floor((o+a)/2);r(e[s])<i?o=s+1:a=s}return o}function L9(e,t,r){return function(n,i,o){var a=0,s=No(n);if(typeof o=="number")e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(r&&o&&s)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(Fg.call(n,a,s),sI),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(n[o]===i)return o;return-1}}const OI=L9(1,kE,xI),F9=L9(-1,AI);function rg(e,t,r){var n=ra(e)?kE:TI,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function B9(e,t){return rg(e,Df(t))}function gs(e,t,r){t=Ug(t,r);var n,i;if(ra(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=ai(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function zl(e,t,r){t=Do(t,r);for(var n=!ra(e)&&ai(e),i=(n||e).length,o=Array(i),a=0;a<i;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o}function U9(e){var t=function(r,n,i,o){var a=!ra(r)&&ai(r),s=(a||r).length,l=e>0?0:s-1;for(o||(i=r[a?a[l]:l],l+=e);l>=0&&l<s;l+=e){var u=a?a[l]:l;i=n(i,r[u],u,r)}return i};return function(r,n,i,o){var a=arguments.length>=3;return t(r,Ug(n,o,4),i,a)}}const fh=U9(1),l_=U9(-1);function oc(e,t,r){var n=[];return t=Do(t,r),gs(e,function(i,o,a){t(i,o,a)&&n.push(i)}),n}function z9(e,t,r){return oc(e,CE(Do(t)),r)}function u_(e,t,r){t=Do(t,r);for(var n=!ra(e)&&ai(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0}function c_(e,t,r){t=Do(t,r);for(var n=!ra(e)&&ai(e),i=(n||e).length,o=0;o<i;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1}function Ia(e,t,r,n){return ra(e)||(e=Wf(e)),(typeof r!="number"||n)&&(r=0),OI(e,t,r)>=0}const q9=so(function(e,t,r){var n,i;return Vi(t)?i=t:(t=Bg(t),n=t.slice(0,-1),t=t[t.length-1]),zl(e,function(o){var a=i;if(!a){if(n&&n.length&&(o=wI(o,n)),o==null)return;a=o[t]}return a==null?a:a.apply(o,r)})});function DE(e,t){return zl(e,IE(t))}function V9(e,t){return oc(e,Df(t))}function PI(e,t,r){var n=-1/0,i=-1/0,o,a;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ra(e)?e:Wf(e);for(var s=0,l=e.length;s<l;s++)o=e[s],o!=null&&o>n&&(n=o)}else t=Do(t,r),gs(e,function(u,f,c){a=t(u,f,c),(a>i||a===-1/0&&n===-1/0)&&(n=u,i=a)});return n}function H9(e,t,r){var n=1/0,i=1/0,o,a;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ra(e)?e:Wf(e);for(var s=0,l=e.length;s<l;s++)o=e[s],o!=null&&o<n&&(n=o)}else t=Do(t,r),gs(e,function(u,f,c){a=t(u,f,c),(a<i||a===1/0&&n===1/0)&&(n=u,i=a)});return n}var Hae=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function RI(e){return e?wc(e)?Fg.call(e):PE(e)?e.match(Hae):ra(e)?zl(e,NE):Wf(e):[]}function NI(e,t,r){if(t==null||r)return ra(e)||(e=Wf(e)),e[s_(e.length-1)];var n=RI(e),i=No(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=s_(a,o),l=n[a];n[a]=n[s],n[s]=l}return n.slice(0,t)}function W9(e){return NI(e,1/0)}function G9(e,t,r){var n=0;return t=Do(t,r),DE(zl(e,function(i,o,a){return{value:i,index:n++,criteria:t(i,o,a)}}).sort(function(i,o){var a=i.criteria,s=o.criteria;if(a!==s){if(a>s||a===void 0)return 1;if(a<s||s===void 0)return-1}return i.index-o.index}),"value")}function ME(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=Do(n,i),gs(r,function(a,s){var l=n(a,s,r);e(o,a,l)}),o}}const K9=ME(function(e,t,r){bc(e,r)?e[r].push(t):e[r]=[t]}),J9=ME(function(e,t,r){e[r]=t}),Y9=ME(function(e,t,r){bc(e,r)?e[r]++:e[r]=1}),X9=ME(function(e,t,r){e[r?0:1].push(t)},!0);function Q9(e){return e==null?0:ra(e)?e.length:ai(e).length}function Wae(e,t,r){return t in r}const II=so(function(e,t){var r={},n=t[0];if(e==null)return r;Vi(n)?(t.length>1&&(n=Ug(n,t[1])),t=Jh(e)):(n=Wae,t=Kf(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];n(s,a,e)&&(r[a]=s)}return r}),Z9=so(function(e,t){var r=t[0],n;return Vi(r)?(r=CE(r),t.length>1&&(n=t[1])):(t=zl(Kf(t,!1,!1),String),r=function(i,o){return!Ia(t,o)}),II(e,r,n)});function jI(e,t,r){return Fg.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function dh(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:jI(e,e.length-t)}function Tf(e,t,r){return Fg.call(e,t==null||r?1:t)}function eH(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:Tf(e,Math.max(0,e.length-t))}function tH(e){return oc(e,Boolean)}function rH(e,t){return Kf(e,t,!1)}const CI=so(function(e,t){return t=Kf(t,!0,!0),oc(e,function(r){return!Ia(t,r)})}),nH=so(function(e,t){return CI(e,t)});function ng(e,t,r,n){rI(t)||(n=r,r=t,t=!1),r!=null&&(r=Do(r,n));for(var i=[],o=[],a=0,s=No(e);a<s;a++){var l=e[a],u=r?r(l,a,e):l;t&&!r?((!a||o!==u)&&i.push(l),o=u):r?Ia(o,u)||(o.push(u),i.push(l)):Ia(i,l)||i.push(l)}return i}const iH=so(function(e){return ng(Kf(e,!0,!0))});function oH(e){for(var t=[],r=arguments.length,n=0,i=No(e);n<i;n++){var o=e[n];if(!Ia(t,o)){var a;for(a=1;a<r&&Ia(arguments[a],o);a++);a===r&&t.push(o)}}return t}function ig(e){for(var t=e&&PI(e,No).length||0,r=Array(t),n=0;n<t;n++)r[n]=DE(e,n);return r}const aH=so(ig);function sH(e,t){for(var r={},n=0,i=No(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function lH(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function uH(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(Fg.call(e,n,n+=t));return r}function kI(e,t){return e._chain?Xr(t).chain():t}function DI(e){return gs(tg(e),function(t){var r=Xr[t]=e[t];Xr.prototype[t]=function(){var n=[this._wrapped];return Eae.apply(n,arguments),kI(this,r.apply(Xr,n))}}),Xr}gs(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=OE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),kI(this,r)}});gs(["concat","join","slice"],function(e){var t=OE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),kI(this,r)}});const Gae=Object.freeze(Object.defineProperty({__proto__:null,VERSION:ZN,after:k9,all:u_,allKeys:Jh,any:c_,assign:jh,before:$I,bind:EI,bindAll:O9,chain:A9,chunk:uH,clone:f9,collect:zl,compact:tH,compose:C9,constant:lI,contains:Ia,countBy:Y9,create:c9,debounce:I9,default:Xr,defaults:vI,defer:R9,delay:SI,detect:rg,difference:CI,drop:Tf,each:gs,escape:b9,every:u_,extend:gI,extendOwn:jh,filter:oc,find:rg,findIndex:kE,findKey:TI,findLastIndex:AI,findWhere:B9,first:dh,flatten:rH,foldl:fh,foldr:l_,forEach:gs,functions:tg,get:bI,groupBy:K9,has:h9,head:dh,identity:NE,include:Ia,includes:Ia,indexBy:J9,indexOf:OI,initial:jI,inject:fh,intersection:oH,invert:pI,invoke:q9,isArguments:RE,isArray:wc,isArrayBuffer:oI,isBoolean:rI,isDataView:eg,isDate:z8,isElement:U8,isEmpty:Q8,isEqual:e9,isError:V8,isFinite:K8,isFunction:Vi,isMap:i9,isMatch:cI,isNaN:sI,isNull:B8,isNumber:nI,isObject:yc,isRegExp:q8,isSet:a9,isString:PE,isSymbol:iI,isTypedArray:uI,isUndefined:tI,isWeakMap:o9,isWeakSet:s9,iteratee:jE,keys:ai,last:eH,lastIndexOf:F9,map:zl,mapObject:m9,matcher:Df,matches:Df,max:PI,memoize:P9,methods:tg,min:H9,mixin:DI,negate:CE,noop:_I,now:Ch,object:sH,omit:Z9,once:D9,pairs:l9,partial:Gf,partition:X9,pick:II,pluck:DE,property:IE,propertyOf:g9,random:s_,range:lH,reduce:fh,reduceRight:l_,reject:z9,rest:Tf,restArguments:so,result:$9,sample:NI,select:oc,shuffle:W9,size:Q9,some:c_,sortBy:G9,sortedIndex:xI,tail:Tf,take:dh,tap:d9,template:S9,templateSettings:E9,throttle:N9,times:v9,toArray:RI,toPath:yI,transpose:ig,unescape:_9,union:iH,uniq:ng,unique:ng,uniqueId:T9,unzip:ig,values:Wf,where:V9,without:nH,wrap:j9,zip:aH},Symbol.toStringTag,{value:"Module"}));var UO=DI(Gae);UO._=UO;const Kae=Object.freeze(Object.defineProperty({__proto__:null,VERSION:ZN,after:k9,all:u_,allKeys:Jh,any:c_,assign:jh,before:$I,bind:EI,bindAll:O9,chain:A9,chunk:uH,clone:f9,collect:zl,compact:tH,compose:C9,constant:lI,contains:Ia,countBy:Y9,create:c9,debounce:I9,default:UO,defaults:vI,defer:R9,delay:SI,detect:rg,difference:CI,drop:Tf,each:gs,escape:b9,every:u_,extend:gI,extendOwn:jh,filter:oc,find:rg,findIndex:kE,findKey:TI,findLastIndex:AI,findWhere:B9,first:dh,flatten:rH,foldl:fh,foldr:l_,forEach:gs,functions:tg,get:bI,groupBy:K9,has:h9,head:dh,identity:NE,include:Ia,includes:Ia,indexBy:J9,indexOf:OI,initial:jI,inject:fh,intersection:oH,invert:pI,invoke:q9,isArguments:RE,isArray:wc,isArrayBuffer:oI,isBoolean:rI,isDataView:eg,isDate:z8,isElement:U8,isEmpty:Q8,isEqual:e9,isError:V8,isFinite:K8,isFunction:Vi,isMap:i9,isMatch:cI,isNaN:sI,isNull:B8,isNumber:nI,isObject:yc,isRegExp:q8,isSet:a9,isString:PE,isSymbol:iI,isTypedArray:uI,isUndefined:tI,isWeakMap:o9,isWeakSet:s9,iteratee:jE,keys:ai,last:eH,lastIndexOf:F9,map:zl,mapObject:m9,matcher:Df,matches:Df,max:PI,memoize:P9,methods:tg,min:H9,mixin:DI,negate:CE,noop:_I,now:Ch,object:sH,omit:Z9,once:D9,pairs:l9,partial:Gf,partition:X9,pick:II,pluck:DE,property:IE,propertyOf:g9,random:s_,range:lH,reduce:fh,reduceRight:l_,reject:z9,rest:Tf,restArguments:so,result:$9,sample:NI,select:oc,shuffle:W9,size:Q9,some:c_,sortBy:G9,sortedIndex:xI,tail:Tf,take:dh,tap:d9,template:S9,templateSettings:E9,throttle:N9,times:v9,toArray:RI,toPath:yI,transpose:ig,unescape:_9,union:iH,uniq:ng,unique:ng,uniqueId:T9,unzip:ig,values:Wf,where:V9,without:nH,wrap:j9,zip:aH},Symbol.toStringTag,{value:"Module"})),Jae=NP(Kae);var b1={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var KM;function cH(){return KM||(KM=1,function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:Pa,function(t,r){var n=[],i=Object.getPrototypeOf,o=n.slice,a=n.flat?function(j){return n.flat.call(j)}:function(j){return n.concat.apply([],j)},s=n.push,l=n.indexOf,u={},f=u.toString,c=u.hasOwnProperty,h=c.toString,g=h.call(Object),m={},_=function(U){return typeof U=="function"&&typeof U.nodeType!="number"&&typeof U.item!="function"},v=function(U){return U!=null&&U===U.window},p=t.document,S={type:!0,src:!0,nonce:!0,noModule:!0};function y(j,U,te){te=te||p;var le,me,ve=te.createElement("script");if(ve.text=j,U)for(le in S)me=U[le]||U.getAttribute&&U.getAttribute(le),me&&ve.setAttribute(le,me);te.head.appendChild(ve).parentNode.removeChild(ve)}function E(j){return j==null?j+"":typeof j=="object"||typeof j=="function"?u[f.call(j)]||"object":typeof j}var $="3.7.1",T=/HTML$/i,d=function(j,U){return new d.fn.init(j,U)};d.fn=d.prototype={jquery:$,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(j){return j==null?o.call(this):j<0?this[j+this.length]:this[j]},pushStack:function(j){var U=d.merge(this.constructor(),j);return U.prevObject=this,U},each:function(j){return d.each(this,j)},map:function(j){return this.pushStack(d.map(this,function(U,te){return j.call(U,te,U)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(j,U){return(U+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(j,U){return U%2}))},eq:function(j){var U=this.length,te=+j+(j<0?U:0);return this.pushStack(te>=0&&te<U?[this[te]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var j,U,te,le,me,ve,_e=arguments[0]||{},Fe=1,Me=arguments.length,Ke=!1;for(typeof _e=="boolean"&&(Ke=_e,_e=arguments[Fe]||{},Fe++),typeof _e!="object"&&!_(_e)&&(_e={}),Fe===Me&&(_e=this,Fe--);Fe<Me;Fe++)if((j=arguments[Fe])!=null)for(U in j)le=j[U],!(U==="__proto__"||_e===le)&&(Ke&&le&&(d.isPlainObject(le)||(me=Array.isArray(le)))?(te=_e[U],me&&!Array.isArray(te)?ve=[]:!me&&!d.isPlainObject(te)?ve={}:ve=te,me=!1,_e[U]=d.extend(Ke,ve,le)):le!==void 0&&(_e[U]=le));return _e},d.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(j){throw new Error(j)},noop:function(){},isPlainObject:function(j){var U,te;return!j||f.call(j)!=="[object Object]"?!1:(U=i(j),U?(te=c.call(U,"constructor")&&U.constructor,typeof te=="function"&&h.call(te)===g):!0)},isEmptyObject:function(j){var U;for(U in j)return!1;return!0},globalEval:function(j,U,te){y(j,{nonce:U&&U.nonce},te)},each:function(j,U){var te,le=0;if(A(j))for(te=j.length;le<te&&U.call(j[le],le,j[le])!==!1;le++);else for(le in j)if(U.call(j[le],le,j[le])===!1)break;return j},text:function(j){var U,te="",le=0,me=j.nodeType;if(!me)for(;U=j[le++];)te+=d.text(U);return me===1||me===11?j.textContent:me===9?j.documentElement.textContent:me===3||me===4?j.nodeValue:te},makeArray:function(j,U){var te=U||[];return j!=null&&(A(Object(j))?d.merge(te,typeof j=="string"?[j]:j):s.call(te,j)),te},inArray:function(j,U,te){return U==null?-1:l.call(U,j,te)},isXMLDoc:function(j){var U=j&&j.namespaceURI,te=j&&(j.ownerDocument||j).documentElement;return!T.test(U||te&&te.nodeName||"HTML")},merge:function(j,U){for(var te=+U.length,le=0,me=j.length;le<te;le++)j[me++]=U[le];return j.length=me,j},grep:function(j,U,te){for(var le,me=[],ve=0,_e=j.length,Fe=!te;ve<_e;ve++)le=!U(j[ve],ve),le!==Fe&&me.push(j[ve]);return me},map:function(j,U,te){var le,me,ve=0,_e=[];if(A(j))for(le=j.length;ve<le;ve++)me=U(j[ve],ve,te),me!=null&&_e.push(me);else for(ve in j)me=U(j[ve],ve,te),me!=null&&_e.push(me);return a(_e)},guid:1,support:m}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(j,U){u["[object "+U+"]"]=U.toLowerCase()});function A(j){var U=!!j&&"length"in j&&j.length,te=E(j);return _(j)||v(j)?!1:te==="array"||U===0||typeof U=="number"&&U>0&&U-1 in j}function x(j,U){return j.nodeName&&j.nodeName.toLowerCase()===U.toLowerCase()}var O=n.pop,C=n.sort,F=n.splice,V="[\\x20\\t\\r\\n\\f]",Q=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");d.contains=function(j,U){var te=U&&U.parentNode;return j===te||!!(te&&te.nodeType===1&&(j.contains?j.contains(te):j.compareDocumentPosition&&j.compareDocumentPosition(te)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function X(j,U){return U?j==="\0"?"":j.slice(0,-1)+"\\"+j.charCodeAt(j.length-1).toString(16)+" ":"\\"+j}d.escapeSelector=function(j){return(j+"").replace(H,X)};var ce=p,Z=s;(function(){var j,U,te,le,me,ve=Z,_e,Fe,Me,Ke,it,lt=d.expando,Qe=0,bt=0,qt=Ac(),gr=Ac(),Yt=Ac(),Gn=Ac(),Sn=function(Ie,We){return Ie===We&&(me=!0),0},la="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ua="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vr="\\["+V+"*("+ua+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ua+"))|)"+V+"*\\]",dl=":("+ua+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+vr+")*)|.*)\\)|)",Ar=new RegExp(V+"+","g"),$n=new RegExp("^"+V+"*,"+V+"*"),iu=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Kn=new RegExp(V+"|>"),Ri=new RegExp(dl),ou=new RegExp("^"+ua+"$"),ho={ID:new RegExp("^#("+ua+")"),CLASS:new RegExp("^\\.("+ua+")"),TAG:new RegExp("^("+ua+"|[*])"),ATTR:new RegExp("^"+vr),PSEUDO:new RegExp("^"+dl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+la+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},gi=/^(?:input|select|textarea|button)$/i,vi=/^h\d$/i,Tn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hl=/[+~]/,ca=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),yi=function(Ie,We){var Ze="0x"+Ie.slice(1)-65536;return We||(Ze<0?String.fromCharCode(Ze+65536):String.fromCharCode(Ze>>10|55296,Ze&1023|56320))},lv=function(){As()},uv=su(function(Ie){return Ie.disabled===!0&&x(Ie,"fieldset")},{dir:"parentNode",next:"legend"});function fd(){try{return _e.activeElement}catch{}}try{ve.apply(n=o.call(ce.childNodes),ce.childNodes),n[ce.childNodes.length].nodeType}catch{ve={apply:function(We,Ze){Z.apply(We,o.call(Ze))},call:function(We){Z.apply(We,o.call(arguments,1))}}}function Mr(Ie,We,Ze,z){var ee,ge,$e,He,Ve,Ye,Ge,Xe=We&&We.ownerDocument,pt=We?We.nodeType:9;if(Ze=Ze||[],typeof Ie!="string"||!Ie||pt!==1&&pt!==9&&pt!==11)return Ze;if(!z&&(As(We),We=We||_e,Me)){if(pt!==11&&(Ve=Tn.exec(Ie)))if(ee=Ve[1]){if(pt===9)if($e=We.getElementById(ee)){if($e.id===ee)return ve.call(Ze,$e),Ze}else return Ze;else if(Xe&&($e=Xe.getElementById(ee))&&Mr.contains(We,$e)&&$e.id===ee)return ve.call(Ze,$e),Ze}else{if(Ve[2])return ve.apply(Ze,We.getElementsByTagName(Ie)),Ze;if((ee=Ve[3])&&We.getElementsByClassName)return ve.apply(Ze,We.getElementsByClassName(ee)),Ze}if(!Gn[Ie+" "]&&(!Ke||!Ke.test(Ie))){if(Ge=Ie,Xe=We,pt===1&&(Kn.test(Ie)||iu.test(Ie))){for(Xe=hl.test(Ie)&&up(We.parentNode)||We,(Xe!=We||!m.scope)&&((He=We.getAttribute("id"))?He=d.escapeSelector(He):We.setAttribute("id",He=lt)),Ye=au(Ie),ge=Ye.length;ge--;)Ye[ge]=(He?"#"+He:":scope")+" "+Oc(Ye[ge]);Ge=Ye.join(",")}try{return ve.apply(Ze,Xe.querySelectorAll(Ge)),Ze}catch{Gn(Ie,!0)}finally{He===lt&&We.removeAttribute("id")}}}return Rc(Ie.replace(Q,"$1"),We,Ze,z)}function Ac(){var Ie=[];function We(Ze,z){return Ie.push(Ze+" ")>U.cacheLength&&delete We[Ie.shift()],We[Ze+" "]=z}return We}function po(Ie){return Ie[lt]=!0,Ie}function Ha(Ie){var We=_e.createElement("fieldset");try{return!!Ie(We)}catch{return!1}finally{We.parentNode&&We.parentNode.removeChild(We),We=null}}function cv(Ie){return function(We){return x(We,"input")&&We.type===Ie}}function fv(Ie){return function(We){return(x(We,"input")||x(We,"button"))&&We.type===Ie}}function dv(Ie){return function(We){return"form"in We?We.parentNode&&We.disabled===!1?"label"in We?"label"in We.parentNode?We.parentNode.disabled===Ie:We.disabled===Ie:We.isDisabled===Ie||We.isDisabled!==!Ie&&uv(We)===Ie:We.disabled===Ie:"label"in We?We.disabled===Ie:!1}}function pl(Ie){return po(function(We){return We=+We,po(function(Ze,z){for(var ee,ge=Ie([],Ze.length,We),$e=ge.length;$e--;)Ze[ee=ge[$e]]&&(Ze[ee]=!(z[ee]=Ze[ee]))})})}function up(Ie){return Ie&&typeof Ie.getElementsByTagName<"u"&&Ie}function As(Ie){var We,Ze=Ie?Ie.ownerDocument||Ie:ce;return Ze==_e||Ze.nodeType!==9||!Ze.documentElement||(_e=Ze,Fe=_e.documentElement,Me=!d.isXMLDoc(_e),it=Fe.matches||Fe.webkitMatchesSelector||Fe.msMatchesSelector,Fe.msMatchesSelector&&ce!=_e&&(We=_e.defaultView)&&We.top!==We&&We.addEventListener("unload",lv),m.getById=Ha(function(z){return Fe.appendChild(z).id=d.expando,!_e.getElementsByName||!_e.getElementsByName(d.expando).length}),m.disconnectedMatch=Ha(function(z){return it.call(z,"*")}),m.scope=Ha(function(){return _e.querySelectorAll(":scope")}),m.cssHas=Ha(function(){try{return _e.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),m.getById?(U.filter.ID=function(z){var ee=z.replace(ca,yi);return function(ge){return ge.getAttribute("id")===ee}},U.find.ID=function(z,ee){if(typeof ee.getElementById<"u"&&Me){var ge=ee.getElementById(z);return ge?[ge]:[]}}):(U.filter.ID=function(z){var ee=z.replace(ca,yi);return function(ge){var $e=typeof ge.getAttributeNode<"u"&&ge.getAttributeNode("id");return $e&&$e.value===ee}},U.find.ID=function(z,ee){if(typeof ee.getElementById<"u"&&Me){var ge,$e,He,Ve=ee.getElementById(z);if(Ve){if(ge=Ve.getAttributeNode("id"),ge&&ge.value===z)return[Ve];for(He=ee.getElementsByName(z),$e=0;Ve=He[$e++];)if(ge=Ve.getAttributeNode("id"),ge&&ge.value===z)return[Ve]}return[]}}),U.find.TAG=function(z,ee){return typeof ee.getElementsByTagName<"u"?ee.getElementsByTagName(z):ee.querySelectorAll(z)},U.find.CLASS=function(z,ee){if(typeof ee.getElementsByClassName<"u"&&Me)return ee.getElementsByClassName(z)},Ke=[],Ha(function(z){var ee;Fe.appendChild(z).innerHTML="<a id='"+lt+"' href='' disabled='disabled'></a><select id='"+lt+"-\r\\' disabled='disabled'><option selected=''></option></select>",z.querySelectorAll("[selected]").length||Ke.push("\\["+V+"*(?:value|"+la+")"),z.querySelectorAll("[id~="+lt+"-]").length||Ke.push("~="),z.querySelectorAll("a#"+lt+"+*").length||Ke.push(".#.+[+~]"),z.querySelectorAll(":checked").length||Ke.push(":checked"),ee=_e.createElement("input"),ee.setAttribute("type","hidden"),z.appendChild(ee).setAttribute("name","D"),Fe.appendChild(z).disabled=!0,z.querySelectorAll(":disabled").length!==2&&Ke.push(":enabled",":disabled"),ee=_e.createElement("input"),ee.setAttribute("name",""),z.appendChild(ee),z.querySelectorAll("[name='']").length||Ke.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),m.cssHas||Ke.push(":has"),Ke=Ke.length&&new RegExp(Ke.join("|")),Sn=function(z,ee){if(z===ee)return me=!0,0;var ge=!z.compareDocumentPosition-!ee.compareDocumentPosition;return ge||(ge=(z.ownerDocument||z)==(ee.ownerDocument||ee)?z.compareDocumentPosition(ee):1,ge&1||!m.sortDetached&&ee.compareDocumentPosition(z)===ge?z===_e||z.ownerDocument==ce&&Mr.contains(ce,z)?-1:ee===_e||ee.ownerDocument==ce&&Mr.contains(ce,ee)?1:le?l.call(le,z)-l.call(le,ee):0:ge&4?-1:1)}),_e}Mr.matches=function(Ie,We){return Mr(Ie,null,null,We)},Mr.matchesSelector=function(Ie,We){if(As(Ie),Me&&!Gn[We+" "]&&(!Ke||!Ke.test(We)))try{var Ze=it.call(Ie,We);if(Ze||m.disconnectedMatch||Ie.document&&Ie.document.nodeType!==11)return Ze}catch{Gn(We,!0)}return Mr(We,_e,null,[Ie]).length>0},Mr.contains=function(Ie,We){return(Ie.ownerDocument||Ie)!=_e&&As(Ie),d.contains(Ie,We)},Mr.attr=function(Ie,We){(Ie.ownerDocument||Ie)!=_e&&As(Ie);var Ze=U.attrHandle[We.toLowerCase()],z=Ze&&c.call(U.attrHandle,We.toLowerCase())?Ze(Ie,We,!Me):void 0;return z!==void 0?z:Ie.getAttribute(We)},Mr.error=function(Ie){throw new Error("Syntax error, unrecognized expression: "+Ie)},d.uniqueSort=function(Ie){var We,Ze=[],z=0,ee=0;if(me=!m.sortStable,le=!m.sortStable&&o.call(Ie,0),C.call(Ie,Sn),me){for(;We=Ie[ee++];)We===Ie[ee]&&(z=Ze.push(ee));for(;z--;)F.call(Ie,Ze[z],1)}return le=null,Ie},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},U=d.expr={cacheLength:50,createPseudo:po,match:ho,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ie){return Ie[1]=Ie[1].replace(ca,yi),Ie[3]=(Ie[3]||Ie[4]||Ie[5]||"").replace(ca,yi),Ie[2]==="~="&&(Ie[3]=" "+Ie[3]+" "),Ie.slice(0,4)},CHILD:function(Ie){return Ie[1]=Ie[1].toLowerCase(),Ie[1].slice(0,3)==="nth"?(Ie[3]||Mr.error(Ie[0]),Ie[4]=+(Ie[4]?Ie[5]+(Ie[6]||1):2*(Ie[3]==="even"||Ie[3]==="odd")),Ie[5]=+(Ie[7]+Ie[8]||Ie[3]==="odd")):Ie[3]&&Mr.error(Ie[0]),Ie},PSEUDO:function(Ie){var We,Ze=!Ie[6]&&Ie[2];return ho.CHILD.test(Ie[0])?null:(Ie[3]?Ie[2]=Ie[4]||Ie[5]||"":Ze&&Ri.test(Ze)&&(We=au(Ze,!0))&&(We=Ze.indexOf(")",Ze.length-We)-Ze.length)&&(Ie[0]=Ie[0].slice(0,We),Ie[2]=Ze.slice(0,We)),Ie.slice(0,3))}},filter:{TAG:function(Ie){var We=Ie.replace(ca,yi).toLowerCase();return Ie==="*"?function(){return!0}:function(Ze){return x(Ze,We)}},CLASS:function(Ie){var We=qt[Ie+" "];return We||(We=new RegExp("(^|"+V+")"+Ie+"("+V+"|$)"))&&qt(Ie,function(Ze){return We.test(typeof Ze.className=="string"&&Ze.className||typeof Ze.getAttribute<"u"&&Ze.getAttribute("class")||"")})},ATTR:function(Ie,We,Ze){return function(z){var ee=Mr.attr(z,Ie);return ee==null?We==="!=":We?(ee+="",We==="="?ee===Ze:We==="!="?ee!==Ze:We==="^="?Ze&&ee.indexOf(Ze)===0:We==="*="?Ze&&ee.indexOf(Ze)>-1:We==="$="?Ze&&ee.slice(-Ze.length)===Ze:We==="~="?(" "+ee.replace(Ar," ")+" ").indexOf(Ze)>-1:We==="|="?ee===Ze||ee.slice(0,Ze.length+1)===Ze+"-":!1):!0}},CHILD:function(Ie,We,Ze,z,ee){var ge=Ie.slice(0,3)!=="nth",$e=Ie.slice(-4)!=="last",He=We==="of-type";return z===1&&ee===0?function(Ve){return!!Ve.parentNode}:function(Ve,Ye,Ge){var Xe,pt,gt,Ft,_t,Ut=ge!==$e?"nextSibling":"previousSibling",Er=Ve.parentNode,Rr=He&&Ve.nodeName.toLowerCase(),Dn=!Ge&&!He,Hr=!1;if(Er){if(ge){for(;Ut;){for(gt=Ve;gt=gt[Ut];)if(He?x(gt,Rr):gt.nodeType===1)return!1;_t=Ut=Ie==="only"&&!_t&&"nextSibling"}return!0}if(_t=[$e?Er.firstChild:Er.lastChild],$e&&Dn){for(pt=Er[lt]||(Er[lt]={}),Xe=pt[Ie]||[],Ft=Xe[0]===Qe&&Xe[1],Hr=Ft&&Xe[2],gt=Ft&&Er.childNodes[Ft];gt=++Ft&&gt&&gt[Ut]||(Hr=Ft=0)||_t.pop();)if(gt.nodeType===1&&++Hr&&gt===Ve){pt[Ie]=[Qe,Ft,Hr];break}}else if(Dn&&(pt=Ve[lt]||(Ve[lt]={}),Xe=pt[Ie]||[],Ft=Xe[0]===Qe&&Xe[1],Hr=Ft),Hr===!1)for(;(gt=++Ft&&gt&&gt[Ut]||(Hr=Ft=0)||_t.pop())&&!((He?x(gt,Rr):gt.nodeType===1)&&++Hr&&(Dn&&(pt=gt[lt]||(gt[lt]={}),pt[Ie]=[Qe,Hr]),gt===Ve)););return Hr-=ee,Hr===z||Hr%z===0&&Hr/z>=0}}},PSEUDO:function(Ie,We){var Ze,z=U.pseudos[Ie]||U.setFilters[Ie.toLowerCase()]||Mr.error("unsupported pseudo: "+Ie);return z[lt]?z(We):z.length>1?(Ze=[Ie,Ie,"",We],U.setFilters.hasOwnProperty(Ie.toLowerCase())?po(function(ee,ge){for(var $e,He=z(ee,We),Ve=He.length;Ve--;)$e=l.call(ee,He[Ve]),ee[$e]=!(ge[$e]=He[Ve])}):function(ee){return z(ee,0,Ze)}):z}},pseudos:{not:po(function(Ie){var We=[],Ze=[],z=hd(Ie.replace(Q,"$1"));return z[lt]?po(function(ee,ge,$e,He){for(var Ve,Ye=z(ee,null,He,[]),Ge=ee.length;Ge--;)(Ve=Ye[Ge])&&(ee[Ge]=!(ge[Ge]=Ve))}):function(ee,ge,$e){return We[0]=ee,z(We,null,$e,Ze),We[0]=null,!Ze.pop()}}),has:po(function(Ie){return function(We){return Mr(Ie,We).length>0}}),contains:po(function(Ie){return Ie=Ie.replace(ca,yi),function(We){return(We.textContent||d.text(We)).indexOf(Ie)>-1}}),lang:po(function(Ie){return ou.test(Ie||"")||Mr.error("unsupported lang: "+Ie),Ie=Ie.replace(ca,yi).toLowerCase(),function(We){var Ze;do if(Ze=Me?We.lang:We.getAttribute("xml:lang")||We.getAttribute("lang"))return Ze=Ze.toLowerCase(),Ze===Ie||Ze.indexOf(Ie+"-")===0;while((We=We.parentNode)&&We.nodeType===1);return!1}}),target:function(Ie){var We=t.location&&t.location.hash;return We&&We.slice(1)===Ie.id},root:function(Ie){return Ie===Fe},focus:function(Ie){return Ie===fd()&&_e.hasFocus()&&!!(Ie.type||Ie.href||~Ie.tabIndex)},enabled:dv(!1),disabled:dv(!0),checked:function(Ie){return x(Ie,"input")&&!!Ie.checked||x(Ie,"option")&&!!Ie.selected},selected:function(Ie){return Ie.parentNode&&Ie.parentNode.selectedIndex,Ie.selected===!0},empty:function(Ie){for(Ie=Ie.firstChild;Ie;Ie=Ie.nextSibling)if(Ie.nodeType<6)return!1;return!0},parent:function(Ie){return!U.pseudos.empty(Ie)},header:function(Ie){return vi.test(Ie.nodeName)},input:function(Ie){return gi.test(Ie.nodeName)},button:function(Ie){return x(Ie,"input")&&Ie.type==="button"||x(Ie,"button")},text:function(Ie){var We;return x(Ie,"input")&&Ie.type==="text"&&((We=Ie.getAttribute("type"))==null||We.toLowerCase()==="text")},first:pl(function(){return[0]}),last:pl(function(Ie,We){return[We-1]}),eq:pl(function(Ie,We,Ze){return[Ze<0?Ze+We:Ze]}),even:pl(function(Ie,We){for(var Ze=0;Ze<We;Ze+=2)Ie.push(Ze);return Ie}),odd:pl(function(Ie,We){for(var Ze=1;Ze<We;Ze+=2)Ie.push(Ze);return Ie}),lt:pl(function(Ie,We,Ze){var z;for(Ze<0?z=Ze+We:Ze>We?z=We:z=Ze;--z>=0;)Ie.push(z);return Ie}),gt:pl(function(Ie,We,Ze){for(var z=Ze<0?Ze+We:Ze;++z<We;)Ie.push(z);return Ie})}},U.pseudos.nth=U.pseudos.eq;for(j in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[j]=cv(j);for(j in{submit:!0,reset:!0})U.pseudos[j]=fv(j);function xc(){}xc.prototype=U.filters=U.pseudos,U.setFilters=new xc;function au(Ie,We){var Ze,z,ee,ge,$e,He,Ve,Ye=gr[Ie+" "];if(Ye)return We?0:Ye.slice(0);for($e=Ie,He=[],Ve=U.preFilter;$e;){(!Ze||(z=$n.exec($e)))&&(z&&($e=$e.slice(z[0].length)||$e),He.push(ee=[])),Ze=!1,(z=iu.exec($e))&&(Ze=z.shift(),ee.push({value:Ze,type:z[0].replace(Q," ")}),$e=$e.slice(Ze.length));for(ge in U.filter)(z=ho[ge].exec($e))&&(!Ve[ge]||(z=Ve[ge](z)))&&(Ze=z.shift(),ee.push({value:Ze,type:ge,matches:z}),$e=$e.slice(Ze.length));if(!Ze)break}return We?$e.length:$e?Mr.error(Ie):gr(Ie,He).slice(0)}function Oc(Ie){for(var We=0,Ze=Ie.length,z="";We<Ze;We++)z+=Ie[We].value;return z}function su(Ie,We,Ze){var z=We.dir,ee=We.next,ge=ee||z,$e=Ze&&ge==="parentNode",He=bt++;return We.first?function(Ve,Ye,Ge){for(;Ve=Ve[z];)if(Ve.nodeType===1||$e)return Ie(Ve,Ye,Ge);return!1}:function(Ve,Ye,Ge){var Xe,pt,gt=[Qe,He];if(Ge){for(;Ve=Ve[z];)if((Ve.nodeType===1||$e)&&Ie(Ve,Ye,Ge))return!0}else for(;Ve=Ve[z];)if(Ve.nodeType===1||$e)if(pt=Ve[lt]||(Ve[lt]={}),ee&&x(Ve,ee))Ve=Ve[z]||Ve;else{if((Xe=pt[ge])&&Xe[0]===Qe&&Xe[1]===He)return gt[2]=Xe[2];if(pt[ge]=gt,gt[2]=Ie(Ve,Ye,Ge))return!0}return!1}}function Pc(Ie){return Ie.length>1?function(We,Ze,z){for(var ee=Ie.length;ee--;)if(!Ie[ee](We,Ze,z))return!1;return!0}:Ie[0]}function dd(Ie,We,Ze){for(var z=0,ee=We.length;z<ee;z++)Mr(Ie,We[z],Ze);return Ze}function Fo(Ie,We,Ze,z,ee){for(var ge,$e=[],He=0,Ve=Ie.length,Ye=We!=null;He<Ve;He++)(ge=Ie[He])&&(!Ze||Ze(ge,z,ee))&&($e.push(ge),Ye&&We.push(He));return $e}function lu(Ie,We,Ze,z,ee,ge){return z&&!z[lt]&&(z=lu(z)),ee&&!ee[lt]&&(ee=lu(ee,ge)),po(function($e,He,Ve,Ye){var Ge,Xe,pt,gt,Ft=[],_t=[],Ut=He.length,Er=$e||dd(We||"*",Ve.nodeType?[Ve]:Ve,[]),Rr=Ie&&($e||!We)?Fo(Er,Ft,Ie,Ve,Ye):Er;if(Ze?(gt=ee||($e?Ie:Ut||z)?[]:He,Ze(Rr,gt,Ve,Ye)):gt=Rr,z)for(Ge=Fo(gt,_t),z(Ge,[],Ve,Ye),Xe=Ge.length;Xe--;)(pt=Ge[Xe])&&(gt[_t[Xe]]=!(Rr[_t[Xe]]=pt));if($e){if(ee||Ie){if(ee){for(Ge=[],Xe=gt.length;Xe--;)(pt=gt[Xe])&&Ge.push(Rr[Xe]=pt);ee(null,gt=[],Ge,Ye)}for(Xe=gt.length;Xe--;)(pt=gt[Xe])&&(Ge=ee?l.call($e,pt):Ft[Xe])>-1&&($e[Ge]=!(He[Ge]=pt))}}else gt=Fo(gt===He?gt.splice(Ut,gt.length):gt),ee?ee(null,He,gt,Ye):ve.apply(He,gt)})}function uu(Ie){for(var We,Ze,z,ee=Ie.length,ge=U.relative[Ie[0].type],$e=ge||U.relative[" "],He=ge?1:0,Ve=su(function(Xe){return Xe===We},$e,!0),Ye=su(function(Xe){return l.call(We,Xe)>-1},$e,!0),Ge=[function(Xe,pt,gt){var Ft=!ge&&(gt||pt!=te)||((We=pt).nodeType?Ve(Xe,pt,gt):Ye(Xe,pt,gt));return We=null,Ft}];He<ee;He++)if(Ze=U.relative[Ie[He].type])Ge=[su(Pc(Ge),Ze)];else{if(Ze=U.filter[Ie[He].type].apply(null,Ie[He].matches),Ze[lt]){for(z=++He;z<ee&&!U.relative[Ie[z].type];z++);return lu(He>1&&Pc(Ge),He>1&&Oc(Ie.slice(0,He-1).concat({value:Ie[He-2].type===" "?"*":""})).replace(Q,"$1"),Ze,He<z&&uu(Ie.slice(He,z)),z<ee&&uu(Ie=Ie.slice(z)),z<ee&&Oc(Ie))}Ge.push(Ze)}return Pc(Ge)}function hv(Ie,We){var Ze=We.length>0,z=Ie.length>0,ee=function(ge,$e,He,Ve,Ye){var Ge,Xe,pt,gt=0,Ft="0",_t=ge&&[],Ut=[],Er=te,Rr=ge||z&&U.find.TAG("*",Ye),Dn=Qe+=Er==null?1:Math.random()||.1,Hr=Rr.length;for(Ye&&(te=$e==_e||$e||Ye);Ft!==Hr&&(Ge=Rr[Ft])!=null;Ft++){if(z&&Ge){for(Xe=0,!$e&&Ge.ownerDocument!=_e&&(As(Ge),He=!Me);pt=Ie[Xe++];)if(pt(Ge,$e||_e,He)){ve.call(Ve,Ge);break}Ye&&(Qe=Dn)}Ze&&((Ge=!pt&&Ge)&&gt--,ge&&_t.push(Ge))}if(gt+=Ft,Ze&&Ft!==gt){for(Xe=0;pt=We[Xe++];)pt(_t,Ut,$e,He);if(ge){if(gt>0)for(;Ft--;)_t[Ft]||Ut[Ft]||(Ut[Ft]=O.call(Ve));Ut=Fo(Ut)}ve.apply(Ve,Ut),Ye&&!ge&&Ut.length>0&&gt+We.length>1&&d.uniqueSort(Ve)}return Ye&&(Qe=Dn,te=Er),_t};return Ze?po(ee):ee}function hd(Ie,We){var Ze,z=[],ee=[],ge=Yt[Ie+" "];if(!ge){for(We||(We=au(Ie)),Ze=We.length;Ze--;)ge=uu(We[Ze]),ge[lt]?z.push(ge):ee.push(ge);ge=Yt(Ie,hv(ee,z)),ge.selector=Ie}return ge}function Rc(Ie,We,Ze,z){var ee,ge,$e,He,Ve,Ye=typeof Ie=="function"&&Ie,Ge=!z&&au(Ie=Ye.selector||Ie);if(Ze=Ze||[],Ge.length===1){if(ge=Ge[0]=Ge[0].slice(0),ge.length>2&&($e=ge[0]).type==="ID"&&We.nodeType===9&&Me&&U.relative[ge[1].type]){if(We=(U.find.ID($e.matches[0].replace(ca,yi),We)||[])[0],We)Ye&&(We=We.parentNode);else return Ze;Ie=Ie.slice(ge.shift().value.length)}for(ee=ho.needsContext.test(Ie)?0:ge.length;ee--&&($e=ge[ee],!U.relative[He=$e.type]);)if((Ve=U.find[He])&&(z=Ve($e.matches[0].replace(ca,yi),hl.test(ge[0].type)&&up(We.parentNode)||We))){if(ge.splice(ee,1),Ie=z.length&&Oc(ge),!Ie)return ve.apply(Ze,z),Ze;break}}return(Ye||hd(Ie,Ge))(z,We,!Me,Ze,!We||hl.test(Ie)&&up(We.parentNode)||We),Ze}m.sortStable=lt.split("").sort(Sn).join("")===lt,As(),m.sortDetached=Ha(function(Ie){return Ie.compareDocumentPosition(_e.createElement("fieldset"))&1}),d.find=Mr,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,Mr.compile=hd,Mr.select=Rc,Mr.setDocument=As,Mr.tokenize=au,Mr.escape=d.escapeSelector,Mr.getText=d.text,Mr.isXML=d.isXMLDoc,Mr.selectors=d.expr,Mr.support=d.support,Mr.uniqueSort=d.uniqueSort})();var ie=function(j,U,te){for(var le=[],me=te!==void 0;(j=j[U])&&j.nodeType!==9;)if(j.nodeType===1){if(me&&d(j).is(te))break;le.push(j)}return le},k=function(j,U){for(var te=[];j;j=j.nextSibling)j.nodeType===1&&j!==U&&te.push(j);return te},B=d.expr.match.needsContext,G=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(j,U,te){return _(U)?d.grep(j,function(le,me){return!!U.call(le,me,le)!==te}):U.nodeType?d.grep(j,function(le){return le===U!==te}):typeof U!="string"?d.grep(j,function(le){return l.call(U,le)>-1!==te}):d.filter(U,j,te)}d.filter=function(j,U,te){var le=U[0];return te&&(j=":not("+j+")"),U.length===1&&le.nodeType===1?d.find.matchesSelector(le,j)?[le]:[]:d.find.matches(j,d.grep(U,function(me){return me.nodeType===1}))},d.fn.extend({find:function(j){var U,te,le=this.length,me=this;if(typeof j!="string")return this.pushStack(d(j).filter(function(){for(U=0;U<le;U++)if(d.contains(me[U],this))return!0}));for(te=this.pushStack([]),U=0;U<le;U++)d.find(j,me[U],te);return le>1?d.uniqueSort(te):te},filter:function(j){return this.pushStack(P(this,j||[],!1))},not:function(j){return this.pushStack(P(this,j||[],!0))},is:function(j){return!!P(this,typeof j=="string"&&B.test(j)?d(j):j||[],!1).length}});var N,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,oe=d.fn.init=function(j,U,te){var le,me;if(!j)return this;if(te=te||N,typeof j=="string")if(j[0]==="<"&&j[j.length-1]===">"&&j.length>=3?le=[null,j,null]:le=q.exec(j),le&&(le[1]||!U))if(le[1]){if(U=U instanceof d?U[0]:U,d.merge(this,d.parseHTML(le[1],U&&U.nodeType?U.ownerDocument||U:p,!0)),G.test(le[1])&&d.isPlainObject(U))for(le in U)_(this[le])?this[le](U[le]):this.attr(le,U[le]);return this}else return me=p.getElementById(le[2]),me&&(this[0]=me,this.length=1),this;else return!U||U.jquery?(U||te).find(j):this.constructor(U).find(j);else{if(j.nodeType)return this[0]=j,this.length=1,this;if(_(j))return te.ready!==void 0?te.ready(j):j(d)}return d.makeArray(j,this)};oe.prototype=d.fn,N=d(p);var J=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(j){var U=d(j,this),te=U.length;return this.filter(function(){for(var le=0;le<te;le++)if(d.contains(this,U[le]))return!0})},closest:function(j,U){var te,le=0,me=this.length,ve=[],_e=typeof j!="string"&&d(j);if(!B.test(j)){for(;le<me;le++)for(te=this[le];te&&te!==U;te=te.parentNode)if(te.nodeType<11&&(_e?_e.index(te)>-1:te.nodeType===1&&d.find.matchesSelector(te,j))){ve.push(te);break}}return this.pushStack(ve.length>1?d.uniqueSort(ve):ve)},index:function(j){return j?typeof j=="string"?l.call(d(j),this[0]):l.call(this,j.jquery?j[0]:j):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(j,U){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(j,U))))},addBack:function(j){return this.add(j==null?this.prevObject:this.prevObject.filter(j))}});function se(j,U){for(;(j=j[U])&&j.nodeType!==1;);return j}d.each({parent:function(j){var U=j.parentNode;return U&&U.nodeType!==11?U:null},parents:function(j){return ie(j,"parentNode")},parentsUntil:function(j,U,te){return ie(j,"parentNode",te)},next:function(j){return se(j,"nextSibling")},prev:function(j){return se(j,"previousSibling")},nextAll:function(j){return ie(j,"nextSibling")},prevAll:function(j){return ie(j,"previousSibling")},nextUntil:function(j,U,te){return ie(j,"nextSibling",te)},prevUntil:function(j,U,te){return ie(j,"previousSibling",te)},siblings:function(j){return k((j.parentNode||{}).firstChild,j)},children:function(j){return k(j.firstChild)},contents:function(j){return j.contentDocument!=null&&i(j.contentDocument)?j.contentDocument:(x(j,"template")&&(j=j.content||j),d.merge([],j.childNodes))}},function(j,U){d.fn[j]=function(te,le){var me=d.map(this,U,te);return j.slice(-5)!=="Until"&&(le=te),le&&typeof le=="string"&&(me=d.filter(le,me)),this.length>1&&(Y[j]||d.uniqueSort(me),J.test(j)&&me.reverse()),this.pushStack(me)}});var be=/[^\x20\t\r\n\f]+/g;function Ne(j){var U={};return d.each(j.match(be)||[],function(te,le){U[le]=!0}),U}d.Callbacks=function(j){j=typeof j=="string"?Ne(j):d.extend({},j);var U,te,le,me,ve=[],_e=[],Fe=-1,Me=function(){for(me=me||j.once,le=U=!0;_e.length;Fe=-1)for(te=_e.shift();++Fe<ve.length;)ve[Fe].apply(te[0],te[1])===!1&&j.stopOnFalse&&(Fe=ve.length,te=!1);j.memory||(te=!1),U=!1,me&&(te?ve=[]:ve="")},Ke={add:function(){return ve&&(te&&!U&&(Fe=ve.length-1,_e.push(te)),function it(lt){d.each(lt,function(Qe,bt){_(bt)?(!j.unique||!Ke.has(bt))&&ve.push(bt):bt&&bt.length&&E(bt)!=="string"&&it(bt)})}(arguments),te&&!U&&Me()),this},remove:function(){return d.each(arguments,function(it,lt){for(var Qe;(Qe=d.inArray(lt,ve,Qe))>-1;)ve.splice(Qe,1),Qe<=Fe&&Fe--}),this},has:function(it){return it?d.inArray(it,ve)>-1:ve.length>0},empty:function(){return ve&&(ve=[]),this},disable:function(){return me=_e=[],ve=te="",this},disabled:function(){return!ve},lock:function(){return me=_e=[],!te&&!U&&(ve=te=""),this},locked:function(){return!!me},fireWith:function(it,lt){return me||(lt=lt||[],lt=[it,lt.slice?lt.slice():lt],_e.push(lt),U||Me()),this},fire:function(){return Ke.fireWith(this,arguments),this},fired:function(){return!!le}};return Ke};function R(j){return j}function D(j){throw j}function M(j,U,te,le){var me;try{j&&_(me=j.promise)?me.call(j).done(U).fail(te):j&&_(me=j.then)?me.call(j,U,te):U.apply(void 0,[j].slice(le))}catch(ve){te.apply(void 0,[ve])}}d.extend({Deferred:function(j){var U=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],te="pending",le={state:function(){return te},always:function(){return me.done(arguments).fail(arguments),this},catch:function(ve){return le.then(null,ve)},pipe:function(){var ve=arguments;return d.Deferred(function(_e){d.each(U,function(Fe,Me){var Ke=_(ve[Me[4]])&&ve[Me[4]];me[Me[1]](function(){var it=Ke&&Ke.apply(this,arguments);it&&_(it.promise)?it.promise().progress(_e.notify).done(_e.resolve).fail(_e.reject):_e[Me[0]+"With"](this,Ke?[it]:arguments)})}),ve=null}).promise()},then:function(ve,_e,Fe){var Me=0;function Ke(it,lt,Qe,bt){return function(){var qt=this,gr=arguments,Yt=function(){var Sn,la;if(!(it<Me)){if(Sn=Qe.apply(qt,gr),Sn===lt.promise())throw new TypeError("Thenable self-resolution");la=Sn&&(typeof Sn=="object"||typeof Sn=="function")&&Sn.then,_(la)?bt?la.call(Sn,Ke(Me,lt,R,bt),Ke(Me,lt,D,bt)):(Me++,la.call(Sn,Ke(Me,lt,R,bt),Ke(Me,lt,D,bt),Ke(Me,lt,R,lt.notifyWith))):(Qe!==R&&(qt=void 0,gr=[Sn]),(bt||lt.resolveWith)(qt,gr))}},Gn=bt?Yt:function(){try{Yt()}catch(Sn){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Sn,Gn.error),it+1>=Me&&(Qe!==D&&(qt=void 0,gr=[Sn]),lt.rejectWith(qt,gr))}};it?Gn():(d.Deferred.getErrorHook?Gn.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(Gn.error=d.Deferred.getStackHook()),t.setTimeout(Gn))}}return d.Deferred(function(it){U[0][3].add(Ke(0,it,_(Fe)?Fe:R,it.notifyWith)),U[1][3].add(Ke(0,it,_(ve)?ve:R)),U[2][3].add(Ke(0,it,_(_e)?_e:D))}).promise()},promise:function(ve){return ve!=null?d.extend(ve,le):le}},me={};return d.each(U,function(ve,_e){var Fe=_e[2],Me=_e[5];le[_e[1]]=Fe.add,Me&&Fe.add(function(){te=Me},U[3-ve][2].disable,U[3-ve][3].disable,U[0][2].lock,U[0][3].lock),Fe.add(_e[3].fire),me[_e[0]]=function(){return me[_e[0]+"With"](this===me?void 0:this,arguments),this},me[_e[0]+"With"]=Fe.fireWith}),le.promise(me),j&&j.call(me,me),me},when:function(j){var U=arguments.length,te=U,le=Array(te),me=o.call(arguments),ve=d.Deferred(),_e=function(Fe){return function(Me){le[Fe]=this,me[Fe]=arguments.length>1?o.call(arguments):Me,--U||ve.resolveWith(le,me)}};if(U<=1&&(M(j,ve.done(_e(te)).resolve,ve.reject,!U),ve.state()==="pending"||_(me[te]&&me[te].then)))return ve.then();for(;te--;)M(me[te],_e(te),ve.reject);return ve.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(j,U){t.console&&t.console.warn&&j&&K.test(j.name)&&t.console.warn("jQuery.Deferred exception: "+j.message,j.stack,U)},d.readyException=function(j){t.setTimeout(function(){throw j})};var ae=d.Deferred();d.fn.ready=function(j){return ae.then(j).catch(function(U){d.readyException(U)}),this},d.extend({isReady:!1,readyWait:1,ready:function(j){(j===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(j!==!0&&--d.readyWait>0)&&ae.resolveWith(p,[d]))}}),d.ready.then=ae.then;function fe(){p.removeEventListener("DOMContentLoaded",fe),t.removeEventListener("load",fe),d.ready()}p.readyState==="complete"||p.readyState!=="loading"&&!p.documentElement.doScroll?t.setTimeout(d.ready):(p.addEventListener("DOMContentLoaded",fe),t.addEventListener("load",fe));var de=function(j,U,te,le,me,ve,_e){var Fe=0,Me=j.length,Ke=te==null;if(E(te)==="object"){me=!0;for(Fe in te)de(j,U,Fe,te[Fe],!0,ve,_e)}else if(le!==void 0&&(me=!0,_(le)||(_e=!0),Ke&&(_e?(U.call(j,le),U=null):(Ke=U,U=function(it,lt,Qe){return Ke.call(d(it),Qe)})),U))for(;Fe<Me;Fe++)U(j[Fe],te,_e?le:le.call(j[Fe],Fe,U(j[Fe],te)));return me?j:Ke?U.call(j):Me?U(j[0],te):ve},pe=/^-ms-/,xe=/-([a-z])/g;function Le(j,U){return U.toUpperCase()}function ke(j){return j.replace(pe,"ms-").replace(xe,Le)}var nt=function(j){return j.nodeType===1||j.nodeType===9||!+j.nodeType};function qe(){this.expando=d.expando+qe.uid++}qe.uid=1,qe.prototype={cache:function(j){var U=j[this.expando];return U||(U={},nt(j)&&(j.nodeType?j[this.expando]=U:Object.defineProperty(j,this.expando,{value:U,configurable:!0}))),U},set:function(j,U,te){var le,me=this.cache(j);if(typeof U=="string")me[ke(U)]=te;else for(le in U)me[ke(le)]=U[le];return me},get:function(j,U){return U===void 0?this.cache(j):j[this.expando]&&j[this.expando][ke(U)]},access:function(j,U,te){return U===void 0||U&&typeof U=="string"&&te===void 0?this.get(j,U):(this.set(j,U,te),te!==void 0?te:U)},remove:function(j,U){var te,le=j[this.expando];if(le!==void 0){if(U!==void 0)for(Array.isArray(U)?U=U.map(ke):(U=ke(U),U=U in le?[U]:U.match(be)||[]),te=U.length;te--;)delete le[U[te]];(U===void 0||d.isEmptyObject(le))&&(j.nodeType?j[this.expando]=void 0:delete j[this.expando])}},hasData:function(j){var U=j[this.expando];return U!==void 0&&!d.isEmptyObject(U)}};var Ue=new qe,W=new qe,I=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/[A-Z]/g;function ne(j){return j==="true"?!0:j==="false"?!1:j==="null"?null:j===+j+""?+j:I.test(j)?JSON.parse(j):j}function ye(j,U,te){var le;if(te===void 0&&j.nodeType===1)if(le="data-"+U.replace(L,"-$&").toLowerCase(),te=j.getAttribute(le),typeof te=="string"){try{te=ne(te)}catch{}W.set(j,U,te)}else te=void 0;return te}d.extend({hasData:function(j){return W.hasData(j)||Ue.hasData(j)},data:function(j,U,te){return W.access(j,U,te)},removeData:function(j,U){W.remove(j,U)},_data:function(j,U,te){return Ue.access(j,U,te)},_removeData:function(j,U){Ue.remove(j,U)}}),d.fn.extend({data:function(j,U){var te,le,me,ve=this[0],_e=ve&&ve.attributes;if(j===void 0){if(this.length&&(me=W.get(ve),ve.nodeType===1&&!Ue.get(ve,"hasDataAttrs"))){for(te=_e.length;te--;)_e[te]&&(le=_e[te].name,le.indexOf("data-")===0&&(le=ke(le.slice(5)),ye(ve,le,me[le])));Ue.set(ve,"hasDataAttrs",!0)}return me}return typeof j=="object"?this.each(function(){W.set(this,j)}):de(this,function(Fe){var Me;if(ve&&Fe===void 0)return Me=W.get(ve,j),Me!==void 0||(Me=ye(ve,j),Me!==void 0)?Me:void 0;this.each(function(){W.set(this,j,Fe)})},null,U,arguments.length>1,null,!0)},removeData:function(j){return this.each(function(){W.remove(this,j)})}}),d.extend({queue:function(j,U,te){var le;if(j)return U=(U||"fx")+"queue",le=Ue.get(j,U),te&&(!le||Array.isArray(te)?le=Ue.access(j,U,d.makeArray(te)):le.push(te)),le||[]},dequeue:function(j,U){U=U||"fx";var te=d.queue(j,U),le=te.length,me=te.shift(),ve=d._queueHooks(j,U),_e=function(){d.dequeue(j,U)};me==="inprogress"&&(me=te.shift(),le--),me&&(U==="fx"&&te.unshift("inprogress"),delete ve.stop,me.call(j,_e,ve)),!le&&ve&&ve.empty.fire()},_queueHooks:function(j,U){var te=U+"queueHooks";return Ue.get(j,te)||Ue.access(j,te,{empty:d.Callbacks("once memory").add(function(){Ue.remove(j,[U+"queue",te])})})}}),d.fn.extend({queue:function(j,U){var te=2;return typeof j!="string"&&(U=j,j="fx",te--),arguments.length<te?d.queue(this[0],j):U===void 0?this:this.each(function(){var le=d.queue(this,j,U);d._queueHooks(this,j),j==="fx"&&le[0]!=="inprogress"&&d.dequeue(this,j)})},dequeue:function(j){return this.each(function(){d.dequeue(this,j)})},clearQueue:function(j){return this.queue(j||"fx",[])},promise:function(j,U){var te,le=1,me=d.Deferred(),ve=this,_e=this.length,Fe=function(){--le||me.resolveWith(ve,[ve])};for(typeof j!="string"&&(U=j,j=void 0),j=j||"fx";_e--;)te=Ue.get(ve[_e],j+"queueHooks"),te&&te.empty&&(le++,te.empty.add(Fe));return Fe(),me.promise(U)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,De=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),je=["Top","Right","Bottom","Left"],Be=p.documentElement,at=function(j){return d.contains(j.ownerDocument,j)},wt={composed:!0};Be.getRootNode&&(at=function(j){return d.contains(j.ownerDocument,j)||j.getRootNode(wt)===j.ownerDocument});var ut=function(j,U){return j=U||j,j.style.display==="none"||j.style.display===""&&at(j)&&d.css(j,"display")==="none"};function kt(j,U,te,le){var me,ve,_e=20,Fe=le?function(){return le.cur()}:function(){return d.css(j,U,"")},Me=Fe(),Ke=te&&te[3]||(d.cssNumber[U]?"":"px"),it=j.nodeType&&(d.cssNumber[U]||Ke!=="px"&&+Me)&&De.exec(d.css(j,U));if(it&&it[3]!==Ke){for(Me=Me/2,Ke=Ke||it[3],it=+Me||1;_e--;)d.style(j,U,it+Ke),(1-ve)*(1-(ve=Fe()/Me||.5))<=0&&(_e=0),it=it/ve;it=it*2,d.style(j,U,it+Ke),te=te||[]}return te&&(it=+it||+Me||0,me=te[1]?it+(te[1]+1)*te[2]:+te[2],le&&(le.unit=Ke,le.start=it,le.end=me)),me}var Tr={};function Pr(j){var U,te=j.ownerDocument,le=j.nodeName,me=Tr[le];return me||(U=te.body.appendChild(te.createElement(le)),me=d.css(U,"display"),U.parentNode.removeChild(U),me==="none"&&(me="block"),Tr[le]=me,me)}function or(j,U){for(var te,le,me=[],ve=0,_e=j.length;ve<_e;ve++)le=j[ve],le.style&&(te=le.style.display,U?(te==="none"&&(me[ve]=Ue.get(le,"display")||null,me[ve]||(le.style.display="")),le.style.display===""&&ut(le)&&(me[ve]=Pr(le))):te!=="none"&&(me[ve]="none",Ue.set(le,"display",te)));for(ve=0;ve<_e;ve++)me[ve]!=null&&(j[ve].style.display=me[ve]);return j}d.fn.extend({show:function(){return or(this,!0)},hide:function(){return or(this)},toggle:function(j){return typeof j=="boolean"?j?this.show():this.hide():this.each(function(){ut(this)?d(this).show():d(this).hide()})}});var ur=/^(?:checkbox|radio)$/i,on=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var j=p.createDocumentFragment(),U=j.appendChild(p.createElement("div")),te=p.createElement("input");te.setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),U.appendChild(te),m.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue,U.innerHTML="<option></option>",m.option=!!U.lastChild})();var Dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td,m.option||(Dt.optgroup=Dt.option=[1,"<select multiple='multiple'>","</select>"]);function Jt(j,U){var te;return typeof j.getElementsByTagName<"u"?te=j.getElementsByTagName(U||"*"):typeof j.querySelectorAll<"u"?te=j.querySelectorAll(U||"*"):te=[],U===void 0||U&&x(j,U)?d.merge([j],te):te}function Ee(j,U){for(var te=0,le=j.length;te<le;te++)Ue.set(j[te],"globalEval",!U||Ue.get(U[te],"globalEval"))}var Oe=/<|&#?\w+;/;function ct(j,U,te,le,me){for(var ve,_e,Fe,Me,Ke,it,lt=U.createDocumentFragment(),Qe=[],bt=0,qt=j.length;bt<qt;bt++)if(ve=j[bt],ve||ve===0)if(E(ve)==="object")d.merge(Qe,ve.nodeType?[ve]:ve);else if(!Oe.test(ve))Qe.push(U.createTextNode(ve));else{for(_e=_e||lt.appendChild(U.createElement("div")),Fe=(on.exec(ve)||["",""])[1].toLowerCase(),Me=Dt[Fe]||Dt._default,_e.innerHTML=Me[1]+d.htmlPrefilter(ve)+Me[2],it=Me[0];it--;)_e=_e.lastChild;d.merge(Qe,_e.childNodes),_e=lt.firstChild,_e.textContent=""}for(lt.textContent="",bt=0;ve=Qe[bt++];){if(le&&d.inArray(ve,le)>-1){me&&me.push(ve);continue}if(Ke=at(ve),_e=Jt(lt.appendChild(ve),"script"),Ke&&Ee(_e),te)for(it=0;ve=_e[it++];)tr.test(ve.type||"")&&te.push(ve)}return lt}var ht=/^([^.]*)(?:\.(.+)|)/;function et(){return!0}function xt(){return!1}function Ot(j,U,te,le,me,ve){var _e,Fe;if(typeof U=="object"){typeof te!="string"&&(le=le||te,te=void 0);for(Fe in U)Ot(j,Fe,te,le,U[Fe],ve);return j}if(le==null&&me==null?(me=te,le=te=void 0):me==null&&(typeof te=="string"?(me=le,le=void 0):(me=le,le=te,te=void 0)),me===!1)me=xt;else if(!me)return j;return ve===1&&(_e=me,me=function(Me){return d().off(Me),_e.apply(this,arguments)},me.guid=_e.guid||(_e.guid=d.guid++)),j.each(function(){d.event.add(this,U,me,le,te)})}d.event={global:{},add:function(j,U,te,le,me){var ve,_e,Fe,Me,Ke,it,lt,Qe,bt,qt,gr,Yt=Ue.get(j);if(nt(j))for(te.handler&&(ve=te,te=ve.handler,me=ve.selector),me&&d.find.matchesSelector(Be,me),te.guid||(te.guid=d.guid++),(Me=Yt.events)||(Me=Yt.events=Object.create(null)),(_e=Yt.handle)||(_e=Yt.handle=function(Gn){return typeof d<"u"&&d.event.triggered!==Gn.type?d.event.dispatch.apply(j,arguments):void 0}),U=(U||"").match(be)||[""],Ke=U.length;Ke--;)Fe=ht.exec(U[Ke])||[],bt=gr=Fe[1],qt=(Fe[2]||"").split(".").sort(),bt&&(lt=d.event.special[bt]||{},bt=(me?lt.delegateType:lt.bindType)||bt,lt=d.event.special[bt]||{},it=d.extend({type:bt,origType:gr,data:le,handler:te,guid:te.guid,selector:me,needsContext:me&&d.expr.match.needsContext.test(me),namespace:qt.join(".")},ve),(Qe=Me[bt])||(Qe=Me[bt]=[],Qe.delegateCount=0,(!lt.setup||lt.setup.call(j,le,qt,_e)===!1)&&j.addEventListener&&j.addEventListener(bt,_e)),lt.add&&(lt.add.call(j,it),it.handler.guid||(it.handler.guid=te.guid)),me?Qe.splice(Qe.delegateCount++,0,it):Qe.push(it),d.event.global[bt]=!0)},remove:function(j,U,te,le,me){var ve,_e,Fe,Me,Ke,it,lt,Qe,bt,qt,gr,Yt=Ue.hasData(j)&&Ue.get(j);if(!(!Yt||!(Me=Yt.events))){for(U=(U||"").match(be)||[""],Ke=U.length;Ke--;){if(Fe=ht.exec(U[Ke])||[],bt=gr=Fe[1],qt=(Fe[2]||"").split(".").sort(),!bt){for(bt in Me)d.event.remove(j,bt+U[Ke],te,le,!0);continue}for(lt=d.event.special[bt]||{},bt=(le?lt.delegateType:lt.bindType)||bt,Qe=Me[bt]||[],Fe=Fe[2]&&new RegExp("(^|\\.)"+qt.join("\\.(?:.*\\.|)")+"(\\.|$)"),_e=ve=Qe.length;ve--;)it=Qe[ve],(me||gr===it.origType)&&(!te||te.guid===it.guid)&&(!Fe||Fe.test(it.namespace))&&(!le||le===it.selector||le==="**"&&it.selector)&&(Qe.splice(ve,1),it.selector&&Qe.delegateCount--,lt.remove&&lt.remove.call(j,it));_e&&!Qe.length&&((!lt.teardown||lt.teardown.call(j,qt,Yt.handle)===!1)&&d.removeEvent(j,bt,Yt.handle),delete Me[bt])}d.isEmptyObject(Me)&&Ue.remove(j,"handle events")}},dispatch:function(j){var U,te,le,me,ve,_e,Fe=new Array(arguments.length),Me=d.event.fix(j),Ke=(Ue.get(this,"events")||Object.create(null))[Me.type]||[],it=d.event.special[Me.type]||{};for(Fe[0]=Me,U=1;U<arguments.length;U++)Fe[U]=arguments[U];if(Me.delegateTarget=this,!(it.preDispatch&&it.preDispatch.call(this,Me)===!1)){for(_e=d.event.handlers.call(this,Me,Ke),U=0;(me=_e[U++])&&!Me.isPropagationStopped();)for(Me.currentTarget=me.elem,te=0;(ve=me.handlers[te++])&&!Me.isImmediatePropagationStopped();)(!Me.rnamespace||ve.namespace===!1||Me.rnamespace.test(ve.namespace))&&(Me.handleObj=ve,Me.data=ve.data,le=((d.event.special[ve.origType]||{}).handle||ve.handler).apply(me.elem,Fe),le!==void 0&&(Me.result=le)===!1&&(Me.preventDefault(),Me.stopPropagation()));return it.postDispatch&&it.postDispatch.call(this,Me),Me.result}},handlers:function(j,U){var te,le,me,ve,_e,Fe=[],Me=U.delegateCount,Ke=j.target;if(Me&&Ke.nodeType&&!(j.type==="click"&&j.button>=1)){for(;Ke!==this;Ke=Ke.parentNode||this)if(Ke.nodeType===1&&!(j.type==="click"&&Ke.disabled===!0)){for(ve=[],_e={},te=0;te<Me;te++)le=U[te],me=le.selector+" ",_e[me]===void 0&&(_e[me]=le.needsContext?d(me,this).index(Ke)>-1:d.find(me,this,null,[Ke]).length),_e[me]&&ve.push(le);ve.length&&Fe.push({elem:Ke,handlers:ve})}}return Ke=this,Me<U.length&&Fe.push({elem:Ke,handlers:U.slice(Me)}),Fe},addProp:function(j,U){Object.defineProperty(d.Event.prototype,j,{enumerable:!0,configurable:!0,get:_(U)?function(){if(this.originalEvent)return U(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[j]},set:function(te){Object.defineProperty(this,j,{enumerable:!0,configurable:!0,writable:!0,value:te})}})},fix:function(j){return j[d.expando]?j:new d.Event(j)},special:{load:{noBubble:!0},click:{setup:function(j){var U=this||j;return ur.test(U.type)&&U.click&&x(U,"input")&&he(U,"click",!0),!1},trigger:function(j){var U=this||j;return ur.test(U.type)&&U.click&&x(U,"input")&&he(U,"click"),!0},_default:function(j){var U=j.target;return ur.test(U.type)&&U.click&&x(U,"input")&&Ue.get(U,"click")||x(U,"a")}},beforeunload:{postDispatch:function(j){j.result!==void 0&&j.originalEvent&&(j.originalEvent.returnValue=j.result)}}}};function he(j,U,te){if(!te){Ue.get(j,U)===void 0&&d.event.add(j,U,et);return}Ue.set(j,U,!1),d.event.add(j,U,{namespace:!1,handler:function(le){var me,ve=Ue.get(this,U);if(le.isTrigger&1&&this[U]){if(ve)(d.event.special[U]||{}).delegateType&&le.stopPropagation();else if(ve=o.call(arguments),Ue.set(this,U,ve),this[U](),me=Ue.get(this,U),Ue.set(this,U,!1),ve!==me)return le.stopImmediatePropagation(),le.preventDefault(),me}else ve&&(Ue.set(this,U,d.event.trigger(ve[0],ve.slice(1),this)),le.stopPropagation(),le.isImmediatePropagationStopped=et)}})}d.removeEvent=function(j,U,te){j.removeEventListener&&j.removeEventListener(U,te)},d.Event=function(j,U){if(!(this instanceof d.Event))return new d.Event(j,U);j&&j.type?(this.originalEvent=j,this.type=j.type,this.isDefaultPrevented=j.defaultPrevented||j.defaultPrevented===void 0&&j.returnValue===!1?et:xt,this.target=j.target&&j.target.nodeType===3?j.target.parentNode:j.target,this.currentTarget=j.currentTarget,this.relatedTarget=j.relatedTarget):this.type=j,U&&d.extend(this,U),this.timeStamp=j&&j.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var j=this.originalEvent;this.isDefaultPrevented=et,j&&!this.isSimulated&&j.preventDefault()},stopPropagation:function(){var j=this.originalEvent;this.isPropagationStopped=et,j&&!this.isSimulated&&j.stopPropagation()},stopImmediatePropagation:function(){var j=this.originalEvent;this.isImmediatePropagationStopped=et,j&&!this.isSimulated&&j.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(j,U){function te(le){if(p.documentMode){var me=Ue.get(this,"handle"),ve=d.event.fix(le);ve.type=le.type==="focusin"?"focus":"blur",ve.isSimulated=!0,me(le),ve.target===ve.currentTarget&&me(ve)}else d.event.simulate(U,le.target,d.event.fix(le))}d.event.special[j]={setup:function(){var le;if(he(this,j,!0),p.documentMode)le=Ue.get(this,U),le||this.addEventListener(U,te),Ue.set(this,U,(le||0)+1);else return!1},trigger:function(){return he(this,j),!0},teardown:function(){var le;if(p.documentMode)le=Ue.get(this,U)-1,le?Ue.set(this,U,le):(this.removeEventListener(U,te),Ue.remove(this,U));else return!1},_default:function(le){return Ue.get(le.target,j)},delegateType:U},d.event.special[U]={setup:function(){var le=this.ownerDocument||this.document||this,me=p.documentMode?this:le,ve=Ue.get(me,U);ve||(p.documentMode?this.addEventListener(U,te):le.addEventListener(j,te,!0)),Ue.set(me,U,(ve||0)+1)},teardown:function(){var le=this.ownerDocument||this.document||this,me=p.documentMode?this:le,ve=Ue.get(me,U)-1;ve?Ue.set(me,U,ve):(p.documentMode?this.removeEventListener(U,te):le.removeEventListener(j,te,!0),Ue.remove(me,U))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(j,U){d.event.special[j]={delegateType:U,bindType:U,handle:function(te){var le,me=this,ve=te.relatedTarget,_e=te.handleObj;return(!ve||ve!==me&&!d.contains(me,ve))&&(te.type=_e.origType,le=_e.handler.apply(this,arguments),te.type=U),le}}}),d.fn.extend({on:function(j,U,te,le){return Ot(this,j,U,te,le)},one:function(j,U,te,le){return Ot(this,j,U,te,le,1)},off:function(j,U,te){var le,me;if(j&&j.preventDefault&&j.handleObj)return le=j.handleObj,d(j.delegateTarget).off(le.namespace?le.origType+"."+le.namespace:le.origType,le.selector,le.handler),this;if(typeof j=="object"){for(me in j)this.off(me,U,j[me]);return this}return(U===!1||typeof U=="function")&&(te=U,U=void 0),te===!1&&(te=xt),this.each(function(){d.event.remove(this,j,te,U)})}});var ue=/<script|<style|<link/i,we=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ae(j,U){return x(j,"table")&&x(U.nodeType!==11?U:U.firstChild,"tr")&&d(j).children("tbody")[0]||j}function ot(j){return j.type=(j.getAttribute("type")!==null)+"/"+j.type,j}function tt(j){return(j.type||"").slice(0,5)==="true/"?j.type=j.type.slice(5):j.removeAttribute("type"),j}function Tt(j,U){var te,le,me,ve,_e,Fe,Me;if(U.nodeType===1){if(Ue.hasData(j)&&(ve=Ue.get(j),Me=ve.events,Me)){Ue.remove(U,"handle events");for(me in Me)for(te=0,le=Me[me].length;te<le;te++)d.event.add(U,me,Me[me][te])}W.hasData(j)&&(_e=W.access(j),Fe=d.extend({},_e),W.set(U,Fe))}}function jt(j,U){var te=U.nodeName.toLowerCase();te==="input"&&ur.test(j.type)?U.checked=j.checked:(te==="input"||te==="textarea")&&(U.defaultValue=j.defaultValue)}function Lt(j,U,te,le){U=a(U);var me,ve,_e,Fe,Me,Ke,it=0,lt=j.length,Qe=lt-1,bt=U[0],qt=_(bt);if(qt||lt>1&&typeof bt=="string"&&!m.checkClone&&we.test(bt))return j.each(function(gr){var Yt=j.eq(gr);qt&&(U[0]=bt.call(this,gr,Yt.html())),Lt(Yt,U,te,le)});if(lt&&(me=ct(U,j[0].ownerDocument,!1,j,le),ve=me.firstChild,me.childNodes.length===1&&(me=ve),ve||le)){for(_e=d.map(Jt(me,"script"),ot),Fe=_e.length;it<lt;it++)Me=me,it!==Qe&&(Me=d.clone(Me,!0,!0),Fe&&d.merge(_e,Jt(Me,"script"))),te.call(j[it],Me,it);if(Fe)for(Ke=_e[_e.length-1].ownerDocument,d.map(_e,tt),it=0;it<Fe;it++)Me=_e[it],tr.test(Me.type||"")&&!Ue.access(Me,"globalEval")&&d.contains(Ke,Me)&&(Me.src&&(Me.type||"").toLowerCase()!=="module"?d._evalUrl&&!Me.noModule&&d._evalUrl(Me.src,{nonce:Me.nonce||Me.getAttribute("nonce")},Ke):y(Me.textContent.replace(Re,""),Me,Ke))}return j}function $t(j,U,te){for(var le,me=U?d.filter(U,j):j,ve=0;(le=me[ve])!=null;ve++)!te&&le.nodeType===1&&d.cleanData(Jt(le)),le.parentNode&&(te&&at(le)&&Ee(Jt(le,"script")),le.parentNode.removeChild(le));return j}d.extend({htmlPrefilter:function(j){return j},clone:function(j,U,te){var le,me,ve,_e,Fe=j.cloneNode(!0),Me=at(j);if(!m.noCloneChecked&&(j.nodeType===1||j.nodeType===11)&&!d.isXMLDoc(j))for(_e=Jt(Fe),ve=Jt(j),le=0,me=ve.length;le<me;le++)jt(ve[le],_e[le]);if(U)if(te)for(ve=ve||Jt(j),_e=_e||Jt(Fe),le=0,me=ve.length;le<me;le++)Tt(ve[le],_e[le]);else Tt(j,Fe);return _e=Jt(Fe,"script"),_e.length>0&&Ee(_e,!Me&&Jt(j,"script")),Fe},cleanData:function(j){for(var U,te,le,me=d.event.special,ve=0;(te=j[ve])!==void 0;ve++)if(nt(te)){if(U=te[Ue.expando]){if(U.events)for(le in U.events)me[le]?d.event.remove(te,le):d.removeEvent(te,le,U.handle);te[Ue.expando]=void 0}te[W.expando]&&(te[W.expando]=void 0)}}}),d.fn.extend({detach:function(j){return $t(this,j,!0)},remove:function(j){return $t(this,j)},text:function(j){return de(this,function(U){return U===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=U)})},null,j,arguments.length)},append:function(){return Lt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ae(this,j);U.appendChild(j)}})},prepend:function(){return Lt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=Ae(this,j);U.insertBefore(j,U.firstChild)}})},before:function(){return Lt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this)})},after:function(){return Lt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this.nextSibling)})},empty:function(){for(var j,U=0;(j=this[U])!=null;U++)j.nodeType===1&&(d.cleanData(Jt(j,!1)),j.textContent="");return this},clone:function(j,U){return j=j??!1,U=U??j,this.map(function(){return d.clone(this,j,U)})},html:function(j){return de(this,function(U){var te=this[0]||{},le=0,me=this.length;if(U===void 0&&te.nodeType===1)return te.innerHTML;if(typeof U=="string"&&!ue.test(U)&&!Dt[(on.exec(U)||["",""])[1].toLowerCase()]){U=d.htmlPrefilter(U);try{for(;le<me;le++)te=this[le]||{},te.nodeType===1&&(d.cleanData(Jt(te,!1)),te.innerHTML=U);te=0}catch{}}te&&this.empty().append(U)},null,j,arguments.length)},replaceWith:function(){var j=[];return Lt(this,arguments,function(U){var te=this.parentNode;d.inArray(this,j)<0&&(d.cleanData(Jt(this)),te&&te.replaceChild(U,this))},j)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(j,U){d.fn[j]=function(te){for(var le,me=[],ve=d(te),_e=ve.length-1,Fe=0;Fe<=_e;Fe++)le=Fe===_e?this:this.clone(!0),d(ve[Fe])[U](le),s.apply(me,le.get());return this.pushStack(me)}});var Rt=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),Ht=/^--/,yt=function(j){var U=j.ownerDocument.defaultView;return(!U||!U.opener)&&(U=t),U.getComputedStyle(j)},zt=function(j,U,te){var le,me,ve={};for(me in U)ve[me]=j.style[me],j.style[me]=U[me];le=te.call(j);for(me in U)j.style[me]=ve[me];return le},At=new RegExp(je.join("|"),"i");(function(){function j(){if(Ke){Me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Be.appendChild(Me).appendChild(Ke);var it=t.getComputedStyle(Ke);te=it.top!=="1%",Fe=U(it.marginLeft)===12,Ke.style.right="60%",ve=U(it.right)===36,le=U(it.width)===36,Ke.style.position="absolute",me=U(Ke.offsetWidth/3)===12,Be.removeChild(Me),Ke=null}}function U(it){return Math.round(parseFloat(it))}var te,le,me,ve,_e,Fe,Me=p.createElement("div"),Ke=p.createElement("div");Ke.style&&(Ke.style.backgroundClip="content-box",Ke.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=Ke.style.backgroundClip==="content-box",d.extend(m,{boxSizingReliable:function(){return j(),le},pixelBoxStyles:function(){return j(),ve},pixelPosition:function(){return j(),te},reliableMarginLeft:function(){return j(),Fe},scrollboxSize:function(){return j(),me},reliableTrDimensions:function(){var it,lt,Qe,bt;return _e==null&&(it=p.createElement("table"),lt=p.createElement("tr"),Qe=p.createElement("div"),it.style.cssText="position:absolute;left:-11111px;border-collapse:separate",lt.style.cssText="box-sizing:content-box;border:1px solid",lt.style.height="1px",Qe.style.height="9px",Qe.style.display="block",Be.appendChild(it).appendChild(lt).appendChild(Qe),bt=t.getComputedStyle(lt),_e=parseInt(bt.height,10)+parseInt(bt.borderTopWidth,10)+parseInt(bt.borderBottomWidth,10)===lt.offsetHeight,Be.removeChild(it)),_e}}))})();function Ct(j,U,te){var le,me,ve,_e,Fe=Ht.test(U),Me=j.style;return te=te||yt(j),te&&(_e=te.getPropertyValue(U)||te[U],Fe&&_e&&(_e=_e.replace(Q,"$1")||void 0),_e===""&&!at(j)&&(_e=d.style(j,U)),!m.pixelBoxStyles()&&Rt.test(_e)&&At.test(U)&&(le=Me.width,me=Me.minWidth,ve=Me.maxWidth,Me.minWidth=Me.maxWidth=Me.width=_e,_e=te.width,Me.width=le,Me.minWidth=me,Me.maxWidth=ve)),_e!==void 0?_e+"":_e}function en(j,U){return{get:function(){if(j()){delete this.get;return}return(this.get=U).apply(this,arguments)}}}var jr=["Webkit","Moz","ms"],Vr=p.createElement("div").style,mn={};function Wn(j){for(var U=j[0].toUpperCase()+j.slice(1),te=jr.length;te--;)if(j=jr[te]+U,j in Vr)return j}function Cr(j){var U=d.cssProps[j]||mn[j];return U||(j in Vr?j:mn[j]=Wn(j)||j)}var Qr=/^(none|table(?!-c[ea]).+)/,Zn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:"0",fontWeight:"400"};function pi(j,U,te){var le=De.exec(U);return le?Math.max(0,le[2]-(te||0))+(le[3]||"px"):U}function oa(j,U,te,le,me,ve){var _e=U==="width"?1:0,Fe=0,Me=0,Ke=0;if(te===(le?"border":"content"))return 0;for(;_e<4;_e+=2)te==="margin"&&(Ke+=d.css(j,te+je[_e],!0,me)),le?(te==="content"&&(Me-=d.css(j,"padding"+je[_e],!0,me)),te!=="margin"&&(Me-=d.css(j,"border"+je[_e]+"Width",!0,me))):(Me+=d.css(j,"padding"+je[_e],!0,me),te!=="padding"?Me+=d.css(j,"border"+je[_e]+"Width",!0,me):Fe+=d.css(j,"border"+je[_e]+"Width",!0,me));return!le&&ve>=0&&(Me+=Math.max(0,Math.ceil(j["offset"+U[0].toUpperCase()+U.slice(1)]-ve-Me-Fe-.5))||0),Me+Ke}function aa(j,U,te){var le=yt(j),me=!m.boxSizingReliable()||te,ve=me&&d.css(j,"boxSizing",!1,le)==="border-box",_e=ve,Fe=Ct(j,U,le),Me="offset"+U[0].toUpperCase()+U.slice(1);if(Rt.test(Fe)){if(!te)return Fe;Fe="auto"}return(!m.boxSizingReliable()&&ve||!m.reliableTrDimensions()&&x(j,"tr")||Fe==="auto"||!parseFloat(Fe)&&d.css(j,"display",!1,le)==="inline")&&j.getClientRects().length&&(ve=d.css(j,"boxSizing",!1,le)==="border-box",_e=Me in j,_e&&(Fe=j[Me])),Fe=parseFloat(Fe)||0,Fe+oa(j,U,te||(ve?"border":"content"),_e,le,Fe)+"px"}d.extend({cssHooks:{opacity:{get:function(j,U){if(U){var te=Ct(j,"opacity");return te===""?"1":te}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(j,U,te,le){if(!(!j||j.nodeType===3||j.nodeType===8||!j.style)){var me,ve,_e,Fe=ke(U),Me=Ht.test(U),Ke=j.style;if(Me||(U=Cr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],te!==void 0){if(ve=typeof te,ve==="string"&&(me=De.exec(te))&&me[1]&&(te=kt(j,U,me),ve="number"),te==null||te!==te)return;ve==="number"&&!Me&&(te+=me&&me[3]||(d.cssNumber[Fe]?"":"px")),!m.clearCloneStyle&&te===""&&U.indexOf("background")===0&&(Ke[U]="inherit"),(!_e||!("set"in _e)||(te=_e.set(j,te,le))!==void 0)&&(Me?Ke.setProperty(U,te):Ke[U]=te)}else return _e&&"get"in _e&&(me=_e.get(j,!1,le))!==void 0?me:Ke[U]}},css:function(j,U,te,le){var me,ve,_e,Fe=ke(U),Me=Ht.test(U);return Me||(U=Cr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],_e&&"get"in _e&&(me=_e.get(j,!0,te)),me===void 0&&(me=Ct(j,U,le)),me==="normal"&&U in gn&&(me=gn[U]),te===""||te?(ve=parseFloat(me),te===!0||isFinite(ve)?ve||0:me):me}}),d.each(["height","width"],function(j,U){d.cssHooks[U]={get:function(te,le,me){if(le)return Qr.test(d.css(te,"display"))&&(!te.getClientRects().length||!te.getBoundingClientRect().width)?zt(te,Zn,function(){return aa(te,U,me)}):aa(te,U,me)},set:function(te,le,me){var ve,_e=yt(te),Fe=!m.scrollboxSize()&&_e.position==="absolute",Me=Fe||me,Ke=Me&&d.css(te,"boxSizing",!1,_e)==="border-box",it=me?oa(te,U,me,Ke,_e):0;return Ke&&Fe&&(it-=Math.ceil(te["offset"+U[0].toUpperCase()+U.slice(1)]-parseFloat(_e[U])-oa(te,U,"border",!1,_e)-.5)),it&&(ve=De.exec(le))&&(ve[3]||"px")!=="px"&&(te.style[U]=le,le=d.css(te,U)),pi(te,le,it)}}}),d.cssHooks.marginLeft=en(m.reliableMarginLeft,function(j,U){if(U)return(parseFloat(Ct(j,"marginLeft"))||j.getBoundingClientRect().left-zt(j,{marginLeft:0},function(){return j.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(j,U){d.cssHooks[j+U]={expand:function(te){for(var le=0,me={},ve=typeof te=="string"?te.split(" "):[te];le<4;le++)me[j+je[le]+U]=ve[le]||ve[le-2]||ve[0];return me}},j!=="margin"&&(d.cssHooks[j+U].set=pi)}),d.fn.extend({css:function(j,U){return de(this,function(te,le,me){var ve,_e,Fe={},Me=0;if(Array.isArray(le)){for(ve=yt(te),_e=le.length;Me<_e;Me++)Fe[le[Me]]=d.css(te,le[Me],!1,ve);return Fe}return me!==void 0?d.style(te,le,me):d.css(te,le)},j,U,arguments.length>1)}});function kr(j,U,te,le,me){return new kr.prototype.init(j,U,te,le,me)}d.Tween=kr,kr.prototype={constructor:kr,init:function(j,U,te,le,me,ve){this.elem=j,this.prop=te,this.easing=me||d.easing._default,this.options=U,this.start=this.now=this.cur(),this.end=le,this.unit=ve||(d.cssNumber[te]?"":"px")},cur:function(){var j=kr.propHooks[this.prop];return j&&j.get?j.get(this):kr.propHooks._default.get(this)},run:function(j){var U,te=kr.propHooks[this.prop];return this.options.duration?this.pos=U=d.easing[this.easing](j,this.options.duration*j,0,1,this.options.duration):this.pos=U=j,this.now=(this.end-this.start)*U+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),te&&te.set?te.set(this):kr.propHooks._default.set(this),this}},kr.prototype.init.prototype=kr.prototype,kr.propHooks={_default:{get:function(j){var U;return j.elem.nodeType!==1||j.elem[j.prop]!=null&&j.elem.style[j.prop]==null?j.elem[j.prop]:(U=d.css(j.elem,j.prop,""),!U||U==="auto"?0:U)},set:function(j){d.fx.step[j.prop]?d.fx.step[j.prop](j):j.elem.nodeType===1&&(d.cssHooks[j.prop]||j.elem.style[Cr(j.prop)]!=null)?d.style(j.elem,j.prop,j.now+j.unit):j.elem[j.prop]=j.now}}},kr.propHooks.scrollTop=kr.propHooks.scrollLeft={set:function(j){j.elem.nodeType&&j.elem.parentNode&&(j.elem[j.prop]=j.now)}},d.easing={linear:function(j){return j},swing:function(j){return .5-Math.cos(j*Math.PI)/2},_default:"swing"},d.fx=kr.prototype.init,d.fx.step={};var En,mi,Es=/^(?:toggle|show|hide)$/,sa=/queueHooks$/;function Un(){mi&&(p.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Un):t.setTimeout(Un,d.fx.interval),d.fx.tick())}function Sc(){return t.setTimeout(function(){En=void 0}),En=Date.now()}function ul(j,U){var te,le=0,me={height:j};for(U=U?1:0;le<4;le+=2-U)te=je[le],me["margin"+te]=me["padding"+te]=j;return U&&(me.opacity=me.width=j),me}function ev(j,U,te){for(var le,me=(Mo.tweeners[U]||[]).concat(Mo.tweeners["*"]),ve=0,_e=me.length;ve<_e;ve++)if(le=me[ve].call(te,U,j))return le}function sS(j,U,te){var le,me,ve,_e,Fe,Me,Ke,it,lt="width"in U||"height"in U,Qe=this,bt={},qt=j.style,gr=j.nodeType&&ut(j),Yt=Ue.get(j,"fxshow");te.queue||(_e=d._queueHooks(j,"fx"),_e.unqueued==null&&(_e.unqueued=0,Fe=_e.empty.fire,_e.empty.fire=function(){_e.unqueued||Fe()}),_e.unqueued++,Qe.always(function(){Qe.always(function(){_e.unqueued--,d.queue(j,"fx").length||_e.empty.fire()})}));for(le in U)if(me=U[le],Es.test(me)){if(delete U[le],ve=ve||me==="toggle",me===(gr?"hide":"show"))if(me==="show"&&Yt&&Yt[le]!==void 0)gr=!0;else continue;bt[le]=Yt&&Yt[le]||d.style(j,le)}if(Me=!d.isEmptyObject(U),!(!Me&&d.isEmptyObject(bt))){lt&&j.nodeType===1&&(te.overflow=[qt.overflow,qt.overflowX,qt.overflowY],Ke=Yt&&Yt.display,Ke==null&&(Ke=Ue.get(j,"display")),it=d.css(j,"display"),it==="none"&&(Ke?it=Ke:(or([j],!0),Ke=j.style.display||Ke,it=d.css(j,"display"),or([j]))),(it==="inline"||it==="inline-block"&&Ke!=null)&&d.css(j,"float")==="none"&&(Me||(Qe.done(function(){qt.display=Ke}),Ke==null&&(it=qt.display,Ke=it==="none"?"":it)),qt.display="inline-block")),te.overflow&&(qt.overflow="hidden",Qe.always(function(){qt.overflow=te.overflow[0],qt.overflowX=te.overflow[1],qt.overflowY=te.overflow[2]})),Me=!1;for(le in bt)Me||(Yt?"hidden"in Yt&&(gr=Yt.hidden):Yt=Ue.access(j,"fxshow",{display:Ke}),ve&&(Yt.hidden=!gr),gr&&or([j],!0),Qe.done(function(){gr||or([j]),Ue.remove(j,"fxshow");for(le in bt)d.style(j,le,bt[le])})),Me=ev(gr?Yt[le]:0,le,Qe),le in Yt||(Yt[le]=Me.start,gr&&(Me.end=Me.start,Me.start=0))}}function lS(j,U){var te,le,me,ve,_e;for(te in j)if(le=ke(te),me=U[le],ve=j[te],Array.isArray(ve)&&(me=ve[1],ve=j[te]=ve[0]),te!==le&&(j[le]=ve,delete j[te]),_e=d.cssHooks[le],_e&&"expand"in _e){ve=_e.expand(ve),delete j[le];for(te in ve)te in j||(j[te]=ve[te],U[te]=me)}else U[le]=me}function Mo(j,U,te){var le,me,ve=0,_e=Mo.prefilters.length,Fe=d.Deferred().always(function(){delete Me.elem}),Me=function(){if(me)return!1;for(var lt=En||Sc(),Qe=Math.max(0,Ke.startTime+Ke.duration-lt),bt=Qe/Ke.duration||0,qt=1-bt,gr=0,Yt=Ke.tweens.length;gr<Yt;gr++)Ke.tweens[gr].run(qt);return Fe.notifyWith(j,[Ke,qt,Qe]),qt<1&&Yt?Qe:(Yt||Fe.notifyWith(j,[Ke,1,0]),Fe.resolveWith(j,[Ke]),!1)},Ke=Fe.promise({elem:j,props:d.extend({},U),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},te),originalProperties:U,originalOptions:te,startTime:En||Sc(),duration:te.duration,tweens:[],createTween:function(lt,Qe){var bt=d.Tween(j,Ke.opts,lt,Qe,Ke.opts.specialEasing[lt]||Ke.opts.easing);return Ke.tweens.push(bt),bt},stop:function(lt){var Qe=0,bt=lt?Ke.tweens.length:0;if(me)return this;for(me=!0;Qe<bt;Qe++)Ke.tweens[Qe].run(1);return lt?(Fe.notifyWith(j,[Ke,1,0]),Fe.resolveWith(j,[Ke,lt])):Fe.rejectWith(j,[Ke,lt]),this}}),it=Ke.props;for(lS(it,Ke.opts.specialEasing);ve<_e;ve++)if(le=Mo.prefilters[ve].call(Ke,j,it,Ke.opts),le)return _(le.stop)&&(d._queueHooks(Ke.elem,Ke.opts.queue).stop=le.stop.bind(le)),le;return d.map(it,ev,Ke),_(Ke.opts.start)&&Ke.opts.start.call(j,Ke),Ke.progress(Ke.opts.progress).done(Ke.opts.done,Ke.opts.complete).fail(Ke.opts.fail).always(Ke.opts.always),d.fx.timer(d.extend(Me,{elem:j,anim:Ke,queue:Ke.opts.queue})),Ke}d.Animation=d.extend(Mo,{tweeners:{"*":[function(j,U){var te=this.createTween(j,U);return kt(te.elem,j,De.exec(U),te),te}]},tweener:function(j,U){_(j)?(U=j,j=["*"]):j=j.match(be);for(var te,le=0,me=j.length;le<me;le++)te=j[le],Mo.tweeners[te]=Mo.tweeners[te]||[],Mo.tweeners[te].unshift(U)},prefilters:[sS],prefilter:function(j,U){U?Mo.prefilters.unshift(j):Mo.prefilters.push(j)}}),d.speed=function(j,U,te){var le=j&&typeof j=="object"?d.extend({},j):{complete:te||!te&&U||_(j)&&j,duration:j,easing:te&&U||U&&!_(U)&&U};return d.fx.off?le.duration=0:typeof le.duration!="number"&&(le.duration in d.fx.speeds?le.duration=d.fx.speeds[le.duration]:le.duration=d.fx.speeds._default),(le.queue==null||le.queue===!0)&&(le.queue="fx"),le.old=le.complete,le.complete=function(){_(le.old)&&le.old.call(this),le.queue&&d.dequeue(this,le.queue)},le},d.fn.extend({fadeTo:function(j,U,te,le){return this.filter(ut).css("opacity",0).show().end().animate({opacity:U},j,te,le)},animate:function(j,U,te,le){var me=d.isEmptyObject(j),ve=d.speed(U,te,le),_e=function(){var Fe=Mo(this,d.extend({},j),ve);(me||Ue.get(this,"finish"))&&Fe.stop(!0)};return _e.finish=_e,me||ve.queue===!1?this.each(_e):this.queue(ve.queue,_e)},stop:function(j,U,te){var le=function(me){var ve=me.stop;delete me.stop,ve(te)};return typeof j!="string"&&(te=U,U=j,j=void 0),U&&this.queue(j||"fx",[]),this.each(function(){var me=!0,ve=j!=null&&j+"queueHooks",_e=d.timers,Fe=Ue.get(this);if(ve)Fe[ve]&&Fe[ve].stop&&le(Fe[ve]);else for(ve in Fe)Fe[ve]&&Fe[ve].stop&&sa.test(ve)&&le(Fe[ve]);for(ve=_e.length;ve--;)_e[ve].elem===this&&(j==null||_e[ve].queue===j)&&(_e[ve].anim.stop(te),me=!1,_e.splice(ve,1));(me||!te)&&d.dequeue(this,j)})},finish:function(j){return j!==!1&&(j=j||"fx"),this.each(function(){var U,te=Ue.get(this),le=te[j+"queue"],me=te[j+"queueHooks"],ve=d.timers,_e=le?le.length:0;for(te.finish=!0,d.queue(this,j,[]),me&&me.stop&&me.stop.call(this,!0),U=ve.length;U--;)ve[U].elem===this&&ve[U].queue===j&&(ve[U].anim.stop(!0),ve.splice(U,1));for(U=0;U<_e;U++)le[U]&&le[U].finish&&le[U].finish.call(this);delete te.finish})}}),d.each(["toggle","show","hide"],function(j,U){var te=d.fn[U];d.fn[U]=function(le,me,ve){return le==null||typeof le=="boolean"?te.apply(this,arguments):this.animate(ul(U,!0),le,me,ve)}}),d.each({slideDown:ul("show"),slideUp:ul("hide"),slideToggle:ul("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(j,U){d.fn[j]=function(te,le,me){return this.animate(U,te,le,me)}}),d.timers=[],d.fx.tick=function(){var j,U=0,te=d.timers;for(En=Date.now();U<te.length;U++)j=te[U],!j()&&te[U]===j&&te.splice(U--,1);te.length||d.fx.stop(),En=void 0},d.fx.timer=function(j){d.timers.push(j),d.fx.start()},d.fx.interval=13,d.fx.start=function(){mi||(mi=!0,Un())},d.fx.stop=function(){mi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(j,U){return j=d.fx&&d.fx.speeds[j]||j,U=U||"fx",this.queue(U,function(te,le){var me=t.setTimeout(te,j);le.stop=function(){t.clearTimeout(me)}})},function(){var j=p.createElement("input"),U=p.createElement("select"),te=U.appendChild(p.createElement("option"));j.type="checkbox",m.checkOn=j.value!=="",m.optSelected=te.selected,j=p.createElement("input"),j.value="t",j.type="radio",m.radioValue=j.value==="t"}();var tv,Ql=d.expr.attrHandle;d.fn.extend({attr:function(j,U){return de(this,d.attr,j,U,arguments.length>1)},removeAttr:function(j){return this.each(function(){d.removeAttr(this,j)})}}),d.extend({attr:function(j,U,te){var le,me,ve=j.nodeType;if(!(ve===3||ve===8||ve===2)){if(typeof j.getAttribute>"u")return d.prop(j,U,te);if((ve!==1||!d.isXMLDoc(j))&&(me=d.attrHooks[U.toLowerCase()]||(d.expr.match.bool.test(U)?tv:void 0)),te!==void 0){if(te===null){d.removeAttr(j,U);return}return me&&"set"in me&&(le=me.set(j,te,U))!==void 0?le:(j.setAttribute(U,te+""),te)}return me&&"get"in me&&(le=me.get(j,U))!==null?le:(le=d.find.attr(j,U),le??void 0)}},attrHooks:{type:{set:function(j,U){if(!m.radioValue&&U==="radio"&&x(j,"input")){var te=j.value;return j.setAttribute("type",U),te&&(j.value=te),U}}}},removeAttr:function(j,U){var te,le=0,me=U&&U.match(be);if(me&&j.nodeType===1)for(;te=me[le++];)j.removeAttribute(te)}}),tv={set:function(j,U,te){return U===!1?d.removeAttr(j,te):j.setAttribute(te,te),te}},d.each(d.expr.match.bool.source.match(/\w+/g),function(j,U){var te=Ql[U]||d.find.attr;Ql[U]=function(le,me,ve){var _e,Fe,Me=me.toLowerCase();return ve||(Fe=Ql[Me],Ql[Me]=_e,_e=te(le,me,ve)!=null?Me:null,Ql[Me]=Fe),_e}});var Ss=/^(?:input|select|textarea|button)$/i,rv=/^(?:a|area)$/i;d.fn.extend({prop:function(j,U){return de(this,d.prop,j,U,arguments.length>1)},removeProp:function(j){return this.each(function(){delete this[d.propFix[j]||j]})}}),d.extend({prop:function(j,U,te){var le,me,ve=j.nodeType;if(!(ve===3||ve===8||ve===2))return(ve!==1||!d.isXMLDoc(j))&&(U=d.propFix[U]||U,me=d.propHooks[U]),te!==void 0?me&&"set"in me&&(le=me.set(j,te,U))!==void 0?le:j[U]=te:me&&"get"in me&&(le=me.get(j,U))!==null?le:j[U]},propHooks:{tabIndex:{get:function(j){var U=d.find.attr(j,"tabindex");return U?parseInt(U,10):Ss.test(j.nodeName)||rv.test(j.nodeName)&&j.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(d.propHooks.selected={get:function(j){var U=j.parentNode;return U&&U.parentNode&&U.parentNode.selectedIndex,null},set:function(j){var U=j.parentNode;U&&(U.selectedIndex,U.parentNode&&U.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function $s(j){var U=j.match(be)||[];return U.join(" ")}function fo(j){return j.getAttribute&&j.getAttribute("class")||""}function Ts(j){return Array.isArray(j)?j:typeof j=="string"?j.match(be)||[]:[]}d.fn.extend({addClass:function(j){var U,te,le,me,ve,_e;return _(j)?this.each(function(Fe){d(this).addClass(j.call(this,Fe,fo(this)))}):(U=Ts(j),U.length?this.each(function(){if(le=fo(this),te=this.nodeType===1&&" "+$s(le)+" ",te){for(ve=0;ve<U.length;ve++)me=U[ve],te.indexOf(" "+me+" ")<0&&(te+=me+" ");_e=$s(te),le!==_e&&this.setAttribute("class",_e)}}):this)},removeClass:function(j){var U,te,le,me,ve,_e;return _(j)?this.each(function(Fe){d(this).removeClass(j.call(this,Fe,fo(this)))}):arguments.length?(U=Ts(j),U.length?this.each(function(){if(le=fo(this),te=this.nodeType===1&&" "+$s(le)+" ",te){for(ve=0;ve<U.length;ve++)for(me=U[ve];te.indexOf(" "+me+" ")>-1;)te=te.replace(" "+me+" "," ");_e=$s(te),le!==_e&&this.setAttribute("class",_e)}}):this):this.attr("class","")},toggleClass:function(j,U){var te,le,me,ve,_e=typeof j,Fe=_e==="string"||Array.isArray(j);return _(j)?this.each(function(Me){d(this).toggleClass(j.call(this,Me,fo(this),U),U)}):typeof U=="boolean"&&Fe?U?this.addClass(j):this.removeClass(j):(te=Ts(j),this.each(function(){if(Fe)for(ve=d(this),me=0;me<te.length;me++)le=te[me],ve.hasClass(le)?ve.removeClass(le):ve.addClass(le);else(j===void 0||_e==="boolean")&&(le=fo(this),le&&Ue.set(this,"__className__",le),this.setAttribute&&this.setAttribute("class",le||j===!1?"":Ue.get(this,"__className__")||""))}))},hasClass:function(j){var U,te,le=0;for(U=" "+j+" ";te=this[le++];)if(te.nodeType===1&&(" "+$s(fo(te))+" ").indexOf(U)>-1)return!0;return!1}});var ed=/\r/g;d.fn.extend({val:function(j){var U,te,le,me=this[0];return arguments.length?(le=_(j),this.each(function(ve){var _e;this.nodeType===1&&(le?_e=j.call(this,ve,d(this).val()):_e=j,_e==null?_e="":typeof _e=="number"?_e+="":Array.isArray(_e)&&(_e=d.map(_e,function(Fe){return Fe==null?"":Fe+""})),U=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!U||!("set"in U)||U.set(this,_e,"value")===void 0)&&(this.value=_e))})):me?(U=d.valHooks[me.type]||d.valHooks[me.nodeName.toLowerCase()],U&&"get"in U&&(te=U.get(me,"value"))!==void 0?te:(te=me.value,typeof te=="string"?te.replace(ed,""):te??"")):void 0}}),d.extend({valHooks:{option:{get:function(j){var U=d.find.attr(j,"value");return U??$s(d.text(j))}},select:{get:function(j){var U,te,le,me=j.options,ve=j.selectedIndex,_e=j.type==="select-one",Fe=_e?null:[],Me=_e?ve+1:me.length;for(ve<0?le=Me:le=_e?ve:0;le<Me;le++)if(te=me[le],(te.selected||le===ve)&&!te.disabled&&(!te.parentNode.disabled||!x(te.parentNode,"optgroup"))){if(U=d(te).val(),_e)return U;Fe.push(U)}return Fe},set:function(j,U){for(var te,le,me=j.options,ve=d.makeArray(U),_e=me.length;_e--;)le=me[_e],(le.selected=d.inArray(d.valHooks.option.get(le),ve)>-1)&&(te=!0);return te||(j.selectedIndex=-1),ve}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(j,U){if(Array.isArray(U))return j.checked=d.inArray(d(j).val(),U)>-1}},m.checkOn||(d.valHooks[this].get=function(j){return j.getAttribute("value")===null?"on":j.value})});var Zl=t.location,td={guid:Date.now()},$c=/\?/;d.parseXML=function(j){var U,te;if(!j||typeof j!="string")return null;try{U=new t.DOMParser().parseFromString(j,"text/xml")}catch{}return te=U&&U.getElementsByTagName("parsererror")[0],(!U||te)&&d.error("Invalid XML: "+(te?d.map(te.childNodes,function(le){return le.textContent}).join(`
`):j)),U};var rd=/^(?:focusinfocus|focusoutblur)$/,Lo=function(j){j.stopPropagation()};d.extend(d.event,{trigger:function(j,U,te,le){var me,ve,_e,Fe,Me,Ke,it,lt,Qe=[te||p],bt=c.call(j,"type")?j.type:j,qt=c.call(j,"namespace")?j.namespace.split("."):[];if(ve=lt=_e=te=te||p,!(te.nodeType===3||te.nodeType===8)&&!rd.test(bt+d.event.triggered)&&(bt.indexOf(".")>-1&&(qt=bt.split("."),bt=qt.shift(),qt.sort()),Me=bt.indexOf(":")<0&&"on"+bt,j=j[d.expando]?j:new d.Event(bt,typeof j=="object"&&j),j.isTrigger=le?2:3,j.namespace=qt.join("."),j.rnamespace=j.namespace?new RegExp("(^|\\.)"+qt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j.result=void 0,j.target||(j.target=te),U=U==null?[j]:d.makeArray(U,[j]),it=d.event.special[bt]||{},!(!le&&it.trigger&&it.trigger.apply(te,U)===!1))){if(!le&&!it.noBubble&&!v(te)){for(Fe=it.delegateType||bt,rd.test(Fe+bt)||(ve=ve.parentNode);ve;ve=ve.parentNode)Qe.push(ve),_e=ve;_e===(te.ownerDocument||p)&&Qe.push(_e.defaultView||_e.parentWindow||t)}for(me=0;(ve=Qe[me++])&&!j.isPropagationStopped();)lt=ve,j.type=me>1?Fe:it.bindType||bt,Ke=(Ue.get(ve,"events")||Object.create(null))[j.type]&&Ue.get(ve,"handle"),Ke&&Ke.apply(ve,U),Ke=Me&&ve[Me],Ke&&Ke.apply&&nt(ve)&&(j.result=Ke.apply(ve,U),j.result===!1&&j.preventDefault());return j.type=bt,!le&&!j.isDefaultPrevented()&&(!it._default||it._default.apply(Qe.pop(),U)===!1)&&nt(te)&&Me&&_(te[bt])&&!v(te)&&(_e=te[Me],_e&&(te[Me]=null),d.event.triggered=bt,j.isPropagationStopped()&&lt.addEventListener(bt,Lo),te[bt](),j.isPropagationStopped()&&lt.removeEventListener(bt,Lo),d.event.triggered=void 0,_e&&(te[Me]=_e)),j.result}},simulate:function(j,U,te){var le=d.extend(new d.Event,te,{type:j,isSimulated:!0});d.event.trigger(le,null,U)}}),d.fn.extend({trigger:function(j,U){return this.each(function(){d.event.trigger(j,U,this)})},triggerHandler:function(j,U){var te=this[0];if(te)return d.event.trigger(j,U,te,!0)}});var nd=/\[\]$/,id=/\r?\n/g,qa=/^(?:submit|button|image|reset|file)$/i,cl=/^(?:input|select|textarea|keygen)/i;function od(j,U,te,le){var me;if(Array.isArray(U))d.each(U,function(ve,_e){te||nd.test(j)?le(j,_e):od(j+"["+(typeof _e=="object"&&_e!=null?ve:"")+"]",_e,te,le)});else if(!te&&E(U)==="object")for(me in U)od(j+"["+me+"]",U[me],te,le);else le(j,U)}d.param=function(j,U){var te,le=[],me=function(ve,_e){var Fe=_(_e)?_e():_e;le[le.length]=encodeURIComponent(ve)+"="+encodeURIComponent(Fe??"")};if(j==null)return"";if(Array.isArray(j)||j.jquery&&!d.isPlainObject(j))d.each(j,function(){me(this.name,this.value)});else for(te in j)od(te,j[te],U,me);return le.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var j=d.prop(this,"elements");return j?d.makeArray(j):this}).filter(function(){var j=this.type;return this.name&&!d(this).is(":disabled")&&cl.test(this.nodeName)&&!qa.test(j)&&(this.checked||!ur.test(j))}).map(function(j,U){var te=d(this).val();return te==null?null:Array.isArray(te)?d.map(te,function(le){return{name:U.name,value:le.replace(id,`\r
`)}}):{name:U.name,value:te.replace(id,`\r
`)}}).get()}});var uS=/%20/g,nv=/#.*$/,iv=/([?&])_=[^&]*/,ov=/^(.*?):[ \t]*([^\r\n]*)$/mg,av=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,eu=/^(?:GET|HEAD)$/,ip=/^\/\//,op={},tu={},ap="*/".concat("*"),ru=p.createElement("a");ru.href=Zl.href;function nu(j){return function(U,te){typeof U!="string"&&(te=U,U="*");var le,me=0,ve=U.toLowerCase().match(be)||[];if(_(te))for(;le=ve[me++];)le[0]==="+"?(le=le.slice(1)||"*",(j[le]=j[le]||[]).unshift(te)):(j[le]=j[le]||[]).push(te)}}function ad(j,U,te,le){var me={},ve=j===tu;function _e(Fe){var Me;return me[Fe]=!0,d.each(j[Fe]||[],function(Ke,it){var lt=it(U,te,le);if(typeof lt=="string"&&!ve&&!me[lt])return U.dataTypes.unshift(lt),_e(lt),!1;if(ve)return!(Me=lt)}),Me}return _e(U.dataTypes[0])||!me["*"]&&_e("*")}function sd(j,U){var te,le,me=d.ajaxSettings.flatOptions||{};for(te in U)U[te]!==void 0&&((me[te]?j:le||(le={}))[te]=U[te]);return le&&d.extend(!0,j,le),j}function ld(j,U,te){for(var le,me,ve,_e,Fe=j.contents,Me=j.dataTypes;Me[0]==="*";)Me.shift(),le===void 0&&(le=j.mimeType||U.getResponseHeader("Content-Type"));if(le){for(me in Fe)if(Fe[me]&&Fe[me].test(le)){Me.unshift(me);break}}if(Me[0]in te)ve=Me[0];else{for(me in te){if(!Me[0]||j.converters[me+" "+Me[0]]){ve=me;break}_e||(_e=me)}ve=ve||_e}if(ve)return ve!==Me[0]&&Me.unshift(ve),te[ve]}function sp(j,U,te,le){var me,ve,_e,Fe,Me,Ke={},it=j.dataTypes.slice();if(it[1])for(_e in j.converters)Ke[_e.toLowerCase()]=j.converters[_e];for(ve=it.shift();ve;)if(j.responseFields[ve]&&(te[j.responseFields[ve]]=U),!Me&&le&&j.dataFilter&&(U=j.dataFilter(U,j.dataType)),Me=ve,ve=it.shift(),ve){if(ve==="*")ve=Me;else if(Me!=="*"&&Me!==ve){if(_e=Ke[Me+" "+ve]||Ke["* "+ve],!_e){for(me in Ke)if(Fe=me.split(" "),Fe[1]===ve&&(_e=Ke[Me+" "+Fe[0]]||Ke["* "+Fe[0]],_e)){_e===!0?_e=Ke[me]:Ke[me]!==!0&&(ve=Fe[0],it.unshift(Fe[1]));break}}if(_e!==!0)if(_e&&j.throws)U=_e(U);else try{U=_e(U)}catch(lt){return{state:"parsererror",error:_e?lt:"No conversion from "+Me+" to "+ve}}}}return{state:"success",data:U}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Zl.href,type:"GET",isLocal:av.test(Zl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ap,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(j,U){return U?sd(sd(j,d.ajaxSettings),U):sd(d.ajaxSettings,j)},ajaxPrefilter:nu(op),ajaxTransport:nu(tu),ajax:function(j,U){typeof j=="object"&&(U=j,j=void 0),U=U||{};var te,le,me,ve,_e,Fe,Me,Ke,it,lt,Qe=d.ajaxSetup({},U),bt=Qe.context||Qe,qt=Qe.context&&(bt.nodeType||bt.jquery)?d(bt):d.event,gr=d.Deferred(),Yt=d.Callbacks("once memory"),Gn=Qe.statusCode||{},Sn={},la={},ua="canceled",vr={readyState:0,getResponseHeader:function(Ar){var $n;if(Me){if(!ve)for(ve={};$n=ov.exec(me);)ve[$n[1].toLowerCase()+" "]=(ve[$n[1].toLowerCase()+" "]||[]).concat($n[2]);$n=ve[Ar.toLowerCase()+" "]}return $n==null?null:$n.join(", ")},getAllResponseHeaders:function(){return Me?me:null},setRequestHeader:function(Ar,$n){return Me==null&&(Ar=la[Ar.toLowerCase()]=la[Ar.toLowerCase()]||Ar,Sn[Ar]=$n),this},overrideMimeType:function(Ar){return Me==null&&(Qe.mimeType=Ar),this},statusCode:function(Ar){var $n;if(Ar)if(Me)vr.always(Ar[vr.status]);else for($n in Ar)Gn[$n]=[Gn[$n],Ar[$n]];return this},abort:function(Ar){var $n=Ar||ua;return te&&te.abort($n),dl(0,$n),this}};if(gr.promise(vr),Qe.url=((j||Qe.url||Zl.href)+"").replace(ip,Zl.protocol+"//"),Qe.type=U.method||U.type||Qe.method||Qe.type,Qe.dataTypes=(Qe.dataType||"*").toLowerCase().match(be)||[""],Qe.crossDomain==null){Fe=p.createElement("a");try{Fe.href=Qe.url,Fe.href=Fe.href,Qe.crossDomain=ru.protocol+"//"+ru.host!=Fe.protocol+"//"+Fe.host}catch{Qe.crossDomain=!0}}if(Qe.data&&Qe.processData&&typeof Qe.data!="string"&&(Qe.data=d.param(Qe.data,Qe.traditional)),ad(op,Qe,U,vr),Me)return vr;Ke=d.event&&Qe.global,Ke&&d.active++===0&&d.event.trigger("ajaxStart"),Qe.type=Qe.type.toUpperCase(),Qe.hasContent=!eu.test(Qe.type),le=Qe.url.replace(nv,""),Qe.hasContent?Qe.data&&Qe.processData&&(Qe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Qe.data=Qe.data.replace(uS,"+")):(lt=Qe.url.slice(le.length),Qe.data&&(Qe.processData||typeof Qe.data=="string")&&(le+=($c.test(le)?"&":"?")+Qe.data,delete Qe.data),Qe.cache===!1&&(le=le.replace(iv,"$1"),lt=($c.test(le)?"&":"?")+"_="+td.guid+++lt),Qe.url=le+lt),Qe.ifModified&&(d.lastModified[le]&&vr.setRequestHeader("If-Modified-Since",d.lastModified[le]),d.etag[le]&&vr.setRequestHeader("If-None-Match",d.etag[le])),(Qe.data&&Qe.hasContent&&Qe.contentType!==!1||U.contentType)&&vr.setRequestHeader("Content-Type",Qe.contentType),vr.setRequestHeader("Accept",Qe.dataTypes[0]&&Qe.accepts[Qe.dataTypes[0]]?Qe.accepts[Qe.dataTypes[0]]+(Qe.dataTypes[0]!=="*"?", "+ap+"; q=0.01":""):Qe.accepts["*"]);for(it in Qe.headers)vr.setRequestHeader(it,Qe.headers[it]);if(Qe.beforeSend&&(Qe.beforeSend.call(bt,vr,Qe)===!1||Me))return vr.abort();if(ua="abort",Yt.add(Qe.complete),vr.done(Qe.success),vr.fail(Qe.error),te=ad(tu,Qe,U,vr),!te)dl(-1,"No Transport");else{if(vr.readyState=1,Ke&&qt.trigger("ajaxSend",[vr,Qe]),Me)return vr;Qe.async&&Qe.timeout>0&&(_e=t.setTimeout(function(){vr.abort("timeout")},Qe.timeout));try{Me=!1,te.send(Sn,dl)}catch(Ar){if(Me)throw Ar;dl(-1,Ar)}}function dl(Ar,$n,iu,Kn){var Ri,ou,ho,gi,vi,Tn=$n;Me||(Me=!0,_e&&t.clearTimeout(_e),te=void 0,me=Kn||"",vr.readyState=Ar>0?4:0,Ri=Ar>=200&&Ar<300||Ar===304,iu&&(gi=ld(Qe,vr,iu)),!Ri&&d.inArray("script",Qe.dataTypes)>-1&&d.inArray("json",Qe.dataTypes)<0&&(Qe.converters["text script"]=function(){}),gi=sp(Qe,gi,vr,Ri),Ri?(Qe.ifModified&&(vi=vr.getResponseHeader("Last-Modified"),vi&&(d.lastModified[le]=vi),vi=vr.getResponseHeader("etag"),vi&&(d.etag[le]=vi)),Ar===204||Qe.type==="HEAD"?Tn="nocontent":Ar===304?Tn="notmodified":(Tn=gi.state,ou=gi.data,ho=gi.error,Ri=!ho)):(ho=Tn,(Ar||!Tn)&&(Tn="error",Ar<0&&(Ar=0))),vr.status=Ar,vr.statusText=($n||Tn)+"",Ri?gr.resolveWith(bt,[ou,Tn,vr]):gr.rejectWith(bt,[vr,Tn,ho]),vr.statusCode(Gn),Gn=void 0,Ke&&qt.trigger(Ri?"ajaxSuccess":"ajaxError",[vr,Qe,Ri?ou:ho]),Yt.fireWith(bt,[vr,Tn]),Ke&&(qt.trigger("ajaxComplete",[vr,Qe]),--d.active||d.event.trigger("ajaxStop")))}return vr},getJSON:function(j,U,te){return d.get(j,U,te,"json")},getScript:function(j,U){return d.get(j,void 0,U,"script")}}),d.each(["get","post"],function(j,U){d[U]=function(te,le,me,ve){return _(le)&&(ve=ve||me,me=le,le=void 0),d.ajax(d.extend({url:te,type:U,dataType:ve,data:le,success:me},d.isPlainObject(te)&&te))}}),d.ajaxPrefilter(function(j){var U;for(U in j.headers)U.toLowerCase()==="content-type"&&(j.contentType=j.headers[U]||"")}),d._evalUrl=function(j,U,te){return d.ajax({url:j,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(le){d.globalEval(le,U,te)}})},d.fn.extend({wrapAll:function(j){var U;return this[0]&&(_(j)&&(j=j.call(this[0])),U=d(j,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&U.insertBefore(this[0]),U.map(function(){for(var te=this;te.firstElementChild;)te=te.firstElementChild;return te}).append(this)),this},wrapInner:function(j){return _(j)?this.each(function(U){d(this).wrapInner(j.call(this,U))}):this.each(function(){var U=d(this),te=U.contents();te.length?te.wrapAll(j):U.append(j)})},wrap:function(j){var U=_(j);return this.each(function(te){d(this).wrapAll(U?j.call(this,te):j)})},unwrap:function(j){return this.parent(j).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(j){return!d.expr.pseudos.visible(j)},d.expr.pseudos.visible=function(j){return!!(j.offsetWidth||j.offsetHeight||j.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var fl={0:200,1223:204},Va=d.ajaxSettings.xhr();m.cors=!!Va&&"withCredentials"in Va,m.ajax=Va=!!Va,d.ajaxTransport(function(j){var U,te;if(m.cors||Va&&!j.crossDomain)return{send:function(le,me){var ve,_e=j.xhr();if(_e.open(j.type,j.url,j.async,j.username,j.password),j.xhrFields)for(ve in j.xhrFields)_e[ve]=j.xhrFields[ve];j.mimeType&&_e.overrideMimeType&&_e.overrideMimeType(j.mimeType),!j.crossDomain&&!le["X-Requested-With"]&&(le["X-Requested-With"]="XMLHttpRequest");for(ve in le)_e.setRequestHeader(ve,le[ve]);U=function(Fe){return function(){U&&(U=te=_e.onload=_e.onerror=_e.onabort=_e.ontimeout=_e.onreadystatechange=null,Fe==="abort"?_e.abort():Fe==="error"?typeof _e.status!="number"?me(0,"error"):me(_e.status,_e.statusText):me(fl[_e.status]||_e.status,_e.statusText,(_e.responseType||"text")!=="text"||typeof _e.responseText!="string"?{binary:_e.response}:{text:_e.responseText},_e.getAllResponseHeaders()))}},_e.onload=U(),te=_e.onerror=_e.ontimeout=U("error"),_e.onabort!==void 0?_e.onabort=te:_e.onreadystatechange=function(){_e.readyState===4&&t.setTimeout(function(){U&&te()})},U=U("abort");try{_e.send(j.hasContent&&j.data||null)}catch(Fe){if(U)throw Fe}},abort:function(){U&&U()}}}),d.ajaxPrefilter(function(j){j.crossDomain&&(j.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(j){return d.globalEval(j),j}}}),d.ajaxPrefilter("script",function(j){j.cache===void 0&&(j.cache=!1),j.crossDomain&&(j.type="GET")}),d.ajaxTransport("script",function(j){if(j.crossDomain||j.scriptAttrs){var U,te;return{send:function(le,me){U=d("<script>").attr(j.scriptAttrs||{}).prop({charset:j.scriptCharset,src:j.url}).on("load error",te=function(ve){U.remove(),te=null,ve&&me(ve.type==="error"?404:200,ve.type)}),p.head.appendChild(U[0])},abort:function(){te&&te()}}}});var Tc=[],ud=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var j=Tc.pop()||d.expando+"_"+td.guid++;return this[j]=!0,j}}),d.ajaxPrefilter("json jsonp",function(j,U,te){var le,me,ve,_e=j.jsonp!==!1&&(ud.test(j.url)?"url":typeof j.data=="string"&&(j.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ud.test(j.data)&&"data");if(_e||j.dataTypes[0]==="jsonp")return le=j.jsonpCallback=_(j.jsonpCallback)?j.jsonpCallback():j.jsonpCallback,_e?j[_e]=j[_e].replace(ud,"$1"+le):j.jsonp!==!1&&(j.url+=($c.test(j.url)?"&":"?")+j.jsonp+"="+le),j.converters["script json"]=function(){return ve||d.error(le+" was not called"),ve[0]},j.dataTypes[0]="json",me=t[le],t[le]=function(){ve=arguments},te.always(function(){me===void 0?d(t).removeProp(le):t[le]=me,j[le]&&(j.jsonpCallback=U.jsonpCallback,Tc.push(le)),ve&&_(me)&&me(ve[0]),ve=me=void 0}),"script"}),m.createHTMLDocument=function(){var j=p.implementation.createHTMLDocument("").body;return j.innerHTML="<form></form><form></form>",j.childNodes.length===2}(),d.parseHTML=function(j,U,te){if(typeof j!="string")return[];typeof U=="boolean"&&(te=U,U=!1);var le,me,ve;return U||(m.createHTMLDocument?(U=p.implementation.createHTMLDocument(""),le=U.createElement("base"),le.href=p.location.href,U.head.appendChild(le)):U=p),me=G.exec(j),ve=!te&&[],me?[U.createElement(me[1])]:(me=ct([j],U,ve),ve&&ve.length&&d(ve).remove(),d.merge([],me.childNodes))},d.fn.load=function(j,U,te){var le,me,ve,_e=this,Fe=j.indexOf(" ");return Fe>-1&&(le=$s(j.slice(Fe)),j=j.slice(0,Fe)),_(U)?(te=U,U=void 0):U&&typeof U=="object"&&(me="POST"),_e.length>0&&d.ajax({url:j,type:me||"GET",dataType:"html",data:U}).done(function(Me){ve=arguments,_e.html(le?d("<div>").append(d.parseHTML(Me)).find(le):Me)}).always(te&&function(Me,Ke){_e.each(function(){te.apply(this,ve||[Me.responseText,Ke,Me])})}),this},d.expr.pseudos.animated=function(j){return d.grep(d.timers,function(U){return j===U.elem}).length},d.offset={setOffset:function(j,U,te){var le,me,ve,_e,Fe,Me,Ke,it=d.css(j,"position"),lt=d(j),Qe={};it==="static"&&(j.style.position="relative"),Fe=lt.offset(),ve=d.css(j,"top"),Me=d.css(j,"left"),Ke=(it==="absolute"||it==="fixed")&&(ve+Me).indexOf("auto")>-1,Ke?(le=lt.position(),_e=le.top,me=le.left):(_e=parseFloat(ve)||0,me=parseFloat(Me)||0),_(U)&&(U=U.call(j,te,d.extend({},Fe))),U.top!=null&&(Qe.top=U.top-Fe.top+_e),U.left!=null&&(Qe.left=U.left-Fe.left+me),"using"in U?U.using.call(j,Qe):lt.css(Qe)}},d.fn.extend({offset:function(j){if(arguments.length)return j===void 0?this:this.each(function(me){d.offset.setOffset(this,j,me)});var U,te,le=this[0];if(le)return le.getClientRects().length?(U=le.getBoundingClientRect(),te=le.ownerDocument.defaultView,{top:U.top+te.pageYOffset,left:U.left+te.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var j,U,te,le=this[0],me={top:0,left:0};if(d.css(le,"position")==="fixed")U=le.getBoundingClientRect();else{for(U=this.offset(),te=le.ownerDocument,j=le.offsetParent||te.documentElement;j&&(j===te.body||j===te.documentElement)&&d.css(j,"position")==="static";)j=j.parentNode;j&&j!==le&&j.nodeType===1&&(me=d(j).offset(),me.top+=d.css(j,"borderTopWidth",!0),me.left+=d.css(j,"borderLeftWidth",!0))}return{top:U.top-me.top-d.css(le,"marginTop",!0),left:U.left-me.left-d.css(le,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var j=this.offsetParent;j&&d.css(j,"position")==="static";)j=j.offsetParent;return j||Be})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(j,U){var te=U==="pageYOffset";d.fn[j]=function(le){return de(this,function(me,ve,_e){var Fe;if(v(me)?Fe=me:me.nodeType===9&&(Fe=me.defaultView),_e===void 0)return Fe?Fe[U]:me[ve];Fe?Fe.scrollTo(te?Fe.pageXOffset:_e,te?_e:Fe.pageYOffset):me[ve]=_e},j,le,arguments.length)}}),d.each(["top","left"],function(j,U){d.cssHooks[U]=en(m.pixelPosition,function(te,le){if(le)return le=Ct(te,U),Rt.test(le)?d(te).position()[U]+"px":le})}),d.each({Height:"height",Width:"width"},function(j,U){d.each({padding:"inner"+j,content:U,"":"outer"+j},function(te,le){d.fn[le]=function(me,ve){var _e=arguments.length&&(te||typeof me!="boolean"),Fe=te||(me===!0||ve===!0?"margin":"border");return de(this,function(Me,Ke,it){var lt;return v(Me)?le.indexOf("outer")===0?Me["inner"+j]:Me.document.documentElement["client"+j]:Me.nodeType===9?(lt=Me.documentElement,Math.max(Me.body["scroll"+j],lt["scroll"+j],Me.body["offset"+j],lt["offset"+j],lt["client"+j])):it===void 0?d.css(Me,Ke,Fe):d.style(Me,Ke,it,Fe)},U,_e?me:void 0,_e)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(j,U){d.fn[U]=function(te){return this.on(U,te)}}),d.fn.extend({bind:function(j,U,te){return this.on(j,null,U,te)},unbind:function(j,U){return this.off(j,null,U)},delegate:function(j,U,te,le){return this.on(U,j,te,le)},undelegate:function(j,U,te){return arguments.length===1?this.off(j,"**"):this.off(U,j||"**",te)},hover:function(j,U){return this.on("mouseenter",j).on("mouseleave",U||j)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(j,U){d.fn[U]=function(te,le){return arguments.length>0?this.on(U,null,te,le):this.trigger(U)}});var lp=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(j,U){var te,le,me;if(typeof U=="string"&&(te=j[U],U=j,j=te),!!_(j))return le=o.call(arguments,2),me=function(){return j.apply(U||this,le.concat(o.call(arguments)))},me.guid=j.guid=j.guid||d.guid++,me},d.holdReady=function(j){j?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=x,d.isFunction=_,d.isWindow=v,d.camelCase=ke,d.type=E,d.now=Date.now,d.isNumeric=function(j){var U=d.type(j);return(U==="number"||U==="string")&&!isNaN(j-parseFloat(j))},d.trim=function(j){return j==null?"":(j+"").replace(lp,"$1")};var sv=t.jQuery,cd=t.$;return d.noConflict=function(j){return t.$===d&&(t.$=cd),j&&t.jQuery===d&&(t.jQuery=sv),d},typeof r>"u"&&(t.jQuery=t.$=d),d})}(b1)),b1.exports}(function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof Pa=="object"&&Pa.global===Pa&&Pa;{var n=Jae,i;try{i=cH()}catch{}t(r,e,n,i)}})(function(t,r,n,i){var o=t.Backbone,a=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=o,this},r.emulateHTTP=!1,r.emulateJSON=!1;var s=r.Events={},l=/\s+/,u,f=function(M,K,ae,fe,de){var pe=0,xe;if(ae&&typeof ae=="object")for(fe!==void 0&&("context"in de)&&de.context===void 0&&(de.context=fe),xe=n.keys(ae);pe<xe.length;pe++)K=f(M,K,xe[pe],ae[xe[pe]],de);else if(ae&&l.test(ae))for(xe=ae.split(l);pe<xe.length;pe++)K=M(K,xe[pe],fe,de);else K=M(K,ae,fe,de);return K};s.on=function(M,K,ae){if(this._events=f(c,this._events||{},M,K,{context:ae,ctx:this,listening:u}),u){var fe=this._listeners||(this._listeners={});fe[u.id]=u,u.interop=!1}return this},s.listenTo=function(M,K,ae){if(!M)return this;var fe=M._listenId||(M._listenId=n.uniqueId("l")),de=this._listeningTo||(this._listeningTo={}),pe=u=de[fe];pe||(this._listenId||(this._listenId=n.uniqueId("l")),pe=u=de[fe]=new p(this,M));var xe=h(M,K,ae,this);if(u=void 0,xe)throw xe;return pe.interop&&pe.on(K,ae),this};var c=function(M,K,ae,fe){if(ae){var de=M[K]||(M[K]=[]),pe=fe.context,xe=fe.ctx,Le=fe.listening;Le&&Le.count++,de.push({callback:ae,context:pe,ctx:pe||xe,listening:Le})}return M},h=function(M,K,ae,fe){try{M.on(K,ae,fe)}catch(de){return de}};s.off=function(M,K,ae){return this._events?(this._events=f(g,this._events,M,K,{context:ae,listeners:this._listeners}),this):this},s.stopListening=function(M,K,ae){var fe=this._listeningTo;if(!fe)return this;for(var de=M?[M._listenId]:n.keys(fe),pe=0;pe<de.length;pe++){var xe=fe[de[pe]];if(!xe)break;xe.obj.off(K,ae,this),xe.interop&&xe.off(K,ae)}return n.isEmpty(fe)&&(this._listeningTo=void 0),this};var g=function(M,K,ae,fe){if(M){var de=fe.context,pe=fe.listeners,xe=0,Le;if(!K&&!de&&!ae){for(Le=n.keys(pe);xe<Le.length;xe++)pe[Le[xe]].cleanup();return}for(Le=K?[K]:n.keys(M);xe<Le.length;xe++){K=Le[xe];var ke=M[K];if(!ke)break;for(var nt=[],qe=0;qe<ke.length;qe++){var Ue=ke[qe];if(ae&&ae!==Ue.callback&&ae!==Ue.callback._callback||de&&de!==Ue.context)nt.push(Ue);else{var W=Ue.listening;W&&W.off(K,ae)}}nt.length?M[K]=nt:delete M[K]}return M}};s.once=function(M,K,ae){var fe=f(m,{},M,K,this.off.bind(this));return typeof M=="string"&&ae==null&&(K=void 0),this.on(fe,K,ae)},s.listenToOnce=function(M,K,ae){var fe=f(m,{},K,ae,this.stopListening.bind(this,M));return this.listenTo(M,fe)};var m=function(M,K,ae,fe){if(ae){var de=M[K]=n.once(function(){fe(K,de),ae.apply(this,arguments)});de._callback=ae}return M};s.trigger=function(M){if(!this._events)return this;for(var K=Math.max(0,arguments.length-1),ae=Array(K),fe=0;fe<K;fe++)ae[fe]=arguments[fe+1];return f(_,this._events,M,void 0,ae),this};var _=function(M,K,ae,fe){if(M){var de=M[K],pe=M.all;de&&pe&&(pe=pe.slice()),de&&v(de,fe),pe&&v(pe,[K].concat(fe))}return M},v=function(M,K){var ae,fe=-1,de=M.length,pe=K[0],xe=K[1],Le=K[2];switch(K.length){case 0:for(;++fe<de;)(ae=M[fe]).callback.call(ae.ctx);return;case 1:for(;++fe<de;)(ae=M[fe]).callback.call(ae.ctx,pe);return;case 2:for(;++fe<de;)(ae=M[fe]).callback.call(ae.ctx,pe,xe);return;case 3:for(;++fe<de;)(ae=M[fe]).callback.call(ae.ctx,pe,xe,Le);return;default:for(;++fe<de;)(ae=M[fe]).callback.apply(ae.ctx,K);return}},p=function(M,K){this.id=M._listenId,this.listener=M,this.obj=K,this.interop=!0,this.count=0,this._events=void 0};p.prototype.on=s.on,p.prototype.off=function(M,K){var ae;this.interop?(this._events=f(g,this._events,M,K,{context:void 0,listeners:void 0}),ae=!this._events):(this.count--,ae=this.count===0),ae&&this.cleanup()},p.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(r,s);var S=r.Model=function(M,K){var ae=M||{};K||(K={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},K.collection&&(this.collection=K.collection),K.parse&&(ae=this.parse(ae,K)||{});var fe=n.result(this,"defaults");ae=n.defaults(n.extend({},fe,ae),fe),this.set(ae,K),this.changed={},this.initialize.apply(this,arguments)};n.extend(S.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(M){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return n.escape(this.get(M))},has:function(M){return this.get(M)!=null},matches:function(M){return!!n.iteratee(M,this)(this.attributes)},set:function(M,K,ae){if(M==null)return this;var fe;if(typeof M=="object"?(fe=M,ae=K):(fe={})[M]=K,ae||(ae={}),!this._validate(fe,ae))return!1;var de=ae.unset,pe=ae.silent,xe=[],Le=this._changing;this._changing=!0,Le||(this._previousAttributes=n.clone(this.attributes),this.changed={});var ke=this.attributes,nt=this.changed,qe=this._previousAttributes;for(var Ue in fe)K=fe[Ue],n.isEqual(ke[Ue],K)||xe.push(Ue),n.isEqual(qe[Ue],K)?delete nt[Ue]:nt[Ue]=K,de?delete ke[Ue]:ke[Ue]=K;if(this.idAttribute in fe){var W=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,W,ae)}if(!pe){xe.length&&(this._pending=ae);for(var I=0;I<xe.length;I++)this.trigger("change:"+xe[I],this,ke[xe[I]],ae)}if(Le)return this;if(!pe)for(;this._pending;)ae=this._pending,this._pending=!1,this.trigger("change",this,ae);return this._pending=!1,this._changing=!1,this},unset:function(M,K){return this.set(M,void 0,n.extend({},K,{unset:!0}))},clear:function(M){var K={};for(var ae in this.attributes)K[ae]=void 0;return this.set(K,n.extend({},M,{unset:!0}))},hasChanged:function(M){return M==null?!n.isEmpty(this.changed):n.has(this.changed,M)},changedAttributes:function(M){if(!M)return this.hasChanged()?n.clone(this.changed):!1;var K=this._changing?this._previousAttributes:this.attributes,ae={},fe;for(var de in M){var pe=M[de];n.isEqual(K[de],pe)||(ae[de]=pe,fe=!0)}return fe?ae:!1},previous:function(M){return M==null||!this._previousAttributes?null:this._previousAttributes[M]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(M){M=n.extend({parse:!0},M);var K=this,ae=M.success;return M.success=function(fe){var de=M.parse?K.parse(fe,M):fe;if(!K.set(de,M))return!1;ae&&ae.call(M.context,K,fe,M),K.trigger("sync",K,fe,M)},D(this,M),this.sync("read",this,M)},save:function(M,K,ae){var fe;M==null||typeof M=="object"?(fe=M,ae=K):(fe={})[M]=K,ae=n.extend({validate:!0,parse:!0},ae);var de=ae.wait;if(fe&&!de){if(!this.set(fe,ae))return!1}else if(!this._validate(fe,ae))return!1;var pe=this,xe=ae.success,Le=this.attributes;ae.success=function(qe){pe.attributes=Le;var Ue=ae.parse?pe.parse(qe,ae):qe;if(de&&(Ue=n.extend({},fe,Ue)),Ue&&!pe.set(Ue,ae))return!1;xe&&xe.call(ae.context,pe,qe,ae),pe.trigger("sync",pe,qe,ae)},D(this,ae),fe&&de&&(this.attributes=n.extend({},Le,fe));var ke=this.isNew()?"create":ae.patch?"patch":"update";ke==="patch"&&!ae.attrs&&(ae.attrs=fe);var nt=this.sync(ke,this,ae);return this.attributes=Le,nt},destroy:function(M){M=M?n.clone(M):{};var K=this,ae=M.success,fe=M.wait,de=function(){K.stopListening(),K.trigger("destroy",K,K.collection,M)};M.success=function(xe){fe&&de(),ae&&ae.call(M.context,K,xe,M),K.isNew()||K.trigger("sync",K,xe,M)};var pe=!1;return this.isNew()?n.defer(M.success):(D(this,M),pe=this.sync("delete",this,M)),fe||de(),pe},url:function(){var M=n.result(this,"urlRoot")||n.result(this.collection,"url")||R();if(this.isNew())return M;var K=this.get(this.idAttribute);return M.replace(/[^\/]$/,"$&/")+encodeURIComponent(K)},parse:function(M,K){return M},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(M){return this._validate({},n.extend({},M,{validate:!0}))},_validate:function(M,K){if(!K.validate||!this.validate)return!0;M=n.extend({},this.attributes,M);var ae=this.validationError=this.validate(M,K)||null;return ae?(this.trigger("invalid",this,ae,n.extend(K,{validationError:ae})),!1):!0}});var y=r.Collection=function(M,K){K||(K={}),this.preinitialize.apply(this,arguments),K.model&&(this.model=K.model),K.comparator!==void 0&&(this.comparator=K.comparator),this._reset(),this.initialize.apply(this,arguments),M&&this.reset(M,n.extend({silent:!0},K))},E={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},T=function(M,K,ae){ae=Math.min(Math.max(ae,0),M.length);var fe=Array(M.length-ae),de=K.length,pe;for(pe=0;pe<fe.length;pe++)fe[pe]=M[pe+ae];for(pe=0;pe<de;pe++)M[pe+ae]=K[pe];for(pe=0;pe<fe.length;pe++)M[pe+de+ae]=fe[pe]};n.extend(y.prototype,s,{model:S,preinitialize:function(){},initialize:function(){},toJSON:function(M){return this.map(function(K){return K.toJSON(M)})},sync:function(){return r.sync.apply(this,arguments)},add:function(M,K){return this.set(M,n.extend({merge:!1},K,$))},remove:function(M,K){K=n.extend({},K);var ae=!n.isArray(M);M=ae?[M]:M.slice();var fe=this._removeModels(M,K);return!K.silent&&fe.length&&(K.changes={added:[],merged:[],removed:fe},this.trigger("update",this,K)),ae?fe[0]:fe},set:function(M,K){if(M!=null){K=n.extend({},E,K),K.parse&&!this._isModel(M)&&(M=this.parse(M,K)||[]);var ae=!n.isArray(M);M=ae?[M]:M.slice();var fe=K.at;fe!=null&&(fe=+fe),fe>this.length&&(fe=this.length),fe<0&&(fe+=this.length+1);var de=[],pe=[],xe=[],Le=[],ke={},nt=K.add,qe=K.merge,Ue=K.remove,W=!1,I=this.comparator&&fe==null&&K.sort!==!1,L=n.isString(this.comparator)?this.comparator:null,ne,ye;for(ye=0;ye<M.length;ye++){ne=M[ye];var Se=this.get(ne);if(Se){if(qe&&ne!==Se){var De=this._isModel(ne)?ne.attributes:ne;K.parse&&(De=Se.parse(De,K)),Se.set(De,K),xe.push(Se),I&&!W&&(W=Se.hasChanged(L))}ke[Se.cid]||(ke[Se.cid]=!0,de.push(Se)),M[ye]=Se}else nt&&(ne=M[ye]=this._prepareModel(ne,K),ne&&(pe.push(ne),this._addReference(ne,K),ke[ne.cid]=!0,de.push(ne)))}if(Ue){for(ye=0;ye<this.length;ye++)ne=this.models[ye],ke[ne.cid]||Le.push(ne);Le.length&&this._removeModels(Le,K)}var je=!1,Be=!I&&nt&&Ue;if(de.length&&Be?(je=this.length!==de.length||n.some(this.models,function(at,wt){return at!==de[wt]}),this.models.length=0,T(this.models,de,0),this.length=this.models.length):pe.length&&(I&&(W=!0),T(this.models,pe,fe??this.length),this.length=this.models.length),W&&this.sort({silent:!0}),!K.silent){for(ye=0;ye<pe.length;ye++)fe!=null&&(K.index=fe+ye),ne=pe[ye],ne.trigger("add",ne,this,K);(W||je)&&this.trigger("sort",this,K),(pe.length||Le.length||xe.length)&&(K.changes={added:pe,removed:Le,merged:xe},this.trigger("update",this,K))}return ae?M[0]:M}},reset:function(M,K){K=K?n.clone(K):{};for(var ae=0;ae<this.models.length;ae++)this._removeReference(this.models[ae],K);return K.previousModels=this.models,this._reset(),M=this.add(M,n.extend({silent:!0},K)),K.silent||this.trigger("reset",this,K),M},push:function(M,K){return this.add(M,n.extend({at:this.length},K))},pop:function(M){var K=this.at(this.length-1);return this.remove(K,M)},unshift:function(M,K){return this.add(M,n.extend({at:0},K))},shift:function(M){var K=this.at(0);return this.remove(K,M)},slice:function(){return a.apply(this.models,arguments)},get:function(M){if(M!=null)return this._byId[M]||this._byId[this.modelId(this._isModel(M)?M.attributes:M,M.idAttribute)]||M.cid&&this._byId[M.cid]},has:function(M){return this.get(M)!=null},at:function(M){return M<0&&(M+=this.length),this.models[M]},where:function(M,K){return this[K?"find":"filter"](M)},findWhere:function(M){return this.where(M,!0)},sort:function(M){var K=this.comparator;if(!K)throw new Error("Cannot sort a set without a comparator");M||(M={});var ae=K.length;return n.isFunction(K)&&(K=K.bind(this)),ae===1||n.isString(K)?this.models=this.sortBy(K):this.models.sort(K),M.silent||this.trigger("sort",this,M),this},pluck:function(M){return this.map(M+"")},fetch:function(M){M=n.extend({parse:!0},M);var K=M.success,ae=this;return M.success=function(fe){var de=M.reset?"reset":"set";ae[de](fe,M),K&&K.call(M.context,ae,fe,M),ae.trigger("sync",ae,fe,M)},D(this,M),this.sync("read",this,M)},create:function(M,K){K=K?n.clone(K):{};var ae=K.wait;if(M=this._prepareModel(M,K),!M)return!1;ae||this.add(M,K);var fe=this,de=K.success;return K.success=function(pe,xe,Le){ae&&fe.add(pe,Le),de&&de.call(Le.context,pe,xe,Le)},M.save(null,K),M},parse:function(M,K){return M},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(M,K){return M[K||this.model.prototype.idAttribute||"id"]},values:function(){return new A(this,x)},keys:function(){return new A(this,O)},entries:function(){return new A(this,C)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(M,K){if(this._isModel(M))return M.collection||(M.collection=this),M;K=K?n.clone(K):{},K.collection=this;var ae;return this.model.prototype?ae=new this.model(M,K):ae=this.model(M,K),ae.validationError?(this.trigger("invalid",this,ae.validationError,K),!1):ae},_removeModels:function(M,K){for(var ae=[],fe=0;fe<M.length;fe++){var de=this.get(M[fe]);if(de){var pe=this.indexOf(de);this.models.splice(pe,1),this.length--,delete this._byId[de.cid];var xe=this.modelId(de.attributes,de.idAttribute);xe!=null&&delete this._byId[xe],K.silent||(K.index=pe,de.trigger("remove",de,this,K)),ae.push(de),this._removeReference(de,K)}}return ae},_isModel:function(M){return M instanceof S},_addReference:function(M,K){this._byId[M.cid]=M;var ae=this.modelId(M.attributes,M.idAttribute);ae!=null&&(this._byId[ae]=M),M.on("all",this._onModelEvent,this)},_removeReference:function(M,K){delete this._byId[M.cid];var ae=this.modelId(M.attributes,M.idAttribute);ae!=null&&delete this._byId[ae],this===M.collection&&delete M.collection,M.off("all",this._onModelEvent,this)},_onModelEvent:function(M,K,ae,fe){if(K){if((M==="add"||M==="remove")&&ae!==this)return;if(M==="destroy"&&this.remove(K,fe),M==="changeId"){var de=this.modelId(K.previousAttributes(),K.idAttribute),pe=this.modelId(K.attributes,K.idAttribute);de!=null&&delete this._byId[de],pe!=null&&(this._byId[pe]=K)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(y.prototype[d]=y.prototype.values);var A=function(M,K){this._collection=M,this._kind=K,this._index=0},x=1,O=2,C=3;d&&(A.prototype[d]=function(){return this}),A.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var M=this._collection.at(this._index);this._index++;var K;if(this._kind===x)K=M;else{var ae=this._collection.modelId(M.attributes,M.idAttribute);this._kind===O?K=ae:K=[ae,M]}return{value:K,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var F=r.View=function(M){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(M,Q)),this._ensureElement(),this.initialize.apply(this,arguments)},V=/^(\S+)\s*(.*)$/,Q=["model","collection","el","id","attributes","className","tagName","events"];n.extend(F.prototype,s,{tagName:"div",$:function(M){return this.$el.find(M)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(M){return this.undelegateEvents(),this._setElement(M),this.delegateEvents(),this},_setElement:function(M){this.$el=M instanceof r.$?M:r.$(M),this.el=this.$el[0]},delegateEvents:function(M){if(M||(M=n.result(this,"events")),!M)return this;this.undelegateEvents();for(var K in M){var ae=M[K];if(n.isFunction(ae)||(ae=this[ae]),!!ae){var fe=K.match(V);this.delegate(fe[1],fe[2],ae.bind(this))}}return this},delegate:function(M,K,ae){return this.$el.on(M+".delegateEvents"+this.cid,K,ae),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(M,K,ae){return this.$el.off(M+".delegateEvents"+this.cid,K,ae),this},_createElement:function(M){return document.createElement(M)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var M=n.extend({},n.result(this,"attributes"));this.id&&(M.id=n.result(this,"id")),this.className&&(M.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(M)}},_setAttributes:function(M){this.$el.attr(M)}});var H=function(M,K,ae,fe){switch(K){case 1:return function(){return M[ae](this[fe])};case 2:return function(de){return M[ae](this[fe],de)};case 3:return function(de,pe){return M[ae](this[fe],ce(de,this),pe)};case 4:return function(de,pe,xe){return M[ae](this[fe],ce(de,this),pe,xe)};default:return function(){var de=a.call(arguments);return de.unshift(this[fe]),M[ae].apply(M,de)}}},X=function(M,K,ae,fe){n.each(ae,function(de,pe){K[pe]&&(M.prototype[pe]=H(K,de,pe,fe))})},ce=function(M,K){return n.isFunction(M)?M:n.isObject(M)&&!K._isModel(M)?Z(M):n.isString(M)?function(ae){return ae.get(M)}:M},Z=function(M){var K=n.matches(M);return function(ae){return K(ae.attributes)}},ie={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},k={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,ie,"models"],[S,k,"attributes"]],function(M){var K=M[0],ae=M[1],fe=M[2];K.mixin=function(de){var pe=n.reduce(n.functions(de),function(xe,Le){return xe[Le]=0,xe},{});X(K,de,pe,fe)},X(K,n,ae,fe)}),r.sync=function(M,K,ae){var fe=B[M];n.defaults(ae||(ae={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var de={type:fe,dataType:"json"};if(ae.url||(de.url=n.result(K,"url")||R()),ae.data==null&&K&&(M==="create"||M==="update"||M==="patch")&&(de.contentType="application/json",de.data=JSON.stringify(ae.attrs||K.toJSON(ae))),ae.emulateJSON&&(de.contentType="application/x-www-form-urlencoded",de.data=de.data?{model:de.data}:{}),ae.emulateHTTP&&(fe==="PUT"||fe==="DELETE"||fe==="PATCH")){de.type="POST",ae.emulateJSON&&(de.data._method=fe);var pe=ae.beforeSend;ae.beforeSend=function(ke){if(ke.setRequestHeader("X-HTTP-Method-Override",fe),pe)return pe.apply(this,arguments)}}de.type!=="GET"&&!ae.emulateJSON&&(de.processData=!1);var xe=ae.error;ae.error=function(ke,nt,qe){ae.textStatus=nt,ae.errorThrown=qe,xe&&xe.call(ae.context,ke,nt,qe)};var Le=ae.xhr=r.ajax(n.extend(de,ae));return K.trigger("request",K,Le,ae),Le};var B={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var G=r.Router=function(M){M||(M={}),this.preinitialize.apply(this,arguments),M.routes&&(this.routes=M.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,q=/\*\w+/g,oe=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(G.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(M,K,ae){n.isRegExp(M)||(M=this._routeToRegExp(M)),n.isFunction(K)&&(ae=K,K=""),ae||(ae=this[K]);var fe=this;return r.history.route(M,function(de){var pe=fe._extractParameters(M,de);fe.execute(ae,pe,K)!==!1&&(fe.trigger.apply(fe,["route:"+K].concat(pe)),fe.trigger("route",K,pe),r.history.trigger("route",fe,K,pe))}),this},execute:function(M,K,ae){M&&M.apply(this,K)},navigate:function(M,K){return r.history.navigate(M,K),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var M,K=n.keys(this.routes);(M=K.pop())!=null;)this.route(M,this.routes[M])}},_routeToRegExp:function(M){return M=M.replace(oe,"\\$&").replace(P,"(?:$1)?").replace(N,function(K,ae){return ae?K:"([^/?]+)"}).replace(q,"([^?]*?)"),new RegExp("^"+M+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(M,K){var ae=M.exec(K).slice(1);return n.map(ae,function(fe,de){return de===ae.length-1?fe||null:fe?decodeURIComponent(fe):null})}});var J=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Y=/^[#\/]|\s+$/g,se=/^\/+|\/+$/g,be=/#.*$/;J.started=!1,n.extend(J.prototype,s,{interval:50,atRoot:function(){var M=this.location.pathname.replace(/[^\/]$/,"$&/");return M===this.root&&!this.getSearch()},matchRoot:function(){var M=this.decodeFragment(this.location.pathname),K=M.slice(0,this.root.length-1)+"/";return K===this.root},decodeFragment:function(M){return decodeURI(M.replace(/%25/g,"%2525"))},getSearch:function(){var M=this.location.href.replace(/#.*/,"").match(/\?.+/);return M?M[0]:""},getHash:function(M){var K=(M||this).location.href.match(/#(.*)$/);return K?K[1]:""},getPath:function(){var M=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return M.charAt(0)==="/"?M.slice(1):M},getFragment:function(M){return M==null&&(this._usePushState||!this._wantsHashChange?M=this.getPath():M=this.getHash()),M.replace(Y,"")},start:function(M){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=n.extend({root:"/"},this.options,M),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(se,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var K=this.root.slice(0,-1)||"/";return this.location.replace(K+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ae=document.body,fe=ae.insertBefore(this.iframe,ae.firstChild).contentWindow;fe.document.open(),fe.document.close(),fe.location.hash="#"+this.fragment}var de=window.addEventListener||function(pe,xe){return attachEvent("on"+pe,xe)};if(this._usePushState?de("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?de("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var M=window.removeEventListener||function(K,ae){return detachEvent("on"+K,ae)};this._usePushState?M("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&M("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(M,K){this.handlers.unshift({route:M,callback:K})},checkUrl:function(M){var K=this.getFragment();if(K===this.fragment&&this.iframe&&(K=this.getHash(this.iframe.contentWindow)),K===this.fragment)return!1;this.iframe&&this.navigate(K),this.loadUrl()},loadUrl:function(M){return this.matchRoot()?(M=this.fragment=this.getFragment(M),n.some(this.handlers,function(K){if(K.route.test(M))return K.callback(M),!0})):!1},navigate:function(M,K){if(!J.started)return!1;(!K||K===!0)&&(K={trigger:!!K}),M=this.getFragment(M||"");var ae=this.root;(M===""||M.charAt(0)==="?")&&(ae=ae.slice(0,-1)||"/");var fe=ae+M;M=M.replace(be,"");var de=this.decodeFragment(M);if(this.fragment!==de){if(this.fragment=de,this._usePushState)this.history[K.replace?"replaceState":"pushState"]({},document.title,fe);else if(this._wantsHashChange){if(this._updateHash(this.location,M,K.replace),this.iframe&&M!==this.getHash(this.iframe.contentWindow)){var pe=this.iframe.contentWindow;K.replace||(pe.document.open(),pe.document.close()),this._updateHash(pe.location,M,K.replace)}}else return this.location.assign(fe);if(K.trigger)return this.loadUrl(M)}},_updateHash:function(M,K,ae){if(ae){var fe=M.href.replace(/(javascript:|#).*$/,"");M.replace(fe+"#"+K)}else M.hash="#"+K}}),r.history=new J;var Ne=function(M,K){var ae=this,fe;return M&&n.has(M,"constructor")?fe=M.constructor:fe=function(){return ae.apply(this,arguments)},n.extend(fe,ae,K),fe.prototype=n.create(ae.prototype,M),fe.prototype.constructor=fe,fe.__super__=ae.prototype,fe};S.extend=y.extend=G.extend=F.extend=J.extend=Ne;var R=function(){throw new Error('A "url" property or function must be specified')},D=function(M,K){var ae=K.error;K.error=function(fe){ae&&ae.call(K.context,M,fe,K),M.trigger("error",M,fe,K)}};return r})})(M8);const Fi=Wl(M8);var Yae=cH();const Lr=Wl(Yae),st=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,o=n.atan2,a=n.sqrt,s=n.min,l=n.max,u=n.cos,f=n.sin,c=function(d,A,x){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(d){if(c.isV(d)&&(d=d.node),A=A||{},c.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=c.createSvgDocument();else if(d[0]==="<"){var O=c.createSvgDocument(d);if(O.childNodes.length>1){var C=[],F,V;for(F=0,V=O.childNodes.length;F<V;F++){var Q=O.childNodes[F];C.push(new c(document.importNode(Q,!0)))}return C}d=document.importNode(O.firstChild,!0)}else d=document.createElementNS(t.svg,d);c.ensureId(d)}return this.node=d,this.setAttributes(A),x&&this.append(x),this}},h=c.prototype;Object.defineProperty(h,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),h.getTransformToElement=function(d){var A=this.node;if(c.isSVGGraphicsElement(d)&&c.isSVGGraphicsElement(A)){var x=c.toNode(d).getScreenCTM(),O=A.getScreenCTM();if(x&&O)return x.inverse().multiply(O)}return c.createSVGMatrix()},h.transform=function(d,A){var x=this.node;if(c.isUndefined(d))return c.transformStringToMatrix(this.attr("transform"));if(A&&A.absolute)return this.attr("transform",c.matrixToTransformString(d));var O=c.createSVGTransform(d);return x.transform.baseVal.appendItem(O),this},h.translate=function(d,A,x){x=x||{},A=A||0;var O=this.attr("transform")||"",C=c.parseTransformString(O);if(O=C.value,c.isUndefined(d))return C.translate;O=O.replace(/translate\([^)]*\)/g,"").trim();var F=x.absolute?d:C.translate.tx+d,V=x.absolute?A:C.translate.ty+A,Q="translate("+F+","+V+")";return this.attr("transform",(Q+" "+O).trim()),this},h.rotate=function(d,A,x,O){O=O||{};var C=this.attr("transform")||"",F=c.parseTransformString(C);if(C=F.value,c.isUndefined(d))return F.rotate;C=C.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var V=O.absolute?d:F.rotate.angle+d,Q=A!==void 0&&x!==void 0?","+A+","+x:"",H="rotate("+V+Q+")";return this.attr("transform",(C+" "+H).trim()),this},h.scale=function(d,A){A=c.isUndefined(A)?d:A;var x=this.attr("transform")||"",O=c.parseTransformString(x);if(x=O.value,c.isUndefined(d))return O.scale;x=x.replace(/scale\([^)]*\)/g,"").trim();var C="scale("+d+","+A+")";return this.attr("transform",(x+" "+C).trim()),this},h.bbox=function(d,A){var x,O=this.node,C=O.ownerSVGElement;if(!C)return new Pt(0,0,0,0);try{x=O.getBBox()}catch{x={x:O.clientLeft,y:O.clientTop,width:O.clientWidth,height:O.clientHeight}}if(d)return new Pt(x);var F=this.getTransformToElement(A||C);return c.transformRect(x,F)},h.getBBox=function(d){var A={},x,O=this.node,C=O.ownerSVGElement;if(!C||!c.isSVGGraphicsElement(O))return new Pt(0,0,0,0);if(d&&(d.target&&(A.target=c.toNode(d.target)),d.recursive&&(A.recursive=d.recursive)),A.recursive){var V=this.children(),Q=V.length;if(Q===0)return this.getBBox({target:A.target,recursive:!1});A.target||(A.target=this);for(var H=0;H<Q;H++){var X=V[H],ce;X.children().length===0?ce=X.getBBox({target:A.target,recursive:!1}):ce=X.getBBox({target:A.target,recursive:!0}),x?x=x.union(ce):x=ce}return x}else{try{x=O.getBBox()}catch{x={x:O.clientLeft,y:O.clientTop,width:O.clientWidth,height:O.clientHeight}}if(A.target){var F=this.getTransformToElement(A.target);return c.transformRect(x,F)}else return new Pt(x)}};function g(d,A){d||(d={});var x=c("textPath"),O=d.d;if(O&&d["xlink:href"]===void 0){var C=c("path").attr("d",O).appendTo(A.defs());x.attr("xlink:href","#"+C.id)}return c.isObject(d)&&x.attr(d),x.node}function m(d,A,x){x||(x={});for(var O=x.includeAnnotationIndices,C=x.eol,F=x.lineHeight,V=x.baseSize,Q=0,H={},X=A.length-1,ce=0;ce<=X;ce++){var Z=A[ce],ie=null;if(c.isObject(Z)){var k=Z.attrs,B=c("tspan",k),G=B.node,P=Z.t;C&&ce===X&&(P+=C),G.textContent=P;var N=k.class;N&&B.addClass(N),O&&B.attr("annotations",Z.annotations),ie=parseFloat(k["font-size"]),isFinite(ie)||(ie=V),ie&&ie>Q&&(Q=ie)}else C&&ce===X&&(Z+=C),G=document.createTextNode(Z||" "),V&&V>Q&&(Q=V);d.appendChild(G)}return Q&&(H.maxFontSize=Q),F?H.lineHeight=F:Q&&(H.lineHeight=Q*1.2),H}var _=/em$/;function v(d,A){var x=parseFloat(d);return _.test(d)?x*A:x}function p(d,A,x,O){if(!Array.isArray(A))return 0;var C=A.length;if(!C)return 0;for(var F=A[0],V=v(F.maxFontSize,x)||x,Q=0,H=v(O,x),X=1;X<C;X++){F=A[X];var ce=v(F.lineHeight,x)||H;Q+=ce}var Z=v(F.maxFontSize,x)||x,ie;switch(d){case"middle":ie=V/2-.15*Z-Q/2;break;case"bottom":ie=-(.25*Z)-Q;break;default:case"top":ie=.8*V;break}return ie}h.text=function(d,A){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=c.sanitizeText(d),A||(A={});var x=A.displayEmpty,O=A.eol,C=A.textPath,F=A.textVerticalAnchor,V=F==="middle"||F==="bottom"||F==="top",Q=A.x;Q===void 0&&(Q=this.attr("x")||0);var H=A.includeAnnotationIndices,X=A.annotations;X&&!c.isArray(X)&&(X=[X]);var ce=A.lineHeight,Z=ce==="auto",ie=Z?"1.5em":ce||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||x?null:"none"});var k=parseFloat(this.attr("font-size"));k||(k=16,(V||X)&&this.attr("font-size",k));var B=document,G;C?(typeof C=="string"&&(C={d:C}),G=g(C,this)):G=B.createDocumentFragment();for(var P=0,N=d.split(`
`),q=[],oe,J=0,Y=N.length-1;J<=Y;J++){var se=ie,be="v-line",Ne=B.createElementNS(t.svg,"tspan"),R=N[J],D;if(R)if(X){var M=c.annotateString(R,X,{offset:-P,includeAnnotationIndices:H});D=m(Ne,M,{includeAnnotationIndices:H,eol:J!==Y&&O,lineHeight:Z?null:ie,baseSize:k});var K=D.lineHeight;K&&Z&&J!==0&&(se=K),J===0&&(oe=D.maxFontSize*.8)}else O&&J!==Y&&(R+=O),Ne.textContent=R;else{Ne.textContent="-",be+=" v-empty-line";var ae=Ne.style;if(ae.fillOpacity=0,ae.strokeOpacity=0,X){D={},M=c.findAnnotationsAtIndex(X,P);let de=k;for(let pe=M.length;pe>0;pe--){const xe=M[pe-1].attrs;if(!xe||!("font-size"in xe))continue;const Le=parseFloat(xe["font-size"]);if(isFinite(Le)){de=Le;break}}Z&&(J>0?se=de*1.2:oe=de*.8),Ne.setAttribute("font-size",de),D.maxFontSize=de}}D&&q.push(D),J>0&&Ne.setAttribute("dy",se),(J>0||C)&&Ne.setAttribute("x",Q),Ne.className.baseVal=be,G.appendChild(Ne),P+=R.length+1}if(V)if(X)se=p(F,q,k,ie);else if(F==="top")se="0.8em";else{var fe;switch(Y>0?(fe=parseFloat(ie)||1,fe*=Y,_.test(ie)||(fe/=k)):fe=0,F){case"middle":se=.3-fe/2+"em";break;case"bottom":se=-fe-.3+"em";break}}else F===0?se="0em":F?se=F:(se=0,this.attr("y")===null&&this.attr("y",oe||"0.8em"));return G.firstChild.setAttribute("dy",se),this.append(G),this},h.removeAttr=function(d){const A=$[d],{ns:x,local:O}=c.qualifyAttr(A),C=this.node;return x?C.hasAttributeNS(x,O)&&C.removeAttributeNS(x,O):C.hasAttribute(A)&&C.removeAttribute(A),this},h.attr=function(d,A){if(c.isUndefined(d)){for(var x=this.node.attributes,O={},C=0;C<x.length;C++)O[x[C].name]=x[C].value;return O}if(c.isString(d)&&c.isUndefined(A))return this.node.getAttribute($[d]);if(typeof d=="object")for(var F in d)d.hasOwnProperty(F)&&this.setAttribute(F,d[F]);else this.setAttribute(d,A);return this},h.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",c.normalizePathData(this.attr("d"))),this},h.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},h.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},h.setAttributes=function(d){for(var A in d)d.hasOwnProperty(A)&&this.setAttribute(A,d[A]);return this},h.append=function(d){c.isArray(d)||(d=[d]);for(var A=0,x=d.length;A<x;A++)this.node.appendChild(c.toNode(d[A]));return this},h.prepend=function(d){var A=this.node.firstChild;return A?c(A).before(d):this.append(d)},h.before=function(d){var A=this.node,x=A.parentNode;if(x){c.isArray(d)||(d=[d]);for(var O=0,C=d.length;O<C;O++)x.insertBefore(c.toNode(d[O]),A)}return this},h.appendTo=function(d){return c.toNode(d).appendChild(this.node),this},h.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},h.tagName=function(){return this.node.tagName.toUpperCase()},h.defs=function(){var d=this.svg()||this,A=d.node.getElementsByTagName("defs")[0];return A?c(A):c("defs").appendTo(d)},h.clone=function(){var d=c(this.node.cloneNode(!0));return d.node.id=c.uniqueId(),d},h.findOne=function(d){var A=this.node.querySelector(d);return A?c(A):void 0},h.find=function(d){var A=[],x=this.node.querySelectorAll(d);if(x)for(var O=0;O<x.length;O++)A.push(c(x[O]));return A},h.children=function(){for(var d=this.node.childNodes,A=[],x=0;x<d.length;x++){var O=d[x];O.nodeType===1&&A.push(c(d[x]))}return A},h.parent=function(){return c(this.node.parentNode)||null},h.index=function(){for(var d=0,A=this.node.previousSibling;A;)A.nodeType===1&&d++,A=A.previousSibling;return d},h.findParentByClass=function(d,A){for(var x=this.node.ownerSVGElement,O=this.node.parentNode;O&&O!==A&&O!==x;){var C=c(O);if(C.hasClass(d))return C;O=O.parentNode}return null},h.contains=function(d){var A=this.node,x=c.toNode(d),O=x&&x.parentNode;return A===O||!!(O&&O.nodeType===1&&A.compareDocumentPosition(O)&16)},h.toLocalPoint=function(d,A){var x=this.svg().node,O=x.createSVGPoint();O.x=d,O.y=A;try{var C=O.matrixTransform(x.getScreenCTM().inverse()),F=this.getTransformToElement(x).inverse()}catch{return O}return C.matrixTransform(F)},h.translateCenterToPoint=function(d){var A=this.getBBox({target:this.svg()}),x=A.center();return this.translate(d.x-x.x,d.y-x.y),this},h.translateAndAutoOrient=function(d,A,x){d=new ze(d),A=new ze(A),x||(x=this.svg());var O=this.scale();this.attr("transform","");var C=this.getBBox({target:x}).scale(O.sx,O.sy),F=c.createSVGTransform();F.setTranslate(-C.x-C.width/2,-C.y-C.height/2);var V=c.createSVGTransform(),Q=d.angleBetween(A,d.clone().offset(1,0));Q&&V.setRotate(Q,0,0);var H=c.createSVGTransform(),X=d.clone().move(A,C.width/2);H.setTranslate(2*d.x-X.x,2*d.y-X.y);var ce=this.getTransformToElement(x),Z=c.createSVGTransform();return Z.setMatrix(H.matrix.multiply(V.matrix.multiply(F.matrix.multiply(ce.scale(O.sx,O.sy))))),this.attr("transform",c.matrixToTransformString(Z.matrix)),this},h.animateAlongPath=function(d,A){A=c.toNode(A);var x=c.ensureId(A),O=c("animateMotion",d),C=c("mpath",{"xlink:href":"#"+x});O.append(C),this.append(O);try{O.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var F=O.node;F.animators=[];var V=F.getAttribute("id");V&&(id2anim[V]=F);for(var Q=getTargets(F),H=0,X=Q.length;H<X;H++){var ce=Q[H],Z=new Animator(F,ce,H);animators.push(Z),F.animators[H]=Z,Z.register()}}}return this};const S=/[^\x20\t\r\n\f]+/g;function y(d){return c.isString(d)?d.trim().match(S)||[]:[]}h.hasClass=function(d){return c.isString(d)?this.node.classList.contains(d.trim()):!1},h.addClass=function(d){return this.node.classList.add(...y(d)),this},h.removeClass=function(d){return this.node.classList.remove(...y(d)),this},h.toggleClass=function(d,A){const x=y(d);for(let O=0;O<x.length;O++)this.node.classList.toggle(x[O],A);return this},h.sample=function(d){d=d||1;for(var A=this.node,x=A.getTotalLength(),O=[],C=0,F;C<x;)F=A.getPointAtLength(C),O.push({x:F.x,y:F.y,distance:C}),C+=d;return O},h.convertToPath=function(){var d=c("path");d.attr(this.attr());var A=this.convertToPathData();return A&&d.attr("d",A),d},h.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var d,A,x,O,C,F,V,Q,H,X,ce,Z,ie,k,B;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,A=parseFloat(this.attr("y"))||0,x=parseFloat(this.attr("width"))||0,O=parseFloat(this.attr("height"))||0,new Pt(d,A,x,O);case"CIRCLE":return C=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,V=parseFloat(this.attr("r"))||0,new ro({x:C,y:F},V,V);case"ELLIPSE":return C=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,Q=parseFloat(this.attr("rx"))||0,H=parseFloat(this.attr("ry"))||0,new ro({x:C,y:F},Q,H);case"POLYLINE":return X=c.getPointsFromSvgNode(this),new cn(X);case"POLYGON":return X=c.getPointsFromSvgNode(this),X.length>1&&X.push(X[0]),new cn(X);case"PATH":return ce=this.attr("d"),Bt.isDataSupported(ce)||(ce=c.normalizePathData(ce)),new Bt(ce);case"LINE":return Z=parseFloat(this.attr("x1"))||0,k=parseFloat(this.attr("y1"))||0,ie=parseFloat(this.attr("x2"))||0,B=parseFloat(this.attr("y2"))||0,new Nt({x:Z,y:k},{x:ie,y:B})}return this.getBBox()},h.findIntersection=function(d,A){var x=this.svg().node;A=A||x;var O=this.getBBox({target:A}),C=O.center();if(O.intersectionWithLineFromCenterToPoint(d)){var F,V=this.tagName();if(V==="RECT"){var Q=new Pt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),H=this.getTransformToElement(A),X=c.decomposeMatrix(H),ce=x.createSVGTransform();ce.setRotate(-X.rotation,C.x,C.y);var Z=c.transformRect(Q,ce.matrix.multiply(H));F=new Pt(Z).intersectionWithLineFromCenterToPoint(d,X.rotation)}else if(V==="PATH"||V==="POLYGON"||V==="POLYLINE"||V==="CIRCLE"||V==="ELLIPSE"){var ie=V==="PATH"?this:this.convertToPath(),k=ie.sample(),B=1/0,G=[],P,N,q,oe,J,Y;for(P=0;P<k.length;P++)N=k[P],q=c.createSVGPoint(N.x,N.y),q=q.matrixTransform(this.getTransformToElement(A)),N=new ze(q),oe=N.distance(C),J=N.distance(d)*1.1,Y=oe+J,Y<B?(B=Y,G=[{sample:N,refDistance:J}]):Y<B+1&&G.push({sample:N,refDistance:J});G.sort(function(se,be){return se.refDistance-be.refDistance}),G[0]&&(F=G[0].sample)}return F}},h.setAttribute=function(d,A){const x=this.node;if(A===null)return this.removeAttr(d),this;const O=$[d],{ns:C}=c.qualifyAttr(O);return C?x.setAttributeNS(C,O,A):O==="id"?x.id=A:x.setAttribute(O,A),this},c.createSvgDocument=function(d){if(d){const x=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:O}=c.parseXML(x,{async:!1});return O}const A=document.createElementNS(t.svg,"svg");return A.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),A.setAttribute("version",r),A},c.createSVGStyle=function(d){const{node:A}=c("style",{type:"text/css"},[c.createCDATASection(d)]);return A},c.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(d){return c.isV(d)?d.node:d.nodeName&&d||d[0]},c.ensureId=function(d){return d=c.toNode(d),d.id||(d.id=c.uniqueId())},c.sanitizeText=function(d){return(d||"").replace(/ /g,"")},c.isUndefined=function(d){return typeof d>"u"},c.isString=function(d){return typeof d=="string"},c.isObject=function(d){return d&&typeof d=="object"},c.isArray=Array.isArray,c.parseXML=function(d,A){A=A||{};var x;try{var O=new DOMParser;c.isUndefined(A.async)||(O.async=A.async),x=O.parseFromString(d,"text/xml")}catch{x=void 0}if(!x||x.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return x};const E=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>E[d]=d);const $=new Proxy(E,{get(d,A){return c.supportCamelCaseAttributes?A in d?d[A]:d[A]=A.replace(/[A-Z]/g,"-$&").toLowerCase():A}});Object.defineProperty(c,"attributeNames",{value:$,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var A=d.split(":");return{ns:t[A[0]],local:A[1]}}return{ns:null,local:d}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(d){let A=c.createSVGMatrix();const x=d&&d.match(c.transformRegex);if(!x)return A;const O=x.length;for(let C=0;C<O;C++){const V=x[C].match(c.transformFunctionRegex);if(V){let Q,H,X,ce,Z,ie=c.createSVGMatrix();const k=V[1].toLowerCase(),B=V[2].split(c.transformSeparatorRegex);switch(k){case"scale":Q=parseFloat(B[0]),H=B[1]===void 0?Q:parseFloat(B[1]),ie=ie.scaleNonUniform(Q,H);break;case"translate":X=parseFloat(B[0]),ce=parseFloat(B[1]),ie=ie.translate(X,ce);break;case"rotate":Z=parseFloat(B[0]),X=parseFloat(B[1])||0,ce=parseFloat(B[2])||0,X!==0||ce!==0?ie=ie.translate(X,ce).rotate(Z).translate(-X,-ce):ie=ie.rotate(Z);break;case"skewx":Z=parseFloat(B[0]),ie=ie.skewX(Z);break;case"skewy":Z=parseFloat(B[0]),ie=ie.skewY(Z);break;case"matrix":ie.a=parseFloat(B[0]),ie.b=parseFloat(B[1]),ie.c=parseFloat(B[2]),ie.d=parseFloat(B[3]),ie.e=parseFloat(B[4]),ie.f=parseFloat(B[5]);break;default:continue}A=A.multiply(ie)}}return A},c.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},c.parseTransformString=function(d){var A,x,O;if(d){var C=c.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var F=c.transformStringToMatrix(d),V=c.decomposeMatrix(F);A=[V.translateX,V.translateY],O=[V.scaleX,V.scaleY],x=[V.rotation];var Q=[];(A[0]!==0||A[1]!==0)&&Q.push("translate("+A+")"),(O[0]!==1||O[1]!==1)&&Q.push("scale("+O+")"),x[0]!==0&&Q.push("rotate("+x+")"),d=Q.join(" ")}else{const X=d.match(c.transformTranslateRegex);X&&(A=X[1].split(C));const ce=d.match(c.transformRotateRegex);ce&&(x=ce[1].split(C));const Z=d.match(c.transformScaleRegex);Z&&(O=Z[1].split(C))}}var H=O&&O[0]?parseFloat(O[0]):1;return{value:d,translate:{tx:A&&A[0]?parseInt(A[0],10):0,ty:A&&A[1]?parseInt(A[1],10):0},rotate:{angle:x&&x[0]?parseInt(x[0],10):0,cx:x&&x[1]?parseInt(x[1],10):void 0,cy:x&&x[2]?parseInt(x[2],10):void 0},scale:{sx:H,sy:O&&O[1]?parseFloat(O[1]):H}}},c.deltaTransformPoint=function(d,A){var x=A.x*d.a+A.y*d.c+0,O=A.x*d.b+A.y*d.d+0;return{x,y:O}},c.decomposeMatrix=function(d){var A=c.deltaTransformPoint(d,{x:0,y:1}),x=c.deltaTransformPoint(d,{x:1,y:0}),O=180/i*o(A.y,A.x)-90,C=180/i*o(x.y,x.x);return{translateX:d.e,translateY:d.f,scaleX:a(d.a*d.a+d.b*d.b),scaleY:a(d.c*d.c+d.d*d.d),skewX:O,skewY:C,rotation:O}},c.matrixToScale=function(d){var A,x,O,C;return d?(A=c.isUndefined(d.a)?1:d.a,C=c.isUndefined(d.d)?1:d.d,x=d.b,O=d.c):A=C=1,{sx:x?a(A*A+x*x):A,sy:O?a(O*O+C*C):C}},c.matrixToRotate=function(d){var A={x:0,y:1};return d&&(A=c.deltaTransformPoint(d,A)),{angle:ms(SE(o(A.y,A.x))-90)}},c.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},c.isV=function(d){return d instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(d){return d?(d=c.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var T=c("svg").node;return c.createSVGMatrix=function(d){var A=T.createSVGMatrix();for(var x in d)A[x]=d[x];return A},c.createSVGTransform=function(d){return c.isUndefined(d)?T.createSVGTransform():(d instanceof SVGMatrix||(d=c.createSVGMatrix(d)),T.createSVGTransformFromMatrix(d))},c.createSVGPoint=function(d,A){var x=T.createSVGPoint();return x.x=d,x.y=A,x},c.transformRect=function(d,A){var x=T.createSVGPoint();x.x=d.x,x.y=d.y;var O=x.matrixTransform(A);x.x=d.x+d.width,x.y=d.y;var C=x.matrixTransform(A);x.x=d.x+d.width,x.y=d.y+d.height;var F=x.matrixTransform(A);x.x=d.x,x.y=d.y+d.height;var V=x.matrixTransform(A),Q=s(O.x,C.x,F.x,V.x),H=l(O.x,C.x,F.x,V.x),X=s(O.y,C.y,F.y,V.y),ce=l(O.y,C.y,F.y,V.y);return new Pt(Q,X,H-Q,ce-X)},c.transformPoint=function(d,A){return new ze(c.createSVGPoint(d.x,d.y).matrixTransform(A))},c.transformLine=function(d,A){return new Nt(c.transformPoint(d.start,A),c.transformPoint(d.end,A))},c.transformPolyline=function(d,A){var x=d instanceof cn?d.points:d;c.isArray(x)||(x=[]);for(var O=[],C=0,F=x.length;C<F;C++)O[C]=c.transformPoint(x[C],A);return new cn(O)},c.styleToObject=function(d){for(var A={},x=d.split(";"),O=0;O<x.length;O++){var C=x[O],F=C.split("=");A[F[0].trim()]=F[1].trim()}return A},c.createSlicePathData=function(d,A,x,O){var C=2*i-1e-6,F=d,V=A,Q=x,H=O,X=(H<Q&&(X=Q,Q=H,H=X),H-Q),ce=X<i?"0":"1",Z=u(Q),ie=f(Q),k=u(H),B=f(H);return X>=C?F?"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"M0,"+F+"A"+F+","+F+" 0 1,0 0,"+-F+"A"+F+","+F+" 0 1,0 0,"+F+"Z":"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"Z":F?"M"+V*Z+","+V*ie+"A"+V+","+V+" 0 "+ce+",1 "+V*k+","+V*B+"L"+F*k+","+F*B+"A"+F+","+F+" 0 "+ce+",0 "+F*Z+","+F*ie+"Z":"M"+V*Z+","+V*ie+"A"+V+","+V+" 0 "+ce+",1 "+V*k+","+V*B+"L0,0Z"},c.mergeAttrs=function(d,A){for(var x in A)x==="class"?d[x]=d[x]?d[x]+" "+A[x]:A[x]:x==="style"?c.isObject(d[x])&&c.isObject(A[x])?d[x]=c.mergeAttrs(d[x],A[x]):c.isObject(d[x])?d[x]=c.mergeAttrs(d[x],c.styleToObject(A[x])):c.isObject(A[x])?d[x]=c.mergeAttrs(c.styleToObject(d[x]),A[x]):d[x]=c.mergeAttrs(c.styleToObject(d[x]),c.styleToObject(A[x])):d[x]=A[x];return d},c.annotateString=function(d,A,x){A=A||[],x=x||{};for(var O=x.offset||0,C=[],F,V=[],Q,H,X=0;X<d.length;X++){Q=V[X]=d[X];for(var ce=0;ce<A.length;ce++){var Z=A[ce],ie=Z.start+O,k=Z.end+O;X>=ie&&X<k&&(c.isObject(Q)?Q.attrs=c.mergeAttrs(c.mergeAttrs({},Q.attrs),Z.attrs):Q=V[X]={t:d[X],attrs:Z.attrs},x.includeAnnotationIndices&&(Q.annotations||(Q.annotations=[])).push(ce))}H=V[X-1],H?c.isObject(Q)&&c.isObject(H)?JSON.stringify(Q.attrs)===JSON.stringify(H.attrs)?F.t+=Q.t:(C.push(F),F=Q):c.isObject(Q)||c.isObject(H)?(C.push(F),F=Q):F=(F||"")+Q:F=Q}return F&&C.push(F),C},c.findAnnotationsAtIndex=function(d,A){var x=[];return d&&d.forEach(function(O){O.start<A&&A<=O.end&&x.push(O)}),x},c.findAnnotationsBetweenIndexes=function(d,A,x){var O=[];return d&&d.forEach(function(C){(A>=C.start&&A<C.end||x>C.start&&x<=C.end||C.start>=A&&C.end<x)&&O.push(C)}),O},c.shiftAnnotations=function(d,A,x){return d&&d.forEach(function(O){O.start<A&&O.end>=A?O.end+=x:O.start>=A&&(O.start+=x,O.end+=x)}),d},c.convertLineToPathData=function(d){d=c(d);var A=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return A},c.convertPolygonToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)+" Z"},c.convertPolylineToPathData=function(d){var A=c.getPointsFromSvgNode(d);return A.length===0?null:c.svgPointsToPath(A)},c.svgPointsToPath=function(d){for(var A=0,x=d.length;A<x;A++)d[A]=d[A].x+" "+d[A].y;return"M "+d.join(" L")},c.getPointsFromSvgNode=function(d){d=c.toNode(d);var A=[],x=d.points;if(x)for(var O=0,C=x.numberOfItems;O<C;O++)A.push(x.getItem(O));return A},c.KAPPA=.551784,c.convertCircleToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,x=parseFloat(d.attr("cy"))||0,O=parseFloat(d.attr("r")),C=O*c.KAPPA,F=["M",A,x-O,"C",A+C,x-O,A+O,x-C,A+O,x,"C",A+O,x+C,A+C,x+O,A,x+O,"C",A-C,x+O,A-O,x+C,A-O,x,"C",A-O,x-C,A-C,x-O,A,x-O,"Z"].join(" ");return F},c.convertEllipseToPathData=function(d){d=c(d);var A=parseFloat(d.attr("cx"))||0,x=parseFloat(d.attr("cy"))||0,O=parseFloat(d.attr("rx")),C=parseFloat(d.attr("ry"))||O,F=O*c.KAPPA,V=C*c.KAPPA,Q=["M",A,x-C,"C",A+F,x-C,A+O,x-V,A+O,x,"C",A+O,x+V,A+F,x+C,A,x+C,"C",A-F,x+C,A-O,x+V,A-O,x,"C",A-O,x-V,A-F,x-C,A,x-C,"Z"].join(" ");return Q},c.convertRectToPathData=function(d){return d=c(d),c.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},c.rectToPath=function(d){var A,x=d.x,O=d.y,C=d.width,F=d.height,V=s(d.rx||d["top-rx"]||0,C/2),Q=s(d.rx||d["bottom-rx"]||0,C/2),H=s(d.ry||d["top-ry"]||0,F/2),X=s(d.ry||d["bottom-ry"]||0,F/2);return V||Q||H||X?A=["M",x,O+H,"v",F-H-X,"a",Q,X,0,0,0,Q,X,"h",C-2*Q,"a",Q,X,0,0,0,Q,-X,"v",-(F-X-H),"a",V,H,0,0,0,-V,-H,"h",-(C-2*V),"a",V,H,0,0,0,-V,H,"Z"]:A=["M",x,O,"H",x+C,"V",O+F,"H",x,"V",O,"Z"],A.join(" ")},c.normalizePathData=function(){var d=`	
\v\f\r \u2028\u2029`,A=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),O=Math,C=O.PI,F=O.sin,V=O.cos,Q=O.tan,H=O.asin,X=O.sqrt,ce=O.abs;function Z(N,q,oe,J,Y,se){var be=.3333333333333333,Ne=2/3;return[be*N+Ne*oe,be*q+Ne*J,be*Y+Ne*oe,be*se+Ne*J,Y,se]}function ie(N,q,oe){var J=N*V(oe)-q*F(oe),Y=N*F(oe)+q*V(oe);return{x:J,y:Y}}function k(N,q,oe,J,Y,se,be,Ne,R,D){var M=C*120/180,K=C/180*(+Y||0),ae=[],fe;if(D)W=D[0],I=D[1],qe=D[2],Ue=D[3];else{fe=ie(N,q,-K),N=fe.x,q=fe.y,fe=ie(Ne,R,-K),Ne=fe.x,R=fe.y;var de=(N-Ne)/2,pe=(q-R)/2,xe=de*de/(oe*oe)+pe*pe/(J*J);xe>1&&(xe=X(xe),oe=xe*oe,J=xe*J);var Le=oe*oe,ke=J*J,nt=(se==be?-1:1)*X(ce((Le*ke-Le*pe*pe-ke*de*de)/(Le*pe*pe+ke*de*de))),qe=nt*oe*pe/J+(N+Ne)/2,Ue=nt*-J*de/oe+(q+R)/2,W=H(((q-Ue)/J).toFixed(9)),I=H(((R-Ue)/J).toFixed(9));W=N<qe?C-W:W,I=Ne<qe?C-I:I,W<0&&(W=C*2+W),I<0&&(I=C*2+I),be&&W>I&&(W=W-C*2),!be&&I>W&&(I=I-C*2)}var L=I-W;if(ce(L)>M){var ne=I,ye=Ne,Se=R;I=W+M*(be&&I>W?1:-1),Ne=qe+oe*V(I),R=Ue+J*F(I),ae=k(Ne,R,oe,J,Y,0,be,ye,Se,[I,ne,qe,Ue])}L=I-W;var De=V(W),je=F(W),Be=V(I),at=F(I),wt=Q(L/4),ut=4/3*(oe*wt),kt=4/3*(J*wt),Tr=[N,q],Pr=[N+ut*je,q-kt*De],or=[Ne+ut*at,R-kt*Be],ur=[Ne,R];if(Pr[0]=2*Tr[0]-Pr[0],Pr[1]=2*Tr[1]-Pr[1],D)return[Pr,or,ur].concat(ae);ae=[Pr,or,ur].concat(ae).join().split(",");for(var on=[],tr=ae.length,Dt=0;Dt<tr;Dt++)on[Dt]=Dt%2?ie(ae[Dt-1],ae[Dt],K).y:ie(ae[Dt],ae[Dt+1],K).x;return on}function B(N){if(!N)return null;var q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},oe=[];return String(N).replace(A,function(J,Y,se){var be=[],Ne=Y.toLowerCase();for(se.replace(x,function(R,D){D&&be.push(+D)}),Ne==="m"&&be.length>2&&(oe.push([Y].concat(be.splice(0,2))),Ne="l",Y=Y==="m"?"l":"L");be.length>=q[Ne]&&(oe.push([Y].concat(be.splice(0,q[Ne]))),!!q[Ne]););}),oe}function G(N){if((!Array.isArray(N)||!Array.isArray(N&&N[0]))&&(N=B(N)),!N||!N.length)return[["M",0,0]];for(var q=[],oe=0,J=0,Y=0,se=0,be=0,Ne,R=N.length,D=be;D<R;D++){var M=[];q.push(M);var K=N[D];if(Ne=K[0],Ne!=Ne.toUpperCase()){M[0]=Ne.toUpperCase();var ae,fe;switch(M[0]){case"A":M[1]=K[1],M[2]=K[2],M[3]=K[3],M[4]=K[4],M[5]=K[5],M[6]=+K[6]+oe,M[7]=+K[7]+J;break;case"V":M[1]=+K[1]+J;break;case"H":M[1]=+K[1]+oe;break;case"M":for(Y=+K[1]+oe,se=+K[2]+J,ae=K.length,fe=1;fe<ae;fe++)M[fe]=+K[fe]+(fe%2?oe:J);break;default:for(ae=K.length,fe=1;fe<ae;fe++)M[fe]=+K[fe]+(fe%2?oe:J);break}}else for(var de=K.length,pe=0;pe<de;pe++)M[pe]=K[pe];switch(M[0]){case"Z":oe=+Y,J=+se;break;case"H":oe=M[1];break;case"V":J=M[1];break;case"M":Y=M[M.length-2],se=M[M.length-1],oe=M[M.length-2],J=M[M.length-1];break;default:oe=M[M.length-2],J=M[M.length-1];break}}return q}function P(N){var q=G(N),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function J(ae,fe,de){var pe,xe;if(!ae)return["C",fe.x,fe.y,fe.x,fe.y,fe.x,fe.y];switch(ae[0]in{T:1,Q:1}||(fe.qx=null,fe.qy=null),ae[0]){case"M":fe.X=ae[1],fe.Y=ae[2];break;case"A":parseFloat(ae[1])===0||parseFloat(ae[2])===0?ae=["L",ae[6],ae[7]]:ae=["C"].concat(k.apply(0,[fe.x,fe.y].concat(ae.slice(1))));break;case"S":de==="C"||de==="S"?(pe=fe.x*2-fe.bx,xe=fe.y*2-fe.by):(pe=fe.x,xe=fe.y),ae=["C",pe,xe].concat(ae.slice(1));break;case"T":de==="Q"||de==="T"?(fe.qx=fe.x*2-fe.qx,fe.qy=fe.y*2-fe.qy):(fe.qx=fe.x,fe.qy=fe.y),ae=["C"].concat(Z(fe.x,fe.y,fe.qx,fe.qy,ae[1],ae[2]));break;case"Q":fe.qx=ae[1],fe.qy=ae[2],ae=["C"].concat(Z(fe.x,fe.y,ae[1],ae[2],ae[3],ae[4]));break;case"H":ae=["L"].concat(ae[1],fe.y);break;case"V":ae=["L"].concat(fe.x,ae[1]);break}return ae}function Y(ae,fe){if(ae[fe].length>7){ae[fe].shift();for(var de=ae[fe];de.length;)se[fe]="A",ae.splice(fe++,0,["C"].concat(de.splice(0,6)));ae.splice(fe,1),R=q.length}}for(var se=[],be="",Ne="",R=q.length,D=0;D<R;D++){q[D]&&(be=q[D][0]),be!=="C"&&(se[D]=be,D>0&&(Ne=se[D-1])),q[D]=J(q[D],oe,Ne),se[D]!=="A"&&be==="C"&&(se[D]="C"),Y(q,D);var M=q[D],K=M.length;oe.x=M[K-2],oe.y=M[K-1],oe.bx=parseFloat(M[K-4])||oe.x,oe.by=parseFloat(M[K-3])||oe.y}return(!q[0][0]||q[0][0]!=="M")&&q.unshift(["M",0,0]),q}return function(N){return P(N).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=_ae,c}(),Zu={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},og="[object Arguments]",zO="[object Array]",LE="[object Boolean]",MI="[object Date]",fH="[object Error]",Xae="[object Function]",zg="[object Map]",FE="[object Number]",Qae="[object Null]",Xd="[object Object]",LI="[object RegExp]",qg="[object Set]",BE="[object String]",UE="[object Symbol]",Zae="[object Undefined]",ese="[object WeakMap]",FI="[object ArrayBuffer]",BI="[object DataView]",dH="[object Float32Array]",hH="[object Float64Array]",pH="[object Int8Array]",mH="[object Int16Array]",gH="[object Int32Array]",vH="[object Uint8Array]",yH="[object Uint8ClampedArray]",wH="[object Uint16Array]",bH="[object Uint32Array]",tse={[og]:!0,[zO]:!0,[FI]:!0,[BI]:!0,[LE]:!0,[MI]:!0,[dH]:!0,[hH]:!0,[pH]:!0,[mH]:!0,[gH]:!0,[zg]:!0,[FE]:!0,[Xd]:!0,[LI]:!0,[qg]:!0,[BE]:!0,[UE]:!0,[vH]:!0,[yH]:!0,[wH]:!0,[bH]:!0,[fH]:!1,[Xae]:!1,[ese]:!1},UI="\\ud800-\\udfff",rse="\\u0300-\\u036f",nse="\\ufe20-\\ufe2f",ise="\\u20d0-\\u20ff",ose="\\u1ab0-\\u1aff",ase="\\u1dc0-\\u1dff",sse=rse+nse+ise+ose+ase,_H="\\u2700-\\u27bf",EH="a-z\\xdf-\\xf6\\xf8-\\xff",lse="\\xac\\xb1\\xd7\\xf7",use="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cse="\\u2000-\\u206f",fse=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",SH="A-Z\\xc0-\\xd6\\xd8-\\xde",dse="\\ufe0e\\ufe0f",$H=lse+use+cse+fse,TH="[']",JM=`[${$H}]`,zI=`[${sse}]`,AH="\\d",hse=`[${_H}]`,xH=`[${EH}]`,OH=`[^${UI}${$H+AH+_H+EH+SH}]`,qO="\\ud83c[\\udffb-\\udfff]",pse=`(?:${zI}|${qO})`,PH=`[^${UI}]`,qI="(?:\\ud83c[\\udde6-\\uddff]){2}",VI="[\\ud800-\\udbff][\\udc00-\\udfff]",kd=`[${SH}]`,mse="\\u200d",YM=`(?:${xH}|${OH})`,gse=`(?:${kd}|${OH})`,XM=`(?:${TH}(?:d|ll|m|re|s|t|ve))?`,QM=`(?:${TH}(?:D|LL|M|RE|S|T|VE))?`,RH=`${pse}?`,NH=`[${dse}]?`,vse=`(?:${mse}(?:${[PH,qI,VI].join("|")})${NH+RH})*`,yse="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wse="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",IH=NH+RH+vse,bse=`(?:${[hse,qI,VI].join("|")})${IH}`,_se=RegExp([`${kd}?${xH}+${XM}(?=${[JM,kd,"$"].join("|")})`,`${gse}+${QM}(?=${[JM,kd+YM,"$"].join("|")})`,`${kd}?${YM}+${XM}`,`${kd}+${QM}`,wse,yse,`${AH}+`,bse].join("|"),"g"),HI=200,VO="__hash_undefined__",Ese=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,Sse=`[${UI}]`,$se=`${PH}${zI}?`,Tse=`(?:${[$se,zI,qI,VI,Sse].join("|")})`,jH=RegExp(`${qO}(?=${qO})|${Tse+IH}`,"g"),Ase=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xse=/^\w*$/,Ose=46,Pse=/\\(\\)?/g,Rse=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),Nse=/^(?:0|[1-9]\d*)$/,Ise=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),jse=4294967294,Cse=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,CH=e=>jH.test(e),kse=e=>e.match(jH)||[],Dse=e=>e.split(""),kH=e=>CH(e)?kse(e):Dse(e),Mse=e=>e==null?[]:Vg(e).map(t=>e[t]),Vg=e=>Ba(e)?DH(e):Object.keys(Object(e)),Lse=e=>{if(!zE(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},DH=(e,t)=>{const r=Array.isArray(e),n=!r&&vs(e)&&Da(e)===og,i=!r&&!n&&Gg(e),o=r||n||i,a=e.length,s=new Array(o?a:0);let l=o?-1:a;for(;++l<a;)s[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||HH(u,a)))&&s.push(u);return s},Xv=(e,t)=>{let{length:r}=e;for(;r--;)if(Yh(e[r][0],t))return r;return-1},Yh=(e,t)=>e===t||e!==e&&t!==t,vs=e=>e!=null&&typeof e=="object",f_=(e,t,r)=>{if(!Gr(r))return!1;const n=typeof t;return(n=="number"?Ba(r)&&t>-1&&t<r.length:n=="string"&&t in r)?Yh(r[t],e):!1},Fse=e=>vs(e)&&Da(e)==qg,Bse=e=>vs(e)&&Da(e)==zg,zE=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},Hg=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&Yh(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},Wg=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const o=t[n];Hg(r,o,e[o])}return r},Ba=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,kh=e=>typeof e=="symbol"||vs(e)&&Da(e)===UE,Use=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},WI=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},Da=e=>e==null?e===void 0?Zae:Qae:Object.prototype.toString.call(e),GI=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},MH=(e,t)=>{const r=t?GI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},zse=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},LH=e=>typeof e.constructor=="function"&&!zE(e)?Object.create(Object.getPrototypeOf(e)):{},KI=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),qse=(e,t)=>Wg(e,KI(e),t);function Vse(e,t){const r=t?GI(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const Hse=(e,t,r)=>{const n=e.constructor;switch(t){case FI:return GI(e);case LE:case MI:return new n(+e);case BI:return Vse(e,r);case dH:case hH:case pH:case mH:case gH:case vH:case yH:case wH:case bH:return MH(e,r);case zg:return new n(e);case FE:case BE:return new n(e);case LI:return zse(e);case qg:return new n;case UE:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},Gg=e=>vs(e)&&Ese.test(Da(e)),HO=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...KI(Object(e))),t},FH=e=>{const t=[];for(;e;)t.push(...KI(e)),e=Object.getPrototypeOf(Object(e));return t},BH=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...FH(e)),t},Qv=({__data__:e},t)=>{const r=e;return rle(t)?r[typeof t=="string"?"string":"hash"]:r.map},Wse=(e,t,r,n)=>{const i=HO(e),o=i.length,s=HO(t).length;if(o!=s)return!1;let l,u=o;for(;u--;)if(l=i[u],!hasOwnProperty.call(t,l))return!1;const f=n.get(e),c=n.get(t);if(f&&c)return f==t&&c==e;let h=!0;n.set(e,t),n.set(t,e);let g;for(;++u<o;){l=i[u];const m=e[l],_=t[l];if(!(m===_||r(m,_,n))){h=!1;break}g||(g=l=="constructor")}if(h&&!g){const m=e.constructor,_=t.constructor;m!=_&&"constructor"in e&&"constructor"in t&&!(typeof m=="function"&&m instanceof m&&typeof _=="function"&&_ instanceof _)&&(h=!1)}return n.delete(e),n.delete(t),h},qE=(e,t,r)=>e===t?!0:e==null||t==null||!vs(e)&&!vs(t)?e!==e&&t!==t:Gse(e,t,qE,r),Gse=(e,t,r,n)=>{let i=Array.isArray(e);const o=Array.isArray(t);let a=i?zO:Da(e),s=o?zO:Da(t);a=a==og?Xd:a,s=s==og?Xd:s;let l=a==Xd;const u=s==Xd,f=a==s;if(f&&!l)return n||(n=new ph),i||Gg(e)?UH(e,t,!1,r,n):Yse(e,t,a,r,n);const c=l&&hasOwnProperty.call(e,"__wrapped__"),h=u&&hasOwnProperty.call(t,"__wrapped__");if(c||h){const g=c?e.value():e,m=h?t.value():t;return n||(n=new ph),r(g,m,n)}return f?(n||(n=new ph),Wse(e,t,r,n)):!1},UH=(e,t,r,n,i)=>{const o=e.length,a=t.length;if(o!=a)return!1;const s=i.get(e),l=i.get(t);if(s&&l)return s==t&&l==e;let u=-1,f=!0;const c=r?new sg:void 0;for(i.set(e,t),i.set(t,e);++u<o;){const h=e[u],g=t[u];if(c){if(!Kse(t,(m,_)=>{if(!Jse(c,_)&&(h===m||n(h,m,i)))return c.push(_)})){f=!1;break}}else if(!(h===g||n(h,g,i))){f=!1;break}}return i.delete(e),i.delete(t),f},Kse=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},Jse=(e,t)=>e.has(t),ZM=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),Yse=(e,t,r,n,i)=>{switch(r){case BI:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,ZM(e,t,n,i));case FI:return ZM(e,t,n,i);case LE:case MI:case FE:return Yh(+e,+t);case fH:return e.name==t.name&&e.message==t.message;case LI:case BE:return e==`${t}`;case zg:let o=zH;case qg:if(o||(o=VE),e.size!=t.size)return!1;const a=i.get(e);if(a)return a==t;i.set(e,t);const s=UH(o(e),o(t),!0,n,i);return i.delete(e),s;case UE:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},zH=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},VE=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},JI=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||kh(e)?!0:xse.test(e)||!Ase.test(e)||t!=null&&e in Object(t)},Xse=e=>{const t=[];return e.charCodeAt(0)===Ose&&t.push(""),e.replace(Rse,(r,n,i,o)=>{let a=r;i?a=o.replace(Pse,"$1"):n&&(a=n.trim()),t.push(a)}),t},Xh=(e,t)=>Array.isArray(e)?e:JI(e,t)?[e]:Xse(`${e}`),HE=(e,t)=>{t=Xh(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[Jf(t[r])],r++;return r&&r==n?e:void 0};function Qse(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,o=kh(e),a=t!==void 0,s=t===null,l=t===t,u=kh(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}function Zse(e,t,r){let n=-1;const i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){const l=n<s?r[n]:null,f=(l&&typeof l=="function"?l:Qse)(i[n],o[n]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const qH=(e,t)=>{let r=(a,s)=>!!(a==null?0:a.length)&&a.indexOf(s)>-1,n=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=HI&&(r=(a,s)=>a.has(s),n=!1,t=new sg(t));e:for(let a in e){let s=e[a];const l=s;if(s=s!==0?s:0,n&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;i.push(s)}else r(t,l)||i.push(s)}return i},Jf=e=>{if(typeof e=="string"||kh(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},hh=(e,t=!1,r=!1,n=!0,i,o,a,s)=>{let l;if(i&&(l=a?i(e,o,a,s):i(e)),l!==void 0)return l;if(!Gr(e))return e;const u=Array.isArray(e),f=Da(e);if(u){if(l=Use(e),!t)return WI(e,l)}else{const m=typeof e=="function";if(f===Xd||f===og||m&&!a){if(l=r||m?{}:LH(e),!t)return r?ele(e,Wg(e,Object.keys(e),l)):qse(e,Object.assign(l,e))}else{if(m||!tse[f])return a?e:{};l=Hse(e,f,t)}}s||(s=new ph);const c=s.get(e);if(c)return c;if(s.set(e,l),Bse(e))return e.forEach((m,_)=>{l.set(_,hh(m,t,r,n,i,_,e,s))}),l;if(Fse(e))return e.forEach(m=>{l.add(hh(m,t,r,n,i,m,e,s))}),l;if(Gg(e))return l;const g=u?void 0:(n?r?BH:HO:r?WH:Vg)(e);return(g||e).forEach((m,_)=>{g&&(_=m,m=e[_]),Hg(l,_,hh(m,t,r,n,i,_,e,s))}),l},ele=(e,t)=>Wg(e,FH(e),t),VH=(e,t)=>t.length<2?e:HE(e,t.slice(0,-1)),HH=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&Nse.test(e))&&e>-1&&e%1==0&&e<t},tle=(e,t)=>{t=Xh(t,e),e=VH(e,t);const r=t[t.length-1];return e==null||delete e[Jf(r)]},rle=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},WH=e=>{const t=[];for(const r in e)t.push(r);return t},nle=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},eL=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function GH(e,t=!1){return(r,...n)=>{let i=-1,o=n.length,a=o>1?n[o-1]:void 0;const s=o>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,s&&f_(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++i<o;){const l=n[i];l&&e(r,l,i,a)}return r}}const YI=(e,t,r,n,i)=>{e!==t&&_a(t,(o,a)=>{if(Gr(o))i||(i=new ph),ile(e,t,a,r,YI,n,i);else{let s=n?n(e[a],o,`${a}`,e,t,i):void 0;s===void 0&&(s=o),WO(e,a,s)}})},ile=(e,t,r,n,i,o,a)=>{const s=eL(e,r),l=eL(t,r),u=a.get(l);if(u){WO(e,r,u);return}let f=o?o(s,l,`${r}`,e,t,a):void 0,c=f===void 0;if(c){const h=Array.isArray(l),g=!h&&Gg(l);f=l,h||g?Array.isArray(s)?f=s:vs(s)&&Ba(s)?f=WI(s):g?(c=!1,f=MH(l,!0)):f=[]:qn(l)||ag(l)?(f=s,ag(s)?f=nle(s):(typeof s=="function"||!Gr(s))&&(f=LH(l))):c=!1}c&&(a.set(l,f),i(f,l,n,o,a),a.delete(l)),WO(e,r,f)},WO=(e,t,r)=>{(r!==void 0&&!Yh(e[t],r)||r===void 0&&!(t in e))&&Hg(e,t,r)};function ole(e,t,r){const n=Object(e),i=r(e);let{length:o}=i,a=-1;for(;o--;){const s=i[++a];if(t(n[s],s,n)===!1)break}return e}const ale=(e,t)=>e&&ole(e,t,Vg),XI=(e,t)=>{if(e==null)return e;if(!Ba(e))return ale(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function sle(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const lle=Set&&1/VE(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function KH(e,t,r,n,i,o){return Gr(e)&&Gr(t)&&(o.set(t,e),YI(e,t,void 0,KH,o),o.delete(t)),e}function ule(e,t,r){t.length?t=t.map(a=>Array.isArray(a)?s=>HE(s,a.length===1?a[0]:a):a):t=[a=>a];let n=-1,i=-1;const o=Ba(e)?new Array(e.length):[];return XI(e,a=>{const s=t.map(l=>l(a));o[++i]={criteria:s,index:++n,value:a}}),cle(o,(a,s)=>Zse(a,s,r))}function cle(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function JH(e){return e===e&&!Gr(e)}function YH(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function fle(e,t){return e!=null&&Ale(e,t,Tle)}function dle(e,t){return JI(e)&&JH(t)?YH(Jf(e),t):r=>{const n=HE(r,e);return n===void 0&&n===t?fle(r,e):qE(t,n)}}function hle(e){const t=ple(e);return t.length===1&&t[0][2]?YH(t[0][0],t[0][1]):r=>r===e||mle(r,e,t)}function ple(e){const t=Vg(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,JH(i)]}return t}function mle(e,t,r,n){let i=r.length;const o=i;if(e==null)return!o;let a;for(e=Object(e);i--;)if(a=r[i],a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1;for(;++i<o;){a=r[i];const s=a[0],l=e[s],u=a[1];if(a[2]){if(l===void 0&&!(s in e))return!1}else{const f=new ph;if(!qE(u,l,f))return!1}}return!0}function gle(e){return JI(e)?vle(Jf(e)):yle(e)}function vle(e){return t=>t==null?void 0:t[e]}function yle(e){return t=>HE(t,e)}function wle(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?dle(e[0],e[1]):hle(e):gle(e)}function WE(){const e=wle;return arguments.length?e(arguments[0]):e}const ble=(e,t,r,n)=>{let i=-1;const o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r},_le=(e,t,r,n,i)=>(i(e,(o,a,s)=>{r=n?(n=!1,o):t(r,o,a,s)}),r);function Ele(e,t,r){const n=Array.isArray(e)?ble:_le,i=arguments.length<3;return n(e,t,r,i,XI)}const Sle=e=>Array.isArray(e)||ag(e)||!!(e&&e[Symbol.isConcatSpreadable]);function XH(e,t,r,n,i){let o=-1;const a=e.length;for(r||(r=Sle),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?XH(s,t-1,r,n,i):i.push(...s):i[i.length]=s}return i}const ag=e=>vs(e)&&Da(e)=="[object Arguments]",$le=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,Tle=(e,t)=>e!=null&&t in Object(e),Ale=(e,t,r)=>{t=Xh(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=Jf(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&$le(i)&&HH(a,i)&&(Array.isArray(e)||ag(e)))},xle=e=>e.match(Cse),Ole=e=>e.match(_se),Ple=(e,t)=>(Ise(e)?Ole(e):xle(e))||[],Rle=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,!t&&r>=n?e:e.slice(t,r)},Nle=Ile("toUpperCase");function Ile(e){return t=>{if(!t)return"";const r=CH(t)?kH(t):void 0,n=r?r[0]:t[0],i=r?Rle(r,1).join(""):t.slice(1);return n[e]()+i}}class ph{constructor(t){const r=this.__data__=new _1(t);this.size=r.size}clear(){this.__data__=new _1,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof _1){const i=n.__data__;if(i.length<HI-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new QH(i)}return n.set(t,r),this.size=n.size,this}}class _1{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=Xv(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=Xv(r,t);return n<0?void 0:r[n][1]}has(t){return Xv(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=Xv(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class QH{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new tL,map:new Map,string:new tL}}delete(t){const r=Qv(this,t).delete(t);return this.size-=r?1:0,r}get(t){return Qv(this,t).get(t)}has(t){return Qv(this,t).has(t)}set(t,r){const n=Qv(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class tL{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===VO?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?VO:r,this}}class sg{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new QH;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,VO),this}has(t){return this.__data__.has(t)}}sg.prototype.push=sg.prototype.add;const jle=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===LE},Gr=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},_o=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===FE},zi=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===BE},Gt=GH((e,t)=>{if(zE(t)||Ba(t)){Wg(t,Vg(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&Hg(e,r,t[r])}),Cle=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&f_(t[0],t[1],i)&&(n=1);++r<n;){const o=t[r];if(o==null)continue;const a=Object.keys(o),s=a.length;let l=-1;for(;++l<s;){const u=a[l],f=e[u];(f===void 0||Yh(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},wa=Cle,kle=function(...t){return t.push(void 0,KH),ni.apply(void 0,t)},QI=kle,Gs=(e,t,...r)=>{let n=-1;const i=typeof t=="function",o=Ba(e)?new Array(e.length):[];return XI(e,a=>{o[++n]=i?t.apply(a,r):Dle(a,t,...r)}),o},Dle=(e,t,...r)=>{t=Xh(t,e),e=VH(e,t);const n=e==null?e:e[Jf(sle(t))];return n==null?void 0:n.apply(e,r)},ZH=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=WE(r,2),t=r(t);const o=t!==t,a=t===null,s=kh(t),l=t===void 0;for(;n<i;){let u;const f=Math.floor((n+i)/2),c=r(e[f]),h=c!==void 0,g=c===null,m=c===c,_=kh(c);o?u=m:l?u=m&&h:a?u=m&&h&&!g:s?u=m&&h&&!g&&!_:g||_?u=!1:u=c<t,u?n=f+1:i=f}return Math.min(i,jse)},Kg=(e,t)=>{let r=-1,n=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=WE(t,2);let i=!0;const{length:o}=e,a=[];let s=a;if(o>=HI){const l=t?null:lle(e);if(l)return VE(l);i=!1,n=(u,f)=>u.has(f),s=new sg}else s=t?[]:a;e:for(;++r<o;){let l=e[r];const u=t?t(l):l;if(l=l!==0?l:0,i&&u===u){let f=s.length;for(;f--;)if(s[f]===u)continue e;t&&s.push(u),a.push(l)}else n(s,u)||(s!==a&&s.push(u),a.push(l))}return a},Bs=e=>hh(e),ba=e=>hh(e,!0),jl=e=>{if(e==null)return!0;if(Ba(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||Gg(e)||ag(e)))return!e.length;const t=Da(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(zE(e))return!Lse(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},Qd=(e,t)=>qE(e,t),dn=e=>typeof e=="function",qn=e=>{if(!vs(e)||Da(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},$r=e=>{if(!e)return[];if(Ba(e))return zi(e)?kH(e):WI(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const o=[];for(;!(i=n.next()).done;)o.push(i.value);return o}const t=Da(e);return(t==zg?zH:t==qg?VE:Mse)(e)};function Mle(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,o,a,s,l,u=0,f=!1,c=!1,h=!0;const g=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Gr(r)&&(f=!!r.leading,c="maxWait"in r,o=c?Math.max(20,t):o,h="trailing"in r?!!r.trailing:h);function m(d){const A=n,x=i;return n=i=void 0,u=d,a=e.apply(x,A),a}function _(d,A){return g?(window.cancelAnimationFrame(s),window.requestAnimationFrame(d)):setTimeout(d,A)}function v(d){if(g)return window.cancelAnimationFrame(d);clearTimeout(d)}function p(d){return u=d,s=_(E,t),f?m(d):a}function S(d){const A=d-l,x=d-u,O=t-A;return c?Math.min(O,o-x):O}function y(d){const A=d-l,x=d-u;return l===void 0||A>=t||A<0||c&&x>=o}function E(){const d=Date.now();if(y(d))return $(d);s=_(E,S(d))}function $(d){return s=void 0,h&&n?m(d):(n=i=void 0,a)}function T(...d){const A=Date.now(),x=y(A);if(n=d,i=this,l=A,x){if(s===void 0)return p(l);if(c)return s=_(E,t),m(l)}return s===void 0&&(s=_(E,t)),a}return T.cancel=()=>{s!==void 0&&v(s),u=0,n=l=i=s=void 0},T.flush=()=>s===void 0?a:$(Date.now()),T.pending=()=>s!==void 0,T}const Lle=(e,t)=>(t=WE(t,2),Ele(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):Hg(r,i,[n]),r),{})),E1=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&f_(e,t[0],t[1])?t=[]:r>2&&f_(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[WE(t,2)]),ule(e,t.flat(1),[])},Fle=e=>(e==null?0:e.length)?XH(e,1/0):[],rL=(e,...t)=>Ba(e)?qH(e,t):[],Ble=(e,...t)=>vs(e)&&Ba(e)?qH(e,t.flat(1)):[],GO=(...e)=>{const t=e.flat(1);return Kg(t)},Bu=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},Vn=(e,t,r)=>{t=Xh(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let o=e==null?void 0:e[Jf(t[n])];o===void 0&&(n=i,o=r),e=typeof o=="function"?o.call(e):o}return e},lg=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(o=>(o=Xh(o,e),n||(n=o.length>1),o)),Wg(e,BH(e),r),n&&(r=hh(r,!0,!0,!0,o=>qn(o)?void 0:o));let i=t.length;for(;i--;)tle(r,t[i]);return r},_a=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=Ba(e)?DH(e,!0):WH(e);let o=i.length;for(;o--;){const a=i[++r];if(t(n[a],a,n)===!1)break}},Ule=(e="")=>Ple(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?Nle(r):r)),"");let zle=0;const qle=(e="")=>{const t=++zle;return`${e}`+t},ni=GH((e,t,r,n)=>{YI(e,t,r,n)},!0),ss=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Zu.classNamePrefix.length)!==Zu.classNamePrefix&&(t=Zu.classNamePrefix+t),t}).join(" ")},Vle=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,Zu.classNamePrefix.length)===Zu.classNamePrefix&&(t=t.substr(Zu.classNamePrefix.length)),t}).join(" ")},d_=function(e,t){const r={},n={},i=st.namespace.svg,o=t||i,a=document.createDocumentFragment(),s=function(l,u,f){for(let c=0;c<l.length;c++){const h=l[c];if(typeof h=="string"){const E=document.createTextNode(h);u.appendChild(E);continue}if(!h.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const g=h.tagName;let m;h.hasOwnProperty("namespaceURI")&&(f=h.namespaceURI),m=document.createElementNS(f,g);const _=f===i,v=_?st:Lr,p=h.attributes;p&&v(m).attr(p);const S=h.style;if(S&&Lr(m).css(S),h.hasOwnProperty("className")){const E=h.className;_?m.className.baseVal=E:m.className=E}if(h.hasOwnProperty("textContent")&&(m.textContent=h.textContent),h.hasOwnProperty("selector")){const E=h.selector;if(r[E])throw new Error("json-dom-parser: selector must be unique");r[E]=m,v(m).attr("joint-selector",E)}if(h.hasOwnProperty("groupSelector")){let E=h.groupSelector;Array.isArray(E)||(E=[E]);for(let $=0;$<E.length;$++){const T=E[$];let d=n[T];d||(d=n[T]=[]),d.push(m)}}u.appendChild(m);const y=h.children;Array.isArray(y)&&s(y,m,f)}};return s(e,a,o),{fragment:a,selectors:r,groupSelectors:n}},Zv=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},ug=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,o=0,a=n.length;o<a;)if(i=n[o++],Object(e)===e&&i in e)e=e[i];else return;return e},eW=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},nL=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),o=i.length-1;let a=e,s=0;for(;s<o;s++){const l=i[s];if(!eW(a,l))return e;a=a[l]||(a[l]={})}return a[i[o]]=r,e},iL=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let o=e,a=0;for(;a<i;a++){const s=n[a];if(!eW(o,s))return e;const l=o[s];if(!l)return e;o=l}return delete o[n[i]],e},Hle=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},Zd=function(e){return Zd.id=Zd.id||1,e===void 0?"j_"+Zd.id++:(e.id=e.id===void 0?"j_"+Zd.id++:e.id,e.id)},Wle=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},bi=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},Gle=function(e){let i=0,o=0,a=0,s=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),a="deltaX"in e?e.deltaX:i*10,s="deltaY"in e?e.deltaY:o*10,(a||s)&&e.deltaMode&&(e.deltaMode==1?(a*=40,s*=40):(a*=800,s*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(a=s,s=0,i=o,o=0),a&&!i&&(i=a<1?-1:1),s&&!o&&(o=s<1?-1:1),{spinX:i,spinY:o,deltaX:a,deltaY:s}},Kle=function(e,t){return e>t?t:e<-t?-t:e},KO=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(function(){r(n+i)},i);return t=n+i,o}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),JO=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),Oi=function(e){return zi(e)&&e.slice(-1)==="%"},Jle=function(e,t){function r(s){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+s+")$").exec(e);return l?l[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else zi(t)&&(o=t);var a=r(o);return a===null?null:(i.unit=a,i)},ym=0;function Yle(e,t){const r=e.split(t);let n=1;for(let i=0,o=r.length-1;i<o;i++){const a=[];(i>0||r[0]!=="")&&a.push(ym),a.push(t),(i<o-1||r[o]!=="")&&a.push(ym),r.splice(n,0,...a),n+=a.length+1}return r.filter(i=>i!=="")}function oL(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const Xle=function(e,t,r={},n={}){var i=t.width,o=t.height,a=n.svgDocument||st("svg").node,s=st("tspan").node,l=st("text").attr(r).append(s).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",s.style.display="block",s.appendChild(u),a.appendChild(l),n.svgDocument||document.body.appendChild(a);const f=n.preserveSpaces,c=" ",h=n.separator||n.separator===""?n.separator:c,g=typeof h=="string"?h:c;var m=n.eol||`
`,_=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,v=n.maxLineCount;_o(v)||(v=1/0);var p=e.split(h),S=[],y=[],E,$,T;f&&st(s).attr("xml:space","preserve");for(var d=0,A=0,x=p.length;d<x;d++){var O=p[d];if(!(!O&&!f)&&typeof O=="string"){var C=!1;if(O.indexOf(m)>=0)if(O.length>1){const k=Yle(p[d],m);p.splice(d,1,...k),d--,x=p.length;continue}else{if(f&&typeof p[d-1]=="string"){p.splice(d,ym,"",ym),x+=2,d--;continue}y[++A]=!f||typeof p[d+1]=="string"?"":void 0,C=!0}if(!C){let k;if(f?k=y[A]!==void 0?y[A]+g+O:O:k=y[A]?y[A]+g+O:O,u.data=k,s.getComputedTextLength()<=i)y[A]=k,(E||$)&&(S[A++]=!0,E=0,$=0);else{if(!y[A]||E){var F=!!E;if(E=O.length-1,F||!E){if(!E){if(!y[A]){y=[];break}p.splice(d,2,O+p[d+1]),x--,S[A++]=!0,d--;continue}p[d]=O.substring(0,E);const B=p[d+1];p[d+1]=O.substring(E)+(B===void 0||B===ym?"":B)}else{if($)p.splice(d,2,p[d]+p[d+1]),$=0;else{var V=O.search(_);V>-1&&V!==O.length-1&&V!==0&&($=V+1,E=0),p.splice(d,1,O.substring(0,$||E),O.substring($||E)),x++}A&&!S[A-1]&&A--}(!f||y[A]!=="")&&d--;continue}A++,d--}}var Q=null;if(y.length>v)Q=v-1;else if(o!==void 0){if(T===void 0&&u.data!=="")if(r.lineHeight==="auto")T=oL({value:1.5,unit:"em"},l);else{const k=Jle(r.lineHeight,["em","px",""]);T=oL(k,l)}T*y.length>o&&(Q=Math.floor(o/T)-1)}if(Q!==null){y.splice(Q+1);var H=n.ellipsis;if(!H||Q<0)break;typeof H!="string"&&(H="");var X=y[Q];if(!X&&!C)break;var ce=X.length,Z,ie;do{if(ie=X[ce],Z=X.substring(0,ce),ie?ie.match(h)&&(Z+=ie):Z+=g,Z+=H,u.data=Z,s.getComputedTextLength()<=i){y[Q]=Z;break}ce--}while(ce>=0);break}}}return n.svgDocument?a.removeChild(l):document.body.removeChild(a),y.join(m)},Qle=function(e,t){var r=Lr(e),n=r.map(function(){var i=this,o=i.parentNode,a=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,a),o.removeChild(a)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},Mf=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,o;return r=n=i=o=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=o=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:r,right:n,bottom:i,left:o}},Zle={linear:function(e){return e}},tW={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,o,a={};for(i=r.length-1;i!=-1;i--)o=r[i],a[o]=e[o]+(t[o]-e[o])*n;return a}}},eue={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return Ki(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Ki(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Ki('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Ki(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Ki('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Ki('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Ki=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),a=o.split("."),s=r[a.shift()];s!==void 0&&a.length;)s=s[a.shift()];return s!==void 0?s:""})}};function rW(e){e=Kg(e);const t=$r(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return $r(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const a=n.source(),s=n.target();a.id&&t[a.id]&&n.prop("source/id",t[a.id].id),s.id&&t[s.id]&&n.prop("target/id",t[s.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const o=$r(r.get("embeds")).reduce(function(a,s){return t[s]&&a.push(t[s].id),a},[]);jl(o)||n.set("embeds",o)}),t}const tue=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],rue=tue.reduce((e,t)=>(e[t]=!0,e),{}),nue={qualify:function(e){return qn(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if(rue[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(o,a){o.selected=i.includes(o.value)}):r[n]=i}})}};function pu(e,t){return function(r,n){var i=Oi(r);r=parseFloat(r),i&&(r/=100);var o={};if(isFinite(r)){var a=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[e]=a}return o}}function ey(e,t,r){return function(n,i){var o=Oi(n);n=parseFloat(n),o&&(n/=100);var a;if(isFinite(n)){var s=i[r]();o||n>0&&n<1?a=s[e]+i[t]*n:a=s[e]+n}var l=ze();return l[e]=a||0,l}}function aL(e,t,r){return function(n,i){var o;n==="middle"?o=i[t]/2:n===r?o=i[t]:isFinite(n)?o=n>-1&&n<1?-i[t]*n:-n:Oi(n)?o=i[t]*parseFloat(n)/100:o=0;var a=ze();return a[e]=-(i[e]+o),a}}function nW(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,o,a){var s=Lr(a),l=s.data(r);if(!l||l.value!==i){var u=e(i);l={value:i,shape:u,shapeBBox:u.bbox()},s.data(r,l)}var f=l.shape.clone(),c=l.shapeBBox.clone(),h=c.origin(),g=o.origin();c.x=g.x,c.y=g.y;var m=o.maxRectScaleToFit(c,g),_=c.width===0||o.width===0?1:m.sx,v=c.height===0||o.height===0?1:m.sy;return f.scale(_,v,h),n&&f.translate(-h.x,-h.y),f}}function sL(e){function t(n){return new Bt(st.normalizePathData(n))}var r=nW(t,e);return function(n,i,o){var a=r(n,i,o);return{d:a.serialize()}}}function lL(e){var t=nW(cn,e);return function(r,n,i){var o=t(r,n,i);return{points:o.serialize()}}}function ty(e,t){var r=new ze(1,0);return function(n){var i,o,a=this[e](n);return a?(o=t.rotate?a.vector().vectorAngle(r):0,i=a.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function uL(e){return function(r,n,i){const o=st(i);o.attr(e)!==r&&o.attr(e,r)}}function wd(e,t,r){return r.text!==void 0}function Tp(){return this.model.isLink()}function S1(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function cL(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const ir={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:uL("href")},xlinkHref:{set:uL("xlink:href")},filter:{qualify:qn,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:qn,set:cL},stroke:{qualify:qn,set:cL},sourceMarker:{qualify:qn,set:function(e,t,r,n){return e=Gt(S1(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:qn,set:function(e,t,r,n){return e=Gt(S1(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:qn,set:function(e,t,r,n){return e=Gt(S1(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!qn(r.textWrap)},set:function(e,t,r,n){const i=Lr(r),o="joint-text",a=i.data(o),{lineHeight:s,annotations:l,textVerticalAnchor:u,eol:f,displayEmpty:c}=n;let h=n.textPath,g=n.x;Ta(g)&&(g=Aa(g,t));let m=n["font-size"]||n.fontSize;Ta(m)&&(m=Aa(m,t));const _=JSON.stringify([e,s,l,u,f,c,h,g,m]);if(a===void 0||a!==_){if(m&&r.setAttribute("font-size",m),Gr(h)){const v=h.selector;if(typeof v=="string"){const[p]=this.findBySelector(v);p instanceof SVGPathElement&&(h=Gt({"xlink:href":"#"+p.id},h))}}st(r).text(""+e,{lineHeight:s,annotations:l,textPath:h,x:g,textVerticalAnchor:u,eol:f,displayEmpty:c}),i.data(o,_)}}},textWrap:{qualify:qn,set:function(e,t,r,n){var i={},o=e.width||0;Oi(o)?i.width=t.width*parseFloat(o)/100:Ta(o)?i.width=Number(Aa(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var a=e.height||0;Oi(a)?i.height=t.height*parseFloat(a)/100:Ta(a)?i.height=Number(Aa(a,t)):e.height===null||(a<=0?i.height=t.height+a:i.height=a);var s,l=e.text;if(l===void 0&&(l=n.text),l!==void 0){const u=e.breakText||Xle,f=n["font-size"]||n.fontSize;s=u(""+l,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":Ta(f)?Aa(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else s="";ir.text.set.call(this,s,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=Lr(r),i="joint-title",o=n.data(i);if(o===void 0||o!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var a=r.firstElementChild;if(a&&a.tagName==="title")a.textContent=e;else{var s=document.createElementNS(r.namespaceURI,"title");s.textContent=e,r.insertBefore(s,a)}}}},lineHeight:{qualify:wd},textVerticalAnchor:{qualify:wd},textPath:{qualify:wd},annotations:{qualify:wd},eol:{qualify:wd},displayEmpty:{qualify:wd},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:qn,set:function(e,t,r){Lr(r).css(e)}},html:{set:function(e,t,r){Lr(r).html(e+"")}},props:nue,ref:{},refX:{position:ey("x","width","origin")},refY:{position:ey("y","height","origin")},refDx:{position:ey("x","width","corner")},refDy:{position:ey("y","height","corner")},refWidth:{set:pu("width","width")},refHeight:{set:pu("height","height")},refRx:{set:pu("rx","width")},refRy:{set:pu("ry","height")},refRInscribed:{set:function(e){var t=pu(e,"width"),r=pu(e,"height");return function(n,i){var o=i.height>i.width?t:r;return o(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=Oi(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:pu("cx","width")},refCy:{set:pu("cy","height")},xAlignment:{offset:aL("x","width","right")},yAlignment:{offset:aL("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:sL({resetOffset:!0})},refDKeepOffset:{set:sL({resetOffset:!1})},refPointsResetOffset:{set:lL({resetOffset:!0})},refPointsKeepOffset:{set:lL({resetOffset:!1})},connection:{qualify:Tp,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),o=n.divideAtLength(r,{segmentSubdivisions:i}),a=n.divideAtLength(-r,{segmentSubdivisions:i});o&&a&&(t=`${o[0].serialize()} ${a[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Tp,set:ty("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Tp,set:ty("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Tp,set:ty("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Tp,set:ty("getTangentAtRatio",{rotate:!1})}};ir["xlink:href"]=ir.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{ir[e]={qualify:Ta,set:function(r,n){return{[e]:Aa(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{ir[e]={qualify:Ta,set:function(r,n){return{[e]:Math.max(0,Aa(r,n))}}}});ir.refR=ir.refRInscribed;ir.refD=ir.refDResetOffset;ir.refPoints=ir.refPointsResetOffset;ir.atConnectionLength=ir.atConnectionLengthKeepGradient;ir.atConnectionRatio=ir.atConnectionRatioKeepGradient;ir.fontSize=ir["font-size"];ir.strokeWidth=ir["stroke-width"];ir.refX2=ir.refX;ir.refY2=ir.refY;ir.refWidth2=ir.refWidth;ir.refHeight2=ir.refHeight;ir["ref-x"]=ir.refX;ir["ref-y"]=ir.refY;ir["ref-dy"]=ir.refDy;ir["ref-dx"]=ir.refDx;ir["ref-width"]=ir.refWidth;ir["ref-height"]=ir.refHeight;ir["x-alignment"]=ir.xAlignment;ir["y-alignment"]=ir.yAlignment;const iW=ir,nl=Fi.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=qle("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=Vn(this,"defaults"))&&(n=ni({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Vn(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};_a(r,function(o,a){const s=t[a];_a(o,function(l,u){Gr(l)&&!Array.isArray(l)?_a(l,function(f,c){(!s||!s[u]||!Qd(s[u][c],f))&&(n[a]=n[a]||{},(n[a][u]||(n[a][u]={}))[c]=f)}):(!s||!Qd(s[u],l))&&(n[a]=n[a]||{},n[a][u]=l)})});const i=ba(lg(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return Hle()},processPorts:function(){var e=this.ports,t={};_a(this.get("attrs"),function(o,a){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var r={};if(_a(e,function(o,a){t[a]||(r[a]=!0)}),this.graph&&!jl(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){r[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){r[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,a=i.length;o<a;o++){const s=i[o];s&&s.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=wa(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:E1(r,l=>l.z());let o=t.maxZIndex()-r.length+1;const a=t.get("cells");let s=a.indexOf(n[0])!==a.length-r.length;s||(s=n.some(function(l,u){return l.z()!==o+u})),s&&(this.startBatch("to-front"),o=o+r.length,n.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=wa(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:E1(n,s=>s.z());let o=t.minZIndex();var r=t.get("cells");let a=r.indexOf(i[0])!==0;a||(a=i.some(function(s,l){return s.z()!==o+l})),a&&(this.startBatch("to-back"),o-=n.length,i.forEach(function(s,l){s.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=Gt([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",Kg(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",rL(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(jl(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=E1(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)r.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=zi(e)?e:e.id,n=this.parent();if(t=Gt({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return $r(rW([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Fi.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=zi(e);if(i||Array.isArray(e))if(arguments.length>1){var o,a;i?(o=e,a=o.split("/")):(o=e.join(n),a=e.slice());var s=a[0],l=a.length;const y=r||{};y.propertyPath=o,y.propertyValue=t,y.propertyPathArray=a,"rewrite"in y||(y.rewrite=!1);for(var u={},f=u,c=s,h=1;h<l;h++){var g=a[h],m=Number.isFinite(i?Number(g):g);f=f[c]=m?[]:{},c=g}u=nL(u,a,t,"/");var _=ni({},this.attributes);y.rewrite&&iL(_,o,"/");var v=ni(_,u);return this.set(s,v[s],y)}else return ug(this.attributes,e,n);const p=t||{};p.propertyPath=null,p.propertyValue=e,p.propertyPathArray=[],"rewrite"in p||(p.rewrite=!1);const S={};for(const y in e){const{changedValue:E}=ni({},{changedValue:this.attributes[y]},{changedValue:e[y]});S[y]=E}return this.set(S,p)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),o=this.get(n);return o==null?this:(o=ba(o),iL(o,i,"/"),this.set(n,o,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):zi(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:Zle.linear,valueFunction:tW.number};r=Gt(i,r);var o=0,a,s=(function(c){var h,g,m;o=o||c,c-=o,g=c/r.duration,g<1?this._transitionIds[e]=h=KO(s):(g=1,delete this._transitionIds[e]),m=a(r.timingFunction(g)),r.transitionId=h,this.prop(e,m,r),h||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=c=>{l[e]&&(l[e]=rL(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,n),a=r.valueFunction(ug(this.attributes,e,n),t),this._transitionIds[e]=KO(c),this.trigger("transition:start",this,e)};return u=setTimeout(f,r.delay,s),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return GO(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Qd(i,o.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(a=>clearTimeout(a)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Qd(i,o.split(t).slice(0,i.length)))}n.forEach(i=>{const o=r[i];JO(o),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Gt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Gt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new ze(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ze},getBBox:function(){return new Pt(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new ze(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=iW;return t&&t[e]||r[e]},define:function(e,t,r,n){r=Gt({defaults:QI({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Bu(joint,"shapes")&&nL(joint.shapes,e,i,"."),i}}),iue=function(e,t,r){if(zi(r)){if(!YO[r])throw new Error('Unknown wrapper: "'+r+'"');r=YO[r]}if(!dn(r))throw new Error("Wrapper must be a function.");$r(t).forEach(function(n){e[n]=r(e[n])})},YO={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof nl?n=t:n instanceof nl&&(t.length>1&&t.pop(),n=t)),i instanceof nl&&(i={}),e.call(this,n,i)}}},Ln={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function oW(e,t){const r=new Pt(e);switch(t){case void 0:throw new Error("Position required");case Ln.LEFT:case"leftMiddle":return r.leftMiddle();case Ln.RIGHT:case"rightMiddle":return r.rightMiddle();case Ln.TOP:case"topMiddle":return r.topMiddle();case Ln.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case Ln.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case Ln.TOP_RIGHT:case"topRight":return r.topRight();case Ln.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case Ln.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case Ln.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function aW(e,t,r){var n=e.toJSON();return n.angle=t||0,wa({},r,n)}function Jg(e,t,r,n){return e.map(function(i,o,a){var s=this.pointAt((o+.5)/a.length);return(i.dx||i.dy)&&s.offset(i.dx||0,i.dy||0),aW(s.round(),0,ZI(n,i))},$f(t,r))}function sW(e,t,r,n){var i=t.center(),o=t.width/t.height,a=t.topMiddle(),s=ro.fromRect(t);return e.map(function(l,u,f){var c=r+n(u,f.length),h=a.clone().rotate(i,-c).scale(o,1,i),g=l.compensateRotation?-s.tangentTheta(h):0;return(l.dx||l.dy)&&h.offset(l.dx||0,l.dy||0),l.dr&&h.move(i,l.dr),aW(h.round(),g,ZI(t,l))})}function ZI(e,t){let{x:r,y:n,angle:i}=t;return Oi(r)?r=parseFloat(r)/100*e.width:Ta(r)&&(r=Number(Aa(r,e))),Oi(n)?n=parseFloat(n)/100*e.height:Ta(n)&&(n=Number(Aa(n,e))),{x:r,y:n,angle:i}}function XO(e,t){const{x:r,y:n}=ZI(e,t);return new ze(r||0,n||0)}const oue=function(e,t){return e.map(r=>{const n=XO(t,r).round().toJSON();return n.angle=r.angle||0,n})},aue=function(e,t,r){return r.fn(e,t,r)},sue=function(e,t,r){var n=XO(t,r.start||t.origin()),i=XO(t,r.end||t.corner());return Jg(e,n,i,t)},lue=function(e,t,r){return Jg(e,t.origin(),t.bottomLeft(),t)},uue=function(e,t,r){return Jg(e,t.topRight(),t.corner(),t)},cue=function(e,t,r){return Jg(e,t.origin(),t.topRight(),t)},fue=function(e,t,r){return Jg(e,t.bottomLeft(),t.corner(),t)},due=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return sW(e,t,n,function(o){return o*i})},hue=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return sW(e,t,n,function(o,a){return(o+.5-a/2)*i})},pue=Object.freeze(Object.defineProperty({__proto__:null,absolute:oue,bottom:fue,ellipse:hue,ellipseSpread:due,fn:aue,left:lue,line:sue,right:uue,top:cue},Symbol.toStringTag,{value:"Module"}));function _c(e,t){return QI({},e,t,{x:0,y:0,angle:0,attrs:{}})}function lW(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[r,o,i,n]}function uW(e,t,r,n){n=wa({},n,{offset:15});var i=t.center().theta(e),o,a,s,l,u=n.offset,f=0;const[c,h,g,m]=lW(t);i<h||i>g?(s=".3em",o=u,a=0,l="start"):i<c?(o=0,a=-u,r?(f=-90,l="start",s=".3em"):(l="middle",s="0")):i<m?(s=".3em",o=-u,a=0,l="end"):(o=0,a=u,r?(f=90,l="start",s=".3em"):(l="middle",s=".6em"));var _=Math.round;return _c(n,{x:_(o),y:_(a),angle:f,attrs:{labelText:{y:s,textAnchor:l}}})}function cW(e,t,r,n){n=wa({},n,{offset:15});var i=t.center().theta(e),o,a,s,l,u=n.offset,f=0;const[c,h,g,m]=lW(t);i<h||i>g?(s=".3em",o=-u,a=0,l="end"):i<c?(o=0,a=u,r?(f=90,l="start",s=".3em"):(l="middle",s=".6em")):i<m?(s=".3em",o=u,a=0,l="start"):(o=0,a=-u,r?(f=-90,l="start",s=".3em"):(l="middle",s="0"));var _=Math.round;return _c(n,{x:_(o),y:_(a),angle:f,attrs:{labelText:{y:s,textAnchor:l}}})}function fW(e,t,r){r=wa({},r,{offset:20});var n=o_(0,0),i=-e.theta(n),o=i,a=e.clone().move(n,r.offset).difference(e).round(),s=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(s="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var u=Math.round;return _c(r,{x:u(a.x),y:u(a.y),angle:t?o:0,attrs:{labelText:{y:s,textAnchor:l}}})}const mue=function(e,t,r){return _c(r)},gue=function(e,t,r){return _c(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},vue=function(e,t,r){return _c(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},yue=function(e,t,r){return _c(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},wue=function(e,t,r){return _c(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},bue=function(e,t,r){return uW(e,t,!0,r)},_ue=function(e,t,r){return uW(e,t,!1,r)},Eue=function(e,t,r){return cW(e,t,!0,r)},Sue=function(e,t,r){return cW(e,t,!1,r)},$ue=function(e,t,r){return fW(e.difference(t.center()),!1,r)},Tue=function(e,t,r){return fW(e.difference(t.center()),!0,r)},Aue=Object.freeze(Object.defineProperty({__proto__:null,bottom:wue,inside:Sue,insideOriented:Eue,left:gue,manual:mue,outside:_ue,outsideOriented:bue,radial:$ue,radialOriented:Tue,right:vue,top:yue},Symbol.toStringTag,{value:"Module"})),Qh=nl.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return Bs(this.get("source"));var n,i,o=e instanceof nl;if(o)return n=Bs(t)||{},n.id=e.id,i=r,this.set("source",n,i);var a=!qn(e);return a?(n=Bs(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return Bs(this.get("target"));var n,i,o=e instanceof nl;if(o)return n=Bs(t)||{},n.id=e.id,i=r,this.set("target",n,i);var a=!qn(e);return a?(n=Bs(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?Bs(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},a=i?t:r;return this.set("router",o,a)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?Bs(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},a=i?t:r;return this.set("connector",o,a)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],o=this._normalizeVertex(i);r.push(o)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return n.splice(e,0,o),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!qn(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return ze(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!dn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var o=this.vertices();return o.length>0&&(r.vertices=o.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ze(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ze(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ze),this.getTargetPoint()];return new cn(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var o=n===i;if(!o&&e.deep&&this.graph){var a=this.getSourceCell(),s=this.getTargetCell();o=a.isEmbeddedIn(s)||s.isEmbeddedIn(a)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=zi(e)||_o(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var dW=function(e){var t=ba(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=pue,this.portLabelLayoutNamespace=Aue,this._init(t)};dW.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},o=i.name,a=this.portLayoutNamespace;a[o]||(o="left");var s=i.args||{},l=n.map(function(c){return c&&c.position&&c.position.args}),u=a[o](l,t,s),f={ports:n,result:[]};return $r(u).reduce((function(c,h,g){var m=c.ports[g];return c.result.push({portId:m.id,portTransformation:h,labelTransformation:this._getPortLabelLayout(m,ze(h),t),portAttrs:m.attrs,portSize:m.size,labelSize:m.label.size}),c}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Gr(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=$r(e.items),a=0,s=o.length;a<s;a++)this.ports.push(this._evaluatePort(o[a]))},_evaluateGroup:function(e){return ni(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Gt({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=ni({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=ni({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=Gt({},r.size,t.size),t},_getZIndex:function(e,t){return _o(t.z)?t.z:_o(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return ni({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;dn(e)?(n="fn",r.fn=e):zi(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Gr(e)&&(n=e.name,Gt(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const xue={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};$r(e.items).forEach(function(s){t[s.id]=!0});var r=this.previous("ports")||{},n={};$r(r.items).forEach(function(s){t[s.id]||(n[s.id]=!0)});var i=this.graph;if(i&&!jl(n)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(s){n[s.get("target").port]&&s.remove()});var a=i.getConnectedLinks(this,{outbound:!0});a.forEach(function(s){n[s.get("source").port]&&s.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return ba(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=$r(this.prop(["ports","items"])).filter(r=>r.group===e);return ba(t)},getPort:function(e){return ba($r(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,Pt(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Gr(e)?e.id:e;return this._isValidPortId(t)?$r(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Gr(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=Gt([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Gr(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=Gt([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):zi(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],qn(t)&&(o.push(t),o.push(r))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=$r(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),Kg(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Gr(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Gt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=Gt([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=Gt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(a){const s=Gr(a)?a.id:a;return o.id===s})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new dW(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(o){if(!t.find(function(a){return a.id===o.id}))return o}),i=t.filter(function(o){if(!r.find(function(a){return a.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},Oue={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=Lle(this.model._portSettingsData.getPorts(),"z"),o="auto";$r(i[o]).forEach(function(f){var c=this._getPortElement(f);t.append(c),e.push(c)},this);for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s];if(l!==o){var u=parseInt(l,10);this._appendPorts(i[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=$r(e).map(this._getPortElement,this);r[t]||t<0?st(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[o=null]=this.findBySelector(t,n,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){Gs(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var o=st(this.portContainerMarkup).addClass("joint-port"),a=this._getPortMarkup(e);if(Array.isArray(a)){var s=this.parseDOMJSON(a,o.node),l=s.fragment;l.childNodes.length>1?t=st("g").append(l):t=st(l.firstChild),i=s.selectors}else t=st(a),Array.isArray(t)&&(t=st("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:_,selectors:v}=this.parseDOMJSON(u,o.node),p=_.childNodes.length;p>0&&(n=v,r=p===1?st(_.firstChild):st("g").append(_))}else r=st(u),Array.isArray(r)&&(r=st("g").append(r));var f;if(i&&n){for(var c in n)if(i[c]&&c!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=Gt({},i,n)}else f=i||n||{};const h="portRoot",g="labelRoot",m="labelText";if(h in f||(f[h]=t.node),r){const _=r.node;if(g in f||(f[g]=_),!(m in f)){const v=r.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));f[m]=v,n||(n={}),n[m]=v}}return o.append(t.addClass("joint-port-body")),r&&o.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Pt(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var o=r[n],a=o.portId,s=this._portElementsCache[a]||{},l=o.portTransformation,u=o.labelTransformation;u&&s.portLabelElement&&(this.updateDOMSubtreeAttributes(s.portLabelElement.node,u.attrs,{rootBBox:new Pt(o.labelSize),selectors:s.portLabelSelectors}),this.applyPortTransform(s.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:new Pt(o.portSize),selectors:s.portSelectors}),this.applyPortTransform(s.portElement,l)}},applyPortTransform:function(e,t,r){var n=st.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},co=nl.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),nl.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=_o(t);r=(n?r:e)||{};const{parentRelative:i,deep:o,restrictedArea:a}=r;let s;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(s=l.get("position"))}if(n){if(s&&(e+=s.x,t+=s.y),o||a){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,r)}else this.set("position",{x:e,y:t},r);return this}else{const l=ze(this.get("position"));return i?l.difference(s):l}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,n.x+e,n.y+t,r);e=o.x-n.x,t=o.y-n.y}else{var a=this.getBBox({deep:!0}),s=n.x-a.x,l=n.y-a.y,u=Math.max(i.x+s,Math.min(i.x+i.width+s-a.width,n.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-a.height,n.y+t));e=u-n.x,t=f-n.y}var c={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Gr(r.transition)||(r.transition={}),this.transition("position",c,Gt({},r.transition,{valueFunction:tW.object})),Gs(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),Gs(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Gr(e)&&(r=t,t=_o(e.height)?e.height:n.height,e=_o(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=ms(this.get("angle")||0),o=this.getBBox(),a;if(i){var s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(s+=Math.floor((i+45)/90),s%=4);var l=o[["bottomLeft","corner","topRight","origin"][s]](),u=ze(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,c=s*Math.PI/2;c+=Math.atan(s%2==0?t/e:e/t),c-=Oo(i);var h=ze.fromPolar(f,c,u);a=ze(h).offset(e/-2,t/-2)}else switch(a=o.topLeft(),r.direction){case"top":case"top-right":a.offset(0,o.height-t);break;case"left":case"bottom-left":a.offset(o.width-e,0);break;case"top-left":a.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},r),this.position(a.x,a.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&Gs(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:o,width:a,height:s}=t;const{left:l,right:u,top:f,bottom:c}=Mf(e.padding);i-=l,o-=f,a+=l+u,s+=c+f;let h=new Pt(i,o,a,s);if(r)h=this.getBBox().union(h);else if(n){const g=this.getBBox().intersect(h);if(!g)return;h=g}this.set({position:{x:h.x,y:h.y},size:{width:h.width,height:h.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),o=this.get("size"),a=this.get("position");i.rotate(r,this.get("angle")-e);var s=i.x-o.width/2-a.x,l=i.y-o.height/2-a.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(a.x+s,a.y+l,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return ms(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const c=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return c.push(this),t.getCellsBBox(c,e)}const{angle:o=0,position:{x:a,y:s},size:{width:l,height:u}}=r,f=new Pt(a,s,l,u);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var o=i.port;if(!o||!this.hasPort(o))return n;var a=this.portProp(o,["group"]),s=this.getPortsPositions(a),l=new ze(s[o]).offset(r.origin()),u=this.angle();return u&&l.rotate(n,-u),l}});Gt(co.prototype,xue);const Pue=Fi.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Bu(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?Qh:ug(n,e.type,".")||co,o=new i(e,t);return t.dry||(o.graph=r.graph),o},comparator:function(e){return e.get("z")||0}}),ej=Fi.Model.extend({initialize:function(e,t){t=t||{};var r=new Pue([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Fi.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Fi.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=lg(n,"cells")),Fi.Model.prototype.set.call(this,n,r)},clear:function(e){e=Gt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Fi.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!zi(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Fi.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=Fle(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=$r(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Gs(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=[],a={};i&&s(this,e),n&&l(this,e);function s(c,h){if(_a(c.getOutboundEdges(h.id),(function(m,_){if(!a[_]){var v=c.getCell(_);o.push(v),a[_]=!0,r&&(n&&l(c,v),i&&s(c,v))}}).bind(c)),r&&h.isLink()){var g=h.getTargetCell();g&&g.isLink()&&(a[g.id]||(o.push(g),s(c,g)))}}function l(c,h){if(_a(c.getInboundEdges(h.id),(function(m,_){if(!a[_]){var v=c.getCell(_);o.push(v),a[_]=!0,r&&(n&&l(c,v),i&&s(c,v))}}).bind(c)),r&&h.isLink()){var g=h.getSourceCell();g&&g.isLink()&&(a[g.id]||(o.push(g),l(c,g)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(c){c.isElement()&&(f[c.id]=!0)}),u.forEach(function(c){c.isLink()||(i&&_a(this.getOutboundEdges(c.id),(function(h,g){if(!a[g]){var m=this.getCell(g),{source:_,target:v}=m.attributes,p=_.id,S=v.id;if(!t.includeEnclosed&&p&&f[p]&&S&&f[S])return;o.push(this.getCell(g)),a[g]=!0}}).bind(this)),n&&_a(this.getInboundEdges(c.id),(function(h,g){if(!a[g]){var m=this.getCell(g),{source:_,target:v}=m.attributes,p=_.id,S=v.id;if(!t.includeEnclosed&&p&&f[p]&&S&&f[S])return;o.push(this.getCell(g)),a[g]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(s,l){var{source:u,target:f}=l.attributes,c=l.hasLoop(t);if(r&&Bu(u,"id")&&!s[u.id]){var h=this.getCell(u.id);h.isElement()&&(c||h&&h!==e&&(!t.deep||!h.isEmbeddedIn(e)))&&(s[u.id]=h)}if(n&&Bu(f,"id")&&!s[f.id]){var g=this.getCell(f.id);g.isElement()&&(c||g&&g!==e&&(!t.deep||!g.isEmbeddedIn(e)))&&(s[f.id]=g)}return s}).bind(this),{});if(e.isLink()){if(r){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(n){var a=e.getTargetCell();a&&a.isElement()&&!i[a.id]&&(i[a.id]=a)}}return $r(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=$r(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Gt({},t,{outbound:!0})),r},cloneCells:rW,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],o=[];return $r(e).forEach(function(a){if(n[a.id]||(r.push(a),n[a.id]=a,a.isLink()?o.push(a):i.push(a)),t.deep){var s=a.getEmbeddedCells({deep:!0});s.forEach(function(l){n[l.id]||(r.push(l),n[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(a){var{source:s,target:l}=a.attributes;if(s.id&&!n[s.id]){var u=this.getCell(s.id);r.push(u),n[u.id]=u,i.push(u)}if(l.id&&!n[l.id]){var f=this.getCell(l.id);r.push(this.getCell(l.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(a){var s=this.getConnectedLinks(a,t);s.forEach(function(l){var{source:u,target:f}=l.attributes;!n[l.id]&&u.id&&n[u.id]&&f.id&&n[f.id]&&(r.push(l),n[l.id]=l)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Gt({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var a=o.shift();if(n[a.id]||(n[a.id]=!0,t.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,r);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[f.id]=i[a.id]+1,o.push(f)}}},dfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const a=o.pop();if(n[a.id]||(n[a.id]=!0,t.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,r),l=o.length;for(let u=0,f=s.length;u<f;u++){const c=s[u];i[c.id]=i[a.id]+1,o.splice(l,0,c)}}},getSources:function(){var e=[];return _a(this._nodes,(function(t,r){(!this._in[r]||jl(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return _a(this._nodes,(function(t,r){(!this._out[r]||jl(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||jl(this._in[e.id])},isSink:function(e){return!this._out[e.id]||jl(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=!1;return this.getConnectedLinks(e,r).forEach(function(a){var{source:s,target:l}=a.attributes;if(n&&Bu(s,"id")&&s.id===t.id||i&&Bu(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Gs(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new Pt(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(o=>r[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(oW(n,r))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return $r(e).reduce(function(n,i){const o=i.getBBox({rotate:r});return o?n?n.union(o):o:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return Gs(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var o=Math.max(e/i.width,0),a=Math.max(t/i.height,0);Gs(r,"scale",o,a,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Gt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Gt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),a=o.filter(function(s){var{source:l,target:u}=s.attributes;return l&&l.id===r.id&&(!l.port||l.port===r.port)&&u&&u.id===n.id&&(!u.port||u.port===n.port)});if(a.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});iue(ej.prototype,["resetCells","addCells","removeCells"],YO.cells);const Zc={},ec=Fi.View.extend({options:{},theme:null,themeClassNamePrefix:ss("theme-"),requireSetThemeOverride:!1,defaultTheme:Zu.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Gt({},this.options,e),Fi.View.call(this,e)},initialize:function(){Zc[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Vn(this,"children")),e){var t=this.svgElement,r=st.namespace[t?"svg":"xhtml"],n=d_(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Vn(this,"el"));else{var e=Vn(this,"tagName"),t=Gt({},Vn(this,"attributes")),r=Gt({},Vn(this,"style"));this.id&&(t.id=Vn(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(st.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Fi.$?e:Fi.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=st(this.el))},_ensureElClassName:function(){var e=Vn(this,"className");if(e){var t=ss(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Zc[this.cid]=null,Fi.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&Lr(e).on(i+n,r,o.bind(this))}return this},undelegateElementEvents:function(e){return Lr(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Vn(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),Gt(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Gt({},e[0])||{},r=e[1]&&Gt({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,Fi.View.extend.call(this,t,r)}}),fL="dbltap";if(Lr.event&&!(fL in Lr.event.special)){const e=Zu.doubleTapInterval,t=30;Lr.event.special[fL]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:o}=r,a=Lr.data(o),s=new Date().getTime(),l="lastTouch"in a?s-a.lastTouch:0;l<e&&l>t?(a.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):a.lastTouch=s}}}const Ea={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Rue=ec.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return ss(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in r)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){const o=r[i];t.insertBefore(n,o.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function Ap(e){return e?Array.isArray(e)?e:[e]:[]}const ls=ec.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(qn(t)){const n=e.model.isLink(),{label:i=null,port:o,selector:a}=t;n&&i!==null?r=e.findLabelNode(i,a):!n&&o?r=e.findPortNode(o,a):[r]=e.findBySelector(a)}else t&&(r=st.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?n?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:o,postponedUpdate:a,nodeSelector:s}=this;if(!e||i)return;if(a){this.update(t,s),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=n;if(f){let c;o?(c=o,this.detachedTransformGroup=null):c=st("g").addClass("highlight-transform").append(r),this.transformGroup=c,u.getLayerView(f).insertSortedNode(c.node,n.z)}else(!r.parentNode||r.nextSibling)&&l.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=n.multiply(i);e.attr("transform",st.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Vn(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;Vn(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const o=[];if(!i)return o;for(let a in i){const s=i[a];s instanceof this&&o.push(s)}return o}else{if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=ls.get(e,r);i&&i.remove();const o=new this(n);return o.id=r,this._addRef(e,r,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let o=i[n];o||(o=i[n]={}),o[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let o in i)return;delete n[r]}},remove(e,t=null){Ap(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const o=r[n][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,r=!1){Ap(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){Ap(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){Ap(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){Ap(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return st.ensureId(e)+JSON.stringify(t)}}),bd={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Nue={TOOLS:"TOOLS"},hr=ec.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,o,a=Vn(this,"presentationAttributes");for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];for(Array.isArray(l)||(l=[l]),n=0,i=l.length;n<i;n++){o=l[n];var u=e[o];u||(u=e[o]=1<<r++),t[s]|=u}}var f=Vn(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)o=f[n],e[o]||(e[o]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||Zd(this),ec.call(this,e)},initialize:function(){this.setFlags(),ec.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=d_(e),n=r.selectors,i=r.groupSelectors;for(var o in i){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=i[o]}if(t){var a=this.selector;if(n[a])throw new Error("dia.CellView: ambiguous root selector.");n[a]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=dn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Gr(t)&&t[e]!==!1||jle(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return Lr(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return st.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():st.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return st.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=st.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=st.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,o=n.height/2;e=e.translate(i,o).rotate(r).translate(-i,-o)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let o;switch(!0){case r.embedding:o=bd.EMBEDDING;break;case r.connecting:o=bd.CONNECTING;break;case r.magnetAvailability:o=bd.MAGNET_AVAILABILITY;break;case r.elementAvailability:o=bd.ELEMENT_AVAILABILITY;break;default:o=bd.DEFAULT;break}r.type=o}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=st(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,o=n.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,r,o,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),a={id:n};return o!=null&&(a.magnet=o),i!=null?(a.port=i,!r.hasPort(i)&&!o&&(a.selector=this.getSelector(e))):o==null&&this.el!==e&&(a.selector=this.getSelector(e)),this.customizeLinkEnd(a,e,...t)},customizeLinkEnd:function(e,t,r,n,i,o){const{paper:a}=this,{connectionStrategy:s}=a.options;if(typeof s=="function"){var l=s.call(a,e,this,t,new ze(r,n),i,o,a);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,o;return r!=null&&i.isElement()&&i.hasPort(r)?o=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),o=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var o=this.paper,a=o.options.magnetThreshold,s=this.getEventTarget(e),l=n.targetMagnet;if(a==="onleave"){if(l===s||st(l).contains(s))return}else if(o.eventData(e).mousemoved<=a)return;this.dragLinkStart(e,l,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){jl(t)||(e instanceof SVGElement?st(e).attr(t):Lr(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,o,a,s,l,u,f,c=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!dn(i.qualify)||i.qualify.call(this,n,e,t,this))?(zi(i.set)&&(s||(s={}),s[i.set]=n),n!==null&&c.push(r,i)):(s||(s={}),s[Wle(r)]=n));for(o=0,a=c.length;o<a;o+=2)r=c[o],i=c[o+1],n=t[r],dn(i.set)&&(l||(l={}),l[r]=n),dn(i.position)&&(u||(u={}),u[r]=n),dn(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:s,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,o,a,s=t.raw||{},l=t.normal||{},u=t.set,f=t.position,c=t.offset;for(i in u){o=u[i],a=this.getAttributeDefinition(i);var h=a.set.call(this,o,r.clone(),e,s,this);Gr(h)?Gt(l,h):h!==void 0&&(l[i]=h)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var g=l.transform,m=st.transformStringToMatrix(g),_=ze(m.e,m.f);g&&(l=lg(l,"transform"),m.e=m.f=0);var v,p,S;if(f||c){var y=this.getNodeScale(e,n.scalableNode);v=y.sx,p=y.sy}var E=!1;for(i in f)o=f[i],a=this.getAttributeDefinition(i),S=a.position.call(this,o,r.clone(),e,s,this),S&&(_.offset(ze(S).scale(v,p)),E||(E=!0));this.setNodeAttributes(e,l);var $=!1;if(c){var T=this.getNodeBoundingRect(e);if(T.width>0&&T.height>0){var d=st.transformRect(T,m).scale(1/v,1/p);for(i in c)o=c[i],a=this.getAttributeDefinition(i),S=a.offset.call(this,o,d,e,s,this),S&&(_.offset(ze(S).scale(v,p)),$||($=!0))}}(g!==void 0||E||$)&&(_.round(1),m.e=_.x,m.f=_.y,e.setAttribute("transform",st.matrixToTransformString(m)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=st.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=st(e).getBBox()),new Pt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=st(e).getTransformToElement(i)}return st.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=st(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,o,a,s,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(a=e[f],!!qn(a))){var c=r[f]=this.findBySelector(f,t,n);for(i=0,o=c.length;i<o;i++){var h=c[i];s=st.ensureId(h);var g=n&&n[f]===h,m=l[s];if(m){m.array||(u.push(s),m.array=!0,m.attributes=[m.attributes],m.selectedLength=[m.selectedLength]);var _=m.attributes,v=m.selectedLength;if(g)_.unshift(a),v.unshift(-1);else{var p=ZH(v,o);_.splice(p,0,a),v.splice(p,0,o)}}else l[s]={attributes:a,selectedLength:g?-1:o,node:h,array:!1}}}for(i=0,o=u.length;i<o;i++)s=u[i],a=l[s],a.attributes=ni({},...a.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:o=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=Pt()),r.selectors||(r.selectors=this.selectors);var n={},i={},o=[],a=[],s,l,u,f,c,h=r.roAttributes,g=this.findNodesAttributes(h||t,e,n,r.selectors),m=h?this.findNodesAttributes(t,e,n,r.selectors):g;for(var _ in g)if(f=g[_],u=f.attributes,l=f.node,c=this.processNodeAttributes(l,u),!c.set&&!c.position&&!c.offset)this.setNodeAttributes(l,c.normal);else{var v=m[_]&&m[_].attributes,p=v&&u.ref===void 0?v.ref:u.ref,S;if(p){if(S=(n[p]||this.findBySelector(p,e,r.selectors))[0],!S)throw new Error('dia.CellView: "'+p+'" reference does not exist.')}else S=null;if(s={node:l,refNode:S,processedAttributes:c,allAttributes:v},S){var y=a.findIndex(function(E){return E.refNode===l});y>-1?a.splice(y,0,s):a.push(s)}else o.push(s)}o.push(...a);for(let E=0,$=o.length;E<$;E++){s=o[E],l=s.node,S=s.refNode;const T=S?st.ensureId(S):"";let d=i[T];d||(d=i[T]=S?st(S).getBBox({target:Iue(l,S)}):r.rootBBox),h?(c=this.processNodeAttributes(l,s.allAttributes),this.mergeProcessedAttributes(c,s.processedAttributes)):c=s.processedAttributes,this.updateRelativeAttributes(l,c,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Gt(e.set,t.set),Gt(e.position,t.position),Gt(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),ls.mount(this))},onDetach(){this.unmountTools(),ls.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){ls.remove(this)},updateHighlighters:function(e=!1){ls.update(this,null,e)},transformHighlighters:function(){ls.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const o=r.getSourceElement();if(o){const s=t.findViewByModel(o);s&&(t.dumpView(s),t.checkViewVisibility(s))}const a=r.getTargetElement();if(a){const s=t.findViewByModel(a);s&&(t.dumpView(s),t.checkViewVisibility(s))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:Nue,Highlighting:bd,addPresentationAttributes:function(e){return ni({},Vn(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return Kg(t.concat(r))})}});function Iue(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const Sr={TOOLS:hr.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},_d={MOVE:"move",MAGNET:"magnet"},Vw=hr.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=hr.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){hr.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Sr.UPDATE],position:[Sr.TRANSLATE,Sr.TOOLS],size:[Sr.RESIZE,Sr.PORTS,Sr.TOOLS],angle:[Sr.ROTATE,Sr.TOOLS],markup:[Sr.RENDER],ports:[Sr.PORTS]},initFlag:[Sr.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,Sr.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,Sr.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[Sr.RENDER,Sr.UPDATE,Sr.RESIZE,Sr.TRANSLATE,Sr.ROTATE,Sr.PORTS,Sr.TOOLS]);else{let n=!1;this.hasFlag(e,Sr.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[Sr.RESIZE,Sr.UPDATE]),e=this.removeFlag(e,Sr.PORTS)),this.hasFlag(e,Sr.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Sr.UPDATE),n=!0,e=this.removeFlag(e,Sr.PORTS)),this.hasFlag(e,Sr.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Sr.TRANSLATE),r=!0),this.hasFlag(e,Sr.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Sr.ROTATE),r=!0),this.hasFlag(e,Sr.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,Sr.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,Sr.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Sr.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new Pt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=st(r[this.rotatableSelector])||null,this.scalableNode=st(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(st(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var a=i.getBBox({recursive:o}),s=n.width/(a.width||1),l=n.height/(a.height||1);i.attr("transform","scale("+s+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var c=i.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},Gt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),a=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...a].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const s=n.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);a.forEach(u=>{u.attributes.z<=s&&u.set("z",s+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(n.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,o=e.paper||this.paper,a=o.model,{findParentBy:s,frontParentOnly:l,validateEmbedding:u}=o.options;let f;dn(s)?f=$r(s.call(a,this,t,r,n)):s==="pointer"?f=$r(a.findModelsFromPoint({x:r,y:n})):f=a.findModelsUnderElement(i,{searchBy:s}),f=f.filter(g=>g instanceof nl&&i.id!==g.id&&!g.isEmbeddedIn(i)),l&&(f=f.slice(-1));let c=null;const h=e.candidateEmbedView;for(let g=f.length-1;g>=0;g--){const m=f[g];if(h&&h.model.id==m.id){c=h;break}else{const _=m.findView(o);if(!dn(u)||u.call(o,this,_)){c=_;break}}}c&&c!=h&&(this.clearEmbedding(e),e.candidateEmbedView=c.highlight(c.findProxyNode(null,"container"),{embedding:!0})),!c&&h&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,o=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:a,initialPosition:s,initialZIndices:l}=e;if(s){const{x:f,y:c}=s;n.position(f,c,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const c=o.getCell(f);c&&c.set("z",l[f],{ui:!0})});const u=o.getCell(a);u&&u.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){hr.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){hr.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),hr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){hr.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){hr.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){hr.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:a}=n;switch(i&&this.magnetpointermove(e,i,t,r),o){case _d.MAGNET:this.dragMagnet(e,t,r);break;case _d.MOVE:(a||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:a}=n;switch(i&&this.magnetpointerup(e,i,t,r),o){case _d.MAGNET:this.dragMagnetEnd(e,t,r);break;case _d.MOVE:(a||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){hr.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){hr.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){hr.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){hr.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){hr.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:_d.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,o,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,r),this.eventData(e,{action:_d.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,o=this.model,a=this.eventData(e),{pointerOffset:s,restrictedArea:l,embedding:u}=a,f=kf(t+s.x,i),c=kf(r+s.y,i);o.position(f,c,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(u||(this.prepareEmbedding(a),u=!0),this.processEmbedding(a,e,t,r)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:Sr});Gt(Vw.prototype,Oue);const jue=function(e,t,r){return e},Cue=function(e,t,r){var n=t.side||"bottom",i=Mf(t.padding||40),o=r.sourceBBox,a=r.targetBBox,s=o.center(),l=a.center(),u,f,c;switch(n){case"bottom":c=1,u="y",f="height";break;case"top":c=-1,u="y",f="height";break;case"left":c=-1,u="x",f="width";break;case"right":c=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return s[u]+=c*(o[f]/2+i[n]),l[u]+=c*(a[f]/2+i[n]),c*(s[u]-l[u])>0?l[u]=s[u]:s[u]=l[u],[s].concat(e,l)};var kue={N:"S",S:"N",E:"W",W:"E"},Due={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function h_(e,t,r){var n=new ze(e.x,t.y);return r.containsPoint(n)&&(n=new ze(t.x,e.y)),n}function QO(e,t){return e[t==="W"||t==="E"?"width":"height"]}function no(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function ry(e){return new Pt(e.x,e.y,0,0)}function p_(e){var t=Mf(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function hW(e,t){return e.sourceBBox.clone().moveAndExpand(p_(t))}function pW(e,t){return e.targetBBox.clone().moveAndExpand(p_(t))}function Mue(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=hW(e,t);return r.center()}function Lue(e,t){if(e.targetAnchor)return e.targetAnchor;var r=pW(e,t);return r.center()}function mW(e,t,r){var n=new ze(e.x,t.y),i=new ze(t.x,e.y),o=no(e,n),a=no(e,i),s=kue[r],l=o===r||o!==s&&(a===s||a!==r)?n:i;return{points:[l],direction:no(l,t)}}function Hw(e,t,r){var n=h_(e,t,r);return{points:[n],direction:no(n,t)}}function Fue(e,t,r,n){var i={},o=[new ze(e.x,t.y),new ze(t.x,e.y)],a=o.filter(function(c){return!r.containsPoint(c)}),s=a.filter(function(c){return no(c,e)!==n}),l;if(s.length>0)l=s.filter(function(c){return no(e,c)===n}).pop(),l=l||s[0],i.points=[l],i.direction=no(l,t);else{l=Ble(o,a)[0];var u=new ze(t).move(l,-QO(r,n)/2),f=h_(u,e,r);i.points=[f,u],i.direction=no(u,t)}return i}function Bue(e,t,r,n){var i=Hw(t,e,n),o=i.points[0];if(r.containsPoint(o)){i=Hw(e,t,r);var a=i.points[0];if(n.containsPoint(a)){var s=new ze(e).move(a,-QO(r,no(e,a))/2),l=new ze(t).move(o,-QO(n,no(t,o))/2),u=new Nt(s,l).midpoint(),f=Hw(e,u,r),c=mW(u,t,f.direction);i.points=[f.points[0],c.points[0]],i.direction=c.direction}}return i}function $1(e,t,r,n,i){var o={},a=r.union(n).inflate(1),s=a.center().distance(t)>a.center().distance(e),l=s?t:e,u=s?e:t,f,c,h;return i?(f=ze.fromPolar(a.width+a.height,Due[i],l),f=a.pointNearestToPoint(f).move(f,-1)):f=a.pointNearestToPoint(l).move(l,1),c=h_(f,u,a),f.round().equals(c.round())?(c=ze.fromPolar(a.width+a.height,Oo(f.theta(l))+Math.PI/2,u),c=a.pointNearestToPoint(c).move(u,1).round(),h=h_(f,c,a),o.points=s?[c,h,f]:[f,h,c]):o.points=s?[c,f]:[f,c],o.direction=no(s?f:c,t),o}function ZO(e,t,r){var n=hW(r,t),i=pW(r,t),o=Mue(r,t),a=Lue(r,t);n=n.union(ry(o)),i=i.union(ry(a)),e=$r(e).map(ze),e.unshift(o),e.push(a);for(var s,l=[],u=0,f=e.length-1;u<f;u++){var c=null,h=e[u],g=e[u+1],m=!!no(h,g);if(u===0)u+1===f?n.intersect(i.clone().inflate(1))?c=$1(h,g,n,i):m||(c=Bue(h,g,n,i)):n.containsPoint(g)?c=$1(h,g,n,ry(g).moveAndExpand(p_(t))):m||(c=Hw(h,g,n));else if(u+1===f){var _=m&&no(g,h)===s;i.containsPoint(h)||_?c=$1(h,g,ry(h).moveAndExpand(p_(t)),i,s):m||(c=Fue(h,g,i,s))}else m||(c=mW(h,g,s));c?(Array.prototype.push.apply(l,c.points),s=c.direction):s=no(h,g),u+1<f&&l.push(g)}return l}var gW={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!dn(ZO))throw new Error("Manhattan requires the orthogonal router as default fallback.");return ZO(e,Gt({},gW,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function tj(e){this.map={},this.options=e,this.mapGridSize=100}tj.prototype.build=function(e,t){var r=this.options,n=$r(r.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var c=e.getCell(f.id);c&&l.push(c)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=GO(i,o.getAncestors().map(function(l){return l.id})));var a=e.getCell(t.get("target").id);a&&(i=GO(i,a.getAncestors().map(function(l){return l.id})));var s=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=$r(r.excludeTypes).includes(u.get("type")),c=n.find(function(E){return E.id===u.id}),h=i.includes(u.id),g=f||c||h;if(!g)for(var m=u.getBBox().moveAndExpand(r.paddingBox),_=m.origin().snapToGrid(s),v=m.corner().snapToGrid(s),p=_.x;p<=v.x;p+=s)for(var S=_.y;S<=v.y;S+=s){var y=p+"@"+S;l[y]=l[y]||[],l[y].push(m)}return l},this.map),this};tj.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return $r(this.map[t]).every(function(r){return!r.containsPoint(e)})};function Yf(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Yf.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=ZH(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};Yf.prototype.remove=function(e){this.hash[e]=this.CLOSE};Yf.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Yf.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Yf.prototype.isEmpty=function(){return this.items.length===0};Yf.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function vW(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function yW(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function wW(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=vW(e,t);return r.center()}function Uue(e,t){if(e.targetAnchor)return e.targetAnchor;var r=yW(e,t);return r.center()}function T1(e,t,r,n,i){var o=360/r,a=e.theta(zue(e,t,n,i)),s=ms(a+o/2);return o*Math.floor(s/o)}function zue(e,t,r,n){var i=n.step,o=t.x-e.x,a=t.y-e.y,s=o/r.x,l=a/r.y,u=s*i,f=l*i;return new ze(e.x+u,e.y+f)}function dL(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function que(e,t,r){var n=r.step;$r(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function Vue(e,t,r){return{source:t.clone(),x:hL(r.x-t.x,e),y:hL(r.y-t.y,e)}}function hL(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,o=r-i,a=o/n;return t+a}function Hue(e,t){var r=t.source,n=kf(e.x-r.x,t.x)+r.x,i=kf(e.y-r.y,t.y)+r.y;return new ze(n,i)}function Xp(e,t){return e.round(t)}function Ww(e,t,r){return Xp(Hue(e.clone(),t),r)}function wm(e){return e.clone().toString()}function A1(e){return new ze(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function Wue(e,t,r,n,i,o,a){for(var s=[],l=A1(i.difference(r)),u=wm(r),f=e[u],c;f;){c=t[u];var h=A1(c.difference(f));h.equals(l)||(s.unshift(c),l=h),u=wm(f),f=e[u]}var g=t[u],m=A1(g.difference(n));return m.equals(l)||s.unshift(g),s}function pL(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var o=e.manhattanDistance(t[n]);o<r&&(r=o)}return r}function mL(e,t,r,n,i){var o=i.precision,a=i.directionMap,s=e.difference(t.center()),l=Gr(a)?Object.keys(a):[],u=$r(r),f=l.reduce(function(c,h){if(u.includes(h)){for(var g=a[h],m=new ze(e.x+g.x*(Math.abs(s.x)+t.width),e.y+g.y*(Math.abs(s.y)+t.height)),_=new Nt(e,m),v=_.intersect(t)||[],p=v.length,S,y=null,E=0;E<p;E++){var $=v[E],T=e.squaredDistance($);(S===void 0||T>S)&&(S=T,y=$)}if(y){var d=Ww(y,n,o);t.containsPoint(d)&&(d=Ww(d.offset(g.x*n.x,g.y*n.y),n,o)),c.push(d)}}return c},[]);return t.containsPoint(e)||f.push(Ww(e,n,o)),f}function Gue(e,t,r,n){var i=n.precision,o,a;e instanceof Pt?o=Xp(wW(this,n).clone(),i):o=Xp(e.clone(),i),t instanceof Pt?a=Xp(Uue(this,n).clone(),i):a=Xp(t.clone(),i);var s=Vue(n.step,o,a),l,u,f,c;if(e instanceof Pt?(l=o,f=mL(l,e,n.startDirections,s,n)):(l=o,f=[l]),t instanceof Pt?(u=a,c=mL(a,t,n.endDirections,s,n)):(u=a,c=[u]),f=f.filter(Ne=>!r(Ne)),c=c.filter(Ne=>!r(Ne)),f.length>0&&c.length>0){for(var h=new Yf,g={},m={},_={},v=0,p=f.length;v<p;v++){var S=f[v],y=wm(S);h.add(y,pL(S,c)),g[y]=S,_[y]=0}var E=n.previousDirectionAngle,$=E===void 0,T,d,A=n.directions;que(A,s,n);for(var x=A.length,O=$r(c).reduce(function(Ne,R){var D=wm(R);return Ne.push(D),Ne},[]),C=n.maximumLoops;!h.isEmpty()&&C>0;){var F=h.pop(),V=g[F],Q=m[F],H=_[F],X=Q===void 0,ce=V.equals(l),Z;X?$?ce?Z=null:Z=T1(l,V,x,s,n):Z=E:Z=T1(Q,V,x,s,n);var ie=f.length===c.length;if(ie){for(var k=0;k<f.length;k++)if(!f[k].equals(c[k])){ie=!1;break}}var B=X&&ie;if(!B&&O.indexOf(F)>=0)return n.previousDirectionAngle=Z,Wue(m,g,V,l,u);for(v=0;v<x;v++){T=A[v];var G=T.angle;if(d=dL(Z,G),!(!($&&ce)&&d>n.maxAllowedDirectionChange)){var P=Ww(V.clone().offset(T.gridOffsetX,T.gridOffsetY),s,i),N=wm(P);if(!(h.isClose(N)||r(P))){if(O.indexOf(N)>=0){var q=P.equals(u);if(!q){var oe=T1(P,u,x,s,n),J=dL(G,oe);if(J>n.maxAllowedDirectionChange)continue}}var Y=T.cost,se=ce?0:n.penalties[d],be=H+Y+se;(!h.isOpen(N)||be<_[N])&&(g[N]=P,m[N]=V,_[N]=be,h.add(N,be+pL(P,c)))}}}C--}}return n.fallbackRoute.call(this,l,u,n)}function Kue(e){if(e.directions=Vn(e,"directions"),e.penalties=Vn(e,"penalties"),e.paddingBox=Vn(e,"paddingBox"),e.padding=Vn(e,"padding"),e.padding){var t=Mf(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}$r(e.directions).forEach(function(r){var n=new ze(0,0),i=new ze(r.offsetX,r.offsetY);r.angle=ms(n.theta(i))})}function Jue(e,t,r){Kue(t),r.options.perpendicular=!!t.perpendicular;var n=vW(r,t),i=yW(r,t),o=wW(r,t);let a;if(typeof t.isPointObstacle=="function")a=t.isPointObstacle;else{const y=new tj(t);y.build(r.paper.model,r.model),a=E=>!y.isPointAccessible(E)}for(var s=$r(e).map(ze),l=[],u=o,f,c,h=0,g=s.length;h<=g;h++){var m=null;if(c=f||n,f=s[h],!f){f=i;var _=!r.model.get("source").id||!r.model.get("target").id;if(_&&dn(t.draggingRoute)){var v=c===n?o:c,p=f.origin();m=t.draggingRoute.call(r,v,p,t)}}if(m=m||Gue.call(r,c,f,a,t),m===null)return t.fallbackRouter(e,t,r);var S=m[0];S&&S.equals(u)&&m.shift(),u=m[m.length-1]||u,Array.prototype.push.apply(l,m)}return l}const eP=function(e,t,r){return Jue(e,Gt({},gW,t),r)};var Yue={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],o={x:t.x,y:e.y},a={x:e.x,y:t.y};if(n%180>90){var s=o;o=a,a=s}var l=n%90<45?o:a,u=new Nt(e,l),f=90*Math.ceil(n/90),c=ze.fromPolar(u.squaredLength(),Oo(f+135),l),h=new Nt(t,c),g=u.intersection(h),m=g||t,_=g?m:e,v=360/r.directions.length,p=_.theta(t),S=ms(p+v/2),y=v*Math.floor(S/v);return r.previousDirectionAngle=y,m&&i.push(m.round()),i.push(t),i}};const Xue=function(e,t,r){if(!dn(eP))throw new Error("Metro requires the manhattan router.");return eP(e,Gt({},Yue,t),r)},mt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},gL=[mt.LEFT,mt.RIGHT,mt.TOP,mt.BOTTOM],eh={[mt.LEFT]:mt.RIGHT,[mt.RIGHT]:mt.LEFT,[mt.TOP]:mt.BOTTOM,[mt.BOTTOM]:mt.TOP},Que=[mt.TOP,mt.BOTTOM],ny={0:mt.RIGHT,180:mt.LEFT,270:mt.TOP,90:mt.BOTTOM};function Qp(e){return e.angle()}function iy(e){return new cn(e).simplify({threshold:1}).points}function m_(e,t){const{point:r,x0:n,y0:i,view:o,bbox:a,direction:s}=e,{point:l,x0:u,y0:f,view:c,bbox:h,direction:g}=t;let m;if(o)o.model.isLink()?m=vL(l,r,o):s===mt.ANCHOR_SIDE?m=a.sideNearestToPoint(r):s===mt.MAGNET_SIDE?m=o.model.getBBox().sideNearestToPoint(r):m=s;else{const v=new Pt(n,i,0,0);m=gL.includes(s)?s:v.sideNearestToPoint(l)}let _;if(c)c.model.isLink()?_=vL(r,l,c):g===mt.ANCHOR_SIDE?_=h.sideNearestToPoint(l):g===mt.MAGNET_SIDE?_=c.model.getBBox().sideNearestToPoint(l):_=g;else{const v=new Pt(u,f,0,0);_=gL.includes(g)?g:v.sideNearestToPoint(r)}return[m,_]}function Zue(e,t,r){const{x0:n,y0:i,width:o,height:a,point:s,margin:l}=e,u=n+o,f=i+a,c=n-l,h=u+l,g=i-l,{x:m}=s,{x0:_,y0:v}=t;return _===m&&v<i?mt.BOTTOM:_<m&&v<g?mt.RIGHT:_>m&&v<g?mt.LEFT:_<c&&v>=i||_>h&&v>=i?mt.TOP:_>=c&&_<=m&&v>f||_<=h&&_>=m&&v>f?r.point.x<_?mt.RIGHT:mt.LEFT:mt.TOP}function ece(e,t,r){const{x0:n,y0:i,width:o,height:a,point:s,margin:l}=e,u=n+o,f=i+a,c=n-l,h=u+l,g=f+l,{x:m}=s,{x0:_,y0:v}=t;return _===m&&v>f?mt.TOP:_<m&&v>g?mt.RIGHT:_>m&&v>g?mt.LEFT:_<c&&v<=f||_>h&&v<=f?mt.BOTTOM:_>=c&&_<=m&&v<i||_<=h&&_>=m&&v<i?r.point.x<_?mt.RIGHT:mt.LEFT:mt.BOTTOM}function tce(e,t,r){const{y0:n,x0:i,width:o,height:a,point:s,margin:l}=e,u=i+o,f=n+a,c=i-l,h=n-l,g=f+l,{x:m,y:_}=s,{x0:v,y0:p}=t;return v<m&&p===_?mt.RIGHT:v<=c&&p<_?mt.BOTTOM:v<=c&&p>_?mt.TOP:v>=i&&p<=h||v>=i&&p>=g?mt.LEFT:v>u&&p>=h&&p<=_||v>u&&p<=g&&p>=_?r.point.y<p?mt.BOTTOM:mt.TOP:mt.LEFT}function rce(e,t,r){const{y0:n,x0:i,width:o,height:a,point:s,margin:l}=e,u=i+o,f=n+a,c=u+l,h=n-l,g=f+l,{x:m,y:_}=s,{x0:v,y0:p}=t;return v>m&&p===_?mt.LEFT:v>=c&&p<_?mt.BOTTOM:v>=c&&p>_?mt.TOP:v<=u&&p<=h||v<=u&&p>=g?mt.RIGHT:v<i&&p>=h&&p<=_||v<i&&p<=g&&p>=_?r.point.y<p?mt.BOTTOM:mt.TOP:mt.RIGHT}function nce(e,t,r){const[n]=m_(e,t);switch(n){case mt.TOP:return Zue(e,t,r);case mt.RIGHT:return rce(e,t,r);case mt.BOTTOM:return ece(e,t,r);case mt.LEFT:return tce(e,t,r)}}function vL(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(Qp(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?mt.LEFT:mt.RIGHT;if(e.x===t.x)return e.y<t.y?mt.TOP:mt.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?mt.TOP:mt.BOTTOM;case 90:case 270:return e.x<t.x?mt.LEFT:mt.RIGHT}}function yL(e,t,r,n,i,o,a){n===mt.AUTO&&(n=i?mt.MAGNET_SIDE:mt.ANCHOR_SIDE);const s=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:c=0}=s?Pt.fromRectUnion(r,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:r,width:f,height:c,direction:n,margin:s?a:0}}function x1({x:e,y:t}){const r=new ze(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new Pt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function wL(e,t,r){const n=t.point.clone(),{x0:i,y0:o,width:a,height:s}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+a+r;break;case"top":n.y=o-r;break;case"bottom":n.y=o+s+r;break}return n}function mu(e,t){const{point:r,x0:n,y0:i,view:o,width:a,height:s,margin:l}=e,{point:u,x0:f,y0:c,width:h,height:g,margin:m}=t,_=f+h,v=c+g,p=n+a,S=i+s,y=o&&o.model.isElement(),E=n-l,$=p+l,T=i-l,d=S+l,A=f-m,x=_+m,O=c-m,C=v+m,[F,V]=m_(e,t),Q=wL(F,{point:r,x0:n,y0:i,width:a,height:s},l),H=wL(V,{point:u,x0:f,y0:c,width:h,height:g},m),{x:X,y:ce}=Q,{x:Z,y:ie}=H,k=(f+_)/2,B=(c+v)/2,G=(n+p)/2,P=(i+S)/2,N=(G<k?p+f:_+n)/2,q=(P<B?S+c:v+i)/2;if(F==="left"&&V==="right"){if(E<=x){let J=q;return p<=f&&(v>=T&&ie<ce?J=Math.min(O,T):c<=d&&ie>=ce&&(J=Math.max(C,d))),[{x:X,y:ce},{x:X,y:J},{x:Z,y:J},{x:Z,y:ie}]}const oe=(X+Z)/2;return[{x:oe,y:ce},{x:oe,y:ie}]}else if(F==="right"&&V==="left"){if($>=A){let J=q;return X>_&&(v>=T&&ie<ce?J=Math.min(O,T):c<=d&&ie>=ce&&(J=Math.max(C,d))),[{x:X,y:ce},{x:X,y:J},{x:Z,y:J},{x:Z,y:ie}]}const oe=(X+Z)/2;return[{x:oe,y:ce},{x:oe,y:ie}]}else if(F==="top"&&V==="bottom"){if(ce<ie){let J=N,Y=ce;return ce<c&&(_>=E&&Z<X?J=Math.min(A,E):f<=$&&Z>=X&&(J=Math.max(x,$))),[{x:X,y:Y},{x:J,y:Y},{x:J,y:ie},{x:Z,y:ie}]}const oe=(ce+ie)/2;return[{x:X,y:oe},{x:Z,y:oe}]}else if(F==="bottom"&&V==="top"){if(ce-l>ie){let J=N,Y=ce;return ce>v&&(_>=E&&Z<X?J=Math.min(A,E):f<=$&&Z>=X&&(J=Math.max(x,$))),[{x:X,y:Y},{x:J,y:Y},{x:J,y:ie},{x:Z,y:ie}]}const oe=(ce+ie)/2;return[{x:X,y:oe},{x:Z,y:oe}]}else if(F==="top"&&V==="top"){let oe,J=Math.min((S+c)/2,ie),Y=Math.min((i+v)/2,ce);if(ie<ce){if(X>=x||X<=A)return[{x:X,y:Math.min(ce,ie)},{x:Z,y:Math.min(ce,ie)}];Z>X?oe=Math.min(X,A):oe=Math.max(X,x)}else{if(Z>=$||Z<=E)return[{x:X,y:Math.min(ce,ie)},{x:Z,y:Math.min(ce,ie)}];Z>=X?oe=Math.max(Z,$):oe=Math.min(Z,E)}return[{x:X,y:Y},{x:oe,y:Y},{x:oe,y:J},{x:Z,y:J}]}else if(F==="bottom"&&V==="bottom"){let oe,J=Math.max((i+v)/2,ie),Y=Math.max((S+c)/2,ce);if(ie>ce){if(X>=x||X<=A)return[{x:X,y:Math.max(ce,ie)},{x:Z,y:Math.max(ce,ie)}];Z>X?oe=Math.min(X,A):oe=Math.max(X,x)}else{if(Z>=$||Z<=E)return[{x:X,y:Math.max(ce,ie)},{x:Z,y:Math.max(ce,ie)}];Z>=X?oe=Math.max(Z,$):oe=Math.min(Z,E)}return[{x:X,y:Y},{x:oe,y:Y},{x:oe,y:J},{x:Z,y:J}]}else if(F==="left"&&V==="left"){let oe,J=Math.min((p+f)/2,Z),Y=Math.min((n+_)/2,X);return Z>X?ie<=ce?oe=Math.min(T,ie):oe=Math.max(d,ie):ie>=ce?oe=Math.min(O,ce):oe=Math.max(C,ce),[{x:Y,y:ce},{x:Y,y:oe},{x:J,y:oe},{x:J,y:ie}]}else if(F==="right"&&V==="right"){let oe,J=Math.max((n+_)/2,Z),Y=Math.max((p+f)/2,X);return Z<X?ie<=ce?oe=Math.min(T,ie):oe=Math.max(d,ie):ie>=ce?oe=Math.min(O,ce):oe=Math.max(C,ce),[{x:Y,y:ce},{x:Y,y:oe},{x:J,y:oe},{x:J,y:ie}]}else if(F==="top"&&V==="right"){if(ce>ie){if(X<Z){let J=q;return(J>B||!y)&&J<C&&X<f&&(J=O),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ie}]}return[{x:X,y:ie}]}const oe=Math.max(N,x);if(Z<X&&ie>i&&ie<S)return[{x:X,y:ce},{x:oe,y:ce},{x:oe,y:ie}];if(oe>E&&ie>i||f>p){const J=Math.min(i-l,c-m),Y=Math.max(p+l,_+m);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ie}]}return[{x:X,y:ce},{x:Math.max(oe,Z),y:ce},{x:Math.max(oe,Z),y:ie}]}else if(F==="top"&&V==="left"){if(ce>ie){if(X>Z){let J=q;return(J>B||!y)&&J<C&&X>_&&(J=O),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ie}]}return[{x:X,y:ie}]}const oe=Math.min(A,N);if(X<Z&&S>=ie)return[{x:X,y:ce},{x:oe,y:ce},{x:oe,y:ie}];if(oe<$&&ce<v){const J=Math.min(T,O),Y=Math.min(E,A);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ie}]}return[{x:X,y:ce},{x:oe,y:ce},{x:oe,y:ie}]}else if(F==="bottom"&&V==="right"){if(ce<ie){if(X<Z){let J=q;return(J<B||!y)&&J>O&&X<f&&(J=C),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ie}]}return[{x:X,y:ie}]}else if(n<Z){const J=Math.max(d,C),Y=Math.max($,x);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ie}]}const oe=N;return[{x:X,y:ce},{x:oe,y:ce},{x:oe,y:ie}]}else if(F==="bottom"&&V==="left"){if(ce<ie){if(X>Z){let J=q;return(J<B||!y)&&J>O&&X>_&&(J=C),[{x:X,y:J},{x:Z,y:J},{x:Z,y:ie}]}return[{x:X,y:ie}]}else if(p>Z){const J=Math.max(d,C),Y=Math.min(E,A);return[{x:X,y:J},{x:Y,y:J},{x:Y,y:ie}]}const oe=N;return[{x:X,y:ce},{x:oe,y:ce},{x:oe,y:ie}]}else if(F==="left"&&V==="bottom"){if(X>=Z&&ce>=C)return[{x:Z,y:ce}];if(X>=_&&ce<ie){const Y=N;return[{x:Y,y:ce},{x:Y,y:ie},{x:Z,y:ie}]}if(Z<p&&v<=i){const Y=q;return[{x:X,y:ce},{x:X,y:Y},{x:Z,y:Y}]}const oe=Math.min(A,X),J=Math.max(d,C);return[{x:oe,y:ce},{x:oe,y:J},{x:Z,y:J}]}else if(F==="left"&&V==="top"){if(X>Z&&ce<O)return[{x:Z,y:ce}];if(X>=_&&ce>ie){const Y=N;return[{x:Y,y:ce},{x:Y,y:ie},{x:Z,y:ie}]}if(Z<=p&&ie>ce){const Y=q;return[{x:X,y:ce},{x:X,y:Y},{x:Z,y:Y}]}const oe=ie<ce?Math.min(E,A):E,J=Math.min(T,O);return[{x:oe,y:ce},{x:oe,y:J},{x:Z,y:J}]}else if(F==="right"&&V==="top"){if(X<=Z&&ce<O)return[{x:Z,y:ce}];if(p<f&&ce>ie){let Y=N;return[{x:Y,y:ce},{x:Y,y:ie},{x:Z,y:ie}]}if(Z<X&&c>S){const Y=q;return[{x:X,y:ce},{x:X,y:Y},{x:Z,y:Y}]}const oe=Math.max($,x),J=Math.min(T,O);return[{x:oe,y:ce},{x:oe,y:J},{x:Z,y:J}]}else if(F==="right"&&V==="bottom"){if(X<=Z&&ce>=C)return[{x:Z,y:ce}];if(X<=A&&ce<ie){const Y=N;return[{x:Y,y:ce},{x:Y,y:ie},{x:Z,y:ie}]}if(Z>n&&v<i){const Y=q;return[{x:X,y:ce},{x:X,y:Y},{x:Z,y:Y}]}const oe=Math.max(x,X),J=Math.max(d,C);return[{x:oe,y:ce},{x:oe,y:J},{x:Z,y:J}]}}function bW(e,t,r){const{sourceDirection:n=mt.AUTO,targetDirection:i=mt.AUTO}=t,o=t.margin||20,a=t.useVertices||!1,s=!!r.model.source().port,l=yL(r.sourceView,r.sourceAnchor,r.sourceBBox,n,s,r.sourceAnchor,o),u=!!r.model.target().port,f=yL(r.targetView,r.targetAnchor,r.targetBBox,i,u,r.targetAnchor,o);let c=[];if(!a||e.length===0)return iy(mu(l,f));const h=e.map(_=>x1(_)),[g]=h;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(g.point)){const[_]=m_(l,g),v=_,p=x1(l.point);p.margin=o,p.direction=_,g.direction=v,c.push(...mu(p,g),g.point)}else{const _=h[1]||f,v=nce(l,g,_);g.direction=v,c.push(...mu(l,g),g.point)}for(let _=0;_<h.length-1;_++){const v=h[_],p=h[_+1],S=new Nt(v.point,p.point),y=Qp(S);if(y%90===0){const T=ny[y],d=eh[T];if(T!==v.direction)c.push(v.point,p.point),p.direction=d;else{const A=ms(y-90);let x=0,O=0;A===90?O=-o:A===180?x=-o:A===270?O=o:A===0&&(x=o);const C={x:v.point.x+x,y:v.point.y+O},F={x:p.point.x+x,y:p.point.y+O},V=new Nt(p.point,F);p.direction=ny[Qp(V)],c.push(v.point,C,F,p.point)}continue}const[E,$]=O1(v,p);v.direction=E,p.direction=$,c.push(...mu(v,p),p.point)}const m=h[h.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(m.point)){const[_]=O1(m,f),v=x1(f.point),[,p]=m_(m,f);v.margin=o,v.direction=p,m.direction=_,c.push(...mu(m,v))}else{const _=iy(c),v=new Nt(_[_.length-2],m.point),p=ny[Math.round(Qp(v))];m.direction=p;let S=mu(m,f);const[y,E]=iy([...S,f.point]),$=new Nt(y,E),T=Math.round(Qp($)),d=ny[T];d!==p&&p===eh[d]&&(m.margin=o,S=mu(m,f)),c.push(...S)}else{const[_]=O1(m,f);m.direction=_,c.push(...mu(m,f))}return iy(c)}function O1(e,t){const r=e.direction,n=Que.includes(r);let i=e.direction,o=t.direction;if(n){const a=e.point.y>t.point.y,s=t.point.x-e.point.x;r===mt.BOTTOM?(i=a?eh[r]:s>=0?mt.RIGHT:mt.LEFT,s>0?o=a?mt.LEFT:mt.TOP:s<0&&(o=a?mt.RIGHT:mt.TOP)):(i=a?s>=0?mt.RIGHT:mt.LEFT:eh[r],s>0?o=a?mt.BOTTOM:mt.LEFT:s<0&&(o=a?mt.BOTTOM:mt.RIGHT))}else{const a=e.point.x>t.point.x,s=t.point.y-e.point.y;r===mt.RIGHT?(i=a?eh[r]:s>=0?mt.BOTTOM:mt.TOP,s>0?o=a?mt.TOP:mt.LEFT:s<0&&(o=a?mt.BOTTOM:mt.LEFT)):(i=a?s>=0?mt.BOTTOM:mt.TOP:eh[r],s>0?o=a?mt.RIGHT:mt.TOP:s<0&&(o=a?mt.RIGHT:mt.BOTTOM))}return[i,o]}bW.Directions=mt;const ice=bW,oce=Object.freeze(Object.defineProperty({__proto__:null,manhattan:eP,metro:Xue,normal:jue,oneSide:Cue,orthogonal:ZO,rightAngle:ice},Symbol.toStringTag,{value:"Module"})),Dd={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},ace=Object.values(Dd),sce=10,lce=1,rj=function(e,t,r=[],n={}){const{cornerType:i=Dd.POINT,cornerRadius:o=sce,cornerPreserveAspectRatio:a=!1,precision:s=lce,raw:l=!1}=n;if(ace.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===Dd.POINT||!o){const f=[e].concat(r).concat([t]),c=new cn(f);u=new Bt(c)}else{u=new Bt,u.appendSegment(Bt.createSegment("M",e));let f;const c=r.length;for(let h=0;h<c;h++){const g=new ze(r[h]),m=r[h-1]||e,_=r[h+1]||t,v=f||g.distance(m)/2;f=g.distance(_)/2;let p,S;a?p=S=-Math.min(o,v,f):(p=-Math.min(o,v),S=-Math.min(o,f));const y=g.clone().move(m,p).round(s),E=g.clone().move(_,S).round(s);switch(u.appendSegment(Bt.createSegment("L",y)),i){case Dd.CUBIC:{const $=.3333333333333333,T=2/3,d=new ze($*y.x+T*g.x,T*g.y+$*y.y),A=new ze($*E.x+T*g.x,T*g.y+$*E.y);u.appendSegment(Bt.createSegment("C",d,A,E));break}case Dd.LINE:{u.appendSegment(Bt.createSegment("L",E));break}case Dd.GAP:{u.appendSegment(Bt.createSegment("M",E));break}}}u.appendSegment(Bt.createSegment("L",t))}return l?u:u.serialize()};var uce=5,bL=["arc","gap","cubic"],cce=0,_L=1,fce=["smooth"],oy=1/3,ay=2/3;function EL(e,t){let{x:r,y:n}=e,{x:i,y:o}=t;if(r>i){let a=r;r=i,i=a,a=n,n=o,o=a}if(n>o){let a=r;r=i,i=a,a=n,n=o,o=a}return[new ze(r,n),new ze(i,o)]}function dce(e,t){const[{x:r,y:n},{x:i,y:o}]=EL(e.start,e.end),[{x:a,y:s},{x:l,y:u}]=EL(t.start,t.end),f=r<=l&&a<=i,c=n<=u&&s<=o;return f&&c}function P1(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,o,a){var s=n[a+1];return s!=null&&(i[a]=$f(o,s)),i},[])}function hce(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||pce(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function pce(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function mce(e,t){return $r(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function SL(e,t){return $f(e,t).squaredLength()}function gce(e,t,r){return t.reduce(function(n,i,o){if(i.skip===!0)return n;var a=n.pop()||e,s=o_(i).move(a.start,-r),l=o_(i).move(a.start,+r),u=t[o+1];if(u!=null){var f=l.distance(u);f<=r&&(l=u.move(a.start,f),u.skip=!0)}else{var c=s.distance(a.end);if(c<r*2+_L)return n.push(a),n}var h=l.distance(a.start);if(h<r*2+_L)return n.push(a),n;var g=$f(s,l);return g.isJump=!0,n.push($f(a.start,s),g,$f(l,a.end)),n},[])}function $L(e,t,r,n){var i=new Bt,o;return o=Bt.createSegment("M",e[0].start),i.appendSegment(o),$r(e).forEach(function(a,s){if(a.isJump){var l,u,f,c;if(r==="arc"){l=-90,u=a.start.difference(a.end);var h=+(u.x<0||u.x===0&&u.y<0);h&&(l+=180);var g=a.midpoint(),m=new Nt(g,a.end).rotate(g,l),_;_=new Nt(a.start,g),f=_.pointAt(2/3).rotate(a.start,l),c=m.pointAt(1/3).rotate(m.end,-l),o=Bt.createSegment("C",f,c,m.end),i.appendSegment(o),_=new Nt(g,a.end),f=m.pointAt(1/3).rotate(m.end,l),c=_.pointAt(1/3).rotate(a.end,-l),o=Bt.createSegment("C",f,c,a.end),i.appendSegment(o)}else if(r==="gap")o=Bt.createSegment("M",a.end),i.appendSegment(o);else if(r==="cubic"){l=a.start.theta(a.end);var v=t*.6,p=t*1.35;u=a.start.difference(a.end),h=+(u.x<0||u.x===0&&u.y<0),h&&(p*=-1),f=ze(a.start.x+v,a.start.y+p).rotate(a.start,l),c=ze(a.end.x-v,a.end.y+p).rotate(a.end,l),o=Bt.createSegment("C",f,c,a.end),i.appendSegment(o)}}else{var S=e[s+1];n==0||!S||S.isJump?(o=Bt.createSegment("L",a.end),i.appendSegment(o)):vce(n,i,a.end,a.start,S.end)}}),i}function vce(e,t,r,n,i){var o=r.distance(n)/2,a=r.distance(i)/2,s=-Math.min(e,o),l=-Math.min(e,a),u=r.clone().move(n,s).round(),f=r.clone().move(i,l).round(),c=new ze(oy*u.x+ay*r.x,ay*r.y+oy*u.y),h=new ze(oy*f.x+ay*r.x,ay*r.y+oy*f.y),g;g=Bt.createSegment("L",u),t.appendSegment(g),g=Bt.createSegment("C",c,h,f),t.appendSegment(g)}const yce=function(e,t,r,n){hce(this);var i=n.raw,o=n.size||uce,a=n.jump&&(""+n.jump).toLowerCase(),s=n.radius||cce,l=n.ignoreConnectors||fce;bL.indexOf(a)===-1&&(a=bL[0]);var u=this.paper,f=u.model,c=f.getLinks();if(c.length===1)return $L(P1(e,t,r),o,a,s);var h=this.model,g=c.indexOf(h),m=u.options.defaultConnector||{},_=c.filter(function($,T){var d=$.get("connector")||m;return $r(l).includes(d.name)?!1:T>g?d.name!=="jumpover":!0}),v=_.map(function($){return u.findViewByModel($)}),p=P1(e,t,r),S=v.map(function($){return $==null?[]:$===this?p:P1($.sourcePoint,$.targetPoint,$.route)},this),y=p.reduce(function($,T){var d=_.reduce(function(A,x,O){if(x!==h){const C=S[O].slice(),F=C.findIndex(Q=>dce(T,Q));F>-1&&T.containsPoint(C[F].end)&&C.splice(F+1,1);const V=mce(T,C);A.push.apply(A,V)}return A},[]).sort(function(A,x){return SL(T.start,A)-SL(T.start,x)});return d.length>0?$.push.apply($,gce(T,d,o)):$.push(T),$},[]),E=$L(y,o,a,s);return i?E:E.serialize()},wce=function(e,t,r=[],n={}){const{raw:i}=n;return rj(e,t,r,{cornerType:"point",raw:i})},bce=10,_ce=0,Ece=function(e,t,r=[],n={}){const{radius:i=bce,raw:o}=n;return rj(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:_ce,raw:o})},Sce=function(e,t,r,n){var i=n&&n.raw,o;if(r&&r.length!==0){var a=[e].concat(r).concat([t]),s=Fr.throughPoints(a);o=new Bt(s)}else{o=new Bt;var l;if(l=Bt.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=Bt.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=Bt.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()},xa={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},eo={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},nj=function(e,t,r=[],n={},i){const o=!!n.raw,{direction:a=xa.AUTO,precision:s=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new ze(n.sourceTangent):null,targetTangent:n.targetTangent?new ze(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?l.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?l.sourceDirection=new ze(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new ze(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?l.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?l.targetDirection=new ze(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new ze(n.targetDirection).normalize():null;const u=[e,...r,t].map(_=>new ze(_));let f;if(l.sourceTangent)f=l.sourceTangent;else{const _=Oce(i,u,a,l),v=u[0].distance(u[1])*l.coeff,p=u[1].difference(u[0]).normalize(),S=tP(_,p);if(S>Math.PI/4){const y=v+(S-Math.PI/4)*l.angleTangentCoefficient;f=_.clone().scale(y,y)}else f=_.clone().scale(v,v)}let c;if(l.targetTangent)c=l.targetTangent;else{const _=Pce(i,u,a,l),v=u.length-1,p=u[v-1].distance(u[v])*l.coeff,S=u[v-1].difference(u[v]).normalize(),y=tP(_,S);if(y>Math.PI/4){const E=p+(y-Math.PI/4)*l.angleTangentCoefficient;c=_.clone().scale(E,E)}else c=_.clone().scale(p,p)}const g=Nce(u,f,c,l).map(_=>Ice(_,l)),m=new Bt(g).round(s);return o?m:m.serialize()};nj.Directions=xa;nj.TangentDirections=eo;function $ce(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"left":a=new ze(-1,0);break;case"right":default:a=new ze(1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function Tce(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"left":a=new ze(-1,0);break;case"right":default:a=new ze(1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function Ace(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":default:a=new ze(0,1);break}return r.rotate&&o&&a.rotate(null,-o),a}function xce(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":default:a=new ze(0,1);break}return r.rotate&&o&&a.rotate(null,-o),a}function TL(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),r.rotate&&o){const s=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":a=new ze(0,1);break;case"right":a=new ze(1,0);break;case"left":a=new ze(-1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function AL(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),r.rotate&&o){const s=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=s.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let a;switch(i){case"top":a=new ze(0,-1);break;case"bottom":a=new ze(0,1);break;case"right":a=new ze(1,0);break;case"left":a=new ze(-1,0);break}return r.rotate&&o&&a.rotate(null,-o),a}function xL(e,t,r){return t[1].difference(t[0]).normalize()}function OL(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function PL(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function RL(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function Oce(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case eo.UP:return new ze(0,-1);case eo.DOWN:return new ze(0,1);case eo.LEFT:return new ze(-1,0);case eo.RIGHT:return new ze(1,0);case eo.AUTO:return TL(e,t,n);case eo.CLOSEST_POINT:return xL(e,t);case eo.OUTWARDS:return PL(e,t);default:return n.sourceDirection}switch(r){case xa.HORIZONTAL:return $ce(e,t,n);case xa.VERTICAL:return Ace(e,t,n);case xa.CLOSEST_POINT:return xL(e,t);case xa.OUTWARDS:return PL(e,t);case xa.AUTO:default:return TL(e,t,n)}}function Pce(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case eo.UP:return new ze(0,-1);case eo.DOWN:return new ze(0,1);case eo.LEFT:return new ze(-1,0);case eo.RIGHT:return new ze(1,0);case eo.AUTO:return AL(e,t,n);case eo.CLOSEST_POINT:return OL(e,t);case eo.OUTWARDS:return RL(e,t);default:return n.targetDirection}switch(r){case xa.HORIZONTAL:return Tce(e,t,n);case xa.VERTICAL:return xce(e,t,n);case xa.CLOSEST_POINT:return OL(e,t);case xa.OUTWARDS:return RL(e,t);case xa.AUTO:default:return AL(e,t,n)}}function Rce(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,o=n*e.x+r*e.y;e.x=i,e.y=o}function tP(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function NL(e,t){return e.x*t.y-e.y*t.x}function Nce(e,t,r,n){const{tau:i,coeff:o}=n,a=[],s=[],l=[],u=e.length-1;for(let f=0;f<u;f++)a[f]=e[f].distance(e[f+1]);s[0]=t,s[u]=r;for(let f=1;f<u;f++){let c,h;f===1?c=e[f-1].clone().offset(s[f-1].x,s[f-1].y):c=e[f-1].clone(),f===u-1?h=e[f+1].clone().offset(s[f+1].x,s[f+1].y):h=e[f+1].clone();const g=c.difference(e[f]).normalize(),m=h.difference(e[f]).normalize(),_=tP(g,m);let v=(Math.PI-_)/2,p;const S=NL(g,m);let y;y=NL(e[f].difference(e[f+1]),e[f].difference(e[f-1])),S<0&&(v=-v),_<Math.PI/2&&(v<0&&y<0||v>0&&y>0)&&(v=v-Math.PI),p=m.clone(),Rce(p,v);const E=p.clone(),$=p.clone(),T=a[f-1]*o,d=a[f]*o;E.scale(T,T),$.scale(d,d),s[f]=[E,$]}for(let f=0;f<u;f++){let c,h;f===0?c=e[f+1].difference(s[f].x/i,s[f].y/i):c=e[f+1].difference(s[f][1].x/i,s[f][1].y/i),f===u-1?h=e[f].clone().offset(s[f+1].x/i,s[f+1].y/i):h=e[f].difference(s[f+1][0].x/i,s[f+1][0].y/i),l[f]=[c,e[f],e[f+1],h]}return l}function Ice(e,t){const{tau:r}=t,n=new ze;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new ze;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new Fr(e[1],n,i,e[2])}const jce=Object.freeze(Object.defineProperty({__proto__:null,curve:nj,jumpover:yce,normal:wce,rounded:Ece,smooth:Sce,straight:rj},Symbol.toStringTag,{value:"Module"})),Xt={TOOLS:hr.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},bm=hr.extend({className:function(){var e=hr.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){hr.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Xt.RENDER],attrs:[Xt.UPDATE],router:[Xt.UPDATE],connector:[Xt.CONNECTOR],smooth:[Xt.UPDATE],manhattan:[Xt.UPDATE],toolMarkup:[Xt.LEGACY_TOOLS],labels:[Xt.LABELS],labelMarkup:[Xt.LABELS],vertices:[Xt.VERTICES,Xt.UPDATE],vertexMarkup:[Xt.VERTICES],source:[Xt.SOURCE,Xt.UPDATE],target:[Xt.TARGET,Xt.UPDATE]},initFlag:[Xt.RENDER,Xt.SOURCE,Xt.TARGET,Xt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Xt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Xt.SOURCE)}if(this.hasFlag(e,Xt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Xt.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,Xt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[Xt.RENDER,Xt.UPDATE,Xt.VERTICES,Xt.LABELS,Xt.TOOLS,Xt.LEGACY_TOOLS,Xt.CONNECTOR]),e;let o=!1;this.hasFlag(e,Xt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Xt.VERTICES));const{model:a}=this,{attributes:s}=a;let l=this.hasFlag(e,Xt.LABELS),u=this.hasFlag(e,Xt.LEGACY_TOOLS);l&&(this.onLabelsChange(a,s.labels,t),e=this.removeFlag(e,Xt.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,Xt.LEGACY_TOOLS));const f=this.hasFlag(e,Xt.UPDATE),c=this.hasFlag(e,Xt.CONNECTOR);return(f||c)&&(f?t.translateBy&&a.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Xt.UPDATE,Xt.TOOLS,Xt.CONNECTOR]),l=!1,u=!1,o=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,Xt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Xt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Xt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=st(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var o=t[n],a=o.attr("class");a&&(a=Vle(a),r[Lr.camelCase(a)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=st(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var o=t[n].node;r.appendChild(o)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=st("g").append(t):r=st(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],a=o.length;if(a===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=st("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(ss(Vn(this,"className"))),t.attr("model-id",i.id)));for(var s=0;s<a;s++){var l=o[s],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,c;if(u)f=u.node,c=u.selectors;else{var h=i._builtins.defaultLabel,g=this._normalizeLabelMarkup(this._getLabelMarkup(h.markup)),m=i._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(m.markup)),v=_||g;f=v.node,c=v.selectors}f.setAttribute("label-idx",s),t.append(f),r[s]=f;var p=this.selector;if(c[p])throw new Error("dia.LinkView: ambiguous label root selector.");c[p]=f,n[s]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:o}=n;if(!o||!r.hasLabels())return;const{node:a}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(a,r.get("z")):a.parentNode!==e&&e.appendChild(a)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:ni({},n,r):e?ni({},r,t):ni({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:ni({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,o=e._getDefaultLabel(),a=o.markup,s=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var c=this._labelCache[u];c.setAttribute("cursor",r?"move":"default");var h=this._labelSelectors[u],g=t[u],m=g.markup,_=g.attrs,v=g.size,p=this._mergeLabelAttrs(m||a,_,s,i),S=this._mergeLabelSize(v,l);this.updateDOMSubtreeAttributes(c,p,{rootBBox:new Pt(S),selectors:h})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=Lr(this._V.linkTools.node).empty(),t=Ki(this.model.get("toolMarkup")||this.model.toolMarkup),r=st(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=Ki(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=st(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Lr(this._V.markerVertices.node).empty(),t=Ki(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(st(t(Gt({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Lr(this._V.markerArrowheads.node);e.empty();var t=Ki(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=st(t({end:"source"})),this._V.targetArrowhead=st(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],o=i.length,a=new cn(i);a.simplify({threshold:.001});const s=a.points.map(u=>u.toJSON()),l=s.length;return o===l?0:(r.vertices(s.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ze(this.sourceAnchor);case"target":return new ze(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ze(this.sourcePoint);case"target":return new ze(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new cn(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,o=this.findRoute(t);this.route=o;var a=this.findConnectionPoints(o,n,i);this.sourcePoint=a.source,this.targetPoint=a.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this._markerCache,a,s;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),a=ze(t).move(n||r,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),s=ze(r).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=a||t.clone(),o.targetPoint=s||r.clone(),{source:a,target:s}},findAnchorsOrdered:function(e,t,r,n){var i,o,a,s,l=this.model,u=l.get(e),f=l.get(r),c=this.getEndView(e),h=this.getEndView(r),g=this.getEndMagnet(e),m=this.getEndMagnet(r);c?(t?a=new ze(t):h?a=m:a=new ze(f),i=this.getAnchor(u.anchor,c,g,a,e)):i=new ze(u),h?(s=new ze(n||i),o=this.getAnchor(f.anchor,h,m,s,r)):o=new ze(f);var _={};return _[e]=i,_[r]=o,_},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this.model,a=o.get("source"),s=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,c,h,g;if(l&&!l.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||l.el;var m=a.connectionPoint||f.defaultConnectionPoint,_=n||r,v=new Nt(_,t);g=this.getConnectionPoint(m,l,c,v,"source")}else g=t;var p;if(u&&!u.isNodeConnection(this.targetMagnet)){h=this.targetMagnet||u.el;var S=s.connectionPoint||f.defaultConnectionPoint,y=i||t,E=new Nt(y,r);p=this.getConnectionPoint(S,u,h,E,"target")}else p=r;return{source:g,target:p}},getAnchor:function(e,t,r,n,i){var o=t.isNodeConnection(r),a=this.paper.options;if(e||(o?e=a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=a.defaultAnchor),!e)throw new Error("Anchor required.");var s;if(typeof e=="function")s=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(s=a[u][l],typeof s!="function")throw new Error("Unknown anchor: "+l)}var f=s.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new ze},getConnectionPoint:function(e,t,r,n,i){var o,a=n.end,s=this.paper.options;if(typeof s.linkConnectionPoint=="function"){var l=r===t.el?void 0:r;if(o=s.linkConnectionPoint(this,t,l,n.start,i),o)return o}if(!e)return a;var u;if(typeof e=="function")u=e;else{var f=e.name;if(u=s.connectionPointNamespace[f],typeof u!="function")throw new Error("Unknown connection point: "+f)}return o=u.call(this,n,t,r,e.args||{},i,this),o?o.round(this.decimalsRounding):a},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return ni({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:ni({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,o=r.length;i<o;i++){var a=this._labelCache[i];if(a){var s=r[i],l=this._normalizeLabelPosition(s.position),u=this._mergeLabelPositionProperty(l,n),f=this._getLabelTransformationMatrix(u);a.setAttribute("transform",st.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:o}=n[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Lr.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[n]=null,this.updateEndMagnet(e),!0;const a=r.getModelById(o);if(!a)throw new Error("LinkView: invalid "+e+" cell.");const s=a.findView(r);return s?(this[n]=s,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=$r(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:ni({},t,e)},addLabel:function(e,t,r,n){var i,o,a=0,s;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(a=t,s=r):s=t):(i=e,o=t,typeof r=="number"?(a=r,s=n):s=r);var l=this._getDefaultLabelPositionArgs(),u=s,f=this._mergeLabelPositionArgs(u,l),c={position:this.getLabelPosition(i,o,a,f)},h=-1;return this.model.insertLabel(h,c,s),h},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,o=n?e.y:t,a=n?t:r,s={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,s,a),l},sendToken:function(e,t,r){function n(c,h){return function(){c.remove(),typeof h=="function"&&h()}}var i,o,a;Gr(t)?(i=t.duration,o=t.direction==="reverse",a=t.connection):(i=t,o=!1,a=null),i=i||1e3;var s={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(s.keyPoints="1;0",s.keyTimes="0;1");var l=st(e),u;if(typeof a=="string")u=this.findBySelector(a,this.el,this.selectors)[0];else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(s,u),setTimeout(n(l,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||oce,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(ze);var i=dn(r)?r:t[r.name];if(!dn(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var o=r.args||{},a=i.call(this,e,o,this);return a||e.map(ze)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||jce,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var a=dn(i)?i:n[i.name];if(!dn(a))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var s=Bs(i.args||{});s.raw=!0;var l=a.call(this,t,r,e,s,this);return typeof l=="string"&&(l=new Bt(st.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Oi(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},o=0,a;typeof r=="number"?(o=r,a=n):a=r,a&&(i.args=a);var s=!(a&&a.absoluteDistance),l=a&&a.absoluteDistance&&a.reverseDistance,u=a&&a.absoluteOffset,f=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},h=new ze(e,t),g=f.closestPointT(h,c),m=f.lengthAtT(g,c);s&&(m=m/this.getConnectionLength()||0),l&&(m=-1*(this.getConnectionLength()-m)||1),i.distance=m;var _;u||(_=f.tangentAtT(g));var v;if(_)v=_.pointOffset(h);else{var p=f.pointAtT(g),S=h.difference(p);v={x:S.x,y:S.y}}return i.offset=v,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,a={x:0,y:0};if(e.offset){var s=e.offset;typeof s=="number"&&(o=s),s.x&&(a.x=s.x),s.y&&(a.y=s.y)}var l=a.x!==0||a.y!==0||o===0,u=n.keepGradient,f=n.ensureLegibility,c=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},g=i?t*this.getConnectionLength():t,m=c.tangentAtLength(g,h),_,v=r;if(m){if(l)_=m.start.clone(),_.offset(a);else{var p=m.clone();p.rotate(m.start,-90),p.setLength(o),_=p.end}u&&(v=m.angle()+r,f&&(v=ms((v+90)%180-90)))}else _=c.start.clone(),l&&_.offset(a);return st.createSVGMatrix().translate(_.x,_.y).rotate(v)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ze(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new ze(e,t)),o=0,a=n.length;o<a;o++){var s=n[o],l=this.getClosestPointLength(s);if(i<l)break}return o},notifyPointerdown(e,t,r){hr.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){hr.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),hr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){hr.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){hr.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){hr.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&Gt(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){hr.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){hr.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){hr.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){hr.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){hr.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=st(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else hr.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),a=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),s=this._mergeLabelPositionProperty(a,o),l=this.getLabelCoordinates(s),u=l.x-t,f=l.y-r,c=this._getLabelPositionAngle(i),h=this._getLabelPositionArgs(i),g=this._getDefaultLabelPositionArgs(),m=this._mergeLabelPositionArgs(h,g);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:f,positionAngle:c,positionArgs:m,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,i,o)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),o=i&&!Qh.endsEqual(n,i);if(o){var a=this.paper;n.id&&this.notify("link:disconnect",t,a.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,a.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,o=null,a=1/0,s=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<i&&(i=f,n=t[u]);const c=Math.abs(t[u].y-e.y);c<a&&(a=c,o=t[u])}return i<r&&(s=n.x),a<r&&(l=o.y),{x:s,y:l}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:o}=n.options,a=this.eventData(e),s=o.radius||20,l=this.getEndAnchor(a.arrowhead==="source"?"target":"source"),u=i.vertices(),f=[l,...u],c=this._snapToPoints({x:t,y:r},f,s),h=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(h.x,h.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:o}=n.options,a=this.eventData(e);let s=!1;var l=i.radius||50,u=n.findViewsInArea({x:t-l,y:r-l,width:2*l,height:2*l}),f=a.closestView||null,c=a.closestMagnet||null,h=a.magnetProxy||null;a.closestView=a.closestMagnet=a.magnetProxy=null;var g=Number.MAX_VALUE,m=new ze(t,r);u.forEach(function($){const T=[];$.el.getAttribute("magnet")!=="false"&&T.push({bbox:$.model.getBBox(),magnet:$.el}),$.$("[magnet]").toArray().forEach(d=>{T.push({bbox:$.getNodeBBox(d),magnet:d})}),T.forEach(d=>{const{magnet:A,bbox:x}=d,O=x.center().squaredDistance(m);O<g&&(c===A||n.options.validateConnection.apply(n,a.validateConnectionArgs($,$.el===A?null:A)))&&(g=O,a.closestView=$,a.closestMagnet=A)})},this);var _,v=null,p=a.closestView,S=a.closestMagnet;S&&(v=a.magnetProxy=p.findProxyNode(S,"highlighter"));var y=a.arrowhead,E=c!==S;if(f&&E&&f.unhighlight(h,{connecting:!0,snapping:!0}),p){const{prevEnd:$,prevX:T,prevY:d}=a;if(a.prevX=t,a.prevY=r,s=!0,!E&&(typeof o!="function"||T===t&&d===r)||(_=p.getLinkEnd(S,t,r,this.model,y),!E&&Qd($,_)))return s;a.prevEnd=_,E&&p.highlight(v,{connecting:!0,snapping:!0})}else _={x:t,y:r};return this.model.set(y,_||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,c,y),p&&this.notify("link:snap:connect",e,p,S,y),s},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:o}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const a=n.viewUnderPointer=i.findView(e);if(a){const s=n.magnetUnderPointer=a.findMagnet(e),l=n.magnetProxy=a.findProxyNode(s,"highlighter");s&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(a,s))?l&&a.highlight(l,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,o.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:a,arrowhead:s}=e;if(!o||!a||!i)return;i.unhighlight(a,{connecting:!0});const l=i.getLinkEnd(o,t,r,n,s);n.set(s,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var o=this.model.get(r);if(o.id){var a=t[n]=this.paper.findViewByModel(o.id),s=a.getMagnetFromLinkEnd(o);s===a.el&&(s=void 0),t[n+1]=s}function l(u,f){return t[i]=u,t[i+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(c,h){var g=c.paper,m=g.options.validateConnection;return m.apply(g,this.validateConnectionArgs(c,h))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,o=n.length;i<o;i++){var a=n[i].findView(r);if(a){var s=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));a.el.getAttribute("magnet")!=="false"&&s.push(a.el);var l=s.filter(t.bind(e,a));if(l.length>0){for(var u=0,f=l.length;u<f;u++)a.highlight(l[u],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),e.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,o=t.length;i<o;i++){r=t[i],n=e.marked[r];var a=this.paper.findViewByModel(r);if(a){for(var s=0,l=n.length;s<l;s++)a.unhighlight(n[s],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Bs(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){hr.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){hr.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){hr.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Xt});Object.defineProperty(bm.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Pt(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new Pt(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(bm.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Pt(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new Pt(this.targetAnchor):e.getNodeBBox(r||e.el)}});const Cce=ls.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const o=st(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){const a=i.search(/.M/i)+1;a>0&&(i=i.substr(0,a))}}catch{const a=e.getNodeBoundingRect(t);i=st.rectToPath(Gt({},r,a.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:o}=n;let a=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&r.remove();let s=e.getNodeBoundingRect(t);const l=s.x+s.width/2,u=s.y+s.height/2;s=st.transformRect(s,a);const f=Math.max(s.width,1),c=Math.max(s.height,1),h=(f+i)/f,g=(c+i)/c,m=st.createSVGMatrix({a:h,b:0,c:0,d:g,e:l-h*l,f:u-g*u});a=a.multiply(m)}r.attr({d:this.getPathData(e,t),transform:st.matrixToTransformString(a)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),IL=20;function kce(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const Dce=ls.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:IL,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!st.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(n.includes(o)){const a=e.vel.findOne(`#${t.id}`);if(a){const{node:s}=a;let l=e.getNodeBoundingRect(s);e.model.isElement()&&(l=st.transformRect(l,e.getNodeMatrix(s)));const u=st("rect",l.toJSON()),{x:f,y:c}=l.center(),{angle:h,cx:g=f,cy:m=c}=a.rotate();h&&u.rotate(h,g,m),t.parent().append(u)}return t.remove(),!1}return r.forEach(a=>{a==="fill"&&t.attr("fill")==="none"||t.removeAttr(a)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,o=t.tagName();let a;if(o==="G"){if(!i)return null;a=t.clone(),kce(a,s=>this.transformMaskChild(e,s))}else{if(n.includes(o))return null;a=t.clone()}return this.transformMaskRoot(e,a),a},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:o,attrs:a}=i,s="stroke-width"in a?a["stroke-width"]:1,l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,c=f+s*2;let h=this.getMaskShape(e,t);if(!h){const g=e.getNodeBoundingRect(t.node);g.inflate(g.width?0:.5,g.height?0:.5),h=st("rect",g.toJSON())}return h.attr(a),st("mask",{id:this.getMaskId()}).append([h.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c}),h.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:o,maskClip:a=IL,layer:s}=r,l="stroke"in o?o.stroke:"#000000";!s&&t===e.el&&n.remove();const u=e.getNodeBoundingRect(t).inflate(i+a),f=this.getNodeMatrix(e,t),c=this.getMask(e,st(t));this.addMask(e.paper,c),n.attr(u.toJSON()),n.attr({transform:st.matrixToTransformString(f),mask:`url(#${c.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),Mce=ls.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:ss("highlight-opacity"),highlight:function(e,t){st(t).addClass(this.opacityClassName)},unhighlight:function(e,t){st(t).removeClass(this.opacityClassName)}}),jL=ss("highlighted"),Lce=ls.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:jL},highlight:function(e,t){st(t).addClass(this.options.className)},unhighlight:function(e,t){st(t).removeClass(this.options.className)}},{className:jL}),R1={ROW:"row",COLUMN:"column"},Fce=ls.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:o=5,direction:a=R1.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const s=typeof i=="number"?{width:i,height:i}:i,l=a===R1.ROW,u=l?s.width:s.height;let f=r.get(n);Array.isArray(f)||(f=[]);const c=this._prevItems||[],h=f.map((v,p)=>Qd(c[p],f[p]));if(c.length!==f.length||h.some(v=>!v)){const v=this.vel.children(),p=f.map((S,y)=>{const E=y in v?v[y].node:null;if(h[y])return E;const $=this.createListItem(S,s,E);if(!$)return null;if(!($ instanceof SVGElement))throw new Error("List: item must be an SVGElement");$.dataset.index=y,$.dataset.attribute=n;const T=y*(u+o);return $.setAttribute("transform",l?`translate(${T}, 0)`:`translate(0, ${T})`),$});this.vel.empty().append(p),this._prevItems=f}const g=f.length,m=g===0?0:g*u+(g-1)*o,_=l?{width:m,height:s.height}:{width:s.width,height:m};this.position(r,_)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:o="top-left"}=n,{width:a,height:s}=e.size(),{left:l,right:u,top:f,bottom:c}=Mf(i),h=new Pt(l,f,a-(l+u),s-(f+c));let{x:g,y:m}=oW(h,o);switch(o){case Ln.CENTER:case Ln.TOP:case Ln.BOTTOM:{g-=t.width/2;break}case Ln.RIGHT:case Ln.BOTTOM_RIGHT:case Ln.TOP_RIGHT:{g-=t.width;break}}switch(o){case Ln.CENTER:case Ln.RIGHT:case Ln.LEFT:{m-=t.height/2;break}case Ln.BOTTOM:case Ln.BOTTOM_RIGHT:case Ln.BOTTOM_LEFT:{m-=t.height;break}}r.attr("transform",`translate(${g}, ${m})`)}},{Directions:R1,Positions:Ln}),Bce=Object.freeze(Object.defineProperty({__proto__:null,addClass:Lce,list:Fce,mask:Dce,opacity:Mce,stroke:Cce},Symbol.toStringTag,{value:"Module"}));function Uce(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function zce(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function qce(e,t,r,n){var i=1e6,o=e.getConnection(),a=e.getConnectionSubdivisions(),s=new Nt(r.clone().offset(0,i),r.clone().offset(0,-i)),l=new Nt(r.clone().offset(i,0),r.clone().offset(-i,0)),u=s.intersect(o,{segmentSubdivisions:a}),f=l.intersect(o,{segmentSubdivisions:a}),c=[];return u&&Array.prototype.push.apply(c,u),f&&Array.prototype.push.apply(c,f),c.length>0?r.chooseClosest(c):"fallbackAt"in n?_W(e,n.fallbackAt):EW(e,t,r,n)}function Vce(e,t,r,n){var i=e.getClosestPoint(r);return i||new ze}function Yg(e){return function(t,r,n,i){if(n instanceof Element){var o=this.paper.findView(n),a;if(o)if(o.isNodeConnection(n)){var s="fixedAt"in i?i.fixedAt:"50%";a=_W(o,s)}else a=o.getNodeBBox(n).center();else a=new ze;return e.call(this,t,r,a,i)}return e.apply(this,arguments)}}function _W(e,t){var r=parseFloat(t);return Oi(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const Hce=Yg(qce),EW=Yg(Vce),Wce=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:EW,connectionLength:zce,connectionPerpendicular:Hce,connectionRatio:Uce,resolveRef:Yg},Symbol.toStringTag,{value:"Module"}));function GE(e,t,r){if(qn(r)){const{x:i,y:o}=r;if(isFinite(o)){const a=new Nt(t,e),{start:s,end:l}=a.parallel(o);t=s,e=l}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function ij(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function Gce(e,t,r=0){let n,i,o,a;const{start:s,end:l}=e;switch(t){case"left":n="x",i=l,o=s,a=-1;break;case"right":n="x",i=s,o=l,a=1;break;case"top":n="y",i=l,o=s,a=-1;break;case"bottom":n="y",i=s,o=l,a=1;break;default:return}s[n]<l[n]?i[n]=o[n]:o[n]=i[n],isFinite(r)&&(i[n]+=a*r,o[n]+=a*r)}function Kce(e,t,r,n){let{offset:i,alignOffset:o,align:a}=n;return a&&Gce(e,a,o),GE(e.end,e.start,i)}function SW(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate(ij(r)/2);var o=e.intersect(i),a=o?e.start.chooseClosest(o):e.end;return GE(a,e.start,n.offset)}function Jce(e,t,r,n){var i=t.model.angle();if(i===0)return SW(e,t,r,n);var o=t.getNodeUnrotatedBBox(r);n.stroke&&o.inflate(ij(r)/2);var a=o.center(),s=e.clone().rotate(a,i),l=s.setLength(1e6).intersect(o),u=l?s.start.chooseClosest(l).rotate(a,-i):e.end;return GE(u,e.start,n.offset)}function Yce(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var N1="segmentSubdivisons",I1="shapeBBox";function Xce(e,t,r,n){var i,o,a=n.selector,s=e.end;if(typeof a=="string"?i=t.findBySelector(a)[0]:a===!1?i=r:Array.isArray(a)?i=ug(r,a):i=Yce(r),!st.isSVGGraphicsElement(i)){if(i===r||!st.isSVGGraphicsElement(r))return s;i=r}var l=t.getNodeShape(i),u=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),h=f.multiply(c).multiply(u),g=h.inverse(),m=st.transformLine(e,g),_=m.start.clone(),v=t.getNodeData(i);if(n.insideout===!1){v[I1]||(v[I1]=l.bbox());var p=v[I1];if(p.containsPoint(_))return s}var S;if(l instanceof Bt){var y=n.precision||2;v[N1]||(v[N1]=l.getSegmentSubdivisions({precision:y})),S={precision:y,segmentSubdivisions:v[N1]}}n.extrapolate===!0&&m.setLength(1e6),o=m.intersect(l,S),o?st.isArray(o)&&(o=_.chooseClosest(o)):n.sticky===!0&&(l instanceof Pt?o=l.pointNearestToPoint(_):l instanceof ro?o=l.intersectionWithLineFromCenterToPoint(_):o=l.closestPoint(_,S));var E=o?st.transformPoint(o,h):s,$=n.offset||0;return n.stroke&&($+=ij(i)/2),GE(E,e.start,$)}const Qce=Kce,Zce=SW,efe=Jce,tfe=Xce,rfe=Object.freeze(Object.defineProperty({__proto__:null,anchor:Qce,bbox:Zce,boundary:tfe,rectangle:efe},Symbol.toStringTag,{value:"Module"}));function Yl(e){return function(t,r,n,i){var o=!!i.rotate,a=o?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),s=a[e](),l=i.dx;if(l){var u=Oi(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=a.width),s.x+=l)}var f=i.dy;if(f){var c=Oi(f);f=parseFloat(f),isFinite(f)&&(c&&(f/=100,f*=a.height),s.y+=f)}return o?s.rotate(t.model.getBBox().center(),-t.model.angle()):s}}function nfe(e,t,r,n){var i=e.model.angle(),o=e.getNodeBBox(t),a=o.center(),s=o.origin(),l=o.corner(),u=n.padding;if(isFinite(u)||(u=0),s.y+u<=r.y&&r.y<=l.y-u){var f=r.y-a.y;a.x+=i===0||i===180?0:f*1/Math.tan(Oo(i)),a.y+=f}else if(s.x+u<=r.x&&r.x<=l.x-u){var c=r.x-a.x;a.y+=i===90||i===270?0:c*Math.tan(Oo(i)),a.x+=c}return a}function ife(e,t,r,n){var i=!!n.rotate,o,a,s;i?(o=e.getNodeUnrotatedBBox(t),s=e.model.getBBox().center(),a=e.model.angle()):o=e.getNodeBBox(t);var l=n.padding;isFinite(l)&&o.inflate(l),i&&r.rotate(s,a);var u=o.sideNearestToPoint(r),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(s,-a):f}function ofe(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const afe=Yl("center"),sfe=Yl("topMiddle"),lfe=Yl("bottomMiddle"),ufe=Yl("leftMiddle"),cfe=Yl("rightMiddle"),ffe=Yl("origin"),dfe=Yl("topRight"),hfe=Yl("bottomLeft"),pfe=Yl("corner"),mfe=Yg(nfe),gfe=Yg(ife),vfe=ofe,yfe=Object.freeze(Object.defineProperty({__proto__:null,bottom:lfe,bottomLeft:hfe,bottomRight:pfe,center:afe,left:ufe,midSide:gfe,modelCenter:vfe,perpendicular:mfe,right:cfe,top:sfe,topLeft:ffe,topRight:dfe},Symbol.toStringTag,{value:"Module"})),Ed={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},wfe=50,CL=20,kL=1e3,bfe=1/0,sy=9007199254740991,j1=hr.Highlighting,DL={[j1.DEFAULT]:{name:"stroke",options:{padding:3}},[j1.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[j1.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},_fe=[{name:Ea.BACK},{name:Ea.CELLS},{name:Ea.LABELS},{name:Ea.FRONT},{name:Ea.TOOLS}],Efe=ec.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Vw,linkView:bm,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:DL,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Qh,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,o){return(i==="target"?r:e)instanceof Vw},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Ed.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:Bce,anchorNamespace:yfe,linkAnchorNamespace:Wce,connectionPointNamespace:rfe,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Bu(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new ej;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Lr(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!_o(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===Ed.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:o,origin:a,highlighting:s,cellViewNamespace:l,interactive:u}=e;!l&&typeof joint<"u"&&Bu(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),dn(t)||(e.defaultConnector=ba(t)),dn(r)||(e.defaultRouter=ba(r)),dn(n)||(e.defaultConnectionPoint=ba(n)),dn(i)||(e.defaultAnchor=ba(i)),dn(o)||(e.defaultLinkAnchor=ba(o)),qn(u)&&(e.interactive=Gt({},u)),qn(s)&&(e.highlighting=QI({},s,DL)),e.origin=Gt({},a)},children:function(){var e=st.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:ss("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:ss("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ss("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:o,grid:a}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=Lr(o),this.$grid=Lr(a),this.renderLayers(),st.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=_fe){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{const a=new Rue({name:i});this.layers.appendChild(a.el),this._layers[i]=a});const t=this.getLayerView(Ea.CELLS),r=this.getLayerView(Ea.TOOLS),n=this.getLayerView(Ea.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(ss("viewport")),n.vel.addClass(ss("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),st.createSVGMatrix(e)}e=st.createSVGMatrix(e);var n=st.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return st.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof hr)for(var n=e.model,i=this.model.getConnectedLinks(n),o=0,a=i.length;o<a;o++){var s=i[o],l=this.findViewByModel(s);if(l){var u=["UPDATE"];s.getTargetCell()===n&&u.push("TARGET"),s.getSourceCell()===n&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof hr))return!1;var r=e.model;if(r.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},i=0,o=this.findViewByModel(r.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,n),e.updateEndMagnet("source"));var a=0,s=this.findViewByModel(r.getTargetCell());if(s&&!this.isViewMounted(s)&&(a=this.dumpView(s,n),e.updateEndMagnet("target")),i===0&&a===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);i&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:a,FLAG_INSERT:s,UPDATE_PRIORITY:l,cid:u}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>l)for(let g=r-1;g>=l;g--){const m=i.priorities[g];!m||!(u in m)||(f[u]|=m[u],delete m[u])}let c=f[u]||0;if((c&t)===t)return;c||i.count++,t&a&&c&s?f[u]^=s:t&s&&c&a&&(f[u]^=a),f[u]|=t;const h=o.onViewUpdate;typeof h=="function"&&h.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:o,model:a}=e;if(e instanceof hr){if(t&n)return this.removeView(a),0;if(t&i){const s=!!(t&o);s&&(t^=o),this.insertView(e,s),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=wa({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=sy;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const o={updated:r,batches:n,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:sy});const{_updates:r,options:n}=this,i=r.id;if(i){JO(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),a=wa({},e,{mountBatchSize:kL-o.mounted,unmountBatchSize:kL-o.unmounted}),s=this.checkViewport(a),l=s.unmounted,u=s.mounted;let f=t.processed;const c=r.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=sy,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const h=e.progress;if(c&&typeof h=="function"&&h.call(this,o.empty,f,c,o,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=KO(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||bfe,r=this._updates,n=0,i=0,o=0,a=0,s=sy,l=!0,u=this.options,f=r.priorities,c="viewport"in e?e.viewport:u.viewport;typeof c!="function"&&(c=null);var h=u.onViewPostponed;typeof h!="function"&&(h=null);var g=Object.keys(f);e:for(var m=0,_=g.length;m<_;m++){var v=+g[m],p=f[v];for(var S in p){if(n>=t){l=!1;break e}var y=Zc[S];if(!y){delete p[S];continue}var E=p[S];if(!(E&y.FLAG_REMOVE)){var $=S in r.unmounted;if(y.DETACHABLE&&c&&!c.call(this,y,!$,this)){$||(this.registerUnmountedView(y),this.detachView(y)),r.unmounted[S]|=E,delete p[S],o++;continue}$&&(E|=y.FLAG_INSERT,a++),E|=this.registerMountedView(y)}var T=this.updateView(y,E,e);if(T>0&&(p[S]=T,!h||!h.call(this,y,T,this)||p[S])){i++,l=!1;continue}s>v&&(s=v),n++,delete p[S]}}return{priority:s,updated:n,postponed:i,unmounted:o,mounted:a,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Zc[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Zc[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,a=i.unmounted,s=0,l=Math.min(o.length,n);s<l;s++){var u=o[s];if(u in a){var f=Zc[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}r++;var c=this.registerMountedView(f);c&&this.scheduleViewUpdate(f,c,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,s),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,a=i.mounted,s=0,l=Math.min(o.length,n);s<l;s++){var u=o[s];if(u in a){var f=Zc[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}r++;var c=this.registerUnmountedView(f);c&&this.detachView(f)}}}return o.splice(0,s),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:o}=n,a=!e.DETACHABLE||!r||r.call(this,e,!1,this);let s=!1,l=!1;if(e.cid in i&&!a){this.registerUnmountedView(e)&&this.detachView(e);const c=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(c,1),s=!0}if(!s&&e.cid in o&&a){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:s?1:0}},checkViewport:function(e){var t=wa({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var o=this.checkUnmountedViews(r,t);return{mounted:o,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&JO(o)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Ed.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return _o(t)||(t=this.el.clientWidth),_o(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let o=e===void 0?n:e,a=t===void 0?i:t;if(n===o&&i===a)return;r.width=o,r.height=a,this._setDimensions();const s=this.getComputedSize();this.trigger("resize",s.width,s.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;_o(t)&&(t=Math.round(t)),_o(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Gr(e)?n=e:n=Gt({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:o,width:a,height:s}=this.getFitToContentArea(n),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-o*u),this.setDimensions(a*l,s*u),new Pt(i,o,a,s)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=Mf(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,r),a=e.maxWidth||Number.MAX_VALUE,s=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new Pt(e.contentArea):this.getContentArea(e),{sx:f,sy:c}=this.scale();u.x*=f,u.y*=c,u.width*=f,u.height*=c;let h=Math.ceil((u.width+u.x)/t),g=Math.ceil((u.height+u.y)/r);e.allowNegativeBottomRight||(h=Math.max(h,1),g=Math.max(g,1)),h*=t,g*=r;let m=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(m=Math.ceil(-u.x/t)*t,m+=n.left,h+=m);let _=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(_=Math.ceil(-u.y/r)*r,_+=n.top,g+=_),h+=n.right,g+=n.bottom,h=Math.max(h,i),g=Math.max(g,o),h=Math.min(h,a),g=Math.min(g,s),new Pt(-m/f,-_/c,h/f,g/c)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const v=e.contentArea;t=this.localToPaperRect(v),r=new ze(v)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;wa(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=Mf(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,a=e.minScaleY||e.minScale,s=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const v=this.translate(),p=this.getComputedSize();l={x:v.tx,y:v.ty,width:p.width,height:p.height}}l=new Pt(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const u=this.scale();let f=l.width/t.width*u.sx,c=l.height/t.height*u.sy;if(e.preserveAspectRatio&&(f=c=Math.min(f,c)),e.scaleGrid){const v=e.scaleGrid;f=v*Math.floor(f/v),c=v*Math.floor(c/v)}f=Math.min(o,Math.max(i,f)),c=Math.min(s,Math.max(a,c));const h={x:f/u.sx,y:c/u.sy},g=this.options.origin;let m=l.x-r.x*f-g.x,_=l.y-r.y*c-g.y;switch(e.verticalAlign){case"middle":_=_+(l.height-t.height*h.y)/2;break;case"bottom":_=_+(l.height-t.height*h.y);break}switch(e.horizontalAlign){case"middle":m=m+(l.width-t.width*h.x)/2;break;case"right":m=m+(l.width-t.width*h.x);break}this.scale(f,c),this.translate(m,_)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Pt:st(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return dn(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new Pt(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,o=e.get("type")+"View",a=ug(i,o,".");e.isLink()?(r=t.linkView,n=bm):(r=t.elementView,n=Vw);var s=r.prototype instanceof Fi.View?a||r:r.call(this,e)||a||n;return new s({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?Ea.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:o}=i;const{mounted:a,unmounted:s}=n;i.remove(),delete r[t],delete a[o],delete s[o]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,o,a=!0;return r in n&&(i=n[r],i.model===e?(o=i.FLAG_INSERT,a=!1):this.removeView(e)),a&&(i=n[r]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Vn(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){Gs(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Lr(this.cells).children("[model-id]"),t=this.model.get("cells");Qle(e,function(r,n){var i=t.get(r.getAttribute("model-id")),o=t.get(n.getAttribute("model-id")),a=i.attributes.z||0,s=o.attributes.z||0;return a===s?0:a<s?-1:1})},insertView:function(e,t){const r=this.getLayerView(Ea.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case Ed.APPROX:r.insertSortedNode(n,i.get("z"));break;case Ed.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return st.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var o=i.tx-r*(e-1),a=i.ty-n*(t-1);this.translate(o,a)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var s=this.matrix();return s.a=e,s.d=t,this.matrix(s),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return st.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return st.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:a,ty:s}=this.translate();return n.x=a,n.y=s,this.trigger("translate",a,s),i&&this.drawGrid(),this},findView:function(e){var t=zi(e)?this.cells.querySelector(e):e instanceof Lr?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=zi(e)||_o(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new ze(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=wa(t||{},{strict:!1}),e=new Pt(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new ze(e,t),n=st.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=st.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var r=new ze(e,t),n=st.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=st.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var r=new ze(e,t),n=st.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=st.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var r=new ze(e,t),n=st.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=st.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ze(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),o=new Pt(e,t,r,n);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ze(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof bm))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return dn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;zi(t)&&(t={name:t});const o=t.name,a=i[o];if(!a)throw new Error('Unknown highlighter ("'+o+'")');if(typeof a.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof a.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:a,options:t.options||{},name:o}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=bi(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=bi(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=bi(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=bi(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&n.preventDefaultInteraction(e);const a=this.customEventTrigger(e,n);if(a){if(a.isPropagationStopped())return;e.data=a.data}const s=t.closest("[magnet]");if(s&&n.el!==s&&n.el.contains(s)){const l=bi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:s}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;const o=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=bi(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=bi(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(Lr.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=bi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=bi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=bi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseenter(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=bi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseleave(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:Mle(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((a,s)=>a+Kle(s,wfe),0),n=Math.pow(.995,r),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,n),this._mw_evt_buffer={event:null,deltas:[]}},CL,{maxWait:CL}),mousewheel:function(e){e=bi(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:o}=Gle(r),a=this._events["paper:pinch"];if(e.ctrlKey&&a&&a.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const s=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,s):this.trigger("blank:mousewheel",e,n.x,n.y,s),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=bi(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=bi(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,o){t.onmagnet(r,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetpointerdblclick(r,n,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetcontextmenu(r,n,i,o)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=bi(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=bi(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof nl||this.svg===r||this.el===r||Lr.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:st("svg",{width:"100%",height:"100%"},st("defs")),patterns:{},add:function(e,t){st(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(st("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(zi(e)&&Array.isArray(t[e]))return t[e].map(function(l){return Gt({},l)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return Gt({},l)}),a=Array.isArray(r.args)?r.args:[r.args||{}];wa(a[0],lg(e,"args"));for(var s=0;s<a.length;s++)o[s]&&Gt(o[s],a[s]);return o}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(a,s){var l="pattern_"+s,u=ni(a,r[s],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});u.width=t*(n.a||1)*(u.scaleFactor||1),u.height=t*(n.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,st("pattern",{id:l,patternUnits:"userSpaceOnUse"},st(u.markup)));var f=i.get(l);dn(u.update)&&u.update(f.node.childNodes[0],u);var c=u.ox%u.width;c<0&&(c+=u.width);var h=u.oy%u.height;h<0&&(h+=u.height),f.attr({x:c,y:h,width:u.width,height:u.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Gr(t)){var o=i.tx+n.sx*(t.x||0),a=i.ty+n.sy*(t.y||0);t=o+"px "+a+"px"}Gr(r)&&(r=new Pt(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,a=Math.abs(t.quality)||1,s=this.constructor.backgroundPatterns[Ule(i)];if(dn(s)){e.width*=a,e.height*=a;var l=s(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),i="repeat",Gr(n)?(n.width*=l.width/e.width,n.height*=l.height/e.height):n===void 0&&(t.size={width:l.width/a,height:l.height/a})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=ba(e),Zd(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Gs(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Gr(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+Zv(JSON.stringify(e))),!this.isDefined(t)){var n=eue,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var o=Gt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});st(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Gr(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+Zv(JSON.stringify(e)),stops:o,attrs:a={}}=e;if(this.isDefined(i))return i;const s=$r(o).map(({offset:u,color:f,opacity:c})=>st("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(c)?c:1})),l=st(n,a,s);return l.id=i,l.appendTo(r),i},definePattern:function(e){if(!Gr(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+Zv(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const a=st("pattern",{patternUnits:"userSpaceOnUse"});if(a.id=n,a.attr(o),typeof i=="string")a.append(st(i));else{const{fragment:s}=d_(i);a.append(s)}return a.appendTo(r),n},defineMarker:function(e){if(!Gr(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+Zv(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:a="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const s=st("marker",{orient:"auto",overflow:"visible",markerUnits:a});s.id=n,s.attr(o);let l;if(i){let c;if(typeof i=="string")c=st(i),c=Array.isArray(c)?c:[c];else{const{fragment:h}=d_(i);c=st(h).children()}c.length>1?l=st("g").append(c):l=c[0]}else{const{type:c="path"}=e;l=st(c)}const u=lg(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(c=>{const h=u[c],g=l.attr(c);if(g==null)l.attr(c,h);else switch(c){case"transform":l.attr(c,h+" "+g);break}}),l.appendTo(s),s.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=bi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:Ed,Layers:Ea,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var o=i.getContext("2d"),a=_o(t.watermarkAngle)?-t.watermarkAngle:-20,s=Oo(a),l=i.width/4,u=i.height/4,f=0;f<4;f++)for(var c=0;c<4;c++)(f+c)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*c-1)*u),o.rotate(s),o.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){st(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;st(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",st(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",st(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",st(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),$W=ec.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),ML=ec.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Gt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof hr))return this;for(var n=this.tools=[],i=0,o=t.length;i<o;i++){var a=t[i];a instanceof $W&&(a.configure(r,this),this.vel.append(a.el),n.push(a))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var o=t[n];r?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=Ea.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),Sfe={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},LL=co.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});co.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});co.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});co.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});co.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var C1=10;co.define("standard.Cylinder",{attrs:{body:{lateralArea:C1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:C1,refRx:"50%",ry:C1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=Oi(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=Oi(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,o=t.width,a=t.height,s=o/2,l=r?a*e:e,u=st.KAPPA,f=u*s,c=u*(r?a*e:e),h=n,g=n+o/2,m=n+o,_=i+l,v=_-l,p=i+a-l,S=i+a,y=["M",h,_,"L",h,p,"C",n,p+c,g-f,S,g,S,"C",g+f,S,m,p+c,m,p,"L",m,_,"C",m,_-c,g+f,v,g,v,"C",g-f,v,h,_-c,h,_,"Z"];return{d:y.join(" ")}}}}});var $fe={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},Tfe={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},Afe=Sfe.test("svgforeignobject")?$fe:Tfe;co.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},Afe]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},o={text:e,width:-5,height:"100%"},a=Gt({textVerticalAnchor:"middle"},i);return iW.textWrap.set.call(this,o,t,r,a),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const xfe=Qh.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Qh.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Qh.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});function Ofe(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const TW=$W.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:o,rotate:a,scale:s}=t,l=Ofe(e,o);const u=e.model.angle();a||(l=l.bbox(u));const{x:f=0,y:c=0}=i;Oi(r)?r=parseFloat(r)/100*l.width:Ta(r)&&(r=Number(Aa(r,l))),Oi(n)?n=parseFloat(n)/100*l.height:Ta(n)&&(n=Number(Aa(n,l)));let h=st.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return a&&(h=h.rotate(u)),h=h.translate(r+f-l.width/2,n+c-l.height/2),s&&(h=h.scale(s)),h},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:o}=t;let a,s,l;Oi(n)?a=e.getTangentAtRatio(parseFloat(n)/100):a=e.getTangentAtLength(n),a?(s=a.start,l=a.vector().vectorAngle(new ze(1,0))||0):(s=e.getConnection().start,l=0);let u=st.createSVGMatrix().translate(s.x,s.y).rotate(l).translate(0,r);return i||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),Pfe=TW.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),AW=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,xW=async()=>{if(!AW()){const n=await Rfe();if(!n)throw new Error("failed to get file through HTML5");return{td:await Nfe(n),fileName:n.name}}const e=await Cfe(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},Rfe=async()=>new Promise((e,t)=>{const r=document.getElementById("fileInput");r.onchange=n=>{const i=r.files[0];return i?e(i):t(new Error("AbortError"))},r.click()}),Nfe=async e=>new Promise(t=>{const r=new FileReader;r.addEventListener("loadend",n=>{const i=n.srcElement.result;return t(i)}),r.readAsText(e)}),FL=async(e,t,r)=>{if(!AW())return jfe(e,r),e;if(!t)try{t=await kfe()}catch(n){console.error(n);return}return await Ife(t,r),t},Ife=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();await n.write(0,t),await n.close();return}const r=await e.createWritable();await r.write(t),await r.close()},jfe=(e,t)=>{const r=JSON.parse(t);let n=r.id||r.title;if(!n)throw Error("the TD has to have either an id or a title to be saved");n=n.replace(/\s/g,"")+".jsonld",e=e||n;const i={type:"application/ld+json"},o=new File([t],"",i),a=document.getElementById("aDownload");a.href=window.URL.createObjectURL(o),a.setAttribute("download",e),a.click()},Cfe=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then(t=>t[0]):window.chooseFileSystemEntries()},kfe=async()=>{if("showSaveFilePicker"in window){const t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]};return await window.chooseFileSystemEntries(e)},OW=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState(()=>!1),[o,a]=Je.useState(()=>"url"),[s,l]=Je.useState(()=>({})),u=e.interaction??{},f=r.parsedTD;Ce.useImperativeHandle(t,()=>({openModal:()=>c(),close:()=>h()}));const c=()=>{i(!0)},h=()=>{i(!1)},g=E=>u.links?G5(E,u):!1,m=E=>{f.links=[...f.links?f.links:[],E],r.updateOfflineTD(JSON.stringify(f,null,2))},_=E=>{a(E),s&&E==="url"&&l({})},v=Ce.useCallback(async()=>{try{const E=await xW();document.getElementById("link-href").value=`./${E.fileName}`,l(E.fileHandle?E.fileHandle:JSON.parse(E.td))}catch(E){const $="We ran into an error trying to open your TD.";console.error($,E),alert($)}},[]),p=()=>{const E=["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"];let $=0;return E.map(d=>($++,re.jsx("option",{value:d},$)))},S=re.jsxs(re.Fragment,{children:[re.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Thing Description:"}),re.jsx("div",{className:"p-1",children:f.title}),re.jsxs("div",{className:"p-1 pt-2",children:[re.jsx("label",{htmlFor:"rel",className:"pl-2 text-sm font-medium text-gray-400",children:"Relation:(select one of the proposed relations or type your custom relation)"}),re.jsx("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"relation name"}),re.jsx("datalist",{id:"relationType",children:re.jsx(p,{})}),re.jsx("span",{id:"link-rel-info",className:"pl-2 text-xs text-red-400"})]}),re.jsxs("div",{className:"p-1 pt-2",children:[re.jsx("label",{htmlFor:"link-href",className:"pl-2 pr-2 text-sm font-medium text-gray-400",children:"Target ressource:"}),re.jsx(jn,{type:"button",disabled:o==="upload",onClick:()=>_("upload"),className:"h-9",variant:"primary",children:"From local machine"}),re.jsx(jn,{type:"button",disabled:o==="url",onClick:()=>_("url"),className:"ml-2 h-9",variant:"primary",children:"Resource url"}),re.jsxs("div",{className:"p-1 pt-4",children:[re.jsx("input",{type:"text",name:"link-href",id:"link-href",className:"rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"The target ressource",onChange:()=>{Dfe()},disabled:o!=="url"}),o==="upload"&&re.jsx(jn,{type:"button",onClick:v,disabled:o!=="upload",className:"ml-2 h-9",variant:"primary",children:"Open TD"})]}),re.jsx("span",{id:"link-href-info",className:"pl-2 text-xs text-red-400"}),re.jsxs("div",{children:[re.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:(select one of the proposed types or tape your custom type)"}),re.jsx("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"media type"}),re.jsxs("datalist",{id:"mediaType",children:[re.jsx("option",{value:"application/td+json"}),re.jsx("option",{value:"image/jpeg"}),re.jsx("option",{value:"text/csv"}),re.jsx("option",{value:"video/mp4"})]})]})]})]}),y=()=>{if(!r.isValidJSON){k1("Can't add link. TD is malformed");return}const E={href:document.getElementById("link-href").value.trim()||"/"},$=document.getElementById("rel").value.trim(),T=document.getElementById("type").value.trim();$&&(E.rel=$),T&&(E.type=T);let d=!0;try{var A=new URL(E.href)}catch{d=!1}if(o==="url"&&d&&(A.protocol==="http:"||A.protocol==="https:"))try{var x=new XMLHttpRequest;if(x.open("GET",href,!1),x.send(),x.getResponseHeader("content-type").includes("application/td+json")){const O=x.response;let C=JSON.parse(O);linkedTd[E.href]=C}}catch(O){console.error("We ran into an error trying to fetch your TD.",O),linkedTd[href]=s}else linkedTd[href]=s;E.href===""?k1("The href field is mandatory ..."):g(E)?k1("A Link with the target Thing Description already exists ..."):(m(E),r.addLinkedTd(linkedTd),l({}),h())};return n?ys.createPortal(re.jsx(La,{onCancel:h,onSubmit:y,submitText:"Add",children:S,title:"Add Link ",description:`Tell us how this ${f.title} can interact with other ressources`}),document.getElementById("modal-root")):null}),k1=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},Dfe=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};OW.displayName="AddLinkTdDialog";const Mfe=e=>{const t=Ce.useContext(pn),r=i=>{let o=t.linkedTd;o[i.link.href]&&(delete o[i.link.href],t.updateLinkedTd(o)),t.removeLink(i.propName),t.updateIsModified(!0)},n=async i=>{let o=i.link.href;AR(t,o)};return re.jsxs("div",{className:"bg-formBlue border-formBlue mt-2 flex min-h-12 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",children:[re.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:re.jsx("div",{className:"text-formBlue place-self-center px-4 text-center",children:e.link.rel??"-"})}),re.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:e.link.href}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||t.linkedTd[e.link.href].kind==="file")&&re.jsx("button",{className:"bg-formBlue border-formBlue flex w-10 items-center justify-center border-r-2",onClick:()=>n(e),children:re.jsx(xg,{size:16,color:"black"})}),re.jsx("button",{className:"bg-formBlue flex w-10 items-center justify-center",onClick:()=>r(e),children:re.jsx(uc,{size:16,color:"black"})})]})},Lfe=e=>{const t=Ce.useContext(pn),r=Ce.useRef(),n=()=>{r.current.openModal()},i=t.parsedTD,[o,a]=Ce.useState(0),[s,l]=Ce.useState("list"),[u,f]=Ce.useState(!1);if(Ce.useEffect(()=>{if(document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",function($){document.getElementsByTagName("details")[1].attributes.open?f(!0):f(!1)},!1),i===void 0||!i.links||!Array.isArray(i.links))return;let h=100,g=30,m=new ej,_=new Efe({el:document.getElementById("tdGraph"),model:m,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(!(i===void 0||!i.links||!Array.isArray(i.links))){var v=new LL;v.position(100,10),v.resize(140,40),v.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),v.set("td",{}),v.resize(v.attributes.attrs.label.text.length*12,40),m.addCell(v);for(const[$,T]of i.links.entries()){if(Object.prototype.toString.call(T)!=="[object Object]")continue;h=h+70,g=g+60;const d=T.href??"no href provided",A=T.rel??"",x=new LL;x.position(h,g),x.attr({body:{fill:"#005A9C"},label:{text:d,fill:"white"}}),x.resize(x.attributes.attrs.label.text.length*12,40),m.addCell(x),x.set("href",d);var p=new Pfe({useModelGeometry:!0,y:"0%",x:"100%",action:async function(C,F,V){if(t.linkedTd){let Q=t.linkedTd;Q[F.model.get("href")]&&(delete Q[F.model.get("href")],t.updateLinkedTd(Q))}for(let Q=0;Q<i.links.length;Q++)if(d===F.model.get("href")){t.removeLink(Q),t.updateIsModified(!0);break}}}),S=new ML({tools:[p]}),y=x.findView(_);if(y.addTools(S),t.linkedTd&&t.linkedTd[d]&&(t.linkedTd[d].kind==="file"||Object.keys(t.linkedTd[d]).length)){x.set("td",t.linkedTd[d]);var E=new TW({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(F,V,Q){let H=V.model.get("href");AR(t,H)}});let C=new ML({tools:[p,E]});y.addTools(C)}let O=new xfe({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:A,fill:"grey"}}}]});O.source(v),O.target(x),O.addTo(m)}a(g+30)}},[o,s,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,i]),i===void 0)return re.jsx(re.Fragment,{});let c=[];if(i.links&&Array.isArray(i.links))for(const[h,g]of i.links.entries())Object.prototype.toString.call(g)==="[object Object]"&&c.push(re.jsx(Mfe,{link:g},h));return re.jsxs("details",{className:"pt-8",children:[re.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[re.jsxs("div",{className:"flex flex-grow",children:[re.jsx(al,{tooltip:_U(),children:re.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Links"})}),u&&re.jsx(jn,{disabled:s==="list",onClick:()=>l("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),u&&re.jsx(jn,{disabled:s==="graph",onClick:()=>l("graph"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Graph"})]}),re.jsx(jn,{onClick:n,variant:"primary",type:"button",children:"Add Top Level Link"}),re.jsx(OW,{type:"link",interaction:i,ref:r})]}),c&&s==="graph"&&re.jsx("div",{className:"pt-4",children:re.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",id:"tdGraph"})}),c&&s==="list"&&re.jsx("div",{className:"pt-4",children:re.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]})};function Xf(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(c){a(c)}}function l(f){try{u(n.throw(f))}catch(c){a(c)}}function u(f){f.done?o(f.value):i(f.value).then(s,l)}u((n=n.apply(e,t||[])).next())})}const Ffe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Dh(e,t,r){const n=Bfe(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&BL(n,"path",o),BL(n,"relativePath",o),n}function Bfe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=Ffe.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function BL(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const Ufe=[".DS_Store","Thumbs.db"];function zfe(e){return Xf(this,void 0,void 0,function*(){return g_(e)&&qfe(e.dataTransfer)?Gfe(e.dataTransfer,e.type):Vfe(e)?Hfe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Wfe(e):[]})}function qfe(e){return g_(e)}function Vfe(e){return g_(e)&&g_(e.target)}function g_(e){return typeof e=="object"&&e!==null}function Hfe(e){return rP(e.target.files).map(t=>Dh(t))}function Wfe(e){return Xf(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Dh(r))})}function Gfe(e,t){return Xf(this,void 0,void 0,function*(){if(e.items){const r=rP(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(Kfe));return UL(PW(n))}return UL(rP(e.files).map(r=>Dh(r)))})}function UL(e){return e.filter(t=>Ufe.indexOf(t.name)===-1)}function rP(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function Kfe(e){if(typeof e.webkitGetAsEntry!="function")return zL(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?RW(t):zL(e,t)}function PW(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?PW(r):[r]],[])}function zL(e,t){return Xf(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const a=yield o.getFile();return a.handle=o,Dh(a)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Dh(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function Jfe(e){return Xf(this,void 0,void 0,function*(){return e.isDirectory?RW(e):Yfe(e)})}function RW(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(a=>Xf(this,void 0,void 0,function*(){if(a.length){const s=Promise.all(a.map(Jfe));i.push(s),o()}else try{const s=yield Promise.all(i);r(s)}catch(s){n(s)}}),a=>{n(a)})}o()})}function Yfe(e){return Xf(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=Dh(n,e.fullPath);t(i)},n=>{r(n)})})})}var D1=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(a){var s=a.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):i===s})}return!0};function qL(e){return Zfe(e)||Qfe(e)||IW(e)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zfe(e){if(Array.isArray(e))return nP(e)}function VL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(r),!0).forEach(function(n){NW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cg(e,t){return rde(e)||tde(e,t)||IW(e,t)||ede()}function ede(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){if(e){if(typeof e=="string")return nP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nP(e,t)}}function nP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function rde(e){if(Array.isArray(e))return e}var nde=typeof D1=="function"?D1:D1.default,ide="file-invalid-type",ode="file-too-large",ade="file-too-small",sde="too-many-files",lde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:ide,message:"File type must be ".concat(n)}},WL=function(t){return{code:ode,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},GL=function(t){return{code:ade,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},ude={code:sde,message:"Too many files"};function jW(e,t){var r=e.type==="application/x-moz-file"||nde(e,t);return[r,r?null:lde(t)]}function CW(e,t,r){if(ef(e.size))if(ef(t)&&ef(r)){if(e.size>r)return[!1,WL(r)];if(e.size<t)return[!1,GL(t)]}else{if(ef(t)&&e.size<t)return[!1,GL(t)];if(ef(r)&&e.size>r)return[!1,WL(r)]}return[!0,null]}function ef(e){return e!=null}function cde(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,s=e.validator;return!o&&t.length>1||o&&a>=1&&t.length>a?!1:t.every(function(l){var u=jW(l,r),f=cg(u,1),c=f[0],h=CW(l,n,i),g=cg(h,1),m=g[0],_=s?s(l):null;return c&&m&&!_})}function v_(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ly(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function KL(e){e.preventDefault()}function fde(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function dde(e){return e.indexOf("Edge/")!==-1}function hde(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return fde(e)||dde(e)}function Rs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return t.some(function(s){return!v_(n)&&s&&s.apply(void 0,[n].concat(o)),v_(n)})}}function pde(){return"showOpenFilePicker"in window}function mde(e){if(ef(e)){var t=Object.entries(e).filter(function(r){var n=cg(r,2),i=n[0],o=n[1],a=!0;return kW(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(o)||!o.every(DW))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var i=cg(n,2),o=i[0],a=i[1];return HL(HL({},r),{},NW({},o,a))},{});return[{description:"Files",accept:t}]}return e}function gde(e){if(ef(e))return Object.entries(e).reduce(function(t,r){var n=cg(r,2),i=n[0],o=n[1];return[].concat(qL(t),[i],qL(o))},[]).filter(function(t){return kW(t)||DW(t)}).join(",")}function vde(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function yde(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function kW(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function DW(e){return/^.*\.[\w]+$/.test(e)}var wde=["children"],bde=["open"],_de=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ede=["refKey","onChange","onClick"];function Sde(e){return Ade(e)||Tde(e)||MW(e)||$de()}function $de(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ade(e){if(Array.isArray(e))return iP(e)}function M1(e,t){return Pde(e)||Ode(e,t)||MW(e,t)||xde()}function xde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MW(e,t){if(e){if(typeof e=="string")return iP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iP(e,t)}}function iP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ode(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Pde(e){if(Array.isArray(e))return e}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){oP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y_(e,t){if(e==null)return{};var r=Rde(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rde(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var oj=Ce.forwardRef(function(e,t){var r=e.children,n=y_(e,wde),i=FW(n),o=i.open,a=y_(i,bde);return Ce.useImperativeHandle(t,function(){return{open:o}},[o]),Je.createElement(Ce.Fragment,null,r(Nn(Nn({},a),{},{open:o})))});oj.displayName="Dropzone";var LW={disabled:!1,getFilesFromEvent:zfe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};oj.defaultProps=LW;oj.propTypes={children:rt.func,accept:rt.objectOf(rt.arrayOf(rt.string)),multiple:rt.bool,preventDropOnDocument:rt.bool,noClick:rt.bool,noKeyboard:rt.bool,noDrag:rt.bool,noDragEventsBubbling:rt.bool,minSize:rt.number,maxSize:rt.number,maxFiles:rt.number,disabled:rt.bool,getFilesFromEvent:rt.func,onFileDialogCancel:rt.func,onFileDialogOpen:rt.func,useFsAccessApi:rt.bool,autoFocus:rt.bool,onDragEnter:rt.func,onDragLeave:rt.func,onDragOver:rt.func,onDrop:rt.func,onDropAccepted:rt.func,onDropRejected:rt.func,onError:rt.func,validator:rt.func};var aP={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function FW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Nn(Nn({},LW),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,a=t.minSize,s=t.multiple,l=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,c=t.onDragOver,h=t.onDrop,g=t.onDropAccepted,m=t.onDropRejected,_=t.onFileDialogCancel,v=t.onFileDialogOpen,p=t.useFsAccessApi,S=t.autoFocus,y=t.preventDropOnDocument,E=t.noClick,$=t.noKeyboard,T=t.noDrag,d=t.noDragEventsBubbling,A=t.onError,x=t.validator,O=Ce.useMemo(function(){return gde(r)},[r]),C=Ce.useMemo(function(){return mde(r)},[r]),F=Ce.useMemo(function(){return typeof v=="function"?v:YL},[v]),V=Ce.useMemo(function(){return typeof _=="function"?_:YL},[_]),Q=Ce.useRef(null),H=Ce.useRef(null),X=Ce.useReducer(Nde,aP),ce=M1(X,2),Z=ce[0],ie=ce[1],k=Z.isFocused,B=Z.isFileDialogActive,G=Ce.useRef(typeof window<"u"&&window.isSecureContext&&p&&pde()),P=function(){!G.current&&B&&setTimeout(function(){if(H.current){var Ue=H.current.files;Ue.length||(ie({type:"closeDialog"}),V())}},300)};Ce.useEffect(function(){return window.addEventListener("focus",P,!1),function(){window.removeEventListener("focus",P,!1)}},[H,B,V,G]);var N=Ce.useRef([]),q=function(Ue){Q.current&&Q.current.contains(Ue.target)||(Ue.preventDefault(),N.current=[])};Ce.useEffect(function(){return y&&(document.addEventListener("dragover",KL,!1),document.addEventListener("drop",q,!1)),function(){y&&(document.removeEventListener("dragover",KL),document.removeEventListener("drop",q))}},[Q,y]),Ce.useEffect(function(){return!n&&S&&Q.current&&Q.current.focus(),function(){}},[Q,S,n]);var oe=Ce.useCallback(function(qe){A?A(qe):console.error(qe)},[A]),J=Ce.useCallback(function(qe){qe.preventDefault(),qe.persist(),xe(qe),N.current=[].concat(Sde(N.current),[qe.target]),ly(qe)&&Promise.resolve(i(qe)).then(function(Ue){if(!(v_(qe)&&!d)){var W=Ue.length,I=W>0&&cde({files:Ue,accept:O,minSize:a,maxSize:o,multiple:s,maxFiles:l,validator:x}),L=W>0&&!I;ie({isDragAccept:I,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),u&&u(qe)}}).catch(function(Ue){return oe(Ue)})},[i,u,oe,d,O,a,o,s,l,x]),Y=Ce.useCallback(function(qe){qe.preventDefault(),qe.persist(),xe(qe);var Ue=ly(qe);if(Ue&&qe.dataTransfer)try{qe.dataTransfer.dropEffect="copy"}catch{}return Ue&&c&&c(qe),!1},[c,d]),se=Ce.useCallback(function(qe){qe.preventDefault(),qe.persist(),xe(qe);var Ue=N.current.filter(function(I){return Q.current&&Q.current.contains(I)}),W=Ue.indexOf(qe.target);W!==-1&&Ue.splice(W,1),N.current=Ue,!(Ue.length>0)&&(ie({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ly(qe)&&f&&f(qe))},[Q,f,d]),be=Ce.useCallback(function(qe,Ue){var W=[],I=[];qe.forEach(function(L){var ne=jW(L,O),ye=M1(ne,2),Se=ye[0],De=ye[1],je=CW(L,a,o),Be=M1(je,2),at=Be[0],wt=Be[1],ut=x?x(L):null;if(Se&&at&&!ut)W.push(L);else{var kt=[De,wt];ut&&(kt=kt.concat(ut)),I.push({file:L,errors:kt.filter(function(Tr){return Tr})})}}),(!s&&W.length>1||s&&l>=1&&W.length>l)&&(W.forEach(function(L){I.push({file:L,errors:[ude]})}),W.splice(0)),ie({acceptedFiles:W,fileRejections:I,isDragReject:I.length>0,type:"setFiles"}),h&&h(W,I,Ue),I.length>0&&m&&m(I,Ue),W.length>0&&g&&g(W,Ue)},[ie,s,O,a,o,l,h,g,m,x]),Ne=Ce.useCallback(function(qe){qe.preventDefault(),qe.persist(),xe(qe),N.current=[],ly(qe)&&Promise.resolve(i(qe)).then(function(Ue){v_(qe)&&!d||be(Ue,qe)}).catch(function(Ue){return oe(Ue)}),ie({type:"reset"})},[i,be,oe,d]),R=Ce.useCallback(function(){if(G.current){ie({type:"openDialog"}),F();var qe={multiple:s,types:C};window.showOpenFilePicker(qe).then(function(Ue){return i(Ue)}).then(function(Ue){be(Ue,null),ie({type:"closeDialog"})}).catch(function(Ue){vde(Ue)?(V(Ue),ie({type:"closeDialog"})):yde(Ue)?(G.current=!1,H.current?(H.current.value=null,H.current.click()):oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):oe(Ue)});return}H.current&&(ie({type:"openDialog"}),F(),H.current.value=null,H.current.click())},[ie,F,V,p,be,oe,C,s]),D=Ce.useCallback(function(qe){!Q.current||!Q.current.isEqualNode(qe.target)||(qe.key===" "||qe.key==="Enter"||qe.keyCode===32||qe.keyCode===13)&&(qe.preventDefault(),R())},[Q,R]),M=Ce.useCallback(function(){ie({type:"focus"})},[]),K=Ce.useCallback(function(){ie({type:"blur"})},[]),ae=Ce.useCallback(function(){E||(hde()?setTimeout(R,0):R())},[E,R]),fe=function(Ue){return n?null:Ue},de=function(Ue){return $?null:fe(Ue)},pe=function(Ue){return T?null:fe(Ue)},xe=function(Ue){d&&Ue.stopPropagation()},Le=Ce.useMemo(function(){return function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=qe.refKey,W=Ue===void 0?"ref":Ue,I=qe.role,L=qe.onKeyDown,ne=qe.onFocus,ye=qe.onBlur,Se=qe.onClick,De=qe.onDragEnter,je=qe.onDragOver,Be=qe.onDragLeave,at=qe.onDrop,wt=y_(qe,_de);return Nn(Nn(oP({onKeyDown:de(Rs(L,D)),onFocus:de(Rs(ne,M)),onBlur:de(Rs(ye,K)),onClick:fe(Rs(Se,ae)),onDragEnter:pe(Rs(De,J)),onDragOver:pe(Rs(je,Y)),onDragLeave:pe(Rs(Be,se)),onDrop:pe(Rs(at,Ne)),role:typeof I=="string"&&I!==""?I:"presentation"},W,Q),!n&&!$?{tabIndex:0}:{}),wt)}},[Q,D,M,K,ae,J,Y,se,Ne,$,T,n]),ke=Ce.useCallback(function(qe){qe.stopPropagation()},[]),nt=Ce.useMemo(function(){return function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=qe.refKey,W=Ue===void 0?"ref":Ue,I=qe.onChange,L=qe.onClick,ne=y_(qe,Ede),ye=oP({accept:O,multiple:s,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:fe(Rs(I,Ne)),onClick:fe(Rs(L,ke)),tabIndex:-1},W,H);return Nn(Nn({},ye),ne)}},[H,r,s,Ne,n]);return Nn(Nn({},Z),{},{isFocused:k&&!n,getRootProps:Le,getInputProps:nt,rootRef:Q,inputRef:H,open:fe(R)})}function Nde(e,t){switch(t.type){case"focus":return Nn(Nn({},e),{},{isFocused:!0});case"blur":return Nn(Nn({},e),{},{isFocused:!1});case"openDialog":return Nn(Nn({},aP),{},{isFileDialogActive:!0});case"closeDialog":return Nn(Nn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Nn(Nn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Nn(Nn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Nn({},aP);default:return e}}function YL(){}const Ide=({onUndo:e,onRedo:t})=>{const r=Ce.useContext(pn),n=r.parsedTD,i=["id","properties","actions","events","forms","description","title","links"],o=Je.useRef(),a=()=>{var g;(g=o.current)==null||g.openModal()},s=Ce.useCallback(g=>{const m=g[0],_=new FileReader;_.onabort=()=>console.error("File reading  - aborted"),_.onerror=()=>console.error("File reading - failed"),_.onload=()=>{const v={td:_.result,fileName:m.name,fileHandle:m};try{let p={};p[v.fileName]=v.fileHandle,r.updateOfflineTD(v.td),r.updateIsModified(!1),r.setFileHandle(v.fileName),r.updateLinkedTd(void 0),r.addLinkedTd(p)}catch(p){console.error("File processing:",p)}},_.readAsText(m)},[r]),{getRootProps:l,getInputProps:u,isDragActive:f}=FW({onDrop:s,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10*1024*1024});if(!r.offlineTD)return re.jsxs("div",{...l(),className:"align-center flex h-full w-full justify-center justify-items-center bg-gray-500 text-center",children:[re.jsx("input",{...u()}),f?re.jsx("div",{className:"place-self-center text-4xl text-white",children:re.jsx("p",{children:"Drop the files here ..."})}):re.jsxs("div",{className:"place-self-center text-4xl text-white",children:['Start writing a new TD by clicking "Create"',re.jsx("p",{children:"or drag and drop .json file here"}),re.jsx("div",{className:"pt-4",children:re.jsx("p",{className:"text-xl text-gray-600",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let c;n.forms&&(c=W_(n.forms).map((m,_)=>re.jsx(EE,{form:m,propName:_},_)));const h=H_(n.id?{id:n.id}:{},n,i);return re.jsxs("div",{className:"h-full w-full overflow-auto bg-gray-500 p-6",children:[re.jsx(Qoe,{onUndo:e,onRedo:t}),n!==void 0&&Object.keys(n).length>0&&re.jsxs("div",{children:[re.jsx("div",{className:"text-3xl text-white",children:n.title?dT(n,"title",n["@context"]):re.jsx(re.Fragment,{})}),n.description?re.jsx("div",{className:"pt-4 text-xl text-white",children:dT(n,"description",n["@context"])}):re.jsx(re.Fragment,{}),re.jsx("div",{className:"pt-4",children:re.jsx(a8,{...h})})]}),re.jsxs("details",{className:"pt-8",children:[re.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[re.jsx("div",{className:"flex flex-grow",children:re.jsx(al,{tooltip:Og(),id:"forms",children:re.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Forms"})})}),re.jsx(jn,{onClick:a,variant:"primary",type:"button",children:"Add Top Level Form"}),re.jsx(Sg,{type:"thing",interaction:n,ref:o})]}),c&&re.jsx("div",{className:"pt-4",children:re.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]}),re.jsx(Lfe,{}),re.jsx(h1,{interaction:"Properties"}),re.jsx(h1,{interaction:"Actions"}),re.jsx(h1,{interaction:"Events"}),re.jsx("div",{className:"h-10"})]})},jde=e=>{const t=Ce.useContext(pn),r=Cde(t.offlineTD.length);let n=0,i=0,o=0;if(Object.keys(t.parsedTD).length!==0){const a=t.parsedTD;n=a.properties?Object.keys(a.properties).length:0,i=a.actions?Object.keys(a.actions).length:0,o=a.events?Object.keys(a.events).length:0}return re.jsx(re.Fragment,{children:re.jsx("footer",{className:"flex h-10 flex-col justify-center bg-blue-500 text-white",children:re.jsxs("div",{className:"flex items-center px-2",children:[re.jsxs("div",{className:"hidden grow items-center gap-2 md:flex",children:[re.jsxs("div",{children:["Properties: ",n]}),re.jsxs("div",{children:["| Actions: ",i]}),re.jsxs("div",{children:["| Events: ",o]}),re.jsxs("div",{children:["| Size: ",r]})]}),re.jsxs("div",{className:"flex grow gap-2 md:hidden",children:[re.jsxs("div",{children:["P: ",n]}),re.jsxs("div",{children:["| A: ",i]}),re.jsxs("div",{children:["| E: ",o]}),re.jsxs("div",{className:"flex",children:[re.jsxs("div",{children:["| ",r]}),t.isModified&&re.jsx("div",{className:"md:hidden",children:"*"})]})]}),re.jsxs("div",{className:"flex items-center gap-2",children:[t.isModified&&re.jsx("div",{className:"hidden md:block",children:"You have unsaved changes - "}),re.jsxs("div",{children:["v","0.7.0"]}),re.jsx("a",{className:"rounded-full bg-black p-2",href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:re.jsx(qR,{size:16})})]})]})})})};function Cde(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}const kde=""+new URL("editdor-Cn4ts1-9.png",import.meta.url).href,BW="target-url",UW=()=>{const e=localStorage.getItem(BW);return e===null?"":e},Dde=e=>{e!=""&&!e.endsWith("/")&&(e=e+"/"),localStorage.setItem(BW,e)},Mde=async(e,t)=>{const r=encodeURIComponent(e.id),n=await fetch(`${t}things/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.status===400||n.status===500){const i=await n.json();throw Error(i.error)}return n.status},Lde=async(e,t)=>{const r=await fetch(`${t}things`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(r.status===400||r.status===500){const n=await r.json();throw Error(n.error)}return r.status},Fde=async(e,t)=>{const r=encodeURIComponent(e),n=await fetch(`${t}things/${r}`,{method:"GET",headers:{"Content-Type":"application/json"}}),i=await n.json();if(n.status===404||n.status===500)throw Error(i.error);return i},Bde=(e,t)=>{if(!t)return e;const r=new URL(e,window.location.origin);return Object.entries(t).forEach(([n,i])=>{r.searchParams.append(n,String(i))}),r.toString()},Ude=async(e,t="GET",r,n={})=>{const{headers:i,queryParams:o,...a}=n,s=Bde(e,o);return await fetch(s,{method:t,body:r,headers:{"Content-Type":"application/json",...i||{}},...a})},zW=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState([]),[o,a]=Je.useState(()=>!1);Ce.useEffect(()=>{i(zde(r.offlineTD))},[r]),Ce.useImperativeHandle(t,()=>({openModal:()=>s(),close:()=>l()}));const s=()=>{a(!0)},l=()=>{a(!1)};return o?ys.createPortal(re.jsx(La,{onCancel:l,onSubmit:()=>qde(r.offlineTD,n),submitText:"Generate TD",children:n,title:"Generate TD From TM",description:"Please provide values to switch the placeholders with."}),document.getElementById("modal-root")):null}),zde=e=>{try{let t=/{{/gi,r,n=[];for(;r=t.exec(e);)n.push(r.index);t=/}}/gi;let i=[];for(;r=t.exec(e);)i.push(r.index);let o=[];for(let c=0;c<n.length;c++)o.push(e.slice(n[c]+2,i[c]));o=[...new Set(o)];const a=o.map(c=>re.jsxs("div",{className:"py-1",children:[re.jsxs("label",{htmlFor:c,className:"pl-2 text-sm font-medium text-gray-400",children:[c,":"]}),re.jsx("input",{type:"text",name:c,id:c,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"Enter a value..."})]},c));let s=[],l=[],u=[];try{let c=function(p,S){return S.map(y=>{const E=v[p].includes(y);return re.jsxs("div",{className:"form-checkbox py-1 pl-2",children:[re.jsx("input",{id:`${p}/${y}`,className:"form-checkbox-input",type:"checkbox",value:`#${p}/${y}`,disabled:E,defaultChecked:!0,title:E?"This field is required by the TM.":"","data-interaction":p}),re.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:`${p}/${y}`,children:`#${p}/${y}`})]},`${p}/${y}`)})};const h=JSON.parse(e),g=Object.keys(h.properties?h.properties:{}),m=Object.keys(h.actions?h.actions:{}),_=Object.keys(h.events?h.events:{}),v={properties:[],actions:[],events:[]};if(h["tm:required"])for(const p of h["tm:required"])p.startsWith("#properties/")?v.properties.push(p.split("/")[1]):p.startsWith("#actions/")?v.actions.push(p.split("/")[1]):p.startsWith("#events/")&&v.events.push(p.split("/")[1]);s=c("properties",g),l=c("actions",m),u=c("events",_)}catch{}const f=re.jsx("h2",{className:"pb-2 pt-4 text-gray-400",children:"Also, select/unselect the interaction affordances you would like to see in the new TD."},"modalDividerText");return[...a,f,...s,...l,...u]}catch(t){return console.log(t),[]}},qde=(e,t)=>{let r={};const n=[],i=[],o=[];for(const s of t)s.props.className.indexOf("form-checkbox")>-1&&document.getElementById(s.props.children[0].props.id).checked&&(s.props.children[0].props["data-interaction"]==="properties"?n.push(s.key.split("/")[1]):s.props.children[0].props["data-interaction"]==="actions"?i.push(s.key.split("/")[1]):s.props.children[0].props["data-interaction"]==="events"&&o.push(s.key.split("/")[1]));t=t.filter(s=>s.props.className.indexOf("form-checkbox")===-1&&s.key!=="modalDividerText"),t.forEach(s=>{const l=document.getElementById(s.key);return r[s.key]=l.value,l.value}),Object.keys(r).forEach(s=>{if(isNaN(Number(r[s])))e=e.split(`{{${s}}}`).join(r[s]);else{let l=e.split(`"{{${s}}}"`);l.length===1&&(l=e.split(`{{${s}}}`)),e=l.join(r[s])}});const a=JSON.parse(e);if(a.properties){const s=Object.keys(a.properties).filter(l=>n.includes(l)).reduce((l,u)=>(l[u]=a.properties[u],l),{});a.properties=s}if(a.actions){const s=Object.keys(a.actions).filter(l=>i.includes(l)).reduce((l,u)=>(l[u]=a.actions[u],l),{});a.actions=s}if(a.events){const s=Object.keys(a.events).filter(l=>o.includes(l)).reduce((l,u)=>(l[u]=a.events[u],l),{});a.events=s}delete a["@type"],delete a["tm:required"],localStorage.setItem("td",JSON.stringify(a,null,2)),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")};zW.displayName="ConvertTmDialog";const Vde=(e,t=!0,r)=>{const n=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(t){const i=n[0].split(r).map(o=>o.trim());return n.slice(1).map(o=>{const a=o.split(r).map(s=>s.trim());return i.reduce((s,l,u)=>(s[l]=a[u],s),{})})}else throw new Error("CSV parsing without headers is not supported")},Hde=e=>({...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...e.minimum?{minimum:Number(e.minimum)}:{},...e.maximum?{maximum:Number(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:e.href?e.href:"/","modbus:unitID":Number(e["modbus:unitID"])??1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":Number(e["modbus:quantity"])??1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":!!e["modbus:zeroBasedAddressing"],"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":!!e["modbus:mostSignificantByte"],"modbus:mostSignificantWord":!!e["modbus:mostSignificantWord"],...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}),Wde=e=>e.reduce((t,r)=>{if(!r.name||r.name.trim()==="")throw new Error("Error on CSV file: Row name is required");if(!r["modbus:address"]||r["modbus:address"].trim()==="")throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${r.name}"`);if(!r["modbus:entity"]||r["modbus:entity"].trim()==="")throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${r.name}"`);return t[r.name]=Hde(r),t},{}),L1=({label:e,placeholder:t,id:r,type:n,autoFocus:i=!1})=>re.jsxs("div",{className:"py-1",children:[re.jsxs("label",{htmlFor:r,className:"pl-2 text-sm font-medium text-gray-400",children:[e,":"]}),re.jsx("input",{name:r,id:r,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:t,type:n,autoFocus:i})]}),qW=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState(()=>!1),[o,a]=Je.useState("TD"),[s,l]=Je.useState({}),[u,f]=Je.useState(""),[c,h]=Je.useState("Modbus TCP"),g=Je.useRef(null);Ce.useImperativeHandle(t,()=>({openModal:()=>m(),close:()=>_()}));const m=()=>{i(!0)},_=()=>{f(""),h("Modbus TCP"),l({}),i(!1)},p=Gde(y=>{a(y.target.value)},o,c,h,u,f,g,l),S=(y,E)=>{var F,V,Q,H,X;let $=(F=document.getElementById("thing-id"))==null?void 0:F.value,T=(V=document.getElementById("thing-title"))==null?void 0:V.value,d=(Q=document.getElementById("thing-base"))==null?void 0:Q.value,A=(H=document.getElementById("thing-description"))==null?void 0:H.value,x=(X=document.getElementById("thing-security"))==null?void 0:X.value;var O={};O["@context"]="https://www.w3.org/2019/wot/td/v1",O.title=T!==""?T:"ediTDor Thing",y==="TM"&&(O["@type"]="tm:ThingModel"),$!==""&&(O.id=$!==""?$:"urn:editdor-thing-id"),u!==""&&d===""?O.base="modbus+tcp://{{IP}}:{{PORT}}":u===""&&d===""?O.base="/":O.base=d,A!==""&&(O.description=A);let C={};return C[`${x}_sc`]={scheme:x},O.securityDefinitions=C,O.security=`${x}_sc`,O.properties=E,O.actions={},O.events={},O};return n?ys.createPortal(re.jsx(La,{onCancel:_,onSubmit:()=>{let y=S(o,s),E={};E[y.title]=y,r.updateLinkedTd(void 0),r.addLinkedTd(E),r.updateOfflineTD(JSON.stringify(y,null,2)),_()},children:p,submitText:o==="TD"?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null}),Gde=(e,t,r,n,i,o,a,s)=>{const l=c=>{const h=c.target.files[0];if(h){o(h.name);const g=new FileReader;g.onload=m=>{var S;const _=(S=m.target)==null?void 0:S.result,v=Vde(_,!0,",");let p={};try{if(p=Wde(v),Object.keys(p).length===0)throw new Error("No valid properties found in the CSV file.")}catch(y){alert(y.message)}s(p)},g.onerror=m=>{var _;alert(`Reading file: ${(_=m.target)==null?void 0:_.error}`)},g.readAsText(h)}},u=()=>{a.current&&a.current.click()},f=()=>{const c="name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout",h=new Blob([c],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(h),m=document.createElement("a");m.href=g,m.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(m),m.click(),document.body.removeChild(m)};return re.jsxs(re.Fragment,{children:[re.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:"}),re.jsxs("div",{className:"relative",children:[re.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t,children:[re.jsx("option",{value:"TD",children:"Thing Description"}),re.jsx("option",{value:"TM",children:"Thing Model"})]}),re.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:re.jsx(wf,{color:"#cacaca"})})]}),re.jsx(L1,{label:"ID",placeholder:"urn:thing-id",id:"thing-id",type:"url",autoFocus:!0}),re.jsx(L1,{label:"Title",placeholder:"Thing Title",id:"thing-title",type:"text",autoFocus:!1}),re.jsx(L1,{label:"Base",placeholder:"http://www.example.com/thing-path",id:"thing-base",type:"url",autoFocus:!1}),re.jsx("label",{htmlFor:"thing-description",className:"pl-2 text-sm font-medium text-gray-400",children:"Description:"}),re.jsx("textarea",{id:"thing-description",rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"A short description about this new Thing..."}),re.jsx("label",{htmlFor:"thing-security",className:"pl-2 text-sm font-medium text-gray-400",children:"Security:"}),re.jsxs("div",{className:"relative mb-8",children:[re.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"thing-security",children:[re.jsx("option",{children:"nosec"}),re.jsx("option",{children:"basic"}),re.jsx("option",{children:"digest"}),re.jsx("option",{children:"bearer"}),re.jsx("option",{children:"psk"}),re.jsx("option",{children:"oauth2"}),re.jsx("option",{children:"apikey"})]}),re.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:re.jsx(wf,{color:"#cacaca"})})]}),re.jsx("div",{className:"pt-2",children:re.jsx("label",{htmlFor:"submit-csv",className:"pl-2 text-sm font-medium text-gray-400",children:"Add properties in CSV format:"})}),re.jsxs("div",{className:"flex flex-col justify-between rounded border-2 border-gray-600",children:[re.jsxs("div",{className:"flex items-center p-2",children:[re.jsx("label",{htmlFor:"protocol-option",className:"pl-2 pr-2 text-lg text-gray-400",children:"Protocol:"}),re.jsxs("div",{className:"relative",children:[re.jsxs("select",{id:"protocol-option",className:"block appearance-none rounded border-2 border-gray-600 bg-gray-600 px-1 py-2 pr-4 leading-tight text-white hover:border-blue-500 focus:outline-none",value:r,onChange:c=>n(c.target.value),children:[re.jsx("option",{children:"Modbus TCP"}),re.jsx("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),re.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-1 flex items-center px-2 text-gray-700",children:re.jsx(wf,{color:"#cacaca"})})]})]}),re.jsxs("div",{className:"flex items-center p-2",children:[re.jsx(jn,{id:"download-template",onClick:f,variant:"primary",type:"button",children:"Download CSV Template"}),re.jsx("input",{type:"file",accept:".csv",ref:a,onChange:l,style:{display:"none"}}),re.jsx(jn,{id:"submit-csv",onClick:u,variant:"primary",type:"button",className:"ml-2",children:"Load a CSV File"}),re.jsx("div",{className:"ml-2",children:re.jsx("p",{className:"pl-2",children:i||"No file selected"})})]})]})]})};qW.displayName="CreateTdDialog";const VW=Ce.forwardRef((e,t)=>{const[r,n]=Je.useState(!1),[i,o]=Je.useState("");Ce.useImperativeHandle(t,()=>({openModal:()=>a(),close:()=>s()}));const a=()=>{n(!0),o(UW())},s=()=>{n(!1)};let l=re.jsxs(re.Fragment,{children:[re.jsx("label",{className:"pl-2 text-sm font-medium text-gray-400",children:"Target URL:"}),re.jsx("input",{type:"text",name:"settings-target-url-field",id:"settings-target-url-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",value:i,onChange:u=>o(u.target.value),placeholder:"http://localhost:8080/"}),re.jsx("p",{className:"pl-2 text-sm text-gray-400",children:"The target url should point to a server that implements the Discovery Specifications's Things API. If a valid target url is provided, the ediTDor automatically uses it to save your changes. Empty this field to simply save files to disk."})]});return r?ys.createPortal(re.jsx(La,{hasSubmit:!0,onCancel:s,cancelText:"Cancel",submitText:"Save Changes",onSubmit:()=>{Dde(i),s()},children:l,title:"Settings",description:"Change the ediTDors configuration to your needs. More configuration options are yet to come..."}),document.getElementById("modal-root")):null});VW.displayName="SettingsDialog";var HW={},aj=class WW{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new WW(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,a;function s(S){typeof S!="function"&&(S=new Function(""+S));for(var y=new Array(arguments.length-1),E=0;E<y.length;E++)y[E]=arguments[E+1];var $={callback:S,args:y};return n[r]=$,a(r),r++}function l(S){delete n[S]}function u(S){var y=S.callback,E=S.args;switch(E.length){case 0:y();break;case 1:y(E[0]);break;case 2:y(E[0],E[1]);break;case 3:y(E[0],E[1],E[2]);break;default:y.apply(t,E);break}}function f(S){if(i)setTimeout(f,0,S);else{var y=n[S];if(y){i=!0;try{u(y)}finally{l(S),i=!1}}}}function c(){a=function(S){process.nextTick(function(){f(S)})}}function h(){if(e.postMessage&&!e.importScripts){var S=!0,y=e.onmessage;return e.onmessage=function(){S=!1},e.postMessage("","*"),e.onmessage=y,S}}function g(){var S="setImmediate$"+Math.random()+"$",y=function(E){E.source===e&&typeof E.data=="string"&&E.data.indexOf(S)===0&&f(+E.data.slice(S.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),a=function(E){e.postMessage(S+E,"*")}}function m(){var S=new MessageChannel;S.port1.onmessage=function(y){var E=y.data;f(E)},a=function(y){S.port2.postMessage(y)}}function _(){var S=o.documentElement;a=function(y){var E=o.createElement("script");E.onreadystatechange=function(){f(y),E.onreadystatechange=null,S.removeChild(E),E=null},S.appendChild(E)}}function v(){a=function(S){setTimeout(f,0,S)}}var p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,{}.toString.call(e.process)==="[object process]"?c():h()?g():e.MessageChannel?m():o&&"onreadystatechange"in o.createElement("script")?_():v(),p.setImmediate=s,p.clearImmediate=l})(typeof self>"u"?Pa:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const F1=self.crypto||self.msCrypto;var KE=class{constructor(t){if(!(F1&&F1.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await F1.subtle.digest(this.algorithm,t));let n="";for(let i=0;i<r.length;++i)n+=r[i].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var GW=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let i=null,o=0;const a=t.length;for(let s=0;s<a;++s){const l=t[s],u=r.get(l);(i===null||l>i)&&(u&&s>0&&l>t[s-1]||!u&&s<a-1&&l>t[s+1])&&(i=l,o=s)}if(i===null)this.done=!0;else{const s=r.get(i)?o-1:o+1;t[o]=t[s],t[s]=i;for(const l of t)l>i&&r.set(l,!r.get(l))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Kde="http://www.w3.org/1999/02/22-rdf-syntax-ns#",B1=Kde+"langString",U1="http://www.w3.org/2001/XMLSchema#string",Ja="NamedNode",Fc="BlankNode",Gw="Literal",XL="DefaultGraph",mh={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-z-----------"+"_",n=r+"0-9---",o="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",a='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',s="(?:\\^\\^"+e+")",u="(?:"+a+"(?:"+s+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",c="[ \\t]*",h="(?:"+e+"|"+o+")"+f,g=e+f,m="(?:"+e+"|"+o+"|"+u+")"+c,_="(?:\\.|(?:(?:"+e+"|"+o+")"+c+"\\.))";mh.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,mh.empty=new RegExp("^"+c+"$"),mh.quad=new RegExp("^"+c+h+g+m+_+c+"$")})();var sj=class Kw{static parse(t){const r=[],n={},i=t.split(mh.eoln);let o=0;for(const a of i){if(o++,mh.empty.test(a))continue;const s=a.match(mh.quad);if(s===null)throw new Error("N-Quads parse error on line "+o+".");const l={subject:null,predicate:null,object:null,graph:null};if(s[1]!==void 0?l.subject={termType:Ja,value:s[1]}:l.subject={termType:Fc,value:s[2]},l.predicate={termType:Ja,value:s[3]},s[4]!==void 0?l.object={termType:Ja,value:s[4]}:s[5]!==void 0?l.object={termType:Fc,value:s[5]}:(l.object={termType:Gw,value:void 0,datatype:{termType:Ja}},s[7]!==void 0?l.object.datatype.value=s[7]:s[8]!==void 0?(l.object.datatype.value=B1,l.object.language=s[8]):l.object.datatype.value=U1,l.object.value=Zde(s[6])),s[9]!==void 0?l.graph={termType:Ja,value:s[9]}:s[10]!==void 0?l.graph={termType:Fc,value:s[10]}:l.graph={termType:XL,value:""},!(l.graph.value in n))n[l.graph.value]=[l],r.push(l);else{let u=!0;const f=n[l.graph.value];for(const c of f)if(Jde(c,l)){u=!1;break}u&&(f.push(l),r.push(l))}}return r}static serialize(t){Array.isArray(t)||(t=Kw.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(Kw.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,i){let o="";return t.termType===Ja?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,n.termType===Ja?o+=`<${n.value}>`:n.termType===Fc?o+=n.value:(o+=`"${Xde(n.value)}"`,n.datatype.value===B1?n.language&&(o+=`@${n.language}`):n.datatype.value!==U1&&(o+=`^^<${n.datatype.value}>`)),i.termType===Ja?o+=` <${i.value}>`:i.termType===Fc&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return Kw.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":Fc,IRI:Ja,literal:Gw};for(const i in t)t[i].forEach(a=>{const s={};for(const l in a){const u=a[l],f={termType:n[u.type],value:u.value};f.termType===Gw&&(f.datatype={termType:Ja},"datatype"in u&&(f.datatype.value=u.datatype),"language"in u?("datatype"in u||(f.datatype.value=B1),f.language=u.language):"datatype"in u||(f.datatype.value=U1)),s[l]=f}i==="@default"?s.graph={termType:XL,value:""}:s.graph={termType:i.startsWith("_:")?Fc:Ja,value:i},r.push(s)});return r}};function Jde(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Gw?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const Yde=/["\\\n\r]/g;function Xde(e){return e.replace(Yde,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const Qde=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function Zde(e){return e.replace(Qde,function(t,r,n,i){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const QL=aj,ehe=KE,the=GW,ZL=sj;var KW=class{constructor({createMessageDigest:t=()=>new ehe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new QL("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const l of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),a=[];for(const l of o){const u=r.get(l);if(u.length>1){a.push(u);continue}const f=u[0];this.canonicalIssuer.getId(f)}for(const l of a){const u=[];for(const f of l){if(this.canonicalIssuer.hasId(f))continue;const c=new QL("_:b");c.getId(f);const h=await this.hashNDegreeQuads(f,c);u.push(h)}u.sort(rhe);for(const f of u){const c=f.issuer.getOldIds();for(const h of c)this.canonicalIssuer.getId(h)}}const s=[];for(const l of this.quads){const u=ZL.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));s.push(u)}return s.sort(),s.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const a of i){const s={subject:null,predicate:a.predicate,object:null,graph:null};s.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),s.object=this.modifyFirstDegreeComponent(t,a.object,"object"),s.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(ZL.serializeQuad(s))}r.sort();const o=this.createMessageDigest();for(const a of r)o.update(a);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(i),i!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(o),a.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=await this.createHashToRelated(t,r),a=[...o.keys()].sort();for(const s of a){i.update(s);let l="",u;const f=new the(o.get(s));let c=0;for(;f.hasNext();){const h=f.next();++c%3===0&&await this._yield();let g=r.clone(),m="";const _=[];let v=!1;for(const p of h)if(this.canonicalIssuer.hasId(p)?m+=this.canonicalIssuer.getId(p):(g.hasId(p)||_.push(p),m+=g.getId(p)),l.length!==0&&m>l){v=!0;break}if(!v){for(const p of _){const S=await this.hashNDegreeQuads(p,g);if(m+=g.getId(p),m+=`<${S.hash}>`,g=S.issuer,l.length!==0&&m>l){v=!0;break}}v||(l.length===0||m<l)&&(l=m,u=g)}}i.update(l),r=u}return{hash:await i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const a of i)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const s=r.value,l=await this.hashRelatedBlankNode(s,t,o,n),u=a.get(l);u?u.push(s):a.set(l,[s])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function rhe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const nhe=KE,ihe=KW;var ohe=class extends ihe{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new nhe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const a of i){let s,l;if(a.subject.termType==="BlankNode"&&a.subject.value!==t)l=a.subject.value,s="p";else if(a.object.termType==="BlankNode"&&a.object.value!==t)l=a.object.value,s="r";else continue;++o%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,a,r,s),f=n.get(u);f?f.push(l):n.set(u,[l])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const eF=aj,ahe=KE,she=GW,tF=sj;var JW=class{constructor({createMessageDigest:t=()=>new ahe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new eF("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const s of t)this._addBlankNodeQuadInfo({quad:s,component:s.subject}),this._addBlankNodeQuadInfo({quad:s,component:s.object}),this._addBlankNodeQuadInfo({quad:s,component:s.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const s of n)this._hashAndTrackBlankNode({id:s,hashToBlankNodes:r});const i=[...r.keys()].sort(),o=[];for(const s of i){const l=r.get(s);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const s of o){const l=[];for(const u of s){if(this.canonicalIssuer.hasId(u))continue;const f=new eF("_:b");f.getId(u);const c=this.hashNDegreeQuads(u,f);l.push(c)}l.sort(lhe);for(const u of l){const f=u.issuer.getOldIds();for(const c of f)this.canonicalIssuer.getId(c)}}const a=[];for(const s of this.quads){const l=tF.serializeQuadComponents(this._componentWithCanonicalId({component:s.subject}),s.predicate,this._componentWithCanonicalId({component:s.object}),this._componentWithCanonicalId({component:s.graph}));a.push(l)}return a.sort(),a.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const a of i){const s={subject:null,predicate:a.predicate,object:null,graph:null};s.subject=this.modifyFirstDegreeComponent(t,a.subject,"subject"),s.object=this.modifyFirstDegreeComponent(t,a.object,"object"),s.graph=this.modifyFirstDegreeComponent(t,a.graph,"graph"),r.push(tF.serializeQuad(s))}r.sort();const o=this.createMessageDigest();for(const a of r)o.update(a);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const a=this.createMessageDigest();return a.update(i),i!=="g"&&a.update(this.getRelatedPredicate(r)),a.update(o),a.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=this.createHashToRelated(t,r),a=[...o.keys()].sort();for(const s of a){i.update(s);let l="",u;const f=new she(o.get(s));for(;f.hasNext();){const c=f.next();let h=r.clone(),g="";const m=[];let _=!1;for(const v of c)if(this.canonicalIssuer.hasId(v)?g+=this.canonicalIssuer.getId(v):(h.hasId(v)||m.push(v),g+=h.getId(v)),l.length!==0&&g>l){_=!0;break}if(!_){for(const v of m){const p=this.hashNDegreeQuads(v,h);if(g+=h.getId(v),g+=`<${p.hash}>`,h=p.issuer,l.length!==0&&g>l){_=!0;break}}_||(l.length===0||g<l)&&(l=g,u=h)}}i.update(l),r=u}return{hash:i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:a}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const s=r.value,l=this.hashRelatedBlankNode(s,t,o,n),u=a.get(l);u?u.push(s):a.set(l,[s])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function lhe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const uhe=KE,che=JW;var fhe=class extends che{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new uhe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i){let a,s;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)s=o.subject.value,a="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)s=o.object.value,a="r";else continue;const l=this.hashRelatedBlankNode(s,o,r,a),u=n.get(l);u?u.push(s):n.set(l,[s])}return n}};const dhe={},hhe=Object.freeze(Object.defineProperty({__proto__:null,default:dhe},Symbol.toStringTag,{value:"Module"})),phe=NP(hhe);(function(e){const t=KW,r=ohe,n=JW,i=fhe;let o;try{o=phe}catch{}function a(s){return Array.isArray(s)?s:e.NQuads.legacyDatasetToQuads(s)}e.NQuads=sj,e.IdentifierIssuer=aj,e._rdfCanonizeNative=function(s){return s&&(o=s),o},e.canonize=async function(s,l){const u=a(s);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((f,c)=>o.canonize(u,l,(h,g)=>h?c(h):f(g)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(s,l){const u=a(s);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return o.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new n(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(HW);var lj=HW;const Ma={};var na=Ma;Ma.isArray=Array.isArray;Ma.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";Ma.isDouble=e=>Ma.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);Ma.isEmptyObject=e=>Ma.isObject(e)&&Object.keys(e).length===0;Ma.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";Ma.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);Ma.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";Ma.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";Ma.isUndefined=e=>typeof e>"u";const Lf=na,ql={};var Xl=ql;ql.isSubject=e=>Lf.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;ql.isSubjectReference=e=>Lf.isObject(e)&&Object.keys(e).length===1&&"@id"in e;ql.isValue=e=>Lf.isObject(e)&&"@value"in e;ql.isList=e=>Lf.isObject(e)&&"@list"in e;ql.isGraph=e=>Lf.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;ql.isSimpleGraph=e=>ql.isGraph(e)&&!("@id"in e);ql.isBlankNode=e=>{if(Lf.isObject(e)){if("@id"in e){const t=e["@id"];return!Lf.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var Ua=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const fg=Xl,Bi=na,YW=lj.IdentifierIssuer,mhe=Ua,ghe=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,vhe=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,yhe=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,whe=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,bhe=/^@[a-zA-Z]+$/,rF={headers:{accept:"application/ld+json, application/json"}},Kr={};var za=Kr;Kr.IdentifierIssuer=YW;Kr.REGEX_BCP47=ghe;Kr.REGEX_KEYWORD=bhe;Kr.clone=function(e){if(e&&typeof e=="object"){let t;if(Bi.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Kr.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Kr.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Kr.clone(r))}else if(Bi.isObject(e)){t={};for(const r in e)t[r]=Kr.clone(e[r])}else t=e.toString();return t}return e};Kr.asArray=function(e){return Array.isArray(e)?e:[e]};Kr.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+rF.headers.accept+'" is supported.');return Object.assign({Accept:rF.headers.accept},e)};Kr.parseLinkHeader=e=>{const t={},r=e.match(vhe);for(let n=0;n<r.length;++n){let i=r[n].match(yhe);if(!i)continue;const o={target:i[1]},a=i[2];for(;i=whe.exec(a);)o[i[1]]=i[2]===void 0?i[3]:i[2];const s=o.rel||"";Array.isArray(t[s])?t[s].push(o):t.hasOwnProperty(s)?t[s]=[t[s],o]:t[s]=o}return t};Kr.validateTypeValue=(e,t)=>{if(!Bi.isString(e)&&!(Bi.isArray(e)&&e.every(r=>Bi.isString(r)))){if(t&&Bi.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Kr.asArray(e["@default"]).every(r=>Bi.isString(r)))return}throw new mhe('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};Kr.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Bi.isArray(r)||r.length>0}return!1};Kr.hasValue=(e,t,r)=>{if(Kr.hasProperty(e,t)){let n=e[t];const i=fg.isList(n);if(Bi.isArray(n)||i){i&&(n=n["@list"]);for(let o=0;o<n.length;++o)if(Kr.compareValues(r,n[o]))return!0}else if(!Bi.isArray(r))return Kr.compareValues(r,n)}return!1};Kr.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Bi.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)Kr.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&Kr.hasValue(e,t,r);!Bi.isArray(e[t])&&(!i||n.propertyIsArray)&&(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r};Kr.getValues=(e,t)=>[].concat(e[t]||[]);Kr.removeProperty=(e,t)=>{delete e[t]};Kr.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=Kr.getValues(e,t).filter(o=>!Kr.compareValues(o,r));i.length===0?Kr.removeProperty(e,t):i.length===1&&!n.propertyIsArray?e[t]=i[0]:e[t]=i};Kr.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new YW("_:b");return Jw(r,e)};Kr.compareValues=(e,t)=>e===t||fg.isValue(e)&&fg.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Bi.isObject(e)&&"@id"in e&&Bi.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;Kr.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Jw(e,t){if(Bi.isArray(t))for(let r=0;r<t.length;++r)t[r]=Jw(e,t[r]);else if(fg.isList(t))t["@list"]=Jw(e,t["@list"]);else if(Bi.isObject(t)){fg.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];i!=="@id"&&(t[i]=Jw(e,t[i]))}}return t}const Bc="http://www.w3.org/1999/02/22-rdf-syntax-ns#",uy="http://www.w3.org/2001/XMLSchema#";var uj={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:Bc+"List",RDF_FIRST:Bc+"first",RDF_REST:Bc+"rest",RDF_NIL:Bc+"nil",RDF_TYPE:Bc+"type",RDF_JSON_LITERAL:Bc+"JSON",RDF_LANGSTRING:Bc+"langString",XSD_BOOLEAN:uy+"boolean",XSD_DOUBLE:uy+"double",XSD_INTEGER:uy+"integer",XSD_STRING:uy+"string"},z1,nF;function XW(){return nF||(nF=1,z1=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),z1}const JE=na,Ui={};var Ec=Ui;Ui.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Ui.parse=(e,t)=>{const r={},n=Ui.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=i[o]===void 0?null:i[o];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Ui.removeDotSegments(r.path),r};Ui.prependBase=(e,t)=>{if(e===null||Ui.isAbsolute(t))return t;(!e||JE.isString(e))&&(e=Ui.parse(e||""));const r=Ui.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=r.path,n.path=o}n.query=r.query}r.path!==""&&(n.path=Ui.removeDotSegments(n.path));let i=n.protocol;return n.authority!==null&&(i+="//"+n.authority),i+=n.path,n.query!==null&&(i+="?"+n.query),r.fragment!==null&&(i+="#"+r.fragment),i===""&&(i="./"),i};Ui.removeBase=(e,t)=>{if(e===null)return t;(!e||JE.isString(e))&&(e=Ui.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Ui.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),a=n.fragment||n.query?0:1;for(;i.length>0&&o.length>a&&i[0]===o[0];)i.shift(),o.shift();let s="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)s+="../"}return s+=o.join("/"),n.query!==null&&(s+="?"+n.query),n.fragment!==null&&(s+="#"+n.fragment),s===""&&(s="./"),s};Ui.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),i=t.length===0;if(n==="."){i&&r.push("");continue}if(n===".."){r.pop(),i&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const _he=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Ui.isAbsolute=e=>JE.isString(e)&&_he.test(e);Ui.isRelative=e=>JE.isString(e);const{parseLinkHeader:Ehe,buildHeaders:She}=za,{LINK_HEADER_CONTEXT:$he}=uj,xp=Ua,The=XW(),{prependBase:Ahe}=Ec,xhe=/(^|(\r\n))link:/i;var Ohe=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=She(t),new The().wrapLoader(i);async function i(o){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new xp('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new xp(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let a;try{a=await Phe(r,o,t)}catch(c){throw new xp("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:c})}if(a.status>=400)throw new xp("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:a.status});let s={contextUrl:null,documentUrl:o,document:a.response},l=null;const u=a.getResponseHeader("Content-Type");let f;if(xhe.test(a.getAllResponseHeaders())&&(f=a.getResponseHeader("Link")),f&&u!=="application/ld+json"){const c=Ehe(f),h=c[$he];if(Array.isArray(h))throw new xp("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});h&&(s.contextUrl=h.target),l=c.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(s=await i(Ahe(o,l.target)))}return s}};function Phe(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((i,o)=>{n.onload=()=>i(n),n.onerror=a=>o(a),n.open("GET",t,!0);for(const a in r)n.setRequestHeader(a,r[a]);n.send()})}const Rhe=Ohe,cj={};var Nhe=cj;cj.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=Rhe,e.useDocumentLoader("xhr"))};cj.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var q1,iF;function Ihe(){return iF||(iF=1,q1=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),q1}var jhe=qr;qr.Node=Ff;qr.create=qr;function qr(e){var t=this;if(t instanceof qr||(t=new qr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}qr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};qr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};qr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};qr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)khe(this,arguments[e]);return this.length};qr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Dhe(this,arguments[e]);return this.length};qr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};qr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};qr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};qr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};qr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};qr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};qr.prototype.map=function(e,t){t=t||this;for(var r=new qr,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};qr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new qr,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};qr.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};qr.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};qr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};qr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};qr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};qr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};qr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Che(this,i,r[n]);return o};qr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Che(e,t,r){var n=t===e.head?new Ff(r,null,t,e):new Ff(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function khe(e,t){e.tail=new Ff(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Dhe(e,t){e.head=new Ff(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Ff(e,t,r,n){if(!(this instanceof Ff))return new Ff(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ihe()(qr)}catch{}const Mhe=jhe,tf=Symbol("max"),Al=Symbol("length"),Sd=Symbol("lengthCalculator"),_m=Symbol("allowStale"),mf=Symbol("maxAge"),Sl=Symbol("dispose"),oF=Symbol("noDisposeOnSet"),ui=Symbol("lruList"),ts=Symbol("cache"),QW=Symbol("updateAgeOnGet"),V1=()=>1;class Lhe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[tf]=t.max||1/0;const r=t.length||V1;if(this[Sd]=typeof r!="function"?V1:r,this[_m]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[mf]=t.maxAge||0,this[Sl]=t.dispose,this[oF]=t.noDisposeOnSet||!1,this[QW]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[tf]=t||1/0,Op(this)}get max(){return this[tf]}set allowStale(t){this[_m]=!!t}get allowStale(){return this[_m]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[mf]=t,Op(this)}get maxAge(){return this[mf]}set lengthCalculator(t){typeof t!="function"&&(t=V1),t!==this[Sd]&&(this[Sd]=t,this[Al]=0,this[ui].forEach(r=>{r.length=this[Sd](r.value,r.key),this[Al]+=r.length})),Op(this)}get lengthCalculator(){return this[Sd]}get length(){return this[Al]}get itemCount(){return this[ui].length}rforEach(t,r){r=r||this;for(let n=this[ui].tail;n!==null;){const i=n.prev;aF(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[ui].head;n!==null;){const i=n.next;aF(this,t,n,r),n=i}}keys(){return this[ui].toArray().map(t=>t.key)}values(){return this[ui].toArray().map(t=>t.value)}reset(){this[Sl]&&this[ui]&&this[ui].length&&this[ui].forEach(t=>this[Sl](t.key,t.value)),this[ts]=new Map,this[ui]=new Mhe,this[Al]=0}dump(){return this[ui].map(t=>w_(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ui]}set(t,r,n){if(n=n||this[mf],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[Sd](r,t);if(this[ts].has(t)){if(o>this[tf])return gh(this,this[ts].get(t)),!1;const l=this[ts].get(t).value;return this[Sl]&&(this[oF]||this[Sl](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Al]+=o-l.length,l.length=o,this.get(t),Op(this),!0}const a=new Fhe(t,r,o,i,n);return a.length>this[tf]?(this[Sl]&&this[Sl](t,r),!1):(this[Al]+=a.length,this[ui].unshift(a),this[ts].set(t,this[ui].head),Op(this),!0)}has(t){if(!this[ts].has(t))return!1;const r=this[ts].get(t).value;return!w_(this,r)}get(t){return H1(this,t,!0)}peek(t){return H1(this,t,!1)}pop(){const t=this[ui].tail;return t?(gh(this,t),t.value):null}del(t){gh(this,this[ts].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const a=o-r;a>0&&this.set(i.k,i.v,a)}}}prune(){this[ts].forEach((t,r)=>H1(this,r,!1))}}const H1=(e,t,r)=>{const n=e[ts].get(t);if(n){const i=n.value;if(w_(e,i)){if(gh(e,n),!e[_m])return}else r&&(e[QW]&&(n.value.now=Date.now()),e[ui].unshiftNode(n));return i.value}},w_=(e,t)=>{if(!t||!t.maxAge&&!e[mf])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[mf]&&r>e[mf]},Op=e=>{if(e[Al]>e[tf])for(let t=e[ui].tail;e[Al]>e[tf]&&t!==null;){const r=t.prev;gh(e,t),t=r}},gh=(e,t)=>{if(t){const r=t.value;e[Sl]&&e[Sl](r.key,r.value),e[Al]-=r.length,e[ts].delete(r.key),e[ui].removeNode(t)}};class Fhe{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const aF=(e,t,r,n)=>{let i=r.value;w_(e,i)&&(gh(e,r),e[_m]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var ZW=Lhe;const Bhe=ZW,Uhe=10;var zhe=class{constructor({document:t}){this.document=t,this.cache=new Bhe({max:Uhe})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:sP,isObject:Em,isString:b_}=na,{asArray:qhe}=za,{prependBase:lP}=Ec,Zp=Ua,sF=zhe,lF=10;var Vhe=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:i,cycles:o=new Set}){r&&Em(r)&&r["@context"]&&(r=r["@context"]),r=qhe(r);const a=[];for(const s of r){if(b_(s)){let f=this._get(s);f||(f=await this._resolveRemoteContext({activeCtx:t,url:s,documentLoader:n,base:i,cycles:o})),sP(f)?a.push(...f):a.push(f);continue}if(s===null){a.push(new sF({document:null}));continue}Em(s)||Hhe(r);const l=JSON.stringify(s);let u=this._get(l);u||(u=new sF({document:s}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),a.push(u)}return a}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:i,cycles:o}){r=lP(i,r);const{context:a,remoteDoc:s}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o});i=s.documentUrl||r,uP({context:a,base:i});const l=await this.resolve({activeCtx:t,context:a,documentLoader:n,base:i,cycles:o});return this._cacheResolvedContext({key:r,resolved:l,tag:s.tag}),l}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:i}){if(i.size>lF)throw new Zp("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:lF});if(i.has(r))throw new Zp("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});i.add(r);let o,a;try{a=await n(r),o=a.document||null,b_(o)&&(o=JSON.parse(o))}catch(s){throw new Zp(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${r}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:s})}if(!Em(o))throw new Zp(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${r}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in o?o={"@context":o["@context"]}:o={"@context":{}},a.contextUrl&&(sP(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(a.contextUrl)),{context:o,remoteDoc:a}}};function Hhe(e){throw new Zp("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function uP({context:e,base:t}){if(!e)return;const r=e["@context"];if(b_(r)){e["@context"]=lP(t,r);return}if(sP(r)){for(let n=0;n<r.length;++n){const i=r[n];if(b_(i)){r[n]=lP(t,i);continue}Em(i)&&uP({context:{"@context":i},base:t})}return}if(Em(r))for(const n in r)uP({context:r[n],base:t})}var Whe=lj.NQuads;const fj=Ua,{isArray:Ghe}=na,{asArray:eG}=za,Jo={};var Xg=Jo;Jo.defaultEventHandler=null;Jo.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Jo.safeEventHandler:[],e.eventHandler?eG(e.eventHandler):[],Jo.defaultEventHandler?Jo.defaultEventHandler:[]);return t.length===0?null:t};Jo.handleEvent=({event:e,options:t})=>{tG({event:e,handlers:t.eventHandler})};function tG({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const i=t[n];if(Ghe(i))r=tG({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{r=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new fj("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const Khe=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Jo.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&Khe.has(t.code))throw new fj("Safe mode validation error.","jsonld.ValidationError",{event:t});r()};Jo.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()};Jo.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()};Jo.unhandledEventHandler=function({event:t}){throw new fj("No handler for event.","jsonld.UnhandledEvent",{event:t})};Jo.setDefaultEventHandler=function({eventHandler:e}={}){Jo.defaultEventHandler=e?eG(e):null};const uF=za,Kt=Ua,{isArray:rG,isObject:Du,isString:bo,isUndefined:Jhe}=na,{isAbsolute:Af,isRelative:Yhe,prependBase:Sm}=Ec,{handleEvent:vh}=Xg,{REGEX_BCP47:Xhe,REGEX_KEYWORD:Yw,asArray:nG,compareShortestLeast:Qhe}=za,cy=new Map,Zhe=1e4,wn={};var Qf=wn;wn.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if(Du(t)&&"@context"in t&&rG(t["@context"])&&(t=t["@context"]),nG(t).length===0)return e;const s=[],l=[({event:h,next:g})=>{s.push(h),g()}];r.eventHandler&&l.push(r.eventHandler);const u=r;r={...r,eventHandler:l};const f=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});Du(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(n=f[0].document["@propagate"]);let c=e;!n&&!c.previousContext&&(c=c.clone(),c.previousContext=e);for(const h of f){let{document:g}=h;if(e=c,g===null){if(!i&&Object.keys(e.protected).length!==0)throw new Kt("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});c=e=wn.getInitialContext(r).clone();continue}const m=h.getProcessed(e);if(m){if(u.eventHandler)for(const v of m.events)vh({event:v,options:u});c=e=m.context;continue}if(Du(g)&&"@context"in g&&(g=g["@context"]),!Du(g))throw new Kt("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:g});c=c.clone();const _=new Map;if("@version"in g){if(g["@version"]!==1.1)throw new Kt("Unsupported JSON-LD version: "+g["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:g});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new Kt("@version: "+g["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:g});c.processingMode="json-ld-1.1",c["@version"]=g["@version"],_.set("@version",!0)}if(c.processingMode=c.processingMode||e.processingMode,"@base"in g){let v=g["@base"];if(!(v===null||Af(v)))if(Yhe(v))v=Sm(c["@base"],v);else throw new Kt('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});c["@base"]=v,_.set("@base",!0)}if("@vocab"in g){const v=g["@vocab"];if(v===null)delete c["@vocab"];else if(bo(v)){if(!Af(v)&&wn.processingMode(c,1))throw new Kt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});{const p=th(c,v,{vocab:!0,base:!0},void 0,void 0,r);Af(p)||r.eventHandler&&vh({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:p}},options:r}),c["@vocab"]=p}}else throw new Kt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});_.set("@vocab",!0)}if("@language"in g){const v=g["@language"];if(v===null)delete c["@language"];else if(bo(v))v.match(Xhe)||r.eventHandler&&vh({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),c["@language"]=v.toLowerCase();else throw new Kt('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:g});_.set("@language",!0)}if("@direction"in g){const v=g["@direction"];if(e.processingMode==="json-ld-1.0")throw new Kt("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:g});if(v===null)delete c["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new Kt('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:g});c["@direction"]=v}_.set("@direction",!0)}if("@propagate"in g){const v=g["@propagate"];if(e.processingMode==="json-ld-1.0")throw new Kt("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:g});if(typeof v!="boolean")throw new Kt("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});_.set("@propagate",!0)}if("@import"in g){const v=g["@import"];if(e.processingMode==="json-ld-1.0")throw new Kt("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:g});if(!bo(v))throw new Kt("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const p=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(p.length!==1)throw new Kt("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const S=p[0].getProcessed(e);if(S)g=S;else{const y=p[0].document;if("@import"in y)throw new Kt("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const E in y)g.hasOwnProperty(E)||(g[E]=y[E]);p[0].setProcessed(e,g)}_.set("@import",!0)}_.set("@protected",g["@protected"]||!1);for(const v in g)if(wn.createTermDefinition({activeCtx:c,localCtx:g,term:v,defined:_,options:r,overrideProtected:i}),Du(g[v])&&"@context"in g[v]){const p=g[v]["@context"];let S=!0;if(bo(p)){const y=Sm(r.base,p);o.has(y)?S=!1:o.add(y)}if(S)try{await wn.process({activeCtx:c.clone(),localCtx:g[v]["@context"],overrideProtected:!0,options:r,cycles:o})}catch{throw new Kt("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:g[v]["@context"],term:v})}}h.setProcessed(e,{context:c,events:s})}return c};wn.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new Kt("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let a;if(t.hasOwnProperty(r)&&(a=t[r]),r==="@type"&&Du(a)&&(a["@container"]||"@set")==="@set"&&wn.processingMode(e,1.1)){const g=["@container","@id","@protected"],m=Object.keys(a);if(m.length===0||m.some(_=>!g.includes(_)))throw new Kt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(wn.isKeyword(r))throw new Kt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(Yw)){i.eventHandler&&vh({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:i});return}else if(r==="")throw new Kt("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const s=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let l=!1;if((bo(a)||a===null)&&(l=!0,a={"@id":a}),!Du(a))throw new Kt("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];wn.processingMode(e,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const g in a)if(!f.includes(g))throw new Kt("Invalid JSON-LD syntax; a term definition must not contain "+g,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const c=r.indexOf(":");if(u._termHasColon=c>0,"@reverse"in a){if("@id"in a)throw new Kt("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in a)throw new Kt("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const g=a["@reverse"];if(!bo(g))throw new Kt("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(g.match(Yw)){i.eventHandler&&vh({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:g}},options:i}),s?e.mappings.set(r,s):e.mappings.delete(r);return}const m=th(e,g,{vocab:!0,base:!1},t,n,i);if(!Af(m))throw new Kt("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=m,u.reverse=!0}else if("@id"in a){let g=a["@id"];if(g&&!bo(g))throw new Kt("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(g===null)u["@id"]=null;else if(!wn.isKeyword(g)&&g.match(Yw)){i.eventHandler&&vh({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:g}},options:i}),s?e.mappings.set(r,s):e.mappings.delete(r);return}else if(g!==r){if(g=th(e,g,{vocab:!0,base:!1},t,n,i),!Af(g)&&!wn.isKeyword(g))throw new Kt("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const m=new Map(n).set(r,!0);if(th(e,r,{vocab:!0,base:!1},t,m,i)!==g)throw new Kt("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=g,u._prefix=l&&!u._termHasColon&&g.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const g=r.substr(0,c);if(t.hasOwnProperty(g)&&wn.createTermDefinition({activeCtx:e,localCtx:t,term:g,defined:n,options:i}),e.mappings.has(g)){const m=r.substr(c+1);u["@id"]=e.mappings.get(g)["@id"]+m}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new Kt("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((a["@protected"]===!0||n.get("@protected")===!0&&a["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in a){let g=a["@type"];if(!bo(g))throw new Kt("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(g==="@json"||g==="@none"){if(wn.processingMode(e,1))throw new Kt(`Invalid JSON-LD syntax; an @context @type value must not be "${g}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(g!=="@id"&&g!=="@vocab"){if(g=th(e,g,{vocab:!0,base:!1},t,n,i),!Af(g))throw new Kt("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(g.indexOf("_:")===0)throw new Kt("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=g}if("@container"in a){const g=bo(a["@container"])?[a["@container"]]:a["@container"]||[],m=["@list","@set","@index","@language"];let _=!0;const v=g.includes("@set");if(wn.processingMode(e,1.1)){if(m.push("@graph","@id","@type"),g.includes("@list")){if(g.length!==1)throw new Kt("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(g.includes("@graph")){if(g.some(p=>p!=="@graph"&&p!=="@id"&&p!=="@index"&&p!=="@set"))throw new Kt("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else _&=g.length<=(v?2:1);if(g.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new Kt("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else _&=!rG(a["@container"]),_&=g.length<=1;if(_&=g.every(p=>m.includes(p)),_&=!(v&&g.includes("@list")),!_)throw new Kt("Invalid JSON-LD syntax; @context @container value must be one of the following: "+m.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!g.every(p=>["@index","@set"].includes(p)))throw new Kt("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=g}if("@index"in a){if(!("@container"in a)||!u["@container"].includes("@index"))throw new Kt(`Invalid JSON-LD syntax; @index without @index in @container: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!bo(a["@index"])||a["@index"].indexOf("@")===0)throw new Kt(`Invalid JSON-LD syntax; @index must expand to an IRI: "${a["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=a["@index"]}if("@context"in a&&(u["@context"]=a["@context"]),"@language"in a&&!("@type"in a)){let g=a["@language"];if(g!==null&&!bo(g))throw new Kt("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});g!==null&&(g=g.toLowerCase()),u["@language"]=g}if("@prefix"in a){if(r.match(/:|\//))throw new Kt("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(wn.isKeyword(u["@id"]))throw new Kt("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof a["@prefix"]=="boolean")u._prefix=a["@prefix"]===!0;else throw new Kt("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in a){const g=a["@direction"];if(g!==null&&g!=="ltr"&&g!=="rtl")throw new Kt('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=g}if("@nest"in a){const g=a["@nest"];if(!bo(g)||g!=="@nest"&&g.indexOf("@")===0)throw new Kt("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=g}// disallow aliasing @context and @preserve
const h=u["@id"];if(h==="@context"||h==="@preserve")throw new Kt("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!cP(s,u)))throw new Kt("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})};wn.expandIri=(e,t,r,n)=>th(e,t,r,void 0,void 0,n);function th(e,t,r,n,i,o){if(t===null||!bo(t)||wn.isKeyword(t))return t;if(t.match(Yw))return null;if(n&&n.hasOwnProperty(t)&&i.get(t)!==!0&&wn.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),r=r||{},r.vocab){const s=e.mappings.get(t);if(s===null)return null;if(Du(s)&&"@id"in s)return s["@id"]}const a=t.indexOf(":");if(a>0){const s=t.substr(0,a),l=t.substr(a+1);if(s==="_"||l.indexOf("//")===0)return t;n&&n.hasOwnProperty(s)&&wn.createTermDefinition({activeCtx:e,localCtx:n,term:s,defined:i,options:o});const u=e.mappings.get(s);if(u&&u._prefix)return u["@id"]+l;if(Af(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let s,l;"@base"in e?e["@base"]?(l=Sm(o.base,e["@base"]),s=Sm(l,t)):(l=e["@base"],s=t):(l=o.base,s=Sm(o.base,t)),t=s}return t}wn.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=cy.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:s,revertToPreviousContext:l,protected:{}};return cy.size===Zhe&&cy.clear(),cy.set(t,n),n;function i(){const u=this;if(u.inverse)return u.inverse;const f=u.inverse={},c=u.fastCurieMap={},h={},g=(u["@language"]||"@none").toLowerCase(),m=u["@direction"],_=u.mappings,v=[..._.keys()].sort(Qhe);for(const p of v){const S=_.get(p);if(S===null)continue;let y=S["@container"]||"@none";if(y=[].concat(y).sort().join(""),S["@id"]===null)continue;const E=nG(S["@id"]);for(const $ of E){let T=f[$];const d=wn.isKeyword($);if(T)!d&&!S._termHasColon&&h[$].push(p);else if(f[$]=T={},!d&&!S._termHasColon){h[$]=[p];const A={iri:$,terms:h[$]};$[0]in c?c[$[0]].push(A):c[$[0]]=[A]}if(T[y]||(T[y]={"@language":{},"@type":{},"@any":{}}),T=T[y],a(p,T["@any"],"@none"),S.reverse)a(p,T["@type"],"@reverse");else if(S["@type"]==="@none")a(p,T["@any"],"@none"),a(p,T["@language"],"@none"),a(p,T["@type"],"@none");else if("@type"in S)a(p,T["@type"],S["@type"]);else if("@language"in S&&"@direction"in S){const A=S["@language"],x=S["@direction"];A&&x?a(p,T["@language"],`${A}_${x}`.toLowerCase()):A?a(p,T["@language"],A.toLowerCase()):x?a(p,T["@language"],`_${x}`):a(p,T["@language"],"@null")}else"@language"in S?a(p,T["@language"],(S["@language"]||"@null").toLowerCase()):"@direction"in S?S["@direction"]?a(p,T["@language"],`_${S["@direction"]}`):a(p,T["@language"],"@none"):m?(a(p,T["@language"],`_${m}`),a(p,T["@language"],"@none"),a(p,T["@type"],"@none")):(a(p,T["@language"],g),a(p,T["@language"],"@none"),a(p,T["@type"],"@none"))}}for(const p in c)o(c,p,1);return f}function o(u,f,c){const h=u[f],g=u[f]={};let m,_;for(const v of h)m=v.iri,c>=m.length?_="":_=m[c],_ in g?g[_].push(v):g[_]=[v];for(const v in g)v!==""&&o(g,v,c+1)}function a(u,f,c){f.hasOwnProperty(c)||(f[c]=u)}function s(){const u={};return u.mappings=uF.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=uF.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};wn.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(Jhe(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null};wn.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";wn.isKeyword=e=>{if(!bo(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function cP(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!cP(e[o],t[o]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o in e){let a=e[o],s=t[o];if(o==="@container"&&Array.isArray(a)&&Array.isArray(s)&&(a=a.slice().sort(),s=s.slice().sort()),!cP(a,s))return!1}return!0}const xn=Ua,{isArray:Oa,isObject:pa,isEmptyObject:fP,isString:Mi,isUndefined:__}=na,{isList:W1,isValue:dP,isGraph:epe,isSubject:tpe}=Xl,{expandIri:Xn,getContextValue:Go,isKeyword:hP,process:$m,processingMode:Xw}=Qf,{isAbsolute:Qw}=Ec,{REGEX_BCP47:iG,REGEX_KEYWORD:rpe,addValue:qo,asArray:Za,getValues:npe,validateTypeValue:ipe}=za,{handleEvent:Sa}=Xg,Uu={};var ope=Uu;Uu.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:a=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!Oa(r)&&!pa(r))return!i&&(t===null||Xn(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):sG({activeCtx:e,activeProperty:t,value:r,options:n});if(Oa(r)){let m=[];const _=Go(e,t,"@container")||[];i=i||_.includes("@list");for(let v=0;v<r.length;++v){let p=await Uu.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:o,typeScopedContext:a});i&&Oa(p)&&(p={"@list":p}),p!==null&&(Oa(p)?m=m.concat(p):m.push(p))}return m}const s=Xn(e,t,{vocab:!0},n),l=Go(e,t,"@context");a=a||(e.previousContext?e:null);let u=Object.keys(r).sort(),f=!o;if(f&&a&&u.length<=2&&!u.includes("@context"))for(const m of u){const _=Xn(a,m,{vocab:!0},n);if(_==="@value"){f=!1,e=a;break}if(_==="@id"&&u.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),__(l)||(e=await $m({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await $m({activeCtx:e,localCtx:r["@context"],options:n})),a=e;let c=null;for(const m of u)if(Xn(e,m,{vocab:!0},n)==="@type"){c=c||m;const v=r[m],p=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const S of p){const y=Go(a,S,"@context");__(y)||(e=await $m({activeCtx:e,localCtx:y,options:n,propagate:!1}))}}let h={};await aG({activeCtx:e,activeProperty:t,expandedActiveProperty:s,element:r,expandedParent:h,options:n,insideList:i,typeKey:c,typeScopedContext:a}),u=Object.keys(h);let g=u.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new xn('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let m=g-1;if("@type"in h&&(m-=1),"@index"in h&&(m-=1),"@language"in h&&(m-=1),"@direction"in h&&(m-=1),m!==0)throw new xn('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const _=h["@value"]===null?[]:Za(h["@value"]),v=npe(h,"@type");if(!(Xw(e,1.1)&&v.includes("@json")&&v.length===1))if(_.length===0)n.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:n}),h=null;else{if(!_.every(p=>Mi(p)||fP(p))&&"@language"in h)throw new xn("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!v.every(p=>Qw(p)&&!(Mi(p)&&p.indexOf("_:")===0)||fP(p)))throw new xn('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!Oa(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(g>1&&!(g===2&&"@index"in h))throw new xn('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],u=Object.keys(h),g=u.length)}else g===1&&"@language"in h&&(n.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:n}),h=null);return pa(h)&&!n.keepFreeFloatingNodes&&!i&&(t===null||s==="@graph"||(Go(e,t,"@container")||[]).includes("@graph"))&&(h=oG({value:h,count:g,options:n})),h};function oG({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,i;t===0?(n="empty object",i="Dropping empty object."):"@value"in e?(n="object with only @value",i="Dropping object with only @value."):"@list"in e?(n="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",i="Dropping object with only @id."),Sa({event:{type:["JsonLdEvent"],code:n,level:"warning",message:i,details:{value:e}},options:r})}return null}return e}async function aG({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:a,typeKey:s,typeScopedContext:l}){const u=Object.keys(n).sort(),f=[];let c;const h=n[s]&&Xn(e,Oa(n[s])?n[s][0]:n[s],{vocab:!0},{...o,typeExpansion:!0})==="@json";for(const g of u){let m=n[g],_;if(g==="@context")continue;const v=Xn(e,g,{vocab:!0},o);if(v===null||!(Qw(v)||hP(v))){o.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:g,expandedProperty:v}},options:o});continue}if(hP(v)){if(r==="@reverse")throw new xn("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:m});if(v in i&&v!=="@included"&&v!=="@type")throw new xn("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!Mi(m)){if(!o.isFrame)throw new xn('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:m});if(pa(m)){if(!fP(m))throw new xn('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:m})}else if(Oa(m)){if(!m.every(E=>Mi(E)))throw new xn('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:m})}else throw new xn('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:m})}qo(i,"@id",Za(m).map(E=>{if(Mi(E)){const $=Xn(e,E,{base:!0},o);return o.eventHandler&&($===null?Sa(E===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:E}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:E}},options:o}):Qw($)||Sa({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:E,expandedId:$}},options:o})),$}return E}),{propertyIsArray:o.isFrame});continue}if(v==="@type"){pa(m)&&(m=Object.fromEntries(Object.entries(m).map(([E,$])=>[Xn(l,E,{vocab:!0}),Za($).map(T=>Xn(l,T,{base:!0,vocab:!0},{...o,typeExpansion:!0}))]))),ipe(m,o.isFrame),qo(i,"@type",Za(m).map(E=>{if(Mi(E)){const $=Xn(l,E,{base:!0,vocab:!0},{...o,typeExpansion:!0});return $!=="@json"&&!Qw($)&&o.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:E}},options:o}),$}return E}),{propertyIsArray:!!o.isFrame});continue}if(v==="@included"&&Xw(e,1.1)){const E=Za(await Uu.expand({activeCtx:e,activeProperty:t,element:m,options:o}));if(!E.every($=>tpe($)))throw new xn("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:m});qo(i,"@included",E,{propertyIsArray:!0});continue}if(v==="@graph"&&!(pa(m)||Oa(m)))throw new xn('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:m});if(v==="@value"){c=m,h&&Xw(e,1.1)?i["@value"]=m:qo(i,"@value",m,{propertyIsArray:o.isFrame});continue}if(v==="@language"){if(m===null)continue;if(!Mi(m)&&!o.isFrame)throw new xn('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:m});m=Za(m).map(E=>Mi(E)?E.toLowerCase():E);for(const E of m)Mi(E)&&!E.match(iG)&&o.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:E}},options:o});qo(i,"@language",m,{propertyIsArray:o.isFrame});continue}if(v==="@direction"){if(!Mi(m)&&!o.isFrame)throw new xn('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:m});m=Za(m);for(const E of m)if(Mi(E)&&E!=="ltr"&&E!=="rtl")throw new xn('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:m});qo(i,"@direction",m,{propertyIsArray:o.isFrame});continue}if(v==="@index"){if(!Mi(m))throw new xn('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:m});qo(i,"@index",m);continue}if(v==="@reverse"){if(!pa(m))throw new xn('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:m});if(_=await Uu.expand({activeCtx:e,activeProperty:"@reverse",element:m,options:o}),"@reverse"in _)for(const $ in _["@reverse"])qo(i,$,_["@reverse"][$],{propertyIsArray:!0});let E=i["@reverse"]||null;for(const $ in _){if($==="@reverse")continue;E===null&&(E=i["@reverse"]={}),qo(E,$,[],{propertyIsArray:!0});const T=_[$];for(let d=0;d<T.length;++d){const A=T[d];if(dP(A)||W1(A))throw new xn('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});qo(E,$,A,{propertyIsArray:!0})}}continue}if(v==="@nest"){f.push(g);continue}let p=e;const S=Go(e,g,"@context");__(S)||(p=await $m({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:o}));const y=Go(e,g,"@container")||[];if(y.includes("@language")&&pa(m)){const E=Go(p,g,"@direction");_=ape(p,m,E,o)}else if(y.includes("@index")&&pa(m)){const E=y.includes("@graph"),$=Go(p,g,"@index")||"@index",T=$!=="@index"&&Xn(e,$,{vocab:!0},o);_=await G1({activeCtx:p,options:o,activeProperty:g,value:m,asGraph:E,indexKey:$,propertyIndex:T})}else if(y.includes("@id")&&pa(m)){const E=y.includes("@graph");_=await G1({activeCtx:p,options:o,activeProperty:g,value:m,asGraph:E,indexKey:"@id"})}else if(y.includes("@type")&&pa(m))_=await G1({activeCtx:p.revertToPreviousContext(),options:o,activeProperty:g,value:m,asGraph:!1,indexKey:"@type"});else{const E=v==="@list";if(E||v==="@set"){let $=t;E&&r==="@graph"&&($=null),_=await Uu.expand({activeCtx:p,activeProperty:$,element:m,options:o,insideList:E})}else Go(e,g,"@type")==="@json"?_={"@type":"@json","@value":m}:_=await Uu.expand({activeCtx:p,activeProperty:g,element:m,options:o,insideList:!1})}if(!(_===null&&v!=="@value")){if(v!=="@list"&&!W1(_)&&y.includes("@list")&&(_={"@list":Za(_)}),y.includes("@graph")&&!y.some(E=>E==="@id"||E==="@index")){if(_=Za(_),o.isFrame||(_=_.filter(E=>{const $=Object.keys(E).length;return oG({value:E,count:$,options:o})!==null})),_.length===0)continue;_=_.map(E=>({"@graph":Za(E)}))}if(p.mappings.has(g)&&p.mappings.get(g).reverse){const E=i["@reverse"]=i["@reverse"]||{};_=Za(_);for(let $=0;$<_.length;++$){const T=_[$];if(dP(T)||W1(T))throw new xn('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});qo(E,v,T,{propertyIsArray:!0})}continue}qo(i,v,_,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&Xw(e,1.1))){if((pa(c)||Oa(c))&&!o.isFrame)throw new xn('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:c})}for(const g of f){const m=Oa(n[g])?n[g]:[n[g]];for(const _ of m){if(!pa(_)||Object.keys(_).some(v=>Xn(e,v,{vocab:!0},o)==="@value"))throw new xn("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_});await aG({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:_,expandedParent:i,options:o,insideList:a,typeScopedContext:l,typeKey:s})}}}function sG({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const i=Xn(e,t,{vocab:!0},n);if(i==="@id")return Xn(e,r,{base:!0},n);if(i==="@type")return Xn(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=Go(e,t,"@type");if((o==="@id"||i==="@graph")&&Mi(r)){const s=Xn(e,r,{base:!0},n);return s===null&&r.match(rpe)&&n.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":s}}if(o==="@vocab"&&Mi(r))return{"@id":Xn(e,r,{vocab:!0,base:!0},n)};if(hP(i))return r;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(Mi(r)){const s=Go(e,t,"@language");s!==null&&(a["@language"]=s);const l=Go(e,t,"@direction");l!==null&&(a["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}function ape(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const a of o){const s=Xn(e,a,{vocab:!0},n);let l=t[a];Oa(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!Mi(u))throw new xn("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const f={"@value":u};s!=="@none"&&(a.match(iG)||n.eventHandler&&Sa({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n}),f["@language"]=a.toLowerCase()),r&&(f["@direction"]=r),i.push(f)}}return i}async function G1({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:i,indexKey:o,propertyIndex:a}){const s=[],l=Object.keys(n).sort(),u=o==="@type";for(let f of l){if(u){const g=Go(e,f,"@context");__(g)||(e=await $m({activeCtx:e,localCtx:g,propagate:!1,options:t}))}let c=n[f];Oa(c)||(c=[c]),c=await Uu.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0});let h;a?f==="@none"?h="@none":h=sG({activeCtx:e,activeProperty:o,value:f,options:t}):h=Xn(e,f,{vocab:!0},t),o==="@id"?f=Xn(e,f,{base:!0},t):u&&(f=h);for(let g of c){if(i&&!epe(g)&&(g={"@graph":[g]}),o==="@type")h==="@none"||(g["@type"]?g["@type"]=[f].concat(g["@type"]):g["@type"]=[f]);else{if(dP(g)&&!["@language","@type","@index"].includes(o))throw new xn(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:g});a?h!=="@none"&&qo(g,a,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(o in g)&&(g[o]=f)}s.push(g)}}return s}const{isKeyword:lG}=Qf,Ls=Xl,K1=na,Us=za,spe=Ua,Qi={};var YE=Qi;Qi.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new Us.IdentifierIssuer("_:b"),n={"@default":{}};return Qi.createNodeMap(e,n,"@default",r),Qi.mergeNodeMaps(n)};Qi.createNodeMap=(e,t,r,n,i,o)=>{if(K1.isArray(e)){for(const u of e)Qi.createNodeMap(u,t,r,n,void 0,o);return}if(!K1.isObject(e)){o&&o.push(e);return}if(Ls.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}o&&o.push(e);return}else if(o&&Ls.isList(e)){const u=[];Qi.createNodeMap(e["@list"],t,r,n,i,u),o.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const f of u)f.indexOf("_:")===0&&n.getId(f)}K1.isUndefined(i)&&(i=Ls.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const a=t[r],s=a[i]=a[i]||{};s["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const c={"@id":i},h=e["@reverse"];for(const g in h){const m=h[g];for(const _ of m){let v=_["@id"];Ls.isBlankNode(_)&&(v=n.getId(v)),Qi.createNodeMap(_,t,r,n,v),Us.addValue(a[v],g,c,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),Qi.createNodeMap(e[u],t,i,n);continue}if(u==="@included"){Qi.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&lG(u)){if(u==="@index"&&u in s&&(e[u]!==s[u]||e[u]["@id"]!==s[u]["@id"]))throw new spe("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:s});s[u]=e[u];continue}const f=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),f.length===0){Us.addValue(s,u,[],{propertyIsArray:!0});continue}for(let c of f)if(u==="@type"&&(c=c.indexOf("_:")===0?n.getId(c):c),Ls.isSubject(c)||Ls.isSubjectReference(c)){if("@id"in c&&!c["@id"])continue;const h=Ls.isBlankNode(c)?n.getId(c["@id"]):c["@id"];Us.addValue(s,u,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),Qi.createNodeMap(c,t,r,n,h)}else if(Ls.isValue(c))Us.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1});else if(Ls.isList(c)){const h=[];Qi.createNodeMap(c["@list"],t,r,n,i,h),c={"@list":h},Us.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1})}else Qi.createNodeMap(c,t,r,n,i),Us.addValue(s,u,c,{propertyIsArray:!0,allowDuplicate:!1})}};Qi.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const a of Object.keys(i).sort())if(lG(a)&&a!=="@type")o[a]=Us.clone(i[a]);else for(const s of i[a])Us.addValue(o,a,Us.clone(s),{propertyIsArray:!0,allowDuplicate:!1})}return t};Qi.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const i=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const a=o["@graph"];for(const s of Object.keys(i).sort()){const l=i[s];Ls.isSubjectReference(l)||a.push(l)}}return t};const{isSubjectReference:lpe}=Xl,{createMergedNodeMap:upe}=YE,uG={};var cpe=uG;uG.flatten=e=>{const t=upe(e),r=[],n=Object.keys(t).sort();for(let i=0;i<n.length;++i){const o=t[n[i]];lpe(o)||r.push(o)}return r};const pP=Ua,J1=Xl,em=na,{REGEX_BCP47:cF,addValue:fF}=za,{handleEvent:dF}=Xg,{RDF_LIST:fpe,RDF_FIRST:Y1,RDF_REST:X1,RDF_NIL:Q1,RDF_TYPE:dpe,RDF_JSON_LITERAL:hpe,XSD_BOOLEAN:hF,XSD_DOUBLE:pF,XSD_INTEGER:mF,XSD_STRING:Z1}=uj,cG={};var ppe=cG;cG.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:i=null}=t,o={},a={"@default":o},s={};if(i){if(i==="compound-literal")throw new pP("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new pP("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;c in a||(a[c]={}),c!=="@default"&&!(c in o)&&(o[c]={"@id":c});const h=a[c],g=f.subject.value,m=f.predicate.value,_=f.object;g in h||(h[g]={"@id":g});const v=h[g],p=_.termType.endsWith("Node");if(p&&!(_.value in h)&&(h[_.value]={"@id":_.value}),m===dpe&&!r&&p){fF(v,"@type",_.value,{propertyIsArray:!0});continue}const S=mpe(_,n,i,t);if(fF(v,m,S,{propertyIsArray:!0}),p)if(_.value===Q1){const y=h[_.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:m,value:S})}else _.value in s?s[_.value]=!1:s[_.value]={node:v,property:m,value:S}}for(const f in a){const c=a[f];if(!(Q1 in c))continue;const h=c[Q1];if(h.usages){for(let g of h.usages){let m=g.node,_=g.property,v=g.value;const p=[],S=[];let y=Object.keys(m).length;for(;_===X1&&em.isObject(s[m["@id"]])&&em.isArray(m[Y1])&&m[Y1].length===1&&em.isArray(m[X1])&&m[X1].length===1&&(y===3||y===4&&em.isArray(m["@type"])&&m["@type"].length===1&&m["@type"][0]===fpe)&&(p.push(m[Y1][0]),S.push(m["@id"]),g=s[m["@id"]],m=g.node,_=g.property,v=g.value,y=Object.keys(m).length,!!J1.isBlankNode(m)););delete v["@id"],v["@list"]=p.reverse();for(const E of S)delete c[E]}delete h.usages}}const l=[],u=Object.keys(o).sort();for(const f of u){const c=o[f];if(f in a){const h=c["@graph"]=[],g=a[f],m=Object.keys(g).sort();for(const _ of m){const v=g[_];J1.isSubjectReference(v)||h.push(v)}}J1.isSubjectReference(c)||l.push(c)}return l};function mpe(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(cF)||n.eventHandler&&dF({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=Z1),o===hpe){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(a){throw new pP("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:a})}}if(t){if(o===hF)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(em.isNumeric(i["@value"]))if(o===mF){const a=parseInt(i["@value"],10);a.toFixed(0)===i["@value"]&&(i["@value"]=a)}else o===pF&&(i["@value"]=parseFloat(i["@value"]));[hF,mF,pF,Z1].includes(o)||(i["@type"]=o)}else if(r==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,a,s]=o.split(/[#_]/);a.length>0&&(i["@language"]=a,a.match(cF)||n.eventHandler&&dF({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n})),i["@direction"]=s}else o!==Z1&&(i["@type"]=o)}return i}var gpe=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const o=i===0?"":",",a=n===void 0||typeof n=="symbol"?null:n;return r+o+e(a)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"};const{createNodeMap:vpe}=YE,{isKeyword:ype}=Qf,gF=Xl,wpe=gpe,vF=Ua,Pp=na,bpe=za,{handleEvent:xf}=Xg,{RDF_FIRST:_pe,RDF_REST:Epe,RDF_NIL:Spe,RDF_TYPE:$pe,RDF_JSON_LITERAL:Tpe,RDF_LANGSTRING:Ape,XSD_BOOLEAN:xpe,XSD_DOUBLE:yF,XSD_INTEGER:Ope,XSD_STRING:Ppe}=uj,{isAbsolute:E_}=Ec,fG={};var Rpe=fG;fG.toRDF=(e,t)=>{const r=new bpe.IdentifierIssuer("_:b"),n={"@default":{}};vpe(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const a of o){let s;if(a==="@default")s={termType:"DefaultGraph",value:""};else if(E_(a))a.startsWith("_:")?s={termType:"BlankNode"}:s={termType:"NamedNode"},s.value=a;else{t.eventHandler&&xf({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:a}},options:t});continue}Npe(i,n[a],s,r,t)}return i};function Npe(e,t,r,n,i){const o=Object.keys(t).sort();for(const a of o){const s=t[a],l=Object.keys(s).sort();for(let u of l){const f=s[u];if(u==="@type")u=$pe;else if(ype(u))continue;for(const c of f){const h={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!E_(a)){i.eventHandler&&xf({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:i});continue}const g={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!E_(u)){i.eventHandler&&xf({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(g.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&xf({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(_=>n.getId(_)===u)}},options:i});continue}const m=mP(c,n,e,r,i.rdfDirection,i);m&&e.push({subject:h,predicate:g,object:m,graph:r})}}}}function Ipe(e,t,r,n,i,o){const a={termType:"NamedNode",value:_pe},s={termType:"NamedNode",value:Epe},l={termType:"NamedNode",value:Spe},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const h of e){const g=mP(h,t,r,n,i,o),m={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:a,object:g,graph:n}),r.push({subject:c,predicate:s,object:m,graph:n}),c=m}if(u){const h=mP(u,t,r,n,i,o);r.push({subject:c,predicate:a,object:h,graph:n}),r.push({subject:c,predicate:s,object:l,graph:n})}return f}function mP(e,t,r,n,i,o){const a={};if(gF.isValue(e)){a.termType="Literal",a.value=void 0,a.datatype={termType:"NamedNode"};let s=e["@value"];const l=e["@type"]||null;if(l==="@json")a.value=wpe(s),a.datatype.value=Tpe;else if(Pp.isBoolean(s))a.value=s.toString(),a.datatype.value=l||xpe;else if(Pp.isDouble(s)||l===yF)Pp.isDouble(s)||(s=parseFloat(s)),a.value=s.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a.datatype.value=l||yF;else if(Pp.isNumber(s))a.value=s.toFixed(0),a.datatype.value=l||Ope;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),f=e["@direction"],c=`https://www.w3.org/ns/i18n#${u}_${f}`;a.datatype.value=c,a.value=s}else{if("@direction"in e&&i==="compound-literal")throw new vF("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new vF("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&xf({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:o}),a.value=s,a.datatype.value=l||Ape,a.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&xf({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:o}),a.value=s,a.datatype.value=l||Ppe)}}else if(gF.isList(e)){const s=Ipe(e["@list"],t,r,n,i,o);a.termType=s.termType,a.value=s.value}else{const s=Pp.isObject(e)?e["@id"]:e;a.termType=s.startsWith("_:")?"BlankNode":"NamedNode",a.value=s}return a.termType==="NamedNode"&&!E_(a.value)?(o.eventHandler&&xf({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:a.value}},options:o}),null):a}const{isKeyword:gP}=Qf,ga=Xl,un=na,fi=za,wF=Ec,Tm=Ua,{createNodeMap:jpe,mergeNodeMapGraphs:Cpe}=YE,$a={};var kpe=$a;$a.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new fi.IdentifierIssuer("_:b");jpe(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=Cpe(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];$a.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(a=>n.bnodeMap[a].length===1));// remove @preserve from results
return r.link={},Zw(o,r)};$a.frame=(e,t,r,n,i=null)=>{dG(r),r=r[0];const o=e.options,a={embed:fy(r,o,"embed"),explicit:fy(r,o,"explicit"),requireAll:fy(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const s=e.link[e.graph],l=Mpe(e,t,r,a),u=Object.keys(l).sort();for(const f of u){const c=l[f];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},a.embed==="@link"&&f in s){Uc(n,i,s[f]);continue}const h={"@id":f};if(f.indexOf("_:")===0&&fi.addValue(e.bnodeMap,f,h,{propertyIsArray:!0}),s[f]=h,(a.embed==="@first"||a.embed==="@last")&&e.is11)throw new Tm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&(a.embed==="@never"||Dpe(c,e.graph,e.subjectStack))){Uc(n,i,h);continue}if(e.embedded&&(a.embed=="@first"||a.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){Uc(n,i,h);continue}if(a.embed==="@last"&&f in e.uniqueEmbeds[e.graph]&&Lpe(e,f),e.uniqueEmbeds[e.graph][f]={parent:n,property:i},e.subjectStack.push({subject:c,graph:e.graph}),f in e.graphMap){let g=!1,m=null;"@graph"in r?(m=r["@graph"][0],g=!(f==="@merged"||f==="@default"),un.isObject(m)||(m={})):(g=e.graph!=="@merged",m={}),g&&$a.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[m],h,"@graph")}"@included"in r&&$a.frame({...e,embedded:!1},t,r["@included"],h,"@included");for(const g of Object.keys(c).sort()){if(gP(g)){if(h[g]=fi.clone(c[g]),g==="@type")for(const m of c["@type"])m.indexOf("_:")===0&&fi.addValue(e.bnodeMap,m,h,{propertyIsArray:!0});continue}if(!(a.explicit&&!(g in r)))for(const m of c[g]){const _=g in r?r[g]:bF(a);if(ga.isList(m)){const v=r[g]&&r[g][0]&&r[g][0]["@list"]?r[g][0]["@list"]:bF(a),p={"@list":[]};Uc(h,g,p);const S=m["@list"];for(const y of S)ga.isSubjectReference(y)?$a.frame({...e,embedded:!0},[y["@id"]],v,p,"@list"):Uc(p,"@list",fi.clone(y))}else ga.isSubjectReference(m)?$a.frame({...e,embedded:!0},[m["@id"]],_,h,g):vP(_[0],m)&&Uc(h,g,fi.clone(m))}}for(const g of Object.keys(r).sort()){if(g==="@type"){if(!un.isObject(r[g][0])||!("@default"in r[g][0]))continue}else if(gP(g))continue;const m=r[g][0]||{};if(!fy(m,o,"omitDefault")&&!(g in h)){let v="@null";"@default"in m&&(v=fi.clone(m["@default"])),un.isArray(v)||(v=[v]),h[g]=[{"@preserve":v}]}}for(const g of Object.keys(r["@reverse"]||{}).sort()){const m=r["@reverse"][g];for(const _ of Object.keys(e.subjects))fi.getValues(e.subjects[_],g).some(p=>p["@id"]===f)&&(h["@reverse"]=h["@reverse"]||{},fi.addValue(h["@reverse"],g,[],{propertyIsArray:!0}),$a.frame({...e,embedded:!0},[_],m,h["@reverse"][g],i))}Uc(n,i,h),e.subjectStack.pop()}}};$a.cleanupNull=(e,t)=>{if(un.isArray(e))return e.map(n=>$a.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(un.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=$a.cleanupNull(e[r],t)}return e};function bF(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function Dpe(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function fy(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new Tm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function dG(e){if(!un.isArray(e)||e.length!==1||!un.isObject(e[0]))throw new Tm("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of fi.asArray(e[0]["@id"]))if(!(un.isObject(t)||wF.isAbsolute(t))||un.isString(t)&&t.indexOf("_:")===0)throw new Tm("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of fi.asArray(e[0]["@type"]))if(!(un.isObject(t)||wF.isAbsolute(t)||t==="@json")||un.isString(t)&&t.indexOf("_:")===0)throw new Tm("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function Mpe(e,t,r,n){const i={};for(const o of t){const a=e.graphMap[e.graph][o];hG(e,a,r,n)&&(i[o]=a)}return i}function hG(e,t,r,n){let i=!0,o=!1;for(const a in r){let s=!1;const l=fi.getValues(t,a),u=fi.getValues(r,a).length===0;if(a==="@id"){if(un.isEmptyObject(r["@id"][0]||{})?s=!0:r["@id"].length>=0&&(s=r["@id"].includes(l[0])),!n.requireAll)return s}else if(a==="@type"){if(i=!1,u){if(l.length>0)return!1;s=!0}else if(r["@type"].length===1&&un.isEmptyObject(r["@type"][0]))s=l.length>0;else for(const f of r["@type"])un.isObject(f)&&"@default"in f?s=!0:s=s||l.some(c=>c===f);if(!n.requireAll)return s}else{if(gP(a))continue;{const f=fi.getValues(r,a)[0];let c=!1;if(f&&(dG([f]),c="@default"in f),i=!1,l.length===0&&c)continue;if(l.length>0&&u)return!1;if(f===void 0){if(l.length>0)return!1;s=!0}else if(ga.isList(f)){const h=f["@list"][0];if(ga.isList(l[0])){const g=l[0]["@list"];ga.isValue(h)?s=g.some(m=>vP(h,m)):(ga.isSubject(h)||ga.isSubjectReference(h))&&(s=g.some(m=>_F(e,h,m,n)))}}else ga.isValue(f)?s=l.some(h=>vP(f,h)):ga.isSubjectReference(f)?s=l.some(h=>_F(e,f,h,n)):un.isObject(f)?s=l.length>0:s=!1}}if(!s&&n.requireAll)return!1;o=o||s}return i||o}function Lpe(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,a={"@id":t};if(un.isArray(i)){for(let l=0;l<i.length;++l)if(fi.compareValues(i[l],a)){i[l]=a;break}}else{const l=un.isArray(i[o]);fi.removeValue(i,o,a,{propertyIsArray:l}),fi.addValue(i,o,a,{propertyIsArray:l})}const s=l=>{const u=Object.keys(r);for(const f of u)f in r&&un.isObject(r[f].parent)&&r[f].parent["@id"]===l&&(delete r[f],s(f))};s(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function Zw(e,t){if(un.isArray(e))return e.map(r=>Zw(r,t));if(un.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(ga.isValue(e))return e;if(ga.isList(e))return e["@list"]=Zw(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=Zw(e[r],t)}}return e}function Uc(e,t,r){un.isObject(e)?fi.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function _F(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&hG(e,i,t,n)}function vP(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?un.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?un.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?un.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&a.length===0&&s.length===0?!0:!(!(o.includes(r)||un.isEmptyObject(o[0]))||!(!n&&a.length===0||a.includes(n)||n&&un.isEmptyObject(a[0]))||!(!i&&s.length===0||s.includes(i)||i&&un.isEmptyObject(s[0])))}const dj=Ua,{isArray:gu,isObject:zu,isString:pG,isUndefined:e$}=na,{isList:yP,isValue:xl,isGraph:mG,isSimpleGraph:EF,isSubjectReference:t$}=Xl,{expandIri:gG,getContextValue:Ji,isKeyword:vG,process:r$,processingMode:Fpe}=Qf,{removeBase:SF,prependBase:Bpe}=Ec,{REGEX_KEYWORD:Upe,addValue:Uo,asArray:dy,compareShortestLeast:zpe}=za,lr={};var qpe=lr;lr.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(gu(r)){let o=[];for(let a=0;a<r.length;++a){const s=await lr.compact({activeCtx:e,activeProperty:t,element:r[a],options:n});s!==null&&o.push(s)}return n.compactArrays&&o.length===1&&(Ji(e,t,"@container")||[]).length===0&&(o=o[0]),o}const i=Ji(e,t,"@context");if(e$(i)||(e=await r$({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:n})),zu(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const h=n.link[r["@id"]];for(let g=0;g<h.length;++g)if(h[g].expanded===r)return h[g].compacted}if(xl(r)||t$(r)){const h=lr.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&t$(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:h})),h}if(yP(r)&&(Ji(e,t,"@container")||[]).includes("@list"))return lr.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const o=t==="@reverse",a={},s=e;!xl(r)&&!t$(r)&&(e=e.revertToPreviousContext());const l=Ji(s,t,"@context");e$(l)||(e=await r$({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:a}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const f=e;for(const h of u){const g=lr.compactIri({activeCtx:f,iri:h,relativeTo:{vocab:!0}}),m=Ji(s,g,"@context");e$(m)||(e=await r$({activeCtx:e,localCtx:m,options:n,propagate:!1}))}const c=Object.keys(r).sort();for(const h of c){const g=r[h];if(h==="@id"){let m=dy(g).map(v=>lr.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));m.length===1&&(m=m[0]);const _=lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a[_]=m;continue}if(h==="@type"){let m=dy(g).map(y=>lr.compactIri({activeCtx:s,iri:y,relativeTo:{vocab:!0}}));m.length===1&&(m=m[0]);const _=lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),S=(Ji(e,_,"@container")||[]).includes("@set")&&Fpe(e,1.1)||gu(m)&&g.length===0;Uo(a,_,m,{propertyIsArray:S});continue}if(h==="@reverse"){const m=await lr.compact({activeCtx:e,activeProperty:"@reverse",element:g,options:n});for(const _ in m)if(e.mappings.has(_)&&e.mappings.get(_).reverse){const v=m[_],S=(Ji(e,_,"@container")||[]).includes("@set")||!n.compactArrays;Uo(a,_,v,{propertyIsArray:S}),delete m[_]}if(Object.keys(m).length>0){const _=lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Uo(a,_,m)}continue}if(h==="@preserve"){const m=await lr.compact({activeCtx:e,activeProperty:t,element:g,options:n});gu(m)&&m.length===0||Uo(a,h,m);continue}if(h==="@index"){if((Ji(e,t,"@container")||[]).includes("@index"))continue;const _=lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Uo(a,_,g);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&vG(h)){const m=lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});Uo(a,m,g);continue}if(!gu(g))throw new dj("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(g.length===0){const m=lr.compactIri({activeCtx:e,iri:h,value:g,relativeTo:{vocab:!0},reverse:o}),_=e.mappings.has(m)?e.mappings.get(m)["@nest"]:null;let v=a;_&&($F(e,_,n),zu(a[_])||(a[_]={}),v=a[_]),Uo(v,m,g,{propertyIsArray:!0})}for(const m of g){const _=lr.compactIri({activeCtx:e,iri:h,value:m,relativeTo:{vocab:!0},reverse:o}),v=e.mappings.has(_)?e.mappings.get(_)["@nest"]:null;let p=a;v&&($F(e,v,n),zu(a[v])||(a[v]={}),p=a[v]);const S=Ji(e,_,"@container")||[],y=mG(m),E=yP(m);let $;E?$=m["@list"]:y&&($=m["@graph"]);let T=await lr.compact({activeCtx:e,activeProperty:_,element:E||y?$:m,options:n});if(E)if(gu(T)||(T=[T]),!S.includes("@list"))T={[lr.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in m&&(T[lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=m["@index"]);else{Uo(p,_,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(y)if(S.includes("@graph")&&(S.includes("@id")||S.includes("@index")&&EF(m))){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};const A=(S.includes("@id")?m["@id"]:m["@index"])||lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});Uo(d,A,T,{propertyIsArray:!n.compactArrays||S.includes("@set")})}else S.includes("@graph")&&EF(m)?(gu(T)&&T.length>1&&(T={"@included":T}),Uo(p,_,T,{propertyIsArray:!n.compactArrays||S.includes("@set")})):(gu(T)&&T.length===1&&n.compactArrays&&(T=T[0]),T={[lr.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in m&&(T[lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=m["@id"]),"@index"in m&&(T[lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=m["@index"]),Uo(p,_,T,{propertyIsArray:!n.compactArrays||S.includes("@set")}));else if(S.includes("@language")||S.includes("@index")||S.includes("@id")||S.includes("@type")){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};let A;if(S.includes("@language"))xl(T)&&(T=T["@value"]),A=m["@language"];else if(S.includes("@index")){const x=Ji(e,_,"@index")||"@index",O=lr.compactIri({activeCtx:e,iri:x,relativeTo:{vocab:!0}});if(x==="@index")A=m["@index"],delete T[O];else{let C;if([A,...C]=dy(T[x]||[]),!pG(A))A=null;else switch(C.length){case 0:delete T[x];break;case 1:T[x]=C[0];break;default:T[x]=C;break}}}else if(S.includes("@id")){const x=lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});A=T[x],delete T[x]}else if(S.includes("@type")){const x=lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let O;switch([A,...O]=dy(T[x]||[]),O.length){case 0:delete T[x];break;case 1:T[x]=O[0];break;default:T[x]=O;break}Object.keys(T).length===1&&"@id"in m&&(T=await lr.compact({activeCtx:e,activeProperty:_,element:{"@id":m["@id"]},options:n}))}A||(A=lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),Uo(d,A,T,{propertyIsArray:S.includes("@set")})}else{const d=!n.compactArrays||S.includes("@set")||S.includes("@list")||gu(T)&&T.length===0||h==="@list"||h==="@graph";Uo(p,_,T,{propertyIsArray:d})}}}return a}return r};lr.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const a=e.getInverse();if(vG(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(n.vocab&&t in a){const c=e["@language"]||"@none",h=[];zu(r)&&"@index"in r&&!("@graph"in r)&&h.push("@index","@index@set"),zu(r)&&"@preserve"in r&&(r=r["@preserve"][0]),mG(r)?("@index"in r&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in r||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||h.push("@graph@id","@graph@id@set")):zu(r)&&!xl(r)&&h.push("@id","@id@set","@type","@set@type");let g="@language",m="@null";if(i)g="@type",m="@reverse",h.push("@set");else if(yP(r)){"@index"in r||h.push("@list");const v=r["@list"];if(v.length===0)g="@any",m="@none";else{let p=v.length===0?c:null,S=null;for(let y=0;y<v.length;++y){const E=v[y];let $="@none",T="@none";if(xl(E))if("@direction"in E){const d=(E["@language"]||"").toLowerCase(),A=E["@direction"];$=`${d}_${A}`}else"@language"in E?$=E["@language"].toLowerCase():"@type"in E?T=E["@type"]:$="@null";else T="@id";if(p===null?p=$:$!==p&&xl(E)&&(p="@none"),S===null?S=T:T!==S&&(S="@none"),p==="@none"&&S==="@none")break}p=p||"@none",S=S||"@none",S!=="@none"?(g="@type",m=S):m=p}}else{if(xl(r))if("@language"in r&&!("@index"in r)){h.push("@language","@language@set"),m=r["@language"];const v=r["@direction"];v&&(m=`${m}_${v}`)}else"@direction"in r&&!("@index"in r)?m=`_${r["@direction"]}`:"@type"in r&&(g="@type",m=r["@type"]);else g="@type",m="@id";h.push("@set")}h.push("@none"),zu(r)&&!("@index"in r)&&h.push("@index","@index@set"),xl(r)&&Object.keys(r).length===1&&h.push("@language","@language@set");const _=Vpe(e,t,r,h,g,m);if(_!==null)return _}if(n.vocab&&"@vocab"in e){const c=e["@vocab"];if(t.indexOf(c)===0&&t!==c){const h=t.substr(c.length);if(!e.mappings.has(h))return h}}let s=null;const l=[];let u=e.fastCurieMap;const f=t.length-1;for(let c=0;c<f&&t[c]in u;++c)u=u[t[c]],""in u&&l.push(u[""][0]);for(let c=l.length-1;c>=0;--c){const h=l[c],g=h.terms;for(const m of g){const _=m+":"+t.substr(h.iri.length);e.mappings.get(m)._prefix&&(!e.mappings.has(_)||r===null&&e.mappings.get(_)["@id"]===t)&&(s===null||zpe(_,s)<0)&&(s=_)}}if(s!==null)return s;for(const[c,h]of e.mappings)if(h&&h._prefix&&t.startsWith(c+":"))throw new dj(`Absolute IRI "${t}" confused with prefix "${c}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const c=SF(Bpe(o,e["@base"]),t);return Upe.test(c)?`./${c}`:c}else return t;else return SF(o,t);return t};lr.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(xl(r)){const s=Ji(e,t,"@type"),l=Ji(e,t,"@language"),u=Ji(e,t,"@direction"),f=Ji(e,t,"@container")||[],c="@index"in r&&!f.includes("@index");if(!c&&s!=="@none"&&(r["@type"]===s||"@language"in r&&r["@language"]===l&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===l||"@direction"in r&&r["@direction"]===u))return r["@value"];const h=Object.keys(r).length,g=h===1||h===2&&"@index"in r&&!c,m="@language"in e,_=pG(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(g&&s!=="@none"&&(!m||!_||v))return r["@value"];const p={};return c&&(p[lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?p[lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=lr.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(p[lr.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(p[lr.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),p[lr.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],p}const i=gG(e,t,{vocab:!0},n),o=Ji(e,t,"@type"),a=lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:o==="@vocab"},base:n.base});return o==="@id"||o==="@vocab"||i==="@graph"?a:{[lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:a}};function Vpe(e,t,r,n,i,o){o===null&&(o="@null");const a=[];if((o==="@id"||o==="@reverse")&&zu(r)&&"@id"in r){o==="@reverse"&&a.push("@reverse");const l=lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(o);const l=a.find(u=>u.includes("_"));l&&a.push(l.replace(/^[^_]+_/,"_"))}a.push("@none");const s=e.inverse[t];for(const l of n){if(!(l in s))continue;const u=s[l][i];for(const f of a)if(f in u)return u[f]}return null}function $F(e,t,r){if(gG(e,t,{vocab:!0},r)!=="@nest")throw new dj("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var n$,TF;function Hpe(){return TF||(TF=1,n$=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),n$}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const AF=lj,xF=Nhe,Ou=za,gl=Vhe,i$=Ou.IdentifierIssuer,Ns=Ua,Wpe=ZW,hy=Whe,{expand:Gpe}=ope,{flatten:Kpe}=cpe,{fromRDF:Jpe}=ppe,{toRDF:Ype}=Rpe,{frameMergedOrDefault:Xpe,cleanupNull:Qpe}=kpe,{isArray:$d,isObject:zc,isString:Is}=na,{isSubjectReference:Zpe}=Xl,{expandIri:eme,getInitialContext:py,process:OF,processingMode:o$}=Qf,{compact:tme,compactIri:rme}=qpe,{createNodeMap:nme,createMergedNodeMap:ime,mergeNodeMaps:ome}=YE,{logEventHandler:ame,logWarningEventHandler:sme,safeEventHandler:lme,setDefaultEventHandler:ume,setupEventHandler:cme,strictEventHandler:fme,unhandledEventHandler:dme}=Xg,yG=function(e){const t={},n=new Wpe({max:100});e.compact=async function(o,a,s){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(a===null)throw new Ns("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;s=i(s,{base:Is(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new i$("_:b"),contextResolver:new gl({sharedCache:n})}),s.link&&(s.skipExpansion=!0),s.compactToRelative||delete s.base;let l;s.skipExpansion?l=o:l=await e.expand(o,s);const u=await e.processContext(py(s),a,s);let f=await tme({activeCtx:u,element:l,options:s});s.compactArrays&&!s.graph&&$d(f)?f.length===1?f=f[0]:f.length===0&&(f={}):s.graph&&zc(f)&&(f=[f]),zc(a)&&"@context"in a&&(a=a["@context"]),a=Ou.clone(a),$d(a)||(a=[a]);const c=a;a=[];for(let g=0;g<c.length;++g)(!zc(c[g])||Object.keys(c[g]).length>0)&&a.push(c[g]);const h=a.length>0;if(a.length===1&&(a=a[0]),$d(f)){const g=rme({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),m=f;f={},h&&(f["@context"]=a),f[g]=m}else if(zc(f)&&h){const g=f;f={"@context":a};for(const m in g)f[m]=g[m]}return f},e.expand=async function(o,a){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");a=i(a,{keepFreeFloatingNodes:!1,contextResolver:new gl({sharedCache:n})});const s={},l=[];if("expandContext"in a){const h=Ou.clone(a.expandContext);zc(h)&&"@context"in h?s.expandContext=h:s.expandContext={"@context":h},l.push(s.expandContext)}let u;if(!Is(o))s.input=Ou.clone(o);else{const h=await e.get(o,a);u=h.documentUrl,s.input=h.document,h.contextUrl&&(s.remoteContext={"@context":h.contextUrl},l.push(s.remoteContext))}"base"in a||(a.base=u||"");let f=py(a);for(const h of l)f=await OF({activeCtx:f,localCtx:h,options:a});let c=await Gpe({activeCtx:f,element:s.input,options:a});return zc(c)&&"@graph"in c&&Object.keys(c).length===1?c=c["@graph"]:c===null&&(c=[]),$d(c)||(c=[c]),c},e.flatten=async function(o,a,s){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof a=="function"?a=null:a=a||null,s=i(s,{base:Is(o)?o:"",contextResolver:new gl({sharedCache:n})});const l=await e.expand(o,s),u=Kpe(l);return a===null?u:(s.graph=!0,s.skipExpansion=!0,await e.compact(u,a,s))},e.frame=async function(o,a,s){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(s=i(s,{base:Is(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new gl({sharedCache:n})}),Is(a)){const v=await e.get(a,s);if(a=v.document,v.contextUrl){let p=a["@context"];p?$d(p)?p.push(v.contextUrl):p=[p,v.contextUrl]:p=v.contextUrl,a["@context"]=p}}const l=a?a["@context"]||{}:{},u=await e.processContext(py(s),l,s);s.hasOwnProperty("omitGraph")||(s.omitGraph=o$(u,1.1)),s.hasOwnProperty("pruneBlankNodeIdentifiers")||(s.pruneBlankNodeIdentifiers=o$(u,1.1));const f=await e.expand(o,s),c={...s};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const h=await e.expand(a,c),g=Object.keys(a).map(v=>eme(u,v,{vocab:!0}));c.merged=!g.includes("@graph"),c.is11=o$(u,1.1);const m=Xpe(f,h,c);c.graph=!s.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let _=await e.compact(m,l,c);return c.link={},_=Qpe(_,c),_},e.link=async function(o,a,s){const l={};return a&&(l["@context"]=a),l["@embed"]="@link",e.frame(o,l,s)},e.normalize=e.canonize=async function(o,a){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(a=i(a,{base:Is(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new gl({sharedCache:n})}),"inputFormat"in a){if(a.inputFormat!=="application/n-quads"&&a.inputFormat!=="application/nquads")throw new Ns("Unknown canonicalization input format.","jsonld.CanonizeError");const u=hy.parse(o);return AF.canonize(u,a)}const s={...a};delete s.format,s.produceGeneralizedRdf=!1;const l=await e.toRDF(o,s);return AF.canonize(l,a)},e.fromRDF=async function(o,a){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");a=i(a,{format:Is(o)?"application/n-quads":void 0});const{format:s}=a;let{rdfParser:l}=a;if(s){if(l=l||t[s],!l)throw new Ns("Unknown input format.","jsonld.UnknownFormat",{format:s})}else l=()=>o;const u=await l(o);return Jpe(u,a)},e.toRDF=async function(o,a){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");a=i(a,{base:Is(o)?o:"",skipExpansion:!1,contextResolver:new gl({sharedCache:n})});let s;a.skipExpansion?s=o:s=await e.expand(o,a);const l=Ype(s,a);if(a.format){if(a.format==="application/n-quads"||a.format==="application/nquads")return hy.serialize(l);throw new Ns("Unknown output format.","jsonld.UnknownFormat",{format:a.format})}return l},e.createNodeMap=async function(o,a){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");a=i(a,{base:Is(o)?o:"",contextResolver:new gl({sharedCache:n})});const s=await e.expand(o,a);return ime(s,a)},e.merge=async function(o,a,s){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!$d(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof a=="function"?a=null:a=a||null,s=i(s,{contextResolver:new gl({sharedCache:n})});const l=await Promise.all(o.map(v=>{const p={...s};return e.expand(v,p)}));let u=!0;"mergeNodes"in s&&(u=s.mergeNodes);const f=s.issuer||new i$("_:b"),c={"@default":{}};for(let v=0;v<l.length;++v){const p=Ou.relabelBlankNodes(l[v],{issuer:new i$("_:b"+v+"-")}),S=u||v===0?c:{"@default":{}};if(nme(p,S,"@default",f),S!==c)for(const y in S){const E=S[y];if(!(y in c)){c[y]=E;continue}const $=c[y];for(const T in E)T in $||($[T]=E[T])}}const h=ome(c),g=[],m=Object.keys(h).sort();for(let v=0;v<m.length;++v){const p=h[m[v]];Zpe(p)||g.push(p)}return a===null?g:(s.graph=!0,s.skipExpansion=!0,await e.compact(g,a,s))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=async o=>{throw new Ns("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})},e.get=async function(o,a){let s;typeof a.documentLoader=="function"?s=a.documentLoader:s=e.documentLoader;const l=await s(o);try{if(!l.document)throw new Ns("No remote document found at the given URL.","jsonld.NullRemoteDocument");Is(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new Ns("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(o,a,s){return s=i(s,{base:"",contextResolver:new gl({sharedCache:n})}),a===null?py(s):(a=Ou.clone(a),zc(a)&&"@context"in a||(a={"@context":a}),OF({activeCtx:o,localCtx:a,options:s}))},e.getContextValue=Qf.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new Ns('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,a){t[o]=a},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",hy.parse),e.registerRDFParser("application/nquads",hy.parse),e.url=Ec,e.logEventHandler=ame,e.logWarningEventHandler=sme,e.safeEventHandler=lme,e.setDefaultEventHandler=ume,e.strictEventHandler=fme,e.unhandledEventHandler=dme,e.util=Ou,Object.assign(e,Ou),e.promises=e,e.RequestQueue=XW(),e.JsonLdProcessor=Hpe()(e),xF.setupGlobals(e),xF.setupDocumentLoaders(e);function i(o,{documentLoader:a=e.documentLoader,...s}){if(o&&"compactionMap"in o)throw new Ns('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new Ns('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:a},s,o,{eventHandler:cme({options:o})})}return e},wG=function(){return yG(function(){return wG()})};yG(wG);var wP={exports:{}},hj={},ja={},Mh={},Qg={},er={},dg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(S){if(super(),!e.IDENTIFIER.test(S))throw new Error("CodeGen: name must be a valid identifier");this.str=S}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(S){super(),this._items=typeof S=="string"?[S]:S}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const S=this._items[0];return S===""||S==='""'}get str(){var S;return(S=this._str)!==null&&S!==void 0?S:this._str=this._items.reduce((y,E)=>`${y}${E}`,"")}get names(){var S;return(S=this._names)!==null&&S!==void 0?S:this._names=this._items.reduce((y,E)=>(E instanceof r&&(y[E.str]=(y[E.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function i(p,...S){const y=[p[0]];let E=0;for(;E<S.length;)s(y,S[E]),y.push(p[++E]);return new n(y)}e._=i;const o=new n("+");function a(p,...S){const y=[g(p[0])];let E=0;for(;E<S.length;)y.push(o),s(y,S[E]),y.push(o,g(p[++E]));return l(y),new n(y)}e.str=a;function s(p,S){S instanceof n?p.push(...S._items):S instanceof r?p.push(S):p.push(c(S))}e.addCodeArg=s;function l(p){let S=1;for(;S<p.length-1;){if(p[S]===o){const y=u(p[S-1],p[S+1]);if(y!==void 0){p.splice(S-1,3,y);continue}p[S++]="+"}S++}}function u(p,S){if(S==='""')return p;if(p==='""')return S;if(typeof p=="string")return S instanceof r||p[p.length-1]!=='"'?void 0:typeof S!="string"?`${p.slice(0,-1)}${S}"`:S[0]==='"'?p.slice(0,-1)+S.slice(1):void 0;if(typeof S=="string"&&S[0]==='"'&&!(p instanceof r))return`"${p}${S.slice(1)}`}function f(p,S){return S.emptyStr()?p:p.emptyStr()?S:a`${p}${S}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v})(dg);var bP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=dg;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,c;if(!((c=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||c===void 0)&&c.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:c}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${c}]`}}e.ValueScopeName=o;const a=(0,t._)`\n`;class s extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var c;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:g}=h,m=(c=f.key)!==null&&c!==void 0?c:f.ref;let _=this._values[g];if(_){const S=_.get(m);if(S)return S}else _=this._values[g]=new Map;_.set(m,h);const v=this._scope[g]||(this._scope[g]=[]),p=v.length;return v[p]=f.ref,h.setValue(f,{property:g,itemIndex:p}),h}getValue(u,f){const c=this._values[u];if(c)return c.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${u}${c.scopePath}`})}scopeCode(u=this._values,f,c){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},f,c)}_reduceValues(u,f,c={},h){let g=t.nil;for(const m in u){const _=u[m];if(!_)continue;const v=c[m]=c[m]||new Map;_.forEach(p=>{if(v.has(p))return;v.set(p,n.Started);let S=f(p);if(S){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${y} ${p} = ${S};${this.opts._n}`}else if(S=h==null?void 0:h(p))g=(0,t._)`${g}${S}${this.opts._n}`;else throw new r(p);v.set(p,n.Completed)})}return g}}e.ValueScope=s})(bP);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=dg,r=bP;var n=dg;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=bP;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(N,q){return this}}class a extends o{constructor(N,q,oe){super(),this.varKind=N,this.name=q,this.rhs=oe}render({es5:N,_n:q}){const oe=N?r.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${oe} ${this.name}${J};`+q}optimizeNames(N,q){if(N[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,N,q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(N,q,oe){super(),this.lhs=N,this.rhs=q,this.sideEffects=oe}render({_n:N}){return`${this.lhs} = ${this.rhs};`+N}optimizeNames(N,q){if(!(this.lhs instanceof t.Name&&!N[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,N,q),this}get names(){const N=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(N,this.rhs)}}class l extends s{constructor(N,q,oe,J){super(N,oe,J),this.op=q}render({_n:N}){return`${this.lhs} ${this.op}= ${this.rhs};`+N}}class u extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`${this.label}:`+N}}class f extends o{constructor(N){super(),this.label=N,this.names={}}render({_n:N}){return`break${this.label?` ${this.label}`:""};`+N}}class c extends o{constructor(N){super(),this.error=N}render({_n:N}){return`throw ${this.error};`+N}get names(){return this.error.names}}class h extends o{constructor(N){super(),this.code=N}render({_n:N}){return`${this.code};`+N}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(N,q){return this.code=Q(this.code,N,q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends o{constructor(N=[]){super(),this.nodes=N}render(N){return this.nodes.reduce((q,oe)=>q+oe.render(N),"")}optimizeNodes(){const{nodes:N}=this;let q=N.length;for(;q--;){const oe=N[q].optimizeNodes();Array.isArray(oe)?N.splice(q,1,...oe):oe?N[q]=oe:N.splice(q,1)}return N.length>0?this:void 0}optimizeNames(N,q){const{nodes:oe}=this;let J=oe.length;for(;J--;){const Y=oe[J];Y.optimizeNames(N,q)||(H(N,Y.names),oe.splice(J,1))}return oe.length>0?this:void 0}get names(){return this.nodes.reduce((N,q)=>F(N,q.names),{})}}class m extends g{render(N){return"{"+N._n+super.render(N)+"}"+N._n}}class _ extends g{}class v extends m{}v.kind="else";class p extends m{constructor(N,q){super(q),this.condition=N}render(N){let q=`if(${this.condition})`+super.render(N);return this.else&&(q+="else "+this.else.render(N)),q}optimizeNodes(){super.optimizeNodes();const N=this.condition;if(N===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return N===!1?q instanceof p?q:q.nodes:this.nodes.length?this:new p(X(N),q instanceof p?[q]:q.nodes);if(!(N===!1||!this.nodes.length))return this}optimizeNames(N,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(N,q),!!(super.optimizeNames(N,q)||this.else))return this.condition=Q(this.condition,N,q),this}get names(){const N=super.names;return V(N,this.condition),this.else&&F(N,this.else.names),N}}p.kind="if";class S extends m{}S.kind="for";class y extends S{constructor(N){super(),this.iteration=N}render(N){return`for(${this.iteration})`+super.render(N)}optimizeNames(N,q){if(super.optimizeNames(N,q))return this.iteration=Q(this.iteration,N,q),this}get names(){return F(super.names,this.iteration.names)}}class E extends S{constructor(N,q,oe,J){super(),this.varKind=N,this.name=q,this.from=oe,this.to=J}render(N){const q=N.es5?r.varKinds.var:this.varKind,{name:oe,from:J,to:Y}=this;return`for(${q} ${oe}=${J}; ${oe}<${Y}; ${oe}++)`+super.render(N)}get names(){const N=V(super.names,this.from);return V(N,this.to)}}class $ extends S{constructor(N,q,oe,J){super(),this.loop=N,this.varKind=q,this.name=oe,this.iterable=J}render(N){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(N)}optimizeNames(N,q){if(super.optimizeNames(N,q))return this.iterable=Q(this.iterable,N,q),this}get names(){return F(super.names,this.iterable.names)}}class T extends m{constructor(N,q,oe){super(),this.name=N,this.args=q,this.async=oe}render(N){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(N)}}T.kind="func";class d extends g{render(N){return"return "+super.render(N)}}d.kind="return";class A extends m{render(N){let q="try"+super.render(N);return this.catch&&(q+=this.catch.render(N)),this.finally&&(q+=this.finally.render(N)),q}optimizeNodes(){var N,q;return super.optimizeNodes(),(N=this.catch)===null||N===void 0||N.optimizeNodes(),(q=this.finally)===null||q===void 0||q.optimizeNodes(),this}optimizeNames(N,q){var oe,J;return super.optimizeNames(N,q),(oe=this.catch)===null||oe===void 0||oe.optimizeNames(N,q),(J=this.finally)===null||J===void 0||J.optimizeNames(N,q),this}get names(){const N=super.names;return this.catch&&F(N,this.catch.names),this.finally&&F(N,this.finally.names),N}}class x extends m{constructor(N){super(),this.error=N}render(N){return`catch(${this.error})`+super.render(N)}}x.kind="catch";class O extends m{render(N){return"finally"+super.render(N)}}O.kind="finally";class C{constructor(N,q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...q,_n:q.lines?`
`:""},this._extScope=N,this._scope=new r.Scope({parent:N}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(N){return this._scope.name(N)}scopeName(N){return this._extScope.name(N)}scopeValue(N,q){const oe=this._extScope.value(N,q);return(this._values[oe.prefix]||(this._values[oe.prefix]=new Set)).add(oe),oe}getScopeValue(N,q){return this._extScope.getValue(N,q)}scopeRefs(N){return this._extScope.scopeRefs(N,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(N,q,oe,J){const Y=this._scope.toName(q);return oe!==void 0&&J&&(this._constants[Y.str]=oe),this._leafNode(new a(N,Y,oe)),Y}const(N,q,oe){return this._def(r.varKinds.const,N,q,oe)}let(N,q,oe){return this._def(r.varKinds.let,N,q,oe)}var(N,q,oe){return this._def(r.varKinds.var,N,q,oe)}assign(N,q,oe){return this._leafNode(new s(N,q,oe))}add(N,q){return this._leafNode(new l(N,e.operators.ADD,q))}code(N){return typeof N=="function"?N():N!==t.nil&&this._leafNode(new h(N)),this}object(...N){const q=["{"];for(const[oe,J]of N)q.length>1&&q.push(","),q.push(oe),(oe!==J||this.opts.es5)&&(q.push(":"),(0,t.addCodeArg)(q,J));return q.push("}"),new t._Code(q)}if(N,q,oe){if(this._blockNode(new p(N)),q&&oe)this.code(q).else().code(oe).endIf();else if(q)this.code(q).endIf();else if(oe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(N){return this._elseNode(new p(N))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(N,q){return this._blockNode(N),q&&this.code(q).endFor(),this}for(N,q){return this._for(new y(N),q)}forRange(N,q,oe,J,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const se=this._scope.toName(N);return this._for(new E(Y,se,q,oe),()=>J(se))}forOf(N,q,oe,J=r.varKinds.const){const Y=this._scope.toName(N);if(this.opts.es5){const se=q instanceof t.Name?q:this.var("_arr",q);return this.forRange("_i",0,(0,t._)`${se}.length`,be=>{this.var(Y,(0,t._)`${se}[${be}]`),oe(Y)})}return this._for(new $("of",J,Y,q),()=>oe(Y))}forIn(N,q,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(N,(0,t._)`Object.keys(${q})`,oe);const Y=this._scope.toName(N);return this._for(new $("in",J,Y,q),()=>oe(Y))}endFor(){return this._endBlockNode(S)}label(N){return this._leafNode(new u(N))}break(N){return this._leafNode(new f(N))}return(N){const q=new d;if(this._blockNode(q),this.code(N),q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(N,q,oe){if(!q&&!oe)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new A;if(this._blockNode(J),this.code(N),q){const Y=this.name("e");this._currNode=J.catch=new x(Y),q(Y)}return oe&&(this._currNode=J.finally=new O,this.code(oe)),this._endBlockNode(x,O)}throw(N){return this._leafNode(new c(N))}block(N,q){return this._blockStarts.push(this._nodes.length),N&&this.code(N).endBlock(q),this}endBlock(N){const q=this._blockStarts.pop();if(q===void 0)throw new Error("CodeGen: not in self-balancing block");const oe=this._nodes.length-q;if(oe<0||N!==void 0&&oe!==N)throw new Error(`CodeGen: wrong number of nodes: ${oe} vs ${N} expected`);return this._nodes.length=q,this}func(N,q=t.nil,oe,J){return this._blockNode(new T(N,q,oe)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(N=1){for(;N-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(N){return this._currNode.nodes.push(N),this}_blockNode(N){this._currNode.nodes.push(N),this._nodes.push(N)}_endBlockNode(N,q){const oe=this._currNode;if(oe instanceof N||q&&oe instanceof q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${q?`${N.kind}/${q.kind}`:N.kind}"`)}_elseNode(N){const q=this._currNode;if(!(q instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=q.else=N,this}get _root(){return this._nodes[0]}get _currNode(){const N=this._nodes;return N[N.length-1]}set _currNode(N){const q=this._nodes;q[q.length-1]=N}}e.CodeGen=C;function F(P,N){for(const q in N)P[q]=(P[q]||0)+(N[q]||0);return P}function V(P,N){return N instanceof t._CodeOrName?F(P,N.names):P}function Q(P,N,q){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?Y.push(...se._items):Y.push(se),Y),[]));function oe(Y){const se=q[Y.str];return se===void 0||N[Y.str]!==1?Y:(delete N[Y.str],se)}function J(Y){return Y instanceof t._Code&&Y._items.some(se=>se instanceof t.Name&&N[se.str]===1&&q[se.str]!==void 0)}}function H(P,N){for(const q in N)P[q]=(P[q]||0)-(N[q]||0)}function X(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${G(P)}`}e.not=X;const ce=B(e.operators.AND);function Z(...P){return P.reduce(ce)}e.and=Z;const ie=B(e.operators.OR);function k(...P){return P.reduce(ie)}e.or=k;function B(P){return(N,q)=>N===t.nil?q:q===t.nil?N:(0,t._)`${G(N)} ${P} ${G(q)}`}function G(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(er);var It={};Object.defineProperty(It,"__esModule",{value:!0});It.checkStrictMode=It.getErrorPath=It.Type=It.useFunc=It.setEvaluated=It.evaluatedPropsToName=It.mergeEvaluated=It.eachItem=It.unescapeJsonPointer=It.escapeJsonPointer=It.escapeFragment=It.unescapeFragment=It.schemaRefOrVal=It.schemaHasRulesButRef=It.schemaHasRules=It.checkUnknownRules=It.alwaysValidSchema=It.toHash=void 0;const ln=er,hme=dg;function pme(e){const t={};for(const r of e)t[r]=!0;return t}It.toHash=pme;function mme(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(bG(e,t),!_G(t,e.self.RULES.all))}It.alwaysValidSchema=mme;function bG(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||$G(e,`unknown keyword: "${o}"`)}It.checkUnknownRules=bG;function _G(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}It.schemaHasRules=_G;function gme(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}It.schemaHasRulesButRef=gme;function vme({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ln._)`${r}`}return(0,ln._)`${e}${t}${(0,ln.getProperty)(n)}`}It.schemaRefOrVal=vme;function yme(e){return EG(decodeURIComponent(e))}It.unescapeFragment=yme;function wme(e){return encodeURIComponent(pj(e))}It.escapeFragment=wme;function pj(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}It.escapeJsonPointer=pj;function EG(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}It.unescapeJsonPointer=EG;function bme(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}It.eachItem=bme;function PF({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,a,s)=>{const l=a===void 0?o:a instanceof ln.Name?(o instanceof ln.Name?e(i,o,a):t(i,o,a),a):o instanceof ln.Name?(t(i,a,o),o):r(o,a);return s===ln.Name&&!(l instanceof ln.Name)?n(i,l):l}}It.mergeEvaluated={props:PF({mergeNames:(e,t,r)=>e.if((0,ln._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ln._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ln._)`${r} || {}`).code((0,ln._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ln._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ln._)`${r} || {}`),mj(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:SG}),items:PF({mergeNames:(e,t,r)=>e.if((0,ln._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ln._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ln._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ln._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function SG(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ln._)`{}`);return t!==void 0&&mj(e,r,t),r}It.evaluatedPropsToName=SG;function mj(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ln._)`${t}${(0,ln.getProperty)(n)}`,!0))}It.setEvaluated=mj;const RF={};function _me(e,t){return e.scopeValue("func",{ref:t,code:RF[t.code]||(RF[t.code]=new hme._Code(t.code))})}It.useFunc=_me;var _P;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(_P||(It.Type=_P={}));function Eme(e,t,r){if(e instanceof ln.Name){const n=t===_P.Num;return r?n?(0,ln._)`"[" + ${e} + "]"`:(0,ln._)`"['" + ${e} + "']"`:n?(0,ln._)`"/" + ${e}`:(0,ln._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ln.getProperty)(e).toString():"/"+pj(e)}It.getErrorPath=Eme;function $G(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}It.checkStrictMode=$G;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});const ki=er,Sme={data:new ki.Name("data"),valCxt:new ki.Name("valCxt"),instancePath:new ki.Name("instancePath"),parentData:new ki.Name("parentData"),parentDataProperty:new ki.Name("parentDataProperty"),rootData:new ki.Name("rootData"),dynamicAnchors:new ki.Name("dynamicAnchors"),vErrors:new ki.Name("vErrors"),errors:new ki.Name("errors"),this:new ki.Name("this"),self:new ki.Name("self"),scope:new ki.Name("scope"),json:new ki.Name("json"),jsonPos:new ki.Name("jsonPos"),jsonLen:new ki.Name("jsonLen"),jsonPart:new ki.Name("jsonPart")};ia.default=Sme;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=er,r=It,n=ia;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,S,y){const{it:E}=v,{gen:$,compositeRule:T,allErrors:d}=E,A=c(v,p,S);y??(T||d)?l($,A):u(E,(0,t._)`[${A}]`)}e.reportError=i;function o(v,p=e.keywordError,S){const{it:y}=v,{gen:E,compositeRule:$,allErrors:T}=y,d=c(v,p,S);l(E,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function a(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:v,keyword:p,schemaValue:S,data:y,errsCount:E,it:$}){if(E===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",E,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,S),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=s;function l(v,p){const S=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${S}]`),(0,t._)`${n.default.vErrors}.push(${S})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:S,validateName:y,schemaEnv:E}=v;E.$async?S.throw((0,t._)`new ${v.ValidationError}(${p})`):(S.assign((0,t._)`${y}.errors`,p),S.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,S){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,S)}function h(v,p,S={}){const{gen:y,it:E}=v,$=[g(E,S),m(v,S)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const S=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,S)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:S,parentSchema:y}){let E=y?p:(0,t.str)`${p}/${v}`;return S&&(E=(0,t.str)`${E}${(0,r.getErrorPath)(S,r.Type.Str)}`),[f.schemaPath,E]}function _(v,{params:p,message:S},y){const{keyword:E,data:$,schemaValue:T,it:d}=v,{opts:A,propertyName:x,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,E],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),A.messages&&y.push([f.message,typeof S=="function"?S(v):S]),A.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),x&&y.push([f.propertyName,x])}})(Qg);Object.defineProperty(Mh,"__esModule",{value:!0});Mh.boolOrEmptySchema=Mh.topBoolOrEmptySchema=void 0;const $me=Qg,Tme=er,Ame=ia,xme={message:"boolean schema is false"};function Ome(e){const{gen:t,schema:r,validateName:n}=e;r===!1?TG(e,!1):typeof r=="object"&&r.$async===!0?t.return(Ame.default.data):(t.assign((0,Tme._)`${n}.errors`,null),t.return(!0))}Mh.topBoolOrEmptySchema=Ome;function Pme(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),TG(e)):r.var(t,!0)}Mh.boolOrEmptySchema=Pme;function TG(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,$me.reportError)(i,xme,void 0,t)}var ii={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getRules=Bf.isJSONType=void 0;const Rme=["string","number","integer","boolean","null","object","array"],Nme=new Set(Rme);function Ime(e){return typeof e=="string"&&Nme.has(e)}Bf.isJSONType=Ime;function jme(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Bf.getRules=jme;var kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.shouldUseRule=kl.shouldUseGroup=kl.schemaHasRulesForType=void 0;function Cme({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&AG(e,n)}kl.schemaHasRulesForType=Cme;function AG(e,t){return t.rules.some(r=>xG(e,r))}kl.shouldUseGroup=AG;function xG(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}kl.shouldUseRule=xG;Object.defineProperty(ii,"__esModule",{value:!0});ii.reportTypeError=ii.checkDataTypes=ii.checkDataType=ii.coerceAndCheckDataType=ii.getJSONTypes=ii.getSchemaTypes=ii.DataType=void 0;const kme=Bf,Dme=kl,Mme=Qg,sr=er,OG=It;var yh;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(yh||(ii.DataType=yh={}));function Lme(e){const t=PG(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ii.getSchemaTypes=Lme;function PG(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(kme.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ii.getJSONTypes=PG;function Fme(e,t){const{gen:r,data:n,opts:i}=e,o=Bme(t,i.coerceTypes),a=t.length>0&&!(o.length===0&&t.length===1&&(0,Dme.schemaHasRulesForType)(e,t[0]));if(a){const s=gj(t,n,i.strictNumbers,yh.Wrong);r.if(s,()=>{o.length?Ume(e,t,o):vj(e)})}return a}ii.coerceAndCheckDataType=Fme;const RG=new Set(["string","number","integer","boolean","null"]);function Bme(e,t){return t?e.filter(r=>RG.has(r)||t==="array"&&r==="array"):[]}function Ume(e,t,r){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",(0,sr._)`typeof ${i}`),s=n.let("coerced",(0,sr._)`undefined`);o.coerceTypes==="array"&&n.if((0,sr._)`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,sr._)`${i}[0]`).assign(a,(0,sr._)`typeof ${i}`).if(gj(t,i,o.strictNumbers),()=>n.assign(s,i))),n.if((0,sr._)`${s} !== undefined`);for(const u of r)(RG.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);n.else(),vj(e),n.endIf(),n.if((0,sr._)`${s} !== undefined`,()=>{n.assign(i,s),zme(e,s)});function l(u){switch(u){case"string":n.elseIf((0,sr._)`${a} == "number" || ${a} == "boolean"`).assign(s,(0,sr._)`"" + ${i}`).elseIf((0,sr._)`${i} === null`).assign(s,(0,sr._)`""`);return;case"number":n.elseIf((0,sr._)`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(s,(0,sr._)`+${i}`);return;case"integer":n.elseIf((0,sr._)`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(s,(0,sr._)`+${i}`);return;case"boolean":n.elseIf((0,sr._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(s,!1).elseIf((0,sr._)`${i} === "true" || ${i} === 1`).assign(s,!0);return;case"null":n.elseIf((0,sr._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(s,null);return;case"array":n.elseIf((0,sr._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(s,(0,sr._)`[${i}]`)}}}function zme({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,sr._)`${t} !== undefined`,()=>e.assign((0,sr._)`${t}[${r}]`,n))}function EP(e,t,r,n=yh.Correct){const i=n===yh.Correct?sr.operators.EQ:sr.operators.NEQ;let o;switch(e){case"null":return(0,sr._)`${t} ${i} null`;case"array":o=(0,sr._)`Array.isArray(${t})`;break;case"object":o=(0,sr._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a((0,sr._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return(0,sr._)`typeof ${t} ${i} ${e}`}return n===yh.Correct?o:(0,sr.not)(o);function a(s=sr.nil){return(0,sr.and)((0,sr._)`typeof ${t} == "number"`,s,r?(0,sr._)`isFinite(${t})`:sr.nil)}}ii.checkDataType=EP;function gj(e,t,r,n){if(e.length===1)return EP(e[0],t,r,n);let i;const o=(0,OG.toHash)(e);if(o.array&&o.object){const a=(0,sr._)`typeof ${t} != "object"`;i=o.null?a:(0,sr._)`!${t} || ${a}`,delete o.null,delete o.array,delete o.object}else i=sr.nil;o.number&&delete o.integer;for(const a in o)i=(0,sr.and)(i,EP(a,t,r,n));return i}ii.checkDataTypes=gj;const qme={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,sr._)`{type: ${e}}`:(0,sr._)`{type: ${t}}`};function vj(e){const t=Vme(e);(0,Mme.reportError)(t,qme)}ii.reportTypeError=vj;function Vme(e){const{gen:t,data:r,schema:n}=e,i=(0,OG.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.assignDefaults=void 0;const Td=er,Hme=It;function Wme(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)NF(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,o)=>NF(e,o,i.default))}XE.assignDefaults=Wme;function NF(e,t,r){const{gen:n,compositeRule:i,data:o,opts:a}=e;if(r===void 0)return;const s=(0,Td._)`${o}${(0,Td.getProperty)(t)}`;if(i){(0,Hme.checkStrictMode)(e,`default is ignored for: ${s}`);return}let l=(0,Td._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,Td._)`${l} || ${s} === null || ${s} === ""`),n.if(l,(0,Td._)`${s} = ${(0,Td.stringify)(r)}`)}var Ks={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateUnion=wr.validateArray=wr.usePattern=wr.callValidateCode=wr.schemaProperties=wr.allSchemaProperties=wr.noPropertyInData=wr.propertyInData=wr.isOwnProperty=wr.hasPropFunc=wr.reportMissingProp=wr.checkMissingProp=wr.checkReportMissingProp=void 0;const bn=er,yj=It,vu=ia,Gme=It;function Kme(e,t){const{gen:r,data:n,it:i}=e;r.if(bj(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,bn._)`${t}`},!0),e.error()})}wr.checkReportMissingProp=Kme;function Jme({gen:e,data:t,it:{opts:r}},n,i){return(0,bn.or)(...n.map(o=>(0,bn.and)(bj(e,t,o,r.ownProperties),(0,bn._)`${i} = ${o}`)))}wr.checkMissingProp=Jme;function Yme(e,t){e.setParams({missingProperty:t},!0),e.error()}wr.reportMissingProp=Yme;function NG(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,bn._)`Object.prototype.hasOwnProperty`})}wr.hasPropFunc=NG;function wj(e,t,r){return(0,bn._)`${NG(e)}.call(${t}, ${r})`}wr.isOwnProperty=wj;function Xme(e,t,r,n){const i=(0,bn._)`${t}${(0,bn.getProperty)(r)} !== undefined`;return n?(0,bn._)`${i} && ${wj(e,t,r)}`:i}wr.propertyInData=Xme;function bj(e,t,r,n){const i=(0,bn._)`${t}${(0,bn.getProperty)(r)} === undefined`;return n?(0,bn.or)(i,(0,bn.not)(wj(e,t,r))):i}wr.noPropertyInData=bj;function IG(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}wr.allSchemaProperties=IG;function Qme(e,t){return IG(t).filter(r=>!(0,yj.alwaysValidSchema)(e,t[r]))}wr.schemaProperties=Qme;function Zme({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:a},s,l,u){const f=u?(0,bn._)`${e}, ${t}, ${n}${i}`:t,c=[[vu.default.instancePath,(0,bn.strConcat)(vu.default.instancePath,o)],[vu.default.parentData,a.parentData],[vu.default.parentDataProperty,a.parentDataProperty],[vu.default.rootData,vu.default.rootData]];a.opts.dynamicRef&&c.push([vu.default.dynamicAnchors,vu.default.dynamicAnchors]);const h=(0,bn._)`${f}, ${r.object(...c)}`;return l!==bn.nil?(0,bn._)`${s}.call(${l}, ${h})`:(0,bn._)`${s}(${h})`}wr.callValidateCode=Zme;const ege=(0,bn._)`new RegExp`;function tge({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,bn._)`${i.code==="new RegExp"?ege:(0,Gme.useFunc)(e,i)}(${r}, ${n})`})}wr.usePattern=tge;function rge(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const s=t.let("valid",!0);return a(()=>t.assign(s,!1)),s}return t.var(o,!0),a(()=>t.break()),o;function a(s){const l=t.const("len",(0,bn._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:yj.Type.Num},o),t.if((0,bn.not)(o),s)})}}wr.validateArray=rge;function nge(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,yj.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=t.let("valid",!1),s=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},s);t.assign(a,(0,bn._)`${a} || ${s}`),e.mergeValidEvaluated(f,s)||t.if((0,bn.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}wr.validateUnion=nge;Object.defineProperty(Ks,"__esModule",{value:!0});Ks.validateKeywordUsage=Ks.validSchemaType=Ks.funcKeywordCode=Ks.macroKeywordCode=void 0;const Zi=er,rf=ia,ige=wr,oge=Qg;function age(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=e,s=t.macro.call(a.self,i,o,a),l=jG(r,n,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);const u=r.name("valid");e.subschema({schema:s,schemaPath:Zi.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Ks.macroKeywordCode=age;function sge(e,t){var r;const{gen:n,keyword:i,schema:o,parentSchema:a,$data:s,it:l}=e;uge(l,t);const u=!s&&t.compile?t.compile.call(l.self,o,a,l):t.validate,f=jG(n,i,u),c=n.let("valid");e.block$data(c,h),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function h(){if(t.errors===!1)_(),t.modifying&&IF(e),v(()=>e.error());else{const p=t.async?g():m();t.modifying&&IF(e),v(()=>lge(e,p))}}function g(){const p=n.let("ruleErrs",null);return n.try(()=>_((0,Zi._)`await `),S=>n.assign(c,!1).if((0,Zi._)`${S} instanceof ${l.ValidationError}`,()=>n.assign(p,(0,Zi._)`${S}.errors`),()=>n.throw(S))),p}function m(){const p=(0,Zi._)`${f}.errors`;return n.assign(p,null),_(Zi.nil),p}function _(p=t.async?(0,Zi._)`await `:Zi.nil){const S=l.opts.passContext?rf.default.this:rf.default.self,y=!("compile"in t&&!s||t.schema===!1);n.assign(c,(0,Zi._)`${p}${(0,ige.callValidateCode)(e,f,S,y)}`,t.modifying)}function v(p){var S;n.if((0,Zi.not)((S=t.valid)!==null&&S!==void 0?S:c),p)}}Ks.funcKeywordCode=sge;function IF(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Zi._)`${n.parentData}[${n.parentDataProperty}]`))}function lge(e,t){const{gen:r}=e;r.if((0,Zi._)`Array.isArray(${t})`,()=>{r.assign(rf.default.vErrors,(0,Zi._)`${rf.default.vErrors} === null ? ${t} : ${rf.default.vErrors}.concat(${t})`).assign(rf.default.errors,(0,Zi._)`${rf.default.vErrors}.length`),(0,oge.extendErrors)(e)},()=>e.error())}function uge({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function jG(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Zi.stringify)(r)})}function cge(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ks.validSchemaType=cge;function fge({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const a=i.dependencies;if(a!=null&&a.some(s=>!Object.prototype.hasOwnProperty.call(e,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ks.validateKeywordUsage=fge;var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.extendSubschemaMode=tc.extendSubschemaData=tc.getSubschema=void 0;const Vs=er,CG=It;function dge(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const s=e.schema[t];return r===void 0?{schema:s,schemaPath:(0,Vs._)`${e.schemaPath}${(0,Vs.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:s[r],schemaPath:(0,Vs._)`${e.schemaPath}${(0,Vs.getProperty)(t)}${(0,Vs.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,CG.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}tc.getSubschema=dge;function hge(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:a}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:c}=t,h=s.let("data",(0,Vs._)`${t.data}${(0,Vs.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Vs.str)`${u}${(0,CG.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,Vs._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Vs.Name?i:s.let("data",i,!0);l(u),a!==void 0&&(e.propertyName=a)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}tc.extendSubschemaData=hge;function pge(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}tc.extendSubschemaMode=pge;var Ti={},kG=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},DG={exports:{}},qu=DG.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};eb(t,n,i,e,"",e)};qu.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};qu.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};qu.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};qu.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function eb(e,t,r,n,i,o,a,s,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,a,s,l,u);for(var f in n){var c=n[f];if(Array.isArray(c)){if(f in qu.arrayKeywords)for(var h=0;h<c.length;h++)eb(e,t,r,c[h],i+"/"+f+"/"+h,o,i,f,n,h)}else if(f in qu.propsKeywords){if(c&&typeof c=="object")for(var g in c)eb(e,t,r,c[g],i+"/"+f+"/"+mge(g),o,i,f,n,g)}else(f in qu.keywords||e.allKeys&&!(f in qu.skipKeywords))&&eb(e,t,r,c,i+"/"+f,o,i,f,n)}r(n,i,o,a,s,l,u)}}function mge(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var gge=DG.exports;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.getSchemaRefs=Ti.resolveUrl=Ti.normalizeId=Ti._getFullPath=Ti.getFullPath=Ti.inlineRef=void 0;const vge=It,yge=kG,wge=gge,bge=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _ge(e,t=!0){return typeof e=="boolean"?!0:t===!0?!SP(e):t?MG(e)<=t:!1}Ti.inlineRef=_ge;const Ege=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function SP(e){for(const t in e){if(Ege.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(SP)||typeof r=="object"&&SP(r))return!0}return!1}function MG(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!bge.has(r)&&(typeof e[r]=="object"&&(0,vge.eachItem)(e[r],n=>t+=MG(n)),t===1/0))return 1/0}return t}function LG(e,t="",r){r!==!1&&(t=wh(t));const n=e.parse(t);return FG(e,n)}Ti.getFullPath=LG;function FG(e,t){return e.serialize(t).split("#")[0]+"#"}Ti._getFullPath=FG;const Sge=/#\/?$/;function wh(e){return e?e.replace(Sge,""):""}Ti.normalizeId=wh;function $ge(e,t,r){return r=wh(r),e.resolve(t,r)}Ti.resolveUrl=$ge;const Tge=/^[a-z_][-a-z0-9._]*$/i;function Age(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=wh(e[r]||t),o={"":i},a=LG(n,i,!1),s={},l=new Set;return wge(e,{allKeys:!0},(c,h,g,m)=>{if(m===void 0)return;const _=a+h;let v=o[m];typeof c[r]=="string"&&(v=p.call(this,c[r])),S.call(this,c.$anchor),S.call(this,c.$dynamicAnchor),o[h]=v;function p(y){const E=this.opts.uriResolver.resolve;if(y=wh(v?E(v,y):y),l.has(y))throw f(y);l.add(y);let $=this.refs[y];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(c,$.schema,y):y!==wh(_)&&(y[0]==="#"?(u(c,s[y],y),s[y]=c):this.refs[y]=_),y}function S(y){if(typeof y=="string"){if(!Tge.test(y))throw new Error(`invalid anchor "${y}"`);p.call(this,`#${y}`)}}}),s;function u(c,h,g){if(h!==void 0&&!yge(c,h))throw f(g)}function f(c){return new Error(`reference "${c}" resolves to more than one schema`)}}Ti.getSchemaRefs=Age;Object.defineProperty(ja,"__esModule",{value:!0});ja.getData=ja.KeywordCxt=ja.validateFunctionCode=void 0;const BG=Mh,jF=ii,_j=kl,S_=ii,xge=XE,Am=Ks,a$=tc,Vt=er,Qt=ia,Oge=Ti,Dl=It,Rp=Qg;function Pge(e){if(qG(e)&&(VG(e),zG(e))){Ige(e);return}UG(e,()=>(0,BG.topBoolOrEmptySchema)(e))}ja.validateFunctionCode=Pge;function UG({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,Vt._)`${Qt.default.data}, ${Qt.default.valCxt}`,n.$async,()=>{e.code((0,Vt._)`"use strict"; ${CF(r,i)}`),Nge(e,i),e.code(o)}):e.func(t,(0,Vt._)`${Qt.default.data}, ${Rge(i)}`,n.$async,()=>e.code(CF(r,i)).code(o))}function Rge(e){return(0,Vt._)`{${Qt.default.instancePath}="", ${Qt.default.parentData}, ${Qt.default.parentDataProperty}, ${Qt.default.rootData}=${Qt.default.data}${e.dynamicRef?(0,Vt._)`, ${Qt.default.dynamicAnchors}={}`:Vt.nil}}={}`}function Nge(e,t){e.if(Qt.default.valCxt,()=>{e.var(Qt.default.instancePath,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.instancePath}`),e.var(Qt.default.parentData,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.parentData}`),e.var(Qt.default.parentDataProperty,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.parentDataProperty}`),e.var(Qt.default.rootData,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.rootData}`),t.dynamicRef&&e.var(Qt.default.dynamicAnchors,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.dynamicAnchors}`)},()=>{e.var(Qt.default.instancePath,(0,Vt._)`""`),e.var(Qt.default.parentData,(0,Vt._)`undefined`),e.var(Qt.default.parentDataProperty,(0,Vt._)`undefined`),e.var(Qt.default.rootData,Qt.default.data),t.dynamicRef&&e.var(Qt.default.dynamicAnchors,(0,Vt._)`{}`)})}function Ige(e){const{schema:t,opts:r,gen:n}=e;UG(e,()=>{r.$comment&&t.$comment&&WG(e),Mge(e),n.let(Qt.default.vErrors,null),n.let(Qt.default.errors,0),r.unevaluated&&jge(e),HG(e),Bge(e)})}function jge(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Vt._)`${r}.evaluated`),t.if((0,Vt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Vt._)`${e.evaluated}.props`,(0,Vt._)`undefined`)),t.if((0,Vt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Vt._)`${e.evaluated}.items`,(0,Vt._)`undefined`))}function CF(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Vt._)`/*# sourceURL=${r} */`:Vt.nil}function Cge(e,t){if(qG(e)&&(VG(e),zG(e))){kge(e,t);return}(0,BG.boolOrEmptySchema)(e,t)}function zG({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function qG(e){return typeof e.schema!="boolean"}function kge(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&WG(e),Lge(e),Fge(e);const o=n.const("_errs",Qt.default.errors);HG(e,o),n.var(t,(0,Vt._)`${o} === ${Qt.default.errors}`)}function VG(e){(0,Dl.checkUnknownRules)(e),Dge(e)}function HG(e,t){if(e.opts.jtd)return kF(e,[],!1,t);const r=(0,jF.getSchemaTypes)(e.schema),n=(0,jF.coerceAndCheckDataType)(e,r);kF(e,r,!n,t)}function Dge(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Dl.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Mge(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Dl.checkStrictMode)(e,"default is ignored in the schema root")}function Lge(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Oge.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Fge(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function WG({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)e.code((0,Vt._)`${Qt.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const a=(0,Vt.str)`${n}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code((0,Vt._)`${Qt.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function Bge(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,Vt._)`${Qt.default.errors} === 0`,()=>t.return(Qt.default.data),()=>t.throw((0,Vt._)`new ${i}(${Qt.default.vErrors})`)):(t.assign((0,Vt._)`${n}.errors`,Qt.default.vErrors),o.unevaluated&&Uge(e),t.return((0,Vt._)`${Qt.default.errors} === 0`))}function Uge({gen:e,evaluated:t,props:r,items:n}){r instanceof Vt.Name&&e.assign((0,Vt._)`${t}.props`,r),n instanceof Vt.Name&&e.assign((0,Vt._)`${t}.items`,n)}function kF(e,t,r,n){const{gen:i,schema:o,data:a,allErrors:s,opts:l,self:u}=e,{RULES:f}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Dl.schemaHasRulesButRef)(o,f))){i.block(()=>JG(e,"$ref",f.all.$ref.definition));return}l.jtd||zge(e,t),i.block(()=>{for(const h of f.rules)c(h);c(f.post)});function c(h){(0,_j.shouldUseGroup)(o,h)&&(h.type?(i.if((0,S_.checkDataType)(h.type,a,l.strictNumbers)),DF(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,S_.reportTypeError)(e)),i.endIf()):DF(e,h),s||i.if((0,Vt._)`${Qt.default.errors} === ${n||0}`))}}function DF(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,xge.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,_j.shouldUseRule)(n,o)&&JG(e,o.keyword,o.definition,t.type)})}function zge(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(qge(e,t),e.opts.allowUnionTypes||Vge(e,t),Hge(e,e.dataTypes))}function qge(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{GG(e.dataTypes,r)||Ej(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Gge(e,t)}}function Vge(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Ej(e,"use allowUnionTypes to allow union type keyword")}function Hge(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,_j.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(a=>Wge(t,a))&&Ej(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Wge(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function GG(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Gge(e,t){const r=[];for(const n of e.dataTypes)GG(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Ej(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Dl.checkStrictMode)(e,t,e.opts.strictTypes)}class KG{constructor(t,r,n){if((0,Am.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Dl.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",YG(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Am.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Qt.default.errors))}result(t,r,n){this.failResult((0,Vt.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Vt.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Vt._)`${r} !== undefined && (${(0,Vt.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Rp.reportExtraError:Rp.reportError)(this,this.def.error,r)}$dataError(){(0,Rp.reportError)(this,this.def.$dataError||Rp.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Rp.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Vt.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Vt.nil,r=Vt.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:a}=this;n.if((0,Vt.or)((0,Vt._)`${i} === undefined`,r)),t!==Vt.nil&&n.assign(t,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Vt.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,Vt.or)(a(),s());function a(){if(n.length){if(!(r instanceof Vt.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Vt._)`${(0,S_.checkDataTypes)(l,r,o.opts.strictNumbers,S_.DataType.Wrong)}`}return Vt.nil}function s(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Vt._)`!${l}(${r})`}return Vt.nil}}subschema(t,r){const n=(0,a$.getSubschema)(this.it,t);(0,a$.extendSubschemaData)(n,this.it,t),(0,a$.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Cge(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Dl.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Dl.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,Vt.Name)),!0}}ja.KeywordCxt=KG;function JG(e,t,r,n){const i=new KG(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Am.funcKeywordCode)(i,r):"macro"in r?(0,Am.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Am.funcKeywordCode)(i,r)}const Kge=/^\/(?:[^~]|~0|~1)*$/,Jge=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function YG(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(e==="")return Qt.default.rootData;if(e[0]==="/"){if(!Kge.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=Qt.default.rootData}else{const u=Jge.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(i=u[2],i==="#"){if(f>=t)throw new Error(l("property/index",f));return n[t-f]}if(f>t)throw new Error(l("data",f));if(o=r[t-f],!i)return o}let a=o;const s=i.split("/");for(const u of s)u&&(o=(0,Vt._)`${o}${(0,Vt.getProperty)((0,Dl.unescapeJsonPointer)(u))}`,a=(0,Vt._)`${a} && ${o}`);return a;function l(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}ja.getData=YG;var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});class Yge extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Zh.default=Yge;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});const s$=Ti;class Xge extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,s$.resolveUrl)(t,r,n),this.missingSchema=(0,s$.normalizeId)((0,s$.getFullPath)(t,this.missingRef))}}Zf.default=Xge;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.resolveSchema=to.getCompilingSchema=to.resolveRef=to.compileSchema=to.SchemaEnv=void 0;const Ya=er,Qge=Zh,qc=ia,us=Ti,MF=It,Zge=ja;class QE{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,us.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}to.SchemaEnv=QE;function Sj(e){const t=XG.call(this,e);if(t)return t;const r=(0,us.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new Ya.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let s;e.$async&&(s=a.scopeValue("Error",{ref:Qge.default,code:(0,Ya._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");e.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:qc.default.data,parentData:qc.default.parentData,parentDataProperty:qc.default.parentDataProperty,dataNames:[qc.default.data],dataPathArr:[Ya.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ya.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ya.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ya._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,Zge.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const c=a.toString();f=`${a.scopeRefs(qc.default.scope)}return ${c}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const g=new Function(`${qc.default.self}`,`${qc.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:g}),g.errors=null,g.schema=e.schema,g.schemaEnv=e,e.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:l,validateCode:c,scopeValues:a._values}),this.opts.unevaluated){const{props:m,items:_}=u;g.evaluated={props:m instanceof Ya.Name?void 0:m,items:_ instanceof Ya.Name?void 0:_,dynamicProps:m instanceof Ya.Name,dynamicItems:_ instanceof Ya.Name},g.source&&(g.source.evaluated=(0,Ya.stringify)(g.evaluated))}return e.validate=g,e}catch(c){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),c}finally{this._compilations.delete(e)}}to.compileSchema=Sj;function eve(e,t,r){var n;r=(0,us.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=nve.call(this,e,r);if(o===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:s}=this.opts;a&&(o=new QE({schema:a,schemaId:s,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=tve.call(this,o)}to.resolveRef=eve;function tve(e){return(0,us.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Sj.call(this,e)}function XG(e){for(const t of this._compilations)if(rve(t,e))return t}to.getCompilingSchema=XG;function rve(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function nve(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ZE.call(this,e,t)}function ZE(e,t){const r=this.opts.uriResolver.parse(t),n=(0,us._getFullPath)(this.opts.uriResolver,r);let i=(0,us.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return l$.call(this,r,e);const o=(0,us.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=ZE.call(this,e,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:l$.call(this,r,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Sj.call(this,a),o===(0,us.normalizeId)(t)){const{schema:s}=a,{schemaId:l}=this.opts,u=s[l];return u&&(i=(0,us.resolveUrl)(this.opts.uriResolver,i,u)),new QE({schema:s,schemaId:l,root:e,baseId:i})}return l$.call(this,r,a)}}to.resolveSchema=ZE;const ive=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function l$(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,MF.unescapeFragment)(s)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!ive.has(s)&&u&&(t=(0,us.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,MF.schemaHasRulesButRef)(r,this.RULES)){const s=(0,us.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=ZE.call(this,n,s)}const{schemaId:a}=this.opts;if(o=o||new QE({schema:r,schemaId:a,root:n,baseId:t}),o.schema!==o.root.schema)return o}const ove="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ave="Meta-schema for $data reference (JSON AnySchema extension proposal)",sve="object",lve=["$data"],uve={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},cve=!1,fve={$id:ove,description:ave,type:sve,required:lve,properties:uve,additionalProperties:cve};var $j={},eS={exports:{}};const dve={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var hve={HEX:dve};const{HEX:pve}=hve,mve=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function QG(e){if(eK(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(mve)||[],[r]=t;return r?{host:vve(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function LF(e,t=!1){let r="",n=!0;for(const i of e){if(pve[i]===void 0)return;i!=="0"&&n===!0&&(n=!1),n||(r+=i)}return t&&r.length===0&&(r="0"),r}function gve(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,a=!1,s=!1;function l(){if(i.length){if(o===!1){const u=LF(i);if(u!==void 0)n.push(u);else return r.error=!0,!1}i.length=0}return!0}for(let u=0;u<e.length;u++){const f=e[u];if(!(f==="["||f==="]"))if(f===":"){if(a===!0&&(s=!0),!l())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(a=!0);continue}else if(f==="%"){if(!l())break;o=!0}else{i.push(f);continue}}return i.length&&(o?r.zone=i.join(""):s?n.push(i.join("")):n.push(LF(i))),r.address=n.join(""),r}function ZG(e){if(eK(e,":")<2)return{host:e,isIPV6:!1};const t=gve(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function vve(e,t){let r="",n=!0;const i=e.length;for(let o=0;o<i;o++){const a=e[o];a==="0"&&n?(o+1<=i&&e[o+1]===t||o+1===i)&&(r+=a,n=!1):(a===t?n=!0:n=!1,r+=a)}return r}function eK(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const FF=/^\.\.?\//u,BF=/^\/\.(?:\/|$)/u,UF=/^\/\.\.(?:\/|$)/u,yve=/^\/?(?:.|\n)*?(?=\/|$)/u;function wve(e){const t=[];for(;e.length;)if(e.match(FF))e=e.replace(FF,"");else if(e.match(BF))e=e.replace(BF,"/");else if(e.match(UF))e=e.replace(UF,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(yve);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function bve(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function _ve(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);const n=QG(r);if(n.isIPV4)r=n.host;else{const i=ZG(n.host);i.isIPV6===!0?r=`[${i.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var Eve={recomposeAuthority:_ve,normalizeComponentEncoding:bve,removeDotSegments:wve,normalizeIPv4:QG,normalizeIPv6:ZG};const Sve=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,$ve=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function tK(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function rK(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function nK(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Tve(e){return e.secure=tK(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Ave(e){if((e.port===(tK(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function xve(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match($ve);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=Tj[i];e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Ove(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=Tj[i];o&&(e=o.serialize(e,t));const a=e,s=e.nss;return a.path=`${n||t.nid}:${s}`,t.skipEscape=!0,a}function Pve(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Sve.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Rve(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const iK={scheme:"http",domainHost:!0,parse:rK,serialize:nK},Nve={scheme:"https",domainHost:iK.domainHost,parse:rK,serialize:nK},tb={scheme:"ws",domainHost:!0,parse:Tve,serialize:Ave},Ive={scheme:"wss",domainHost:tb.domainHost,parse:tb.parse,serialize:tb.serialize},jve={scheme:"urn",parse:xve,serialize:Ove,skipNormalize:!0},Cve={scheme:"urn:uuid",parse:Pve,serialize:Rve,skipNormalize:!0},Tj={http:iK,https:Nve,ws:tb,wss:Ive,urn:jve,"urn:uuid":Cve};var kve=Tj;const{normalizeIPv6:Dve,normalizeIPv4:Mve,removeDotSegments:tm,recomposeAuthority:Lve,normalizeComponentEncoding:my}=Eve,Aj=kve;function Fve(e,t){return typeof e=="string"?e=Js(Vl(e,t),t):typeof e=="object"&&(e=Vl(Js(e,t),t)),e}function Bve(e,t,r){const n=Object.assign({scheme:"null"},r),i=oK(Vl(e,n),Vl(t,n),n,!0);return Js(i,{...n,skipEscape:!0})}function oK(e,t,r,n){const i={};return n||(e=Vl(Js(e,r),r),t=Vl(Js(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=tm(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=tm(t.path||""),i.query=t.query):(t.path?(t.path.charAt(0)==="/"?i.path=tm(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=tm(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function Uve(e,t,r){return typeof e=="string"?(e=unescape(e),e=Js(my(Vl(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Js(my(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Js(my(Vl(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Js(my(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Js(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=Aj[(n.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const a=Lve(r);if(a!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(a),r.path&&r.path.charAt(0)!=="/"&&i.push("/")),r.path!==void 0){let s=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(s=tm(s)),a===void 0&&(s=s.replace(/^\/\//u,"/%2F")),i.push(s)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const zve=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function qve(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||zve[t])return!0;return!1}const Vve=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Vl(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},i=e.indexOf("%")!==-1;let o=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const a=e.match(Vve);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host){const l=Mve(n.host);if(l.isIPV4===!1){const u=Dve(l.host);n.host=u.host.toLowerCase(),o=u.isIPV6}else n.host=l.host,o=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const s=Aj[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&o===!1&&qve(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!s||s&&!s.skipNormalize)&&(i&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),i&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const xj={SCHEMES:Aj,normalize:Fve,resolve:Bve,resolveComponents:oK,equal:Uve,serialize:Js,parse:Vl};eS.exports=xj;eS.exports.default=xj;eS.exports.fastUri=xj;var Hve=eS.exports;Object.defineProperty($j,"__esModule",{value:!0});const aK=Hve;aK.code='require("ajv/dist/runtime/uri").default';$j.default=aK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ja;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=er;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Zh,i=Zf,o=Bf,a=to,s=er,l=Ti,u=ii,f=It,c=fve,h=$j,g=(k,B)=>new RegExp(k,B);g.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},S=200;function y(k){var B,G,P,N,q,oe,J,Y,se,be,Ne,R,D,M,K,ae,fe,de,pe,xe,Le,ke,nt,qe,Ue;const W=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ne=(P=(G=k.code)===null||G===void 0?void 0:G.regExp)!==null&&P!==void 0?P:g,ye=(N=k.uriResolver)!==null&&N!==void 0?N:h.default;return{strictSchema:(oe=(q=k.strictSchema)!==null&&q!==void 0?q:W)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:W)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(se=k.strictTypes)!==null&&se!==void 0?se:W)!==null&&be!==void 0?be:"log",strictTuples:(R=(Ne=k.strictTuples)!==null&&Ne!==void 0?Ne:W)!==null&&R!==void 0?R:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:W)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ne}:{optimize:L,regExp:ne},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:S,loopEnum:(ae=k.loopEnum)!==null&&ae!==void 0?ae:S,meta:(fe=k.meta)!==null&&fe!==void 0?fe:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(xe=k.schemaId)!==null&&xe!==void 0?xe:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(ke=k.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(nt=k.validateFormats)!==null&&nt!==void 0?nt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}class E{constructor(B={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,B=this.opts={...B,...y(B)};const{es5:G,lines:P}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:G,lines:P}),this.logger=F(B.logger);const N=B.validateFormats;B.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,B,"NOT SUPPORTED"),$.call(this,p,B,"DEPRECATED","warn"),this._metaOpts=O.call(this),B.formats&&A.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),B.keywords&&x.call(this,B.keywords),typeof B.meta=="object"&&this.addMetaSchema(B.meta),d.call(this),B.validateFormats=N}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:B,meta:G,schemaId:P}=this.opts;let N=c;P==="id"&&(N={...c},N.id=N.$id,delete N.$id),G&&B&&this.addMetaSchema(N,N[P],!1)}defaultMeta(){const{meta:B,schemaId:G}=this.opts;return this.opts.defaultMeta=typeof B=="object"?B[G]||B:void 0}validate(B,G){let P;if(typeof B=="string"){if(P=this.getSchema(B),!P)throw new Error(`no schema with key or ref "${B}"`)}else P=this.compile(B);const N=P(G);return"$async"in P||(this.errors=P.errors),N}compile(B,G){const P=this._addSchema(B,G);return P.validate||this._compileSchemaEnv(P)}compileAsync(B,G){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return N.call(this,B,G);async function N(be,Ne){await q.call(this,be.$schema);const R=this._addSchema(be,Ne);return R.validate||oe.call(this,R)}async function q(be){be&&!this.getSchema(be)&&await N.call(this,{$ref:be},!0)}async function oe(be){try{return this._compileSchemaEnv(be)}catch(Ne){if(!(Ne instanceof i.default))throw Ne;return J.call(this,Ne),await Y.call(this,Ne.missingSchema),oe.call(this,be)}}function J({missingSchema:be,missingRef:Ne}){if(this.refs[be])throw new Error(`AnySchema ${be} is loaded but ${Ne} cannot be resolved`)}async function Y(be){const Ne=await se.call(this,be);this.refs[be]||await q.call(this,Ne.$schema),this.refs[be]||this.addSchema(Ne,be,G)}async function se(be){const Ne=this._loading[be];if(Ne)return Ne;try{return await(this._loading[be]=P(be))}finally{delete this._loading[be]}}}addSchema(B,G,P,N=this.opts.validateSchema){if(Array.isArray(B)){for(const oe of B)this.addSchema(oe,void 0,P,N);return this}let q;if(typeof B=="object"){const{schemaId:oe}=this.opts;if(q=B[oe],q!==void 0&&typeof q!="string")throw new Error(`schema ${oe} must be string`)}return G=(0,l.normalizeId)(G||q),this._checkUnique(G),this.schemas[G]=this._addSchema(B,P,G,N,!0),this}addMetaSchema(B,G,P=this.opts.validateSchema){return this.addSchema(B,G,!0,P),this}validateSchema(B,G){if(typeof B=="boolean")return!0;let P;if(P=B.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const N=this.validate(P,B);if(!N&&G){const q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(q);else throw new Error(q)}return N}getSchema(B){let G;for(;typeof(G=T.call(this,B))=="string";)B=G;if(G===void 0){const{schemaId:P}=this.opts,N=new a.SchemaEnv({schema:{},schemaId:P});if(G=a.resolveSchema.call(this,N,B),!G)return;this.refs[B]=G}return G.validate||this._compileSchemaEnv(G)}removeSchema(B){if(B instanceof RegExp)return this._removeAllSchemas(this.schemas,B),this._removeAllSchemas(this.refs,B),this;switch(typeof B){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const G=T.call(this,B);return typeof G=="object"&&this._cache.delete(G.schema),delete this.schemas[B],delete this.refs[B],this}case"object":{const G=B;this._cache.delete(G);let P=B[this.opts.schemaId];return P&&(P=(0,l.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(B){for(const G of B)this.addKeyword(G);return this}addKeyword(B,G){let P;if(typeof B=="string")P=B,typeof G=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),G.keyword=P);else if(typeof B=="object"&&G===void 0){if(G=B,P=G.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,P,G),!G)return(0,f.eachItem)(P,q=>H.call(this,q)),this;ce.call(this,G);const N={...G,type:(0,u.getJSONTypes)(G.type),schemaType:(0,u.getJSONTypes)(G.schemaType)};return(0,f.eachItem)(P,N.type.length===0?q=>H.call(this,q,N):q=>N.type.forEach(oe=>H.call(this,q,N,oe))),this}getKeyword(B){const G=this.RULES.all[B];return typeof G=="object"?G.definition:!!G}removeKeyword(B){const{RULES:G}=this;delete G.keywords[B],delete G.all[B];for(const P of G.rules){const N=P.rules.findIndex(q=>q.keyword===B);N>=0&&P.rules.splice(N,1)}return this}addFormat(B,G){return typeof G=="string"&&(G=new RegExp(G)),this.formats[B]=G,this}errorsText(B=this.errors,{separator:G=", ",dataVar:P="data"}={}){return!B||B.length===0?"No errors":B.map(N=>`${P}${N.instancePath} ${N.message}`).reduce((N,q)=>N+G+q)}$dataMetaSchema(B,G){const P=this.RULES.all;B=JSON.parse(JSON.stringify(B));for(const N of G){const q=N.split("/").slice(1);let oe=B;for(const J of q)oe=oe[J];for(const J in P){const Y=P[J];if(typeof Y!="object")continue;const{$data:se}=Y.definition,be=oe[J];se&&be&&(oe[J]=ie(be))}}return B}_removeAllSchemas(B,G){for(const P in B){const N=B[P];(!G||G.test(P))&&(typeof N=="string"?delete B[P]:N&&!N.meta&&(this._cache.delete(N.schema),delete B[P]))}}_addSchema(B,G,P,N=this.opts.validateSchema,q=this.opts.addUsedSchema){let oe;const{schemaId:J}=this.opts;if(typeof B=="object")oe=B[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof B!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(B);if(Y!==void 0)return Y;P=(0,l.normalizeId)(oe||P);const se=l.getSchemaRefs.call(this,B,P);return Y=new a.SchemaEnv({schema:B,schemaId:J,meta:G,baseId:P,localRefs:se}),this._cache.set(Y.schema,Y),q&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=Y),N&&this.validateSchema(B,!0),Y}_checkUnique(B){if(this.schemas[B]||this.refs[B])throw new Error(`schema with key or id "${B}" already exists`)}_compileSchemaEnv(B){if(B.meta?this._compileMetaSchema(B):a.compileSchema.call(this,B),!B.validate)throw new Error("ajv implementation error");return B.validate}_compileMetaSchema(B){const G=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,B)}finally{this.opts=G}}}E.ValidationError=n.default,E.MissingRefError=i.default,e.default=E;function $(k,B,G,P="error"){for(const N in k){const q=N;q in B&&this.logger[P](`${G}: option ${N}. ${k[q]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function A(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function x(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const G=k[B];G.keyword||(G.keyword=B),this.addKeyword(G)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}const C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function Q(k,B){const{RULES:G}=this;if((0,f.eachItem)(k,P=>{if(G.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,G){var P;const N=B==null?void 0:B.post;if(G&&N)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=N?q.post:q.rules.find(({type:Y})=>Y===G);if(oe||(oe={type:G,rules:[]},q.rules.push(oe)),q.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?X.call(this,oe,J,B.before):oe.rules.push(J),q.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function X(k,B,G){const P=k.rules.findIndex(N=>N.keyword===G);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${G} is not defined`))}function ce(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ie(B)),k.validateSchema=this.compile(B,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ie(k){return{anyOf:[k,Z]}}})(hj);var tS={},Oj={},Pj={};Object.defineProperty(Pj,"__esModule",{value:!0});const Wve={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Pj.default=Wve;var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});Hl.callRef=Hl.getValidate=void 0;const Gve=Zf,zF=wr,wo=er,Ad=ia,qF=to,gy=It,Kve={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return c();const f=qF.resolveRef.call(l,u,i,r);if(f===void 0)throw new Gve.default(n.opts.uriResolver,i,r);if(f instanceof qF.SchemaEnv)return h(f);return g(f);function c(){if(o===u)return rb(e,a,o,o.$async);const m=t.scopeValue("root",{ref:u});return rb(e,(0,wo._)`${m}.validate`,u,u.$async)}function h(m){const _=sK(e,m);rb(e,_,m,m.$async)}function g(m){const _=t.scopeValue("schema",s.code.source===!0?{ref:m,code:(0,wo.stringify)(m)}:{ref:m}),v=t.name("valid"),p=e.subschema({schema:m,dataTypes:[],schemaPath:wo.nil,topSchemaRef:_,errSchemaPath:r},v);e.mergeEvaluated(p),e.ok(v)}}};function sK(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,wo._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Hl.getValidate=sK;function rb(e,t,r,n){const{gen:i,it:o}=e,{allErrors:a,schemaEnv:s,opts:l}=o,u=l.passContext?Ad.default.this:wo.nil;n?f():c();function f(){if(!s.$async)throw new Error("async schema referenced by sync schema");const m=i.let("valid");i.try(()=>{i.code((0,wo._)`await ${(0,zF.callValidateCode)(e,t,u)}`),g(t),a||i.assign(m,!0)},_=>{i.if((0,wo._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),h(_),a||i.assign(m,!1)}),e.ok(m)}function c(){e.result((0,zF.callValidateCode)(e,t,u),()=>g(t),()=>h(t))}function h(m){const _=(0,wo._)`${m}.errors`;i.assign(Ad.default.vErrors,(0,wo._)`${Ad.default.vErrors} === null ? ${_} : ${Ad.default.vErrors}.concat(${_})`),i.assign(Ad.default.errors,(0,wo._)`${Ad.default.vErrors}.length`)}function g(m){var _;if(!o.opts.unevaluated)return;const v=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=gy.mergeEvaluated.props(i,v.props,o.props));else{const p=i.var("props",(0,wo._)`${m}.evaluated.props`);o.props=gy.mergeEvaluated.props(i,p,o.props,wo.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=gy.mergeEvaluated.items(i,v.items,o.items));else{const p=i.var("items",(0,wo._)`${m}.evaluated.items`);o.items=gy.mergeEvaluated.items(i,p,o.items,wo.Name)}}}Hl.callRef=rb;Hl.default=Kve;Object.defineProperty(Oj,"__esModule",{value:!0});const Jve=Pj,Yve=Hl,Xve=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Jve.default,Yve.default];Oj.default=Xve;var Rj={},Nj={};Object.defineProperty(Nj,"__esModule",{value:!0});const $_=er,yu=$_.operators,T_={maximum:{okStr:"<=",ok:yu.LTE,fail:yu.GT},minimum:{okStr:">=",ok:yu.GTE,fail:yu.LT},exclusiveMaximum:{okStr:"<",ok:yu.LT,fail:yu.GTE},exclusiveMinimum:{okStr:">",ok:yu.GT,fail:yu.LTE}},Qve={message:({keyword:e,schemaCode:t})=>(0,$_.str)`must be ${T_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,$_._)`{comparison: ${T_[e].okStr}, limit: ${t}}`},Zve={keyword:Object.keys(T_),type:"number",schemaType:"number",$data:!0,error:Qve,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,$_._)`${r} ${T_[t].fail} ${n} || isNaN(${r})`)}};Nj.default=Zve;var Ij={};Object.defineProperty(Ij,"__esModule",{value:!0});const xm=er,eye={message:({schemaCode:e})=>(0,xm.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,xm._)`{multipleOf: ${e}}`},tye={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:eye,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,a=t.let("res"),s=o?(0,xm._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,xm._)`${a} !== parseInt(${a})`;e.fail$data((0,xm._)`(${n} === 0 || (${a} = ${r}/${n}, ${s}))`)}};Ij.default=tye;var jj={},Cj={};Object.defineProperty(Cj,"__esModule",{value:!0});function lK(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Cj.default=lK;lK.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(jj,"__esModule",{value:!0});const nf=er,rye=It,nye=Cj,iye={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,nf.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,nf._)`{limit: ${e}}`},oye={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:iye,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?nf.operators.GT:nf.operators.LT,a=i.opts.unicode===!1?(0,nf._)`${r}.length`:(0,nf._)`${(0,rye.useFunc)(e.gen,nye.default)}(${r})`;e.fail$data((0,nf._)`${a} ${o} ${n}`)}};jj.default=oye;var kj={};Object.defineProperty(kj,"__esModule",{value:!0});const aye=wr,A_=er,sye={message:({schemaCode:e})=>(0,A_.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,A_._)`{pattern: ${e}}`},lye={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:sye,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,a=o.opts.unicodeRegExp?"u":"",s=r?(0,A_._)`(new RegExp(${i}, ${a}))`:(0,aye.usePattern)(e,n);e.fail$data((0,A_._)`!${s}.test(${t})`)}};kj.default=lye;var Dj={};Object.defineProperty(Dj,"__esModule",{value:!0});const Om=er,uye={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Om.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Om._)`{limit: ${e}}`},cye={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:uye,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Om.operators.GT:Om.operators.LT;e.fail$data((0,Om._)`Object.keys(${r}).length ${i} ${n}`)}};Dj.default=cye;var Mj={};Object.defineProperty(Mj,"__esModule",{value:!0});const Np=wr,Pm=er,fye=It,dye={message:({params:{missingProperty:e}})=>(0,Pm.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Pm._)`{missingProperty: ${e}}`},hye={keyword:"required",type:"object",schemaType:"array",$data:!0,error:dye,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:a}=e,{opts:s}=a;if(!o&&r.length===0)return;const l=r.length>=s.loopRequired;if(a.allErrors?u():f(),s.strictRequired){const g=e.parentSchema.properties,{definedProperties:m}=e.it;for(const _ of r)if((g==null?void 0:g[_])===void 0&&!m.has(_)){const v=a.schemaEnv.baseId+a.errSchemaPath,p=`required property "${_}" is not defined at "${v}" (strictRequired)`;(0,fye.checkStrictMode)(a,p,a.opts.strictRequired)}}function u(){if(l||o)e.block$data(Pm.nil,c);else for(const g of r)(0,Np.checkReportMissingProp)(e,g)}function f(){const g=t.let("missing");if(l||o){const m=t.let("valid",!0);e.block$data(m,()=>h(g,m)),e.ok(m)}else t.if((0,Np.checkMissingProp)(e,r,g)),(0,Np.reportMissingProp)(e,g),t.else()}function c(){t.forOf("prop",n,g=>{e.setParams({missingProperty:g}),t.if((0,Np.noPropertyInData)(t,i,g,s.ownProperties),()=>e.error())})}function h(g,m){e.setParams({missingProperty:g}),t.forOf(g,n,()=>{t.assign(m,(0,Np.propertyInData)(t,i,g,s.ownProperties)),t.if((0,Pm.not)(m),()=>{e.error(),t.break()})},Pm.nil)}}};Mj.default=hye;var Lj={};Object.defineProperty(Lj,"__esModule",{value:!0});const Rm=er,pye={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Rm.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Rm._)`{limit: ${e}}`},mye={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:pye,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Rm.operators.GT:Rm.operators.LT;e.fail$data((0,Rm._)`${r}.length ${i} ${n}`)}};Lj.default=mye;var Fj={},Zg={};Object.defineProperty(Zg,"__esModule",{value:!0});const uK=kG;uK.code='require("ajv/dist/runtime/equal").default';Zg.default=uK;Object.defineProperty(Fj,"__esModule",{value:!0});const u$=ii,Si=er,gye=It,vye=Zg,yye={message:({params:{i:e,j:t}})=>(0,Si.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Si._)`{i: ${e}, j: ${t}}`},wye={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:yye,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:a,it:s}=e;if(!n&&!i)return;const l=t.let("valid"),u=o.items?(0,u$.getSchemaTypes)(o.items):[];e.block$data(l,f,(0,Si._)`${a} === false`),e.ok(l);function f(){const m=t.let("i",(0,Si._)`${r}.length`),_=t.let("j");e.setParams({i:m,j:_}),t.assign(l,!0),t.if((0,Si._)`${m} > 1`,()=>(c()?h:g)(m,_))}function c(){return u.length>0&&!u.some(m=>m==="object"||m==="array")}function h(m,_){const v=t.name("item"),p=(0,u$.checkDataTypes)(u,v,s.opts.strictNumbers,u$.DataType.Wrong),S=t.const("indices",(0,Si._)`{}`);t.for((0,Si._)`;${m}--;`,()=>{t.let(v,(0,Si._)`${r}[${m}]`),t.if(p,(0,Si._)`continue`),u.length>1&&t.if((0,Si._)`typeof ${v} == "string"`,(0,Si._)`${v} += "_"`),t.if((0,Si._)`typeof ${S}[${v}] == "number"`,()=>{t.assign(_,(0,Si._)`${S}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,Si._)`${S}[${v}] = ${m}`)})}function g(m,_){const v=(0,gye.useFunc)(t,vye.default),p=t.name("outer");t.label(p).for((0,Si._)`;${m}--;`,()=>t.for((0,Si._)`${_} = ${m}; ${_}--;`,()=>t.if((0,Si._)`${v}(${r}[${m}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(p)})))}}};Fj.default=wye;var Bj={};Object.defineProperty(Bj,"__esModule",{value:!0});const $P=er,bye=It,_ye=Zg,Eye={message:"must be equal to constant",params:({schemaCode:e})=>(0,$P._)`{allowedValue: ${e}}`},Sye={keyword:"const",$data:!0,error:Eye,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,$P._)`!${(0,bye.useFunc)(t,_ye.default)}(${r}, ${i})`):e.fail((0,$P._)`${o} !== ${r}`)}};Bj.default=Sye;var Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});const rm=er,$ye=It,Tye=Zg,Aye={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,rm._)`{allowedValues: ${e}}`},xye={keyword:"enum",schemaType:"array",$data:!0,error:Aye,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:a}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum;let l;const u=()=>l??(l=(0,$ye.useFunc)(t,Tye.default));let f;if(s||n)f=t.let("valid"),e.block$data(f,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const g=t.const("vSchema",o);f=(0,rm.or)(...i.map((m,_)=>h(g,_)))}e.pass(f);function c(){t.assign(f,!1),t.forOf("v",o,g=>t.if((0,rm._)`${u()}(${r}, ${g})`,()=>t.assign(f,!0).break()))}function h(g,m){const _=i[m];return typeof _=="object"&&_!==null?(0,rm._)`${u()}(${r}, ${g}[${m}])`:(0,rm._)`${r} === ${_}`}}};Uj.default=xye;Object.defineProperty(Rj,"__esModule",{value:!0});const Oye=Nj,Pye=Ij,Rye=jj,Nye=kj,Iye=Dj,jye=Mj,Cye=Lj,kye=Fj,Dye=Bj,Mye=Uj,Lye=[Oye.default,Pye.default,Rye.default,Nye.default,Iye.default,jye.default,Cye.default,kye.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Dye.default,Mye.default];Rj.default=Lye;var zj={},ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.validateAdditionalItems=void 0;const of=er,TP=It,Fye={message:({params:{len:e}})=>(0,of.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,of._)`{limit: ${e}}`},Bye={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Fye,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,TP.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}cK(e,n)}};function cK(e,t){const{gen:r,schema:n,data:i,keyword:o,it:a}=e;a.items=!0;const s=r.const("len",(0,of._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,of._)`${s} <= ${t.length}`);else if(typeof n=="object"&&!(0,TP.alwaysValidSchema)(a,n)){const u=r.var("valid",(0,of._)`${s} <= ${t.length}`);r.if((0,of.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,s,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:TP.Type.Num},u),a.allErrors||r.if((0,of.not)(u),()=>r.break())})}}ep.validateAdditionalItems=cK;ep.default=Bye;var qj={},tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.validateTuple=void 0;const VF=er,nb=It,Uye=wr,zye={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return fK(e,"additionalItems",t);r.items=!0,!(0,nb.alwaysValidSchema)(r,t)&&e.ok((0,Uye.validateArray)(e))}};function fK(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:a,it:s}=e;f(i),s.opts.unevaluated&&r.length&&s.items!==!0&&(s.items=nb.mergeEvaluated.items(n,r.length,s.items));const l=n.name("valid"),u=n.const("len",(0,VF._)`${o}.length`);r.forEach((c,h)=>{(0,nb.alwaysValidSchema)(s,c)||(n.if((0,VF._)`${u} > ${h}`,()=>e.subschema({keyword:a,schemaProp:h,dataProp:h},l)),e.ok(l))});function f(c){const{opts:h,errSchemaPath:g}=s,m=r.length,_=m===c.minItems&&(m===c.maxItems||c[t]===!1);if(h.strictTuples&&!_){const v=`"${a}" is ${m}-tuple, but minItems or maxItems/${t} are not specified or different at path "${g}"`;(0,nb.checkStrictMode)(s,v,h.strictTuples)}}}tp.validateTuple=fK;tp.default=zye;Object.defineProperty(qj,"__esModule",{value:!0});const qye=tp,Vye={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,qye.validateTuple)(e,"items")};qj.default=Vye;var Vj={};Object.defineProperty(Vj,"__esModule",{value:!0});const HF=er,Hye=It,Wye=wr,Gye=ep,Kye={message:({params:{len:e}})=>(0,HF.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,HF._)`{limit: ${e}}`},Jye={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Kye,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Hye.alwaysValidSchema)(n,t)&&(i?(0,Gye.validateAdditionalItems)(e,i):e.ok((0,Wye.validateArray)(e)))}};Vj.default=Jye;var Hj={};Object.defineProperty(Hj,"__esModule",{value:!0});const ma=er,vy=It,Yye={message:({params:{min:e,max:t}})=>t===void 0?(0,ma.str)`must contain at least ${e} valid item(s)`:(0,ma.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ma._)`{minContains: ${e}}`:(0,ma._)`{minContains: ${e}, maxContains: ${t}}`},Xye={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Yye,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let a,s;const{minContains:l,maxContains:u}=n;o.opts.next?(a=l===void 0?1:l,s=u):a=1;const f=t.const("len",(0,ma._)`${i}.length`);if(e.setParams({min:a,max:s}),s===void 0&&a===0){(0,vy.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,vy.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,vy.alwaysValidSchema)(o,r)){let _=(0,ma._)`${f} >= ${a}`;s!==void 0&&(_=(0,ma._)`${_} && ${f} <= ${s}`),e.pass(_);return}o.items=!0;const c=t.name("valid");s===void 0&&a===1?g(c,()=>t.if(c,()=>t.break())):a===0?(t.let(c,!0),s!==void 0&&t.if((0,ma._)`${i}.length > 0`,h)):(t.let(c,!1),h()),e.result(c,()=>e.reset());function h(){const _=t.name("_valid"),v=t.let("count",0);g(_,()=>t.if(_,()=>m(v)))}function g(_,v){t.forRange("i",0,f,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:vy.Type.Num,compositeRule:!0},_),v()})}function m(_){t.code((0,ma._)`${_}++`),s===void 0?t.if((0,ma._)`${_} >= ${a}`,()=>t.assign(c,!0).break()):(t.if((0,ma._)`${_} > ${s}`,()=>t.assign(c,!1).break()),a===1?t.assign(c,!0):t.if((0,ma._)`${_} >= ${a}`,()=>t.assign(c,!0)))}}};Hj.default=Xye;var rS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=er,r=It,n=wr;e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);a(l,u),s(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function a(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=a;function s(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=s,e.default=i})(rS);var Wj={};Object.defineProperty(Wj,"__esModule",{value:!0});const dK=er,Qye=It,Zye={message:"property name must be valid",params:({params:e})=>(0,dK._)`{propertyName: ${e.propertyName}}`},e0e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Zye,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Qye.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),t.if((0,dK.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};Wj.default=e0e;var nS={};Object.defineProperty(nS,"__esModule",{value:!0});const yy=wr,es=er,t0e=ia,wy=It,r0e={message:"must NOT have additional properties",params:({params:e})=>(0,es._)`{additionalProperty: ${e.additionalProperty}}`},n0e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:r0e,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:a}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,wy.alwaysValidSchema)(a,r))return;const u=(0,yy.allSchemaProperties)(n.properties),f=(0,yy.allSchemaProperties)(n.patternProperties);c(),e.ok((0,es._)`${o} === ${t0e.default.errors}`);function c(){t.forIn("key",i,v=>{!u.length&&!f.length?m(v):t.if(h(v),()=>m(v))})}function h(v){let p;if(u.length>8){const S=(0,wy.schemaRefOrVal)(a,n.properties,"properties");p=(0,yy.isOwnProperty)(t,S,v)}else u.length?p=(0,es.or)(...u.map(S=>(0,es._)`${v} === ${S}`)):p=es.nil;return f.length&&(p=(0,es.or)(p,...f.map(S=>(0,es._)`${(0,yy.usePattern)(e,S)}.test(${v})`))),(0,es.not)(p)}function g(v){t.code((0,es._)`delete ${i}[${v}]`)}function m(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){g(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),s||t.break();return}if(typeof r=="object"&&!(0,wy.alwaysValidSchema)(a,r)){const p=t.name("valid");l.removeAdditional==="failing"?(_(v,p,!1),t.if((0,es.not)(p),()=>{e.reset(),g(v)})):(_(v,p),s||t.if((0,es.not)(p),()=>t.break()))}}function _(v,p,S){const y={keyword:"additionalProperties",dataProp:v,dataPropType:wy.Type.Str};S===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,p)}}};nS.default=n0e;var Gj={};Object.defineProperty(Gj,"__esModule",{value:!0});const i0e=ja,WF=wr,c$=It,GF=nS,o0e={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&GF.default.code(new i0e.KeywordCxt(o,GF.default,"additionalProperties"));const a=(0,WF.allSchemaProperties)(r);for(const c of a)o.definedProperties.add(c);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=c$.mergeEvaluated.props(t,(0,c$.toHash)(a),o.props));const s=a.filter(c=>!(0,c$.alwaysValidSchema)(o,r[c]));if(s.length===0)return;const l=t.name("valid");for(const c of s)u(c)?f(c):(t.if((0,WF.propertyInData)(t,i,c,o.opts.ownProperties)),f(c),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function u(c){return o.opts.useDefaults&&!o.compositeRule&&r[c].default!==void 0}function f(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};Gj.default=o0e;var Kj={};Object.defineProperty(Kj,"__esModule",{value:!0});const KF=wr,by=er,JF=It,YF=It,a0e={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:a}=o,s=(0,KF.allSchemaProperties)(r),l=s.filter(_=>(0,JF.alwaysValidSchema)(o,r[_]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&i.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof by.Name)&&(o.props=(0,YF.evaluatedPropsToName)(t,o.props));const{props:c}=o;h();function h(){for(const _ of s)u&&g(_),o.allErrors?m(_):(t.var(f,!0),m(_),t.if(f))}function g(_){for(const v in u)new RegExp(_).test(v)&&(0,JF.checkStrictMode)(o,`property ${v} matches pattern ${_} (use allowMatchingProperties)`)}function m(_){t.forIn("key",n,v=>{t.if((0,by._)`${(0,KF.usePattern)(e,_)}.test(${v})`,()=>{const p=l.includes(_);p||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:v,dataPropType:YF.Type.Str},f),o.opts.unevaluated&&c!==!0?t.assign((0,by._)`${c}[${v}]`,!0):!p&&!o.allErrors&&t.if((0,by.not)(f),()=>t.break())})})}}};Kj.default=a0e;var Jj={};Object.defineProperty(Jj,"__esModule",{value:!0});const s0e=It,l0e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,s0e.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Jj.default=l0e;var Yj={};Object.defineProperty(Yj,"__esModule",{value:!0});const u0e=wr,c0e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:u0e.validateUnion,error:{message:"must match a schema in anyOf"}};Yj.default=c0e;var Xj={};Object.defineProperty(Xj,"__esModule",{value:!0});const ib=er,f0e=It,d0e={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ib._)`{passingSchemas: ${e.passing}}`},h0e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:d0e,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,a=t.let("valid",!1),s=t.let("passing",null),l=t.name("_valid");e.setParams({passing:s}),t.block(u),e.result(a,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,c)=>{let h;(0,f0e.alwaysValidSchema)(i,f)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,ib._)`${l} && ${a}`).assign(a,!1).assign(s,(0,ib._)`[${s}, ${c}]`).else(),t.if(l,()=>{t.assign(a,!0),t.assign(s,c),h&&e.mergeEvaluated(h,ib.Name)})})}}};Xj.default=h0e;var Qj={};Object.defineProperty(Qj,"__esModule",{value:!0});const p0e=It,m0e={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,a)=>{if((0,p0e.alwaysValidSchema)(n,o))return;const s=e.subschema({keyword:"allOf",schemaProp:a},i);e.ok(i),e.mergeEvaluated(s)})}};Qj.default=m0e;var Zj={};Object.defineProperty(Zj,"__esModule",{value:!0});const x_=er,hK=It,g0e={message:({params:e})=>(0,x_.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,x_._)`{failingKeyword: ${e.ifClause}}`},v0e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:g0e,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,hK.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=XF(n,"then"),o=XF(n,"else");if(!i&&!o)return;const a=t.let("valid",!0),s=t.name("_valid");if(l(),e.reset(),i&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(s,u("then",f),u("else",f))}else i?t.if(s,u("then")):t.if((0,x_.not)(s),u("else"));e.pass(a,()=>e.error(!0));function l(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(f)}function u(f,c){return()=>{const h=e.subschema({keyword:f},s);t.assign(a,s),e.mergeValidEvaluated(h,a),c?t.assign(c,(0,x_._)`${f}`):e.setParams({ifClause:f})}}}};function XF(e,t){const r=e.schema[t];return r!==void 0&&!(0,hK.alwaysValidSchema)(e,r)}Zj.default=v0e;var e2={};Object.defineProperty(e2,"__esModule",{value:!0});const y0e=It,w0e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,y0e.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};e2.default=w0e;Object.defineProperty(zj,"__esModule",{value:!0});const b0e=ep,_0e=qj,E0e=tp,S0e=Vj,$0e=Hj,T0e=rS,A0e=Wj,x0e=nS,O0e=Gj,P0e=Kj,R0e=Jj,N0e=Yj,I0e=Xj,j0e=Qj,C0e=Zj,k0e=e2;function D0e(e=!1){const t=[R0e.default,N0e.default,I0e.default,j0e.default,C0e.default,k0e.default,A0e.default,x0e.default,T0e.default,O0e.default,P0e.default];return e?t.push(_0e.default,S0e.default):t.push(b0e.default,E0e.default),t.push($0e.default),t}zj.default=D0e;var t2={},r2={};Object.defineProperty(r2,"__esModule",{value:!0});const zn=er,M0e={message:({schemaCode:e})=>(0,zn.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,zn._)`{format: ${e}}`},L0e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:M0e,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:a,it:s}=e,{opts:l,errSchemaPath:u,schemaEnv:f,self:c}=s;if(!l.validateFormats)return;i?h():g();function h(){const m=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),_=r.const("fDef",(0,zn._)`${m}[${a}]`),v=r.let("fType"),p=r.let("format");r.if((0,zn._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(v,(0,zn._)`${_}.type || "string"`).assign(p,(0,zn._)`${_}.validate`),()=>r.assign(v,(0,zn._)`"string"`).assign(p,_)),e.fail$data((0,zn.or)(S(),y()));function S(){return l.strictSchema===!1?zn.nil:(0,zn._)`${a} && !${p}`}function y(){const E=f.$async?(0,zn._)`(${_}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,zn._)`${p}(${n})`,$=(0,zn._)`(typeof ${p} == "function" ? ${E} : ${p}.test(${n}))`;return(0,zn._)`${p} && ${p} !== true && ${v} === ${t} && !${$}`}}function g(){const m=c.formats[o];if(!m){S();return}if(m===!0)return;const[_,v,p]=y(m);_===t&&e.pass(E());function S(){if(l.strictSchema===!1){c.logger.warn($());return}throw new Error($());function $(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function y($){const T=$ instanceof RegExp?(0,zn.regexpCode)($):l.code.formats?(0,zn._)`${l.code.formats}${(0,zn.getProperty)(o)}`:void 0,d=r.scopeValue("formats",{key:o,ref:$,code:T});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,zn._)`${d}.validate`]:["string",$,d]}function E(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!f.$async)throw new Error("async format in sync schema");return(0,zn._)`await ${p}(${n})`}return typeof v=="function"?(0,zn._)`${p}(${n})`:(0,zn._)`${p}.test(${n})`}}}};r2.default=L0e;Object.defineProperty(t2,"__esModule",{value:!0});const F0e=r2,B0e=[F0e.default];t2.default=B0e;var Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.contentVocabulary=Lh.metadataVocabulary=void 0;Lh.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Lh.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(tS,"__esModule",{value:!0});const U0e=Oj,z0e=Rj,q0e=zj,V0e=t2,QF=Lh,H0e=[U0e.default,z0e.default,(0,q0e.default)(),V0e.default,QF.metadataVocabulary,QF.contentVocabulary];tS.default=H0e;var iS={},oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.DiscrError=void 0;var ZF;(function(e){e.Tag="tag",e.Mapping="mapping"})(ZF||(oS.DiscrError=ZF={}));Object.defineProperty(iS,"__esModule",{value:!0});const Md=er,AP=oS,e3=to,W0e=Zf,G0e=It,K0e={message:({params:{discrError:e,tagName:t}})=>e===AP.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Md._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},J0e={keyword:"discriminator",type:"object",schemaType:"object",error:K0e,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=n.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Md._)`${r}${(0,Md.getProperty)(s)}`);t.if((0,Md._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:AP.DiscrError.Tag,tag:u,tagName:s})),e.ok(l);function f(){const g=h();t.if(!1);for(const m in g)t.elseIf((0,Md._)`${u} === ${m}`),t.assign(l,c(g[m]));t.else(),e.error(!1,{discrError:AP.DiscrError.Mapping,tag:u,tagName:s}),t.endIf()}function c(g){const m=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:g},m);return e.mergeEvaluated(_,Md.Name),m}function h(){var g;const m={},_=p(i);let v=!0;for(let E=0;E<a.length;E++){let $=a[E];if($!=null&&$.$ref&&!(0,G0e.schemaHasRulesButRef)($,o.self.RULES)){const d=$.$ref;if($=e3.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,d),$ instanceof e3.SchemaEnv&&($=$.schema),$===void 0)throw new W0e.default(o.opts.uriResolver,o.baseId,d)}const T=(g=$==null?void 0:$.properties)===null||g===void 0?void 0:g[s];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);v=v&&(_||p($)),S(T,E)}if(!v)throw new Error(`discriminator: "${s}" must be required`);return m;function p({required:E}){return Array.isArray(E)&&E.includes(s)}function S(E,$){if(E.const)y(E.const,$);else if(E.enum)for(const T of E.enum)y(T,$);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function y(E,$){if(typeof E!="string"||E in m)throw new Error(`discriminator: "${s}" values must be unique strings`);m[E]=$}}}};iS.default=J0e;const Y0e="http://json-schema.org/draft-07/schema#",X0e="http://json-schema.org/draft-07/schema#",Q0e="Core schema meta-schema",Z0e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ewe=["object","boolean"],twe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},pK={$schema:Y0e,$id:X0e,title:Q0e,definitions:Z0e,type:ewe,properties:twe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=hj,n=tS,i=iS,o=pK,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=ja;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=er;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=Zh;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=Zf;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(wP,wP.exports);var rwe=wP.exports,xP={exports:{}},mK={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,F){return{validate:C,compare:F}}e.fullFormats={date:t(o,a),time:t(l(!0),u),"date-time":t(h(!0),g),"iso-time":t(l(),f),"iso-date-time":t(h(),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(C){const F=n.exec(C);if(!F)return!1;const V=+F[1],Q=+F[2],H=+F[3];return Q>=1&&Q<=12&&H>=1&&H<=(Q===2&&r(V)?29:i[Q])}function a(C,F){if(C&&F)return C>F?1:C<F?-1:0}const s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(C){return function(V){const Q=s.exec(V);if(!Q)return!1;const H=+Q[1],X=+Q[2],ce=+Q[3],Z=Q[4],ie=Q[5]==="-"?-1:1,k=+(Q[6]||0),B=+(Q[7]||0);if(k>23||B>59||C&&!Z)return!1;if(H<=23&&X<=59&&ce<60)return!0;const G=X-B*ie,P=H-k*ie-(G<0?1:0);return(P===23||P===-1)&&(G===59||G===-1)&&ce<61}}function u(C,F){if(!(C&&F))return;const V=new Date("2020-01-01T"+C).valueOf(),Q=new Date("2020-01-01T"+F).valueOf();if(V&&Q)return V-Q}function f(C,F){if(!(C&&F))return;const V=s.exec(C),Q=s.exec(F);if(V&&Q)return C=V[1]+V[2]+V[3],F=Q[1]+Q[2]+Q[3],C>F?1:C<F?-1:0}const c=/t|\s/i;function h(C){const F=l(C);return function(Q){const H=Q.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function g(C,F){if(!(C&&F))return;const V=new Date(C).valueOf(),Q=new Date(F).valueOf();if(V&&Q)return V-Q}function m(C,F){if(!(C&&F))return;const[V,Q]=C.split(c),[H,X]=F.split(c),ce=a(V,H);if(ce!==void 0)return ce||u(Q,X)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(C){return _.test(C)&&v.test(C)}const S=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(C){return S.lastIndex=0,S.test(C)}const E=-2147483648,$=2**31-1;function T(C){return Number.isInteger(C)&&C<=$&&C>=E}function d(C){return Number.isInteger(C)}function A(){return!0}const x=/[^\\]\\Z/;function O(C){if(x.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}})(mK);var gK={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=rwe,r=er,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,r.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,r._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=s,{opts:g,self:m}=h;if(!g.validateFormats)return;const _=new t.KeywordCxt(h,m.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:m.formats,code:g.code.formats}),E=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${E} != "object"`,(0,r._)`${E} instanceof RegExp`,(0,r._)`typeof ${E}.compare != "function"`,S(E)))}function p(){const y=_.schema,E=m.formats[y];if(!E||E===!0)return;if(typeof E!="object"||E instanceof RegExp||typeof E.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:E,code:g.code.formats?(0,r._)`${g.code.formats}${(0,r.getProperty)(y)}`:void 0});s.fail$data(S($))}function S(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};const a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a})(gK);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=mK,n=gK,i=er,o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],g=f.formats||r.formatNames;return l(u,g,c,h),f.keywords&&(0,n.default)(u),u};s.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var g,m;(g=(m=u.opts.code).formats)!==null&&g!==void 0||(m.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(xP,xP.exports);var nwe=xP.exports;const iwe=Wl(nwe);var owe={exports:{}},OP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Pa,function(r){function n(){for(var he=arguments.length,ue=Array(he),we=0;we<he;we++)ue[we]=arguments[we];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var Re=ue.length-1,Ae=1;Ae<Re;++Ae)ue[Ae]=ue[Ae].slice(1,-1);return ue[Re]=ue[Re].slice(1),ue.join("")}else return ue[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function a(he){return he.toUpperCase()}function s(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,ue){var we=he;if(ue)for(var Re in ue)we[Re]=ue[Re];return we}function u(he){var ue="[A-Za-z]",we="[0-9]",Re=n(we,"[A-Fa-f]"),Ae=i(i("%[EFef]"+Re+"%"+Re+Re+"%"+Re+Re)+"|"+i("%[89A-Fa-f]"+Re+"%"+Re+Re)+"|"+i("%"+Re+Re)),ot="[\\:\\/\\?\\#\\[\\]\\@]",tt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Tt=n(ot,tt),jt=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Lt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(ue,we,"[\\-\\.\\_\\~]",jt);i(ue+n(ue,we,"[\\+\\-\\.]")+"*"),i(i(Ae+"|"+n($t,tt,"[\\:]"))+"*");var Rt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Ht=i(Rt+"\\."+Rt+"\\."+Rt+"\\."+Rt),yt=i(Re+"{1,4}"),zt=i(i(yt+"\\:"+yt)+"|"+Ht),At=i(i(yt+"\\:")+"{6}"+zt),Ct=i("\\:\\:"+i(yt+"\\:")+"{5}"+zt),en=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+zt),jr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+zt),Vr=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+zt),mn=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+zt),Wn=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+zt),Cr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Qr=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Zn=i([At,Ct,en,jr,Vr,mn,Wn,Cr,Qr].join("|")),gn=i(i($t+"|"+Ae)+"+");i("[vV]"+Re+"+\\."+n($t,tt,"[\\:]")+"+"),i(i(Ae+"|"+n($t,tt))+"*");var pi=i(Ae+"|"+n($t,tt,"[\\:\\@]"));return i(i(Ae+"|"+n($t,tt,"[\\@]"))+"+"),i(i(pi+"|"+n("[\\/\\?]",Lt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,tt),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,tt),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,tt),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,tt),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]",Lt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,tt),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,Tt),"g"),PCT_ENCODED:new RegExp(Ae,"g"),IPV4ADDRESS:new RegExp("^("+Ht+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zn+")"+i(i("\\%25|\\%(?!"+Re+"{2})")+"("+gn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function he(ue,we){var Re=[],Ae=!0,ot=!1,tt=void 0;try{for(var Tt=ue[Symbol.iterator](),jt;!(Ae=(jt=Tt.next()).done)&&(Re.push(jt.value),!(we&&Re.length===we));Ae=!0);}catch(Lt){ot=!0,tt=Lt}finally{try{!Ae&&Tt.return&&Tt.return()}finally{if(ot)throw tt}}return Re}return function(ue,we){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return he(ue,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(he){if(Array.isArray(he)){for(var ue=0,we=Array(he.length);ue<he.length;ue++)we[ue]=he[ue];return we}else return Array.from(he)},m=2147483647,_=36,v=1,p=26,S=38,y=700,E=72,$=128,T="-",d=/^xn--/,A=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=_-v,F=Math.floor,V=String.fromCharCode;function Q(he){throw new RangeError(O[he])}function H(he,ue){for(var we=[],Re=he.length;Re--;)we[Re]=ue(he[Re]);return we}function X(he,ue){var we=he.split("@"),Re="";we.length>1&&(Re=we[0]+"@",he=we[1]),he=he.replace(x,".");var Ae=he.split("."),ot=H(Ae,ue).join(".");return Re+ot}function ce(he){for(var ue=[],we=0,Re=he.length;we<Re;){var Ae=he.charCodeAt(we++);if(Ae>=55296&&Ae<=56319&&we<Re){var ot=he.charCodeAt(we++);(ot&64512)==56320?ue.push(((Ae&1023)<<10)+(ot&1023)+65536):(ue.push(Ae),we--)}else ue.push(Ae)}return ue}var Z=function(ue){return String.fromCodePoint.apply(String,g(ue))},ie=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},k=function(ue,we){return ue+22+75*(ue<26)-((we!=0)<<5)},B=function(ue,we,Re){var Ae=0;for(ue=Re?F(ue/y):ue>>1,ue+=F(ue/we);ue>C*p>>1;Ae+=_)ue=F(ue/C);return F(Ae+(C+1)*ue/(ue+S))},G=function(ue){var we=[],Re=ue.length,Ae=0,ot=$,tt=E,Tt=ue.lastIndexOf(T);Tt<0&&(Tt=0);for(var jt=0;jt<Tt;++jt)ue.charCodeAt(jt)>=128&&Q("not-basic"),we.push(ue.charCodeAt(jt));for(var Lt=Tt>0?Tt+1:0;Lt<Re;){for(var $t=Ae,Rt=1,Ht=_;;Ht+=_){Lt>=Re&&Q("invalid-input");var yt=ie(ue.charCodeAt(Lt++));(yt>=_||yt>F((m-Ae)/Rt))&&Q("overflow"),Ae+=yt*Rt;var zt=Ht<=tt?v:Ht>=tt+p?p:Ht-tt;if(yt<zt)break;var At=_-zt;Rt>F(m/At)&&Q("overflow"),Rt*=At}var Ct=we.length+1;tt=B(Ae-$t,Ct,$t==0),F(Ae/Ct)>m-ot&&Q("overflow"),ot+=F(Ae/Ct),Ae%=Ct,we.splice(Ae++,0,ot)}return String.fromCodePoint.apply(String,we)},P=function(ue){var we=[];ue=ce(ue);var Re=ue.length,Ae=$,ot=0,tt=E,Tt=!0,jt=!1,Lt=void 0;try{for(var $t=ue[Symbol.iterator](),Rt;!(Tt=(Rt=$t.next()).done);Tt=!0){var Ht=Rt.value;Ht<128&&we.push(V(Ht))}}catch(Un){jt=!0,Lt=Un}finally{try{!Tt&&$t.return&&$t.return()}finally{if(jt)throw Lt}}var yt=we.length,zt=yt;for(yt&&we.push(T);zt<Re;){var At=m,Ct=!0,en=!1,jr=void 0;try{for(var Vr=ue[Symbol.iterator](),mn;!(Ct=(mn=Vr.next()).done);Ct=!0){var Wn=mn.value;Wn>=Ae&&Wn<At&&(At=Wn)}}catch(Un){en=!0,jr=Un}finally{try{!Ct&&Vr.return&&Vr.return()}finally{if(en)throw jr}}var Cr=zt+1;At-Ae>F((m-ot)/Cr)&&Q("overflow"),ot+=(At-Ae)*Cr,Ae=At;var Qr=!0,Zn=!1,gn=void 0;try{for(var pi=ue[Symbol.iterator](),oa;!(Qr=(oa=pi.next()).done);Qr=!0){var aa=oa.value;if(aa<Ae&&++ot>m&&Q("overflow"),aa==Ae){for(var kr=ot,En=_;;En+=_){var mi=En<=tt?v:En>=tt+p?p:En-tt;if(kr<mi)break;var Es=kr-mi,sa=_-mi;we.push(V(k(mi+Es%sa,0))),kr=F(Es/sa)}we.push(V(k(kr,0))),tt=B(ot,Cr,zt==yt),ot=0,++zt}}}catch(Un){Zn=!0,gn=Un}finally{try{!Qr&&pi.return&&pi.return()}finally{if(Zn)throw gn}}++ot,++Ae}return we.join("")},N=function(ue){return X(ue,function(we){return d.test(we)?G(we.slice(4).toLowerCase()):we})},q=function(ue){return X(ue,function(we){return A.test(we)?"xn--"+P(we):we})},oe={version:"2.1.0",ucs2:{decode:ce,encode:Z},decode:G,encode:P,toASCII:q,toUnicode:N},J={};function Y(he){var ue=he.charCodeAt(0),we=void 0;return ue<16?we="%0"+ue.toString(16).toUpperCase():ue<128?we="%"+ue.toString(16).toUpperCase():ue<2048?we="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():we="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),we}function se(he){for(var ue="",we=0,Re=he.length;we<Re;){var Ae=parseInt(he.substr(we+1,2),16);if(Ae<128)ue+=String.fromCharCode(Ae),we+=3;else if(Ae>=194&&Ae<224){if(Re-we>=6){var ot=parseInt(he.substr(we+4,2),16);ue+=String.fromCharCode((Ae&31)<<6|ot&63)}else ue+=he.substr(we,6);we+=6}else if(Ae>=224){if(Re-we>=9){var tt=parseInt(he.substr(we+4,2),16),Tt=parseInt(he.substr(we+7,2),16);ue+=String.fromCharCode((Ae&15)<<12|(tt&63)<<6|Tt&63)}else ue+=he.substr(we,9);we+=9}else ue+=he.substr(we,3),we+=3}return ue}function be(he,ue){function we(Re){var Ae=se(Re);return Ae.match(ue.UNRESERVED)?Ae:Re}return he.scheme&&(he.scheme=String(he.scheme).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(ue.PCT_ENCODED,we).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,a)),he.host!==void 0&&(he.host=String(he.host).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,a)),he.path!==void 0&&(he.path=String(he.path).replace(ue.PCT_ENCODED,we).replace(he.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,a)),he.query!==void 0&&(he.query=String(he.query).replace(ue.PCT_ENCODED,we).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,a)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(ue.PCT_ENCODED,we).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,a)),he}function Ne(he){return he.replace(/^0*(.*)/,"$1")||"0"}function R(he,ue){var we=he.match(ue.IPV4ADDRESS)||[],Re=h(we,2),Ae=Re[1];return Ae?Ae.split(".").map(Ne).join("."):he}function D(he,ue){var we=he.match(ue.IPV6ADDRESS)||[],Re=h(we,3),Ae=Re[1],ot=Re[2];if(Ae){for(var tt=Ae.toLowerCase().split("::").reverse(),Tt=h(tt,2),jt=Tt[0],Lt=Tt[1],$t=Lt?Lt.split(":").map(Ne):[],Rt=jt.split(":").map(Ne),Ht=ue.IPV4ADDRESS.test(Rt[Rt.length-1]),yt=Ht?7:8,zt=Rt.length-yt,At=Array(yt),Ct=0;Ct<yt;++Ct)At[Ct]=$t[Ct]||Rt[zt+Ct]||"";Ht&&(At[yt-1]=R(At[yt-1],ue));var en=At.reduce(function(Cr,Qr,Zn){if(!Qr||Qr==="0"){var gn=Cr[Cr.length-1];gn&&gn.index+gn.length===Zn?gn.length++:Cr.push({index:Zn,length:1})}return Cr},[]),jr=en.sort(function(Cr,Qr){return Qr.length-Cr.length})[0],Vr=void 0;if(jr&&jr.length>1){var mn=At.slice(0,jr.index),Wn=At.slice(jr.index+jr.length);Vr=mn.join(":")+"::"+Wn.join(":")}else Vr=At.join(":");return ot&&(Vr+="%"+ot),Vr}else return he}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,K="".match(/(){0}/)[1]===void 0;function ae(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},Re=ue.iri!==!1?c:f;ue.reference==="suffix"&&(he=(ue.scheme?ue.scheme+":":"")+"//"+he);var Ae=he.match(M);if(Ae){K?(we.scheme=Ae[1],we.userinfo=Ae[3],we.host=Ae[4],we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=Ae[7],we.fragment=Ae[8],isNaN(we.port)&&(we.port=Ae[5])):(we.scheme=Ae[1]||void 0,we.userinfo=he.indexOf("@")!==-1?Ae[3]:void 0,we.host=he.indexOf("//")!==-1?Ae[4]:void 0,we.port=parseInt(Ae[5],10),we.path=Ae[6]||"",we.query=he.indexOf("?")!==-1?Ae[7]:void 0,we.fragment=he.indexOf("#")!==-1?Ae[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ae[4]:void 0)),we.host&&(we.host=D(R(we.host,Re),Re)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==we.reference&&(we.error=we.error||"URI is not a "+ue.reference+" reference.");var ot=J[(ue.scheme||we.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!ot||!ot.unicodeSupport)){if(we.host&&(ue.domainHost||ot&&ot.domainHost))try{we.host=oe.toASCII(we.host.replace(Re.PCT_ENCODED,se).toLowerCase())}catch(tt){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+tt}be(we,f)}else be(we,Re);ot&&ot.parse&&ot.parse(we,ue)}else we.error=we.error||"URI can not be parsed.";return we}function fe(he,ue){var we=ue.iri!==!1?c:f,Re=[];return he.userinfo!==void 0&&(Re.push(he.userinfo),Re.push("@")),he.host!==void 0&&Re.push(D(R(String(he.host),we),we).replace(we.IPV6ADDRESS,function(Ae,ot,tt){return"["+ot+(tt?"%25"+tt:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(Re.push(":"),Re.push(String(he.port))),Re.length?Re.join(""):void 0}var de=/^\.\.?\//,pe=/^\/\.(\/|$)/,xe=/^\/\.\.(\/|$)/,Le=/^\/?(?:.|\n)*?(?=\/|$)/;function ke(he){for(var ue=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(pe))he=he.replace(pe,"/");else if(he.match(xe))he=he.replace(xe,"/"),ue.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Le);if(we){var Re=we[0];he=he.slice(Re.length),ue.push(Re)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function nt(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ue.iri?c:f,Re=[],Ae=J[(ue.scheme||he.scheme||"").toLowerCase()];if(Ae&&Ae.serialize&&Ae.serialize(he,ue),he.host&&!we.IPV6ADDRESS.test(he.host)){if(ue.domainHost||Ae&&Ae.domainHost)try{he.host=ue.iri?oe.toUnicode(he.host):oe.toASCII(he.host.replace(we.PCT_ENCODED,se).toLowerCase())}catch(Tt){he.error=he.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+Tt}}be(he,we),ue.reference!=="suffix"&&he.scheme&&(Re.push(he.scheme),Re.push(":"));var ot=fe(he,ue);if(ot!==void 0&&(ue.reference!=="suffix"&&Re.push("//"),Re.push(ot),he.path&&he.path.charAt(0)!=="/"&&Re.push("/")),he.path!==void 0){var tt=he.path;!ue.absolutePath&&(!Ae||!Ae.absolutePath)&&(tt=ke(tt)),ot===void 0&&(tt=tt.replace(/^\/\//,"/%2F")),Re.push(tt)}return he.query!==void 0&&(Re.push("?"),Re.push(he.query)),he.fragment!==void 0&&(Re.push("#"),Re.push(he.fragment)),Re.join("")}function qe(he,ue){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=arguments[3],Ae={};return Re||(he=ae(nt(he,we),we),ue=ae(nt(ue,we),we)),we=we||{},!we.tolerant&&ue.scheme?(Ae.scheme=ue.scheme,Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=ke(ue.path||""),Ae.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(Ae.userinfo=ue.userinfo,Ae.host=ue.host,Ae.port=ue.port,Ae.path=ke(ue.path||""),Ae.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?Ae.path=ke(ue.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?Ae.path="/"+ue.path:he.path?Ae.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+ue.path:Ae.path=ue.path,Ae.path=ke(Ae.path)),Ae.query=ue.query):(Ae.path=he.path,ue.query!==void 0?Ae.query=ue.query:Ae.query=he.query),Ae.userinfo=he.userinfo,Ae.host=he.host,Ae.port=he.port),Ae.scheme=he.scheme),Ae.fragment=ue.fragment,Ae}function Ue(he,ue,we){var Re=l({scheme:"null"},we);return nt(qe(ae(he,Re),ae(ue,Re),Re,!0),Re)}function W(he,ue){return typeof he=="string"?he=nt(ae(he,ue),ue):o(he)==="object"&&(he=ae(nt(he,ue),ue)),he}function I(he,ue,we){return typeof he=="string"?he=nt(ae(he,we),we):o(he)==="object"&&(he=nt(he,we)),typeof ue=="string"?ue=nt(ae(ue,we),we):o(ue)==="object"&&(ue=nt(ue,we)),he===ue}function L(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function ne(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,se)}var ye={scheme:"http",domainHost:!0,parse:function(ue,we){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,we){var Re=String(ue.scheme).toLowerCase()==="https";return(ue.port===(Re?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Se={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function De(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var je={scheme:"ws",domainHost:!0,parse:function(ue,we){var Re=ue;return Re.secure=De(Re),Re.resourceName=(Re.path||"/")+(Re.query?"?"+Re.query:""),Re.path=void 0,Re.query=void 0,Re},serialize:function(ue,we){if((ue.port===(De(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var Re=ue.resourceName.split("?"),Ae=h(Re,2),ot=Ae[0],tt=Ae[1];ue.path=ot&&ot!=="/"?ot:void 0,ue.query=tt,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Be={scheme:"wss",domainHost:je.domainHost,parse:je.parse,serialize:je.serialize},at={},wt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ut="[0-9A-Fa-f]",kt=i(i("%[EFef]"+ut+"%"+ut+ut+"%"+ut+ut)+"|"+i("%[89A-Fa-f]"+ut+"%"+ut+ut)+"|"+i("%"+ut+ut)),Tr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",or=n(Pr,'[\\"\\\\]'),ur="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",on=new RegExp(wt,"g"),tr=new RegExp(kt,"g"),Dt=new RegExp(n("[^]",Tr,"[\\.]",'[\\"]',or),"g"),Jt=new RegExp(n("[^]",wt,ur),"g"),Ee=Jt;function Oe(he){var ue=se(he);return ue.match(on)?ue:he}var ct={scheme:"mailto",parse:function(ue,we){var Re=ue,Ae=Re.to=Re.path?Re.path.split(","):[];if(Re.path=void 0,Re.query){for(var ot=!1,tt={},Tt=Re.query.split("&"),jt=0,Lt=Tt.length;jt<Lt;++jt){var $t=Tt[jt].split("=");switch($t[0]){case"to":for(var Rt=$t[1].split(","),Ht=0,yt=Rt.length;Ht<yt;++Ht)Ae.push(Rt[Ht]);break;case"subject":Re.subject=ne($t[1],we);break;case"body":Re.body=ne($t[1],we);break;default:ot=!0,tt[ne($t[0],we)]=ne($t[1],we);break}}ot&&(Re.headers=tt)}Re.query=void 0;for(var zt=0,At=Ae.length;zt<At;++zt){var Ct=Ae[zt].split("@");if(Ct[0]=ne(Ct[0]),we.unicodeSupport)Ct[1]=ne(Ct[1],we).toLowerCase();else try{Ct[1]=oe.toASCII(ne(Ct[1],we).toLowerCase())}catch(en){Re.error=Re.error||"Email address's domain name can not be converted to ASCII via punycode: "+en}Ae[zt]=Ct.join("@")}return Re},serialize:function(ue,we){var Re=ue,Ae=s(ue.to);if(Ae){for(var ot=0,tt=Ae.length;ot<tt;++ot){var Tt=String(Ae[ot]),jt=Tt.lastIndexOf("@"),Lt=Tt.slice(0,jt).replace(tr,Oe).replace(tr,a).replace(Dt,Y),$t=Tt.slice(jt+1);try{$t=we.iri?oe.toUnicode($t):oe.toASCII(ne($t,we).toLowerCase())}catch(zt){Re.error=Re.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+zt}Ae[ot]=Lt+"@"+$t}Re.path=Ae.join(",")}var Rt=ue.headers=ue.headers||{};ue.subject&&(Rt.subject=ue.subject),ue.body&&(Rt.body=ue.body);var Ht=[];for(var yt in Rt)Rt[yt]!==at[yt]&&Ht.push(yt.replace(tr,Oe).replace(tr,a).replace(Jt,Y)+"="+Rt[yt].replace(tr,Oe).replace(tr,a).replace(Ee,Y));return Ht.length&&(Re.query=Ht.join("&")),Re}},ht=/^([^\:]+)\:(.*)/,et={scheme:"urn",parse:function(ue,we){var Re=ue.path&&ue.path.match(ht),Ae=ue;if(Re){var ot=we.scheme||Ae.scheme||"urn",tt=Re[1].toLowerCase(),Tt=Re[2],jt=ot+":"+(we.nid||tt),Lt=J[jt];Ae.nid=tt,Ae.nss=Tt,Ae.path=void 0,Lt&&(Ae=Lt.parse(Ae,we))}else Ae.error=Ae.error||"URN can not be parsed.";return Ae},serialize:function(ue,we){var Re=we.scheme||ue.scheme||"urn",Ae=ue.nid,ot=Re+":"+(we.nid||Ae),tt=J[ot];tt&&(ue=tt.serialize(ue,we));var Tt=ue,jt=ue.nss;return Tt.path=(Ae||we.nid)+":"+jt,Tt}},xt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ot={scheme:"urn:uuid",parse:function(ue,we){var Re=ue;return Re.uuid=Re.nss,Re.nss=void 0,!we.tolerant&&(!Re.uuid||!Re.uuid.match(xt))&&(Re.error=Re.error||"UUID is not valid."),Re},serialize:function(ue,we){var Re=ue;return Re.nss=(ue.uuid||"").toLowerCase(),Re}};J[ye.scheme]=ye,J[Se.scheme]=Se,J[je.scheme]=je,J[Be.scheme]=Be,J[ct.scheme]=ct,J[et.scheme]=et,J[Ot.scheme]=Ot,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=se,r.parse=ae,r.removeDotSegments=ke,r.serialize=nt,r.resolveComponents=qe,r.resolve=Ue,r.normalize=W,r.equal=I,r.escapeComponent=L,r.unescapeComponent=ne,Object.defineProperty(r,"__esModule",{value:!0})})})(OP,OP.exports);var vK=OP.exports,So={},yK={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(Pa,function(){function t(u,f,c){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=c,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+"  "+this.symbols.slice(u).map(l).join(" ");return this.name+"  "+f};function r(u,f,c,h){this.rule=u,this.dot=f,this.reference=c,this.data=[],this.wantedBy=h,this.isComplete=this.dot===u.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(u){var f=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},r.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,a.fail))};function n(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(u){for(var f=this.states,c=this.wants,h=this.completed,g=0;g<f.length;g++){var m=f[g];if(m.isComplete){if(m.finish(),m.data!==a.fail){for(var _=m.wantedBy,v=_.length;v--;){var p=_[v];this.complete(p,m)}if(m.reference===this.index){var S=m.rule.name;(this.completed[S]=this.completed[S]||[]).push(m)}}}else{var S=m.rule.symbols[m.dot];if(typeof S!="string"){this.scannable.push(m);continue}if(c[S]){if(c[S].push(m),h.hasOwnProperty(S))for(var y=h[S],v=0;v<y.length;v++){var E=y[v];this.complete(m,E)}}else c[S]=[m],this.predict(S)}}},n.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],c=0;c<f.length;c++){var h=f[c],g=this.wants[u],m=new r(h,0,this.index,g);this.states.push(m)}},n.prototype.complete=function(u,f){var c=u.nextState(f);this.states.push(c)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(h){c.hasOwnProperty(h.name)||(c[h.name]=[]),c[h.name].push(h)})}i.fromCompiled=function(h,f){var c=h.Lexer;h.ParserStart&&(f=h.ParserStart,h=h.ParserRules);var h=h.map(function(m){return new t(m.name,m.symbols,m.postprocess)}),g=new i(h,f);return g.lexer=c,g};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var c=this.buffer;if(typeof c=="string"){var h=c.split(`
`).slice(Math.max(0,this.line-5),this.line),g=c.indexOf(`
`,this.index);g===-1&&(g=c.length);var m=this.index-this.lastLineBreak,_=String(this.line).length;return f+=" at line "+this.line+" col "+m+`:

`,f+=h.map(function(p,S){return v(this.line-h.length+S+1,_)+" "+p},this).join(`
`),f+=`
`+v("",_+m)+`^
`,f}else return f+" at index "+(this.index-1);function v(p,S){var y=String(p);return Array(S-y.length+1).join(" ")+y}};function a(u,f,c){if(u instanceof i)var h=u,c=f;else var h=i.fromCompiled(u,f);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new o};for(var g in c||{})this.options[g]=c[g];this.lexer=this.options.lexer,this.lexerState=void 0;var m=new n(h,0);this.table=[m],m.wants[h.start]=[],m.predict(h.start),m.process(),this.current=0}a.fail={},a.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(d){var _=new n(this.grammar,this.current+1);this.table.push(_);var h=new Error(this.reportLexerError(d));throw h.offset=this.current,h.token=d.token,h}var g=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var m=this.current+1,_=new n(this.grammar,m);this.table.push(_);for(var v=c.text!==void 0?c.text:c.value,p=f.constructor===o?c.value:c,S=g.scannable,y=S.length;y--;){var E=S[y],$=E.rule.symbols[E.dot];if($.test?$.test(p):$.type?$.type===c.type:$.literal===v){var T=E.nextState({data:p,token:c,isToken:!0,reference:m-1});_.states.push(T)}}if(_.process(),_.states.length===0){var h=new Error(this.reportError(c));throw h.offset=this.current,h.token=c,h}this.options.keepHistory&&(g.lexerState=f.save()),this.current++}return g&&(this.lexerState=f.save()),this.results=this.finish(),this},a.prototype.reportLexerError=function(u){var f,c,h=u.token;return h?(f="input "+JSON.stringify(h.text[0])+" (lexer error)",c=this.lexer.formatError(h,"Syntax error")):(f="input (lexer error)",c=u.message),this.reportErrorCommon(c,f)},a.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),c=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(c,f)},a.prototype.reportErrorCommon=function(u,f){var c=[];c.push(u);var h=this.table.length-2,g=this.table[h],m=g.states.filter(function(v){var p=v.rule.symbols[v.dot];return p&&typeof p!="string"});if(m.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(g.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var _=m.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);_.forEach(function(v){var p=v[0],S=p.rule.symbols[p.dot],y=this.getSymbolDisplay(S);c.push("A "+y+" based on:"),this.displayStateStack(v,c)},this)}return c.push(""),c.join(`
`)},a.prototype.displayStateStack=function(u,f){for(var c,h=0,g=0;g<u.length;g++){var m=u[g],_=m.rule.toString(m.dot);_===c?h++:(h>0&&f.push("    ^ "+h+" more lines identical to this"),h=0,f.push("    "+_)),c=_}},a.prototype.getSymbolDisplay=function(u){return s(u)},a.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var c=u.wantedBy[0],h=[u].concat(f),g=this.buildFirstStateStack(c,h);return g===null?null:[u].concat(g)},a.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},a.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},a.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},a.prototype.finish=function(){var u=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(h){h.rule.name===f&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==a.fail&&u.push(h)}),u.map(function(h){return h.data})};function s(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:a,Grammar:i,Rule:t}})})(yK);var awe=yK.exports,n2={};Object.defineProperty(n2,"__esModule",{value:!0});function _i(e){return e[0]}const wK=e=>[].concat(...e.map(t=>Array.isArray(t)?wK(t):t));function xd(e){return e?Array.isArray(e)?wK(e).join(""):e:""}const swe={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:_i},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:_i},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:_i},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:_i},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:xd(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:xd(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:xd(e[0]),domainPart:xd(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:xd(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:xd(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:_i},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:_i},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:_i},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:_i},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:_i},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:_i},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:_i},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:_i},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:_i},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:_i},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:_i},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:_i},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:_i}],ParserStart:"Reverse_path"};n2.default=swe;var lwe=Pa&&Pa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(So,"__esModule",{value:!0});So.canonicalize=So.canonicalize_quoted_string=So.normalize=So.normalize_dot_string=So.parse=void 0;const bK=awe,_K=lwe(n2);_K.default.ParserStart="Mailbox";const uwe=bK.Grammar.fromCompiled(_K.default);function i2(e){if(e.length>986)throw new Error("address too long");const r=new bK.Parser(uwe);if(r.feed(e),r.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),i=e.substring(n+1);if(i[0]!=="["){if(i.length>253)throw new Error("domain too long");const o=i.split(".");if(o.length<2)throw new Error("domain not fully qualified");if(o[o.length-1].length<2)throw new Error("top level domain label too short");if(o.sort(function(a,s){return s.length-a.length}),o[0].length>63)throw new Error("domain label too long")}return r.results[0]}So.parse=i2;function EK(e){return function(){const n=e.indexOf("+");return n===-1?e:e.substr(0,n)}().replace(/\./g,"").toLowerCase()}So.normalize_dot_string=EK;function cwe(e){var t,r;const n=i2(e),i=(t=n.domainPart.AddressLiteral)!==null&&t!==void 0?t:n.domainPart.DomainName.toLowerCase();return`${(r=n.localPart.QuotedString)!==null&&r!==void 0?r:EK(n.localPart.DotString)}@${i}`}So.normalize=cwe;function SK(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}So.canonicalize_quoted_string=SK;function fwe(e){var t;const r=i2(e),n=(t=r.domainPart.AddressLiteral)!==null&&t!==void 0?t:r.domainPart.DomainName.toLowerCase();return`${r.localPart.QuotedString?SK(r.localPart.QuotedString):r.localPart.DotString}@${n}`}So.canonicalize=fwe;var ob=Object.prototype.hasOwnProperty,$K=Object.prototype.toString,t3=Object.defineProperty,r3=Object.getOwnPropertyDescriptor,n3=function(t){return typeof Array.isArray=="function"?Array.isArray(t):$K.call(t)==="[object Array]"},i3=function(t){if(!t||$K.call(t)!=="[object Object]")return!1;var r=ob.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&ob.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||ob.call(t,i)},o3=function(t,r){t3&&r.name==="__proto__"?t3(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},a3=function(t,r){if(r==="__proto__")if(ob.call(t,r)){if(r3)return r3(t,r).value}else return;return t[r]},dwe=function e(){var t,r,n,i,o,a,s=arguments[0],l=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=a3(s,r),i=a3(t,r),s!==i&&(f&&i&&(i3(i)||(o=n3(i)))?(o?(o=!1,a=n&&n3(n)?n:[]):a=n&&i3(n)?n:{},o3(s,{name:r,newValue:e(f,a,i)})):typeof i<"u"&&o3(s,{name:r,newValue:i}));return s};const hwe=[{scheme:"aaa",description:"Diameter Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"aaas",description:"Diameter Protocol with Secure Transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"about",description:"about",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6694"}]},{scheme:"acap",description:"application configuration access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2244"}]},{scheme:"acct",description:"acct",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7565"}]},{scheme:"cap",description:"Calendar Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4324"}]},{scheme:"cid",description:"content identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"coap",description:"coap",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"coaps",description:"coaps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"crid",description:"TV-Anytime Content Reference Identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4078"}]},{scheme:"data",description:"data",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2397"}]},{scheme:"dav",description:"dav",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"dict",description:"dictionary service protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2229"}]},{scheme:"dns",description:"Domain Name System",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4501"}]},{scheme:"example",description:"example",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7595"}]},{scheme:"file",description:"Host-specific file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"ftp",description:"File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"geo",description:"Geographic Locations",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5870"}]},{scheme:"go",description:"go",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3368"}]},{scheme:"gopher",description:"The Gopher Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4266"}]},{scheme:"h323",description:"H.323",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3508"}]},{scheme:"http",description:"Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"https",description:"Hypertext Transfer Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"iax",description:"Inter-Asterisk eXchange Version 2",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5456"}]},{scheme:"icap",description:"Internet Content Adaptation Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3507"}]},{scheme:"im",description:"Instant Messaging",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3860"}]},{scheme:"imap",description:"internet message access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5092"}]},{scheme:"info",description:`Information Assets with Identifiers in Public Namespaces. 
       (section 3) defines an "info" registry 
        of public namespaces, which is maintained by NISO and can be accessed 
        from .`,reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4452"}]},{scheme:"ipp",description:"Internet Printing Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3510"}]},{scheme:"ipps",description:"Internet Printing Protocol over HTTPS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7472"}]},{scheme:"iris",description:"Internet Registry Information Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3981"}]},{scheme:"iris.beep",description:"iris.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3983"}]},{scheme:"iris.lwz",description:"iris.lwz",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4993"}]},{scheme:"iris.xpc",description:"iris.xpc",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"iris.xpcs",description:"iris.xpcs",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"jabber",description:"jabber",reference:[],template:"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{scheme:"ldap",description:"Lightweight Directory Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4516"}]},{scheme:"mailto",description:"Electronic mail address",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6068"}]},{scheme:"mid",description:"message identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"msrp",description:"Message Session Relay Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"msrps",description:"Message Session Relay Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"mtqp",description:"Message Tracking Query Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3887"}]},{scheme:"mupdate",description:"Mailbox Update (MUPDATE) Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3656"}]},{scheme:"news",description:"USENET news",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"nfs",description:"network file system protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2224"}]},{scheme:"ni",description:"ni",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nih",description:"nih",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nntp",description:"USENET news using NNTP access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"opaquelocktoken",description:"opaquelocktokent",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"pkcs11",description:"PKCS#11",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7512"}]},{scheme:"pop",description:"Post Office Protocol v3",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2384"}]},{scheme:"pres",description:"Presence",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3859"}]},{scheme:"reload",description:"reload",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6940"}]},{scheme:"rtsp",description:"Real-time Streaming Protocol (RTSP)",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtsps",description:"Real-time Streaming Protocol (RTSP) over TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtspu",description:"Real-time Streaming Protocol (RTSP) over unreliable datagram transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"}]},{scheme:"service",description:"service location",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2609"}]},{scheme:"session",description:"session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6787"}]},{scheme:"shttp",description:"Secure Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2660"}]},{scheme:"sieve",description:"ManageSieve Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5804"}]},{scheme:"sip",description:"session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sips",description:"secure session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sms",description:"Short Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5724"}]},{scheme:"snmp",description:"Simple Network Management Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4088"}]},{scheme:"soap.beep",description:"soap.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"soap.beeps",description:"soap.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"stun",description:"stun",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"stuns",description:"stuns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"tag",description:"tag",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4151"}]},{scheme:"tel",description:"telephone",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"telnet",description:"Reference to interactive sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4248"}]},{scheme:"tftp",description:"Trivial File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3617"}]},{scheme:"thismessage",description:"multipart/related relative reference resolution",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2557"}],template:"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{scheme:"tip",description:"Transaction Internet Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2371"}]},{scheme:"tn3270",description:"Interactive 3270 emulation sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6270"}]},{scheme:"turn",description:"turn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"turns",description:"turns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"tv",description:"TV Broadcasts",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2838"}]},{scheme:"urn",description:"Uniform Resource Names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2141"},{type:"registry",href:"http://www.iana.org/assignments/urn-namespaces"}]},{scheme:"vemmi",description:"versatile multimedia interface",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2122"}]},{scheme:"vnc",description:"Remote Framebuffer Protocol",reference:[{type:"draft",href:"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{scheme:"ws",description:"WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"wss",description:"Encrypted WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"xcon",description:"xcon",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xcon-userid",description:"xcon-userid",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xmlrpc.beep",description:"xmlrpc.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmlrpc.beeps",description:"xmlrpc.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmpp",description:"Extensible Messaging and Presence Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5122"}]},{scheme:"z39.50r",description:"Z39.50 Retrieval",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]},{scheme:"z39.50s",description:"Z39.50 Session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],pwe=[{scheme:"acr",description:"acr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/acr"},{scheme:"adiumxtra",description:"adiumxtra",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{scheme:"afp",description:"afp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/afp"},{scheme:"afs",description:"Andrew File System global file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"aim",description:"aim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aim"},{scheme:"appdata",description:"appdata",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{scheme:"apt",description:"apt",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/apt"},{scheme:"attachment",description:"attachment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{scheme:"aw",description:"aw",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aw"},{scheme:"barion",description:"barion",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/barion"},{scheme:"beshare",description:"beshare",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{scheme:"bitcoin",description:"bitcoin",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{scheme:"blob",description:"blob",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/blob"},{scheme:"bolo",description:"bolo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{scheme:"callto",description:"callto",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/callto"},{scheme:"chrome",description:"chrome",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{scheme:"chrome-extension",description:"chrome-extension",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{scheme:"com-eventbrite-attendee",description:"com-eventbrite-attendee",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{scheme:"content",description:"content",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/content"},{scheme:"cvs",description:"cvs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{scheme:"dis",description:"dis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dis"},{scheme:"dlna-playcontainer",description:"dlna-playcontainer",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{scheme:"dlna-playsingle",description:"dlna-playsingle",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{scheme:"dntp",description:"dntp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{scheme:"dtn",description:"DTNRG research and development",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5050"}]},{scheme:"dvb",description:"dvb",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{scheme:"ed2k",description:"ed2k",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{scheme:"facetime",description:"facetime",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{scheme:"feed",description:"feed",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feed"},{scheme:"feedready",description:"feedready",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{scheme:"finger",description:"finger",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/finger"},{scheme:"fish",description:"fish",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/fish"},{scheme:"gg",description:"gg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gg"},{scheme:"git",description:"git",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/git"},{scheme:"gizmoproject",description:"gizmoproject",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{scheme:"gtalk",description:"gtalk",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{scheme:"ham",description:"ham",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7046"}]},{scheme:"hcp",description:"hcp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{scheme:"icon",description:"icon",reference:[{type:"draft",href:"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{scheme:"iotdisco",description:"iotdisco",reference:[{type:"uri",href:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],template:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{scheme:"ipn",description:"ipn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6260"}]},{scheme:"irc",description:"irc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc"},{scheme:"irc6",description:"irc6",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{scheme:"ircs",description:"ircs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{scheme:"isostore",description:"isostore",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{scheme:"itms",description:"itms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/itms"},{scheme:"jar",description:"jar",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/jar"},{scheme:"jms",description:"Java Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6167"}]},{scheme:"keyparc",description:"keyparc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{scheme:"lastfm",description:"lastfm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{scheme:"ldaps",description:"ldaps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{scheme:"magnet",description:"magnet",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{scheme:"maps",description:"maps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/maps"},{scheme:"market",description:"market",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/market"},{scheme:"message",description:"message",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/message"},{scheme:"mms",description:"mms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mms"},{scheme:"ms-access",description:"ms-access",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{scheme:"ms-drive-to",description:"ms-drive-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{scheme:"ms-enrollment",description:"ms-enrollment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{scheme:"ms-excel",description:"ms-excel",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{scheme:"ms-getoffice",description:"ms-getoffice",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{scheme:"ms-help",description:"ms-help",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{scheme:"ms-infopath",description:"ms-infopath",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{scheme:"ms-media-stream-id",description:"ms-media-stream-id",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{scheme:"ms-powerpoint",description:"ms-powerpoint",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{scheme:"ms-project",description:"ms-project",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{scheme:"ms-publisher",description:"ms-publisher",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{scheme:"ms-search-repair",description:"ms-search-repair",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{scheme:"ms-secondary-screen-controller",description:"ms-secondary-screen-controller",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{scheme:"ms-secondary-screen-setup",description:"ms-secondary-screen-setup",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{scheme:"ms-settings",description:"ms-settings",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{scheme:"ms-settings-airplanemode",description:"ms-settings-airplanemode",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{scheme:"ms-settings-bluetooth",description:"ms-settings-bluetooth",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{scheme:"ms-settings-camera",description:"ms-settings-camera",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{scheme:"ms-settings-cellular",description:"ms-settings-cellular",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{scheme:"ms-settings-cloudstorage",description:"ms-settings-cloudstorage",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{scheme:"ms-settings-connectabledevices",description:"ms-settings-connectabledevices",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{scheme:"ms-settings-displays-topology",description:"ms-settings-displays-topology",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{scheme:"ms-settings-emailandaccounts",description:"ms-settings-emailandaccounts",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{scheme:"ms-settings-language",description:"ms-settings-language",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{scheme:"ms-settings-location",description:"ms-settings-location",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{scheme:"ms-settings-lock",description:"ms-settings-lock",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{scheme:"ms-settings-nfctransactions",description:"ms-settings-nfctransactions",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{scheme:"ms-settings-notifications",description:"ms-settings-notifications",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{scheme:"ms-settings-power",description:"ms-settings-power",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{scheme:"ms-settings-privacy",description:"ms-settings-privacy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{scheme:"ms-settings-proximity",description:"ms-settings-proximity",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{scheme:"ms-settings-screenrotation",description:"ms-settings-screenrotation",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{scheme:"ms-settings-wifi",description:"ms-settings-wifi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{scheme:"ms-settings-workplace",description:"ms-settings-workplace",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{scheme:"ms-spd",description:"ms-spd",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{scheme:"ms-transit-to",description:"ms-transit-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{scheme:"ms-visio",description:"ms-visio",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{scheme:"ms-walk-to",description:"ms-walk-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{scheme:"ms-word",description:"ms-word",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{scheme:"msnim",description:"msnim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{scheme:"mumble",description:"mumble",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{scheme:"mvn",description:"mvn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{scheme:"notes",description:"notes",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/notes"},{scheme:"oid",description:"oid",reference:[{type:"draft",href:"http://www.iana.org/go/draft-larmouth-oid-iri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/oid"},{scheme:"palm",description:"palm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/palm"},{scheme:"paparazzi",description:"paparazzi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{scheme:"platform",description:"platform",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/platform"},{scheme:"proxy",description:"proxy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{scheme:"psyc",description:"psyc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{scheme:"query",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/query"},{scheme:"redis",description:"redis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/redis"},{scheme:"rediss",description:"rediss",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{scheme:"res",description:"res",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/res"},{scheme:"resource",description:"resource",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/resource"},{scheme:"rmi",description:"rmi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{scheme:"rsync",description:"rsync",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5781"}]},{scheme:"rtmfp",description:"rtmfp",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7425"}],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{scheme:"rtmp",description:"rtmp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{scheme:"secondlife",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{scheme:"sftp",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{scheme:"sgn",description:"sgn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{scheme:"skype",description:"skype",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/skype"},{scheme:"smb",description:"smb",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/smb"},{scheme:"smtp",description:"smtp",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{scheme:"soldat",description:"soldat",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{scheme:"spotify",description:"spotify",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{scheme:"ssh",description:"ssh",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{scheme:"steam",description:"steam",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/steam"},{scheme:"submit",description:"submit",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/submit"},{scheme:"svn",description:"svn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/svn"},{scheme:"teamspeak",description:"teamspeak",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{scheme:"teliaeid",description:"teliaeid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{scheme:"things",description:"things",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/things"},{scheme:"tool",description:"tool",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/tool"},{scheme:"udp",description:"udp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/udp"},{scheme:"unreal",description:"unreal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{scheme:"ut2004",description:"ut2004",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{scheme:"v-event",description:"v-event",reference:[{type:"draft",href:"http://www.iana.org/go/draft-menderico-v-event-uri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{scheme:"ventrilo",description:"ventrilo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{scheme:"view-source",description:"view-source",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{scheme:"webcal",description:"webcal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{scheme:"wpid",description:"wpid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{scheme:"wtai",description:"wtai",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{scheme:"wyciwyg",description:"wyciwyg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{scheme:"xfire",description:"xfire",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{scheme:"xri",description:"xri",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xri"},{scheme:"ymsgr",description:"ymsgr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}],mwe=[{scheme:"fax",description:"fax",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"filesystem",description:"filesystem",reference:[],template:"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{scheme:"mailserver",description:"Access to data available from mail servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6196"}]},{scheme:"modem",description:"modem",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"pack",description:"pack",reference:[{type:"draft",href:"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],template:"http://www.iana.org/assignments/uri-schemes/historic/pack"},{scheme:"prospero",description:"Prospero Directory Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4157"}]},{scheme:"snews",description:"NNTP over SSL/TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"videotex",description:"videotex",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{type:"rfc",href:"http://www.iana.org/go/rfc2122"},{type:"rfc",href:"http://www.iana.org/go/rfc3986"}],template:"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{scheme:"wais",description:"Wide Area Information Servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4156"}]},{scheme:"z39.50",description:"Z39.50 information access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"},{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],gwe=[{scheme:"android-app"},{scheme:"webpack"},{scheme:"s3",description:"Amazon Web Services S3 bucket"},{scheme:"gs",description:"Google Cloud Storage"},{scheme:"mqtt",description:"Message Queuing Telemetry Transport Protocol"},{scheme:"modbus+tcp",description:"Modbus over TCP"}];var o2=dwe,hg={permanent:hwe,provosional:pwe,historical:mwe},aS={};Object.keys(hg).forEach(function(e){hg[e].forEach(function(t){aS[t.scheme]=o2(t,{type:e})})});hg.unofficial=gwe.filter(function(e){return!aS[e.scheme]});hg.unofficial.forEach(function(e){aS[e.scheme]=o2(e,{type:"unofficial"})});var TK=o2(hg,{allByName:aS});const{parse:vwe}=vK,{addressParser:ywe}=So,wwe=TK;function bwe(e){try{return ywe(e),!0}catch{return!1}}var _we=e=>{const t=vwe(e);return!!(t.scheme==="mailto"&&t.to.every(bwe)||t.reference==="absolute"&&wwe.allByName[t.scheme])},Ewe=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/;const{parse:Swe}=So;var $we=e=>{try{return Swe(e),!0}catch{return!1}};const bh=2147483647,Ys=36,a2=1,pg=26,Twe=38,Awe=700,AK=72,xK=128,OK="-",xwe=/^xn--/,Owe=/[^\0-\x7F]/,Pwe=/[\x2E\u3002\uFF0E\uFF61]/g,Rwe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f$=Ys-a2,Xs=Math.floor,d$=String.fromCharCode;function Iu(e){throw new RangeError(Rwe[e])}function Nwe(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function PK(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(Pwe,".");const i=e.split("."),o=Nwe(i,t).join(".");return n+o}function s2(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const RK=e=>String.fromCodePoint(...e),Iwe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Ys},s3=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},NK=function(e,t,r){let n=0;for(e=r?Xs(e/Awe):e>>1,e+=Xs(e/t);e>f$*pg>>1;n+=Ys)e=Xs(e/f$);return Xs(n+(f$+1)*e/(e+Twe))},l2=function(e){const t=[],r=e.length;let n=0,i=xK,o=AK,a=e.lastIndexOf(OK);a<0&&(a=0);for(let s=0;s<a;++s)e.charCodeAt(s)>=128&&Iu("not-basic"),t.push(e.charCodeAt(s));for(let s=a>0?a+1:0;s<r;){const l=n;for(let f=1,c=Ys;;c+=Ys){s>=r&&Iu("invalid-input");const h=Iwe(e.charCodeAt(s++));h>=Ys&&Iu("invalid-input"),h>Xs((bh-n)/f)&&Iu("overflow"),n+=h*f;const g=c<=o?a2:c>=o+pg?pg:c-o;if(h<g)break;const m=Ys-g;f>Xs(bh/m)&&Iu("overflow"),f*=m}const u=t.length+1;o=NK(n-l,u,l==0),Xs(n/u)>bh-i&&Iu("overflow"),i+=Xs(n/u),n%=u,t.splice(n++,0,i)}return String.fromCodePoint(...t)},u2=function(e){const t=[];e=s2(e);const r=e.length;let n=xK,i=0,o=AK;for(const l of e)l<128&&t.push(d$(l));const a=t.length;let s=a;for(a&&t.push(OK);s<r;){let l=bh;for(const f of e)f>=n&&f<l&&(l=f);const u=s+1;l-n>Xs((bh-i)/u)&&Iu("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>bh&&Iu("overflow"),f===n){let c=i;for(let h=Ys;;h+=Ys){const g=h<=o?a2:h>=o+pg?pg:h-o;if(c<g)break;const m=c-g,_=Ys-g;t.push(d$(s3(g+m%_,0))),c=Xs(m/_)}t.push(d$(s3(c,0))),o=NK(i,u,s===a),i=0,++s}++i,++n}return t.join("")},IK=function(e){return PK(e,function(t){return xwe.test(t)?l2(t.slice(4).toLowerCase()):t})},jK=function(e){return PK(e,function(t){return Owe.test(t)?"xn--"+u2(t):t})},jwe={version:"2.3.1",ucs2:{decode:s2,encode:RK},decode:l2,encode:u2,toASCII:jK,toUnicode:IK},Cwe=Object.freeze(Object.defineProperty({__proto__:null,decode:l2,default:jwe,encode:u2,toASCII:jK,toUnicode:IK,ucs2decode:s2,ucs2encode:RK},Symbol.toStringTag,{value:"Module"})),CK=NP(Cwe),{toASCII:kwe}=CK,Dwe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var Mwe=e=>{const t=kwe(e);return t.replace(/\.$/,"").length<=253&&Dwe.test(t)};const{parse:Lwe}=vK,{addressParser:Fwe}=So,l3=TK;function Bwe(e){try{return Fwe(e),!0}catch{return!1}}var Uwe=e=>{const t=Lwe(e);return t.scheme==="mailto"&&t.to.every(Bwe)||t.reference==="absolute"&&t.path!==void 0&&l3.allByName[t.scheme]?!0:t.scheme&&!l3.allByName[t.scheme]?!1:t.path!==void 0&&(t.reference==="relative"||t.reference==="same-document"||t.reference==="uri")};(function(e){e.exports.iri=_we,e.exports.duration=Ewe,e.exports["idn-email"]=$we,e.exports["idn-hostname"]=Mwe,e.exports["iri-reference"]=Uwe})(owe);var kK={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(l,u){if(!o[l]){o[l]={};for(var f=0;f<l.length;f++)o[l][l.charAt(f)]=f}return o[l][u]}var s={compressToBase64:function(l){if(l==null)return"";var u=s._compress(l,6,function(f){return n.charAt(f)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:s._decompress(l.length,32,function(u){return a(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":s._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:s._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=s.compress(l),f=new Uint8Array(u.length*2),c=0,h=u.length;c<h;c++){var g=u.charCodeAt(c);f[c*2]=g>>>8,f[c*2+1]=g%256}return f},decompressFromUint8Array:function(l){if(l==null)return s.decompress(l);for(var u=new Array(l.length/2),f=0,c=u.length;f<c;f++)u[f]=l[f*2]*256+l[f*2+1];var h=[];return u.forEach(function(g){h.push(r(g))}),s.decompress(h.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":s._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),s._decompress(l.length,32,function(u){return a(i,l.charAt(u))}))},compress:function(l){return s._compress(l,16,function(u){return r(u)})},_compress:function(l,u,f){if(l==null)return"";var c,h,g={},m={},_="",v="",p="",S=2,y=3,E=2,$=[],T=0,d=0,A;for(A=0;A<l.length;A+=1)if(_=l.charAt(A),Object.prototype.hasOwnProperty.call(g,_)||(g[_]=y++,m[_]=!0),v=p+_,Object.prototype.hasOwnProperty.call(g,v))p=v;else{if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(c=0;c<E;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}else{for(h=1,c=0;c<E;c++)T=T<<1|h,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}S--,S==0&&(S=Math.pow(2,E),E++),delete m[p]}else for(h=g[p],c=0;c<E;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;S--,S==0&&(S=Math.pow(2,E),E++),g[v]=y++,p=String(_)}if(p!==""){if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(c=0;c<E;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}else{for(h=1,c=0;c<E;c++)T=T<<1|h,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}S--,S==0&&(S=Math.pow(2,E),E++),delete m[p]}else for(h=g[p],c=0;c<E;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;S--,S==0&&(S=Math.pow(2,E),E++)}for(h=2,c=0;c<E;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;for(;;)if(T=T<<1,d==u-1){$.push(f(T));break}else d++;return $.join("")},decompress:function(l){return l==null?"":l==""?null:s._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,f){var c=[],h=4,g=4,m=3,_="",v=[],p,S,y,E,$,T,d,A={val:f(0),position:u,index:1};for(p=0;p<3;p+=1)c[p]=p;for(y=0,$=Math.pow(2,2),T=1;T!=$;)E=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(E>0?1:0)*T,T<<=1;switch(y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)E=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(E>0?1:0)*T,T<<=1;d=r(y);break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)E=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(E>0?1:0)*T,T<<=1;d=r(y);break;case 2:return""}for(c[3]=d,S=d,v.push(d);;){if(A.index>l)return"";for(y=0,$=Math.pow(2,m),T=1;T!=$;)E=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(E>0?1:0)*T,T<<=1;switch(d=y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)E=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(E>0?1:0)*T,T<<=1;c[g++]=r(y),d=g-1,h--;break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)E=A.val&A.position,A.position>>=1,A.position==0&&(A.position=u,A.val=f(A.index++)),y|=(E>0?1:0)*T,T<<=1;c[g++]=r(y),d=g-1,h--;break;case 2:return v.join("")}if(h==0&&(h=Math.pow(2,m),m++),c[d])_=c[d];else if(d===g)_=S+S.charAt(0);else return null;v.push(_),c[g++]=S+_.charAt(0),h--,S=_,h==0&&(h=Math.pow(2,m),m++)}}};return s}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(kK);var zwe=kK.exports;const DK=Wl(zwe);var MK={exports:{}},LK=CK;function qwe(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function h$(e){return e>="0"&&e<="7"}function Vwe(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function u3(e){return e=parseInt(e,16),LK.ucs2.encode([e])}function FK(e,t,r){var n=!1,i=[];function o(l){var u=e[l];if(!Vwe(u))throw new qwe(l,"Unexpected token ILLEGAL");return u}for(;t<e.length;){var a=e[t];if(t++,n){switch(n=!1,a){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(a==="x"){i.push(u3(o(t)+o(t+1))),t+=2;continue}if(a==="u"){i.push(u3(o(t)+o(t+1)+o(t+2)+o(t+3))),t+=4;continue}if(h$(a)){var s;h$(s=e[t])&&(t++,a+=s,h$(s=e[t])&&a[0]<="3"&&(t++,a+=s)),i.push(LK.ucs2.encode([parseInt(a,8)]));continue}i.push(a)}else if(a==="\\")n=!0;else if(a===r){t--;break}else i.push(a)}return arguments.length===3?{end:t,value:i.join("")}:i.join("")}MK.exports=function(t){return FK(t,0)};MK.exports.parseUntil=function(t,r,n){return FK(t,r,n)};const Hwe="Thing Description",Wwe="1.1-05-September-2022",Gwe="JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",Kwe="http://json-schema.org/draft-07/schema#",Jwe="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",Ywe={anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]}}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]}}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client","device"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},Xwe="object",Qwe={id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},Zwe=["title","security","securityDefinitions","@context"],ebe=!0,nm={title:Hwe,version:Wwe,description:Gwe,$schema:Kwe,$id:Jwe,definitions:Ywe,type:Xwe,properties:Qwe,required:Zwe,additionalProperties:ebe};function tbe(e){return DK.compressToEncodedURIComponent(e)}function rbe(e){return DK.decompressFromEncodedURIComponent(e)}const Vc="$ref",nbe="properties",ibe="additional_properties",wu="dataSchema",obe="#/";abe(nm);function abe(e){const t=new Map,r=new Map;return Xc(t,e,obe),t.forEach((n,i)=>{if(n.size>0){const o=(i.match(/\//ig)||[]).length;let a=r.get(o);a?(a.set(i.replace(/^r/g,""),n),r.set(o,a)):(a=new Map,a.set(i.replace(/^r/g,""),n),r.set(o,a))}}),r}function Xc(e,t,r){const n=new Set;if(t[Vc]){if(r[0]==="r"&&t[Vc].includes(wu))return;t[Vc].includes(wu)&&(r="r"+r),Xc(_y(nm,t[Vc]),r);return}if(t.type==="object"){const i=t[nbe];for(const a in i)if(i.hasOwnProperty(a))if(a===Vc){if(r[0]==="r"&&i[a].includes(wu))continue;i[a].includes(wu)&&(r="r"+r),Xc(_y(nm,i[a]),r);return}else Xc(i[a],`${r}${a}/`),n.add(a);const o=t[ibe];for(const a in o)if(o.hasOwnProperty(a)&&a===Vc){if(r[0]==="r"&&o[a].includes(wu))continue;o[a].includes(wu)&&(r="r"+r),Xc(_y(nm,o[a]),`${r}*/`);return}c3(e,r,n)}if(t.type==="array"){const i=t.items;for(const o in i)if(i.hasOwnProperty(o)&&o===Vc){if(r[0]==="r"&&i[o].includes(wu))continue;i[o].includes(wu)&&(r="r"+r),Xc(_y(nm,i[o]),r);return}c3(e,r,n)}for(const i in t)t.hasOwnProperty(i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach(o=>{Xc(o,r)})}function c3(e,t,r){let n=e.get(t);if(n){const i=new Set(n);r.forEach(o=>{i.add(o)}),e.set(t,i)}else e.set(t,r)}function _y(e,t){const r=t.split("/");if(r[0]!=="#"){console.log("Parsing not implemented for between files");return}let n=e;for(let i=1;i<r.length;i++)n=n[r[i]];return n}const sbe="tdjson",lbe="tmjson",ube=e=>{let t;try{t=JSON.parse(e)}catch(i){console.debug(i);return}let r=sbe;return nU(t)&&(r=lbe),tbe(r.concat(e))},cbe=e=>{let t=rbe(e);if(!(t==null||t==="")){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},BK=Ce.forwardRef((e,t)=>{const r=Ce.useContext(pn),[n,i]=Je.useState(!1),[o,a]=Je.useState(""),[s,l]=Je.useState("");Ce.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0);const h=ube(r.offlineTD);l(h||"");const g=`${window.location.origin+window.location.pathname}?td=${h}`;a(g),fbe(g),dbe()},f=()=>{i(!1)};let c=re.jsx("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",defaultValue:o});return n?ys.createPortal(re.jsx(La,{hasSubmit:!0,onCancel:f,cancelText:"Okay",submitText:"Open in Playground",onSubmit:()=>{window.open(`https://playground.thingweb.io//#${s}`),f()},children:c,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null}),fbe=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then(function(){console.log("Async: Copied TD link to clipboard!")},function(t){console.error("Async: Could not copy TD to clipboard: ",t)})},dbe=()=>{setTimeout(()=>{try{document.getElementById("share-td-field").select()}catch{}},250)};BK.displayName="ShareDialog";var PP={exports:{}},c2={},rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.dynamicAnchor=void 0;const p$=er,hbe=ia,f3=to,pbe=Hl,mbe={keyword:"$dynamicAnchor",schemaType:"string",code:e=>UK(e,e.schema)};function UK(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const i=(0,p$._)`${hbe.default.dynamicAnchors}${(0,p$.getProperty)(t)}`,o=n.errSchemaPath==="#"?n.validateName:gbe(e);r.if((0,p$._)`!${i}`,()=>r.assign(i,o))}rp.dynamicAnchor=UK;function gbe(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:i,baseId:o,localRefs:a,meta:s}=t.root,{schemaId:l}=n.opts,u=new f3.SchemaEnv({schema:r,schemaId:l,root:i,baseId:o,localRefs:a,meta:s});return f3.compileSchema.call(n,u),(0,pbe.getValidate)(e,u)}rp.default=mbe;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.dynamicRef=void 0;const d3=er,vbe=ia,h3=Hl,ybe={keyword:"$dynamicRef",schemaType:"string",code:e=>zK(e,e.schema)};function zK(e,t){const{gen:r,keyword:n,it:i}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const o=t.slice(1);if(i.allErrors)a();else{const l=r.let("valid",!1);a(l),e.ok(l)}function a(l){if(i.schemaEnv.root.dynamicAnchors[o]){const u=r.let("_v",(0,d3._)`${vbe.default.dynamicAnchors}${(0,d3.getProperty)(o)}`);r.if(u,s(u,l),s(i.validateName,l))}else s(i.validateName,l)()}function s(l,u){return u?()=>r.block(()=>{(0,h3.callRef)(e,l),r.let(u,!0)}):()=>(0,h3.callRef)(e,l)}}np.dynamicRef=zK;np.default=ybe;var f2={};Object.defineProperty(f2,"__esModule",{value:!0});const wbe=rp,bbe=It,_be={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,wbe.dynamicAnchor)(e,""):(0,bbe.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};f2.default=_be;var d2={};Object.defineProperty(d2,"__esModule",{value:!0});const Ebe=np,Sbe={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Ebe.dynamicRef)(e,e.schema)};d2.default=Sbe;Object.defineProperty(c2,"__esModule",{value:!0});const $be=rp,Tbe=np,Abe=f2,xbe=d2,Obe=[$be.default,Tbe.default,Abe.default,xbe.default];c2.default=Obe;var h2={},p2={};Object.defineProperty(p2,"__esModule",{value:!0});const p3=rS,Pbe={keyword:"dependentRequired",type:"object",schemaType:"object",error:p3.error,code:e=>(0,p3.validatePropertyDeps)(e)};p2.default=Pbe;var m2={};Object.defineProperty(m2,"__esModule",{value:!0});const Rbe=rS,Nbe={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,Rbe.validateSchemaDeps)(e)};m2.default=Nbe;var g2={};Object.defineProperty(g2,"__esModule",{value:!0});const Ibe=It,jbe={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,Ibe.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};g2.default=jbe;Object.defineProperty(h2,"__esModule",{value:!0});const Cbe=p2,kbe=m2,Dbe=g2,Mbe=[Cbe.default,kbe.default,Dbe.default];h2.default=Mbe;var y2={},w2={};Object.defineProperty(w2,"__esModule",{value:!0});const Pu=er,m3=It,Lbe=ia,Fbe={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Pu._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},Bbe={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:Fbe,code(e){const{gen:t,schema:r,data:n,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:a,props:s}=o;s instanceof Pu.Name?t.if((0,Pu._)`${s} !== true`,()=>t.forIn("key",n,c=>t.if(u(s,c),()=>l(c)))):s!==!0&&t.forIn("key",n,c=>s===void 0?l(c):t.if(f(s,c),()=>l(c))),o.props=!0,e.ok((0,Pu._)`${i} === ${Lbe.default.errors}`);function l(c){if(r===!1){e.setParams({unevaluatedProperty:c}),e.error(),a||t.break();return}if(!(0,m3.alwaysValidSchema)(o,r)){const h=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:c,dataPropType:m3.Type.Str},h),a||t.if((0,Pu.not)(h),()=>t.break())}}function u(c,h){return(0,Pu._)`!${c} || !${c}[${h}]`}function f(c,h){const g=[];for(const m in c)c[m]===!0&&g.push((0,Pu._)`${h} !== ${m}`);return(0,Pu.and)(...g)}}};w2.default=Bbe;var b2={};Object.defineProperty(b2,"__esModule",{value:!0});const af=er,g3=It,Ube={message:({params:{len:e}})=>(0,af.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,af._)`{limit: ${e}}`},zbe={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Ube,code(e){const{gen:t,schema:r,data:n,it:i}=e,o=i.items||0;if(o===!0)return;const a=t.const("len",(0,af._)`${n}.length`);if(r===!1)e.setParams({len:o}),e.fail((0,af._)`${a} > ${o}`);else if(typeof r=="object"&&!(0,g3.alwaysValidSchema)(i,r)){const l=t.var("valid",(0,af._)`${a} <= ${o}`);t.if((0,af.not)(l),()=>s(l,o)),e.ok(l)}i.items=!0;function s(l,u){t.forRange("i",u,a,f=>{e.subschema({keyword:"unevaluatedItems",dataProp:f,dataPropType:g3.Type.Num},l),i.allErrors||t.if((0,af.not)(l),()=>t.break())})}}};b2.default=zbe;Object.defineProperty(y2,"__esModule",{value:!0});const qbe=w2,Vbe=b2,Hbe=[qbe.default,Vbe.default];y2.default=Hbe;var _2={};const Wbe="https://json-schema.org/draft/2019-09/schema",Gbe="https://json-schema.org/draft/2019-09/schema",Kbe={"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},Jbe=!0,Ybe="Core and Validation specifications meta-schema",Xbe=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],Qbe=["object","boolean"],Zbe={definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}},e_e={$schema:Wbe,$id:Gbe,$vocabulary:Kbe,$recursiveAnchor:Jbe,title:Ybe,allOf:Xbe,type:Qbe,properties:Zbe},t_e="https://json-schema.org/draft/2019-09/schema",r_e="https://json-schema.org/draft/2019-09/meta/applicator",n_e={"https://json-schema.org/draft/2019-09/vocab/applicator":!0},i_e=!0,o_e="Applicator vocabulary meta-schema",a_e=["object","boolean"],s_e={additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},l_e={schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}},u_e={$schema:t_e,$id:r_e,$vocabulary:n_e,$recursiveAnchor:i_e,title:o_e,type:a_e,properties:s_e,$defs:l_e},c_e="https://json-schema.org/draft/2019-09/schema",f_e="https://json-schema.org/draft/2019-09/meta/content",d_e={"https://json-schema.org/draft/2019-09/vocab/content":!0},h_e=!0,p_e="Content vocabulary meta-schema",m_e=["object","boolean"],g_e={contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}},v_e={$schema:c_e,$id:f_e,$vocabulary:d_e,$recursiveAnchor:h_e,title:p_e,type:m_e,properties:g_e},y_e="https://json-schema.org/draft/2019-09/schema",w_e="https://json-schema.org/draft/2019-09/meta/core",b_e={"https://json-schema.org/draft/2019-09/vocab/core":!0},__e=!0,E_e="Core vocabulary meta-schema",S_e=["object","boolean"],$_e={$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}},T_e={$schema:y_e,$id:w_e,$vocabulary:b_e,$recursiveAnchor:__e,title:E_e,type:S_e,properties:$_e},A_e="https://json-schema.org/draft/2019-09/schema",x_e="https://json-schema.org/draft/2019-09/meta/format",O_e={"https://json-schema.org/draft/2019-09/vocab/format":!0},P_e=!0,R_e="Format vocabulary meta-schema",N_e=["object","boolean"],I_e={format:{type:"string"}},j_e={$schema:A_e,$id:x_e,$vocabulary:O_e,$recursiveAnchor:P_e,title:R_e,type:N_e,properties:I_e},C_e="https://json-schema.org/draft/2019-09/schema",k_e="https://json-schema.org/draft/2019-09/meta/meta-data",D_e={"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},M_e=!0,L_e="Meta-data vocabulary meta-schema",F_e=["object","boolean"],B_e={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},U_e={$schema:C_e,$id:k_e,$vocabulary:D_e,$recursiveAnchor:M_e,title:L_e,type:F_e,properties:B_e},z_e="https://json-schema.org/draft/2019-09/schema",q_e="https://json-schema.org/draft/2019-09/meta/validation",V_e={"https://json-schema.org/draft/2019-09/vocab/validation":!0},H_e=!0,W_e="Validation vocabulary meta-schema",G_e=["object","boolean"],K_e={multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},J_e={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Y_e={$schema:z_e,$id:q_e,$vocabulary:V_e,$recursiveAnchor:H_e,title:W_e,type:G_e,properties:K_e,$defs:J_e};Object.defineProperty(_2,"__esModule",{value:!0});const X_e=e_e,Q_e=u_e,Z_e=v_e,eEe=T_e,tEe=j_e,rEe=U_e,nEe=Y_e,iEe=["/properties"];function oEe(e){return[X_e,Q_e,Z_e,eEe,t(this,tEe),rEe,t(this,nEe)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,iEe):n}}_2.default=oEe;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=hj,n=tS,i=c2,o=h2,a=y2,s=iS,l=_2,u="https://json-schema.org/draft/2019-09/schema";class f extends r.default{constructor(v={}){super({...v,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),n.default.forEach(v=>this.addVocabulary(v)),this.addVocabulary(o.default),this.addVocabulary(a.default),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:v,meta:p}=this.opts;p&&(l.default.call(this,v),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv2019=f,e.exports=t=f,e.exports.Ajv2019=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var c=ja;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var h=er;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var g=Zh;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return g.default}});var m=Zf;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})})(PP,PP.exports);var aEe=PP.exports;const sEe=Wl(aEe),m$="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tmc-mandatory.schema.json",v3="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tm-json-schema-validation.json",g$="https://raw.githubusercontent.com/wot-oss/tmc/refs/heads/main/internal/commands/validate/modbus.schema.json",qK=Ce.forwardRef((e,t)=>{const n=Ce.useContext(pn).parsedTD,[i,o]=Je.useState(!1),[a,s]=Je.useState(!1),[l,u]=Je.useState(!1),[f,c]=Je.useState(""),[h,g]=Je.useState(""),[m,_]=Je.useState(""),[v,p]=Je.useState(""),[S,y]=Je.useState(""),[E,$]=Je.useState(""),[T,d]=Je.useState(""),[A,x]=Je.useState(""),[O,C]=Je.useState(""),[F,V]=Je.useState(""),[Q,H]=Je.useState(""),[X,ce]=Je.useState(!1),[Z,ie]=Je.useState(!1),[k,B]=Je.useState(""),[G,P]=Je.useState(""),[N,q]=Je.useState(""),[oe,J]=Je.useState(null);Ce.useImperativeHandle(t,()=>({openModal:()=>Y(),close:()=>se()}));const Y=()=>{var nt,qe,Ue;c(`${n["schema:mpn"]??""}`),g(((nt=n["schema:author"])==null?void 0:nt["schema:name"])??""),_(((qe=n["schema:manufacturer"])==null?void 0:qe["schema:name"])??""),p(`${n["schema:license"]??""}`),y(`${n["schema:copyrightYear"]??""}`),$(`${((Ue=n["schema:copyrightHolder"])==null?void 0:Ue.name)||""}`.trim());const de=new URLSearchParams(window.location.search),pe=de.get("tmcendpoint"),xe=de.get("repo"),Le=pe?decodeURIComponent(pe):"",ke=xe?decodeURIComponent(xe):"";!Uoe(Le)&&Le!==""&&V("Please enter a valid URL starting with http:// or https://"),d(Le),x(ke),o(!0)},se=()=>{c(""),g(""),_(""),p(""),y(""),$(""),C(""),V(""),H(""),q(""),ce(!1),ie(!1),B(""),P(""),d(""),x(""),u(!1),s(!1),o(!1)},be=async()=>{q(""),ce(!1);try{const de=await Ude(`${T}/thing-models`,"POST",JSON.stringify(oe),{queryParams:{repo:A}});if(!de){q("Failed to connect to the server");return}const pe=await de.json();if(de.status===201&&pe.data){const{tmID:Le,message:ke}=pe.data;Le?(ce(!0),P(Le),B(`${T}/thing-models/${Le}`)):q("Response missing tmID");return}const xe=pe.detail+" "+pe.title;q(`Error: ${xe}`);return}catch(de){q(`Failed to process request: ${de instanceof Error?de.message:"Unknown error"}`)}},Ne=async()=>{C(""),s(!1),u(!0);const de=structuredClone(n);de["schema:mpn"]=f,de["schema:author"]={"schema:name":h},de["schema:manufacturer"]={"@type":"Organization","schema:name":m},de["schema:license"]=v,de["schema:copyrightYear"]=S,de["schema:copyrightHolder"]={"@type":"Organization","schema:name":E};try{de["@context"]=lEe(de["@context"])}catch(pe){s(!1),C(pe instanceof Error?pe.message:"Context normalization error");return}J(de);try{const pe=new sEe({strict:!1,allErrors:!0,validateFormats:!0});iwe(pe),pe.addMetaSchema(pK);let xe=await fetch(m$);if(!xe.ok)throw new Error(`Failed to fetch schema from ${m$}`);let Le=await xe.json(),ke=pe.compile(Le),nt=ke(de);if(!nt){s(!1),C(`Validation failed for ${m$}: ${ke.errors?pe.errorsText(ke.errors):""}`);return}if(xe=await fetch(v3),!xe.ok)throw new Error(`Failed to fetch schema from ${v3}`);let qe=await xe.json();if(pe.addSchema(qe),xe=await fetch(g$),!xe.ok)throw new Error(`Failed to fetch schema from ${g$}`);if(Le=await xe.json(),ke=pe.compile(Le),nt=ke(de),!nt){s(!1),C(`Validation failed for ${g$}: ${ke.errors?pe.errorsText(ke.errors):""}`);return}s(!0),C("")}catch(pe){s(!1),C("Could not validate: "+(pe instanceof Error?pe.message:String(pe)))}finally{u(!1)}},R=de=>{const pe=de.target.value;d(pe),!pe.startsWith("https")&&!pe.startsWith("http:")&&pe.length>0?V("The endpoint must start with http or https."):V(""),ce(!1),q("")},D=de=>{const pe=de.target.value;x(pe),pe.length===0?H("The repository name is mandatory"):H(""),ce(!1),q("")},M=async()=>{await navigator.clipboard.writeText(G)},K=async()=>{window.open(k,"_blank","noopener,noreferrer")},ae=async()=>{const de=structuredClone(n);de["schema:mpn"]=f,de["schema:author"]={"schema:name":h},de["schema:manufacturer"]={"@type":"Organization","schema:name":m},de["schema:license"]=v,de["schema:copyrightYear"]=S,de["schema:copyrightHolder"]={"@type":"Organization","schema:name":E},await navigator.clipboard.writeText(JSON.stringify(de,null,2)),ie(!0)},fe=re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[re.jsx("h1",{className:"font-bold",children:"Add fields for Cataloging to ensure quality and discoverability of Thing Models"}),re.jsxs("div",{className:"px-4",children:[re.jsx(ns,{label:"Model*",placeholder:"The Manufacturer Part Number (MPN) of the product, or the product to which the offer refers.",id:"model",type:"text",value:f,onChange:de=>{c(de.target.value),s(!1),ce(!1)},autoFocus:!0}),re.jsx(ns,{label:"Author*",placeholder:"The organization writing the TM",id:"author",type:"text",value:h,onChange:de=>{g(de.target.value),s(!1),ce(!1)},autoFocus:!1}),re.jsx(ns,{label:"Manufacturer*",placeholder:"Manufacturer of the device",id:"manufacturer",type:"text",value:m,onChange:de=>{_(de.target.value),s(!1),ce(!1)},autoFocus:!1}),re.jsx(ns,{label:"License",placeholder:"URL of the license, e.g., https://www.apache.org/licenses/LICENSE-2.0.txt",id:"license",type:"text",value:v,onChange:de=>p(de.target.value),autoFocus:!1}),re.jsx(ns,{label:"Copyright Year",placeholder:"e.g. 2024...",id:"copyright",type:"text",value:S,onChange:de=>y(de.target.value),autoFocus:!1}),re.jsx(ns,{label:"Copyright Holder",placeholder:"Organization holding the copyright of the TM...",id:"holder",type:"text",value:E,onChange:de=>$(de.target.value),autoFocus:!1}),re.jsxs("div",{className:"flex flex-col",children:[re.jsx(jn,{id:"catalogValidation",onClick:Ne,variant:"primary",type:"button",className:"my-2 w-1/4",children:re.jsx("div",{className:"flex w-full items-center justify-between",children:l?re.jsxs(re.Fragment,{children:[re.jsx("span",{className:"pl-6",children:"Validating"}),re.jsx(Y_,{className:"animate-spin",size:20})]}):re.jsxs(re.Fragment,{children:[re.jsx("span",{className:"pl-6",children:"Validate"}),re.jsx(al,{tooltip:EU(),id:"validateTMContent"})]})})}),O&&re.jsxs("div",{className:"mb-2 mt-2 inline h-full w-full rounded bg-red-500 p-2 text-white",children:[re.jsx(Ym,{size:16,className:"mr-1 inline"}),O]}),a&&re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"mb-2 mt-2 inline h-10 rounded bg-green-500 p-2 text-white",children:[re.jsx(Xm,{size:16,className:"mr-1 inline"}),"TM is valid"]}),re.jsx(jn,{id:"copyThingModel",onClick:ae,variant:"primary",type:"button",className:"my-2",children:Z?"Copied Thing Model":"Click to Copy the full Thing Model"})]})]})]})]}),re.jsxs("div",{className:"my-4 rounded-md bg-black bg-opacity-80 p-2",children:[re.jsx("h1",{className:"font-bold",children:"Add the TM Catalog Endpoint and Repository URL"}),re.jsxs("div",{className:"px-4",children:[re.jsx(ns,{label:"TM Catalog Endpoint",placeholder:"TM Catalog Endpoint:...",id:"catalogEndpoint",type:"text",value:T,autoFocus:!1,onChange:R,className:`${F?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),F&&re.jsx("div",{className:"mt-1 text-sm text-red-500",children:F}),re.jsx(ns,{label:"Name of the Repository",placeholder:"In case there are multiple repositories hosted, specify which one with a string. Example: my-catalog",id:"urlRepository",type:"text",value:A,autoFocus:!1,onChange:D,className:`${Q?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),Q&&re.jsx("div",{className:"mt-1 text-sm text-red-500",children:Q}),re.jsxs("div",{className:"flex flex-col",children:[re.jsx(jn,{id:"submit",onClick:be,variant:"primary",type:"button",className:"mb-2 mt-2 w-1/4",children:"Submit"}),N&&re.jsxs("div",{className:"mb-2 mt-2 inline h-full w-full rounded bg-red-500 p-2 text-white",children:[re.jsx(Ym,{size:16,className:"mr-1 inline"}),N]}),X&&re.jsxs(re.Fragment,{children:[re.jsxs("div",{className:"mb-2 mt-2 inline h-10 rounded bg-green-500 p-2 text-white",children:[re.jsx(Xm,{size:16,className:"mr-1 inline"}),"TM submitted successfully!"]}),re.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[re.jsx("div",{className:"col-span-1 w-full",children:re.jsx(jn,{id:G,onClick:M,variant:"primary",type:"button",className:"w-3/4",children:re.jsxs("div",{className:"flex w-full items-center justify-between",children:[re.jsx("span",{children:"Copy TM id"}),re.jsx(DR,{size:20,className:"ml-2 cursor-pointer"})]})})}),re.jsx("h1",{className:"col-span-2 pl-4 text-center",children:G})]}),re.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[re.jsx("div",{className:"col-span-1",children:re.jsx(jn,{id:k,onClick:K,variant:"primary",type:"button",className:"w-3/4",children:re.jsxs("div",{className:"flex w-full items-center justify-between",children:[re.jsx("span",{children:"Open in new tab"}),re.jsx(FR,{size:20,className:"ml-2 inline cursor-pointer"})]})})}),re.jsx("h1",{className:"col-span-2 pl-4 text-center",children:k})]})]})]})]})]})]});return i?ys.createPortal(re.jsx(La,{onCancel:se,onSubmit:be,children:fe,hasSubmit:!1,cancelText:"Close",title:"Contribute your TM to a TM Catalog",description:"Fullfil the form below to contribute your TM to the Catalog specified in the endpoint at the end."}),document.getElementById("modal-root")):null});function lEe(e){const t=["https://www.w3.org/2022/wot/td/v1.1","https://www.w3.org/2019/wot/td/v1"],r="https://schema.org/";if(typeof e=="string"){if(t.includes(e))return[e,{schema:r}];throw new Error("validation schema is wrong")}if(Array.isArray(e)){const n=e.filter(o=>typeof o=="string"&&t.includes(o)),i=e.filter(o=>typeof o=="object"&&o!==null);if(n.length>0)if(i.length>0){const o=i.map(a=>"schema"in a?a:{schema:r,...a});return[...n,...o]}else return[...n,{schema:r}];return e}return e}qK.displayName="ContributeToCatalog";const VK=({isOpen:e,errorMessage:t,onClose:r})=>e?ys.createPortal(re.jsx(La,{title:"Error",description:t,onSubmit:r,submitText:"OK",className:"text-lg"}),document.getElementById("modal-root")):null,bu=({onClick:e,children:t})=>re.jsx("button",{className:"min-w-8 text-white hover:opacity-50",onClick:e,children:re.jsx("div",{className:"flex flex-col items-center justify-center gap-0.5",children:t})}),uEe="To contribute a Thing Model, please first load a Thing Model to be validated.",cEe='To contribute a Thing Model, the TM must have the following pair key/value:  "@type": "tm:ThingModel"  ',fEe=()=>{const e=Ce.useContext(pn),[t,r]=Je.useState(!1),[n,i]=Je.useState({state:!1,message:""}),o=Ce.useCallback(()=>e.isModified?window.confirm("Discard changes? All changes you made to your TD will be lost."):!0,[e.isModified]),a=Ce.useCallback(async()=>{if(o())try{const E=await xW(),$=`./${E.fileName}`;let T={};T[$]=E.fileHandle?E.fileHandle:JSON.parse(E.td),e.updateOfflineTD(E.td),e.updateIsModified(!1),e.setFileHandle(E.fileHandle||E.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(T)}catch(E){const $="Opening a new TD was canceled or an error occured.";console.error($,E),alert($)}},[e,o]),s=Ce.useCallback(async()=>{const E=e.parsedTD;if(!e.isValidJSON)return alert("Didn't save TD. The given TD can't even be parsed into a JSON object.");r(!0);const $=UW();if($===""){const T=await FL(e.name,e.fileHandle,e.offlineTD);e.setFileHandle(T??e.fileHandle)}else try{E.id?Mde(E,$):Lde(E,$)}catch(T){console.debug(T),alert("Didn't save TD. Please check if the provided target URL is correct and the intermediary / thing directory is working as intended.");return}e.updateIsModified(!1),r(!1)},[e]),l=Ce.useCallback(async()=>{try{const E=await FL(e.name,void 0,e.offlineTD);e.setFileHandle(E??e.fileHandle),e.updateIsModified(!1)}catch(E){console.debug(E),alert("Didn't save TD. The action was either canceled or ran into an error.")}},[e]),u=E=>async()=>{r(!0);const $=await E();return r(!1),console.log($),$};Ce.useEffect(()=>{const E=$=>{(window.navigator.platform.match("Mac")?$.metaKey:$.ctrlKey)&&$.key==="s"&&($.preventDefault(),$.stopPropagation(),u(s)()),(window.navigator.platform.match("Mac")?$.metaKey:$.ctrlKey)&&$.key==="o"&&($.preventDefault(),$.stopPropagation(),u(a)()),(window.navigator.platform.match("Mac")?$.metaKey:$.ctrlKey)&&$.key==="n"&&($.preventDefault(),$.stopPropagation(),_())};return document.addEventListener("keydown",E,!1),window.onbeforeunload=function($){var T="Important: Please click on 'Save' button to leave this page.";return typeof $>"u"&&($=window.event),$&&($.returnValue=T),T},()=>{document.removeEventListener("keydown",E,!1)}},[a,s]);const f=Je.useRef(null),c=()=>{var E;(E=f.current)==null||E.openModal()},h=Je.useRef(null),g=()=>{var E;(E=h.current)==null||E.openModal()},m=Je.useRef(null),_=()=>{var E;(E=m.current)==null||E.openModal()},v=Je.useRef(null),p=()=>{var E;(E=v.current)==null||E.openModal()},S=Je.useRef(null),y=()=>{var E,$;e.offlineTD?e.parsedTD["@type"]?((E=e.validationMessage)==null?void 0:E.report.schema)==="failed"?i({state:!0,message:"The Thing Model did not pass the JSON schema validation Please make sure the Thing Model is valid according to the JSON schema before contributing it to the catalog."}):($=S.current)==null||$.openModal():i({state:!0,message:cEe}):i({state:!0,message:uEe})};return re.jsxs(re.Fragment,{children:[re.jsxs("header",{className:"flex h-14 items-center justify-between bg-blue-500",children:[re.jsx("div",{className:"flex items-center",children:re.jsx("button",{className:"ml-4",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank"),children:re.jsx("img",{className:"min-w-36 max-w-36",src:kde,alt:"LOGO"})})}),re.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[t&&re.jsx("div",{className:"app-header-spinner hidden md:block"}),re.jsxs(bu,{onClick:y,children:[re.jsx(eN,{}),re.jsx("div",{className:"text-xs",children:"Contribute to Catalog"})]}),re.jsxs(bu,{onClick:g,children:[re.jsx(VR,{}),re.jsx("div",{className:"text-xs",children:"Share"})]}),re.jsx("div",{className:"hidden md:block",children:re.jsxs(bu,{onClick:u(s),children:[re.jsx(XR,{}),re.jsx("div",{className:"text-xs",children:"Save"})]})}),re.jsx("div",{className:"hidden md:block",children:re.jsxs(bu,{onClick:u(a),children:[re.jsx(zR,{}),re.jsx("div",{className:"text-xs",children:"Open"})]})}),re.jsxs(bu,{onClick:_,children:[re.jsx(BR,{}),re.jsx("div",{className:"text-xs",children:"Create"})]}),nU(e.parsedTD)&&re.jsxs(bu,{onClick:c,children:[re.jsx(UR,{}),re.jsx("div",{className:"text-xs",children:"To TD"})]}),re.jsxs(bu,{onClick:u(l),children:[re.jsx(MR,{}),re.jsx("div",{className:"text-xs",children:"Download"})]}),re.jsxs(bu,{onClick:p,children:[re.jsx(ZR,{}),re.jsx("div",{className:"text-xs",children:"Settings"})]})]})]}),re.jsx(zW,{ref:f}),re.jsx(BK,{ref:h}),re.jsx(qW,{ref:m}),re.jsx(VW,{ref:v}),re.jsx(qK,{ref:S}),re.jsx(VK,{isOpen:n.state,onClose:()=>i({state:!1,message:""}),errorMessage:n.message}),re.jsx("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),re.jsx("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}})]})};var HK=(e=>(e.BAR="BAR",e.SECTION="SECTION",e))(HK||{}),dEe=(e=>(e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate",e))(dEe||{}),WK={x:0,y:0};function hEe(e,t){return t?{x:e.x-t.x,y:e.y-t.y}:WK}function GK(){let e=[],t=0,r=0;return{collect(n){e.push(n),n.disableResponsive||(t+=1,r+=n.currentSize)},getResult(){return{sizeInfoArray:e,flexGrowRatio:t/r}}}}function Qs(e){return Number.isFinite(e)&&e>0}function KK(e,t,r,n){let{collect:i,getResult:o}=GK(),a=n?1:-1,s=Ey(e,t,a,r),l=Ey(e,-t,-a,r),u=t-s.remainingOffset,f=-t-l.remainingOffset;function c(h,g){h.forEach(i),i(r[e]),g.forEach(i)}if(u===-f)c(s.sizeInfoArray,l.sizeInfoArray);else if(Math.abs(u)<Math.abs(f)){let h=Ey(e,-u,-a,r);c(s.sizeInfoArray,h.sizeInfoArray)}else{let h=Ey(e,-f,a,r);c(h.sizeInfoArray,l.sizeInfoArray)}return o()}function Ey(e,t,r,n){let i=[],o=t;for(let l=e+r;s(l);l+=r)if(o){let{sizeInfo:u,remainingOffset:f}=pEe(o,n[l]);o=f,a(u)}else a(n[l]);function a(l){r===-1?i.unshift(l):i.push(l)}function s(l){return r===-1?l>=0:l<=n.length-1}return{sizeInfoArray:i,remainingOffset:o}}function pEe(e,t){if(t.isSolid)return{remainingOffset:e,sizeInfo:t};let{nextSize:r,remainingOffset:n}=mEe(t.currentSize+e,t);return{sizeInfo:{...t,currentSize:r},remainingOffset:n}}function mEe(e,{maxSize:t,minSize:r=0}){return e<r?{nextSize:r,remainingOffset:e-r}:Qs(t)&&e>t?{nextSize:t,remainingOffset:e-t}:{nextSize:e,remainingOffset:0}}var v$={barIndex:-1,offset:0,type:"deactivate",originalCoordinate:WK,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function gEe(e){let t=v$,r=new Set;return{dispatch(n){t=(()=>{let i={barIndex:n.barIndex,type:n.type};switch(n.type){case"activate":let{sizeInfoArray:o,flexGrowRatio:a}=e.getSizeRelatedInfo();return{...v$,...i,originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:a};case"move":let s=e.calculateOffset(n.coordinate,t.originalCoordinate);return{...i,...KK(n.barIndex,s,t.defaultSizeInfoArray,e.flipResizeMoveDirection),offset:s,originalCoordinate:t.originalCoordinate,defaultSizeInfoArray:t.defaultSizeInfoArray,discard:!1};case"deactivate":return v$}})(),r.forEach(i=>i(t))},subscribe(n){return r.add(n),()=>r.delete(n)},unsubscribeAll(){r.clear()}}}function mg(e,t,r){e==null||e.dispatchEvent(new CustomEvent(t,{detail:r}))}var vEe=class{constructor(){Jn(this,"disposeFnSet",new Set);Jn(this,"watchResizerEvent",(t,r,n)=>{t==null||t.addEventListener(r,n);let i=()=>t==null?void 0:t.removeEventListener(r,n);return this.disposeFnSet.add(i),i});Jn(this,"reset",()=>{this.disposeFnSet.forEach(t=>t()),this.disposeFnSet.clear()})}},yEe=class{constructor(){Jn(this,"infoMap",new Map);Jn(this,"items",[])}update(t){this.infoMap.clear(),this.items.forEach(r=>r.destroy()),this.items=t,t.forEach((r,n)=>{this.infoMap.set(r.elm,{item:r,index:n})})}reset(){this.update([])}getItems(){return this.items}getItem(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.item)??null}getItemIndex(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.index)??null}},RP=!0;try{window.addEventListener("test",null,{get passive(){return RP={passive:!1},!0}})}catch{}function JK({size:e}){return Qs(e)}function wEe(e){let{disableResponsive:t}=e;return JK(e)&&t===void 0?!0:!!t}function bEe(e){return!!e&&e in HK}function y3(e){return t=>({"data-item-type":e,"data-item-config":JSON.stringify(t)})}function _Ee(e){return Array.from(e.childNodes).map(t=>{if(!(t instanceof HTMLElement))return null;let r=t.getAttribute("data-item-type");return bEe(r)?{type:r,elm:t}:null}).filter(t=>!!t)}function YK({elm:e}){try{let t=JSON.parse(e.getAttribute("data-item-config")??"");return t&&typeof t=="object"?t:{}}catch{return{}}}function w3(e){return e*2+1}function y$(e){return e*2}var b3=class{constructor(e){Jn(this,"isDiscarded",!1);this.resizeResult=e}resizeSection(e,t){if(this.isDiscarded)return;let r=y$(e),n=this.getSize(r);if(n>=0&&t.toSize>=0){let i=t.toSize-n;r===this.resizeResult.sizeInfoArray.length-1||t.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-i}):this.moveBar(e,{withOffset:i})}}moveBar(e,t){this.isDiscarded||(this.resizeResult=KK(w3(e),t.withOffset,this.resizeResult.sizeInfoArray,void 0))}discard(){this.isDiscarded=!0}isSectionResized(e){let t=y$(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(t)!==this.resizeResult.defaultSizeInfoArray[t].currentSize:!1}isBarActivated(e){return"barIndex"in this.resizeResult?this.resizeResult.barIndex===w3(e):!1}getSectionSize(e){return this.getSize(y$(e))}getResult(){return{...this.resizeResult,discard:this.isDiscarded}}getTotalSize(){return this.resizeResult.sizeInfoArray.filter((e,t)=>e&&t%2===0).reduce((e,{currentSize:t})=>e+t,0)}getSize(e){let t=this.resizeResult.sizeInfoArray[e];return t?t.currentSize:-1}},XK=class{constructor(e,t,r){Jn(this,"_config");Jn(this,"_observer");this.type=e,this.elm=t,this.getConfig=r,this._config=this.getConfig(),this._observer=new MutationObserver(()=>this._config=this.getConfig()),this._observer.observe(t,{attributes:!0,attributeFilter:["data-item-config"]})}get config(){return this._config}destroy(){this._observer.disconnect()}},Sy=class extends XK{constructor(t,r){super("BAR",t.elm,()=>EEe(t));Jn(this,"isActive",!1);Jn(this,"isValidClick",!0);this.dispatchBarAction=r;let n=[this.attachListener(this.elm,"mousedown","activate"),this.attachListener(document,"mousemove","move"),this.attachListener(document,"mouseup","deactivate"),this.attachListener(this.elm,"touchstart","activate",RP),this.attachListener(document,"touchmove","move",RP),this.attachListener(document,"touchend","deactivate"),this.attachListener(document,"touchcancel","deactivate")];this.destroy=()=>{super.destroy(),n.forEach(i=>i())}}static getStyle({size:t}){return{flex:`0 0 ${t}px`}}attachListener(t,r,n,i){let o=a=>{this.disableUserSelectIfResizing(a,n);let{clientX:s,clientY:l}=("touches"in a?a.touches[0]:a)||{clientX:0,clientY:0};this.triggerAction(this.elm,n,{x:s,y:l})};return t.addEventListener(r,o,i),()=>t.removeEventListener(r,o,i)}disableUserSelectIfResizing(t,r){(this.isActive||r==="activate")&&t.preventDefault()}triggerAction(t,r,n){(this.isActive||r==="activate")&&this.dispatchBarAction(t,{type:r,coordinate:n}),this.isActive&&this.isValidClick&&r==="deactivate"&&(this.isValidClick=!1,mg(t,"bar:click",null)),this.updateStatusIfNeed(t,r),this.updateClickStatus(r)}updateStatusIfNeed(t,r){let n=i=>{this.isActive!==i&&(this.isActive=i,mg(t,"bar:status-change",{isActive:i}))};r==="activate"?n(!0):r==="deactivate"&&n(!1)}updateClickStatus(t){this.isActive&&(t==="activate"?this.isValidClick=!0:t==="move"&&(this.isValidClick=!1))}};function EEe(e){let{size:t}=YK(e);return{size:Qs(t)?t:10}}var Ip=class extends XK{constructor(t){super("SECTION",t.elm,()=>SEe(t));Jn(this,"sizeInfo",null);Jn(this,"flexGrowRatio",0);this.updateStyle()}static getStyle({maxSize:t,minSize:r},n){let i=o=>Qs(o)?`${o}px`:void 0;return{overflow:"hidden",[n?"maxHeight":"maxWidth"]:i(t),[n?"minHeight":"minWidth"]:i(r)}}update({sizeInfo:t,flexGrowRatio:r}){this.sizeInfo=t,this.flexGrowRatio=r,this.updateStyle(),mg(this.elm,"section:size-change",{size:t.currentSize})}updateStyle(){let{flexGrow:t,flexShrink:r,flexBasis:n}=this.getStyle();this.elm.style.flexGrow=`${t}`,this.elm.style.flexShrink=`${r}`,this.elm.style.flexBasis=`${n}px`}getStyle(){let t=Qs(this.config.size)?0:this.config.disableResponsive?1:0;if(this.sizeInfo){let{disableResponsive:r,currentSize:n}=this.sizeInfo;return{flexShrink:t,flexGrow:r?0:this.flexGrowRatio*n,flexBasis:r?n:0}}else{let r=this.config.size||this.config.defaultSize;return Qs(r)?{flexShrink:t,flexGrow:0,flexBasis:r}:{flexShrink:t,flexGrow:1,flexBasis:0}}}};function SEe(e){let{size:t,defaultSize:r,maxSize:n,minSize:i,disableResponsive:o}=YK(e);return{size:Qs(t)?t:void 0,defaultSize:Qs(r)?r:void 0,maxSize:Qs(n)?n:void 0,minSize:Qs(i)?i:void 0,disableResponsive:!!o}}var $Ee=class{constructor(e){Jn(this,"styles",{container:e=>({...e,display:"flex",flexDirection:this.direction}),section:(e,t)=>({...t,...Ip.getStyle(e,this.config.vertical)}),bar:(e,t)=>({...t,...Sy.getStyle(e)})});Jn(this,"attributes",{bar:y3("BAR"),section:y3("SECTION")});Jn(this,"itemsCache",new yEe);Jn(this,"eventHub",new vEe);Jn(this,"container",null);Jn(this,"barStore");Jn(this,"dispatchBarAction",(e,t)=>{let r=this.itemsCache.getItemIndex(e);r&&this.barStore.dispatch({...t,barIndex:r})});this.config=e,this.barStore=gEe({calculateOffset:(t,r)=>hEe(t,r)[this.axis],getSizeRelatedInfo:()=>this.makeSizeInfos(),flipResizeMoveDirection:e.rtl&&!e.vertical})}get axis(){return this.config.vertical?"y":"x"}get dimension(){return this.config.vertical?"height":"width"}get direction(){return this.config.vertical?"column":"row"}get on(){return this.eventHub.watchResizerEvent}init(e){this.dispose(),this.container=e,e&&(this.itemsCache.update(_Ee(e).map(t=>{switch(t.type){case"BAR":return new Sy(t,this.dispatchBarAction);case"SECTION":return new Ip(t)}})),this.initStyles(e,this.itemsCache.getItems()),this.sizeRelatedInfoChange(this.makeSizeInfos()),this.barStore.subscribe(t=>{this.monitorBarStatusChanges(t),this.sizeRelatedInfoChange(t)}))}dispose(){this.container=null,this.itemsCache.reset(),this.barStore.unsubscribeAll(),this.eventHub.reset()}getResizer(){return new b3(this.makeSizeInfos())}applyResizer(e){this.sizeRelatedInfoChange(e.getResult())}sizeRelatedInfoChange(e){e.discard||(e=(()=>{if(typeof this.config.beforeApplyResizer=="function"){let t=new b3(e);return this.config.beforeApplyResizer(t),t.getResult()}else return e})(),!e.discard&&e.sizeInfoArray.forEach(t=>{let r=this.itemsCache.getItem(t.elm);r instanceof Ip&&r.update({sizeInfo:t,flexGrowRatio:e.flexGrowRatio})}))}monitorBarStatusChanges({type:e}){switch(e){case"activate":return mg(this.container,"column:activate",null);case"deactivate":return mg(this.container,"column:after-resizing",null);default:return}}makeSizeInfos(){let{collect:e,getResult:t}=GK();return this.itemsCache.getItems().forEach(r=>{r instanceof Sy&&e({elm:r.elm,disableResponsive:!0,isSolid:!0,currentSize:r.elm.getBoundingClientRect()[this.dimension]}),r instanceof Ip&&e({elm:r.elm,maxSize:r.config.maxSize,minSize:r.config.minSize,disableResponsive:wEe(r.config),isSolid:JK(r.config),currentSize:r.elm.getBoundingClientRect()[this.dimension]})}),t()}initStyles(e,t){Object.assign(e.style,this.styles.container()),t.forEach(r=>{r instanceof Sy&&Object.assign(r.elm.style,this.styles.bar(r.config)),r instanceof Ip&&Object.assign(r.elm.style,this.styles.section(r.config))})}},QK=Ce.createContext(null),TEe=typeof window=="object"?Je.useLayoutEffect:Je.useEffect;function AEe({vertical:e,rtl:t,beforeApplyResizer:r}){let n=ZK(r);return Je.useMemo(()=>new $Ee({vertical:e,beforeApplyResizer:n,rtl:t}),[e,n,t])}function E2(){return Je.useContext(QK)}function gg(e,t,r){let n=E2(),i=ZK(r);Je.useEffect(()=>n.on(e.current,t,o=>i(o)),[n,t,e,i])}function S2(e,t){let r=Je.useRef(e);return Je.useImperativeHandle(t,()=>r.current),r}function ZK(e){let t=Je.useRef(e);return t.current=e,Je.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[t])}function xEe({hooks:e,params:t,children:r}){let n=e(...t);return Je.createElement(Je.Fragment,null,r(n))}function OEe(e,{onActivate:t,afterResizing:r}){gg(e,"column:activate",t),gg(e,"column:after-resizing",r)}var PEe=Ce.forwardRef(({vertical:e=!1,rtl:t=!1,onActivate:r,beforeApplyResizer:n,afterResizing:i,columnResizerRef:o,style:a,...s},l)=>{let u=S2(null,l),f=AEe({vertical:e,rtl:t,beforeApplyResizer:n});return TEe(()=>(f.init(u.current),()=>f.dispose()),[f]),Ce.useImperativeHandle(o,()=>f,[f]),Ce.createElement(QK.Provider,{value:f},Ce.createElement(xEe,{hooks:OEe,params:[u,{onActivate:r,afterResizing:i}]},()=>Ce.createElement("div",{ref:u,...s,style:f.styles.container(a)})))}),_3=Ce.forwardRef(({defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i,onSizeChanged:o,style:a,...s},l)=>{let u=S2(null,l),f=E2(),c={defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i};return gg(u,"section:size-change",h=>o==null?void 0:o(h.detail.size)),Ce.createElement("div",{ref:u,...s,style:f.styles.section(c,a),...f.attributes.section(c)})}),REe=Ce.forwardRef(({top:e=0,right:t=0,bottom:r=0,left:n=0,vertical:i,style:o,...a},s)=>{let l=Ce.useMemo(()=>({position:"absolute",top:-e,left:-n,right:-t,bottom:-r,WebkitTapHighlightColor:"transparent",userSelect:"none",...o}),[o,e,n,t,r,i]);return Ce.createElement("div",{...a,style:l,ref:s})}),NEe=Ce.forwardRef(({children:e,onClick:t,expandInteractiveArea:r,onStatusChanged:n,style:i,size:o=10,...a},s)=>{let l=E2(),u=S2(null,s),f={size:o};return gg(u,"bar:click",()=>t==null?void 0:t()),gg(u,"bar:status-change",c=>n==null?void 0:n(c.detail.isActive)),Ce.createElement("div",{ref:u,...a,style:l.styles.bar(f,{...i,position:"relative"}),...l.attributes.bar(f)},e,Ce.createElement(REe,{...r,vertical:l.config.vertical}))});const IEe=()=>re.jsx(FX,{children:re.jsx(jEe,{})});let E3=!1;const jEe=()=>{const e=Ce.useContext(pn),t=Ce.useRef(null),[r,n]=Ce.useState(!1),[i,o]=Ce.useState({state:!1,message:""}),a=f=>{o({state:!0,message:f})},s=()=>{t.current&&t.current.trigger("keyboard","undo",null)},l=()=>{t.current&&t.current.trigger("keyboard","redo",null)},u=()=>{n(f=>!f)};return Ce.useEffect(()=>{if(E3||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("proxyEndpoint")<=-1&&window.location.search.indexOf("localstorage")<=-1&&window.location.search.indexOf("southboundTdId")<=-1)return;E3=!0;const f=new URL(window.location.href),c=f.searchParams.get("td");if(c!==null){const m=cbe(c);if(m===void 0){a("The lz compressed TD found in the URL couldn't be reconstructed.");return}e.updateOfflineTD(JSON.stringify(m,null,2))}const h=f.searchParams.get("proxyEndpoint"),g=f.searchParams.get("southboundTdId");if(g!==null&&Fde(g,h).then(m=>{if(!m===void 0){alert(`No Thing Description with id '${g} could be fetched from the proxy.`);return}e.updateOfflineTD(JSON.stringify(m,null,2))}).catch(()=>{a(`Error unable to fetch TD from proxy: ${h}`)}),f.searchParams.has("localstorage")){let m=localStorage.getItem("td");if(!m){a("Request to read TD from local storage failed.");return}try{m=JSON.parse(m),e.updateOfflineTD(JSON.stringify(m,null,2))}catch(_){e.updateOfflineTD(m),a(`Tried to JSON parse the TD from local storage, but failed: ${_}`)}}},[e]),re.jsxs("main",{className:"flex max-h-screen w-screen flex-col",children:[re.jsx(fEe,{}),re.jsx("div",{className:"",children:re.jsxs(PEe,{className:"height-adjust flex flex-col md:flex-row",children:[re.jsx(_3,{minSize:550,className:"w-full min-w-16 md:w-7/12",children:re.jsx(Ide,{onUndo:s,onRedo:l})}),re.jsx(NEe,{size:7.5,className:"cursor-col-resize bg-gray-300 hover:bg-blue-500"}),re.jsx(_3,{className:"w-full md:w-5/12",children:re.jsx(Q5,{editorRef:t})}),re.jsx(jn,{type:"button",className:"fixed bottom-12 right-2 z-10 rounded-full bg-blue-500 p-4",onClick:u,variant:"empty",children:re.jsx(Y_,{color:"white"})})]})}),re.jsx("div",{className:"fixed bottom-0 w-screen",children:re.jsx(jde,{})}),re.jsx("div",{id:"modal-root"}),re.jsx(VK,{isOpen:i.state,onClose:()=>o({state:!1,message:""}),errorMessage:i.message})]})},CEe=()=>null,kEe=w$.createRoot(document.getElementById("root"));kEe.render(re.jsxs(Je.StrictMode,{children:[re.jsx(IEe,{}),re.jsx(CEe,{})]}));
