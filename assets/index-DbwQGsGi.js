var doe=Object.defineProperty;var hoe=(e,t,r)=>t in e?doe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Li=(e,t,r)=>hoe(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Q6={exports:{}},E1={},Z6={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=Symbol.for("react.element"),poe=Symbol.for("react.portal"),moe=Symbol.for("react.fragment"),goe=Symbol.for("react.strict_mode"),voe=Symbol.for("react.profiler"),yoe=Symbol.for("react.provider"),woe=Symbol.for("react.context"),boe=Symbol.for("react.forward_ref"),_oe=Symbol.for("react.suspense"),Eoe=Symbol.for("react.memo"),Soe=Symbol.for("react.lazy"),eF=Symbol.iterator;function Toe(e){return e===null||typeof e!="object"?null:(e=eF&&e[eF]||e["@@iterator"],typeof e=="function"?e:null)}var eq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tq=Object.assign,rq={};function tg(e,t,r){this.props=e,this.context=t,this.refs=rq,this.updater=r||eq}tg.prototype.isReactComponent={};tg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nq(){}nq.prototype=tg.prototype;function $C(e,t,r){this.props=e,this.context=t,this.refs=rq,this.updater=r||eq}var xC=$C.prototype=new nq;xC.constructor=$C;tq(xC,tg.prototype);xC.isPureReactComponent=!0;var tF=Array.isArray,iq=Object.prototype.hasOwnProperty,AC={current:null},oq={key:!0,ref:!0,__self:!0,__source:!0};function sq(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)iq.call(t,n)&&!oq.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Vy,type:e,key:o,ref:s,props:i,_owner:AC.current}}function $oe(e,t){return{$$typeof:Vy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function OC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vy}function xoe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rF=/\/+/g;function X$(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xoe(""+e.key):t.toString(36)}function gb(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vy:case poe:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+X$(s,0):n,tF(i)?(r="",e!=null&&(r=e.replace(rF,"$&/")+"/"),gb(i,t,r,"",function(u){return u})):i!=null&&(OC(i)&&(i=$oe(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(rF,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",tF(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+X$(o,a);s+=gb(o,t,r,l,i)}else if(l=Toe(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+X$(o,a++),s+=gb(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function nw(e,t,r){if(e==null)return e;var n=[],i=0;return gb(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Aoe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bs={current:null},vb={transition:null},Ooe={ReactCurrentDispatcher:bs,ReactCurrentBatchConfig:vb,ReactCurrentOwner:AC};function aq(){throw Error("act(...) is not supported in production builds of React.")}rn.Children={map:nw,forEach:function(e,t,r){nw(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nw(e,function(){t++}),t},toArray:function(e){return nw(e,function(t){return t})||[]},only:function(e){if(!OC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rn.Component=tg;rn.Fragment=moe;rn.Profiler=voe;rn.PureComponent=$C;rn.StrictMode=goe;rn.Suspense=_oe;rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ooe;rn.act=aq;rn.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tq({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=AC.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)iq.call(t,l)&&!oq.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Vy,type:e.type,key:i,ref:o,props:n,_owner:s}};rn.createContext=function(e){return e={$$typeof:woe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yoe,_context:e},e.Consumer=e};rn.createElement=sq;rn.createFactory=function(e){var t=sq.bind(null,e);return t.type=e,t};rn.createRef=function(){return{current:null}};rn.forwardRef=function(e){return{$$typeof:boe,render:e}};rn.isValidElement=OC;rn.lazy=function(e){return{$$typeof:Soe,_payload:{_status:-1,_result:e},_init:Aoe}};rn.memo=function(e,t){return{$$typeof:Eoe,type:e,compare:t===void 0?null:t}};rn.startTransition=function(e){var t=vb.transition;vb.transition={};try{e()}finally{vb.transition=t}};rn.unstable_act=aq;rn.useCallback=function(e,t){return bs.current.useCallback(e,t)};rn.useContext=function(e){return bs.current.useContext(e)};rn.useDebugValue=function(){};rn.useDeferredValue=function(e){return bs.current.useDeferredValue(e)};rn.useEffect=function(e,t){return bs.current.useEffect(e,t)};rn.useId=function(){return bs.current.useId()};rn.useImperativeHandle=function(e,t,r){return bs.current.useImperativeHandle(e,t,r)};rn.useInsertionEffect=function(e,t){return bs.current.useInsertionEffect(e,t)};rn.useLayoutEffect=function(e,t){return bs.current.useLayoutEffect(e,t)};rn.useMemo=function(e,t){return bs.current.useMemo(e,t)};rn.useReducer=function(e,t,r){return bs.current.useReducer(e,t,r)};rn.useRef=function(e){return bs.current.useRef(e)};rn.useState=function(e){return bs.current.useState(e)};rn.useSyncExternalStore=function(e,t,r){return bs.current.useSyncExternalStore(e,t,r)};rn.useTransition=function(){return bs.current.useTransition()};rn.version="18.3.1";Z6.exports=rn;var Pe=Z6.exports;const ct=Wu(Pe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Poe=Pe,Roe=Symbol.for("react.element"),Noe=Symbol.for("react.fragment"),Ioe=Object.prototype.hasOwnProperty,Coe=Poe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,koe={key:!0,ref:!0,__self:!0,__source:!0};function lq(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Ioe.call(t,n)&&!koe.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Roe,type:e,key:o,ref:s,props:i,_owner:Coe.current}}E1.Fragment=Noe;E1.jsx=lq;E1.jsxs=lq;Q6.exports=E1;var Q=Q6.exports,fO={},uq={exports:{}},Sa={},cq={exports:{}},fq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,le){var F=re.length;re.push(le);e:for(;0<F;){var z=F-1>>>1,J=re[z];if(0<i(J,le))re[z]=le,re[F]=J,F=z;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var le=re[0],F=re.pop();if(F!==le){re[0]=F;e:for(var z=0,J=re.length,R=J>>>1;z<R;){var C=2*(z+1)-1,q=re[C],oe=C+1,X=re[oe];if(0>i(q,F))oe<J&&0>i(X,q)?(re[z]=X,re[oe]=F,z=oe):(re[z]=q,re[C]=F,z=C);else if(oe<J&&0>i(X,F))re[z]=X,re[oe]=F,z=oe;else break e}}return le}function i(re,le){var F=re.sortIndex-le.sortIndex;return F!==0?F:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,c=null,p=3,m=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(re){for(var le=r(u);le!==null;){if(le.callback===null)n(u);else if(le.startTime<=re)n(u),le.sortIndex=le.expirationTime,t(l,le);else break;le=r(u)}}function S(re){if(_=!1,y(re),!g)if(r(l)!==null)g=!0,ne(T);else{var le=r(u);le!==null&&fe(S,le.startTime-re)}}function T(re,le){g=!1,_&&(_=!1,h($),$=-1),m=!0;var F=p;try{for(y(le),c=r(l);c!==null&&(!(c.expirationTime>le)||re&&!k());){var z=c.callback;if(typeof z=="function"){c.callback=null,p=c.priorityLevel;var J=z(c.expirationTime<=le);le=e.unstable_now(),typeof J=="function"?c.callback=J:c===r(l)&&n(l),y(le)}else n(l);c=r(l)}if(c!==null)var R=!0;else{var C=r(u);C!==null&&fe(S,C.startTime-le),R=!1}return R}finally{c=null,p=F,m=!1}}var x=!1,d=null,$=-1,O=5,P=-1;function k(){return!(e.unstable_now()-P<O)}function B(){if(d!==null){var re=e.unstable_now();P=re;var le=!0;try{le=d(!0,re)}finally{le?K():(x=!1,d=null)}}else x=!1}var K;if(typeof E=="function")K=function(){E(B)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,W=ie.port2;ie.port1.onmessage=B,K=function(){W.postMessage(null)}}else K=function(){v(B,0)};function ne(re){d=re,x||(x=!0,K())}function fe(re,le){$=v(function(){re(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,ne(T))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(re){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var F=p;p=le;try{return re()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var F=p;p=re;try{return le()}finally{p=F}},e.unstable_scheduleCallback=function(re,le,F){var z=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,re={id:f++,callback:le,priorityLevel:re,startTime:F,expirationTime:J,sortIndex:-1},F>z?(re.sortIndex=F,t(u,re),r(l)===null&&re===r(u)&&(_?(h($),$=-1):_=!0,fe(S,F-z))):(re.sortIndex=J,t(l,re),g||m||(g=!0,ne(T))),re},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(re){var le=p;return function(){var F=p;p=le;try{return re.apply(this,arguments)}finally{p=F}}}})(fq);cq.exports=fq;var joe=cq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Doe=Pe,Ea=joe;function Bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dq=new Set,sy={};function Qh(e,t){Mm(e,t),Mm(e+"Capture",t)}function Mm(e,t){for(sy[e]=t,e=0;e<t.length;e++)dq.add(t[e])}var Cc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dO=Object.prototype.hasOwnProperty,Moe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nF={},iF={};function Loe(e){return dO.call(iF,e)?!0:dO.call(nF,e)?!1:Moe.test(e)?iF[e]=!0:(nF[e]=!0,!1)}function Foe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Boe(e,t,r,n){if(t===null||typeof t>"u"||Foe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _s(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var xo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xo[e]=new _s(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xo[t]=new _s(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xo[e]=new _s(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xo[e]=new _s(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xo[e]=new _s(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xo[e]=new _s(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xo[e]=new _s(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xo[e]=new _s(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xo[e]=new _s(e,5,!1,e.toLowerCase(),null,!1,!1)});var PC=/[\-:]([a-z])/g;function RC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PC,RC);xo[t]=new _s(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PC,RC);xo[t]=new _s(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PC,RC);xo[t]=new _s(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xo[e]=new _s(e,1,!1,e.toLowerCase(),null,!1,!1)});xo.xlinkHref=new _s("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xo[e]=new _s(e,1,!1,e.toLowerCase(),null,!0,!0)});function NC(e,t,r,n){var i=xo.hasOwnProperty(t)?xo[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Boe(t,r,i,n)&&(r=null),n||i===null?Loe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zc=Doe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iw=Symbol.for("react.element"),Qp=Symbol.for("react.portal"),Zp=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),hO=Symbol.for("react.profiler"),hq=Symbol.for("react.provider"),pq=Symbol.for("react.context"),CC=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),mO=Symbol.for("react.suspense_list"),kC=Symbol.for("react.memo"),kf=Symbol.for("react.lazy"),mq=Symbol.for("react.offscreen"),oF=Symbol.iterator;function Mg(e){return e===null||typeof e!="object"?null:(e=oF&&e[oF]||e["@@iterator"],typeof e=="function"?e:null)}var yi=Object.assign,Q$;function av(e){if(Q$===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Q$=t&&t[1]||""}return`
`+Q$+e}var Z$=!1;function ex(e,t){if(!e||Z$)return"";Z$=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Z$=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?av(e):""}function Uoe(e){switch(e.tag){case 5:return av(e.type);case 16:return av("Lazy");case 13:return av("Suspense");case 19:return av("SuspenseList");case 0:case 2:case 15:return e=ex(e.type,!1),e;case 11:return e=ex(e.type.render,!1),e;case 1:return e=ex(e.type,!0),e;default:return""}}function gO(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zp:return"Fragment";case Qp:return"Portal";case hO:return"Profiler";case IC:return"StrictMode";case pO:return"Suspense";case mO:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pq:return(e.displayName||"Context")+".Consumer";case hq:return(e._context.displayName||"Context")+".Provider";case CC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kC:return t=e.displayName||null,t!==null?t:gO(e.type)||"Memo";case kf:t=e._payload,e=e._init;try{return gO(e(t))}catch{}}return null}function zoe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gO(t);case 8:return t===IC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gq(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qoe(e){var t=gq(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ow(e){e._valueTracker||(e._valueTracker=qoe(e))}function vq(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gq(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function QE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vO(e,t){var r=t.checked;return yi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sF(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=sd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yq(e,t){t=t.checked,t!=null&&NC(e,"checked",t,!1)}function yO(e,t){yq(e,t);var r=sd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wO(e,t.type,r):t.hasOwnProperty("defaultValue")&&wO(e,t.type,sd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aF(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wO(e,t,r){(t!=="number"||QE(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lv=Array.isArray;function gm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+sd(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bO(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Bt(91));return yi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lF(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Bt(92));if(lv(r)){if(1<r.length)throw Error(Bt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:sd(r)}}function wq(e,t){var r=sd(t.value),n=sd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function uF(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bq(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _O(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bq(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sw,_q=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sw=sw||document.createElement("div"),sw.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sw.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ay(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Iv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Voe=["Webkit","ms","Moz","O"];Object.keys(Iv).forEach(function(e){Voe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Iv[t]=Iv[e]})});function Eq(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Iv.hasOwnProperty(e)&&Iv[e]?(""+t).trim():t+"px"}function Sq(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Eq(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Hoe=yi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function EO(e,t){if(t){if(Hoe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Bt(62))}}function SO(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TO=null;function jC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $O=null,vm=null,ym=null;function cF(e){if(e=Gy(e)){if(typeof $O!="function")throw Error(Bt(280));var t=e.stateNode;t&&(t=A1(t),$O(e.stateNode,e.type,t))}}function Tq(e){vm?ym?ym.push(e):ym=[e]:vm=e}function $q(){if(vm){var e=vm,t=ym;if(ym=vm=null,cF(e),t)for(e=0;e<t.length;e++)cF(t[e])}}function xq(e,t){return e(t)}function Aq(){}var tx=!1;function Oq(e,t,r){if(tx)return e(t,r);tx=!0;try{return xq(e,t,r)}finally{tx=!1,(vm!==null||ym!==null)&&(Aq(),$q())}}function ly(e,t){var r=e.stateNode;if(r===null)return null;var n=A1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Bt(231,t,typeof r));return r}var xO=!1;if(Cc)try{var Lg={};Object.defineProperty(Lg,"passive",{get:function(){xO=!0}}),window.addEventListener("test",Lg,Lg),window.removeEventListener("test",Lg,Lg)}catch{xO=!1}function Woe(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Cv=!1,ZE=null,eS=!1,AO=null,Goe={onError:function(e){Cv=!0,ZE=e}};function Koe(e,t,r,n,i,o,s,a,l){Cv=!1,ZE=null,Woe.apply(Goe,arguments)}function Joe(e,t,r,n,i,o,s,a,l){if(Koe.apply(this,arguments),Cv){if(Cv){var u=ZE;Cv=!1,ZE=null}else throw Error(Bt(198));eS||(eS=!0,AO=u)}}function Zh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pq(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fF(e){if(Zh(e)!==e)throw Error(Bt(188))}function Yoe(e){var t=e.alternate;if(!t){if(t=Zh(e),t===null)throw Error(Bt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return fF(i),e;if(o===n)return fF(i),t;o=o.sibling}throw Error(Bt(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(Bt(189))}}if(r.alternate!==n)throw Error(Bt(190))}if(r.tag!==3)throw Error(Bt(188));return r.stateNode.current===r?e:t}function Rq(e){return e=Yoe(e),e!==null?Nq(e):null}function Nq(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nq(e);if(t!==null)return t;e=e.sibling}return null}var Iq=Ea.unstable_scheduleCallback,dF=Ea.unstable_cancelCallback,Xoe=Ea.unstable_shouldYield,Qoe=Ea.unstable_requestPaint,Ci=Ea.unstable_now,Zoe=Ea.unstable_getCurrentPriorityLevel,DC=Ea.unstable_ImmediatePriority,Cq=Ea.unstable_UserBlockingPriority,tS=Ea.unstable_NormalPriority,ese=Ea.unstable_LowPriority,kq=Ea.unstable_IdlePriority,S1=null,Bu=null;function tse(e){if(Bu&&typeof Bu.onCommitFiberRoot=="function")try{Bu.onCommitFiberRoot(S1,e,void 0,(e.current.flags&128)===128)}catch{}}var Gl=Math.clz32?Math.clz32:ise,rse=Math.log,nse=Math.LN2;function ise(e){return e>>>=0,e===0?32:31-(rse(e)/nse|0)|0}var aw=64,lw=4194304;function uv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rS(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=uv(a):(o&=s,o!==0&&(n=uv(o)))}else s=r&~i,s!==0?n=uv(s):o!==0&&(n=uv(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gl(t),i=1<<r,n|=e[r],t&=~i;return n}function ose(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sse(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Gl(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=ose(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function OO(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jq(){var e=aw;return aw<<=1,!(aw&4194240)&&(aw=64),e}function rx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gl(t),e[t]=r}function ase(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Gl(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function MC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ln=0;function Dq(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mq,LC,Lq,Fq,Bq,PO=!1,uw=[],Kf=null,Jf=null,Yf=null,uy=new Map,cy=new Map,Mf=[],lse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hF(e,t){switch(e){case"focusin":case"focusout":Kf=null;break;case"dragenter":case"dragleave":Jf=null;break;case"mouseover":case"mouseout":Yf=null;break;case"pointerover":case"pointerout":uy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cy.delete(t.pointerId)}}function Fg(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Gy(t),t!==null&&LC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function use(e,t,r,n,i){switch(t){case"focusin":return Kf=Fg(Kf,e,t,r,n,i),!0;case"dragenter":return Jf=Fg(Jf,e,t,r,n,i),!0;case"mouseover":return Yf=Fg(Yf,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return uy.set(o,Fg(uy.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,cy.set(o,Fg(cy.get(o)||null,e,t,r,n,i)),!0}return!1}function Uq(e){var t=vh(e.target);if(t!==null){var r=Zh(t);if(r!==null){if(t=r.tag,t===13){if(t=Pq(r),t!==null){e.blockedOn=t,Bq(e.priority,function(){Lq(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=RO(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);TO=n,r.target.dispatchEvent(n),TO=null}else return t=Gy(r),t!==null&&LC(t),e.blockedOn=r,!1;t.shift()}return!0}function pF(e,t,r){yb(e)&&r.delete(t)}function cse(){PO=!1,Kf!==null&&yb(Kf)&&(Kf=null),Jf!==null&&yb(Jf)&&(Jf=null),Yf!==null&&yb(Yf)&&(Yf=null),uy.forEach(pF),cy.forEach(pF)}function Bg(e,t){e.blockedOn===t&&(e.blockedOn=null,PO||(PO=!0,Ea.unstable_scheduleCallback(Ea.unstable_NormalPriority,cse)))}function fy(e){function t(i){return Bg(i,e)}if(0<uw.length){Bg(uw[0],e);for(var r=1;r<uw.length;r++){var n=uw[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kf!==null&&Bg(Kf,e),Jf!==null&&Bg(Jf,e),Yf!==null&&Bg(Yf,e),uy.forEach(t),cy.forEach(t),r=0;r<Mf.length;r++)n=Mf[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mf.length&&(r=Mf[0],r.blockedOn===null);)Uq(r),r.blockedOn===null&&Mf.shift()}var wm=zc.ReactCurrentBatchConfig,nS=!0;function fse(e,t,r,n){var i=Ln,o=wm.transition;wm.transition=null;try{Ln=1,FC(e,t,r,n)}finally{Ln=i,wm.transition=o}}function dse(e,t,r,n){var i=Ln,o=wm.transition;wm.transition=null;try{Ln=4,FC(e,t,r,n)}finally{Ln=i,wm.transition=o}}function FC(e,t,r,n){if(nS){var i=RO(e,t,r,n);if(i===null)dx(e,t,n,iS,r),hF(e,n);else if(use(i,e,t,r,n))n.stopPropagation();else if(hF(e,n),t&4&&-1<lse.indexOf(e)){for(;i!==null;){var o=Gy(i);if(o!==null&&Mq(o),o=RO(e,t,r,n),o===null&&dx(e,t,n,iS,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else dx(e,t,n,null,r)}}var iS=null;function RO(e,t,r,n){if(iS=null,e=jC(n),e=vh(e),e!==null)if(t=Zh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Pq(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iS=e,null}function zq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zoe()){case DC:return 1;case Cq:return 4;case tS:case ese:return 16;case kq:return 536870912;default:return 16}default:return 16}}var Uf=null,BC=null,wb=null;function qq(){if(wb)return wb;var e,t=BC,r=t.length,n,i="value"in Uf?Uf.value:Uf.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return wb=i.slice(e,1<n?1-n:void 0)}function bb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cw(){return!0}function mF(){return!1}function Ta(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cw:mF,this.isPropagationStopped=mF,this}return yi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cw)},persist:function(){},isPersistent:cw}),t}var rg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UC=Ta(rg),Wy=yi({},rg,{view:0,detail:0}),hse=Ta(Wy),nx,ix,Ug,T1=yi({},Wy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ug&&(Ug&&e.type==="mousemove"?(nx=e.screenX-Ug.screenX,ix=e.screenY-Ug.screenY):ix=nx=0,Ug=e),nx)},movementY:function(e){return"movementY"in e?e.movementY:ix}}),gF=Ta(T1),pse=yi({},T1,{dataTransfer:0}),mse=Ta(pse),gse=yi({},Wy,{relatedTarget:0}),ox=Ta(gse),vse=yi({},rg,{animationName:0,elapsedTime:0,pseudoElement:0}),yse=Ta(vse),wse=yi({},rg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bse=Ta(wse),_se=yi({},rg,{data:0}),vF=Ta(_se),Ese={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $se(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tse[e])?!!t[e]:!1}function zC(){return $se}var xse=yi({},Wy,{key:function(e){if(e.key){var t=Ese[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sse[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zC,charCode:function(e){return e.type==="keypress"?bb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ase=Ta(xse),Ose=yi({},T1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yF=Ta(Ose),Pse=yi({},Wy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zC}),Rse=Ta(Pse),Nse=yi({},rg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ise=Ta(Nse),Cse=yi({},T1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kse=Ta(Cse),jse=[9,13,27,32],qC=Cc&&"CompositionEvent"in window,kv=null;Cc&&"documentMode"in document&&(kv=document.documentMode);var Dse=Cc&&"TextEvent"in window&&!kv,Vq=Cc&&(!qC||kv&&8<kv&&11>=kv),wF=" ",bF=!1;function Hq(e,t){switch(e){case"keyup":return jse.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var em=!1;function Mse(e,t){switch(e){case"compositionend":return Wq(t);case"keypress":return t.which!==32?null:(bF=!0,wF);case"textInput":return e=t.data,e===wF&&bF?null:e;default:return null}}function Lse(e,t){if(em)return e==="compositionend"||!qC&&Hq(e,t)?(e=qq(),wb=BC=Uf=null,em=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vq&&t.locale!=="ko"?null:t.data;default:return null}}var Fse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _F(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fse[e.type]:t==="textarea"}function Gq(e,t,r,n){Tq(n),t=oS(t,"onChange"),0<t.length&&(r=new UC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jv=null,dy=null;function Bse(e){iV(e,0)}function $1(e){var t=nm(e);if(vq(t))return e}function Use(e,t){if(e==="change")return t}var Kq=!1;if(Cc){var sx;if(Cc){var ax="oninput"in document;if(!ax){var EF=document.createElement("div");EF.setAttribute("oninput","return;"),ax=typeof EF.oninput=="function"}sx=ax}else sx=!1;Kq=sx&&(!document.documentMode||9<document.documentMode)}function SF(){jv&&(jv.detachEvent("onpropertychange",Jq),dy=jv=null)}function Jq(e){if(e.propertyName==="value"&&$1(dy)){var t=[];Gq(t,dy,e,jC(e)),Oq(Bse,t)}}function zse(e,t,r){e==="focusin"?(SF(),jv=t,dy=r,jv.attachEvent("onpropertychange",Jq)):e==="focusout"&&SF()}function qse(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $1(dy)}function Vse(e,t){if(e==="click")return $1(t)}function Hse(e,t){if(e==="input"||e==="change")return $1(t)}function Wse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jl=typeof Object.is=="function"?Object.is:Wse;function hy(e,t){if(Jl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!dO.call(t,i)||!Jl(e[i],t[i]))return!1}return!0}function TF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $F(e,t){var r=TF(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=TF(r)}}function Yq(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yq(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xq(){for(var e=window,t=QE();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=QE(e.document)}return t}function VC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gse(e){var t=Xq(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Yq(r.ownerDocument.documentElement,r)){if(n!==null&&VC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=$F(r,o);var s=$F(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kse=Cc&&"documentMode"in document&&11>=document.documentMode,tm=null,NO=null,Dv=null,IO=!1;function xF(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;IO||tm==null||tm!==QE(n)||(n=tm,"selectionStart"in n&&VC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dv&&hy(Dv,n)||(Dv=n,n=oS(NO,"onSelect"),0<n.length&&(t=new UC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=tm)))}function fw(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rm={animationend:fw("Animation","AnimationEnd"),animationiteration:fw("Animation","AnimationIteration"),animationstart:fw("Animation","AnimationStart"),transitionend:fw("Transition","TransitionEnd")},lx={},Qq={};Cc&&(Qq=document.createElement("div").style,"AnimationEvent"in window||(delete rm.animationend.animation,delete rm.animationiteration.animation,delete rm.animationstart.animation),"TransitionEvent"in window||delete rm.transitionend.transition);function x1(e){if(lx[e])return lx[e];if(!rm[e])return e;var t=rm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Qq)return lx[e]=t[r];return e}var Zq=x1("animationend"),eV=x1("animationiteration"),tV=x1("animationstart"),rV=x1("transitionend"),nV=new Map,AF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cd(e,t){nV.set(e,t),Qh(t,[e])}for(var ux=0;ux<AF.length;ux++){var cx=AF[ux],Jse=cx.toLowerCase(),Yse=cx[0].toUpperCase()+cx.slice(1);cd(Jse,"on"+Yse)}cd(Zq,"onAnimationEnd");cd(eV,"onAnimationIteration");cd(tV,"onAnimationStart");cd("dblclick","onDoubleClick");cd("focusin","onFocus");cd("focusout","onBlur");cd(rV,"onTransitionEnd");Mm("onMouseEnter",["mouseout","mouseover"]);Mm("onMouseLeave",["mouseout","mouseover"]);Mm("onPointerEnter",["pointerout","pointerover"]);Mm("onPointerLeave",["pointerout","pointerover"]);Qh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xse=new Set("cancel close invalid load scroll toggle".split(" ").concat(cv));function OF(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Joe(n,t,void 0,e),e.currentTarget=null}function iV(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;OF(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;OF(i,a,u),o=l}}}if(eS)throw e=AO,eS=!1,AO=null,e}function ii(e,t){var r=t[MO];r===void 0&&(r=t[MO]=new Set);var n=e+"__bubble";r.has(n)||(oV(t,e,2,!1),r.add(n))}function fx(e,t,r){var n=0;t&&(n|=4),oV(r,e,n,t)}var dw="_reactListening"+Math.random().toString(36).slice(2);function py(e){if(!e[dw]){e[dw]=!0,dq.forEach(function(r){r!=="selectionchange"&&(Xse.has(r)||fx(r,!1,e),fx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dw]||(t[dw]=!0,fx("selectionchange",!1,t))}}function oV(e,t,r,n){switch(zq(t)){case 1:var i=fse;break;case 4:i=dse;break;default:i=FC}r=i.bind(null,t,r,e),i=void 0,!xO||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function dx(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=vh(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}Oq(function(){var u=o,f=jC(r),c=[];e:{var p=nV.get(e);if(p!==void 0){var m=UC,g=e;switch(e){case"keypress":if(bb(r)===0)break e;case"keydown":case"keyup":m=Ase;break;case"focusin":g="focus",m=ox;break;case"focusout":g="blur",m=ox;break;case"beforeblur":case"afterblur":m=ox;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gF;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rse;break;case Zq:case eV:case tV:m=yse;break;case rV:m=Ise;break;case"scroll":m=hse;break;case"wheel":m=kse;break;case"copy":case"cut":case"paste":m=bse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=yF}var _=(t&4)!==0,v=!_&&e==="scroll",h=_?p!==null?p+"Capture":null:p;_=[];for(var E=u,y;E!==null;){y=E;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,h!==null&&(S=ly(E,h),S!=null&&_.push(my(E,S,y)))),v)break;E=E.return}0<_.length&&(p=new m(p,g,null,r,f),c.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==TO&&(g=r.relatedTarget||r.fromElement)&&(vh(g)||g[kc]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?vh(g):null,g!==null&&(v=Zh(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=gF,S="onMouseLeave",h="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=yF,S="onPointerLeave",h="onPointerEnter",E="pointer"),v=m==null?p:nm(m),y=g==null?p:nm(g),p=new _(S,E+"leave",m,r,f),p.target=v,p.relatedTarget=y,S=null,vh(f)===u&&(_=new _(h,E+"enter",g,r,f),_.target=y,_.relatedTarget=v,S=_),v=S,m&&g)t:{for(_=m,h=g,E=0,y=_;y;y=xp(y))E++;for(y=0,S=h;S;S=xp(S))y++;for(;0<E-y;)_=xp(_),E--;for(;0<y-E;)h=xp(h),y--;for(;E--;){if(_===h||h!==null&&_===h.alternate)break t;_=xp(_),h=xp(h)}_=null}else _=null;m!==null&&PF(c,p,m,_,!1),g!==null&&v!==null&&PF(c,v,g,_,!0)}}e:{if(p=u?nm(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=Use;else if(_F(p))if(Kq)T=Hse;else{T=qse;var x=zse}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=Vse);if(T&&(T=T(e,u))){Gq(c,T,r,f);break e}x&&x(e,p,u),e==="focusout"&&(x=p._wrapperState)&&x.controlled&&p.type==="number"&&wO(p,"number",p.value)}switch(x=u?nm(u):window,e){case"focusin":(_F(x)||x.contentEditable==="true")&&(tm=x,NO=u,Dv=null);break;case"focusout":Dv=NO=tm=null;break;case"mousedown":IO=!0;break;case"contextmenu":case"mouseup":case"dragend":IO=!1,xF(c,r,f);break;case"selectionchange":if(Kse)break;case"keydown":case"keyup":xF(c,r,f)}var d;if(qC)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else em?Hq(e,r)&&($="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(Vq&&r.locale!=="ko"&&(em||$!=="onCompositionStart"?$==="onCompositionEnd"&&em&&(d=qq()):(Uf=f,BC="value"in Uf?Uf.value:Uf.textContent,em=!0)),x=oS(u,$),0<x.length&&($=new vF($,e,null,r,f),c.push({event:$,listeners:x}),d?$.data=d:(d=Wq(r),d!==null&&($.data=d)))),(d=Dse?Mse(e,r):Lse(e,r))&&(u=oS(u,"onBeforeInput"),0<u.length&&(f=new vF("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=d))}iV(c,t)})}function my(e,t,r){return{instance:e,listener:t,currentTarget:r}}function oS(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ly(e,r),o!=null&&n.unshift(my(e,o,i)),o=ly(e,t),o!=null&&n.push(my(e,o,i))),e=e.return}return n}function xp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PF(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=ly(r,o),l!=null&&s.unshift(my(r,l,a))):i||(l=ly(r,o),l!=null&&s.push(my(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Qse=/\r\n?/g,Zse=/\u0000|\uFFFD/g;function RF(e){return(typeof e=="string"?e:""+e).replace(Qse,`
`).replace(Zse,"")}function hw(e,t,r){if(t=RF(t),RF(e)!==t&&r)throw Error(Bt(425))}function sS(){}var CO=null,kO=null;function jO(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var DO=typeof setTimeout=="function"?setTimeout:void 0,eae=typeof clearTimeout=="function"?clearTimeout:void 0,NF=typeof Promise=="function"?Promise:void 0,tae=typeof queueMicrotask=="function"?queueMicrotask:typeof NF<"u"?function(e){return NF.resolve(null).then(e).catch(rae)}:DO;function rae(e){setTimeout(function(){throw e})}function hx(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),fy(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);fy(t)}function Xf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function IF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ng=Math.random().toString(36).slice(2),Pu="__reactFiber$"+ng,gy="__reactProps$"+ng,kc="__reactContainer$"+ng,MO="__reactEvents$"+ng,nae="__reactListeners$"+ng,iae="__reactHandles$"+ng;function vh(e){var t=e[Pu];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kc]||r[Pu]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=IF(e);e!==null;){if(r=e[Pu])return r;e=IF(e)}return t}e=r,r=e.parentNode}return null}function Gy(e){return e=e[Pu]||e[kc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Bt(33))}function A1(e){return e[gy]||null}var LO=[],im=-1;function fd(e){return{current:e}}function ai(e){0>im||(e.current=LO[im],LO[im]=null,im--)}function ti(e,t){im++,LO[im]=e.current,e.current=t}var ad={},qo=fd(ad),zs=fd(!1),Lh=ad;function Lm(e,t){var r=e.type.contextTypes;if(!r)return ad;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qs(e){return e=e.childContextTypes,e!=null}function aS(){ai(zs),ai(qo)}function CF(e,t,r){if(qo.current!==ad)throw Error(Bt(168));ti(qo,t),ti(zs,r)}function sV(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Bt(108,zoe(e)||"Unknown",i));return yi({},r,n)}function lS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ad,Lh=qo.current,ti(qo,e),ti(zs,zs.current),!0}function kF(e,t,r){var n=e.stateNode;if(!n)throw Error(Bt(169));r?(e=sV(e,t,Lh),n.__reactInternalMemoizedMergedChildContext=e,ai(zs),ai(qo),ti(qo,e)):ai(zs),ti(zs,r)}var bc=null,O1=!1,px=!1;function aV(e){bc===null?bc=[e]:bc.push(e)}function oae(e){O1=!0,aV(e)}function dd(){if(!px&&bc!==null){px=!0;var e=0,t=Ln;try{var r=bc;for(Ln=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bc=null,O1=!1}catch(i){throw bc!==null&&(bc=bc.slice(e+1)),Iq(DC,dd),i}finally{Ln=t,px=!1}}return null}var om=[],sm=0,uS=null,cS=0,Ja=[],Ya=0,Fh=null,Tc=1,$c="";function nh(e,t){om[sm++]=cS,om[sm++]=uS,uS=e,cS=t}function lV(e,t,r){Ja[Ya++]=Tc,Ja[Ya++]=$c,Ja[Ya++]=Fh,Fh=e;var n=Tc;e=$c;var i=32-Gl(n)-1;n&=~(1<<i),r+=1;var o=32-Gl(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Tc=1<<32-Gl(t)+i|r<<i|n,$c=o+e}else Tc=1<<o|r<<i|n,$c=e}function HC(e){e.return!==null&&(nh(e,1),lV(e,1,0))}function WC(e){for(;e===uS;)uS=om[--sm],om[sm]=null,cS=om[--sm],om[sm]=null;for(;e===Fh;)Fh=Ja[--Ya],Ja[Ya]=null,$c=Ja[--Ya],Ja[Ya]=null,Tc=Ja[--Ya],Ja[Ya]=null}var wa=null,va=null,ci=!1,ql=null;function uV(e,t){var r=al(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jF(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wa=e,va=Xf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wa=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fh!==null?{id:Tc,overflow:$c}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=al(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wa=e,va=null,!0):!1;default:return!1}}function FO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function BO(e){if(ci){var t=va;if(t){var r=t;if(!jF(e,t)){if(FO(e))throw Error(Bt(418));t=Xf(r.nextSibling);var n=wa;t&&jF(e,t)?uV(n,r):(e.flags=e.flags&-4097|2,ci=!1,wa=e)}}else{if(FO(e))throw Error(Bt(418));e.flags=e.flags&-4097|2,ci=!1,wa=e}}}function DF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wa=e}function pw(e){if(e!==wa)return!1;if(!ci)return DF(e),ci=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jO(e.type,e.memoizedProps)),t&&(t=va)){if(FO(e))throw cV(),Error(Bt(418));for(;t;)uV(e,t),t=Xf(t.nextSibling)}if(DF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){va=Xf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}va=null}}else va=wa?Xf(e.stateNode.nextSibling):null;return!0}function cV(){for(var e=va;e;)e=Xf(e.nextSibling)}function Fm(){va=wa=null,ci=!1}function GC(e){ql===null?ql=[e]:ql.push(e)}var sae=zc.ReactCurrentBatchConfig;function zg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Bt(309));var n=r.stateNode}if(!n)throw Error(Bt(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Bt(284));if(!r._owner)throw Error(Bt(290,e))}return e}function mw(e,t){throw e=Object.prototype.toString.call(t),Error(Bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function MF(e){var t=e._init;return t(e._payload)}function fV(e){function t(h,E){if(e){var y=h.deletions;y===null?(h.deletions=[E],h.flags|=16):y.push(E)}}function r(h,E){if(!e)return null;for(;E!==null;)t(h,E),E=E.sibling;return null}function n(h,E){for(h=new Map;E!==null;)E.key!==null?h.set(E.key,E):h.set(E.index,E),E=E.sibling;return h}function i(h,E){return h=td(h,E),h.index=0,h.sibling=null,h}function o(h,E,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<E?(h.flags|=2,E):y):(h.flags|=2,E)):(h.flags|=1048576,E)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,E,y,S){return E===null||E.tag!==6?(E=_x(y,h.mode,S),E.return=h,E):(E=i(E,y),E.return=h,E)}function l(h,E,y,S){var T=y.type;return T===Zp?f(h,E,y.props.children,S,y.key):E!==null&&(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===kf&&MF(T)===E.type)?(S=i(E,y.props),S.ref=zg(h,E,y),S.return=h,S):(S=Ab(y.type,y.key,y.props,null,h.mode,S),S.ref=zg(h,E,y),S.return=h,S)}function u(h,E,y,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=Ex(y,h.mode,S),E.return=h,E):(E=i(E,y.children||[]),E.return=h,E)}function f(h,E,y,S,T){return E===null||E.tag!==7?(E=Oh(y,h.mode,S,T),E.return=h,E):(E=i(E,y),E.return=h,E)}function c(h,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=_x(""+E,h.mode,y),E.return=h,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case iw:return y=Ab(E.type,E.key,E.props,null,h.mode,y),y.ref=zg(h,null,E),y.return=h,y;case Qp:return E=Ex(E,h.mode,y),E.return=h,E;case kf:var S=E._init;return c(h,S(E._payload),y)}if(lv(E)||Mg(E))return E=Oh(E,h.mode,y,null),E.return=h,E;mw(h,E)}return null}function p(h,E,y,S){var T=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(h,E,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case iw:return y.key===T?l(h,E,y,S):null;case Qp:return y.key===T?u(h,E,y,S):null;case kf:return T=y._init,p(h,E,T(y._payload),S)}if(lv(y)||Mg(y))return T!==null?null:f(h,E,y,S,null);mw(h,y)}return null}function m(h,E,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(y)||null,a(E,h,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case iw:return h=h.get(S.key===null?y:S.key)||null,l(E,h,S,T);case Qp:return h=h.get(S.key===null?y:S.key)||null,u(E,h,S,T);case kf:var x=S._init;return m(h,E,y,x(S._payload),T)}if(lv(S)||Mg(S))return h=h.get(y)||null,f(E,h,S,T,null);mw(E,S)}return null}function g(h,E,y,S){for(var T=null,x=null,d=E,$=E=0,O=null;d!==null&&$<y.length;$++){d.index>$?(O=d,d=null):O=d.sibling;var P=p(h,d,y[$],S);if(P===null){d===null&&(d=O);break}e&&d&&P.alternate===null&&t(h,d),E=o(P,E,$),x===null?T=P:x.sibling=P,x=P,d=O}if($===y.length)return r(h,d),ci&&nh(h,$),T;if(d===null){for(;$<y.length;$++)d=c(h,y[$],S),d!==null&&(E=o(d,E,$),x===null?T=d:x.sibling=d,x=d);return ci&&nh(h,$),T}for(d=n(h,d);$<y.length;$++)O=m(d,h,$,y[$],S),O!==null&&(e&&O.alternate!==null&&d.delete(O.key===null?$:O.key),E=o(O,E,$),x===null?T=O:x.sibling=O,x=O);return e&&d.forEach(function(k){return t(h,k)}),ci&&nh(h,$),T}function _(h,E,y,S){var T=Mg(y);if(typeof T!="function")throw Error(Bt(150));if(y=T.call(y),y==null)throw Error(Bt(151));for(var x=T=null,d=E,$=E=0,O=null,P=y.next();d!==null&&!P.done;$++,P=y.next()){d.index>$?(O=d,d=null):O=d.sibling;var k=p(h,d,P.value,S);if(k===null){d===null&&(d=O);break}e&&d&&k.alternate===null&&t(h,d),E=o(k,E,$),x===null?T=k:x.sibling=k,x=k,d=O}if(P.done)return r(h,d),ci&&nh(h,$),T;if(d===null){for(;!P.done;$++,P=y.next())P=c(h,P.value,S),P!==null&&(E=o(P,E,$),x===null?T=P:x.sibling=P,x=P);return ci&&nh(h,$),T}for(d=n(h,d);!P.done;$++,P=y.next())P=m(d,h,$,P.value,S),P!==null&&(e&&P.alternate!==null&&d.delete(P.key===null?$:P.key),E=o(P,E,$),x===null?T=P:x.sibling=P,x=P);return e&&d.forEach(function(B){return t(h,B)}),ci&&nh(h,$),T}function v(h,E,y,S){if(typeof y=="object"&&y!==null&&y.type===Zp&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case iw:e:{for(var T=y.key,x=E;x!==null;){if(x.key===T){if(T=y.type,T===Zp){if(x.tag===7){r(h,x.sibling),E=i(x,y.props.children),E.return=h,h=E;break e}}else if(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===kf&&MF(T)===x.type){r(h,x.sibling),E=i(x,y.props),E.ref=zg(h,x,y),E.return=h,h=E;break e}r(h,x);break}else t(h,x);x=x.sibling}y.type===Zp?(E=Oh(y.props.children,h.mode,S,y.key),E.return=h,h=E):(S=Ab(y.type,y.key,y.props,null,h.mode,S),S.ref=zg(h,E,y),S.return=h,h=S)}return s(h);case Qp:e:{for(x=y.key;E!==null;){if(E.key===x)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){r(h,E.sibling),E=i(E,y.children||[]),E.return=h,h=E;break e}else{r(h,E);break}else t(h,E);E=E.sibling}E=Ex(y,h.mode,S),E.return=h,h=E}return s(h);case kf:return x=y._init,v(h,E,x(y._payload),S)}if(lv(y))return g(h,E,y,S);if(Mg(y))return _(h,E,y,S);mw(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(r(h,E.sibling),E=i(E,y),E.return=h,h=E):(r(h,E),E=_x(y,h.mode,S),E.return=h,h=E),s(h)):r(h,E)}return v}var Bm=fV(!0),dV=fV(!1),fS=fd(null),dS=null,am=null,KC=null;function JC(){KC=am=dS=null}function YC(e){var t=fS.current;ai(fS),e._currentValue=t}function UO(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bm(e,t){dS=e,KC=am=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Us=!0),e.firstContext=null)}function fl(e){var t=e._currentValue;if(KC!==e)if(e={context:e,memoizedValue:t,next:null},am===null){if(dS===null)throw Error(Bt(308));am=e,dS.dependencies={lanes:0,firstContext:e}}else am=am.next=e;return t}var yh=null;function XC(e){yh===null?yh=[e]:yh.push(e)}function hV(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,XC(t)):(r.next=i.next,i.next=r),t.interleaved=r,jc(e,n)}function jc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jf=!1;function QC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,gn&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,jc(e,r)}return i=n.interleaved,i===null?(t.next=t,XC(n)):(t.next=i.next,i.next=t),n.interleaved=t,jc(e,r)}function _b(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,MC(e,r)}}function LF(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hS(e,t,r,n){var i=e.updateQueue;jf=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,f=u=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,_=a;switch(p=t,m=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){c=g.call(m,c,p);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(m,c,p):g,p==null)break e;c=yi({},c,p);break e;case 2:jf=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=c):f=f.next=m,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Uh|=s,e.lanes=s,e.memoizedState=c}}function FF(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Bt(191,i));i.call(n)}}}var Ky={},Uu=fd(Ky),vy=fd(Ky),yy=fd(Ky);function wh(e){if(e===Ky)throw Error(Bt(174));return e}function ZC(e,t){switch(ti(yy,t),ti(vy,e),ti(Uu,Ky),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_O(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_O(t,e)}ai(Uu),ti(Uu,t)}function Um(){ai(Uu),ai(vy),ai(yy)}function mV(e){wh(yy.current);var t=wh(Uu.current),r=_O(t,e.type);t!==r&&(ti(vy,e),ti(Uu,r))}function ek(e){vy.current===e&&(ai(Uu),ai(vy))}var gi=fd(0);function pS(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mx=[];function tk(){for(var e=0;e<mx.length;e++)mx[e]._workInProgressVersionPrimary=null;mx.length=0}var Eb=zc.ReactCurrentDispatcher,gx=zc.ReactCurrentBatchConfig,Bh=0,vi=null,Yi=null,ao=null,mS=!1,Mv=!1,wy=0,aae=0;function Io(){throw Error(Bt(321))}function rk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jl(e[r],t[r]))return!1;return!0}function nk(e,t,r,n,i,o){if(Bh=o,vi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Eb.current=e===null||e.memoizedState===null?fae:dae,e=r(n,i),Mv){o=0;do{if(Mv=!1,wy=0,25<=o)throw Error(Bt(301));o+=1,ao=Yi=null,t.updateQueue=null,Eb.current=hae,e=r(n,i)}while(Mv)}if(Eb.current=gS,t=Yi!==null&&Yi.next!==null,Bh=0,ao=Yi=vi=null,mS=!1,t)throw Error(Bt(300));return e}function ik(){var e=wy!==0;return wy=0,e}function xu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ao===null?vi.memoizedState=ao=e:ao=ao.next=e,ao}function dl(){if(Yi===null){var e=vi.alternate;e=e!==null?e.memoizedState:null}else e=Yi.next;var t=ao===null?vi.memoizedState:ao.next;if(t!==null)ao=t,Yi=e;else{if(e===null)throw Error(Bt(310));Yi=e,e={memoizedState:Yi.memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},ao===null?vi.memoizedState=ao=e:ao=ao.next=e}return ao}function by(e,t){return typeof t=="function"?t(e):t}function vx(e){var t=dl(),r=t.queue;if(r===null)throw Error(Bt(311));r.lastRenderedReducer=e;var n=Yi,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((Bh&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=n):l=l.next=c,vi.lanes|=f,Uh|=f}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,Jl(n,t.memoizedState)||(Us=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,vi.lanes|=o,Uh|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yx(e){var t=dl(),r=t.queue;if(r===null)throw Error(Bt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Jl(o,t.memoizedState)||(Us=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function gV(){}function vV(e,t){var r=vi,n=dl(),i=t(),o=!Jl(n.memoizedState,i);if(o&&(n.memoizedState=i,Us=!0),n=n.queue,ok(bV.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ao!==null&&ao.memoizedState.tag&1){if(r.flags|=2048,_y(9,wV.bind(null,r,n,i,t),void 0,null),co===null)throw Error(Bt(349));Bh&30||yV(r,t,i)}return i}function yV(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vi.updateQueue,t===null?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wV(e,t,r,n){t.value=r,t.getSnapshot=n,_V(t)&&EV(e)}function bV(e,t,r){return r(function(){_V(t)&&EV(e)})}function _V(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jl(e,r)}catch{return!0}}function EV(e){var t=jc(e,1);t!==null&&Kl(t,e,1,-1)}function BF(e){var t=xu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:e},t.queue=e,e=e.dispatch=cae.bind(null,vi,e),[t.memoizedState,e]}function _y(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vi.updateQueue,t===null?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function SV(){return dl().memoizedState}function Sb(e,t,r,n){var i=xu();vi.flags|=e,i.memoizedState=_y(1|t,r,void 0,n===void 0?null:n)}function P1(e,t,r,n){var i=dl();n=n===void 0?null:n;var o=void 0;if(Yi!==null){var s=Yi.memoizedState;if(o=s.destroy,n!==null&&rk(n,s.deps)){i.memoizedState=_y(t,r,o,n);return}}vi.flags|=e,i.memoizedState=_y(1|t,r,o,n)}function UF(e,t){return Sb(8390656,8,e,t)}function ok(e,t){return P1(2048,8,e,t)}function TV(e,t){return P1(4,2,e,t)}function $V(e,t){return P1(4,4,e,t)}function xV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AV(e,t,r){return r=r!=null?r.concat([e]):null,P1(4,4,xV.bind(null,t,e),r)}function sk(){}function OV(e,t){var r=dl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function PV(e,t){var r=dl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&rk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function RV(e,t,r){return Bh&21?(Jl(r,t)||(r=jq(),vi.lanes|=r,Uh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Us=!0),e.memoizedState=r)}function lae(e,t){var r=Ln;Ln=r!==0&&4>r?r:4,e(!0);var n=gx.transition;gx.transition={};try{e(!1),t()}finally{Ln=r,gx.transition=n}}function NV(){return dl().memoizedState}function uae(e,t,r){var n=ed(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},IV(e))CV(t,r);else if(r=hV(e,t,r,n),r!==null){var i=gs();Kl(r,e,n,i),kV(r,t,n)}}function cae(e,t,r){var n=ed(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(IV(e))CV(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Jl(a,s)){var l=t.interleaved;l===null?(i.next=i,XC(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=hV(e,t,i,n),r!==null&&(i=gs(),Kl(r,e,n,i),kV(r,t,n))}}function IV(e){var t=e.alternate;return e===vi||t!==null&&t===vi}function CV(e,t){Mv=mS=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function kV(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,MC(e,r)}}var gS={readContext:fl,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useInsertionEffect:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useMutableSource:Io,useSyncExternalStore:Io,useId:Io,unstable_isNewReconciler:!1},fae={readContext:fl,useCallback:function(e,t){return xu().memoizedState=[e,t===void 0?null:t],e},useContext:fl,useEffect:UF,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sb(4194308,4,xV.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sb(4,2,e,t)},useMemo:function(e,t){var r=xu();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xu();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uae.bind(null,vi,e),[n.memoizedState,e]},useRef:function(e){var t=xu();return e={current:e},t.memoizedState=e},useState:BF,useDebugValue:sk,useDeferredValue:function(e){return xu().memoizedState=e},useTransition:function(){var e=BF(!1),t=e[0];return e=lae.bind(null,e[1]),xu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vi,i=xu();if(ci){if(r===void 0)throw Error(Bt(407));r=r()}else{if(r=t(),co===null)throw Error(Bt(349));Bh&30||yV(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,UF(bV.bind(null,n,o,e),[e]),n.flags|=2048,_y(9,wV.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=xu(),t=co.identifierPrefix;if(ci){var r=$c,n=Tc;r=(n&~(1<<32-Gl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aae++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dae={readContext:fl,useCallback:OV,useContext:fl,useEffect:ok,useImperativeHandle:AV,useInsertionEffect:TV,useLayoutEffect:$V,useMemo:PV,useReducer:vx,useRef:SV,useState:function(){return vx(by)},useDebugValue:sk,useDeferredValue:function(e){var t=dl();return RV(t,Yi.memoizedState,e)},useTransition:function(){var e=vx(by)[0],t=dl().memoizedState;return[e,t]},useMutableSource:gV,useSyncExternalStore:vV,useId:NV,unstable_isNewReconciler:!1},hae={readContext:fl,useCallback:OV,useContext:fl,useEffect:ok,useImperativeHandle:AV,useInsertionEffect:TV,useLayoutEffect:$V,useMemo:PV,useReducer:yx,useRef:SV,useState:function(){return yx(by)},useDebugValue:sk,useDeferredValue:function(e){var t=dl();return Yi===null?t.memoizedState=e:RV(t,Yi.memoizedState,e)},useTransition:function(){var e=yx(by)[0],t=dl().memoizedState;return[e,t]},useMutableSource:gV,useSyncExternalStore:vV,useId:NV,unstable_isNewReconciler:!1};function Bl(e,t){if(e&&e.defaultProps){t=yi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zO(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var R1={isMounted:function(e){return(e=e._reactInternals)?Zh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gs(),i=ed(e),o=Rc(n,i);o.payload=t,r!=null&&(o.callback=r),t=Qf(e,o,i),t!==null&&(Kl(t,e,i,n),_b(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gs(),i=ed(e),o=Rc(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Qf(e,o,i),t!==null&&(Kl(t,e,i,n),_b(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gs(),n=ed(e),i=Rc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Qf(e,i,n),t!==null&&(Kl(t,e,n,r),_b(t,e,n))}};function zF(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!hy(r,n)||!hy(i,o):!0}function jV(e,t,r){var n=!1,i=ad,o=t.contextType;return typeof o=="object"&&o!==null?o=fl(o):(i=qs(t)?Lh:qo.current,n=t.contextTypes,o=(n=n!=null)?Lm(e,i):ad),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=R1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qF(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&R1.enqueueReplaceState(t,t.state,null)}function qO(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},QC(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=fl(o):(o=qs(t)?Lh:qo.current,i.context=Lm(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zO(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&R1.enqueueReplaceState(i,i.state,null),hS(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zm(e,t){try{var r="",n=t;do r+=Uoe(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function wx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function VO(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pae=typeof WeakMap=="function"?WeakMap:Map;function DV(e,t,r){r=Rc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yS||(yS=!0,eP=n),VO(e,t)},r}function MV(e,t,r){r=Rc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){VO(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){VO(e,t),typeof n!="function"&&(Zf===null?Zf=new Set([this]):Zf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function VF(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pae;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Oae.bind(null,e,t,r),t.then(e,e))}function HF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function WF(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rc(-1,1),t.tag=2,Qf(r,t,1))),r.lanes|=1),e)}var mae=zc.ReactCurrentOwner,Us=!1;function os(e,t,r,n){t.child=e===null?dV(t,null,r,n):Bm(t,e.child,r,n)}function GF(e,t,r,n,i){r=r.render;var o=t.ref;return bm(t,i),n=nk(e,t,r,n,o,i),r=ik(),e!==null&&!Us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dc(e,t,i)):(ci&&r&&HC(t),t.flags|=1,os(e,t,n,i),t.child)}function KF(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!pk(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,LV(e,t,o,n,i)):(e=Ab(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:hy,r(s,n)&&e.ref===t.ref)return Dc(e,t,i)}return t.flags|=1,e=td(o,n),e.ref=t.ref,e.return=t,t.child=e}function LV(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(hy(o,n)&&e.ref===t.ref)if(Us=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(Us=!0);else return t.lanes=e.lanes,Dc(e,t,i)}return HO(e,t,r,n,i)}function FV(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ti(um,ha),ha|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ti(um,ha),ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ti(um,ha),ha|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ti(um,ha),ha|=n;return os(e,t,i,r),t.child}function BV(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function HO(e,t,r,n,i){var o=qs(r)?Lh:qo.current;return o=Lm(t,o),bm(t,i),r=nk(e,t,r,n,o,i),n=ik(),e!==null&&!Us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dc(e,t,i)):(ci&&n&&HC(t),t.flags|=1,os(e,t,r,i),t.child)}function JF(e,t,r,n,i){if(qs(r)){var o=!0;lS(t)}else o=!1;if(bm(t,i),t.stateNode===null)Tb(e,t),jV(t,r,n),qO(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=fl(u):(u=qs(r)?Lh:qo.current,u=Lm(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&qF(t,s,n,u),jf=!1;var p=t.memoizedState;s.state=p,hS(t,n,s,i),l=t.memoizedState,a!==n||p!==l||zs.current||jf?(typeof f=="function"&&(zO(t,r,f,n),l=t.memoizedState),(a=jf||zF(t,r,a,n,p,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,pV(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Bl(t.type,a),s.props=u,c=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=fl(l):(l=qs(r)?Lh:qo.current,l=Lm(t,l));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||p!==l)&&qF(t,s,n,l),jf=!1,p=t.memoizedState,s.state=p,hS(t,n,s,i);var g=t.memoizedState;a!==c||p!==g||zs.current||jf?(typeof m=="function"&&(zO(t,r,m,n),g=t.memoizedState),(u=jf||zF(t,r,u,n,p,g,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return WO(e,t,r,n,o,i)}function WO(e,t,r,n,i,o){BV(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&kF(t,r,!1),Dc(e,t,o);n=t.stateNode,mae.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Bm(t,e.child,null,o),t.child=Bm(t,null,a,o)):os(e,t,a,o),t.memoizedState=n.state,i&&kF(t,r,!0),t.child}function UV(e){var t=e.stateNode;t.pendingContext?CF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CF(e,t.context,!1),ZC(e,t.containerInfo)}function YF(e,t,r,n,i){return Fm(),GC(i),t.flags|=256,os(e,t,r,n),t.child}var GO={dehydrated:null,treeContext:null,retryLane:0};function KO(e){return{baseLanes:e,cachePool:null,transitions:null}}function zV(e,t,r){var n=t.pendingProps,i=gi.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ti(gi,i&1),e===null)return BO(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=C1(s,n,0,null),e=Oh(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=KO(r),t.memoizedState=GO,e):ak(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gae(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=td(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=td(a,o):(o=Oh(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?KO(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=GO,n}return o=e.child,e=o.sibling,n=td(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ak(e,t){return t=C1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gw(e,t,r,n){return n!==null&&GC(n),Bm(t,e.child,null,r),e=ak(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gae(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=wx(Error(Bt(422))),gw(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=C1({mode:"visible",children:n.children},i,0,null),o=Oh(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Bm(t,e.child,null,s),t.child.memoizedState=KO(s),t.memoizedState=GO,o);if(!(t.mode&1))return gw(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(Bt(419)),n=wx(o,n,void 0),gw(e,t,s,n)}if(a=(s&e.childLanes)!==0,Us||a){if(n=co,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jc(e,i),Kl(n,e,i,-1))}return hk(),n=wx(Error(Bt(421))),gw(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Pae.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,va=Xf(i.nextSibling),wa=t,ci=!0,ql=null,e!==null&&(Ja[Ya++]=Tc,Ja[Ya++]=$c,Ja[Ya++]=Fh,Tc=e.id,$c=e.overflow,Fh=t),t=ak(t,n.children),t.flags|=4096,t)}function XF(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),UO(e.return,t,r)}function bx(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function qV(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(os(e,t,n.children,r),n=gi.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&XF(e,r,t);else if(e.tag===19)XF(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ti(gi,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&pS(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),bx(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pS(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}bx(t,!0,r,null,o);break;case"together":bx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Tb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Uh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Bt(153));if(t.child!==null){for(e=t.child,r=td(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=td(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vae(e,t,r){switch(t.tag){case 3:UV(t),Fm();break;case 5:mV(t);break;case 1:qs(t.type)&&lS(t);break;case 4:ZC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ti(fS,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ti(gi,gi.current&1),t.flags|=128,null):r&t.child.childLanes?zV(e,t,r):(ti(gi,gi.current&1),e=Dc(e,t,r),e!==null?e.sibling:null);ti(gi,gi.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qV(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ti(gi,gi.current),n)break;return null;case 22:case 23:return t.lanes=0,FV(e,t,r)}return Dc(e,t,r)}var VV,JO,HV,WV;VV=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};JO=function(){};HV=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,wh(Uu.current);var o=null;switch(r){case"input":i=vO(e,i),n=vO(e,n),o=[];break;case"select":i=yi({},i,{value:void 0}),n=yi({},n,{value:void 0}),o=[];break;case"textarea":i=bO(e,i),n=bO(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sS)}EO(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sy.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sy.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ii("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};WV=function(e,t,r,n){r!==n&&(t.flags|=4)};function qg(e,t){if(!ci)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Co(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yae(e,t,r){var n=t.pendingProps;switch(WC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Co(t),null;case 1:return qs(t.type)&&aS(),Co(t),null;case 3:return n=t.stateNode,Um(),ai(zs),ai(qo),tk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ql!==null&&(nP(ql),ql=null))),JO(e,t),Co(t),null;case 5:ek(t);var i=wh(yy.current);if(r=t.type,e!==null&&t.stateNode!=null)HV(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Bt(166));return Co(t),null}if(e=wh(Uu.current),pw(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Pu]=t,n[gy]=o,e=(t.mode&1)!==0,r){case"dialog":ii("cancel",n),ii("close",n);break;case"iframe":case"object":case"embed":ii("load",n);break;case"video":case"audio":for(i=0;i<cv.length;i++)ii(cv[i],n);break;case"source":ii("error",n);break;case"img":case"image":case"link":ii("error",n),ii("load",n);break;case"details":ii("toggle",n);break;case"input":sF(n,o),ii("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ii("invalid",n);break;case"textarea":lF(n,o),ii("invalid",n)}EO(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&hw(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&hw(n.textContent,a,e),i=["children",""+a]):sy.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ii("scroll",n)}switch(r){case"input":ow(n),aF(n,o,!0);break;case"textarea":ow(n),uF(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=sS)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bq(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Pu]=t,e[gy]=n,VV(e,t,!1,!1),t.stateNode=e;e:{switch(s=SO(r,n),r){case"dialog":ii("cancel",e),ii("close",e),i=n;break;case"iframe":case"object":case"embed":ii("load",e),i=n;break;case"video":case"audio":for(i=0;i<cv.length;i++)ii(cv[i],e);i=n;break;case"source":ii("error",e),i=n;break;case"img":case"image":case"link":ii("error",e),ii("load",e),i=n;break;case"details":ii("toggle",e),i=n;break;case"input":sF(e,n),i=vO(e,n),ii("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=yi({},n,{value:void 0}),ii("invalid",e);break;case"textarea":lF(e,n),i=bO(e,n),ii("invalid",e);break;default:i=n}EO(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Sq(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_q(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ay(e,l):typeof l=="number"&&ay(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sy.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ii("scroll",e):l!=null&&NC(e,o,l,s))}switch(r){case"input":ow(e),aF(e,n,!1);break;case"textarea":ow(e),uF(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sd(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?gm(e,!!n.multiple,o,!1):n.defaultValue!=null&&gm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sS)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Co(t),null;case 6:if(e&&t.stateNode!=null)WV(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Bt(166));if(r=wh(yy.current),wh(Uu.current),pw(t)){if(n=t.stateNode,r=t.memoizedProps,n[Pu]=t,(o=n.nodeValue!==r)&&(e=wa,e!==null))switch(e.tag){case 3:hw(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hw(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pu]=t,t.stateNode=n}return Co(t),null;case 13:if(ai(gi),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ci&&va!==null&&t.mode&1&&!(t.flags&128))cV(),Fm(),t.flags|=98560,o=!1;else if(o=pw(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Bt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Bt(317));o[Pu]=t}else Fm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Co(t),o=!1}else ql!==null&&(nP(ql),ql=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||gi.current&1?Zi===0&&(Zi=3):hk())),t.updateQueue!==null&&(t.flags|=4),Co(t),null);case 4:return Um(),JO(e,t),e===null&&py(t.stateNode.containerInfo),Co(t),null;case 10:return YC(t.type._context),Co(t),null;case 17:return qs(t.type)&&aS(),Co(t),null;case 19:if(ai(gi),o=t.memoizedState,o===null)return Co(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)qg(o,!1);else{if(Zi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=pS(e),s!==null){for(t.flags|=128,qg(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ti(gi,gi.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ci()>qm&&(t.flags|=128,n=!0,qg(o,!1),t.lanes=4194304)}else{if(!n)if(e=pS(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ci)return Co(t),null}else 2*Ci()-o.renderingStartTime>qm&&r!==1073741824&&(t.flags|=128,n=!0,qg(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ci(),t.sibling=null,r=gi.current,ti(gi,n?r&1|2:r&1),t):(Co(t),null);case 22:case 23:return dk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ha&1073741824&&(Co(t),t.subtreeFlags&6&&(t.flags|=8192)):Co(t),null;case 24:return null;case 25:return null}throw Error(Bt(156,t.tag))}function wae(e,t){switch(WC(t),t.tag){case 1:return qs(t.type)&&aS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Um(),ai(zs),ai(qo),tk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ek(t),null;case 13:if(ai(gi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Bt(340));Fm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ai(gi),null;case 4:return Um(),null;case 10:return YC(t.type._context),null;case 22:case 23:return dk(),null;case 24:return null;default:return null}}var vw=!1,Lo=!1,bae=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function lm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Si(e,t,n)}else r.current=null}function YO(e,t,r){try{r()}catch(n){Si(e,t,n)}}var QF=!1;function _ae(e,t){if(CO=nS,e=Xq(),VC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,f=0,c=e,p=null;t:for(;;){for(var m;c!==r||i!==0&&c.nodeType!==3||(a=s+i),c!==o||n!==0&&c.nodeType!==3||(l=s+n),c.nodeType===3&&(s+=c.nodeValue.length),(m=c.firstChild)!==null;)p=c,c=m;for(;;){if(c===e)break t;if(p===r&&++u===i&&(a=s),p===o&&++f===n&&(l=s),(m=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kO={focusedElem:e,selectionRange:r},nS=!1,Qt=t;Qt!==null;)if(t=Qt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Qt=e;else for(;Qt!==null;){t=Qt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,h=t.stateNode,E=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:Bl(t.type,_),v);h.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Bt(163))}}catch(S){Si(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Qt=e;break}Qt=t.return}return g=QF,QF=!1,g}function Lv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&YO(t,r,o)}i=i.next}while(i!==n)}}function N1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function XO(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function GV(e){var t=e.alternate;t!==null&&(e.alternate=null,GV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pu],delete t[gy],delete t[MO],delete t[nae],delete t[iae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KV(e){return e.tag===5||e.tag===3||e.tag===4}function ZF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||KV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function QO(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sS));else if(n!==4&&(e=e.child,e!==null))for(QO(e,t,r),e=e.sibling;e!==null;)QO(e,t,r),e=e.sibling}function ZO(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ZO(e,t,r),e=e.sibling;e!==null;)ZO(e,t,r),e=e.sibling}var _o=null,Ul=!1;function hf(e,t,r){for(r=r.child;r!==null;)JV(e,t,r),r=r.sibling}function JV(e,t,r){if(Bu&&typeof Bu.onCommitFiberUnmount=="function")try{Bu.onCommitFiberUnmount(S1,r)}catch{}switch(r.tag){case 5:Lo||lm(r,t);case 6:var n=_o,i=Ul;_o=null,hf(e,t,r),_o=n,Ul=i,_o!==null&&(Ul?(e=_o,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_o.removeChild(r.stateNode));break;case 18:_o!==null&&(Ul?(e=_o,r=r.stateNode,e.nodeType===8?hx(e.parentNode,r):e.nodeType===1&&hx(e,r),fy(e)):hx(_o,r.stateNode));break;case 4:n=_o,i=Ul,_o=r.stateNode.containerInfo,Ul=!0,hf(e,t,r),_o=n,Ul=i;break;case 0:case 11:case 14:case 15:if(!Lo&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&YO(r,t,s),i=i.next}while(i!==n)}hf(e,t,r);break;case 1:if(!Lo&&(lm(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Si(r,t,a)}hf(e,t,r);break;case 21:hf(e,t,r);break;case 22:r.mode&1?(Lo=(n=Lo)||r.memoizedState!==null,hf(e,t,r),Lo=n):hf(e,t,r);break;default:hf(e,t,r)}}function e3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bae),t.forEach(function(n){var i=Rae.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:_o=a.stateNode,Ul=!1;break e;case 3:_o=a.stateNode.containerInfo,Ul=!0;break e;case 4:_o=a.stateNode.containerInfo,Ul=!0;break e}a=a.return}if(_o===null)throw Error(Bt(160));JV(o,s,i),_o=null,Ul=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Si(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)YV(t,e),t=t.sibling}function YV(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rl(t,e),pu(e),n&4){try{Lv(3,e,e.return),N1(3,e)}catch(_){Si(e,e.return,_)}try{Lv(5,e,e.return)}catch(_){Si(e,e.return,_)}}break;case 1:Rl(t,e),pu(e),n&512&&r!==null&&lm(r,r.return);break;case 5:if(Rl(t,e),pu(e),n&512&&r!==null&&lm(r,r.return),e.flags&32){var i=e.stateNode;try{ay(i,"")}catch(_){Si(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&yq(i,o),SO(a,s);var u=SO(a,o);for(s=0;s<l.length;s+=2){var f=l[s],c=l[s+1];f==="style"?Sq(i,c):f==="dangerouslySetInnerHTML"?_q(i,c):f==="children"?ay(i,c):NC(i,f,c,u)}switch(a){case"input":yO(i,o);break;case"textarea":wq(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?gm(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?gm(i,!!o.multiple,o.defaultValue,!0):gm(i,!!o.multiple,o.multiple?[]:"",!1))}i[gy]=o}catch(_){Si(e,e.return,_)}}break;case 6:if(Rl(t,e),pu(e),n&4){if(e.stateNode===null)throw Error(Bt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Si(e,e.return,_)}}break;case 3:if(Rl(t,e),pu(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fy(t.containerInfo)}catch(_){Si(e,e.return,_)}break;case 4:Rl(t,e),pu(e);break;case 13:Rl(t,e),pu(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ck=Ci())),n&4&&e3(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Lo=(u=Lo)||f,Rl(t,e),Lo=u):Rl(t,e),pu(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Qt=e,f=e.child;f!==null;){for(c=Qt=f;Qt!==null;){switch(p=Qt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Lv(4,p,p.return);break;case 1:lm(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Si(n,r,_)}}break;case 5:lm(p,p.return);break;case 22:if(p.memoizedState!==null){r3(c);continue}}m!==null?(m.return=p,Qt=m):r3(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Eq("display",s))}catch(_){Si(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){Si(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Rl(t,e),pu(e),n&4&&e3(e);break;case 21:break;default:Rl(t,e),pu(e)}}function pu(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(KV(r)){var n=r;break e}r=r.return}throw Error(Bt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ay(i,""),n.flags&=-33);var o=ZF(e);ZO(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=ZF(e);QO(e,a,s);break;default:throw Error(Bt(161))}}catch(l){Si(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eae(e,t,r){Qt=e,XV(e)}function XV(e,t,r){for(var n=(e.mode&1)!==0;Qt!==null;){var i=Qt,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||vw;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lo;a=vw;var u=Lo;if(vw=s,(Lo=l)&&!u)for(Qt=i;Qt!==null;)s=Qt,l=s.child,s.tag===22&&s.memoizedState!==null?n3(i):l!==null?(l.return=s,Qt=l):n3(i);for(;o!==null;)Qt=o,XV(o),o=o.sibling;Qt=i,vw=a,Lo=u}t3(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Qt=o):t3(e)}}function t3(e){for(;Qt!==null;){var t=Qt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lo||N1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Lo)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Bl(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&FF(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}FF(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&fy(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Bt(163))}Lo||t.flags&512&&XO(t)}catch(p){Si(t,t.return,p)}}if(t===e){Qt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function r3(e){for(;Qt!==null;){var t=Qt;if(t===e){Qt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Qt=r;break}Qt=t.return}}function n3(e){for(;Qt!==null;){var t=Qt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{N1(4,t)}catch(l){Si(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Si(t,i,l)}}var o=t.return;try{XO(t)}catch(l){Si(t,o,l)}break;case 5:var s=t.return;try{XO(t)}catch(l){Si(t,s,l)}}}catch(l){Si(t,t.return,l)}if(t===e){Qt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Qt=a;break}Qt=t.return}}var Sae=Math.ceil,vS=zc.ReactCurrentDispatcher,lk=zc.ReactCurrentOwner,ll=zc.ReactCurrentBatchConfig,gn=0,co=null,Ui=null,To=0,ha=0,um=fd(0),Zi=0,Ey=null,Uh=0,I1=0,uk=0,Fv=null,Fs=null,ck=0,qm=1/0,mc=null,yS=!1,eP=null,Zf=null,yw=!1,zf=null,wS=0,Bv=0,tP=null,$b=-1,xb=0;function gs(){return gn&6?Ci():$b!==-1?$b:$b=Ci()}function ed(e){return e.mode&1?gn&2&&To!==0?To&-To:sae.transition!==null?(xb===0&&(xb=jq()),xb):(e=Ln,e!==0||(e=window.event,e=e===void 0?16:zq(e.type)),e):1}function Kl(e,t,r,n){if(50<Bv)throw Bv=0,tP=null,Error(Bt(185));Hy(e,r,n),(!(gn&2)||e!==co)&&(e===co&&(!(gn&2)&&(I1|=r),Zi===4&&Lf(e,To)),Vs(e,n),r===1&&gn===0&&!(t.mode&1)&&(qm=Ci()+500,O1&&dd()))}function Vs(e,t){var r=e.callbackNode;sse(e,t);var n=rS(e,e===co?To:0);if(n===0)r!==null&&dF(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dF(r),t===1)e.tag===0?oae(i3.bind(null,e)):aV(i3.bind(null,e)),tae(function(){!(gn&6)&&dd()}),r=null;else{switch(Dq(n)){case 1:r=DC;break;case 4:r=Cq;break;case 16:r=tS;break;case 536870912:r=kq;break;default:r=tS}r=o8(r,QV.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function QV(e,t){if($b=-1,xb=0,gn&6)throw Error(Bt(327));var r=e.callbackNode;if(_m()&&e.callbackNode!==r)return null;var n=rS(e,e===co?To:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bS(e,n);else{t=n;var i=gn;gn|=2;var o=e8();(co!==e||To!==t)&&(mc=null,qm=Ci()+500,Ah(e,t));do try{xae();break}catch(a){ZV(e,a)}while(!0);JC(),vS.current=o,gn=i,Ui!==null?t=0:(co=null,To=0,t=Zi)}if(t!==0){if(t===2&&(i=OO(e),i!==0&&(n=i,t=rP(e,i))),t===1)throw r=Ey,Ah(e,0),Lf(e,n),Vs(e,Ci()),r;if(t===6)Lf(e,n);else{if(i=e.current.alternate,!(n&30)&&!Tae(i)&&(t=bS(e,n),t===2&&(o=OO(e),o!==0&&(n=o,t=rP(e,o))),t===1))throw r=Ey,Ah(e,0),Lf(e,n),Vs(e,Ci()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Bt(345));case 2:ih(e,Fs,mc);break;case 3:if(Lf(e,n),(n&130023424)===n&&(t=ck+500-Ci(),10<t)){if(rS(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){gs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=DO(ih.bind(null,e,Fs,mc),t);break}ih(e,Fs,mc);break;case 4:if(Lf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Gl(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Ci()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sae(n/1960))-n,10<n){e.timeoutHandle=DO(ih.bind(null,e,Fs,mc),n);break}ih(e,Fs,mc);break;case 5:ih(e,Fs,mc);break;default:throw Error(Bt(329))}}}return Vs(e,Ci()),e.callbackNode===r?QV.bind(null,e):null}function rP(e,t){var r=Fv;return e.current.memoizedState.isDehydrated&&(Ah(e,t).flags|=256),e=bS(e,t),e!==2&&(t=Fs,Fs=r,t!==null&&nP(t)),e}function nP(e){Fs===null?Fs=e:Fs.push.apply(Fs,e)}function Tae(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Jl(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lf(e,t){for(t&=~uk,t&=~I1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gl(t),n=1<<r;e[r]=-1,t&=~n}}function i3(e){if(gn&6)throw Error(Bt(327));_m();var t=rS(e,0);if(!(t&1))return Vs(e,Ci()),null;var r=bS(e,t);if(e.tag!==0&&r===2){var n=OO(e);n!==0&&(t=n,r=rP(e,n))}if(r===1)throw r=Ey,Ah(e,0),Lf(e,t),Vs(e,Ci()),r;if(r===6)throw Error(Bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ih(e,Fs,mc),Vs(e,Ci()),null}function fk(e,t){var r=gn;gn|=1;try{return e(t)}finally{gn=r,gn===0&&(qm=Ci()+500,O1&&dd())}}function zh(e){zf!==null&&zf.tag===0&&!(gn&6)&&_m();var t=gn;gn|=1;var r=ll.transition,n=Ln;try{if(ll.transition=null,Ln=1,e)return e()}finally{Ln=n,ll.transition=r,gn=t,!(gn&6)&&dd()}}function dk(){ha=um.current,ai(um)}function Ah(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eae(r)),Ui!==null)for(r=Ui.return;r!==null;){var n=r;switch(WC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&aS();break;case 3:Um(),ai(zs),ai(qo),tk();break;case 5:ek(n);break;case 4:Um();break;case 13:ai(gi);break;case 19:ai(gi);break;case 10:YC(n.type._context);break;case 22:case 23:dk()}r=r.return}if(co=e,Ui=e=td(e.current,null),To=ha=t,Zi=0,Ey=null,uk=I1=Uh=0,Fs=Fv=null,yh!==null){for(t=0;t<yh.length;t++)if(r=yh[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}yh=null}return e}function ZV(e,t){do{var r=Ui;try{if(JC(),Eb.current=gS,mS){for(var n=vi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mS=!1}if(Bh=0,ao=Yi=vi=null,Mv=!1,wy=0,lk.current=null,r===null||r.return===null){Zi=1,Ey=t,Ui=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=To,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=HF(s);if(m!==null){m.flags&=-257,WF(m,s,a,o,t),m.mode&1&&VF(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){VF(o,u,t),hk();break e}l=Error(Bt(426))}}else if(ci&&a.mode&1){var v=HF(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),WF(v,s,a,o,t),GC(zm(l,a));break e}}o=l=zm(l,a),Zi!==4&&(Zi=2),Fv===null?Fv=[o]:Fv.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=DV(o,l,t);LF(o,h);break e;case 1:a=l;var E=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zf===null||!Zf.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=MV(o,a,t);LF(o,S);break e}}o=o.return}while(o!==null)}r8(r)}catch(T){t=T,Ui===r&&r!==null&&(Ui=r=r.return);continue}break}while(!0)}function e8(){var e=vS.current;return vS.current=gS,e===null?gS:e}function hk(){(Zi===0||Zi===3||Zi===2)&&(Zi=4),co===null||!(Uh&268435455)&&!(I1&268435455)||Lf(co,To)}function bS(e,t){var r=gn;gn|=2;var n=e8();(co!==e||To!==t)&&(mc=null,Ah(e,t));do try{$ae();break}catch(i){ZV(e,i)}while(!0);if(JC(),gn=r,vS.current=n,Ui!==null)throw Error(Bt(261));return co=null,To=0,Zi}function $ae(){for(;Ui!==null;)t8(Ui)}function xae(){for(;Ui!==null&&!Xoe();)t8(Ui)}function t8(e){var t=i8(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?r8(e):Ui=t,lk.current=null}function r8(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wae(r,t),r!==null){r.flags&=32767,Ui=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zi=6,Ui=null;return}}else if(r=yae(r,t,ha),r!==null){Ui=r;return}if(t=t.sibling,t!==null){Ui=t;return}Ui=t=e}while(t!==null);Zi===0&&(Zi=5)}function ih(e,t,r){var n=Ln,i=ll.transition;try{ll.transition=null,Ln=1,Aae(e,t,r,n)}finally{ll.transition=i,Ln=n}return null}function Aae(e,t,r,n){do _m();while(zf!==null);if(gn&6)throw Error(Bt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Bt(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(ase(e,o),e===co&&(Ui=co=null,To=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yw||(yw=!0,o8(tS,function(){return _m(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ll.transition,ll.transition=null;var s=Ln;Ln=1;var a=gn;gn|=4,lk.current=null,_ae(e,r),YV(r,e),Gse(kO),nS=!!CO,kO=CO=null,e.current=r,Eae(r),Qoe(),gn=a,Ln=s,ll.transition=o}else e.current=r;if(yw&&(yw=!1,zf=e,wS=i),o=e.pendingLanes,o===0&&(Zf=null),tse(r.stateNode),Vs(e,Ci()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yS)throw yS=!1,e=eP,eP=null,e;return wS&1&&e.tag!==0&&_m(),o=e.pendingLanes,o&1?e===tP?Bv++:(Bv=0,tP=e):Bv=0,dd(),null}function _m(){if(zf!==null){var e=Dq(wS),t=ll.transition,r=Ln;try{if(ll.transition=null,Ln=16>e?16:e,zf===null)var n=!1;else{if(e=zf,zf=null,wS=0,gn&6)throw Error(Bt(331));var i=gn;for(gn|=4,Qt=e.current;Qt!==null;){var o=Qt,s=o.child;if(Qt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Qt=u;Qt!==null;){var f=Qt;switch(f.tag){case 0:case 11:case 15:Lv(8,f,o)}var c=f.child;if(c!==null)c.return=f,Qt=c;else for(;Qt!==null;){f=Qt;var p=f.sibling,m=f.return;if(GV(f),f===u){Qt=null;break}if(p!==null){p.return=m,Qt=p;break}Qt=m}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}Qt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Qt=s;else e:for(;Qt!==null;){if(o=Qt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Lv(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,Qt=h;break e}Qt=o.return}}var E=e.current;for(Qt=E;Qt!==null;){s=Qt;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Qt=y;else e:for(s=E;Qt!==null;){if(a=Qt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:N1(9,a)}}catch(T){Si(a,a.return,T)}if(a===s){Qt=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Qt=S;break e}Qt=a.return}}if(gn=i,dd(),Bu&&typeof Bu.onPostCommitFiberRoot=="function")try{Bu.onPostCommitFiberRoot(S1,e)}catch{}n=!0}return n}finally{Ln=r,ll.transition=t}}return!1}function o3(e,t,r){t=zm(r,t),t=DV(e,t,1),e=Qf(e,t,1),t=gs(),e!==null&&(Hy(e,1,t),Vs(e,t))}function Si(e,t,r){if(e.tag===3)o3(e,e,r);else for(;t!==null;){if(t.tag===3){o3(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zf===null||!Zf.has(n))){e=zm(r,e),e=MV(t,e,1),t=Qf(t,e,1),e=gs(),t!==null&&(Hy(t,1,e),Vs(t,e));break}}t=t.return}}function Oae(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gs(),e.pingedLanes|=e.suspendedLanes&r,co===e&&(To&r)===r&&(Zi===4||Zi===3&&(To&130023424)===To&&500>Ci()-ck?Ah(e,0):uk|=r),Vs(e,t)}function n8(e,t){t===0&&(e.mode&1?(t=lw,lw<<=1,!(lw&130023424)&&(lw=4194304)):t=1);var r=gs();e=jc(e,t),e!==null&&(Hy(e,t,r),Vs(e,r))}function Pae(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),n8(e,r)}function Rae(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Bt(314))}n!==null&&n.delete(t),n8(e,r)}var i8;i8=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zs.current)Us=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Us=!1,vae(e,t,r);Us=!!(e.flags&131072)}else Us=!1,ci&&t.flags&1048576&&lV(t,cS,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Tb(e,t),e=t.pendingProps;var i=Lm(t,qo.current);bm(t,r),i=nk(null,t,n,e,i,r);var o=ik();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qs(n)?(o=!0,lS(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QC(t),i.updater=R1,t.stateNode=i,i._reactInternals=t,qO(t,n,e,r),t=WO(null,t,n,!0,o,r)):(t.tag=0,ci&&o&&HC(t),os(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Tb(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Iae(n),e=Bl(n,e),i){case 0:t=HO(null,t,n,e,r);break e;case 1:t=JF(null,t,n,e,r);break e;case 11:t=GF(null,t,n,e,r);break e;case 14:t=KF(null,t,n,Bl(n.type,e),r);break e}throw Error(Bt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),HO(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),JF(e,t,n,i,r);case 3:e:{if(UV(t),e===null)throw Error(Bt(387));n=t.pendingProps,o=t.memoizedState,i=o.element,pV(e,t),hS(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zm(Error(Bt(423)),t),t=YF(e,t,n,r,i);break e}else if(n!==i){i=zm(Error(Bt(424)),t),t=YF(e,t,n,r,i);break e}else for(va=Xf(t.stateNode.containerInfo.firstChild),wa=t,ci=!0,ql=null,r=dV(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fm(),n===i){t=Dc(e,t,r);break e}os(e,t,n,r)}t=t.child}return t;case 5:return mV(t),e===null&&BO(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,jO(n,i)?s=null:o!==null&&jO(n,o)&&(t.flags|=32),BV(e,t),os(e,t,s,r),t.child;case 6:return e===null&&BO(t),null;case 13:return zV(e,t,r);case 4:return ZC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bm(t,null,n,r):os(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),GF(e,t,n,i,r);case 7:return os(e,t,t.pendingProps,r),t.child;case 8:return os(e,t,t.pendingProps.children,r),t.child;case 12:return os(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ti(fS,n._currentValue),n._currentValue=s,o!==null)if(Jl(o.value,s)){if(o.children===i.children&&!zs.current){t=Dc(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Rc(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),UO(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Bt(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),UO(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}os(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,bm(t,r),i=fl(i),n=n(i),t.flags|=1,os(e,t,n,r),t.child;case 14:return n=t.type,i=Bl(n,t.pendingProps),i=Bl(n.type,i),KF(e,t,n,i,r);case 15:return LV(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Bl(n,i),Tb(e,t),t.tag=1,qs(n)?(e=!0,lS(t)):e=!1,bm(t,r),jV(t,n,i),qO(t,n,i,r),WO(null,t,n,!0,e,r);case 19:return qV(e,t,r);case 22:return FV(e,t,r)}throw Error(Bt(156,t.tag))};function o8(e,t){return Iq(e,t)}function Nae(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function al(e,t,r,n){return new Nae(e,t,r,n)}function pk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iae(e){if(typeof e=="function")return pk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===CC)return 11;if(e===kC)return 14}return 2}function td(e,t){var r=e.alternate;return r===null?(r=al(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ab(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")pk(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Zp:return Oh(r.children,i,o,t);case IC:s=8,i|=8;break;case hO:return e=al(12,r,t,i|2),e.elementType=hO,e.lanes=o,e;case pO:return e=al(13,r,t,i),e.elementType=pO,e.lanes=o,e;case mO:return e=al(19,r,t,i),e.elementType=mO,e.lanes=o,e;case mq:return C1(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hq:s=10;break e;case pq:s=9;break e;case CC:s=11;break e;case kC:s=14;break e;case kf:s=16,n=null;break e}throw Error(Bt(130,e==null?e:typeof e,""))}return t=al(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Oh(e,t,r,n){return e=al(7,e,n,t),e.lanes=r,e}function C1(e,t,r,n){return e=al(22,e,n,t),e.elementType=mq,e.lanes=r,e.stateNode={isHidden:!1},e}function _x(e,t,r){return e=al(6,e,null,t),e.lanes=r,e}function Ex(e,t,r){return t=al(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cae(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rx(0),this.expirationTimes=rx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mk(e,t,r,n,i,o,s,a,l){return e=new Cae(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=al(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},QC(o),e}function kae(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function s8(e){if(!e)return ad;e=e._reactInternals;e:{if(Zh(e)!==e||e.tag!==1)throw Error(Bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Bt(171))}if(e.tag===1){var r=e.type;if(qs(r))return sV(e,r,t)}return t}function a8(e,t,r,n,i,o,s,a,l){return e=mk(r,n,!0,e,i,o,s,a,l),e.context=s8(null),r=e.current,n=gs(),i=ed(r),o=Rc(n,i),o.callback=t??null,Qf(r,o,i),e.current.lanes=i,Hy(e,i,n),Vs(e,n),e}function k1(e,t,r,n){var i=t.current,o=gs(),s=ed(i);return r=s8(r),t.context===null?t.context=r:t.pendingContext=r,t=Rc(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qf(i,t,s),e!==null&&(Kl(e,i,s,o),_b(e,i,s)),s}function _S(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function s3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gk(e,t){s3(e,t),(e=e.alternate)&&s3(e,t)}function jae(){return null}var l8=typeof reportError=="function"?reportError:function(e){console.error(e)};function vk(e){this._internalRoot=e}j1.prototype.render=vk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Bt(409));k1(e,t,null,null)};j1.prototype.unmount=vk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zh(function(){k1(null,e,null,null)}),t[kc]=null}};function j1(e){this._internalRoot=e}j1.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fq();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mf.length&&t!==0&&t<Mf[r].priority;r++);Mf.splice(r,0,e),r===0&&Uq(e)}};function yk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function D1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function a3(){}function Dae(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=_S(s);o.call(u)}}var s=a8(t,n,e,0,null,!1,!1,"",a3);return e._reactRootContainer=s,e[kc]=s.current,py(e.nodeType===8?e.parentNode:e),zh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=_S(l);a.call(u)}}var l=mk(e,0,!1,null,null,!1,!1,"",a3);return e._reactRootContainer=l,e[kc]=l.current,py(e.nodeType===8?e.parentNode:e),zh(function(){k1(t,l,r,n)}),l}function M1(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=_S(s);a.call(l)}}k1(t,s,e,i)}else s=Dae(r,t,e,i,n);return _S(s)}Mq=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uv(t.pendingLanes);r!==0&&(MC(t,r|1),Vs(t,Ci()),!(gn&6)&&(qm=Ci()+500,dd()))}break;case 13:zh(function(){var n=jc(e,1);if(n!==null){var i=gs();Kl(n,e,1,i)}}),gk(e,1)}};LC=function(e){if(e.tag===13){var t=jc(e,134217728);if(t!==null){var r=gs();Kl(t,e,134217728,r)}gk(e,134217728)}};Lq=function(e){if(e.tag===13){var t=ed(e),r=jc(e,t);if(r!==null){var n=gs();Kl(r,e,t,n)}gk(e,t)}};Fq=function(){return Ln};Bq=function(e,t){var r=Ln;try{return Ln=e,t()}finally{Ln=r}};$O=function(e,t,r){switch(t){case"input":if(yO(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=A1(n);if(!i)throw Error(Bt(90));vq(n),yO(n,i)}}}break;case"textarea":wq(e,r);break;case"select":t=r.value,t!=null&&gm(e,!!r.multiple,t,!1)}};xq=fk;Aq=zh;var Mae={usingClientEntryPoint:!1,Events:[Gy,nm,A1,Tq,$q,fk]},Vg={findFiberByHostInstance:vh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lae={bundleType:Vg.bundleType,version:Vg.version,rendererPackageName:Vg.rendererPackageName,rendererConfig:Vg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rq(e),e===null?null:e.stateNode},findFiberByHostInstance:Vg.findFiberByHostInstance||jae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ww=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ww.isDisabled&&ww.supportsFiber)try{S1=ww.inject(Lae),Bu=ww}catch{}}Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mae;Sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yk(t))throw Error(Bt(200));return kae(e,t,null,r)};Sa.createRoot=function(e,t){if(!yk(e))throw Error(Bt(299));var r=!1,n="",i=l8;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mk(e,1,!1,null,null,r,!1,n,i),e[kc]=t.current,py(e.nodeType===8?e.parentNode:e),new vk(t)};Sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Bt(188)):(e=Object.keys(e).join(","),Error(Bt(268,e)));return e=Rq(t),e=e===null?null:e.stateNode,e};Sa.flushSync=function(e){return zh(e)};Sa.hydrate=function(e,t,r){if(!D1(t))throw Error(Bt(200));return M1(null,e,t,!0,r)};Sa.hydrateRoot=function(e,t,r){if(!yk(e))throw Error(Bt(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=l8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=a8(t,null,e,1,r??null,i,!1,o,s),e[kc]=t.current,py(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new j1(t)};Sa.render=function(e,t,r){if(!D1(t))throw Error(Bt(200));return M1(null,e,t,!1,r)};Sa.unmountComponentAtNode=function(e){if(!D1(e))throw Error(Bt(40));return e._reactRootContainer?(zh(function(){M1(null,null,e,!1,function(){e._reactRootContainer=null,e[kc]=null})}),!0):!1};Sa.unstable_batchedUpdates=fk;Sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!D1(r))throw Error(Bt(200));if(e==null||e._reactInternals===void 0)throw Error(Bt(38));return M1(e,t,r,!1,n)};Sa.version="18.3.1-next-f1338f8080-20240426";function u8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u8)}catch(e){console.error(e)}}u8(),uq.exports=Sa;var c8=uq.exports;const $a=Wu(c8);var l3=c8;fO.createRoot=l3.createRoot,fO.hydrateRoot=l3.hydrateRoot;const Fae={offlineTD:"",isValidJSON:!0,parsedTD:{},isModified:!1,name:"",fileHandle:null,linkedTd:void 0,validationMessage:void 0,northboundConnection:{message:"",northboundTd:{}},contributeCatalog:{model:"",author:"",manufacturer:"",license:"",copyrightYear:"",holder:"",tmCatalogEndpoint:"",nameRepository:"",dynamicValues:{}},updateOfflineTD:()=>{},updateIsModified:()=>{},setFileHandle:()=>{},removeForm:()=>{},addForm:()=>{},removeLink:()=>{},removeOneOfAKindReducer:()=>{},addLinkedTd:()=>{},updateLinkedTd:()=>{},updateValidationMessage:()=>{},updateNorthboundConnection:()=>{},updateContributeCatalog:()=>{}},Fn=ct.createContext(Fae),Bae=(e,t)=>{switch(t.type){case f8:return Uae(t.offlineTD,e);case d8:return Kae(t.isModified,e);case h8:return Jae(t.fileHandle,e);case p8:return zae(t.level,t.interactionName,t.toBeDeletedForm,t.index,e);case m8:return qae(t.link,e);case v8:return Vae(t.kind,t.oneOfAKindName,e);case g8:return Hae(t.level,t.interactionName,t.form,e);case y8:return Wae(t.linkedTd,e);case w8:return Gae(t.linkedTd,e);case b8:return Yae(t.validationMessage,e);case _8:return Xae(t.northboundConnection,e);case E8:return Qae(t.contributeCatalog,e);default:return e}},Uae=(e,t)=>{if(e==t.offlineTD)return t;if(e==="")return{...t,offlineTD:"",isModified:!0,isValidJSON:!0,parsedTD:{}};let r;try{r=JSON.parse(e)}catch(i){return console.error(i.message),{...t,offlineTD:e,isModified:!0,isValidJSON:!1,parsedTD:t.parsedTD}}let n=t.linkedTd;if(!n)n={[(r==null?void 0:r.title)??"ediTDor Thing"]:r};else if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const i=document.getElementById("linkedTd"),o=(i==null?void 0:i.value)||"";o===""?n[(r==null?void 0:r.title)||"ediTDor Thing"]=r:n[o]=r}return{...t,offlineTD:e,isModified:!0,isValidJSON:!0,linkedTd:n,parsedTD:r}},zae=(e,t,r,n,i)=>{var a,l;if(!i.isValidJSON)return i;let o=structuredClone(i.parsedTD),s;if(e==="thing"){if(!o.forms||!Array.isArray(o.forms))return i;s=o.forms}else{if(!o[e]||!o[e][t]||!o[e][t].forms||!Array.isArray(o[e][t].forms))return i;s=o[e][t].forms}if(!s||n>s.length-1)return i;if((a=s[n])!=null&&a.op&&Array.isArray(s[n].op)){const u=s[n].op.indexOf(r.op);if(u===-1)return i;s[n].op.splice(u,1),s[n].op.length==0&&s.splice(n,1)}else((l=s[n])==null?void 0:l.op)===r.op&&s.splice(n,1);return{...i,offlineTD:JSON.stringify(o,null,2),parsedTD:o}},qae=(e,t)=>{var i;if(!t.isValidJSON)return t;let r=structuredClone(t.parsedTD);try{(i=r.links)==null||i.splice(e,1)}catch{alert("Sorry we were unable to delete the Link.")}let n=t.linkedTd;if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const o=document.getElementById("linkedTd");let s=o?o.value:"";s===""?n[r.title||"ediTDor Thing"]=r:n[s]=r}return{...t,offlineTD:JSON.stringify(r,null,2),linkedTd:n,parsedTD:r}},Vae=(e,t,r)=>{if(!r.isValidJSON)return r;let n=structuredClone(r.parsedTD);try{delete n[e][t]}catch{alert("Sorry we were unable to delete the Form.")}return{...r,offlineTD:JSON.stringify(n,null,2),parsedTD:n}},Hae=(e,t,r,n)=>{var s;if(!n.isValidJSON)return n;let i=structuredClone(n.parsedTD);if(e=="thing")return i.forms&&!Array.isArray(i.forms)?n:(i.forms||(i.forms=void 0),(s=i.forms)==null||s.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i});if(!i[e]||!i[e][t])return n;const o=i[e][t];return o.forms||(o.forms=[]),o.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i}},Wae=(e,t)=>{let r=structuredClone(t.linkedTd),n={};return r===void 0?n=e:n=Object.assign(r,e),{...t,linkedTd:n}},Gae=(e,t)=>({...t,linkedTd:e}),Kae=(e,t)=>({...t,isModified:e}),Jae=(e,t)=>({...t,fileHandle:e}),Yae=(e,t)=>({...t,validationMessage:e}),Xae=(e,t)=>({...t,northboundConnection:e}),Qae=(e,t)=>({...t,contributeCatalog:e}),f8="UPDATE_OFFLINE_TD",d8="UPDATE_IS_MODIFIED",h8="SET_FILE_HANDLE",p8="REMOVE_FORM_FROM_TD",m8="REMOVE_LINK_FROM_TD",g8="ADD_FORM_TO_TD",v8="REMOVE_ONE_OF_A_KIND_FROM_TD",y8="ADD_LINKED_TD",w8="UPDATE_LINKED_TD",b8="UPDATE_VALIDATION_MESSAGE",_8="UPDATE_NORTHBOUND_CONNECTION",E8="UPDATE_CONTRIBUTE_CATALOG",Zae=({children:e})=>{const[t,r]=Pe.useReducer(Bae,{offlineTD:"",isModified:!1,isValidJSON:!1,parsedTD:{},name:"",validationMessage:"",fileHandle:null,linkedTd:void 0,northboundConnection:{message:"",northboundTd:{}},contributeCatalog:{model:"",author:"",manufacturer:"",license:"",copyrightYear:"",holder:"",tmCatalogEndpoint:"",nameRepository:"",dynamicValues:{}}}),n=_=>{r({type:f8,offlineTD:_})},i=_=>{r({type:d8,isModified:_})},o=_=>{r({type:h8,fileHandle:_})},s=_=>{r({type:m8,link:_})},a=(_,v,h)=>{r({type:g8,level:_,interactionName:v,form:h})},l=(_,v,h,E)=>{r({type:p8,level:_,interactionName:v,toBeDeletedForm:h,index:E})},u=(_,v)=>{r({type:v8,kind:_,oneOfAKindName:v})},f=_=>{r({type:y8,linkedTd:_})},c=_=>{r({type:w8,linkedTd:_})},p=_=>{r({type:b8,validationMessage:_})},m=_=>{r({type:_8,northboundConnection:_})},g=_=>{r({type:E8,contributeCatalog:_})};return Q.jsx(Fn.Provider,{value:{offlineTD:t.offlineTD,isModified:t.isModified,isValidJSON:t.isValidJSON,parsedTD:t.parsedTD,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,northboundConnection:t.northboundConnection,contributeCatalog:t.contributeCatalog,updateOfflineTD:n,updateIsModified:i,setFileHandle:o,removeLink:s,addForm:a,removeForm:l,removeOneOfAKindReducer:u,addLinkedTd:f,updateLinkedTd:c,updateValidationMessage:p,updateNorthboundConnection:m,updateContributeCatalog:g},children:e})};function u3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ele(e){if(Array.isArray(e))return e}function tle(e,t,r){return(t=lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function nle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){tle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ile(e,t){if(e==null)return{};var r,n,i=ole(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ole(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sle(e,t){return ele(e)||rle(e,t)||ule(e,t)||nle()}function ale(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lle(e){var t=ale(e,"string");return typeof t=="symbol"?t:t+""}function ule(e,t){if(e){if(typeof e=="string")return u3(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u3(e,t):void 0}}function cle(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fle(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function fv(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function ES(e){return{}.toString.call(e).includes("Object")}function dle(e){return!Object.keys(e).length}function Sy(e){return typeof e=="function"}function hle(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ple(e,t){return ES(t)||rd("changeType"),Object.keys(t).some(function(r){return!hle(e,r)})&&rd("changeField"),t}function mle(e){Sy(e)||rd("selectorType")}function gle(e){Sy(e)||ES(e)||rd("handlerType"),ES(e)&&Object.values(e).some(function(t){return!Sy(t)})&&rd("handlersType")}function vle(e){e||rd("initialIsRequired"),ES(e)||rd("initialType"),dle(e)&&rd("initialContent")}function yle(e,t){throw new Error(e[t]||e.default)}var wle={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},rd=fv(yle)(wle),bw={changes:ple,selector:mle,handler:gle,initial:vle};function ble(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bw.initial(e),bw.handler(t);var r={current:e},n=fv(Sle)(r,t),i=fv(Ele)(r),o=fv(bw.changes)(e),s=fv(_le)(r);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return bw.selector(u),u(r.current)}function l(u){fle(n,i,o,s)(u)}return[a,l]}function _le(e,t){return Sy(t)?t(e.current):t}function Ele(e,t){return e.current=h3(h3({},e.current),t),t}function Sle(e,t,r){return Sy(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var Tle={create:ble},$le={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.54.0/min/vs"}};function xle(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function Ale(e){return{}.toString.call(e).includes("Object")}function Ole(e){return e||p3("configIsRequired"),Ale(e)||p3("configType"),e.urls?(Ple(),{paths:{vs:e.urls.monacoBase}}):e}function Ple(){console.warn(S8.deprecation)}function Rle(e,t){throw new Error(e[t]||e.default)}var S8={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},p3=xle(Rle)(S8),Nle={config:Ole},Ile=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,s){return s(o)},i)}};function T8(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],T8(e[r],t[r]))}),f3(f3({},e),t)}var Cle={type:"cancelation",msg:"operation is manually canceled"};function Sx(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(Cle):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var kle=["monaco"],jle=Tle.create({config:$le,isInitialized:!1,resolve:null,reject:null,monaco:null}),$8=sle(jle,2),Jy=$8[0],L1=$8[1];function Dle(e){var t=Nle.config(e),r=t.monaco,n=ile(t,kle);L1(function(i){return{config:T8(i.config,n),monaco:r}})}function Mle(){var e=Jy(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(L1({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Sx(Tx);if(window.monaco&&window.monaco.editor)return x8(window.monaco),e.resolve(window.monaco),Sx(Tx);Ile(Lle,Ble)(Ule)}return Sx(Tx)}function Lle(e){return document.body.appendChild(e)}function Fle(e){var t=document.createElement("script");return e&&(t.src=e),t}function Ble(e){var t=Jy(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=Fle("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Ule(){var e=Jy(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m;x8(n),e.resolve(n)},function(r){e.reject(r)})}function x8(e){Jy().monaco||L1({monaco:e})}function zle(){return Jy(function(e){var t=e.monaco;return t})}var Tx=new Promise(function(e,t){return L1({resolve:e,reject:t})}),A8={config:Dle,init:Mle,__getMonacoInstance:zle},qle={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},$x=qle,Vle={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Hle=Vle;function Wle({children:e}){return ct.createElement("div",{style:Hle.container},e)}var Gle=Wle,Kle=Gle;function Jle({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:s}){return ct.createElement("section",{style:{...$x.wrapper,width:e,height:t},...s},!r&&ct.createElement(Kle,null,n),ct.createElement("div",{ref:i,style:{...$x.fullWidth,...!r&&$x.hide},className:o}))}var Yle=Jle,O8=Pe.memo(Yle);function Xle(e){Pe.useEffect(e,[])}var P8=Xle;function Qle(e,t,r=!0){let n=Pe.useRef(!0);Pe.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var pa=Qle;function Uv(){}function cm(e,t,r,n){return Zle(e,n)||eue(e,t,r,n)}function Zle(e,t){return e.editor.getModel(R8(e,t))}function eue(e,t,r,n){return e.editor.createModel(t,r,n?R8(e,n):void 0)}function R8(e,t){return e.Uri.parse(t)}function tue({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:f="Loading...",options:c={},height:p="100%",width:m="100%",className:g,wrapperProps:_={},beforeMount:v=Uv,onMount:h=Uv}){let[E,y]=Pe.useState(!1),[S,T]=Pe.useState(!0),x=Pe.useRef(null),d=Pe.useRef(null),$=Pe.useRef(null),O=Pe.useRef(h),P=Pe.useRef(v),k=Pe.useRef(!1);P8(()=>{let W=A8.init();return W.then(ne=>(d.current=ne)&&T(!1)).catch(ne=>(ne==null?void 0:ne.type)!=="cancelation"&&console.error("Monaco initialization: error:",ne)),()=>x.current?ie():W.cancel()}),pa(()=>{if(x.current&&d.current){let W=x.current.getOriginalEditor(),ne=cm(d.current,e||"",n||r||"text",o||"");ne!==W.getModel()&&W.setModel(ne)}},[o],E),pa(()=>{if(x.current&&d.current){let W=x.current.getModifiedEditor(),ne=cm(d.current,t||"",i||r||"text",s||"");ne!==W.getModel()&&W.setModel(ne)}},[s],E),pa(()=>{let W=x.current.getModifiedEditor();W.getOption(d.current.editor.EditorOption.readOnly)?W.setValue(t||""):t!==W.getValue()&&(W.executeEdits("",[{range:W.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),W.pushUndoStop())},[t],E),pa(()=>{var W,ne;(ne=(W=x.current)==null?void 0:W.getModel())==null||ne.original.setValue(e||"")},[e],E),pa(()=>{let{original:W,modified:ne}=x.current.getModel();d.current.editor.setModelLanguage(W,n||r||"text"),d.current.editor.setModelLanguage(ne,i||r||"text")},[r,n,i],E),pa(()=>{var W;(W=d.current)==null||W.editor.setTheme(u)},[u],E),pa(()=>{var W;(W=x.current)==null||W.updateOptions(c)},[c],E);let B=Pe.useCallback(()=>{var fe;if(!d.current)return;P.current(d.current);let W=cm(d.current,e||"",n||r||"text",o||""),ne=cm(d.current,t||"",i||r||"text",s||"");(fe=x.current)==null||fe.setModel({original:W,modified:ne})},[r,t,i,e,n,o,s]),K=Pe.useCallback(()=>{var W;!k.current&&$.current&&(x.current=d.current.editor.createDiffEditor($.current,{automaticLayout:!0,...c}),B(),(W=d.current)==null||W.editor.setTheme(u),y(!0),k.current=!0)},[c,u,B]);Pe.useEffect(()=>{E&&O.current(x.current,d.current)},[E]),Pe.useEffect(()=>{!S&&!E&&K()},[S,E,K]);function ie(){var ne,fe,re,le;let W=(ne=x.current)==null?void 0:ne.getModel();a||((fe=W==null?void 0:W.original)==null||fe.dispose()),l||((re=W==null?void 0:W.modified)==null||re.dispose()),(le=x.current)==null||le.dispose()}return ct.createElement(O8,{width:m,height:p,isEditorReady:E,loading:f,_ref:$,className:g,wrapperProps:_})}var rue=tue;Pe.memo(rue);function nue(e){let t=Pe.useRef();return Pe.useEffect(()=>{t.current=e},[e]),t.current}var iue=nue,_w=new Map;function oue({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:s="light",line:a,loading:l="Loading...",options:u={},overrideServices:f={},saveViewState:c=!0,keepCurrentModel:p=!1,width:m="100%",height:g="100%",className:_,wrapperProps:v={},beforeMount:h=Uv,onMount:E=Uv,onChange:y,onValidate:S=Uv}){let[T,x]=Pe.useState(!1),[d,$]=Pe.useState(!0),O=Pe.useRef(null),P=Pe.useRef(null),k=Pe.useRef(null),B=Pe.useRef(E),K=Pe.useRef(h),ie=Pe.useRef(),W=Pe.useRef(n),ne=iue(o),fe=Pe.useRef(!1),re=Pe.useRef(!1);P8(()=>{let z=A8.init();return z.then(J=>(O.current=J)&&$(!1)).catch(J=>(J==null?void 0:J.type)!=="cancelation"&&console.error("Monaco initialization: error:",J)),()=>P.current?F():z.cancel()}),pa(()=>{var J,R,C,q;let z=cm(O.current,e||n||"",t||i||"",o||r||"");z!==((J=P.current)==null?void 0:J.getModel())&&(c&&_w.set(ne,(R=P.current)==null?void 0:R.saveViewState()),(C=P.current)==null||C.setModel(z),c&&((q=P.current)==null||q.restoreViewState(_w.get(o))))},[o],T),pa(()=>{var z;(z=P.current)==null||z.updateOptions(u)},[u],T),pa(()=>{!P.current||n===void 0||(P.current.getOption(O.current.editor.EditorOption.readOnly)?P.current.setValue(n):n!==P.current.getValue()&&(re.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),P.current.pushUndoStop(),re.current=!1))},[n],T),pa(()=>{var J,R;let z=(J=P.current)==null?void 0:J.getModel();z&&i&&((R=O.current)==null||R.editor.setModelLanguage(z,i))},[i],T),pa(()=>{var z;a!==void 0&&((z=P.current)==null||z.revealLine(a))},[a],T),pa(()=>{var z;(z=O.current)==null||z.editor.setTheme(s)},[s],T);let le=Pe.useCallback(()=>{var z;if(!(!k.current||!O.current)&&!fe.current){K.current(O.current);let J=o||r,R=cm(O.current,n||e||"",t||i||"",J||"");P.current=(z=O.current)==null?void 0:z.editor.create(k.current,{model:R,automaticLayout:!0,...u},f),c&&P.current.restoreViewState(_w.get(J)),O.current.editor.setTheme(s),a!==void 0&&P.current.revealLine(a),x(!0),fe.current=!0}},[e,t,r,n,i,o,u,f,c,s,a]);Pe.useEffect(()=>{T&&B.current(P.current,O.current)},[T]),Pe.useEffect(()=>{!d&&!T&&le()},[d,T,le]),W.current=n,Pe.useEffect(()=>{var z,J;T&&y&&((z=ie.current)==null||z.dispose(),ie.current=(J=P.current)==null?void 0:J.onDidChangeModelContent(R=>{re.current||y(P.current.getValue(),R)}))},[T,y]),Pe.useEffect(()=>{if(T){let z=O.current.editor.onDidChangeMarkers(J=>{var C;let R=(C=P.current.getModel())==null?void 0:C.uri;if(R&&J.find(q=>q.path===R.path)){let q=O.current.editor.getModelMarkers({resource:R});S==null||S(q)}});return()=>{z==null||z.dispose()}}return()=>{}},[T,S]);function F(){var z,J;(z=ie.current)==null||z.dispose(),p?c&&_w.set(o,P.current.saveViewState()):(J=P.current.getModel())==null||J.dispose(),P.current.dispose()}return ct.createElement(O8,{width:m,height:g,isEditorReady:T,loading:l,_ref:k,className:_,wrapperProps:v})}var sue=oue,aue=Pe.memo(sue),N8=aue;const I8="---",C8="A-Za-z--------",lue=new RegExp("^[^"+C8+"]*["+I8+"]"),uue=new RegExp("^[^"+I8+"]*["+C8+"]");function m3(e){const t=String(e||"");return lue.test(t)?"rtl":uue.test(t)?"ltr":"neutral"}const k8=e=>!(typeof e=="object"&&!Array.isArray(e)&&e!==null)||!Object.prototype.hasOwnProperty.call(e,"@type")?!1:e["@type"].indexOf("tm:ThingModel")>-1,F1=(e,t,r)=>{let n={...e};for(const[i,o]of Object.entries(t))r.includes(i)||(n[i]=o);return n},B1=e=>{if(e===void 0&&!e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!Array.isArray(n.op)){n.actualIndex=r,t.push(n);continue}for(let i=0;i<n.op.length;i++){const o={...n};o.op=n.op[i],o.actualIndex=r,t.push(o)}}return t},cue=(e,t)=>{for(const r of t.links)if(r.href===e.href)return!0;return!1},fue=(e,t)=>{for(const r of t.forms){if(typeof e.op=="string")return due(e,r);for(const n of e.op)if(typeof r.op=="string"){if(r.op===n)return!0}else if(r.op.includes(n)){let i=!0;for(const o in e)o!=="op"&&r[o]!==e[o]&&(i=!1);if(i)return!0}}return!1},due=(e,t)=>{if(typeof t.op=="string"){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let r=!0;for(const n in e)n!=="op"&&t[n]!==e[n]&&(r=!1);if(r)return!0}},wk=async(e,t)=>{var r;if(e.linkedTd[t].kind==="file"){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(a){console.error(a.message)}let n=e.linkedTd[t];const i=await n.getFile(),o=JSON.parse(await i.text());let s=JSON.stringify(o,null,2);e.setFileHandle(n),e.updateOfflineTD(s),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(o){console.error(o.message)}e.setFileHandle(void 0);const n=e.linkedTd[t];let i=JSON.stringify(n,null,2);e.updateOfflineTD(i),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},iP=(e,t,r)=>{if(!e[t])return"";const n="",i="",o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},s=u=>u==="ltr"?n:i;if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return s(m3(e[t].toString()))+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const u=t.includes("-")?t.split("-")[0]:t.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}let a,l;if(Array.isArray(r)||(r=[r]),r.forEach(u=>{typeof u=="object"&&(u["@direction"]&&(a=u["@direction"]),u["@language"]&&(l=u["@language"]))}),t==="title"||t==="description"){if(a)return s(a)+e[t];if(l){const u=l.includes("-")?l.split("-")[0]:l.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}}return s(m3(e[t].toString()))+e[t]},hue={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20};let g3;const pue=(e,t,r)=>{clearTimeout(g3),g3=setTimeout(()=>e(t),r)},mue=({editorRef:e})=>{const t=Pe.useContext(Fn),[r]=Pe.useState([]),[n,i]=Pe.useState(void 0),o=Pe.useRef(null),[s,a]=Pe.useState([]),[l,u]=Pe.useState(""),f=Pe.useMemo(()=>new Worker(new URL(""+new URL("validationWorker-B1K2naAg.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),c=Pe.useMemo(()=>new Worker(new URL(""+new URL("schemaWorker-6hsQhLES.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),p=Pe.useCallback(h=>{c.postMessage(h),f.postMessage(h)},[c,f]);Pe.useEffect(()=>{const h=E=>{n.splice(0,n.length),E.forEach(function(y,S){console.debug(`using schema: ${S}`),n.push({schemaUri:S,schema:y})})};c.onmessage=E=>{console.debug("received message from schema worker"),h(E.data)},f.onmessage=E=>{console.debug("received message from validation worker");const y=E.data;t.updateValidationMessage(y)}},[c,f,n,t]),Pe.useEffect(()=>{t.offlineTD!==l&&p(t.offlineTD)},[t.offlineTD,p,l]);const m=(h,E)=>{if(!("Proxy"in window)){console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");return}let y=new Proxy(r,{set:function(S,T,x,d){S[T]=x;let $=[];for(let O=0;O<S.length;O++)$.push({fileMatch:["*/*"],uri:S[O].schemaUri,schema:S[O].schema});return E.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:$}),!0}});o.current=h,e&&(e.current=h),i(y)},g=async h=>{if(h){try{JSON.parse(h),t.updateOfflineTD(h),t.updateValidationMessage(void 0)}catch(E){t.updateValidationMessage({valid:!1,message:"Invalid JSON: "+(E instanceof Error?E.message:String(E))})}u(h),pue(p,h??"",500)}};Pe.useEffect(()=>{if(t.linkedTd)try{let h=[],E=0;for(let y in t.linkedTd)(t.linkedTd[y].kind==="file"||Object.keys(t.linkedTd[y]).length)&&(h.push(Q.jsx("option",{value:y,children:y},E)),E++);a(h)}catch(h){console.debug(h)}},[t.linkedTd,t.offlineTD]);const _=async()=>{let h=document.getElementById("linkedTd").value;wk(t,h)},v=h=>{h.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]})};return Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"h-[5%] bg-[#1e1e1e]",children:t.offlineTD&&t.linkedTd&&Q.jsx("select",{name:"linkedTd",id:"linkedTd",className:"w-[50%] bg-[#1e1e1e] text-white",onChange:()=>_(),children:s})}),Q.jsx("div",{className:"h-[95%] w-full",children:Q.jsx(N8,{options:hue,theme:"vs-dark",language:"json",value:t.offlineTD,beforeMount:v,onMount:m,onChange:g})})]})},ri=({children:e,variant:t="primary",className:r="",type:n="button",onClick:i,id:o,disabled:s})=>{const a="cursor-pointer rounded-md p-2 text-sm font-bold",l={primary:"bg-blue-500 text-white hover:bg-blue-600",secondary:"bg-gray-500 text-white hover:bg-gray-600",empty:""};return Q.jsx("button",{id:o,className:`${a} ${l[t]} ${r}`,onClick:i,type:n,disabled:s,children:e})},xa=e=>{const t=e.title??"Default Title",r=e.description??"Default description, please override.",n=e.children??Q.jsx(Q.Fragment,{}),i=e.leftButton??"Cancel",o=e.onHandleEventLeftButton??(()=>{}),s=e.rightButton??"Submit",a=e.onHandleEventRightButton??(()=>{}),l=e.auxiliaryButton??!1,u=e.onHandleEventAuxiliaryButton??(()=>{}),f=e.hasSubmit??!0,c=e.className??"lg:w-[40%]";let p={};return window.onkeydown=function(m){var g,_;p[m.key]=!0,p.Control&&p.Enter?(g=document.getElementById("submitButton"))==null||g.click():p.Escape&&((_=document.getElementById("cancelButton"))==null||_.click())},window.onkeyup=function(m){p[m.key]=!1},Q.jsx(Q.Fragment,{children:Q.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-black bg-opacity-80 text-white",children:Q.jsxs("div",{className:`flex max-h-[95%] w-[80%] flex-col justify-start rounded-xl bg-gray-500 p-4 shadow-xl ${c}`,children:[Q.jsx("div",{className:"flex flex-row items-center justify-start",children:Q.jsx("h1",{className:"flex-grow pl-2 text-2xl font-bold",children:t})}),Q.jsx("h2",{className:"py-2 pl-2 text-gray-400",children:r}),Q.jsx("div",{className:"overflow-auto p-2",children:n}),Q.jsxs("div",{className:"flex justify-end p-2 pt-4",children:[s!=="OK"&&Q.jsx(ri,{id:"leftButton",onClick:()=>o(),variant:"primary",type:"button",className:"ml-2",children:i}),l&&Q.jsx(ri,{id:"closeButton",onClick:()=>u(),variant:"primary",type:"button",className:"ml-2 flex",children:"Close"}),f&&Q.jsx(ri,{id:"rightButton",onClick:()=>a(),variant:"primary",type:"button",className:"ml-2 flex",children:s})]})]})})})},Yy=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),[n,i]=ct.useState(()=>!1),o=e.type??"",s=o&&o[0].toUpperCase()+o.slice(1),a=e.interaction??{},l=e.interactionName??"";Pe.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0)},f=()=>{i(!1)},c=_=>a.forms?fue(_,a):!1,p=_=>({action:"actions",property:"properties",event:"events",thing:"thing"})[_],m=vue(o),g=Q.jsxs(Q.Fragment,{children:[Q.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Operations:"}),Q.jsx("div",{className:"p-1",children:m}),Q.jsxs("div",{className:"p-1 pt-2",children:[Q.jsx("label",{htmlFor:"form-href",className:"pl-2 text-sm font-medium text-gray-400",children:"Href:"}),Q.jsx("input",{type:"text",name:"form-href",id:"form-href",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"http://example.com/href",onChange:()=>{gue()}}),Q.jsx("span",{id:"form-href-info",className:"pl-2 text-xs text-red-400"})]})]});return n?$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:f,onHandleEventRightButton:()=>{var v,h;const _={op:j8(o).map(E=>{const y=document.getElementById("form-"+E);return y!=null&&y.checked?y.value:void 0}).filter(E=>E!==void 0),href:((h=(v=document.getElementById("form-href"))==null?void 0:v.value)==null?void 0:h.trim())||"/"};_.op.length===0?v3("You have to select at least one operation ..."):c(_)?v3("A Form for one of the selected operations already exists ..."):(r.addForm(p(o),l,_),f())},rightButton:"Add",children:g,title:`Add ${s} Form`,description:`Tell us how this ${s} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null}),v3=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},gue=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},j8=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},vue=e=>Q.jsx("div",{className:"rounded-md bg-gray-600 p-1",children:j8(e).map(t=>yue(t))}),yue=e=>{const t=`form-${e}`;return Q.jsxs("div",{className:"form-checkbox pl-2",children:[e!=="invokeaction"?Q.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):Q.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:e==="invokeaction",checked:e==="invokeaction"}),Q.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)};Yy.displayName="AddFormDialog";const Vm=Math.min,Ph=Math.max,SS=Math.round,Ew=Math.floor,zu=e=>({x:e,y:e}),wue={left:"right",right:"left",bottom:"top",top:"bottom"},bue={start:"end",end:"start"};function oP(e,t,r){return Ph(e,Vm(t,r))}function Xy(e,t){return typeof e=="function"?e(t):e}function qh(e){return e.split("-")[0]}function Qy(e){return e.split("-")[1]}function D8(e){return e==="x"?"y":"x"}function bk(e){return e==="y"?"height":"width"}const _ue=new Set(["top","bottom"]);function qf(e){return _ue.has(qh(e))?"y":"x"}function _k(e){return D8(qf(e))}function Eue(e,t,r){r===void 0&&(r=!1);const n=Qy(e),i=_k(e),o=bk(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=TS(s)),[s,TS(s)]}function Sue(e){const t=TS(e);return[sP(e),t,sP(t)]}function sP(e){return e.replace(/start|end/g,t=>bue[t])}const y3=["left","right"],w3=["right","left"],Tue=["top","bottom"],$ue=["bottom","top"];function xue(e,t,r){switch(e){case"top":case"bottom":return r?t?w3:y3:t?y3:w3;case"left":case"right":return t?Tue:$ue;default:return[]}}function Aue(e,t,r,n){const i=Qy(e);let o=xue(qh(e),r==="start",n);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(sP)))),o}function TS(e){return e.replace(/left|right|bottom|top/g,t=>wue[t])}function Oue(e){return{top:0,right:0,bottom:0,left:0,...e}}function M8(e){return typeof e!="number"?Oue(e):{top:e,right:e,bottom:e,left:e}}function $S(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function b3(e,t,r){let{reference:n,floating:i}=e;const o=qf(t),s=_k(t),a=bk(s),l=qh(t),u=o==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,p=n[a]/2-i[a]/2;let m;switch(l){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:c};break;case"left":m={x:n.x-i.width,y:c};break;default:m={x:n.x,y:n.y}}switch(Qy(t)){case"start":m[s]-=p*(r&&u?-1:1);break;case"end":m[s]+=p*(r&&u?-1:1);break}return m}const Pue=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=b3(u,n,l),p=n,m={},g=0;for(let _=0;_<a.length;_++){const{name:v,fn:h}=a[_],{x:E,y,data:S,reset:T}=await h({x:f,y:c,initialPlacement:n,placement:p,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});f=E??f,c=y??c,m={...m,[v]:{...m[v],...S}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(u=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:f,y:c}=b3(u,p,l)),_=-1)}return{x:f,y:c,placement:p,strategy:i,middlewareData:m}};async function L8(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:p=!1,padding:m=0}=Xy(t,e),g=M8(m),v=a[p?c==="floating"?"reference":"floating":c],h=$S(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),E=c==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},T=$S(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:y,strategy:l}):E);return{top:(h.top-T.top+g.top)/S.y,bottom:(T.bottom-h.bottom+g.bottom)/S.y,left:(h.left-T.left+g.left)/S.x,right:(T.right-h.right+g.right)/S.x}}const Rue=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:f=0}=Xy(e,t)||{};if(u==null)return{};const c=M8(f),p={x:r,y:n},m=_k(i),g=bk(m),_=await s.getDimensions(u),v=m==="y",h=v?"top":"left",E=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-p[m]-o.floating[g],T=p[m]-o.reference[m],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let d=x?x[y]:0;(!d||!await(s.isElement==null?void 0:s.isElement(x)))&&(d=a.floating[y]||o.floating[g]);const $=S/2-T/2,O=d/2-_[g]/2-1,P=Vm(c[h],O),k=Vm(c[E],O),B=P,K=d-_[g]-k,ie=d/2-_[g]/2+$,W=oP(B,ie,K),ne=!l.arrow&&Qy(i)!=null&&ie!==W&&o.reference[g]/2-(ie<B?P:k)-_[g]/2<0,fe=ne?ie<B?ie-B:ie-K:0;return{[m]:p[m]+fe,data:{[m]:W,centerOffset:ie-W-fe,...ne&&{alignmentOffset:fe}},reset:ne}}}),Nue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...v}=Xy(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const h=qh(i),E=qf(a),y=qh(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=p||(y||!_?[TS(a)]:Sue(a)),x=g!=="none";!p&&x&&T.push(...Aue(a,_,g,S));const d=[a,...T],$=await L8(t,v),O=[];let P=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&O.push($[h]),c){const ie=Eue(i,s,S);O.push($[ie[0]],$[ie[1]])}if(P=[...P,{placement:i,overflows:O}],!O.every(ie=>ie<=0)){var k,B;const ie=(((k=o.flip)==null?void 0:k.index)||0)+1,W=d[ie];if(W&&(!(c==="alignment"?E!==qf(W):!1)||P.every(re=>qf(re.placement)===E?re.overflows[0]>0:!0)))return{data:{index:ie,overflows:P},reset:{placement:W}};let ne=(B=P.filter(fe=>fe.overflows[0]<=0).sort((fe,re)=>fe.overflows[1]-re.overflows[1])[0])==null?void 0:B.placement;if(!ne)switch(m){case"bestFit":{var K;const fe=(K=P.filter(re=>{if(x){const le=qf(re.placement);return le===E||le==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(le=>le>0).reduce((le,F)=>le+F,0)]).sort((re,le)=>re[1]-le[1])[0])==null?void 0:K[0];fe&&(ne=fe);break}case"initialPlacement":ne=a;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}},Iue=new Set(["left","top"]);async function Cue(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=qh(r),a=Qy(r),l=qf(r)==="y",u=Iue.has(s)?-1:1,f=o&&l?-1:1,c=Xy(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const kue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await Cue(t,e);return s===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},jue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:h,y:E}=v;return{x:h,y:E}}},...l}=Xy(e,t),u={x:r,y:n},f=await L8(t,l),c=qf(qh(i)),p=D8(c);let m=u[p],g=u[c];if(o){const v=p==="y"?"top":"left",h=p==="y"?"bottom":"right",E=m+f[v],y=m-f[h];m=oP(E,m,y)}if(s){const v=c==="y"?"top":"left",h=c==="y"?"bottom":"right",E=g+f[v],y=g-f[h];g=oP(E,g,y)}const _=a.fn({...t,[p]:m,[c]:g});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[p]:o,[c]:s}}}}}};function U1(){return typeof window<"u"}function ig(e){return F8(e)?(e.nodeName||"").toLowerCase():"#document"}function ba(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gu(e){var t;return(t=(F8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F8(e){return U1()?e instanceof Node||e instanceof ba(e).Node:!1}function Yl(e){return U1()?e instanceof Element||e instanceof ba(e).Element:!1}function Hu(e){return U1()?e instanceof HTMLElement||e instanceof ba(e).HTMLElement:!1}function _3(e){return!U1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ba(e).ShadowRoot}const Due=new Set(["inline","contents"]);function Zy(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Xl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Due.has(i)}const Mue=new Set(["table","td","th"]);function Lue(e){return Mue.has(ig(e))}const Fue=[":popover-open",":modal"];function z1(e){return Fue.some(t=>{try{return e.matches(t)}catch{return!1}})}const Bue=["transform","translate","scale","rotate","perspective"],Uue=["transform","translate","scale","rotate","perspective","filter"],zue=["paint","layout","strict","content"];function Ek(e){const t=Sk(),r=Yl(e)?Xl(e):e;return Bue.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Uue.some(n=>(r.willChange||"").includes(n))||zue.some(n=>(r.contain||"").includes(n))}function que(e){let t=ld(e);for(;Hu(t)&&!Hm(t);){if(Ek(t))return t;if(z1(t))return null;t=ld(t)}return null}function Sk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vue=new Set(["html","body","#document"]);function Hm(e){return Vue.has(ig(e))}function Xl(e){return ba(e).getComputedStyle(e)}function q1(e){return Yl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ld(e){if(ig(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_3(e)&&e.host||Gu(e);return _3(t)?t.host:t}function B8(e){const t=ld(e);return Hm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hu(t)&&Zy(t)?t:B8(t)}function Ty(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=B8(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),s=ba(i);if(o){const a=aP(s);return t.concat(s,s.visualViewport||[],Zy(i)?i:[],a&&r?Ty(a):[])}return t.concat(i,Ty(i,[],r))}function aP(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U8(e){const t=Xl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Hu(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=SS(r)!==o||SS(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function Tk(e){return Yl(e)?e:e.contextElement}function Em(e){const t=Tk(e);if(!Hu(t))return zu(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=U8(t);let s=(o?SS(r.width):r.width)/n,a=(o?SS(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Hue=zu(0);function z8(e){const t=ba(e);return!Sk()||!t.visualViewport?Hue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wue(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ba(e)?!1:t}function Vh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=Tk(e);let s=zu(1);t&&(n?Yl(n)&&(s=Em(n)):s=Em(e));const a=Wue(o,r,n)?z8(o):zu(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,c=i.height/s.y;if(o){const p=ba(o),m=n&&Yl(n)?ba(n):n;let g=p,_=aP(g);for(;_&&n&&m!==g;){const v=Em(_),h=_.getBoundingClientRect(),E=Xl(_),y=h.left+(_.clientLeft+parseFloat(E.paddingLeft))*v.x,S=h.top+(_.clientTop+parseFloat(E.paddingTop))*v.y;l*=v.x,u*=v.y,f*=v.x,c*=v.y,l+=y,u+=S,g=ba(_),_=aP(g)}}return $S({width:f,height:c,x:l,y:u})}function V1(e,t){const r=q1(e).scrollLeft;return t?t.left+r:Vh(Gu(e)).left+r}function q8(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-V1(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Gue(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",s=Gu(n),a=t?z1(t.floating):!1;if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=zu(1);const f=zu(0),c=Hu(n);if((c||!c&&!o)&&((ig(n)!=="body"||Zy(s))&&(l=q1(n)),Hu(n))){const m=Vh(n);u=Em(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const p=s&&!c&&!o?q8(s,l):zu(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-l.scrollTop*u.y+f.y+p.y}}function Kue(e){return Array.from(e.getClientRects())}function Jue(e){const t=Gu(e),r=q1(e),n=e.ownerDocument.body,i=Ph(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ph(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+V1(e);const a=-r.scrollTop;return Xl(n).direction==="rtl"&&(s+=Ph(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}const E3=25;function Yue(e,t){const r=ba(e),n=Gu(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const f=Sk();(!f||f&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=V1(n);if(u<=0){const f=n.ownerDocument,c=f.body,p=getComputedStyle(c),m=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(n.clientWidth-c.clientWidth-m);g<=E3&&(o-=g)}else u<=E3&&(o+=u);return{width:o,height:s,x:a,y:l}}const Xue=new Set(["absolute","fixed"]);function Que(e,t){const r=Vh(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=Hu(e)?Em(e):zu(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:s,height:a,x:l,y:u}}function S3(e,t,r){let n;if(t==="viewport")n=Yue(e,r);else if(t==="document")n=Jue(Gu(e));else if(Yl(t))n=Que(t,r);else{const i=z8(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $S(n)}function V8(e,t){const r=ld(e);return r===t||!Yl(r)||Hm(r)?!1:Xl(r).position==="fixed"||V8(r,t)}function Zue(e,t){const r=t.get(e);if(r)return r;let n=Ty(e,[],!1).filter(a=>Yl(a)&&ig(a)!=="body"),i=null;const o=Xl(e).position==="fixed";let s=o?ld(e):e;for(;Yl(s)&&!Hm(s);){const a=Xl(s),l=Ek(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&Xue.has(i.position)||Zy(s)&&!l&&V8(e,s))?n=n.filter(f=>f!==s):i=a,s=ld(s)}return t.set(e,n),n}function ece(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?z1(t)?[]:Zue(t,this._c):[].concat(r),n],a=s[0],l=s.reduce((u,f)=>{const c=S3(t,f,i);return u.top=Ph(c.top,u.top),u.right=Vm(c.right,u.right),u.bottom=Vm(c.bottom,u.bottom),u.left=Ph(c.left,u.left),u},S3(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tce(e){const{width:t,height:r}=U8(e);return{width:t,height:r}}function rce(e,t,r){const n=Hu(t),i=Gu(t),o=r==="fixed",s=Vh(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=zu(0);function u(){l.x=V1(i)}if(n||!n&&!o)if((ig(t)!=="body"||Zy(i))&&(a=q1(t)),n){const m=Vh(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();o&&!n&&i&&u();const f=i&&!n&&!o?q8(i,a):zu(0),c=s.left+a.scrollLeft-l.x-f.x,p=s.top+a.scrollTop-l.y-f.y;return{x:c,y:p,width:s.width,height:s.height}}function xx(e){return Xl(e).position==="static"}function T3(e,t){if(!Hu(e)||Xl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Gu(e)===r&&(r=r.ownerDocument.body),r}function H8(e,t){const r=ba(e);if(z1(e))return r;if(!Hu(e)){let i=ld(e);for(;i&&!Hm(i);){if(Yl(i)&&!xx(i))return i;i=ld(i)}return r}let n=T3(e,t);for(;n&&Lue(n)&&xx(n);)n=T3(n,t);return n&&Hm(n)&&xx(n)&&!Ek(n)?r:n||que(e)||r}const nce=async function(e){const t=this.getOffsetParent||H8,r=this.getDimensions,n=await r(e.floating);return{reference:rce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ice(e){return Xl(e).direction==="rtl"}const oce={convertOffsetParentRelativeRectToViewportRelativeRect:Gue,getDocumentElement:Gu,getClippingRect:ece,getOffsetParent:H8,getElementRects:nce,getClientRects:Kue,getDimensions:tce,getScale:Em,isElement:Yl,isRTL:ice};function W8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sce(e,t){let r=null,n;const i=Gu(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:c,width:p,height:m}=u;if(a||t(),!p||!m)return;const g=Ew(c),_=Ew(i.clientWidth-(f+p)),v=Ew(i.clientHeight-(c+m)),h=Ew(f),y={rootMargin:-g+"px "+-_+"px "+-v+"px "+-h+"px",threshold:Ph(0,Vm(1,l))||1};let S=!0;function T(x){const d=x[0].intersectionRatio;if(d!==l){if(!S)return s();d?s(!1,d):n=setTimeout(()=>{s(!1,1e-7)},1e3)}d===1&&!W8(u,e.getBoundingClientRect())&&s(),S=!1}try{r=new IntersectionObserver(T,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(T,y)}r.observe(e)}return s(!0),o}function ace(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=Tk(e),f=i||o?[...u?Ty(u):[],...Ty(t)]:[];f.forEach(h=>{i&&h.addEventListener("scroll",r,{passive:!0}),o&&h.addEventListener("resize",r)});const c=u&&a?sce(u,r):null;let p=-1,m=null;s&&(m=new ResizeObserver(h=>{let[E]=h;E&&E.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let g,_=l?Vh(e):null;l&&v();function v(){const h=Vh(e);_&&!W8(_,h)&&r(),_=h,g=requestAnimationFrame(v)}return r(),()=>{var h;f.forEach(E=>{i&&E.removeEventListener("scroll",r),o&&E.removeEventListener("resize",r)}),c==null||c(),(h=m)==null||h.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const lce=kue,uce=jue,cce=Nue,fce=Rue,$3=(e,t,r)=>{const n=new Map,i={platform:oce,...r},o={...i.platform,_c:n};return Pue(e,t,{...i,platform:o})};var G8={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,n(a)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(G8);var dce=G8.exports;const lP=Wu(dce);var x3={GENERATE_SOURCEMAP:"false",GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_f594a23b-affe-48c2-a58c-be7c40ab97d2",npm_package_devDependencies__types_node:"^22.13.15",npm_package_dependencies_react_dropzone:"^14.3.8",DOTNET_NOLOGO:"1",npm_package_devDependencies_vitest:"^3.2.4",USER:"runner",npm_package_devDependencies__testing_library_jest_dom:"^6.8.0",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.19.6 linux x64",CI:"true",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_f594a23b-affe-48c2-a58c-be7c40ab97d2",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.19.6/x64/bin/node",npm_package_devDependencies_vite:"^5.2.0",npm_package_dependencies_direction:"^2.0.1",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_dependencies_jsonld:"^8.3.2",HOME:"/home/runner",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_browserslist_production_1:"not dead",npm_package_dependencies_jointjs:"^3.7.7",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"eclipse",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies_react_scan:"^0.4.3",npm_package_dependencies__monaco_editor_react:"^4.7.0",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-9.2.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_package_devDependencies__types_jsonpointer:"^4.0.2",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"56974",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.2.1",npm_package_dependencies_react_feather:"^2.0.10",SYSTEMD_EXEC_PID:"1894",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"This project aims to make creating W3C Thing Description (TD) instances and Thing Model (TM) easy by providing a platform-independent ediTDor tool. The following features are addressed in this project:",npm_package_devDependencies_typescript:"^5.0.0",npm_package_devDependencies_tailwindcss:"^3.4.7",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^18.2.22",npm_package_homepage:"https://eclipse.github.io/editdor/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20251126.144.1",npm_package_devDependencies_prettier:"^3.5.3",npm_package_scripts_dev:"cross-env REACT_APP_TARGET_URL=http://localhost:8080 vite",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__vitejs_plugin_react:"^4.2.1",npm_package_dependencies_wot_thing_description_types:"1.1.0-12-March-2025",npm_package_dependencies_react_tooltip:"^5.26.4",npm_package_scripts_clean:"rm -rf node_modules dist build && yarn install && yarn build",npm_package_type:"module",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:10838",GITHUB_WORKFLOW:"publish-to-github-pages",_:"/usr/local/bin/yarn",npm_package_devDependencies_autoprefixer:"^10.4.19",npm_package_devDependencies__babel_preset_react:"^7.26.3",npm_package_private:"true",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.10/x64",npm_package_devDependencies__vitest_coverage_v8:"3.2.4",npm_package_scripts_lint:"eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.4/x64",GITHUB_RUN_ID:"19901608497",npm_package_devDependencies__types_lodash:"^4",npm_package_devDependencies__babel_core:"^7.26.10",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"8d2fc970da0a6c4a8c792e27d489fe0ba0277339",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.6",npm_package_dependencies_tailwind_merge:"^3.3.1",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"eclipse/editdor/.github/workflows/publish-to-gh-pages.yml@refs/heads/master",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_prettier_plugin_tailwindcss:"^0.6.11",npm_package_dependencies_jsonpointer:"^5.0.1",npm_package_author_email:"editdor-dev@eclipse.org",PATH:"/tmp/yarn--1764780313225-0.09566771293341914:/home/runner/work/editdor/editdor/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.19.6/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.6/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.6/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.6/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.19.6/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_866c797a-9d0a-4e4c-bbbd-0e94e116c883",INVOCATION_ID:"26e511b8db8346ea9e1dc5c6b9b56aff",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies__babel_eslint_parser:"^7.27.0",npm_package_repository_type:"git",npm_package_name:"editdor",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"110",GITHUB_TRIGGERING_ACTOR:"egekorkan",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_browserslist_development_2:"last 1 safari version",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^8.57.0",npm_package_dependencies_react_dom:"^18.2.0",npm_package_dependencies__types_json_schema:"^7.0.15",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1002067188",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"eclipse/editdor",npm_lifecycle_script:"vite build",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_package_scripts_test:"vitest run",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"285060286",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_devDependencies_jsdom:"^26.1.0",npm_package_devDependencies__types_react:"^18.2.66",npm_package_devDependencies__testing_library_react:"^16.3.0",npm_package_dependencies_ajv:"^8.17.1",npm_package_repository_url:"git+https://github.com/eclipse/editdor.git",npm_package_version:"0.8.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_uuid:"^13.0.0",npm_package_dependencies_ajv_formats:"^3.0.1",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/editdor/editdor",ACCEPT_EULA:"Y",GITHUB_JOB:"publish-to-gh-pages",npm_package_dependencies_lodash:"^4.17.21",npm_package_dependencies_json_dup_key_validator:"^1.0.3",npm_package_scripts_test_coverage:"vitest run --coverage",GITHUB_SHA:"8d2fc970da0a6c4a8c792e27d489fe0ba0277339",GITHUB_RUN_ATTEMPT:"1",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"egekorkan",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_eslint_plugin_react:"^7.34.1",npm_package_dependencies_lz_string:"^1.5.0",npm_package_license:"EPL-2.0 OR W3C-20150513",npm_config_strict_ssl:"true",npm_package_devDependencies__types_babel__core:"^7",npm_package_dependencies_monaco_editor:"^0.52.2",npm_package_scripts_test_watch:"vitest",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_f594a23b-affe-48c2-a58c-be7c40ab97d2",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/editdor/editdor",GITHUB_ACTOR_ID:"20195407",RUNNER_WORKSPACE:"/home/runner/work/editdor",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_devDependencies_wot_thing_model_types:"1.1.0-12-March-2025",npm_package_dependencies__column_resizer_react:"^1.3.0",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_f594a23b-affe-48c2-a58c-be7c40ab97d2",npm_package_author_name:"Eclipse ediTDor",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_package_devDependencies_postcss:"^8.4.40",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",npm_package_dependencies_wot_typescript_definitions:"^0.8.0-SNAPSHOT.30",npm_package_dependencies_react_papaparse:"^4.4.0",npm_package_dependencies_ajv_formats_draft2019:"1.6.1",npm_package_dependencies__node_wot_browser_bundle:"0.9.0",INIT_CWD:"/home/runner/work/editdor/editdor",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_f594a23b-affe-48c2-a58c-be7c40ab97d2",npm_package_dependencies_react:"^18.2.0",NODE_ENV:"production"};const hce="react-tooltip-core-styles",pce="react-tooltip-base-styles",A3={core:!1,base:!1};function O3({css:e,id:t=pce,type:r="base",ref:n}){var i,o;if(!e||typeof document>"u"||A3[r]||r==="core"&&typeof process<"u"&&(!((i=process==null?void 0:x3)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:x3)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=hce),n||(n={});const{insertAt:s}=n;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),A3[r]=!0}const P3=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:s=[lce(Number(i)),cce({fallbackAxisSideDirection:"start"}),uce({padding:5})],border:a,arrowSize:l=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const u=s;return r?(u.push(fce({element:r,padding:5})),$3(e,t,{placement:n,strategy:o,middleware:u}).then(({x:f,y:c,placement:p,middlewareData:m})=>{var g,_;const v={left:`${f}px`,top:`${c}px`,border:a},{x:h,y:E}=(g=m.arrow)!==null&&g!==void 0?g:{x:0,y:0},y=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[p.split("-")[0]])!==null&&_!==void 0?_:"bottom",S=a&&{borderBottom:a,borderRight:a};let T=0;if(a){const x=`${a}`.match(/(\d+)px/);T=x!=null&&x[1]?Number(x[1]):1}return{tooltipStyles:v,tooltipArrowStyles:{left:h!=null?`${h}px`:"",top:E!=null?`${E}px`:"",right:"",bottom:"",...S,[y]:`-${l/2+T}px`},place:p}})):$3(e,t,{placement:"bottom",strategy:o,middleware:u}).then(({x:f,y:c,placement:p})=>({tooltipStyles:{left:`${f}px`,top:`${c}px`},tooltipArrowStyles:{},place:p}))},R3=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),N3=(e,t,r)=>{let n=null;const i=function(...o){const s=()=>{n=null};!n&&(e.apply(this,o),n=setTimeout(s,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},I3=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",uP=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>uP(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!I3(e)||!I3(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(i=>uP(e[i],t[i]))},mce=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},C3=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(mce(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},gce=typeof window<"u"?Pe.useLayoutEffect:Pe.useEffect,qa=e=>{e.current&&(clearTimeout(e.current),e.current=null)},vce="DEFAULT_TOOLTIP_ID",yce={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},wce=Pe.createContext({getTooltipData:()=>yce});function K8(e=vce){return Pe.useContext(wce).getTooltipData(e)}var Ap={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Ax={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const bce=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:s,place:a="top",offset:l=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:c="absolute",middlewares:p,wrapper:m,delayShow:g=0,delayHide:_=0,float:v=!1,hidden:h=!1,noArrow:E=!1,clickable:y=!1,closeOnEsc:S=!1,closeOnScroll:T=!1,closeOnResize:x=!1,openEvents:d,closeEvents:$,globalCloseEvents:O,imperativeModeOnly:P,style:k,position:B,afterShow:K,afterHide:ie,disableTooltip:W,content:ne,contentWrapperRef:fe,isOpen:re,defaultIsOpen:le=!1,setIsOpen:F,previousActiveAnchor:z,activeAnchor:J,setActiveAnchor:R,border:C,opacity:q,arrowColor:oe,arrowSize:X=8,role:ee="tooltip"})=>{var se;const we=Pe.useRef(null),Oe=Pe.useRef(null),I=Pe.useRef(null),L=Pe.useRef(null),M=Pe.useRef(null),[Z,ue]=Pe.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[de,ve]=Pe.useState(!1),[Se,Fe]=Pe.useState(!1),[He,Ve]=Pe.useState(null),ut=Pe.useRef(!1),Qe=Pe.useRef(null),{anchorRefs:Ye,setActiveAnchor:te}=K8(t),j=Pe.useRef(!1),[U,ce]=Pe.useState([]),Te=Pe.useRef(!1),Re=f||u.includes("click"),ze=Re||(d==null?void 0:d.click)||(d==null?void 0:d.dblclick)||(d==null?void 0:d.mousedown),Be=d?{...d}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!d&&Re&&Object.assign(Be,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Xe=$?{...$}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!$&&Re&&Object.assign(Xe,{mouseleave:!1,blur:!1,mouseout:!1});const vt=O?{...O}:{escape:S||!1,scroll:T||!1,resize:x||!1,clickOutsideAnchor:ze||!1};P&&(Object.assign(Be,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Xe,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(vt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),gce(()=>(Te.current=!0,()=>{Te.current=!1}),[]);const St=xt=>{Te.current&&(xt&&Fe(!0),setTimeout(()=>{Te.current&&(F==null||F(xt),re===void 0&&ve(xt))},10))};Pe.useEffect(()=>{if(t){if(de){Mt(z);const ye=xt(J),me=[...new Set([...ye,t])].filter(Boolean).join(" ");J==null||J.setAttribute("aria-describedby",me)}else Mt(J);return()=>{Mt(J),Mt(z)}}function xt(ye){var me;return((me=ye==null?void 0:ye.getAttribute("aria-describedby"))===null||me===void 0?void 0:me.split(" "))||[]}function Mt(ye){const me=xt(ye).filter($e=>$e!==t);me.length?ye==null||ye.setAttribute("aria-describedby",me.join(" ")):ye==null||ye.removeAttribute("aria-describedby")}},[J,de,t,z]),Pe.useEffect(()=>{if(re===void 0)return()=>null;re&&Fe(!0);const xt=setTimeout(()=>{ve(re)},10);return()=>{clearTimeout(xt)}},[re]),Pe.useEffect(()=>{if(de!==ut.current)if(qa(M),ut.current=de,de)K==null||K();else{const xt=(Mt=>{const ye=Mt.match(/^([\d.]+)(ms|s)$/);if(!ye)return 0;const[,me,$e]=ye;return Number(me)*($e==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));M.current=setTimeout(()=>{Fe(!1),Ve(null),ie==null||ie()},xt+25)}},[de]);const yt=xt=>{ue(Mt=>uP(Mt,xt)?Mt:xt)},Yt=(xt=g)=>{qa(I),Se?St(!0):I.current=setTimeout(()=>{St(!0)},xt)},Jr=(xt=_)=>{qa(L),L.current=setTimeout(()=>{j.current||St(!1)},xt)},cn=xt=>{var Mt;if(!xt)return;const ye=(Mt=xt.currentTarget)!==null&&Mt!==void 0?Mt:xt.target;if(!(ye!=null&&ye.isConnected))return R(null),void te({current:null});g?Yt():St(!0),R(ye),te({current:ye}),qa(L)},Tr=()=>{y?Jr(_||100):_?Jr():St(!1),qa(I)},Rr=({x:xt,y:Mt})=>{var ye;const me={getBoundingClientRect:()=>({x:xt,y:Mt,width:0,height:0,top:Mt,left:xt,right:xt,bottom:Mt})};P3({place:(ye=He==null?void 0:He.place)!==null&&ye!==void 0?ye:a,offset:l,elementReference:me,tooltipReference:we.current,tooltipArrowReference:Oe.current,strategy:c,middlewares:p,border:C,arrowSize:X}).then($e=>{yt($e)})},Nn=xt=>{if(!xt)return;const Mt=xt,ye={x:Mt.clientX,y:Mt.clientY};Rr(ye),Qe.current=ye},wr=xt=>{var Mt;if(!de)return;const ye=xt.target;ye.isConnected&&(!((Mt=we.current)===null||Mt===void 0)&&Mt.contains(ye)||[document.querySelector(`[id='${o}']`),...U].some(me=>me==null?void 0:me.contains(ye))||(St(!1),qa(I)))},cr=N3(cn,50),ar=N3(Tr,50),Ie=xt=>{ar.cancel(),cr(xt)},ke=()=>{cr.cancel(),ar()},ft=Pe.useCallback(()=>{var xt,Mt;const ye=(xt=He==null?void 0:He.position)!==null&&xt!==void 0?xt:B;ye?Rr(ye):v?Qe.current&&Rr(Qe.current):J!=null&&J.isConnected&&P3({place:(Mt=He==null?void 0:He.place)!==null&&Mt!==void 0?Mt:a,offset:l,elementReference:J,tooltipReference:we.current,tooltipArrowReference:Oe.current,strategy:c,middlewares:p,border:C,arrowSize:X}).then(me=>{Te.current&&yt(me)})},[de,J,ne,k,a,He==null?void 0:He.place,l,c,B,He==null?void 0:He.position,v,X]);Pe.useEffect(()=>{var xt,Mt;const ye=new Set(Ye);U.forEach(Ut=>{W!=null&&W(Ut)||ye.add({current:Ut})});const me=document.querySelector(`[id='${o}']`);me&&!(W!=null&&W(me))&&ye.add({current:me});const $e=()=>{St(!1)},Me=C3(J),De=C3(we.current);vt.scroll&&(window.addEventListener("scroll",$e),Me==null||Me.addEventListener("scroll",$e),De==null||De.addEventListener("scroll",$e));let dt=null;vt.resize?window.addEventListener("resize",$e):J&&we.current&&(dt=ace(J,we.current,ft,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const mt=Ut=>{Ut.key==="Escape"&&St(!1)};vt.escape&&window.addEventListener("keydown",mt),vt.clickOutsideAnchor&&window.addEventListener("click",wr);const At=[],Ht=Ut=>!!(Ut!=null&&Ut.target&&(J!=null&&J.contains(Ut.target))),Xt=Ut=>{de&&Ht(Ut)||cn(Ut)},Ft=Ut=>{de&&Ht(Ut)&&Tr()},qt=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],ur=["click","dblclick","mousedown","mouseup"];Object.entries(Be).forEach(([Ut,Fr])=>{Fr&&(qt.includes(Ut)?At.push({event:Ut,listener:Ie}):ur.includes(Ut)&&At.push({event:Ut,listener:Xt}))}),Object.entries(Xe).forEach(([Ut,Fr])=>{Fr&&(qt.includes(Ut)?At.push({event:Ut,listener:ke}):ur.includes(Ut)&&At.push({event:Ut,listener:Ft}))}),v&&At.push({event:"pointermove",listener:Nn});const It=()=>{j.current=!0},nr=()=>{j.current=!1,Tr()},Zt=y&&(Xe.mouseout||Xe.mouseleave);return Zt&&((xt=we.current)===null||xt===void 0||xt.addEventListener("mouseover",It),(Mt=we.current)===null||Mt===void 0||Mt.addEventListener("mouseout",nr)),At.forEach(({event:Ut,listener:Fr})=>{ye.forEach(mn=>{var Zr;(Zr=mn.current)===null||Zr===void 0||Zr.addEventListener(Ut,Fr)})}),()=>{var Ut,Fr;vt.scroll&&(window.removeEventListener("scroll",$e),Me==null||Me.removeEventListener("scroll",$e),De==null||De.removeEventListener("scroll",$e)),vt.resize?window.removeEventListener("resize",$e):dt==null||dt(),vt.clickOutsideAnchor&&window.removeEventListener("click",wr),vt.escape&&window.removeEventListener("keydown",mt),Zt&&((Ut=we.current)===null||Ut===void 0||Ut.removeEventListener("mouseover",It),(Fr=we.current)===null||Fr===void 0||Fr.removeEventListener("mouseout",nr)),At.forEach(({event:mn,listener:Zr})=>{ye.forEach(ni=>{var Hn;(Hn=ni.current)===null||Hn===void 0||Hn.removeEventListener(mn,Zr)})})}},[J,ft,Se,Ye,U,d,$,O,Re,g,_]),Pe.useEffect(()=>{var xt,Mt;let ye=(Mt=(xt=He==null?void 0:He.anchorSelect)!==null&&xt!==void 0?xt:s)!==null&&Mt!==void 0?Mt:"";!ye&&t&&(ye=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const me=new MutationObserver($e=>{const Me=[],De=[];$e.forEach(dt=>{if(dt.type==="attributes"&&dt.attributeName==="data-tooltip-id"&&(dt.target.getAttribute("data-tooltip-id")===t?Me.push(dt.target):dt.oldValue===t&&De.push(dt.target)),dt.type==="childList"){if(J){const mt=[...dt.removedNodes].filter(At=>At.nodeType===1);if(ye)try{De.push(...mt.filter(At=>At.matches(ye))),De.push(...mt.flatMap(At=>[...At.querySelectorAll(ye)]))}catch{}mt.some(At=>{var Ht;return!!(!((Ht=At==null?void 0:At.contains)===null||Ht===void 0)&&Ht.call(At,J))&&(Fe(!1),St(!1),R(null),qa(I),qa(L),!0)})}if(ye)try{const mt=[...dt.addedNodes].filter(At=>At.nodeType===1);Me.push(...mt.filter(At=>At.matches(ye))),Me.push(...mt.flatMap(At=>[...At.querySelectorAll(ye)]))}catch{}}}),(Me.length||De.length)&&ce(dt=>[...dt.filter(mt=>!De.includes(mt)),...Me])});return me.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{me.disconnect()}},[t,s,He==null?void 0:He.anchorSelect,J]),Pe.useEffect(()=>{ft()},[ft]),Pe.useEffect(()=>{if(!(fe!=null&&fe.current))return()=>null;const xt=new ResizeObserver(()=>{setTimeout(()=>ft())});return xt.observe(fe.current),()=>{xt.disconnect()}},[ne,fe==null?void 0:fe.current]),Pe.useEffect(()=>{var xt;const Mt=document.querySelector(`[id='${o}']`),ye=[...U,Mt];J&&ye.includes(J)||R((xt=U[0])!==null&&xt!==void 0?xt:Mt)},[o,U,J]),Pe.useEffect(()=>(le&&St(!0),()=>{qa(I),qa(L)}),[]),Pe.useEffect(()=>{var xt;let Mt=(xt=He==null?void 0:He.anchorSelect)!==null&&xt!==void 0?xt:s;if(!Mt&&t&&(Mt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),Mt)try{const ye=Array.from(document.querySelectorAll(Mt));ce(ye)}catch{ce([])}},[t,s,He==null?void 0:He.anchorSelect]),Pe.useEffect(()=>{I.current&&(qa(I),Yt(g))},[g]);const bt=(se=He==null?void 0:He.content)!==null&&se!==void 0?se:ne,Lt=de&&Object.keys(Z.tooltipStyles).length>0;return Pe.useImperativeHandle(e,()=>({open:xt=>{if(xt!=null&&xt.anchorSelect)try{document.querySelector(xt.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${xt.anchorSelect}" is not a valid CSS selector`)}Ve(xt??null),xt!=null&&xt.delay?Yt(xt.delay):St(!0)},close:xt=>{xt!=null&&xt.delay?Jr(xt.delay):St(!1)},activeAnchor:J,place:Z.place,isOpen:!!(Se&&!h&&bt&&Lt)})),Se&&!h&&bt?ct.createElement(m,{id:t,role:ee,className:lP("react-tooltip",Ap.tooltip,Ax.tooltip,Ax[i],r,`react-tooltip__place-${Z.place}`,Ap[Lt?"show":"closing"],Lt?"react-tooltip__show":"react-tooltip__closing",c==="fixed"&&Ap.fixed,y&&Ap.clickable),onTransitionEnd:xt=>{qa(M),de||xt.propertyName!=="opacity"||(Fe(!1),Ve(null),ie==null||ie())},style:{...k,...Z.tooltipStyles,opacity:q!==void 0&&Lt?q:void 0},ref:we},bt,ct.createElement(m,{className:lP("react-tooltip-arrow",Ap.arrow,Ax.arrow,n,E&&Ap.noArrow),style:{...Z.tooltipArrowStyles,background:oe?`linear-gradient(to right bottom, transparent 50%, ${oe} 50%)`:void 0,"--rt-arrow-size":`${X}px`},ref:Oe})):null},_ce=({content:e})=>ct.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Ece=ct.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:u="top",offset:f=10,wrapper:c="div",children:p=null,events:m=["hover"],openOnClick:g=!1,positionStrategy:_="absolute",middlewares:v,delayShow:h=0,delayHide:E=0,float:y=!1,hidden:S=!1,noArrow:T=!1,clickable:x=!1,closeOnEsc:d=!1,closeOnScroll:$=!1,closeOnResize:O=!1,openEvents:P,closeEvents:k,globalCloseEvents:B,imperativeModeOnly:K=!1,style:ie,position:W,isOpen:ne,defaultIsOpen:fe=!1,disableStyleInjection:re=!1,border:le,opacity:F,arrowColor:z,arrowSize:J,setIsOpen:R,afterShow:C,afterHide:q,disableTooltip:oe,role:X="tooltip"},ee)=>{const[se,we]=Pe.useState(n),[Oe,I]=Pe.useState(i),[L,M]=Pe.useState(u),[Z,ue]=Pe.useState(l),[de,ve]=Pe.useState(f),[Se,Fe]=Pe.useState(h),[He,Ve]=Pe.useState(E),[ut,Qe]=Pe.useState(y),[Ye,te]=Pe.useState(S),[j,U]=Pe.useState(c),[ce,Te]=Pe.useState(m),[Re,ze]=Pe.useState(_),[Be,Xe]=Pe.useState(null),[vt,St]=Pe.useState(null),yt=Pe.useRef(null),Yt=Pe.useRef(re),{anchorRefs:Jr,activeAnchor:cn}=K8(e),Tr=ar=>ar==null?void 0:ar.getAttributeNames().reduce((Ie,ke)=>{var ft;return ke.startsWith("data-tooltip-")&&(Ie[ke.replace(/^data-tooltip-/,"")]=(ft=ar==null?void 0:ar.getAttribute(ke))!==null&&ft!==void 0?ft:null),Ie},{}),Rr=ar=>{const Ie={place:ke=>{var ft;M((ft=ke)!==null&&ft!==void 0?ft:u)},content:ke=>{we(ke??n)},html:ke=>{I(ke??i)},variant:ke=>{var ft;ue((ft=ke)!==null&&ft!==void 0?ft:l)},offset:ke=>{ve(ke===null?f:Number(ke))},wrapper:ke=>{var ft;U((ft=ke)!==null&&ft!==void 0?ft:c)},events:ke=>{const ft=ke==null?void 0:ke.split(" ");Te(ft??m)},"position-strategy":ke=>{var ft;ze((ft=ke)!==null&&ft!==void 0?ft:_)},"delay-show":ke=>{Fe(ke===null?h:Number(ke))},"delay-hide":ke=>{Ve(ke===null?E:Number(ke))},float:ke=>{Qe(ke===null?y:ke==="true")},hidden:ke=>{te(ke===null?S:ke==="true")},"class-name":ke=>{Xe(ke)}};Object.values(Ie).forEach(ke=>ke(null)),Object.entries(ar).forEach(([ke,ft])=>{var bt;(bt=Ie[ke])===null||bt===void 0||bt.call(Ie,ft)})};Pe.useEffect(()=>{we(n)},[n]),Pe.useEffect(()=>{I(i)},[i]),Pe.useEffect(()=>{M(u)},[u]),Pe.useEffect(()=>{ue(l)},[l]),Pe.useEffect(()=>{ve(f)},[f]),Pe.useEffect(()=>{Fe(h)},[h]),Pe.useEffect(()=>{Ve(E)},[E]),Pe.useEffect(()=>{Qe(y)},[y]),Pe.useEffect(()=>{te(S)},[S]),Pe.useEffect(()=>{ze(_)},[_]),Pe.useEffect(()=>{Yt.current!==re&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[re]),Pe.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:re==="core",disableBase:re}}))},[]),Pe.useEffect(()=>{var ar;const Ie=new Set(Jr);let ke=r;if(!ke&&e&&(ke=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),ke)try{document.querySelectorAll(ke).forEach(Mt=>{Ie.add({current:Mt})})}catch{console.warn(`[react-tooltip] "${ke}" is not a valid CSS selector`)}const ft=document.querySelector(`[id='${t}']`);if(ft&&Ie.add({current:ft}),!Ie.size)return()=>null;const bt=(ar=vt??ft)!==null&&ar!==void 0?ar:cn.current,Lt=new MutationObserver(Mt=>{Mt.forEach(ye=>{var me;if(!bt||ye.type!=="attributes"||!(!((me=ye.attributeName)===null||me===void 0)&&me.startsWith("data-tooltip-")))return;const $e=Tr(bt);Rr($e)})}),xt={attributes:!0,childList:!1,subtree:!1};if(bt){const Mt=Tr(bt);Rr(Mt),Lt.observe(bt,xt)}return()=>{Lt.disconnect()}},[Jr,cn,vt,t,r]),Pe.useEffect(()=>{ie!=null&&ie.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),le&&!R3("border",`${le}`)&&console.warn(`[react-tooltip] "${le}" is not a valid \`border\`.`),ie!=null&&ie.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!R3("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)},[]);let Nn=p;const wr=Pe.useRef(null);if(o){const ar=o({content:(vt==null?void 0:vt.getAttribute("data-tooltip-content"))||se||null,activeAnchor:vt});Nn=ar?ct.createElement("div",{ref:wr,className:"react-tooltip-content-wrapper"},ar):null}else se&&(Nn=se);Oe&&(Nn=ct.createElement(_ce,{content:Oe}));const cr={forwardRef:ee,id:e,anchorId:t,anchorSelect:r,className:lP(s,Be),classNameArrow:a,content:Nn,contentWrapperRef:wr,place:L,variant:Z,offset:de,wrapper:j,events:ce,openOnClick:g,positionStrategy:Re,middlewares:v,delayShow:Se,delayHide:He,float:ut,hidden:Ye,noArrow:T,clickable:x,closeOnEsc:d,closeOnScroll:$,closeOnResize:O,openEvents:P,closeEvents:k,globalCloseEvents:B,imperativeModeOnly:K,style:ie,position:W,isOpen:ne,defaultIsOpen:fe,border:le,opacity:F,arrowColor:z,arrowSize:J,setIsOpen:R,afterShow:C,afterHide:q,disableTooltip:oe,activeAnchor:vt,previousActiveAnchor:yt.current,setActiveAnchor:ar=>{St(Ie=>(ar!=null&&ar.isSameNode(Ie)||(yt.current=Ie),ar))},role:X};return ct.createElement(bce,{...cr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||O3({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||O3({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Up=e=>Q.jsxs(Q.Fragment,{children:[Q.jsx("a",{"data-tooltip-id":e.id,"data-tooltip-html":e.html,className:e.className,children:Q.jsx(e.IconComponent,{color:e.color??"grey",size:e.size??"16"})}),Q.jsx(Ece,{id:e.id,place:"top",className:"z-10"})]});var J8={exports:{}},Sce="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Tce=Sce,$ce=Tce;function Y8(){}function X8(){}X8.resetWarningCache=Y8;var xce=function(){function e(n,i,o,s,a,l){if(l!==$ce){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:X8,resetWarningCache:Y8};return r.PropTypes=r,r};J8.exports=xce();var Ace=J8.exports;const pt=Wu(Ace);function cP(){return cP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cP.apply(this,arguments)}function Oce(e,t){if(e==null)return{};var r=Pce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Hh=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Oce(e,["color","size"]);return ct.createElement("svg",cP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),ct.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),ct.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});Hh.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Hh.displayName="AlertTriangle";function fP(){return fP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fP.apply(this,arguments)}function Rce(e,t){if(e==null)return{};var r=Nce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var $k=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Rce(e,["color","size"]);return ct.createElement("svg",fP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),ct.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))});$k.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};$k.displayName="CheckCircle";function dP(){return dP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dP.apply(this,arguments)}function Ice(e,t){if(e==null)return{};var r=Cce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var e0=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Ice(e,["color","size"]);return ct.createElement("svg",dP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"20 6 9 17 4 12"}))});e0.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};e0.displayName="Check";function hP(){return hP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hP.apply(this,arguments)}function kce(e,t){if(e==null)return{};var r=jce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var us=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=kce(e,["color","size"]);return ct.createElement("svg",hP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"6 9 12 15 18 9"}))});us.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};us.displayName="ChevronDown";function pP(){return pP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pP.apply(this,arguments)}function Dce(e,t){if(e==null)return{};var r=Mce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var xk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Dce(e,["color","size"]);return ct.createElement("svg",pP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"9 18 15 12 9 6"}))});xk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};xk.displayName="ChevronRight";function mP(){return mP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mP.apply(this,arguments)}function Lce(e,t){if(e==null)return{};var r=Fce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var bh=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Lce(e,["color","size"]);return ct.createElement("svg",mP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"18 15 12 9 6 15"}))});bh.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};bh.displayName="ChevronUp";function gP(){return gP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gP.apply(this,arguments)}function Bce(e,t){if(e==null)return{};var r=Uce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ak=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Bce(e,["color","size"]);return ct.createElement("svg",gP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),ct.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});Ak.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Ak.displayName="Copy";function vP(){return vP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vP.apply(this,arguments)}function zce(e,t){if(e==null)return{};var r=qce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ok=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=zce(e,["color","size"]);return ct.createElement("svg",vP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),ct.createElement("polyline",{points:"7 10 12 15 17 10"}),ct.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});Ok.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Ok.displayName="Download";function yP(){return yP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yP.apply(this,arguments)}function Vce(e,t){if(e==null)return{};var r=Hce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Pk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Vce(e,["color","size"]);return ct.createElement("svg",yP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),ct.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});Pk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Pk.displayName="Edit";function wP(){return wP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wP.apply(this,arguments)}function Wce(e,t){if(e==null)return{};var r=Gce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Rk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Wce(e,["color","size"]);return ct.createElement("svg",wP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),ct.createElement("polyline",{points:"15 3 21 3 21 9"}),ct.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))});Rk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Rk.displayName="ExternalLink";function bP(){return bP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bP.apply(this,arguments)}function Kce(e,t){if(e==null)return{};var r=Jce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Nk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Kce(e,["color","size"]);return ct.createElement("svg",bP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),ct.createElement("polyline",{points:"14 2 14 8 20 8"}),ct.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),ct.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});Nk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Nk.displayName="FilePlus";function _P(){return _P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_P.apply(this,arguments)}function Yce(e,t){if(e==null)return{};var r=Xce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ik=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Yce(e,["color","size"]);return ct.createElement("svg",_P({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),ct.createElement("polyline",{points:"14 2 14 8 20 8"}),ct.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),ct.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),ct.createElement("polyline",{points:"10 9 9 9 8 9"}))});Ik.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Ik.displayName="FileText";function EP(){return EP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EP.apply(this,arguments)}function Qce(e,t){if(e==null)return{};var r=Zce(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zce(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ck=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Qce(e,["color","size"]);return ct.createElement("svg",EP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),ct.createElement("polyline",{points:"13 2 13 9 20 9"}))});Ck.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Ck.displayName="File";function SP(){return SP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SP.apply(this,arguments)}function efe(e,t){if(e==null)return{};var r=tfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var kk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=efe(e,["color","size"]);return ct.createElement("svg",SP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});kk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};kk.displayName="GitHub";function TP(){return TP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TP.apply(this,arguments)}function rfe(e,t){if(e==null)return{};var r=nfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var t0=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=rfe(e,["color","size"]);return ct.createElement("svg",TP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"12",cy:"12",r:"10"}),ct.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),ct.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});t0.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};t0.displayName="Info";function $P(){return $P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$P.apply(this,arguments)}function ife(e,t){if(e==null)return{};var r=ofe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ofe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var jk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=ife(e,["color","size"]);return ct.createElement("svg",$P({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),ct.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))});jk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};jk.displayName="Link";function xP(){return xP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xP.apply(this,arguments)}function sfe(e,t){if(e==null)return{};var r=afe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function afe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Dk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=sfe(e,["color","size"]);return ct.createElement("svg",xP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Dk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Dk.displayName="Minus";function AP(){return AP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AP.apply(this,arguments)}function lfe(e,t){if(e==null)return{};var r=ufe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ufe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Mk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=lfe(e,["color","size"]);return ct.createElement("svg",AP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"12",cy:"12",r:"10"}),ct.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),ct.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});Mk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Mk.displayName="PlusCircle";function OP(){return OP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OP.apply(this,arguments)}function cfe(e,t){if(e==null)return{};var r=ffe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ffe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Lk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=cfe(e,["color","size"]);return ct.createElement("svg",OP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),ct.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Lk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Lk.displayName="Plus";function PP(){return PP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PP.apply(this,arguments)}function dfe(e,t){if(e==null)return{};var r=hfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Fk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=dfe(e,["color","size"]);return ct.createElement("svg",PP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"1 4 1 10 7 10"}),ct.createElement("polyline",{points:"23 20 23 14 17 14"}),ct.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});Fk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Fk.displayName="RefreshCcw";function RP(){return RP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RP.apply(this,arguments)}function pfe(e,t){if(e==null)return{};var r=mfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var r0=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=pfe(e,["color","size"]);return ct.createElement("svg",RP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"23 4 23 10 17 10"}),ct.createElement("polyline",{points:"1 20 1 14 7 14"}),ct.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});r0.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};r0.displayName="RefreshCw";function NP(){return NP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NP.apply(this,arguments)}function gfe(e,t){if(e==null)return{};var r=vfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Bk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=gfe(e,["color","size"]);return ct.createElement("svg",NP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"1 4 1 10 7 10"}),ct.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});Bk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Bk.displayName="RotateCcw";function IP(){return IP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IP.apply(this,arguments)}function yfe(e,t){if(e==null)return{};var r=wfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Uk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=yfe(e,["color","size"]);return ct.createElement("svg",IP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"23 4 23 10 17 10"}),ct.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))});Uk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Uk.displayName="RotateCw";function CP(){return CP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CP.apply(this,arguments)}function bfe(e,t){if(e==null)return{};var r=_fe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _fe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var zk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=bfe(e,["color","size"]);return ct.createElement("svg",CP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"11",cy:"11",r:"8"}),ct.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});zk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};zk.displayName="Search";function kP(){return kP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kP.apply(this,arguments)}function Efe(e,t){if(e==null)return{};var r=Sfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var qk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Efe(e,["color","size"]);return ct.createElement("svg",kP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),ct.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))});qk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};qk.displayName="Send";function jP(){return jP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jP.apply(this,arguments)}function Tfe(e,t){if(e==null)return{};var r=$fe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $fe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Vk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Tfe(e,["color","size"]);return ct.createElement("svg",jP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("circle",{cx:"12",cy:"12",r:"3"}),ct.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});Vk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Vk.displayName="Settings";function DP(){return DP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DP.apply(this,arguments)}function xfe(e,t){if(e==null)return{};var r=Afe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Afe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Hk=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=xfe(e,["color","size"]);return ct.createElement("svg",DP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),ct.createElement("polyline",{points:"16 6 12 2 8 6"}),ct.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))});Hk.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};Hk.displayName="Share";function MP(){return MP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MP.apply(this,arguments)}function Ofe(e,t){if(e==null)return{};var r=Pfe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pfe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var hd=Pe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=Ofe(e,["color","size"]);return ct.createElement("svg",MP({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),ct.createElement("polyline",{points:"3 6 5 6 21 6"}),ct.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),ct.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),ct.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});hd.propTypes={color:pt.string,size:pt.oneOfType([pt.string,pt.number])};hd.displayName="Trash2";const _a=e=>{const t=!e.tooltip.href||e.tooltip.href.trim()==="",r=!e.className||e.className.trim()===""?`flex ${e.className}`:"flex justify-center",n=()=>{t||window.open(e.tooltip.href,"_blank")};return Q.jsxs("div",{className:r,children:[Q.jsx("div",{className:"pr-0.5",children:e.children}),Q.jsx("div",{role:"link",tabIndex:t?-1:0,onClick:n,"aria-disabled":t,className:`cursor-${t?"default":"pointer"}`,"aria-label":t?"Info":"More information",children:Q.jsx(Up,{html:e.tooltip.html||"No tooltip content available",id:e.id,IconComponent:t0})}),Q.jsx("div",{className:"p-1"})]})};class qc{constructor(t,r){this.html=t,this.href=r}}const Rfe=()=>{const e=`<h2 class='text-lg'>Web of Things Properties</h2>
                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>
                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>
                    <br />
                    <p>Click to get more information about Properties.</p> 
                `,t="https://www.w3.org/TR/wot-thing-description/#propertyaffordance";return new qc(e,t)},Nfe=()=>{const e=`<h2 class='text-lg'>Web of Things Actions</h2>
                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>
                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>
                    <br />
                    <p>Click to get more information about Actions.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#actionaffordance";return new qc(e,t)},Ife=()=>{const e=`<h2 class='text-lg'>Web of Things Events</h2>
                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>
                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>
                <br />
                <p>Click to get more information about Events.</p>
            `,t="https://www.w3.org/TR/wot-thing-description/#eventaffordance";return new qc(e,t)},n0=()=>{const e=`<h2 class='text-lg'>Web of Things Forms</h2>
                    <p>A Form contains all information needed to make a request to a device.</p>
                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>
                    <br />
                    <p>Click to get more information about Forms.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#form";return new qc(e,t)},Q8=()=>{const e=`<h2 class='text-lg'>Web of Things Link</h2>
                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>
                    <p>Used to link Thing Description with other ressources.</p>
                    <br />
                    <p>Click to get more information about Links.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#link";return new qc(e,t)},Z8=()=>{const e=`<h2 class='text-lg'>Unit ID</h2>
                    <p>Slave address of the Modbus device.</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#url-terms";return new qc(e,t)},e9=()=>{const e=`<h2 class='text-lg'>Address Offset</h2>
                    <p>Should all addresses shift by one (false) or not (true)</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new qc(e,t)},t9=()=>{const e=`<h2 class='text-lg'>Endianness</h2>
                    <p>Should the words or the bytes be swapped?</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new qc(e,t)},r9=()=>{const e=`<h2 class='text-lg'>Validate</h2>
                    <p>Validate the Thing Description against the WoT TD Schema.</p>
                   
                    <p>Click to get more information about the schema.</p>
                `,t="https://github.com/wot-oss/tmc/blob/main/internal/commands/validate/tmc-mandatory.schema.json";return new qc(e,t)},Cfe={properties:Rfe(),actions:Nfe(),events:Ife(),forms:n0(),links:Q8(),unitId:Z8(),addressOffset:e9(),endianness:t9(),validateTM:r9()};var kfe={},jfe=Object.create,H1=Object.defineProperty,Dfe=Object.getOwnPropertyDescriptor,Wk=Object.getOwnPropertyNames,Mfe=Object.getPrototypeOf,Lfe=Object.prototype.hasOwnProperty,Vn=(e,t)=>function(){return e&&(t=(0,e[Wk(e)[0]])(e=0)),t},Le=(e,t)=>function(){return t||(0,e[Wk(e)[0]])((t={exports:{}}).exports,t),t.exports},Ku=(e,t)=>{for(var r in t)H1(e,r,{get:t[r],enumerable:!0})},n9=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Wk(t))!Lfe.call(e,i)&&i!==r&&H1(e,i,{get:()=>t[i],enumerable:!(n=Dfe(t,i))||n.enumerable});return e},Gk=(e,t,r)=>(r=e!=null?jfe(Mfe(e)):{},n9(!e||!e.__esModule?H1(r,"default",{value:e,enumerable:!0}):r,e)),pn=e=>n9(H1({},"__esModule",{value:!0}),e);function Ffe(){if(LP)return zp;LP=!0,zp.byteLength=a,zp.toByteArray=u,zp.fromByteArray=p;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function a(m){var g=s(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=s(m),v=_[0],h=_[1],E=new r(l(m,v,h)),y=0,S=h>0?v-4:v,T;for(T=0;T<S;T+=4)g=t[m.charCodeAt(T)]<<18|t[m.charCodeAt(T+1)]<<12|t[m.charCodeAt(T+2)]<<6|t[m.charCodeAt(T+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return h===2&&(g=t[m.charCodeAt(T)]<<2|t[m.charCodeAt(T+1)]>>4,E[y++]=g&255),h===1&&(g=t[m.charCodeAt(T)]<<10|t[m.charCodeAt(T+1)]<<4|t[m.charCodeAt(T+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,h=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),h.push(f(v));return h.join("")}function p(m){for(var g,_=m.length,v=_%3,h=[],E=16383,y=0,S=_-v;y<S;y+=E)h.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],h.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],h.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),h.join("")}return zp}function Bfe(){return FP||(FP=!0,dv.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)},dv.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=a&255,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=s&255,m+=g,s/=256,u-=8);e[r+m-g]|=_*128}),dv}function Js(){if(BP)return $f;BP=!0;const e=Ffe(),t=Bfe(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$f.Buffer=s,$f.SlowBuffer=h,$f.INSPECT_MAX_BYTES=50;const n=2147483647;$f.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const te=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(te,j),te.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(te){if(te>n)throw new RangeError('The value "'+te+'" is invalid for option "size"');const j=new Uint8Array(te);return Object.setPrototypeOf(j,s.prototype),j}function s(te,j,U){if(typeof te=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(te)}return a(te,j,U)}s.poolSize=8192;function a(te,j,U){if(typeof te=="string")return c(te,j);if(ArrayBuffer.isView(te))return m(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(He(te,ArrayBuffer)||te&&He(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(te,SharedArrayBuffer)||te&&He(te.buffer,SharedArrayBuffer)))return g(te,j,U);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=te.valueOf&&te.valueOf();if(ce!=null&&ce!==te)return s.from(ce,j,U);const Te=_(te);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return s.from(te[Symbol.toPrimitive]("string"),j,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}s.from=function(te,j,U){return a(te,j,U)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function u(te,j,U){return l(te),te<=0?o(te):j!==void 0?typeof U=="string"?o(te).fill(j,U):o(te).fill(j):o(te)}s.alloc=function(te,j,U){return u(te,j,U)};function f(te){return l(te),o(te<0?0:v(te)|0)}s.allocUnsafe=function(te){return f(te)},s.allocUnsafeSlow=function(te){return f(te)};function c(te,j){if((typeof j!="string"||j==="")&&(j="utf8"),!s.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const U=E(te,j)|0;let ce=o(U);const Te=ce.write(te,j);return Te!==U&&(ce=ce.slice(0,Te)),ce}function p(te){const j=te.length<0?0:v(te.length)|0,U=o(j);for(let ce=0;ce<j;ce+=1)U[ce]=te[ce]&255;return U}function m(te){if(He(te,Uint8Array)){const j=new Uint8Array(te);return g(j.buffer,j.byteOffset,j.byteLength)}return p(te)}function g(te,j,U){if(j<0||te.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<j+(U||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return j===void 0&&U===void 0?ce=new Uint8Array(te):U===void 0?ce=new Uint8Array(te,j):ce=new Uint8Array(te,j,U),Object.setPrototypeOf(ce,s.prototype),ce}function _(te){if(s.isBuffer(te)){const j=v(te.length)|0,U=o(j);return U.length===0||te.copy(U,0,0,j),U}if(te.length!==void 0)return typeof te.length!="number"||Ve(te.length)?o(0):p(te);if(te.type==="Buffer"&&Array.isArray(te.data))return p(te.data)}function v(te){if(te>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return te|0}function h(te){return+te!=te&&(te=0),s.alloc(+te)}s.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==s.prototype},s.compare=function(j,U){if(He(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),He(U,Uint8Array)&&(U=s.from(U,U.offset,U.byteLength)),!s.isBuffer(j)||!s.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===U)return 0;let ce=j.length,Te=U.length;for(let Re=0,ze=Math.min(ce,Te);Re<ze;++Re)if(j[Re]!==U[Re]){ce=j[Re],Te=U[Re];break}return ce<Te?-1:Te<ce?1:0},s.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(j,U){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return s.alloc(0);let ce;if(U===void 0)for(U=0,ce=0;ce<j.length;++ce)U+=j[ce].length;const Te=s.allocUnsafe(U);let Re=0;for(ce=0;ce<j.length;++ce){let ze=j[ce];if(He(ze,Uint8Array))Re+ze.length>Te.length?(s.isBuffer(ze)||(ze=s.from(ze)),ze.copy(Te,Re)):Uint8Array.prototype.set.call(Te,ze,Re);else if(s.isBuffer(ze))ze.copy(Te,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=ze.length}return Te};function E(te,j){if(s.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||He(te,ArrayBuffer))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const U=te.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&U===0)return 0;let Te=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return ue(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return Se(te).length;default:if(Te)return ce?-1:ue(te).length;j=(""+j).toLowerCase(),Te=!0}}s.byteLength=E;function y(te,j,U){let ce=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,j>>>=0,U<=j))return"";for(te||(te="utf8");;)switch(te){case"hex":return re(this,j,U);case"utf8":case"utf-8":return K(this,j,U);case"ascii":return ne(this,j,U);case"latin1":case"binary":return fe(this,j,U);case"base64":return B(this,j,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,j,U);default:if(ce)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),ce=!0}}s.prototype._isBuffer=!0;function S(te,j,U){const ce=te[j];te[j]=te[U],te[U]=ce}s.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<j;U+=2)S(this,U,U+1);return this},s.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<j;U+=4)S(this,U,U+3),S(this,U+1,U+2);return this},s.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<j;U+=8)S(this,U,U+7),S(this,U+1,U+6),S(this,U+2,U+5),S(this,U+3,U+4);return this},s.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?K(this,0,j):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(j){if(!s.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:s.compare(this,j)===0},s.prototype.inspect=function(){let j="";const U=$f.INSPECT_MAX_BYTES;return j=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(j+=" ... "),"<Buffer "+j+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(j,U,ce,Te,Re){if(He(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),!s.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(U===void 0&&(U=0),ce===void 0&&(ce=j?j.length:0),Te===void 0&&(Te=0),Re===void 0&&(Re=this.length),U<0||ce>j.length||Te<0||Re>this.length)throw new RangeError("out of range index");if(Te>=Re&&U>=ce)return 0;if(Te>=Re)return-1;if(U>=ce)return 1;if(U>>>=0,ce>>>=0,Te>>>=0,Re>>>=0,this===j)return 0;let ze=Re-Te,Be=ce-U;const Xe=Math.min(ze,Be),vt=this.slice(Te,Re),St=j.slice(U,ce);for(let yt=0;yt<Xe;++yt)if(vt[yt]!==St[yt]){ze=vt[yt],Be=St[yt];break}return ze<Be?-1:Be<ze?1:0};function T(te,j,U,ce,Te){if(te.length===0)return-1;if(typeof U=="string"?(ce=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,Ve(U)&&(U=Te?0:te.length-1),U<0&&(U=te.length+U),U>=te.length){if(Te)return-1;U=te.length-1}else if(U<0)if(Te)U=0;else return-1;if(typeof j=="string"&&(j=s.from(j,ce)),s.isBuffer(j))return j.length===0?-1:x(te,j,U,ce,Te);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?Te?Uint8Array.prototype.indexOf.call(te,j,U):Uint8Array.prototype.lastIndexOf.call(te,j,U):x(te,[j],U,ce,Te);throw new TypeError("val must be string, number or Buffer")}function x(te,j,U,ce,Te){let Re=1,ze=te.length,Be=j.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(te.length<2||j.length<2)return-1;Re=2,ze/=2,Be/=2,U/=2}function Xe(St,yt){return Re===1?St[yt]:St.readUInt16BE(yt*Re)}let vt;if(Te){let St=-1;for(vt=U;vt<ze;vt++)if(Xe(te,vt)===Xe(j,St===-1?0:vt-St)){if(St===-1&&(St=vt),vt-St+1===Be)return St*Re}else St!==-1&&(vt-=vt-St),St=-1}else for(U+Be>ze&&(U=ze-Be),vt=U;vt>=0;vt--){let St=!0;for(let yt=0;yt<Be;yt++)if(Xe(te,vt+yt)!==Xe(j,yt)){St=!1;break}if(St)return vt}return-1}s.prototype.includes=function(j,U,ce){return this.indexOf(j,U,ce)!==-1},s.prototype.indexOf=function(j,U,ce){return T(this,j,U,ce,!0)},s.prototype.lastIndexOf=function(j,U,ce){return T(this,j,U,ce,!1)};function d(te,j,U,ce){U=Number(U)||0;const Te=te.length-U;ce?(ce=Number(ce),ce>Te&&(ce=Te)):ce=Te;const Re=j.length;ce>Re/2&&(ce=Re/2);let ze;for(ze=0;ze<ce;++ze){const Be=parseInt(j.substr(ze*2,2),16);if(Ve(Be))return ze;te[U+ze]=Be}return ze}function $(te,j,U,ce){return Fe(ue(j,te.length-U),te,U,ce)}function O(te,j,U,ce){return Fe(de(j),te,U,ce)}function P(te,j,U,ce){return Fe(Se(j),te,U,ce)}function k(te,j,U,ce){return Fe(ve(j,te.length-U),te,U,ce)}s.prototype.write=function(j,U,ce,Te){if(U===void 0)Te="utf8",ce=this.length,U=0;else if(ce===void 0&&typeof U=="string")Te=U,ce=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(ce)?(ce=ce>>>0,Te===void 0&&(Te="utf8")):(Te=ce,ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-U;if((ce===void 0||ce>Re)&&(ce=Re),j.length>0&&(ce<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");Te||(Te="utf8");let ze=!1;for(;;)switch(Te){case"hex":return d(this,j,U,ce);case"utf8":case"utf-8":return $(this,j,U,ce);case"ascii":case"latin1":case"binary":return O(this,j,U,ce);case"base64":return P(this,j,U,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,j,U,ce);default:if(ze)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),ze=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(te,j,U){return j===0&&U===te.length?e.fromByteArray(te):e.fromByteArray(te.slice(j,U))}function K(te,j,U){U=Math.min(te.length,U);const ce=[];let Te=j;for(;Te<U;){const Re=te[Te];let ze=null,Be=Re>239?4:Re>223?3:Re>191?2:1;if(Te+Be<=U){let Xe,vt,St,yt;switch(Be){case 1:Re<128&&(ze=Re);break;case 2:Xe=te[Te+1],(Xe&192)===128&&(yt=(Re&31)<<6|Xe&63,yt>127&&(ze=yt));break;case 3:Xe=te[Te+1],vt=te[Te+2],(Xe&192)===128&&(vt&192)===128&&(yt=(Re&15)<<12|(Xe&63)<<6|vt&63,yt>2047&&(yt<55296||yt>57343)&&(ze=yt));break;case 4:Xe=te[Te+1],vt=te[Te+2],St=te[Te+3],(Xe&192)===128&&(vt&192)===128&&(St&192)===128&&(yt=(Re&15)<<18|(Xe&63)<<12|(vt&63)<<6|St&63,yt>65535&&yt<1114112&&(ze=yt))}}ze===null?(ze=65533,Be=1):ze>65535&&(ze-=65536,ce.push(ze>>>10&1023|55296),ze=56320|ze&1023),ce.push(ze),Te+=Be}return W(ce)}const ie=4096;function W(te){const j=te.length;if(j<=ie)return String.fromCharCode.apply(String,te);let U="",ce=0;for(;ce<j;)U+=String.fromCharCode.apply(String,te.slice(ce,ce+=ie));return U}function ne(te,j,U){let ce="";U=Math.min(te.length,U);for(let Te=j;Te<U;++Te)ce+=String.fromCharCode(te[Te]&127);return ce}function fe(te,j,U){let ce="";U=Math.min(te.length,U);for(let Te=j;Te<U;++Te)ce+=String.fromCharCode(te[Te]);return ce}function re(te,j,U){const ce=te.length;(!j||j<0)&&(j=0),(!U||U<0||U>ce)&&(U=ce);let Te="";for(let Re=j;Re<U;++Re)Te+=ut[te[Re]];return Te}function le(te,j,U){const ce=te.slice(j,U);let Te="";for(let Re=0;Re<ce.length-1;Re+=2)Te+=String.fromCharCode(ce[Re]+ce[Re+1]*256);return Te}s.prototype.slice=function(j,U){const ce=this.length;j=~~j,U=U===void 0?ce:~~U,j<0?(j+=ce,j<0&&(j=0)):j>ce&&(j=ce),U<0?(U+=ce,U<0&&(U=0)):U>ce&&(U=ce),U<j&&(U=j);const Te=this.subarray(j,U);return Object.setPrototypeOf(Te,s.prototype),Te};function F(te,j,U){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+j>U)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=this[j],Re=1,ze=0;for(;++ze<U&&(Re*=256);)Te+=this[j+ze]*Re;return Te},s.prototype.readUintBE=s.prototype.readUIntBE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=this[j+--U],Re=1;for(;U>0&&(Re*=256);)Te+=this[j+--U]*Re;return Te},s.prototype.readUint8=s.prototype.readUInt8=function(j,U){return j=j>>>0,U||F(j,1,this.length),this[j]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(j,U){return j=j>>>0,U||F(j,2,this.length),this[j]|this[j+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(j,U){return j=j>>>0,U||F(j,2,this.length),this[j]<<8|this[j+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(j,U){return j=j>>>0,U||F(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(j,U){return j=j>>>0,U||F(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},s.prototype.readBigUInt64LE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=U+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,Re=this[++j]+this[++j]*2**8+this[++j]*2**16+ce*2**24;return BigInt(Te)+(BigInt(Re)<<BigInt(32))}),s.prototype.readBigUInt64BE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=U*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],Re=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce;return(BigInt(Te)<<BigInt(32))+BigInt(Re)}),s.prototype.readIntLE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=this[j],Re=1,ze=0;for(;++ze<U&&(Re*=256);)Te+=this[j+ze]*Re;return Re*=128,Te>=Re&&(Te-=Math.pow(2,8*U)),Te},s.prototype.readIntBE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=U,Re=1,ze=this[j+--Te];for(;Te>0&&(Re*=256);)ze+=this[j+--Te]*Re;return Re*=128,ze>=Re&&(ze-=Math.pow(2,8*U)),ze},s.prototype.readInt8=function(j,U){return j=j>>>0,U||F(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},s.prototype.readInt16LE=function(j,U){j=j>>>0,U||F(j,2,this.length);const ce=this[j]|this[j+1]<<8;return ce&32768?ce|4294901760:ce},s.prototype.readInt16BE=function(j,U){j=j>>>0,U||F(j,2,this.length);const ce=this[j+1]|this[j]<<8;return ce&32768?ce|4294901760:ce},s.prototype.readInt32LE=function(j,U){return j=j>>>0,U||F(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},s.prototype.readInt32BE=function(j,U){return j=j>>>0,U||F(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},s.prototype.readBigInt64LE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ce<<24);return(BigInt(Te)<<BigInt(32))+BigInt(U+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),s.prototype.readBigInt64BE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=(U<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(Te)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce)}),s.prototype.readFloatLE=function(j,U){return j=j>>>0,U||F(j,4,this.length),t.read(this,j,!0,23,4)},s.prototype.readFloatBE=function(j,U){return j=j>>>0,U||F(j,4,this.length),t.read(this,j,!1,23,4)},s.prototype.readDoubleLE=function(j,U){return j=j>>>0,U||F(j,8,this.length),t.read(this,j,!0,52,8)},s.prototype.readDoubleBE=function(j,U){return j=j>>>0,U||F(j,8,this.length),t.read(this,j,!1,52,8)};function z(te,j,U,ce,Te,Re){if(!s.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>Te||j<Re)throw new RangeError('"value" argument is out of bounds');if(U+ce>te.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(j,U,ce,Te){if(j=+j,U=U>>>0,ce=ce>>>0,!Te){const Be=Math.pow(2,8*ce)-1;z(this,j,U,ce,Be,0)}let Re=1,ze=0;for(this[U]=j&255;++ze<ce&&(Re*=256);)this[U+ze]=j/Re&255;return U+ce},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(j,U,ce,Te){if(j=+j,U=U>>>0,ce=ce>>>0,!Te){const Be=Math.pow(2,8*ce)-1;z(this,j,U,ce,Be,0)}let Re=ce-1,ze=1;for(this[U+Re]=j&255;--Re>=0&&(ze*=256);)this[U+Re]=j/ze&255;return U+ce},s.prototype.writeUint8=s.prototype.writeUInt8=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,1,255,0),this[U]=j&255,U+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,65535,0),this[U]=j&255,this[U+1]=j>>>8,U+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,65535,0),this[U]=j>>>8,this[U+1]=j&255,U+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,4294967295,0),this[U+3]=j>>>24,this[U+2]=j>>>16,this[U+1]=j>>>8,this[U]=j&255,U+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,4294967295,0),this[U]=j>>>24,this[U+1]=j>>>16,this[U+2]=j>>>8,this[U+3]=j&255,U+4};function J(te,j,U,ce,Te){Oe(j,ce,Te,te,U,7);let Re=Number(j&BigInt(4294967295));te[U++]=Re,Re=Re>>8,te[U++]=Re,Re=Re>>8,te[U++]=Re,Re=Re>>8,te[U++]=Re;let ze=Number(j>>BigInt(32)&BigInt(4294967295));return te[U++]=ze,ze=ze>>8,te[U++]=ze,ze=ze>>8,te[U++]=ze,ze=ze>>8,te[U++]=ze,U}function R(te,j,U,ce,Te){Oe(j,ce,Te,te,U,7);let Re=Number(j&BigInt(4294967295));te[U+7]=Re,Re=Re>>8,te[U+6]=Re,Re=Re>>8,te[U+5]=Re,Re=Re>>8,te[U+4]=Re;let ze=Number(j>>BigInt(32)&BigInt(4294967295));return te[U+3]=ze,ze=ze>>8,te[U+2]=ze,ze=ze>>8,te[U+1]=ze,ze=ze>>8,te[U]=ze,U+8}s.prototype.writeBigUInt64LE=Qe(function(j,U=0){return J(this,j,U,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Qe(function(j,U=0){return R(this,j,U,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(j,U,ce,Te){if(j=+j,U=U>>>0,!Te){const Xe=Math.pow(2,8*ce-1);z(this,j,U,ce,Xe-1,-Xe)}let Re=0,ze=1,Be=0;for(this[U]=j&255;++Re<ce&&(ze*=256);)j<0&&Be===0&&this[U+Re-1]!==0&&(Be=1),this[U+Re]=(j/ze>>0)-Be&255;return U+ce},s.prototype.writeIntBE=function(j,U,ce,Te){if(j=+j,U=U>>>0,!Te){const Xe=Math.pow(2,8*ce-1);z(this,j,U,ce,Xe-1,-Xe)}let Re=ce-1,ze=1,Be=0;for(this[U+Re]=j&255;--Re>=0&&(ze*=256);)j<0&&Be===0&&this[U+Re+1]!==0&&(Be=1),this[U+Re]=(j/ze>>0)-Be&255;return U+ce},s.prototype.writeInt8=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,1,127,-128),j<0&&(j=255+j+1),this[U]=j&255,U+1},s.prototype.writeInt16LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,32767,-32768),this[U]=j&255,this[U+1]=j>>>8,U+2},s.prototype.writeInt16BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,32767,-32768),this[U]=j>>>8,this[U+1]=j&255,U+2},s.prototype.writeInt32LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,2147483647,-2147483648),this[U]=j&255,this[U+1]=j>>>8,this[U+2]=j>>>16,this[U+3]=j>>>24,U+4},s.prototype.writeInt32BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[U]=j>>>24,this[U+1]=j>>>16,this[U+2]=j>>>8,this[U+3]=j&255,U+4},s.prototype.writeBigInt64LE=Qe(function(j,U=0){return J(this,j,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Qe(function(j,U=0){return R(this,j,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function C(te,j,U,ce,Te,Re){if(U+ce>te.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function q(te,j,U,ce,Te){return j=+j,U=U>>>0,Te||C(te,j,U,4),t.write(te,j,U,ce,23,4),U+4}s.prototype.writeFloatLE=function(j,U,ce){return q(this,j,U,!0,ce)},s.prototype.writeFloatBE=function(j,U,ce){return q(this,j,U,!1,ce)};function oe(te,j,U,ce,Te){return j=+j,U=U>>>0,Te||C(te,j,U,8),t.write(te,j,U,ce,52,8),U+8}s.prototype.writeDoubleLE=function(j,U,ce){return oe(this,j,U,!0,ce)},s.prototype.writeDoubleBE=function(j,U,ce){return oe(this,j,U,!1,ce)},s.prototype.copy=function(j,U,ce,Te){if(!s.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!Te&&Te!==0&&(Te=this.length),U>=j.length&&(U=j.length),U||(U=0),Te>0&&Te<ce&&(Te=ce),Te===ce||j.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("sourceEnd out of bounds");Te>this.length&&(Te=this.length),j.length-U<Te-ce&&(Te=j.length-U+ce);const Re=Te-ce;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,ce,Te):Uint8Array.prototype.set.call(j,this.subarray(ce,Te),U),Re},s.prototype.fill=function(j,U,ce,Te){if(typeof j=="string"){if(typeof U=="string"?(Te=U,U=0,ce=this.length):typeof ce=="string"&&(Te=ce,ce=this.length),Te!==void 0&&typeof Te!="string")throw new TypeError("encoding must be a string");if(typeof Te=="string"&&!s.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te);if(j.length===1){const ze=j.charCodeAt(0);(Te==="utf8"&&ze<128||Te==="latin1")&&(j=ze)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(U<0||this.length<U||this.length<ce)throw new RangeError("Out of range index");if(ce<=U)return this;U=U>>>0,ce=ce===void 0?this.length:ce>>>0,j||(j=0);let Re;if(typeof j=="number")for(Re=U;Re<ce;++Re)this[Re]=j;else{const ze=s.isBuffer(j)?j:s.from(j,Te),Be=ze.length;if(Be===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(Re=0;Re<ce-U;++Re)this[Re+U]=ze[Re%Be]}return this};const X={};function ee(te,j,U){X[te]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,this.stack,delete this.name}get code(){return te}set code(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(te,j){return`The "${te}" argument must be of type number. Received type ${typeof j}`},TypeError),ee("ERR_OUT_OF_RANGE",function(te,j,U){let ce=`The value of "${te}" is out of range.`,Te=U;return Number.isInteger(U)&&Math.abs(U)>2**32?Te=se(String(U)):typeof U=="bigint"&&(Te=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(Te=se(Te)),Te+="n"),ce+=` It must be ${j}. Received ${Te}`,ce},RangeError);function se(te){let j="",U=te.length;const ce=te[0]==="-"?1:0;for(;U>=ce+4;U-=3)j=`_${te.slice(U-3,U)}${j}`;return`${te.slice(0,U)}${j}`}function we(te,j,U){I(j,"offset"),(te[j]===void 0||te[j+U]===void 0)&&L(j,te.length-(U+1))}function Oe(te,j,U,ce,Te,Re){if(te>U||te<j){const ze=typeof j=="bigint"?"n":"";let Be;throw j===0||j===BigInt(0)?Be=`>= 0${ze} and < 2${ze} ** ${(Re+1)*8}${ze}`:Be=`>= -(2${ze} ** ${(Re+1)*8-1}${ze}) and < 2 ** ${(Re+1)*8-1}${ze}`,new X.ERR_OUT_OF_RANGE("value",Be,te)}we(ce,Te,Re)}function I(te,j){if(typeof te!="number")throw new X.ERR_INVALID_ARG_TYPE(j,"number",te)}function L(te,j,U){throw Math.floor(te)!==te?(I(te,U),new X.ERR_OUT_OF_RANGE("offset","an integer",te)):j<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,te)}const M=/[^+/0-9A-Za-z-_]/g;function Z(te){if(te=te.split("=")[0],te=te.trim().replace(M,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function ue(te,j){j=j||1/0;let U;const ce=te.length;let Te=null;const Re=[];for(let ze=0;ze<ce;++ze){if(U=te.charCodeAt(ze),U>55295&&U<57344){if(!Te){if(U>56319){(j-=3)>-1&&Re.push(239,191,189);continue}else if(ze+1===ce){(j-=3)>-1&&Re.push(239,191,189);continue}Te=U;continue}if(U<56320){(j-=3)>-1&&Re.push(239,191,189),Te=U;continue}U=(Te-55296<<10|U-56320)+65536}else Te&&(j-=3)>-1&&Re.push(239,191,189);if(Te=null,U<128){if((j-=1)<0)break;Re.push(U)}else if(U<2048){if((j-=2)<0)break;Re.push(U>>6|192,U&63|128)}else if(U<65536){if((j-=3)<0)break;Re.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((j-=4)<0)break;Re.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return Re}function de(te){const j=[];for(let U=0;U<te.length;++U)j.push(te.charCodeAt(U)&255);return j}function ve(te,j){let U,ce,Te;const Re=[];for(let ze=0;ze<te.length&&!((j-=2)<0);++ze)U=te.charCodeAt(ze),ce=U>>8,Te=U%256,Re.push(Te),Re.push(ce);return Re}function Se(te){return e.toByteArray(Z(te))}function Fe(te,j,U,ce){let Te;for(Te=0;Te<ce&&!(Te+U>=j.length||Te>=te.length);++Te)j[Te+U]=te[Te];return Te}function He(te,j){return te instanceof j||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===j.name}function Ve(te){return te!==te}const ut=function(){const te="0123456789abcdef",j=new Array(256);for(let U=0;U<16;++U){const ce=U*16;for(let Te=0;Te<16;++Te)j[ce+Te]=te[U]+te[Te]}return j}();function Qe(te){return typeof BigInt>"u"?Ye:te}function Ye(){throw new Error("BigInt not supported")}return $f}var zp,LP,dv,FP,$f,BP,W1=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtuTasat.js"(){Ce(),zp={},LP=!1,dv={},FP=!1,$f={},BP=!1}}),pd={};Ku(pd,{Buffer:()=>kn,INSPECT_MAX_BYTES:()=>i9,default:()=>hc,kMaxLength:()=>o9});var hc,kn,i9,o9,md=Vn({"../../node_modules/@jspm/core/nodelibs/browser/buffer.js"(){Ce(),W1(),hc=Js(),hc.Buffer,hc.SlowBuffer,hc.INSPECT_MAX_BYTES,hc.kMaxLength,kn=hc.Buffer,i9=hc.INSPECT_MAX_BYTES,o9=hc.kMaxLength}}),Ce=Vn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){md()}}),i0=Le({"../core/dist/thing-description.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.ThingEvent=e.ThingAction=e.ThingProperty=e.BaseSchema=e.Form=e.Thing=e.DEFAULT_THING_TYPE=e.DEFAULT_CONTEXT_LANGUAGE=e.DEFAULT_CONTEXT_V11=e.DEFAULT_CONTEXT_V1=void 0,e.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",e.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",e.DEFAULT_CONTEXT_LANGUAGE="en",e.DEFAULT_THING_TYPE="Thing";var t=class{constructor(){this["@context"]=[e.DEFAULT_CONTEXT_V1,e.DEFAULT_CONTEXT_V11],this["@type"]=e.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};e.Thing=t;var r=class{constructor(a,l){this.href=a,l!=null&&(this.contentType=l)}};e.Form=r;var n=class{};e.BaseSchema=n;var i=class extends n{};e.ThingProperty=i;var o=class{};e.ThingAction=o;var s=class{};e.ThingEvent=s}}),Ufe=Le({"../../node_modules/ms/index.js"(e,t){Ce();var r=1e3,n=r*60,i=n*60,o=i*24,s=o*7,a=o*365.25;t.exports=function(p,m){m=m||{};var g=typeof p;if(g==="string"&&p.length>0)return l(p);if(g==="number"&&isFinite(p))return m.long?f(p):u(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var g=parseFloat(m[1]),_=(m[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*o;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(p){var m=Math.abs(p);return m>=o?Math.round(p/o)+"d":m>=i?Math.round(p/i)+"h":m>=n?Math.round(p/n)+"m":m>=r?Math.round(p/r)+"s":p+"ms"}function f(p){var m=Math.abs(p);return m>=o?c(p,m,o,"day"):m>=i?c(p,m,i,"hour"):m>=n?c(p,m,n,"minute"):m>=r?c(p,m,r,"second"):p+" ms"}function c(p,m,g,_){var v=m>=g*1.5;return Math.round(p/g)+" "+_+(v?"s":"")}}}),zfe=Le({"../../node_modules/debug/src/common.js"(e,t){Ce();function r(n){o.debug=o,o.default=o,o.coerce=c,o.disable=l,o.enable=a,o.enabled=u,o.humanize=Ufe(),o.destroy=p,Object.keys(n).forEach(m=>{o[m]=n[m]}),o.names=[],o.skips=[],o.formatters={};function i(m){let g=0;for(let _=0;_<m.length;_++)g=(g<<5)-g+m.charCodeAt(_),g|=0;return o.colors[Math.abs(g)%o.colors.length]}o.selectColor=i;function o(m){let g,_=null,v,h;function E(...y){if(!E.enabled)return;const S=E,T=Number(new Date),x=T-(g||T);S.diff=x,S.prev=g,S.curr=T,g=T,y[0]=o.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let d=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(O,P)=>{if(O==="%%")return"%";d++;const k=o.formatters[P];if(typeof k=="function"){const B=y[d];O=k.call(S,B),y.splice(d,1),d--}return O}),o.formatArgs.call(S,y),(S.log||o.log).apply(S,y)}return E.namespace=m,E.useColors=o.useColors(),E.color=o.selectColor(m),E.extend=s,E.destroy=o.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==o.namespaces&&(v=o.namespaces,h=o.enabled(m)),h),set:y=>{_=y}}),typeof o.init=="function"&&o.init(E),E}function s(m,g){const _=o(this.namespace+(typeof g>"u"?":":g)+m);return _.log=this.log,_}function a(m){o.save(m),o.namespaces=m,o.names=[],o.skips=[];let g;const _=(typeof m=="string"?m:"").split(/[\s,]+/),v=_.length;for(g=0;g<v;g++)_[g]&&(m=_[g].replace(/\*/g,".*?"),m[0]==="-"?o.skips.push(new RegExp("^"+m.slice(1)+"$")):o.names.push(new RegExp("^"+m+"$")))}function l(){const m=[...o.names.map(f),...o.skips.map(f).map(g=>"-"+g)].join(",");return o.enable(""),m}function u(m){if(m[m.length-1]==="*")return!0;let g,_;for(g=0,_=o.skips.length;g<_;g++)if(o.skips[g].test(m))return!1;for(g=0,_=o.names.length;g<_;g++)if(o.names[g].test(m))return!0;return!1}function f(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function c(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),s9=Le({"../../node_modules/debug/src/browser.js"(e,t){Ce(),e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(c=f))}),l.splice(c,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=kfe.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=zfe()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}}),Ys=Le({"../core/dist/logger.js"(e){Ce();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createInfoLogger=o,e.createDebugLogger=s,e.createWarnLogger=a,e.createErrorLogger=l,e.createLoggers=u;var r=t(s9()),n;(function(f){f[f.info=0]="info",f[f.debug=1]="debug",f[f.warn=2]="warn",f[f.error=3]="error"})(n||(n={}));function i(f,c){const p=["node-wot",...f,n[c]].join(":");return(0,r.default)(p)}function o(...f){return i(f,n.info)}function s(...f){return i(f,n.debug)}function a(...f){return i(f,n.warn)}function l(...f){return i(f,n.error)}function u(...f){return{info:o(...f),debug:s(...f),warn:a(...f),error:l(...f)}}}}),qfe=Le({"../../node_modules/is-absolute-url/index.js"(e,t){Ce(),t.exports=r=>{if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return/^[a-zA-Z]:\\/.test(r)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r)}}}),Vfe=Le({"../../node_modules/url-toolkit/src/url-toolkit.js"(e,t){Ce(),function(r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=a.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=a.normalizePath(c.path),a.buildURLFromParts(c)}var p=a.parseURL(u);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return f.alwaysNormalize?(p.path=a.normalizePath(p.path),a.buildURLFromParts(p)):u;var m=a.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var _={scheme:m.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(_.netLoc=m.netLoc,p.path[0]!=="/"))if(!p.path)_.path=m.path,p.params||(_.params=m.params,p.query||(_.query=m.query));else{var v=m.path,h=v.substring(0,v.lastIndexOf("/")+1)+p.path;_.path=a.normalizePath(h)}return _.path===null&&(_.path=f.alwaysNormalize?a.normalizePath(p.path):p.path),a.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};typeof e=="object"&&typeof t=="object"?t.exports=a:typeof define=="function"&&define.amd?define([],function(){return a}):typeof e=="object"?e.URLToolkit=a:r.URLToolkit=a}(e)}}),Kk=Le({"../core/dist/serdes.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(_,v,h,E){E===void 0&&(E=h);var y=Object.getOwnPropertyDescriptor(v,h);(!y||("get"in y?!v.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return v[h]}}),Object.defineProperty(_,E,y)}:function(_,v,h,E){E===void 0&&(E=h),_[E]=v[h]}),r=e&&e.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=e&&e.__importStar||function(){var _=function(v){return _=Object.getOwnPropertyNames||function(h){var E=[];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(E[E.length]=y);return E},_(v)};return function(v){if(v&&v.__esModule)return v;var h={};if(v!=null)for(var E=_(v),y=0;y<E.length;y++)E[y]!=="default"&&t(h,v,E[y]);return r(h,v),h}}();Object.defineProperty(e,"__esModule",{value:!0}),e.setContextLanguage=p,e.parseTD=m,e.serializeTD=g;var i=n(i0()),o=Ys(),s=qfe(),a=Vfe(),{debug:l,warn:u}=(0,o.createLoggers)("core","serdes");function f(_,v){const h=_[v];(typeof h!="object"||h==null)&&(_[v]={})}function c(_,v){const h=_[v];(h===void 0||typeof h!="boolean")&&(_[v]=!1)}function p(_,v,h){if(Array.isArray(_["@context"])){const E=_["@context"];let y=!1;for(const S of E)typeof S=="object"&&S["@language"]!==void 0&&(h&&(S["@language"]=v),y=!0);y||E.push({"@language":v})}}function m(_,v){l(`parseTD() parsing
\`\`\`
${_}
\`\`\``);const h=JSON.parse(_.replace(/^\uFEFF/,""));if(h["@context"]===void 0)h["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11];else if(Array.isArray(h["@context"])){let y=h["@context"];const S=y.indexOf(i.DEFAULT_CONTEXT_V1),T=y.indexOf(i.DEFAULT_CONTEXT_V11);S===-1&&T===-1?(y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&T!==-1?(y=y.filter(function(x){return x!==i.DEFAULT_CONTEXT_V1}),y=y.filter(function(x){return x!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&S!==0&&(y=y.filter(function(x){return x!==i.DEFAULT_CONTEXT_V1}),y.unshift(i.DEFAULT_CONTEXT_V1)),T!==-1&&T!==0&&(y=y.filter(function(x){return x!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11))),h["@context"]=y)}else if(h["@context"]!==i.DEFAULT_CONTEXT_V1&&h["@context"]!==i.DEFAULT_CONTEXT_V11){const y=h["@context"];h["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11,y]}if(p(h,i.DEFAULT_CONTEXT_LANGUAGE,!1),h["@type"]===void 0)h["@type"]=i.DEFAULT_THING_TYPE;else if(Array.isArray(h["@type"])){const y=h["@type"];y.indexOf(i.DEFAULT_THING_TYPE)===-1&&y.unshift(i.DEFAULT_THING_TYPE)}else if(h["@type"]!==i.DEFAULT_THING_TYPE){const y=h["@type"];h["@type"]=[i.DEFAULT_THING_TYPE,y]}for(const y of Object.values(h.properties??{}))for(const S of["readOnly","writeOnly","observable"])c(y,S);for(const y of Object.values(h.actions??{}))for(const S of["safe","idempotent"])c(y,S);for(const y of["properties","actions","events"])f(h,y);h.security===void 0&&u("parseTD() found no security metadata"),typeof h.security=="string"&&(h.security=[h.security]);const E=[];for(const[y,S]of Object.entries(h.properties??{})){if(S.forms==null)throw new Error(`Property '${y}' has no forms field`);for(const T of S.forms){if(!T.href)throw new Error(`Form of Property '${y}' has no href field`);if(!s(T.href)&&h.base==null)throw new Error(`Form of Property '${y}' has relative URI while TD has no base field`);E.push(T)}}for(const[y,S]of Object.entries(h.actions??{})){if(S.forms==null)throw new Error(`Action '${y}' has no forms field`);for(const T of S.forms){if(!T.href)throw new Error(`Form of Action '${y}' has no href field`);if(!s(T.href)&&h.base==null)throw new Error(`Form of Action '${y}' has relative URI while TD has no base field`);E.push(T)}}for(const[y,S]of Object.entries(h.events??{})){if(S.forms==null)throw new Error(`Event '${y}' has no forms field`);for(const T of S.forms){if(!T.href)throw new Error(`Form of Event '${y}' has no href field`);if(!s(T.href)&&h.base==null)throw new Error(`Form of Event '${y}' has relative URI while TD has no base field`);E.push(T)}}if(Object.prototype.hasOwnProperty.call(h,"base")&&(v===void 0||v===!0)){l("parseTD() normalizing 'base' into 'forms'");for(const y of E)y.href.match(/^([a-z0-9+-.]+:).+/i)||(l(`parseTDString() applying base '${h.base}' to '${y.href}'`),y.href=a.buildAbsoluteURL(h.base,y.href))}return h}function g(_){var E;const v=JSON.parse(JSON.stringify(_));if((v.security==null||v.security.length===0)&&(v.securityDefinitions={nosec_sc:{scheme:"nosec"}},v.security=["nosec_sc"]),((E=v.forms)==null?void 0:E.length)===0&&delete v.forms,v.properties!=null&&Object.keys(v.properties).length===0)delete v.properties;else if(v.properties!=null)for(const y of Object.values(v.properties))for(const S of["readOnly","writeOnly","observable"])c(y,S);if(v.actions!=null&&Object.keys(v.actions).length===0)delete v.actions;else if(v.actions!=null)for(const y of Object.values(v.actions))for(const S of["safe","idempotent"])c(y,S);return v.events!=null&&Object.keys(v.events).length===0&&delete v.events,(v==null?void 0:v.links.length)===0&&delete v.links,JSON.stringify(v)}}});function a9(){return oh.now()/1e3}var oh,Ch,Hfe=Vn({"../../node_modules/@jspm/core/nodelibs/browser/process.js"(){Ce(),oh={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},oh.now===void 0&&(Ch=Date.now(),oh.timing&&oh.timing.navigationStart&&(Ch=oh.timing.navigationStart),oh.now=()=>Date.now()-Ch)}}),l9={};Ku(l9,{EOL:()=>f9,arch:()=>d9,constants:()=>c9,cpus:()=>h9,default:()=>$r,endianness:()=>p9,freemem:()=>m9,getNetworkInterfaces:()=>g9,homedir:()=>v9,hostname:()=>y9,loadavg:()=>w9,networkInterfaces:()=>b9,platform:()=>_9,release:()=>E9,tmpDir:()=>S9,tmpdir:()=>T9,totalmem:()=>$9,type:()=>x9,uptime:()=>a9,version:()=>u9});function Wfe(){return UP||(UP=!0,Fi.endianness=function(){return"LE"},Fi.hostname=function(){return typeof location<"u"?location.hostname:""},Fi.loadavg=function(){return[]},Fi.uptime=function(){return 0},Fi.freemem=function(){return Number.MAX_VALUE},Fi.totalmem=function(){return Number.MAX_VALUE},Fi.cpus=function(){return[]},Fi.type=function(){return"Browser"},Fi.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Fi.networkInterfaces=Fi.getNetworkInterfaces=function(){return{}},Fi.arch=function(){return"javascript"},Fi.platform=function(){return"browser"},Fi.tmpdir=Fi.tmpDir=function(){return"/tmp"},Fi.EOL=`
`,Fi.homedir=function(){return"/"}),Fi}var Fi,UP,$r,k3,u9,c9,f9,d9,h9,p9,m9,g9,v9,y9,w9,b9,_9,E9,S9,T9,$9,x9,Gfe=Vn({"../../node_modules/@jspm/core/nodelibs/browser/os.js"(){Ce(),Hfe(),Fi={},UP=!1,$r=Wfe(),$r.endianness,$r.hostname,$r.loadavg,$r.uptime,$r.freemem,$r.totalmem,$r.cpus,$r.type,$r.release,$r.networkInterfaces,$r.getNetworkInterfaces,$r.arch,$r.platform,$r.tmpdir,$r.tmpDir,$r.EOL,$r.homedir,k3=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE",$r.endianness=function(){return k3},$r.homedir=function(){return"/home"},$r.version=function(){return""},$r.arch=function(){return"x64"},$r.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)},$r.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})},$r.uptime=a9,$r.constants={},u9=$r.version,c9=$r.constants,f9=$r.EOL,d9=$r.arch,h9=$r.cpus,p9=$r.endianness,m9=$r.freemem,g9=$r.getNetworkInterfaces,v9=$r.homedir,y9=$r.hostname,w9=$r.loadavg,b9=$r.networkInterfaces,_9=$r.platform,E9=$r.release,S9=$r.tmpDir,T9=$r.tmpdir,$9=$r.totalmem,x9=$r.type}}),xS=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/code.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),j3=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=xS(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=a}}),Gr=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=xS(),r=j3(),n=xS();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=j3();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(R,C){return this}},s=class extends o{constructor(R,C,q){super(),this.varKind=R,this.name=C,this.rhs=q}render({es5:R,_n:C}){const q=R?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${oe};`+C}optimizeNames(R,C){if(R[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,R,C)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(R,C,q){super(),this.lhs=R,this.rhs=C,this.sideEffects=q}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,C){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,R,C),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(R,this.rhs)}},l=class extends a{constructor(R,C,q,oe){super(R,q,oe),this.op=C}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}},u=class extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}},f=class extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}},c=class extends o{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}},p=class extends o{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,C){return this.code=ie(this.code,R,C),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((C,q)=>C+q.render(R),"")}optimizeNodes(){const{nodes:R}=this;let C=R.length;for(;C--;){const q=R[C].optimizeNodes();Array.isArray(q)?R.splice(C,1,...q):q?R[C]=q:R.splice(C,1)}return R.length>0?this:void 0}optimizeNames(R,C){const{nodes:q}=this;let oe=q.length;for(;oe--;){const X=q[oe];X.optimizeNames(R,C)||(W(R,X.names),q.splice(oe,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((R,C)=>B(R,C.names),{})}},g=class extends m{render(R){return"{"+R._n+super.render(R)+"}"+R._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class Ob extends g{constructor(C,q){super(q),this.condition=C}render(C){let q=`if(${this.condition})`+super.render(C);return this.else&&(q+="else "+this.else.render(C)),q}optimizeNodes(){super.optimizeNodes();const C=this.condition;if(C===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return C===!1?q instanceof Ob?q:q.nodes:this.nodes.length?this:new Ob(ne(C),q instanceof Ob?[q]:q.nodes);if(!(C===!1||!this.nodes.length))return this}optimizeNames(C,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(C,q),!!(super.optimizeNames(C,q)||this.else))return this.condition=ie(this.condition,C,q),this}get names(){const C=super.names;return K(C,this.condition),this.else&&B(C,this.else.names),C}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,C){if(super.optimizeNames(R,C))return this.iteration=ie(this.iteration,R,C),this}get names(){return B(super.names,this.iteration.names)}},S=class extends E{constructor(R,C,q,oe){super(),this.varKind=R,this.name=C,this.from=q,this.to=oe}render(R){const C=R.es5?r.varKinds.var:this.varKind,{name:q,from:oe,to:X}=this;return`for(${C} ${q}=${oe}; ${q}<${X}; ${q}++)`+super.render(R)}get names(){const R=K(super.names,this.from);return K(R,this.to)}},T=class extends E{constructor(R,C,q,oe){super(),this.loop=R,this.varKind=C,this.name=q,this.iterable=oe}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,C){if(super.optimizeNames(R,C))return this.iterable=ie(this.iterable,R,C),this}get names(){return B(super.names,this.iterable.names)}},x=class extends g{constructor(R,C,q){super(),this.name=R,this.args=C,this.async=q}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}};x.kind="func";var d=class extends m{render(R){return"return "+super.render(R)}};d.kind="return";var $=class extends g{render(R){let C="try"+super.render(R);return this.catch&&(C+=this.catch.render(R)),this.finally&&(C+=this.finally.render(R)),C}optimizeNodes(){var R,C;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(R,C){var q,oe;return super.optimizeNames(R,C),(q=this.catch)===null||q===void 0||q.optimizeNames(R,C),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(R,C),this}get names(){const R=super.names;return this.catch&&B(R,this.catch.names),this.finally&&B(R,this.finally.names),R}},O=class extends g{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}};O.kind="catch";var P=class extends g{render(R){return"finally"+super.render(R)}};P.kind="finally";var k=class{constructor(R,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=R,this._scope=new r.Scope({parent:R}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,C){const q=this._extScope.value(R,C);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(R,C){return this._extScope.getValue(R,C)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,C,q,oe){const X=this._scope.toName(C);return q!==void 0&&oe&&(this._constants[X.str]=q),this._leafNode(new s(R,X,q)),X}const(R,C,q){return this._def(r.varKinds.const,R,C,q)}let(R,C,q){return this._def(r.varKinds.let,R,C,q)}var(R,C,q){return this._def(r.varKinds.var,R,C,q)}assign(R,C,q){return this._leafNode(new a(R,C,q))}add(R,C){return this._leafNode(new l(R,e.operators.ADD,C))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new p(R)),this}object(...R){const C=["{"];for(const[q,oe]of R)C.length>1&&C.push(","),C.push(q),(q!==oe||this.opts.es5)&&(C.push(":"),(0,t.addCodeArg)(C,oe));return C.push("}"),new t._Code(C)}if(R,C,q){if(this._blockNode(new h(R)),C&&q)this.code(C).else().code(q).endIf();else if(C)this.code(C).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new h(R))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(R,C){return this._blockNode(R),C&&this.code(C).endFor(),this}for(R,C){return this._for(new y(R),C)}forRange(R,C,q,oe,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const ee=this._scope.toName(R);return this._for(new S(X,ee,C,q),()=>oe(ee))}forOf(R,C,q,oe=r.varKinds.const){const X=this._scope.toName(R);if(this.opts.es5){const ee=C instanceof t.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,t._)`${ee}.length`,se=>{this.var(X,(0,t._)`${ee}[${se}]`),q(X)})}return this._for(new T("of",oe,X,C),()=>q(X))}forIn(R,C,q,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${C})`,q);const X=this._scope.toName(R);return this._for(new T("in",oe,X,C),()=>q(X))}endFor(){return this._endBlockNode(E)}label(R){return this._leafNode(new u(R))}break(R){return this._leafNode(new f(R))}return(R){const C=new d;if(this._blockNode(C),this.code(R),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(R,C,q){if(!C&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new $;if(this._blockNode(oe),this.code(R),C){const X=this.name("e");this._currNode=oe.catch=new O(X),C(X)}return q&&(this._currNode=oe.finally=new P,this.code(q)),this._endBlockNode(O,P)}throw(R){return this._leafNode(new c(R))}block(R,C){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(C),this}endBlock(R){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-C;if(q<0||R!==void 0&&q!==R)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${R} expected`);return this._nodes.length=C,this}func(R,C=t.nil,q,oe){return this._blockNode(new x(R,C,q)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,C){const q=this._currNode;if(q instanceof R||C&&q instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${R.kind}/${C.kind}`:R.kind}"`)}_elseNode(R){const C=this._currNode;if(!(C instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const C=this._nodes;C[C.length-1]=R}};e.CodeGen=k;function B(R,C){for(const q in C)R[q]=(R[q]||0)+(C[q]||0);return R}function K(R,C){return C instanceof t._CodeOrName?B(R,C.names):R}function ie(R,C,q){if(R instanceof t.Name)return oe(R);if(!X(R))return R;return new t._Code(R._items.reduce((ee,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?ee.push(...se._items):ee.push(se),ee),[]));function oe(ee){const se=q[ee.str];return se===void 0||C[ee.str]!==1?ee:(delete C[ee.str],se)}function X(ee){return ee instanceof t._Code&&ee._items.some(se=>se instanceof t.Name&&C[se.str]===1&&q[se.str]!==void 0)}}function W(R,C){for(const q in C)R[q]=(R[q]||0)-(C[q]||0)}function ne(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,t._)`!${J(R)}`}e.not=ne;var fe=z(e.operators.AND);function re(...R){return R.reduce(fe)}e.and=re;var le=z(e.operators.OR);function F(...R){return R.reduce(le)}e.or=F;function z(R){return(C,q)=>C===t.nil?q:q===t.nil?C:(0,t._)`${J(C)} ${R} ${J(q)}`}function J(R){return R instanceof t.Name?R:(0,t._)`(${R})`}}}),_n=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/util.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Gr(),r=xS();function n(x){const d={};for(const $ of x)d[$]=!0;return d}e.toHash=n;function i(x,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(x,d),!s(d,x.self.RULES.all))}e.alwaysValidSchema=i;function o(x,d=x.schema){const{opts:$,self:O}=x;if(!$.strictSchema||typeof d=="boolean")return;const P=O.RULES.keywords;for(const k in d)P[k]||T(x,`unknown keyword: "${k}"`)}e.checkUnknownRules=o;function s(x,d){if(typeof x=="boolean")return!x;for(const $ in x)if(d[$])return!0;return!1}e.schemaHasRules=s;function a(x,d){if(typeof x=="boolean")return!x;for(const $ in x)if($!=="$ref"&&d.all[$])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:x,schemaPath:d},$,O,P){if(!P){if(typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="string")return(0,t._)`${$}`}return(0,t._)`${x}${d}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=l;function u(x){return p(decodeURIComponent(x))}e.unescapeFragment=u;function f(x){return encodeURIComponent(c(x))}e.escapeFragment=f;function c(x){return typeof x=="number"?`${x}`:x.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(x){return x.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(x,d){if(Array.isArray(x))for(const $ of x)d($);else d(x)}e.eachItem=m;function g({mergeNames:x,mergeToName:d,mergeValues:$,resultToName:O}){return(P,k,B,K)=>{const ie=B===void 0?k:B instanceof t.Name?(k instanceof t.Name?x(P,k,B):d(P,k,B),B):k instanceof t.Name?(d(P,B,k),k):$(k,B);return K===t.Name&&!(ie instanceof t.Name)?O(P,ie):ie}}e.mergeEvaluated={props:g({mergeNames:(x,d,$)=>x.if((0,t._)`${$} !== true && ${d} !== undefined`,()=>{x.if((0,t._)`${d} === true`,()=>x.assign($,!0),()=>x.assign($,(0,t._)`${$} || {}`).code((0,t._)`Object.assign(${$}, ${d})`))}),mergeToName:(x,d,$)=>x.if((0,t._)`${$} !== true`,()=>{d===!0?x.assign($,!0):(x.assign($,(0,t._)`${$} || {}`),v(x,$,d))}),mergeValues:(x,d)=>x===!0?!0:{...x,...d},resultToName:_}),items:g({mergeNames:(x,d,$)=>x.if((0,t._)`${$} !== true && ${d} !== undefined`,()=>x.assign($,(0,t._)`${d} === true ? true : ${$} > ${d} ? ${$} : ${d}`)),mergeToName:(x,d,$)=>x.if((0,t._)`${$} !== true`,()=>x.assign($,d===!0?!0:(0,t._)`${$} > ${d} ? ${$} : ${d}`)),mergeValues:(x,d)=>x===!0?!0:Math.max(x,d),resultToName:(x,d)=>x.var("items",d)})};function _(x,d){if(d===!0)return x.var("props",!0);const $=x.var("props",(0,t._)`{}`);return d!==void 0&&v(x,$,d),$}e.evaluatedPropsToName=_;function v(x,d,$){Object.keys($).forEach(O=>x.assign((0,t._)`${d}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;var h={};function E(x,d){return x.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(x){x[x.Num=0]="Num",x[x.Str=1]="Str"})(y||(e.Type=y={}));function S(x,d,$){if(x instanceof t.Name){const O=d===y.Num;return $?O?(0,t._)`"[" + ${x} + "]"`:(0,t._)`"['" + ${x} + "']"`:O?(0,t._)`"/" + ${x}`:(0,t._)`"/" + ${x}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,t.getProperty)(x).toString():"/"+c(x)}e.getErrorPath=S;function T(x,d,$=x.opts.strictSchema){if($){if(d=`strict mode: ${d}`,$===!0)throw new Error(d);x.self.logger.warn(d)}}e.checkStrictMode=T}}),gd=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/names.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),G1=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/errors.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Gr(),r=_n(),n=gd();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:x,allErrors:d}=S,$=c(v,h,E);y??(x||d)?l(T,$):u(S,(0,t._)`[${$}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:x}=y,d=c(v,h,E);l(S,d),T||x||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const x=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(x,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${x}.instancePath === undefined`,()=>v.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${h}`),T.opts.verbose&&(v.assign((0,t._)`${x}.schema`,E),v.assign((0,t._)`${x}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,h,T),y.object(...T)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:T,schemaValue:x,it:d}=v,{opts:$,propertyName:O,topSchemaRef:P,schemaPath:k}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),$.messages&&y.push([f.message,typeof E=="function"?E(v):E]),$.verbose&&y.push([f.schema,x],[f.parentSchema,(0,t._)`${P}${k}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}}}),Kfe=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=G1(),r=Gr(),n=gd(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),A9=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/rules.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),O9=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),AS=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=A9(),r=O9(),n=G1(),i=Gr(),o=_n(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s||(e.DataType=s={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:T,data:x,opts:d}=y,$=c(S,d.coerceTypes),O=S.length>0&&!($.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(O){const P=_(S,x,d.strictNumbers,s.Wrong);T.if(P,()=>{$.length?p(y,S,$):h(y)})}return O}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter(T=>f.has(T)||S==="array"&&T==="array"):[]}function p(y,S,T){const{gen:x,data:d,opts:$}=y,O=x.let("dataType",(0,i._)`typeof ${d}`),P=x.let("coerced",(0,i._)`undefined`);$.coerceTypes==="array"&&x.if((0,i._)`${O} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>x.assign(d,(0,i._)`${d}[0]`).assign(O,(0,i._)`typeof ${d}`).if(_(S,d,$.strictNumbers),()=>x.assign(P,d))),x.if((0,i._)`${P} !== undefined`);for(const B of T)(f.has(B)||B==="array"&&$.coerceTypes==="array")&&k(B);x.else(),h(y),x.endIf(),x.if((0,i._)`${P} !== undefined`,()=>{x.assign(d,P),m(y,P)});function k(B){switch(B){case"string":x.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":x.elseIf((0,i._)`${O} == "boolean" || ${d} === null
              || (${O} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":x.elseIf((0,i._)`${O} === "boolean" || ${d} === null
              || (${O} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":x.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":x.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),x.assign(P,null);return;case"array":x.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:T},x){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${T}]`,x))}function g(y,S,T,x=s.Correct){const d=x===s.Correct?i.operators.EQ:i.operators.NEQ;let $;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":$=(0,i._)`Array.isArray(${S})`;break;case"object":$=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":$=O((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":$=O();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return x===s.Correct?$:(0,i.not)($);function O(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,T?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,T,x){if(y.length===1)return g(y[0],S,T,x);let d;const $=(0,o.toHash)(y);if($.array&&$.object){const O=(0,i._)`typeof ${S} != "object"`;d=$.null?O:(0,i._)`!${S} || ${O}`,delete $.null,delete $.array,delete $.object}else d=i.nil;$.number&&delete $.integer;for(const O in $)d=(0,i.and)(d,g(O,S,T,x));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:T,schema:x}=y,d=(0,o.schemaRefOrVal)(y,x,"type");return{gen:S,keyword:"type",data:T,schema:x.type,schemaCode:d,schemaValue:d,parentSchema:x,params:{},it:y}}}}),Jfe=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Gr(),r=_n();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(a)}`)}}}),tu=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/code.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Gr(),r=_n(),n=gd(),i=_n();function o(y,S){const{gen:T,data:x,it:d}=y;T.if(c(T,x,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:T}},x,d){return(0,t.or)(...x.map($=>(0,t.and)(c(y,S,$,T.ownProperties),(0,t._)`${d} = ${$}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,T){return(0,t._)`${l(y)}.call(${S}, ${T})`}e.isOwnProperty=u;function f(y,S,T,x){const d=(0,t._)`${S}${(0,t.getProperty)(T)} !== undefined`;return x?(0,t._)`${d} && ${u(y,S,T)}`:d}e.propertyInData=f;function c(y,S,T,x){const d=(0,t._)`${S}${(0,t.getProperty)(T)} === undefined`;return x?(0,t.or)(d,(0,t.not)(u(y,S,T))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter(T=>!(0,r.alwaysValidSchema)(y,S[T]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:T,topSchemaRef:x,schemaPath:d,errorPath:$},it:O},P,k,B){const K=B?(0,t._)`${y}, ${S}, ${x}${d}`:S,ie=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)],[n.default.parentData,O.parentData],[n.default.parentDataProperty,O.parentDataProperty],[n.default.rootData,n.default.rootData]];O.opts.dynamicRef&&ie.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const W=(0,t._)`${K}, ${T.object(...ie)}`;return k!==t.nil?(0,t._)`${P}.call(${k}, ${W})`:(0,t._)`${P}(${W})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},T){const x=S.unicodeRegExp?"u":"",{regExp:d}=S.code,$=d(T,x);return y.scopeValue("pattern",{key:$.toString(),ref:$,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${T}, ${x})`})}e.usePattern=v;function h(y){const{gen:S,data:T,keyword:x,it:d}=y,$=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return O(()=>S.assign(P,!1)),P}return S.var($,!0),O(()=>S.break()),$;function O(P){const k=S.const("len",(0,t._)`${T}.length`);S.forRange("i",0,k,B=>{y.subschema({keyword:x,dataProp:B,dataPropType:r.Type.Num},$),S.if((0,t.not)($),P)})}}e.validateArray=h;function E(y){const{gen:S,schema:T,keyword:x,it:d}=y;if(!Array.isArray(T))throw new Error("ajv implementation error");if(T.some(k=>(0,r.alwaysValidSchema)(d,k))&&!d.opts.unevaluated)return;const O=S.let("valid",!1),P=S.name("_valid");S.block(()=>T.forEach((k,B)=>{const K=y.subschema({keyword:x,schemaProp:B,compositeRule:!0},P);S.assign(O,(0,t._)`${O} || ${P}`),y.mergeValidEvaluated(K,P)||S.if((0,t.not)(O))})),y.result(O,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Yfe=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Gr(),r=gd(),n=tu(),i=G1();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),T=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const x=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:T,compositeRule:!0},x),m.pass(x,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:T}=m;u(T,g);const x=!S&&g.compile?g.compile.call(T.self,E,y,T):g.validate,d=f(v,h,x),$=v.let("valid");m.block$data($,O),m.ok((_=g.valid)!==null&&_!==void 0?_:$);function O(){if(g.errors===!1)B(),g.modifying&&a(m),K(()=>m.error());else{const ie=g.async?P():k();g.modifying&&a(m),K(()=>l(m,ie))}}function P(){const ie=v.let("ruleErrs",null);return v.try(()=>B((0,t._)`await `),W=>v.assign($,!1).if((0,t._)`${W} instanceof ${T.ValidationError}`,()=>v.assign(ie,(0,t._)`${W}.errors`),()=>v.throw(W))),ie}function k(){const ie=(0,t._)`${d}.errors`;return v.assign(ie,null),B(t.nil),ie}function B(ie=g.async?(0,t._)`await `:t.nil){const W=T.opts.passContext?r.default.this:r.default.self,ne=!("compile"in g&&!S||g.schema===!1);v.assign($,(0,t._)`${ie}${(0,n.callValidateCode)(m,d,W,ne)}`,g.modifying)}function K(ie){var W;v.if((0,t.not)((W=g.valid)!==null&&W!==void 0?W:$),ie)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const T=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error(T);else throw new Error(T)}}e.validateKeywordUsage=p}}),Xfe=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Gr(),r=_n();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(s.propertyName=p)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),og=Le({"../../node_modules/fast-deep-equal/index.js"(e,t){Ce(),t.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,s,a;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(s=o;s--!==0;)if(!r(n[s],i[s]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(a=Object.keys(n),o=a.length,o!==Object.keys(i).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(i,a[s]))return!1;for(s=o;s--!==0;){var l=a[s];if(!r(n[l],i[l]))return!1}return!0}return n!==n&&i!==i}}}),Qfe=Le({"../../node_modules/@thingweb/thing-model/node_modules/json-schema-traverse/index.js"(e,t){Ce();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,s,a,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),K1=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/resolve.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=_n(),r=og(),n=Qfe(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!a(v):h?l(v)<=h:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const h in v){if(s.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),T={"":S},x=u(y,S,!1),d={},$=new Set;return n(v,{allKeys:!0},(k,B,K,ie)=>{if(ie===void 0)return;const W=x+B;let ne=T[ie];typeof k[E]=="string"&&(ne=fe.call(this,k[E])),re.call(this,k.$anchor),re.call(this,k.$dynamicAnchor),T[B]=ne;function fe(le){const F=this.opts.uriResolver.resolve;if(le=p(ne?F(ne,le):le),$.has(le))throw P(le);$.add(le);let z=this.refs[le];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?O(k,z.schema,le):le!==p(W)&&(le[0]==="#"?(O(k,d[le],le),d[le]=k):this.refs[le]=W),le}function re(le){if(typeof le=="string"){if(!g.test(le))throw new Error(`invalid anchor "${le}"`);fe.call(this,`#${le}`)}}}),d;function O(k,B,K){if(B!==void 0&&!r(k,B))throw P(K)}function P(k){return new Error(`reference "${k}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),J1=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Kfe(),r=AS(),n=O9(),i=AS(),o=Jfe(),s=Yfe(),a=Xfe(),l=Gr(),u=gd(),f=K1(),c=_n(),p=G1();function m(I){if(x(I)&&($(I),T(I))){h(I);return}g(I,()=>(0,t.topBoolOrEmptySchema)(I))}e.validateFunctionCode=m;function g({gen:I,validateName:L,schema:M,schemaEnv:Z,opts:ue},de){ue.code.es5?I.func(L,(0,l._)`${u.default.data}, ${u.default.valCxt}`,Z.$async,()=>{I.code((0,l._)`"use strict"; ${y(M,ue)}`),v(I,ue),I.code(de)}):I.func(L,(0,l._)`${u.default.data}, ${_(ue)}`,Z.$async,()=>I.code(y(M,ue)).code(de))}function _(I){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${I.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(I,L){I.if(u.default.valCxt,()=>{I.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),I.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),I.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),I.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),L.dynamicRef&&I.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{I.var(u.default.instancePath,(0,l._)`""`),I.var(u.default.parentData,(0,l._)`undefined`),I.var(u.default.parentDataProperty,(0,l._)`undefined`),I.var(u.default.rootData,u.default.data),L.dynamicRef&&I.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(I){const{schema:L,opts:M,gen:Z}=I;g(I,()=>{M.$comment&&L.$comment&&ie(I),k(I),Z.let(u.default.vErrors,null),Z.let(u.default.errors,0),M.unevaluated&&E(I),O(I),W(I)})}function E(I){const{gen:L,validateName:M}=I;I.evaluated=L.const("evaluated",(0,l._)`${M}.evaluated`),L.if((0,l._)`${I.evaluated}.dynamicProps`,()=>L.assign((0,l._)`${I.evaluated}.props`,(0,l._)`undefined`)),L.if((0,l._)`${I.evaluated}.dynamicItems`,()=>L.assign((0,l._)`${I.evaluated}.items`,(0,l._)`undefined`))}function y(I,L){const M=typeof I=="object"&&I[L.schemaId];return M&&(L.code.source||L.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(I,L){if(x(I)&&($(I),T(I))){d(I,L);return}(0,t.boolOrEmptySchema)(I,L)}function T({schema:I,self:L}){if(typeof I=="boolean")return!I;for(const M in I)if(L.RULES.all[M])return!0;return!1}function x(I){return typeof I.schema!="boolean"}function d(I,L){const{schema:M,gen:Z,opts:ue}=I;ue.$comment&&M.$comment&&ie(I),B(I),K(I);const de=Z.const("_errs",u.default.errors);O(I,de),Z.var(L,(0,l._)`${de} === ${u.default.errors}`)}function $(I){(0,c.checkUnknownRules)(I),P(I)}function O(I,L){if(I.opts.jtd)return fe(I,[],!1,L);const M=(0,r.getSchemaTypes)(I.schema),Z=(0,r.coerceAndCheckDataType)(I,M);fe(I,M,!Z,L)}function P(I){const{schema:L,errSchemaPath:M,opts:Z,self:ue}=I;L.$ref&&Z.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(L,ue.RULES)&&ue.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function k(I){const{schema:L,opts:M}=I;L.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(I,"default is ignored in the schema root")}function B(I){const L=I.schema[I.opts.schemaId];L&&(I.baseId=(0,f.resolveUrl)(I.opts.uriResolver,I.baseId,L))}function K(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}function ie({gen:I,schemaEnv:L,schema:M,errSchemaPath:Z,opts:ue}){const de=M.$comment;if(ue.$comment===!0)I.code((0,l._)`${u.default.self}.logger.log(${de})`);else if(typeof ue.$comment=="function"){const ve=(0,l.str)`${Z}/$comment`,Se=I.scopeValue("root",{ref:L.root});I.code((0,l._)`${u.default.self}.opts.$comment(${de}, ${ve}, ${Se}.schema)`)}}function W(I){const{gen:L,schemaEnv:M,validateName:Z,ValidationError:ue,opts:de}=I;M.$async?L.if((0,l._)`${u.default.errors} === 0`,()=>L.return(u.default.data),()=>L.throw((0,l._)`new ${ue}(${u.default.vErrors})`)):(L.assign((0,l._)`${Z}.errors`,u.default.vErrors),de.unevaluated&&ne(I),L.return((0,l._)`${u.default.errors} === 0`))}function ne({gen:I,evaluated:L,props:M,items:Z}){M instanceof l.Name&&I.assign((0,l._)`${L}.props`,M),Z instanceof l.Name&&I.assign((0,l._)`${L}.items`,Z)}function fe(I,L,M,Z){const{gen:ue,schema:de,data:ve,allErrors:Se,opts:Fe,self:He}=I,{RULES:Ve}=He;if(de.$ref&&(Fe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(de,Ve))){ue.block(()=>ee(I,"$ref",Ve.all.$ref.definition));return}Fe.jtd||le(I,L),ue.block(()=>{for(const Qe of Ve.rules)ut(Qe);ut(Ve.post)});function ut(Qe){(0,n.shouldUseGroup)(de,Qe)&&(Qe.type?(ue.if((0,i.checkDataType)(Qe.type,ve,Fe.strictNumbers)),re(I,Qe),L.length===1&&L[0]===Qe.type&&M&&(ue.else(),(0,i.reportTypeError)(I)),ue.endIf()):re(I,Qe),Se||ue.if((0,l._)`${u.default.errors} === ${Z||0}`))}}function re(I,L){const{gen:M,schema:Z,opts:{useDefaults:ue}}=I;ue&&(0,o.assignDefaults)(I,L.type),M.block(()=>{for(const de of L.rules)(0,n.shouldUseRule)(Z,de)&&ee(I,de.keyword,de.definition,L.type)})}function le(I,L){I.schemaEnv.meta||!I.opts.strictTypes||(F(I,L),I.opts.allowUnionTypes||z(I,L),J(I,I.dataTypes))}function F(I,L){if(L.length){if(!I.dataTypes.length){I.dataTypes=L;return}L.forEach(M=>{C(I.dataTypes,M)||oe(I,`type "${M}" not allowed by context "${I.dataTypes.join(",")}"`)}),q(I,L)}}function z(I,L){L.length>1&&!(L.length===2&&L.includes("null"))&&oe(I,"use allowUnionTypes to allow union type keyword")}function J(I,L){const M=I.self.RULES.all;for(const Z in M){const ue=M[Z];if(typeof ue=="object"&&(0,n.shouldUseRule)(I.schema,ue)){const{type:de}=ue.definition;de.length&&!de.some(ve=>R(L,ve))&&oe(I,`missing type "${de.join(",")}" for keyword "${Z}"`)}}}function R(I,L){return I.includes(L)||L==="number"&&I.includes("integer")}function C(I,L){return I.includes(L)||L==="integer"&&I.includes("number")}function q(I,L){const M=[];for(const Z of I.dataTypes)C(L,Z)?M.push(Z):L.includes("integer")&&Z==="number"&&M.push("integer");I.dataTypes=M}function oe(I,L){const M=I.schemaEnv.baseId+I.errSchemaPath;L+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(I,L,I.opts.strictTypes)}var X=class{constructor(I,L,M){if((0,s.validateKeywordUsage)(I,L,M),this.gen=I.gen,this.allErrors=I.allErrors,this.keyword=M,this.data=I.data,this.schema=I.schema[M],this.$data=L.$data&&I.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(I,this.schema,M,this.$data),this.schemaType=L.schemaType,this.parentSchema=I.schema,this.params={},this.it=I,this.def=L,this.$data)this.schemaCode=I.gen.const("vSchema",Oe(this.$data,I));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,L.schemaType,L.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(L.schemaType)}`);("code"in L?L.trackErrors:L.errors!==!1)&&(this.errsCount=I.gen.const("_errs",u.default.errors))}result(I,L,M){this.failResult((0,l.not)(I),L,M)}failResult(I,L,M){this.gen.if(I),M?M():this.error(),L?(this.gen.else(),L(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(I,L){this.failResult((0,l.not)(I),void 0,L)}fail(I){if(I===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(I),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(I){if(!this.$data)return this.fail(I);const{schemaCode:L}=this;this.fail((0,l._)`${L} !== undefined && (${(0,l.or)(this.invalid$data(),I)})`)}error(I,L,M){if(L){this.setParams(L),this._error(I,M),this.setParams({});return}this._error(I,M)}_error(I,L){(I?p.reportExtraError:p.reportError)(this,this.def.error,L)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(I){this.allErrors||this.gen.if(I)}setParams(I,L){L?Object.assign(this.params,I):this.params=I}block$data(I,L,M=l.nil){this.gen.block(()=>{this.check$data(I,M),L()})}check$data(I=l.nil,L=l.nil){if(!this.$data)return;const{gen:M,schemaCode:Z,schemaType:ue,def:de}=this;M.if((0,l.or)((0,l._)`${Z} === undefined`,L)),I!==l.nil&&M.assign(I,!0),(ue.length||de.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),I!==l.nil&&M.assign(I,!1)),M.else()}invalid$data(){const{gen:I,schemaCode:L,schemaType:M,def:Z,it:ue}=this;return(0,l.or)(de(),ve());function de(){if(M.length){if(!(L instanceof l.Name))throw new Error("ajv implementation error");const Se=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(Se,L,ue.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function ve(){if(Z.validateSchema){const Se=I.scopeValue("validate$data",{ref:Z.validateSchema});return(0,l._)`!${Se}(${L})`}return l.nil}}subschema(I,L){const M=(0,a.getSubschema)(this.it,I);(0,a.extendSubschemaData)(M,this.it,I),(0,a.extendSubschemaMode)(M,I);const Z={...this.it,...M,items:void 0,props:void 0};return S(Z,L),Z}mergeEvaluated(I,L){const{it:M,gen:Z}=this;M.opts.unevaluated&&(M.props!==!0&&I.props!==void 0&&(M.props=c.mergeEvaluated.props(Z,I.props,M.props,L)),M.items!==!0&&I.items!==void 0&&(M.items=c.mergeEvaluated.items(Z,I.items,M.items,L)))}mergeValidEvaluated(I,L){const{it:M,gen:Z}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return Z.if(L,()=>this.mergeEvaluated(I,l.Name)),!0}};e.KeywordCxt=X;function ee(I,L,M,Z){const ue=new X(I,M,L);"code"in M?M.code(ue,Z):ue.$data&&M.validate?(0,s.funcKeywordCode)(ue,M):"macro"in M?(0,s.macroKeywordCode)(ue,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(ue,M)}var se=/^\/(?:[^~]|~0|~1)*$/,we=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(I,{dataLevel:L,dataNames:M,dataPathArr:Z}){let ue,de;if(I==="")return u.default.rootData;if(I[0]==="/"){if(!se.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);ue=I,de=u.default.rootData}else{const He=we.exec(I);if(!He)throw new Error(`Invalid JSON-pointer: ${I}`);const Ve=+He[1];if(ue=He[2],ue==="#"){if(Ve>=L)throw new Error(Fe("property/index",Ve));return Z[L-Ve]}if(Ve>L)throw new Error(Fe("data",Ve));if(de=M[L-Ve],!ue)return de}let ve=de;const Se=ue.split("/");for(const He of Se)He&&(de=(0,l._)`${de}${(0,l.getProperty)((0,c.unescapeJsonPointer)(He))}`,ve=(0,l._)`${ve} && ${de}`);return ve;function Fe(He,Ve){return`Cannot access ${He} ${Ve} levels up, current level is ${L}`}}e.getData=Oe}}),Jk=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/validation_error.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),Y1=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/ref_error.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=K1(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),Yk=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Gr(),r=Jk(),n=gd(),i=K1(),o=_n(),s=J1(),a=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:T}=this.opts.code,{ownProperties:x}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:T,ownProperties:x});let $;h.$async&&($=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=d.scopeName("validate");h.validateName=O;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:O,ValidationError:$,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let k;try{this._compilations.add(h),(0,s.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const B=d.toString();k=`${d.scopeRefs(n.default.scope)}return ${B}`,this.opts.code.process&&(k=this.opts.code.process(k,h));const ie=new Function(`${n.default.self}`,`${n.default.scope}`,k)(this,this.scope.get());if(this.scope.value(O,{ref:ie}),ie.errors=null,ie.schema=h.schema,ie.schemaEnv=h,h.$async&&(ie.$async=!0),this.opts.code.source===!0&&(ie.source={validateName:O,validateCode:B,scopeValues:d._values}),this.opts.unevaluated){const{props:W,items:ne}=P;ie.evaluated={props:W instanceof t.Name?void 0:W,items:ne instanceof t.Name?void 0:ne,dynamicProps:W instanceof t.Name,dynamicItems:ne instanceof t.Name},ie.source&&(ie.source.evaluated=(0,t.stringify)(ie.evaluated))}return h.validate=ie,h}catch(B){throw delete h.validate,delete h.validateName,k&&this.logger.error("Error compiling schema, function code:",k),B}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const T=h.refs[y];if(T)return T;let x=m.call(this,h,y);if(x===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:$}=this.opts;d&&(x=new a({schema:d,schemaId:$,root:h,baseId:E}))}if(x!==void 0)return h.refs[y]=f.call(this,x)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let T=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===T)return v.call(this,y,h);const x=(0,i.normalizeId)(S),d=this.refs[x]||this.schemas[x];if(typeof d=="string"){const $=g.call(this,h,d);return typeof($==null?void 0:$.schema)!="object"?void 0:v.call(this,y,$)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),x===(0,i.normalizeId)(E)){const{schema:$}=d,{schemaId:O}=this.opts,P=$[O];return P&&(T=(0,i.resolveUrl)(this.opts.uriResolver,T,P)),new a({schema:$,schemaId:O,root:h,baseId:T})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var T;if(((T=h.fragment)===null||T===void 0?void 0:T[0])!=="/")return;for(const $ of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const O=y[(0,o.unescapeFragment)($)];if(O===void 0)return;y=O;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has($)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let x;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const $=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);x=g.call(this,S,$)}const{schemaId:d}=this.opts;if(x=x||new a({schema:y,schemaId:d,root:S,baseId:E}),x.schema!==x.root.schema)return x}}}),Zfe=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),ede=Le({"../../node_modules/fast-uri/lib/scopedChars.js"(e,t){Ce();var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:r}}}),tde=Le({"../../node_modules/fast-uri/lib/utils.js"(e,t){Ce();var{HEX:r}=ede(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(h){if(u(h,".")<3)return{host:h,isIPV4:!1};const E=h.match(n)||[],[y]=E;return y?{host:l(y,"."),isIPV4:!0}:{host:h,isIPV4:!1}}function o(h,E=!1){let y="",S=!0;for(const T of h){if(r[T]===void 0)return;T!=="0"&&S===!0&&(S=!1),S||(y+=T)}return E&&y.length===0&&(y="0"),y}function s(h){let E=0;const y={error:!1,address:"",zone:""},S=[],T=[];let x=!1,d=!1,$=!1;function O(){if(T.length){if(x===!1){const P=o(T);if(P!==void 0)S.push(P);else return y.error=!0,!1}T.length=0}return!0}for(let P=0;P<h.length;P++){const k=h[P];if(!(k==="["||k==="]"))if(k===":"){if(d===!0&&($=!0),!O())break;if(E++,S.push(":"),E>7){y.error=!0;break}P-1>=0&&h[P-1]===":"&&(d=!0);continue}else if(k==="%"){if(!O())break;x=!0}else{T.push(k);continue}}return T.length&&(x?y.zone=T.join(""):$?S.push(T.join("")):S.push(o(T))),y.address=S.join(""),y}function a(h){if(u(h,":")<2)return{host:h,isIPV6:!1};const E=s(h);if(E.error)return{host:h,isIPV6:!1};{let y=E.address,S=E.address;return E.zone&&(y+="%"+E.zone,S+="%25"+E.zone),{host:y,escapedHost:S,isIPV6:!0}}}function l(h,E){let y="",S=!0;const T=h.length;for(let x=0;x<T;x++){const d=h[x];d==="0"&&S?(x+1<=T&&h[x+1]===E||x+1===T)&&(y+=d,S=!1):(d===E?S=!0:S=!1,y+=d)}return y}function u(h,E){let y=0;for(let S=0;S<h.length;S++)h[S]===E&&y++;return y}var f=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,p=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function g(h){const E=[];for(;h.length;)if(h.match(f))h=h.replace(f,"");else if(h.match(c))h=h.replace(c,"/");else if(h.match(p))h=h.replace(p,"/"),E.pop();else if(h==="."||h==="..")h="";else{const y=h.match(m);if(y){const S=y[0];h=h.slice(S.length),E.push(S)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function _(h,E){const y=E!==!0?escape:unescape;return h.scheme!==void 0&&(h.scheme=y(h.scheme)),h.userinfo!==void 0&&(h.userinfo=y(h.userinfo)),h.host!==void 0&&(h.host=y(h.host)),h.path!==void 0&&(h.path=y(h.path)),h.query!==void 0&&(h.query=y(h.query)),h.fragment!==void 0&&(h.fragment=y(h.fragment)),h}function v(h){const E=[];if(h.userinfo!==void 0&&(E.push(h.userinfo),E.push("@")),h.host!==void 0){let y=unescape(h.host);const S=i(y);if(S.isIPV4)y=S.host;else{const T=a(S.host);T.isIPV6===!0?y=`[${T.escapedHost}]`:y=h.host}E.push(y)}return(typeof h.port=="number"||typeof h.port=="string")&&(E.push(":"),E.push(String(h.port))),E.length?E.join(""):void 0}t.exports={recomposeAuthority:v,normalizeComponentEncoding:_,removeDotSegments:g,normalizeIPv4:i,normalizeIPv6:a,stringArrayToHexStripped:o}}}),rde=Le({"../../node_modules/fast-uri/lib/schemes.js"(e,t){Ce();var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}function o(S){return S.host||(S.error=S.error||"HTTP URIs must have a host."),S}function s(S){const T=String(S.scheme).toLowerCase()==="https";return(S.port===(T?443:80)||S.port==="")&&(S.port=void 0),S.path||(S.path="/"),S}function a(S){return S.secure=i(S),S.resourceName=(S.path||"/")+(S.query?"?"+S.query:""),S.path=void 0,S.query=void 0,S}function l(S){if((S.port===(i(S)?443:80)||S.port==="")&&(S.port=void 0),typeof S.secure=="boolean"&&(S.scheme=S.secure?"wss":"ws",S.secure=void 0),S.resourceName){const[T,x]=S.resourceName.split("?");S.path=T&&T!=="/"?T:void 0,S.query=x,S.resourceName=void 0}return S.fragment=void 0,S}function u(S,T){if(!S.path)return S.error="URN can not be parsed",S;const x=S.path.match(n);if(x){const d=T.scheme||S.scheme||"urn";S.nid=x[1].toLowerCase(),S.nss=x[2];const $=`${d}:${T.nid||S.nid}`,O=y[$];S.path=void 0,O&&(S=O.parse(S,T))}else S.error=S.error||"URN can not be parsed.";return S}function f(S,T){const x=T.scheme||S.scheme||"urn",d=S.nid.toLowerCase(),$=`${x}:${T.nid||d}`,O=y[$];O&&(S=O.serialize(S,T));const P=S,k=S.nss;return P.path=`${d||T.nid}:${k}`,T.skipEscape=!0,P}function c(S,T){const x=S;return x.uuid=x.nss,x.nss=void 0,!T.tolerant&&(!x.uuid||!r.test(x.uuid))&&(x.error=x.error||"UUID is not valid."),x}function p(S){const T=S;return T.nss=(S.uuid||"").toLowerCase(),T}var m={scheme:"http",domainHost:!0,parse:o,serialize:s},g={scheme:"https",domainHost:m.domainHost,parse:o,serialize:s},_={scheme:"ws",domainHost:!0,parse:a,serialize:l},v={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},h={scheme:"urn",parse:u,serialize:f,skipNormalize:!0},E={scheme:"urn:uuid",parse:c,serialize:p,skipNormalize:!0},y={http:m,https:g,ws:_,wss:v,urn:h,"urn:uuid":E};t.exports=y}}),nde=Le({"../../node_modules/fast-uri/index.js"(e,t){Ce();var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:s}=tde(),a=rde();function l(E,y){return typeof E=="string"?E=p(v(E,y),y):typeof E=="object"&&(E=v(p(E,y),y)),E}function u(E,y,S){const T=Object.assign({scheme:"null"},S),x=f(v(E,T),v(y,T),T,!0);return p(x,{...T,skipEscape:!0})}function f(E,y,S,T){const x={};return T||(E=v(p(E,S),S),y=v(p(y,S),S)),S=S||{},!S.tolerant&&y.scheme?(x.scheme=y.scheme,x.userinfo=y.userinfo,x.host=y.host,x.port=y.port,x.path=i(y.path||""),x.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(x.userinfo=y.userinfo,x.host=y.host,x.port=y.port,x.path=i(y.path||""),x.query=y.query):(y.path?(y.path.charAt(0)==="/"?x.path=i(y.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?x.path="/"+y.path:E.path?x.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+y.path:x.path=y.path,x.path=i(x.path)),x.query=y.query):(x.path=E.path,y.query!==void 0?x.query=y.query:x.query=E.query),x.userinfo=E.userinfo,x.host=E.host,x.port=E.port),x.scheme=E.scheme),x.fragment=y.fragment,x}function c(E,y,S){return typeof E=="string"?(E=unescape(E),E=p(s(v(E,S),!0),{...S,skipEscape:!0})):typeof E=="object"&&(E=p(s(E,!0),{...S,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=p(s(v(y,S),!0),{...S,skipEscape:!0})):typeof y=="object"&&(y=p(s(y,!0),{...S,skipEscape:!0})),E.toLowerCase()===y.toLowerCase()}function p(E,y){const S={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},T=Object.assign({},y),x=[],d=a[(T.scheme||S.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(S,T),S.path!==void 0&&(T.skipEscape?S.path=unescape(S.path):(S.path=escape(S.path),S.scheme!==void 0&&(S.path=S.path.split("%3A").join(":")))),T.reference!=="suffix"&&S.scheme&&x.push(S.scheme,":");const $=o(S);if($!==void 0&&(T.reference!=="suffix"&&x.push("//"),x.push($),S.path&&S.path.charAt(0)!=="/"&&x.push("/")),S.path!==void 0){let O=S.path;!T.absolutePath&&(!d||!d.absolutePath)&&(O=i(O)),$===void 0&&(O=O.replace(/^\/\//u,"/%2F")),x.push(O)}return S.query!==void 0&&x.push("?",S.query),S.fragment!==void 0&&x.push("#",S.fragment),x.join("")}var m=Array.from({length:127},(E,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function g(E){let y=0;for(let S=0,T=E.length;S<T;++S)if(y=E.charCodeAt(S),y>126||m[y])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(E,y){const S=Object.assign({},y),T={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},x=E.indexOf("%")!==-1;let d=!1;S.reference==="suffix"&&(E=(S.scheme?S.scheme+":":"")+"//"+E);const $=E.match(_);if($){if(T.scheme=$[1],T.userinfo=$[3],T.host=$[4],T.port=parseInt($[5],10),T.path=$[6]||"",T.query=$[7],T.fragment=$[8],isNaN(T.port)&&(T.port=$[5]),T.host){const P=n(T.host);if(P.isIPV4===!1){const k=r(P.host);T.host=k.host.toLowerCase(),d=k.isIPV6}else T.host=P.host,d=!0}T.scheme===void 0&&T.userinfo===void 0&&T.host===void 0&&T.port===void 0&&T.query===void 0&&!T.path?T.reference="same-document":T.scheme===void 0?T.reference="relative":T.fragment===void 0?T.reference="absolute":T.reference="uri",S.reference&&S.reference!=="suffix"&&S.reference!==T.reference&&(T.error=T.error||"URI is not a "+S.reference+" reference.");const O=a[(S.scheme||T.scheme||"").toLowerCase()];if(!S.unicodeSupport&&(!O||!O.unicodeSupport)&&T.host&&(S.domainHost||O&&O.domainHost)&&d===!1&&g(T.host))try{T.host=URL.domainToASCII(T.host.toLowerCase())}catch(P){T.error=T.error||"Host's domain name can not be converted to ASCII: "+P}(!O||O&&!O.skipNormalize)&&(x&&T.scheme!==void 0&&(T.scheme=unescape(T.scheme)),x&&T.host!==void 0&&(T.host=unescape(T.host)),T.path&&(T.path=escape(unescape(T.path))),T.fragment&&(T.fragment=encodeURI(decodeURIComponent(T.fragment)))),O&&O.parse&&O.parse(T,S)}else T.error=T.error||"URI can not be parsed.";return T}var h={SCHEMES:a,normalize:l,resolve:u,resolveComponents:f,equal:c,serialize:p,parse:v};t.exports=h,t.exports.default=h,t.exports.fastUri=h}}),ide=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/uri.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=nde();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),ode=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/core.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=J1();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Gr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=Jk(),i=Y1(),o=A9(),s=Yk(),a=Gr(),l=K1(),u=AS(),f=_n(),c=Zfe(),p=ide(),m=(F,z)=>new RegExp(F,z);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(F){var z,J,R,C,q,oe,X,ee,se,we,Oe,I,L,M,Z,ue,de,ve,Se,Fe,He,Ve,ut,Qe,Ye;const te=F.strict,j=(z=F.code)===null||z===void 0?void 0:z.optimize,U=j===!0||j===void 0?1:j||0,ce=(R=(J=F.code)===null||J===void 0?void 0:J.regExp)!==null&&R!==void 0?R:m,Te=(C=F.uriResolver)!==null&&C!==void 0?C:p.default;return{strictSchema:(oe=(q=F.strictSchema)!==null&&q!==void 0?q:te)!==null&&oe!==void 0?oe:!0,strictNumbers:(ee=(X=F.strictNumbers)!==null&&X!==void 0?X:te)!==null&&ee!==void 0?ee:!0,strictTypes:(we=(se=F.strictTypes)!==null&&se!==void 0?se:te)!==null&&we!==void 0?we:"log",strictTuples:(I=(Oe=F.strictTuples)!==null&&Oe!==void 0?Oe:te)!==null&&I!==void 0?I:"log",strictRequired:(M=(L=F.strictRequired)!==null&&L!==void 0?L:te)!==null&&M!==void 0?M:!1,code:F.code?{...F.code,optimize:U,regExp:ce}:{optimize:U,regExp:ce},loopRequired:(Z=F.loopRequired)!==null&&Z!==void 0?Z:E,loopEnum:(ue=F.loopEnum)!==null&&ue!==void 0?ue:E,meta:(de=F.meta)!==null&&de!==void 0?de:!0,messages:(ve=F.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Se=F.inlineRefs)!==null&&Se!==void 0?Se:!0,schemaId:(Fe=F.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(He=F.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(Ve=F.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ut=F.validateFormats)!==null&&ut!==void 0?ut:!0,unicodeRegExp:(Qe=F.unicodeRegExp)!==null&&Qe!==void 0?Qe:!0,int32range:(Ye=F.int32range)!==null&&Ye!==void 0?Ye:!0,uriResolver:Te}}var S=class{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts={...F,...y(F)};const{es5:z,lines:J}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:z,lines:J}),this.logger=B(F.logger);const R=F.validateFormats;F.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,F,"NOT SUPPORTED"),T.call(this,h,F,"DEPRECATED","warn"),this._metaOpts=P.call(this),F.formats&&$.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&O.call(this,F.keywords),typeof F.meta=="object"&&this.addMetaSchema(F.meta),d.call(this),F.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:z,schemaId:J}=this.opts;let R=c;J==="id"&&(R={...c},R.id=R.$id,delete R.$id),z&&F&&this.addMetaSchema(R,R[J],!1)}defaultMeta(){const{meta:F,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof F=="object"?F[z]||F:void 0}validate(F,z){let J;if(typeof F=="string"){if(J=this.getSchema(F),!J)throw new Error(`no schema with key or ref "${F}"`)}else J=this.compile(F);const R=J(z);return"$async"in J||(this.errors=J.errors),R}compile(F,z){const J=this._addSchema(F,z);return J.validate||this._compileSchemaEnv(J)}compileAsync(F,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:J}=this.opts;return R.call(this,F,z);async function R(se,we){await C.call(this,se.$schema);const Oe=this._addSchema(se,we);return Oe.validate||q.call(this,Oe)}async function C(se){se&&!this.getSchema(se)&&await R.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(we){if(!(we instanceof i.default))throw we;return oe.call(this,we),await X.call(this,we.missingSchema),q.call(this,se)}}function oe({missingSchema:se,missingRef:we}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${we} cannot be resolved`)}async function X(se){const we=await ee.call(this,se);this.refs[se]||await C.call(this,we.$schema),this.refs[se]||this.addSchema(we,se,z)}async function ee(se){const we=this._loading[se];if(we)return we;try{return await(this._loading[se]=J(se))}finally{delete this._loading[se]}}}addSchema(F,z,J,R=this.opts.validateSchema){if(Array.isArray(F)){for(const q of F)this.addSchema(q,void 0,J,R);return this}let C;if(typeof F=="object"){const{schemaId:q}=this.opts;if(C=F[q],C!==void 0&&typeof C!="string")throw new Error(`schema ${q} must be string`)}return z=(0,l.normalizeId)(z||C),this._checkUnique(z),this.schemas[z]=this._addSchema(F,J,z,R,!0),this}addMetaSchema(F,z,J=this.opts.validateSchema){return this.addSchema(F,z,!0,J),this}validateSchema(F,z){if(typeof F=="boolean")return!0;let J;if(J=F.$schema,J!==void 0&&typeof J!="string")throw new Error("$schema must be a string");if(J=J||this.opts.defaultMeta||this.defaultMeta(),!J)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(J,F);if(!R&&z){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return R}getSchema(F){let z;for(;typeof(z=x.call(this,F))=="string";)F=z;if(z===void 0){const{schemaId:J}=this.opts,R=new s.SchemaEnv({schema:{},schemaId:J});if(z=s.resolveSchema.call(this,R,F),!z)return;this.refs[F]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=x.call(this,F);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{const z=F;this._cache.delete(z);let J=F[this.opts.schemaId];return J&&(J=(0,l.normalizeId)(J),delete this.schemas[J],delete this.refs[J]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const z of F)this.addKeyword(z);return this}addKeyword(F,z){let J;if(typeof F=="string")J=F,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=J);else if(typeof F=="object"&&z===void 0){if(z=F,J=z.keyword,Array.isArray(J)&&!J.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,J,z),!z)return(0,f.eachItem)(J,C=>W.call(this,C)),this;fe.call(this,z);const R={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,f.eachItem)(J,R.type.length===0?C=>W.call(this,C,R):C=>R.type.forEach(q=>W.call(this,C,R,q))),this}getKeyword(F){const z=this.RULES.all[F];return typeof z=="object"?z.definition:!!z}removeKeyword(F){const{RULES:z}=this;delete z.keywords[F],delete z.all[F];for(const J of z.rules){const R=J.rules.findIndex(C=>C.keyword===F);R>=0&&J.rules.splice(R,1)}return this}addFormat(F,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[F]=z,this}errorsText(F=this.errors,{separator:z=", ",dataVar:J="data"}={}){return!F||F.length===0?"No errors":F.map(R=>`${J}${R.instancePath} ${R.message}`).reduce((R,C)=>R+z+C)}$dataMetaSchema(F,z){const J=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const R of z){const C=R.split("/").slice(1);let q=F;for(const oe of C)q=q[oe];for(const oe in J){const X=J[oe];if(typeof X!="object")continue;const{$data:ee}=X.definition,se=q[oe];ee&&se&&(q[oe]=le(se))}}return F}_removeAllSchemas(F,z){for(const J in F){const R=F[J];(!z||z.test(J))&&(typeof R=="string"?delete F[J]:R&&!R.meta&&(this._cache.delete(R.schema),delete F[J]))}}_addSchema(F,z,J,R=this.opts.validateSchema,C=this.opts.addUsedSchema){let q;const{schemaId:oe}=this.opts;if(typeof F=="object")q=F[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof F!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(F);if(X!==void 0)return X;J=(0,l.normalizeId)(q||J);const ee=l.getSchemaRefs.call(this,F,J);return X=new s.SchemaEnv({schema:F,schemaId:oe,meta:z,baseId:J,localRefs:ee}),this._cache.set(X.schema,X),C&&!J.startsWith("#")&&(J&&this._checkUnique(J),this.refs[J]=X),R&&this.validateSchema(F,!0),X}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):s.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const z=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,F)}finally{this.opts=z}}};S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function T(F,z,J,R="error"){for(const C in F){const q=C;q in z&&this.logger[R](`${J}: option ${C}. ${F[q]}`)}}function x(F){return F=(0,l.normalizeId)(F),this.schemas[F]||this.refs[F]}function d(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const z in F)this.addSchema(F[z],z)}function $(){for(const F in this.opts.formats){const z=this.opts.formats[F];z&&this.addFormat(F,z)}}function O(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in F){const J=F[z];J.keyword||(J.keyword=z),this.addKeyword(J)}}function P(){const F={...this.opts};for(const z of g)delete F[z];return F}var k={log(){},warn(){},error(){}};function B(F){if(F===!1)return k;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}var K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(F,z){const{RULES:J}=this;if((0,f.eachItem)(F,R=>{if(J.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!K.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function W(F,z,J){var R;const C=z==null?void 0:z.post;if(J&&C)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=C?q.post:q.rules.find(({type:ee})=>ee===J);if(oe||(oe={type:J,rules:[]},q.rules.push(oe)),q.keywords[F]=!0,!z)return;const X={keyword:F,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,oe,X,z.before):oe.rules.push(X),q.all[F]=X,(R=z.implements)===null||R===void 0||R.forEach(ee=>this.addKeyword(ee))}function ne(F,z,J){const R=F.rules.findIndex(C=>C.keyword===J);R>=0?F.rules.splice(R,0,z):(F.rules.push(z),this.logger.warn(`rule ${J} is not defined`))}function fe(F){let{metaSchema:z}=F;z!==void 0&&(F.$data&&this.opts.$data&&(z=le(z)),F.validateSchema=this.compile(z,!0))}var re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function le(F){return{anyOf:[F,re]}}}}),sde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),ade=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=Y1(),r=tu(),n=Gr(),i=gd(),o=Yk(),s=_n(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return T();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return x(S);return d(S);function T(){if(_===y)return u(f,v,_,_.$async);const $=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${$}.validate`,y,y.$async)}function x($){const O=l(f,$);u(f,O,$,$.$async)}function d($){const O=c.scopeValue("schema",h.code.source===!0?{ref:$,code:(0,n.stringify)($)}:{ref:$}),P=c.name("valid"),k=f.subschema({schema:$,dataTypes:[],schemaPath:n.nil,topSchemaRef:O,errSchemaPath:p},P);f.mergeEvaluated(k),f.ok(P)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():T();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const $=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign($,!0)},O=>{g.if((0,n._)`!(${O} instanceof ${_.ValidationError})`,()=>g.throw(O)),x(O),v||g.assign($,!1)}),f.ok($)}function T(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>x(c))}function x($){const O=(0,n._)`${$}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${O} : ${i.default.vErrors}.concat(${O})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d($){var O;if(!_.opts.unevaluated)return;const P=(O=p==null?void 0:p.validate)===null||O===void 0?void 0:O.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=s.mergeEvaluated.props(g,P.props,_.props));else{const k=g.var("props",(0,n._)`${$}.evaluated.props`);_.props=s.mergeEvaluated.props(g,k,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=s.mergeEvaluated.items(g,P.items,_.items));else{const k=g.var("items",(0,n._)`${$}.evaluated.items`);_.items=s.mergeEvaluated.items(g,k,_.items,n.Name)}}}e.callRef=u,e.default=a}}),lde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=sde(),r=ade(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),ude=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),cde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),fde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),dde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n=fde(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),hde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Gr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${s})`)}};e.default=i}}),pde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),mde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Gr(),n=_n(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:p}=s,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const T of l)if((y==null?void 0:y[T])===void 0&&!S.has(T)){const x=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${T}" is not defined at "${x}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function h(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),gde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),Xk=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/equal.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=og();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),vde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=AS(),r=Gr(),n=_n(),i=Xk(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];a.block$data(_,h,(0,r._)`${m} === false`),a.ok(_);function h(){const T=l.let("i",(0,r._)`${u}.length`),x=l.let("j");a.setParams({i:T,j:x}),l.assign(_,!0),l.if((0,r._)`${T} > 1`,()=>(E()?y:S)(T,x))}function E(){return v.length>0&&!v.some(T=>T==="object"||T==="array")}function y(T,x){const d=l.name("item"),$=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),O=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${T}--;`,()=>{l.let(d,(0,r._)`${u}[${T}]`),l.if($,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${O}[${d}] == "number"`,()=>{l.assign(x,(0,r._)`${O}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${O}[${d}] = ${T}`)})}function S(T,x){const d=(0,n.useFunc)(l,i.default),$=l.name("outer");l.label($).for((0,r._)`;${T}--;`,()=>l.for((0,r._)`${x} = ${T}; ${x}--;`,()=>l.if((0,r._)`${d}(${u}[${T}], ${u}[${x}])`,()=>{a.error(),l.assign(_,!1).break($)})))}}};e.default=s}}),yde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n=Xk(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),wde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n=Xk(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:p}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,T)=>E(y,T)))}s.pass(v);function h(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const T=f[S];return typeof T=="object"&&T!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${T}`}}};e.default=o}}),bde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ude(),r=cde(),n=dde(),i=hde(),o=pde(),s=mde(),a=gde(),l=vde(),u=yde(),f=wde(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),P9=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Gr(),r=_n(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:p}=s;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),R9=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Gr(),r=_n(),n=tu(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:p,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,T=S===h.minItems&&(S===h.maxItems||h[a]===!1);if(E.strictTuples&&!T){const x=`"${p}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,x,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),_de=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=R9(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),Ede=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n=tu(),i=P9(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),Sde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=s.name("valid");p===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),p!==void 0&&s.if((0,t._)`${u}.length > 0`,h)):(s.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=s.name("_valid"),T=s.let("count",0);E(S,()=>s.if(S,()=>y(T)))}function E(S,T){s.forRange("i",0,_,x=>{o.subschema({keyword:"contains",dataProp:x,dataPropType:r.Type.Num,compositeRule:!0},S),T()})}function y(S){s.code((0,t._)`${S}++`),p===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${p}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),Tde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Gr(),r=_n(),n=tu();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),$de=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),N9=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Gr(),n=gd(),i=_n(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=a;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?T(d):l.if(y(d),()=>T(d))})}function y(d){let $;if(v.length>8){const O=(0,i.schemaRefOrVal)(m,f.properties,"properties");$=(0,t.isOwnProperty)(l,O,d)}else v.length?$=(0,r.or)(...v.map(O=>(0,r._)`${d} === ${O}`)):$=r.nil;return h.length&&($=(0,r.or)($,...h.map(O=>(0,r._)`${(0,t.usePattern)(a,O)}.test(${d})`))),(0,r.not)($)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function T(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const $=l.name("valid");_.removeAdditional==="failing"?(x(d,$,!1),l.if((0,r.not)($),()=>{a.reset(),S(d)})):(x(d,$),g||l.if((0,r.not)($),()=>l.break()))}}function x(d,$,O){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};O===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(P,$)}}};e.default=s}}),xde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=J1(),r=tu(),n=_n(),i=N9(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=a.name("valid");for(const h of m)_(h)?v(h):(a.if((0,r.propertyInData)(a,f,h,c.opts.ownProperties)),v(h),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(h),s.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){s.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),Ade=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r=Gr(),n=_n(),i=_n(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter(T=>(0,n.alwaysValidSchema)(c,l[T]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:h}=c;E();function E(){for(const T of m)_&&y(T),c.allErrors?S(T):(a.var(v,!0),S(T),a.if(v))}function y(T){for(const x in _)new RegExp(T).test(x)&&(0,n.checkStrictMode)(c,`property ${x} matches pattern ${T} (use allowMatchingProperties)`)}function S(T){a.forIn("key",u,x=>{a.if((0,r._)`${(0,t.usePattern)(s,T)}.test(${x})`,()=>{const d=g.includes(T);d||s.subschema({keyword:"patternProperties",schemaProp:T,dataProp:x,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?a.assign((0,r._)`${h}[${x}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),Ode=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=_n(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Pde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tu(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Rde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),p=s.let("passing",null),m=s.name("_valid");o.setParams({passing:p}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),Nde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=_n(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),Ide=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=_n(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(p,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,h){return()=>{const E=s.subschema({keyword:v},m);a.assign(p,m),s.mergeValidEvaluated(E,p),h?a.assign(h,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),Cde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=_n(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),kde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=P9(),r=_de(),n=R9(),i=Ede(),o=Sde(),s=Tde(),a=$de(),l=N9(),u=xde(),f=Ade(),c=Ode(),p=Pde(),m=Rde(),g=Nde(),_=Ide(),v=Cde();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),jde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),T=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign(T,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign(T,y)),i.fail$data((0,t.or)(x(),d()));function x(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${T}`}function d(){const $=g.$async?(0,t._)`(${y}.async ? await ${T}(${a}) : ${T}(${a}))`:(0,t._)`${T}(${a})`,O=(0,t._)`(typeof ${T} == "function" ? ${$} : ${T}.test(${a}))`;return(0,t._)`${T} && ${T} !== true && ${S} === ${o} && !${O}`}}function h(){const E=_.formats[u];if(!E){x();return}if(E===!0)return;const[y,S,T]=d(E);y===o&&i.pass($());function x(){if(p.strictSchema===!1){_.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(O){const P=O instanceof RegExp?(0,t.regexpCode)(O):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,k=s.scopeValue("formats",{key:u,ref:O,code:P});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${k}.validate`]:["string",O,k]}function $(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${T}(${a})`}return typeof S=="function"?(0,t._)`${T}(${a})`:(0,t._)`${T}.test(${a})`}}}};e.default=n}}),Dde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=jde(),r=[t.default];e.default=r}}),Mde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),Lde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=lde(),r=bde(),n=kde(),i=Dde(),o=Mde(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Fde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t||(e.DiscrError=t={}))}}),Bde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Gr(),r=Fde(),n=Yk(),i=Y1(),o=_n(),s={message:({params:{discrError:l,tagName:u}})=>l===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:l,tag:u,tagName:f}})=>(0,t._)`{error: ${l}, tag: ${f}, tagValue: ${u}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(l){const{gen:u,data:f,schema:c,parentSchema:p,it:m}=l,{oneOf:g}=p;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=c.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const v=u.let("valid",!1),h=u.const("tag",(0,t._)`${f}${(0,t.getProperty)(_)}`);u.if((0,t._)`typeof ${h} == "string"`,()=>E(),()=>l.error(!1,{discrError:r.DiscrError.Tag,tag:h,tagName:_})),l.ok(v);function E(){const T=S();u.if(!1);for(const x in T)u.elseIf((0,t._)`${h} === ${x}`),u.assign(v,y(T[x]));u.else(),l.error(!1,{discrError:r.DiscrError.Mapping,tag:h,tagName:_}),u.endIf()}function y(T){const x=u.name("valid"),d=l.subschema({keyword:"oneOf",schemaProp:T},x);return l.mergeEvaluated(d,t.Name),x}function S(){var T;const x={},d=O(p);let $=!0;for(let B=0;B<g.length;B++){let K=g[B];if(K!=null&&K.$ref&&!(0,o.schemaHasRulesButRef)(K,m.self.RULES)){const W=K.$ref;if(K=n.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,W),K instanceof n.SchemaEnv&&(K=K.schema),K===void 0)throw new i.default(m.opts.uriResolver,m.baseId,W)}const ie=(T=K==null?void 0:K.properties)===null||T===void 0?void 0:T[_];if(typeof ie!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);$=$&&(d||O(K)),P(ie,B)}if(!$)throw new Error(`discriminator: "${_}" must be required`);return x;function O({required:B}){return Array.isArray(B)&&B.includes(_)}function P(B,K){if(B.const)k(B.const,K);else if(B.enum)for(const ie of B.enum)k(ie,K);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function k(B,K){if(typeof B!="string"||B in x)throw new Error(`discriminator: "${_}" values must be unique strings`);x[B]=K}}}};e.default=a}}),Ude=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),I9=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/ajv.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=ode(),n=Lde(),i=Bde(),o=Ude(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=J1();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=Gr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=Jk();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=Y1();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),zde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/formats.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(k,B){return{validate:k,compare:B}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(p(!0),m),"iso-time":t(l(),f),"iso-date-time":t(p(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:P,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:x},int64:{type:"number",validate:d},float:{type:"number",validate:$},double:{type:"number",validate:$},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(k){return k%4===0&&(k%100!==0||k%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(k){const B=n.exec(k);if(!B)return!1;const K=+B[1],ie=+B[2],W=+B[3];return ie>=1&&ie<=12&&W>=1&&W<=(ie===2&&r(K)?29:i[ie])}function s(k,B){if(k&&B)return k>B?1:k<B?-1:0}var a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(k){return function(K){const ie=a.exec(K);if(!ie)return!1;const W=+ie[1],ne=+ie[2],fe=+ie[3],re=ie[4],le=ie[5]==="-"?-1:1,F=+(ie[6]||0),z=+(ie[7]||0);if(F>23||z>59||k&&!re)return!1;if(W<=23&&ne<=59&&fe<60)return!0;const J=ne-z*le,R=W-F*le-(J<0?1:0);return(R===23||R===-1)&&(J===59||J===-1)&&fe<61}}function u(k,B){if(!(k&&B))return;const K=new Date("2020-01-01T"+k).valueOf(),ie=new Date("2020-01-01T"+B).valueOf();if(K&&ie)return K-ie}function f(k,B){if(!(k&&B))return;const K=a.exec(k),ie=a.exec(B);if(K&&ie)return k=K[1]+K[2]+K[3],B=ie[1]+ie[2]+ie[3],k>B?1:k<B?-1:0}var c=/t|\s/i;function p(k){const B=l(k);return function(ie){const W=ie.split(c);return W.length===2&&o(W[0])&&B(W[1])}}function m(k,B){if(!(k&&B))return;const K=new Date(k).valueOf(),ie=new Date(B).valueOf();if(K&&ie)return K-ie}function g(k,B){if(!(k&&B))return;const[K,ie]=k.split(c),[W,ne]=B.split(c),fe=s(K,W);if(fe!==void 0)return fe||u(ie,ne)}var _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(k){return _.test(k)&&v.test(k)}var E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(k){return E.lastIndex=0,E.test(k)}var S=-2147483648,T=2**31-1;function x(k){return Number.isInteger(k)&&k<=T&&k>=S}function d(k){return Number.isInteger(k)}function $(){return!0}var O=/[^\\]\\Z/;function P(k){if(O.test(k))return!1;try{return new RegExp(k),!0}catch{return!1}}}}),qde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/limit.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=I9(),r=Gr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=a,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const T=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E(T))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),Vde=Le({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/index.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=zde(),n=qde(),i=Gr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}});function vd(){return zP||(zP=!0,typeof Object.create=="function"?hv=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:hv=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),hv}var hv,zP,Qk=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CkFCi-G1.js"(){Ce(),hv={},zP=!1}});function qn(){qn.init.call(this)}function Pb(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function C9(e){return e._maxListeners===void 0?qn.defaultMaxListeners:e._maxListeners}function D3(e,t,r,n){var i,o,s,a;if(Pb(r),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=C9(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function Hde(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M3(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Hde.bind(n);return i.listener=r,n.wrapFn=i,i}function L3(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(i):k9(i,i.length)}function F3(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function k9(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var B3,U3,zd,Ox,Px,Rx,ss,X1=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-tHuMsdT0.js"(){Ce(),zd=typeof Reflect=="object"?Reflect:null,Ox=zd&&typeof zd.apply=="function"?zd.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},U3=zd&&typeof zd.ownKeys=="function"?zd.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},Px=Number.isNaN||function(e){return e!=e},B3=qn,qn.EventEmitter=qn,qn.prototype._events=void 0,qn.prototype._eventsCount=0,qn.prototype._maxListeners=void 0,Rx=10,Object.defineProperty(qn,"defaultMaxListeners",{enumerable:!0,get:function(){return Rx},set:function(e){if(typeof e!="number"||e<0||Px(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Rx=e}}),qn.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Px(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},qn.prototype.getMaxListeners=function(){return C9(this)},qn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")Ox(a,this,t);else{var l=a.length,u=k9(a,l);for(r=0;r<l;++r)Ox(u[r],this,t)}return!0},qn.prototype.addListener=function(e,t){return D3(this,e,t,!1)},qn.prototype.on=qn.prototype.addListener,qn.prototype.prependListener=function(e,t){return D3(this,e,t,!0)},qn.prototype.once=function(e,t){return Pb(t),this.on(e,M3(this,e,t)),this},qn.prototype.prependOnceListener=function(e,t){return Pb(t),this.prependListener(e,M3(this,e,t)),this},qn.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Pb(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},qn.prototype.off=qn.prototype.removeListener,qn.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},qn.prototype.listeners=function(e){return L3(this,e,!0)},qn.prototype.rawListeners=function(e){return L3(this,e,!1)},qn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):F3.call(e,t)},qn.prototype.listenerCount=F3,qn.prototype.eventNames=function(){return this._eventsCount>0?U3(this._events):[]},ss=B3,ss.EventEmitter,ss.defaultMaxListeners,ss.init,ss.listenerCount,ss.EventEmitter,ss.defaultMaxListeners,ss.init,ss.listenerCount}}),Wde=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtDiafJB.js"(){Ce(),X1(),ss.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},ss.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}}}});function qP(){throw new Error("setTimeout has not been defined")}function VP(){throw new Error("clearTimeout has not been defined")}function j9(e){if(gc===setTimeout)return setTimeout(e,0);if((gc===qP||!gc)&&setTimeout)return gc=setTimeout,setTimeout(e,0);try{return gc(e,0)}catch{try{return gc.call(null,e,0)}catch{return gc.call(this||Rh,e,0)}}}function Gde(){Nh&&Eh&&(Nh=!1,Eh.length?Iu=Eh.concat(Iu):Vv=-1,Iu.length&&D9())}function D9(){if(!Nh){var e=j9(Gde);Nh=!0;for(var t=Iu.length;t;){for(Eh=Iu,Iu=[];++Vv<t;)Eh&&Eh[Vv].run();Vv=-1,t=Iu.length}Eh=null,Nh=!1,function(r){if(vc===clearTimeout)return clearTimeout(r);if((vc===VP||!vc)&&clearTimeout)return vc=clearTimeout,clearTimeout(r);try{vc(r)}catch{try{return vc.call(null,r)}catch{return vc.call(this||Rh,r)}}}(e)}}function z3(e,t){(this||Rh).fun=e,(this||Rh).array=t}function cc(){}function qd(e){return e.call.bind(e)}function o0(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}function q3(e){return vs&&Gs?b(e)!==void 0:M9(e)||L9(e)||F9(e)||B9(e)||U9(e)||z9(e)||q9(e)||V9(e)||H9(e)||W9(e)||G9(e)}function M9(e){return vs&&Gs?b(e)==="Uint8Array":fi(e)==="[object Uint8Array]"||X9(e)&&e.buffer!==void 0}function L9(e){return vs&&Gs?b(e)==="Uint8ClampedArray":fi(e)==="[object Uint8ClampedArray]"}function F9(e){return vs&&Gs?b(e)==="Uint16Array":fi(e)==="[object Uint16Array]"}function B9(e){return vs&&Gs?b(e)==="Uint32Array":fi(e)==="[object Uint32Array]"}function U9(e){return vs&&Gs?b(e)==="Int8Array":fi(e)==="[object Int8Array]"}function z9(e){return vs&&Gs?b(e)==="Int16Array":fi(e)==="[object Int16Array]"}function q9(e){return vs&&Gs?b(e)==="Int32Array":fi(e)==="[object Int32Array]"}function V9(e){return vs&&Gs?b(e)==="Float32Array":fi(e)==="[object Float32Array]"}function H9(e){return vs&&Gs?b(e)==="Float64Array":fi(e)==="[object Float64Array]"}function W9(e){return vs&&Gs?b(e)==="BigInt64Array":fi(e)==="[object BigInt64Array]"}function G9(e){return vs&&Gs?b(e)==="BigUint64Array":fi(e)==="[object BigUint64Array]"}function Sw(e){return fi(e)==="[object Map]"}function Tw(e){return fi(e)==="[object Set]"}function $w(e){return fi(e)==="[object WeakMap]"}function Nx(e){return fi(e)==="[object WeakSet]"}function OS(e){return fi(e)==="[object ArrayBuffer]"}function V3(e){return typeof ArrayBuffer<"u"&&(OS.working?OS(e):e instanceof ArrayBuffer)}function PS(e){return fi(e)==="[object DataView]"}function H3(e){return typeof DataView<"u"&&(PS.working?PS(e):e instanceof DataView)}function RS(e){return fi(e)==="[object SharedArrayBuffer]"}function W3(e){return typeof SharedArrayBuffer<"u"&&(RS.working?RS(e):e instanceof SharedArrayBuffer)}function G3(e){return o0(e,Q9)}function K3(e){return o0(e,Z9)}function J3(e){return o0(e,eH)}function Y3(e){return HP&&o0(e,w)}function X3(e){return Nb&&o0(e,v2)}function Ff(e,t){var r={seen:[],stylize:Jde};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Zk(t)?r.showHidden=t:t&&Et._extend(r,t),_h(r.showHidden)&&(r.showHidden=!1),_h(r.depth)&&(r.depth=2),_h(r.colors)&&(r.colors=!1),_h(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Kde),NS(r,e,r.depth)}function Kde(e,t){var r=Ff.styles[t];return r?"\x1B["+Ff.colors[r][0]+"m"+e+"\x1B["+Ff.colors[r][1]+"m":e}function Jde(e,t){return e}function NS(e,t,r){if(e.customInspect&&t&&Rb(t.inspect)&&t.inspect!==Et.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return CS(n)||(n=NS(e,n,r)),n}var i=function(p,m){if(_h(m))return p.stylize("undefined","undefined");if(CS(m)){var g="'"+JSON.stringify(m).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(g,"string")}if(J9(m))return p.stylize(""+m,"number");if(Zk(m))return p.stylize(""+m,"boolean");if(IS(m))return p.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(p){var m={};return p.forEach(function(g,_){m[g]=!0}),m}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),qv(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Ix(t);if(o.length===0){if(Rb(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(zv(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(kS(t))return e.stylize(Date.prototype.toString.call(t),"date");if(qv(t))return Ix(t)}var l,u="",f=!1,c=["{","}"];return K9(t)&&(f=!0,c=["[","]"]),Rb(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),zv(t)&&(u=" "+RegExp.prototype.toString.call(t)),kS(t)&&(u=" "+Date.prototype.toUTCString.call(t)),qv(t)&&(u=" "+Ix(t)),o.length!==0||f&&t.length!=0?r<0?zv(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(p,m,g,_,v){for(var h=[],E=0,y=m.length;E<y;++E)Y9(m,String(E))?h.push(Cx(p,m,g,_,String(E),!0)):h.push("");return v.forEach(function(S){S.match(/^\d+$/)||h.push(Cx(p,m,g,_,S,!0))}),h}(e,t,r,s,o):o.map(function(p){return Cx(e,t,r,s,p,f)}),e.seen.pop(),function(p,m,g){var _=0;return p.reduce(function(v,h){return _++,h.indexOf(`
`)>=0&&_++,v+h.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?g[0]+(m===""?"":m+`
 `)+" "+p.join(`,
  `)+" "+g[1]:g[0]+m+" "+p.join(", ")+" "+g[1]}(l,u,c)):c[0]+u+c[1]}function Ix(e){return"["+Error.prototype.toString.call(e)+"]"}function Cx(e,t,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),Y9(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=IS(r)?NS(e,l.value,null):NS(e,l.value,r-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`)):a=e.stylize("[Circular]","special")),_h(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function K9(e){return Array.isArray(e)}function Zk(e){return typeof e=="boolean"}function IS(e){return e===null}function J9(e){return typeof e=="number"}function CS(e){return typeof e=="string"}function _h(e){return e===void 0}function zv(e){return Sm(e)&&e2(e)==="[object RegExp]"}function Sm(e){return typeof e=="object"&&e!==null}function kS(e){return Sm(e)&&e2(e)==="[object Date]"}function qv(e){return Sm(e)&&(e2(e)==="[object Error]"||e instanceof Error)}function Rb(e){return typeof e=="function"}function e2(e){return Object.prototype.toString.call(e)}function kx(e){return e<10?"0"+e.toString(10):e.toString(10)}function Yde(){var e=new Date,t=[kx(e.getHours()),kx(e.getMinutes()),kx(e.getSeconds())].join(":");return[e.getDate(),tH[e.getMonth()],t].join(" ")}function Y9(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xde(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}var Q3,gc,vc,Rh,_i,Eh,Iu,Nh,Vv,li,Z3,xw,Hg,jx,e4,t4,r4,n4,i4,Dx,Mx,Lx,o4,s4,a4,Fx,Xr,X9,l4,u4,HP,Nb,Gs,vs,c4,fi,Q9,Z9,eH,Op,Et,Nl,Bx,f4,Wg,Ux,Aw,tH,pf,s0=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-D3uu3VYh.js"(){if(Ce(),Rh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,_i=Q3={},function(){try{gc=typeof setTimeout=="function"?setTimeout:qP}catch{gc=qP}try{vc=typeof clearTimeout=="function"?clearTimeout:VP}catch{vc=VP}}(),Iu=[],Nh=!1,Vv=-1,_i.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];Iu.push(new z3(i,o)),Iu.length!==1||Nh||j9(D9)},z3.prototype.run=function(){(this||Rh).fun.apply(null,(this||Rh).array)},_i.title="browser",_i.browser=!0,_i.env={},_i.argv=[],_i.version="",_i.versions={},_i.on=cc,_i.addListener=cc,_i.once=cc,_i.off=cc,_i.removeListener=cc,_i.removeAllListeners=cc,_i.emit=cc,_i.prependListener=cc,_i.prependOnceListener=cc,_i.listeners=function(i){return[]},_i.binding=function(i){throw new Error("process.binding is not supported")},_i.cwd=function(){return"/"},_i.chdir=function(i){throw new Error("process.chdir is not supported")},_i.umask=function(){return 0},li=Q3,li.addListener,li.argv,li.binding,li.browser,li.chdir,li.cwd,li.emit,li.env,li.listeners,li.nextTick,li.off,li.on,li.once,li.prependListener,li.prependOnceListener,li.removeAllListeners,li.removeListener,li.title,li.umask,li.version,li.versions,Z3=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",xw=Object.prototype.toString,Hg=function(i){return!(Z3&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&xw.call(i)==="[object Arguments]"},jx=function(i){return!!Hg(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&xw.call(i)!=="[object Array]"&&xw.call(i.callee)==="[object Function]"},e4=function(){return Hg(arguments)}(),Hg.isLegacyArguments=jx,t4=e4?Hg:jx,r4=Object.prototype.toString,n4=Function.prototype.toString,i4=/^\s*(?:function)?\*/,Dx=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Mx=Object.getPrototypeOf,Lx=function(){if(!Dx)return!1;try{return Function("return function*() {}")()}catch{}}(),o4=Lx?Mx(Lx):{},s4=function(i){return typeof i=="function"&&(!!i4.test(n4.call(i))||(Dx?Mx(i)===o4:r4.call(i)==="[object GeneratorFunction]"))},a4=typeof Object.create=="function"?function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,o){if(o){i.super_=o;var s=function(){};s.prototype=o.prototype,i.prototype=new s,i.prototype.constructor=i}},Fx=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},Xr={},X9=Fx,l4=t4,u4=s4,HP=typeof BigInt<"u",Nb=typeof Symbol<"u",Gs=Nb&&Symbol.toStringTag!==void 0,vs=typeof Uint8Array<"u",c4=typeof ArrayBuffer<"u",vs&&Gs)var e=Object.getPrototypeOf(Uint8Array.prototype),t=qd(Object.getOwnPropertyDescriptor(e,Symbol.toStringTag).get);if(fi=qd(Object.prototype.toString),Q9=qd(Number.prototype.valueOf),Z9=qd(String.prototype.valueOf),eH=qd(Boolean.prototype.valueOf),HP)var r=qd(BigInt.prototype.valueOf);if(Nb)var n=qd(Symbol.prototype.valueOf);Xr.isArgumentsObject=l4,Xr.isGeneratorFunction=u4,Xr.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},Xr.isArrayBufferView=function(i){return c4&&ArrayBuffer.isView?ArrayBuffer.isView(i):q3(i)||H3(i)},Xr.isTypedArray=q3,Xr.isUint8Array=M9,Xr.isUint8ClampedArray=L9,Xr.isUint16Array=F9,Xr.isUint32Array=B9,Xr.isInt8Array=U9,Xr.isInt16Array=z9,Xr.isInt32Array=q9,Xr.isFloat32Array=V9,Xr.isFloat64Array=H9,Xr.isBigInt64Array=W9,Xr.isBigUint64Array=G9,Sw.working=typeof Map<"u"&&Sw(new Map),Xr.isMap=function(i){return typeof Map<"u"&&(Sw.working?Sw(i):i instanceof Map)},Tw.working=typeof Set<"u"&&Tw(new Set),Xr.isSet=function(i){return typeof Set<"u"&&(Tw.working?Tw(i):i instanceof Set)},$w.working=typeof WeakMap<"u"&&$w(new WeakMap),Xr.isWeakMap=function(i){return typeof WeakMap<"u"&&($w.working?$w(i):i instanceof WeakMap)},Nx.working=typeof WeakSet<"u"&&Nx(new WeakSet),Xr.isWeakSet=function(i){return Nx(i)},OS.working=typeof ArrayBuffer<"u"&&OS(new ArrayBuffer),Xr.isArrayBuffer=V3,PS.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&PS(new DataView(new ArrayBuffer(1),0,1)),Xr.isDataView=H3,RS.working=typeof SharedArrayBuffer<"u"&&RS(new SharedArrayBuffer),Xr.isSharedArrayBuffer=W3,Xr.isAsyncFunction=function(i){return fi(i)==="[object AsyncFunction]"},Xr.isMapIterator=function(i){return fi(i)==="[object Map Iterator]"},Xr.isSetIterator=function(i){return fi(i)==="[object Set Iterator]"},Xr.isGeneratorObject=function(i){return fi(i)==="[object Generator]"},Xr.isWebAssemblyCompiledModule=function(i){return fi(i)==="[object WebAssembly.Module]"},Xr.isNumberObject=G3,Xr.isStringObject=K3,Xr.isBooleanObject=J3,Xr.isBigIntObject=Y3,Xr.isSymbolObject=X3,Xr.isBoxedPrimitive=function(i){return G3(i)||K3(i)||J3(i)||Y3(i)||X3(i)},Xr.isAnyArrayBuffer=function(i){return vs&&(V3(i)||W3(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(Xr,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})}),Op=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Et={},Nl=li,Bx=Object.getOwnPropertyDescriptors||function(i){for(var o=Object.keys(i),s={},a=0;a<o.length;a++)s[o[a]]=Object.getOwnPropertyDescriptor(i,o[a]);return s},f4=/%[sdj%]/g,Et.format=function(i){if(!CS(i)){for(var o=[],s=0;s<arguments.length;s++)o.push(Ff(arguments[s]));return o.join(" ")}s=1;for(var a=arguments,l=a.length,u=String(i).replace(f4,function(c){if(c==="%%")return"%";if(s>=l)return c;switch(c){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch{return"[Circular]"}default:return c}}),f=a[s];s<l;f=a[++s])IS(f)||!Sm(f)?u+=" "+f:u+=" "+Ff(f);return u},Et.deprecate=function(i,o){if(Nl!==void 0&&Nl.noDeprecation===!0)return i;if(Nl===void 0)return function(){return Et.deprecate(i,o).apply(this||Op,arguments)};var s=!1;return function(){if(!s){if(Nl.throwDeprecation)throw new Error(o);Nl.traceDeprecation?console.trace(o):console.error(o),s=!0}return i.apply(this||Op,arguments)}},Wg={},Ux=/^$/,Nl.env.NODE_DEBUG&&(Aw=Nl.env.NODE_DEBUG,Aw=Aw.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Ux=new RegExp("^"+Aw+"$","i")),Et.debuglog=function(i){if(i=i.toUpperCase(),!Wg[i])if(Ux.test(i)){var o=Nl.pid;Wg[i]=function(){var s=Et.format.apply(Et,arguments);console.error("%s %d: %s",i,o,s)}}else Wg[i]=function(){};return Wg[i]},Et.inspect=Ff,Ff.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ff.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},Et.types=Xr,Et.isArray=K9,Et.isBoolean=Zk,Et.isNull=IS,Et.isNullOrUndefined=function(i){return i==null},Et.isNumber=J9,Et.isString=CS,Et.isSymbol=function(i){return typeof i=="symbol"},Et.isUndefined=_h,Et.isRegExp=zv,Et.types.isRegExp=zv,Et.isObject=Sm,Et.isDate=kS,Et.types.isDate=kS,Et.isError=qv,Et.types.isNativeError=qv,Et.isFunction=Rb,Et.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},Et.isBuffer=Fx,tH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Et.log=function(){console.log("%s - %s",Yde(),Et.format.apply(Et,arguments))},Et.inherits=a4,Et._extend=function(i,o){if(!o||!Sm(o))return i;for(var s=Object.keys(o),a=s.length;a--;)i[s[a]]=o[s[a]];return i},pf=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0,Et.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(pf&&i[pf]){var o;if(typeof(o=i[pf])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,pf,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var s,a,l=new Promise(function(c,p){s=c,a=p}),u=[],f=0;f<arguments.length;f++)u.push(arguments[f]);u.push(function(c,p){c?a(c):s(p)});try{i.apply(this||Op,u)}catch(c){a(c)}return l}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),pf&&Object.defineProperty(o,pf,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,Bx(i))},Et.promisify.custom=pf,Et.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function o(){for(var s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);var l=s.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var u=this||Op,f=function(){return l.apply(u,arguments)};i.apply(this||Op,s).then(function(c){Nl.nextTick(f.bind(null,null,c))},function(c){Nl.nextTick(Xde.bind(null,c,f))})}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),Object.defineProperties(o,Bx(i)),o},Et._extend,Et.callbackify,Et.debuglog,Et.deprecate,Et.format,Et.inherits,Et.inspect,Et.isArray,Et.isBoolean,Et.isBuffer,Et.isDate,Et.isError,Et.isFunction,Et.isNull,Et.isNullOrUndefined,Et.isNumber,Et.isObject,Et.isPrimitive,Et.isRegExp,Et.isString,Et.isSymbol,Et.isUndefined,Et.log,Et.promisify,Et._extend,Et.callbackify,Et.debuglog,Et.deprecate,Et.format,Et.inherits,Et.inspect,Et.isArray,Et.isBoolean,Et.isBuffer,Et.isDate,Et.isError,Et.isFunction,Et.isNull,Et.isNullOrUndefined,Et.isNumber,Et.isObject,Et.isPrimitive,Et.isRegExp,Et.isString,Et.isSymbol,Et.isUndefined,Et.log,Et.promisify,Et.types}}),Qde=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CbQqNoLO.js"(){Ce(),s0(),Et._extend,Et.callbackify,Et.debuglog,Et.deprecate,Et.format,Et.inherits,Et.inspect,Et.isArray,Et.isBoolean,Et.isBuffer,Et.isDate,Et.isError,Et.isFunction,Et.isNull,Et.isNullOrUndefined,Et.isNumber,Et.isObject,Et.isPrimitive,Et.isRegExp,Et.isString,Et.isSymbol,Et.isUndefined,Et.log,Et.promisify,Et.types,Et.TextEncoder=globalThis.TextEncoder,Et.TextDecoder=globalThis.TextDecoder}});function t2(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Zde(){!Ih||!Sh||(Ih=!1,Sh.length?Cu=Sh.concat(Cu):Hv=-1,Cu.length&&rH())}function rH(){if(!Ih){var e=setTimeout(Zde,0);Ih=!0;for(var t=Cu.length;t;){for(Sh=Cu,Cu=[];++Hv<t;)Sh&&Sh[Hv].run();Hv=-1,t=Cu.length}Sh=null,Ih=!1,clearTimeout(e)}}function ehe(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Cu.push(new nH(e,t)),Cu.length===1&&!Ih&&setTimeout(rH,0)}function nH(e,t){this.fun=e,this.array=t}function ko(){}function the(e){t2("_linkedBinding")}function rhe(e){t2("dlopen")}function nhe(){return[]}function ihe(){return[]}function ohe(e,t){if(!e)throw new Error(t||"assertion error")}function she(){return!1}function ahe(){return _c.now()/1e3}function zx(e){var t=Math.floor((Date.now()-_c.now())*.001),r=_c.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=Ib)),[n,i]}function mf(){return fo}function lhe(e){return[]}var Cu,Ih,Sh,Hv,d4,h4,p4,m4,g4,v4,y4,w4,b4,_4,E4,S4,T4,$4,x4,A4,O4,P4,R4,N4,I4,Ow,C4,k4,j4,D4,M4,L4,F4,B4,U4,z4,q4,V4,H4,W4,G4,K4,J4,Y4,X4,Q4,Z4,eB,tB,rB,nB,_c,Ch,Ib,iB,oB,sB,aB,lB,uB,cB,fB,dB,hB,pB,fo,a0=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DEMDiNwt.js"(){Ce(),Cu=[],Ih=!1,Hv=-1,nH.prototype.run=function(){this.fun.apply(null,this.array)},d4="browser",h4="x64",p4="browser",m4={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},g4=["/usr/bin/node"],v4=[],y4="v16.8.0",w4={},b4=function(e,t){console.warn((t?t+": ":"")+e)},_4=function(e){t2("binding")},E4=function(e){return 0},S4=function(){return"/"},T4=function(e){},$4={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},x4=ko,A4=[],O4={},P4=!1,R4={},N4=ko,I4=ko,Ow=function(){return{}},C4=Ow,k4=Ow,j4=ko,D4=ko,M4=ko,L4={},F4={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},B4=ko,U4=ko,z4=ko,q4=ko,V4=ko,H4=ko,W4=ko,G4=void 0,K4=void 0,J4=void 0,Y4=ko,X4=2,Q4=1,Z4="/bin/usr/node",eB=9229,tB="node",rB=[],nB=ko,_c={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},_c.now===void 0&&(Ch=Date.now(),_c.timing&&_c.timing.navigationStart&&(Ch=_c.timing.navigationStart),_c.now=()=>Date.now()-Ch),Ib=1e9,zx.bigint=function(e){var t=zx(e);return typeof BigInt>"u"?t[0]*Ib+t[1]:BigInt(t[0]*Ib)+BigInt(t[1])},iB=10,oB={},sB=0,aB=mf,lB=mf,uB=mf,cB=mf,fB=mf,dB=ko,hB=mf,pB=mf,fo={version:y4,versions:w4,arch:h4,platform:p4,release:$4,_rawDebug:x4,moduleLoadList:A4,binding:_4,_linkedBinding:the,_events:oB,_eventsCount:sB,_maxListeners:iB,on:mf,addListener:aB,once:lB,off:uB,removeListener:cB,removeAllListeners:fB,emit:dB,prependListener:hB,prependOnceListener:pB,listeners:lhe,domain:O4,_exiting:P4,config:R4,dlopen:rhe,uptime:ahe,_getActiveRequests:nhe,_getActiveHandles:ihe,reallyExit:N4,_kill:I4,cpuUsage:Ow,resourceUsage:C4,memoryUsage:k4,kill:j4,exit:D4,openStdin:M4,allowedNodeEnvironmentFlags:L4,assert:ohe,features:F4,_fatalExceptions:B4,setUncaughtExceptionCaptureCallback:U4,hasUncaughtExceptionCaptureCallback:she,emitWarning:b4,nextTick:ehe,_tickCallback:z4,_debugProcess:q4,_debugEnd:V4,_startProfilerIdleNotifier:H4,_stopProfilerIdleNotifier:W4,stdout:G4,stdin:J4,stderr:K4,abort:Y4,umask:E4,chdir:T4,cwd:S4,env:m4,title:d4,argv:g4,execArgv:v4,pid:X4,ppid:Q4,execPath:Z4,debugPort:eB,hrtime:zx,argv0:tB,_preload_modules:rB,setSourceMapsEnabled:nB}}});function uhe(){if(WP)return Cb;WP=!0,Cb=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||kb,arguments)}return o}function t(r){try{if(!kb.localStorage)return!1}catch{return!1}var n=kb.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Cb}var Cb,WP,kb,che=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BsRZ0PEC.js"(){Ce(),Cb={},WP=!1,kb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global}});function fhe(){if(GP)return qp;GP=!0;var e=Js(),t=e.Buffer;function r(i,o){for(var s in i)o[s]=i[s]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?qp=e:(r(e,qp),qp.Buffer=n);function n(i,o,s){return t(i,o,s)}return n.prototype=Object.create(t.prototype),r(t,n),n.from=function(i,o,s){if(typeof i=="number")throw new TypeError("Argument must not be a number");return t(i,o,s)},n.alloc=function(i,o,s){if(typeof i!="number")throw new TypeError("Argument must be a number");var a=t(i);return o!==void 0?typeof s=="string"?a.fill(o,s):a.fill(o):a.fill(0),a},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(i)},qp}function dhe(){if(KP)return jb;KP=!0;var e=fhe().Buffer,t=e.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(h){if(!h)return"utf8";for(var E;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(E)return;h=(""+h).toLowerCase(),E=!0}}function n(h){var E=r(h);if(typeof E!="string"&&(e.isEncoding===t||!t(h)))throw new Error("Unknown encoding: "+h);return E||h}jb.StringDecoder=i;function i(h){this.encoding=n(h);var E;switch(this.encoding){case"utf16le":this.text=c,this.end=p,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=m,this.end=g,E=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}i.prototype.write=function(h){if(h.length===0)return"";var E,y;if(this.lastNeed){if(E=this.fillLast(h),E===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<h.length?E?E+this.text(h,y):this.text(h,y):E||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function o(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function s(h,E,y){var S=E.length-1;if(S<y)return 0;var T=o(E[S]);return T>=0?(T>0&&(h.lastNeed=T-1),T):--S<y||T===-2?0:(T=o(E[S]),T>=0?(T>0&&(h.lastNeed=T-2),T):--S<y||T===-2?0:(T=o(E[S]),T>=0?(T>0&&(T===2?T=0:h.lastNeed=T-3),T):0))}function a(h,E,y){if((E[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return h.lastNeed=2,""}}function l(h){var E=this.lastTotal-this.lastNeed,y=a(this,h);if(y!==void 0)return y;if(this.lastNeed<=h.length)return h.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,E,0,h.length),this.lastNeed-=h.length}function u(h,E){var y=s(this,h,E);if(!this.lastNeed)return h.toString("utf8",E);this.lastTotal=y;var S=h.length-(y-this.lastNeed);return h.copy(this.lastChar,0,S),h.toString("utf8",E,S)}function f(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+"":E}function c(h,E){if((h.length-E)%2===0){var y=h.toString("utf16le",E);if(y){var S=y.charCodeAt(y.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",E,h.length-1)}function p(h){var E=h&&h.length?this.write(h):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,y)}return E}function m(h,E){var y=(h.length-E)%3;return y===0?h.toString("base64",E):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",E,h.length-y))}function g(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function _(h){return h.toString(this.encoding)}function v(h){return h&&h.length?this.write(h):""}return jb}var qp,GP,jb,KP,Tm,iH=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js"(){Ce(),W1(),qp={},GP=!1,jb={},KP=!1,Tm=dhe(),Tm.StringDecoder,Tm.StringDecoder}});function hhe(){if(JP)return Db;JP=!0;var e=Db={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||sh,_,0)}}}function s(_){if(r===clearTimeout)return clearTimeout(_);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||sh,_)}}}var a=[],l=!1,u,f=-1;function c(){!l||!u||(l=!1,u.length?a=u.concat(a):f=-1,a.length&&p())}function p(){if(!l){var _=o(c);l=!0;for(var v=a.length;v;){for(u=a,a=[];++f<v;)u&&u[f].run();f=-1,v=a.length}u=null,l=!1,s(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)v[h-1]=arguments[h];a.push(new m(_,v)),a.length===1&&!l&&o(p)};function m(_,v){(this||sh).fun=_,(this||sh).array=v}m.prototype.run=function(){(this||sh).fun.apply(null,(this||sh).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function g(){}return e.on=g,e.addListener=g,e.once=g,e.off=g,e.removeListener=g,e.removeAllListeners=g,e.emit=g,e.prependListener=g,e.prependOnceListener=g,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Db}var Db,JP,sh,On,Q1=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-b0rmRow7.js"(){Ce(),Db={},JP=!1,sh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,On=hhe(),On.platform="browser",On.addListener,On.argv,On.binding,On.browser,On.chdir,On.cwd,On.emit,On.env,On.listeners,On.nextTick,On.off,On.on,On.once,On.prependListener,On.prependOnceListener,On.removeAllListeners,On.removeListener,On.title,On.umask,On.version,On.versions}});function phe(){if(YP)return Mb;YP=!0;var e=On;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,p):a=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var p=a.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var p=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,p=s.length-1;p>=0;--p){var m=s.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?a===-1?a=p:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(p,m)):(p===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(p,c),a.base=s.slice(p,m)),a.ext=s.slice(c,m)),p>0?a.dir=s.slice(0,p-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Mb=i,Mb}function Vd(e){throw new RangeError(sH[e])}function mB(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(o,s){const a=[];let l=o.length;for(;l--;)a[l]=s(o[l]);return a}((e=e.replace(oH,".")).split("."),t).join(".");return n+i}function gB(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}function mhe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ha(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Gg(e,t,r){if(e&&jl.isObject(e)&&e instanceof Ha)return e;var n=new Ha;return n.parse(e,t,r),n}function ghe(){if(QP)return Lb;QP=!0;var e=li;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,p):a=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var p=a.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var p=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,p=s.length-1;p>=0;--p){var m=s.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?a===-1?a=p:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(p,m)):(p===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(p,c),a.base=s.slice(p,m)),a.ext=s.slice(c,m)),p>0?a.dir=s.slice(0,p-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Lb=i,Lb}function vhe(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return jS?yhe(e):whe(e)}function yhe(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(fH,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<uH||n>cH||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function whe(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function bhe(e){let t=ZP.resolve(e);const r=e.charCodeAt(e.length-1);(r===lH||jS&&r===aH)&&t[t.length-1]!==ZP.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(dH,"%25")),!jS&&t.includes("\\")&&(t=t.replace(hH,"%5C")),t.includes(`
`)&&(t=t.replace(pH,"%0A")),t.includes("\r")&&(t=t.replace(mH,"%0D")),t.includes("	")&&(t=t.replace(gH,"%09")),n.pathname=t,n}function _he(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return DS?Ehe(e):She(e)}function Ehe(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(_H,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<wH||n>bH||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function She(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function The(e){let t=XP.resolve(e);const r=e.charCodeAt(e.length-1);(r===yH||DS&&r===vH)&&t[t.length-1]!==XP.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(EH,"%25")),!DS&&t.includes("\\")&&(t=t.replace(SH,"%5C")),t.includes(`
`)&&(t=t.replace(TH,"%0A")),t.includes("\r")&&(t=t.replace($H,"%0D")),t.includes("	")&&(t=t.replace(xH,"%09")),n.pathname=t,n}var Mb,YP,XP,Hd,vB,yB,oH,sH,Il,Pw,qx,Vx,Hx,Wx,wB,bB,Pp,_B,mu,Cn,EB,jl,SB,TB,$B,xB,Rw,Gx,Kx,Jx,AB,OB,Nw,Wd,Iw,Lb,QP,ZP,PB,aH,lH,uH,cH,jS,fH,dH,hH,pH,mH,gH,RB,vH,yH,wH,bH,DS,_H,EH,SH,TH,$H,xH,AH=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DHWh-hmB.js"(){Ce(),s0(),Q1(),Mb={},YP=!1,XP=phe(),Hd=2147483647,vB=/^xn--/,yB=/[^\0-\x7E]/,oH=/[\x2E\u3002\uFF0E\uFF61]/g,sH={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Il=Math.floor,Pw=String.fromCharCode,qx=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Vx=function(e,t,r){let n=0;for(e=r?Il(e/700):e>>1,e+=Il(e/t);e>455;n+=36)e=Il(e/35);return Il(n+36*e/(e+38))},Hx=function(e){const t=[],r=e.length;let n=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)e.charCodeAt(l)>=128&&Vd("not-basic"),t.push(e.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let u=n;for(let c=1,p=36;;p+=36){l>=r&&Vd("invalid-input");const m=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(m>=36||m>Il((Hd-n)/c))&&Vd("overflow"),n+=m*c;const g=p<=o?1:p>=o+26?26:p-o;if(m<g)break;const _=36-g;c>Il(Hd/_)&&Vd("overflow"),c*=_}const f=t.length+1;o=Vx(n-u,f,u==0),Il(n/f)>Hd-i&&Vd("overflow"),i+=Il(n/f),n%=f,t.splice(n++,0,i)}var a;return String.fromCodePoint(...t)},Wx=function(e){const t=[];let r=(e=gB(e)).length,n=128,i=0,o=72;for(const l of e)l<128&&t.push(Pw(l));let s=t.length,a=s;for(s&&t.push("-");a<r;){let l=Hd;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Il((Hd-i)/u)&&Vd("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>Hd&&Vd("overflow"),f==n){let c=i;for(let p=36;;p+=36){const m=p<=o?1:p>=o+26?26:p-o;if(c<m)break;const g=c-m,_=36-m;t.push(Pw(qx(m+g%_,0))),c=Il(g/_)}t.push(Pw(qx(c,0))),o=Vx(i,u,a==s),i=0,++a}++i,++n}return t.join("")},wB={version:"2.1.0",ucs2:{decode:gB,encode:e=>String.fromCodePoint(...e)},decode:Hx,encode:Wx,toASCII:function(e){return mB(e,function(t){return yB.test(t)?"xn--"+Wx(t):t})},toUnicode:function(e){return mB(e,function(t){return vB.test(t)?Hx(t.slice(4).toLowerCase()):t})}},bB=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var u,f,c,p,m=e[l].replace(o,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),f=m.substr(g+1)):(u=m,f=""),c=decodeURIComponent(u),p=decodeURIComponent(f),mhe(i,c)?Array.isArray(i[c])?i[c].push(p):i[c]=[i[c],p]:i[c]=p}return i},Pp=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},_B=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(Pp(i))+r;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(Pp(s))}).join(t):o+encodeURIComponent(Pp(e[i]))}).join(t):n?encodeURIComponent(Pp(n))+r+encodeURIComponent(Pp(e)):""},mu={},mu.decode=mu.parse=bB,mu.encode=mu.stringify=_B,mu.decode,mu.encode,mu.parse,mu.stringify,Cn={},EB=wB,jl={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Cn.parse=Gg,Cn.resolve=function(e,t){return Gg(e,!1,!0).resolve(t)},Cn.resolveObject=function(e,t){return e?Gg(e,!1,!0).resolveObject(t):t},Cn.format=function(e){return jl.isString(e)&&(e=Gg(e)),e instanceof Ha?e.format():Ha.prototype.format.call(e)},Cn.Url=Ha,SB=/^([a-z0-9.+-]+:)/i,TB=/:[0-9]*$/,$B=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xB=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Rw=["'"].concat(xB),Gx=["%","/","?",";","#"].concat(Rw),Kx=["/","?","#"],Jx=/^[+a-z0-9A-Z_-]{0,63}$/,AB=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,OB={javascript:!0,"javascript:":!0},Nw={javascript:!0,"javascript:":!0},Wd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Iw=mu,Ha.prototype.parse=function(e,t,r){if(!jl.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&e.split("#").length===1){var a=$B.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Iw.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=SB.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=s.substr(0,2)==="//";!f||l&&Nw[l]||(s=s.substr(2),this.slashes=!0)}if(!Nw[l]&&(f||l&&!Wd[l])){for(var c,p,m=-1,g=0;g<Kx.length;g++)(_=s.indexOf(Kx[g]))!==-1&&(m===-1||_<m)&&(m=_);for((p=m===-1?s.lastIndexOf("@"):s.lastIndexOf("@",m))!==-1&&(c=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(c)),m=-1,g=0;g<Gx.length;g++){var _;(_=s.indexOf(Gx[g]))!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=s.length),this.host=s.slice(0,m),s=s.slice(m),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var h=this.hostname.split(/\./),E=(g=0,h.length);g<E;g++){var y=h[g];if(y&&!y.match(Jx)){for(var S="",T=0,x=y.length;T<x;T++)y.charCodeAt(T)>127?S+="x":S+=y[T];if(!S.match(Jx)){var d=h.slice(0,g),$=h.slice(g+1),O=y.match(AB);O&&(d.push(O[1]),$.unshift(O[2])),$.length&&(s="/"+$.join(".")+s),this.hostname=d.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=EB.toASCII(this.hostname));var P=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+P,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!OB[u])for(g=0,E=Rw.length;g<E;g++){var B=Rw[g];if(s.indexOf(B)!==-1){var K=encodeURIComponent(B);K===B&&(K=escape(B)),s=s.split(B).join(K)}}var ie=s.indexOf("#");ie!==-1&&(this.hash=s.substr(ie),s=s.slice(0,ie));var W=s.indexOf("?");if(W!==-1?(this.search=s.substr(W),this.query=s.substr(W+1),t&&(this.query=Iw.parse(this.query)),s=s.slice(0,W)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Wd[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var ne=this.search||"";this.path=P+ne}return this.href=this.format(),this},Ha.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&jl.isObject(this.query)&&Object.keys(this.query).length&&(o=Iw.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Wd[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+n},Ha.prototype.resolve=function(e){return this.resolveObject(Gg(e,!1,!0)).format()},Ha.prototype.resolveObject=function(e){if(jl.isString(e)){var t=new Ha;t.parse(e,!1,!0),e=t}for(var r=new Ha,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=e[l])}return Wd[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Wd[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Nw[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),p[0]!==""&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",h=v||_||r.host&&e.pathname,E=h,y=r.pathname&&r.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Wd[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(p[0]===""?p[0]=e.host:p.unshift(e.host)),e.host=null),h=h&&(p[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=p;else if(p.length)y||(y=[]),y.pop(),y=y.concat(p),r.search=e.search,r.query=e.query;else if(!jl.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=y.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),r.search=e.search,r.query=e.query,jl.isNull(r.pathname)&&jl.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=y.slice(-1)[0],x=(r.host||e.host||y.length>1)&&(T==="."||T==="..")||T==="",d=0,$=y.length;$>=0;$--)(T=y[$])==="."?y.splice($,1):T===".."?(y.splice($,1),d++):d&&(y.splice($,1),d--);if(!h&&!E)for(;d--;d)y.unshift("..");!h||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),x&&y.join("/").substr(-1)!=="/"&&y.push("");var O,P=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=P?"":y.length?y.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift())),(h=h||r.host&&y.length)&&!P&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),jl.isNull(r.pathname)&&jl.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Ha.prototype.parseHost=function(){var e=this.host,t=TB.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Cn.Url,Cn.format,Cn.resolve,Cn.resolveObject,Lb={},QP=!1,ZP=ghe(),PB=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Cn.URL=typeof URL<"u"?URL:null,Cn.pathToFileURL=bhe,Cn.fileURLToPath=vhe,Cn.Url,Cn.format,Cn.resolve,Cn.resolveObject,Cn.URL,aH=92,lH=47,uH=97,cH=122,jS=PB==="win32",fH=/\//g,dH=/%/g,hH=/\\/g,pH=/\n/g,mH=/\r/g,gH=/\t/g,RB=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Cn.URL=typeof URL<"u"?URL:null,Cn.pathToFileURL=The,Cn.fileURLToPath=_he,Cn.Url,Cn.format,Cn.resolve,Cn.resolveObject,Cn.parse,Cn.URL,vH=92,yH=47,wH=97,bH=122,DS=RB==="win32",_H=/\//g,EH=/%/g,SH=/\\/g,TH=/\n/g,$H=/\r/g,xH=/\t/g}}),Z1={};Ku(Z1,{Agent:()=>LH,ClientRequest:()=>FH,IncomingMessage:()=>BH,METHODS:()=>UH,STATUS_CODES:()=>zH,default:()=>bu,get:()=>qH,globalAgent:()=>VH,request:()=>HH});function OH(){if(eR)return ks;eR=!0,ks.fetch=n(xf.fetch)&&n(xf.ReadableStream),ks.writableStream=n(xf.WritableStream),ks.abortController=n(xf.AbortController);var e;function t(){if(e!==void 0)return e;if(xf.XMLHttpRequest){e=new xf.XMLHttpRequest;try{e.open("GET",xf.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}ks.arraybuffer=ks.fetch||r("arraybuffer"),ks.msstream=!ks.fetch&&r("ms-stream"),ks.mozchunkedarraybuffer=!ks.fetch&&r("moz-chunked-arraybuffer"),ks.overrideMimeType=ks.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,ks}function PH(){return tR||(tR=!0,Fb=ss.EventEmitter),Fb}function $he(){if(rR)return Bb;rR=!0;function e(g,_){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(g);_&&(h=h.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),v.push.apply(v,h)}return v}function t(g){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?e(Object(v),!0).forEach(function(h){r(g,h,v[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(h){Object.defineProperty(g,h,Object.getOwnPropertyDescriptor(v,h))})}return g}function r(g,_,v){return _=s(_),_ in g?Object.defineProperty(g,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[_]=v,g}function n(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function i(g,_){for(var v=0;v<_.length;v++){var h=_[v];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,s(h.key),h)}}function o(g,_,v){return _&&i(g.prototype,_),Object.defineProperty(g,"prototype",{writable:!1}),g}function s(g){var _=a(g,"string");return typeof _=="symbol"?_:String(_)}function a(g,_){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var h=v.call(g,_);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}var l=Js(),u=l.Buffer,f=Et,c=f.inspect,p=c&&c.custom||"inspect";function m(g,_,v){u.prototype.copy.call(g,_,v)}return Bb=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return o(g,[{key:"push",value:function(v){var h={data:v,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(v){var h={data:v,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var h=this.head,E=""+h.data;h=h.next;)E+=v+h.data;return E}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var h=u.allocUnsafe(v>>>0),E=this.head,y=0;E;)m(E.data,h,y),y+=E.data.length,E=E.next;return h}},{key:"consume",value:function(v,h){var E;return v<this.head.data.length?(E=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?E=this.shift():E=h?this._getString(v):this._getBuffer(v),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var h=this.head,E=1,y=h.data;for(v-=y.length;h=h.next;){var S=h.data,T=v>S.length?S.length:v;if(T===S.length?y+=S:y+=S.slice(0,v),v-=T,v===0){T===S.length?(++E,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=S.slice(T));break}++E}return this.length-=E,y}},{key:"_getBuffer",value:function(v){var h=u.allocUnsafe(v),E=this.head,y=1;for(E.data.copy(h),v-=E.data.length;E=E.next;){var S=E.data,T=v>S.length?S.length:v;if(S.copy(h,h.length-v,0,T),v-=T,v===0){T===S.length?(++y,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=S.slice(T));break}++y}return this.length-=y,h}},{key:p,value:function(v,h){return c(this,t(t({},h),{},{depth:0,customInspect:!1}))}}]),g}(),Bb}function RH(){if(nR)return Ub;nR=!0;var e=fo;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,p)):e.nextTick(r,u,p):l?(e.nextTick(n,u),l(p)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return Ub={destroy:t,undestroy:i,errorOrDestroy:s},Ub}function sg(){if(iR)return zb;iR=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,p,m){return typeof a=="string"?a:a(c,p,m)}class f extends l{constructor(p,m,g){super(u(p,m,g))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),zb.codes=e,zb}function NH(){if(oR)return qb;oR=!0;var e=sg().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return qb={getHighWaterMark:r},qb}function IH(){if(sR)return Vb;sR=!0;var e=fo;Vb=O;function t(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){oe(ee,X)}}var r;O.WritableState=d;var n={deprecate:uhe()},i=PH(),o=Js().Buffer,s=(typeof aR<"u"?aR:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(X){return o.from(X)}function l(X){return o.isBuffer(X)||X instanceof s}var u=RH(),f=NH(),c=f.getHighWaterMark,p=sg().codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,h=p.ERR_STREAM_DESTROYED,E=p.ERR_STREAM_NULL_VALUES,y=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,T=u.errorOrDestroy;vd()(O,i);function x(){}function d(X,ee,se){r=r||Wm(),X=X||{},typeof se!="boolean"&&(se=ee instanceof r),this.objectMode=!!X.objectMode,se&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=c(this,X,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var we=X.decodeStrings===!1;this.decodeStrings=!we,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Oe){fe(ee,Oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,se=[];ee;)se.push(ee),ee=ee.next;return se},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(ee){return $.call(this,ee)?!0:this!==O?!1:ee&&ee._writableState instanceof d}})):$=function(ee){return ee instanceof this};function O(X){r=r||Wm();var ee=this instanceof r;if(!ee&&!$.call(O,this))return new O(X);this._writableState=new d(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),i.call(this)}O.prototype.pipe=function(){T(this,new v)};function P(X,ee){var se=new y;T(X,se),e.nextTick(ee,se)}function k(X,ee,se,we){var Oe;return se===null?Oe=new E:typeof se!="string"&&!ee.objectMode&&(Oe=new m("chunk",["string","Buffer"],se)),Oe?(T(X,Oe),e.nextTick(we,Oe),!1):!0}O.prototype.write=function(X,ee,se){var we=this._writableState,Oe=!1,I=!we.objectMode&&l(X);return I&&!o.isBuffer(X)&&(X=a(X)),typeof ee=="function"&&(se=ee,ee=null),I?ee="buffer":ee||(ee=we.defaultEncoding),typeof se!="function"&&(se=x),we.ending?P(this,se):(I||k(this,we,X,se))&&(we.pendingcb++,Oe=K(this,we,I,X,ee,se)),Oe},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&F(this,X))},O.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new S(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function B(X,ee,se){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=o.from(ee,se)),ee}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(X,ee,se,we,Oe,I){if(!se){var L=B(ee,we,Oe);we!==L&&(se=!0,Oe="buffer",we=L)}var M=ee.objectMode?1:we.length;ee.length+=M;var Z=ee.length<ee.highWaterMark;if(Z||(ee.needDrain=!0),ee.writing||ee.corked){var ue=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:we,encoding:Oe,isBuf:se,callback:I,next:null},ue?ue.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else ie(X,ee,!1,M,we,Oe,I);return Z}function ie(X,ee,se,we,Oe,I,L){ee.writelen=we,ee.writecb=L,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new h("write")):se?X._writev(Oe,ee.onwrite):X._write(Oe,I,ee.onwrite),ee.sync=!1}function W(X,ee,se,we,Oe){--ee.pendingcb,se?(e.nextTick(Oe,we),e.nextTick(C,X,ee),X._writableState.errorEmitted=!0,T(X,we)):(Oe(we),X._writableState.errorEmitted=!0,T(X,we),C(X,ee))}function ne(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function fe(X,ee){var se=X._writableState,we=se.sync,Oe=se.writecb;if(typeof Oe!="function")throw new _;if(ne(se),ee)W(X,se,we,ee,Oe);else{var I=z(se)||X.destroyed;!I&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&F(X,se),we?e.nextTick(re,X,se,I,Oe):re(X,se,I,Oe)}}function re(X,ee,se,we){se||le(X,ee),ee.pendingcb--,we(),C(X,ee)}function le(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function F(X,ee){ee.bufferProcessing=!0;var se=ee.bufferedRequest;if(X._writev&&se&&se.next){var we=ee.bufferedRequestCount,Oe=new Array(we),I=ee.corkedRequestsFree;I.entry=se;for(var L=0,M=!0;se;)Oe[L]=se,se.isBuf||(M=!1),se=se.next,L+=1;Oe.allBuffers=M,ie(X,ee,!0,ee.length,Oe,"",I.finish),ee.pendingcb++,ee.lastBufferedRequest=null,I.next?(ee.corkedRequestsFree=I.next,I.next=null):ee.corkedRequestsFree=new t(ee),ee.bufferedRequestCount=0}else{for(;se;){var Z=se.chunk,ue=se.encoding,de=se.callback,ve=ee.objectMode?1:Z.length;if(ie(X,ee,!1,ve,Z,ue,de),se=se.next,ee.bufferedRequestCount--,ee.writing)break}se===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=se,ee.bufferProcessing=!1}O.prototype._write=function(X,ee,se){se(new g("_write()"))},O.prototype._writev=null,O.prototype.end=function(X,ee,se){var we=this._writableState;return typeof X=="function"?(se=X,X=null,ee=null):typeof ee=="function"&&(se=ee,ee=null),X!=null&&this.write(X,ee),we.corked&&(we.corked=1,this.uncork()),we.ending||q(this,we,se),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function z(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function J(X,ee){X._final(function(se){ee.pendingcb--,se&&T(X,se),ee.prefinished=!0,X.emit("prefinish"),C(X,ee)})}function R(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,e.nextTick(J,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function C(X,ee){var se=z(ee);if(se&&(R(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var we=X._readableState;(!we||we.autoDestroy&&we.endEmitted)&&X.destroy()}return se}function q(X,ee,se){ee.ending=!0,C(X,ee),se&&(ee.finished?e.nextTick(se):X.once("finish",se)),ee.ended=!0,X.writable=!1}function oe(X,ee,se){var we=X.entry;for(X.entry=null;we;){var Oe=we.callback;ee.pendingcb--,Oe(se),we=we.next}ee.corkedRequestsFree.next=X}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(X,ee){ee(X)},Vb}function Wm(){if(lR)return Hb;lR=!0;var e=fo,t=Object.keys||function(f){var c=[];for(var p in f)c.push(p);return c};Hb=a;var r=CH(),n=IH();vd()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Hb}function r2(){if(uR)return Wb;uR=!0;var e=sg().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||p()},c=o._writableState&&o._writableState.finished,p=function(){u=!1,c=!0,l||a.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},h=function(){o.req.on("finish",p)};return n(o)?(o.on("complete",p),o.on("abort",v),o.req?h():o.on("request",h)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",p),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",p),o.removeListener("abort",v),o.removeListener("request",h),o.req&&o.req.removeListener("finish",p),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",p),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return Wb=i,Wb}function xhe(){if(cR)return Gb;cR=!0;var e=fo,t;function r(S,T,x){return T=n(T),T in S?Object.defineProperty(S,T,{value:x,enumerable:!0,configurable:!0,writable:!0}):S[T]=x,S}function n(S){var T=i(S,"string");return typeof T=="symbol"?T:String(T)}function i(S,T){if(typeof S!="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var d=x.call(S,T);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(S)}var o=r2(),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),p=Symbol("stream");function m(S,T){return{value:S,done:T}}function g(S){var T=S[s];if(T!==null){var x=S[p].read();x!==null&&(S[f]=null,S[s]=null,S[a]=null,T(m(x,!1)))}}function _(S){e.nextTick(g,S)}function v(S,T){return function(x,d){S.then(function(){if(T[u]){x(m(void 0,!0));return}T[c](x,d)},d)}}var h=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[p]},next:function(){var T=this,x=this[l];if(x!==null)return Promise.reject(x);if(this[u])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise(function(P,k){e.nextTick(function(){T[l]?k(T[l]):P(m(void 0,!0))})});var d=this[f],$;if(d)$=new Promise(v(d,this));else{var O=this[p].read();if(O!==null)return Promise.resolve(m(O,!1));$=new Promise(this[c])}return this[f]=$,$}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var T=this;return new Promise(function(x,d){T[p].destroy(null,function($){if($){d($);return}x(m(void 0,!0))})})}),t),h),y=function(T){var x,d=Object.create(E,(x={},r(x,p,{value:T,writable:!0}),r(x,s,{value:null,writable:!0}),r(x,a,{value:null,writable:!0}),r(x,l,{value:null,writable:!0}),r(x,u,{value:T._readableState.endEmitted,writable:!0}),r(x,c,{value:function(O,P){var k=d[p].read();k?(d[f]=null,d[s]=null,d[a]=null,O(m(k,!1))):(d[s]=O,d[a]=P)},writable:!0}),x));return d[f]=null,o(T,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=d[a];O!==null&&(d[f]=null,d[s]=null,d[a]=null,O($)),d[l]=$;return}var P=d[s];P!==null&&(d[f]=null,d[s]=null,d[a]=null,P(m(void 0,!0))),d[u]=!0}),T.on("readable",_.bind(null,d)),d};return Gb=y,Gb}function Ahe(){return fR||(fR=!0,Kb=function(){throw new Error("Readable.from is not available in the browser")}),Kb}function CH(){if(dR)return Jb;dR=!0;var e=fo;Jb=P;var t;P.ReadableState=O,ss.EventEmitter;var r=function(L,M){return L.listeners(M).length},n=PH(),i=Js().Buffer,o=(typeof hR<"u"?hR:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(I){return i.from(I)}function a(I){return i.isBuffer(I)||I instanceof o}var l=Et,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=$he(),c=RH(),p=NH(),m=p.getHighWaterMark,g=sg().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,T;vd()(P,n);var x=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function $(I,L,M){if(typeof I.prependListener=="function")return I.prependListener(L,M);!I._events||!I._events[L]?I.on(L,M):Array.isArray(I._events[L])?I._events[L].unshift(M):I._events[L]=[M,I._events[L]]}function O(I,L,M){t=t||Wm(),I=I||{},typeof M!="boolean"&&(M=L instanceof t),this.objectMode=!!I.objectMode,M&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=m(this,I,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(y||(y=Tm.StringDecoder),this.decoder=new y(I.encoding),this.encoding=I.encoding)}function P(I){if(t=t||Wm(),!(this instanceof P))return new P(I);var L=this instanceof t;this._readableState=new O(I,this,L),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),n.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),P.prototype.destroy=c.destroy,P.prototype._undestroy=c.undestroy,P.prototype._destroy=function(I,L){L(I)},P.prototype.push=function(I,L){var M=this._readableState,Z;return M.objectMode?Z=!0:typeof I=="string"&&(L=L||M.defaultEncoding,L!==M.encoding&&(I=i.from(I,L),L=""),Z=!0),k(this,I,L,!1,Z)},P.prototype.unshift=function(I){return k(this,I,null,!0,!1)};function k(I,L,M,Z,ue){u("readableAddChunk",L);var de=I._readableState;if(L===null)de.reading=!1,fe(I,de);else{var ve;if(ue||(ve=K(de,L)),ve)x(I,ve);else if(de.objectMode||L&&L.length>0)if(typeof L!="string"&&!de.objectMode&&Object.getPrototypeOf(L)!==i.prototype&&(L=s(L)),Z)de.endEmitted?x(I,new E):B(I,de,L,!0);else if(de.ended)x(I,new v);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!M?(L=de.decoder.write(L),de.objectMode||L.length!==0?B(I,de,L,!1):F(I,de)):B(I,de,L,!1)}else Z||(de.reading=!1,F(I,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function B(I,L,M,Z){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,I.emit("data",M)):(L.length+=L.objectMode?1:M.length,Z?L.buffer.unshift(M):L.buffer.push(M),L.needReadable&&re(I)),F(I,L)}function K(I,L){var M;return!a(L)&&typeof L!="string"&&L!==void 0&&!I.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],L)),M}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(I){y||(y=Tm.StringDecoder);var L=new y(I);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,Z="";M!==null;)Z+=L.write(M.data),M=M.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};var ie=1073741824;function W(I){return I>=ie?I=ie:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function ne(I,L){return I<=0||L.length===0&&L.ended?0:L.objectMode?1:I!==I?L.flowing&&L.length?L.buffer.head.data.length:L.length:(I>L.highWaterMark&&(L.highWaterMark=W(I)),I<=L.length?I:L.ended?L.length:(L.needReadable=!0,0))}P.prototype.read=function(I){u("read",I),I=parseInt(I,10);var L=this._readableState,M=I;if(I!==0&&(L.emittedReadable=!1),I===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return u("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?se(this):re(this),null;if(I=ne(I,L),I===0&&L.ended)return L.length===0&&se(this),null;var Z=L.needReadable;u("need readable",Z),(L.length===0||L.length-I<L.highWaterMark)&&(Z=!0,u("length less than watermark",Z)),L.ended||L.reading?(Z=!1,u("reading or ended",Z)):Z&&(u("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(I=ne(M,L)));var ue;return I>0?ue=ee(I,L):ue=null,ue===null?(L.needReadable=L.length<=L.highWaterMark,I=0):(L.length-=I,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),M!==I&&L.ended&&se(this)),ue!==null&&this.emit("data",ue),ue};function fe(I,L){if(u("onEofChunk"),!L.ended){if(L.decoder){var M=L.decoder.end();M&&M.length&&(L.buffer.push(M),L.length+=L.objectMode?1:M.length)}L.ended=!0,L.sync?re(I):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,le(I)))}}function re(I){var L=I._readableState;u("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(u("emitReadable",L.flowing),L.emittedReadable=!0,e.nextTick(le,I))}function le(I){var L=I._readableState;u("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(I.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,X(I)}function F(I,L){L.readingMore||(L.readingMore=!0,e.nextTick(z,I,L))}function z(I,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var M=L.length;if(u("maybeReadMore read 0"),I.read(0),M===L.length)break}L.readingMore=!1}P.prototype._read=function(I){x(this,new h("_read()"))},P.prototype.pipe=function(I,L){var M=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=I;break;case 1:Z.pipes=[Z.pipes,I];break;default:Z.pipes.push(I);break}Z.pipesCount+=1,u("pipe count=%d opts=%j",Z.pipesCount,L);var ue=(!L||L.end!==!1)&&I!==e.stdout&&I!==e.stderr,de=ue?Se:j;Z.endEmitted?e.nextTick(de):M.once("end",de),I.on("unpipe",ve);function ve(U,ce){u("onunpipe"),U===M&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,Ve())}function Se(){u("onend"),I.end()}var Fe=J(M);I.on("drain",Fe);var He=!1;function Ve(){u("cleanup"),I.removeListener("close",Ye),I.removeListener("finish",te),I.removeListener("drain",Fe),I.removeListener("error",Qe),I.removeListener("unpipe",ve),M.removeListener("end",Se),M.removeListener("end",j),M.removeListener("data",ut),He=!0,Z.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&Fe()}M.on("data",ut);function ut(U){u("ondata");var ce=I.write(U);u("dest.write",ce),ce===!1&&((Z.pipesCount===1&&Z.pipes===I||Z.pipesCount>1&&Oe(Z.pipes,I)!==-1)&&!He&&(u("false write response, pause",Z.awaitDrain),Z.awaitDrain++),M.pause())}function Qe(U){u("onerror",U),j(),I.removeListener("error",Qe),r(I,"error")===0&&x(I,U)}$(I,"error",Qe);function Ye(){I.removeListener("finish",te),j()}I.once("close",Ye);function te(){u("onfinish"),I.removeListener("close",Ye),j()}I.once("finish",te);function j(){u("unpipe"),M.unpipe(I)}return I.emit("pipe",M),Z.flowing||(u("pipe resume"),M.resume()),I};function J(I){return function(){var M=I._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(I,"data")&&(M.flowing=!0,X(I))}}P.prototype.unpipe=function(I){var L=this._readableState,M={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return I&&I!==L.pipes?this:(I||(I=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,I&&I.emit("unpipe",this,M),this);if(!I){var Z=L.pipes,ue=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var de=0;de<ue;de++)Z[de].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Oe(L.pipes,I);return ve===-1?this:(L.pipes.splice(ve,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),I.emit("unpipe",this,M),this)},P.prototype.on=function(I,L){var M=n.prototype.on.call(this,I,L),Z=this._readableState;return I==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):I==="readable"&&!Z.endEmitted&&!Z.readableListening&&(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,u("on readable",Z.length,Z.reading),Z.length?re(this):Z.reading||e.nextTick(C,this)),M},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(I,L){var M=n.prototype.removeListener.call(this,I,L);return I==="readable"&&e.nextTick(R,this),M},P.prototype.removeAllListeners=function(I){var L=n.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&e.nextTick(R,this),L};function R(I){var L=I._readableState;L.readableListening=I.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:I.listenerCount("data")>0&&I.resume()}function C(I){u("readable nexttick read 0"),I.read(0)}P.prototype.resume=function(){var I=this._readableState;return I.flowing||(u("resume"),I.flowing=!I.readableListening,q(this,I)),I.paused=!1,this};function q(I,L){L.resumeScheduled||(L.resumeScheduled=!0,e.nextTick(oe,I,L))}function oe(I,L){u("resume",L.reading),L.reading||I.read(0),L.resumeScheduled=!1,I.emit("resume"),X(I),L.flowing&&!L.reading&&I.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(I){var L=I._readableState;for(u("flow",L.flowing);L.flowing&&I.read()!==null;);}P.prototype.wrap=function(I){var L=this,M=this._readableState,Z=!1;I.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var ve=M.decoder.end();ve&&ve.length&&L.push(ve)}L.push(null)}),I.on("data",function(ve){if(u("wrapped data"),M.decoder&&(ve=M.decoder.write(ve)),!(M.objectMode&&ve==null)&&!(!M.objectMode&&(!ve||!ve.length))){var Se=L.push(ve);Se||(Z=!0,I.pause())}});for(var ue in I)this[ue]===void 0&&typeof I[ue]=="function"&&(this[ue]=function(Se){return function(){return I[Se].apply(I,arguments)}}(ue));for(var de=0;de<d.length;de++)I.on(d[de],this.emit.bind(this,d[de]));return this._read=function(ve){u("wrapped _read",ve),Z&&(Z=!1,I.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=xhe()),S(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),P._fromList=ee,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(I,L){if(L.length===0)return null;var M;return L.objectMode?M=L.buffer.shift():!I||I>=L.length?(L.decoder?M=L.buffer.join(""):L.buffer.length===1?M=L.buffer.first():M=L.buffer.concat(L.length),L.buffer.clear()):M=L.buffer.consume(I,L.decoder),M}function se(I){var L=I._readableState;u("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,e.nextTick(we,L,I))}function we(I,L){if(u("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,L.readable=!1,L.emit("end"),I.autoDestroy)){var M=L._writableState;(!M||M.autoDestroy&&M.finished)&&L.destroy()}}typeof Symbol=="function"&&(P.from=function(I,L){return T===void 0&&(T=Ahe()),T(P,I,L)});function Oe(I,L){for(var M=0,Z=I.length;M<Z;M++)if(I[M]===L)return M;return-1}return Jb}function kH(){if(pR)return Yb;pR=!0,Yb=a;var e=sg().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Wm();vd()(a,o);function s(f,c){var p=this._transformState;p.transforming=!1;var m=p.writecb;if(m===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,p){u(f,c,p)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,p){p(new t("_transform()"))},a.prototype._write=function(f,c,p){var m=this._transformState;if(m.writecb=p,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(p){c(p)})};function u(f,c,p){if(c)return f.emit("error",c);if(p!=null&&f.push(p),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return Yb}function Ohe(){if(mR)return Xb;mR=!0,Xb=t;var e=kH();vd()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},Xb}function Phe(){if(gR)return Qb;gR=!0;var e;function t(p){var m=!1;return function(){m||(m=!0,p.apply(void 0,arguments))}}var r=sg().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(p){if(p)throw p}function s(p){return p.setHeader&&typeof p.abort=="function"}function a(p,m,g,_){_=t(_);var v=!1;p.on("close",function(){v=!0}),e===void 0&&(e=r2()),e(p,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var h=!1;return function(E){if(!v&&!h){if(h=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();_(E||new i("pipe"))}}}function l(p){p()}function u(p,m){return p.pipe(m)}function f(p){return!p.length||typeof p[p.length-1]!="function"?o:p.pop()}function c(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,h=m.map(function(E,y){var S=y<m.length-1,T=y>0;return a(E,S,T,function(x){v||(v=x),x&&h.forEach(l),!S&&(h.forEach(l),_(v))})});return m.reduce(u)}return Qb=c,Qb}function jH(){return vR||(vR=!0,ts=ts=CH(),ts.Stream=ts,ts.Readable=ts,ts.Writable=IH(),ts.Duplex=Wm(),ts.Transform=kH(),ts.PassThrough=Ohe(),ts.finished=r2(),ts.pipeline=Phe()),ts}function DH(){if(yR)return pv;yR=!0;var e=Js().Buffer,t=fo,r=OH(),n=vd(),i=jH(),o=pv.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=pv.IncomingMessage=function(a,l,u,f){var c=this||mv;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let h=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),h()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var p=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(p).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();h()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var g=a.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(h){var E=h.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||mv,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||mv,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var p=e.alloc(c.length),m=0;m<c.length;m++)p[m]=c.charCodeAt(m)&255;l.push(p)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new mv.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){a(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},pv}function Rhe(){if(wR)return Zb;wR=!0;var e=Js().Buffer,t=fo,r=OH(),n=vd(),i=DH(),o=jH(),s=i.IncomingMessage,a=i.readyStates;function l(p,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&p?"arraybuffer":"text"}var u=Zb=function(p){var m=this||Ki;o.Writable.call(m),m._opts=p,m._body=[],m._headers={},p.auth&&m.setHeader("Authorization","Basic "+e.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(v){m.setHeader(v,p.headers[v])});var g,_=!0;if(p.mode==="disable-fetch"||"requestTimeout"in p&&!r.abortController)_=!1,g=!0;else if(p.mode==="prefer-streaming")g=!1;else if(p.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!p.mode||p.mode==="default"||p.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(p,m){var g=this||Ki,_=p.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:p,value:m})},u.prototype.getHeader=function(p){var m=(this||Ki)._headers[p.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(p){var m=this||Ki;delete m._headers[p.toLowerCase()]},u.prototype._onFinish=function(){var p=this||Ki;if(!p._destroyed){var m=p._opts;"timeout"in m&&m.timeout!==0&&p.setTimeout(m.timeout);var g=p._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(p._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var T=g[S].name,x=g[S].value;Array.isArray(x)?x.forEach(function(d){v.push([T,d])}):v.push([T,x])}),p._mode==="fetch"){var h=null;if(r.abortController){var E=new AbortController;h=E.signal,p._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(p._fetchTimer=Ki.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},m.requestTimeout))}Ki.fetch(p._opts.url,{method:p._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:h}).then(function(S){p._fetchResponse=S,p._resetTimers(!1),p._connect()},function(S){p._resetTimers(!0),p._destroyed||p.emit("error",S)})}else{var y=p._xhr=new Ki.XMLHttpRequest;try{y.open(p._opts.method,p._opts.url,!0)}catch(S){t.nextTick(function(){p.emit("error",S)});return}"responseType"in y&&(y.responseType=p._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),p._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){p.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),p._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:p._onXHRProgress();break}},p._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){p._onXHRProgress()}),y.onerror=function(){p._destroyed||(p._resetTimers(!0),p.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){p.emit("error",S)});return}}}};function f(p){try{var m=p.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var p=this||Ki;p._resetTimers(!1),!(!f(p._xhr)||p._destroyed)&&(p._response||p._connect(),p._response._onXHRProgress(p._resetTimers.bind(p)))},u.prototype._connect=function(){var p=this||Ki;p._destroyed||(p._response=new s(p._xhr,p._fetchResponse,p._mode,p._resetTimers.bind(p)),p._response.on("error",function(m){p.emit("error",m)}),p.emit("response",p._response))},u.prototype._write=function(p,m,g){var _=this||Ki;_._body.push(p),g()},u.prototype._resetTimers=function(p){var m=this||Ki;Ki.clearTimeout(m._socketTimer),m._socketTimer=null,p?(Ki.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Ki.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(p){var m=this||Ki;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),p&&m.emit("error",p)},u.prototype.end=function(p,m,g){var _=this||Ki;typeof p=="function"&&(g=p,p=void 0),o.Writable.prototype.end.call(_,p,m,g)},u.prototype.setTimeout=function(p,m){var g=this||Ki;m&&g.once("timeout",m),g._socketTimeout=p,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return Zb}function Nhe(){if(bR)return e_;bR=!0,e_=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return e_}function Ihe(){return _R||(_R=!0,t_={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),t_}function Che(){if(ER)return r_;ER=!0;var e=Rhe(),t=DH(),r=Nhe(),n=Ihe(),i=Cn,o=r_;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=MH.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,p=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+p,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var m=new e(s);return a&&m.on("response",a),m},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],r_}var ks,eR,xf,Fb,tR,Bb,rR,Ub,nR,zb,iR,qb,oR,Vb,sR,aR,Hb,lR,Wb,uR,Gb,cR,Kb,fR,Jb,dR,hR,Yb,pR,Xb,mR,Qb,gR,ts,vR,pv,yR,mv,Zb,wR,Ki,e_,bR,t_,_R,r_,ER,MH,bu,LH,FH,BH,UH,zH,qH,VH,HH,n2=Vn({"../../node_modules/@jspm/core/nodelibs/browser/http.js"(){Ce(),Qk(),Wde(),X1(),W1(),Qde(),s0(),a0(),che(),iH(),AH(),Q1(),ks={},eR=!1,xf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Fb={},tR=!1,Bb={},rR=!1,Ub={},nR=!1,zb={},iR=!1,qb={},oR=!1,Vb={},sR=!1,aR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Hb={},lR=!1,Wb={},uR=!1,Gb={},cR=!1,Kb={},fR=!1,Jb={},dR=!1,hR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Yb={},pR=!1,Xb={},mR=!1,Qb={},gR=!1,ts={},vR=!1,pv={},yR=!1,mv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Zb={},wR=!1,Ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,e_={},bR=!1,t_={},_R=!1,r_={},ER=!1,MH=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,bu=Che(),LH=bu.Agent,FH=bu.ClientRequest,BH=bu.IncomingMessage,UH=bu.METHODS,zH=bu.STATUS_CODES,qH=bu.get,VH=bu.globalAgent,HH=bu.request}});function NB(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function khe(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(zl[(i=n)>>18&63]+zl[i>>12&63]+zl[i>>6&63]+zl[63&i]);return o.join("")}function xc(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,kt.prototype),t}function kt(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return SR(e)}return WH(e,t,r)}function WH(e,t,r){if(typeof e=="string")return function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!kt.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|KH(o,s),l=xc(a),u=l.write(o,s);return u!==a&&(l=l.slice(0,u)),l}(e,t);if(ArrayBuffer.isView(e))return Yx(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Ac(e,ArrayBuffer)||e&&Ac(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ac(e,SharedArrayBuffer)||e&&Ac(e.buffer,SharedArrayBuffer)))return IB(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return kt.from(n,t,r);var i=function(o){if(kt.isBuffer(o)){var s=0|i2(o.length),a=xc(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||o2(o.length)?xc(0):Yx(o);if(o.type==="Buffer"&&Array.isArray(o.data))return Yx(o.data)}(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return kt.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function GH(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function SR(e){return GH(e),xc(e<0?0:0|i2(e))}function Yx(e){for(var t=e.length<0?0:0|i2(e.length),r=xc(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function IB(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,kt.prototype),n}function i2(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function KH(e,t){if(kt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Ac(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return TR(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return QH(e).length;default:if(i)return n?-1:TR(e).length;t=(""+t).toLowerCase(),i=!0}}function jhe(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Vhe(this,t,r);case"utf8":case"utf-8":return YH(this,t,r);case"ascii":return zhe(this,t,r);case"latin1":case"binary":return qhe(this,t,r);case"base64":return Uhe(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hhe(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Gd(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function CB(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),o2(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof t=="string"&&(t=kt.from(t,n)),kt.isBuffer(t))return t.length===0?-1:kB(e,t,r,n,i);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):kB(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function kB(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function u(m,g){return s===1?m[g]:m.readUInt16BE(g*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===l)return f*s}else f!==-1&&(o-=o-f),f=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var c=!0,p=0;p<l;p++)if(u(e,o+p)!==u(t,p)){c=!1;break}if(c)return o}return-1}function Dhe(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(o2(a))return s;e[r+s]=a}return s}function Mhe(e,t,r,n){return eT(TR(t,e.length-r),e,r,n)}function JH(e,t,r,n){return eT(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(t),e,r,n)}function Lhe(e,t,r,n){return JH(e,t,r,n)}function Fhe(e,t,r,n){return eT(QH(t),e,r,n)}function Bhe(e,t,r,n){return eT(function(i,o){for(var s,a,l,u=[],f=0;f<i.length&&!((o-=2)<0);++f)s=i.charCodeAt(f),a=s>>8,l=s%256,u.push(l),u.push(a);return u}(t,e.length-r),e,r,n)}function Uhe(e,t,r){return t===0&&r===e.length?MS.fromByteArray(e):MS.fromByteArray(e.slice(t,r))}function YH(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],f=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(f=l)}f===null?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(p){var m=p.length;if(m<=4096)return String.fromCharCode.apply(String,p);for(var g="",_=0;_<m;)g+=String.fromCharCode.apply(String,p.slice(_,_+=4096));return g}(n)}function zhe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function qhe(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Vhe(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=sW[e[o]];return i}function Hhe(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function io(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Cs(e,t,r,n,i,o){if(!kt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function XH(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function jB(e,t,r,n,i){return t=+t,r>>>=0,i||XH(e,0,r,4),uh.write(e,t,r,n,23,4),r+4}function DB(e,t,r,n,i){return t=+t,r>>>=0,i||XH(e,0,r,8),uh.write(e,t,r,n,52,8),r+8}function TR(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function QH(e){return MS.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(oW,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function eT(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Ac(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function o2(e){return e!=e}function MB(e,t){for(var r in e)t[r]=e[r]}function Kd(e,t,r){return Dl(e,t,r)}function Kg(e){var t;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}}(r);if(typeof n!="string"&&(FS.isEncoding===$R||!$R(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=Ghe,this.end=Khe,t=4;break;case"utf8":this.fillLast=Whe,t=4;break;case"base64":this.text=Jhe,this.end=Yhe,t=3;break;default:return this.write=Xhe,this.end=Qhe,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=FS.allocUnsafe(t)}function Xx(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Whe(e){var t=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,""}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function Ghe(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Khe(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Jhe(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Yhe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Xhe(e){return e.toString(this.encoding)}function Qhe(e){return e&&e.length?this.write(e):""}function Zhe(){if(xR)return Vp;xR=!0,Vp.byteLength=a,Vp.toByteArray=u,Vp.fromByteArray=p;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=m.indexOf("=");_===-1&&(_=g);var v=_===g?0:4-_%4;return[_,v]}function a(m){var g=s(m),_=g[0],v=g[1];return(_+v)*3/4-v}function l(m,g,_){return(g+_)*3/4-_}function u(m){var g,_=s(m),v=_[0],h=_[1],E=new r(l(m,v,h)),y=0,S=h>0?v-4:v,T;for(T=0;T<S;T+=4)g=t[m.charCodeAt(T)]<<18|t[m.charCodeAt(T+1)]<<12|t[m.charCodeAt(T+2)]<<6|t[m.charCodeAt(T+3)],E[y++]=g>>16&255,E[y++]=g>>8&255,E[y++]=g&255;return h===2&&(g=t[m.charCodeAt(T)]<<2|t[m.charCodeAt(T+1)]>>4,E[y++]=g&255),h===1&&(g=t[m.charCodeAt(T)]<<10|t[m.charCodeAt(T+1)]<<4|t[m.charCodeAt(T+2)]>>2,E[y++]=g>>8&255,E[y++]=g&255),E}function f(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function c(m,g,_){for(var v,h=[],E=g;E<_;E+=3)v=(m[E]<<16&16711680)+(m[E+1]<<8&65280)+(m[E+2]&255),h.push(f(v));return h.join("")}function p(m){for(var g,_=m.length,v=_%3,h=[],E=16383,y=0,S=_-v;y<S;y+=E)h.push(c(m,y,y+E>S?S:y+E));return v===1?(g=m[_-1],h.push(e[g>>2]+e[g<<4&63]+"==")):v===2&&(g=(m[_-2]<<8)+m[_-1],h.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),h.join("")}return Vp}function epe(){return AR||(AR=!0,gv.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(m?-1:1)*s*Math.pow(2,o-n)},gv.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=p/l:t+=p*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=a&255,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=s&255,m+=g,s/=256,u-=8);e[r+m-g]|=_*128}),gv}function tpe(){if(OR)return Af;OR=!0;const e=Zhe(),t=epe(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Af.Buffer=s,Af.SlowBuffer=h,Af.INSPECT_MAX_BYTES=50;const n=2147483647;Af.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const te=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(te,j),te.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(te){if(te>n)throw new RangeError('The value "'+te+'" is invalid for option "size"');const j=new Uint8Array(te);return Object.setPrototypeOf(j,s.prototype),j}function s(te,j,U){if(typeof te=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(te)}return a(te,j,U)}s.poolSize=8192;function a(te,j,U){if(typeof te=="string")return c(te,j);if(ArrayBuffer.isView(te))return m(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(He(te,ArrayBuffer)||te&&He(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(te,SharedArrayBuffer)||te&&He(te.buffer,SharedArrayBuffer)))return g(te,j,U);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=te.valueOf&&te.valueOf();if(ce!=null&&ce!==te)return s.from(ce,j,U);const Te=_(te);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return s.from(te[Symbol.toPrimitive]("string"),j,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}s.from=function(te,j,U){return a(te,j,U)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function u(te,j,U){return l(te),te<=0?o(te):j!==void 0?typeof U=="string"?o(te).fill(j,U):o(te).fill(j):o(te)}s.alloc=function(te,j,U){return u(te,j,U)};function f(te){return l(te),o(te<0?0:v(te)|0)}s.allocUnsafe=function(te){return f(te)},s.allocUnsafeSlow=function(te){return f(te)};function c(te,j){if((typeof j!="string"||j==="")&&(j="utf8"),!s.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const U=E(te,j)|0;let ce=o(U);const Te=ce.write(te,j);return Te!==U&&(ce=ce.slice(0,Te)),ce}function p(te){const j=te.length<0?0:v(te.length)|0,U=o(j);for(let ce=0;ce<j;ce+=1)U[ce]=te[ce]&255;return U}function m(te){if(He(te,Uint8Array)){const j=new Uint8Array(te);return g(j.buffer,j.byteOffset,j.byteLength)}return p(te)}function g(te,j,U){if(j<0||te.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<j+(U||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return j===void 0&&U===void 0?ce=new Uint8Array(te):U===void 0?ce=new Uint8Array(te,j):ce=new Uint8Array(te,j,U),Object.setPrototypeOf(ce,s.prototype),ce}function _(te){if(s.isBuffer(te)){const j=v(te.length)|0,U=o(j);return U.length===0||te.copy(U,0,0,j),U}if(te.length!==void 0)return typeof te.length!="number"||Ve(te.length)?o(0):p(te);if(te.type==="Buffer"&&Array.isArray(te.data))return p(te.data)}function v(te){if(te>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return te|0}function h(te){return+te!=te&&(te=0),s.alloc(+te)}s.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==s.prototype},s.compare=function(j,U){if(He(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),He(U,Uint8Array)&&(U=s.from(U,U.offset,U.byteLength)),!s.isBuffer(j)||!s.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===U)return 0;let ce=j.length,Te=U.length;for(let Re=0,ze=Math.min(ce,Te);Re<ze;++Re)if(j[Re]!==U[Re]){ce=j[Re],Te=U[Re];break}return ce<Te?-1:Te<ce?1:0},s.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(j,U){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return s.alloc(0);let ce;if(U===void 0)for(U=0,ce=0;ce<j.length;++ce)U+=j[ce].length;const Te=s.allocUnsafe(U);let Re=0;for(ce=0;ce<j.length;++ce){let ze=j[ce];if(He(ze,Uint8Array))Re+ze.length>Te.length?(s.isBuffer(ze)||(ze=s.from(ze)),ze.copy(Te,Re)):Uint8Array.prototype.set.call(Te,ze,Re);else if(s.isBuffer(ze))ze.copy(Te,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=ze.length}return Te};function E(te,j){if(s.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||He(te,ArrayBuffer))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const U=te.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&U===0)return 0;let Te=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return ue(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return Se(te).length;default:if(Te)return ce?-1:ue(te).length;j=(""+j).toLowerCase(),Te=!0}}s.byteLength=E;function y(te,j,U){let ce=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,j>>>=0,U<=j))return"";for(te||(te="utf8");;)switch(te){case"hex":return re(this,j,U);case"utf8":case"utf-8":return K(this,j,U);case"ascii":return ne(this,j,U);case"latin1":case"binary":return fe(this,j,U);case"base64":return B(this,j,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,j,U);default:if(ce)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),ce=!0}}s.prototype._isBuffer=!0;function S(te,j,U){const ce=te[j];te[j]=te[U],te[U]=ce}s.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<j;U+=2)S(this,U,U+1);return this},s.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<j;U+=4)S(this,U,U+3),S(this,U+1,U+2);return this},s.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<j;U+=8)S(this,U,U+7),S(this,U+1,U+6),S(this,U+2,U+5),S(this,U+3,U+4);return this},s.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?K(this,0,j):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(j){if(!s.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:s.compare(this,j)===0},s.prototype.inspect=function(){let j="";const U=Af.INSPECT_MAX_BYTES;return j=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(j+=" ... "),"<Buffer "+j+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(j,U,ce,Te,Re){if(He(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),!s.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(U===void 0&&(U=0),ce===void 0&&(ce=j?j.length:0),Te===void 0&&(Te=0),Re===void 0&&(Re=this.length),U<0||ce>j.length||Te<0||Re>this.length)throw new RangeError("out of range index");if(Te>=Re&&U>=ce)return 0;if(Te>=Re)return-1;if(U>=ce)return 1;if(U>>>=0,ce>>>=0,Te>>>=0,Re>>>=0,this===j)return 0;let ze=Re-Te,Be=ce-U;const Xe=Math.min(ze,Be),vt=this.slice(Te,Re),St=j.slice(U,ce);for(let yt=0;yt<Xe;++yt)if(vt[yt]!==St[yt]){ze=vt[yt],Be=St[yt];break}return ze<Be?-1:Be<ze?1:0};function T(te,j,U,ce,Te){if(te.length===0)return-1;if(typeof U=="string"?(ce=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,Ve(U)&&(U=Te?0:te.length-1),U<0&&(U=te.length+U),U>=te.length){if(Te)return-1;U=te.length-1}else if(U<0)if(Te)U=0;else return-1;if(typeof j=="string"&&(j=s.from(j,ce)),s.isBuffer(j))return j.length===0?-1:x(te,j,U,ce,Te);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?Te?Uint8Array.prototype.indexOf.call(te,j,U):Uint8Array.prototype.lastIndexOf.call(te,j,U):x(te,[j],U,ce,Te);throw new TypeError("val must be string, number or Buffer")}function x(te,j,U,ce,Te){let Re=1,ze=te.length,Be=j.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(te.length<2||j.length<2)return-1;Re=2,ze/=2,Be/=2,U/=2}function Xe(St,yt){return Re===1?St[yt]:St.readUInt16BE(yt*Re)}let vt;if(Te){let St=-1;for(vt=U;vt<ze;vt++)if(Xe(te,vt)===Xe(j,St===-1?0:vt-St)){if(St===-1&&(St=vt),vt-St+1===Be)return St*Re}else St!==-1&&(vt-=vt-St),St=-1}else for(U+Be>ze&&(U=ze-Be),vt=U;vt>=0;vt--){let St=!0;for(let yt=0;yt<Be;yt++)if(Xe(te,vt+yt)!==Xe(j,yt)){St=!1;break}if(St)return vt}return-1}s.prototype.includes=function(j,U,ce){return this.indexOf(j,U,ce)!==-1},s.prototype.indexOf=function(j,U,ce){return T(this,j,U,ce,!0)},s.prototype.lastIndexOf=function(j,U,ce){return T(this,j,U,ce,!1)};function d(te,j,U,ce){U=Number(U)||0;const Te=te.length-U;ce?(ce=Number(ce),ce>Te&&(ce=Te)):ce=Te;const Re=j.length;ce>Re/2&&(ce=Re/2);let ze;for(ze=0;ze<ce;++ze){const Be=parseInt(j.substr(ze*2,2),16);if(Ve(Be))return ze;te[U+ze]=Be}return ze}function $(te,j,U,ce){return Fe(ue(j,te.length-U),te,U,ce)}function O(te,j,U,ce){return Fe(de(j),te,U,ce)}function P(te,j,U,ce){return Fe(Se(j),te,U,ce)}function k(te,j,U,ce){return Fe(ve(j,te.length-U),te,U,ce)}s.prototype.write=function(j,U,ce,Te){if(U===void 0)Te="utf8",ce=this.length,U=0;else if(ce===void 0&&typeof U=="string")Te=U,ce=this.length,U=0;else if(isFinite(U))U=U>>>0,isFinite(ce)?(ce=ce>>>0,Te===void 0&&(Te="utf8")):(Te=ce,ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-U;if((ce===void 0||ce>Re)&&(ce=Re),j.length>0&&(ce<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");Te||(Te="utf8");let ze=!1;for(;;)switch(Te){case"hex":return d(this,j,U,ce);case"utf8":case"utf-8":return $(this,j,U,ce);case"ascii":case"latin1":case"binary":return O(this,j,U,ce);case"base64":return P(this,j,U,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,j,U,ce);default:if(ze)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),ze=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(te,j,U){return j===0&&U===te.length?e.fromByteArray(te):e.fromByteArray(te.slice(j,U))}function K(te,j,U){U=Math.min(te.length,U);const ce=[];let Te=j;for(;Te<U;){const Re=te[Te];let ze=null,Be=Re>239?4:Re>223?3:Re>191?2:1;if(Te+Be<=U){let Xe,vt,St,yt;switch(Be){case 1:Re<128&&(ze=Re);break;case 2:Xe=te[Te+1],(Xe&192)===128&&(yt=(Re&31)<<6|Xe&63,yt>127&&(ze=yt));break;case 3:Xe=te[Te+1],vt=te[Te+2],(Xe&192)===128&&(vt&192)===128&&(yt=(Re&15)<<12|(Xe&63)<<6|vt&63,yt>2047&&(yt<55296||yt>57343)&&(ze=yt));break;case 4:Xe=te[Te+1],vt=te[Te+2],St=te[Te+3],(Xe&192)===128&&(vt&192)===128&&(St&192)===128&&(yt=(Re&15)<<18|(Xe&63)<<12|(vt&63)<<6|St&63,yt>65535&&yt<1114112&&(ze=yt))}}ze===null?(ze=65533,Be=1):ze>65535&&(ze-=65536,ce.push(ze>>>10&1023|55296),ze=56320|ze&1023),ce.push(ze),Te+=Be}return W(ce)}const ie=4096;function W(te){const j=te.length;if(j<=ie)return String.fromCharCode.apply(String,te);let U="",ce=0;for(;ce<j;)U+=String.fromCharCode.apply(String,te.slice(ce,ce+=ie));return U}function ne(te,j,U){let ce="";U=Math.min(te.length,U);for(let Te=j;Te<U;++Te)ce+=String.fromCharCode(te[Te]&127);return ce}function fe(te,j,U){let ce="";U=Math.min(te.length,U);for(let Te=j;Te<U;++Te)ce+=String.fromCharCode(te[Te]);return ce}function re(te,j,U){const ce=te.length;(!j||j<0)&&(j=0),(!U||U<0||U>ce)&&(U=ce);let Te="";for(let Re=j;Re<U;++Re)Te+=ut[te[Re]];return Te}function le(te,j,U){const ce=te.slice(j,U);let Te="";for(let Re=0;Re<ce.length-1;Re+=2)Te+=String.fromCharCode(ce[Re]+ce[Re+1]*256);return Te}s.prototype.slice=function(j,U){const ce=this.length;j=~~j,U=U===void 0?ce:~~U,j<0?(j+=ce,j<0&&(j=0)):j>ce&&(j=ce),U<0?(U+=ce,U<0&&(U=0)):U>ce&&(U=ce),U<j&&(U=j);const Te=this.subarray(j,U);return Object.setPrototypeOf(Te,s.prototype),Te};function F(te,j,U){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+j>U)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=this[j],Re=1,ze=0;for(;++ze<U&&(Re*=256);)Te+=this[j+ze]*Re;return Te},s.prototype.readUintBE=s.prototype.readUIntBE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=this[j+--U],Re=1;for(;U>0&&(Re*=256);)Te+=this[j+--U]*Re;return Te},s.prototype.readUint8=s.prototype.readUInt8=function(j,U){return j=j>>>0,U||F(j,1,this.length),this[j]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(j,U){return j=j>>>0,U||F(j,2,this.length),this[j]|this[j+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(j,U){return j=j>>>0,U||F(j,2,this.length),this[j]<<8|this[j+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(j,U){return j=j>>>0,U||F(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(j,U){return j=j>>>0,U||F(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},s.prototype.readBigUInt64LE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=U+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,Re=this[++j]+this[++j]*2**8+this[++j]*2**16+ce*2**24;return BigInt(Te)+(BigInt(Re)<<BigInt(32))}),s.prototype.readBigUInt64BE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=U*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],Re=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce;return(BigInt(Te)<<BigInt(32))+BigInt(Re)}),s.prototype.readIntLE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=this[j],Re=1,ze=0;for(;++ze<U&&(Re*=256);)Te+=this[j+ze]*Re;return Re*=128,Te>=Re&&(Te-=Math.pow(2,8*U)),Te},s.prototype.readIntBE=function(j,U,ce){j=j>>>0,U=U>>>0,ce||F(j,U,this.length);let Te=U,Re=1,ze=this[j+--Te];for(;Te>0&&(Re*=256);)ze+=this[j+--Te]*Re;return Re*=128,ze>=Re&&(ze-=Math.pow(2,8*U)),ze},s.prototype.readInt8=function(j,U){return j=j>>>0,U||F(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},s.prototype.readInt16LE=function(j,U){j=j>>>0,U||F(j,2,this.length);const ce=this[j]|this[j+1]<<8;return ce&32768?ce|4294901760:ce},s.prototype.readInt16BE=function(j,U){j=j>>>0,U||F(j,2,this.length);const ce=this[j+1]|this[j]<<8;return ce&32768?ce|4294901760:ce},s.prototype.readInt32LE=function(j,U){return j=j>>>0,U||F(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},s.prototype.readInt32BE=function(j,U){return j=j>>>0,U||F(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},s.prototype.readBigInt64LE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ce<<24);return(BigInt(Te)<<BigInt(32))+BigInt(U+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),s.prototype.readBigInt64BE=Qe(function(j){j=j>>>0,I(j,"offset");const U=this[j],ce=this[j+7];(U===void 0||ce===void 0)&&L(j,this.length-8);const Te=(U<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(Te)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce)}),s.prototype.readFloatLE=function(j,U){return j=j>>>0,U||F(j,4,this.length),t.read(this,j,!0,23,4)},s.prototype.readFloatBE=function(j,U){return j=j>>>0,U||F(j,4,this.length),t.read(this,j,!1,23,4)},s.prototype.readDoubleLE=function(j,U){return j=j>>>0,U||F(j,8,this.length),t.read(this,j,!0,52,8)},s.prototype.readDoubleBE=function(j,U){return j=j>>>0,U||F(j,8,this.length),t.read(this,j,!1,52,8)};function z(te,j,U,ce,Te,Re){if(!s.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>Te||j<Re)throw new RangeError('"value" argument is out of bounds');if(U+ce>te.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(j,U,ce,Te){if(j=+j,U=U>>>0,ce=ce>>>0,!Te){const Be=Math.pow(2,8*ce)-1;z(this,j,U,ce,Be,0)}let Re=1,ze=0;for(this[U]=j&255;++ze<ce&&(Re*=256);)this[U+ze]=j/Re&255;return U+ce},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(j,U,ce,Te){if(j=+j,U=U>>>0,ce=ce>>>0,!Te){const Be=Math.pow(2,8*ce)-1;z(this,j,U,ce,Be,0)}let Re=ce-1,ze=1;for(this[U+Re]=j&255;--Re>=0&&(ze*=256);)this[U+Re]=j/ze&255;return U+ce},s.prototype.writeUint8=s.prototype.writeUInt8=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,1,255,0),this[U]=j&255,U+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,65535,0),this[U]=j&255,this[U+1]=j>>>8,U+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,65535,0),this[U]=j>>>8,this[U+1]=j&255,U+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,4294967295,0),this[U+3]=j>>>24,this[U+2]=j>>>16,this[U+1]=j>>>8,this[U]=j&255,U+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,4294967295,0),this[U]=j>>>24,this[U+1]=j>>>16,this[U+2]=j>>>8,this[U+3]=j&255,U+4};function J(te,j,U,ce,Te){Oe(j,ce,Te,te,U,7);let Re=Number(j&BigInt(4294967295));te[U++]=Re,Re=Re>>8,te[U++]=Re,Re=Re>>8,te[U++]=Re,Re=Re>>8,te[U++]=Re;let ze=Number(j>>BigInt(32)&BigInt(4294967295));return te[U++]=ze,ze=ze>>8,te[U++]=ze,ze=ze>>8,te[U++]=ze,ze=ze>>8,te[U++]=ze,U}function R(te,j,U,ce,Te){Oe(j,ce,Te,te,U,7);let Re=Number(j&BigInt(4294967295));te[U+7]=Re,Re=Re>>8,te[U+6]=Re,Re=Re>>8,te[U+5]=Re,Re=Re>>8,te[U+4]=Re;let ze=Number(j>>BigInt(32)&BigInt(4294967295));return te[U+3]=ze,ze=ze>>8,te[U+2]=ze,ze=ze>>8,te[U+1]=ze,ze=ze>>8,te[U]=ze,U+8}s.prototype.writeBigUInt64LE=Qe(function(j,U=0){return J(this,j,U,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Qe(function(j,U=0){return R(this,j,U,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(j,U,ce,Te){if(j=+j,U=U>>>0,!Te){const Xe=Math.pow(2,8*ce-1);z(this,j,U,ce,Xe-1,-Xe)}let Re=0,ze=1,Be=0;for(this[U]=j&255;++Re<ce&&(ze*=256);)j<0&&Be===0&&this[U+Re-1]!==0&&(Be=1),this[U+Re]=(j/ze>>0)-Be&255;return U+ce},s.prototype.writeIntBE=function(j,U,ce,Te){if(j=+j,U=U>>>0,!Te){const Xe=Math.pow(2,8*ce-1);z(this,j,U,ce,Xe-1,-Xe)}let Re=ce-1,ze=1,Be=0;for(this[U+Re]=j&255;--Re>=0&&(ze*=256);)j<0&&Be===0&&this[U+Re+1]!==0&&(Be=1),this[U+Re]=(j/ze>>0)-Be&255;return U+ce},s.prototype.writeInt8=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,1,127,-128),j<0&&(j=255+j+1),this[U]=j&255,U+1},s.prototype.writeInt16LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,32767,-32768),this[U]=j&255,this[U+1]=j>>>8,U+2},s.prototype.writeInt16BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,2,32767,-32768),this[U]=j>>>8,this[U+1]=j&255,U+2},s.prototype.writeInt32LE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,2147483647,-2147483648),this[U]=j&255,this[U+1]=j>>>8,this[U+2]=j>>>16,this[U+3]=j>>>24,U+4},s.prototype.writeInt32BE=function(j,U,ce){return j=+j,U=U>>>0,ce||z(this,j,U,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[U]=j>>>24,this[U+1]=j>>>16,this[U+2]=j>>>8,this[U+3]=j&255,U+4},s.prototype.writeBigInt64LE=Qe(function(j,U=0){return J(this,j,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Qe(function(j,U=0){return R(this,j,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function C(te,j,U,ce,Te,Re){if(U+ce>te.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function q(te,j,U,ce,Te){return j=+j,U=U>>>0,Te||C(te,j,U,4),t.write(te,j,U,ce,23,4),U+4}s.prototype.writeFloatLE=function(j,U,ce){return q(this,j,U,!0,ce)},s.prototype.writeFloatBE=function(j,U,ce){return q(this,j,U,!1,ce)};function oe(te,j,U,ce,Te){return j=+j,U=U>>>0,Te||C(te,j,U,8),t.write(te,j,U,ce,52,8),U+8}s.prototype.writeDoubleLE=function(j,U,ce){return oe(this,j,U,!0,ce)},s.prototype.writeDoubleBE=function(j,U,ce){return oe(this,j,U,!1,ce)},s.prototype.copy=function(j,U,ce,Te){if(!s.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!Te&&Te!==0&&(Te=this.length),U>=j.length&&(U=j.length),U||(U=0),Te>0&&Te<ce&&(Te=ce),Te===ce||j.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("sourceEnd out of bounds");Te>this.length&&(Te=this.length),j.length-U<Te-ce&&(Te=j.length-U+ce);const Re=Te-ce;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(U,ce,Te):Uint8Array.prototype.set.call(j,this.subarray(ce,Te),U),Re},s.prototype.fill=function(j,U,ce,Te){if(typeof j=="string"){if(typeof U=="string"?(Te=U,U=0,ce=this.length):typeof ce=="string"&&(Te=ce,ce=this.length),Te!==void 0&&typeof Te!="string")throw new TypeError("encoding must be a string");if(typeof Te=="string"&&!s.isEncoding(Te))throw new TypeError("Unknown encoding: "+Te);if(j.length===1){const ze=j.charCodeAt(0);(Te==="utf8"&&ze<128||Te==="latin1")&&(j=ze)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(U<0||this.length<U||this.length<ce)throw new RangeError("Out of range index");if(ce<=U)return this;U=U>>>0,ce=ce===void 0?this.length:ce>>>0,j||(j=0);let Re;if(typeof j=="number")for(Re=U;Re<ce;++Re)this[Re]=j;else{const ze=s.isBuffer(j)?j:s.from(j,Te),Be=ze.length;if(Be===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(Re=0;Re<ce-U;++Re)this[Re+U]=ze[Re%Be]}return this};const X={};function ee(te,j,U){X[te]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,this.stack,delete this.name}get code(){return te}set code(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(te,j){return`The "${te}" argument must be of type number. Received type ${typeof j}`},TypeError),ee("ERR_OUT_OF_RANGE",function(te,j,U){let ce=`The value of "${te}" is out of range.`,Te=U;return Number.isInteger(U)&&Math.abs(U)>2**32?Te=se(String(U)):typeof U=="bigint"&&(Te=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(Te=se(Te)),Te+="n"),ce+=` It must be ${j}. Received ${Te}`,ce},RangeError);function se(te){let j="",U=te.length;const ce=te[0]==="-"?1:0;for(;U>=ce+4;U-=3)j=`_${te.slice(U-3,U)}${j}`;return`${te.slice(0,U)}${j}`}function we(te,j,U){I(j,"offset"),(te[j]===void 0||te[j+U]===void 0)&&L(j,te.length-(U+1))}function Oe(te,j,U,ce,Te,Re){if(te>U||te<j){const ze=typeof j=="bigint"?"n":"";let Be;throw j===0||j===BigInt(0)?Be=`>= 0${ze} and < 2${ze} ** ${(Re+1)*8}${ze}`:Be=`>= -(2${ze} ** ${(Re+1)*8-1}${ze}) and < 2 ** ${(Re+1)*8-1}${ze}`,new X.ERR_OUT_OF_RANGE("value",Be,te)}we(ce,Te,Re)}function I(te,j){if(typeof te!="number")throw new X.ERR_INVALID_ARG_TYPE(j,"number",te)}function L(te,j,U){throw Math.floor(te)!==te?(I(te,U),new X.ERR_OUT_OF_RANGE("offset","an integer",te)):j<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,te)}const M=/[^+/0-9A-Za-z-_]/g;function Z(te){if(te=te.split("=")[0],te=te.trim().replace(M,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function ue(te,j){j=j||1/0;let U;const ce=te.length;let Te=null;const Re=[];for(let ze=0;ze<ce;++ze){if(U=te.charCodeAt(ze),U>55295&&U<57344){if(!Te){if(U>56319){(j-=3)>-1&&Re.push(239,191,189);continue}else if(ze+1===ce){(j-=3)>-1&&Re.push(239,191,189);continue}Te=U;continue}if(U<56320){(j-=3)>-1&&Re.push(239,191,189),Te=U;continue}U=(Te-55296<<10|U-56320)+65536}else Te&&(j-=3)>-1&&Re.push(239,191,189);if(Te=null,U<128){if((j-=1)<0)break;Re.push(U)}else if(U<2048){if((j-=2)<0)break;Re.push(U>>6|192,U&63|128)}else if(U<65536){if((j-=3)<0)break;Re.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((j-=4)<0)break;Re.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return Re}function de(te){const j=[];for(let U=0;U<te.length;++U)j.push(te.charCodeAt(U)&255);return j}function ve(te,j){let U,ce,Te;const Re=[];for(let ze=0;ze<te.length&&!((j-=2)<0);++ze)U=te.charCodeAt(ze),ce=U>>8,Te=U%256,Re.push(Te),Re.push(ce);return Re}function Se(te){return e.toByteArray(Z(te))}function Fe(te,j,U,ce){let Te;for(Te=0;Te<ce&&!(Te+U>=j.length||Te>=te.length);++Te)j[Te+U]=te[Te];return Te}function He(te,j){return te instanceof j||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===j.name}function Ve(te){return te!==te}const ut=function(){const te="0123456789abcdef",j=new Array(256);for(let U=0;U<16;++U){const ce=U*16;for(let Te=0;Te<16;++Te)j[ce+Te]=te[U]+te[Te]}return j}();function Qe(te){return typeof BigInt>"u"?Ye:te}function Ye(){throw new Error("BigInt not supported")}return Af}function ep(){return PR||(PR=!0,typeof Object.create=="function"?vv=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:vv=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),vv}function ZH(){return RR||(RR=!0,n_=ss.EventEmitter),n_}function rpe(){if(NR)return i_;NR=!0;function e(p,m){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(p);m&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(p,v).enumerable})),g.push.apply(g,_)}return g}function t(p){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?e(Object(g),!0).forEach(function(_){r(p,_,g[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(_){Object.defineProperty(p,_,Object.getOwnPropertyDescriptor(g,_))})}return p}function r(p,m,g){return m in p?Object.defineProperty(p,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[m]=g,p}function n(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function i(p,m){for(var g=0;g<m.length;g++){var _=m[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}function o(p,m,g){return m&&i(p.prototype,m),p}var s=Oc,a=s.Buffer,l=Et,u=l.inspect,f=u&&u.custom||"inspect";function c(p,m,g){a.prototype.copy.call(p,m,g)}return i_=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return o(p,[{key:"push",value:function(g){var _={data:g,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(g){var _={data:g,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var _=this.head,v=""+_.data;_=_.next;)v+=g+_.data;return v}},{key:"concat",value:function(g){if(this.length===0)return a.alloc(0);for(var _=a.allocUnsafe(g>>>0),v=this.head,h=0;v;)c(v.data,_,h),h+=v.data.length,v=v.next;return _}},{key:"consume",value:function(g,_){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=_?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var _=this.head,v=1,h=_.data;for(g-=h.length;_=_.next;){var E=_.data,y=g>E.length?E.length:g;if(y===E.length?h+=E:h+=E.slice(0,g),g-=y,g===0){y===E.length?(++v,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(y));break}++v}return this.length-=v,h}},{key:"_getBuffer",value:function(g){var _=a.allocUnsafe(g),v=this.head,h=1;for(v.data.copy(_),g-=v.data.length;v=v.next;){var E=v.data,y=g>E.length?E.length:g;if(E.copy(_,_.length-g,0,y),g-=y,g===0){y===E.length?(++h,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(y));break}++h}return this.length-=h,_}},{key:f,value:function(g,_){return u(this,t({},_,{depth:0,customInspect:!1}))}}]),p}(),i_}function eW(){if(IR)return o_;IR=!0;var e=On;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,p)):e.nextTick(r,u,p):l?(e.nextTick(n,u),l(p)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return o_={destroy:t,undestroy:i,errorOrDestroy:s},o_}function ag(){if(CR)return s_;CR=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,p,m){return typeof a=="string"?a:a(c,p,m)}class f extends l{constructor(p,m,g){super(u(p,m,g))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s_.codes=e,s_}function tW(){if(kR)return a_;kR=!0;var e=ag().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return a_={getHighWaterMark:r},a_}function npe(){if(jR)return l_;jR=!0,l_=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||u_,arguments)}return o}function t(r){try{if(!u_.localStorage)return!1}catch{return!1}var n=u_.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return l_}function rW(){if(DR)return c_;DR=!0;var e=On;c_=O;function t(X){var ee=this;this.next=null,this.entry=null,this.finish=function(){oe(ee,X)}}var r;O.WritableState=d;var n={deprecate:npe()},i=ZH(),o=Oc.Buffer,s=aW.Uint8Array||function(){};function a(X){return o.from(X)}function l(X){return o.isBuffer(X)||X instanceof s}var u=eW(),f=tW(),c=f.getHighWaterMark,p=ag().codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,v=p.ERR_STREAM_CANNOT_PIPE,h=p.ERR_STREAM_DESTROYED,E=p.ERR_STREAM_NULL_VALUES,y=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING,T=u.errorOrDestroy;ep()(O,i);function x(){}function d(X,ee,se){r=r||Gm(),X=X||{},typeof se!="boolean"&&(se=ee instanceof r),this.objectMode=!!X.objectMode,se&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=c(this,X,"writableHighWaterMark",se),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var we=X.decodeStrings===!1;this.decodeStrings=!we,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Oe){fe(ee,Oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var ee=this.bufferedRequest,se=[];ee;)se.push(ee),ee=ee.next;return se},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(ee){return $.call(this,ee)?!0:this!==O?!1:ee&&ee._writableState instanceof d}})):$=function(ee){return ee instanceof this};function O(X){r=r||Gm();var ee=this instanceof r;if(!ee&&!$.call(O,this))return new O(X);this._writableState=new d(X,this,ee),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),i.call(this)}O.prototype.pipe=function(){T(this,new v)};function P(X,ee){var se=new y;T(X,se),e.nextTick(ee,se)}function k(X,ee,se,we){var Oe;return se===null?Oe=new E:typeof se!="string"&&!ee.objectMode&&(Oe=new m("chunk",["string","Buffer"],se)),Oe?(T(X,Oe),e.nextTick(we,Oe),!1):!0}O.prototype.write=function(X,ee,se){var we=this._writableState,Oe=!1,I=!we.objectMode&&l(X);return I&&!o.isBuffer(X)&&(X=a(X)),typeof ee=="function"&&(se=ee,ee=null),I?ee="buffer":ee||(ee=we.defaultEncoding),typeof se!="function"&&(se=x),we.ending?P(this,se):(I||k(this,we,X,se))&&(we.pendingcb++,Oe=K(this,we,I,X,ee,se)),Oe},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&F(this,X))},O.prototype.setDefaultEncoding=function(ee){if(typeof ee=="string"&&(ee=ee.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ee+"").toLowerCase())>-1))throw new S(ee);return this._writableState.defaultEncoding=ee,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function B(X,ee,se){return!X.objectMode&&X.decodeStrings!==!1&&typeof ee=="string"&&(ee=o.from(ee,se)),ee}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function K(X,ee,se,we,Oe,I){if(!se){var L=B(ee,we,Oe);we!==L&&(se=!0,Oe="buffer",we=L)}var M=ee.objectMode?1:we.length;ee.length+=M;var Z=ee.length<ee.highWaterMark;if(Z||(ee.needDrain=!0),ee.writing||ee.corked){var ue=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:we,encoding:Oe,isBuf:se,callback:I,next:null},ue?ue.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else ie(X,ee,!1,M,we,Oe,I);return Z}function ie(X,ee,se,we,Oe,I,L){ee.writelen=we,ee.writecb=L,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new h("write")):se?X._writev(Oe,ee.onwrite):X._write(Oe,I,ee.onwrite),ee.sync=!1}function W(X,ee,se,we,Oe){--ee.pendingcb,se?(e.nextTick(Oe,we),e.nextTick(C,X,ee),X._writableState.errorEmitted=!0,T(X,we)):(Oe(we),X._writableState.errorEmitted=!0,T(X,we),C(X,ee))}function ne(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function fe(X,ee){var se=X._writableState,we=se.sync,Oe=se.writecb;if(typeof Oe!="function")throw new _;if(ne(se),ee)W(X,se,we,ee,Oe);else{var I=z(se)||X.destroyed;!I&&!se.corked&&!se.bufferProcessing&&se.bufferedRequest&&F(X,se),we?e.nextTick(re,X,se,I,Oe):re(X,se,I,Oe)}}function re(X,ee,se,we){se||le(X,ee),ee.pendingcb--,we(),C(X,ee)}function le(X,ee){ee.length===0&&ee.needDrain&&(ee.needDrain=!1,X.emit("drain"))}function F(X,ee){ee.bufferProcessing=!0;var se=ee.bufferedRequest;if(X._writev&&se&&se.next){var we=ee.bufferedRequestCount,Oe=new Array(we),I=ee.corkedRequestsFree;I.entry=se;for(var L=0,M=!0;se;)Oe[L]=se,se.isBuf||(M=!1),se=se.next,L+=1;Oe.allBuffers=M,ie(X,ee,!0,ee.length,Oe,"",I.finish),ee.pendingcb++,ee.lastBufferedRequest=null,I.next?(ee.corkedRequestsFree=I.next,I.next=null):ee.corkedRequestsFree=new t(ee),ee.bufferedRequestCount=0}else{for(;se;){var Z=se.chunk,ue=se.encoding,de=se.callback,ve=ee.objectMode?1:Z.length;if(ie(X,ee,!1,ve,Z,ue,de),se=se.next,ee.bufferedRequestCount--,ee.writing)break}se===null&&(ee.lastBufferedRequest=null)}ee.bufferedRequest=se,ee.bufferProcessing=!1}O.prototype._write=function(X,ee,se){se(new g("_write()"))},O.prototype._writev=null,O.prototype.end=function(X,ee,se){var we=this._writableState;return typeof X=="function"?(se=X,X=null,ee=null):typeof ee=="function"&&(se=ee,ee=null),X!=null&&this.write(X,ee),we.corked&&(we.corked=1,this.uncork()),we.ending||q(this,we,se),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function z(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function J(X,ee){X._final(function(se){ee.pendingcb--,se&&T(X,se),ee.prefinished=!0,X.emit("prefinish"),C(X,ee)})}function R(X,ee){!ee.prefinished&&!ee.finalCalled&&(typeof X._final=="function"&&!ee.destroyed?(ee.pendingcb++,ee.finalCalled=!0,e.nextTick(J,X,ee)):(ee.prefinished=!0,X.emit("prefinish")))}function C(X,ee){var se=z(ee);if(se&&(R(X,ee),ee.pendingcb===0&&(ee.finished=!0,X.emit("finish"),ee.autoDestroy))){var we=X._readableState;(!we||we.autoDestroy&&we.endEmitted)&&X.destroy()}return se}function q(X,ee,se){ee.ending=!0,C(X,ee),se&&(ee.finished?e.nextTick(se):X.once("finish",se)),ee.ended=!0,X.writable=!1}function oe(X,ee,se){var we=X.entry;for(X.entry=null;we;){var Oe=we.callback;ee.pendingcb--,Oe(se),we=we.next}ee.corkedRequestsFree.next=X}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ee){this._writableState&&(this._writableState.destroyed=ee)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(X,ee){ee(X)},c_}function Gm(){if(MR)return f_;MR=!0;var e=On,t=Object.keys||function(f){var c=[];for(var p in f)c.push(p);return c};f_=a;var r=nW(),n=rW();ep()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),f_}function s2(){if(LR)return d_;LR=!0;var e=ag().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||p()},c=o._writableState&&o._writableState.finished,p=function(){u=!1,c=!0,l||a.call(o)},m=o._readableState&&o._readableState.endEmitted,g=function(){l=!1,m=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!m)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},h=function(){o.req.on("finish",p)};return n(o)?(o.on("complete",p),o.on("abort",v),o.req?h():o.on("request",h)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",g),o.on("finish",p),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",p),o.removeListener("abort",v),o.removeListener("request",h),o.req&&o.req.removeListener("finish",p),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",p),o.removeListener("end",g),o.removeListener("error",_),o.removeListener("close",v)}}return d_=i,d_}function ipe(){if(FR)return h_;FR=!0;var e=On,t;function r(E,y,S){return y in E?Object.defineProperty(E,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[y]=S,E}var n=s2(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function c(E,y){return{value:E,done:y}}function p(E){var y=E[i];if(y!==null){var S=E[f].read();S!==null&&(E[l]=null,E[i]=null,E[o]=null,y(c(S,!1)))}}function m(E){e.nextTick(p,E)}function g(E,y){return function(S,T){E.then(function(){if(y[a]){S(c(void 0,!0));return}y[u](S,T)},T)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var y=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[a])return Promise.resolve(c(void 0,!0));if(this[f].destroyed)return new Promise(function($,O){e.nextTick(function(){y[s]?O(y[s]):$(c(void 0,!0))})});var T=this[l],x;if(T)x=new Promise(g(T,this));else{var d=this[f].read();if(d!==null)return Promise.resolve(c(d,!1));x=new Promise(this[u])}return this[l]=x,x}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var y=this;return new Promise(function(S,T){y[f].destroy(null,function(x){if(x){T(x);return}S(c(void 0,!0))})})}),t),_),h=function(y){var S,T=Object.create(v,(S={},r(S,f,{value:y,writable:!0}),r(S,i,{value:null,writable:!0}),r(S,o,{value:null,writable:!0}),r(S,s,{value:null,writable:!0}),r(S,a,{value:y._readableState.endEmitted,writable:!0}),r(S,u,{value:function(d,$){var O=T[f].read();O?(T[l]=null,T[i]=null,T[o]=null,d(c(O,!1))):(T[i]=d,T[o]=$)},writable:!0}),S));return T[l]=null,n(y,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var d=T[o];d!==null&&(T[l]=null,T[i]=null,T[o]=null,d(x)),T[s]=x;return}var $=T[i];$!==null&&(T[l]=null,T[i]=null,T[o]=null,$(c(void 0,!0))),T[a]=!0}),y.on("readable",m.bind(null,T)),T};return h_=h,h_}function ope(){return BR||(BR=!0,p_=function(){throw new Error("Readable.from is not available in the browser")}),p_}function nW(){if(UR)return m_;UR=!0;var e=On;m_=P;var t;P.ReadableState=O,ss.EventEmitter;var r=function(L,M){return L.listeners(M).length},n=ZH(),i=Oc.Buffer,o=lW.Uint8Array||function(){};function s(I){return i.from(I)}function a(I){return i.isBuffer(I)||I instanceof o}var l=Et,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=rpe(),c=eW(),p=tW(),m=p.getHighWaterMark,g=ag().codes,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,h=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,T;ep()(P,n);var x=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function $(I,L,M){if(typeof I.prependListener=="function")return I.prependListener(L,M);!I._events||!I._events[L]?I.on(L,M):Array.isArray(I._events[L])?I._events[L].unshift(M):I._events[L]=[M,I._events[L]]}function O(I,L,M){t=t||Gm(),I=I||{},typeof M!="boolean"&&(M=L instanceof t),this.objectMode=!!I.objectMode,M&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=m(this,I,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(y||(y=LS.StringDecoder),this.decoder=new y(I.encoding),this.encoding=I.encoding)}function P(I){if(t=t||Gm(),!(this instanceof P))return new P(I);var L=this instanceof t;this._readableState=new O(I,this,L),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),n.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),P.prototype.destroy=c.destroy,P.prototype._undestroy=c.undestroy,P.prototype._destroy=function(I,L){L(I)},P.prototype.push=function(I,L){var M=this._readableState,Z;return M.objectMode?Z=!0:typeof I=="string"&&(L=L||M.defaultEncoding,L!==M.encoding&&(I=i.from(I,L),L=""),Z=!0),k(this,I,L,!1,Z)},P.prototype.unshift=function(I){return k(this,I,null,!0,!1)};function k(I,L,M,Z,ue){u("readableAddChunk",L);var de=I._readableState;if(L===null)de.reading=!1,fe(I,de);else{var ve;if(ue||(ve=K(de,L)),ve)x(I,ve);else if(de.objectMode||L&&L.length>0)if(typeof L!="string"&&!de.objectMode&&Object.getPrototypeOf(L)!==i.prototype&&(L=s(L)),Z)de.endEmitted?x(I,new E):B(I,de,L,!0);else if(de.ended)x(I,new v);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!M?(L=de.decoder.write(L),de.objectMode||L.length!==0?B(I,de,L,!1):F(I,de)):B(I,de,L,!1)}else Z||(de.reading=!1,F(I,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function B(I,L,M,Z){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,I.emit("data",M)):(L.length+=L.objectMode?1:M.length,Z?L.buffer.unshift(M):L.buffer.push(M),L.needReadable&&re(I)),F(I,L)}function K(I,L){var M;return!a(L)&&typeof L!="string"&&L!==void 0&&!I.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],L)),M}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(I){y||(y=LS.StringDecoder);var L=new y(I);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,Z="";M!==null;)Z+=L.write(M.data),M=M.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};var ie=1073741824;function W(I){return I>=ie?I=ie:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function ne(I,L){return I<=0||L.length===0&&L.ended?0:L.objectMode?1:I!==I?L.flowing&&L.length?L.buffer.head.data.length:L.length:(I>L.highWaterMark&&(L.highWaterMark=W(I)),I<=L.length?I:L.ended?L.length:(L.needReadable=!0,0))}P.prototype.read=function(I){u("read",I),I=parseInt(I,10);var L=this._readableState,M=I;if(I!==0&&(L.emittedReadable=!1),I===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return u("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?se(this):re(this),null;if(I=ne(I,L),I===0&&L.ended)return L.length===0&&se(this),null;var Z=L.needReadable;u("need readable",Z),(L.length===0||L.length-I<L.highWaterMark)&&(Z=!0,u("length less than watermark",Z)),L.ended||L.reading?(Z=!1,u("reading or ended",Z)):Z&&(u("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(I=ne(M,L)));var ue;return I>0?ue=ee(I,L):ue=null,ue===null?(L.needReadable=L.length<=L.highWaterMark,I=0):(L.length-=I,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),M!==I&&L.ended&&se(this)),ue!==null&&this.emit("data",ue),ue};function fe(I,L){if(u("onEofChunk"),!L.ended){if(L.decoder){var M=L.decoder.end();M&&M.length&&(L.buffer.push(M),L.length+=L.objectMode?1:M.length)}L.ended=!0,L.sync?re(I):(L.needReadable=!1,L.emittedReadable||(L.emittedReadable=!0,le(I)))}}function re(I){var L=I._readableState;u("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(u("emitReadable",L.flowing),L.emittedReadable=!0,e.nextTick(le,I))}function le(I){var L=I._readableState;u("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&(L.length||L.ended)&&(I.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,X(I)}function F(I,L){L.readingMore||(L.readingMore=!0,e.nextTick(z,I,L))}function z(I,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var M=L.length;if(u("maybeReadMore read 0"),I.read(0),M===L.length)break}L.readingMore=!1}P.prototype._read=function(I){x(this,new h("_read()"))},P.prototype.pipe=function(I,L){var M=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=I;break;case 1:Z.pipes=[Z.pipes,I];break;default:Z.pipes.push(I);break}Z.pipesCount+=1,u("pipe count=%d opts=%j",Z.pipesCount,L);var ue=(!L||L.end!==!1)&&I!==e.stdout&&I!==e.stderr,de=ue?Se:j;Z.endEmitted?e.nextTick(de):M.once("end",de),I.on("unpipe",ve);function ve(U,ce){u("onunpipe"),U===M&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,Ve())}function Se(){u("onend"),I.end()}var Fe=J(M);I.on("drain",Fe);var He=!1;function Ve(){u("cleanup"),I.removeListener("close",Ye),I.removeListener("finish",te),I.removeListener("drain",Fe),I.removeListener("error",Qe),I.removeListener("unpipe",ve),M.removeListener("end",Se),M.removeListener("end",j),M.removeListener("data",ut),He=!0,Z.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&Fe()}M.on("data",ut);function ut(U){u("ondata");var ce=I.write(U);u("dest.write",ce),ce===!1&&((Z.pipesCount===1&&Z.pipes===I||Z.pipesCount>1&&Oe(Z.pipes,I)!==-1)&&!He&&(u("false write response, pause",Z.awaitDrain),Z.awaitDrain++),M.pause())}function Qe(U){u("onerror",U),j(),I.removeListener("error",Qe),r(I,"error")===0&&x(I,U)}$(I,"error",Qe);function Ye(){I.removeListener("finish",te),j()}I.once("close",Ye);function te(){u("onfinish"),I.removeListener("close",Ye),j()}I.once("finish",te);function j(){u("unpipe"),M.unpipe(I)}return I.emit("pipe",M),Z.flowing||(u("pipe resume"),M.resume()),I};function J(I){return function(){var M=I._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(I,"data")&&(M.flowing=!0,X(I))}}P.prototype.unpipe=function(I){var L=this._readableState,M={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return I&&I!==L.pipes?this:(I||(I=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,I&&I.emit("unpipe",this,M),this);if(!I){var Z=L.pipes,ue=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var de=0;de<ue;de++)Z[de].emit("unpipe",this,{hasUnpiped:!1});return this}var ve=Oe(L.pipes,I);return ve===-1?this:(L.pipes.splice(ve,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),I.emit("unpipe",this,M),this)},P.prototype.on=function(I,L){var M=n.prototype.on.call(this,I,L),Z=this._readableState;return I==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):I==="readable"&&!Z.endEmitted&&!Z.readableListening&&(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,u("on readable",Z.length,Z.reading),Z.length?re(this):Z.reading||e.nextTick(C,this)),M},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(I,L){var M=n.prototype.removeListener.call(this,I,L);return I==="readable"&&e.nextTick(R,this),M},P.prototype.removeAllListeners=function(I){var L=n.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&e.nextTick(R,this),L};function R(I){var L=I._readableState;L.readableListening=I.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:I.listenerCount("data")>0&&I.resume()}function C(I){u("readable nexttick read 0"),I.read(0)}P.prototype.resume=function(){var I=this._readableState;return I.flowing||(u("resume"),I.flowing=!I.readableListening,q(this,I)),I.paused=!1,this};function q(I,L){L.resumeScheduled||(L.resumeScheduled=!0,e.nextTick(oe,I,L))}function oe(I,L){u("resume",L.reading),L.reading||I.read(0),L.resumeScheduled=!1,I.emit("resume"),X(I),L.flowing&&!L.reading&&I.read(0)}P.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(I){var L=I._readableState;for(u("flow",L.flowing);L.flowing&&I.read()!==null;);}P.prototype.wrap=function(I){var L=this,M=this._readableState,Z=!1;I.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var ve=M.decoder.end();ve&&ve.length&&L.push(ve)}L.push(null)}),I.on("data",function(ve){if(u("wrapped data"),M.decoder&&(ve=M.decoder.write(ve)),!(M.objectMode&&ve==null)&&!(!M.objectMode&&(!ve||!ve.length))){var Se=L.push(ve);Se||(Z=!0,I.pause())}});for(var ue in I)this[ue]===void 0&&typeof I[ue]=="function"&&(this[ue]=function(Se){return function(){return I[Se].apply(I,arguments)}}(ue));for(var de=0;de<d.length;de++)I.on(d[de],this.emit.bind(this,d[de]));return this._read=function(ve){u("wrapped _read",ve),Z&&(Z=!1,I.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=ipe()),S(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),P._fromList=ee,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ee(I,L){if(L.length===0)return null;var M;return L.objectMode?M=L.buffer.shift():!I||I>=L.length?(L.decoder?M=L.buffer.join(""):L.buffer.length===1?M=L.buffer.first():M=L.buffer.concat(L.length),L.buffer.clear()):M=L.buffer.consume(I,L.decoder),M}function se(I){var L=I._readableState;u("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,e.nextTick(we,L,I))}function we(I,L){if(u("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,L.readable=!1,L.emit("end"),I.autoDestroy)){var M=L._writableState;(!M||M.autoDestroy&&M.finished)&&L.destroy()}}typeof Symbol=="function"&&(P.from=function(I,L){return T===void 0&&(T=ope()),T(P,I,L)});function Oe(I,L){for(var M=0,Z=I.length;M<Z;M++)if(I[M]===L)return M;return-1}return m_}function iW(){if(zR)return g_;zR=!0,g_=a;var e=ag().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Gm();ep()(a,o);function s(f,c){var p=this._transformState;p.transforming=!1;var m=p.writecb;if(m===null)return this.emit("error",new r);p.writechunk=null,p.writecb=null,c!=null&&this.push(c),m(f);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,p){u(f,c,p)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,p){p(new t("_transform()"))},a.prototype._write=function(f,c,p){var m=this._transformState;if(m.writecb=p,m.writechunk=f,m.writeencoding=c,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(p){c(p)})};function u(f,c,p){if(c)return f.emit("error",c);if(p!=null&&f.push(p),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return g_}function spe(){if(qR)return v_;qR=!0,v_=t;var e=iW();ep()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},v_}function ape(){if(VR)return y_;VR=!0;var e;function t(p){var m=!1;return function(){m||(m=!0,p.apply(void 0,arguments))}}var r=ag().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(p){if(p)throw p}function s(p){return p.setHeader&&typeof p.abort=="function"}function a(p,m,g,_){_=t(_);var v=!1;p.on("close",function(){v=!0}),e===void 0&&(e=s2()),e(p,{readable:m,writable:g},function(E){if(E)return _(E);v=!0,_()});var h=!1;return function(E){if(!v&&!h){if(h=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();_(E||new i("pipe"))}}}function l(p){p()}function u(p,m){return p.pipe(m)}function f(p){return!p.length||typeof p[p.length-1]!="function"?o:p.pop()}function c(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];var _=f(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new n("streams");var v,h=m.map(function(E,y){var S=y<m.length-1,T=y>0;return a(E,S,T,function(x){v||(v=x),x&&h.forEach(l),!S&&(h.forEach(l),_(v))})});return m.reduce(u)}return y_=c,y_}var LB,zl,ua,FB,Cw,Jd,BB,UB,gu,MS,uh,Qx,oW,sW,Jg,Yg,Dl,zB,LS,FS,$R,Vp,xR,gv,AR,Af,OR,Oc,vv,PR,n_,RR,i_,NR,o_,IR,s_,CR,a_,kR,l_,jR,u_,c_,DR,aW,f_,MR,d_,LR,h_,FR,p_,BR,m_,UR,lW,g_,zR,v_,qR,y_,VR,uW=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-B738Er4n.js"(){for(Ce(),X1(),s0(),Q1(),LB={byteLength:function(e){var t=NB(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=NB(e),i=n[0],o=n[1],s=new FB(function(u,f,c){return 3*(f+c)/4-c}(0,i,o)),a=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=ua[e.charCodeAt(r)]<<18|ua[e.charCodeAt(r+1)]<<12|ua[e.charCodeAt(r+2)]<<6|ua[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return o===2&&(t=ua[e.charCodeAt(r)]<<2|ua[e.charCodeAt(r+1)]>>4,s[a++]=255&t),o===1&&(t=ua[e.charCodeAt(r)]<<10|ua[e.charCodeAt(r+1)]<<4|ua[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(khe(e,o,o+16383>s?s:o+16383));return n===1?(t=e[r-1],i.push(zl[t>>2]+zl[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(zl[t>>10]+zl[t>>4&63]+zl[t<<2&63]+"=")),i.join("")}},zl=[],ua=[],FB=typeof Uint8Array<"u"?Uint8Array:Array,Cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jd=0,BB=Cw.length;Jd<BB;++Jd)zl[Jd]=Cw[Jd],ua[Cw.charCodeAt(Jd)]=Jd;ua[45]=62,ua[95]=63,UB={read:function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,p=r?-1:1,m=e[t+c];for(c+=p,o=m&(1<<-f)-1,m>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+c],c+=p,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(m?-1:1);s+=Math.pow(2,n),o-=u}return(m?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,f=(1<<u)-1,c=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+c>=1?p/l:p*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+m]=255&a,m+=g,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+m]=255&s,m+=g,s/=256,u-=8);e[r+m-g]|=128*_}},gu={},MS=LB,uh=UB,Qx=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,gu.Buffer=kt,gu.SlowBuffer=function(e){return+e!=e&&(e=0),kt.alloc(+e)},gu.INSPECT_MAX_BYTES=50,gu.kMaxLength=2147483647,kt.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),kt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(kt.prototype,"parent",{enumerable:!0,get:function(){if(kt.isBuffer(this))return this.buffer}}),Object.defineProperty(kt.prototype,"offset",{enumerable:!0,get:function(){if(kt.isBuffer(this))return this.byteOffset}}),kt.poolSize=8192,kt.from=function(e,t,r){return WH(e,t,r)},Object.setPrototypeOf(kt.prototype,Uint8Array.prototype),Object.setPrototypeOf(kt,Uint8Array),kt.alloc=function(e,t,r){return function(n,i,o){return GH(n),n<=0?xc(n):i!==void 0?typeof o=="string"?xc(n).fill(i,o):xc(n).fill(i):xc(n)}(e,t,r)},kt.allocUnsafe=function(e){return SR(e)},kt.allocUnsafeSlow=function(e){return SR(e)},kt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==kt.prototype},kt.compare=function(e,t){if(Ac(e,Uint8Array)&&(e=kt.from(e,e.offset,e.byteLength)),Ac(t,Uint8Array)&&(t=kt.from(t,t.offset,t.byteLength)),!kt.isBuffer(e)||!kt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},kt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},kt.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return kt.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=kt.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Ac(o,Uint8Array)&&(o=kt.from(o)),!kt.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},kt.byteLength=KH,kt.prototype._isBuffer=!0,kt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Gd(this,t,t+1);return this},kt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Gd(this,t,t+3),Gd(this,t+1,t+2);return this},kt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Gd(this,t,t+7),Gd(this,t+1,t+6),Gd(this,t+2,t+5),Gd(this,t+3,t+4);return this},kt.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?YH(this,0,e):jhe.apply(this,arguments)},kt.prototype.toLocaleString=kt.prototype.toString,kt.prototype.equals=function(e){if(!kt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||kt.compare(this,e)===0},kt.prototype.inspect=function(){var e="",t=gu.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Qx&&(kt.prototype[Qx]=kt.prototype.inspect),kt.prototype.compare=function(e,t,r,n,i){if(Ac(e,Uint8Array)&&(e=kt.from(e,e.offset,e.byteLength)),!kt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(n,i),u=e.slice(t,r),f=0;f<a;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0},kt.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},kt.prototype.indexOf=function(e,t,r){return CB(this,e,t,r,!0)},kt.prototype.lastIndexOf=function(e,t,r){return CB(this,e,t,r,!1)},kt.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Dhe(this,e,t,r);case"utf8":case"utf-8":return Mhe(this,e,t,r);case"ascii":return JH(this,e,t,r);case"latin1":case"binary":return Lhe(this,e,t,r);case"base64":return Fhe(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bhe(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},kt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},kt.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,kt.prototype),n},kt.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},kt.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},kt.prototype.readUInt8=function(e,t){return e>>>=0,t||io(e,1,this.length),this[e]},kt.prototype.readUInt16LE=function(e,t){return e>>>=0,t||io(e,2,this.length),this[e]|this[e+1]<<8},kt.prototype.readUInt16BE=function(e,t){return e>>>=0,t||io(e,2,this.length),this[e]<<8|this[e+1]},kt.prototype.readUInt32LE=function(e,t){return e>>>=0,t||io(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},kt.prototype.readUInt32BE=function(e,t){return e>>>=0,t||io(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},kt.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},kt.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||io(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},kt.prototype.readInt8=function(e,t){return e>>>=0,t||io(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},kt.prototype.readInt16LE=function(e,t){e>>>=0,t||io(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},kt.prototype.readInt16BE=function(e,t){e>>>=0,t||io(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},kt.prototype.readInt32LE=function(e,t){return e>>>=0,t||io(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},kt.prototype.readInt32BE=function(e,t){return e>>>=0,t||io(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},kt.prototype.readFloatLE=function(e,t){return e>>>=0,t||io(e,4,this.length),uh.read(this,e,!0,23,4)},kt.prototype.readFloatBE=function(e,t){return e>>>=0,t||io(e,4,this.length),uh.read(this,e,!1,23,4)},kt.prototype.readDoubleLE=function(e,t){return e>>>=0,t||io(e,8,this.length),uh.read(this,e,!0,52,8)},kt.prototype.readDoubleBE=function(e,t){return e>>>=0,t||io(e,8,this.length),uh.read(this,e,!1,52,8)},kt.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Cs(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},kt.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Cs(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},kt.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,1,255,0),this[t]=255&e,t+1},kt.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},kt.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},kt.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},kt.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},kt.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Cs(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},kt.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Cs(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},kt.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},kt.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},kt.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},kt.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},kt.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Cs(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},kt.prototype.writeFloatLE=function(e,t,r){return jB(this,e,t,!0,r)},kt.prototype.writeFloatBE=function(e,t,r){return jB(this,e,t,!1,r)},kt.prototype.writeDoubleLE=function(e,t,r){return DB(this,e,t,!0,r)},kt.prototype.writeDoubleBE=function(e,t,r){return DB(this,e,t,!1,r)},kt.prototype.copy=function(e,t,r,n){if(!kt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},kt.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!kt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var i=e.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(e=i)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var s=kt.isBuffer(e)?e:kt.from(e,n),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this},oW=/[^+/0-9A-Za-z-_]/g,sW=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),gu.Buffer,gu.INSPECT_MAX_BYTES,gu.kMaxLength,Jg={},Yg=gu,Dl=Yg.Buffer,Dl.from&&Dl.alloc&&Dl.allocUnsafe&&Dl.allocUnsafeSlow?Jg=Yg:(MB(Yg,Jg),Jg.Buffer=Kd),Kd.prototype=Object.create(Dl.prototype),MB(Dl,Kd),Kd.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Dl(e,t,r)},Kd.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Dl(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Kd.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Dl(e)},Kd.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Yg.SlowBuffer(e)},zB=Jg,LS={},FS=zB.Buffer,$R=FS.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},LS.StringDecoder=Kg,Kg.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Kg.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},Kg.prototype.text=function(e,t){var r=function(i,o,s){var a=o.length-1;if(a<s)return 0;var l=Xx(o[a]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--a<s||l===-2?0:(l=Xx(o[a]))>=0?(l>0&&(i.lastNeed=l-2),l):--a<s||l===-2?0:(l=Xx(o[a]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},Kg.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Vp={},xR=!1,gv={},AR=!1,Af={},OR=!1,Oc=tpe(),Oc.Buffer,Oc.INSPECT_MAX_BYTES,Oc.kMaxLength,vv={},PR=!1,n_={},RR=!1,i_={},NR=!1,o_={},IR=!1,s_={},CR=!1,a_={},kR=!1,l_={},jR=!1,u_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,c_={},DR=!1,aW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,f_={},MR=!1,d_={},LR=!1,h_={},FR=!1,p_={},BR=!1,m_={},UR=!1,lW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,g_={},zR=!1,v_={},qR=!1,y_={},VR=!1}});function cW(){return HR||(HR=!0,rs=rs=nW(),rs.Stream=rs,rs.Readable=rs,rs.Writable=rW(),rs.Duplex=Gm(),rs.Transform=iW(),rs.PassThrough=spe(),rs.finished=s2(),rs.pipeline=ape()),rs}var rs,HR,lpe=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-C4rKjYLo.js"(){Ce(),uW(),rs={},HR=!1}}),l0={};Ku(l0,{Agent:()=>pW,ClientRequest:()=>mW,IncomingMessage:()=>gW,METHODS:()=>vW,STATUS_CODES:()=>yW,default:()=>Eu,get:()=>wW,globalAgent:()=>bW,request:()=>_W});function fW(){if(WR)return js;WR=!0,js.fetch=n(Of.fetch)&&n(Of.ReadableStream),js.writableStream=n(Of.WritableStream),js.abortController=n(Of.AbortController);var e;function t(){if(e!==void 0)return e;if(Of.XMLHttpRequest){e=new Of.XMLHttpRequest;try{e.open("GET",Of.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}js.arraybuffer=js.fetch||r("arraybuffer"),js.msstream=!js.fetch&&r("ms-stream"),js.mozchunkedarraybuffer=!js.fetch&&r("moz-chunked-arraybuffer"),js.overrideMimeType=js.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,js}function dW(){if(GR)return yv;GR=!0;var e=Oc.Buffer,t=On,r=fW(),n=ep(),i=cW(),o=yv.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=yv.IncomingMessage=function(a,l,u,f){var c=this||wv;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let h=function(){m.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),h()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var p=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(p).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var m=l.body.getReader();h()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var g=a.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(h){var E=h.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||wv,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||wv,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var p=e.alloc(c.length),m=0;m<c.length;m++)p[m]=c.charCodeAt(m)&255;l.push(p)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var g=new wv.MSStreamReader;g.onprogress=function(){g.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(g.result.slice(l._pos)))),l._pos=g.result.byteLength)},g.onload=function(){a(!0),l.push(null)},g.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},yv}function upe(){if(KR)return w_;KR=!0;var e=Oc.Buffer,t=On,r=fW(),n=ep(),i=dW(),o=cW(),s=i.IncomingMessage,a=i.readyStates;function l(p,m){return r.fetch&&m?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&p?"arraybuffer":"text"}var u=w_=function(p){var m=this||Ji;o.Writable.call(m),m._opts=p,m._body=[],m._headers={},p.auth&&m.setHeader("Authorization","Basic "+e.from(p.auth).toString("base64")),Object.keys(p.headers).forEach(function(v){m.setHeader(v,p.headers[v])});var g,_=!0;if(p.mode==="disable-fetch"||"requestTimeout"in p&&!r.abortController)_=!1,g=!0;else if(p.mode==="prefer-streaming")g=!1;else if(p.mode==="allow-wrong-content-type")g=!r.overrideMimeType;else if(!p.mode||p.mode==="default"||p.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,_),m._fetchTimer=null,m._socketTimeout=null,m._socketTimer=null,m.on("finish",function(){m._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(p,m){var g=this||Ji,_=p.toLowerCase();c.indexOf(_)===-1&&(g._headers[_]={name:p,value:m})},u.prototype.getHeader=function(p){var m=(this||Ji)._headers[p.toLowerCase()];return m?m.value:null},u.prototype.removeHeader=function(p){var m=this||Ji;delete m._headers[p.toLowerCase()]},u.prototype._onFinish=function(){var p=this||Ji;if(!p._destroyed){var m=p._opts;"timeout"in m&&m.timeout!==0&&p.setTimeout(m.timeout);var g=p._headers,_=null;m.method!=="GET"&&m.method!=="HEAD"&&(_=new Blob(p._body,{type:(g["content-type"]||{}).value||""}));var v=[];if(Object.keys(g).forEach(function(S){var T=g[S].name,x=g[S].value;Array.isArray(x)?x.forEach(function(d){v.push([T,d])}):v.push([T,x])}),p._mode==="fetch"){var h=null;if(r.abortController){var E=new AbortController;h=E.signal,p._fetchAbortController=E,"requestTimeout"in m&&m.requestTimeout!==0&&(p._fetchTimer=Ji.setTimeout(function(){p.emit("requestTimeout"),p._fetchAbortController&&p._fetchAbortController.abort()},m.requestTimeout))}Ji.fetch(p._opts.url,{method:p._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:h}).then(function(S){p._fetchResponse=S,p._resetTimers(!1),p._connect()},function(S){p._resetTimers(!0),p._destroyed||p.emit("error",S)})}else{var y=p._xhr=new Ji.XMLHttpRequest;try{y.open(p._opts.method,p._opts.url,!0)}catch(S){t.nextTick(function(){p.emit("error",S)});return}"responseType"in y&&(y.responseType=p._mode),"withCredentials"in y&&(y.withCredentials=!!m.withCredentials),p._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(y.timeout=m.requestTimeout,y.ontimeout=function(){p.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),p._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:p._onXHRProgress();break}},p._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){p._onXHRProgress()}),y.onerror=function(){p._destroyed||(p._resetTimers(!0),p.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){p.emit("error",S)});return}}}};function f(p){try{var m=p.status;return m!==null&&m!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var p=this||Ji;p._resetTimers(!1),!(!f(p._xhr)||p._destroyed)&&(p._response||p._connect(),p._response._onXHRProgress(p._resetTimers.bind(p)))},u.prototype._connect=function(){var p=this||Ji;p._destroyed||(p._response=new s(p._xhr,p._fetchResponse,p._mode,p._resetTimers.bind(p)),p._response.on("error",function(m){p.emit("error",m)}),p.emit("response",p._response))},u.prototype._write=function(p,m,g){var _=this||Ji;_._body.push(p),g()},u.prototype._resetTimers=function(p){var m=this||Ji;Ji.clearTimeout(m._socketTimer),m._socketTimer=null,p?(Ji.clearTimeout(m._fetchTimer),m._fetchTimer=null):m._socketTimeout&&(m._socketTimer=Ji.setTimeout(function(){m.emit("timeout")},m._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(p){var m=this||Ji;m._destroyed=!0,m._resetTimers(!0),m._response&&(m._response._destroyed=!0),m._xhr?m._xhr.abort():m._fetchAbortController&&m._fetchAbortController.abort(),p&&m.emit("error",p)},u.prototype.end=function(p,m,g){var _=this||Ji;typeof p=="function"&&(g=p,p=void 0),o.Writable.prototype.end.call(_,p,m,g)},u.prototype.setTimeout=function(p,m){var g=this||Ji;m&&g.once("timeout",m),g._socketTimeout=p,g._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return w_}function cpe(){if(JR)return b_;JR=!0,b_=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return b_}function fpe(){return YR||(YR=!0,__={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),__}function dpe(){if(XR)return E_;XR=!0;var e=upe(),t=dW(),r=cpe(),n=fpe(),i=Cn,o=E_;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=hW.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,p=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+p,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var m=new e(s);return a&&m.on("response",a),m},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],E_}function hpe(){if(QR)return S_;QR=!0;var e=_u,t=Cn,r=S_;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,s){return o=i(o),e.request.call(this||ZR,o,s)},r.get=function(o,s){return o=i(o),e.get.call(this||ZR,o,s)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}return S_}var js,WR,Of,yv,GR,wv,w_,KR,Ji,b_,JR,__,YR,E_,XR,hW,_u,S_,QR,ZR,Eu,pW,mW,gW,vW,yW,wW,bW,_W,tT=Vn({"../../node_modules/@jspm/core/nodelibs/browser/https.js"(){Ce(),uW(),lpe(),Q1(),AH(),X1(),s0(),js={},WR=!1,Of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,yv={},GR=!1,wv=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,w_={},KR=!1,Ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,b_={},JR=!1,__={},YR=!1,E_={},XR=!1,hW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,_u=dpe(),_u.Agent,_u.ClientRequest,_u.IncomingMessage,_u.METHODS,_u.STATUS_CODES,_u.get,_u.globalAgent,_u.request,S_={},QR=!1,ZR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Eu=hpe(),pW=Eu.Agent,mW=Eu.ClientRequest,gW=Eu.IncomingMessage,vW=Eu.METHODS,yW=Eu.STATUS_CODES,wW=Eu.get,bW=Eu.globalAgent,_W=Eu.request}}),a2={};Ku(a2,{default:()=>EW});var EW,SW=Vn({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js"(){Ce(),EW={}}}),ppe=Le({"../../node_modules/@thingweb/thing-model/node_modules/json-placeholder-replacer/dist/library.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.JsonPlaceholderReplacer=void 0;var t=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],r=":",n=[],i=class{constructor(o){this.variablesMap=[],this.configuration=this.initializeOptions(o);const s=l=>l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(l=>Object.assign(Object.assign({},l),{escapedBeginning:s(l.begin),escapedEnding:s(l.end)}));const a=this.configuration.delimiterTags.map(l=>`^${l.begin}[^${l.end}]+${l.end}$`).join("|");this.delimiterTagsRegex=new RegExp(a)}addVariableMap(o){return typeof o=="string"?this.variablesMap.push(JSON.parse(o)):this.variablesMap.push(o),this}setVariableMap(...o){return this.variablesMap.length=0,o.forEach(s=>this.addVariableMap(s)),this}replace(o){return this.replaceChildren(o,this.variablesMap)}replaceWith(o,...s){return this.replaceChildren(o,s)}initializeOptions(o){var s;let a=t,l=r,u=n;return o!==void 0&&(o.delimiterTags!==void 0&&o.delimiterTags.length>0&&(a=o.delimiterTags),o.defaultValueSeparator!==void 0&&(l=o.defaultValueSeparator),!((s=o.nullishValues)===null||s===void 0)&&s.length&&(u=o.nullishValues.map(f=>JSON.stringify(f)))),{defaultValueSeparator:l,delimiterTags:a,nullishValues:u}}replaceChildren(o,s){for(const a in o){const l=o[a];typeof l=="object"?o[a]=this.replaceChildren(l,s):l!==void 0&&(o[a]=this.replaceValue(l,s))}return o}replaceValue(o,s){const a=o.toString(),l=!this.delimiterTagsRegex.test(o),u=this.configuration.delimiterTags.reduce((f,c)=>{const p=new RegExp(`(${c.escapedBeginning}[^${c.escapedEnding}]+${c.escapedEnding})`,"g");return f.replace(p,this.replacer(l,s)(c))},a);try{return u===a?o:JSON.parse(u)}catch{return u}}replacer(o,s){return a=>l=>{const{tag:u,defaultValue:f}=this.parseTag(l,a),c=this.checkInEveryMap(u,s);if(c===void 0)return f!==void 0?f:l;if(!o)return c;const p=JSON.parse(c);return typeof p=="object"?JSON.stringify(p):p}}parseTag(o,s){const a=o.substring(s.begin.length,o.length-s.begin.length);let l=a,u;const f=a.indexOf(this.configuration.defaultValueSeparator);return f>0&&(l=a.substring(0,f),u=a.substring(f+this.configuration.defaultValueSeparator.length)),{tag:l,defaultValue:u}}checkInEveryMap(o,s){const{nullishValues:a}=this.configuration;let l;return s.forEach(u=>{let f=this.navigateThroughMap(u,o);f!==void 0&&a.includes(f)&&(f=void 0),l=f||l}),l}navigateThroughMap(o,s){if(o===void 0)return;const a=o[s];if(a!==void 0)return JSON.stringify(a);const l=s.split("."),u=l[0];return l.shift(),this.navigateThroughMap(o[u],l.join("."))}};e.JsonPlaceholderReplacer=i}}),mpe=Le({"../../node_modules/wot-thing-model-types/schema/tm-json-schema-validation.json"(e,t){t.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}}}),gpe=Le({"../../node_modules/@thingweb/thing-model/dist/src/tm-helpers.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(S,T,x,d){d===void 0&&(d=x);var $=Object.getOwnPropertyDescriptor(T,x);(!$||("get"in $?!T.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return T[x]}}),Object.defineProperty(S,d,$)}:function(S,T,x,d){d===void 0&&(d=x),S[d]=T[x]}),r=e&&e.__setModuleDefault||(Object.create?function(S,T){Object.defineProperty(S,"default",{enumerable:!0,value:T})}:function(S,T){S.default=T}),n=e&&e.__importStar||function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var x in S)x!=="default"&&Object.prototype.hasOwnProperty.call(S,x)&&t(T,S,x);return r(T,S),T},i=e&&e.__awaiter||function(S,T,x,d){function $(O){return O instanceof x?O:new x(function(P){P(O)})}return new(x||(x=Promise))(function(O,P){function k(ie){try{K(d.next(ie))}catch(W){P(W)}}function B(ie){try{K(d.throw(ie))}catch(W){P(W)}}function K(ie){ie.done?O(ie.value):$(ie.value).then(k,B)}K((d=d.apply(S,T||[])).next())})},o=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThingModelHelpers=void 0;var s=o(I9()),a=o(Vde()),l=n((n2(),pn(Z1))),u=n((tT(),pn(l0))),f=n((SW(),pn(a2))),c=ppe(),p=o(mpe()),m=o(s9()),g="node-wot:td-tools:thing-model-helpers",_=(0,m.default)(`${g}:debug`),v=(0,m.default)(`${g}:error`),h=p.default,E=new s.default({strict:!1});(0,a.default)(E);var y=class Va{constructor(T){this.deps=[],this.resolver=void 0,T&&(this.resolver=T)}static isThingModel(T){if(T==null||typeof T!="object"||Array.isArray(T))return!1;const x=T;if(Array.isArray(x["@type"])){if(x["@type"].filter($=>$==="tm:ThingModel").length>0)return!0}else if(x["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef(x)).length>0||"links"in x&&Array.isArray(x.links)&&x.links.find($=>$.rel==="tm:extends")!=null||x.properties!==void 0&&this.isThingModel(x.properties)||x.actions!==void 0&&this.isThingModel(x.actions)||x.events!==void 0&&this.isThingModel(x.events))}static getModelVersion(T){var x;return typeof(T==null?void 0:T.version)=="object"&&typeof((x=T==null?void 0:T.version)===null||x===void 0?void 0:x.model)=="string"?T.version.model:void 0}static validateThingModel(T){var x;const d=Va.tsSchemaValidator(T);let $;return d||($=(x=Va.tsSchemaValidator.errors)===null||x===void 0?void 0:x.map(O=>O.message).join(`
`)),{valid:d,errors:$}}getPartialTDs(T,x){return i(this,void 0,void 0,function*(){return(yield this._getPartialTDs(T,x)).map(O=>{const P=O;return P["@type"]instanceof Array?P["@type"]=P["@type"].map(k=>k==="tm:ThingModel"?"Thing":k):P["@type"]="Thing",P})})}fetchModel(T){return i(this,void 0,void 0,function*(){this.addDependency(T);let x;if(this.resolver?x=yield this.resolver.fetch(T):x=yield this.localFetch(T),!Va.isThingModel(x))throw new Error(`Data at ${T} is not a Thing Model`);return x})}localFetch(T){switch(T.split("://")[0]){case"file":{const d=T.split("://")[1];return new Promise(($,O)=>{f.readFile(d,{encoding:"utf-8"},function(P,k){P?O(P):$(JSON.parse(k))})})}case"http":return new Promise((d,$)=>{l.get(T,O=>{(O.statusCode==null||O.statusCode!==200)&&$(new Error(`http status code not 200 but ${O.statusCode} for ${T}`)),O.setEncoding("utf8");let P="";O.on("data",k=>{P+=k}),O.on("end",()=>{try{const k=JSON.parse(P);_(`https fetched: ${k}`),d(k)}catch(k){v(k)}})}).on("error",O=>{$(O)})});case"https":return new Promise((d,$)=>{u.get(T,O=>{(O.statusCode==null||O.statusCode!==200)&&$(new Error(`https status code not 200 but ${O.statusCode} for ${T}`)),O.setEncoding("utf8");let P="";O.on("data",k=>{P+=k}),O.on("end",()=>{try{const k=JSON.parse(P);_(`https fetched: ${k}`),d(k)}catch(k){v(k)}})}).on("error",O=>{$(O)})})}return null}_getPartialTDs(T,x){return i(this,void 0,void 0,function*(){if(!Va.isThingModel(T))throw new Error(`${T} is not a Thing Model`);let d=Va.validateThingModel(T);if(d.valid===!1||d.errors!==void 0)throw new Error(d.errors);if(d=this.checkPlaceholderMap(T,x==null?void 0:x.map),d.valid===!1||d.errors!==void 0)throw new Error(d.errors);const $=yield this.fetchAffordances(T);return yield this.composeModel(T,$,x)})}fetchAffordances(T){var x;return i(this,void 0,void 0,function*(){const d={},$=Va.getThingModelLinks(T,"tm:extends");if($.length>0){d.extends=[];for(const k of $){let B=yield this.fetchModel(k.href);[B]=yield this._getPartialTDs(B),d.extends.push(B)}}const O=["properties","actions","events"];d.imports=[];for(const k of O){const B=Va.getThingModelRef(T[k]);if(Object.keys(B).length>0)for(const K in B){const ie=B[K],W=this.parseTmRef(ie);if(W.uri==null)throw new Error(`Missing remote path in ${ie}`);let ne=yield this.fetchModel(W.uri);[ne]=yield this._getPartialTDs(ne),delete T[k][K]["tm:ref"];const fe=(x=this.getRefAffordance(W,ne))!==null&&x!==void 0?x:{};W.name=K,d.imports.push(Object.assign({affordance:fe},W))}}const P=Va.getThingModelLinks(T,"tm:submodel");if(P.length>0){d.submodel={};for(const k of P){const B=yield this.fetchModel(k.href);d.submodel[k.href]=B}}return d})}composeModel(T,x,d){var $,O,P,k,B;return i(this,void 0,void 0,function*(){let K=[];const ie=(($=T.title)!==null&&$!==void 0?$:"").replace(/ /g,"");d||(d={}),d.baseUrl==null&&(d.baseUrl=".");const W=this.returnNewTMHref(d.baseUrl,ie),ne=this.returnNewTDHref(d.baseUrl,ie);if("extends"in x){const fe=(O=x.extends)!==null&&O!==void 0?O:[];for(const re of fe)T=Va.extendThingModel(re,T);T.links=(P=T.links)===null||P===void 0?void 0:P.filter(re=>re.rel!=="tm:extends")}if("imports"in x){const fe=(k=x.imports)!==null&&k!==void 0?k:[];for(const re of fe)T=Va.importAffordance(re.type,re.name,re.affordance,T)}if("submodel"in x){const fe=x.submodel;for(const re in fe){const le=fe[re];if(d.selfComposition===!0){if(!T.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const F=T.links.findIndex(q=>q.href===re),J=T.links[F].instanceName;if(J==null)throw new Error("Self composition is not possible without instance names");const[R]=yield this._getPartialTDs(le,d),C=["properties","actions","events"];for(const q of C)for(const oe in R[q]){const X=`${J}_${oe}`;q in T||(T[q]={}),T[q][X]=R[q][oe]}}else{const F=((B=le.title)!==null&&B!==void 0?B:"").replace(/ /g,""),z=this.returnNewTDHref(d.baseUrl,F);le.links||(le.links=[]),le.links.push({rel:"collection",href:ne,type:"application/td+json"});const J=yield this._getPartialTDs(le,d);K.push(...J),T=Va.formatSubmodelLink(T,re,z)}}}return(!T.links||d.selfComposition===!0)&&(T.links=[]),T.links.push({rel:"type",href:W,type:"application/tm+json"}),"version"in T&&delete T.version,d.map&&(T=this.fillPlaceholder(T,d.map)),K.unshift(T),K=K.map(fe=>this.fillPlaceholder(fe,d==null?void 0:d.map)),this.deps.length>0&&this.removeDependency(),K})}static getThingModelRef(T){const x={};if(T==null)return x;for(const d in T)for(const $ in T[d])$==="tm:ref"&&(x[d]=T[d]["tm:ref"]);return x}static getThingModelLinks(T,x){let d=[];return"links"in T&&Array.isArray(T.links)&&(d=T.links),d.filter($=>$.rel===x)}static extendThingModel(T,x){let d={};const $=T.properties,O=T.actions,P=T.events;if(d=Object.assign(Object.assign({},T),x),$){d.properties||(d.properties={});for(const k in $)x.properties&&x.properties[k]!=null?d.properties[k]=Object.assign(Object.assign({},$[k]),x.properties[k]):d.properties[k]=$[k]}if(O){d.actions||(d.actions={});for(const k in O)x.actions&&k in x.actions?d.actions[k]=Object.assign(Object.assign({},O[k]),x.actions[k]):d.actions[k]=O[k]}if(P){d.events||(d.events={});for(const k in P)x.events&&k in x.events?d.events[k]=Object.assign(Object.assign({},P[k]),x.events[k]):d.events[k]=P[k]}return d}static importAffordance(T,x,d,$){$[T]||($[T]={});const O=$[T][x];$[T][x]=Object.assign(Object.assign({},d),O);for(const P in $[T][x])$[T][x][P]===void 0&&delete $[T][x][P];return $}static formatSubmodelLink(T,x,d){if(!T.links)throw new Error("Links are missing");const $=T.links.findIndex(P=>P.href===x);if($===-1)throw new Error("Link not found");const O=T.links[$];return"instanceName"in O&&delete O.instanceName,T.links[$]=Object.assign(Object.assign({},O),{href:d,type:"application/td+json",rel:"item"}),T}parseTmRef(T){const x=T.split("#")[0],d=T.split("#")[1],$=d.split("/")[1],O=d.split("/")[2];return{uri:x,type:$,name:O}}getRefAffordance(T,x){const d=T.type,$=T.name;if(!(d in x))return;const O=x[d];if($ in O)return O[$]}fillPlaceholder(T,x={}){const d=new c.JsonPlaceholderReplacer;return d.addVariableMap(x),d.replace(T)}checkPlaceholderMap(T,x={}){var d;const $="{{.*?}}";let P=(d=JSON.stringify(T).match(new RegExp($,"g")))!==null&&d!==void 0?d:[];P=P.map(K=>K.replace("{{","").replace("}}",""));let k=!0,B;return(P==null?void 0:P.length)>0&&x==null?(k=!1,B=`No map provided for model ${T.title}`):P.length>0&&P.every(K=>K in x?!0:(B=`Missing required fields in map for model ${T.title}`,k=!1,!1)),{valid:k,errors:B}}returnNewTMHref(T,x){return`${T}/${x}.tm.jsonld`}returnNewTDHref(T,x){return`${T}/${x}.td.jsonld`}addDependency(T){if(this.deps.indexOf(T)>-1)throw new Error(`Circular dependency found for ${T}`);this.deps.push(T)}removeDependency(T){T!=null?this.deps=this.deps.filter(x=>x!==T):this.deps.pop()}};e.ThingModelHelpers=y,y.tsSchemaValidator=E.compile(h)}}),vpe=Le({"../../node_modules/@thingweb/thing-model/dist/src/resolver-interface.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0})}}),ype=Le({"../../node_modules/@thingweb/thing-model/dist/src/thing-model.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(gpe(),e),r(vpe(),e)}}),TW={};Ku(TW,{EventEmitter:()=>$W,default:()=>Ru,defaultMaxListeners:()=>xW,init:()=>AW,listenerCount:()=>OW,on:()=>PW,once:()=>RW});function wpe(){if(eN)return bv;eN=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(T,x,d){return Function.prototype.apply.call(T,x,d)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:r=function(T){return Object.getOwnPropertyNames(T)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(T){return T!==T};function o(){o.init.call(this)}bv=o,bv.once=h,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");s=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function l(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(T){for(var x=[],d=1;d<arguments.length;d++)x.push(arguments[d]);var $=T==="error",O=this._events;if(O!==void 0)$=$&&O.error===void 0;else if(!$)return!1;if($){var P;if(x.length>0&&(P=x[0]),P instanceof Error)throw P;var k=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw k.context=P,k}var B=O[T];if(B===void 0)return!1;if(typeof B=="function")t(B,this,x);else for(var K=B.length,ie=g(B,K),d=0;d<K;++d)t(ie[d],this,x);return!0};function u(S,T,x,d){var $,O,P;if(a(x),O=S._events,O===void 0?(O=S._events=Object.create(null),S._eventsCount=0):(O.newListener!==void 0&&(S.emit("newListener",T,x.listener?x.listener:x),O=S._events),P=O[T]),P===void 0)P=O[T]=x,++S._eventsCount;else if(typeof P=="function"?P=O[T]=d?[x,P]:[P,x]:d?P.unshift(x):P.push(x),$=l(S),$>0&&P.length>$&&!P.warned){P.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=S,k.type=T,k.count=P.length,n(k)}return S}o.prototype.addListener=function(T,x){return u(this,T,x,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(T,x){return u(this,T,x,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(S,T,x){var d={fired:!1,wrapFn:void 0,target:S,type:T,listener:x},$=f.bind(d);return $.listener=x,d.wrapFn=$,$}o.prototype.once=function(T,x){return a(x),this.on(T,c(this,T,x)),this},o.prototype.prependOnceListener=function(T,x){return a(x),this.prependListener(T,c(this,T,x)),this},o.prototype.removeListener=function(T,x){var d,$,O,P,k;if(a(x),$=this._events,$===void 0)return this;if(d=$[T],d===void 0)return this;if(d===x||d.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete $[T],$.removeListener&&this.emit("removeListener",T,d.listener||x));else if(typeof d!="function"){for(O=-1,P=d.length-1;P>=0;P--)if(d[P]===x||d[P].listener===x){k=d[P].listener,O=P;break}if(O<0)return this;O===0?d.shift():_(d,O),d.length===1&&($[T]=d[0]),$.removeListener!==void 0&&this.emit("removeListener",T,k||x)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(T){var x,d,$;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[T]),this;if(arguments.length===0){var O=Object.keys(d),P;for($=0;$<O.length;++$)P=O[$],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=d[T],typeof x=="function")this.removeListener(T,x);else if(x!==void 0)for($=x.length-1;$>=0;$--)this.removeListener(T,x[$]);return this};function p(S,T,x){var d=S._events;if(d===void 0)return[];var $=d[T];return $===void 0?[]:typeof $=="function"?x?[$.listener||$]:[$]:x?v($):g($,$.length)}o.prototype.listeners=function(T){return p(this,T,!0)},o.prototype.rawListeners=function(T){return p(this,T,!1)},o.listenerCount=function(S,T){return typeof S.listenerCount=="function"?S.listenerCount(T):m.call(S,T)},o.prototype.listenerCount=m;function m(S){var T=this._events;if(T!==void 0){var x=T[S];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(S,T){for(var x=new Array(T),d=0;d<T;++d)x[d]=S[d];return x}function _(S,T){for(;T+1<S.length;T++)S[T]=S[T+1];S.pop()}function v(S){for(var T=new Array(S.length),x=0;x<T.length;++x)T[x]=S[x].listener||S[x];return T}function h(S,T){return new Promise(function(x,d){function $(P){S.removeListener(T,O),d(P)}function O(){typeof S.removeListener=="function"&&S.removeListener("error",$),x([].slice.call(arguments))}y(S,T,O,{once:!0}),T!=="error"&&E(S,$,{once:!0})})}function E(S,T,x){typeof S.on=="function"&&y(S,"error",T,x)}function y(S,T,x,d){if(typeof S.on=="function")d.once?S.once(T,x):S.on(T,x);else if(typeof S.addEventListener=="function")S.addEventListener(T,function $(O){d.once&&S.removeEventListener(T,$),x(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return bv}var bv,eN,Ru,$W,xW,AW,OW,PW,RW,NW=Vn({"../../node_modules/@jspm/core/nodelibs/browser/events.js"(){Ce(),bv={},eN=!1,Ru=wpe(),Ru.once,Ru.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},Ru.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}},{EventEmitter:$W,defaultMaxListeners:xW,init:AW,listenerCount:OW,on:PW,once:RW}=Ru}});function IW(){return tN||(tN=!0,T_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),T_}function bpe(){return rN||(rN=!0,$_=Error),$_}function _pe(){return nN||(nN=!0,x_=EvalError),x_}function Epe(){return iN||(iN=!0,A_=RangeError),A_}function Spe(){return oN||(oN=!0,O_=ReferenceError),O_}function CW(){return sN||(sN=!0,P_=SyntaxError),P_}function u0(){return aN||(aN=!0,R_=TypeError),R_}function Tpe(){return lN||(lN=!0,N_=URIError),N_}function $pe(){if(uN)return I_;uN=!0;var e=typeof Symbol<"u"&&Symbol,t=IW();return I_=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},I_}function xpe(){if(cN)return C_;cN=!0;var e={__proto__:null,foo:{}},t=Object;return C_=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},C_}function Ape(){if(fN)return k_;fN=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],c=0;c<l.length;c+=1)f[c]=l[c];for(var p=0;p<u.length;p+=1)f[p+l.length]=u[p];return f},o=function(l,u){for(var f=[],c=u,p=0;c<l.length;c+=1,p+=1)f[p]=l[c];return f},s=function(a,l){for(var u="",f=0;f<a.length;f+=1)u+=a[f],f+1<a.length&&(u+=l);return u};return k_=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=o(arguments,1),c,p=function(){if(this instanceof c){var h=u.apply(this,i(f,arguments));return Object(h)===h?h:this}return u.apply(l,i(f,arguments))},m=r(0,u.length-f.length),g=[],_=0;_<m;_++)g[_]="$"+_;if(c=Function("binder","return function ("+s(g,",")+"){ return binder.apply(this,arguments); }")(p),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},k_}function l2(){if(dN)return j_;dN=!0;var e=Ape();return j_=Function.prototype.bind||e,j_}function Ope(){if(hN)return D_;hN=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=l2();return D_=r.call(e,t),D_}function lg(){if(pN)return M_;pN=!0;var e,t=bpe(),r=_pe(),n=Epe(),i=Spe(),o=CW(),s=u0(),a=Tpe(),l=Function,u=function(fe){try{return l('"use strict"; return ('+fe+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new s},p=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,m=$pe()(),g=xpe()(),_=Object.getPrototypeOf||(g?function(fe){return fe.__proto__}:null),v={},h=typeof Uint8Array>"u"||!_?e:_(Uint8Array),E={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":m&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&_?_(_([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!_?e:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!_?e:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&_?_(""[Symbol.iterator]()):e,"%Symbol%":m?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":p,"%TypedArray%":h,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(_)try{null.error}catch(fe){var y=_(_(fe));E["%Error.prototype%"]=y}var S=function fe(re){var le;if(re==="%AsyncFunction%")le=u("async function () {}");else if(re==="%GeneratorFunction%")le=u("function* () {}");else if(re==="%AsyncGeneratorFunction%")le=u("async function* () {}");else if(re==="%AsyncGenerator%"){var F=fe("%AsyncGeneratorFunction%");F&&(le=F.prototype)}else if(re==="%AsyncIteratorPrototype%"){var z=fe("%AsyncGenerator%");z&&_&&(le=_(z.prototype))}return E[re]=le,le},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=l2(),d=Ope(),$=x.call(Function.call,Array.prototype.concat),O=x.call(Function.apply,Array.prototype.splice),P=x.call(Function.call,String.prototype.replace),k=x.call(Function.call,String.prototype.slice),B=x.call(Function.call,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,W=function(re){var le=k(re,0,1),F=k(re,-1);if(le==="%"&&F!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&le!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var z=[];return P(re,K,function(J,R,C,q){z[z.length]=C?P(q,ie,"$1"):R||J}),z},ne=function(re,le){var F=re,z;if(d(T,F)&&(z=T[F],F="%"+z[0]+"%"),d(E,F)){var J=E[F];if(J===v&&(J=S(F)),typeof J>"u"&&!le)throw new s("intrinsic "+re+" exists, but is not available. Please file an issue!");return{alias:z,name:F,value:J}}throw new o("intrinsic "+re+" does not exist!")};return M_=function(re,le){if(typeof re!="string"||re.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof le!="boolean")throw new s('"allowMissing" argument must be a boolean');if(B(/^%?[^%]*%?$/,re)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var F=W(re),z=F.length>0?F[0]:"",J=ne("%"+z+"%",le),R=J.name,C=J.value,q=!1,oe=J.alias;oe&&(z=oe[0],O(F,$([0,1],oe)));for(var X=1,ee=!0;X<F.length;X+=1){var se=F[X],we=k(se,0,1),Oe=k(se,-1);if((we==='"'||we==="'"||we==="`"||Oe==='"'||Oe==="'"||Oe==="`")&&we!==Oe)throw new o("property names with quotes must have matching quotes");if((se==="constructor"||!ee)&&(q=!0),z+="."+se,R="%"+z+"%",d(E,R))C=E[R];else if(C!=null){if(!(se in C)){if(!le)throw new s("base intrinsic for "+re+" exists, but the property is not available.");return}if(f&&X+1>=F.length){var I=f(C,se);ee=!!I,ee&&"get"in I&&!("originalValue"in I.get)?C=I.get:C=C[se]}else ee=d(C,se),C=C[se];ee&&!q&&(E[R]=C)}}return C},M_}function u2(){if(mN)return L_;mN=!0;var e=lg(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return L_=t,L_}function c2(){if(gN)return F_;gN=!0;var e=lg(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return F_=t,F_}function Ppe(){if(vN)return B_;vN=!0;var e=u2(),t=CW(),r=u0(),n=c2();return B_=function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,p=!!n&&n(o,s);if(e)e(o,s,{configurable:f===null&&p?p.configurable:!f,enumerable:l===null&&p?p.enumerable:!l,value:a,writable:u===null&&p?p.writable:!u});else if(c||!l&&!u&&!f)o[s]=a;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},B_}function Rpe(){if(yN)return U_;yN=!0;var e=u2(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},U_=t,U_}function Npe(){if(wN)return z_;wN=!0;var e=lg(),t=Ppe(),r=Rpe()(),n=c2(),i=u0(),o=e("%Math.floor%");return z_=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in a&&n){var p=n(a,"length");p&&!p.configurable&&(f=!1),p&&!p.writable&&(c=!1)}return(f||c||!u)&&(r?t(a,"length",l,!0,!0):t(a,"length",l)),a},z_}function kW(){if(bN)return Hp;bN=!0;var e=l2(),t=lg(),r=Npe(),n=u0(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(o,i),a=u2(),l=t("%Math.max%");Hp=function(c){if(typeof c!="function")throw new n("a function is required");var p=s(e,o,arguments);return r(p,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return s(e,i,arguments)};return a?a(Hp,"apply",{value:u}):Hp.apply=u,Hp}function f2(){if(_N)return q_;_N=!0;var e=lg(),t=kW(),r=t(e("String.prototype.indexOf"));return q_=function(i,o){var s=e(i,!!o);return typeof s=="function"&&r(i,".prototype.")>-1?t(s):s},q_}var T_,tN,$_,rN,x_,nN,A_,iN,O_,oN,P_,sN,R_,aN,N_,lN,I_,uN,C_,cN,k_,fN,j_,dN,D_,hN,M_,pN,L_,mN,F_,gN,B_,vN,U_,yN,z_,wN,Hp,bN,q_,_N,d2=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtcTpLWz.js"(){Ce(),T_={},tN=!1,$_={},rN=!1,x_={},nN=!1,A_={},iN=!1,O_={},oN=!1,P_={},sN=!1,R_={},aN=!1,N_={},lN=!1,I_={},uN=!1,C_={},cN=!1,k_={},fN=!1,j_={},dN=!1,D_={},hN=!1,M_={},pN=!1,L_={},mN=!1,F_={},gN=!1,B_={},vN=!1,U_={},yN=!1,z_={},wN=!1,Hp={},bN=!1,q_={},_N=!1}}),rT={};Ku(rT,{TextDecoder:()=>uG,TextEncoder:()=>lG,_extend:()=>LW,callbackify:()=>FW,debuglog:()=>BW,default:()=>fr,deprecate:()=>UW,format:()=>zW,inherits:()=>qW,inspect:()=>VW,isArray:()=>HW,isBoolean:()=>WW,isBuffer:()=>GW,isDate:()=>KW,isError:()=>JW,isFunction:()=>YW,isNull:()=>XW,isNullOrUndefined:()=>QW,isNumber:()=>ZW,isObject:()=>eG,isPrimitive:()=>tG,isRegExp:()=>rG,isString:()=>nG,isSymbol:()=>iG,isUndefined:()=>oG,log:()=>sG,promisify:()=>BS,types:()=>aG});function h2(){if(EN)return V_;EN=!0;var e=IW();return V_=function(){return e()&&!!Symbol.toStringTag},V_}function Ipe(){if(SN)return H_;SN=!0;var e=h2()(),t=f2(),r=t("Object.prototype.toString"),n=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,H_=o?n:i,H_}function Cpe(){if(TN)return W_;TN=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=h2()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return W_=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var f=o();s=f?i(f):!1}return i(l)===s},W_}function kpe(){if($N)return G_;$N=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(E){E!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(y){try{var S=e.call(y);return i.test(S)}catch{return!1}},s=function(y){try{return o(y)?!1:(e.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",c="[object HTMLAllCollection]",p="[object HTML document.all class]",m="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var h=document.all;a.call(h)===a.call(document.all)&&(v=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var S=a.call(y);return(S===c||S===p||S===m||S===l)&&y("")==null}catch{}return!1})}return G_=t?function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(S){if(S!==n)return!1}return!o(y)&&s(y)}:function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(g)return s(y);if(o(y))return!1;var S=a.call(y);return S!==u&&S!==f&&!/^\[object HTML/.test(S)?!1:s(y)},G_}function jpe(){if(xN)return K_;xN=!0;var e=kpe(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var c=0,p=l.length;c<p;c++)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},i=function(l,u,f){for(var c=0,p=l.length;c<p;c++)f==null?u(l.charAt(c),c,l):u.call(f,l.charAt(c),c,l)},o=function(l,u,f){for(var c in l)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},s=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=f),t.call(l)==="[object Array]"?n(l,u,c):typeof l=="string"?i(l,u,c):o(l,u,c)};return K_=s,K_}function Dpe(){return AN||(AN=!0,J_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),J_}function Mpe(){if(ON)return Y_;ON=!0;var e=Dpe(),t=typeof globalThis>"u"?DW:globalThis;return Y_=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},Y_}function jW(){if(PN)return X_;PN=!0;var e=jpe(),t=Mpe(),r=kW(),n=f2(),i=c2(),o=n("Object.prototype.toString"),s=h2()(),a=typeof globalThis>"u"?MW:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,h){for(var E=0;E<v.length;E+=1)if(v[E]===h)return E;return-1},p={__proto__:null};s&&i&&f?e(l,function(_){var v=new a[_];if(Symbol.toStringTag in v){var h=f(v),E=i(h,Symbol.toStringTag);if(!E){var y=f(h);E=i(y,Symbol.toStringTag)}p["$"+_]=r(E.get)}}):e(l,function(_){var v=new a[_],h=v.slice||v.set;h&&(p["$"+_]=r(h))});var m=function(v){var h=!1;return e(p,function(E,y){if(!h)try{"$"+E(v)===y&&(h=u(y,1))}catch{}}),h},g=function(v){var h=!1;return e(p,function(E,y){if(!h)try{E(v),h=u(y,1)}catch{}}),h};return X_=function(v){if(!v||typeof v!="object")return!1;if(!s){var h=u(o(v),8,-1);return c(l,h)>-1?h:h!=="Object"?!1:g(v)}return i?m(v):null},X_}function Lpe(){if(RN)return Q_;RN=!0;var e=jW();return Q_=function(r){return!!e(r)},Q_}function Fpe(){if(NN)return qr;NN=!0;var e=Ipe(),t=Cpe(),r=jW(),n=Lpe();function i(ve){return ve.call.bind(ve)}var o=typeof BigInt<"u",s=typeof Symbol<"u",a=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(s)var p=i(Symbol.prototype.valueOf);function m(ve,Se){if(typeof ve!="object")return!1;try{return Se(ve),!0}catch{return!1}}qr.isArgumentsObject=e,qr.isGeneratorFunction=t,qr.isTypedArray=n;function g(ve){return typeof Promise<"u"&&ve instanceof Promise||ve!==null&&typeof ve=="object"&&typeof ve.then=="function"&&typeof ve.catch=="function"}qr.isPromise=g;function _(ve){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ve):n(ve)||J(ve)}qr.isArrayBufferView=_;function v(ve){return r(ve)==="Uint8Array"}qr.isUint8Array=v;function h(ve){return r(ve)==="Uint8ClampedArray"}qr.isUint8ClampedArray=h;function E(ve){return r(ve)==="Uint16Array"}qr.isUint16Array=E;function y(ve){return r(ve)==="Uint32Array"}qr.isUint32Array=y;function S(ve){return r(ve)==="Int8Array"}qr.isInt8Array=S;function T(ve){return r(ve)==="Int16Array"}qr.isInt16Array=T;function x(ve){return r(ve)==="Int32Array"}qr.isInt32Array=x;function d(ve){return r(ve)==="Float32Array"}qr.isFloat32Array=d;function $(ve){return r(ve)==="Float64Array"}qr.isFloat64Array=$;function O(ve){return r(ve)==="BigInt64Array"}qr.isBigInt64Array=O;function P(ve){return r(ve)==="BigUint64Array"}qr.isBigUint64Array=P;function k(ve){return a(ve)==="[object Map]"}k.working=typeof Map<"u"&&k(new Map);function B(ve){return typeof Map>"u"?!1:k.working?k(ve):ve instanceof Map}qr.isMap=B;function K(ve){return a(ve)==="[object Set]"}K.working=typeof Set<"u"&&K(new Set);function ie(ve){return typeof Set>"u"?!1:K.working?K(ve):ve instanceof Set}qr.isSet=ie;function W(ve){return a(ve)==="[object WeakMap]"}W.working=typeof WeakMap<"u"&&W(new WeakMap);function ne(ve){return typeof WeakMap>"u"?!1:W.working?W(ve):ve instanceof WeakMap}qr.isWeakMap=ne;function fe(ve){return a(ve)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function re(ve){return fe(ve)}qr.isWeakSet=re;function le(ve){return a(ve)==="[object ArrayBuffer]"}le.working=typeof ArrayBuffer<"u"&&le(new ArrayBuffer);function F(ve){return typeof ArrayBuffer>"u"?!1:le.working?le(ve):ve instanceof ArrayBuffer}qr.isArrayBuffer=F;function z(ve){return a(ve)==="[object DataView]"}z.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&z(new DataView(new ArrayBuffer(1),0,1));function J(ve){return typeof DataView>"u"?!1:z.working?z(ve):ve instanceof DataView}qr.isDataView=J;var R=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function C(ve){return a(ve)==="[object SharedArrayBuffer]"}function q(ve){return typeof R>"u"?!1:(typeof C.working>"u"&&(C.working=C(new R)),C.working?C(ve):ve instanceof R)}qr.isSharedArrayBuffer=q;function oe(ve){return a(ve)==="[object AsyncFunction]"}qr.isAsyncFunction=oe;function X(ve){return a(ve)==="[object Map Iterator]"}qr.isMapIterator=X;function ee(ve){return a(ve)==="[object Set Iterator]"}qr.isSetIterator=ee;function se(ve){return a(ve)==="[object Generator]"}qr.isGeneratorObject=se;function we(ve){return a(ve)==="[object WebAssembly.Module]"}qr.isWebAssemblyCompiledModule=we;function Oe(ve){return m(ve,l)}qr.isNumberObject=Oe;function I(ve){return m(ve,u)}qr.isStringObject=I;function L(ve){return m(ve,f)}qr.isBooleanObject=L;function M(ve){return o&&m(ve,c)}qr.isBigIntObject=M;function Z(ve){return s&&m(ve,p)}qr.isSymbolObject=Z;function ue(ve){return Oe(ve)||I(ve)||L(ve)||M(ve)||Z(ve)}qr.isBoxedPrimitive=ue;function de(ve){return typeof Uint8Array<"u"&&(F(ve)||q(ve))}return qr.isAnyArrayBuffer=de,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ve){Object.defineProperty(qr,ve,{enumerable:!1,value:function(){throw new Error(ve+" is not supported in userland")}})}),qr}function Bpe(){return IN||(IN=!0,Z_=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Z_}function Upe(){if(CN)return Vr;CN=!0;var e=fo,t=Object.getOwnPropertyDescriptors||function(R){for(var C=Object.keys(R),q={},oe=0;oe<C.length;oe++)q[C[oe]]=Object.getOwnPropertyDescriptor(R,C[oe]);return q},r=/%[sdj%]/g;Vr.format=function(J){if(!T(J)){for(var R=[],C=0;C<arguments.length;C++)R.push(s(arguments[C]));return R.join(" ")}for(var C=1,q=arguments,oe=q.length,X=String(J).replace(r,function(se){if(se==="%%")return"%";if(C>=oe)return se;switch(se){case"%s":return String(q[C++]);case"%d":return Number(q[C++]);case"%j":try{return JSON.stringify(q[C++])}catch{return"[Circular]"}default:return se}}),ee=q[C];C<oe;ee=q[++C])E(ee)||!O(ee)?X+=" "+ee:X+=" "+s(ee);return X},Vr.deprecate=function(J,R){if(typeof e<"u"&&e.noDeprecation===!0)return J;if(typeof e>"u")return function(){return Vr.deprecate(J,R).apply(this||Wp,arguments)};var C=!1;function q(){if(!C){if(e.throwDeprecation)throw new Error(R);e.traceDeprecation?console.trace(R):console.error(R),C=!0}return J.apply(this||Wp,arguments)}return q};var n={},i=/^$/;if(e.env.NODE_DEBUG){var o=e.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}Vr.debuglog=function(J){if(J=J.toUpperCase(),!n[J])if(i.test(J)){var R=e.pid;n[J]=function(){var C=Vr.format.apply(Vr,arguments);console.error("%s %d: %s",J,R,C)}}else n[J]=function(){};return n[J]};function s(J,R){var C={seen:[],stylize:l};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),h(R)?C.showHidden=R:R&&Vr._extend(C,R),d(C.showHidden)&&(C.showHidden=!1),d(C.depth)&&(C.depth=2),d(C.colors)&&(C.colors=!1),d(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=a),f(C,J,C.depth)}Vr.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(J,R){var C=s.styles[R];return C?"\x1B["+s.colors[C][0]+"m"+J+"\x1B["+s.colors[C][1]+"m":J}function l(J,R){return J}function u(J){var R={};return J.forEach(function(C,q){R[C]=!0}),R}function f(J,R,C){if(J.customInspect&&R&&B(R.inspect)&&R.inspect!==Vr.inspect&&!(R.constructor&&R.constructor.prototype===R)){var q=R.inspect(C,J);return T(q)||(q=f(J,q,C)),q}var oe=c(J,R);if(oe)return oe;var X=Object.keys(R),ee=u(X);if(J.showHidden&&(X=Object.getOwnPropertyNames(R)),k(R)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return p(R);if(X.length===0){if(B(R)){var se=R.name?": "+R.name:"";return J.stylize("[Function"+se+"]","special")}if($(R))return J.stylize(RegExp.prototype.toString.call(R),"regexp");if(P(R))return J.stylize(Date.prototype.toString.call(R),"date");if(k(R))return p(R)}var we="",Oe=!1,I=["{","}"];if(v(R)&&(Oe=!0,I=["[","]"]),B(R)){var L=R.name?": "+R.name:"";we=" [Function"+L+"]"}if($(R)&&(we=" "+RegExp.prototype.toString.call(R)),P(R)&&(we=" "+Date.prototype.toUTCString.call(R)),k(R)&&(we=" "+p(R)),X.length===0&&(!Oe||R.length==0))return I[0]+we+I[1];if(C<0)return $(R)?J.stylize(RegExp.prototype.toString.call(R),"regexp"):J.stylize("[Object]","special");J.seen.push(R);var M;return Oe?M=m(J,R,C,ee,X):M=X.map(function(Z){return g(J,R,C,ee,Z,Oe)}),J.seen.pop(),_(M,we,I)}function c(J,R){if(d(R))return J.stylize("undefined","undefined");if(T(R)){var C="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(C,"string")}if(S(R))return J.stylize(""+R,"number");if(h(R))return J.stylize(""+R,"boolean");if(E(R))return J.stylize("null","null")}function p(J){return"["+Error.prototype.toString.call(J)+"]"}function m(J,R,C,q,oe){for(var X=[],ee=0,se=R.length;ee<se;++ee)re(R,String(ee))?X.push(g(J,R,C,q,String(ee),!0)):X.push("");return oe.forEach(function(we){we.match(/^\d+$/)||X.push(g(J,R,C,q,we,!0))}),X}function g(J,R,C,q,oe,X){var ee,se,we;if(we=Object.getOwnPropertyDescriptor(R,oe)||{value:R[oe]},we.get?we.set?se=J.stylize("[Getter/Setter]","special"):se=J.stylize("[Getter]","special"):we.set&&(se=J.stylize("[Setter]","special")),re(q,oe)||(ee="["+oe+"]"),se||(J.seen.indexOf(we.value)<0?(E(C)?se=f(J,we.value,null):se=f(J,we.value,C-1),se.indexOf(`
`)>-1&&(X?se=se.split(`
`).map(function(Oe){return"  "+Oe}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(Oe){return"   "+Oe}).join(`
`))):se=J.stylize("[Circular]","special")),d(ee)){if(X&&oe.match(/^\d+$/))return se;ee=JSON.stringify(""+oe),ee.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ee=ee.slice(1,-1),ee=J.stylize(ee,"name")):(ee=ee.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ee=J.stylize(ee,"string"))}return ee+": "+se}function _(J,R,C){var q=J.reduce(function(oe,X){return X.indexOf(`
`)>=0,oe+X.replace(/\u001b\[\d\d?m/g,"").length+1},0);return q>60?C[0]+(R===""?"":R+`
 `)+" "+J.join(`,
  `)+" "+C[1]:C[0]+R+" "+J.join(", ")+" "+C[1]}Vr.types=Fpe();function v(J){return Array.isArray(J)}Vr.isArray=v;function h(J){return typeof J=="boolean"}Vr.isBoolean=h;function E(J){return J===null}Vr.isNull=E;function y(J){return J==null}Vr.isNullOrUndefined=y;function S(J){return typeof J=="number"}Vr.isNumber=S;function T(J){return typeof J=="string"}Vr.isString=T;function x(J){return typeof J=="symbol"}Vr.isSymbol=x;function d(J){return J===void 0}Vr.isUndefined=d;function $(J){return O(J)&&ie(J)==="[object RegExp]"}Vr.isRegExp=$,Vr.types.isRegExp=$;function O(J){return typeof J=="object"&&J!==null}Vr.isObject=O;function P(J){return O(J)&&ie(J)==="[object Date]"}Vr.isDate=P,Vr.types.isDate=P;function k(J){return O(J)&&(ie(J)==="[object Error]"||J instanceof Error)}Vr.isError=k,Vr.types.isNativeError=k;function B(J){return typeof J=="function"}Vr.isFunction=B;function K(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J>"u"}Vr.isPrimitive=K,Vr.isBuffer=Bpe();function ie(J){return Object.prototype.toString.call(J)}function W(J){return J<10?"0"+J.toString(10):J.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var J=new Date,R=[W(J.getHours()),W(J.getMinutes()),W(J.getSeconds())].join(":");return[J.getDate(),ne[J.getMonth()],R].join(" ")}Vr.log=function(){console.log("%s - %s",fe(),Vr.format.apply(Vr,arguments))},Vr.inherits=vd(),Vr._extend=function(J,R){if(!R||!O(R))return J;for(var C=Object.keys(R),q=C.length;q--;)J[C[q]]=R[C[q]];return J};function re(J,R){return Object.prototype.hasOwnProperty.call(J,R)}var le=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;Vr.promisify=function(R){if(typeof R!="function")throw new TypeError('The "original" argument must be of type Function');if(le&&R[le]){if(C=R[le],typeof C!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(C,le,{value:C,enumerable:!1,writable:!1,configurable:!0}),C}function C(){for(var q,oe,X=new Promise(function(we,Oe){q=we,oe=Oe}),ee=[],se=0;se<arguments.length;se++)ee.push(arguments[se]);ee.push(function(we,Oe){we?oe(we):q(Oe)});try{R.apply(this||Wp,ee)}catch(we){oe(we)}return X}return Object.setPrototypeOf(C,Object.getPrototypeOf(R)),le&&Object.defineProperty(C,le,{value:C,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(C,t(R))},Vr.promisify.custom=le;function F(J,R){if(!J){var C=new Error("Promise was rejected with a falsy value");C.reason=J,J=C}return R(J)}function z(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var C=[],q=0;q<arguments.length;q++)C.push(arguments[q]);var oe=C.pop();if(typeof oe!="function")throw new TypeError("The last argument must be of type Function");var X=this||Wp,ee=function(){return oe.apply(X,arguments)};J.apply(this||Wp,C).then(function(se){e.nextTick(ee.bind(null,null,se))},function(se){e.nextTick(F.bind(null,se,ee))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(J)),Object.defineProperties(R,t(J)),R}return Vr.callbackify=z,Vr}var V_,EN,H_,SN,W_,TN,G_,$N,K_,xN,J_,AN,Y_,ON,DW,X_,PN,MW,Q_,RN,qr,NN,Z_,IN,Vr,CN,Wp,fr,LW,FW,BW,UW,zW,qW,VW,HW,WW,GW,KW,JW,YW,XW,QW,ZW,eG,tG,rG,nG,iG,oG,sG,BS,aG,lG,uG,nT=Vn({"../../node_modules/@jspm/core/nodelibs/browser/util.js"(){Ce(),d2(),Qk(),a0(),V_={},EN=!1,H_={},SN=!1,W_={},TN=!1,G_={},$N=!1,K_={},xN=!1,J_={},AN=!1,Y_={},ON=!1,DW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,X_={},PN=!1,MW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Q_={},RN=!1,qr={},NN=!1,Z_={},IN=!1,Vr={},CN=!1,Wp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,fr=Upe(),fr.format,fr.deprecate,fr.debuglog,fr.inspect,fr.types,fr.isArray,fr.isBoolean,fr.isNull,fr.isNullOrUndefined,fr.isNumber,fr.isString,fr.isSymbol,fr.isUndefined,fr.isRegExp,fr.isObject,fr.isDate,fr.isError,fr.isFunction,fr.isPrimitive,fr.isBuffer,fr.log,fr.inherits,fr._extend,fr.promisify,fr.callbackify,LW=fr._extend,FW=fr.callbackify,BW=fr.debuglog,UW=fr.deprecate,zW=fr.format,qW=fr.inherits,VW=fr.inspect,HW=fr.isArray,WW=fr.isBoolean,GW=fr.isBuffer,KW=fr.isDate,JW=fr.isError,YW=fr.isFunction,XW=fr.isNull,QW=fr.isNullOrUndefined,ZW=fr.isNumber,eG=fr.isObject,tG=fr.isPrimitive,rG=fr.isRegExp,nG=fr.isString,iG=fr.isSymbol,oG=fr.isUndefined,sG=fr.log,BS=fr.promisify,aG=fr.types,lG=fr.TextEncoder=globalThis.TextEncoder,uG=fr.TextDecoder=globalThis.TextDecoder}}),Aa={};Ku(Aa,{Duplex:()=>vG,PassThrough:()=>wG,Readable:()=>wE,Stream:()=>EG,Transform:()=>yG,Writable:()=>gG,default:()=>zn,finished:()=>bG,pipeline:()=>_G,promises:()=>SG});function Ti(){return kN||(kN=!0,eE={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}),eE}function $y(){if(jN)return Gp;jN=!0;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Gp=e,Gp.AbortSignal=t,Gp.default=e,Gp}function ys(){if(DN)return _v;DN=!0;const e=Js(),{kResistStopPropagation:t,SymbolDispose:r}=Ti(),n=globalThis.AbortSignal||$y().AbortSignal,i=globalThis.AbortController||$y().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||e.Blob,a=typeof s<"u"?function(p){return p instanceof s}:function(p){return!1},l=(c,p)=>{if(c!==void 0&&(c===null||typeof c!="object"||!("aborted"in c)))throw new ERR_INVALID_ARG_TYPE(p,"AbortSignal",c)},u=(c,p)=>{if(typeof c!="function")throw new ERR_INVALID_ARG_TYPE(p,"Function",c)};class f extends Error{constructor(p){if(!Array.isArray(p))throw new TypeError(`Expected input to be an Array, got ${typeof p}`);let m="";for(let g=0;g<p.length;g++)m+=`    ${p[g].stack}
`;super(m),this.name="AggregateError",this.errors=p}}return _v={AggregateError:f,kEmptyObject:Object.freeze({}),once(c){let p=!1;return function(...m){p||(p=!0,c.apply(this,m))}},createDeferredPromise:function(){let c,p;return{promise:new Promise((g,_)=>{c=g,p=_}),resolve:c,reject:p}},promisify(c){return new Promise((p,m)=>{c((g,..._)=>g?m(g):p(..._))})},debuglog(){return function(){}},format(c,...p){return c.replace(/%([sdifj])/g,function(...[m,g]){const _=p.shift();return g==="f"?_.toFixed(6):g==="j"?JSON.stringify(_):g==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof o},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:a,deprecate(c,p){return c},addAbortListener:Ru.addAbortListener||function(p,m){if(p===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",p);l(p,"signal"),u(m,"listener");let g;return p.aborted?queueMicrotask(()=>m()):(p.addEventListener("abort",m,{__proto__:null,once:!0,[t]:!0}),g=()=>{p.removeEventListener("abort",m)}),{__proto__:null,[r](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:n.any||function(p){if(p.length===1)return p[0];const m=new i,g=()=>m.abort();return p.forEach(_=>{l(_,"signals"),_.addEventListener("abort",g,{once:!0})}),m.signal.addEventListener("abort",()=>{p.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),m.signal}},_v.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),_v}function Xs(){if(MN)return tE;MN=!0;const{format:e,inspect:t,AggregateError:r}=ys(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",l={};function u(v,h){if(!v)throw new l.ERR_INTERNAL_ASSERTION(h)}function f(v){let h="",E=v.length;const y=v[0]==="-"?1:0;for(;E>=y+4;E-=3)h=`_${v.slice(E-3,E)}${h}`;return`${v.slice(0,E)}${h}`}function c(v,h,E){if(typeof h=="function")return u(h.length<=E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${h.length}).`),h(...E);const y=(h.match(/%[dfijoOs]/g)||[]).length;return u(y===E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${y}).`),E.length===0?h:e(h,...E)}function p(v,h,E){E||(E=Error);class y extends E{constructor(...T){super(c(v,h,T))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[i]=!0,l[v]=y}function m(v){const h=a+v.name;return Object.defineProperty(v,"name",{value:h}),v}function g(v,h){if(v&&h&&v!==h){if(Array.isArray(h.errors))return h.errors.push(v),h;const E=new n([h,v],h.message);return E.code=h.code,E}return v||h}class _ extends Error{constructor(h="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(h,E),this.code="ABORT_ERR",this.name="AbortError"}}return p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(v,h,E)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(h)||(h=[h]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const S=[],T=[],x=[];for(const $ of h)u(typeof $=="string","All expected entries have to be of type string"),o.includes($)?S.push($.toLowerCase()):s.test($)?T.push($):(u($!=="object",'The value "object" should be written as "Object"'),x.push($));if(T.length>0){const $=S.indexOf("object");$!==-1&&(S.splice(S,$,1),T.push("Object"))}if(S.length>0){switch(S.length){case 1:y+=`of type ${S[0]}`;break;case 2:y+=`one of type ${S[0]} or ${S[1]}`;break;default:{const $=S.pop();y+=`one of type ${S.join(", ")}, or ${$}`}}(T.length>0||x.length>0)&&(y+=" or ")}if(T.length>0){switch(T.length){case 1:y+=`an instance of ${T[0]}`;break;case 2:y+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const $=T.pop();y+=`an instance of ${T.join(", ")}, or ${$}`}}x.length>0&&(y+=" or ")}switch(x.length){case 0:break;case 1:x[0].toLowerCase()!==x[0]&&(y+="an "),y+=`${x[0]}`;break;case 2:y+=`one of ${x[0]} or ${x[1]}`;break;default:{const $=x.pop();y+=`one of ${x.join(", ")}, or ${$}`}}if(E==null)y+=`. Received ${E}`;else if(typeof E=="function"&&E.name)y+=`. Received function ${E.name}`;else if(typeof E=="object"){var d;if((d=E.constructor)!==null&&d!==void 0&&d.name)y+=`. Received an instance of ${E.constructor.name}`;else{const $=t(E,{depth:-1});y+=`. Received ${$}`}}else{let $=t(E,{colors:!1});$.length>25&&($=`${$.slice(0,25)}...`),y+=`. Received type ${typeof E} (${$})`}return y},TypeError),p("ERR_INVALID_ARG_VALUE",(v,h,E="is invalid")=>{let y=t(h);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${E}. Received ${y}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(v,h,E)=>{var y;const S=E!=null&&(y=E.constructor)!==null&&y!==void 0&&y.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${v} to be returned from the "${h}" function but got ${S}.`},TypeError),p("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let h;const E=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),E){case 1:h+=`The ${v[0]} argument`;break;case 2:h+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();h+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${h} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(v,h,E)=>{u(h,'Missing "range" argument');let y;return Number.isInteger(E)&&Math.abs(E)>2**32?y=f(String(E)):typeof E=="bigint"?(y=String(E),(E>2n**32n||E<-(2n**32n))&&(y=f(y)),y+="n"):y=t(E),`The value of "${v}" is out of range. It must be ${h}. Received ${y}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),tE={AbortError:_,aggregateTwoErrors:m(g),hideStackFrames:m,codes:l},tE}function c0(){if(LN)return rE;LN=!0;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:c,StringPrototypeToUpperCase:p,StringPrototypeTrim:m}=Ti(),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:h,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:y}}=Xs(),{normalizeEncoding:S}=ys(),{isAsyncFunction:T,isArrayBufferView:x}=ys().types,d={};function $(Se){return Se===(Se|0)}function O(Se){return Se===Se>>>0}const P=/^[0-7]+$/,k="must be a 32-bit unsigned integer or an octal string";function B(Se,Fe,He){if(typeof Se>"u"&&(Se=He),typeof Se=="string"){if(f(P,Se)===null)throw new h(Fe,Se,k);Se=l(Se,8)}return W(Se,Fe),Se}const K=g((Se,Fe,He=a,Ve=s)=>{if(typeof Se!="number")throw new v(Fe,"number",Se);if(!i(Se))throw new E(Fe,"an integer",Se);if(Se<He||Se>Ve)throw new E(Fe,`>= ${He} && <= ${Ve}`,Se)}),ie=g((Se,Fe,He=-2147483648,Ve=2147483647)=>{if(typeof Se!="number")throw new v(Fe,"number",Se);if(!i(Se))throw new E(Fe,"an integer",Se);if(Se<He||Se>Ve)throw new E(Fe,`>= ${He} && <= ${Ve}`,Se)}),W=g((Se,Fe,He=!1)=>{if(typeof Se!="number")throw new v(Fe,"number",Se);if(!i(Se))throw new E(Fe,"an integer",Se);const Ve=He?1:0,ut=4294967295;if(Se<Ve||Se>ut)throw new E(Fe,`>= ${Ve} && <= ${ut}`,Se)});function ne(Se,Fe){if(typeof Se!="string")throw new v(Fe,"string",Se)}function fe(Se,Fe,He=void 0,Ve){if(typeof Se!="number")throw new v(Fe,"number",Se);if(He!=null&&Se<He||Ve!=null&&Se>Ve||(He!=null||Ve!=null)&&o(Se))throw new E(Fe,`${He!=null?`>= ${He}`:""}${He!=null&&Ve!=null?" && ":""}${Ve!=null?`<= ${Ve}`:""}`,Se)}const re=g((Se,Fe,He)=>{if(!t(He,Se)){const ut="must be one of: "+r(n(He,Qe=>typeof Qe=="string"?`'${Qe}'`:c(Qe)),", ");throw new h(Fe,Se,ut)}});function le(Se,Fe){if(typeof Se!="boolean")throw new v(Fe,"boolean",Se)}function F(Se,Fe,He){return Se==null||!u(Se,Fe)?He:Se[Fe]}const z=g((Se,Fe,He=null)=>{const Ve=F(He,"allowArray",!1),ut=F(He,"allowFunction",!1);if(!F(He,"nullable",!1)&&Se===null||!Ve&&e(Se)||typeof Se!="object"&&(!ut||typeof Se!="function"))throw new v(Fe,"Object",Se)}),J=g((Se,Fe)=>{if(Se!=null&&typeof Se!="object"&&typeof Se!="function")throw new v(Fe,"a dictionary",Se)}),R=g((Se,Fe,He=0)=>{if(!e(Se))throw new v(Fe,"Array",Se);if(Se.length<He){const Ve=`must be longer than ${He}`;throw new h(Fe,Se,Ve)}});function C(Se,Fe){R(Se,Fe);for(let He=0;He<Se.length;He++)ne(Se[He],`${Fe}[${He}]`)}function q(Se,Fe){R(Se,Fe);for(let He=0;He<Se.length;He++)le(Se[He],`${Fe}[${He}]`)}function oe(Se,Fe){R(Se,Fe);for(let He=0;He<Se.length;He++){const Ve=Se[He],ut=`${Fe}[${He}]`;if(Ve==null)throw new v(ut,"AbortSignal",Ve);Oe(Ve,ut)}}function X(Se,Fe="signal"){if(ne(Se,Fe),d[Se]===void 0)throw d[p(Se)]!==void 0?new y(Se+" (signals must use all capital letters)"):new y(Se)}const ee=g((Se,Fe="buffer")=>{if(!x(Se))throw new v(Fe,["Buffer","TypedArray","DataView"],Se)});function se(Se,Fe){const He=S(Fe),Ve=Se.length;if(He==="hex"&&Ve%2!==0)throw new h("encoding",Fe,`is invalid for data of length ${Ve}`)}function we(Se,Fe="Port",He=!0){if(typeof Se!="number"&&typeof Se!="string"||typeof Se=="string"&&m(Se).length===0||+Se!==+Se>>>0||Se>65535||Se===0&&!He)throw new _(Fe,Se,He);return Se|0}const Oe=g((Se,Fe)=>{if(Se!==void 0&&(Se===null||typeof Se!="object"||!("aborted"in Se)))throw new v(Fe,"AbortSignal",Se)}),I=g((Se,Fe)=>{if(typeof Se!="function")throw new v(Fe,"Function",Se)}),L=g((Se,Fe)=>{if(typeof Se!="function"||T(Se))throw new v(Fe,"Function",Se)}),M=g((Se,Fe)=>{if(Se!==void 0)throw new v(Fe,"undefined",Se)});function Z(Se,Fe,He){if(!t(He,Se))throw new v(Fe,`('${r(He,"|")}')`,Se)}const ue=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function de(Se,Fe){if(typeof Se>"u"||!f(ue,Se))throw new h(Fe,Se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ve(Se){if(typeof Se=="string")return de(Se,"hints"),Se;if(e(Se)){const Fe=Se.length;let He="";if(Fe===0)return He;for(let Ve=0;Ve<Fe;Ve++){const ut=Se[Ve];de(ut,"hints"),He+=ut,Ve!==Fe-1&&(He+=", ")}return He}throw new h("hints",Se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return rE={isInt32:$,isUint32:O,parseFileMode:B,validateArray:R,validateStringArray:C,validateBooleanArray:q,validateAbortSignalArray:oe,validateBoolean:le,validateBuffer:ee,validateDictionary:J,validateEncoding:se,validateFunction:I,validateInt32:ie,validateInteger:K,validateNumber:fe,validateObject:z,validateOneOf:re,validatePlainFunction:L,validatePort:we,validateSignalName:X,validateString:ne,validateUint32:W,validateUndefined:M,validateUnion:Z,validateAbortSignal:Oe,validateLinkHeaderValue:ve},rE}function Vc(){if(FN)return nE;FN=!0;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Ti(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(F,z=!1){var J;return!!(F&&typeof F.pipe=="function"&&typeof F.on=="function"&&(!z||typeof F.pause=="function"&&typeof F.resume=="function")&&(!F._writableState||((J=F._readableState)===null||J===void 0?void 0:J.readable)!==!1)&&(!F._writableState||F._readableState))}function c(F){var z;return!!(F&&typeof F.write=="function"&&typeof F.on=="function"&&(!F._readableState||((z=F._writableState)===null||z===void 0?void 0:z.writable)!==!1))}function p(F){return!!(F&&typeof F.pipe=="function"&&F._readableState&&typeof F.on=="function"&&typeof F.write=="function")}function m(F){return F&&(F._readableState||F._writableState||typeof F.write=="function"&&typeof F.on=="function"||typeof F.pipe=="function"&&typeof F.on=="function")}function g(F){return!!(F&&!m(F)&&typeof F.pipeThrough=="function"&&typeof F.getReader=="function"&&typeof F.cancel=="function")}function _(F){return!!(F&&!m(F)&&typeof F.getWriter=="function"&&typeof F.abort=="function")}function v(F){return!!(F&&!m(F)&&typeof F.readable=="object"&&typeof F.writable=="object")}function h(F){return g(F)||_(F)||v(F)}function E(F,z){return F==null?!1:z===!0?typeof F[e]=="function":z===!1?typeof F[t]=="function":typeof F[e]=="function"||typeof F[t]=="function"}function y(F){if(!m(F))return null;const z=F._writableState,J=F._readableState,R=z||J;return!!(F.destroyed||F[n]||R!=null&&R.destroyed)}function S(F){if(!c(F))return null;if(F.writableEnded===!0)return!0;const z=F._writableState;return z!=null&&z.errored?!1:typeof(z==null?void 0:z.ended)!="boolean"?null:z.ended}function T(F,z){if(!c(F))return null;if(F.writableFinished===!0)return!0;const J=F._writableState;return J!=null&&J.errored?!1:typeof(J==null?void 0:J.finished)!="boolean"?null:!!(J.finished||z===!1&&J.ended===!0&&J.length===0)}function x(F){if(!f(F))return null;if(F.readableEnded===!0)return!0;const z=F._readableState;return!z||z.errored?!1:typeof(z==null?void 0:z.ended)!="boolean"?null:z.ended}function d(F,z){if(!f(F))return null;const J=F._readableState;return J!=null&&J.errored?!1:typeof(J==null?void 0:J.endEmitted)!="boolean"?null:!!(J.endEmitted||z===!1&&J.ended===!0&&J.length===0)}function $(F){return F&&F[o]!=null?F[o]:typeof(F==null?void 0:F.readable)!="boolean"?null:y(F)?!1:f(F)&&F.readable&&!d(F)}function O(F){return F&&F[s]!=null?F[s]:typeof(F==null?void 0:F.writable)!="boolean"?null:y(F)?!1:c(F)&&F.writable&&!S(F)}function P(F,z){return m(F)?y(F)?!0:!((z==null?void 0:z.readable)!==!1&&$(F)||(z==null?void 0:z.writable)!==!1&&O(F)):null}function k(F){var z,J;return m(F)?F.writableErrored?F.writableErrored:(z=(J=F._writableState)===null||J===void 0?void 0:J.errored)!==null&&z!==void 0?z:null:null}function B(F){var z,J;return m(F)?F.readableErrored?F.readableErrored:(z=(J=F._readableState)===null||J===void 0?void 0:J.errored)!==null&&z!==void 0?z:null:null}function K(F){if(!m(F))return null;if(typeof F.closed=="boolean")return F.closed;const z=F._writableState,J=F._readableState;return typeof(z==null?void 0:z.closed)=="boolean"||typeof(J==null?void 0:J.closed)=="boolean"?(z==null?void 0:z.closed)||(J==null?void 0:J.closed):typeof F._closed=="boolean"&&ie(F)?F._closed:null}function ie(F){return typeof F._closed=="boolean"&&typeof F._defaultKeepAlive=="boolean"&&typeof F._removedConnection=="boolean"&&typeof F._removedContLen=="boolean"}function W(F){return typeof F._sent100=="boolean"&&ie(F)}function ne(F){var z;return typeof F._consuming=="boolean"&&typeof F._dumped=="boolean"&&((z=F.req)===null||z===void 0?void 0:z.upgradeOrConnect)===void 0}function fe(F){if(!m(F))return null;const z=F._writableState,J=F._readableState,R=z||J;return!R&&W(F)||!!(R&&R.autoDestroy&&R.emitClose&&R.closed===!1)}function re(F){var z;return!!(F&&((z=F[a])!==null&&z!==void 0?z:F.readableDidRead||F.readableAborted))}function le(F){var z,J,R,C,q,oe,X,ee,se,we;return!!(F&&((z=(J=(R=(C=(q=(oe=F[i])!==null&&oe!==void 0?oe:F.readableErrored)!==null&&q!==void 0?q:F.writableErrored)!==null&&C!==void 0?C:(X=F._readableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&R!==void 0?R:(ee=F._writableState)===null||ee===void 0?void 0:ee.errorEmitted)!==null&&J!==void 0?J:(se=F._readableState)===null||se===void 0?void 0:se.errored)!==null&&z!==void 0?z:!((we=F._writableState)===null||we===void 0)&&we.errored))}return nE={isDestroyed:y,kIsDestroyed:n,isDisturbed:re,kIsDisturbed:a,isErrored:le,kIsErrored:i,isReadable:$,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:s,isClosed:K,isDuplexNodeStream:p,isFinished:P,isIterable:E,isReadableNodeStream:f,isReadableStream:g,isReadableEnded:x,isReadableFinished:d,isReadableErrored:B,isNodeStream:m,isWebStream:h,isWritable:O,isWritableNodeStream:c,isWritableStream:_,isWritableEnded:S,isWritableFinished:T,isWritableErrored:k,isServerRequest:ne,isServerResponse:W,willEmitClose:fe,isTransformStream:v},nE}function yd(){if(BN)return Ev;BN=!0;const e=fo,{AbortError:t,codes:r}=Xs(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:s}=ys(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:f}=c0(),{Promise:c,PromisePrototypeThen:p,SymbolDispose:m}=Ti(),{isClosed:g,isReadable:_,isReadableNodeStream:v,isReadableStream:h,isReadableFinished:E,isReadableErrored:y,isWritable:S,isWritableNodeStream:T,isWritableStream:x,isWritableFinished:d,isWritableErrored:$,isNodeStream:O,willEmitClose:P,kIsClosedPromise:k}=Vc();let B;function K(re){return re.setHeader&&typeof re.abort=="function"}const ie=()=>{};function W(re,le,F){var z,J;if(arguments.length===2?(F=le,le=o):le==null?le=o:u(le,"options"),l(F,"callback"),a(le.signal,"options.signal"),F=s(F),h(re)||x(re))return ne(re,le,F);if(!O(re))throw new n("stream",["ReadableStream","WritableStream","Stream"],re);const R=(z=le.readable)!==null&&z!==void 0?z:v(re),C=(J=le.writable)!==null&&J!==void 0?J:T(re),q=re._writableState,oe=re._readableState,X=()=>{re.writable||we()};let ee=P(re)&&v(re)===R&&T(re)===C,se=d(re,!1);const we=()=>{se=!0,re.destroyed&&(ee=!1),!(ee&&(!re.readable||R))&&(!R||Oe)&&F.call(re)};let Oe=E(re,!1);const I=()=>{Oe=!0,re.destroyed&&(ee=!1),!(ee&&(!re.writable||C))&&(!C||se)&&F.call(re)},L=Se=>{F.call(re,Se)};let M=g(re);const Z=()=>{M=!0;const Se=$(re)||y(re);if(Se&&typeof Se!="boolean")return F.call(re,Se);if(R&&!Oe&&v(re,!0)&&!E(re,!1))return F.call(re,new i);if(C&&!se&&!d(re,!1))return F.call(re,new i);F.call(re)},ue=()=>{M=!0;const Se=$(re)||y(re);if(Se&&typeof Se!="boolean")return F.call(re,Se);F.call(re)},de=()=>{re.req.on("finish",we)};K(re)?(re.on("complete",we),ee||re.on("abort",Z),re.req?de():re.on("request",de)):C&&!q&&(re.on("end",X),re.on("close",X)),!ee&&typeof re.aborted=="boolean"&&re.on("aborted",Z),re.on("end",I),re.on("finish",we),le.error!==!1&&re.on("error",L),re.on("close",Z),M?e.nextTick(Z):q!=null&&q.errorEmitted||oe!=null&&oe.errorEmitted?ee||e.nextTick(ue):(!R&&(!ee||_(re))&&(se||S(re)===!1)||!C&&(!ee||S(re))&&(Oe||_(re)===!1)||oe&&re.req&&re.aborted)&&e.nextTick(ue);const ve=()=>{F=ie,re.removeListener("aborted",Z),re.removeListener("complete",we),re.removeListener("abort",Z),re.removeListener("request",de),re.req&&re.req.removeListener("finish",we),re.removeListener("end",X),re.removeListener("close",X),re.removeListener("finish",we),re.removeListener("end",I),re.removeListener("error",L),re.removeListener("close",Z)};if(le.signal&&!M){const Se=()=>{const Fe=F;ve(),Fe.call(re,new t(void 0,{cause:le.signal.reason}))};if(le.signal.aborted)e.nextTick(Se);else{B=B||ys().addAbortListener;const Fe=B(le.signal,Se),He=F;F=s((...Ve)=>{Fe[m](),He.apply(re,Ve)})}}return ve}function ne(re,le,F){let z=!1,J=ie;if(le.signal)if(J=()=>{z=!0,F.call(re,new t(void 0,{cause:le.signal.reason}))},le.signal.aborted)e.nextTick(J);else{B=B||ys().addAbortListener;const C=B(le.signal,J),q=F;F=s((...oe)=>{C[m](),q.apply(re,oe)})}const R=(...C)=>{z||e.nextTick(()=>F.apply(re,C))};return p(re[k].promise,R,R),ie}function fe(re,le){var F;let z=!1;return le===null&&(le=o),(F=le)!==null&&F!==void 0&&F.cleanup&&(f(le.cleanup,"cleanup"),z=le.cleanup),new c((J,R)=>{const C=W(re,le,q=>{z&&C(),q?R(q):J()})})}return Ev=W,Ev.finished=fe,Ev}function ug(){if(UN)return iE;UN=!0;const e=fo,{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Xs(),{Symbol:i}=Ti(),{kIsDestroyed:o,isDestroyed:s,isFinished:a,isServerRequest:l}=Vc(),u=i("kDestroy"),f=i("kConstruct");function c(P,k,B){P&&(P.stack,k&&!k.errored&&(k.errored=P),B&&!B.errored&&(B.errored=P))}function p(P,k){const B=this._readableState,K=this._writableState,ie=K||B;return K!=null&&K.destroyed||B!=null&&B.destroyed?(typeof k=="function"&&k(),this):(c(P,K,B),K&&(K.destroyed=!0),B&&(B.destroyed=!0),ie.constructed?m(this,P,k):this.once(u,function(W){m(this,t(W,P),k)}),this)}function m(P,k,B){let K=!1;function ie(W){if(K)return;K=!0;const ne=P._readableState,fe=P._writableState;c(W,fe,ne),fe&&(fe.closed=!0),ne&&(ne.closed=!0),typeof B=="function"&&B(W),W?e.nextTick(g,P,W):e.nextTick(_,P)}try{P._destroy(k||null,ie)}catch(W){ie(W)}}function g(P,k){v(P,k),_(P)}function _(P){const k=P._readableState,B=P._writableState;B&&(B.closeEmitted=!0),k&&(k.closeEmitted=!0),(B!=null&&B.emitClose||k!=null&&k.emitClose)&&P.emit("close")}function v(P,k){const B=P._readableState,K=P._writableState;K!=null&&K.errorEmitted||B!=null&&B.errorEmitted||(K&&(K.errorEmitted=!0),B&&(B.errorEmitted=!0),P.emit("error",k))}function h(){const P=this._readableState,k=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=P.readable===!1,P.endEmitted=P.readable===!1),k&&(k.constructed=!0,k.destroyed=!1,k.closed=!1,k.closeEmitted=!1,k.errored=null,k.errorEmitted=!1,k.finalCalled=!1,k.prefinished=!1,k.ended=k.writable===!1,k.ending=k.writable===!1,k.finished=k.writable===!1)}function E(P,k,B){const K=P._readableState,ie=P._writableState;if(ie!=null&&ie.destroyed||K!=null&&K.destroyed)return this;K!=null&&K.autoDestroy||ie!=null&&ie.autoDestroy?P.destroy(k):k&&(k.stack,ie&&!ie.errored&&(ie.errored=k),K&&!K.errored&&(K.errored=k),B?e.nextTick(v,P,k):v(P,k))}function y(P,k){if(typeof P._construct!="function")return;const B=P._readableState,K=P._writableState;B&&(B.constructed=!1),K&&(K.constructed=!1),P.once(f,k),!(P.listenerCount(f)>1)&&e.nextTick(S,P)}function S(P){let k=!1;function B(K){if(k){E(P,K??new r);return}k=!0;const ie=P._readableState,W=P._writableState,ne=W||ie;ie&&(ie.constructed=!0),W&&(W.constructed=!0),ne.destroyed?P.emit(u,K):K?E(P,K,!0):e.nextTick(T,P)}try{P._construct(K=>{e.nextTick(B,K)})}catch(K){e.nextTick(B,K)}}function T(P){P.emit(f)}function x(P){return(P==null?void 0:P.setHeader)&&typeof P.abort=="function"}function d(P){P.emit("close")}function $(P,k){P.emit("error",k),e.nextTick(d,P)}function O(P,k){!P||s(P)||(!k&&!a(P)&&(k=new n),l(P)?(P.socket=null,P.destroy(k)):x(P)?P.abort():x(P.req)?P.req.abort():typeof P.destroy=="function"?P.destroy(k):typeof P.close=="function"?P.close():k?e.nextTick($,P,k):e.nextTick(d,P),P.destroyed||(P[o]=!0))}return iE={construct:y,destroyer:O,destroy:p,undestroy:h,errorOrDestroy:E},iE}function p2(){if(zN)return oE;zN=!0;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Ti(),{EventEmitter:r}=Ru;function n(o){r.call(this,o)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(o,s){const a=this;function l(_){o.writable&&o.write(_)===!1&&a.pause&&a.pause()}a.on("data",l);function u(){a.readable&&a.resume&&a.resume()}o.on("drain",u),!o._isStdio&&(!s||s.end!==!1)&&(a.on("end",c),a.on("close",p));let f=!1;function c(){f||(f=!0,o.end())}function p(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function m(_){g(),r.listenerCount(this,"error")===0&&this.emit("error",_)}i(a,"error",m),i(o,"error",m);function g(){a.removeListener("data",l),o.removeListener("drain",u),a.removeListener("end",c),a.removeListener("close",p),a.removeListener("error",m),o.removeListener("error",m),a.removeListener("end",g),a.removeListener("close",g),o.removeListener("close",g)}return a.on("end",g),a.on("close",g),o.on("close",g),o.emit("pipe",a),o};function i(o,s,a){if(typeof o.prependListener=="function")return o.prependListener(s,a);!o._events||!o._events[s]?o.on(s,a):e(o._events[s])?o._events[s].unshift(a):o._events[s]=[a,o._events[s]]}return oE={Stream:n,prependListener:i},oE}function iT(){if(qN)return Kp;qN=!0;const{SymbolDispose:e}=Ti(),{AbortError:t,codes:r}=Xs(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=Vc(),s=yd(),{ERR_INVALID_ARG_TYPE:a}=r;let l;const u=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new a(c,"AbortSignal",f)};return Kp.addAbortSignal=function(c,p){if(u(c,"signal"),!n(p)&&!i(p))throw new a("stream",["ReadableStream","WritableStream","Stream"],p);return Kp.addAbortSignalNoValidate(c,p)},Kp.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;const p=n(c)?()=>{c.destroy(new t(void 0,{cause:f.reason}))}:()=>{c[o](new t(void 0,{cause:f.reason}))};if(f.aborted)p();else{l=l||ys().addAbortListener;const m=l(f,p);s(c,m[e])}return c},Kp}function zpe(){if(VN)return sE;VN=!0;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Ti(),{Buffer:i}=Js(),{inspect:o}=ys();return sE=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const l={data:a,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(a){const l={data:a,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=a+l.data;return u}concat(a){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(a>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(a,l){const u=this.head.data;if(a<u.length){const f=u.slice(0,a);return this.head.data=u.slice(a),f}return a===u.length?this.shift():l?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[t](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let l="",u=this.head,f=0;do{const c=u.data;if(a>c.length)l+=c,a-=c.length;else{a===c.length?(l+=c,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(c,0,a),this.head=u,u.data=e(c,a));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(a){const l=i.allocUnsafe(a),u=a;let f=this.head,c=0;do{const p=f.data;if(a>p.length)r(l,p,u-a),a-=p.length;else{a===p.length?(r(l,p,u-a),++c,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(p.buffer,p.byteOffset,a),u-a),this.head=f,f.data=p.slice(a));break}++c}while((f=f.next)!==null);return this.length-=c,l}[Symbol.for("nodejs.util.inspect.custom")](a,l){return o(this,{...l,depth:0,customInspect:!1})}},sE}function oT(){if(HN)return aE;HN=!0;const{MathFloor:e,NumberIsInteger:t}=Ti(),{validateInteger:r}=c0(),{ERR_INVALID_ARG_VALUE:n}=Xs().codes;let i=16*1024,o=16;function s(f,c,p){return f.highWaterMark!=null?f.highWaterMark:c?f[p]:null}function a(f){return f?o:i}function l(f,c){r(c,"value",0),f?o=c:i=c}function u(f,c,p,m){const g=s(c,m,p);if(g!=null){if(!t(g)||g<0){const _=m?`options.${p}`:"options.highWaterMark";throw new n(_,g)}return e(g)}return a(f.objectMode)}return aE={getHighWaterMark:u,getDefaultHighWaterMark:a,setDefaultHighWaterMark:l},aE}function cG(){if(WN)return lE;WN=!0;const e=fo,{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Ti(),{Buffer:i}=Js(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=Xs().codes;function a(l,u,f){let c;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let p;if(u&&u[r])p=!0,c=u[r]();else if(u&&u[n])p=!1,c=u[n]();else throw new o("iterable",["Iterable"],u);const m=new l({objectMode:!0,highWaterMark:1,...f});let g=!1;m._read=function(){g||(g=!0,v())},m._destroy=function(h,E){t(_(h),()=>e.nextTick(E,h),y=>e.nextTick(E,y||h))};async function _(h){const E=h!=null,y=typeof c.throw=="function";if(E&&y){const{value:S,done:T}=await c.throw(h);if(await S,T)return}if(typeof c.return=="function"){const{value:S}=await c.return();await S}}async function v(){for(;;){try{const{value:h,done:E}=p?await c.next():c.next();if(E)m.push(null);else{const y=h&&typeof h.then=="function"?await h:h;if(y===null)throw g=!1,new s;if(m.push(y))continue;g=!1}}catch(h){m.destroy(h)}break}}return m}return lE=a,lE}function sT(){if(GN)return uE;GN=!0;const e=fo,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:c,Symbol:p}=Ti();uE=Ve,Ve.ReadableState=He;const{EventEmitter:m}=Ru,{Stream:g,prependListener:_}=p2(),{Buffer:v}=Js(),{addAbortSignal:h}=iT(),E=yd();let y=ys().debuglog("stream",Ie=>{y=Ie});const S=zpe(),T=ug(),{getHighWaterMark:x,getDefaultHighWaterMark:d}=oT(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:k,ERR_STREAM_PUSH_AFTER_EOF:B,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:K},AbortError:ie}=Xs(),{validateObject:W}=c0(),ne=p("kPaused"),{StringDecoder:fe}=Tm,re=cG();a(Ve.prototype,g.prototype),a(Ve,g);const le=()=>{},{errorOrDestroy:F}=T,z=1,J=2,R=4,C=8,q=16,oe=32,X=64,ee=128,se=256,we=512,Oe=1024,I=2048,L=4096,M=8192,Z=16384,ue=32768,de=65536,ve=1<<17,Se=1<<18;function Fe(Ie){return{enumerable:!1,get(){return((this||_t).state&Ie)!==0},set(ke){ke?(this||_t).state|=Ie:(this||_t).state&=~Ie}}}o(He.prototype,{objectMode:Fe(z),ended:Fe(J),endEmitted:Fe(R),reading:Fe(C),constructed:Fe(q),sync:Fe(oe),needReadable:Fe(X),emittedReadable:Fe(ee),readableListening:Fe(se),resumeScheduled:Fe(we),errorEmitted:Fe(Oe),emitClose:Fe(I),autoDestroy:Fe(L),destroyed:Fe(M),closed:Fe(Z),closeEmitted:Fe(ue),multiAwaitDrain:Fe(de),readingMore:Fe(ve),dataEmitted:Fe(Se)});function He(Ie,ke,ft){typeof ft!="boolean"&&(ft=ke instanceof Mc()),(this||_t).state=I|L|q|oe,Ie&&Ie.objectMode&&((this||_t).state|=z),ft&&Ie&&Ie.readableObjectMode&&((this||_t).state|=z),(this||_t).highWaterMark=Ie?x(this||_t,Ie,"readableHighWaterMark",ft):d(!1),(this||_t).buffer=new S,(this||_t).length=0,(this||_t).pipes=[],(this||_t).flowing=null,(this||_t)[ne]=null,Ie&&Ie.emitClose===!1&&((this||_t).state&=~I),Ie&&Ie.autoDestroy===!1&&((this||_t).state&=~L),(this||_t).errored=null,(this||_t).defaultEncoding=Ie&&Ie.defaultEncoding||"utf8",(this||_t).awaitDrainWriters=null,(this||_t).decoder=null,(this||_t).encoding=null,Ie&&Ie.encoding&&((this||_t).decoder=new fe(Ie.encoding),(this||_t).encoding=Ie.encoding)}function Ve(Ie){if(!((this||_t)instanceof Ve))return new Ve(Ie);const ke=(this||_t)instanceof Mc();(this||_t)._readableState=new He(Ie,this||_t,ke),Ie&&(typeof Ie.read=="function"&&((this||_t)._read=Ie.read),typeof Ie.destroy=="function"&&((this||_t)._destroy=Ie.destroy),typeof Ie.construct=="function"&&((this||_t)._construct=Ie.construct),Ie.signal&&!ke&&h(Ie.signal,this||_t)),g.call(this||_t,Ie),T.construct(this||_t,()=>{(this||_t)._readableState.needReadable&&Re(this||_t,(this||_t)._readableState)})}Ve.prototype.destroy=T.destroy,Ve.prototype._undestroy=T.undestroy,Ve.prototype._destroy=function(Ie,ke){ke(Ie)},Ve.prototype[m.captureRejectionSymbol]=function(Ie){this.destroy(Ie)},Ve.prototype[f]=function(){let Ie;return(this||_t).destroyed||(Ie=(this||_t).readableEnded?null:new ie,this.destroy(Ie)),new l((ke,ft)=>E(this||_t,bt=>bt&&bt!==Ie?ft(bt):ke(null)))},Ve.prototype.push=function(Ie,ke){return ut(this||_t,Ie,ke,!1)},Ve.prototype.unshift=function(Ie,ke){return ut(this||_t,Ie,ke,!0)};function ut(Ie,ke,ft,bt){y("readableAddChunk",ke);const Lt=Ie._readableState;let xt;if(Lt.state&z||(typeof ke=="string"?(ft=ft||Lt.defaultEncoding,Lt.encoding!==ft&&(bt&&Lt.encoding?ke=v.from(ke,ft).toString(Lt.encoding):(ke=v.from(ke,ft),ft=""))):ke instanceof v?ft="":g._isUint8Array(ke)?(ke=g._uint8ArrayToBuffer(ke),ft=""):ke!=null&&(xt=new O("chunk",["string","Buffer","Uint8Array"],ke))),xt)F(Ie,xt);else if(ke===null)Lt.state&=~C,U(Ie,Lt);else if(Lt.state&z||ke&&ke.length>0)if(bt)if(Lt.state&R)F(Ie,new K);else{if(Lt.destroyed||Lt.errored)return!1;Qe(Ie,Lt,ke,!0)}else if(Lt.ended)F(Ie,new B);else{if(Lt.destroyed||Lt.errored)return!1;Lt.state&=~C,Lt.decoder&&!ft?(ke=Lt.decoder.write(ke),Lt.objectMode||ke.length!==0?Qe(Ie,Lt,ke,!1):Re(Ie,Lt)):Qe(Ie,Lt,ke,!1)}else bt||(Lt.state&=~C,Re(Ie,Lt));return!Lt.ended&&(Lt.length<Lt.highWaterMark||Lt.length===0)}function Qe(Ie,ke,ft,bt){ke.flowing&&ke.length===0&&!ke.sync&&Ie.listenerCount("data")>0?(ke.state&de?ke.awaitDrainWriters.clear():ke.awaitDrainWriters=null,ke.dataEmitted=!0,Ie.emit("data",ft)):(ke.length+=ke.objectMode?1:ft.length,bt?ke.buffer.unshift(ft):ke.buffer.push(ft),ke.state&X&&ce(Ie)),Re(Ie,ke)}Ve.prototype.isPaused=function(){const Ie=(this||_t)._readableState;return Ie[ne]===!0||Ie.flowing===!1},Ve.prototype.setEncoding=function(Ie){const ke=new fe(Ie);(this||_t)._readableState.decoder=ke,(this||_t)._readableState.encoding=(this||_t)._readableState.decoder.encoding;const ft=(this||_t)._readableState.buffer;let bt="";for(const Lt of ft)bt+=ke.write(Lt);return ft.clear(),bt!==""&&ft.push(bt),(this||_t)._readableState.length=bt.length,this||_t};const Ye=1073741824;function te(Ie){if(Ie>Ye)throw new k("size","<= 1GiB",Ie);return Ie--,Ie|=Ie>>>1,Ie|=Ie>>>2,Ie|=Ie>>>4,Ie|=Ie>>>8,Ie|=Ie>>>16,Ie++,Ie}function j(Ie,ke){return Ie<=0||ke.length===0&&ke.ended?0:ke.state&z?1:n(Ie)?ke.flowing&&ke.length?ke.buffer.first().length:ke.length:Ie<=ke.length?Ie:ke.ended?ke.length:0}Ve.prototype.read=function(Ie){y("read",Ie),Ie===void 0?Ie=NaN:r(Ie)||(Ie=i(Ie,10));const ke=(this||_t)._readableState,ft=Ie;if(Ie>ke.highWaterMark&&(ke.highWaterMark=te(Ie)),Ie!==0&&(ke.state&=~ee),Ie===0&&ke.needReadable&&((ke.highWaterMark!==0?ke.length>=ke.highWaterMark:ke.length>0)||ke.ended))return y("read: emitReadable",ke.length,ke.ended),ke.length===0&&ke.ended?Rr(this||_t):ce(this||_t),null;if(Ie=j(Ie,ke),Ie===0&&ke.ended)return ke.length===0&&Rr(this||_t),null;let bt=(ke.state&X)!==0;if(y("need readable",bt),(ke.length===0||ke.length-Ie<ke.highWaterMark)&&(bt=!0,y("length less than watermark",bt)),ke.ended||ke.reading||ke.destroyed||ke.errored||!ke.constructed)bt=!1,y("reading, ended or constructing",bt);else if(bt){y("do read"),ke.state|=C|oe,ke.length===0&&(ke.state|=X);try{this._read(ke.highWaterMark)}catch(xt){F(this||_t,xt)}ke.state&=~oe,ke.reading||(Ie=j(ft,ke))}let Lt;return Ie>0?Lt=Tr(Ie,ke):Lt=null,Lt===null?(ke.needReadable=ke.length<=ke.highWaterMark,Ie=0):(ke.length-=Ie,ke.multiAwaitDrain?ke.awaitDrainWriters.clear():ke.awaitDrainWriters=null),ke.length===0&&(ke.ended||(ke.needReadable=!0),ft!==Ie&&ke.ended&&Rr(this||_t)),Lt!==null&&!ke.errorEmitted&&!ke.closeEmitted&&(ke.dataEmitted=!0,this.emit("data",Lt)),Lt};function U(Ie,ke){if(y("onEofChunk"),!ke.ended){if(ke.decoder){const ft=ke.decoder.end();ft&&ft.length&&(ke.buffer.push(ft),ke.length+=ke.objectMode?1:ft.length)}ke.ended=!0,ke.sync?ce(Ie):(ke.needReadable=!1,ke.emittedReadable=!0,Te(Ie))}}function ce(Ie){const ke=Ie._readableState;y("emitReadable",ke.needReadable,ke.emittedReadable),ke.needReadable=!1,ke.emittedReadable||(y("emitReadable",ke.flowing),ke.emittedReadable=!0,e.nextTick(Te,Ie))}function Te(Ie){const ke=Ie._readableState;y("emitReadable_",ke.destroyed,ke.length,ke.ended),!ke.destroyed&&!ke.errored&&(ke.length||ke.ended)&&(Ie.emit("readable"),ke.emittedReadable=!1),ke.needReadable=!ke.flowing&&!ke.ended&&ke.length<=ke.highWaterMark,Yt(Ie)}function Re(Ie,ke){!ke.readingMore&&ke.constructed&&(ke.readingMore=!0,e.nextTick(ze,Ie,ke))}function ze(Ie,ke){for(;!ke.reading&&!ke.ended&&(ke.length<ke.highWaterMark||ke.flowing&&ke.length===0);){const ft=ke.length;if(y("maybeReadMore read 0"),Ie.read(0),ft===ke.length)break}ke.readingMore=!1}Ve.prototype._read=function(Ie){throw new P("_read()")},Ve.prototype.pipe=function(Ie,ke){const ft=this||_t,bt=(this||_t)._readableState;bt.pipes.length===1&&(bt.multiAwaitDrain||(bt.multiAwaitDrain=!0,bt.awaitDrainWriters=new u(bt.awaitDrainWriters?[bt.awaitDrainWriters]:[]))),bt.pipes.push(Ie),y("pipe count=%d opts=%j",bt.pipes.length,ke);const xt=(!ke||ke.end!==!1)&&Ie!==e.stdout&&Ie!==e.stderr?ye:Xt;bt.endEmitted?e.nextTick(xt):ft.once("end",xt),Ie.on("unpipe",Mt);function Mt(Ft,qt){y("onunpipe"),Ft===ft&&qt&&qt.hasUnpiped===!1&&(qt.hasUnpiped=!0,Me())}function ye(){y("onend"),Ie.end()}let me,$e=!1;function Me(){y("cleanup"),Ie.removeListener("close",At),Ie.removeListener("finish",Ht),me&&Ie.removeListener("drain",me),Ie.removeListener("error",mt),Ie.removeListener("unpipe",Mt),ft.removeListener("end",ye),ft.removeListener("end",Xt),ft.removeListener("data",dt),$e=!0,me&&bt.awaitDrainWriters&&(!Ie._writableState||Ie._writableState.needDrain)&&me()}function De(){$e||(bt.pipes.length===1&&bt.pipes[0]===Ie?(y("false write response, pause",0),bt.awaitDrainWriters=Ie,bt.multiAwaitDrain=!1):bt.pipes.length>1&&bt.pipes.includes(Ie)&&(y("false write response, pause",bt.awaitDrainWriters.size),bt.awaitDrainWriters.add(Ie)),ft.pause()),me||(me=Be(ft,Ie),Ie.on("drain",me))}ft.on("data",dt);function dt(Ft){y("ondata");const qt=Ie.write(Ft);y("dest.write",qt),qt===!1&&De()}function mt(Ft){if(y("onerror",Ft),Xt(),Ie.removeListener("error",mt),Ie.listenerCount("error")===0){const qt=Ie._writableState||Ie._readableState;qt&&!qt.errorEmitted?F(Ie,Ft):Ie.emit("error",Ft)}}_(Ie,"error",mt);function At(){Ie.removeListener("finish",Ht),Xt()}Ie.once("close",At);function Ht(){y("onfinish"),Ie.removeListener("close",At),Xt()}Ie.once("finish",Ht);function Xt(){y("unpipe"),ft.unpipe(Ie)}return Ie.emit("pipe",ft),Ie.writableNeedDrain===!0?De():bt.flowing||(y("pipe resume"),ft.resume()),Ie};function Be(Ie,ke){return function(){const bt=Ie._readableState;bt.awaitDrainWriters===ke?(y("pipeOnDrain",1),bt.awaitDrainWriters=null):bt.multiAwaitDrain&&(y("pipeOnDrain",bt.awaitDrainWriters.size),bt.awaitDrainWriters.delete(ke)),(!bt.awaitDrainWriters||bt.awaitDrainWriters.size===0)&&Ie.listenerCount("data")&&Ie.resume()}}Ve.prototype.unpipe=function(Ie){const ke=(this||_t)._readableState,ft={hasUnpiped:!1};if(ke.pipes.length===0)return this||_t;if(!Ie){const Lt=ke.pipes;ke.pipes=[],this.pause();for(let xt=0;xt<Lt.length;xt++)Lt[xt].emit("unpipe",this||_t,{hasUnpiped:!1});return this||_t}const bt=t(ke.pipes,Ie);return bt===-1?this||_t:(ke.pipes.splice(bt,1),ke.pipes.length===0&&this.pause(),Ie.emit("unpipe",this||_t,ft),this||_t)},Ve.prototype.on=function(Ie,ke){const ft=g.prototype.on.call(this||_t,Ie,ke),bt=(this||_t)._readableState;return Ie==="data"?(bt.readableListening=this.listenerCount("readable")>0,bt.flowing!==!1&&this.resume()):Ie==="readable"&&!bt.endEmitted&&!bt.readableListening&&(bt.readableListening=bt.needReadable=!0,bt.flowing=!1,bt.emittedReadable=!1,y("on readable",bt.length,bt.reading),bt.length?ce(this||_t):bt.reading||e.nextTick(vt,this||_t)),ft},Ve.prototype.addListener=Ve.prototype.on,Ve.prototype.removeListener=function(Ie,ke){const ft=g.prototype.removeListener.call(this||_t,Ie,ke);return Ie==="readable"&&e.nextTick(Xe,this||_t),ft},Ve.prototype.off=Ve.prototype.removeListener,Ve.prototype.removeAllListeners=function(Ie){const ke=g.prototype.removeAllListeners.apply(this||_t,arguments);return(Ie==="readable"||Ie===void 0)&&e.nextTick(Xe,this||_t),ke};function Xe(Ie){const ke=Ie._readableState;ke.readableListening=Ie.listenerCount("readable")>0,ke.resumeScheduled&&ke[ne]===!1?ke.flowing=!0:Ie.listenerCount("data")>0?Ie.resume():ke.readableListening||(ke.flowing=null)}function vt(Ie){y("readable nexttick read 0"),Ie.read(0)}Ve.prototype.resume=function(){const Ie=(this||_t)._readableState;return Ie.flowing||(y("resume"),Ie.flowing=!Ie.readableListening,St(this||_t,Ie)),Ie[ne]=!1,this||_t};function St(Ie,ke){ke.resumeScheduled||(ke.resumeScheduled=!0,e.nextTick(yt,Ie,ke))}function yt(Ie,ke){y("resume",ke.reading),ke.reading||Ie.read(0),ke.resumeScheduled=!1,Ie.emit("resume"),Yt(Ie),ke.flowing&&!ke.reading&&Ie.read(0)}Ve.prototype.pause=function(){return y("call pause flowing=%j",(this||_t)._readableState.flowing),(this||_t)._readableState.flowing!==!1&&(y("pause"),(this||_t)._readableState.flowing=!1,this.emit("pause")),(this||_t)._readableState[ne]=!0,this||_t};function Yt(Ie){const ke=Ie._readableState;for(y("flow",ke.flowing);ke.flowing&&Ie.read()!==null;);}Ve.prototype.wrap=function(Ie){let ke=!1;Ie.on("data",bt=>{!this.push(bt)&&Ie.pause&&(ke=!0,Ie.pause())}),Ie.on("end",()=>{this.push(null)}),Ie.on("error",bt=>{F(this||_t,bt)}),Ie.on("close",()=>{this.destroy()}),Ie.on("destroy",()=>{this.destroy()}),(this||_t)._read=()=>{ke&&Ie.resume&&(ke=!1,Ie.resume())};const ft=s(Ie);for(let bt=1;bt<ft.length;bt++){const Lt=ft[bt];(this||_t)[Lt]===void 0&&typeof Ie[Lt]=="function"&&((this||_t)[Lt]=Ie[Lt].bind(Ie))}return this||_t},Ve.prototype[c]=function(){return Jr(this||_t)},Ve.prototype.iterator=function(Ie){return Ie!==void 0&&W(Ie,"options"),Jr(this||_t,Ie)};function Jr(Ie,ke){typeof Ie.read!="function"&&(Ie=Ve.wrap(Ie,{objectMode:!0}));const ft=cn(Ie,ke);return ft.stream=Ie,ft}async function*cn(Ie,ke){let ft=le;function bt(Mt){(this||_t)===Ie?(ft(),ft=le):ft=Mt}Ie.on("readable",bt);let Lt;const xt=E(Ie,{writable:!1},Mt=>{Lt=Mt?$(Lt,Mt):null,ft(),ft=le});try{for(;;){const Mt=Ie.destroyed?null:Ie.read();if(Mt!==null)yield Mt;else{if(Lt)throw Lt;if(Lt===null)return;await new l(bt)}}}catch(Mt){throw Lt=$(Lt,Mt),Lt}finally{(Lt||(ke==null?void 0:ke.destroyOnReturn)!==!1)&&(Lt===void 0||Ie._readableState.autoDestroy)?T.destroyer(Ie,null):(Ie.off("readable",bt),xt())}}o(Ve.prototype,{readable:{__proto__:null,get(){const Ie=(this||_t)._readableState;return!!Ie&&Ie.readable!==!1&&!Ie.destroyed&&!Ie.errorEmitted&&!Ie.endEmitted},set(Ie){(this||_t)._readableState&&((this||_t)._readableState.readable=!!Ie)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||_t)._readableState.readable!==!1&&((this||_t)._readableState.destroyed||(this||_t)._readableState.errored)&&!(this||_t)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState&&(this||_t)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||_t)._readableState.flowing},set:function(Ie){(this||_t)._readableState&&((this||_t)._readableState.flowing=Ie)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||_t)._readableState?(this||_t)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.destroyed:!1},set(Ie){(this||_t)._readableState&&((this||_t)._readableState.destroyed=Ie)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||_t)._readableState?(this||_t)._readableState.endEmitted:!1}}}),o(He.prototype,{pipesCount:{__proto__:null,get(){return(this||_t).pipes.length}},paused:{__proto__:null,get(){return(this||_t)[ne]!==!1},set(Ie){(this||_t)[ne]=!!Ie}}}),Ve._fromList=Tr;function Tr(Ie,ke){if(ke.length===0)return null;let ft;return ke.objectMode?ft=ke.buffer.shift():!Ie||Ie>=ke.length?(ke.decoder?ft=ke.buffer.join(""):ke.buffer.length===1?ft=ke.buffer.first():ft=ke.buffer.concat(ke.length),ke.buffer.clear()):ft=ke.buffer.consume(Ie,ke.decoder),ft}function Rr(Ie){const ke=Ie._readableState;y("endReadable",ke.endEmitted),ke.endEmitted||(ke.ended=!0,e.nextTick(Nn,ke,Ie))}function Nn(Ie,ke){if(y("endReadableNT",Ie.endEmitted,Ie.length),!Ie.errored&&!Ie.closeEmitted&&!Ie.endEmitted&&Ie.length===0){if(Ie.endEmitted=!0,ke.emit("end"),ke.writable&&ke.allowHalfOpen===!1)e.nextTick(wr,ke);else if(Ie.autoDestroy){const ft=ke._writableState;(!ft||ft.autoDestroy&&(ft.finished||ft.writable===!1))&&ke.destroy()}}}function wr(Ie){Ie.writable&&!Ie.writableEnded&&!Ie.destroyed&&Ie.end()}Ve.from=function(Ie,ke){return re(Ve,Ie,ke)};let cr;function ar(){return cr===void 0&&(cr={}),cr}return Ve.fromWeb=function(Ie,ke){return ar().newStreamReadableFromReadableStream(Ie,ke)},Ve.toWeb=function(Ie,ke){return ar().newReadableStreamFromStreamReadable(Ie,ke)},Ve.wrap=function(Ie,ke){var ft,bt;return new Ve({objectMode:(ft=(bt=Ie.readableObjectMode)!==null&&bt!==void 0?bt:Ie.objectMode)!==null&&ft!==void 0?ft:!0,...ke,destroy(Lt,xt){T.destroyer(Ie,Lt),xt(Lt)}}).wrap(Ie)},uE}function m2(){if(KN)return cE;KN=!0;const e=fo,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:u}=Ti();cE=W,W.WritableState=K;const{EventEmitter:f}=Ru,c=p2().Stream,{Buffer:p}=Js(),m=ug(),{addAbortSignal:g}=iT(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=oT(),{ERR_INVALID_ARG_TYPE:h,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:d,ERR_STREAM_WRITE_AFTER_END:$,ERR_UNKNOWN_ENCODING:O}=Xs().codes,{errorOrDestroy:P}=m;s(W.prototype,c.prototype),s(W,c);function k(){}const B=l("kOnFinished");function K(L,M,Z){typeof Z!="boolean"&&(Z=M instanceof Mc()),(this||Dt).objectMode=!!(L&&L.objectMode),Z&&((this||Dt).objectMode=(this||Dt).objectMode||!!(L&&L.writableObjectMode)),(this||Dt).highWaterMark=L?_(this||Dt,L,"writableHighWaterMark",Z):v(!1),(this||Dt).finalCalled=!1,(this||Dt).needDrain=!1,(this||Dt).ending=!1,(this||Dt).ended=!1,(this||Dt).finished=!1,(this||Dt).destroyed=!1;const ue=!!(L&&L.decodeStrings===!1);(this||Dt).decodeStrings=!ue,(this||Dt).defaultEncoding=L&&L.defaultEncoding||"utf8",(this||Dt).length=0,(this||Dt).writing=!1,(this||Dt).corked=0,(this||Dt).sync=!0,(this||Dt).bufferProcessing=!1,(this||Dt).onwrite=F.bind(void 0,M),(this||Dt).writecb=null,(this||Dt).writelen=0,(this||Dt).afterWriteTickInfo=null,ie(this||Dt),(this||Dt).pendingcb=0,(this||Dt).constructed=!0,(this||Dt).prefinished=!1,(this||Dt).errorEmitted=!1,(this||Dt).emitClose=!L||L.emitClose!==!1,(this||Dt).autoDestroy=!L||L.autoDestroy!==!1,(this||Dt).errored=null,(this||Dt).closed=!1,(this||Dt).closeEmitted=!1,(this||Dt)[B]=[]}function ie(L){L.buffered=[],L.bufferedIndex=0,L.allBuffers=!0,L.allNoop=!0}K.prototype.getBuffer=function(){return t((this||Dt).buffered,(this||Dt).bufferedIndex)},i(K.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||Dt).buffered.length-(this||Dt).bufferedIndex}});function W(L){const M=(this||Dt)instanceof Mc();if(!M&&!n(W,this||Dt))return new W(L);(this||Dt)._writableState=new K(L,this||Dt,M),L&&(typeof L.write=="function"&&((this||Dt)._write=L.write),typeof L.writev=="function"&&((this||Dt)._writev=L.writev),typeof L.destroy=="function"&&((this||Dt)._destroy=L.destroy),typeof L.final=="function"&&((this||Dt)._final=L.final),typeof L.construct=="function"&&((this||Dt)._construct=L.construct),L.signal&&g(L.signal,this||Dt)),c.call(this||Dt,L),m.construct(this||Dt,()=>{const Z=(this||Dt)._writableState;Z.writing||C(this||Dt,Z),ee(this||Dt,Z)})}i(W,u,{__proto__:null,value:function(L){return n(this||Dt,L)?!0:(this||Dt)!==W?!1:L&&L._writableState instanceof K}}),W.prototype.pipe=function(){P(this||Dt,new S)};function ne(L,M,Z,ue){const de=L._writableState;if(typeof Z=="function")ue=Z,Z=de.defaultEncoding;else{if(!Z)Z=de.defaultEncoding;else if(Z!=="buffer"&&!p.isEncoding(Z))throw new O(Z);typeof ue!="function"&&(ue=k)}if(M===null)throw new d;if(!de.objectMode)if(typeof M=="string")de.decodeStrings!==!1&&(M=p.from(M,Z),Z="buffer");else if(M instanceof p)Z="buffer";else if(c._isUint8Array(M))M=c._uint8ArrayToBuffer(M),Z="buffer";else throw new h("chunk",["string","Buffer","Uint8Array"],M);let ve;return de.ending?ve=new $:de.destroyed&&(ve=new T("write")),ve?(e.nextTick(ue,ve),P(L,ve,!0),ve):(de.pendingcb++,fe(L,de,M,Z,ue))}W.prototype.write=function(L,M,Z){return ne(this||Dt,L,M,Z)===!0},W.prototype.cork=function(){(this||Dt)._writableState.corked++},W.prototype.uncork=function(){const L=(this||Dt)._writableState;L.corked&&(L.corked--,L.writing||C(this||Dt,L))},W.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=a(M)),!p.isEncoding(M))throw new O(M);return(this||Dt)._writableState.defaultEncoding=M,this||Dt};function fe(L,M,Z,ue,de){const ve=M.objectMode?1:Z.length;M.length+=ve;const Se=M.length<M.highWaterMark;return Se||(M.needDrain=!0),M.writing||M.corked||M.errored||!M.constructed?(M.buffered.push({chunk:Z,encoding:ue,callback:de}),M.allBuffers&&ue!=="buffer"&&(M.allBuffers=!1),M.allNoop&&de!==k&&(M.allNoop=!1)):(M.writelen=ve,M.writecb=de,M.writing=!0,M.sync=!0,L._write(Z,ue,M.onwrite),M.sync=!1),Se&&!M.errored&&!M.destroyed}function re(L,M,Z,ue,de,ve,Se){M.writelen=ue,M.writecb=Se,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new T("write")):Z?L._writev(de,M.onwrite):L._write(de,ve,M.onwrite),M.sync=!1}function le(L,M,Z,ue){--M.pendingcb,ue(Z),R(M),P(L,Z)}function F(L,M){const Z=L._writableState,ue=Z.sync,de=Z.writecb;if(typeof de!="function"){P(L,new y);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,M?(M.stack,Z.errored||(Z.errored=M),L._readableState&&!L._readableState.errored&&(L._readableState.errored=M),ue?e.nextTick(le,L,Z,M,de):le(L,Z,M,de)):(Z.buffered.length>Z.bufferedIndex&&C(L,Z),ue?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===de?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:de,stream:L,state:Z},e.nextTick(z,Z.afterWriteTickInfo)):J(L,Z,1,de))}function z({stream:L,state:M,count:Z,cb:ue}){return M.afterWriteTickInfo=null,J(L,M,Z,ue)}function J(L,M,Z,ue){for(!M.ending&&!L.destroyed&&M.length===0&&M.needDrain&&(M.needDrain=!1,L.emit("drain"));Z-- >0;)M.pendingcb--,ue();M.destroyed&&R(M),ee(L,M)}function R(L){if(L.writing)return;for(let de=L.bufferedIndex;de<L.buffered.length;++de){var M;const{chunk:ve,callback:Se}=L.buffered[de],Fe=L.objectMode?1:ve.length;L.length-=Fe,Se((M=L.errored)!==null&&M!==void 0?M:new T("write"))}const Z=L[B].splice(0);for(let de=0;de<Z.length;de++){var ue;Z[de]((ue=L.errored)!==null&&ue!==void 0?ue:new T("end"))}ie(L)}function C(L,M){if(M.corked||M.bufferProcessing||M.destroyed||!M.constructed)return;const{buffered:Z,bufferedIndex:ue,objectMode:de}=M,ve=Z.length-ue;if(!ve)return;let Se=ue;if(M.bufferProcessing=!0,ve>1&&L._writev){M.pendingcb-=ve-1;const Fe=M.allNoop?k:Ve=>{for(let ut=Se;ut<Z.length;++ut)Z[ut].callback(Ve)},He=M.allNoop&&Se===0?Z:t(Z,Se);He.allBuffers=M.allBuffers,re(L,M,!0,M.length,He,"",Fe),ie(M)}else{do{const{chunk:Fe,encoding:He,callback:Ve}=Z[Se];Z[Se++]=null;const ut=de?1:Fe.length;re(L,M,!1,ut,Fe,He,Ve)}while(Se<Z.length&&!M.writing);Se===Z.length?ie(M):Se>256?(Z.splice(0,Se),M.bufferedIndex=0):M.bufferedIndex=Se}M.bufferProcessing=!1}W.prototype._write=function(L,M,Z){if((this||Dt)._writev)this._writev([{chunk:L,encoding:M}],Z);else throw new E("_write()")},W.prototype._writev=null,W.prototype.end=function(L,M,Z){const ue=(this||Dt)._writableState;typeof L=="function"?(Z=L,L=null,M=null):typeof M=="function"&&(Z=M,M=null);let de;if(L!=null){const ve=ne(this||Dt,L,M);ve instanceof r&&(de=ve)}return ue.corked&&(ue.corked=1,this.uncork()),de||(!ue.errored&&!ue.ending?(ue.ending=!0,ee(this||Dt,ue,!0),ue.ended=!0):ue.finished?de=new x("end"):ue.destroyed&&(de=new T("end"))),typeof Z=="function"&&(de||ue.finished?e.nextTick(Z,de):ue[B].push(Z)),this||Dt};function q(L){return L.ending&&!L.destroyed&&L.constructed&&L.length===0&&!L.errored&&L.buffered.length===0&&!L.finished&&!L.writing&&!L.errorEmitted&&!L.closeEmitted}function oe(L,M){let Z=!1;function ue(de){if(Z){P(L,de??y());return}if(Z=!0,M.pendingcb--,de){const ve=M[B].splice(0);for(let Se=0;Se<ve.length;Se++)ve[Se](de);P(L,de,M.sync)}else q(M)&&(M.prefinished=!0,L.emit("prefinish"),M.pendingcb++,e.nextTick(se,L,M))}M.sync=!0,M.pendingcb++;try{L._final(ue)}catch(de){ue(de)}M.sync=!1}function X(L,M){!M.prefinished&&!M.finalCalled&&(typeof L._final=="function"&&!M.destroyed?(M.finalCalled=!0,oe(L,M)):(M.prefinished=!0,L.emit("prefinish")))}function ee(L,M,Z){q(M)&&(X(L,M),M.pendingcb===0&&(Z?(M.pendingcb++,e.nextTick((ue,de)=>{q(de)?se(ue,de):de.pendingcb--},L,M)):q(M)&&(M.pendingcb++,se(L,M))))}function se(L,M){M.pendingcb--,M.finished=!0;const Z=M[B].splice(0);for(let ue=0;ue<Z.length;ue++)Z[ue]();if(L.emit("finish"),M.autoDestroy){const ue=L._readableState;(!ue||ue.autoDestroy&&(ue.endEmitted||ue.readable===!1))&&L.destroy()}}o(W.prototype,{closed:{__proto__:null,get(){return(this||Dt)._writableState?(this||Dt)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||Dt)._writableState?(this||Dt)._writableState.destroyed:!1},set(L){(this||Dt)._writableState&&((this||Dt)._writableState.destroyed=L)}},writable:{__proto__:null,get(){const L=(this||Dt)._writableState;return!!L&&L.writable!==!1&&!L.destroyed&&!L.errored&&!L.ending&&!L.ended},set(L){(this||Dt)._writableState&&((this||Dt)._writableState.writable=!!L)}},writableFinished:{__proto__:null,get(){return(this||Dt)._writableState?(this||Dt)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||Dt)._writableState?(this||Dt)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||Dt)._writableState&&(this||Dt)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||Dt)._writableState?(this||Dt)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const L=(this||Dt)._writableState;return L?!L.destroyed&&!L.ending&&L.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||Dt)._writableState&&(this||Dt)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||Dt)._writableState?(this||Dt)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||Dt)._writableState&&(this||Dt)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||Dt)._writableState?(this||Dt)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Dt)._writableState.writable!==!1&&((this||Dt)._writableState.destroyed||(this||Dt)._writableState.errored)&&!(this||Dt)._writableState.finished)}}});const we=m.destroy;W.prototype.destroy=function(L,M){const Z=(this||Dt)._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[B].length)&&e.nextTick(R,Z),we.call(this||Dt,L,M),this||Dt},W.prototype._undestroy=m.undestroy,W.prototype._destroy=function(L,M){M(L)},W.prototype[f.captureRejectionSymbol]=function(L){this.destroy(L)};let Oe;function I(){return Oe===void 0&&(Oe={}),Oe}return W.fromWeb=function(L,M){return I().newStreamWritableFromWritableStream(L,M)},W.toWeb=function(L){return I().newWritableStreamFromStreamWritable(L)},cE}function qpe(){if(JN)return fE;JN=!0;const e=fo,t=Js(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=Vc(),c=yd(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=Xs(),{destroyer:_}=ug(),v=Mc(),h=sT(),E=m2(),{createDeferredPromise:y}=ys(),S=cG(),T=globalThis.Blob||t.Blob,x=typeof T<"u"?function(K){return K instanceof T}:function(K){return!1},d=globalThis.AbortController||$y().AbortController,{FunctionPrototypeCall:$}=Ti();class O extends v{constructor(K){super(K),(K==null?void 0:K.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(K==null?void 0:K.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}fE=function B(K,ie){if(l(K))return K;if(s(K))return k({readable:K});if(a(K))return k({writable:K});if(o(K))return k({writable:!1,readable:!1});if(u(K))return k({readable:h.fromWeb(K)});if(f(K))return k({writable:E.fromWeb(K)});if(typeof K=="function"){const{value:ne,write:fe,final:re,destroy:le}=P(K);if(i(ne))return S(O,ne,{objectMode:!0,write:fe,final:re,destroy:le});const F=ne==null?void 0:ne.then;if(typeof F=="function"){let z;const J=$(F,ne,R=>{if(R!=null)throw new g("nully","body",R)},R=>{_(z,R)});return z=new O({objectMode:!0,readable:!1,write:fe,final(R){re(async()=>{try{await J,e.nextTick(R,null)}catch(C){e.nextTick(R,C)}})},destroy:le})}throw new g("Iterable, AsyncIterable or AsyncFunction",ie,ne)}if(x(K))return B(K.arrayBuffer());if(i(K))return S(O,K,{objectMode:!0,writable:!1});if(u(K==null?void 0:K.readable)&&f(K==null?void 0:K.writable))return O.fromWeb(K);if(typeof(K==null?void 0:K.writable)=="object"||typeof(K==null?void 0:K.readable)=="object"){const ne=K!=null&&K.readable?s(K==null?void 0:K.readable)?K==null?void 0:K.readable:B(K.readable):void 0,fe=K!=null&&K.writable?a(K==null?void 0:K.writable)?K==null?void 0:K.writable:B(K.writable):void 0;return k({readable:ne,writable:fe})}const W=K==null?void 0:K.then;if(typeof W=="function"){let ne;return $(W,K,fe=>{fe!=null&&ne.push(fe),ne.push(null)},fe=>{_(ne,fe)}),ne=new O({objectMode:!0,writable:!1,read(){}})}throw new m(ie,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],K)};function P(B){let{promise:K,resolve:ie}=y();const W=new d,ne=W.signal;return{value:B(async function*(){for(;;){const re=K;K=null;const{chunk:le,done:F,cb:z}=await re;if(e.nextTick(z),F)return;if(ne.aborted)throw new p(void 0,{cause:ne.reason});({promise:K,resolve:ie}=y()),yield le}}(),{signal:ne}),write(re,le,F){const z=ie;ie=null,z({chunk:re,done:!1,cb:F})},final(re){const le=ie;ie=null,le({done:!0,cb:re})},destroy(re,le){W.abort(),le(re)}}}function k(B){const K=B.readable&&typeof B.readable.read!="function"?h.wrap(B.readable):B.readable,ie=B.writable;let W=!!r(K),ne=!!n(ie),fe,re,le,F,z;function J(R){const C=F;F=null,C?C(R):R&&z.destroy(R)}return z=new O({readableObjectMode:!!(K!=null&&K.readableObjectMode),writableObjectMode:!!(ie!=null&&ie.writableObjectMode),readable:W,writable:ne}),ne&&(c(ie,R=>{ne=!1,R&&_(K,R),J(R)}),z._write=function(R,C,q){ie.write(R,C)?q():fe=q},z._final=function(R){ie.end(),re=R},ie.on("drain",function(){if(fe){const R=fe;fe=null,R()}}),ie.on("finish",function(){if(re){const R=re;re=null,R()}})),W&&(c(K,R=>{W=!1,R&&_(K,R),J(R)}),K.on("readable",function(){if(le){const R=le;le=null,R()}}),K.on("end",function(){z.push(null)}),z._read=function(){for(;;){const R=K.read();if(R===null){le=z._read;return}if(!z.push(R))return}}),z._destroy=function(R,C){!R&&F!==null&&(R=new p),le=null,fe=null,re=null,F===null?C(R):(F=C,_(ie,R),_(K,R))},z}return fE}function Mc(){if(YN)return dE;YN=!0;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Ti();dE=s;const i=sT(),o=m2();n(s.prototype,i.prototype),n(s,i);{const f=r(o.prototype);for(let c=0;c<f.length;c++){const p=f[c];s.prototype[p]||(s.prototype[p]=o.prototype[p])}}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function l(){return a===void 0&&(a={}),a}s.fromWeb=function(f,c){return l().newStreamDuplexFromReadableWritablePair(f,c)},s.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return s.from=function(f){return u||(u=qpe()),u(f,"body")},dE}function fG(){if(XN)return hE;XN=!0;const{ObjectSetPrototypeOf:e,Symbol:t}=Ti();hE=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Xs().codes,n=Mc(),{getHighWaterMark:i}=oT();e(s.prototype,n.prototype),e(s,n);const o=t("kCallback");function s(u){if(!(this instanceof s))return new s(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[o]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function a(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,c)=>{if(f){u?u(f):this.destroy(f);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==a&&a.call(this)}return s.prototype._final=a,s.prototype._transform=function(u,f,c){throw new r("_transform()")},s.prototype._write=function(u,f,c){const p=this._readableState,m=this._writableState,g=p.length;this._transform(u,f,(_,v)=>{if(_){c(_);return}v!=null&&this.push(v),m.ended||g===p.length||p.length<p.highWaterMark?c():this[o]=c})},s.prototype._read=function(){if(this[o]){const u=this[o];this[o]=null,u()}},hE}function dG(){if(QN)return pE;QN=!0;const{ObjectSetPrototypeOf:e}=Ti();pE=r;const t=fG();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},pE}function g2(){if(ZN)return mE;ZN=!0;const e=fo,{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Ti(),o=yd(),{once:s}=ys(),a=ug(),l=Mc(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:_}=Xs(),{validateFunction:v,validateAbortSignal:h}=c0(),{isIterable:E,isReadable:y,isReadableNodeStream:S,isNodeStream:T,isTransformStream:x,isWebStream:d,isReadableStream:$,isReadableFinished:O}=Vc(),P=globalThis.AbortController||$y().AbortController;let k,B,K;function ie(R,C,q){let oe=!1;R.on("close",()=>{oe=!0});const X=o(R,{readable:C,writable:q},ee=>{oe=!ee});return{destroy:ee=>{oe||(oe=!0,a.destroyer(R,ee||new m("pipe")))},cleanup:X}}function W(R){return v(R[R.length-1],"streams[stream.length - 1]"),R.pop()}function ne(R){if(E(R))return R;if(S(R))return fe(R);throw new f("val",["Readable","Iterable","AsyncIterable"],R)}async function*fe(R){B||(B=sT()),yield*B.prototype[n].call(R)}async function re(R,C,q,{end:oe}){let X,ee=null;const se=I=>{if(I&&(X=I),ee){const L=ee;ee=null,L()}},we=()=>new r((I,L)=>{X?L(X):ee=()=>{X?L(X):I()}});C.on("drain",se);const Oe=o(C,{readable:!1},se);try{C.writableNeedDrain&&await we();for await(const I of R)C.write(I)||await we();oe&&(C.end(),await we()),q()}catch(I){q(X!==I?u(X,I):I)}finally{Oe(),C.off("drain",se)}}async function le(R,C,q,{end:oe}){x(C)&&(C=C.writable);const X=C.getWriter();try{for await(const ee of R)await X.ready,X.write(ee).catch(()=>{});await X.ready,oe&&await X.close(),q()}catch(ee){try{await X.abort(ee),q(ee)}catch(se){q(se)}}}function F(...R){return z(R,s(W(R)))}function z(R,C,q){if(R.length===1&&t(R[0])&&(R=R[0]),R.length<2)throw new p("streams");const oe=new P,X=oe.signal,ee=q==null?void 0:q.signal,se=[];h(ee,"options.signal");function we(){de(new _)}K=K||ys().addAbortListener;let Oe;ee&&(Oe=K(ee,we));let I,L;const M=[];let Z=0;function ue(He){de(He,--Z===0)}function de(He,Ve){var ut;if(He&&(!I||I.code==="ERR_STREAM_PREMATURE_CLOSE")&&(I=He),!(!I&&!Ve)){for(;M.length;)M.shift()(I);(ut=Oe)===null||ut===void 0||ut[i](),oe.abort(),Ve&&(I||se.forEach(Qe=>Qe()),e.nextTick(C,I,L))}}let ve;for(let He=0;He<R.length;He++){const Ve=R[He],ut=He<R.length-1,Qe=He>0,Ye=ut||(q==null?void 0:q.end)!==!1,te=He===R.length-1;if(T(Ve)){let j=function(U){U&&U.name!=="AbortError"&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ue(U)};if(Ye){const{destroy:U,cleanup:ce}=ie(Ve,ut,Qe);M.push(U),y(Ve)&&te&&se.push(ce)}Ve.on("error",j),y(Ve)&&te&&se.push(()=>{Ve.removeListener("error",j)})}if(He===0)if(typeof Ve=="function"){if(ve=Ve({signal:X}),!E(ve))throw new c("Iterable, AsyncIterable or Stream","source",ve)}else E(Ve)||S(Ve)||x(Ve)?ve=Ve:ve=l.from(Ve);else if(typeof Ve=="function"){if(x(ve)){var Se;ve=ne((Se=ve)===null||Se===void 0?void 0:Se.readable)}else ve=ne(ve);if(ve=Ve(ve,{signal:X}),ut){if(!E(ve,!0))throw new c("AsyncIterable",`transform[${He-1}]`,ve)}else{var Fe;k||(k=dG());const j=new k({objectMode:!0}),U=(Fe=ve)===null||Fe===void 0?void 0:Fe.then;if(typeof U=="function")Z++,U.call(ve,Re=>{L=Re,Re!=null&&j.write(Re),Ye&&j.end(),e.nextTick(ue)},Re=>{j.destroy(Re),e.nextTick(ue,Re)});else if(E(ve,!0))Z++,re(ve,j,ue,{end:Ye});else if($(ve)||x(ve)){const Re=ve.readable||ve;Z++,re(Re,j,ue,{end:Ye})}else throw new c("AsyncIterable or Promise","destination",ve);ve=j;const{destroy:ce,cleanup:Te}=ie(ve,!1,!0);M.push(ce),te&&se.push(Te)}}else if(T(Ve)){if(S(ve)){Z+=2;const j=J(ve,Ve,ue,{end:Ye});y(Ve)&&te&&se.push(j)}else if(x(ve)||$(ve)){const j=ve.readable||ve;Z++,re(j,Ve,ue,{end:Ye})}else if(E(ve))Z++,re(ve,Ve,ue,{end:Ye});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=Ve}else if(d(Ve)){if(S(ve))Z++,le(ne(ve),Ve,ue,{end:Ye});else if($(ve)||E(ve))Z++,le(ve,Ve,ue,{end:Ye});else if(x(ve))Z++,le(ve.readable,Ve,ue,{end:Ye});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ve);ve=Ve}else ve=l.from(Ve)}return(X!=null&&X.aborted||ee!=null&&ee.aborted)&&e.nextTick(we),ve}function J(R,C,q,{end:oe}){let X=!1;if(C.on("close",()=>{X||q(new g)}),R.pipe(C,{end:!1}),oe){let ee=function(){X=!0,C.end()};O(R)?e.nextTick(ee):R.once("end",ee)}else q();return o(R,{readable:!0,writable:!1},ee=>{const se=R._readableState;ee&&ee.code==="ERR_STREAM_PREMATURE_CLOSE"&&se&&se.ended&&!se.errored&&!se.errorEmitted?R.once("end",q).once("error",q):q(ee)}),o(C,{readable:!1,writable:!0},q)}return mE={pipelineImpl:z,pipeline:F},mE}function hG(){if(eI)return gE;eI=!0;const{pipeline:e}=g2(),t=Mc(),{destroyer:r}=ug(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:a,isWritableStream:l,isReadableStream:u}=Vc(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:p}}=Xs(),m=yd();return gE=function(..._){if(_.length===0)throw new p("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const k=_.length-1;_[k]=t.from(_[k])}for(let k=0;k<_.length;++k)if(!(!n(_[k])&&!s(_[k]))){if(k<_.length-1&&!(i(_[k])||u(_[k])||a(_[k])))throw new c(`streams[${k}]`,v[k],"must be readable");if(k>0&&!(o(_[k])||l(_[k])||a(_[k])))throw new c(`streams[${k}]`,v[k],"must be writable")}let h,E,y,S,T;function x(k){const B=S;S=null,B?B(k):k?T.destroy(k):!P&&!O&&T.destroy()}const d=_[0],$=e(_,x),O=!!(o(d)||l(d)||a(d)),P=!!(i($)||u($)||a($));if(T=new t({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!($!=null&&$.readableObjectMode),writable:O,readable:P}),O){if(n(d))T._write=function(B,K,ie){d.write(B,K)?ie():h=ie},T._final=function(B){d.end(),E=B},d.on("drain",function(){if(h){const B=h;h=null,B()}});else if(s(d)){const K=(a(d)?d.writable:d).getWriter();T._write=async function(ie,W,ne){try{await K.ready,K.write(ie).catch(()=>{}),ne()}catch(fe){ne(fe)}},T._final=async function(ie){try{await K.ready,K.close().catch(()=>{}),E=ie}catch(W){ie(W)}}}const k=a($)?$.readable:$;m(k,()=>{if(E){const B=E;E=null,B()}})}if(P){if(n($))$.on("readable",function(){if(y){const k=y;y=null,k()}}),$.on("end",function(){T.push(null)}),T._read=function(){for(;;){const k=$.read();if(k===null){y=T._read;return}if(!T.push(k))return}};else if(s($)){const B=(a($)?$.readable:$).getReader();T._read=async function(){for(;;)try{const{value:K,done:ie}=await B.read();if(!T.push(K))return;if(ie){T.push(null);return}}catch{return}}}}return T._destroy=function(k,B){!k&&S!==null&&(k=new f),y=null,h=null,E=null,S===null?B(k):(S=B,n($)&&r($,k))},T},gE}function Vpe(){if(tI)return Sv;tI=!0;const e=globalThis.AbortController||$y().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=Xs(),{validateAbortSignal:s,validateInteger:a,validateObject:l}=c0(),u=Ti().Symbol("kWeak"),f=Ti().Symbol("kResistStopPropagation"),{finished:c}=yd(),p=hG(),{addAbortSignalNoValidate:m}=iT(),{isWritable:g,isNodeStream:_}=Vc(),{deprecate:v}=ys(),{ArrayPrototypePush:h,Boolean:E,MathFloor:y,Number:S,NumberIsNaN:T,Promise:x,PromiseReject:d,PromiseResolve:$,PromisePrototypeThen:O,Symbol:P}=Ti(),k=P("kEmpty"),B=P("kEof");function K(ee,se){if(se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal"),_(ee)&&!g(ee))throw new t("stream",ee,"must be writable");const we=p(this,ee);return se!=null&&se.signal&&m(se.signal,we),we}function ie(ee,se){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal");let we=1;(se==null?void 0:se.concurrency)!=null&&(we=y(se.concurrency));let Oe=we-1;return(se==null?void 0:se.highWaterMark)!=null&&(Oe=y(se.highWaterMark)),a(we,"options.concurrency",1),a(Oe,"options.highWaterMark",0),Oe+=we,(async function*(){const L=ys().AbortSignalAny([se==null?void 0:se.signal].filter(E)),M=this,Z=[],ue={signal:L};let de,ve,Se=!1,Fe=0;function He(){Se=!0,Ve()}function Ve(){Fe-=1,ut()}function ut(){ve&&!Se&&Fe<we&&Z.length<Oe&&(ve(),ve=null)}async function Qe(){try{for await(let Ye of M){if(Se)return;if(L.aborted)throw new o;try{if(Ye=ee(Ye,ue),Ye===k)continue;Ye=$(Ye)}catch(te){Ye=d(te)}Fe+=1,O(Ye,Ve,He),Z.push(Ye),de&&(de(),de=null),!Se&&(Z.length>=Oe||Fe>=we)&&await new x(te=>{ve=te})}Z.push(B)}catch(Ye){const te=d(Ye);O(te,Ve,He),Z.push(te)}finally{Se=!0,de&&(de(),de=null)}}Qe();try{for(;;){for(;Z.length>0;){const Ye=await Z[0];if(Ye===B)return;if(L.aborted)throw new o;Ye!==k&&(yield Ye),Z.shift(),ut()}await new x(Ye=>{de=Ye})}}finally{Se=!0,ve&&(ve(),ve=null)}}).call(this)}function W(ee=void 0){return ee!=null&&l(ee,"options"),(ee==null?void 0:ee.signal)!=null&&s(ee.signal,"options.signal"),(async function*(){let we=0;for await(const I of this){var Oe;if(ee!=null&&(Oe=ee.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o({cause:ee.signal.reason});yield[we++,I]}}).call(this)}async function ne(ee,se=void 0){for await(const we of F.call(this,ee,se))return!0;return!1}async function fe(ee,se=void 0){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);return!await ne.call(this,async(...we)=>!await ee(...we),se)}async function re(ee,se){for await(const we of F.call(this,ee,se))return we}async function le(ee,se){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);async function we(Oe,I){return await ee(Oe,I),k}for await(const Oe of ie.call(this,we,se));}function F(ee,se){if(typeof ee!="function")throw new r("fn",["Function","AsyncFunction"],ee);async function we(Oe,I){return await ee(Oe,I)?Oe:k}return ie.call(this,we,se)}class z extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function J(ee,se,we){var Oe;if(typeof ee!="function")throw new r("reducer",["Function","AsyncFunction"],ee);we!=null&&l(we,"options"),(we==null?void 0:we.signal)!=null&&s(we.signal,"options.signal");let I=arguments.length>1;if(we!=null&&(Oe=we.signal)!==null&&Oe!==void 0&&Oe.aborted){const de=new o(void 0,{cause:we.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(de)),de}const L=new e,M=L.signal;if(we!=null&&we.signal){const de={once:!0,[u]:this,[f]:!0};we.signal.addEventListener("abort",()=>L.abort(),de)}let Z=!1;try{for await(const de of this){var ue;if(Z=!0,we!=null&&(ue=we.signal)!==null&&ue!==void 0&&ue.aborted)throw new o;I?se=await ee(se,de,{signal:M}):(se=de,I=!0)}if(!Z&&!I)throw new z}finally{L.abort()}return se}async function R(ee){ee!=null&&l(ee,"options"),(ee==null?void 0:ee.signal)!=null&&s(ee.signal,"options.signal");const se=[];for await(const Oe of this){var we;if(ee!=null&&(we=ee.signal)!==null&&we!==void 0&&we.aborted)throw new o(void 0,{cause:ee.signal.reason});h(se,Oe)}return se}function C(ee,se){const we=ie.call(this,ee,se);return(async function*(){for await(const I of we)yield*I}).call(this)}function q(ee){if(ee=S(ee),T(ee))return 0;if(ee<0)throw new i("number",">= 0",ee);return ee}function oe(ee,se=void 0){return se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal"),ee=q(ee),(async function*(){var Oe;if(se!=null&&(Oe=se.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o;for await(const L of this){var I;if(se!=null&&(I=se.signal)!==null&&I!==void 0&&I.aborted)throw new o;ee--<=0&&(yield L)}}).call(this)}function X(ee,se=void 0){return se!=null&&l(se,"options"),(se==null?void 0:se.signal)!=null&&s(se.signal,"options.signal"),ee=q(ee),(async function*(){var Oe;if(se!=null&&(Oe=se.signal)!==null&&Oe!==void 0&&Oe.aborted)throw new o;for await(const L of this){var I;if(se!=null&&(I=se.signal)!==null&&I!==void 0&&I.aborted)throw new o;if(ee-- >0&&(yield L),ee<=0)return}}).call(this)}return Sv.streamReturningOperators={asIndexedPairs:v(W,"readable.asIndexedPairs will be removed in a future version."),drop:oe,filter:F,flatMap:C,map:ie,take:X,compose:K},Sv.promiseReturningOperators={every:fe,forEach:le,reduce:J,toArray:R,some:ne,find:re},Sv}function pG(){if(rI)return vE;rI=!0;const{ArrayPrototypePop:e,Promise:t}=Ti(),{isIterable:r,isNodeStream:n,isWebStream:i}=Vc(),{pipelineImpl:o}=g2(),{finished:s}=yd();mG();function a(...l){return new t((u,f)=>{let c,p;const m=l[l.length-1];if(m&&typeof m=="object"&&!n(m)&&!r(m)&&!i(m)){const g=e(l);c=g.signal,p=g.end}o(l,(g,_)=>{g?f(g):u(_)},{signal:c,end:p})})}return vE={finished:s,pipeline:a},vE}function mG(){if(nI)return yE;nI=!0;const{Buffer:e}=Js(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Ti(),{promisify:{custom:i}}=ys(),{streamReturningOperators:o,promiseReturningOperators:s}=Vpe(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Xs(),l=hG(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=oT(),{pipeline:c}=g2(),{destroyer:p}=ug(),m=yd(),g=pG(),_=Vc(),v=yE=p2().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=sT();for(const E of r(o)){let y=function(...T){if(new.target)throw a();return v.Readable.from(n(S,this||iI,T))};const S=o[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const E of r(s)){let y=function(...T){if(new.target)throw a();return n(S,this||iI,T)};const S=s[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=m2(),v.Duplex=Mc(),v.Transform=fG(),v.PassThrough=dG(),v.pipeline=c;const{addAbortSignal:h}=iT();return v.addAbortSignal=h,v.finished=m,v.destroy=p,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),t(c,i,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),t(m,i,{__proto__:null,enumerable:!0,get(){return g.finished}}),v.Stream=v,v._isUint8Array=function(y){return y instanceof Uint8Array},v._uint8ArrayToBuffer=function(y){return e.from(y.buffer,y.byteOffset,y.byteLength)},yE}function Hpe(){if(oI)return pi;oI=!0;const e=mG(),t=pG(),r=e.Readable.destroy;return pi=e.Readable,pi._uint8ArrayToBuffer=e._uint8ArrayToBuffer,pi._isUint8Array=e._isUint8Array,pi.isDisturbed=e.isDisturbed,pi.isErrored=e.isErrored,pi.isReadable=e.isReadable,pi.Readable=e.Readable,pi.Writable=e.Writable,pi.Duplex=e.Duplex,pi.Transform=e.Transform,pi.PassThrough=e.PassThrough,pi.addAbortSignal=e.addAbortSignal,pi.finished=e.finished,pi.destroy=e.destroy,pi.destroy=r,pi.pipeline=e.pipeline,pi.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),pi.Stream=e.Stream,pi.default=pi,pi}var eE,kN,Gp,jN,_v,DN,tE,MN,rE,LN,nE,FN,Ev,BN,iE,UN,oE,zN,Kp,qN,sE,VN,aE,HN,lE,WN,uE,GN,_t,cE,KN,Dt,fE,JN,dE,YN,hE,XN,pE,QN,mE,ZN,gE,eI,Sv,tI,vE,rI,yE,nI,iI,pi,oI,zn,wE,gG,vG,yG,wG,bG,_G,EG,SG,ml=Vn({"../../node_modules/@jspm/core/nodelibs/browser/stream.js"(){Ce(),W1(),NW(),a0(),iH(),nT(),d2(),Qk(),eE={},kN=!1,Gp={},jN=!1,_v={},DN=!1,tE={},MN=!1,rE={},LN=!1,nE={},FN=!1,Ev={},BN=!1,iE={},UN=!1,oE={},zN=!1,Kp={},qN=!1,sE={},VN=!1,aE={},HN=!1,lE={},WN=!1,uE={},GN=!1,_t=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,cE={},KN=!1,Dt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,fE={},JN=!1,dE={},YN=!1,hE={},XN=!1,pE={},QN=!1,mE={},ZN=!1,gE={},eI=!1,Sv={},tI=!1,vE={},rI=!1,yE={},nI=!1,iI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,pi={},oI=!1,zn=Hpe(),zn._uint8ArrayToBuffer,zn._isUint8Array,zn.isDisturbed,zn.isErrored,zn.isReadable,zn.Readable,zn.Writable,zn.Duplex,zn.Transform,zn.PassThrough,zn.addAbortSignal,zn.finished,zn.destroy,zn.pipeline,zn.compose,zn.Stream,wE=zn.Readable,wE.wrap=function(e,t){return t=Object.assign({objectMode:e.readableObjectMode!=null||e.objectMode!=null||!0},t),t.destroy=function(r,n){e.destroy(r),n(r)},new wE(t).wrap(e)},gG=zn.Writable,vG=zn.Duplex,yG=zn.Transform,wG=zn.PassThrough,bG=zn.finished,_G=zn.pipeline,EG=zn.Stream,SG={finished:BS(zn.finished),pipeline:BS(zn.pipeline)}}}),y2=Le({"../../node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){Ce(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).WebStreamsPolyfill={})}(e,function(r){function n(){}function i(G){return typeof G=="object"&&G!==null||typeof G=="function"}const o=n;function s(G,Y){try{Object.defineProperty(G,"name",{value:Y,configurable:!0})}catch{}}const a=Promise,l=Promise.resolve.bind(a),u=Promise.prototype.then,f=Promise.reject.bind(a),c=l;function p(G){return new a(G)}function m(G){return p(Y=>Y(G))}function g(G){return f(G)}function _(G,Y,ge){return u.call(G,Y,ge)}function v(G,Y,ge){_(_(G,Y,ge),void 0,o)}function h(G,Y){v(G,Y)}function E(G,Y){v(G,void 0,Y)}function y(G,Y,ge){return _(G,Y,ge)}function S(G){_(G,void 0,o)}let T=G=>{if(typeof queueMicrotask=="function")T=queueMicrotask;else{const Y=m(void 0);T=ge=>_(Y,ge)}return T(G)};function x(G,Y,ge){if(typeof G!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(G,Y,ge)}function d(G,Y,ge){try{return m(x(G,Y,ge))}catch(be){return g(be)}}class ${constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(Y){const ge=this._back;let be=ge;ge._elements.length===16383&&(be={_elements:[],_next:void 0}),ge._elements.push(Y),be!==ge&&(this._back=be,ge._next=be),++this._size}shift(){const Y=this._front;let ge=Y;const be=this._cursor;let qe=be+1;const Ge=Y._elements,tt=Ge[be];return qe===16384&&(ge=Y._next,qe=0),--this._size,this._cursor=qe,Y!==ge&&(this._front=ge),Ge[be]=void 0,tt}forEach(Y){let ge=this._cursor,be=this._front,qe=be._elements;for(;!(ge===qe.length&&be._next===void 0||ge===qe.length&&(be=be._next,qe=be._elements,ge=0,qe.length===0));)Y(qe[ge]),++ge}peek(){const Y=this._front,ge=this._cursor;return Y._elements[ge]}}const O=Symbol("[[AbortSteps]]"),P=Symbol("[[ErrorSteps]]"),k=Symbol("[[CancelSteps]]"),B=Symbol("[[PullSteps]]"),K=Symbol("[[ReleaseSteps]]");function ie(G,Y){G._ownerReadableStream=Y,Y._reader=G,Y._state==="readable"?re(G):Y._state==="closed"?function(ge){re(ge),z(ge)}(G):le(G,Y._storedError)}function W(G,Y){return Un(G._ownerReadableStream,Y)}function ne(G){const Y=G._ownerReadableStream;Y._state==="readable"?F(G,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(ge,be){le(ge,be)}(G,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),Y._readableStreamController[K](),Y._reader=void 0,G._ownerReadableStream=void 0}function fe(G){return new TypeError("Cannot "+G+" a stream using a released reader")}function re(G){G._closedPromise=p((Y,ge)=>{G._closedPromise_resolve=Y,G._closedPromise_reject=ge})}function le(G,Y){re(G),F(G,Y)}function F(G,Y){G._closedPromise_reject!==void 0&&(S(G._closedPromise),G._closedPromise_reject(Y),G._closedPromise_resolve=void 0,G._closedPromise_reject=void 0)}function z(G){G._closedPromise_resolve!==void 0&&(G._closedPromise_resolve(void 0),G._closedPromise_resolve=void 0,G._closedPromise_reject=void 0)}const J=Number.isFinite||function(G){return typeof G=="number"&&isFinite(G)},R=Math.trunc||function(G){return G<0?Math.ceil(G):Math.floor(G)};function C(G,Y){if(G!==void 0&&typeof(ge=G)!="object"&&typeof ge!="function")throw new TypeError(`${Y} is not an object.`);var ge}function q(G,Y){if(typeof G!="function")throw new TypeError(`${Y} is not a function.`)}function oe(G,Y){if(!function(ge){return typeof ge=="object"&&ge!==null||typeof ge=="function"}(G))throw new TypeError(`${Y} is not an object.`)}function X(G,Y,ge){if(G===void 0)throw new TypeError(`Parameter ${Y} is required in '${ge}'.`)}function ee(G,Y,ge){if(G===void 0)throw new TypeError(`${Y} is required in '${ge}'.`)}function se(G){return Number(G)}function we(G){return G===0?0:G}function Oe(G,Y){const ge=Number.MAX_SAFE_INTEGER;let be=Number(G);if(be=we(be),!J(be))throw new TypeError(`${Y} is not a finite number`);if(be=function(qe){return we(R(qe))}(be),be<0||be>ge)throw new TypeError(`${Y} is outside the accepted range of 0 to ${ge}, inclusive`);return J(be)&&be!==0?be:0}function I(G,Y){if(!ki(G))throw new TypeError(`${Y} is not a ReadableStream.`)}function L(G){return new ve(G)}function M(G,Y){G._reader._readRequests.push(Y)}function Z(G,Y,ge){const be=G._reader._readRequests.shift();ge?be._closeSteps():be._chunkSteps(Y)}function ue(G){return G._reader._readRequests.length}function de(G){const Y=G._reader;return Y!==void 0&&!!Se(Y)}class ve{constructor(Y){if(X(Y,1,"ReadableStreamDefaultReader"),I(Y,"First parameter"),Hi(Y))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ie(this,Y),this._readRequests=new $}get closed(){return Se(this)?this._closedPromise:g(Ve("closed"))}cancel(Y=void 0){return Se(this)?this._ownerReadableStream===void 0?g(fe("cancel")):W(this,Y):g(Ve("cancel"))}read(){if(!Se(this))return g(Ve("read"));if(this._ownerReadableStream===void 0)return g(fe("read from"));let Y,ge;const be=p((qe,Ge)=>{Y=qe,ge=Ge});return Fe(this,{_chunkSteps:qe=>Y({value:qe,done:!1}),_closeSteps:()=>Y({value:void 0,done:!0}),_errorSteps:qe=>ge(qe)}),be}releaseLock(){if(!Se(this))throw Ve("releaseLock");this._ownerReadableStream!==void 0&&function(Y){ne(Y);const ge=new TypeError("Reader was released");He(Y,ge)}(this)}}function Se(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_readRequests")&&G instanceof ve}function Fe(G,Y){const ge=G._ownerReadableStream;ge._disturbed=!0,ge._state==="closed"?Y._closeSteps():ge._state==="errored"?Y._errorSteps(ge._storedError):ge._readableStreamController[B](Y)}function He(G,Y){const ge=G._readRequests;G._readRequests=new $,ge.forEach(be=>{be._errorSteps(Y)})}function Ve(G){return new TypeError(`ReadableStreamDefaultReader.prototype.${G} can only be used on a ReadableStreamDefaultReader`)}var ut,Qe,Ye;function te(G){return G.slice()}function j(G,Y,ge,be,qe){new Uint8Array(G).set(new Uint8Array(ge,be,qe),Y)}Object.defineProperties(ve.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(ve.prototype.cancel,"cancel"),s(ve.prototype.read,"read"),s(ve.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ve.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let U=G=>(U=typeof G.transfer=="function"?Y=>Y.transfer():typeof structuredClone=="function"?Y=>structuredClone(Y,{transfer:[Y]}):Y=>Y,U(G)),ce=G=>(ce=typeof G.detached=="boolean"?Y=>Y.detached:Y=>Y.byteLength===0,ce(G));function Te(G,Y,ge){if(G.slice)return G.slice(Y,ge);const be=ge-Y,qe=new ArrayBuffer(be);return j(qe,0,G,Y,be),qe}function Re(G,Y){const ge=G[Y];if(ge!=null){if(typeof ge!="function")throw new TypeError(`${String(Y)} is not a function`);return ge}}function ze(G){try{const Y=G.done,ge=G.value;return _(c(ge),be=>({done:Y,value:be}))}catch(Y){return g(Y)}}const Be=(Ye=(ut=Symbol.asyncIterator)!==null&&ut!==void 0?ut:(Qe=Symbol.for)===null||Qe===void 0?void 0:Qe.call(Symbol,"Symbol.asyncIterator"))!==null&&Ye!==void 0?Ye:"@@asyncIterator";function Xe(G,Y="sync",ge){if(ge===void 0)if(Y==="async"){if((ge=Re(G,Be))===void 0)return function(qe){const Ge={next(){let tt;try{tt=vt(qe)}catch(Ze){return g(Ze)}return ze(tt)},return(tt){let Ze;try{const ot=Re(qe.iterator,"return");if(ot===void 0)return m({done:!0,value:tt});Ze=x(ot,qe.iterator,[tt])}catch(ot){return g(ot)}return i(Ze)?ze(Ze):g(new TypeError("The iterator.return() method must return an object"))}};return{iterator:Ge,nextMethod:Ge.next,done:!1}}(Xe(G,"sync",Re(G,Symbol.iterator)))}else ge=Re(G,Symbol.iterator);if(ge===void 0)throw new TypeError("The object is not iterable");const be=x(ge,G,[]);if(!i(be))throw new TypeError("The iterator method must return an object");return{iterator:be,nextMethod:be.next,done:!1}}function vt(G){const Y=x(G.nextMethod,G.iterator,[]);if(!i(Y))throw new TypeError("The iterator.next() method must return an object");return Y}class St{constructor(Y,ge){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=Y,this._preventCancel=ge}next(){const Y=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,Y,Y):Y(),this._ongoingPromise}return(Y){const ge=()=>this._returnSteps(Y);return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,ge,ge):ge(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const Y=this._reader;let ge,be;const qe=p((Ge,tt)=>{ge=Ge,be=tt});return Fe(Y,{_chunkSteps:Ge=>{this._ongoingPromise=void 0,T(()=>ge({value:Ge,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(Y),ge({value:void 0,done:!0})},_errorSteps:Ge=>{this._ongoingPromise=void 0,this._isFinished=!0,ne(Y),be(Ge)}}),qe}_returnSteps(Y){if(this._isFinished)return Promise.resolve({value:Y,done:!0});this._isFinished=!0;const ge=this._reader;if(!this._preventCancel){const be=W(ge,Y);return ne(ge),y(be,()=>({value:Y,done:!0}))}return ne(ge),m({value:Y,done:!0})}}const yt={next(){return Yt(this)?this._asyncIteratorImpl.next():g(Jr("next"))},return(G){return Yt(this)?this._asyncIteratorImpl.return(G):g(Jr("return"))},[Be](){return this}};function Yt(G){if(!i(G)||!Object.prototype.hasOwnProperty.call(G,"_asyncIteratorImpl"))return!1;try{return G._asyncIteratorImpl instanceof St}catch{return!1}}function Jr(G){return new TypeError(`ReadableStreamAsyncIterator.${G} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(yt,Be,{enumerable:!1});const cn=Number.isNaN||function(G){return G!=G};function Tr(G){const Y=Te(G.buffer,G.byteOffset,G.byteOffset+G.byteLength);return new Uint8Array(Y)}function Rr(G){const Y=G._queue.shift();return G._queueTotalSize-=Y.size,G._queueTotalSize<0&&(G._queueTotalSize=0),Y.value}function Nn(G,Y,ge){if(typeof(be=ge)!="number"||cn(be)||be<0||ge===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var be;G._queue.push({value:Y,size:ge}),G._queueTotalSize+=ge}function wr(G){G._queue=new $,G._queueTotalSize=0}function cr(G){return G===DataView}class ar{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ft(this))throw nn("view");return this._view}respond(Y){if(!ft(this))throw nn("respond");if(X(Y,1,"respond"),Y=Oe(Y,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ce(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Zr(this._associatedReadableByteStreamController,Y)}respondWithNewView(Y){if(!ft(this))throw nn("respondWithNewView");if(X(Y,1,"respondWithNewView"),!ArrayBuffer.isView(Y))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ce(Y.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");ni(this._associatedReadableByteStreamController,Y)}}Object.defineProperties(ar.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),s(ar.prototype.respond,"respond"),s(ar.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ar.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ie{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ke(this))throw vn("byobRequest");return Fr(this)}get desiredSize(){if(!ke(this))throw vn("desiredSize");return mn(this)}close(){if(!ke(this))throw vn("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const Y=this._controlledReadableByteStream._state;if(Y!=="readable")throw new TypeError(`The stream (in ${Y} state) is not in the readable state and cannot be closed`);It(this)}enqueue(Y){if(!ke(this))throw vn("enqueue");if(X(Y,1,"enqueue"),!ArrayBuffer.isView(Y))throw new TypeError("chunk must be an array buffer view");if(Y.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(Y.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const ge=this._controlledReadableByteStream._state;if(ge!=="readable")throw new TypeError(`The stream (in ${ge} state) is not in the readable state and cannot be enqueued to`);nr(this,Y)}error(Y=void 0){if(!ke(this))throw vn("error");Zt(this,Y)}[k](Y){Lt(this),wr(this);const ge=this._cancelAlgorithm(Y);return ur(this),ge}[B](Y){const ge=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ut(this,Y);const be=this._autoAllocateChunkSize;if(be!==void 0){let qe;try{qe=new ArrayBuffer(be)}catch(tt){return void Y._errorSteps(tt)}const Ge={buffer:qe,bufferByteLength:be,byteOffset:0,byteLength:be,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ge)}M(ge,Y),bt(this)}[K](){if(this._pendingPullIntos.length>0){const Y=this._pendingPullIntos.peek();Y.readerType="none",this._pendingPullIntos=new $,this._pendingPullIntos.push(Y)}}}function ke(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_controlledReadableByteStream")&&G instanceof Ie}function ft(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_associatedReadableByteStreamController")&&G instanceof ar}function bt(G){if(function(ge){const be=ge._controlledReadableByteStream;return be._state!=="readable"||ge._closeRequested||!ge._started?!1:!!(de(be)&&ue(be)>0||Wo(be)&&Ss(be)>0||mn(ge)>0)}(G)){if(G._pulling)return void(G._pullAgain=!0);G._pulling=!0,v(G._pullAlgorithm(),()=>(G._pulling=!1,G._pullAgain&&(G._pullAgain=!1,bt(G)),null),ge=>(Zt(G,ge),null))}}function Lt(G){At(G),G._pendingPullIntos=new $}function xt(G,Y){let ge=!1;G._state==="closed"&&(ge=!0);const be=ye(Y);Y.readerType==="default"?Z(G,be,ge):function(qe,Ge,tt){const Ze=qe._reader,ot=Ze._readIntoRequests.shift();tt?ot._closeSteps(Ge):ot._chunkSteps(Ge)}(G,be,ge)}function Mt(G,Y){for(let ge=0;ge<Y.length;++ge)xt(G,Y[ge])}function ye(G){const Y=G.bytesFilled,ge=G.elementSize;return new G.viewConstructor(G.buffer,G.byteOffset,Y/ge)}function me(G,Y,ge,be){G._queue.push({buffer:Y,byteOffset:ge,byteLength:be}),G._queueTotalSize+=be}function $e(G,Y,ge,be){let qe;try{qe=Te(Y,ge,ge+be)}catch(Ge){throw Zt(G,Ge),Ge}me(G,qe,0,be)}function Me(G,Y){Y.bytesFilled>0&&$e(G,Y.buffer,Y.byteOffset,Y.bytesFilled),qt(G)}function De(G,Y){const ge=Math.min(G._queueTotalSize,Y.byteLength-Y.bytesFilled),be=Y.bytesFilled+ge;let qe=ge,Ge=!1;const tt=be-be%Y.elementSize;tt>=Y.minimumFill&&(qe=tt-Y.bytesFilled,Ge=!0);const Ze=G._queue;for(;qe>0;){const ot=Ze.peek(),Ot=Math.min(qe,ot.byteLength),Pt=Y.byteOffset+Y.bytesFilled;j(Y.buffer,Pt,ot.buffer,ot.byteOffset,Ot),ot.byteLength===Ot?Ze.shift():(ot.byteOffset+=Ot,ot.byteLength-=Ot),G._queueTotalSize-=Ot,dt(G,Ot,Y),qe-=Ot}return Ge}function dt(G,Y,ge){ge.bytesFilled+=Y}function mt(G){G._queueTotalSize===0&&G._closeRequested?(ur(G),ra(G._controlledReadableByteStream)):bt(G)}function At(G){G._byobRequest!==null&&(G._byobRequest._associatedReadableByteStreamController=void 0,G._byobRequest._view=null,G._byobRequest=null)}function Ht(G){const Y=[];for(;G._pendingPullIntos.length>0&&G._queueTotalSize!==0;){const ge=G._pendingPullIntos.peek();De(G,ge)&&(qt(G),Y.push(ge))}return Y}function Xt(G,Y,ge,be){const qe=G._controlledReadableByteStream,Ge=Y.constructor,tt=function(Ct){return cr(Ct)?1:Ct.BYTES_PER_ELEMENT}(Ge),{byteOffset:Ze,byteLength:ot}=Y,Ot=ge*tt;let Pt;try{Pt=U(Y.buffer)}catch(Ct){return void be._errorSteps(Ct)}const Wt={buffer:Pt,bufferByteLength:Pt.byteLength,byteOffset:Ze,byteLength:ot,bytesFilled:0,minimumFill:Ot,elementSize:tt,viewConstructor:Ge,readerType:"byob"};if(G._pendingPullIntos.length>0)return G._pendingPullIntos.push(Wt),void zi(qe,be);if(qe._state!=="closed"){if(G._queueTotalSize>0){if(De(G,Wt)){const Ct=ye(Wt);return mt(G),void be._chunkSteps(Ct)}if(G._closeRequested){const Ct=new TypeError("Insufficient bytes to fill elements in the given buffer");return Zt(G,Ct),void be._errorSteps(Ct)}}G._pendingPullIntos.push(Wt),zi(qe,be),bt(G)}else{const Ct=new Ge(Wt.buffer,Wt.byteOffset,0);be._closeSteps(Ct)}}function Ft(G,Y){const ge=G._pendingPullIntos.peek();At(G),G._controlledReadableByteStream._state==="closed"?function(be,qe){qe.readerType==="none"&&qt(be);const Ge=be._controlledReadableByteStream;if(Wo(Ge)){const tt=[];for(let Ze=0;Ze<Ss(Ge);++Ze)tt.push(qt(be));Mt(Ge,tt)}}(G,ge):function(be,qe,Ge){if(dt(0,qe,Ge),Ge.readerType==="none"){Me(be,Ge);const ot=Ht(be);return void Mt(be._controlledReadableByteStream,ot)}if(Ge.bytesFilled<Ge.minimumFill)return;qt(be);const tt=Ge.bytesFilled%Ge.elementSize;if(tt>0){const ot=Ge.byteOffset+Ge.bytesFilled;$e(be,Ge.buffer,ot-tt,tt)}Ge.bytesFilled-=tt;const Ze=Ht(be);xt(be._controlledReadableByteStream,Ge),Mt(be._controlledReadableByteStream,Ze)}(G,Y,ge),bt(G)}function qt(G){return G._pendingPullIntos.shift()}function ur(G){G._pullAlgorithm=void 0,G._cancelAlgorithm=void 0}function It(G){const Y=G._controlledReadableByteStream;if(!G._closeRequested&&Y._state==="readable")if(G._queueTotalSize>0)G._closeRequested=!0;else{if(G._pendingPullIntos.length>0){const ge=G._pendingPullIntos.peek();if(ge.bytesFilled%ge.elementSize!=0){const be=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Zt(G,be),be}}ur(G),ra(Y)}}function nr(G,Y){const ge=G._controlledReadableByteStream;if(G._closeRequested||ge._state!=="readable")return;const{buffer:be,byteOffset:qe,byteLength:Ge}=Y;if(ce(be))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const tt=U(be);if(G._pendingPullIntos.length>0){const Ze=G._pendingPullIntos.peek();if(ce(Ze.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");At(G),Ze.buffer=U(Ze.buffer),Ze.readerType==="none"&&Me(G,Ze)}if(de(ge))(function(Ze){const ot=Ze._controlledReadableByteStream._reader;for(;ot._readRequests.length>0;){if(Ze._queueTotalSize===0)return;Ut(Ze,ot._readRequests.shift())}})(G),ue(ge)===0?me(G,tt,qe,Ge):(G._pendingPullIntos.length>0&&qt(G),Z(ge,new Uint8Array(tt,qe,Ge),!1));else if(Wo(ge)){me(G,tt,qe,Ge);const Ze=Ht(G);Mt(G._controlledReadableByteStream,Ze)}else me(G,tt,qe,Ge);bt(G)}function Zt(G,Y){const ge=G._controlledReadableByteStream;ge._state==="readable"&&(Lt(G),wr(G),ur(G),Os(ge,Y))}function Ut(G,Y){const ge=G._queue.shift();G._queueTotalSize-=ge.byteLength,mt(G);const be=new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength);Y._chunkSteps(be)}function Fr(G){if(G._byobRequest===null&&G._pendingPullIntos.length>0){const Y=G._pendingPullIntos.peek(),ge=new Uint8Array(Y.buffer,Y.byteOffset+Y.bytesFilled,Y.byteLength-Y.bytesFilled),be=Object.create(ar.prototype);(function(qe,Ge,tt){qe._associatedReadableByteStreamController=Ge,qe._view=tt})(be,G,ge),G._byobRequest=be}return G._byobRequest}function mn(G){const Y=G._controlledReadableByteStream._state;return Y==="errored"?null:Y==="closed"?0:G._strategyHWM-G._queueTotalSize}function Zr(G,Y){const ge=G._pendingPullIntos.peek();if(G._controlledReadableByteStream._state==="closed"){if(Y!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(Y===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(ge.bytesFilled+Y>ge.byteLength)throw new RangeError("bytesWritten out of range")}ge.buffer=U(ge.buffer),Ft(G,Y)}function ni(G,Y){const ge=G._pendingPullIntos.peek();if(G._controlledReadableByteStream._state==="closed"){if(Y.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(Y.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(ge.byteOffset+ge.bytesFilled!==Y.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(ge.bufferByteLength!==Y.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(ge.bytesFilled+Y.byteLength>ge.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const be=Y.byteLength;ge.buffer=U(Y.buffer),Ft(G,be)}function Hn(G,Y,ge,be,qe,Ge,tt){Y._controlledReadableByteStream=G,Y._pullAgain=!1,Y._pulling=!1,Y._byobRequest=null,Y._queue=Y._queueTotalSize=void 0,wr(Y),Y._closeRequested=!1,Y._started=!1,Y._strategyHWM=Ge,Y._pullAlgorithm=be,Y._cancelAlgorithm=qe,Y._autoAllocateChunkSize=tt,Y._pendingPullIntos=new $,G._readableStreamController=Y,v(m(ge()),()=>(Y._started=!0,bt(Y),null),Ze=>(Zt(Y,Ze),null))}function nn(G){return new TypeError(`ReadableStreamBYOBRequest.prototype.${G} can only be used on a ReadableStreamBYOBRequest`)}function vn(G){return new TypeError(`ReadableByteStreamController.prototype.${G} can only be used on a ReadableByteStreamController`)}function $i(G,Y){if((G=`${G}`)!="byob")throw new TypeError(`${Y} '${G}' is not a valid enumeration value for ReadableStreamReaderMode`);return G}function Wn(G){return new on(G)}function zi(G,Y){G._reader._readIntoRequests.push(Y)}function Ss(G){return G._reader._readIntoRequests.length}function Wo(G){const Y=G._reader;return Y!==void 0&&!!Gn(Y)}Object.defineProperties(Ie.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Ie.prototype.close,"close"),s(Ie.prototype.enqueue,"enqueue"),s(Ie.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ie.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class on{constructor(Y){if(X(Y,1,"ReadableStreamBYOBReader"),I(Y,"First parameter"),Hi(Y))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ke(Y._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ie(this,Y),this._readIntoRequests=new $}get closed(){return Gn(this)?this._closedPromise:g(Go("closed"))}cancel(Y=void 0){return Gn(this)?this._ownerReadableStream===void 0?g(fe("cancel")):W(this,Y):g(Go("cancel"))}read(Y,ge={}){if(!Gn(this))return g(Go("read"));if(!ArrayBuffer.isView(Y))return g(new TypeError("view must be an array buffer view"));if(Y.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(Y.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(ce(Y.buffer))return g(new TypeError("view's buffer has been detached"));let be;try{be=function(ot,Ot){var Pt;return C(ot,Ot),{min:Oe((Pt=ot==null?void 0:ot.min)!==null&&Pt!==void 0?Pt:1,`${Ot} has member 'min' that`)}}(ge,"options")}catch(ot){return g(ot)}const qe=be.min;if(qe===0)return g(new TypeError("options.min must be greater than 0"));if(function(ot){return cr(ot.constructor)}(Y)){if(qe>Y.byteLength)return g(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(qe>Y.length)return g(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return g(fe("read from"));let Ge,tt;const Ze=p((ot,Ot)=>{Ge=ot,tt=Ot});return xi(this,Y,qe,{_chunkSteps:ot=>Ge({value:ot,done:!1}),_closeSteps:ot=>Ge({value:ot,done:!0}),_errorSteps:ot=>tt(ot)}),Ze}releaseLock(){if(!Gn(this))throw Go("releaseLock");this._ownerReadableStream!==void 0&&function(Y){ne(Y);const ge=new TypeError("Reader was released");Na(Y,ge)}(this)}}function Gn(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_readIntoRequests")&&G instanceof on}function xi(G,Y,ge,be){const qe=G._ownerReadableStream;qe._disturbed=!0,qe._state==="errored"?be._errorSteps(qe._storedError):Xt(qe._readableStreamController,Y,ge,be)}function Na(G,Y){const ge=G._readIntoRequests;G._readIntoRequests=new $,ge.forEach(be=>{be._errorSteps(Y)})}function Go(G){return new TypeError(`ReadableStreamBYOBReader.prototype.${G} can only be used on a ReadableStreamBYOBReader`)}function Zn(G,Y){const{highWaterMark:ge}=G;if(ge===void 0)return Y;if(cn(ge)||ge<0)throw new RangeError("Invalid highWaterMark");return ge}function iu(G){const{size:Y}=G;return Y||(()=>1)}function wl(G,Y){C(G,Y);const ge=G==null?void 0:G.highWaterMark,be=G==null?void 0:G.size;return{highWaterMark:ge===void 0?void 0:se(ge),size:be===void 0?void 0:Ad(be,`${Y} has member 'size' that`)}}function Ad(G,Y){return q(G,Y),ge=>se(G(ge))}function fp(G,Y,ge){return q(G,ge),be=>d(G,Y,[be])}function Od(G,Y,ge){return q(G,ge),()=>d(G,Y,[])}function Ko(G,Y,ge){return q(G,ge),be=>x(G,Y,[be])}function Pd(G,Y,ge){return q(G,ge),(be,qe)=>d(G,Y,[be,qe])}function Ia(G,Y){if(!ho(G))throw new TypeError(`${Y} is not a WritableStream.`)}Object.defineProperties(on.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(on.prototype.cancel,"cancel"),s(on.prototype.read,"read"),s(on.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(on.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Ts{constructor(Y={},ge={}){Y===void 0?Y=null:oe(Y,"First parameter");const be=wl(ge,"Second parameter"),qe=function(tt,Ze){C(tt,Ze);const ot=tt==null?void 0:tt.abort,Ot=tt==null?void 0:tt.close,Pt=tt==null?void 0:tt.start,Wt=tt==null?void 0:tt.type,Ct=tt==null?void 0:tt.write;return{abort:ot===void 0?void 0:fp(ot,tt,`${Ze} has member 'abort' that`),close:Ot===void 0?void 0:Od(Ot,tt,`${Ze} has member 'close' that`),start:Pt===void 0?void 0:Ko(Pt,tt,`${Ze} has member 'start' that`),write:Ct===void 0?void 0:Pd(Ct,tt,`${Ze} has member 'write' that`),type:Wt}}(Y,"First parameter");if(ea(this),qe.type!==void 0)throw new RangeError("Invalid type is specified");const Ge=iu(be);(function(tt,Ze,ot,Ot){const Pt=Object.create(su.prototype);let Wt,Ct,rr,Or;Wt=Ze.start!==void 0?()=>Ze.start(Pt):()=>{},Ct=Ze.write!==void 0?Br=>Ze.write(Br,Pt):()=>m(void 0),rr=Ze.close!==void 0?()=>Ze.close():()=>m(void 0),Or=Ze.abort!==void 0?Br=>Ze.abort(Br):()=>m(void 0),$n(tt,Pt,Wt,Ct,rr,Or,ot,Ot)})(this,qe,Zn(be,1),Ge)}get locked(){if(!ho(this))throw Zc("locked");return Ca(this)}abort(Y=void 0){return ho(this)?Ca(this)?g(new TypeError("Cannot abort a stream that already has a writer")):Yu(this,Y):g(Zc("abort"))}close(){return ho(this)?Ca(this)?g(new TypeError("Cannot close a stream that already has a writer")):Jo(this)?g(new TypeError("Cannot close an already-closing stream")):_l(this):g(Zc("close"))}getWriter(){if(!ho(this))throw Zc("getWriter");return bl(this)}}function bl(G){return new ta(G)}function ea(G){G._state="writable",G._storedError=void 0,G._writer=void 0,G._writableStreamController=void 0,G._writeRequests=new $,G._inFlightWriteRequest=void 0,G._closeRequest=void 0,G._inFlightCloseRequest=void 0,G._pendingAbortRequest=void 0,G._backpressure=!1}function ho(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_writableStreamController")&&G instanceof Ts}function Ca(G){return G._writer!==void 0}function Yu(G,Y){var ge;if(G._state==="closed"||G._state==="errored")return m(void 0);G._writableStreamController._abortReason=Y,(ge=G._writableStreamController._abortController)===null||ge===void 0||ge.abort(Y);const be=G._state;if(be==="closed"||be==="errored")return m(void 0);if(G._pendingAbortRequest!==void 0)return G._pendingAbortRequest._promise;let qe=!1;be==="erroring"&&(qe=!0,Y=void 0);const Ge=p((tt,Ze)=>{G._pendingAbortRequest={_promise:void 0,_resolve:tt,_reject:Ze,_reason:Y,_wasAlreadyErroring:qe}});return G._pendingAbortRequest._promise=Ge,qe||ou(G,Y),Ge}function _l(G){const Y=G._state;if(Y==="closed"||Y==="errored")return g(new TypeError(`The stream (in ${Y} state) is not in the writable state and cannot be closed`));const ge=p((Ge,tt)=>{const Ze={_resolve:Ge,_reject:tt};G._closeRequest=Ze}),be=G._writer;var qe;return be!==void 0&&G._backpressure&&Y==="writable"&&he(be),Nn(qe=G._writableStreamController,pp,0),au(qe),ge}function Xu(G,Y){G._state!=="writable"?Gc(G):ou(G,Y)}function ou(G,Y){const ge=G._writableStreamController;G._state="erroring",G._storedError=Y;const be=G._writer;be!==void 0&&Yc(be,Y),!function(qe){return!(qe._inFlightWriteRequest===void 0&&qe._inFlightCloseRequest===void 0)}(G)&&ge._started&&Gc(G)}function Gc(G){G._state="errored",G._writableStreamController[P]();const Y=G._storedError;if(G._writeRequests.forEach(be=>{be._reject(Y)}),G._writeRequests=new $,G._pendingAbortRequest===void 0)return void Kc(G);const ge=G._pendingAbortRequest;if(G._pendingAbortRequest=void 0,ge._wasAlreadyErroring)return ge._reject(Y),void Kc(G);v(G._writableStreamController[O](ge._reason),()=>(ge._resolve(),Kc(G),null),be=>(ge._reject(be),Kc(G),null))}function Jo(G){return G._closeRequest!==void 0||G._inFlightCloseRequest!==void 0}function Kc(G){G._closeRequest!==void 0&&(G._closeRequest._reject(G._storedError),G._closeRequest=void 0);const Y=G._writer;Y!==void 0&&tf(Y,G._storedError)}function Qu(G,Y){const ge=G._writer;ge!==void 0&&Y!==G._backpressure&&(Y?function(be){qi(be)}(ge):he(ge)),G._backpressure=Y}Object.defineProperties(Ts.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),s(Ts.prototype.abort,"abort"),s(Ts.prototype.close,"close"),s(Ts.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ts.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class ta{constructor(Y){if(X(Y,1,"WritableStreamDefaultWriter"),Ia(Y,"First parameter"),Ca(Y))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=Y,Y._writer=this;const ge=Y._state;if(ge==="writable")!Jo(Y)&&Y._backpressure?qi(this):H(this),Tl(this);else if(ge==="erroring")D(this,Y._storedError),Tl(this);else if(ge==="closed")H(this),Tl(be=this),rf(be);else{const qe=Y._storedError;D(this,qe),$s(this,qe)}var be}get closed(){return El(this)?this._closedPromise:g(Sl("closed"))}get desiredSize(){if(!El(this))throw Sl("desiredSize");if(this._ownerWritableStream===void 0)throw Dn("desiredSize");return function(Y){const ge=Y._ownerWritableStream,be=ge._state;return be==="errored"||be==="erroring"?null:be==="closed"?0:Nd(ge._writableStreamController)}(this)}get ready(){return El(this)?this._readyPromise:g(Sl("ready"))}abort(Y=void 0){return El(this)?this._ownerWritableStream===void 0?g(Dn("abort")):function(ge,be){return Yu(ge._ownerWritableStream,be)}(this,Y):g(Sl("abort"))}close(){if(!El(this))return g(Sl("close"));const Y=this._ownerWritableStream;return Y===void 0?g(Dn("close")):Jo(Y)?g(new TypeError("Cannot close an already-closing stream")):Jc(this)}releaseLock(){if(!El(this))throw Sl("releaseLock");this._ownerWritableStream!==void 0&&dp(this)}write(Y=void 0){return El(this)?this._ownerWritableStream===void 0?g(Dn("write to")):hp(this,Y):g(Sl("write"))}}function El(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_ownerWritableStream")&&G instanceof ta}function Jc(G){return _l(G._ownerWritableStream)}function Eg(G,Y){G._closedPromiseState==="pending"?tf(G,Y):function(ge,be){$s(ge,be)}(G,Y)}function Yc(G,Y){G._readyPromiseState==="pending"?ae(G,Y):function(ge,be){D(ge,be)}(G,Y)}function dp(G){const Y=G._ownerWritableStream,ge=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Yc(G,ge),Eg(G,ge),Y._writer=void 0,G._ownerWritableStream=void 0}function hp(G,Y){const ge=G._ownerWritableStream,be=ge._writableStreamController,qe=function(Ze,ot){if(Ze._strategySizeAlgorithm===void 0)return 1;try{return Ze._strategySizeAlgorithm(ot)}catch(Ot){return lu(Ze,Ot),1}}(be,Y);if(ge!==G._ownerWritableStream)return g(Dn("write to"));const Ge=ge._state;if(Ge==="errored")return g(ge._storedError);if(Jo(ge)||Ge==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(Ge==="erroring")return g(ge._storedError);const tt=function(Ze){return p((ot,Ot)=>{const Pt={_resolve:ot,_reject:Ot};Ze._writeRequests.push(Pt)})}(ge);return function(Ze,ot,Ot){try{Nn(Ze,ot,Ot)}catch(Wt){return void lu(Ze,Wt)}const Pt=Ze._controlledWritableStream;!Jo(Pt)&&Pt._state==="writable"&&Qu(Pt,Xc(Ze)),au(Ze)}(be,Y,qe),tt}Object.defineProperties(ta.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),s(ta.prototype.abort,"abort"),s(ta.prototype.close,"close"),s(ta.prototype.releaseLock,"releaseLock"),s(ta.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ta.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const pp={};class su{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Rd(this))throw ef("abortReason");return this._abortReason}get signal(){if(!Rd(this))throw ef("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(Y=void 0){if(!Rd(this))throw ef("error");this._controlledWritableStream._state==="writable"&&Qc(this,Y)}[O](Y){const ge=this._abortAlgorithm(Y);return fn(this),ge}[P](){wr(this)}}function Rd(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_controlledWritableStream")&&G instanceof su}function $n(G,Y,ge,be,qe,Ge,tt,Ze){Y._controlledWritableStream=G,G._writableStreamController=Y,Y._queue=void 0,Y._queueTotalSize=void 0,wr(Y),Y._abortReason=void 0,Y._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),Y._started=!1,Y._strategySizeAlgorithm=Ze,Y._strategyHWM=tt,Y._writeAlgorithm=be,Y._closeAlgorithm=qe,Y._abortAlgorithm=Ge;const ot=Xc(Y);Qu(G,ot),v(m(ge()),()=>(Y._started=!0,au(Y),null),Ot=>(Y._started=!0,Xu(G,Ot),null))}function fn(G){G._writeAlgorithm=void 0,G._closeAlgorithm=void 0,G._abortAlgorithm=void 0,G._strategySizeAlgorithm=void 0}function Nd(G){return G._strategyHWM-G._queueTotalSize}function au(G){const Y=G._controlledWritableStream;if(!G._started||Y._inFlightWriteRequest!==void 0)return;if(Y._state==="erroring")return void Gc(Y);if(G._queue.length===0)return;const ge=G._queue.peek().value;ge===pp?function(be){const qe=be._controlledWritableStream;(function(tt){tt._inFlightCloseRequest=tt._closeRequest,tt._closeRequest=void 0})(qe),Rr(be);const Ge=be._closeAlgorithm();fn(be),v(Ge,()=>(function(tt){tt._inFlightCloseRequest._resolve(void 0),tt._inFlightCloseRequest=void 0,tt._state==="erroring"&&(tt._storedError=void 0,tt._pendingAbortRequest!==void 0&&(tt._pendingAbortRequest._resolve(),tt._pendingAbortRequest=void 0)),tt._state="closed";const Ze=tt._writer;Ze!==void 0&&rf(Ze)}(qe),null),tt=>(function(Ze,ot){Ze._inFlightCloseRequest._reject(ot),Ze._inFlightCloseRequest=void 0,Ze._pendingAbortRequest!==void 0&&(Ze._pendingAbortRequest._reject(ot),Ze._pendingAbortRequest=void 0),Xu(Ze,ot)}(qe,tt),null))}(G):function(be,qe){const Ge=be._controlledWritableStream;(function(Ze){Ze._inFlightWriteRequest=Ze._writeRequests.shift()})(Ge);const tt=be._writeAlgorithm(qe);v(tt,()=>{(function(ot){ot._inFlightWriteRequest._resolve(void 0),ot._inFlightWriteRequest=void 0})(Ge);const Ze=Ge._state;if(Rr(be),!Jo(Ge)&&Ze==="writable"){const ot=Xc(be);Qu(Ge,ot)}return au(be),null},Ze=>(Ge._state==="writable"&&fn(be),function(ot,Ot){ot._inFlightWriteRequest._reject(Ot),ot._inFlightWriteRequest=void 0,Xu(ot,Ot)}(Ge,Ze),null))}(G,ge)}function lu(G,Y){G._controlledWritableStream._state==="writable"&&Qc(G,Y)}function Xc(G){return Nd(G)<=0}function Qc(G,Y){const ge=G._controlledWritableStream;fn(G),ou(ge,Y)}function Zc(G){return new TypeError(`WritableStream.prototype.${G} can only be used on a WritableStream`)}function ef(G){return new TypeError(`WritableStreamDefaultController.prototype.${G} can only be used on a WritableStreamDefaultController`)}function Sl(G){return new TypeError(`WritableStreamDefaultWriter.prototype.${G} can only be used on a WritableStreamDefaultWriter`)}function Dn(G){return new TypeError("Cannot "+G+" a stream using a released writer")}function Tl(G){G._closedPromise=p((Y,ge)=>{G._closedPromise_resolve=Y,G._closedPromise_reject=ge,G._closedPromiseState="pending"})}function $s(G,Y){Tl(G),tf(G,Y)}function tf(G,Y){G._closedPromise_reject!==void 0&&(S(G._closedPromise),G._closedPromise_reject(Y),G._closedPromise_resolve=void 0,G._closedPromise_reject=void 0,G._closedPromiseState="rejected")}function rf(G){G._closedPromise_resolve!==void 0&&(G._closedPromise_resolve(void 0),G._closedPromise_resolve=void 0,G._closedPromise_reject=void 0,G._closedPromiseState="resolved")}function qi(G){G._readyPromise=p((Y,ge)=>{G._readyPromise_resolve=Y,G._readyPromise_reject=ge}),G._readyPromiseState="pending"}function D(G,Y){qi(G),ae(G,Y)}function H(G){qi(G),he(G)}function ae(G,Y){G._readyPromise_reject!==void 0&&(S(G._readyPromise),G._readyPromise_reject(Y),G._readyPromise_resolve=void 0,G._readyPromise_reject=void 0,G._readyPromiseState="rejected")}function he(G){G._readyPromise_resolve!==void 0&&(G._readyPromise_resolve(void 0),G._readyPromise_resolve=void 0,G._readyPromise_reject=void 0,G._readyPromiseState="fulfilled")}Object.defineProperties(su.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(su.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const _e=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,Ee=function(){const G=_e==null?void 0:_e.DOMException;return function(Y){if(typeof Y!="function"&&typeof Y!="object"||Y.name!=="DOMException")return!1;try{return new Y,!0}catch{return!1}}(G)?G:void 0}()||function(){const G=function(Y,ge){this.message=Y||"",this.name=ge||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s(G,"DOMException"),G.prototype=Object.create(Error.prototype),Object.defineProperty(G.prototype,"constructor",{value:G,writable:!0,configurable:!0}),G}();function Ae(G,Y,ge,be,qe,Ge){const tt=L(G),Ze=bl(Y);G._disturbed=!0;let ot=!1,Ot=m(void 0);return p((Pt,Wt)=>{let Ct;if(Ge!==void 0){if(Ct=()=>{const Er=Ge.reason!==void 0?Ge.reason:new Ee("Aborted","AbortError"),Jn=[];be||Jn.push(()=>Y._state==="writable"?Yu(Y,Er):m(void 0)),qe||Jn.push(()=>G._state==="readable"?Un(G,Er):m(void 0)),Mn(()=>Promise.all(Jn.map(sn=>sn())),!0,Er)},Ge.aborted)return void Ct();Ge.addEventListener("abort",Ct)}var rr,Or,Br;if(or(G,tt._closedPromise,Er=>(be?Yr(!0,Er):Mn(()=>Yu(Y,Er),!0,Er),null)),or(Y,Ze._closedPromise,Er=>(qe?Yr(!0,Er):Mn(()=>Un(G,Er),!0,Er),null)),rr=G,Or=tt._closedPromise,Br=()=>(ge?Yr():Mn(()=>function(Er){const Jn=Er._ownerWritableStream,sn=Jn._state;return Jo(Jn)||sn==="closed"?m(void 0):sn==="errored"?g(Jn._storedError):Jc(Er)}(Ze)),null),rr._state==="closed"?Br():h(Or,Br),Jo(Y)||Y._state==="closed"){const Er=new TypeError("the destination writable stream closed before all data could be piped to it");qe?Yr(!0,Er):Mn(()=>Un(G,Er),!0,Er)}function Kn(){const Er=Ot;return _(Ot,()=>Er!==Ot?Kn():void 0)}function or(Er,Jn,sn){Er._state==="errored"?sn(Er._storedError):E(Jn,sn)}function Mn(Er,Jn,sn){function Ur(){return v(Er(),()=>Ai(Jn,sn),dr=>Ai(!0,dr)),null}ot||(ot=!0,Y._state!=="writable"||Jo(Y)?Ur():h(Kn(),Ur))}function Yr(Er,Jn){ot||(ot=!0,Y._state!=="writable"||Jo(Y)?Ai(Er,Jn):h(Kn(),()=>Ai(Er,Jn)))}function Ai(Er,Jn){return dp(Ze),ne(tt),Ge!==void 0&&Ge.removeEventListener("abort",Ct),Er?Wt(Jn):Pt(void 0),null}S(p((Er,Jn)=>{(function sn(Ur){Ur?Er():_(ot?m(!0):_(Ze._readyPromise,()=>p((dr,yn)=>{Fe(tt,{_chunkSteps:Nr=>{Ot=_(hp(Ze,Nr),void 0,n),dr(!1)},_closeSteps:()=>dr(!0),_errorSteps:yn})})),sn,Jn)})(!1)}))})}class Je{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!We(this))throw Bn("desiredSize");return br(this)}close(){if(!We(this))throw Bn("close");if(!pr(this))throw new TypeError("The stream is not in a state that permits close");at(this)}enqueue(Y=void 0){if(!We(this))throw Bn("enqueue");if(!pr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Rt(this,Y)}error(Y=void 0){if(!We(this))throw Bn("error");zt(this,Y)}[k](Y){wr(this);const ge=this._cancelAlgorithm(Y);return gt(this),ge}[B](Y){const ge=this._controlledReadableStream;if(this._queue.length>0){const be=Rr(this);this._closeRequested&&this._queue.length===0?(gt(this),ra(ge)):it(this),Y._chunkSteps(be)}else M(ge,Y),it(this)}[K](){}}function We(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_controlledReadableStream")&&G instanceof Je}function it(G){if(ht(G)){if(G._pulling)return void(G._pullAgain=!0);G._pulling=!0,v(G._pullAlgorithm(),()=>(G._pulling=!1,G._pullAgain&&(G._pullAgain=!1,it(G)),null),Y=>(zt(G,Y),null))}}function ht(G){const Y=G._controlledReadableStream;return!pr(G)||!G._started?!1:Hi(Y)&&ue(Y)>0?!0:br(G)>0}function gt(G){G._pullAlgorithm=void 0,G._cancelAlgorithm=void 0,G._strategySizeAlgorithm=void 0}function at(G){if(!pr(G))return;const Y=G._controlledReadableStream;G._closeRequested=!0,G._queue.length===0&&(gt(G),ra(Y))}function Rt(G,Y){if(!pr(G))return;const ge=G._controlledReadableStream;if(Hi(ge)&&ue(ge)>0)Z(ge,Y,!1);else{let be;try{be=G._strategySizeAlgorithm(Y)}catch(qe){throw zt(G,qe),qe}try{Nn(G,Y,be)}catch(qe){throw zt(G,qe),qe}}it(G)}function zt(G,Y){const ge=G._controlledReadableStream;ge._state==="readable"&&(wr(G),gt(G),Os(ge,Y))}function br(G){const Y=G._controlledReadableStream._state;return Y==="errored"?null:Y==="closed"?0:G._strategyHWM-G._queueTotalSize}function pr(G){const Y=G._controlledReadableStream._state;return!G._closeRequested&&Y==="readable"}function wi(G,Y,ge,be,qe,Ge,tt){Y._controlledReadableStream=G,Y._queue=void 0,Y._queueTotalSize=void 0,wr(Y),Y._started=!1,Y._closeRequested=!1,Y._pullAgain=!1,Y._pulling=!1,Y._strategySizeAlgorithm=tt,Y._strategyHWM=Ge,Y._pullAlgorithm=be,Y._cancelAlgorithm=qe,G._readableStreamController=Y,v(m(ge()),()=>(Y._started=!0,it(Y),null),Ze=>(zt(Y,Ze),null))}function Bn(G){return new TypeError(`ReadableStreamDefaultController.prototype.${G} can only be used on a ReadableStreamDefaultController`)}function xs(G,Y){return ke(G._readableStreamController)?function(ge){let be,qe,Ge,tt,Ze,ot=L(ge),Ot=!1,Pt=!1,Wt=!1,Ct=!1,rr=!1;const Or=p(sn=>{Ze=sn});function Br(sn){E(sn._closedPromise,Ur=>(sn!==ot||(Zt(Ge._readableStreamController,Ur),Zt(tt._readableStreamController,Ur),Ct&&rr||Ze(void 0)),null))}function Kn(){Gn(ot)&&(ne(ot),ot=L(ge),Br(ot)),Fe(ot,{_chunkSteps:sn=>{T(()=>{Pt=!1,Wt=!1;const Ur=sn;let dr=sn;if(!Ct&&!rr)try{dr=Tr(sn)}catch(yn){return Zt(Ge._readableStreamController,yn),Zt(tt._readableStreamController,yn),void Ze(Un(ge,yn))}Ct||nr(Ge._readableStreamController,Ur),rr||nr(tt._readableStreamController,dr),Ot=!1,Pt?Mn():Wt&&Yr()})},_closeSteps:()=>{Ot=!1,Ct||It(Ge._readableStreamController),rr||It(tt._readableStreamController),Ge._readableStreamController._pendingPullIntos.length>0&&Zr(Ge._readableStreamController,0),tt._readableStreamController._pendingPullIntos.length>0&&Zr(tt._readableStreamController,0),Ct&&rr||Ze(void 0)},_errorSteps:()=>{Ot=!1}})}function or(sn,Ur){Se(ot)&&(ne(ot),ot=Wn(ge),Br(ot));const dr=Ur?tt:Ge,yn=Ur?Ge:tt;xi(ot,sn,1,{_chunkSteps:Nr=>{T(()=>{Pt=!1,Wt=!1;const An=Ur?rr:Ct;if(Ur?Ct:rr)An||ni(dr._readableStreamController,Nr);else{let po;try{po=Tr(Nr)}catch(Mi){return Zt(dr._readableStreamController,Mi),Zt(yn._readableStreamController,Mi),void Ze(Un(ge,Mi))}An||ni(dr._readableStreamController,Nr),nr(yn._readableStreamController,po)}Ot=!1,Pt?Mn():Wt&&Yr()})},_closeSteps:Nr=>{Ot=!1;const An=Ur?rr:Ct,po=Ur?Ct:rr;An||It(dr._readableStreamController),po||It(yn._readableStreamController),Nr!==void 0&&(An||ni(dr._readableStreamController,Nr),!po&&yn._readableStreamController._pendingPullIntos.length>0&&Zr(yn._readableStreamController,0)),An&&po||Ze(void 0)},_errorSteps:()=>{Ot=!1}})}function Mn(){if(Ot)return Pt=!0,m(void 0);Ot=!0;const sn=Fr(Ge._readableStreamController);return sn===null?Kn():or(sn._view,!1),m(void 0)}function Yr(){if(Ot)return Wt=!0,m(void 0);Ot=!0;const sn=Fr(tt._readableStreamController);return sn===null?Kn():or(sn._view,!0),m(void 0)}function Ai(sn){if(Ct=!0,be=sn,rr){const Ur=te([be,qe]),dr=Un(ge,Ur);Ze(dr)}return Or}function Er(sn){if(rr=!0,qe=sn,Ct){const Ur=te([be,qe]),dr=Un(ge,Ur);Ze(dr)}return Or}function Jn(){}return Ge=ja(Jn,Mn,Ai),tt=ja(Jn,Yr,Er),Br(ot),[Ge,tt]}(G):function(ge,be){const qe=L(ge);let Ge,tt,Ze,ot,Ot,Pt=!1,Wt=!1,Ct=!1,rr=!1;const Or=p(Yr=>{Ot=Yr});function Br(){return Pt?(Wt=!0,m(void 0)):(Pt=!0,Fe(qe,{_chunkSteps:Yr=>{T(()=>{Wt=!1;const Ai=Yr,Er=Yr;Ct||Rt(Ze._readableStreamController,Ai),rr||Rt(ot._readableStreamController,Er),Pt=!1,Wt&&Br()})},_closeSteps:()=>{Pt=!1,Ct||at(Ze._readableStreamController),rr||at(ot._readableStreamController),Ct&&rr||Ot(void 0)},_errorSteps:()=>{Pt=!1}}),m(void 0))}function Kn(Yr){if(Ct=!0,Ge=Yr,rr){const Ai=te([Ge,tt]),Er=Un(ge,Ai);Ot(Er)}return Or}function or(Yr){if(rr=!0,tt=Yr,Ct){const Ai=te([Ge,tt]),Er=Un(ge,Ai);Ot(Er)}return Or}function Mn(){}return Ze=Vi(Mn,Br,Kn),ot=Vi(Mn,Br,or),E(qe._closedPromise,Yr=>(zt(Ze._readableStreamController,Yr),zt(ot._readableStreamController,Yr),Ct&&rr||Ot(void 0),null)),[Ze,ot]}(G)}function As(G){return i(Y=G)&&Y.getReader!==void 0?function(ge){let be;function qe(){let tt;try{tt=ge.read()}catch(Ze){return g(Ze)}return y(tt,Ze=>{if(!i(Ze))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Ze.done)at(be._readableStreamController);else{const ot=Ze.value;Rt(be._readableStreamController,ot)}})}function Ge(tt){try{return m(ge.cancel(tt))}catch(Ze){return g(Ze)}}return be=Vi(n,qe,Ge,0),be}(G.getReader()):function(ge){let be;const qe=Xe(ge,"async");function Ge(){let Ze;try{Ze=vt(qe)}catch(ot){return g(ot)}return y(m(Ze),ot=>{if(!i(ot))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(ot.done)at(be._readableStreamController);else{const Ot=ot.value;Rt(be._readableStreamController,Ot)}})}function tt(Ze){const ot=qe.iterator;let Ot;try{Ot=Re(ot,"return")}catch(Pt){return g(Pt)}return Ot===void 0?m(void 0):y(d(Ot,ot,[Ze]),Pt=>{if(!i(Pt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return be=Vi(n,Ge,tt,0),be}(G);var Y}function jr(G,Y,ge){return q(G,ge),be=>d(G,Y,[be])}function ka(G,Y,ge){return q(G,ge),be=>d(G,Y,[be])}function Dr(G,Y,ge){return q(G,ge),be=>x(G,Y,[be])}function xn(G,Y){if((G=`${G}`)!="bytes")throw new TypeError(`${Y} '${G}' is not a valid enumeration value for ReadableStreamType`);return G}function uu(G,Y){C(G,Y);const ge=G==null?void 0:G.preventAbort,be=G==null?void 0:G.preventCancel,qe=G==null?void 0:G.preventClose,Ge=G==null?void 0:G.signal;return Ge!==void 0&&function(tt,Ze){if(!function(ot){if(typeof ot!="object"||ot===null)return!1;try{return typeof ot.aborted=="boolean"}catch{return!1}}(tt))throw new TypeError(`${Ze} is not an AbortSignal.`)}(Ge,`${Y} has member 'signal' that`),{preventAbort:!!ge,preventCancel:!!be,preventClose:!!qe,signal:Ge}}Object.defineProperties(Je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Je.prototype.close,"close"),s(Je.prototype.enqueue,"enqueue"),s(Je.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Je.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class di{constructor(Y={},ge={}){Y===void 0?Y=null:oe(Y,"First parameter");const be=wl(ge,"Second parameter"),qe=function(Ge,tt){C(Ge,tt);const Ze=Ge,ot=Ze==null?void 0:Ze.autoAllocateChunkSize,Ot=Ze==null?void 0:Ze.cancel,Pt=Ze==null?void 0:Ze.pull,Wt=Ze==null?void 0:Ze.start,Ct=Ze==null?void 0:Ze.type;return{autoAllocateChunkSize:ot===void 0?void 0:Oe(ot,`${tt} has member 'autoAllocateChunkSize' that`),cancel:Ot===void 0?void 0:jr(Ot,Ze,`${tt} has member 'cancel' that`),pull:Pt===void 0?void 0:ka(Pt,Ze,`${tt} has member 'pull' that`),start:Wt===void 0?void 0:Dr(Wt,Ze,`${tt} has member 'start' that`),type:Ct===void 0?void 0:xn(Ct,`${tt} has member 'type' that`)}}(Y,"First parameter");if(to(this),qe.type==="bytes"){if(be.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(Ge,tt,Ze){const ot=Object.create(Ie.prototype);let Ot,Pt,Wt;Ot=tt.start!==void 0?()=>tt.start(ot):()=>{},Pt=tt.pull!==void 0?()=>tt.pull(ot):()=>m(void 0),Wt=tt.cancel!==void 0?rr=>tt.cancel(rr):()=>m(void 0);const Ct=tt.autoAllocateChunkSize;if(Ct===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Hn(Ge,ot,Ot,Pt,Wt,Ze,Ct)})(this,qe,Zn(be,0))}else{const Ge=iu(be);(function(tt,Ze,ot,Ot){const Pt=Object.create(Je.prototype);let Wt,Ct,rr;Wt=Ze.start!==void 0?()=>Ze.start(Pt):()=>{},Ct=Ze.pull!==void 0?()=>Ze.pull(Pt):()=>m(void 0),rr=Ze.cancel!==void 0?Or=>Ze.cancel(Or):()=>m(void 0),wi(tt,Pt,Wt,Ct,rr,ot,Ot)})(this,qe,Zn(be,1),Ge)}}get locked(){if(!ki(this))throw ji("locked");return Hi(this)}cancel(Y=void 0){return ki(this)?Hi(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):Un(this,Y):g(ji("cancel"))}getReader(Y=void 0){if(!ki(this))throw ji("getReader");return function(ge,be){C(ge,be);const qe=ge==null?void 0:ge.mode;return{mode:qe===void 0?void 0:$i(qe,`${be} has member 'mode' that`)}}(Y,"First parameter").mode===void 0?L(this):Wn(this)}pipeThrough(Y,ge={}){if(!ki(this))throw ji("pipeThrough");X(Y,1,"pipeThrough");const be=function(Ge,tt){C(Ge,tt);const Ze=Ge==null?void 0:Ge.readable;ee(Ze,"readable","ReadableWritablePair"),I(Ze,`${tt} has member 'readable' that`);const ot=Ge==null?void 0:Ge.writable;return ee(ot,"writable","ReadableWritablePair"),Ia(ot,`${tt} has member 'writable' that`),{readable:Ze,writable:ot}}(Y,"First parameter"),qe=uu(ge,"Second parameter");if(Hi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ca(be.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return S(Ae(this,be.writable,qe.preventClose,qe.preventAbort,qe.preventCancel,qe.signal)),be.readable}pipeTo(Y,ge={}){if(!ki(this))return g(ji("pipeTo"));if(Y===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!ho(Y))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let be;try{be=uu(ge,"Second parameter")}catch(qe){return g(qe)}return Hi(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ca(Y)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ae(this,Y,be.preventClose,be.preventAbort,be.preventCancel,be.signal)}tee(){if(!ki(this))throw ji("tee");return te(xs(this))}values(Y=void 0){if(!ki(this))throw ji("values");return function(ge,be){const qe=L(ge),Ge=new St(qe,be),tt=Object.create(yt);return tt._asyncIteratorImpl=Ge,tt}(this,function(ge,be){return C(ge,be),{preventCancel:!!(ge==null?void 0:ge.preventCancel)}}(Y,"First parameter").preventCancel)}[Be](Y){return this.values(Y)}static from(Y){return As(Y)}}function Vi(G,Y,ge,be=1,qe=()=>1){const Ge=Object.create(di.prototype);return to(Ge),wi(Ge,Object.create(Je.prototype),G,Y,ge,be,qe),Ge}function ja(G,Y,ge){const be=Object.create(di.prototype);return to(be),Hn(be,Object.create(Ie.prototype),G,Y,ge,0,void 0),be}function to(G){G._state="readable",G._reader=void 0,G._storedError=void 0,G._disturbed=!1}function ki(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_readableStreamController")&&G instanceof di}function Hi(G){return G._reader!==void 0}function Un(G,Y){if(G._disturbed=!0,G._state==="closed")return m(void 0);if(G._state==="errored")return g(G._storedError);ra(G);const ge=G._reader;if(ge!==void 0&&Gn(ge)){const be=ge._readIntoRequests;ge._readIntoRequests=new $,be.forEach(qe=>{qe._closeSteps(void 0)})}return y(G._readableStreamController[k](Y),n)}function ra(G){G._state="closed";const Y=G._reader;if(Y!==void 0&&(z(Y),Se(Y))){const ge=Y._readRequests;Y._readRequests=new $,ge.forEach(be=>{be._closeSteps()})}}function Os(G,Y){G._state="errored",G._storedError=Y;const ge=G._reader;ge!==void 0&&(F(ge,Y),Se(ge)?He(ge,Y):Na(ge,Y))}function ji(G){return new TypeError(`ReadableStream.prototype.${G} can only be used on a ReadableStream`)}function ro(G,Y){C(G,Y);const ge=G==null?void 0:G.highWaterMark;return ee(ge,"highWaterMark","QueuingStrategyInit"),{highWaterMark:se(ge)}}Object.defineProperties(di,{from:{enumerable:!0}}),Object.defineProperties(di.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),s(di.from,"from"),s(di.prototype.cancel,"cancel"),s(di.prototype.getReader,"getReader"),s(di.prototype.pipeThrough,"pipeThrough"),s(di.prototype.pipeTo,"pipeTo"),s(di.prototype.tee,"tee"),s(di.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(di.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(di.prototype,Be,{value:di.prototype.values,writable:!0,configurable:!0});const nf=G=>G.byteLength;s(nf,"size");class Da{constructor(Y){X(Y,1,"ByteLengthQueuingStrategy"),Y=ro(Y,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=Y.highWaterMark}get highWaterMark(){if(!cu(this))throw dn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!cu(this))throw dn("size");return nf}}function dn(G){return new TypeError(`ByteLengthQueuingStrategy.prototype.${G} can only be used on a ByteLengthQueuingStrategy`)}function cu(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_byteLengthQueuingStrategyHighWaterMark")&&G instanceof Da}Object.defineProperties(Da.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Da.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Ao=()=>1;s(Ao,"size");class na{constructor(Y){X(Y,1,"CountQueuingStrategy"),Y=ro(Y,"First parameter"),this._countQueuingStrategyHighWaterMark=Y.highWaterMark}get highWaterMark(){if(!gp(this))throw mp("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!gp(this))throw mp("size");return Ao}}function mp(G){return new TypeError(`CountQueuingStrategy.prototype.${G} can only be used on a CountQueuingStrategy`)}function gp(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_countQueuingStrategyHighWaterMark")&&G instanceof na}function vp(G,Y,ge){return q(G,ge),be=>d(G,Y,[be])}function Oo(G,Y,ge){return q(G,ge),be=>x(G,Y,[be])}function Id(G,Y,ge){return q(G,ge),(be,qe)=>d(G,Y,[be,qe])}function Ma(G,Y,ge){return q(G,ge),be=>d(G,Y,[be])}Object.defineProperties(na.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(na.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class $l{constructor(Y={},ge={},be={}){Y===void 0&&(Y=null);const qe=wl(ge,"Second parameter"),Ge=wl(be,"Third parameter"),tt=function(Ct,rr){C(Ct,rr);const Or=Ct==null?void 0:Ct.cancel,Br=Ct==null?void 0:Ct.flush,Kn=Ct==null?void 0:Ct.readableType,or=Ct==null?void 0:Ct.start,Mn=Ct==null?void 0:Ct.transform,Yr=Ct==null?void 0:Ct.writableType;return{cancel:Or===void 0?void 0:Ma(Or,Ct,`${rr} has member 'cancel' that`),flush:Br===void 0?void 0:vp(Br,Ct,`${rr} has member 'flush' that`),readableType:Kn,start:or===void 0?void 0:Oo(or,Ct,`${rr} has member 'start' that`),transform:Mn===void 0?void 0:Id(Mn,Ct,`${rr} has member 'transform' that`),writableType:Yr}}(Y,"First parameter");if(tt.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(tt.writableType!==void 0)throw new RangeError("Invalid writableType specified");const Ze=Zn(Ge,0),ot=iu(Ge),Ot=Zn(qe,1),Pt=iu(qe);let Wt;(function(Ct,rr,Or,Br,Kn,or){function Mn(){return rr}function Yr(Ur){return function(dr,yn){const Nr=dr._transformStreamController;return dr._backpressure?y(dr._backpressureChangePromise,()=>{const An=dr._writable;if(An._state==="erroring")throw An._storedError;return sf(Nr,yn)}):sf(Nr,yn)}(Ct,Ur)}function Ai(Ur){return function(dr,yn){const Nr=dr._transformStreamController;if(Nr._finishPromise!==void 0)return Nr._finishPromise;const An=dr._readable;Nr._finishPromise=p((Mi,af)=>{Nr._finishPromise_resolve=Mi,Nr._finishPromise_reject=af});const po=Nr._cancelAlgorithm(yn);return Di(Nr),v(po,()=>(An._state==="errored"?rt(Nr,An._storedError):(zt(An._readableStreamController,yn),Ue(Nr)),null),Mi=>(zt(An._readableStreamController,Mi),rt(Nr,Mi),null)),Nr._finishPromise}(Ct,Ur)}function Er(){return function(Ur){const dr=Ur._transformStreamController;if(dr._finishPromise!==void 0)return dr._finishPromise;const yn=Ur._readable;dr._finishPromise=p((An,po)=>{dr._finishPromise_resolve=An,dr._finishPromise_reject=po});const Nr=dr._flushAlgorithm();return Di(dr),v(Nr,()=>(yn._state==="errored"?rt(dr,yn._storedError):(at(yn._readableStreamController),Ue(dr)),null),An=>(zt(yn._readableStreamController,An),rt(dr,An),null)),dr._finishPromise}(Ct)}function Jn(){return function(Ur){return of(Ur,!1),Ur._backpressureChangePromise}(Ct)}function sn(Ur){return function(dr,yn){const Nr=dr._transformStreamController;if(Nr._finishPromise!==void 0)return Nr._finishPromise;const An=dr._writable;Nr._finishPromise=p((Mi,af)=>{Nr._finishPromise_resolve=Mi,Nr._finishPromise_reject=af});const po=Nr._cancelAlgorithm(yn);return Di(Nr),v(po,()=>(An._state==="errored"?rt(Nr,An._storedError):(lu(An._writableStreamController,yn),Zu(dr),Ue(Nr)),null),Mi=>(lu(An._writableStreamController,Mi),Zu(dr),rt(Nr,Mi),null)),Nr._finishPromise}(Ct,Ur)}Ct._writable=function(Ur,dr,yn,Nr,An=1,po=()=>1){const Mi=Object.create(Ts.prototype);return ea(Mi),$n(Mi,Object.create(su.prototype),Ur,dr,yn,Nr,An,po),Mi}(Mn,Yr,Er,Ai,Or,Br),Ct._readable=Vi(Mn,Jn,sn,Kn,or),Ct._backpressure=void 0,Ct._backpressureChangePromise=void 0,Ct._backpressureChangePromise_resolve=void 0,of(Ct,!0),Ct._transformStreamController=void 0})(this,p(Ct=>{Wt=Ct}),Ot,Pt,Ze,ot),function(Ct,rr){const Or=Object.create(Yo.prototype);let Br,Kn,or;Br=rr.transform!==void 0?Mn=>rr.transform(Mn,Or):Mn=>{try{return Cd(Or,Mn),m(void 0)}catch(Yr){return g(Yr)}},Kn=rr.flush!==void 0?()=>rr.flush(Or):()=>m(void 0),or=rr.cancel!==void 0?Mn=>rr.cancel(Mn):()=>m(void 0),function(Mn,Yr,Ai,Er,Jn){Yr._controlledTransformStream=Mn,Mn._transformStreamController=Yr,Yr._transformAlgorithm=Ai,Yr._flushAlgorithm=Er,Yr._cancelAlgorithm=Jn,Yr._finishPromise=void 0,Yr._finishPromise_resolve=void 0,Yr._finishPromise_reject=void 0}(Ct,Or,Br,Kn,or)}(this,tt),tt.start!==void 0?Wt(tt.start(this._transformStreamController)):Wt(void 0)}get readable(){if(!xl(this))throw lt("readable");return this._readable}get writable(){if(!xl(this))throw lt("writable");return this._writable}}function xl(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_transformStreamController")&&G instanceof $l}function Po(G,Y){zt(G._readable._readableStreamController,Y),ia(G,Y)}function ia(G,Y){Di(G._transformStreamController),lu(G._writable._writableStreamController,Y),Zu(G)}function Zu(G){G._backpressure&&of(G,!1)}function of(G,Y){G._backpressureChangePromise!==void 0&&G._backpressureChangePromise_resolve(),G._backpressureChangePromise=p(ge=>{G._backpressureChangePromise_resolve=ge}),G._backpressure=Y}Object.defineProperties($l.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty($l.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Yo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xo(this))throw ec("desiredSize");return br(this._controlledTransformStream._readable._readableStreamController)}enqueue(Y=void 0){if(!Xo(this))throw ec("enqueue");Cd(this,Y)}error(Y=void 0){if(!Xo(this))throw ec("error");var ge;ge=Y,Po(this._controlledTransformStream,ge)}terminate(){if(!Xo(this))throw ec("terminate");(function(Y){const ge=Y._controlledTransformStream;at(ge._readable._readableStreamController);const be=new TypeError("TransformStream terminated");ia(ge,be)})(this)}}function Xo(G){return!!i(G)&&!!Object.prototype.hasOwnProperty.call(G,"_controlledTransformStream")&&G instanceof Yo}function Di(G){G._transformAlgorithm=void 0,G._flushAlgorithm=void 0,G._cancelAlgorithm=void 0}function Cd(G,Y){const ge=G._controlledTransformStream,be=ge._readable._readableStreamController;if(!pr(be))throw new TypeError("Readable side is not in a state that permits enqueue");try{Rt(be,Y)}catch(Ge){throw ia(ge,Ge),ge._readable._storedError}(function(Ge){return!ht(Ge)})(be)!==ge._backpressure&&of(ge,!0)}function sf(G,Y){return y(G._transformAlgorithm(Y),void 0,ge=>{throw Po(G._controlledTransformStream,ge),ge})}function ec(G){return new TypeError(`TransformStreamDefaultController.prototype.${G} can only be used on a TransformStreamDefaultController`)}function Ue(G){G._finishPromise_resolve!==void 0&&(G._finishPromise_resolve(),G._finishPromise_resolve=void 0,G._finishPromise_reject=void 0)}function rt(G,Y){G._finishPromise_reject!==void 0&&(S(G._finishPromise),G._finishPromise_reject(Y),G._finishPromise_resolve=void 0,G._finishPromise_reject=void 0)}function lt(G){return new TypeError(`TransformStream.prototype.${G} can only be used on a TransformStream`)}Object.defineProperties(Yo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Yo.prototype.enqueue,"enqueue"),s(Yo.prototype.error,"error"),s(Yo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Yo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=Da,r.CountQueuingStrategy=na,r.ReadableByteStreamController=Ie,r.ReadableStream=di,r.ReadableStreamBYOBReader=on,r.ReadableStreamBYOBRequest=ar,r.ReadableStreamDefaultController=Je,r.ReadableStreamDefaultReader=ve,r.TransformStream=$l,r.TransformStreamDefaultController=Yo,r.WritableStream=Ts,r.WritableStreamDefaultController=su,r.WritableStreamDefaultWriter=ta})}}),w2=Le({"../core/dist/protocol-helpers.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=(ml(),pn(Aa)),r=y2(),n=Ys(),{debug:i,warn:o}=(0,n.createLoggers)("core","protocol-helpers");function s(c){return class extends c{set nodeStream(p){this._nodeStream=p}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(p){this._wotStream=p}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var a=s(t.Readable),l=s(r.ReadableStream);function u(c){return c instanceof l||c instanceof a}var f=class{static updatePropertyFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateActionFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static updateEventFormWithTemplate(c,p){for(const m of p.forms??[])if(m.href,m.contentType!=null){c.contentType=m.contentType;return}}static getPropertyContentType(c,p,m){var g;if(p!=null&&m!=null&&(c==null?void 0:c.properties)!=null&&c.properties[p]!=null&&c.properties[p].forms!=null&&Array.isArray(c.properties[p].forms)){for(const _ of c.properties[p].forms)if((g=_.href)!=null&&g.startsWith(m)&&_.contentType!=null)return _.contentType}}static getActionContentType(c,p,m){var g;if(p!=null&&m!=null&&(c!=null&&c.actions)&&c.actions!=null&&Array.isArray((g=c.actions[p])==null?void 0:g.forms)){for(const _ of c.actions[p].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static getEventContentType(c,p,m){var g;if(p!=null&&m!=null&&(c!=null&&c.events)&&((g=c==null?void 0:c.events[p])==null?void 0:g.forms)!=null&&Array.isArray(c.events[p].forms)){for(const _ of c.events[p].forms)if(_.href&&_.href.startsWith(m)&&_.contentType!=null)return _.contentType}}static toWoTStream(c){if(u(c))return c.wotStream;const p=new l({start:m=>{c.on("data",g=>m.enqueue(g)),c.on("error",g=>m.error(g)),c.on("end",()=>m.close())},cancel:m=>{c instanceof t.Readable&&c.destroy(m)}});return c instanceof t.Readable?p.nodeStream=c:p.nodeStream=new t.Readable(c),p}static toNodeStream(c){if(u(c))return c.nodeStream;if(c instanceof t.Readable)return c;const p=c.getReader(),m=new a({read:g=>{p.read().then(_=>{m.push(_.value),_.done&&m.push(null)})},destroy:(g,_)=>{p.releaseLock(),c.cancel(g).then(()=>_(g))}});return m.wotStream=c,m.nodeStream=m,m}static readStreamFully(c){return new Promise((p,m)=>{if(c!=null){const g=[];c.on("data",_=>g.push(_)),c.on("error",m),c.on("end",()=>{g[0]!=null&&(g[0]instanceof Array||g[0]instanceof kn||g[0]instanceof Uint8Array)?p(kn.concat(g)):g[0]!=null&&typeof g[0]=="string"?p(kn.from(g.join())):p(kn.from(g))})}else i("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),p(kn.alloc(0))})}static findRequestMatchingFormIndex(c,p,m,g){if(c===void 0)return 0;let _=c.filter(v=>{const h=new URL(v.href.replace(/(\{[\S]*\})/,"")),E=m!==void 0?m.indexOf("?")!==-1?m.split("?")[0]:m:void 0;return h.protocol===p+":"&&(E===void 0||h.pathname===E)});if(g!=null){const v=_.filter(h=>h.contentType===g);v.length>0&&(_=v)}return _.length>0?c.indexOf(_[0]):0}static getFormIndexForOperation(c,p,m,g){var h;let _=-1,v=[];switch(p){case"property":if(c.readOnly===!0&&m==="writeproperty"||c.writeOnly===!0&&m==="readproperty")return _;c.readOnly!==!0&&v.push("writeproperty"),c.writeOnly!==!0&&v.push("readproperty");break;case"action":v=["invokeaction"];break;case"event":v=["subscribeevent","unsubscribeevent"];break}if(v.indexOf(m)!==-1&&(m=void 0),c.forms!==void 0&&g!==void 0&&c.forms.length>g){const E=c.forms[g];E!=null&&(m==null||((h=E.op)==null?void 0:h.includes(m))===!0)&&(_=g)}return c.forms!==void 0&&_===-1&&(m!==void 0?c.forms.every(E=>{var y;return((y=E.op)==null?void 0:y.includes(m))===!0&&(_=c.forms.indexOf(E)),_===-1}):c.forms.every(E=>(_=c.forms.indexOf(E),!1))),_}static getPropertyOpValues(c){const p=[];return c.readOnly!==!0&&p.push("writeproperty"),c.writeOnly!==!0&&p.push("readproperty"),p.length===0&&o("Property was declared both as readOnly and writeOnly."),c.observable===!0&&(p.push("observeproperty"),p.push("unobserveproperty")),p}};e.default=f}}),TG=Le({"../core/dist/content.js"(e){Ce();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultContent=e.Content=void 0;var r=Ju(),n=t(w2()),i=class{constructor(s,a){this.type=s,this.body=a}toBuffer(){return n.default.readStreamFully(this.body)}};e.Content=i;var o=class extends i{constructor(s){super(r.ContentSerdes.DEFAULT,s)}};e.DefaultContent=o}}),cg=Le({"../../node_modules/nofilter/lib/index.js"(e,t){Ce();var r=(ml(),pn(Aa)),{Buffer:n}=(md(),pn(pd)),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),o=class bE extends r.Transform{constructor(a,l,u={}){let f=null,c=null;switch(typeof a){case"object":n.isBuffer(a)?f=a:a&&(u=a);break;case"string":f=a;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof l){case"object":l&&(u=l);break;case"string":c=l;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!u||typeof u!="object")throw new TypeError("Invalid options");f==null&&(f=u.input),c==null&&(c=u.inputEncoding),delete u.input,delete u.inputEncoding;const p=u.watchPipe==null?!0:u.watchPipe;delete u.watchPipe;const m=!!u.readError;delete u.readError,super(u),this.readError=m,p&&this.on("pipe",g=>{const _=g._readableState.objectMode;if(this.length>0&&_!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=_,this._writableState.objectMode=_}),f!=null&&this.end(f,c)}static isNoFilter(a){return a instanceof this}static compare(a,l){if(!(a instanceof this))throw new TypeError("Arguments must be NoFilters");return a===l?0:a.compare(l)}static concat(a,l){if(!Array.isArray(a))throw new TypeError("list argument must be an Array of NoFilters");if(a.length===0||l===0)return n.alloc(0);l==null&&(l=a.reduce((p,m)=>{if(!(m instanceof bE))throw new TypeError("list argument must be an Array of NoFilters");return p+m.length},0));let u=!0,f=!0;const c=a.map(p=>{if(!(p instanceof bE))throw new TypeError("list argument must be an Array of NoFilters");const m=p.slice();return n.isBuffer(m)?f=!1:u=!1,m});if(u)return n.concat(c,l);if(f)return[].concat(...c).slice(0,l);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(a,l,u){!this._readableState.objectMode&&!n.isBuffer(a)&&(a=n.from(a,l)),this.push(a),u()}_bufArray(){let a=this._readableState.buffer;if(!Array.isArray(a)){let l=a.head;for(a=[];l!=null;)a.push(l.data),l=l.next}return a}read(a){const l=super.read(a);if(l!=null){if(this.emit("read",l),this.readError&&l.length<a)throw new Error(`Read ${l.length}, wanted ${a}`)}else if(this.readError)throw new Error(`No data available, wanted ${a}`);return l}readFull(a){let l=null,u=null,f=null;return new Promise((c,p)=>{if(this.length>=a){c(this.read(a));return}if(this.writableFinished){p(new Error(`Stream finished before ${a} bytes were available`));return}l=m=>{this.length>=a&&c(this.read(a))},u=()=>{p(new Error(`Stream finished before ${a} bytes were available`))},f=p,this.on("readable",l),this.on("error",f),this.on("finish",u)}).finally(()=>{l&&(this.removeListener("readable",l),this.removeListener("error",f),this.removeListener("finish",u))})}promise(a){let l=!1;return new Promise((u,f)=>{this.on("finish",()=>{const c=this.read();a!=null&&!l&&(l=!0,a(null,c)),u(c)}),this.on("error",c=>{a!=null&&!l&&(l=!0,a(c)),f(c)})})}compare(a){if(!(a instanceof bE))throw new TypeError("Arguments must be NoFilters");if(this===a)return 0;const l=this.slice(),u=a.slice();if(n.isBuffer(l)&&n.isBuffer(u))return l.compare(u);throw new Error("Cannot compare streams in object mode")}equals(a){return this.compare(a)===0}slice(a,l){if(this._readableState.objectMode)return this._bufArray().slice(a,l);const u=this._bufArray();switch(u.length){case 0:return n.alloc(0);case 1:return u[0].slice(a,l);default:return n.concat(u).slice(a,l)}}get(a){return this.slice()[a]}toJSON(){const a=this.slice();return n.isBuffer(a)?a.toJSON():a}toString(a,l,u){const f=this.slice(l,u);return n.isBuffer(f)?!a||a==="utf8"?i.decode(f):f.toString(a):JSON.stringify(f)}[Symbol.for("nodejs.util.inspect.custom")](a,l){const f=this._bufArray().map(c=>n.isBuffer(c)?l.stylize(c.toString("hex"),"string"):JSON.stringify(c)).join(", ");return`${this.constructor.name} [${f}]`}get length(){return this._readableState.length}writeBigInt(a){let l=a.toString(16);if(a<0){const u=BigInt(Math.floor(l.length/2));a=(BigInt(1)<<u*BigInt(8))+a,l=a.toString(16)}return l.length%2&&(l=`0${l}`),this.push(n.from(l,"hex"))}readUBigInt(a){const l=this.read(a);return n.isBuffer(l)?BigInt(`0x${l.toString("hex")}`):null}readBigInt(a){const l=this.read(a);if(!n.isBuffer(l))return null;let u=BigInt(`0x${l.toString("hex")}`);if(l[0]&128){const f=BigInt(1)<<BigInt(l.length)*BigInt(8);u-=f}return u}writeUInt8(a){const l=n.from([a]);return this.push(l)}writeUInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeUInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeUInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeUInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeInt8(a){const l=n.from([a]);return this.push(l)}writeInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeFloatLE(a){const l=n.alloc(4);return l.writeFloatLE(a),this.push(l)}writeFloatBE(a){const l=n.alloc(4);return l.writeFloatBE(a),this.push(l)}writeDoubleLE(a){const l=n.alloc(8);return l.writeDoubleLE(a),this.push(l)}writeDoubleBE(a){const l=n.alloc(8);return l.writeDoubleBE(a),this.push(l)}writeBigInt64LE(a){const l=n.alloc(8);return l.writeBigInt64LE(a),this.push(l)}writeBigInt64BE(a){const l=n.alloc(8);return l.writeBigInt64BE(a),this.push(l)}writeBigUInt64LE(a){const l=n.alloc(8);return l.writeBigUInt64LE(a),this.push(l)}writeBigUInt64BE(a){const l=n.alloc(8);return l.writeBigUInt64BE(a),this.push(l)}readUInt8(){const a=this.read(1);return n.isBuffer(a)?a.readUInt8():null}readUInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16LE():null}readUInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16BE():null}readUInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32LE():null}readUInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32BE():null}readInt8(){const a=this.read(1);return n.isBuffer(a)?a.readInt8():null}readInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16LE():null}readInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16BE():null}readInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32LE():null}readInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32BE():null}readFloatLE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatLE():null}readFloatBE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatBE():null}readDoubleLE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleLE():null}readDoubleBE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleBE():null}readBigInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64LE():null}readBigInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64BE():null}readBigUInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64LE():null}readBigUInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64BE():null}};t.exports=o}}),wd=Le({"../../node_modules/cbor/lib/constants.js"(e){Ce(),e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}}}),f0=Le({"../../node_modules/cbor/lib/utils.js"(e){Ce();var{Buffer:t}=(md(),pn(pd)),r=cg(),n=(ml(),pn(Aa)),i=wd(),{NUMBYTES:o,SHIFT32:s,BI:a,SYMS:l}=i,u=2097151,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=m=>f.decode(m),e.utf8.checksUTF8=!0;function c(m){return m instanceof n.Readable?!0:["read","on","pipe"].every(g=>typeof m[g]=="function")}e.isBufferish=function(g){return g&&typeof g=="object"&&(t.isBuffer(g)||g instanceof Uint8Array||g instanceof Uint8ClampedArray||g instanceof ArrayBuffer||g instanceof DataView)},e.bufferishToBuffer=function(g){return t.isBuffer(g)?g:ArrayBuffer.isView(g)?t.from(g.buffer,g.byteOffset,g.byteLength):g instanceof ArrayBuffer?t.from(g):null},e.parseCBORint=function(g,_){switch(g){case o.ONE:return _.readUInt8(0);case o.TWO:return _.readUInt16BE(0);case o.FOUR:return _.readUInt32BE(0);case o.EIGHT:{const v=_.readUInt32BE(0),h=_.readUInt32BE(4);return v>u?BigInt(v)*a.SHIFT32+BigInt(h):v*s+h}default:throw new Error(`Invalid additional info for int: ${g}`)}},e.writeHalf=function(g,_){const v=t.allocUnsafe(4);v.writeFloatBE(_,0);const h=v.readUInt32BE(0);if(h&8191)return!1;let E=h>>16&32768;const y=h>>23&255,S=h&8388607;if(y>=113&&y<=142)E+=(y-112<<10)+(S>>13);else if(y>=103&&y<113){if(S&(1<<126-y)-1)return!1;E+=S+8388608>>126-y}else return!1;return g.writeUInt16BE(E),!0},e.parseHalf=function(g){const _=g[0]&128?-1:1,v=(g[0]&124)>>2,h=(g[0]&3)<<8|g[1];if(v){if(v===31)return _*(h?NaN:1/0)}else return _*5960464477539063e-23*h;return _*2**(v-25)*(1024+h)},e.parseCBORfloat=function(g){switch(g.length){case 2:return e.parseHalf(g);case 4:return g.readFloatBE(0);case 8:return g.readDoubleBE(0);default:throw new Error(`Invalid float size: ${g.length}`)}},e.hex=function(g){return t.from(g.replace(/^0x/,""),"hex")},e.bin=function(g){g=g.replace(/\s/g,"");let _=0,v=g.length%8||8;const h=[];for(;v<=g.length;)h.push(parseInt(g.slice(_,v),2)),_=v,v+=8;return t.from(h)},e.arrayEqual=function(g,_){return g==null&&_==null?!0:g==null||_==null?!1:g.length===_.length&&g.every((v,h)=>v===_[h])},e.bufferToBigInt=function(g){return BigInt(`0x${g.toString("hex")}`)},e.cborValueToString=function(g,_=-1){switch(typeof g){case"symbol":{switch(g){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(g.description)return g.description;const h=g.toString().match(/^Symbol\((?<name>.*)\)/);return h&&h.groups.name?h.groups.name:"Symbol"}case"string":return JSON.stringify(g);case"bigint":return g.toString();case"number":{const v=Object.is(g,-0)?"-0":String(g);return _>0?`${v}_${_}`:v}case"object":{const v=e.bufferishToBuffer(g);if(v){const h=v.toString("hex");return _===-1/0?h:`h'${h}'`}return typeof g[Symbol.for("nodejs.util.inspect.custom")]=="function"?g[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(g)?"[]":"{}"}}return String(g)},e.guessEncoding=function(g,_){if(typeof g=="string")return new r(g,_??"hex");const v=e.bufferishToBuffer(g);if(v)return new r(v);if(c(g))return g;throw new Error("Unknown input type")};var p={"=":"","+":"-","/":"_"};e.base64url=function(g){return e.bufferishToBuffer(g).toString("base64").replace(/[=+/]/g,_=>p[_])},e.base64=function(g){return e.bufferishToBuffer(g).toString("base64")},e.isBigEndian=function(){const g=new Uint8Array(4),_=new Uint32Array(g.buffer);return!((_[0]=1)&g[0])}}}),Wpe=Le({"../../node_modules/cbor/vendor/binary-parse-stream/index.js"(e,t){Ce();var r=(ml(),pn(Aa)),n=cg(),i=class extends r.Transform{constructor(o){super(o),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new n,this.__restart()}_transform(o,s,a){for(this.bs.write(o);this.bs.length>=this.__needed;){let l=null;const u=this.__needed===null?void 0:this.bs.read(this.__needed);try{l=this.__parser.next(u)}catch(f){return a(f)}this.__needed&&(this.__fresh=!1),l.done?(this.push(l.value),this.__restart()):this.__needed=l.value||1/0}return a()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(o){o(this.__fresh?null:new Error("unexpected end of input"))}};t.exports=i}}),$G=Le({"../../node_modules/cbor/lib/tagged.js"(e,t){Ce();var r=wd(),n=f0(),i=Symbol("INTERNAL_JSON");function o(_,v){if(n.isBufferish(_))_.toJSON=v;else if(Array.isArray(_))for(const h of _)o(h,v);else if(_&&typeof _=="object"&&(!(_ instanceof g)||_.tag<21||_.tag>23))for(const h of Object.values(_))o(h,v)}function s(){return n.base64(this)}function a(){return n.base64url(this)}function l(){return this.toString("hex")}function u(_,v,h,E){const y=new DataView(_),[S,T]={2:[y.getUint16,y.setUint16],4:[y.getUint32,y.setUint32],8:[y.getBigUint64,y.setBigUint64]}[v],x=h+E;for(let d=h;d<x;d+=v)T.call(y,d,S.call(y,d,!0))}var f={0:_=>new Date(_),1:_=>new Date(_*1e3),2:_=>n.bufferToBigInt(_),3:_=>r.BI.MINUS_ONE-n.bufferToBigInt(_),21:(_,v)=>(n.isBufferish(_)?v[i]=a:o(_,a),v),22:(_,v)=>(n.isBufferish(_)?v[i]=s:o(_,s),v),23:(_,v)=>(n.isBufferish(_)?v[i]=l:o(_,l),v),32:_=>new URL(_),33:(_,v)=>{if(!_.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const h=_.length%4;if(h===1)throw new Error("Invalid base64url length");if(h===2){if("AQgw".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding")}else if(h===3&&"AEIMQUYcgkosw048".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding");return v},34:(_,v)=>{const h=_.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!h)throw new Error("Invalid base64 characters");if(_.length%4!==0)throw new Error("Invalid base64 length");if(h.groups.padding==="="){if("AQgw".indexOf(_[_.length-2])===-1)throw new Error("Invalid base64 padding")}else if(h.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(_[_.length-3])===-1)throw new Error("Invalid base64 padding");return v},35:_=>new RegExp(_),258:_=>new Set(_)},c={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(c[67]=BigUint64Array,c[71]=BigUint64Array),typeof BigInt64Array<"u"&&(c[75]=BigInt64Array,c[79]=BigInt64Array);function p(_,v){if(!n.isBufferish(_))throw new TypeError("val not a buffer");const{tag:h}=v,E=c[h];if(!E)throw new Error(`Invalid typed array tag: ${h}`);const y=h&4,T=2**(((h&16)>>4)+(h&3));!y!==n.isBigEndian()&&T>1&&u(_.buffer,T,_.byteOffset,_.byteLength);const x=_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength);return new E(x)}for(const _ of Object.keys(c))f[_]=p;var m={},g=class sI{constructor(v,h,E){if(this.tag=v,this.value=h,this.err=E,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const v={tag:this.tag,value:this.value};return this.err&&(v.err=this.err),v}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(v){return v._pushTag(this.tag),v.pushAny(this.value)}convert(v){let h=v==null?void 0:v[this.tag];if(typeof h!="function"&&(h=sI.TAGS[this.tag],typeof h!="function"))return this;try{return h.call(this,this.value,this)}catch(E){return E&&E.message&&E.message.length>0?this.err=E.message:this.err=E,this}}static get TAGS(){return m}static set TAGS(v){m=v}static reset(){sI.TAGS={...f}}};g.INTERNAL_JSON=i,g.reset(),t.exports=g}}),xG=Le({"../../node_modules/cbor/lib/simple.js"(e,t){Ce();var{MT:r,SIMPLE:n,SYMS:i}=wd(),o=class aI{constructor(a){if(typeof a!="number")throw new Error(`Invalid Simple type: ${typeof a}`);if(a<0||a>255||(a|0)!==a)throw new Error(`value must be a small positive integer: ${a}`);this.value=a}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](a,l){return`simple(${this.value})`}encodeCBOR(a){return a._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(a){return a instanceof aI}static decode(a,l=!0,u=!1){switch(a){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return l?null:i.NULL;case n.UNDEFINED:return l?void 0:i.UNDEFINED;case-1:if(!l||!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new aI(a)}}};t.exports=o}}),aT=Le({"../../node_modules/cbor/lib/decoder.js"(e,t){Ce();var r=Wpe(),n=$G(),i=xG(),o=f0(),s=cg();ml(),pn(Aa);var a=wd(),{MT:l,NUMBYTES:u,SYMS:f,BI:c}=a,{Buffer:p}=(md(),pn(pd)),m=Symbol("count"),g=Symbol("major type"),_=Symbol("error"),v=Symbol("not found");function h(x,d,$){const O=[];return O[m]=$,O[f.PARENT]=x,O[g]=d,O}function E(x,d){const $=new s;return $[m]=-1,$[f.PARENT]=x,$[g]=d,$}var y=class extends Error{constructor(x,d){super(`Unexpected data: 0x${x.toString(16)}`),this.name="UnexpectedDataError",this.byte=x,this.value=d}};function S(x,d){switch(typeof x){case"function":return{options:{},cb:x};case"string":return{options:{encoding:x},cb:d};case"object":return{options:x||{},cb:d};default:throw new TypeError("Unknown option type")}}var T=class Su extends r{constructor(d={}){const{tags:$={},max_depth:O=-1,preferWeb:P=!1,required:k=!1,encoding:B="hex",extendedResults:K=!1,preventDuplicateKeys:ie=!1,...W}=d;super({defaultEncoding:B,...W}),this.running=!0,this.max_depth=O,this.tags=$,this.preferWeb=P,this.extendedResults=K,this.required=k,this.preventDuplicateKeys=ie,K&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new s)}static nullcheck(d){switch(d){case f.NULL:return null;case f.UNDEFINED:return;case v:throw new Error("Value not found");default:return d}}static decodeFirstSync(d,$={}){if(d==null)throw new TypeError("input required");({options:$}=S($));const{encoding:O="hex",...P}=$,k=new Su(P),B=o.guessEncoding(d,O),K=k._parse();let ie=K.next();for(;!ie.done;){const ne=B.read(ie.value);if(ne==null||ne.length!==ie.value)throw new Error("Insufficient data");k.extendedResults&&k.valueBytes.write(ne),ie=K.next(ne)}let W=null;if(k.extendedResults)W=ie.value,W.unused=B.read();else if(W=Su.nullcheck(ie.value),B.length>0){const ne=B.read(1);throw B.unshift(ne),new y(ne[0],W)}return W}static decodeAllSync(d,$={}){if(d==null)throw new TypeError("input required");({options:$}=S($));const{encoding:O="hex",...P}=$,k=new Su(P),B=o.guessEncoding(d,O),K=[];for(;B.length>0;){const ie=k._parse();let W=ie.next();for(;!W.done;){const ne=B.read(W.value);if(ne==null||ne.length!==W.value)throw new Error("Insufficient data");k.extendedResults&&k.valueBytes.write(ne),W=ie.next(ne)}K.push(Su.nullcheck(W.value))}return K}static decodeFirst(d,$={},O=null){if(d==null)throw new TypeError("input required");({options:$,cb:O}=S($,O));const{encoding:P="hex",required:k=!1,...B}=$,K=new Su(B);let ie=v;const W=o.guessEncoding(d,P),ne=new Promise((fe,re)=>{K.on("data",le=>{ie=Su.nullcheck(le),K.close()}),K.once("error",le=>K.extendedResults&&le instanceof y?(ie.unused=K.bs.slice(),fe(ie)):(ie!==v&&(le.value=ie),ie=_,K.close(),re(le))),K.once("end",()=>{switch(ie){case v:return k?re(new Error("No CBOR found")):fe(ie);case _:return;default:return fe(ie)}})});return typeof O=="function"&&ne.then(fe=>O(null,fe),O),W.pipe(K),ne}static decodeAll(d,$={},O=null){if(d==null)throw new TypeError("input required");({options:$,cb:O}=S($,O));const{encoding:P="hex",...k}=$,B=new Su(k),K=[];B.on("data",W=>K.push(Su.nullcheck(W)));const ie=new Promise((W,ne)=>{B.on("error",ne),B.on("end",()=>W(K))});return typeof O=="function"&&ie.then(W=>O(void 0,W),W=>O(W,void 0)),o.guessEncoding(d,P).pipe(B),ie}close(){this.running=!1,this.__fresh=!0}_onRead(d){this.valueBytes.write(d)}*_parse(){let d=null,$=0,O=null;for(;;){if(this.max_depth>=0&&$>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[P]=yield 1;if(!this.running)throw this.bs.unshift(p.from([P])),new y(P);const k=P>>5,B=P&31,K=d==null?void 0:d[g],ie=d==null?void 0:d.length;switch(B){case u.ONE:this.emit("more-bytes",k,1,K,ie),[O]=yield 1;break;case u.TWO:case u.FOUR:case u.EIGHT:{const ne=1<<B-24;this.emit("more-bytes",k,ne,K,ie);const fe=yield ne;O=k===l.SIMPLE_FLOAT?fe:o.parseCBORint(B,fe);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${B}`);case u.INDEFINITE:switch(k){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error(`Invalid indefinite encoding for MT ${k}`)}O=-1;break;default:O=B}switch(k){case l.POS_INT:break;case l.NEG_INT:O===Number.MAX_SAFE_INTEGER?O=c.NEG_MAX:O=typeof O=="bigint"?c.MINUS_ONE-O:-1-O;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(O){case 0:this.emit("start-string",k,O,K,ie),k===l.UTF8_STRING?O="":O=this.preferWeb?new Uint8Array(0):p.allocUnsafe(0);break;case-1:this.emit("start",k,f.STREAM,K,ie),d=E(d,k),$++;continue;default:this.emit("start-string",k,O,K,ie),O=yield O,k===l.UTF8_STRING?O=o.utf8(O):this.preferWeb&&(O=new Uint8Array(O.buffer,O.byteOffset,O.length))}break;case l.ARRAY:case l.MAP:switch(O){case 0:O=k===l.MAP?{}:[];break;case-1:this.emit("start",k,f.STREAM,K,ie),d=h(d,k,-1),$++;continue;default:this.emit("start",k,O,K,ie),d=h(d,k,O*(k-3)),$++;continue}break;case l.TAG:this.emit("start",k,O,K,ie),d=h(d,k,1),d.push(O),$++;continue;case l.SIMPLE_FLOAT:if(typeof O=="number"){if(B===u.ONE&&O<32)throw new Error(`Invalid two-byte encoding of simple value ${O}`);const ne=d!=null;O=i.decode(O,ne,ne&&d[m]<0)}else O=o.parseCBORfloat(O)}this.emit("value",O,K,ie,B);let W=!1;for(;d!=null;){if(O===f.BREAK)d[m]=1;else if(Array.isArray(d))d.push(O);else{const fe=d[g];if(fe!=null&&fe!==k)throw this.running=!1,new Error("Invalid major type in indefinite encoding");d.write(O)}if(--d[m]!==0){W=!0;break}if(--$,delete d[m],Array.isArray(d))switch(d[g]){case l.ARRAY:O=d;break;case l.MAP:{let fe=!0;if(d.length%2!==0)throw new Error(`Invalid map length: ${d.length}`);for(let re=0,le=d.length;re<le;re+=2)if(typeof d[re]!="string"||d[re]==="__proto__"){fe=!1;break}if(fe){O={};for(let re=0,le=d.length;re<le;re+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(O,d[re]))throw new Error("Duplicate keys in a map");O[d[re]]=d[re+1]}}else{O=new Map;for(let re=0,le=d.length;re<le;re+=2){if(this.preventDuplicateKeys&&O.has(d[re]))throw new Error("Duplicate keys in a map");O.set(d[re],d[re+1])}}break}case l.TAG:{O=new n(d[0],d[1]).convert(this.tags);break}}else if(d instanceof s)switch(d[g]){case l.BYTE_STRING:O=d.slice(),this.preferWeb&&(O=new Uint8Array(O.buffer,O.byteOffset,O.length));break;case l.UTF8_STRING:O=d.toString("utf-8");break}this.emit("stop",d[g]);const ne=d;d=d[f.PARENT],delete ne[f.PARENT],delete ne[g]}if(!W){if(this.extendedResults){const ne=this.valueBytes.slice(),fe={value:Su.nullcheck(O),bytes:ne,length:ne.length};return this.valueBytes=new s,fe}return O}}}};T.NOT_FOUND=v,t.exports=T}}),Gpe=Le({"../../node_modules/cbor/lib/commented.js"(e,t){Ce();var r=(ml(),pn(Aa)),n=f0(),i=aT(),o=cg(),{MT:s,NUMBYTES:a,SYMS:l}=wd(),{Buffer:u}=(md(),pn(pd));function f(m){return m>1?"s":""}function c(m,g){switch(typeof m){case"function":return{options:{},cb:m};case"string":return{options:{encoding:m},cb:g};case"number":return{options:{max_depth:m},cb:g};case"object":return{options:m||{},cb:g};default:throw new TypeError("Unknown option type")}}var p=class lI extends r.Transform{constructor(g={}){const{depth:_=1,max_depth:v=10,no_summary:h=!1,tags:E={},preferWeb:y,encoding:S,...T}=g;super({...T,readableObjectMode:!1,writableObjectMode:!1}),this.depth=_,this.max_depth=v,this.all=new o,E[24]||(E[24]=this._tag_24.bind(this)),this.parser=new i({tags:E,max_depth:v,preferWeb:y,encoding:S}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),h||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(g){const _=new lI({depth:this.depth+1,no_summary:!0});_.on("data",v=>this.push(v)),_.on("error",v=>this.emit("error",v)),_.end(g)}_transform(g,_,v){this.parser.write(g,_,v)}_flush(g){return this.parser._flush(g)}static comment(g,_={},v=null){if(g==null)throw new Error("input required");({options:_,cb:v}=c(_,v));const h=new o,{encoding:E="hex",...y}=_,S=new lI(y);let T=null;return typeof v=="function"?(S.on("end",()=>{v(null,h.toString("utf8"))}),S.on("error",v)):T=new Promise((x,d)=>{S.on("end",()=>{x(h.toString("utf8"))}),S.on("error",d)}),S.pipe(h),n.guessEncoding(g,E).pipe(S),T}_on_error(g){this.push("ERROR: "),this.push(g.toString()),this.push(`
`)}_on_read(g){this.all.write(g);const _=g.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(_);let v=(this.max_depth-this.depth)*2-_.length;v<1&&(v=1),this.push(new Array(v+1).join(" ")),this.push("-- ")}_on_more(g,_,v,h){let E="";switch(this.depth++,g){case s.POS_INT:E="Positive number,";break;case s.NEG_INT:E="Negative number,";break;case s.ARRAY:E="Array, length";break;case s.MAP:E="Map, count";break;case s.BYTE_STRING:E="Bytes, length";break;case s.UTF8_STRING:E="String, length";break;case s.SIMPLE_FLOAT:_===1?E="Simple value,":E="Float,";break}this.push(`${E} next ${_} byte${f(_)}
`)}_on_start_string(g,_,v,h){let E="";switch(this.depth++,g){case s.BYTE_STRING:E=`Bytes, length: ${_}`;break;case s.UTF8_STRING:E=`String, length: ${_.toString()}`;break}this.push(`${E}
`)}_on_start(g,_,v,h){switch(this.depth++,v){case s.ARRAY:this.push(`[${h}], `);break;case s.MAP:h%2?this.push(`{Val:${Math.floor(h/2)}}, `):this.push(`{Key:${Math.floor(h/2)}}, `);break}switch(g){case s.TAG:this.push(`Tag #${_}`),_===24&&this.push(" Encoded CBOR data item");break;case s.ARRAY:_===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${_} item${f(_)}`);break;case s.MAP:_===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${_} pair${f(_)}`);break;case s.BYTE_STRING:this.push("Bytes (streaming)");break;case s.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(g){this.depth--}_on_value(g,_,v,h){if(g!==l.BREAK)switch(_){case s.ARRAY:this.push(`[${v}], `);break;case s.MAP:v%2?this.push(`{Val:${Math.floor(v/2)}}, `):this.push(`{Key:${Math.floor(v/2)}}, `);break}const E=n.cborValueToString(g,-1/0);switch(typeof g=="string"||u.isBuffer(g)?(g.length>0&&(this.push(E),this.push(`
`)),this.depth--):(this.push(E),this.push(`
`)),h){case a.ONE:case a.TWO:case a.FOUR:case a.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};t.exports=p}}),Kpe=Le({"../../node_modules/cbor/lib/diagnose.js"(e,t){Ce();var r=(ml(),pn(Aa)),n=aT(),i=f0(),o=cg(),{MT:s,SYMS:a}=wd();function l(f,c){switch(typeof f){case"function":return{options:{},cb:f};case"string":return{options:{encoding:f},cb:c};case"object":return{options:f||{},cb:c};default:throw new TypeError("Unknown option type")}}var u=class AG extends r.Transform{constructor(c={}){const{separator:p=`
`,stream_errors:m=!1,tags:g,max_depth:_,preferWeb:v,encoding:h,...E}=c;super({...E,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=p,this.stream_errors=m,this.parser=new n({tags:g,max_depth:_,preferWeb:v,encoding:h}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(c,p,m){return this.parser.write(c,p,m)}_flush(c){return this.parser._flush(p=>this.stream_errors?(p&&this._on_error(p),c()):c(p))}static diagnose(c,p={},m=null){if(c==null)throw new TypeError("input required");({options:p,cb:m}=l(p,m));const{encoding:g="hex",..._}=p,v=new o,h=new AG(_);let E=null;return typeof m=="function"?(h.on("end",()=>m(null,v.toString("utf8"))),h.on("error",m)):E=new Promise((y,S)=>{h.on("end",()=>y(v.toString("utf8"))),h.on("error",S)}),h.pipe(v),i.guessEncoding(c,g).pipe(h),E}_on_error(c){this.stream_errors?this.push(c.toString()):this.emit("error",c)}_on_more(c,p,m,g){c===s.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[p])}_fore(c,p){switch(c){case s.BYTE_STRING:case s.UTF8_STRING:case s.ARRAY:p>0&&this.push(", ");break;case s.MAP:p>0&&(p%2?this.push(": "):this.push(", "))}}_on_value(c,p,m){if(c===a.BREAK)return;this._fore(p,m);const g=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(c,g))}_on_start(c,p,m,g){switch(this._fore(m,g),c){case s.TAG:this.push(`${p}(`);break;case s.ARRAY:this.push("[");break;case s.MAP:this.push("{");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push("(");break}p===a.STREAM&&this.push("_ ")}_on_stop(c){switch(c){case s.TAG:this.push(")");break;case s.ARRAY:this.push("]");break;case s.MAP:this.push("}");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};t.exports=u}}),OG=Le({"../../node_modules/cbor/lib/encoder.js"(e,t){Ce();var r=(ml(),pn(Aa)),n=cg(),i=f0(),o=wd(),{MT:s,NUMBYTES:a,SHIFT32:l,SIMPLE:u,SYMS:f,TAG:c,BI:p}=o,{Buffer:m}=(md(),pn(pd)),g=s.SIMPLE_FLOAT<<5|a.TWO,_=s.SIMPLE_FLOAT<<5|a.FOUR,v=s.SIMPLE_FLOAT<<5|a.EIGHT,h=s.SIMPLE_FLOAT<<5|u.TRUE,E=s.SIMPLE_FLOAT<<5|u.FALSE,y=s.SIMPLE_FLOAT<<5|u.UNDEFINED,S=s.SIMPLE_FLOAT<<5|u.NULL,T=m.from([255]),x=m.from("f97e00","hex"),d=m.from("f9fc00","hex"),$=m.from("f97c00","hex"),O=m.from("f98000","hex"),P={},k={};function B(ie){if(!ie)return"number";switch(ie.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${ie}"`)}var K=class yo extends r.Transform{constructor(W={}){const{canonical:ne=!1,encodeUndefined:fe,disallowUndefinedKeys:re=!1,dateType:le="number",collapseBigIntegers:F=!1,detectLoops:z=!1,omitUndefinedProperties:J=!1,genTypes:R=[],...C}=W;if(super({...C,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=ne,this.encodeUndefined=fe,this.disallowUndefinedKeys=re,this.dateType=B(le),this.collapseBigIntegers=this.canonical?!0:F,this.detectLoops=void 0,typeof z=="boolean")z&&(this.detectLoops=new WeakSet);else if(z instanceof WeakSet)this.detectLoops=z;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=J,this.semanticTypes={...yo.SEMANTIC_TYPES},Array.isArray(R))for(let q=0,oe=R.length;q<oe;q+=2)this.addSemanticType(R[q],R[q+1]);else for(const[q,oe]of Object.entries(R))this.addSemanticType(q,oe)}_transform(W,ne,fe){const re=this.pushAny(W);return fe(re===!1?new Error("Push Error"):void 0)}_flush(W){return W()}_pushUInt8(W){const ne=m.allocUnsafe(1);return ne.writeUInt8(W,0),this.push(ne)}_pushUInt16BE(W){const ne=m.allocUnsafe(2);return ne.writeUInt16BE(W,0),this.push(ne)}_pushUInt32BE(W){const ne=m.allocUnsafe(4);return ne.writeUInt32BE(W,0),this.push(ne)}_pushFloatBE(W){const ne=m.allocUnsafe(4);return ne.writeFloatBE(W,0),this.push(ne)}_pushDoubleBE(W){const ne=m.allocUnsafe(8);return ne.writeDoubleBE(W,0),this.push(ne)}_pushNaN(){return this.push(x)}_pushInfinity(W){const ne=W<0?d:$;return this.push(ne)}_pushFloat(W){if(this.canonical){const ne=m.allocUnsafe(2);if(i.writeHalf(ne,W))return this._pushUInt8(g)&&this.push(ne)}return Math.fround(W)===W?this._pushUInt8(_)&&this._pushFloatBE(W):this._pushUInt8(v)&&this._pushDoubleBE(W)}_pushInt(W,ne,fe){const re=ne<<5;if(W<24)return this._pushUInt8(re|W);if(W<=255)return this._pushUInt8(re|a.ONE)&&this._pushUInt8(W);if(W<=65535)return this._pushUInt8(re|a.TWO)&&this._pushUInt16BE(W);if(W<=4294967295)return this._pushUInt8(re|a.FOUR)&&this._pushUInt32BE(W);let le=Number.MAX_SAFE_INTEGER;return ne===s.NEG_INT&&le--,W<=le?this._pushUInt8(re|a.EIGHT)&&this._pushUInt32BE(Math.floor(W/l))&&this._pushUInt32BE(W%l):ne===s.NEG_INT?this._pushFloat(fe):this._pushFloat(W)}_pushIntNum(W){return Object.is(W,-0)?this.push(O):W<0?this._pushInt(-W-1,s.NEG_INT,W):this._pushInt(W,s.POS_INT)}_pushNumber(W){return isNaN(W)?this._pushNaN():isFinite(W)?Math.round(W)===W?this._pushIntNum(W):this._pushFloat(W):this._pushInfinity(W)}_pushString(W){const ne=m.byteLength(W,"utf8");return this._pushInt(ne,s.UTF8_STRING)&&this.push(W,"utf8")}_pushBoolean(W){return this._pushUInt8(W?h:E)}_pushUndefined(W){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(y);case"function":return this.pushAny(this.encodeUndefined(W));case"object":{const ne=i.bufferishToBuffer(this.encodeUndefined);if(ne)return this.push(ne)}}return this.pushAny(this.encodeUndefined)}_pushNull(W){return this._pushUInt8(S)}_pushTag(W){return this._pushInt(W,s.TAG)}_pushJSBigint(W){let ne=s.POS_INT,fe=c.POS_BIGINT;if(W<0&&(W=-W+p.MINUS_ONE,ne=s.NEG_INT,fe=c.NEG_BIGINT),this.collapseBigIntegers&&W<=p.MAXINT64)return W<=4294967295?this._pushInt(Number(W),ne):this._pushUInt8(ne<<5|a.EIGHT)&&this._pushUInt32BE(Number(W/p.SHIFT32))&&this._pushUInt32BE(Number(W%p.SHIFT32));let re=W.toString(16);re.length%2&&(re=`0${re}`);const le=m.from(re,"hex");return this._pushTag(fe)&&yo._pushBuffer(this,le)}_pushObject(W,ne){if(!W)return this._pushNull(W);if(ne={indefinite:!1,skipTypes:!1,...ne},!ne.indefinite&&this.detectLoops){if(this.detectLoops.has(W))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(W)}if(!ne.skipTypes){const F=W.encodeCBOR;if(typeof F=="function")return F.call(W,this);const z=this.semanticTypes[W.constructor.name];if(z)return z.call(W,this,W)}const fe=Object.keys(W).filter(F=>{const z=typeof W[F];return z!=="function"&&(!this.omitUndefinedProperties||z!=="undefined")}),re={};if(this.canonical&&fe.sort((F,z)=>{const J=re[F]||(re[F]=yo.encode(F)),R=re[z]||(re[z]=yo.encode(z));return J.compare(R)}),ne.indefinite){if(!this._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!this._pushInt(fe.length,s.MAP))return!1;let le=null;for(let F=0,z=fe.length;F<z;F++){const J=fe[F];if(this.canonical&&(le=re[J])){if(!this.push(le))return!1}else if(!this._pushString(J))return!1;if(!this.pushAny(W[J]))return!1}if(ne.indefinite){if(!this.push(T))return!1}else this.detectLoops&&this.detectLoops.delete(W);return!0}_encodeAll(W){const ne=new n({highWaterMark:this.readableHighWaterMark});this.pipe(ne);for(const fe of W)this.pushAny(fe);return this.end(),ne.read()}addSemanticType(W,ne){const fe=typeof W=="string"?W:W.name,re=this.semanticTypes[fe];if(ne){if(typeof ne!="function")throw new TypeError("fun must be of type function");this.semanticTypes[fe]=ne}else re&&delete this.semanticTypes[fe];return re}pushAny(W){switch(typeof W){case"number":return this._pushNumber(W);case"bigint":return this._pushJSBigint(W);case"string":return this._pushString(W);case"boolean":return this._pushBoolean(W);case"undefined":return this._pushUndefined(W);case"object":return this._pushObject(W);case"symbol":switch(W){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${W.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof W}, ${typeof W.toString=="function"?W.toString():""}`)}}static pushArray(W,ne,fe){fe={indefinite:!1,...fe};const re=ne.length;if(fe.indefinite){if(!W._pushUInt8(s.ARRAY<<5|a.INDEFINITE))return!1}else if(!W._pushInt(re,s.ARRAY))return!1;for(let le=0;le<re;le++)if(!W.pushAny(ne[le]))return!1;return!(fe.indefinite&&!W.push(T))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(W,ne){switch(W.dateType){case"string":return W._pushTag(c.DATE_STRING)&&W._pushString(ne.toISOString());case"int":return W._pushTag(c.DATE_EPOCH)&&W._pushIntNum(Math.round(ne.getTime()/1e3));case"float":return W._pushTag(c.DATE_EPOCH)&&W._pushFloat(ne.getTime()/1e3);case"number":default:return W._pushTag(c.DATE_EPOCH)&&W.pushAny(ne.getTime()/1e3)}}static _pushBuffer(W,ne){return W._pushInt(ne.length,s.BYTE_STRING)&&W.push(ne)}static _pushNoFilter(W,ne){return yo._pushBuffer(W,ne.slice())}static _pushRegexp(W,ne){return W._pushTag(c.REGEXP)&&W.pushAny(ne.source)}static _pushSet(W,ne){if(!W._pushTag(c.SET)||!W._pushInt(ne.size,s.ARRAY))return!1;for(const fe of ne)if(!W.pushAny(fe))return!1;return!0}static _pushURL(W,ne){return W._pushTag(c.URI)&&W.pushAny(ne.toString())}static _pushBoxed(W,ne){return W.pushAny(ne.valueOf())}static _pushMap(W,ne,fe){fe={indefinite:!1,...fe};let re=[...ne.entries()];if(W.omitUndefinedProperties&&(re=re.filter(([le,F])=>F!==void 0)),fe.indefinite){if(!W._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!W._pushInt(re.length,s.MAP))return!1;if(W.canonical){const le=new yo({genTypes:W.semanticTypes,canonical:W.canonical,detectLoops:!!W.detectLoops,dateType:W.dateType,disallowUndefinedKeys:W.disallowUndefinedKeys,collapseBigIntegers:W.collapseBigIntegers}),F=new n({highWaterMark:W.readableHighWaterMark});le.pipe(F),re.sort(([z],[J])=>{le.pushAny(z);const R=F.read();le.pushAny(J);const C=F.read();return R.compare(C)});for(const[z,J]of re){if(W.disallowUndefinedKeys&&typeof z>"u")throw new Error("Invalid Map key: undefined");if(!(W.pushAny(z)&&W.pushAny(J)))return!1}}else for(const[le,F]of re){if(W.disallowUndefinedKeys&&typeof le>"u")throw new Error("Invalid Map key: undefined");if(!(W.pushAny(le)&&W.pushAny(F)))return!1}return!(fe.indefinite&&!W.push(T))}static _pushTypedArray(W,ne){let fe=64,re=ne.BYTES_PER_ELEMENT;const{name:le}=ne.constructor;return le.startsWith("Float")?(fe|=16,re/=2):le.includes("U")||(fe|=8),(le.includes("Clamped")||re!==1&&!i.isBigEndian())&&(fe|=4),fe|={1:0,2:1,4:2,8:3}[re],W._pushTag(fe)?yo._pushBuffer(W,m.from(ne.buffer,ne.byteOffset,ne.byteLength)):!1}static _pushArrayBuffer(W,ne){return yo._pushBuffer(W,m.from(ne))}static encodeIndefinite(W,ne,fe={}){if(ne==null){if(this==null)throw new Error("No object to encode");ne=this}const{chunkSize:re=4096}=fe;let le=!0;const F=typeof ne;let z=null;if(F==="string"){le=le&&W._pushUInt8(s.UTF8_STRING<<5|a.INDEFINITE);let J=0;for(;J<ne.length;){const R=J+re;le=le&&W._pushString(ne.slice(J,R)),J=R}le=le&&W.push(T)}else if(z=i.bufferishToBuffer(ne)){le=le&&W._pushUInt8(s.BYTE_STRING<<5|a.INDEFINITE);let J=0;for(;J<z.length;){const R=J+re;le=le&&yo._pushBuffer(W,z.slice(J,R)),J=R}le=le&&W.push(T)}else if(Array.isArray(ne))le=le&&yo.pushArray(W,ne,{indefinite:!0});else if(ne instanceof Map)le=le&&yo._pushMap(W,ne,{indefinite:!0});else{if(F!=="object")throw new Error("Invalid indefinite encoding");le=le&&W._pushObject(ne,{indefinite:!0,skipTypes:!0})}return le}static encode(...W){return new yo()._encodeAll(W)}static encodeCanonical(...W){return new yo({canonical:!0})._encodeAll(W)}static encodeOne(W,ne){return new yo(ne)._encodeAll([W])}static encodeAsync(W,ne){return new Promise((fe,re)=>{const le=[],F=new yo(ne);F.on("data",z=>le.push(z)),F.on("error",re),F.on("finish",()=>fe(m.concat(le))),F.pushAny(W),F.end()})}static get SEMANTIC_TYPES(){return k}static set SEMANTIC_TYPES(W){k=W}static reset(){yo.SEMANTIC_TYPES={...P}}};Object.assign(P,{Array:K.pushArray,Date:K._pushDate,Buffer:K._pushBuffer,[m.name]:K._pushBuffer,Map:K._pushMap,NoFilter:K._pushNoFilter,[n.name]:K._pushNoFilter,RegExp:K._pushRegexp,Set:K._pushSet,ArrayBuffer:K._pushArrayBuffer,Uint8ClampedArray:K._pushTypedArray,Uint8Array:K._pushTypedArray,Uint16Array:K._pushTypedArray,Uint32Array:K._pushTypedArray,Int8Array:K._pushTypedArray,Int16Array:K._pushTypedArray,Int32Array:K._pushTypedArray,Float32Array:K._pushTypedArray,Float64Array:K._pushTypedArray,URL:K._pushURL,Boolean:K._pushBoxed,Number:K._pushBoxed,String:K._pushBoxed}),typeof BigUint64Array<"u"&&(P[BigUint64Array.name]=K._pushTypedArray),typeof BigInt64Array<"u"&&(P[BigInt64Array.name]=K._pushTypedArray),K.reset(),t.exports=K}}),Jpe=Le({"../../node_modules/cbor/lib/map.js"(e,t){Ce();var{Buffer:r}=(md(),pn(pd)),n=OG(),i=aT(),{MT:o}=wd(),s=class Pf extends Map{constructor(l){super(l)}static _encode(l){return n.encodeCanonical(l).toString("base64")}static _decode(l){return i.decodeFirstSync(l,"base64")}get(l){return super.get(Pf._encode(l))}set(l,u){return super.set(Pf._encode(l),u)}delete(l){return super.delete(Pf._encode(l))}has(l){return super.has(Pf._encode(l))}*keys(){for(const l of super.keys())yield Pf._decode(l)}*entries(){for(const l of super.entries())yield[Pf._decode(l[0]),l[1]]}[Symbol.iterator](){return this.entries()}forEach(l,u){if(typeof l!="function")throw new TypeError("Must be function");for(const f of super.entries())l.call(this,f[1],Pf._decode(f[0]),this)}encodeCBOR(l){if(!l._pushInt(this.size,o.MAP))return!1;if(l.canonical){const u=Array.from(super.entries()).map(f=>[r.from(f[0],"base64"),f[1]]);u.sort((f,c)=>f[0].compare(c[0]));for(const f of u)if(!(l.push(f[0])&&l.pushAny(f[1])))return!1}else for(const u of super.entries())if(!(l.push(r.from(u[0],"base64"))&&l.pushAny(u[1])))return!1;return!0}};t.exports=s}}),Ype=Le({"../../node_modules/cbor/lib/cbor.js"(e){Ce(),e.Commented=Gpe(),e.Diagnose=Kpe(),e.Decoder=aT(),e.Encoder=OG(),e.Simple=xG(),e.Tagged=$G(),e.Map=Jpe(),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}}}),PG=Le({"../core/dist/codecs/cbor-codec.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ys(),r=Ype(),{debug:n}=(0,t.createLoggers)("core","cbor-codec"),i=class{constructor(o){this.subMediaType=o??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`CborCodec parsing '${o.toString()}'`);try{return(0,r.decode)(o)}catch(l){if(o.byteLength===0)return null;throw l}}valueToBytes(o,s,a){return n("CborCodec serializing",o),o===void 0?kn.alloc(0):(0,r.encode)(o)}};e.default=i}}),RG=Le({"../core/dist/codecs/json-codec.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ju(),r=Ys(),{debug:n}=(0,r.createLoggers)("core","json-codec"),i=class{constructor(o){this.subMediaType=o??t.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`JsonCodec parsing '${o.toString()}'`);let l;try{l=JSON.parse(o.toString())}catch(u){if(u instanceof SyntaxError)o.byteLength===0?l=void 0:l=o.toString();else throw u}return l}valueToBytes(o,s,a){n("JsonCodec serializing",o);let l="";return o!==void 0&&(l=JSON.stringify(o)),kn.from(l)}};e.default=i}}),NG=Le({"../core/dist/codecs/text-codec.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ys(),{debug:r}=(0,t.createLoggers)("core","text-codec"),n=class{constructor(i){this.subMediaType=i??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(i,o,s){return r(`TextCodec parsing '${i.toString()}'`),i.toString(s==null?void 0:s.charset)}valueToBytes(i,o,s){r(`TextCodec serializing '${i}'`);let a="";i!==void 0&&(typeof i=="string"?a=i:a=JSON.stringify(i));let l;if(s&&s.charset)switch(s.charset){case"ascii":l="ascii";break;case"utf8":l="utf8";break;case"utf-8":l="utf-8";break;case"utf16le":l="utf16le";break;case"ucs2":l="ucs2";break;case"ucs-2":l="ucs-2";break;case"base64":l="base64";break;case"latin1":l="latin1";break;case"binary":l="binary";break;case"hex":l="hex";break}const u=kn.alloc(a.length);return u.write(a,l),u}};e.default=n}}),IG=Le({"../core/dist/codecs/base64-codec.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.subMediaType=r}getMediaType(){return this.subMediaType}bytesToValue(r,n,i){return r.toString("ascii")}valueToBytes(r,n,i){let o="";return r!==void 0&&(o=JSON.stringify(r)),kn.from(o,"base64")}};e.default=t}}),lT=Le({"../../node_modules/@petamoriken/float16/lib/_util/messages.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t="This is not an object";e.THIS_IS_NOT_AN_OBJECT=t;var r="This is not a Float16Array object";e.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=r;var n="This constructor is not a subclass of Float16Array";e.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=n;var i="The constructor property value is not an object";e.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=i;var o="Species constructor didn't return TypedArray object";e.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=o;var s="Derived constructor created TypedArray object which was too small length";e.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=s;var a="Attempting to access detached ArrayBuffer";e.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=a;var l="Cannot convert undefined or null to object";e.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=l;var u="Cannot mix BigInt and other types, use explicit conversions";e.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=u;var f="@@iterator property is not callable";e.ITERATOR_PROPERTY_IS_NOT_CALLABLE=f;var c="Reduce of empty array with no initial value";e.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=c;var p="The comparison function must be either a function or undefined";e.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED=p;var m="Offset is out of bounds";e.OFFSET_IS_OUT_OF_BOUNDS=m}}),tp=Le({"../../node_modules/@petamoriken/float16/lib/_util/primordials.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=lT();function r(Mt){return(ye,...me)=>i(Mt,ye,me)}function n(Mt,ye){return r(l(Mt,ye).get)}var{apply:i,construct:o,defineProperty:s,get:a,getOwnPropertyDescriptor:l,getPrototypeOf:u,has:f,ownKeys:c,set:p,setPrototypeOf:m}=Reflect;e.ReflectSetPrototypeOf=m,e.ReflectSet=p,e.ReflectOwnKeys=c,e.ReflectHas=f,e.ReflectGetPrototypeOf=u,e.ReflectGetOwnPropertyDescriptor=l,e.ReflectGet=a,e.ReflectDefineProperty=s,e.ReflectConstruct=o,e.ReflectApply=i;var g=Proxy;e.NativeProxy=g;var{EPSILON:_,MAX_SAFE_INTEGER:v,isFinite:h,isNaN:E}=Number;e.NumberIsNaN=E,e.NumberIsFinite=h,e.MAX_SAFE_INTEGER=v,e.EPSILON=_;var{iterator:y,species:S,toStringTag:T,for:x}=Symbol;e.SymbolFor=x,e.SymbolToStringTag=T,e.SymbolSpecies=S,e.SymbolIterator=y;var d=Object;e.NativeObject=d;var{create:$,defineProperty:O,freeze:P,is:k}=d;e.ObjectIs=k,e.ObjectFreeze=P,e.ObjectDefineProperty=O,e.ObjectCreate=$;var B=d.prototype,K=B.__lookupGetter__?r(B.__lookupGetter__):(Mt,ye)=>{if(Mt==null)throw Rr(t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let me=d(Mt);do{const $e=l(me,ye);if($e!==void 0)return ie($e,"get")?$e.get:void 0}while((me=u(me))!==null)};e.ObjectPrototype__lookupGetter__=K;var ie=d.hasOwn||r(B.hasOwnProperty);e.ObjectHasOwn=ie;var W=Array,ne=W.isArray;e.ArrayIsArray=ne;var fe=W.prototype,re=r(fe.join);e.ArrayPrototypeJoin=re;var le=r(fe.push);e.ArrayPrototypePush=le;var F=r(fe.toLocaleString);e.ArrayPrototypeToLocaleString=F;var z=fe[y];e.NativeArrayPrototypeSymbolIterator=z;var J=r(z);e.ArrayPrototypeSymbolIterator=J;var{abs:R,trunc:C}=Math;e.MathTrunc=C,e.MathAbs=R;var q=ArrayBuffer;e.NativeArrayBuffer=q;var oe=q.isView;e.ArrayBufferIsView=oe;var X=q.prototype,ee=r(X.slice);e.ArrayBufferPrototypeSlice=ee;var se=n(X,"byteLength");e.ArrayBufferPrototypeGetByteLength=se;var we=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;e.NativeSharedArrayBuffer=we;var Oe=we&&n(we.prototype,"byteLength");e.SharedArrayBufferPrototypeGetByteLength=Oe;var I=u(Uint8Array);e.TypedArray=I;var L=I.from,M=I.prototype;e.TypedArrayPrototype=M;var Z=M[y];e.NativeTypedArrayPrototypeSymbolIterator=Z;var ue=r(M.keys);e.TypedArrayPrototypeKeys=ue;var de=r(M.values);e.TypedArrayPrototypeValues=de;var ve=r(M.entries);e.TypedArrayPrototypeEntries=ve;var Se=r(M.set);e.TypedArrayPrototypeSet=Se;var Fe=r(M.reverse);e.TypedArrayPrototypeReverse=Fe;var He=r(M.fill);e.TypedArrayPrototypeFill=He;var Ve=r(M.copyWithin);e.TypedArrayPrototypeCopyWithin=Ve;var ut=r(M.sort);e.TypedArrayPrototypeSort=ut;var Qe=r(M.slice);e.TypedArrayPrototypeSlice=Qe;var Ye=r(M.subarray);e.TypedArrayPrototypeSubarray=Ye;var te=n(M,"buffer");e.TypedArrayPrototypeGetBuffer=te;var j=n(M,"byteOffset");e.TypedArrayPrototypeGetByteOffset=j;var U=n(M,"length");e.TypedArrayPrototypeGetLength=U;var ce=n(M,T);e.TypedArrayPrototypeGetSymbolToStringTag=ce;var Te=Uint8Array;e.NativeUint8Array=Te;var Re=Uint16Array;e.NativeUint16Array=Re;var ze=(...Mt)=>i(L,Re,Mt);e.Uint16ArrayFrom=ze;var Be=Uint32Array;e.NativeUint32Array=Be;var Xe=Float32Array;e.NativeFloat32Array=Xe;var vt=u([][y]());e.ArrayIteratorPrototype=vt;var St=r(vt.next);e.ArrayIteratorPrototypeNext=St;var yt=r(function*(){}().next);e.GeneratorPrototypeNext=yt;var Yt=u(vt);e.IteratorPrototype=Yt;var Jr=DataView.prototype,cn=r(Jr.getUint16);e.DataViewPrototypeGetUint16=cn;var Tr=r(Jr.setUint16);e.DataViewPrototypeSetUint16=Tr;var Rr=TypeError;e.NativeTypeError=Rr;var Nn=RangeError;e.NativeRangeError=Nn;var wr=WeakSet;e.NativeWeakSet=wr;var cr=wr.prototype,ar=r(cr.add);e.WeakSetPrototypeAdd=ar;var Ie=r(cr.has);e.WeakSetPrototypeHas=Ie;var ke=WeakMap;e.NativeWeakMap=ke;var ft=ke.prototype,bt=r(ft.get);e.WeakMapPrototypeGet=bt;var Lt=r(ft.has);e.WeakMapPrototypeHas=Lt;var xt=r(ft.set);e.WeakMapPrototypeSet=xt}}),CG=Le({"../../node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.safeIfNeeded=i,e.wrap=a;var t=tp(),r=new t.NativeWeakMap,n=(0,t.ObjectCreate)(null,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(r,this);return(0,t.ArrayIteratorPrototypeNext)(u)}},[t.SymbolIterator]:{value:function(){return this}}});function i(l){if(l[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext)return l;const u=(0,t.ObjectCreate)(n);return(0,t.WeakMapPrototypeSet)(r,u,(0,t.ArrayPrototypeSymbolIterator)(l)),u}var o=new t.NativeWeakMap,s=(0,t.ObjectCreate)(t.IteratorPrototype,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(o,this);return(0,t.GeneratorPrototypeNext)(u)},writable:!0,configurable:!0}});for(const l of(0,t.ReflectOwnKeys)(t.ArrayIteratorPrototype))l!=="next"&&(0,t.ObjectDefineProperty)(s,l,(0,t.ReflectGetOwnPropertyDescriptor)(t.ArrayIteratorPrototype,l));function a(l){const u=(0,t.ObjectCreate)(s);return(0,t.WeakMapPrototypeSet)(o,u,l),u}}}),uT=Le({"../../node_modules/@petamoriken/float16/lib/_util/is.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.isAnyArrayBuffer=l,e.isCanonicalIntegerIndexString=c,e.isNativeBigIntTypedArray=o,e.isNativeTypedArray=i,e.isObject=r,e.isObjectLike=n,e.isOrdinaryArray=u,e.isOrdinaryNativeTypedArray=f,e.isSharedArrayBuffer=a;var t=tp();function r(p){return p!==null&&typeof p=="object"||typeof p=="function"}function n(p){return p!==null&&typeof p=="object"}function i(p){return(0,t.TypedArrayPrototypeGetSymbolToStringTag)(p)!==void 0}function o(p){const m=(0,t.TypedArrayPrototypeGetSymbolToStringTag)(p);return m==="BigInt64Array"||m==="BigUint64Array"}function s(p){try{return(0,t.ArrayBufferPrototypeGetByteLength)(p),!0}catch{return!1}}function a(p){if(t.NativeSharedArrayBuffer===null)return!1;try{return(0,t.SharedArrayBufferPrototypeGetByteLength)(p),!0}catch{return!1}}function l(p){return s(p)||a(p)}function u(p){return(0,t.ArrayIsArray)(p)?p[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function f(p){return i(p)?p[t.SymbolIterator]===t.NativeTypedArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function c(p){if(typeof p!="string")return!1;const m=+p;return p!==m+""||!(0,t.NumberIsFinite)(m)?!1:m===(0,t.MathTrunc)(m)}}}),Xpe=Le({"../../node_modules/@petamoriken/float16/lib/_util/brand.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.hasFloat16ArrayBrand=o;var t=uT(),r=lT(),n=tp(),i=(0,n.SymbolFor)("__Float16Array__");e.brand=i;function o(s){if(!(0,t.isObjectLike)(s))return!1;const a=(0,n.ReflectGetPrototypeOf)(s);if(!(0,t.isObjectLike)(a))return!1;const l=a.constructor;if(l===void 0)return!1;if(!(0,t.isObject)(l))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,n.ReflectHas)(l,i)}}}),b2=Le({"../../node_modules/@petamoriken/float16/lib/_util/converter.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertToNumber=y,e.roundToFloat16=u,e.roundToFloat16Bits=_;var t=tp(),r=1/t.EPSILON;function n(S){return S+r-r}var i=6103515625e-14,o=65504,s=.0009765625,a=s*i,l=s*r;function u(S){const T=+S;if(!(0,t.NumberIsFinite)(T)||T===0)return T;const x=T>0?1:-1,d=(0,t.MathAbs)(T);if(d<i)return x*n(d/a)*a;const $=(1+l)*d,O=$-($-d);return O>o||(0,t.NumberIsNaN)(O)?x*(1/0):x*O}var f=new t.NativeArrayBuffer(4),c=new t.NativeFloat32Array(f),p=new t.NativeUint32Array(f),m=new t.NativeUint16Array(512),g=new t.NativeUint8Array(512);for(let S=0;S<256;++S){const T=S-127;T<-27?(m[S]=0,m[S|256]=32768,g[S]=24,g[S|256]=24):T<-14?(m[S]=1024>>-T-14,m[S|256]=1024>>-T-14|32768,g[S]=-T-1,g[S|256]=-T-1):T<=15?(m[S]=T+15<<10,m[S|256]=T+15<<10|32768,g[S]=13,g[S|256]=13):T<128?(m[S]=31744,m[S|256]=64512,g[S]=24,g[S|256]=24):(m[S]=31744,m[S|256]=64512,g[S]=13,g[S|256]=13)}function _(S){c[0]=u(S);const T=p[0],x=T>>23&511;return m[x]+((T&8388607)>>g[x])}var v=new t.NativeUint32Array(2048);for(let S=1;S<1024;++S){let T=S<<13,x=0;for(;!(T&8388608);)T<<=1,x-=8388608;T&=-8388609,x+=947912704,v[S]=T|x}for(let S=1024;S<2048;++S)v[S]=939524096+(S-1024<<13);var h=new t.NativeUint32Array(64);for(let S=1;S<31;++S)h[S]=S<<23;h[31]=1199570944,h[32]=2147483648;for(let S=33;S<63;++S)h[S]=2147483648+(S-32<<23);h[63]=3347054592;var E=new t.NativeUint16Array(64);for(let S=1;S<64;++S)S!==32&&(E[S]=1024);function y(S){const T=S>>10;return p[0]=v[E[T]+(S&1023)]+h[T],c[0]}}}),Qpe=Le({"../../node_modules/@petamoriken/float16/lib/_util/spec.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.IsDetachedBuffer=a,e.SpeciesConstructor=s,e.ToIntegerOrInfinity=i,e.ToLength=o,e.defaultCompare=l;var t=uT(),r=lT(),n=tp();function i(u){const f=+u;return(0,n.NumberIsNaN)(f)||f===0?0:(0,n.MathTrunc)(f)}function o(u){const f=i(u);return f<0?0:f<n.MAX_SAFE_INTEGER?f:n.MAX_SAFE_INTEGER}function s(u,f){if(!(0,t.isObject)(u))throw(0,n.NativeTypeError)(r.THIS_IS_NOT_AN_OBJECT);const c=u.constructor;if(c===void 0)return f;if(!(0,t.isObject)(c))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const p=c[n.SymbolSpecies];return p??f}function a(u){if((0,t.isSharedArrayBuffer)(u))return!1;try{return(0,n.ArrayBufferPrototypeSlice)(u,0,0),!1}catch{}return!0}function l(u,f){const c=(0,n.NumberIsNaN)(u),p=(0,n.NumberIsNaN)(f);if(c&&p)return 0;if(c)return 1;if(p||u<f)return-1;if(u>f)return 1;if(u===0&&f===0){const m=(0,n.ObjectIs)(u,0),g=(0,n.ObjectIs)(f,0);if(!m&&g)return-1;if(m&&!g)return 1}return 0}}}),kG=Le({"../../node_modules/@petamoriken/float16/lib/Float16Array.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.isFloat16Array=f;var t=CG(),r=Xpe(),n=b2(),i=uT(),o=lT(),s=tp(),a=Qpe(),l=2,u=new s.NativeWeakMap;function f(y){return(0,s.WeakMapPrototypeHas)(u,y)||!(0,s.ArrayBufferIsView)(y)&&(0,r.hasFloat16ArrayBrand)(y)}function c(y){if(!f(y))throw(0,s.NativeTypeError)(o.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function p(y,S){const T=f(y),x=(0,i.isNativeTypedArray)(y);if(!T&&!x)throw(0,s.NativeTypeError)(o.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof S=="number"){let d;if(T){const $=m(y);d=(0,s.TypedArrayPrototypeGetLength)($)}else d=(0,s.TypedArrayPrototypeGetLength)(y);if(d<S)throw(0,s.NativeTypeError)(o.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,i.isNativeBigIntTypedArray)(y))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function m(y){const S=(0,s.WeakMapPrototypeGet)(u,y);if(S!==void 0){const d=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(d))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return S}const T=y.buffer;if((0,a.IsDetachedBuffer)(T))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const x=(0,s.ReflectConstruct)(h,[T,y.byteOffset,y.length],y.constructor);return(0,s.WeakMapPrototypeGet)(u,x)}function g(y){const S=(0,s.TypedArrayPrototypeGetLength)(y),T=[];for(let x=0;x<S;++x)T[x]=(0,n.convertToNumber)(y[x]);return T}var _=new s.NativeWeakSet;for(const y of(0,s.ReflectOwnKeys)(s.TypedArrayPrototype)){if(y===s.SymbolToStringTag)continue;const S=(0,s.ReflectGetOwnPropertyDescriptor)(s.TypedArrayPrototype,y);(0,s.ObjectHasOwn)(S,"get")&&typeof S.get=="function"&&(0,s.WeakSetPrototypeAdd)(_,S.get)}var v=(0,s.ObjectFreeze)({get(y,S,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,n.convertToNumber)((0,s.ReflectGet)(y,S)):(0,s.WeakSetPrototypeHas)(_,(0,s.ObjectPrototype__lookupGetter__)(y,S))?(0,s.ReflectGet)(y,S):(0,s.ReflectGet)(y,S,T)},set(y,S,T,x){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,s.ReflectSet)(y,S,(0,n.roundToFloat16Bits)(T)):(0,s.ReflectSet)(y,S,T,x)},getOwnPropertyDescriptor(y,S){if((0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)){const T=(0,s.ReflectGetOwnPropertyDescriptor)(y,S);return T.value=(0,n.convertToNumber)(T.value),T}return(0,s.ReflectGetOwnPropertyDescriptor)(y,S)},defineProperty(y,S,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)&&(0,s.ObjectHasOwn)(T,"value")&&(T.value=(0,n.roundToFloat16Bits)(T.value)),(0,s.ReflectDefineProperty)(y,S,T)}}),h=class oo{constructor(S,T,x){let d;if(f(S))d=(0,s.ReflectConstruct)(s.NativeUint16Array,[m(S)],new.target);else if((0,i.isObject)(S)&&!(0,i.isAnyArrayBuffer)(S)){let O,P;if((0,i.isNativeTypedArray)(S)){O=S,P=(0,s.TypedArrayPrototypeGetLength)(S);const k=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(k))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const B=new s.NativeArrayBuffer(P*l);d=(0,s.ReflectConstruct)(s.NativeUint16Array,[B],new.target)}else{const k=S[s.SymbolIterator];if(k!=null&&typeof k!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);k!=null?(0,i.isOrdinaryArray)(S)?(O=S,P=S.length):(O=[...S],P=O.length):(O=S,P=(0,a.ToLength)(O.length)),d=(0,s.ReflectConstruct)(s.NativeUint16Array,[P],new.target)}for(let k=0;k<P;++k)d[k]=(0,n.roundToFloat16Bits)(O[k])}else d=(0,s.ReflectConstruct)(s.NativeUint16Array,arguments,new.target);const $=new s.NativeProxy(d,v);return(0,s.WeakMapPrototypeSet)(u,$,d),$}static from(S,...T){const x=this;if(!(0,s.ReflectHas)(x,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(x===oo){if(f(S)&&T.length===0){const K=m(S),ie=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(K),(0,s.TypedArrayPrototypeGetByteOffset)(K),(0,s.TypedArrayPrototypeGetLength)(K));return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(ie)))}if(T.length===0)return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,n.roundToFloat16Bits)));const k=T[0],B=T[1];return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,function(K,...ie){return(0,n.roundToFloat16Bits)((0,s.ReflectApply)(k,this,[K,...(0,t.safeIfNeeded)(ie)]))},B)))}let d,$;const O=S[s.SymbolIterator];if(O!=null&&typeof O!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(O!=null)(0,i.isOrdinaryArray)(S)?(d=S,$=S.length):(0,i.isOrdinaryNativeTypedArray)(S)?(d=S,$=(0,s.TypedArrayPrototypeGetLength)(S)):(d=[...S],$=d.length);else{if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);d=(0,s.NativeObject)(S),$=(0,a.ToLength)(d.length)}const P=new x($);if(T.length===0)for(let k=0;k<$;++k)P[k]=d[k];else{const k=T[0],B=T[1];for(let K=0;K<$;++K)P[K]=(0,s.ReflectApply)(k,B,[d[K],K])}return P}static of(...S){const T=this;if(!(0,s.ReflectHas)(T,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const x=S.length;if(T===oo){const $=new oo(x),O=m($);for(let P=0;P<x;++P)O[P]=(0,n.roundToFloat16Bits)(S[P]);return $}const d=new T(x);for(let $=0;$<x;++$)d[$]=S[$];return d}keys(){c(this);const S=m(this);return(0,s.TypedArrayPrototypeKeys)(S)}values(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const T of(0,s.TypedArrayPrototypeValues)(S))yield(0,n.convertToNumber)(T)}())}entries(){c(this);const S=m(this);return(0,t.wrap)(function*(){for(const[T,x]of(0,s.TypedArrayPrototypeEntries)(S))yield[T,(0,n.convertToNumber)(x)]}())}at(S){c(this);const T=m(this),x=(0,s.TypedArrayPrototypeGetLength)(T),d=(0,a.ToIntegerOrInfinity)(S),$=d>=0?d:x+d;if(!($<0||$>=x))return(0,n.convertToNumber)(T[$])}with(S,T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=(0,a.ToIntegerOrInfinity)(S),O=$>=0?$:d+$,P=+T;if(O<0||O>=d)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);const k=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(x),(0,s.TypedArrayPrototypeGetByteOffset)(x),(0,s.TypedArrayPrototypeGetLength)(x)),B=new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(k))),K=m(B);return K[O]=(0,n.roundToFloat16Bits)(P),B}map(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0],O=(0,a.SpeciesConstructor)(x,oo);if(O===oo){const k=new oo(d),B=m(k);for(let K=0;K<d;++K){const ie=(0,n.convertToNumber)(x[K]);B[K]=(0,n.roundToFloat16Bits)((0,s.ReflectApply)(S,$,[ie,K,this]))}return k}const P=new O(d);p(P,d);for(let k=0;k<d;++k){const B=(0,n.convertToNumber)(x[k]);P[k]=(0,s.ReflectApply)(S,$,[B,k,this])}return P}filter(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0],O=[];for(let B=0;B<d;++B){const K=(0,n.convertToNumber)(x[B]);(0,s.ReflectApply)(S,$,[K,B,this])&&(0,s.ArrayPrototypePush)(O,K)}const P=(0,a.SpeciesConstructor)(x,oo),k=new P(O);return p(k),k}reduce(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x);if(d===0&&T.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let $,O;T.length===0?($=(0,n.convertToNumber)(x[0]),O=1):($=T[0],O=0);for(let P=O;P<d;++P)$=S($,(0,n.convertToNumber)(x[P]),P,this);return $}reduceRight(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x);if(d===0&&T.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let $,O;T.length===0?($=(0,n.convertToNumber)(x[d-1]),O=d-2):($=T[0],O=d-1);for(let P=O;P>=0;--P)$=S($,(0,n.convertToNumber)(x[P]),P,this);return $}forEach(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0];for(let O=0;O<d;++O)(0,s.ReflectApply)(S,$,[(0,n.convertToNumber)(x[O]),O,this])}find(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0];for(let O=0;O<d;++O){const P=(0,n.convertToNumber)(x[O]);if((0,s.ReflectApply)(S,$,[P,O,this]))return P}}findIndex(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0];for(let O=0;O<d;++O){const P=(0,n.convertToNumber)(x[O]);if((0,s.ReflectApply)(S,$,[P,O,this]))return O}return-1}findLast(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0];for(let O=d-1;O>=0;--O){const P=(0,n.convertToNumber)(x[O]);if((0,s.ReflectApply)(S,$,[P,O,this]))return P}}findLastIndex(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0];for(let O=d-1;O>=0;--O){const P=(0,n.convertToNumber)(x[O]);if((0,s.ReflectApply)(S,$,[P,O,this]))return O}return-1}every(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0];for(let O=0;O<d;++O)if(!(0,s.ReflectApply)(S,$,[(0,n.convertToNumber)(x[O]),O,this]))return!1;return!0}some(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x),$=T[0];for(let O=0;O<d;++O)if((0,s.ReflectApply)(S,$,[(0,n.convertToNumber)(x[O]),O,this]))return!0;return!1}set(S,...T){c(this);const x=m(this),d=(0,a.ToIntegerOrInfinity)(T[0]);if(d<0)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(S))return(0,s.TypedArrayPrototypeSet)(m(this),m(S),d);if((0,i.isNativeTypedArray)(S)){const k=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(k))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const $=(0,s.TypedArrayPrototypeGetLength)(x),O=(0,s.NativeObject)(S),P=(0,a.ToLength)(O.length);if(d===1/0||P+d>$)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);for(let k=0;k<P;++k)x[k+d]=(0,n.roundToFloat16Bits)(O[k])}reverse(){c(this);const S=m(this);return(0,s.TypedArrayPrototypeReverse)(S),this}toReversed(){c(this);const S=m(this),T=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(S),(0,s.TypedArrayPrototypeGetByteOffset)(S),(0,s.TypedArrayPrototypeGetLength)(S)),x=new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(T))),d=m(x);return(0,s.TypedArrayPrototypeReverse)(d),x}fill(S,...T){c(this);const x=m(this);return(0,s.TypedArrayPrototypeFill)(x,(0,n.roundToFloat16Bits)(S),...(0,t.safeIfNeeded)(T)),this}copyWithin(S,T,...x){c(this);const d=m(this);return(0,s.TypedArrayPrototypeCopyWithin)(d,S,T,...(0,t.safeIfNeeded)(x)),this}sort(S){c(this);const T=m(this),x=S!==void 0?S:a.defaultCompare;return(0,s.TypedArrayPrototypeSort)(T,(d,$)=>x((0,n.convertToNumber)(d),(0,n.convertToNumber)($))),this}toSorted(S){c(this);const T=m(this);if(S!==void 0&&typeof S!="function")throw new s.NativeTypeError(o.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const x=S!==void 0?S:a.defaultCompare,d=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T)),$=new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(d))),O=m($);return(0,s.TypedArrayPrototypeSort)(O,(P,k)=>x((0,n.convertToNumber)(P),(0,n.convertToNumber)(k))),$}slice(S,T){c(this);const x=m(this),d=(0,a.SpeciesConstructor)(x,oo);if(d===oo){const fe=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(x),(0,s.TypedArrayPrototypeGetByteOffset)(x),(0,s.TypedArrayPrototypeGetLength)(x));return new oo((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(fe,S,T)))}const $=(0,s.TypedArrayPrototypeGetLength)(x),O=(0,a.ToIntegerOrInfinity)(S),P=T===void 0?$:(0,a.ToIntegerOrInfinity)(T);let k;O===-1/0?k=0:O<0?k=$+O>0?$+O:0:k=$<O?$:O;let B;P===-1/0?B=0:P<0?B=$+P>0?$+P:0:B=$<P?$:P;const K=B-k>0?B-k:0,ie=new d(K);if(p(ie,K),K===0)return ie;const W=(0,s.TypedArrayPrototypeGetBuffer)(x);if((0,a.IsDetachedBuffer)(W))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let ne=0;for(;k<B;)ie[ne]=(0,n.convertToNumber)(x[k]),++k,++ne;return ie}subarray(S,T){c(this);const x=m(this),d=(0,a.SpeciesConstructor)(x,oo),$=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(x),(0,s.TypedArrayPrototypeGetByteOffset)(x),(0,s.TypedArrayPrototypeGetLength)(x)),O=(0,s.TypedArrayPrototypeSubarray)($,S,T),P=new d((0,s.TypedArrayPrototypeGetBuffer)(O),(0,s.TypedArrayPrototypeGetByteOffset)(O),(0,s.TypedArrayPrototypeGetLength)(O));return p(P),P}indexOf(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x);let $=(0,a.ToIntegerOrInfinity)(T[0]);if($===1/0)return-1;$<0&&($+=d,$<0&&($=0));for(let O=$;O<d;++O)if((0,s.ObjectHasOwn)(x,O)&&(0,n.convertToNumber)(x[O])===S)return O;return-1}lastIndexOf(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x);let $=T.length>=1?(0,a.ToIntegerOrInfinity)(T[0]):d-1;if($===-1/0)return-1;$>=0?$=$<d-1?$:d-1:$+=d;for(let O=$;O>=0;--O)if((0,s.ObjectHasOwn)(x,O)&&(0,n.convertToNumber)(x[O])===S)return O;return-1}includes(S,...T){c(this);const x=m(this),d=(0,s.TypedArrayPrototypeGetLength)(x);let $=(0,a.ToIntegerOrInfinity)(T[0]);if($===1/0)return!1;$<0&&($+=d,$<0&&($=0));const O=(0,s.NumberIsNaN)(S);for(let P=$;P<d;++P){const k=(0,n.convertToNumber)(x[P]);if(O&&(0,s.NumberIsNaN)(k)||k===S)return!0}return!1}join(S){c(this);const T=m(this),x=g(T);return(0,s.ArrayPrototypeJoin)(x,S)}toLocaleString(...S){c(this);const T=m(this),x=g(T);return(0,s.ArrayPrototypeToLocaleString)(x,...(0,t.safeIfNeeded)(S))}get[s.SymbolToStringTag](){if(f(this))return"Float16Array"}};e.Float16Array=h,(0,s.ObjectDefineProperty)(h,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(h,r.brand,{}),(0,s.ReflectSetPrototypeOf)(h,s.TypedArray);var E=h.prototype;(0,s.ObjectDefineProperty)(E,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(E,s.SymbolIterator,{value:E.values,writable:!0,configurable:!0}),(0,s.ReflectSetPrototypeOf)(E,s.TypedArrayPrototype)}}),Zpe=Le({"../../node_modules/@petamoriken/float16/lib/isTypedArray.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=n;var t=kG(),r=uT();function n(i){return(0,r.isNativeTypedArray)(i)||(0,t.isFloat16Array)(i)}}}),eme=Le({"../../node_modules/@petamoriken/float16/lib/DataView.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat16=i,e.setFloat16=o;var t=CG(),r=b2(),n=tp();function i(s,a,...l){return(0,r.convertToNumber)((0,n.DataViewPrototypeGetUint16)(s,a,...(0,t.safeIfNeeded)(l)))}function o(s,a,l,...u){return(0,n.DataViewPrototypeSetUint16)(s,a,(0,r.roundToFloat16Bits)(l),...(0,t.safeIfNeeded)(u))}}}),tme=Le({"../../node_modules/@petamoriken/float16/lib/f16round.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.f16round=r;var t=b2();function r(n){return(0,t.roundToFloat16)(n)}}}),rme=Le({"../../node_modules/@petamoriken/float16/lib/index.cjs"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=kG();e.Float16Array=t.Float16Array,e.isFloat16Array=t.isFloat16Array;var r=Zpe();e.isTypedArray=r.isTypedArray;var n=eme();e.getFloat16=n.getFloat16,e.setFloat16=n.setFloat16;var i=tme();e.f16round=i.f16round,e.hfround=i.f16round}}),jG=Le({"../core/dist/protocol-interfaces.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.Endianness=void 0;var t;(function(r){r.BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(t||(e.Endianness=t={}))}}),DG=Le({"../core/dist/codecs/octetstream-codec.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=rme(),r=Ys(),n=jG(),{debug:i,warn:o}=(0,r.createLoggers)("core","octetstream-codec"),s=class{getMediaType(){return"application/octet-stream"}bytesToValue(a,l,u={}){var v,h;i("OctetstreamCodec parsing",a),i("Parameters",u);const f=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(f!==void 0){if(isNaN(f)||f<0)throw new Error("'length' parameter must be a non-negative number");if(f!==a.length)throw new Error(`Lengths do not match, required: ${f} provided: ${a.length}`)}let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let p=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):a.length*8;if(isNaN(p)||p<0)throw new Error("'ex:bitLength' must be a non-negative number");const m=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(m)||m<0)throw new Error("'ex:bitOffset' must be a non-negative number");const g=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let _=l==null?void 0:l.type;if(!_)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const E=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(E){if(E[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=E[2],parseInt(E[3])!==p)throw new Error(`Type is '${(E[1]??"")+E[2]+E[3]}' but 'ex:bitLength' is `+p)}}if(p>a.length*8-m)throw new Error(`'ex:bitLength' is ${p}, but buffer length at offset ${m} is ${a.length*8-m}`);switch(((h=u==null?void 0:u.byteSeq)==null?void 0:h.includes("BYTE_SWAP"))===!0&&a.length>1&&a.swap16(),m!==void 0&&p<a.length*8&&(a=this.readBits(a,m,p),p=a.length*8),_){case"boolean":return!a.every(E=>E===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(a,{dataLength:p,bigEndian:g,signed:c});case"float":case"double":case"number":return this.numberToValue(a,{dataLength:p,bigEndian:g});case"string":return a.toString(u.charset);case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(a,l,u);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+_)}}integerToValue(a,l){const{dataLength:u,bigEndian:f,signed:c}=l;switch(u){case 8:return c?a.readInt8(0):a.readUInt8(0);case 16:return f?c?a.readInt16BE(0):a.readUInt16BE(0):c?a.readInt16LE(0):a.readUInt16LE(0);case 32:return f?c?a.readInt32BE(0):a.readUInt32BE(0):c?a.readInt32LE(0):a.readUInt32LE(0);default:{const p=f?c?a.readIntBE(0,u/8):a.readUIntBE(0,u/8):c?a.readIntLE(0,u/8):a.readUIntLE(0,u/8);return Number.isSafeInteger(p)||o("Result is not a safe integer"),p}}}numberToValue(a,l){const{dataLength:u,bigEndian:f}=l;switch(u){case 16:return(0,t.getFloat16)(new DataView(a.buffer),a.byteOffset,!f);case 32:return f?a.readFloatBE(0):a.readFloatLE(0);case 64:return f?a.readDoubleBE(0):a.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}}objectToValue(a,l,u={}){if((l==null?void 0:l.type)!=="object")throw new Error("Schema must be of type 'object'");const f={},c=Object.getOwnPropertyNames(l.properties);for(const p of c){const m=l.properties[p],g=a.length.toString();f[p]=this.bytesToValue(a,m,{...u,length:g})}return f}valueToBytes(a,l,u={}){var v;i(`OctetstreamCodec serializing '${a}'`);const f=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let p=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(p!==void 0&&(isNaN(p)||p<0))throw new Error("'length' parameter must be a non-negative number");let m=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):void 0;if(m!==void 0&&(isNaN(m)||m<0))throw new Error("'ex:bitLength' must be a non-negative number");const g=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(g)||g<0)throw new Error("'ex:bitOffset' must be a non-negative number");let _=(l==null?void 0:l.type)??void 0;if(a===void 0)throw new Error("Undefined value");if(_===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const h=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(h){if(h[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=h[2],m!==void 0){if(parseInt(h[3])!==m)throw new Error(`Type is '${(h[1]??"")+h[2]+h[3]}' but 'ex:bitLength' is `+m)}else m=+h[3]}}if(p===void 0)m!==void 0&&(p=Math.ceil((g+m)/8)),o("Missing 'length' parameter necessary for write. I'll do my best");else if(m===void 0)m=p*8;else if(p*8<m+g)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(_){case"boolean":if(a===!0){const h=kn.alloc(p??1,0);for(let E=g;E<g+(m??h.length*8);++E)h[Math.floor(E/8)]|=1<<7-E%8;return h}else return kn.alloc(p??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(a,{bitLength:m,byteLength:p,bigEndian:f,offset:g,signed:c,byteSeq:u.byteSeq??""});case"float":case"number":return this.valueToNumber(a,{bitLength:m,byteLength:p,bigEndian:f,offset:g,byteSeq:u.byteSeq??""});case"string":return this.valueToString(a,{bitLength:m,byteLength:p,offset:g,charset:u.charset??"utf8"});case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return a===null?kn.alloc(0):this.valueToObject(a,l,u);case"array":case"undefined":throw new Error("Unable to handle dataType "+_);case"null":return kn.alloc(0);default:throw new Error("Unable to handle dataType "+_)}}valueToInteger(a,l){const u=l.bitLength??32,f=l.offset??0,c=l.byteLength??Math.ceil((f+u)/8),{bigEndian:p,signed:m,byteSeq:g}=l;if(typeof a!="number")throw new Error("Value is not a number");Number.isSafeInteger(a)||o("Value is not a safe integer",a);const _=Math.pow(2,m?u-1:u)-1;if(m){if(a<-_-1||a>_)throw new Error("Integer overflow when representing "+a+" as a signed integer using "+u+" bit(s)")}else if(a<0||a>_)throw new Error("Integer overflow when representing "+a+" as an unsigned integer using "+u+" bit(s)");const v=kn.alloc(c);if(f!==0)return this.writeBits(v,a,f,u,p),v;switch(g!=null&&g.includes("BYTE_SwAP")&&c>1&&v.swap16(),c){case 1:m?v.writeInt8(a,0):v.writeUInt8(a,0);break;case 2:p?m?v.writeInt16BE(a,0):v.writeUInt16BE(a,0):m?v.writeInt16LE(a,0):v.writeUInt16LE(a,0);break;case 4:p?m?v.writeInt32BE(a,0):v.writeUInt32BE(a,0):m?v.writeInt32LE(a,0):v.writeUInt32LE(a,0);break;default:m&&a<0&&(a+=1<<8*u);for(let h=0;h<c;++h){const E=a%256;a/=256,v.writeInt8(E,p?c-h-1:h)}}return v}valueToNumber(a,l){if(typeof a!="number")throw new Error("Value is not a number");const u=l.bitLength??(l.byteLength!==void 0?l.byteLength*8:32),f=l.offset??0,{bigEndian:c,byteSeq:p}=l,m=l.byteLength??Math.ceil((f+u)/8),g=Math.floor(f/8),_=kn.alloc(m);if(f%8!==0)throw new Error("Offset must be a multiple of 8");switch(p&&m>1&&_.swap16(),u){case 16:(0,t.setFloat16)(new DataView(_.buffer),g,a,!c);break;case 32:c?_.writeFloatBE(a,g):_.writeFloatLE(a,0);break;case 64:c?_.writeDoubleBE(a,g):_.writeDoubleLE(a,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}return _}valueToString(a,l){if(typeof a!="string")throw new Error("Value is not a string");const u=l.offset??0,{charset:f}=l,c=String(a);if(!kn.isEncoding(f))throw new Error("Invalid charset "+f);const p=kn.from(c,f),m=l.bitLength??p.length*8;if(p.length>m)throw new Error(`String is ${p.length*8} bits long, but 'ex:bitLength' is ${m}`);const g=l.byteLength??Math.ceil((u+m)/8);if(u%8===0)return kn.concat([kn.alloc(g-m/8),p]);{const _=kn.alloc(g);return this.copyBits(p,0,_,u,m),_}}valueToObject(a,l,u={},f){if(typeof a!="object"||a===null)throw new Error("Value is not an object");if(u.length===void 0)throw new Error("Missing 'length' parameter necessary for write");const c=parseInt(u.length),p=l["ex:bitOffset"]!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(p)||p<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(p>c*8)throw new Error(`'ex:bitOffset' ${p} exceeds 'length' ${c}`);f=f??kn.alloc(c);for(const[m,g]of Object.entries(l.properties)){if(Object.hasOwnProperty.call(a,m)===!1)throw new Error(`Missing property '${m}'`);const _=a[m],v=parseInt(g["ex:bitOffset"]),h=parseInt(g["ex:bitLength"]);let E;g.type==="object"?E=this.valueToObject(_,g,u,f):E=this.valueToBytes(_,g,u),this.copyBits(E,v,f,p+v,h)}return f}readBits(a,l,u){if(l<0)throw new Error("bitOffset must be >= 0");if(u<0)throw new Error("bitLength must be >= 0");if(l+u>a.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const f=kn.alloc(Math.ceil(u/8));let c=Math.floor(l/8),p=l%8,m=a[c],g=0,_=0;for(let v=0;v<u;v++){const h=m>>7-p&1;g=g<<1|h,p++,p>7&&(c++,p=0,m=a[c]),(v+1===u%8||(v+1)%8===u%8||v===u-1)&&(f[_]=g,g=0,_++)}return f}writeBits(a,l,u,f,c){let p=Math.floor(u/8),m=u%8;for(let g=0;g<f;g++){const _=c?l>>f-1-g&1:l>>g&1;a[p]|=_<<(c?7-m:m),m++,m===8&&(m=0,p++)}}copyBits(a,l,u,f,c){if(l%8===0&&f%8===0&&c%8===0)a.copy(u,f/8,l/8,l+c/8);else{const p=this.readBits(a,l,c);if(p.length<=6)this.writeBits(u,p.readUIntBE(0,p.length),f,c,!0);else for(let m=0;m<p.length;m++){const g=p.readUInt8(m);this.writeBits(u,g,f+m*8,8,!0)}}}};e.default=s}}),Ju=Le({"../core/dist/content-serdes.js"(e){Ce();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentSerdes=void 0;var r=TG(),n=t(PG()),i=t(RG()),o=t(NG()),s=t(IG()),a=t(DG()),l=(ml(),pn(Aa)),u=Qs(),f=y2(),c=Ys(),{debug:p,warn:m}=(0,c.createLoggers)("core","content-serdes"),g=class fa{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new fa,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new i.default("application/td+json")),this.instance.addCodec(new i.default("application/ld+json")),this.instance.addCodec(new n.default,!0),this.instance.addCodec(new o.default),this.instance.addCodec(new o.default("text/html")),this.instance.addCodec(new o.default("text/css")),this.instance.addCodec(new o.default("application/xml")),this.instance.addCodec(new o.default("application/xhtml+xml")),this.instance.addCodec(new o.default("image/svg+xml")),this.instance.addCodec(new s.default("image/png")),this.instance.addCodec(new s.default("image/gif")),this.instance.addCodec(new s.default("image/jpeg")),this.instance.addCodec(new a.default)),this.instance}static getMediaType(v){return v.split(";")[0].trim()}static getMediaTypeParameters(v){const h=v.split(";").slice(1),E={};return h.forEach(y=>{const S=y.indexOf("=");S>=0?E[y.substr(0,S).trim()]=y.substr(S+1).trim():E[y.trim()]=void 0}),E}addCodec(v,h=!1){fa.get().codecs.set(v.getMediaType(),v),h&&fa.get().offered.add(v.getMediaType())}getSupportedMediaTypes(){return Array.from(fa.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(fa.get().offered)}isSupported(v){const h=fa.getMediaType(v);return this.codecs.has(h)}contentToValue(v,h){if(v.type===void 0)if(v.body.byteLength>0)v.type=fa.DEFAULT;else return;const E=fa.getMediaType(v.type),y=fa.getMediaTypeParameters(v.type);return this.codecs.has(E)?(p(`ContentSerdes deserializing from ${v.type}`),this.codecs.get(E).bytesToValue(v.body,h,y)):(m(`ContentSerdes passthrough due to unsupported media type '${E}'`),v.body.toString())}valueToContent(v,h,E=fa.DEFAULT){if(v===void 0&&m("ContentSerdes valueToContent got no value"),v instanceof f.ReadableStream)return new r.Content(E,u.ProtocolHelpers.toNodeStream(v));let y;const S=fa.getMediaType(E),T=fa.getMediaTypeParameters(E),x=this.codecs.get(S);return x?(p(`ContentSerdes serializing to ${E}`),y=x.valueToBytes(v,h,T)):(m(`ContentSerdes passthrough due to unsupported serialization format '${E}'`),y=kn.from(v===null?"":v.toString())),new r.Content(E,l.Readable.from([y]))}};e.ContentSerdes=g,g.DEFAULT="application/json",g.TD="application/td+json",g.JSON_LD="application/ld+json",e.default=g.get()}}),US=Le({"../core/node_modules/ajv/dist/compile/codegen/code.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),qB=Le({"../core/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=US(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=a}}),tn=Le({"../core/node_modules/ajv/dist/compile/codegen/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=US(),r=qB(),n=US();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=qB();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(R,C){return this}},s=class extends o{constructor(R,C,q){super(),this.varKind=R,this.name=C,this.rhs=q}render({es5:R,_n:C}){const q=R?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${oe};`+C}optimizeNames(R,C){if(R[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,R,C)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(R,C,q){super(),this.lhs=R,this.rhs=C,this.sideEffects=q}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,C){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,R,C),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(R,this.rhs)}},l=class extends a{constructor(R,C,q,oe){super(R,q,oe),this.op=C}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}},u=class extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}},f=class extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}},c=class extends o{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}},p=class extends o{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,C){return this.code=ie(this.code,R,C),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((C,q)=>C+q.render(R),"")}optimizeNodes(){const{nodes:R}=this;let C=R.length;for(;C--;){const q=R[C].optimizeNodes();Array.isArray(q)?R.splice(C,1,...q):q?R[C]=q:R.splice(C,1)}return R.length>0?this:void 0}optimizeNames(R,C){const{nodes:q}=this;let oe=q.length;for(;oe--;){const X=q[oe];X.optimizeNames(R,C)||(W(R,X.names),q.splice(oe,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((R,C)=>B(R,C.names),{})}},g=class extends m{render(R){return"{"+R._n+super.render(R)+"}"+R._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class _E extends g{constructor(C,q){super(q),this.condition=C}render(C){let q=`if(${this.condition})`+super.render(C);return this.else&&(q+="else "+this.else.render(C)),q}optimizeNodes(){super.optimizeNodes();const C=this.condition;if(C===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return C===!1?q instanceof _E?q:q.nodes:this.nodes.length?this:new _E(ne(C),q instanceof _E?[q]:q.nodes);if(!(C===!1||!this.nodes.length))return this}optimizeNames(C,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(C,q),!!(super.optimizeNames(C,q)||this.else))return this.condition=ie(this.condition,C,q),this}get names(){const C=super.names;return K(C,this.condition),this.else&&B(C,this.else.names),C}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,C){if(super.optimizeNames(R,C))return this.iteration=ie(this.iteration,R,C),this}get names(){return B(super.names,this.iteration.names)}},S=class extends E{constructor(R,C,q,oe){super(),this.varKind=R,this.name=C,this.from=q,this.to=oe}render(R){const C=R.es5?r.varKinds.var:this.varKind,{name:q,from:oe,to:X}=this;return`for(${C} ${q}=${oe}; ${q}<${X}; ${q}++)`+super.render(R)}get names(){const R=K(super.names,this.from);return K(R,this.to)}},T=class extends E{constructor(R,C,q,oe){super(),this.loop=R,this.varKind=C,this.name=q,this.iterable=oe}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,C){if(super.optimizeNames(R,C))return this.iterable=ie(this.iterable,R,C),this}get names(){return B(super.names,this.iterable.names)}},x=class extends g{constructor(R,C,q){super(),this.name=R,this.args=C,this.async=q}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}};x.kind="func";var d=class extends m{render(R){return"return "+super.render(R)}};d.kind="return";var $=class extends g{render(R){let C="try"+super.render(R);return this.catch&&(C+=this.catch.render(R)),this.finally&&(C+=this.finally.render(R)),C}optimizeNodes(){var R,C;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(R,C){var q,oe;return super.optimizeNames(R,C),(q=this.catch)===null||q===void 0||q.optimizeNames(R,C),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(R,C),this}get names(){const R=super.names;return this.catch&&B(R,this.catch.names),this.finally&&B(R,this.finally.names),R}},O=class extends g{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}};O.kind="catch";var P=class extends g{render(R){return"finally"+super.render(R)}};P.kind="finally";var k=class{constructor(R,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=R,this._scope=new r.Scope({parent:R}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,C){const q=this._extScope.value(R,C);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(R,C){return this._extScope.getValue(R,C)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,C,q,oe){const X=this._scope.toName(C);return q!==void 0&&oe&&(this._constants[X.str]=q),this._leafNode(new s(R,X,q)),X}const(R,C,q){return this._def(r.varKinds.const,R,C,q)}let(R,C,q){return this._def(r.varKinds.let,R,C,q)}var(R,C,q){return this._def(r.varKinds.var,R,C,q)}assign(R,C,q){return this._leafNode(new a(R,C,q))}add(R,C){return this._leafNode(new l(R,e.operators.ADD,C))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new p(R)),this}object(...R){const C=["{"];for(const[q,oe]of R)C.length>1&&C.push(","),C.push(q),(q!==oe||this.opts.es5)&&(C.push(":"),(0,t.addCodeArg)(C,oe));return C.push("}"),new t._Code(C)}if(R,C,q){if(this._blockNode(new h(R)),C&&q)this.code(C).else().code(q).endIf();else if(C)this.code(C).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new h(R))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(R,C){return this._blockNode(R),C&&this.code(C).endFor(),this}for(R,C){return this._for(new y(R),C)}forRange(R,C,q,oe,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const ee=this._scope.toName(R);return this._for(new S(X,ee,C,q),()=>oe(ee))}forOf(R,C,q,oe=r.varKinds.const){const X=this._scope.toName(R);if(this.opts.es5){const ee=C instanceof t.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,t._)`${ee}.length`,se=>{this.var(X,(0,t._)`${ee}[${se}]`),q(X)})}return this._for(new T("of",oe,X,C),()=>q(X))}forIn(R,C,q,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${C})`,q);const X=this._scope.toName(R);return this._for(new T("in",oe,X,C),()=>q(X))}endFor(){return this._endBlockNode(E)}label(R){return this._leafNode(new u(R))}break(R){return this._leafNode(new f(R))}return(R){const C=new d;if(this._blockNode(C),this.code(R),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(R,C,q){if(!C&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new $;if(this._blockNode(oe),this.code(R),C){const X=this.name("e");this._currNode=oe.catch=new O(X),C(X)}return q&&(this._currNode=oe.finally=new P,this.code(q)),this._endBlockNode(O,P)}throw(R){return this._leafNode(new c(R))}block(R,C){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(C),this}endBlock(R){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-C;if(q<0||R!==void 0&&q!==R)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${R} expected`);return this._nodes.length=C,this}func(R,C=t.nil,q,oe){return this._blockNode(new x(R,C,q)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,C){const q=this._currNode;if(q instanceof R||C&&q instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${R.kind}/${C.kind}`:R.kind}"`)}_elseNode(R){const C=this._currNode;if(!(C instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const C=this._nodes;C[C.length-1]=R}};e.CodeGen=k;function B(R,C){for(const q in C)R[q]=(R[q]||0)+(C[q]||0);return R}function K(R,C){return C instanceof t._CodeOrName?B(R,C.names):R}function ie(R,C,q){if(R instanceof t.Name)return oe(R);if(!X(R))return R;return new t._Code(R._items.reduce((ee,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?ee.push(...se._items):ee.push(se),ee),[]));function oe(ee){const se=q[ee.str];return se===void 0||C[ee.str]!==1?ee:(delete C[ee.str],se)}function X(ee){return ee instanceof t._Code&&ee._items.some(se=>se instanceof t.Name&&C[se.str]===1&&q[se.str]!==void 0)}}function W(R,C){for(const q in C)R[q]=(R[q]||0)-(C[q]||0)}function ne(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,t._)`!${J(R)}`}e.not=ne;var fe=z(e.operators.AND);function re(...R){return R.reduce(fe)}e.and=re;var le=z(e.operators.OR);function F(...R){return R.reduce(le)}e.or=F;function z(R){return(C,q)=>C===t.nil?q:q===t.nil?C:(0,t._)`${J(C)} ${R} ${J(q)}`}function J(R){return R instanceof t.Name?R:(0,t._)`(${R})`}}}),En=Le({"../core/node_modules/ajv/dist/compile/util.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=tn(),r=US();function n(x){const d={};for(const $ of x)d[$]=!0;return d}e.toHash=n;function i(x,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(x,d),!s(d,x.self.RULES.all))}e.alwaysValidSchema=i;function o(x,d=x.schema){const{opts:$,self:O}=x;if(!$.strictSchema||typeof d=="boolean")return;const P=O.RULES.keywords;for(const k in d)P[k]||T(x,`unknown keyword: "${k}"`)}e.checkUnknownRules=o;function s(x,d){if(typeof x=="boolean")return!x;for(const $ in x)if(d[$])return!0;return!1}e.schemaHasRules=s;function a(x,d){if(typeof x=="boolean")return!x;for(const $ in x)if($!=="$ref"&&d.all[$])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:x,schemaPath:d},$,O,P){if(!P){if(typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="string")return(0,t._)`${$}`}return(0,t._)`${x}${d}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=l;function u(x){return p(decodeURIComponent(x))}e.unescapeFragment=u;function f(x){return encodeURIComponent(c(x))}e.escapeFragment=f;function c(x){return typeof x=="number"?`${x}`:x.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(x){return x.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(x,d){if(Array.isArray(x))for(const $ of x)d($);else d(x)}e.eachItem=m;function g({mergeNames:x,mergeToName:d,mergeValues:$,resultToName:O}){return(P,k,B,K)=>{const ie=B===void 0?k:B instanceof t.Name?(k instanceof t.Name?x(P,k,B):d(P,k,B),B):k instanceof t.Name?(d(P,B,k),k):$(k,B);return K===t.Name&&!(ie instanceof t.Name)?O(P,ie):ie}}e.mergeEvaluated={props:g({mergeNames:(x,d,$)=>x.if((0,t._)`${$} !== true && ${d} !== undefined`,()=>{x.if((0,t._)`${d} === true`,()=>x.assign($,!0),()=>x.assign($,(0,t._)`${$} || {}`).code((0,t._)`Object.assign(${$}, ${d})`))}),mergeToName:(x,d,$)=>x.if((0,t._)`${$} !== true`,()=>{d===!0?x.assign($,!0):(x.assign($,(0,t._)`${$} || {}`),v(x,$,d))}),mergeValues:(x,d)=>x===!0?!0:{...x,...d},resultToName:_}),items:g({mergeNames:(x,d,$)=>x.if((0,t._)`${$} !== true && ${d} !== undefined`,()=>x.assign($,(0,t._)`${d} === true ? true : ${$} > ${d} ? ${$} : ${d}`)),mergeToName:(x,d,$)=>x.if((0,t._)`${$} !== true`,()=>x.assign($,d===!0?!0:(0,t._)`${$} > ${d} ? ${$} : ${d}`)),mergeValues:(x,d)=>x===!0?!0:Math.max(x,d),resultToName:(x,d)=>x.var("items",d)})};function _(x,d){if(d===!0)return x.var("props",!0);const $=x.var("props",(0,t._)`{}`);return d!==void 0&&v(x,$,d),$}e.evaluatedPropsToName=_;function v(x,d,$){Object.keys($).forEach(O=>x.assign((0,t._)`${d}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;var h={};function E(x,d){return x.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(x){x[x.Num=0]="Num",x[x.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(x,d,$){if(x instanceof t.Name){const O=d===y.Num;return $?O?(0,t._)`"[" + ${x} + "]"`:(0,t._)`"['" + ${x} + "']"`:O?(0,t._)`"/" + ${x}`:(0,t._)`"/" + ${x}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,t.getProperty)(x).toString():"/"+c(x)}e.getErrorPath=S;function T(x,d,$=x.opts.strictSchema){if($){if(d=`strict mode: ${d}`,$===!0)throw new Error(d);x.self.logger.warn(d)}}e.checkStrictMode=T}}),bd=Le({"../core/node_modules/ajv/dist/compile/names.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),cT=Le({"../core/node_modules/ajv/dist/compile/errors.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=tn(),r=En(),n=bd();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:x,allErrors:d}=S,$=c(v,h,E);y??(x||d)?l(T,$):u(S,(0,t._)`[${$}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:x}=y,d=c(v,h,E);l(S,d),T||x||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const x=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(x,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${x}.instancePath === undefined`,()=>v.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${h}`),T.opts.verbose&&(v.assign((0,t._)`${x}.schema`,E),v.assign((0,t._)`${x}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,h,T),y.object(...T)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:T,schemaValue:x,it:d}=v,{opts:$,propertyName:O,topSchemaRef:P,schemaPath:k}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),$.messages&&y.push([f.message,typeof E=="function"?E(v):E]),$.verbose&&y.push([f.schema,x],[f.parentSchema,(0,t._)`${P}${k}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}}}),nme=Le({"../core/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=cT(),r=tn(),n=bd(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),MG=Le({"../core/node_modules/ajv/dist/compile/rules.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),LG=Le({"../core/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),zS=Le({"../core/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=MG(),r=LG(),n=cT(),i=tn(),o=En(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:T,data:x,opts:d}=y,$=c(S,d.coerceTypes),O=S.length>0&&!($.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(O){const P=_(S,x,d.strictNumbers,s.Wrong);T.if(P,()=>{$.length?p(y,S,$):h(y)})}return O}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter(T=>f.has(T)||S==="array"&&T==="array"):[]}function p(y,S,T){const{gen:x,data:d,opts:$}=y,O=x.let("dataType",(0,i._)`typeof ${d}`),P=x.let("coerced",(0,i._)`undefined`);$.coerceTypes==="array"&&x.if((0,i._)`${O} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>x.assign(d,(0,i._)`${d}[0]`).assign(O,(0,i._)`typeof ${d}`).if(_(S,d,$.strictNumbers),()=>x.assign(P,d))),x.if((0,i._)`${P} !== undefined`);for(const B of T)(f.has(B)||B==="array"&&$.coerceTypes==="array")&&k(B);x.else(),h(y),x.endIf(),x.if((0,i._)`${P} !== undefined`,()=>{x.assign(d,P),m(y,P)});function k(B){switch(B){case"string":x.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":x.elseIf((0,i._)`${O} == "boolean" || ${d} === null
              || (${O} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":x.elseIf((0,i._)`${O} === "boolean" || ${d} === null
              || (${O} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":x.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":x.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),x.assign(P,null);return;case"array":x.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:T},x){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${T}]`,x))}function g(y,S,T,x=s.Correct){const d=x===s.Correct?i.operators.EQ:i.operators.NEQ;let $;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":$=(0,i._)`Array.isArray(${S})`;break;case"object":$=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":$=O((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":$=O();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return x===s.Correct?$:(0,i.not)($);function O(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,T?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,T,x){if(y.length===1)return g(y[0],S,T,x);let d;const $=(0,o.toHash)(y);if($.array&&$.object){const O=(0,i._)`typeof ${S} != "object"`;d=$.null?O:(0,i._)`!${S} || ${O}`,delete $.null,delete $.array,delete $.object}else d=i.nil;$.number&&delete $.integer;for(const O in $)d=(0,i.and)(d,g(O,S,T,x));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:T,schema:x}=y,d=(0,o.schemaRefOrVal)(y,x,"type");return{gen:S,keyword:"type",data:T,schema:x.type,schemaCode:d,schemaValue:d,parentSchema:x,params:{},it:y}}}}),ime=Le({"../core/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=tn(),r=En();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(a)}`)}}}),ru=Le({"../core/node_modules/ajv/dist/vocabularies/code.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=tn(),r=En(),n=bd(),i=En();function o(y,S){const{gen:T,data:x,it:d}=y;T.if(c(T,x,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:T}},x,d){return(0,t.or)(...x.map($=>(0,t.and)(c(y,S,$,T.ownProperties),(0,t._)`${d} = ${$}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,T){return(0,t._)`${l(y)}.call(${S}, ${T})`}e.isOwnProperty=u;function f(y,S,T,x){const d=(0,t._)`${S}${(0,t.getProperty)(T)} !== undefined`;return x?(0,t._)`${d} && ${u(y,S,T)}`:d}e.propertyInData=f;function c(y,S,T,x){const d=(0,t._)`${S}${(0,t.getProperty)(T)} === undefined`;return x?(0,t.or)(d,(0,t.not)(u(y,S,T))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter(T=>!(0,r.alwaysValidSchema)(y,S[T]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:T,topSchemaRef:x,schemaPath:d,errorPath:$},it:O},P,k,B){const K=B?(0,t._)`${y}, ${S}, ${x}${d}`:S,ie=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)],[n.default.parentData,O.parentData],[n.default.parentDataProperty,O.parentDataProperty],[n.default.rootData,n.default.rootData]];O.opts.dynamicRef&&ie.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const W=(0,t._)`${K}, ${T.object(...ie)}`;return k!==t.nil?(0,t._)`${P}.call(${k}, ${W})`:(0,t._)`${P}(${W})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},T){const x=S.unicodeRegExp?"u":"",{regExp:d}=S.code,$=d(T,x);return y.scopeValue("pattern",{key:$.toString(),ref:$,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${T}, ${x})`})}e.usePattern=v;function h(y){const{gen:S,data:T,keyword:x,it:d}=y,$=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return O(()=>S.assign(P,!1)),P}return S.var($,!0),O(()=>S.break()),$;function O(P){const k=S.const("len",(0,t._)`${T}.length`);S.forRange("i",0,k,B=>{y.subschema({keyword:x,dataProp:B,dataPropType:r.Type.Num},$),S.if((0,t.not)($),P)})}}e.validateArray=h;function E(y){const{gen:S,schema:T,keyword:x,it:d}=y;if(!Array.isArray(T))throw new Error("ajv implementation error");if(T.some(k=>(0,r.alwaysValidSchema)(d,k))&&!d.opts.unevaluated)return;const O=S.let("valid",!1),P=S.name("_valid");S.block(()=>T.forEach((k,B)=>{const K=y.subschema({keyword:x,schemaProp:B,compositeRule:!0},P);S.assign(O,(0,t._)`${O} || ${P}`),y.mergeValidEvaluated(K,P)||S.if((0,t.not)(O))})),y.result(O,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),ome=Le({"../core/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=tn(),r=bd(),n=ru(),i=cT();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),T=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const x=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:T,compositeRule:!0},x),m.pass(x,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:T}=m;u(T,g);const x=!S&&g.compile?g.compile.call(T.self,E,y,T):g.validate,d=f(v,h,x),$=v.let("valid");m.block$data($,O),m.ok((_=g.valid)!==null&&_!==void 0?_:$);function O(){if(g.errors===!1)B(),g.modifying&&a(m),K(()=>m.error());else{const ie=g.async?P():k();g.modifying&&a(m),K(()=>l(m,ie))}}function P(){const ie=v.let("ruleErrs",null);return v.try(()=>B((0,t._)`await `),W=>v.assign($,!1).if((0,t._)`${W} instanceof ${T.ValidationError}`,()=>v.assign(ie,(0,t._)`${W}.errors`),()=>v.throw(W))),ie}function k(){const ie=(0,t._)`${d}.errors`;return v.assign(ie,null),B(t.nil),ie}function B(ie=g.async?(0,t._)`await `:t.nil){const W=T.opts.passContext?r.default.this:r.default.self,ne=!("compile"in g&&!S||g.schema===!1);v.assign($,(0,t._)`${ie}${(0,n.callValidateCode)(m,d,W,ne)}`,g.modifying)}function K(ie){var W;v.if((0,t.not)((W=g.valid)!==null&&W!==void 0?W:$),ie)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const T=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error(T);else throw new Error(T)}}e.validateKeywordUsage=p}}),sme=Le({"../core/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=tn(),r=En();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(s.propertyName=p)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),ame=Le({"../core/node_modules/json-schema-traverse/index.js"(e,t){Ce();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,s,a,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),fT=Le({"../core/node_modules/ajv/dist/compile/resolve.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=En(),r=og(),n=ame(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!a(v):h?l(v)<=h:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const h in v){if(s.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),T={"":S},x=u(y,S,!1),d={},$=new Set;return n(v,{allKeys:!0},(k,B,K,ie)=>{if(ie===void 0)return;const W=x+B;let ne=T[ie];typeof k[E]=="string"&&(ne=fe.call(this,k[E])),re.call(this,k.$anchor),re.call(this,k.$dynamicAnchor),T[B]=ne;function fe(le){const F=this.opts.uriResolver.resolve;if(le=p(ne?F(ne,le):le),$.has(le))throw P(le);$.add(le);let z=this.refs[le];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?O(k,z.schema,le):le!==p(W)&&(le[0]==="#"?(O(k,d[le],le),d[le]=k):this.refs[le]=W),le}function re(le){if(typeof le=="string"){if(!g.test(le))throw new Error(`invalid anchor "${le}"`);fe.call(this,`#${le}`)}}}),d;function O(k,B,K){if(B!==void 0&&!r(k,B))throw P(K)}function P(k){return new Error(`reference "${k}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),dT=Le({"../core/node_modules/ajv/dist/compile/validate/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=nme(),r=zS(),n=LG(),i=zS(),o=ime(),s=ome(),a=sme(),l=tn(),u=bd(),f=fT(),c=En(),p=cT();function m(I){if(x(I)&&($(I),T(I))){h(I);return}g(I,()=>(0,t.topBoolOrEmptySchema)(I))}e.validateFunctionCode=m;function g({gen:I,validateName:L,schema:M,schemaEnv:Z,opts:ue},de){ue.code.es5?I.func(L,(0,l._)`${u.default.data}, ${u.default.valCxt}`,Z.$async,()=>{I.code((0,l._)`"use strict"; ${y(M,ue)}`),v(I,ue),I.code(de)}):I.func(L,(0,l._)`${u.default.data}, ${_(ue)}`,Z.$async,()=>I.code(y(M,ue)).code(de))}function _(I){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${I.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(I,L){I.if(u.default.valCxt,()=>{I.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),I.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),I.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),I.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),L.dynamicRef&&I.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{I.var(u.default.instancePath,(0,l._)`""`),I.var(u.default.parentData,(0,l._)`undefined`),I.var(u.default.parentDataProperty,(0,l._)`undefined`),I.var(u.default.rootData,u.default.data),L.dynamicRef&&I.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(I){const{schema:L,opts:M,gen:Z}=I;g(I,()=>{M.$comment&&L.$comment&&ie(I),k(I),Z.let(u.default.vErrors,null),Z.let(u.default.errors,0),M.unevaluated&&E(I),O(I),W(I)})}function E(I){const{gen:L,validateName:M}=I;I.evaluated=L.const("evaluated",(0,l._)`${M}.evaluated`),L.if((0,l._)`${I.evaluated}.dynamicProps`,()=>L.assign((0,l._)`${I.evaluated}.props`,(0,l._)`undefined`)),L.if((0,l._)`${I.evaluated}.dynamicItems`,()=>L.assign((0,l._)`${I.evaluated}.items`,(0,l._)`undefined`))}function y(I,L){const M=typeof I=="object"&&I[L.schemaId];return M&&(L.code.source||L.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(I,L){if(x(I)&&($(I),T(I))){d(I,L);return}(0,t.boolOrEmptySchema)(I,L)}function T({schema:I,self:L}){if(typeof I=="boolean")return!I;for(const M in I)if(L.RULES.all[M])return!0;return!1}function x(I){return typeof I.schema!="boolean"}function d(I,L){const{schema:M,gen:Z,opts:ue}=I;ue.$comment&&M.$comment&&ie(I),B(I),K(I);const de=Z.const("_errs",u.default.errors);O(I,de),Z.var(L,(0,l._)`${de} === ${u.default.errors}`)}function $(I){(0,c.checkUnknownRules)(I),P(I)}function O(I,L){if(I.opts.jtd)return fe(I,[],!1,L);const M=(0,r.getSchemaTypes)(I.schema),Z=(0,r.coerceAndCheckDataType)(I,M);fe(I,M,!Z,L)}function P(I){const{schema:L,errSchemaPath:M,opts:Z,self:ue}=I;L.$ref&&Z.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(L,ue.RULES)&&ue.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function k(I){const{schema:L,opts:M}=I;L.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(I,"default is ignored in the schema root")}function B(I){const L=I.schema[I.opts.schemaId];L&&(I.baseId=(0,f.resolveUrl)(I.opts.uriResolver,I.baseId,L))}function K(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}function ie({gen:I,schemaEnv:L,schema:M,errSchemaPath:Z,opts:ue}){const de=M.$comment;if(ue.$comment===!0)I.code((0,l._)`${u.default.self}.logger.log(${de})`);else if(typeof ue.$comment=="function"){const ve=(0,l.str)`${Z}/$comment`,Se=I.scopeValue("root",{ref:L.root});I.code((0,l._)`${u.default.self}.opts.$comment(${de}, ${ve}, ${Se}.schema)`)}}function W(I){const{gen:L,schemaEnv:M,validateName:Z,ValidationError:ue,opts:de}=I;M.$async?L.if((0,l._)`${u.default.errors} === 0`,()=>L.return(u.default.data),()=>L.throw((0,l._)`new ${ue}(${u.default.vErrors})`)):(L.assign((0,l._)`${Z}.errors`,u.default.vErrors),de.unevaluated&&ne(I),L.return((0,l._)`${u.default.errors} === 0`))}function ne({gen:I,evaluated:L,props:M,items:Z}){M instanceof l.Name&&I.assign((0,l._)`${L}.props`,M),Z instanceof l.Name&&I.assign((0,l._)`${L}.items`,Z)}function fe(I,L,M,Z){const{gen:ue,schema:de,data:ve,allErrors:Se,opts:Fe,self:He}=I,{RULES:Ve}=He;if(de.$ref&&(Fe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(de,Ve))){ue.block(()=>ee(I,"$ref",Ve.all.$ref.definition));return}Fe.jtd||le(I,L),ue.block(()=>{for(const Qe of Ve.rules)ut(Qe);ut(Ve.post)});function ut(Qe){(0,n.shouldUseGroup)(de,Qe)&&(Qe.type?(ue.if((0,i.checkDataType)(Qe.type,ve,Fe.strictNumbers)),re(I,Qe),L.length===1&&L[0]===Qe.type&&M&&(ue.else(),(0,i.reportTypeError)(I)),ue.endIf()):re(I,Qe),Se||ue.if((0,l._)`${u.default.errors} === ${Z||0}`))}}function re(I,L){const{gen:M,schema:Z,opts:{useDefaults:ue}}=I;ue&&(0,o.assignDefaults)(I,L.type),M.block(()=>{for(const de of L.rules)(0,n.shouldUseRule)(Z,de)&&ee(I,de.keyword,de.definition,L.type)})}function le(I,L){I.schemaEnv.meta||!I.opts.strictTypes||(F(I,L),I.opts.allowUnionTypes||z(I,L),J(I,I.dataTypes))}function F(I,L){if(L.length){if(!I.dataTypes.length){I.dataTypes=L;return}L.forEach(M=>{C(I.dataTypes,M)||oe(I,`type "${M}" not allowed by context "${I.dataTypes.join(",")}"`)}),q(I,L)}}function z(I,L){L.length>1&&!(L.length===2&&L.includes("null"))&&oe(I,"use allowUnionTypes to allow union type keyword")}function J(I,L){const M=I.self.RULES.all;for(const Z in M){const ue=M[Z];if(typeof ue=="object"&&(0,n.shouldUseRule)(I.schema,ue)){const{type:de}=ue.definition;de.length&&!de.some(ve=>R(L,ve))&&oe(I,`missing type "${de.join(",")}" for keyword "${Z}"`)}}}function R(I,L){return I.includes(L)||L==="number"&&I.includes("integer")}function C(I,L){return I.includes(L)||L==="integer"&&I.includes("number")}function q(I,L){const M=[];for(const Z of I.dataTypes)C(L,Z)?M.push(Z):L.includes("integer")&&Z==="number"&&M.push("integer");I.dataTypes=M}function oe(I,L){const M=I.schemaEnv.baseId+I.errSchemaPath;L+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(I,L,I.opts.strictTypes)}var X=class{constructor(I,L,M){if((0,s.validateKeywordUsage)(I,L,M),this.gen=I.gen,this.allErrors=I.allErrors,this.keyword=M,this.data=I.data,this.schema=I.schema[M],this.$data=L.$data&&I.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(I,this.schema,M,this.$data),this.schemaType=L.schemaType,this.parentSchema=I.schema,this.params={},this.it=I,this.def=L,this.$data)this.schemaCode=I.gen.const("vSchema",Oe(this.$data,I));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,L.schemaType,L.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(L.schemaType)}`);("code"in L?L.trackErrors:L.errors!==!1)&&(this.errsCount=I.gen.const("_errs",u.default.errors))}result(I,L,M){this.failResult((0,l.not)(I),L,M)}failResult(I,L,M){this.gen.if(I),M?M():this.error(),L?(this.gen.else(),L(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(I,L){this.failResult((0,l.not)(I),void 0,L)}fail(I){if(I===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(I),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(I){if(!this.$data)return this.fail(I);const{schemaCode:L}=this;this.fail((0,l._)`${L} !== undefined && (${(0,l.or)(this.invalid$data(),I)})`)}error(I,L,M){if(L){this.setParams(L),this._error(I,M),this.setParams({});return}this._error(I,M)}_error(I,L){(I?p.reportExtraError:p.reportError)(this,this.def.error,L)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(I){this.allErrors||this.gen.if(I)}setParams(I,L){L?Object.assign(this.params,I):this.params=I}block$data(I,L,M=l.nil){this.gen.block(()=>{this.check$data(I,M),L()})}check$data(I=l.nil,L=l.nil){if(!this.$data)return;const{gen:M,schemaCode:Z,schemaType:ue,def:de}=this;M.if((0,l.or)((0,l._)`${Z} === undefined`,L)),I!==l.nil&&M.assign(I,!0),(ue.length||de.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),I!==l.nil&&M.assign(I,!1)),M.else()}invalid$data(){const{gen:I,schemaCode:L,schemaType:M,def:Z,it:ue}=this;return(0,l.or)(de(),ve());function de(){if(M.length){if(!(L instanceof l.Name))throw new Error("ajv implementation error");const Se=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(Se,L,ue.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function ve(){if(Z.validateSchema){const Se=I.scopeValue("validate$data",{ref:Z.validateSchema});return(0,l._)`!${Se}(${L})`}return l.nil}}subschema(I,L){const M=(0,a.getSubschema)(this.it,I);(0,a.extendSubschemaData)(M,this.it,I),(0,a.extendSubschemaMode)(M,I);const Z={...this.it,...M,items:void 0,props:void 0};return S(Z,L),Z}mergeEvaluated(I,L){const{it:M,gen:Z}=this;M.opts.unevaluated&&(M.props!==!0&&I.props!==void 0&&(M.props=c.mergeEvaluated.props(Z,I.props,M.props,L)),M.items!==!0&&I.items!==void 0&&(M.items=c.mergeEvaluated.items(Z,I.items,M.items,L)))}mergeValidEvaluated(I,L){const{it:M,gen:Z}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return Z.if(L,()=>this.mergeEvaluated(I,l.Name)),!0}};e.KeywordCxt=X;function ee(I,L,M,Z){const ue=new X(I,M,L);"code"in M?M.code(ue,Z):ue.$data&&M.validate?(0,s.funcKeywordCode)(ue,M):"macro"in M?(0,s.macroKeywordCode)(ue,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(ue,M)}var se=/^\/(?:[^~]|~0|~1)*$/,we=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(I,{dataLevel:L,dataNames:M,dataPathArr:Z}){let ue,de;if(I==="")return u.default.rootData;if(I[0]==="/"){if(!se.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);ue=I,de=u.default.rootData}else{const He=we.exec(I);if(!He)throw new Error(`Invalid JSON-pointer: ${I}`);const Ve=+He[1];if(ue=He[2],ue==="#"){if(Ve>=L)throw new Error(Fe("property/index",Ve));return Z[L-Ve]}if(Ve>L)throw new Error(Fe("data",Ve));if(de=M[L-Ve],!ue)return de}let ve=de;const Se=ue.split("/");for(const He of Se)He&&(de=(0,l._)`${de}${(0,l.getProperty)((0,c.unescapeJsonPointer)(He))}`,ve=(0,l._)`${ve} && ${de}`);return ve;function Fe(He,Ve){return`Cannot access ${He} ${Ve} levels up, current level is ${L}`}}e.getData=Oe}}),_2=Le({"../core/node_modules/ajv/dist/runtime/validation_error.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),E2=Le({"../core/node_modules/ajv/dist/compile/ref_error.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=fT(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),S2=Le({"../core/node_modules/ajv/dist/compile/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=tn(),r=_2(),n=bd(),i=fT(),o=En(),s=dT(),a=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:T}=this.opts.code,{ownProperties:x}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:T,ownProperties:x});let $;h.$async&&($=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=d.scopeName("validate");h.validateName=O;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:O,ValidationError:$,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let k;try{this._compilations.add(h),(0,s.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const B=d.toString();k=`${d.scopeRefs(n.default.scope)}return ${B}`,this.opts.code.process&&(k=this.opts.code.process(k,h));const ie=new Function(`${n.default.self}`,`${n.default.scope}`,k)(this,this.scope.get());if(this.scope.value(O,{ref:ie}),ie.errors=null,ie.schema=h.schema,ie.schemaEnv=h,h.$async&&(ie.$async=!0),this.opts.code.source===!0&&(ie.source={validateName:O,validateCode:B,scopeValues:d._values}),this.opts.unevaluated){const{props:W,items:ne}=P;ie.evaluated={props:W instanceof t.Name?void 0:W,items:ne instanceof t.Name?void 0:ne,dynamicProps:W instanceof t.Name,dynamicItems:ne instanceof t.Name},ie.source&&(ie.source.evaluated=(0,t.stringify)(ie.evaluated))}return h.validate=ie,h}catch(B){throw delete h.validate,delete h.validateName,k&&this.logger.error("Error compiling schema, function code:",k),B}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const T=h.refs[y];if(T)return T;let x=m.call(this,h,y);if(x===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:$}=this.opts;d&&(x=new a({schema:d,schemaId:$,root:h,baseId:E}))}if(x!==void 0)return h.refs[y]=f.call(this,x)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let T=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===T)return v.call(this,y,h);const x=(0,i.normalizeId)(S),d=this.refs[x]||this.schemas[x];if(typeof d=="string"){const $=g.call(this,h,d);return typeof($==null?void 0:$.schema)!="object"?void 0:v.call(this,y,$)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),x===(0,i.normalizeId)(E)){const{schema:$}=d,{schemaId:O}=this.opts,P=$[O];return P&&(T=(0,i.resolveUrl)(this.opts.uriResolver,T,P)),new a({schema:$,schemaId:O,root:h,baseId:T})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var T;if(((T=h.fragment)===null||T===void 0?void 0:T[0])!=="/")return;for(const $ of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const O=y[(0,o.unescapeFragment)($)];if(O===void 0)return;y=O;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has($)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let x;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const $=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);x=g.call(this,S,$)}const{schemaId:d}=this.opts;if(x=x||new a({schema:y,schemaId:d,root:S,baseId:E}),x.schema!==x.root.schema)return x}}}),lme=Le({"../core/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),FG=Le({"../../node_modules/uri-js/dist/es5/uri.all.js"(e,t){Ce(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n(r.URI=r.URI||{})}(e,function(r){function n(){for(var ye=arguments.length,me=Array(ye),$e=0;$e<ye;$e++)me[$e]=arguments[$e];if(me.length>1){me[0]=me[0].slice(0,-1);for(var Me=me.length-1,De=1;De<Me;++De)me[De]=me[De].slice(1,-1);return me[Me]=me[Me].slice(1),me.join("")}else return me[0]}function i(ye){return"(?:"+ye+")"}function o(ye){return ye===void 0?"undefined":ye===null?"null":Object.prototype.toString.call(ye).split(" ").pop().split("]").shift().toLowerCase()}function s(ye){return ye.toUpperCase()}function a(ye){return ye!=null?ye instanceof Array?ye:typeof ye.length!="number"||ye.split||ye.setInterval||ye.call?[ye]:Array.prototype.slice.call(ye):[]}function l(ye,me){var $e=ye;if(me)for(var Me in me)$e[Me]=me[Me];return $e}function u(ye){var me="[A-Za-z]",$e="[0-9]",Me=n($e,"[A-Fa-f]"),De=i(i("%[EFef]"+Me+"%"+Me+Me+"%"+Me+Me)+"|"+i("%[89A-Fa-f]"+Me+"%"+Me+Me)+"|"+i("%"+Me+Me)),dt="[\\:\\/\\?\\#\\[\\]\\@]",mt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",At=n(dt,mt),Ht=ye?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Xt=ye?"[\\uE000-\\uF8FF]":"[]",Ft=n(me,$e,"[\\-\\.\\_\\~]",Ht);i(me+n(me,$e,"[\\+\\-\\.]")+"*"),i(i(De+"|"+n(Ft,mt,"[\\:]"))+"*");var qt=i(i("25[0-5]")+"|"+i("2[0-4]"+$e)+"|"+i("1"+$e+$e)+"|"+i("0?[1-9]"+$e)+"|0?0?"+$e),ur=i(qt+"\\."+qt+"\\."+qt+"\\."+qt),It=i(Me+"{1,4}"),nr=i(i(It+"\\:"+It)+"|"+ur),Zt=i(i(It+"\\:")+"{6}"+nr),Ut=i("\\:\\:"+i(It+"\\:")+"{5}"+nr),Fr=i(i(It)+"?\\:\\:"+i(It+"\\:")+"{4}"+nr),mn=i(i(i(It+"\\:")+"{0,1}"+It)+"?\\:\\:"+i(It+"\\:")+"{3}"+nr),Zr=i(i(i(It+"\\:")+"{0,2}"+It)+"?\\:\\:"+i(It+"\\:")+"{2}"+nr),ni=i(i(i(It+"\\:")+"{0,3}"+It)+"?\\:\\:"+It+"\\:"+nr),Hn=i(i(i(It+"\\:")+"{0,4}"+It)+"?\\:\\:"+nr),nn=i(i(i(It+"\\:")+"{0,5}"+It)+"?\\:\\:"+It),vn=i(i(i(It+"\\:")+"{0,6}"+It)+"?\\:\\:"),$i=i([Zt,Ut,Fr,mn,Zr,ni,Hn,nn,vn].join("|")),Wn=i(i(Ft+"|"+De)+"+");i("[vV]"+Me+"+\\."+n(Ft,mt,"[\\:]")+"+"),i(i(De+"|"+n(Ft,mt))+"*");var zi=i(De+"|"+n(Ft,mt,"[\\:\\@]"));return i(i(De+"|"+n(Ft,mt,"[\\@]"))+"+"),i(i(zi+"|"+n("[\\/\\?]",Xt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",me,$e,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Ft,mt),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Ft,mt),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Ft,mt),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Ft,mt),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Ft,mt,"[\\:\\@\\/\\?]",Xt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Ft,mt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Ft,mt),"g"),UNRESERVED:new RegExp(Ft,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Ft,At),"g"),PCT_ENCODED:new RegExp(De,"g"),IPV4ADDRESS:new RegExp("^("+ur+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$i+")"+i(i("\\%25|\\%(?!"+Me+"{2})")+"("+Wn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),p=function(){function ye(me,$e){var Me=[],De=!0,dt=!1,mt=void 0;try{for(var At=me[Symbol.iterator](),Ht;!(De=(Ht=At.next()).done)&&(Me.push(Ht.value),!($e&&Me.length===$e));De=!0);}catch(Xt){dt=!0,mt=Xt}finally{try{!De&&At.return&&At.return()}finally{if(dt)throw mt}}return Me}return function(me,$e){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return ye(me,$e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(ye){if(Array.isArray(ye)){for(var me=0,$e=Array(ye.length);me<ye.length;me++)$e[me]=ye[me];return $e}else return Array.from(ye)},g=2147483647,_=36,v=1,h=26,E=38,y=700,S=72,T=128,x="-",d=/^xn--/,$=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=_-v,B=Math.floor,K=String.fromCharCode;function ie(ye){throw new RangeError(P[ye])}function W(ye,me){for(var $e=[],Me=ye.length;Me--;)$e[Me]=me(ye[Me]);return $e}function ne(ye,me){var $e=ye.split("@"),Me="";$e.length>1&&(Me=$e[0]+"@",ye=$e[1]),ye=ye.replace(O,".");var De=ye.split("."),dt=W(De,me).join(".");return Me+dt}function fe(ye){for(var me=[],$e=0,Me=ye.length;$e<Me;){var De=ye.charCodeAt($e++);if(De>=55296&&De<=56319&&$e<Me){var dt=ye.charCodeAt($e++);(dt&64512)==56320?me.push(((De&1023)<<10)+(dt&1023)+65536):(me.push(De),$e--)}else me.push(De)}return me}var re=function(me){return String.fromCodePoint.apply(String,m(me))},le=function(me){return me-48<10?me-22:me-65<26?me-65:me-97<26?me-97:_},F=function(me,$e){return me+22+75*(me<26)-(($e!=0)<<5)},z=function(me,$e,Me){var De=0;for(me=Me?B(me/y):me>>1,me+=B(me/$e);me>k*h>>1;De+=_)me=B(me/k);return B(De+(k+1)*me/(me+E))},J=function(me){var $e=[],Me=me.length,De=0,dt=T,mt=S,At=me.lastIndexOf(x);At<0&&(At=0);for(var Ht=0;Ht<At;++Ht)me.charCodeAt(Ht)>=128&&ie("not-basic"),$e.push(me.charCodeAt(Ht));for(var Xt=At>0?At+1:0;Xt<Me;){for(var Ft=De,qt=1,ur=_;;ur+=_){Xt>=Me&&ie("invalid-input");var It=le(me.charCodeAt(Xt++));(It>=_||It>B((g-De)/qt))&&ie("overflow"),De+=It*qt;var nr=ur<=mt?v:ur>=mt+h?h:ur-mt;if(It<nr)break;var Zt=_-nr;qt>B(g/Zt)&&ie("overflow"),qt*=Zt}var Ut=$e.length+1;mt=z(De-Ft,Ut,Ft==0),B(De/Ut)>g-dt&&ie("overflow"),dt+=B(De/Ut),De%=Ut,$e.splice(De++,0,dt)}return String.fromCodePoint.apply(String,$e)},R=function(me){var $e=[];me=fe(me);var Me=me.length,De=T,dt=0,mt=S,At=!0,Ht=!1,Xt=void 0;try{for(var Ft=me[Symbol.iterator](),qt;!(At=(qt=Ft.next()).done);At=!0){var ur=qt.value;ur<128&&$e.push(K(ur))}}catch(Zn){Ht=!0,Xt=Zn}finally{try{!At&&Ft.return&&Ft.return()}finally{if(Ht)throw Xt}}var It=$e.length,nr=It;for(It&&$e.push(x);nr<Me;){var Zt=g,Ut=!0,Fr=!1,mn=void 0;try{for(var Zr=me[Symbol.iterator](),ni;!(Ut=(ni=Zr.next()).done);Ut=!0){var Hn=ni.value;Hn>=De&&Hn<Zt&&(Zt=Hn)}}catch(Zn){Fr=!0,mn=Zn}finally{try{!Ut&&Zr.return&&Zr.return()}finally{if(Fr)throw mn}}var nn=nr+1;Zt-De>B((g-dt)/nn)&&ie("overflow"),dt+=(Zt-De)*nn,De=Zt;var vn=!0,$i=!1,Wn=void 0;try{for(var zi=me[Symbol.iterator](),Ss;!(vn=(Ss=zi.next()).done);vn=!0){var Wo=Ss.value;if(Wo<De&&++dt>g&&ie("overflow"),Wo==De){for(var on=dt,Gn=_;;Gn+=_){var xi=Gn<=mt?v:Gn>=mt+h?h:Gn-mt;if(on<xi)break;var Na=on-xi,Go=_-xi;$e.push(K(F(xi+Na%Go,0))),on=B(Na/Go)}$e.push(K(F(on,0))),mt=z(dt,nn,nr==It),dt=0,++nr}}}catch(Zn){$i=!0,Wn=Zn}finally{try{!vn&&zi.return&&zi.return()}finally{if($i)throw Wn}}++dt,++De}return $e.join("")},C=function(me){return ne(me,function($e){return d.test($e)?J($e.slice(4).toLowerCase()):$e})},q=function(me){return ne(me,function($e){return $.test($e)?"xn--"+R($e):$e})},oe={version:"2.1.0",ucs2:{decode:fe,encode:re},decode:J,encode:R,toASCII:q,toUnicode:C},X={};function ee(ye){var me=ye.charCodeAt(0),$e=void 0;return me<16?$e="%0"+me.toString(16).toUpperCase():me<128?$e="%"+me.toString(16).toUpperCase():me<2048?$e="%"+(me>>6|192).toString(16).toUpperCase()+"%"+(me&63|128).toString(16).toUpperCase():$e="%"+(me>>12|224).toString(16).toUpperCase()+"%"+(me>>6&63|128).toString(16).toUpperCase()+"%"+(me&63|128).toString(16).toUpperCase(),$e}function se(ye){for(var me="",$e=0,Me=ye.length;$e<Me;){var De=parseInt(ye.substr($e+1,2),16);if(De<128)me+=String.fromCharCode(De),$e+=3;else if(De>=194&&De<224){if(Me-$e>=6){var dt=parseInt(ye.substr($e+4,2),16);me+=String.fromCharCode((De&31)<<6|dt&63)}else me+=ye.substr($e,6);$e+=6}else if(De>=224){if(Me-$e>=9){var mt=parseInt(ye.substr($e+4,2),16),At=parseInt(ye.substr($e+7,2),16);me+=String.fromCharCode((De&15)<<12|(mt&63)<<6|At&63)}else me+=ye.substr($e,9);$e+=9}else me+=ye.substr($e,3),$e+=3}return me}function we(ye,me){function $e(Me){var De=se(Me);return De.match(me.UNRESERVED)?De:Me}return ye.scheme&&(ye.scheme=String(ye.scheme).replace(me.PCT_ENCODED,$e).toLowerCase().replace(me.NOT_SCHEME,"")),ye.userinfo!==void 0&&(ye.userinfo=String(ye.userinfo).replace(me.PCT_ENCODED,$e).replace(me.NOT_USERINFO,ee).replace(me.PCT_ENCODED,s)),ye.host!==void 0&&(ye.host=String(ye.host).replace(me.PCT_ENCODED,$e).toLowerCase().replace(me.NOT_HOST,ee).replace(me.PCT_ENCODED,s)),ye.path!==void 0&&(ye.path=String(ye.path).replace(me.PCT_ENCODED,$e).replace(ye.scheme?me.NOT_PATH:me.NOT_PATH_NOSCHEME,ee).replace(me.PCT_ENCODED,s)),ye.query!==void 0&&(ye.query=String(ye.query).replace(me.PCT_ENCODED,$e).replace(me.NOT_QUERY,ee).replace(me.PCT_ENCODED,s)),ye.fragment!==void 0&&(ye.fragment=String(ye.fragment).replace(me.PCT_ENCODED,$e).replace(me.NOT_FRAGMENT,ee).replace(me.PCT_ENCODED,s)),ye}function Oe(ye){return ye.replace(/^0*(.*)/,"$1")||"0"}function I(ye,me){var $e=ye.match(me.IPV4ADDRESS)||[],Me=p($e,2),De=Me[1];return De?De.split(".").map(Oe).join("."):ye}function L(ye,me){var $e=ye.match(me.IPV6ADDRESS)||[],Me=p($e,3),De=Me[1],dt=Me[2];if(De){for(var mt=De.toLowerCase().split("::").reverse(),At=p(mt,2),Ht=At[0],Xt=At[1],Ft=Xt?Xt.split(":").map(Oe):[],qt=Ht.split(":").map(Oe),ur=me.IPV4ADDRESS.test(qt[qt.length-1]),It=ur?7:8,nr=qt.length-It,Zt=Array(It),Ut=0;Ut<It;++Ut)Zt[Ut]=Ft[Ut]||qt[nr+Ut]||"";ur&&(Zt[It-1]=I(Zt[It-1],me));var Fr=Zt.reduce(function(nn,vn,$i){if(!vn||vn==="0"){var Wn=nn[nn.length-1];Wn&&Wn.index+Wn.length===$i?Wn.length++:nn.push({index:$i,length:1})}return nn},[]),mn=Fr.sort(function(nn,vn){return vn.length-nn.length})[0],Zr=void 0;if(mn&&mn.length>1){var ni=Zt.slice(0,mn.index),Hn=Zt.slice(mn.index+mn.length);Zr=ni.join(":")+"::"+Hn.join(":")}else Zr=Zt.join(":");return dt&&(Zr+="%"+dt),Zr}else return ye}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Z="".match(/(){0}/)[1]===void 0;function ue(ye){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e={},Me=me.iri!==!1?c:f;me.reference==="suffix"&&(ye=(me.scheme?me.scheme+":":"")+"//"+ye);var De=ye.match(M);if(De){Z?($e.scheme=De[1],$e.userinfo=De[3],$e.host=De[4],$e.port=parseInt(De[5],10),$e.path=De[6]||"",$e.query=De[7],$e.fragment=De[8],isNaN($e.port)&&($e.port=De[5])):($e.scheme=De[1]||void 0,$e.userinfo=ye.indexOf("@")!==-1?De[3]:void 0,$e.host=ye.indexOf("//")!==-1?De[4]:void 0,$e.port=parseInt(De[5],10),$e.path=De[6]||"",$e.query=ye.indexOf("?")!==-1?De[7]:void 0,$e.fragment=ye.indexOf("#")!==-1?De[8]:void 0,isNaN($e.port)&&($e.port=ye.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?De[4]:void 0)),$e.host&&($e.host=L(I($e.host,Me),Me)),$e.scheme===void 0&&$e.userinfo===void 0&&$e.host===void 0&&$e.port===void 0&&!$e.path&&$e.query===void 0?$e.reference="same-document":$e.scheme===void 0?$e.reference="relative":$e.fragment===void 0?$e.reference="absolute":$e.reference="uri",me.reference&&me.reference!=="suffix"&&me.reference!==$e.reference&&($e.error=$e.error||"URI is not a "+me.reference+" reference.");var dt=X[(me.scheme||$e.scheme||"").toLowerCase()];if(!me.unicodeSupport&&(!dt||!dt.unicodeSupport)){if($e.host&&(me.domainHost||dt&&dt.domainHost))try{$e.host=oe.toASCII($e.host.replace(Me.PCT_ENCODED,se).toLowerCase())}catch(mt){$e.error=$e.error||"Host's domain name can not be converted to ASCII via punycode: "+mt}we($e,f)}else we($e,Me);dt&&dt.parse&&dt.parse($e,me)}else $e.error=$e.error||"URI can not be parsed.";return $e}function de(ye,me){var $e=me.iri!==!1?c:f,Me=[];return ye.userinfo!==void 0&&(Me.push(ye.userinfo),Me.push("@")),ye.host!==void 0&&Me.push(L(I(String(ye.host),$e),$e).replace($e.IPV6ADDRESS,function(De,dt,mt){return"["+dt+(mt?"%25"+mt:"")+"]"})),(typeof ye.port=="number"||typeof ye.port=="string")&&(Me.push(":"),Me.push(String(ye.port))),Me.length?Me.join(""):void 0}var ve=/^\.\.?\//,Se=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,He=/^\/?(?:.|\n)*?(?=\/|$)/;function Ve(ye){for(var me=[];ye.length;)if(ye.match(ve))ye=ye.replace(ve,"");else if(ye.match(Se))ye=ye.replace(Se,"/");else if(ye.match(Fe))ye=ye.replace(Fe,"/"),me.pop();else if(ye==="."||ye==="..")ye="";else{var $e=ye.match(He);if($e){var Me=$e[0];ye=ye.slice(Me.length),me.push(Me)}else throw new Error("Unexpected dot segment condition")}return me.join("")}function ut(ye){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e=me.iri?c:f,Me=[],De=X[(me.scheme||ye.scheme||"").toLowerCase()];if(De&&De.serialize&&De.serialize(ye,me),ye.host&&!$e.IPV6ADDRESS.test(ye.host)){if(me.domainHost||De&&De.domainHost)try{ye.host=me.iri?oe.toUnicode(ye.host):oe.toASCII(ye.host.replace($e.PCT_ENCODED,se).toLowerCase())}catch(At){ye.error=ye.error||"Host's domain name can not be converted to "+(me.iri?"Unicode":"ASCII")+" via punycode: "+At}}we(ye,$e),me.reference!=="suffix"&&ye.scheme&&(Me.push(ye.scheme),Me.push(":"));var dt=de(ye,me);if(dt!==void 0&&(me.reference!=="suffix"&&Me.push("//"),Me.push(dt),ye.path&&ye.path.charAt(0)!=="/"&&Me.push("/")),ye.path!==void 0){var mt=ye.path;!me.absolutePath&&(!De||!De.absolutePath)&&(mt=Ve(mt)),dt===void 0&&(mt=mt.replace(/^\/\//,"/%2F")),Me.push(mt)}return ye.query!==void 0&&(Me.push("?"),Me.push(ye.query)),ye.fragment!==void 0&&(Me.push("#"),Me.push(ye.fragment)),Me.join("")}function Qe(ye,me){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=arguments[3],De={};return Me||(ye=ue(ut(ye,$e),$e),me=ue(ut(me,$e),$e)),$e=$e||{},!$e.tolerant&&me.scheme?(De.scheme=me.scheme,De.userinfo=me.userinfo,De.host=me.host,De.port=me.port,De.path=Ve(me.path||""),De.query=me.query):(me.userinfo!==void 0||me.host!==void 0||me.port!==void 0?(De.userinfo=me.userinfo,De.host=me.host,De.port=me.port,De.path=Ve(me.path||""),De.query=me.query):(me.path?(me.path.charAt(0)==="/"?De.path=Ve(me.path):((ye.userinfo!==void 0||ye.host!==void 0||ye.port!==void 0)&&!ye.path?De.path="/"+me.path:ye.path?De.path=ye.path.slice(0,ye.path.lastIndexOf("/")+1)+me.path:De.path=me.path,De.path=Ve(De.path)),De.query=me.query):(De.path=ye.path,me.query!==void 0?De.query=me.query:De.query=ye.query),De.userinfo=ye.userinfo,De.host=ye.host,De.port=ye.port),De.scheme=ye.scheme),De.fragment=me.fragment,De}function Ye(ye,me,$e){var Me=l({scheme:"null"},$e);return ut(Qe(ue(ye,Me),ue(me,Me),Me,!0),Me)}function te(ye,me){return typeof ye=="string"?ye=ut(ue(ye,me),me):o(ye)==="object"&&(ye=ue(ut(ye,me),me)),ye}function j(ye,me,$e){return typeof ye=="string"?ye=ut(ue(ye,$e),$e):o(ye)==="object"&&(ye=ut(ye,$e)),typeof me=="string"?me=ut(ue(me,$e),$e):o(me)==="object"&&(me=ut(me,$e)),ye===me}function U(ye,me){return ye&&ye.toString().replace(!me||!me.iri?f.ESCAPE:c.ESCAPE,ee)}function ce(ye,me){return ye&&ye.toString().replace(!me||!me.iri?f.PCT_ENCODED:c.PCT_ENCODED,se)}var Te={scheme:"http",domainHost:!0,parse:function(me,$e){return me.host||(me.error=me.error||"HTTP URIs must have a host."),me},serialize:function(me,$e){var Me=String(me.scheme).toLowerCase()==="https";return(me.port===(Me?443:80)||me.port==="")&&(me.port=void 0),me.path||(me.path="/"),me}},Re={scheme:"https",domainHost:Te.domainHost,parse:Te.parse,serialize:Te.serialize};function ze(ye){return typeof ye.secure=="boolean"?ye.secure:String(ye.scheme).toLowerCase()==="wss"}var Be={scheme:"ws",domainHost:!0,parse:function(me,$e){var Me=me;return Me.secure=ze(Me),Me.resourceName=(Me.path||"/")+(Me.query?"?"+Me.query:""),Me.path=void 0,Me.query=void 0,Me},serialize:function(me,$e){if((me.port===(ze(me)?443:80)||me.port==="")&&(me.port=void 0),typeof me.secure=="boolean"&&(me.scheme=me.secure?"wss":"ws",me.secure=void 0),me.resourceName){var Me=me.resourceName.split("?"),De=p(Me,2),dt=De[0],mt=De[1];me.path=dt&&dt!=="/"?dt:void 0,me.query=mt,me.resourceName=void 0}return me.fragment=void 0,me}},Xe={scheme:"wss",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize},vt={},St="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",yt="[0-9A-Fa-f]",Yt=i(i("%[EFef]"+yt+"%"+yt+yt+"%"+yt+yt)+"|"+i("%[89A-Fa-f]"+yt+"%"+yt+yt)+"|"+i("%"+yt+yt)),Jr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",cn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Tr=n(cn,'[\\"\\\\]'),Rr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Nn=new RegExp(St,"g"),wr=new RegExp(Yt,"g"),cr=new RegExp(n("[^]",Jr,"[\\.]",'[\\"]',Tr),"g"),ar=new RegExp(n("[^]",St,Rr),"g"),Ie=ar;function ke(ye){var me=se(ye);return me.match(Nn)?me:ye}var ft={scheme:"mailto",parse:function(me,$e){var Me=me,De=Me.to=Me.path?Me.path.split(","):[];if(Me.path=void 0,Me.query){for(var dt=!1,mt={},At=Me.query.split("&"),Ht=0,Xt=At.length;Ht<Xt;++Ht){var Ft=At[Ht].split("=");switch(Ft[0]){case"to":for(var qt=Ft[1].split(","),ur=0,It=qt.length;ur<It;++ur)De.push(qt[ur]);break;case"subject":Me.subject=ce(Ft[1],$e);break;case"body":Me.body=ce(Ft[1],$e);break;default:dt=!0,mt[ce(Ft[0],$e)]=ce(Ft[1],$e);break}}dt&&(Me.headers=mt)}Me.query=void 0;for(var nr=0,Zt=De.length;nr<Zt;++nr){var Ut=De[nr].split("@");if(Ut[0]=ce(Ut[0]),$e.unicodeSupport)Ut[1]=ce(Ut[1],$e).toLowerCase();else try{Ut[1]=oe.toASCII(ce(Ut[1],$e).toLowerCase())}catch(Fr){Me.error=Me.error||"Email address's domain name can not be converted to ASCII via punycode: "+Fr}De[nr]=Ut.join("@")}return Me},serialize:function(me,$e){var Me=me,De=a(me.to);if(De){for(var dt=0,mt=De.length;dt<mt;++dt){var At=String(De[dt]),Ht=At.lastIndexOf("@"),Xt=At.slice(0,Ht).replace(wr,ke).replace(wr,s).replace(cr,ee),Ft=At.slice(Ht+1);try{Ft=$e.iri?oe.toUnicode(Ft):oe.toASCII(ce(Ft,$e).toLowerCase())}catch(nr){Me.error=Me.error||"Email address's domain name can not be converted to "+($e.iri?"Unicode":"ASCII")+" via punycode: "+nr}De[dt]=Xt+"@"+Ft}Me.path=De.join(",")}var qt=me.headers=me.headers||{};me.subject&&(qt.subject=me.subject),me.body&&(qt.body=me.body);var ur=[];for(var It in qt)qt[It]!==vt[It]&&ur.push(It.replace(wr,ke).replace(wr,s).replace(ar,ee)+"="+qt[It].replace(wr,ke).replace(wr,s).replace(Ie,ee));return ur.length&&(Me.query=ur.join("&")),Me}},bt=/^([^\:]+)\:(.*)/,Lt={scheme:"urn",parse:function(me,$e){var Me=me.path&&me.path.match(bt),De=me;if(Me){var dt=$e.scheme||De.scheme||"urn",mt=Me[1].toLowerCase(),At=Me[2],Ht=dt+":"+($e.nid||mt),Xt=X[Ht];De.nid=mt,De.nss=At,De.path=void 0,Xt&&(De=Xt.parse(De,$e))}else De.error=De.error||"URN can not be parsed.";return De},serialize:function(me,$e){var Me=$e.scheme||me.scheme||"urn",De=me.nid,dt=Me+":"+($e.nid||De),mt=X[dt];mt&&(me=mt.serialize(me,$e));var At=me,Ht=me.nss;return At.path=(De||$e.nid)+":"+Ht,At}},xt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Mt={scheme:"urn:uuid",parse:function(me,$e){var Me=me;return Me.uuid=Me.nss,Me.nss=void 0,!$e.tolerant&&(!Me.uuid||!Me.uuid.match(xt))&&(Me.error=Me.error||"UUID is not valid."),Me},serialize:function(me,$e){var Me=me;return Me.nss=(me.uuid||"").toLowerCase(),Me}};X[Te.scheme]=Te,X[Re.scheme]=Re,X[Be.scheme]=Be,X[Xe.scheme]=Xe,X[ft.scheme]=ft,X[Lt.scheme]=Lt,X[Mt.scheme]=Mt,r.SCHEMES=X,r.pctEncChar=ee,r.pctDecChars=se,r.parse=ue,r.removeDotSegments=Ve,r.serialize=ut,r.resolveComponents=Qe,r.resolve=Ye,r.normalize=te,r.equal=j,r.escapeComponent=U,r.unescapeComponent=ce,Object.defineProperty(r,"__esModule",{value:!0})})}}),ume=Le({"../core/node_modules/ajv/dist/runtime/uri.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=FG();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),cme=Le({"../core/node_modules/ajv/dist/core.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=dT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=tn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=_2(),i=E2(),o=MG(),s=S2(),a=tn(),l=fT(),u=zS(),f=En(),c=lme(),p=ume(),m=(F,z)=>new RegExp(F,z);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(F){var z,J,R,C,q,oe,X,ee,se,we,Oe,I,L,M,Z,ue,de,ve,Se,Fe,He,Ve,ut,Qe,Ye;const te=F.strict,j=(z=F.code)===null||z===void 0?void 0:z.optimize,U=j===!0||j===void 0?1:j||0,ce=(R=(J=F.code)===null||J===void 0?void 0:J.regExp)!==null&&R!==void 0?R:m,Te=(C=F.uriResolver)!==null&&C!==void 0?C:p.default;return{strictSchema:(oe=(q=F.strictSchema)!==null&&q!==void 0?q:te)!==null&&oe!==void 0?oe:!0,strictNumbers:(ee=(X=F.strictNumbers)!==null&&X!==void 0?X:te)!==null&&ee!==void 0?ee:!0,strictTypes:(we=(se=F.strictTypes)!==null&&se!==void 0?se:te)!==null&&we!==void 0?we:"log",strictTuples:(I=(Oe=F.strictTuples)!==null&&Oe!==void 0?Oe:te)!==null&&I!==void 0?I:"log",strictRequired:(M=(L=F.strictRequired)!==null&&L!==void 0?L:te)!==null&&M!==void 0?M:!1,code:F.code?{...F.code,optimize:U,regExp:ce}:{optimize:U,regExp:ce},loopRequired:(Z=F.loopRequired)!==null&&Z!==void 0?Z:E,loopEnum:(ue=F.loopEnum)!==null&&ue!==void 0?ue:E,meta:(de=F.meta)!==null&&de!==void 0?de:!0,messages:(ve=F.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Se=F.inlineRefs)!==null&&Se!==void 0?Se:!0,schemaId:(Fe=F.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(He=F.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(Ve=F.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ut=F.validateFormats)!==null&&ut!==void 0?ut:!0,unicodeRegExp:(Qe=F.unicodeRegExp)!==null&&Qe!==void 0?Qe:!0,int32range:(Ye=F.int32range)!==null&&Ye!==void 0?Ye:!0,uriResolver:Te}}var S=class{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts={...F,...y(F)};const{es5:z,lines:J}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:z,lines:J}),this.logger=B(F.logger);const R=F.validateFormats;F.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,F,"NOT SUPPORTED"),T.call(this,h,F,"DEPRECATED","warn"),this._metaOpts=P.call(this),F.formats&&$.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&O.call(this,F.keywords),typeof F.meta=="object"&&this.addMetaSchema(F.meta),d.call(this),F.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:z,schemaId:J}=this.opts;let R=c;J==="id"&&(R={...c},R.id=R.$id,delete R.$id),z&&F&&this.addMetaSchema(R,R[J],!1)}defaultMeta(){const{meta:F,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof F=="object"?F[z]||F:void 0}validate(F,z){let J;if(typeof F=="string"){if(J=this.getSchema(F),!J)throw new Error(`no schema with key or ref "${F}"`)}else J=this.compile(F);const R=J(z);return"$async"in J||(this.errors=J.errors),R}compile(F,z){const J=this._addSchema(F,z);return J.validate||this._compileSchemaEnv(J)}compileAsync(F,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:J}=this.opts;return R.call(this,F,z);async function R(se,we){await C.call(this,se.$schema);const Oe=this._addSchema(se,we);return Oe.validate||q.call(this,Oe)}async function C(se){se&&!this.getSchema(se)&&await R.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(we){if(!(we instanceof i.default))throw we;return oe.call(this,we),await X.call(this,we.missingSchema),q.call(this,se)}}function oe({missingSchema:se,missingRef:we}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${we} cannot be resolved`)}async function X(se){const we=await ee.call(this,se);this.refs[se]||await C.call(this,we.$schema),this.refs[se]||this.addSchema(we,se,z)}async function ee(se){const we=this._loading[se];if(we)return we;try{return await(this._loading[se]=J(se))}finally{delete this._loading[se]}}}addSchema(F,z,J,R=this.opts.validateSchema){if(Array.isArray(F)){for(const q of F)this.addSchema(q,void 0,J,R);return this}let C;if(typeof F=="object"){const{schemaId:q}=this.opts;if(C=F[q],C!==void 0&&typeof C!="string")throw new Error(`schema ${q} must be string`)}return z=(0,l.normalizeId)(z||C),this._checkUnique(z),this.schemas[z]=this._addSchema(F,J,z,R,!0),this}addMetaSchema(F,z,J=this.opts.validateSchema){return this.addSchema(F,z,!0,J),this}validateSchema(F,z){if(typeof F=="boolean")return!0;let J;if(J=F.$schema,J!==void 0&&typeof J!="string")throw new Error("$schema must be a string");if(J=J||this.opts.defaultMeta||this.defaultMeta(),!J)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(J,F);if(!R&&z){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return R}getSchema(F){let z;for(;typeof(z=x.call(this,F))=="string";)F=z;if(z===void 0){const{schemaId:J}=this.opts,R=new s.SchemaEnv({schema:{},schemaId:J});if(z=s.resolveSchema.call(this,R,F),!z)return;this.refs[F]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=x.call(this,F);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{const z=F;this._cache.delete(z);let J=F[this.opts.schemaId];return J&&(J=(0,l.normalizeId)(J),delete this.schemas[J],delete this.refs[J]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const z of F)this.addKeyword(z);return this}addKeyword(F,z){let J;if(typeof F=="string")J=F,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=J);else if(typeof F=="object"&&z===void 0){if(z=F,J=z.keyword,Array.isArray(J)&&!J.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,J,z),!z)return(0,f.eachItem)(J,C=>W.call(this,C)),this;fe.call(this,z);const R={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,f.eachItem)(J,R.type.length===0?C=>W.call(this,C,R):C=>R.type.forEach(q=>W.call(this,C,R,q))),this}getKeyword(F){const z=this.RULES.all[F];return typeof z=="object"?z.definition:!!z}removeKeyword(F){const{RULES:z}=this;delete z.keywords[F],delete z.all[F];for(const J of z.rules){const R=J.rules.findIndex(C=>C.keyword===F);R>=0&&J.rules.splice(R,1)}return this}addFormat(F,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[F]=z,this}errorsText(F=this.errors,{separator:z=", ",dataVar:J="data"}={}){return!F||F.length===0?"No errors":F.map(R=>`${J}${R.instancePath} ${R.message}`).reduce((R,C)=>R+z+C)}$dataMetaSchema(F,z){const J=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const R of z){const C=R.split("/").slice(1);let q=F;for(const oe of C)q=q[oe];for(const oe in J){const X=J[oe];if(typeof X!="object")continue;const{$data:ee}=X.definition,se=q[oe];ee&&se&&(q[oe]=le(se))}}return F}_removeAllSchemas(F,z){for(const J in F){const R=F[J];(!z||z.test(J))&&(typeof R=="string"?delete F[J]:R&&!R.meta&&(this._cache.delete(R.schema),delete F[J]))}}_addSchema(F,z,J,R=this.opts.validateSchema,C=this.opts.addUsedSchema){let q;const{schemaId:oe}=this.opts;if(typeof F=="object")q=F[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof F!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(F);if(X!==void 0)return X;J=(0,l.normalizeId)(q||J);const ee=l.getSchemaRefs.call(this,F,J);return X=new s.SchemaEnv({schema:F,schemaId:oe,meta:z,baseId:J,localRefs:ee}),this._cache.set(X.schema,X),C&&!J.startsWith("#")&&(J&&this._checkUnique(J),this.refs[J]=X),R&&this.validateSchema(F,!0),X}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):s.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const z=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,F)}finally{this.opts=z}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function T(F,z,J,R="error"){for(const C in F){const q=C;q in z&&this.logger[R](`${J}: option ${C}. ${F[q]}`)}}function x(F){return F=(0,l.normalizeId)(F),this.schemas[F]||this.refs[F]}function d(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const z in F)this.addSchema(F[z],z)}function $(){for(const F in this.opts.formats){const z=this.opts.formats[F];z&&this.addFormat(F,z)}}function O(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in F){const J=F[z];J.keyword||(J.keyword=z),this.addKeyword(J)}}function P(){const F={...this.opts};for(const z of g)delete F[z];return F}var k={log(){},warn(){},error(){}};function B(F){if(F===!1)return k;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}var K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(F,z){const{RULES:J}=this;if((0,f.eachItem)(F,R=>{if(J.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!K.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function W(F,z,J){var R;const C=z==null?void 0:z.post;if(J&&C)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=C?q.post:q.rules.find(({type:ee})=>ee===J);if(oe||(oe={type:J,rules:[]},q.rules.push(oe)),q.keywords[F]=!0,!z)return;const X={keyword:F,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,oe,X,z.before):oe.rules.push(X),q.all[F]=X,(R=z.implements)===null||R===void 0||R.forEach(ee=>this.addKeyword(ee))}function ne(F,z,J){const R=F.rules.findIndex(C=>C.keyword===J);R>=0?F.rules.splice(R,0,z):(F.rules.push(z),this.logger.warn(`rule ${J} is not defined`))}function fe(F){let{metaSchema:z}=F;z!==void 0&&(F.$data&&this.opts.$data&&(z=le(z)),F.validateSchema=this.compile(z,!0))}var re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function le(F){return{anyOf:[F,re]}}}}),fme=Le({"../core/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),dme=Le({"../core/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=E2(),r=ru(),n=tn(),i=bd(),o=S2(),s=En(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return T();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return x(S);return d(S);function T(){if(_===y)return u(f,v,_,_.$async);const $=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${$}.validate`,y,y.$async)}function x($){const O=l(f,$);u(f,O,$,$.$async)}function d($){const O=c.scopeValue("schema",h.code.source===!0?{ref:$,code:(0,n.stringify)($)}:{ref:$}),P=c.name("valid"),k=f.subschema({schema:$,dataTypes:[],schemaPath:n.nil,topSchemaRef:O,errSchemaPath:p},P);f.mergeEvaluated(k),f.ok(P)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():T();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const $=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign($,!0)},O=>{g.if((0,n._)`!(${O} instanceof ${_.ValidationError})`,()=>g.throw(O)),x(O),v||g.assign($,!1)}),f.ok($)}function T(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>x(c))}function x($){const O=(0,n._)`${$}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${O} : ${i.default.vErrors}.concat(${O})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d($){var O;if(!_.opts.unevaluated)return;const P=(O=p==null?void 0:p.validate)===null||O===void 0?void 0:O.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=s.mergeEvaluated.props(g,P.props,_.props));else{const k=g.var("props",(0,n._)`${$}.evaluated.props`);_.props=s.mergeEvaluated.props(g,k,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=s.mergeEvaluated.items(g,P.items,_.items));else{const k=g.var("items",(0,n._)`${$}.evaluated.items`);_.items=s.mergeEvaluated.items(g,k,_.items,n.Name)}}}e.callRef=u,e.default=a}}),hme=Le({"../core/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=fme(),r=dme(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),pme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),mme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),gme=Le({"../core/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),vme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n=gme(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),yme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=tn(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${s})`)}};e.default=i}}),wme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),bme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=tn(),n=En(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:p}=s,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const T of l)if((y==null?void 0:y[T])===void 0&&!S.has(T)){const x=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${T}" is not defined at "${x}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function h(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),_me=Le({"../core/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),T2=Le({"../core/node_modules/ajv/dist/runtime/equal.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=og();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),Eme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=zS(),r=tn(),n=En(),i=T2(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];a.block$data(_,h,(0,r._)`${m} === false`),a.ok(_);function h(){const T=l.let("i",(0,r._)`${u}.length`),x=l.let("j");a.setParams({i:T,j:x}),l.assign(_,!0),l.if((0,r._)`${T} > 1`,()=>(E()?y:S)(T,x))}function E(){return v.length>0&&!v.some(T=>T==="object"||T==="array")}function y(T,x){const d=l.name("item"),$=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),O=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${T}--;`,()=>{l.let(d,(0,r._)`${u}[${T}]`),l.if($,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${O}[${d}] == "number"`,()=>{l.assign(x,(0,r._)`${O}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${O}[${d}] = ${T}`)})}function S(T,x){const d=(0,n.useFunc)(l,i.default),$=l.name("outer");l.label($).for((0,r._)`;${T}--;`,()=>l.for((0,r._)`${x} = ${T}; ${x}--;`,()=>l.if((0,r._)`${d}(${u}[${T}], ${u}[${x}])`,()=>{a.error(),l.assign(_,!1).break($)})))}}};e.default=s}}),Sme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n=T2(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),Tme=Le({"../core/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n=T2(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:p}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,T)=>E(y,T)))}s.pass(v);function h(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const T=f[S];return typeof T=="object"&&T!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${T}`}}};e.default=o}}),$me=Le({"../core/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=pme(),r=mme(),n=vme(),i=yme(),o=wme(),s=bme(),a=_me(),l=Eme(),u=Sme(),f=Tme(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),BG=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=tn(),r=En(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:p}=s;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),UG=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=tn(),r=En(),n=ru(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:p,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,T=S===h.minItems&&(S===h.maxItems||h[a]===!1);if(E.strictTuples&&!T){const x=`"${p}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,x,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),xme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=UG(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),Ame=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n=ru(),i=BG(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),Ome=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=s.name("valid");p===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),p!==void 0&&s.if((0,t._)`${u}.length > 0`,h)):(s.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=s.name("_valid"),T=s.let("count",0);E(S,()=>s.if(S,()=>y(T)))}function E(S,T){s.forRange("i",0,_,x=>{o.subschema({keyword:"contains",dataProp:x,dataPropType:r.Type.Num,compositeRule:!0},S),T()})}function y(S){s.code((0,t._)`${S}++`),p===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${p}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),Pme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=tn(),r=En(),n=ru();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),Rme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),zG=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=tn(),n=bd(),i=En(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=a;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?T(d):l.if(y(d),()=>T(d))})}function y(d){let $;if(v.length>8){const O=(0,i.schemaRefOrVal)(m,f.properties,"properties");$=(0,t.isOwnProperty)(l,O,d)}else v.length?$=(0,r.or)(...v.map(O=>(0,r._)`${d} === ${O}`)):$=r.nil;return h.length&&($=(0,r.or)($,...h.map(O=>(0,r._)`${(0,t.usePattern)(a,O)}.test(${d})`))),(0,r.not)($)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function T(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const $=l.name("valid");_.removeAdditional==="failing"?(x(d,$,!1),l.if((0,r.not)($),()=>{a.reset(),S(d)})):(x(d,$),g||l.if((0,r.not)($),()=>l.break()))}}function x(d,$,O){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};O===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(P,$)}}};e.default=s}}),Nme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=dT(),r=ru(),n=En(),i=zG(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=a.name("valid");for(const h of m)_(h)?v(h):(a.if((0,r.propertyInData)(a,f,h,c.opts.ownProperties)),v(h),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(h),s.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){s.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),Ime=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r=tn(),n=En(),i=En(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter(T=>(0,n.alwaysValidSchema)(c,l[T]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:h}=c;E();function E(){for(const T of m)_&&y(T),c.allErrors?S(T):(a.var(v,!0),S(T),a.if(v))}function y(T){for(const x in _)new RegExp(T).test(x)&&(0,n.checkStrictMode)(c,`property ${x} matches pattern ${T} (use allowMatchingProperties)`)}function S(T){a.forIn("key",u,x=>{a.if((0,r._)`${(0,t.usePattern)(s,T)}.test(${x})`,()=>{const d=g.includes(T);d||s.subschema({keyword:"patternProperties",schemaProp:T,dataProp:x,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?a.assign((0,r._)`${h}[${x}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),Cme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=En(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),kme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ru(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),jme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),p=s.let("passing",null),m=s.name("_valid");o.setParams({passing:p}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),Dme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=En(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),Mme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=En(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(p,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,h){return()=>{const E=s.subschema({keyword:v},m);a.assign(p,m),s.mergeValidEvaluated(E,p),h?a.assign(h,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),Lme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=En(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Fme=Le({"../core/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=BG(),r=xme(),n=UG(),i=Ame(),o=Ome(),s=Pme(),a=Rme(),l=zG(),u=Nme(),f=Ime(),c=Cme(),p=kme(),m=jme(),g=Dme(),_=Mme(),v=Lme();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),Bme=Le({"../core/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),T=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign(T,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign(T,y)),i.fail$data((0,t.or)(x(),d()));function x(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${T}`}function d(){const $=g.$async?(0,t._)`(${y}.async ? await ${T}(${a}) : ${T}(${a}))`:(0,t._)`${T}(${a})`,O=(0,t._)`(typeof ${T} == "function" ? ${$} : ${T}.test(${a}))`;return(0,t._)`${T} && ${T} !== true && ${S} === ${o} && !${O}`}}function h(){const E=_.formats[u];if(!E){x();return}if(E===!0)return;const[y,S,T]=d(E);y===o&&i.pass($());function x(){if(p.strictSchema===!1){_.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(O){const P=O instanceof RegExp?(0,t.regexpCode)(O):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,k=s.scopeValue("formats",{key:u,ref:O,code:P});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${k}.validate`]:["string",O,k]}function $(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${T}(${a})`}return typeof S=="function"?(0,t._)`${T}(${a})`:(0,t._)`${T}.test(${a})`}}}};e.default=n}}),Ume=Le({"../core/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Bme(),r=[t.default];e.default=r}}),zme=Le({"../core/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),qme=Le({"../core/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=hme(),r=$me(),n=Fme(),i=Ume(),o=zme(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Vme=Le({"../core/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Hme=Le({"../core/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=tn(),r=Vme(),n=S2(),i=En(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:p}=a,{oneOf:m}=c;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>h(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),a.ok(_);function h(){const S=y();l.if(!1);for(const T in S)l.elseIf((0,t._)`${v} === ${T}`),l.assign(_,E(S[T]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const T=l.name("valid"),x=a.subschema({keyword:"oneOf",schemaProp:S},T);return a.mergeEvaluated(x,t.Name),T}function y(){var S;const T={},x=$(c);let d=!0;for(let k=0;k<m.length;k++){let B=m[k];B!=null&&B.$ref&&!(0,i.schemaHasRulesButRef)(B,p.self.RULES)&&(B=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,B==null?void 0:B.$ref),B instanceof n.SchemaEnv&&(B=B.schema));const K=(S=B==null?void 0:B.properties)===null||S===void 0?void 0:S[g];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(x||$(B)),O(K,k)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return T;function $({required:k}){return Array.isArray(k)&&k.includes(g)}function O(k,B){if(k.const)P(k.const,B);else if(k.enum)for(const K of k.enum)P(K,B);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function P(k,B){if(typeof k!="string"||k in T)throw new Error(`discriminator: "${g}" values must be unique strings`);T[k]=B}}}};e.default=s}}),Wme=Le({"../core/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),qG=Le({"../core/node_modules/ajv/dist/ajv.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=cme(),n=qme(),i=Hme(),o=Wme(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=dT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=tn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=_2();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=E2();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),Gme=Le({"../../node_modules/ajv-formats/dist/formats.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(O,P){return{validate:O,compare:P}}e.fullFormats={date:t(o,s),time:t(l,u),"date-time":t(c,p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:$,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:h,int32:{type:"number",validate:S},int64:{type:"number",validate:T},float:{type:"number",validate:x},double:{type:"number",validate:x},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(O){return O%4===0&&(O%100!==0||O%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(O){const P=n.exec(O);if(!P)return!1;const k=+P[1],B=+P[2],K=+P[3];return B>=1&&B<=12&&K>=1&&K<=(B===2&&r(k)?29:i[B])}function s(O,P){if(O&&P)return O>P?1:O<P?-1:0}var a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(O,P){const k=a.exec(O);if(!k)return!1;const B=+k[1],K=+k[2],ie=+k[3],W=k[5];return(B<=23&&K<=59&&ie<=59||B===23&&K===59&&ie===60)&&(!P||W!=="")}function u(O,P){if(!(O&&P))return;const k=a.exec(O),B=a.exec(P);if(k&&B)return O=k[1]+k[2]+k[3]+(k[4]||""),P=B[1]+B[2]+B[3]+(B[4]||""),O>P?1:O<P?-1:0}var f=/t|\s/i;function c(O){const P=O.split(f);return P.length===2&&o(P[0])&&l(P[1],!0)}function p(O,P){if(!(O&&P))return;const[k,B]=O.split(f),[K,ie]=P.split(f),W=s(k,K);if(W!==void 0)return W||u(B,ie)}var m=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(O){return m.test(O)&&g.test(O)}var v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function h(O){return v.lastIndex=0,v.test(O)}var E=-2147483648,y=2**31-1;function S(O){return Number.isInteger(O)&&O<=y&&O>=E}function T(O){return Number.isInteger(O)}function x(){return!0}var d=/[^\\]\\Z/;function $(O){if(d.test(O))return!1;try{return new RegExp(O),!0}catch{return!1}}}}),qS=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;var o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v}}),VB=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=qS(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:p}=c,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[p];if(g){const h=g.get(m);if(h)return h}else g=this._values[p]=new Map;g.set(m,c);const _=this._scope[p]||(this._scope[p]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:p,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let p=t.nil;for(const m in l){const g=l[m];if(!g)continue;const _=f[m]=f[m]||new Map;g.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let h=u(v);if(h){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${E} ${v} = ${h};${this.opts._n}`}else if(h=c==null?void 0:c(v))p=(0,t._)`${p}${h}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return p}};e.ValueScope=a}}),Kr=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=qS(),r=VB(),n=qS();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=VB();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(R,C){return this}},s=class extends o{constructor(R,C,q){super(),this.varKind=R,this.name=C,this.rhs=q}render({es5:R,_n:C}){const q=R?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${oe};`+C}optimizeNames(R,C){if(R[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,R,C)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(R,C,q){super(),this.lhs=R,this.rhs=C,this.sideEffects=q}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,C){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,R,C),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(R,this.rhs)}},l=class extends a{constructor(R,C,q,oe){super(R,q,oe),this.op=C}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}},u=class extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}},f=class extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}},c=class extends o{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}},p=class extends o{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,C){return this.code=ie(this.code,R,C),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},m=class extends o{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((C,q)=>C+q.render(R),"")}optimizeNodes(){const{nodes:R}=this;let C=R.length;for(;C--;){const q=R[C].optimizeNodes();Array.isArray(q)?R.splice(C,1,...q):q?R[C]=q:R.splice(C,1)}return R.length>0?this:void 0}optimizeNames(R,C){const{nodes:q}=this;let oe=q.length;for(;oe--;){const X=q[oe];X.optimizeNames(R,C)||(W(R,X.names),q.splice(oe,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((R,C)=>B(R,C.names),{})}},g=class extends m{render(R){return"{"+R._n+super.render(R)+"}"+R._n}},_=class extends m{},v=class extends g{};v.kind="else";var h=class EE extends g{constructor(C,q){super(q),this.condition=C}render(C){let q=`if(${this.condition})`+super.render(C);return this.else&&(q+="else "+this.else.render(C)),q}optimizeNodes(){super.optimizeNodes();const C=this.condition;if(C===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return C===!1?q instanceof EE?q:q.nodes:this.nodes.length?this:new EE(ne(C),q instanceof EE?[q]:q.nodes);if(!(C===!1||!this.nodes.length))return this}optimizeNames(C,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(C,q),!!(super.optimizeNames(C,q)||this.else))return this.condition=ie(this.condition,C,q),this}get names(){const C=super.names;return K(C,this.condition),this.else&&B(C,this.else.names),C}};h.kind="if";var E=class extends g{};E.kind="for";var y=class extends E{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,C){if(super.optimizeNames(R,C))return this.iteration=ie(this.iteration,R,C),this}get names(){return B(super.names,this.iteration.names)}},S=class extends E{constructor(R,C,q,oe){super(),this.varKind=R,this.name=C,this.from=q,this.to=oe}render(R){const C=R.es5?r.varKinds.var:this.varKind,{name:q,from:oe,to:X}=this;return`for(${C} ${q}=${oe}; ${q}<${X}; ${q}++)`+super.render(R)}get names(){const R=K(super.names,this.from);return K(R,this.to)}},T=class extends E{constructor(R,C,q,oe){super(),this.loop=R,this.varKind=C,this.name=q,this.iterable=oe}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,C){if(super.optimizeNames(R,C))return this.iterable=ie(this.iterable,R,C),this}get names(){return B(super.names,this.iterable.names)}},x=class extends g{constructor(R,C,q){super(),this.name=R,this.args=C,this.async=q}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}};x.kind="func";var d=class extends m{render(R){return"return "+super.render(R)}};d.kind="return";var $=class extends g{render(R){let C="try"+super.render(R);return this.catch&&(C+=this.catch.render(R)),this.finally&&(C+=this.finally.render(R)),C}optimizeNodes(){var R,C;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(R,C){var q,oe;return super.optimizeNames(R,C),(q=this.catch)===null||q===void 0||q.optimizeNames(R,C),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(R,C),this}get names(){const R=super.names;return this.catch&&B(R,this.catch.names),this.finally&&B(R,this.finally.names),R}},O=class extends g{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}};O.kind="catch";var P=class extends g{render(R){return"finally"+super.render(R)}};P.kind="finally";var k=class{constructor(R,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=R,this._scope=new r.Scope({parent:R}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,C){const q=this._extScope.value(R,C);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(R,C){return this._extScope.getValue(R,C)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,C,q,oe){const X=this._scope.toName(C);return q!==void 0&&oe&&(this._constants[X.str]=q),this._leafNode(new s(R,X,q)),X}const(R,C,q){return this._def(r.varKinds.const,R,C,q)}let(R,C,q){return this._def(r.varKinds.let,R,C,q)}var(R,C,q){return this._def(r.varKinds.var,R,C,q)}assign(R,C,q){return this._leafNode(new a(R,C,q))}add(R,C){return this._leafNode(new l(R,e.operators.ADD,C))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new p(R)),this}object(...R){const C=["{"];for(const[q,oe]of R)C.length>1&&C.push(","),C.push(q),(q!==oe||this.opts.es5)&&(C.push(":"),(0,t.addCodeArg)(C,oe));return C.push("}"),new t._Code(C)}if(R,C,q){if(this._blockNode(new h(R)),C&&q)this.code(C).else().code(q).endIf();else if(C)this.code(C).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new h(R))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(R,C){return this._blockNode(R),C&&this.code(C).endFor(),this}for(R,C){return this._for(new y(R),C)}forRange(R,C,q,oe,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const ee=this._scope.toName(R);return this._for(new S(X,ee,C,q),()=>oe(ee))}forOf(R,C,q,oe=r.varKinds.const){const X=this._scope.toName(R);if(this.opts.es5){const ee=C instanceof t.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,t._)`${ee}.length`,se=>{this.var(X,(0,t._)`${ee}[${se}]`),q(X)})}return this._for(new T("of",oe,X,C),()=>q(X))}forIn(R,C,q,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${C})`,q);const X=this._scope.toName(R);return this._for(new T("in",oe,X,C),()=>q(X))}endFor(){return this._endBlockNode(E)}label(R){return this._leafNode(new u(R))}break(R){return this._leafNode(new f(R))}return(R){const C=new d;if(this._blockNode(C),this.code(R),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(R,C,q){if(!C&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new $;if(this._blockNode(oe),this.code(R),C){const X=this.name("e");this._currNode=oe.catch=new O(X),C(X)}return q&&(this._currNode=oe.finally=new P,this.code(q)),this._endBlockNode(O,P)}throw(R){return this._leafNode(new c(R))}block(R,C){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(C),this}endBlock(R){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-C;if(q<0||R!==void 0&&q!==R)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${R} expected`);return this._nodes.length=C,this}func(R,C=t.nil,q,oe){return this._blockNode(new x(R,C,q)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,C){const q=this._currNode;if(q instanceof R||C&&q instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${R.kind}/${C.kind}`:R.kind}"`)}_elseNode(R){const C=this._currNode;if(!(C instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const C=this._nodes;C[C.length-1]=R}};e.CodeGen=k;function B(R,C){for(const q in C)R[q]=(R[q]||0)+(C[q]||0);return R}function K(R,C){return C instanceof t._CodeOrName?B(R,C.names):R}function ie(R,C,q){if(R instanceof t.Name)return oe(R);if(!X(R))return R;return new t._Code(R._items.reduce((ee,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?ee.push(...se._items):ee.push(se),ee),[]));function oe(ee){const se=q[ee.str];return se===void 0||C[ee.str]!==1?ee:(delete C[ee.str],se)}function X(ee){return ee instanceof t._Code&&ee._items.some(se=>se instanceof t.Name&&C[se.str]===1&&q[se.str]!==void 0)}}function W(R,C){for(const q in C)R[q]=(R[q]||0)-(C[q]||0)}function ne(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,t._)`!${J(R)}`}e.not=ne;var fe=z(e.operators.AND);function re(...R){return R.reduce(fe)}e.and=re;var le=z(e.operators.OR);function F(...R){return R.reduce(le)}e.or=F;function z(R){return(C,q)=>C===t.nil?q:q===t.nil?C:(0,t._)`${J(C)} ${R} ${J(q)}`}function J(R){return R instanceof t.Name?R:(0,t._)`(${R})`}}}),Sn=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=Kr(),r=qS();function n(x){const d={};for(const $ of x)d[$]=!0;return d}e.toHash=n;function i(x,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(x,d),!s(d,x.self.RULES.all))}e.alwaysValidSchema=i;function o(x,d=x.schema){const{opts:$,self:O}=x;if(!$.strictSchema||typeof d=="boolean")return;const P=O.RULES.keywords;for(const k in d)P[k]||T(x,`unknown keyword: "${k}"`)}e.checkUnknownRules=o;function s(x,d){if(typeof x=="boolean")return!x;for(const $ in x)if(d[$])return!0;return!1}e.schemaHasRules=s;function a(x,d){if(typeof x=="boolean")return!x;for(const $ in x)if($!=="$ref"&&d.all[$])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:x,schemaPath:d},$,O,P){if(!P){if(typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="string")return(0,t._)`${$}`}return(0,t._)`${x}${d}${(0,t.getProperty)(O)}`}e.schemaRefOrVal=l;function u(x){return p(decodeURIComponent(x))}e.unescapeFragment=u;function f(x){return encodeURIComponent(c(x))}e.escapeFragment=f;function c(x){return typeof x=="number"?`${x}`:x.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function p(x){return x.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=p;function m(x,d){if(Array.isArray(x))for(const $ of x)d($);else d(x)}e.eachItem=m;function g({mergeNames:x,mergeToName:d,mergeValues:$,resultToName:O}){return(P,k,B,K)=>{const ie=B===void 0?k:B instanceof t.Name?(k instanceof t.Name?x(P,k,B):d(P,k,B),B):k instanceof t.Name?(d(P,B,k),k):$(k,B);return K===t.Name&&!(ie instanceof t.Name)?O(P,ie):ie}}e.mergeEvaluated={props:g({mergeNames:(x,d,$)=>x.if((0,t._)`${$} !== true && ${d} !== undefined`,()=>{x.if((0,t._)`${d} === true`,()=>x.assign($,!0),()=>x.assign($,(0,t._)`${$} || {}`).code((0,t._)`Object.assign(${$}, ${d})`))}),mergeToName:(x,d,$)=>x.if((0,t._)`${$} !== true`,()=>{d===!0?x.assign($,!0):(x.assign($,(0,t._)`${$} || {}`),v(x,$,d))}),mergeValues:(x,d)=>x===!0?!0:{...x,...d},resultToName:_}),items:g({mergeNames:(x,d,$)=>x.if((0,t._)`${$} !== true && ${d} !== undefined`,()=>x.assign($,(0,t._)`${d} === true ? true : ${$} > ${d} ? ${$} : ${d}`)),mergeToName:(x,d,$)=>x.if((0,t._)`${$} !== true`,()=>x.assign($,d===!0?!0:(0,t._)`${$} > ${d} ? ${$} : ${d}`)),mergeValues:(x,d)=>x===!0?!0:Math.max(x,d),resultToName:(x,d)=>x.var("items",d)})};function _(x,d){if(d===!0)return x.var("props",!0);const $=x.var("props",(0,t._)`{}`);return d!==void 0&&v(x,$,d),$}e.evaluatedPropsToName=_;function v(x,d,$){Object.keys($).forEach(O=>x.assign((0,t._)`${d}${(0,t.getProperty)(O)}`,!0))}e.setEvaluated=v;var h={};function E(x,d){return x.scopeValue("func",{ref:d,code:h[d.code]||(h[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(x){x[x.Num=0]="Num",x[x.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(x,d,$){if(x instanceof t.Name){const O=d===y.Num;return $?O?(0,t._)`"[" + ${x} + "]"`:(0,t._)`"['" + ${x} + "']"`:O?(0,t._)`"/" + ${x}`:(0,t._)`"/" + ${x}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,t.getProperty)(x).toString():"/"+c(x)}e.getErrorPath=S;function T(x,d,$=x.opts.strictSchema){if($){if(d=`strict mode: ${d}`,$===!0)throw new Error(d);x.self.logger.warn(d)}}e.checkStrictMode=T}}),_d=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),hT=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=Kr(),r=Sn(),n=_d();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:x,allErrors:d}=S,$=c(v,h,E);y??(x||d)?l(T,$):u(S,(0,t._)`[${$}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:x}=y,d=c(v,h,E);l(S,d),T||x||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const x=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(x,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${x}.instancePath === undefined`,()=>v.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${h}`),T.opts.verbose&&(v.assign((0,t._)`${x}.schema`,E),v.assign((0,t._)`${x}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,h,T),y.object(...T)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:T,schemaValue:x,it:d}=v,{opts:$,propertyName:O,topSchemaRef:P,schemaPath:k}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),$.messages&&y.push([f.message,typeof E=="function"?E(v):E]),$.verbose&&y.push([f.schema,x],[f.parentSchema,(0,t._)`${P}${k}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}}}),Kme=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=hT(),r=Kr(),n=_d(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,p={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(p,i,void 0,u)}}}),VG=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),HG=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),VS=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=VG(),r=HG(),n=hT(),i=Kr(),o=Sn(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:T,data:x,opts:d}=y,$=c(S,d.coerceTypes),O=S.length>0&&!($.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(O){const P=_(S,x,d.strictNumbers,s.Wrong);T.if(P,()=>{$.length?p(y,S,$):h(y)})}return O}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter(T=>f.has(T)||S==="array"&&T==="array"):[]}function p(y,S,T){const{gen:x,data:d,opts:$}=y,O=x.let("dataType",(0,i._)`typeof ${d}`),P=x.let("coerced",(0,i._)`undefined`);$.coerceTypes==="array"&&x.if((0,i._)`${O} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>x.assign(d,(0,i._)`${d}[0]`).assign(O,(0,i._)`typeof ${d}`).if(_(S,d,$.strictNumbers),()=>x.assign(P,d))),x.if((0,i._)`${P} !== undefined`);for(const B of T)(f.has(B)||B==="array"&&$.coerceTypes==="array")&&k(B);x.else(),h(y),x.endIf(),x.if((0,i._)`${P} !== undefined`,()=>{x.assign(d,P),m(y,P)});function k(B){switch(B){case"string":x.elseIf((0,i._)`${O} == "number" || ${O} == "boolean"`).assign(P,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(P,(0,i._)`""`);return;case"number":x.elseIf((0,i._)`${O} == "boolean" || ${d} === null
              || (${O} == "string" && ${d} && ${d} == +${d})`).assign(P,(0,i._)`+${d}`);return;case"integer":x.elseIf((0,i._)`${O} === "boolean" || ${d} === null
              || (${O} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(P,(0,i._)`+${d}`);return;case"boolean":x.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(P,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(P,!0);return;case"null":x.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),x.assign(P,null);return;case"array":x.elseIf((0,i._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${d} === null`).assign(P,(0,i._)`[${d}]`)}}}function m({gen:y,parentData:S,parentDataProperty:T},x){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${T}]`,x))}function g(y,S,T,x=s.Correct){const d=x===s.Correct?i.operators.EQ:i.operators.NEQ;let $;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":$=(0,i._)`Array.isArray(${S})`;break;case"object":$=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":$=O((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":$=O();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return x===s.Correct?$:(0,i.not)($);function O(P=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,P,T?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=g;function _(y,S,T,x){if(y.length===1)return g(y[0],S,T,x);let d;const $=(0,o.toHash)(y);if($.array&&$.object){const O=(0,i._)`typeof ${S} != "object"`;d=$.null?O:(0,i._)`!${S} || ${O}`,delete $.null,delete $.array,delete $.object}else d=i.nil;$.number&&delete $.integer;for(const O in $)d=(0,i.and)(d,g(O,S,T,x));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function h(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=h;function E(y){const{gen:S,data:T,schema:x}=y,d=(0,o.schemaRefOrVal)(y,x,"type");return{gen:S,keyword:"type",data:T,schema:x.type,schemaCode:d,schemaValue:d,parentSchema:x,params:{},it:y}}}}),Jme=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=Kr(),r=Sn();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;c.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,t._)`${p} = ${(0,t.stringify)(a)}`)}}}),nu=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=Kr(),r=Sn(),n=_d(),i=Sn();function o(y,S){const{gen:T,data:x,it:d}=y;T.if(c(T,x,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:T}},x,d){return(0,t.or)(...x.map($=>(0,t.and)(c(y,S,$,T.ownProperties),(0,t._)`${d} = ${$}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,T){return(0,t._)`${l(y)}.call(${S}, ${T})`}e.isOwnProperty=u;function f(y,S,T,x){const d=(0,t._)`${S}${(0,t.getProperty)(T)} !== undefined`;return x?(0,t._)`${d} && ${u(y,S,T)}`:d}e.propertyInData=f;function c(y,S,T,x){const d=(0,t._)`${S}${(0,t.getProperty)(T)} === undefined`;return x?(0,t.or)(d,(0,t.not)(u(y,S,T))):d}e.noPropertyInData=c;function p(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=p;function m(y,S){return p(S).filter(T=>!(0,r.alwaysValidSchema)(y,S[T]))}e.schemaProperties=m;function g({schemaCode:y,data:S,it:{gen:T,topSchemaRef:x,schemaPath:d,errorPath:$},it:O},P,k,B){const K=B?(0,t._)`${y}, ${S}, ${x}${d}`:S,ie=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)],[n.default.parentData,O.parentData],[n.default.parentDataProperty,O.parentDataProperty],[n.default.rootData,n.default.rootData]];O.opts.dynamicRef&&ie.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const W=(0,t._)`${K}, ${T.object(...ie)}`;return k!==t.nil?(0,t._)`${P}.call(${k}, ${W})`:(0,t._)`${P}(${W})`}e.callValidateCode=g;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},T){const x=S.unicodeRegExp?"u":"",{regExp:d}=S.code,$=d(T,x);return y.scopeValue("pattern",{key:$.toString(),ref:$,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${T}, ${x})`})}e.usePattern=v;function h(y){const{gen:S,data:T,keyword:x,it:d}=y,$=S.name("valid");if(d.allErrors){const P=S.let("valid",!0);return O(()=>S.assign(P,!1)),P}return S.var($,!0),O(()=>S.break()),$;function O(P){const k=S.const("len",(0,t._)`${T}.length`);S.forRange("i",0,k,B=>{y.subschema({keyword:x,dataProp:B,dataPropType:r.Type.Num},$),S.if((0,t.not)($),P)})}}e.validateArray=h;function E(y){const{gen:S,schema:T,keyword:x,it:d}=y;if(!Array.isArray(T))throw new Error("ajv implementation error");if(T.some(k=>(0,r.alwaysValidSchema)(d,k))&&!d.opts.unevaluated)return;const O=S.let("valid",!1),P=S.name("_valid");S.block(()=>T.forEach((k,B)=>{const K=y.subschema({keyword:x,schemaProp:B,compositeRule:!0},P);S.assign(O,(0,t._)`${O} || ${P}`),y.mergeValidEvaluated(K,P)||S.if((0,t.not)(O))})),y.result(O,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Yme=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=Kr(),r=_d(),n=nu(),i=hT();function o(m,g){const{gen:_,keyword:v,schema:h,parentSchema:E,it:y}=m,S=g.macro.call(y.self,h,E,y),T=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const x=_.name("valid");m.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:T,compositeRule:!0},x),m.pass(x,()=>m.error(!0))}e.macroKeywordCode=o;function s(m,g){var _;const{gen:v,keyword:h,schema:E,parentSchema:y,$data:S,it:T}=m;u(T,g);const x=!S&&g.compile?g.compile.call(T.self,E,y,T):g.validate,d=f(v,h,x),$=v.let("valid");m.block$data($,O),m.ok((_=g.valid)!==null&&_!==void 0?_:$);function O(){if(g.errors===!1)B(),g.modifying&&a(m),K(()=>m.error());else{const ie=g.async?P():k();g.modifying&&a(m),K(()=>l(m,ie))}}function P(){const ie=v.let("ruleErrs",null);return v.try(()=>B((0,t._)`await `),W=>v.assign($,!1).if((0,t._)`${W} instanceof ${T.ValidationError}`,()=>v.assign(ie,(0,t._)`${W}.errors`),()=>v.throw(W))),ie}function k(){const ie=(0,t._)`${d}.errors`;return v.assign(ie,null),B(t.nil),ie}function B(ie=g.async?(0,t._)`await `:t.nil){const W=T.opts.passContext?r.default.this:r.default.self,ne=!("compile"in g&&!S||g.schema===!1);v.assign($,(0,t._)`${ie}${(0,n.callValidateCode)(m,d,W,ne)}`,g.modifying)}function K(ie){var W;v.if((0,t.not)((W=g.valid)!==null&&W!==void 0?W:$),ie)}}e.funcKeywordCode=s;function a(m){const{gen:g,data:_,it:v}=m;g.if(v.parentData,()=>g.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(m,g){const{gen:_}=m;_.if((0,t._)`Array.isArray(${g})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${g} : ${r.default.vErrors}.concat(${g})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(m)},()=>m.error())}function u({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,g,_){if(_===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(m,g,_=!1){return!g.length||g.some(v=>v==="array"?Array.isArray(m):v==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==v||_&&typeof m>"u")}e.validSchemaType=c;function p({schema:m,opts:g,self:_,errSchemaPath:v},h,E){if(Array.isArray(h.keyword)?!h.keyword.includes(E):h.keyword!==E)throw new Error("ajv implementation error");const y=h.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(m,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(h.validateSchema&&!h.validateSchema(m[E])){const T=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(h.validateSchema.errors);if(g.validateSchema==="log")_.logger.error(T);else throw new Error(T)}}e.validateKeywordUsage=p}}),Xme=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=Kr(),r=Sn();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:p}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const m=s.schema[a];return l===void 0?{schema:m,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:m[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:p,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:p}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:h}=a,E=m.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);g(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,h.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);g(_),p!==void 0&&(s.propertyName=p)}c&&(s.dataTypes=c);function g(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Qme=Le({"../../node_modules/ajv-formats/node_modules/json-schema-traverse/index.js"(e,t){Ce();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,p,m,g){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,p,m,g);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var h=0;h<v.length;h++)n(o,s,a,v[h],u+"/"+_+"/"+h,f,u,_,l,h)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,p,m,g)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),pT=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Sn(),r=og(),n=Qme(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,h=!0){return typeof v=="boolean"?!0:h===!0?!a(v):h?l(v)<=h:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const h in v){if(s.has(h))return!0;const E=v[h];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let h=0;for(const E in v){if(E==="$ref")return 1/0;if(h++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>h+=l(y)),h===1/0))return 1/0}return h}function u(v,h="",E){E!==!1&&(h=p(h));const y=v.parse(h);return f(v,y)}e.getFullPath=u;function f(v,h){return v.serialize(h).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function p(v){return v?v.replace(c,""):""}e.normalizeId=p;function m(v,h,E){return E=p(E),v.resolve(h,E)}e.resolveUrl=m;var g=/^[a-z_][-a-z0-9._]*$/i;function _(v,h){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=p(v[E]||h),T={"":S},x=u(y,S,!1),d={},$=new Set;return n(v,{allKeys:!0},(k,B,K,ie)=>{if(ie===void 0)return;const W=x+B;let ne=T[ie];typeof k[E]=="string"&&(ne=fe.call(this,k[E])),re.call(this,k.$anchor),re.call(this,k.$dynamicAnchor),T[B]=ne;function fe(le){const F=this.opts.uriResolver.resolve;if(le=p(ne?F(ne,le):le),$.has(le))throw P(le);$.add(le);let z=this.refs[le];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?O(k,z.schema,le):le!==p(W)&&(le[0]==="#"?(O(k,d[le],le),d[le]=k):this.refs[le]=W),le}function re(le){if(typeof le=="string"){if(!g.test(le))throw new Error(`invalid anchor "${le}"`);fe.call(this,`#${le}`)}}}),d;function O(k,B,K){if(B!==void 0&&!r(k,B))throw P(K)}function P(k){return new Error(`reference "${k}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),mT=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Kme(),r=VS(),n=HG(),i=VS(),o=Jme(),s=Yme(),a=Xme(),l=Kr(),u=_d(),f=pT(),c=Sn(),p=hT();function m(I){if(x(I)&&($(I),T(I))){h(I);return}g(I,()=>(0,t.topBoolOrEmptySchema)(I))}e.validateFunctionCode=m;function g({gen:I,validateName:L,schema:M,schemaEnv:Z,opts:ue},de){ue.code.es5?I.func(L,(0,l._)`${u.default.data}, ${u.default.valCxt}`,Z.$async,()=>{I.code((0,l._)`"use strict"; ${y(M,ue)}`),v(I,ue),I.code(de)}):I.func(L,(0,l._)`${u.default.data}, ${_(ue)}`,Z.$async,()=>I.code(y(M,ue)).code(de))}function _(I){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${I.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(I,L){I.if(u.default.valCxt,()=>{I.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),I.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),I.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),I.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),L.dynamicRef&&I.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{I.var(u.default.instancePath,(0,l._)`""`),I.var(u.default.parentData,(0,l._)`undefined`),I.var(u.default.parentDataProperty,(0,l._)`undefined`),I.var(u.default.rootData,u.default.data),L.dynamicRef&&I.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function h(I){const{schema:L,opts:M,gen:Z}=I;g(I,()=>{M.$comment&&L.$comment&&ie(I),k(I),Z.let(u.default.vErrors,null),Z.let(u.default.errors,0),M.unevaluated&&E(I),O(I),W(I)})}function E(I){const{gen:L,validateName:M}=I;I.evaluated=L.const("evaluated",(0,l._)`${M}.evaluated`),L.if((0,l._)`${I.evaluated}.dynamicProps`,()=>L.assign((0,l._)`${I.evaluated}.props`,(0,l._)`undefined`)),L.if((0,l._)`${I.evaluated}.dynamicItems`,()=>L.assign((0,l._)`${I.evaluated}.items`,(0,l._)`undefined`))}function y(I,L){const M=typeof I=="object"&&I[L.schemaId];return M&&(L.code.source||L.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(I,L){if(x(I)&&($(I),T(I))){d(I,L);return}(0,t.boolOrEmptySchema)(I,L)}function T({schema:I,self:L}){if(typeof I=="boolean")return!I;for(const M in I)if(L.RULES.all[M])return!0;return!1}function x(I){return typeof I.schema!="boolean"}function d(I,L){const{schema:M,gen:Z,opts:ue}=I;ue.$comment&&M.$comment&&ie(I),B(I),K(I);const de=Z.const("_errs",u.default.errors);O(I,de),Z.var(L,(0,l._)`${de} === ${u.default.errors}`)}function $(I){(0,c.checkUnknownRules)(I),P(I)}function O(I,L){if(I.opts.jtd)return fe(I,[],!1,L);const M=(0,r.getSchemaTypes)(I.schema),Z=(0,r.coerceAndCheckDataType)(I,M);fe(I,M,!Z,L)}function P(I){const{schema:L,errSchemaPath:M,opts:Z,self:ue}=I;L.$ref&&Z.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(L,ue.RULES)&&ue.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function k(I){const{schema:L,opts:M}=I;L.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(I,"default is ignored in the schema root")}function B(I){const L=I.schema[I.opts.schemaId];L&&(I.baseId=(0,f.resolveUrl)(I.opts.uriResolver,I.baseId,L))}function K(I){if(I.schema.$async&&!I.schemaEnv.$async)throw new Error("async schema in sync schema")}function ie({gen:I,schemaEnv:L,schema:M,errSchemaPath:Z,opts:ue}){const de=M.$comment;if(ue.$comment===!0)I.code((0,l._)`${u.default.self}.logger.log(${de})`);else if(typeof ue.$comment=="function"){const ve=(0,l.str)`${Z}/$comment`,Se=I.scopeValue("root",{ref:L.root});I.code((0,l._)`${u.default.self}.opts.$comment(${de}, ${ve}, ${Se}.schema)`)}}function W(I){const{gen:L,schemaEnv:M,validateName:Z,ValidationError:ue,opts:de}=I;M.$async?L.if((0,l._)`${u.default.errors} === 0`,()=>L.return(u.default.data),()=>L.throw((0,l._)`new ${ue}(${u.default.vErrors})`)):(L.assign((0,l._)`${Z}.errors`,u.default.vErrors),de.unevaluated&&ne(I),L.return((0,l._)`${u.default.errors} === 0`))}function ne({gen:I,evaluated:L,props:M,items:Z}){M instanceof l.Name&&I.assign((0,l._)`${L}.props`,M),Z instanceof l.Name&&I.assign((0,l._)`${L}.items`,Z)}function fe(I,L,M,Z){const{gen:ue,schema:de,data:ve,allErrors:Se,opts:Fe,self:He}=I,{RULES:Ve}=He;if(de.$ref&&(Fe.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(de,Ve))){ue.block(()=>ee(I,"$ref",Ve.all.$ref.definition));return}Fe.jtd||le(I,L),ue.block(()=>{for(const Qe of Ve.rules)ut(Qe);ut(Ve.post)});function ut(Qe){(0,n.shouldUseGroup)(de,Qe)&&(Qe.type?(ue.if((0,i.checkDataType)(Qe.type,ve,Fe.strictNumbers)),re(I,Qe),L.length===1&&L[0]===Qe.type&&M&&(ue.else(),(0,i.reportTypeError)(I)),ue.endIf()):re(I,Qe),Se||ue.if((0,l._)`${u.default.errors} === ${Z||0}`))}}function re(I,L){const{gen:M,schema:Z,opts:{useDefaults:ue}}=I;ue&&(0,o.assignDefaults)(I,L.type),M.block(()=>{for(const de of L.rules)(0,n.shouldUseRule)(Z,de)&&ee(I,de.keyword,de.definition,L.type)})}function le(I,L){I.schemaEnv.meta||!I.opts.strictTypes||(F(I,L),I.opts.allowUnionTypes||z(I,L),J(I,I.dataTypes))}function F(I,L){if(L.length){if(!I.dataTypes.length){I.dataTypes=L;return}L.forEach(M=>{C(I.dataTypes,M)||oe(I,`type "${M}" not allowed by context "${I.dataTypes.join(",")}"`)}),q(I,L)}}function z(I,L){L.length>1&&!(L.length===2&&L.includes("null"))&&oe(I,"use allowUnionTypes to allow union type keyword")}function J(I,L){const M=I.self.RULES.all;for(const Z in M){const ue=M[Z];if(typeof ue=="object"&&(0,n.shouldUseRule)(I.schema,ue)){const{type:de}=ue.definition;de.length&&!de.some(ve=>R(L,ve))&&oe(I,`missing type "${de.join(",")}" for keyword "${Z}"`)}}}function R(I,L){return I.includes(L)||L==="number"&&I.includes("integer")}function C(I,L){return I.includes(L)||L==="integer"&&I.includes("number")}function q(I,L){const M=[];for(const Z of I.dataTypes)C(L,Z)?M.push(Z):L.includes("integer")&&Z==="number"&&M.push("integer");I.dataTypes=M}function oe(I,L){const M=I.schemaEnv.baseId+I.errSchemaPath;L+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(I,L,I.opts.strictTypes)}var X=class{constructor(I,L,M){if((0,s.validateKeywordUsage)(I,L,M),this.gen=I.gen,this.allErrors=I.allErrors,this.keyword=M,this.data=I.data,this.schema=I.schema[M],this.$data=L.$data&&I.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(I,this.schema,M,this.$data),this.schemaType=L.schemaType,this.parentSchema=I.schema,this.params={},this.it=I,this.def=L,this.$data)this.schemaCode=I.gen.const("vSchema",Oe(this.$data,I));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,L.schemaType,L.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(L.schemaType)}`);("code"in L?L.trackErrors:L.errors!==!1)&&(this.errsCount=I.gen.const("_errs",u.default.errors))}result(I,L,M){this.failResult((0,l.not)(I),L,M)}failResult(I,L,M){this.gen.if(I),M?M():this.error(),L?(this.gen.else(),L(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(I,L){this.failResult((0,l.not)(I),void 0,L)}fail(I){if(I===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(I),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(I){if(!this.$data)return this.fail(I);const{schemaCode:L}=this;this.fail((0,l._)`${L} !== undefined && (${(0,l.or)(this.invalid$data(),I)})`)}error(I,L,M){if(L){this.setParams(L),this._error(I,M),this.setParams({});return}this._error(I,M)}_error(I,L){(I?p.reportExtraError:p.reportError)(this,this.def.error,L)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(I){this.allErrors||this.gen.if(I)}setParams(I,L){L?Object.assign(this.params,I):this.params=I}block$data(I,L,M=l.nil){this.gen.block(()=>{this.check$data(I,M),L()})}check$data(I=l.nil,L=l.nil){if(!this.$data)return;const{gen:M,schemaCode:Z,schemaType:ue,def:de}=this;M.if((0,l.or)((0,l._)`${Z} === undefined`,L)),I!==l.nil&&M.assign(I,!0),(ue.length||de.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),I!==l.nil&&M.assign(I,!1)),M.else()}invalid$data(){const{gen:I,schemaCode:L,schemaType:M,def:Z,it:ue}=this;return(0,l.or)(de(),ve());function de(){if(M.length){if(!(L instanceof l.Name))throw new Error("ajv implementation error");const Se=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(Se,L,ue.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function ve(){if(Z.validateSchema){const Se=I.scopeValue("validate$data",{ref:Z.validateSchema});return(0,l._)`!${Se}(${L})`}return l.nil}}subschema(I,L){const M=(0,a.getSubschema)(this.it,I);(0,a.extendSubschemaData)(M,this.it,I),(0,a.extendSubschemaMode)(M,I);const Z={...this.it,...M,items:void 0,props:void 0};return S(Z,L),Z}mergeEvaluated(I,L){const{it:M,gen:Z}=this;M.opts.unevaluated&&(M.props!==!0&&I.props!==void 0&&(M.props=c.mergeEvaluated.props(Z,I.props,M.props,L)),M.items!==!0&&I.items!==void 0&&(M.items=c.mergeEvaluated.items(Z,I.items,M.items,L)))}mergeValidEvaluated(I,L){const{it:M,gen:Z}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return Z.if(L,()=>this.mergeEvaluated(I,l.Name)),!0}};e.KeywordCxt=X;function ee(I,L,M,Z){const ue=new X(I,M,L);"code"in M?M.code(ue,Z):ue.$data&&M.validate?(0,s.funcKeywordCode)(ue,M):"macro"in M?(0,s.macroKeywordCode)(ue,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(ue,M)}var se=/^\/(?:[^~]|~0|~1)*$/,we=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(I,{dataLevel:L,dataNames:M,dataPathArr:Z}){let ue,de;if(I==="")return u.default.rootData;if(I[0]==="/"){if(!se.test(I))throw new Error(`Invalid JSON-pointer: ${I}`);ue=I,de=u.default.rootData}else{const He=we.exec(I);if(!He)throw new Error(`Invalid JSON-pointer: ${I}`);const Ve=+He[1];if(ue=He[2],ue==="#"){if(Ve>=L)throw new Error(Fe("property/index",Ve));return Z[L-Ve]}if(Ve>L)throw new Error(Fe("data",Ve));if(de=M[L-Ve],!ue)return de}let ve=de;const Se=ue.split("/");for(const He of Se)He&&(de=(0,l._)`${de}${(0,l.getProperty)((0,c.unescapeJsonPointer)(He))}`,ve=(0,l._)`${ve} && ${de}`);return ve;function Fe(He,Ve){return`Cannot access ${He} ${Ve} levels up, current level is ${L}`}}e.getData=Oe}}),$2=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),x2=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=pT(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),A2=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=Kr(),r=$2(),n=_d(),i=pT(),o=Sn(),s=mT(),a=class{constructor(h){var E;this.refs={},this.dynamicAnchors={};let y;typeof h.schema=="object"&&(y=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(E=h.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(h){const E=c.call(this,h);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,h.root.baseId),{es5:S,lines:T}=this.opts.code,{ownProperties:x}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:T,ownProperties:x});let $;h.$async&&($=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=d.scopeName("validate");h.validateName=O;const P={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:h.schema,code:(0,t.stringify)(h.schema)}:{ref:h.schema}),validateName:O,ValidationError:$,schema:h.schema,schemaEnv:h,rootId:y,baseId:h.baseId||y,schemaPath:t.nil,errSchemaPath:h.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let k;try{this._compilations.add(h),(0,s.validateFunctionCode)(P),d.optimize(this.opts.code.optimize);const B=d.toString();k=`${d.scopeRefs(n.default.scope)}return ${B}`,this.opts.code.process&&(k=this.opts.code.process(k,h));const ie=new Function(`${n.default.self}`,`${n.default.scope}`,k)(this,this.scope.get());if(this.scope.value(O,{ref:ie}),ie.errors=null,ie.schema=h.schema,ie.schemaEnv=h,h.$async&&(ie.$async=!0),this.opts.code.source===!0&&(ie.source={validateName:O,validateCode:B,scopeValues:d._values}),this.opts.unevaluated){const{props:W,items:ne}=P;ie.evaluated={props:W instanceof t.Name?void 0:W,items:ne instanceof t.Name?void 0:ne,dynamicProps:W instanceof t.Name,dynamicItems:ne instanceof t.Name},ie.source&&(ie.source.evaluated=(0,t.stringify)(ie.evaluated))}return h.validate=ie,h}catch(B){throw delete h.validate,delete h.validateName,k&&this.logger.error("Error compiling schema, function code:",k),B}finally{this._compilations.delete(h)}}e.compileSchema=l;function u(h,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const T=h.refs[y];if(T)return T;let x=m.call(this,h,y);if(x===void 0){const d=(S=h.localRefs)===null||S===void 0?void 0:S[y],{schemaId:$}=this.opts;d&&(x=new a({schema:d,schemaId:$,root:h,baseId:E}))}if(x!==void 0)return h.refs[y]=f.call(this,x)}e.resolveRef=u;function f(h){return(0,i.inlineRef)(h.schema,this.opts.inlineRefs)?h.schema:h.validate?h:l.call(this,h)}function c(h){for(const E of this._compilations)if(p(E,h))return E}e.getCompilingSchema=c;function p(h,E){return h.schema===E.schema&&h.root===E.root&&h.baseId===E.baseId}function m(h,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||g.call(this,h,E)}function g(h,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let T=(0,i.getFullPath)(this.opts.uriResolver,h.baseId,void 0);if(Object.keys(h.schema).length>0&&S===T)return v.call(this,y,h);const x=(0,i.normalizeId)(S),d=this.refs[x]||this.schemas[x];if(typeof d=="string"){const $=g.call(this,h,d);return typeof($==null?void 0:$.schema)!="object"?void 0:v.call(this,y,$)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),x===(0,i.normalizeId)(E)){const{schema:$}=d,{schemaId:O}=this.opts,P=$[O];return P&&(T=(0,i.resolveUrl)(this.opts.uriResolver,T,P)),new a({schema:$,schemaId:O,root:h,baseId:T})}return v.call(this,y,d)}}e.resolveSchema=g;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(h,{baseId:E,schema:y,root:S}){var T;if(((T=h.fragment)===null||T===void 0?void 0:T[0])!=="/")return;for(const $ of h.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const O=y[(0,o.unescapeFragment)($)];if(O===void 0)return;y=O;const P=typeof y=="object"&&y[this.opts.schemaId];!_.has($)&&P&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,P))}let x;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const $=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);x=g.call(this,S,$)}const{schemaId:d}=this.opts;if(x=x||new a({schema:y,schemaId:d,root:S,baseId:E}),x.schema!==x.root.schema)return x}}}),Zme=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),ege=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/uri.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=FG();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),tge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/core.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=mT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Kr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=$2(),i=x2(),o=VG(),s=A2(),a=Kr(),l=pT(),u=VS(),f=Sn(),c=Zme(),p=ege(),m=(F,z)=>new RegExp(F,z);m.code="new RegExp";var g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(F){var z,J,R,C,q,oe,X,ee,se,we,Oe,I,L,M,Z,ue,de,ve,Se,Fe,He,Ve,ut,Qe,Ye;const te=F.strict,j=(z=F.code)===null||z===void 0?void 0:z.optimize,U=j===!0||j===void 0?1:j||0,ce=(R=(J=F.code)===null||J===void 0?void 0:J.regExp)!==null&&R!==void 0?R:m,Te=(C=F.uriResolver)!==null&&C!==void 0?C:p.default;return{strictSchema:(oe=(q=F.strictSchema)!==null&&q!==void 0?q:te)!==null&&oe!==void 0?oe:!0,strictNumbers:(ee=(X=F.strictNumbers)!==null&&X!==void 0?X:te)!==null&&ee!==void 0?ee:!0,strictTypes:(we=(se=F.strictTypes)!==null&&se!==void 0?se:te)!==null&&we!==void 0?we:"log",strictTuples:(I=(Oe=F.strictTuples)!==null&&Oe!==void 0?Oe:te)!==null&&I!==void 0?I:"log",strictRequired:(M=(L=F.strictRequired)!==null&&L!==void 0?L:te)!==null&&M!==void 0?M:!1,code:F.code?{...F.code,optimize:U,regExp:ce}:{optimize:U,regExp:ce},loopRequired:(Z=F.loopRequired)!==null&&Z!==void 0?Z:E,loopEnum:(ue=F.loopEnum)!==null&&ue!==void 0?ue:E,meta:(de=F.meta)!==null&&de!==void 0?de:!0,messages:(ve=F.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Se=F.inlineRefs)!==null&&Se!==void 0?Se:!0,schemaId:(Fe=F.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(He=F.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(Ve=F.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ut=F.validateFormats)!==null&&ut!==void 0?ut:!0,unicodeRegExp:(Qe=F.unicodeRegExp)!==null&&Qe!==void 0?Qe:!0,int32range:(Ye=F.int32range)!==null&&Ye!==void 0?Ye:!0,uriResolver:Te}}var S=class{constructor(F={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,F=this.opts={...F,...y(F)};const{es5:z,lines:J}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:z,lines:J}),this.logger=B(F.logger);const R=F.validateFormats;F.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,F,"NOT SUPPORTED"),T.call(this,h,F,"DEPRECATED","warn"),this._metaOpts=P.call(this),F.formats&&$.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),F.keywords&&O.call(this,F.keywords),typeof F.meta=="object"&&this.addMetaSchema(F.meta),d.call(this),F.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:F,meta:z,schemaId:J}=this.opts;let R=c;J==="id"&&(R={...c},R.id=R.$id,delete R.$id),z&&F&&this.addMetaSchema(R,R[J],!1)}defaultMeta(){const{meta:F,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof F=="object"?F[z]||F:void 0}validate(F,z){let J;if(typeof F=="string"){if(J=this.getSchema(F),!J)throw new Error(`no schema with key or ref "${F}"`)}else J=this.compile(F);const R=J(z);return"$async"in J||(this.errors=J.errors),R}compile(F,z){const J=this._addSchema(F,z);return J.validate||this._compileSchemaEnv(J)}compileAsync(F,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:J}=this.opts;return R.call(this,F,z);async function R(se,we){await C.call(this,se.$schema);const Oe=this._addSchema(se,we);return Oe.validate||q.call(this,Oe)}async function C(se){se&&!this.getSchema(se)&&await R.call(this,{$ref:se},!0)}async function q(se){try{return this._compileSchemaEnv(se)}catch(we){if(!(we instanceof i.default))throw we;return oe.call(this,we),await X.call(this,we.missingSchema),q.call(this,se)}}function oe({missingSchema:se,missingRef:we}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${we} cannot be resolved`)}async function X(se){const we=await ee.call(this,se);this.refs[se]||await C.call(this,we.$schema),this.refs[se]||this.addSchema(we,se,z)}async function ee(se){const we=this._loading[se];if(we)return we;try{return await(this._loading[se]=J(se))}finally{delete this._loading[se]}}}addSchema(F,z,J,R=this.opts.validateSchema){if(Array.isArray(F)){for(const q of F)this.addSchema(q,void 0,J,R);return this}let C;if(typeof F=="object"){const{schemaId:q}=this.opts;if(C=F[q],C!==void 0&&typeof C!="string")throw new Error(`schema ${q} must be string`)}return z=(0,l.normalizeId)(z||C),this._checkUnique(z),this.schemas[z]=this._addSchema(F,J,z,R,!0),this}addMetaSchema(F,z,J=this.opts.validateSchema){return this.addSchema(F,z,!0,J),this}validateSchema(F,z){if(typeof F=="boolean")return!0;let J;if(J=F.$schema,J!==void 0&&typeof J!="string")throw new Error("$schema must be a string");if(J=J||this.opts.defaultMeta||this.defaultMeta(),!J)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(J,F);if(!R&&z){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return R}getSchema(F){let z;for(;typeof(z=x.call(this,F))=="string";)F=z;if(z===void 0){const{schemaId:J}=this.opts,R=new s.SchemaEnv({schema:{},schemaId:J});if(z=s.resolveSchema.call(this,R,F),!z)return;this.refs[F]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(F){if(F instanceof RegExp)return this._removeAllSchemas(this.schemas,F),this._removeAllSchemas(this.refs,F),this;switch(typeof F){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=x.call(this,F);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[F],delete this.refs[F],this}case"object":{const z=F;this._cache.delete(z);let J=F[this.opts.schemaId];return J&&(J=(0,l.normalizeId)(J),delete this.schemas[J],delete this.refs[J]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(F){for(const z of F)this.addKeyword(z);return this}addKeyword(F,z){let J;if(typeof F=="string")J=F,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=J);else if(typeof F=="object"&&z===void 0){if(z=F,J=z.keyword,Array.isArray(J)&&!J.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,J,z),!z)return(0,f.eachItem)(J,C=>W.call(this,C)),this;fe.call(this,z);const R={...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)};return(0,f.eachItem)(J,R.type.length===0?C=>W.call(this,C,R):C=>R.type.forEach(q=>W.call(this,C,R,q))),this}getKeyword(F){const z=this.RULES.all[F];return typeof z=="object"?z.definition:!!z}removeKeyword(F){const{RULES:z}=this;delete z.keywords[F],delete z.all[F];for(const J of z.rules){const R=J.rules.findIndex(C=>C.keyword===F);R>=0&&J.rules.splice(R,1)}return this}addFormat(F,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[F]=z,this}errorsText(F=this.errors,{separator:z=", ",dataVar:J="data"}={}){return!F||F.length===0?"No errors":F.map(R=>`${J}${R.instancePath} ${R.message}`).reduce((R,C)=>R+z+C)}$dataMetaSchema(F,z){const J=this.RULES.all;F=JSON.parse(JSON.stringify(F));for(const R of z){const C=R.split("/").slice(1);let q=F;for(const oe of C)q=q[oe];for(const oe in J){const X=J[oe];if(typeof X!="object")continue;const{$data:ee}=X.definition,se=q[oe];ee&&se&&(q[oe]=le(se))}}return F}_removeAllSchemas(F,z){for(const J in F){const R=F[J];(!z||z.test(J))&&(typeof R=="string"?delete F[J]:R&&!R.meta&&(this._cache.delete(R.schema),delete F[J]))}}_addSchema(F,z,J,R=this.opts.validateSchema,C=this.opts.addUsedSchema){let q;const{schemaId:oe}=this.opts;if(typeof F=="object")q=F[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof F!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(F);if(X!==void 0)return X;J=(0,l.normalizeId)(q||J);const ee=l.getSchemaRefs.call(this,F,J);return X=new s.SchemaEnv({schema:F,schemaId:oe,meta:z,baseId:J,localRefs:ee}),this._cache.set(X.schema,X),C&&!J.startsWith("#")&&(J&&this._checkUnique(J),this.refs[J]=X),R&&this.validateSchema(F,!0),X}_checkUnique(F){if(this.schemas[F]||this.refs[F])throw new Error(`schema with key or id "${F}" already exists`)}_compileSchemaEnv(F){if(F.meta?this._compileMetaSchema(F):s.compileSchema.call(this,F),!F.validate)throw new Error("ajv implementation error");return F.validate}_compileMetaSchema(F){const z=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,F)}finally{this.opts=z}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function T(F,z,J,R="error"){for(const C in F){const q=C;q in z&&this.logger[R](`${J}: option ${C}. ${F[q]}`)}}function x(F){return F=(0,l.normalizeId)(F),this.schemas[F]||this.refs[F]}function d(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const z in F)this.addSchema(F[z],z)}function $(){for(const F in this.opts.formats){const z=this.opts.formats[F];z&&this.addFormat(F,z)}}function O(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in F){const J=F[z];J.keyword||(J.keyword=z),this.addKeyword(J)}}function P(){const F={...this.opts};for(const z of g)delete F[z];return F}var k={log(){},warn(){},error(){}};function B(F){if(F===!1)return k;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}var K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(F,z){const{RULES:J}=this;if((0,f.eachItem)(F,R=>{if(J.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!K.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function W(F,z,J){var R;const C=z==null?void 0:z.post;if(J&&C)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=C?q.post:q.rules.find(({type:ee})=>ee===J);if(oe||(oe={type:J,rules:[]},q.rules.push(oe)),q.keywords[F]=!0,!z)return;const X={keyword:F,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,oe,X,z.before):oe.rules.push(X),q.all[F]=X,(R=z.implements)===null||R===void 0||R.forEach(ee=>this.addKeyword(ee))}function ne(F,z,J){const R=F.rules.findIndex(C=>C.keyword===J);R>=0?F.rules.splice(R,0,z):(F.rules.push(z),this.logger.warn(`rule ${J} is not defined`))}function fe(F){let{metaSchema:z}=F;z!==void 0&&(F.$data&&this.opts.$data&&(z=le(z)),F.validateSchema=this.compile(z,!0))}var re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function le(F){return{anyOf:[F,re]}}}}),rge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),nge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=x2(),r=nu(),n=Kr(),i=_d(),o=A2(),s=Sn(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:p,it:m}=f,{baseId:g,schemaEnv:_,validateName:v,opts:h,self:E}=m,{root:y}=_;if((p==="#"||p==="#/")&&g===y.baseId)return T();const S=o.resolveRef.call(E,y,g,p);if(S===void 0)throw new t.default(m.opts.uriResolver,g,p);if(S instanceof o.SchemaEnv)return x(S);return d(S);function T(){if(_===y)return u(f,v,_,_.$async);const $=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${$}.validate`,y,y.$async)}function x($){const O=l(f,$);u(f,O,$,$.$async)}function d($){const O=c.scopeValue("schema",h.code.source===!0?{ref:$,code:(0,n.stringify)($)}:{ref:$}),P=c.name("valid"),k=f.subschema({schema:$,dataTypes:[],schemaPath:n.nil,topSchemaRef:O,errSchemaPath:p},P);f.mergeEvaluated(k),f.ok(P)}}};function l(f,c){const{gen:p}=f;return c.validate?p.scopeValue("validate",{ref:c.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,p,m){const{gen:g,it:_}=f,{allErrors:v,schemaEnv:h,opts:E}=_,y=E.passContext?i.default.this:n.nil;m?S():T();function S(){if(!h.$async)throw new Error("async schema referenced by sync schema");const $=g.let("valid");g.try(()=>{g.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||g.assign($,!0)},O=>{g.if((0,n._)`!(${O} instanceof ${_.ValidationError})`,()=>g.throw(O)),x(O),v||g.assign($,!1)}),f.ok($)}function T(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>x(c))}function x($){const O=(0,n._)`${$}.errors`;g.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${O} : ${i.default.vErrors}.concat(${O})`),g.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d($){var O;if(!_.opts.unevaluated)return;const P=(O=p==null?void 0:p.validate)===null||O===void 0?void 0:O.evaluated;if(_.props!==!0)if(P&&!P.dynamicProps)P.props!==void 0&&(_.props=s.mergeEvaluated.props(g,P.props,_.props));else{const k=g.var("props",(0,n._)`${$}.evaluated.props`);_.props=s.mergeEvaluated.props(g,k,_.props,n.Name)}if(_.items!==!0)if(P&&!P.dynamicItems)P.items!==void 0&&(_.items=s.mergeEvaluated.items(g,P.items,_.items));else{const k=g.var("items",(0,n._)`${$}.evaluated.items`);_.items=s.mergeEvaluated.items(g,k,_.items,n.Name)}}}e.callRef=u,e.default=a}}),ige=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=rge(),r=nge(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),oge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),sge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),age=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),lge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n=age(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${p} ${c} ${u}`)}};e.default=o}}),uge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Kr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",p=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${p}.test(${s})`)}};e.default=i}}),cge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),fge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Kr(),n=Sn(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:p}=s,{opts:m}=p;if(!c&&l.length===0)return;const g=l.length>=m.loopRequired;if(p.allErrors?_():v(),m.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const T of l)if((y==null?void 0:y[T])===void 0&&!S.has(T)){const x=p.schemaEnv.baseId+p.errSchemaPath,d=`required property "${T}" is not defined at "${x}" (strictRequired)`;(0,n.checkStrictMode)(p,d,p.opts.strictRequired)}}function _(){if(g||c)s.block$data(r.nil,h);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(g||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function h(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,m.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,m.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),dge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),O2=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=og();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),hge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=VS(),r=Kr(),n=Sn(),i=O2(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:p,schemaCode:m,it:g}=a;if(!f&&!c)return;const _=l.let("valid"),v=p.items?(0,t.getSchemaTypes)(p.items):[];a.block$data(_,h,(0,r._)`${m} === false`),a.ok(_);function h(){const T=l.let("i",(0,r._)`${u}.length`),x=l.let("j");a.setParams({i:T,j:x}),l.assign(_,!0),l.if((0,r._)`${T} > 1`,()=>(E()?y:S)(T,x))}function E(){return v.length>0&&!v.some(T=>T==="object"||T==="array")}function y(T,x){const d=l.name("item"),$=(0,t.checkDataTypes)(v,d,g.opts.strictNumbers,t.DataType.Wrong),O=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${T}--;`,()=>{l.let(d,(0,r._)`${u}[${T}]`),l.if($,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${O}[${d}] == "number"`,()=>{l.assign(x,(0,r._)`${O}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${O}[${d}] = ${T}`)})}function S(T,x){const d=(0,n.useFunc)(l,i.default),$=l.name("outer");l.label($).for((0,r._)`;${T}--;`,()=>l.for((0,r._)`${x} = ${T}; ${x}--;`,()=>l.if((0,r._)`${d}(${u}[${T}], ${u}[${x}])`,()=>{a.error(),l.assign(_,!1).break($)})))}}};e.default=s}}),pge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n=O2(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),mge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n=O2(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:p}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let g;const _=()=>g??(g=(0,r.useFunc)(a,n.default));let v;if(m||u)v=a.let("valid"),s.block$data(v,h);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,T)=>E(y,T)))}s.pass(v);function h(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const T=f[S];return typeof T=="object"&&T!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${T}`}}};e.default=o}}),gge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=oge(),r=sge(),n=lge(),i=uge(),o=cge(),s=fge(),a=dge(),l=hge(),u=pge(),f=mge(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),WG=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=Kr(),r=Sn(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:p}=s;p.items=!0;const m=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${m} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(p,u)){const _=l.var("valid",(0,t._)`${m} <= ${a.length}`);l.if((0,t.not)(_),()=>g(_)),s.ok(_)}function g(_){l.forRange("i",a.length,m,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),p.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),GG=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=Kr(),r=Sn(),n=nu(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:p,it:m}=s;v(f),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=r.mergeEvaluated.items(u,l.length,m.items));const g=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((h,E)=>{(0,r.alwaysValidSchema)(m,h)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:p,schemaProp:E,dataProp:E},g)),s.ok(g))});function v(h){const{opts:E,errSchemaPath:y}=m,S=l.length,T=S===h.minItems&&(S===h.maxItems||h[a]===!1);if(E.strictTuples&&!T){const x=`"${p}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(m,x,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),vge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=GG(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),yge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n=nu(),i=WG(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),wge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,p;const{minContains:m,maxContains:g}=l;f.opts.next?(c=m===void 0?1:m,p=g):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:p}),p===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&c>p){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;p!==void 0&&(S=(0,t._)`${S} && ${_} <= ${p}`),o.pass(S);return}f.items=!0;const v=s.name("valid");p===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),p!==void 0&&s.if((0,t._)`${u}.length > 0`,h)):(s.let(v,!1),h()),o.result(v,()=>o.reset());function h(){const S=s.name("_valid"),T=s.let("count",0);E(S,()=>s.if(S,()=>y(T)))}function E(S,T){s.forRange("i",0,_,x=>{o.subschema({keyword:"contains",dataProp:x,dataPropType:r.Type.Num,compositeRule:!0},S),T()})}function y(S){s.code((0,t._)`${S}++`),p===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${p}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),bge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=Kr(),r=Sn(),n=nu();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i}}),_ge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),KG=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Kr(),n=_d(),i=Sn(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:p,it:m}=a;if(!p)throw new Error("ajv implementation error");const{allErrors:g,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(m,u))return;const v=(0,t.allSchemaProperties)(f.properties),h=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${p} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!h.length?T(d):l.if(y(d),()=>T(d))})}function y(d){let $;if(v.length>8){const O=(0,i.schemaRefOrVal)(m,f.properties,"properties");$=(0,t.isOwnProperty)(l,O,d)}else v.length?$=(0,r.or)(...v.map(O=>(0,r._)`${d} === ${O}`)):$=r.nil;return h.length&&($=(0,r.or)($,...h.map(O=>(0,r._)`${(0,t.usePattern)(a,O)}.test(${d})`))),(0,r.not)($)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function T(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),g||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(m,u)){const $=l.name("valid");_.removeAdditional==="failing"?(x(d,$,!1),l.if((0,r.not)($),()=>{a.reset(),S(d)})):(x(d,$),g||l.if((0,r.not)($),()=>l.break()))}}function x(d,$,O){const P={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};O===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(P,$)}}};e.default=s}}),Ege=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=mT(),r=nu(),n=Sn(),i=KG(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const p=(0,r.allSchemaProperties)(l);for(const h of p)c.definedProperties.add(h);c.opts.unevaluated&&p.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(p),c.props));const m=p.filter(h=>!(0,n.alwaysValidSchema)(c,l[h]));if(m.length===0)return;const g=a.name("valid");for(const h of m)_(h)?v(h):(a.if((0,r.propertyInData)(a,f,h,c.opts.ownProperties)),v(h),c.allErrors||a.else().var(g,!0),a.endIf()),s.it.definedProperties.add(h),s.ok(g);function _(h){return c.opts.useDefaults&&!c.compositeRule&&l[h].default!==void 0}function v(h){s.subschema({keyword:"properties",schemaProp:h,dataProp:h},g)}}};e.default=o}}),Sge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r=Kr(),n=Sn(),i=Sn(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:p}=c,m=(0,t.allSchemaProperties)(l),g=m.filter(T=>(0,n.alwaysValidSchema)(c,l[T]));if(m.length===0||g.length===m.length&&(!c.opts.unevaluated||c.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:h}=c;E();function E(){for(const T of m)_&&y(T),c.allErrors?S(T):(a.var(v,!0),S(T),a.if(v))}function y(T){for(const x in _)new RegExp(T).test(x)&&(0,n.checkStrictMode)(c,`property ${x} matches pattern ${T} (use allowMatchingProperties)`)}function S(T){a.forIn("key",u,x=>{a.if((0,r._)`${(0,t.usePattern)(s,T)}.test(${x})`,()=>{const d=g.includes(T);d||s.subschema({keyword:"patternProperties",schemaProp:T,dataProp:x,dataPropType:i.Type.Str},v),c.opts.unevaluated&&h!==!0?a.assign((0,r._)`${h}[${x}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),Tge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sn(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),$ge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=nu(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),xge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),p=s.let("passing",null),m=s.name("_valid");o.setParams({passing:p}),s.block(g),o.result(c,()=>o.reset(),()=>o.error(!0));function g(){f.forEach((_,v)=>{let h;(0,r.alwaysValidSchema)(u,_)?s.var(m,!0):h=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},m),v>0&&s.if((0,t._)`${m} && ${c}`).assign(c,!1).assign(p,(0,t._)`[${p}, ${v}]`).else(),s.if(m,()=>{s.assign(c,!0),s.assign(p,v),h&&o.mergeEvaluated(h,t.Name)})})}}};e.default=i}}),Age=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sn(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),Oge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=Sn(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const p=a.let("valid",!0),m=a.name("_valid");if(g(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(m,_("then",v),_("else",v))}else f?a.if(m,_("then")):a.if((0,t.not)(m),_("else"));s.pass(p,()=>s.error(!0));function g(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);s.mergeEvaluated(v)}function _(v,h){return()=>{const E=s.subschema({keyword:v},m);a.assign(p,m),s.mergeValidEvaluated(E,p),h?a.assign(h,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),Pge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sn(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Rge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=WG(),r=vge(),n=GG(),i=yge(),o=wge(),s=bge(),a=_ge(),l=KG(),u=Ege(),f=Sge(),c=Tge(),p=$ge(),m=xge(),g=Age(),_=Oge(),v=Pge();function h(E=!1){const y=[c.default,p.default,m.default,g.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=h}}),Nge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:p,errSchemaPath:m,schemaEnv:g,self:_}=c;if(!p.validateFormats)return;l?v():h();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:p.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),T=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign(T,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign(T,y)),i.fail$data((0,t.or)(x(),d()));function x(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${T}`}function d(){const $=g.$async?(0,t._)`(${y}.async ? await ${T}(${a}) : ${T}(${a}))`:(0,t._)`${T}(${a})`,O=(0,t._)`(typeof ${T} == "function" ? ${$} : ${T}.test(${a}))`;return(0,t._)`${T} && ${T} !== true && ${S} === ${o} && !${O}`}}function h(){const E=_.formats[u];if(!E){x();return}if(E===!0)return;const[y,S,T]=d(E);y===o&&i.pass($());function x(){if(p.strictSchema===!1){_.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function d(O){const P=O instanceof RegExp?(0,t.regexpCode)(O):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(u)}`:void 0,k=s.scopeValue("formats",{key:u,ref:O,code:P});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${k}.validate`]:["string",O,k]}function $(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!g.$async)throw new Error("async format in sync schema");return(0,t._)`await ${T}(${a})`}return typeof S=="function"?(0,t._)`${T}(${a})`:(0,t._)`${T}.test(${a})`}}}};e.default=n}}),Ige=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Nge(),r=[t.default];e.default=r}}),Cge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),kge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=ige(),r=gge(),n=Rge(),i=Ige(),o=Cge(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),jge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Dge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Kr(),r=jge(),n=A2(),i=Sn(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:p}=a,{oneOf:m}=c;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>h(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:g})),a.ok(_);function h(){const S=y();l.if(!1);for(const T in S)l.elseIf((0,t._)`${v} === ${T}`),l.assign(_,E(S[T]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:g}),l.endIf()}function E(S){const T=l.name("valid"),x=a.subschema({keyword:"oneOf",schemaProp:S},T);return a.mergeEvaluated(x,t.Name),T}function y(){var S;const T={},x=$(c);let d=!0;for(let k=0;k<m.length;k++){let B=m[k];B!=null&&B.$ref&&!(0,i.schemaHasRulesButRef)(B,p.self.RULES)&&(B=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,B==null?void 0:B.$ref),B instanceof n.SchemaEnv&&(B=B.schema));const K=(S=B==null?void 0:B.properties)===null||S===void 0?void 0:S[g];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);d=d&&(x||$(B)),O(K,k)}if(!d)throw new Error(`discriminator: "${g}" must be required`);return T;function $({required:k}){return Array.isArray(k)&&k.includes(g)}function O(k,B){if(k.const)P(k.const,B);else if(k.enum)for(const K of k.enum)P(K,B);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function P(k,B){if(typeof k!="string"||k in T)throw new Error(`discriminator: "${g}" values must be unique strings`);T[k]=B}}}};e.default=s}}),Mge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),Lge=Le({"../../node_modules/ajv-formats/node_modules/ajv/dist/ajv.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=tge(),n=kge(),i=Dge(),o=Mge(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=mT();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=Kr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=$2();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=x2();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}}),Fge=Le({"../../node_modules/ajv-formats/dist/limit.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=Lge(),r=Kr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>r.str`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>r._`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=a,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",r._`${y}[${_.schemaCode}]`);a.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const T=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?r._`${m.code.formats}${r.getProperty(y)}`:void 0});a.fail$data(E(T))}function E(y){return r._`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),JG=Le({"../../node_modules/ajv-formats/dist/index.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var r=Gme(),n=Fge(),i=Kr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&n.default(u),u};a.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=i._`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}}),Bge=Le({"../../node_modules/wot-thing-description-types/schema/td-json-schema-validation.json"(e,t){t.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}}}),d0=Le({"../core/dist/helpers.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(y,S,T,x){x===void 0&&(x=T);var d=Object.getOwnPropertyDescriptor(S,T);(!d||("get"in d?!S.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(y,x,d)}:function(y,S,T,x){x===void 0&&(x=T),y[x]=S[T]}),r=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),n=e&&e.__importStar||function(){var y=function(S){return y=Object.getOwnPropertyNames||function(T){var x=[];for(var d in T)Object.prototype.hasOwnProperty.call(T,d)&&(x[x.length]=d);return x},y(S)};return function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var x=y(S),d=0;d<x.length;d++)x[d]!=="default"&&t(T,S,x[d]);return r(T,S),T}}(),i=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((Gfe(),pn(l9))),s=ype(),a=i0(),l=Ju(),u=i(qG()),f=i(JG()),c=i(Bge()),p=Ys(),{debug:m,error:g,warn:_}=(0,p.createLoggers)("core","helpers"),v=c.default,h=new u.default({strict:!1});(0,f.default)(h);var E=class pc{constructor(S){this.srv=S}static extractScheme(S){const T=new URL(S);if(m(T),T.protocol===null)throw new Error(`Protocol in url "${S}" must be valid`);const x=T.protocol.slice(0,-1);return m(`Helpers found scheme '${x}'`),x}static setStaticAddress(S){pc.staticAddress=S}static getAddresses(){const S=[];if(pc.staticAddress!==void 0)return S.push(pc.staticAddress),m(`AddressHelper uses static ${S}`),S;{const T=o.networkInterfaces();for(const x of Object.values(T))x==null||x.forEach(d=>{m(`AddressHelper found ${d.address}`),d.internal===!1&&(d.family==="IPv4"?S.push(d.address):d.scopeid===0&&S.push(pc.toUriLiteral(d.address)))});return S.length===0&&S.push("localhost"),m(`AddressHelper identified ${S}`),S}}static toUriLiteral(S){return S==null?(g(`AddressHelper received invalid address '${S}'`),"{invalid address - undefined}"):(S.indexOf(":")!==-1&&(S=`[${S}]`),S)}static generateUniqueName(S){const T=S.match(/.+_([0-9]+)$/);return T!==null?S.slice(0,-T[1].length)+(1+parseInt(T[1])):S+"_2"}static toStringArray(S){return S!=null?typeof S=="string"?[S]:S:[]}static structuredClone(S){return JSON.parse(JSON.stringify(S))}fetch(S){return new Promise((T,x)=>{const d=this.srv.getClientFor(pc.extractScheme(S));m(`WoTImpl fetching TD from '${S}' with ${d}`),d.readResource(new a.Form(S,l.ContentSerdes.TD)).then(async $=>{$.type!==l.ContentSerdes.TD&&$.type!==l.ContentSerdes.JSON_LD&&_(`WoTImpl received TD with media type '${$.type}' from ${S}`);const O=(await $.toBuffer()).toString("utf-8");try{const P=JSON.parse(O);T(P)}catch(P){x(new Error(`WoTImpl fetched invalid JSON from '${S}': ${P instanceof Error?P.message:P}`))}}).then(async $=>(await d.stop(),$)).catch($=>{x($)})})}static extend(S,T){const x={};for(const[d,$]of Object.entries(S))x[d]=$;for(const[d,$]of Object.entries(T))Object.prototype.hasOwnProperty.call(x,d)||(x[d]=$);return x}static async parseInteractionOutput(S){try{return await S.value()}catch{throw g("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(S){const T=pc.structuredClone(S);if(T.required!==void 0){const x=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(T.required)){const d=T.required;T.required=d.filter($=>!x.includes($))}else typeof T.required=="string"&&x.indexOf(T.required)!==-1&&delete T.required}if(T.definitions!=null)for(const[x,d]of Object.entries(T.definitions)??[])T.definitions[x]=this.createExposeThingInitSchema(d);return T}static validateExposedThingInit(S){var d;if(S["@type"]==="tm:ThingModel"||s.ThingModelHelpers.isThingModel(S)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};const T=pc.tsSchemaValidator(S);let x;return T||(x=(d=pc.tsSchemaValidator.errors)==null?void 0:d.map($=>$.message).join(`
`)),{valid:T,errors:x}}static parseInteractionOptions(S,T,x){if(!this.validateInteractionOptions(S,T,x))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${T.title}' Thing Interaction nor '${S.title}' Thing`);const d=T.uriVariables??{},$=S.uriVariables??{},O={};x!=null&&x.uriVariables?Object.entries(x.uriVariables).forEach(k=>{(k[0]in d||k[0]in $)&&(O[k[0]]=k[1])}):x={uriVariables:{}};for(const[P,k]of Object.entries($))!(P in O)&&"default"in k&&(O[P]=k.default);return x.uriVariables=O,x}static validateInteractionOptions(S,T,x){const d=T.uriVariables??{},$=S.uriVariables??{};if(x!=null&&x.uriVariables){const O=Object.entries(x.uriVariables);for(let P=0;P<O.length;P++){const k=O[P];if(!(k[0]in d)&&!(k[0]in $))return!1}}return!0}static parseUrlParameters(S,T={},x={}){const d={};if(S==null||x==null&&T==null)return d;const $=S.split("?")[1];return $==null||($.indexOf("&")!==-1?$.split("&"):[$]).forEach(P=>{const k=P.split("="),B=decodeURIComponent(k[0]),K=decodeURIComponent(k.length>1?k[1]:"");x!=null&&x[B]!=null?x[B].type==="integer"||x[B].type==="number"?d[B]=+K:d[B]=K:T!=null&&T[B]!=null&&(T[B].type==="integer"||T[B].type==="number"?d[B]=+K:d[B]=K)}),d}static updateInteractionNameWithUriVariablePattern(S,T={},x={}){const d=encodeURIComponent(S),$=[...Object.keys(T),...Object.keys(x)];if($.length===0)return d;const O=$.map(encodeURIComponent).join(",");return d+"{?"+O+"}"}};E.tsSchemaValidator=h.compile(E.createExposeThingInitSchema(v)),E.staticAddress=void 0,e.default=E}}),Uge=Le({"../core/dist/errors.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.DataSchemaError=e.NotSupportedError=e.NotReadableError=void 0;var t=class YG extends Error{constructor(o){super(o),Object.setPrototypeOf(this,YG.prototype)}};e.NotReadableError=t;var r=class XG extends Error{constructor(o){super(o),Object.setPrototypeOf(this,XG.prototype)}};e.NotSupportedError=r;var n=class extends Error{constructor(i,o){super(i),this.value=o,Object.setPrototypeOf(this,r.prototype)}};e.DataSchemaError=n}}),QG=Le({"../core/dist/interaction-output.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(x,d,$,O){O===void 0&&(O=$);var P=Object.getOwnPropertyDescriptor(d,$);(!P||("get"in P?!d.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return d[$]}}),Object.defineProperty(x,O,P)}:function(x,d,$,O){O===void 0&&(O=$),x[O]=d[$]}),r=e&&e.__setModuleDefault||(Object.create?function(x,d){Object.defineProperty(x,"default",{enumerable:!0,value:d})}:function(x,d){x.default=d}),n=e&&e.__importStar||function(){var x=function(d){return x=Object.getOwnPropertyNames||function($){var O=[];for(var P in $)Object.prototype.hasOwnProperty.call($,P)&&(O[O.length]=P);return O},x(d)};return function(d){if(d&&d.__esModule)return d;var $={};if(d!=null)for(var O=x(d),P=0;P<O.length;P++)O[P]!=="default"&&t($,d,O[P]);return r($,d),$}}(),i=e&&e.__classPrivateFieldGet||function(x,d,$,O){if($==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?x!==d||!O:!d.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?O:$==="a"?O.call(x):O?O.value:d.get(x)},o=e&&e.__classPrivateFieldSet||function(x,d,$,O,P){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?x!==d||!P:!d.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?P.call(x,$):P?P.value=$:d.set(x,$),$},s=e&&e.__importDefault||function(x){return x&&x.__esModule?x:{default:x}},a,l,u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOutput=void 0;var c=n((nT(),pn(rT))),p=Ju(),m=Qs(),g=Uge(),_=s(qG()),v=s(JG()),h=Ys(),{debug:E,warn:y}=(0,h.createLoggers)("core","interaction-output"),S=new _.default({strict:!1,addUsedSchema:!1});(0,v.default)(S);var T=class{get data(){if(i(this,f,"f"))return i(this,f,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,o(this,f,m.ProtocolHelpers.toWoTStream(i(this,a,"f").body),"f")}constructor(x,d,$,O={ignoreValidation:!1}){a.set(this,void 0),l.set(this,void 0),u.set(this,void 0),f.set(this,void 0),o(this,a,x,"f"),this.form=d,this.schema=$,this.ignoreValidation=O.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(i(this,u,"f"))return i(this,u,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const x=await i(this,a,"f").toBuffer();return this.dataUsed=!0,o(this,u,x,"f"),x}async value(){if(this.schema==null){y("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(i(this,l,"f")!==void 0)return i(this,l,"f");if(this.dataUsed)throw new g.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new g.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new g.NotReadableError("No schema type defined");if(!p.ContentSerdes.get().isSupported(i(this,a,"f").type)){const O=`Content type ${i(this,a,"f").type} not supported`;throw new g.NotSupportedError(O)}const x=await i(this,a,"f").toBuffer();this.dataUsed=!0,o(this,u,x,"f");const d=p.ContentSerdes.get().contentToValue({type:i(this,a,"f").type,body:x},this.schema),$=S.compile(this.schema);if(!this.ignoreValidation&&!$(d))throw E(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),E(`value: ${d}`),E(`Error: ${$.errors}`),new g.DataSchemaError("Invalid value according to DataSchema",d);return o(this,l,d,"f"),d}};e.InteractionOutput=T,a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap}}),zge=Le({"../core/dist/protocol-listener-registry.js"(e){Ce();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(Ju()),n=class ZG{constructor(){this.listeners=new Map}register(o,s,a){if(o.forms[s]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let l=this.listeners.get(o);l||(l=new Map,this.listeners.set(o,l));let u=l.get(s);u||(u=[],l.set(s,u)),u.push(a)}unregister(o,s,a){const l=this.listeners.get(o);if(!l)throw new Error("Not found");const u=l.get(s);if(!u)throw new Error("Form not found");const f=u.indexOf(a);if(f<0)throw new Error("Form not found");u.splice(f,1)}unregisterAll(){this.listeners.clear()}notify(o,s,a,l){const u=this.listeners.get(o)??ZG.EMPTY_MAP;if(l!==void 0){const f=u.get(l);if(f){const c=o.forms[l].contentType,p=r.default.valueToContent(s,a,c);f.forEach(m=>m(p));return}}for(const[f,c]of u){const p=o.forms[f].contentType,m=r.default.valueToContent(s,a,p);c.forEach(g=>g(m))}}};n.EMPTY_MAP=new Map,e.default=n}}),eK=Le({"../core/dist/exposed-thing.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(P,k,B,K){K===void 0&&(K=B);var ie=Object.getOwnPropertyDescriptor(k,B);(!ie||("get"in ie?!k.__esModule:ie.writable||ie.configurable))&&(ie={enumerable:!0,get:function(){return k[B]}}),Object.defineProperty(P,K,ie)}:function(P,k,B,K){K===void 0&&(K=B),P[K]=k[B]}),r=e&&e.__setModuleDefault||(Object.create?function(P,k){Object.defineProperty(P,"default",{enumerable:!0,value:k})}:function(P,k){P.default=k}),n=e&&e.__importStar||function(){var P=function(k){return P=Object.getOwnPropertyNames||function(B){var K=[];for(var ie in B)Object.prototype.hasOwnProperty.call(B,ie)&&(K[K.length]=ie);return K},P(k)};return function(k){if(k&&k.__esModule)return k;var B={};if(k!=null)for(var K=P(k),ie=0;ie<K.length;ie++)K[ie]!=="default"&&t(B,k,K[ie]);return r(B,k),B}}(),i=e&&e.__classPrivateFieldSet||function(P,k,B,K,ie){if(K==="m")throw new TypeError("Private method is not writable");if(K==="a"&&!ie)throw new TypeError("Private accessor was defined without a setter");if(typeof k=="function"?P!==k||!ie:!k.has(P))throw new TypeError("Cannot write private member to an object whose class did not declare it");return K==="a"?ie.call(P,B):ie?ie.value=B:k.set(P,B),B},o=e&&e.__classPrivateFieldGet||function(P,k,B,K){if(B==="a"&&!K)throw new TypeError("Private accessor was defined without a getter");if(typeof k=="function"?P!==k||!K:!k.has(P))throw new TypeError("Cannot read private member from an object whose class did not declare it");return B==="m"?K:B==="a"?K.call(P):K?K.value:k.get(P)},s=e&&e.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},a,l,u,f,c,p;Object.defineProperty(e,"__esModule",{value:!0});var m=n(i0()),g=Kk(),_=s(d0()),v=QG(),h=(ml(),pn(Aa)),E=s(w2()),y=y2(),S=Qs(),T=s(Ju()),x=s(zge()),d=Ys(),{debug:$}=(0,d.createLoggers)("core","exposed-thing"),O=class extends m.Thing{constructor(P,k={}){super(),a.set(this,new Map),l.set(this,new Map),u.set(this,new Map),f.set(this,new x.default),c.set(this,new x.default),p.set(this,void 0),i(this,p,P,"f"),this.id=k.id??"",this.title=k.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const B=_.default.structuredClone(k);Object.assign(this,B),(0,g.setContextLanguage)(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,g.serializeTD)(this))}emitEvent(P,k){if(this.events[P]!=null){const B=this.events[P];o(this,c,"f").notify(B,k,B.data)}else throw new Error("NotFoundError for event '"+P+"'")}async emitPropertyChange(P){var k;if(this.properties[P]!=null){const B=this.properties[P],K=(k=o(this,a,"f").get(P))==null?void 0:k.readHandler;if(!K)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const ie=await K();o(this,f,"f").notify(B,ie,B)}else throw new Error("NotFoundError for property '"+P+"'")}expose(){return $(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((P,k)=>{o(this,p,"f").expose(this).then(()=>{P()}).catch(B=>k(B))})}async destroy(){$(`ExposedThing '${this.title}' destroying the thing and its interactions`),await o(this,p,"f").destroyThing(this.id),o(this,c,"f").unregisterAll(),o(this,f,"f").unregisterAll(),o(this,u,"f").clear(),o(this,a,"f").clear(),o(this,u,"f").clear()}setPropertyReadHandler(P,k){if($(`ExposedThing '${this.title}' setting read handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${P}' due to writeOnly flag`);{let B=o(this,a,"f").get(P);B?B.readHandler=k:B={readHandler:k},o(this,a,"f").set(P,B)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyWriteHandler(P,k){if($(`ExposedThing '${this.title}' setting write handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${P}' due to readOnly flag`);{let B=o(this,a,"f").get(P);B?B.writeHandler=k:B={writeHandler:k},o(this,a,"f").set(P,B)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyObserveHandler(P,k){if($(`ExposedThing '${this.title}' setting property observe handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${P}' since the observable flag is set to false`);{let B=o(this,a,"f").get(P);B?B.observeHandler=k:B={observeHandler:k},o(this,a,"f").set(P,B)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setPropertyUnobserveHandler(P,k){if($(`ExposedThing '${this.title}' setting property unobserve handler for '${P}'`),this.properties[P]!=null){if(this.properties[P].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${P}' due to missing observable flag`);{let B=o(this,a,"f").get(P);B?B.unobserveHandler=k:B={unobserveHandler:k},o(this,a,"f").set(P,B)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${P}'`);return this}setActionHandler(P,k){if($(`ExposedThing '${this.title}' setting action handler for '${P}'`),this.actions[P]!=null)o(this,l,"f").set(P,k);else throw new Error(`ExposedThing '${this.title}' has no Action '${P}'`);return this}setEventSubscribeHandler(P,k){if($(`ExposedThing '${this.title}' setting event subscribe handler for '${P}'`),this.events[P]!=null){let B=o(this,u,"f").get(P);B?B.subscribe=k:B={subscribe:k},o(this,u,"f").set(P,B)}else throw new Error(`ExposedThing '${this.title}' has no Event '${P}'`);return this}setEventUnsubscribeHandler(P,k){if($(`ExposedThing '${this.title}' setting event unsubscribe handler for '${P}'`),this.events[P]!=null){let B=o(this,u,"f").get(P);B?B.unsubscribe=k:B={unsubscribe:k},o(this,u,"f").set(P,B)}else throw new Error(`ExposedThing '${this.title}' has no Event '${P}'`);return this}async handleInvokeAction(P,k,B){if(this.actions[P]!=null){$(`ExposedThing '${this.title}' has Action state of '${P}'`);const K=o(this,l,"f").get(P);if(K!=null){$(`ExposedThing '${this.title}' calls registered handler for Action '${P}'`),_.default.validateInteractionOptions(this,this.actions[P],B);const ie=this.actions[P].forms[B.formIndex]??{contentType:"application/json"},W=await K(new v.InteractionOutput(k,ie,this.actions[P].input),B);if(W!==void 0)return T.default.valueToContent(W,this.actions[P].output,ie.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${P}'`)}async handleReadProperty(P,k){var B,K;if(this.properties[P]!=null){$(`ExposedThing '${this.title}' has Action state of '${P}'`);const ie=(B=o(this,a,"f").get(P))==null?void 0:B.readHandler;if(ie!=null){$(`ExposedThing '${this.title}' calls registered readHandler for Property '${P}'`),_.default.validateInteractionOptions(this,this.properties[P],k);const W=await ie(k),ne=((K=this.properties[P])==null?void 0:K.forms[k.formIndex])??{contentType:"application/json"};return T.default.valueToContent(W,this.properties[P],(ne==null?void 0:ne.contentType)??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}async _handleReadProperties(P,k){try{const B=new Map;for(const K of P){if(!this.properties[K].forms.find(ne=>ne.contentType===S.ContentSerdes.DEFAULT||ne.contentType==null))continue;const W=await this.handleReadProperty(K,k);B.set(K,W)}return B}catch(B){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${P}.
 Error: ${B}`)}}async handleReadAllProperties(P){const k=Object.keys(this.properties);return await this._handleReadProperties(k,P)}async handleReadMultipleProperties(P,k){return await this._handleReadProperties(P,k)}async handleWriteProperty(P,k,B){var K,ie;if(this.properties[P]!=null){if(this.properties[P].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${P}' is readOnly`);_.default.validateInteractionOptions(this,this.properties[P],B);const W=(K=o(this,a,"f").get(P))==null?void 0:K.writeHandler,ne=((ie=this.properties[P])==null?void 0:ie.forms[B.formIndex])??{};if(W!=null)await W(new v.InteractionOutput(k,ne,this.properties[P]),B);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}async handleWriteMultipleProperties(P,k){const B=[];for(const[K,ie]of Object.entries(P))this.properties[K].forms.find(ne=>ne.contentType==="application/json"||ne.contentType==null)!=null&&B.push(this.handleWriteProperty(K,ie,k));try{await Promise.all(B)}catch(K){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${K.message}`)}}async handleSubscribeEvent(P,k,B){var K;if(this.events[P]!=null){_.default.validateInteractionOptions(this,this.events[P],B);const ie=E.default.getFormIndexForOperation(this.events[P],"event","subscribeevent",B.formIndex);if(ie!==-1)o(this,c,"f").register(this.events[P],ie,k),$(`ExposedThing '${this.title}' subscribes to event '${P}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${B.formIndex}'`);const W=(K=o(this,u,"f").get(P))==null?void 0:K.subscribe;W&&await W(B),$(`ExposedThing '${this.title}' subscribes to event '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${P}'`)}handleUnsubscribeEvent(P,k,B){var K;if(this.events[P]!=null){_.default.validateInteractionOptions(this,this.events[P],B);const ie=E.default.getFormIndexForOperation(this.events[P],"event","unsubscribeevent",B.formIndex);if(ie!==-1)o(this,c,"f").unregister(this.events[P],ie,k);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${P}' with form index '${B.formIndex}'`);const W=(K=o(this,u,"f").get(P))==null?void 0:K.unsubscribe;W&&W(B),$(`ExposedThing '${this.title}' unsubscribes from event '${P}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${P}'`)}async handleObserveProperty(P,k,B){var K;if(this.properties[P]!=null){_.default.validateInteractionOptions(this,this.properties[P],B);const ie=E.default.getFormIndexForOperation(this.properties[P],"property","observeproperty",B.formIndex);if(ie!==-1)o(this,f,"f").register(this.properties[P],ie,k),$(`ExposedThing '${this.title}' subscribes to property '${P}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${B.formIndex}'`);const W=(K=o(this,a,"f").get(P))==null?void 0:K.observeHandler;W&&await W(B)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}handleUnobserveProperty(P,k,B){var K;if(this.properties[P]!=null){_.default.validateInteractionOptions(this,this.properties[P],B);const ie=E.default.getFormIndexForOperation(this.properties[P],"property","unobserveproperty",B.formIndex);if(ie!==-1)o(this,f,"f").unregister(this.properties[P],ie,k);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${P}' with form index '${B.formIndex}'`);const W=(K=o(this,a,"f").get(P))==null?void 0:K.unobserveHandler;W&&W(B)}else throw new Error(`ExposedThing '${this.title}', no property found for '${P}'`)}static interactionInputToReadable(P){let k;return typeof ReadableStream<"u"&&P instanceof ReadableStream||P instanceof y.ReadableStream?k=E.default.toNodeStream(P):Array.isArray(P)||typeof P=="object"?k=h.Readable.from(kn.from(JSON.stringify(P),"utf-8")):k=h.Readable.from(kn.from(P.toString(),"utf-8")),k}};a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,p=new WeakMap,e.default=O}}),qge=Le({"../../node_modules/content-type/index.js"(e){Ce();var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;e.format=a,e.parse=l;function a(p){if(!p||typeof p!="object")throw new TypeError("argument obj is required");var m=p.parameters,g=p.type;if(!g||!s.test(g))throw new TypeError("invalid type");var _=g;if(m&&typeof m=="object")for(var v,h=Object.keys(m).sort(),E=0;E<h.length;E++){if(v=h[E],!n.test(v))throw new TypeError("invalid parameter name");_+="; "+v+"="+f(m[v])}return _}function l(p){if(!p)throw new TypeError("argument string is required");var m=typeof p=="object"?u(p):p;if(typeof m!="string")throw new TypeError("argument string is required to be a string");var g=m.indexOf(";"),_=g!==-1?m.slice(0,g).trim():m.trim();if(!s.test(_))throw new TypeError("invalid media type");var v=new c(_.toLowerCase());if(g!==-1){var h,E,y;for(t.lastIndex=g;E=t.exec(m);){if(E.index!==g)throw new TypeError("invalid parameter format");g+=E[0].length,h=E[1].toLowerCase(),y=E[2],y.charCodeAt(0)===34&&(y=y.slice(1,-1),y.indexOf("\\")!==-1&&(y=y.replace(i,"$1"))),v.parameters[h]=y}if(g!==m.length)throw new TypeError("invalid parameter format")}return v}function u(p){var m;if(typeof p.getHeader=="function"?m=p.getHeader("content-type"):typeof p.headers=="object"&&(m=p.headers&&p.headers["content-type"]),typeof m!="string")throw new TypeError("content-type header is missing from object");return m}function f(p){var m=String(p);if(n.test(m))return m;if(m.length>0&&!r.test(m))throw new TypeError("invalid parameter value");return'"'+m.replace(o,"\\$1")+'"'}function c(p){this.parameters=Object.create(null),this.type=p}}}),Vge=Le({"../../node_modules/uritemplate/bin/uritemplate.js"(e,t){Ce(),function(r){var n=function(){function _(v){this.options=v}return _.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},_}(),i=function(){function _($){return Object.prototype.toString.apply($)==="[object Array]"}function v($){return Object.prototype.toString.apply($)==="[object String]"}function h($){return Object.prototype.toString.apply($)==="[object Number]"}function E($){return Object.prototype.toString.apply($)==="[object Boolean]"}function y($,O){var P="",k=!0,B;for(B=0;B<$.length;B+=1)k?k=!1:P+=O,P+=$[B];return P}function S($,O){for(var P=[],k=0;k<$.length;k+=1)P.push(O($[k]));return P}function T($,O){for(var P=[],k=0;k<$.length;k+=1)O($[k])&&P.push($[k]);return P}function x($){if(typeof $!="object"||$===null)return $;Object.freeze($);var O,P;for(P in $)$.hasOwnProperty(P)&&(O=$[P],typeof O=="object"&&d(O));return $}function d($){return typeof Object.freeze=="function"?x($):$}return{isArray:_,isString:v,isNumber:h,isBoolean:E,join:y,map:S,filter:T,deepFreeze:d}}(),o=function(){function _(E){return E>="a"&&E<="z"||E>="A"&&E<="Z"}function v(E){return E>="0"&&E<="9"}function h(E){return v(E)||E>="a"&&E<="f"||E>="A"&&E<="F"}return{isAlpha:_,isDigit:v,isHexDigit:h}}(),s=function(){var _={encode:function(T){return unescape(encodeURIComponent(T))},numBytes:function(T){return T<=127?1:194<=T&&T<=223?2:224<=T&&T<=239?3:240<=T&&T<=244?4:0},isValidFollowingCharCode:function(T){return 128<=T&&T<=191}};function v(T){var x="",d=_.encode(T),$,O;for(O=0;O<d.length;O+=1)$=d.charCodeAt(O),x+="%"+($<16?"0":"")+$.toString(16).toUpperCase();return x}function h(T,x){return T.charAt(x)==="%"&&o.isHexDigit(T.charAt(x+1))&&o.isHexDigit(T.charAt(x+2))}function E(T,x){return parseInt(T.substr(x,2),16)}function y(T){if(!h(T,0))return!1;var x=E(T,1),d=_.numBytes(x);if(d===0)return!1;for(var $=1;$<d;$+=1)if(!h(T,3*$)||!_.isValidFollowingCharCode(E(T,3*$+1)))return!1;return!0}function S(T,x){var d=T.charAt(x);if(!h(T,x))return d;var $=E(T,x+1),O=_.numBytes($);if(O===0)return d;for(var P=1;P<O;P+=1)if(!h(T,x+3*P)||!_.isValidFollowingCharCode(E(T,x+3*P+1)))return d;return T.substr(x,3*O)}return{encodeCharacter:v,isPctEncoded:y,pctCharAt:S}}(),a=function(){function _(E){return o.isAlpha(E)||o.isDigit(E)||E==="_"||s.isPctEncoded(E)}function v(E){return o.isAlpha(E)||o.isDigit(E)||E==="-"||E==="."||E==="_"||E==="~"}function h(E){return E===":"||E==="/"||E==="?"||E==="#"||E==="["||E==="]"||E==="@"||E==="!"||E==="$"||E==="&"||E==="("||E===")"||E==="*"||E==="+"||E===","||E===";"||E==="="||E==="'"}return{isVarchar:_,isUnreserved:v,isReserved:h}}(),l=function(){function _(y,S){var T="",x,d="";for((typeof y=="number"||typeof y=="boolean")&&(y=y.toString()),x=0;x<y.length;x+=d.length)d=y.charAt(x),T+=a.isUnreserved(d)||S&&a.isReserved(d)?d:s.encodeCharacter(d);return T}function v(y){return _(y,!0)}function h(y,S){var T=s.pctCharAt(y,S);return T.length>1||a.isReserved(T)||a.isUnreserved(T)?T:s.encodeCharacter(T)}function E(y){var S="",T,x="";for(T=0;T<y.length;T+=x.length)x=s.pctCharAt(y,T),x.length>1?S+=x:S+=a.isReserved(x)||a.isUnreserved(x)?x:s.encodeCharacter(x);return S}return{encode:_,encodePassReserved:v,encodeLiteral:E,encodeLiteralCharacter:h}}(),u=function(){var _={};function v(h){_[h]={symbol:h,separator:h==="?"?"&":h===""||h==="+"||h==="#"?",":h,named:h===";"||h==="&"||h==="?",ifEmpty:h==="&"||h==="?"?"=":"",first:h==="+"?"":h,encode:h==="+"||h==="#"?l.encodePassReserved:l.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(h){return _[h]?_[h]:"=,!@|".indexOf(h)>=0?null:_[""]}}}();function f(_){var v;if(_==null)return!1;if(i.isArray(_))return _.length>0;if(typeof _=="string"||typeof _=="number"||typeof _=="boolean")return!0;for(v in _)if(_.hasOwnProperty(v)&&f(_[v]))return!0;return!1}var c=function(){function _(v){this.literal=l.encodeLiteral(v)}return _.prototype.expand=function(){return this.literal},_.prototype.toString=_.prototype.expand,_}(),p=function(){function _(h){var E,y=[],S=null,T=null,x=null,d,$="";function O(){var k=h.substring(T,d);if(k.length===0)throw new n({expressionText:h,message:"a varname must be specified",position:d});S={varname:k,exploded:!1,maxLength:null},T=null}function P(){if(x===d)throw new n({expressionText:h,message:"after a ':' you have to specify the length",position:d});S.maxLength=parseInt(h.substring(x,d),10),x=null}for(E=function(k){var B=u.valueOf(k);if(B===null)throw new n({expressionText:h,message:"illegal use of reserved operator",position:d,operator:k});return B}(h.charAt(0)),d=E.symbol.length,T=d;d<h.length;d+=$.length){if($=s.pctCharAt(h,d),T!==null){if($==="."){if(T===d)throw new n({expressionText:h,message:"a varname MUST NOT start with a dot",position:d});continue}if(a.isVarchar($))continue;O()}if(x!==null){if(d===x&&$==="0")throw new n({expressionText:h,message:"A :prefix must not start with digit 0",position:d});if(o.isDigit($)){if(d-x>=4)throw new n({expressionText:h,message:"A :prefix must have max 4 digits",position:d});continue}P()}if($===":"){if(S.maxLength!==null)throw new n({expressionText:h,message:"only one :maxLength is allowed per varspec",position:d});if(S.exploded)throw new n({expressionText:h,message:"an exploeded varspec MUST NOT be varspeced",position:d});x=d+1;continue}if($==="*"){if(S===null)throw new n({expressionText:h,message:"exploded without varspec",position:d});if(S.exploded)throw new n({expressionText:h,message:"exploded twice",position:d});if(S.maxLength)throw new n({expressionText:h,message:"an explode (*) MUST NOT follow to a prefix",position:d});S.exploded=!0;continue}if($===","){y.push(S),S=null,T=d+1;continue}throw new n({expressionText:h,message:"illegal character",character:$,position:d})}return T!==null&&O(),x!==null&&P(),y.push(S),new m(h,E,y)}function v(h){var E,y,S=[],T=null,x=0;for(E=0;E<h.length;E+=1){if(y=h.charAt(E),x!==null){if(y==="}")throw new n({templateText:h,message:"unopened brace closed",position:E});y==="{"&&(x<E&&S.push(new c(h.substring(x,E))),x=null,T=E);continue}if(T!==null){if(y==="{")throw new n({templateText:h,message:"brace already opened",position:E});if(y==="}"){if(T+1===E)throw new n({templateText:h,message:"empty braces",position:T});try{S.push(_(h.substring(T+1,E)))}catch(d){throw d.prototype===n.prototype?new n({templateText:h,message:d.options.message,position:T+d.options.position,details:d.options}):d}T=null,x=E+1}continue}throw new Error("reached unreachable code")}if(T!==null)throw new n({templateText:h,message:"unclosed brace",position:T});return x<h.length&&S.push(new c(h.substr(x))),new g(h,S)}return v}(),m=function(){function _($){return JSON&&JSON.stringify?JSON.stringify($):$}function v($){if(!f($))return!0;if(i.isString($))return $==="";if(i.isNumber($)||i.isBoolean($))return!1;if(i.isArray($))return $.length===0;for(var O in $)if($.hasOwnProperty(O))return!1;return!0}function h($){var O=[],P;for(P in $)$.hasOwnProperty(P)&&O.push({name:P,value:$[P]});return O}function E($,O,P){this.templateText=$,this.operator=O,this.varspecs=P}E.prototype.toString=function(){return this.templateText};function y($,O,P){var k="";if(P=P.toString(),O.named){if(k+=l.encodeLiteral($.varname),P==="")return k+=O.ifEmpty,k;k+="="}return $.maxLength!==null&&(P=P.substr(0,$.maxLength)),k+=O.encode(P),k}function S($){return f($.value)}function T($,O,P){var k=[],B="";if(O.named){if(B+=l.encodeLiteral($.varname),v(P))return B+=O.ifEmpty,B;B+="="}return i.isArray(P)?(k=P,k=i.filter(k,f),k=i.map(k,O.encode),B+=i.join(k,",")):(k=h(P),k=i.filter(k,S),k=i.map(k,function(K){return O.encode(K.name)+","+O.encode(K.value)}),B+=i.join(k,",")),B}function x($,O,P){var k=i.isArray(P),B=[];return k?(B=P,B=i.filter(B,f),B=i.map(B,function(K){var ie=l.encodeLiteral($.varname);return v(K)?ie+=O.ifEmpty:ie+="="+O.encode(K),ie})):(B=h(P),B=i.filter(B,S),B=i.map(B,function(K){var ie=l.encodeLiteral(K.name);return v(K.value)?ie+=O.ifEmpty:ie+="="+O.encode(K.value),ie})),i.join(B,O.separator)}function d($,O){var P=[],k="";return i.isArray(O)?(P=O,P=i.filter(P,f),P=i.map(P,$.encode),k+=i.join(P,$.separator)):(P=h(O),P=i.filter(P,function(B){return f(B.value)}),P=i.map(P,function(B){return $.encode(B.name)+"="+$.encode(B.value)}),k+=i.join(P,$.separator)),k}return E.prototype.expand=function($){var O=[],P,k,B,K=this.operator;for(P=0;P<this.varspecs.length;P+=1)if(k=this.varspecs[P],B=$[k.varname],B!=null)if(k.exploded,i.isArray(B),typeof B=="string"||typeof B=="number"||typeof B=="boolean")O.push(y(k,K,B));else{if(k.maxLength&&f(B))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+_(B));k.exploded?f(B)&&(K.named?O.push(x(k,K,B)):O.push(d(K,B))):(K.named||!v(B))&&O.push(T(k,K,B))}return O.length===0?"":K.first+i.join(O,K.separator)},E}(),g=function(){function _(v,h){this.templateText=v,this.expressions=h,i.deepFreeze(this)}return _.prototype.toString=function(){return this.templateText},_.prototype.expand=function(v){var h,E="";for(h=0;h<this.expressions.length;h+=1)E+=this.expressions[h].expand(v);return E},_.parse=p,_.UriTemplateError=n,_}();r(g)}(function(r){typeof t<"u"?t.exports=r:typeof define=="function"?define([],function(){return r}):typeof window<"u"?window.UriTemplate=r:global.UriTemplate=r})}}),tK=Le({"../core/dist/consumed-thing.js"(e){Ce();var t=e&&e.__classPrivateFieldSet||function(W,ne,fe,re,le){if(re==="m")throw new TypeError("Private method is not writable");if(re==="a"&&!le)throw new TypeError("Private accessor was defined without a setter");if(typeof ne=="function"?W!==ne||!le:!ne.has(W))throw new TypeError("Cannot write private member to an object whose class did not declare it");return re==="a"?le.call(W,fe):le?le.value=fe:ne.set(W,fe),fe},r=e&&e.__classPrivateFieldGet||function(W,ne,fe,re){if(fe==="a"&&!re)throw new TypeError("Private accessor was defined without a getter");if(typeof ne=="function"?W!==ne||!re:!ne.has(W))throw new TypeError("Cannot read private member from an object whose class did not declare it");return fe==="m"?re:fe==="a"?re.call(W):re?re.value:ne.get(W)},n=e&&e.__importDefault||function(W){return W&&W.__esModule?W:{default:W}},i,o,s,a,l,u,f,c;Object.defineProperty(e,"__esModule",{value:!0});var p=i0(),m=n(d0()),g=n(qge()),_=n(Ju()),v=Vge(),h=QG(),E=Ys(),{debug:y,warn:S}=(0,E.createLoggers)("core","consumed-thing"),T;(function(W){W[W.PropertyAffordance=0]="PropertyAffordance",W[W.ActionAffordance=1]="ActionAffordance",W[W.EventAffordance=2]="EventAffordance"})(T||(T={}));var x=class extends p.ThingProperty{constructor(W,ne){super(),i.set(this,void 0),o.set(this,void 0),t(this,i,W,"f"),t(this,o,ne,"f")}};i=new WeakMap,o=new WeakMap;var d=class extends p.ThingAction{constructor(W,ne){super(),s.set(this,void 0),a.set(this,void 0),t(this,s,W,"f"),t(this,a,ne,"f")}};s=new WeakMap,a=new WeakMap;var $=class extends p.ThingEvent{constructor(W,ne){super(),l.set(this,void 0),u.set(this,void 0),t(this,l,W,"f"),t(this,u,ne,"f")}};l=new WeakMap,u=new WeakMap;var O=class{constructor(W,ne,fe){this.thing=W,this.name=ne,this.client=fe,this.active=!0}};function P(W,ne,fe,re){const le=v.parse(fe.href),F=m.default.parseInteractionOptions(W,ne,re).uriVariables,z=le.expand(F??{});if(z!==fe.href){const J={...fe};J.href=z,fe=J,y(`ConsumedThing '${W.title}' update form URI to ${fe.href}`)}return fe}var k=class extends O{constructor(W,ne,fe,re){var F;super(W,ne,fe),this.form=re,this.active=!1;const le=(F=this.thing.properties)==null?void 0:F[ne].forms.indexOf(re);if(le===void 0||le<0)throw new Error(`Could not find form ${re.href} in property ${ne}`);this.formIndex=le}async stop(W){await this.unobserveProperty(W),this.thing.observedProperties.delete(this.name)}async unobserveProperty(W={}){const ne=this.thing.properties[this.name];if(ne==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);W.formIndex??(W.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(ne.forms,"unobserveproperty",T.PropertyAffordance,W);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const re=P(this.thing,ne,fe,W);y(`ConsumedThing '${this.thing.title}' unobserving to ${fe.href}`),await this.client.unlinkResource(re),this.active=!1}matchingUnsubscribeForm(){const W=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(W.op)&&W.op.includes("unobserveproperty"))return this.formIndex;const ne=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(ne===-1)throw new Error("Could not find matching form for unsubscribe");return ne}findFormIndexWithScoring(W,ne,fe){var z;const re=ne[W];let le=0,F=-1;for(let J=0;J<ne.length;J++){let R=0;const C=ne[J];(C.op===fe||((z=C==null?void 0:C.op)==null?void 0:z.includes(fe))===!0&&Array.isArray(C.op)===!0)&&(R+=1),new URL(C.href).origin===new URL(re.href).origin&&(R+=1),C.contentType===re.contentType&&(R+=1),R>le&&(le=R,F=J)}return F}};function B(W,ne,fe){var z;const re=ne[W];let le=0,F=-1;for(let J=0;J<ne.length;J++){let R=0;const C=ne[J];(C.op===fe||((z=C==null?void 0:C.op)==null?void 0:z.includes(fe))===!0&&Array.isArray(C.op)===!0)&&(R+=1),new URL(C.href).origin===new URL(re.href).origin&&(R+=1),C.contentType===re.contentType&&(R+=1),R>le&&(le=R,F=J)}return F}var K=class extends O{constructor(W,ne,fe,re){var F;super(W,ne,fe),this.form=re;const le=(F=this.thing.events)==null?void 0:F[ne].forms.indexOf(re);if(le===void 0||le<0)throw new Error(`Could not find form ${re.href} in event ${ne}`);this.formIndex=le}async stop(W){await this.unsubscribeEvent(W),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(W={}){const ne=this.thing.events[this.name];if(ne==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);W.formIndex??(W.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(ne.forms,"unsubscribeevent",T.EventAffordance,W);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const re=P(this.thing,ne,fe,W);y(`ConsumedThing '${this.thing.title}' unsubscribing to ${fe.href}`),this.client.unlinkResource(re),this.active=!1}matchingUnsubscribeForm(){const W=this.thing.events[this.name].forms[this.formIndex];if(W.op==null||Array.isArray(W.op)&&W.op.includes("unsubscribeevent"))return this.formIndex;const ne=B(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(ne===-1)throw new Error("Could not find matching form for unsubscribe");return ne}},ie=class extends p.Thing{constructor(W,ne){super(),f.set(this,void 0),c.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,t(this,f,W,"f"),t(this,c,new Map,"f"),this.properties={},this.actions={},this.events={};const fe=m.default.structuredClone(ne??{});Object.assign(this,fe),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(W,ne){S("not implemented")}extendInteractions(){for(const[W,ne]of Object.entries(this.properties)){const fe=m.default.extend(ne,new x(W,this));this.properties[W]=fe}for(const[W,ne]of Object.entries(this.actions)){const fe=m.default.extend(ne,new d(W,this));this.actions[W]=fe}for(const[W,ne]of Object.entries(this.events)){const fe=m.default.extend(ne,new $(W,this));this.events[W]=fe}}findForm(W,ne,fe,re,le){let F;for(const z of W){let J="";if(z.op!==void 0)J=z.op;else switch(fe){case T.PropertyAffordance:J=["readproperty","writeproperty"];break;case T.ActionAffordance:J="invokeaction";break;case T.EventAffordance:J="subscribeevent";break}if(J.indexOf(ne)!==-1&&z.href.indexOf(re[le]+":")!==-1){F=z;break}}return F}getSecuritySchemes(W){const ne=[];for(const fe of W){const re=this.securityDefinitions[fe+""];re!=null&&ne.push(re)}return ne}ensureClientSecurity(W,ne){if(this.securityDefinitions!=null){const fe=()=>y(`ConsumedThing '${this.title}' setting credentials for ${W} based on thing security`);ne!=null&&Array.isArray(ne.security)&&ne.security.length>0?(fe(),W.setSecurity(this.getSecuritySchemes(ne.security),r(this,f,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(fe(),W.setSecurity(this.getSecuritySchemes(this.security),r(this,f,"f").getCredentials(this.id)))}}getClientFor(W,ne,fe,re){if(W.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let le,F;if((re==null?void 0:re.formIndex)!==void 0)if(y(`ConsumedThing '${this.title}' asked to use formIndex '${re.formIndex}'`),re.formIndex>=0&&re.formIndex<W.length){le=W[re.formIndex];const z=m.default.extractScheme(le.href);if(r(this,f,"f").hasClientFor(z))y(`ConsumedThing '${this.title}' got client for '${z}'`),F=r(this,f,"f").getClientFor(z),r(this,c,"f").get(z)||(this.ensureClientSecurity(F,le),r(this,c,"f").set(z,F));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${z}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${re.formIndex}'`);else{const z=W.map(R=>m.default.extractScheme(R.href)),J=z.findIndex(R=>r(this,c,"f").has(R));if(J!==-1)y(`ConsumedThing '${this.title}' chose cached client for '${z[J]}'`),F=r(this,c,"f").get(z[J]),le=this.findForm(W,ne,fe,z,J);else{y(`ConsumedThing '${this.title}' has no client in cache (${J})`);const R=z.findIndex(C=>r(this,f,"f").hasClientFor(C));if(R===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${z}'`);F=r(this,f,"f").getClientFor(z[R]),y(`ConsumedThing '${this.title}' got new client for '${z[R]}'`),r(this,c,"f").set(z[R],F),le=this.findForm(W,ne,fe,z,R),this.ensureClientSecurity(F,le)}}return{client:F,form:le}}async readProperty(W,ne){const fe=this.properties[W];if(fe==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${W}`);let{client:re,form:le}=this.getClientFor(fe.forms,"readproperty",T.PropertyAffordance,ne);if(le==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(re==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${le.href}`);y(`ConsumedThing '${this.title}' reading ${le.href}`),le=this.handleUriVariables(fe,le,ne);const F=await re.readResource(le);try{return this.handleInteractionOutput(F,le,fe,!1)}catch(z){const J=z instanceof Error?z:new Error(JSON.stringify(z));throw new Error(`Error while processing property for ${fe.title}. ${J.message}`)}}handleInteractionOutput(W,ne,fe,re){if(W.type??(W.type=ne.contentType??"application/json"),ne.response!=null){const le=g.default.parse(W.type),F=g.default.parse(ne.response.contentType);if(le.type!==F.type)throw new Error(`Unexpected type '${W.type}' in response. Should be '${ne.response.contentType}'`)}return new h.InteractionOutput(W,ne,fe,{ignoreValidation:re})}async _readProperties(W){const ne=[];for(const re of W)ne.push(this.readProperty(re));const fe=new Map;try{const re=await Promise.all(ne);let le=0;for(const F of W)fe.set(F,re[le]),le++;return fe}catch(re){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${W}.
 Error: ${re}`)}}readAllProperties(W){const ne=[];for(const[fe,re]of Object.entries(this.properties)){const{form:le}=this.getClientFor(re.forms,"readproperty",T.PropertyAffordance,W);le!=null&&ne.push(fe)}return this._readProperties(ne)}readMultipleProperties(W,ne){return this._readProperties(W)}async writeProperty(W,ne,fe){const re=this.properties[W];if(re==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${W}`);let{client:le,form:F}=this.getClientFor(re.forms,"writeproperty",T.PropertyAffordance,fe);if(F==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(le==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${F.href}`);y(`ConsumedThing '${this.title}' writing ${F.href} with '${ne}'`);const z=_.default.valueToContent(ne,re,F.contentType);F=this.handleUriVariables(re,F,fe),await le.writeResource(F,z)}async writeMultipleProperties(W,ne){const fe=[];for(const[re,le]of W.entries())fe.push(this.writeProperty(re,le));try{await Promise.all(fe)}catch(re){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${W}
 Error: ${re}`)}}async invokeAction(W,ne,fe){const re=this.actions[W];if(re==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${W}`);let{client:le,form:F}=this.getClientFor(re.forms,"invokeaction",T.ActionAffordance,fe);if(F==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(le==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${F.href}`);y(`ConsumedThing '${this.title}' invoking ${F.href}${ne!==void 0?" with '"+ne+"'":""}`);let z;ne!==void 0&&(z=_.default.valueToContent(ne,re.input,F.contentType)),F=this.handleUriVariables(re,F,fe);const J=await le.invokeResource(F,z);try{const R=re.synchronous===void 0?!0:!re.synchronous;return this.handleInteractionOutput(J,F,re.output,R)}catch(R){const C=R instanceof Error?R:new Error(JSON.stringify(R));throw new Error(`Error while processing action for ${re.title}. ${C.message}`)}}async observeProperty(W,ne,fe,re){const le=this.properties[W];if(le==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${W}`);const{client:F,form:z}=this.getClientFor(le.forms,"observeproperty",T.PropertyAffordance,re);if(z==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(F==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${z.href}`);if(this.observedProperties.has(W))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${W}. You can only observe once`);y(`ConsumedThing '${this.title}' observing to ${z.href}`);const J=this.handleUriVariables(le,z,re);await F.subscribeResource(J,C=>{try{ne(this.handleInteractionOutput(C,z,le,!1))}catch(q){const oe=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing observe property for ${le.title}. ${oe.message}`),S(q)}},C=>{fe==null||fe(C)},()=>{});const R=new k(this,W,F,z);return this.observedProperties.set(W,R),R}async subscribeEvent(W,ne,fe,re){const le=this.events[W];if(le==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${W}`);const{client:F,form:z}=this.getClientFor(le.forms,"subscribeevent",T.EventAffordance,re);if(z==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(F==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${z.href}`);if(this.subscribedEvents.has(W))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${W}. You can only subscribe once`);y(`ConsumedThing '${this.title}' subscribing to ${z.href}`);const J=this.handleUriVariables(le,z,re);await F.subscribeResource(J,C=>{try{ne(this.handleInteractionOutput(C,z,le.data,!1))}catch(q){const oe=q instanceof Error?q:new Error(JSON.stringify(q));S(`Error while processing event for ${le.title}. ${oe.message}`),S(q)}},C=>{fe==null||fe(C)},()=>{});const R=new K(this,W,F,z);return this.subscribedEvents.set(W,R),R}handleUriVariables(W,ne,fe){return P(this,W,ne,fe)}};f=new WeakMap,c=new WeakMap,e.default=ie}}),Hge=Le({"../core/dist/validation.js"(e){Ce();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.isThingDescription=n,e.getLastValidationErrors=i;var r=t(d0());function n(o){return r.default.tsSchemaValidator(o)}function i(){var s;const o=(s=r.default.tsSchemaValidator.errors)==null?void 0:s.map(a=>a.message).join(`
`);return new Error(o)}}}),Wge=Le({"../core/dist/wot-impl.js"(e){Ce();var t=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataType=void 0;var r=Kk(),n=t(eK()),i=t(tK()),o=t(d0()),s=Ys(),a=t(Ju()),l=Hge(),u=(nT(),pn(rT)),{debug:f}=(0,s.createLoggers)("core","wot-impl"),c=class{constructor(g,_){this.directory=g,this.filter=_,this.filter=_,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let g;try{g=await(await this.directory.readProperty("things")).value()}catch(_){this.error=_ instanceof Error?_:new Error((0,u.inspect)(_)),this.done=!0;return}for(const _ of g){if(this.done)return;if(!(0,l.isThingDescription)(_)){this.error=(0,l.getLastValidationErrors)();continue}yield _}this.done=!0}},p=class{constructor(g){this.srv=g}async discover(g){throw new Error("not implemented")}async exploreDirectory(g,_){const v=await this.requestThingDescription(g),h=await this.consume(v);return new c(h,_)}async requestThingDescription(g){const _=o.default.extractScheme(g),h=await this.srv.getClientFor(_).requestThingDescription(g),E=a.default.contentToValue({type:h.type,body:await h.toBuffer()},{});if((0,l.isThingDescription)(E))return E;throw(0,l.getLastValidationErrors)()}async consume(g){try{const _=(0,r.parseTD)(JSON.stringify(g),!0),v=new i.default(this.srv,_);return f(`WoTImpl consuming TD ${v.id!=null?`'${v.id}'`:"without id"} to instantiate ConsumedThing '${v.title}'`),v}catch(_){throw new Error(`Cannot consume TD because ${_ instanceof Error?_.message:_}`)}}produce(g){return new Promise((_,v)=>{try{const h=o.default.validateExposedThingInit(g);if(!h.valid)throw new Error(`Thing Description JSON schema validation failed:
`+h.errors);const E=new n.default(this.srv,g);if(f(`WoTImpl producing new ExposedThing '${E.title}'`),this.srv.addThing(E))_(E);else throw new Error("Thing already exists: "+E.title)}catch(h){v(new Error(`Cannot produce ExposedThing because " + ${h instanceof Error?h.message:h}`))}})}};e.default=p;var m;(function(g){g.boolean="boolean",g.number="number",g.integer="integer",g.string="string",g.object="object",g.array="array",g.null="null"})(m||(e.DataType=m={}))}}),rK=Le({"../../node_modules/uuid/dist/rng-browser.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}t.exports=e.default}}),P2=Le({"../../node_modules/uuid/dist/bytesToUuid.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[];for(n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);var n;function i(s,a){var l=a||0,u=r;return[u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]]].join("")}var o=i;e.default=o,t.exports=e.default}}),Gge=Le({"../../node_modules/uuid/dist/v1.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(rK()),n=i(P2());function i(c){return c&&c.__esModule?c:{default:c}}var o,s,a=0,l=0;function u(c,p,m){var g=p&&m||0,_=p||[];c=c||{};var v=c.node||o,h=c.clockseq!==void 0?c.clockseq:s;if(v==null||h==null){var E=c.random||(c.rng||r.default)();v==null&&(v=o=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),h==null&&(h=s=(E[6]<<8|E[7])&16383)}var y=c.msecs!==void 0?c.msecs:new Date().getTime(),S=c.nsecs!==void 0?c.nsecs:l+1,T=y-a+(S-l)/1e4;if(T<0&&c.clockseq===void 0&&(h=h+1&16383),(T<0||y>a)&&c.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=y,l=S,s=h,y+=122192928e5;var x=((y&268435455)*1e4+S)%4294967296;_[g++]=x>>>24&255,_[g++]=x>>>16&255,_[g++]=x>>>8&255,_[g++]=x&255;var d=y/4294967296*1e4&268435455;_[g++]=d>>>8&255,_[g++]=d&255,_[g++]=d>>>24&15|16,_[g++]=d>>>16&255,_[g++]=h>>>8|128,_[g++]=h&255;for(var $=0;$<6;++$)_[g+$]=v[$];return p||(0,n.default)(_)}var f=u;e.default=f,t.exports=e.default}}),nK=Le({"../../node_modules/uuid/dist/v35.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,e.URL=e.DNS=void 0;var t=r(P2());function r(l){return l&&l.__esModule?l:{default:l}}function n(l){var u=[];return l.replace(/[a-fA-F0-9]{2}/g,function(f){u.push(parseInt(f,16))}),u}function i(l){l=unescape(encodeURIComponent(l));for(var u=new Array(l.length),f=0;f<l.length;f++)u[f]=l.charCodeAt(f);return u}var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=s;function a(l,u,f){var c=function(p,m,g,_){var v=g&&_||0;if(typeof p=="string"&&(p=i(p)),typeof m=="string"&&(m=n(m)),!Array.isArray(p))throw TypeError("value must be an array of bytes");if(!Array.isArray(m)||m.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var h=f(m.concat(p));if(h[6]=h[6]&15|u,h[8]=h[8]&63|128,g)for(var E=0;E<16;++E)g[v+E]=h[E];return g||(0,t.default)(h)};try{c.name=l}catch{}return c.DNS=o,c.URL=s,c}}}),Kge=Le({"../../node_modules/uuid/dist/md5-browser.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(g){if(typeof g=="string"){var _=unescape(encodeURIComponent(g));g=new Array(_.length);for(var v=0;v<_.length;v++)g[v]=_.charCodeAt(v)}return n(i(o(g),g.length*8))}function n(g){var _,v,h=[],E=g.length*32,y="0123456789abcdef",S;for(_=0;_<E;_+=8)v=g[_>>5]>>>_%32&255,S=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16),h.push(S);return h}function i(g,_){g[_>>5]|=128<<_%32,g[(_+64>>>9<<4)+14]=_;var v,h,E,y,S,T=1732584193,x=-271733879,d=-1732584194,$=271733878;for(v=0;v<g.length;v+=16)h=T,E=x,y=d,S=$,T=u(T,x,d,$,g[v],7,-680876936),$=u($,T,x,d,g[v+1],12,-389564586),d=u(d,$,T,x,g[v+2],17,606105819),x=u(x,d,$,T,g[v+3],22,-1044525330),T=u(T,x,d,$,g[v+4],7,-176418897),$=u($,T,x,d,g[v+5],12,1200080426),d=u(d,$,T,x,g[v+6],17,-1473231341),x=u(x,d,$,T,g[v+7],22,-45705983),T=u(T,x,d,$,g[v+8],7,1770035416),$=u($,T,x,d,g[v+9],12,-1958414417),d=u(d,$,T,x,g[v+10],17,-42063),x=u(x,d,$,T,g[v+11],22,-1990404162),T=u(T,x,d,$,g[v+12],7,1804603682),$=u($,T,x,d,g[v+13],12,-40341101),d=u(d,$,T,x,g[v+14],17,-1502002290),x=u(x,d,$,T,g[v+15],22,1236535329),T=f(T,x,d,$,g[v+1],5,-165796510),$=f($,T,x,d,g[v+6],9,-1069501632),d=f(d,$,T,x,g[v+11],14,643717713),x=f(x,d,$,T,g[v],20,-373897302),T=f(T,x,d,$,g[v+5],5,-701558691),$=f($,T,x,d,g[v+10],9,38016083),d=f(d,$,T,x,g[v+15],14,-660478335),x=f(x,d,$,T,g[v+4],20,-405537848),T=f(T,x,d,$,g[v+9],5,568446438),$=f($,T,x,d,g[v+14],9,-1019803690),d=f(d,$,T,x,g[v+3],14,-187363961),x=f(x,d,$,T,g[v+8],20,1163531501),T=f(T,x,d,$,g[v+13],5,-1444681467),$=f($,T,x,d,g[v+2],9,-51403784),d=f(d,$,T,x,g[v+7],14,1735328473),x=f(x,d,$,T,g[v+12],20,-1926607734),T=c(T,x,d,$,g[v+5],4,-378558),$=c($,T,x,d,g[v+8],11,-2022574463),d=c(d,$,T,x,g[v+11],16,1839030562),x=c(x,d,$,T,g[v+14],23,-35309556),T=c(T,x,d,$,g[v+1],4,-1530992060),$=c($,T,x,d,g[v+4],11,1272893353),d=c(d,$,T,x,g[v+7],16,-155497632),x=c(x,d,$,T,g[v+10],23,-1094730640),T=c(T,x,d,$,g[v+13],4,681279174),$=c($,T,x,d,g[v],11,-358537222),d=c(d,$,T,x,g[v+3],16,-722521979),x=c(x,d,$,T,g[v+6],23,76029189),T=c(T,x,d,$,g[v+9],4,-640364487),$=c($,T,x,d,g[v+12],11,-421815835),d=c(d,$,T,x,g[v+15],16,530742520),x=c(x,d,$,T,g[v+2],23,-995338651),T=p(T,x,d,$,g[v],6,-198630844),$=p($,T,x,d,g[v+7],10,1126891415),d=p(d,$,T,x,g[v+14],15,-1416354905),x=p(x,d,$,T,g[v+5],21,-57434055),T=p(T,x,d,$,g[v+12],6,1700485571),$=p($,T,x,d,g[v+3],10,-1894986606),d=p(d,$,T,x,g[v+10],15,-1051523),x=p(x,d,$,T,g[v+1],21,-2054922799),T=p(T,x,d,$,g[v+8],6,1873313359),$=p($,T,x,d,g[v+15],10,-30611744),d=p(d,$,T,x,g[v+6],15,-1560198380),x=p(x,d,$,T,g[v+13],21,1309151649),T=p(T,x,d,$,g[v+4],6,-145523070),$=p($,T,x,d,g[v+11],10,-1120210379),d=p(d,$,T,x,g[v+2],15,718787259),x=p(x,d,$,T,g[v+9],21,-343485551),T=s(T,h),x=s(x,E),d=s(d,y),$=s($,S);return[T,x,d,$]}function o(g){var _,v=[];for(v[(g.length>>2)-1]=void 0,_=0;_<v.length;_+=1)v[_]=0;var h=g.length*8;for(_=0;_<h;_+=8)v[_>>5]|=(g[_/8]&255)<<_%32;return v}function s(g,_){var v=(g&65535)+(_&65535),h=(g>>16)+(_>>16)+(v>>16);return h<<16|v&65535}function a(g,_){return g<<_|g>>>32-_}function l(g,_,v,h,E,y){return s(a(s(s(_,g),s(h,y)),E),v)}function u(g,_,v,h,E,y,S){return l(_&v|~_&h,g,_,E,y,S)}function f(g,_,v,h,E,y,S){return l(_&h|v&~h,g,_,E,y,S)}function c(g,_,v,h,E,y,S){return l(_^v^h,g,_,E,y,S)}function p(g,_,v,h,E,y,S){return l(v^(_|~h),g,_,E,y,S)}var m=r;e.default=m,t.exports=e.default}}),Jge=Le({"../../node_modules/uuid/dist/v3.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(nK()),n=i(Kge());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,n.default),s=o;e.default=s,t.exports=e.default}}),Yge=Le({"../../node_modules/uuid/dist/v4.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(rK()),n=i(P2());function i(a){return a&&a.__esModule?a:{default:a}}function o(a,l,u){var f=l&&u||0;typeof a=="string"&&(l=a==="binary"?new Array(16):null,a=null),a=a||{};var c=a.random||(a.rng||r.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,l)for(var p=0;p<16;++p)l[f+p]=c[p];return l||(0,n.default)(c)}var s=o;e.default=s,t.exports=e.default}}),Xge=Le({"../../node_modules/uuid/dist/sha1-browser.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(s,a,l,u){switch(s){case 0:return a&l^~a&u;case 1:return a^l^u;case 2:return a&l^a&u^l&u;case 3:return a^l^u}}function n(s,a){return s<<a|s>>>32-a}function i(s){var a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var u=unescape(encodeURIComponent(s));s=new Array(u.length);for(var f=0;f<u.length;f++)s[f]=u.charCodeAt(f)}s.push(128);for(var c=s.length/4+2,p=Math.ceil(c/16),m=new Array(p),f=0;f<p;f++){m[f]=new Array(16);for(var g=0;g<16;g++)m[f][g]=s[f*64+g*4]<<24|s[f*64+g*4+1]<<16|s[f*64+g*4+2]<<8|s[f*64+g*4+3]}m[p-1][14]=(s.length-1)*8/Math.pow(2,32),m[p-1][14]=Math.floor(m[p-1][14]),m[p-1][15]=(s.length-1)*8&4294967295;for(var f=0;f<p;f++){for(var _=new Array(80),v=0;v<16;v++)_[v]=m[f][v];for(var v=16;v<80;v++)_[v]=n(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var h=l[0],E=l[1],y=l[2],S=l[3],T=l[4],v=0;v<80;v++){var x=Math.floor(v/20),d=n(h,5)+r(x,E,y,S)+T+a[x]+_[v]>>>0;T=S,S=y,y=n(E,30)>>>0,E=h,h=d}l[0]=l[0]+h>>>0,l[1]=l[1]+E>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+S>>>0,l[4]=l[4]+T>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var o=i;e.default=o,t.exports=e.default}}),Qge=Le({"../../node_modules/uuid/dist/v5.js"(e,t){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(nK()),n=i(Xge());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,n.default),s=o;e.default=s,t.exports=e.default}}),Zge=Le({"../../node_modules/uuid/dist/index.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(Gge()),r=o(Jge()),n=o(Yge()),i=o(Qge());function o(s){return s&&s.__esModule?s:{default:s}}}}),eve=Le({"../core/dist/servient.js"(e){Ce();var t=e&&e.__classPrivateFieldGet||function(g,_,v,h){if(v==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?g!==_||!h:!_.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?h:v==="a"?h.call(g):h?h.value:_.get(g)},r=e&&e.__classPrivateFieldSet||function(g,_,v,h,E){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?g!==_||!E:!_.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?E.call(g,v):E?E.value=v:_.set(g,v),v},n=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},i,o;Object.defineProperty(e,"__esModule",{value:!0});var s=n(Wge()),a=n(Ju()),l=Zge(),u=Ys(),f=Qs(),{debug:c,warn:p}=(0,u.createLoggers)("core","servient"),m=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,i.set(this,void 0),o.set(this,!1)}addMediaType(g,_=!1){a.default.addCodec(g,_)}expose(g){if(this.servers.length===0)return p("Servient has no servers to expose Things"),new Promise(h=>{h()});c(`Servient exposing '${g.title}'`);const _=f.Helpers.structuredClone(g);g.forms=[];for(const h of Object.values(g.properties))h.forms=[];for(const h of Object.values(g.actions))h.forms=[];for(const h of Object.values(g.events))h.forms=[];const v=[];return this.servers.forEach(h=>{v.push(h.expose(g,_))}),new Promise((h,E)=>{Promise.all(v).then(()=>h()).catch(y=>E(y))})}addThing(g){return g.id||(g.id="urn:uuid:"+(0,l.v4)(),p(`Servient generating ID for '${g.title}': '${g.id}'`)),this.things.has(g.id)?!1:(this.things.set(g.id,g),c(`Servient reset ID '${g.id}' with '${g.title}'`),!0)}destroyThing(g){return new Promise((_,v)=>{if(this.things.has(g)){c(`Servient destroying thing with id '${g}'`),this.things.delete(g);const h=[];this.servers.forEach(E=>{h.push(E.destroy(g))}),Promise.all(h).then(()=>_(!0)).catch(E=>v(E))}else p(`Servient was asked to destroy thing but failed to find thing with id '${g}'`),_(!1)})}getThing(g){if(this.things.has(g))return this.things.get(g)}getThings(){c(`Servient getThings size == '${this.things.size}'`);const g={};return this.things.forEach((_,v)=>{g[v]=_.getThingDescription()}),g}addServer(g){return this.things.forEach((_,v)=>g.expose(_)),this.servers.push(g),!0}getServers(){return this.servers.slice(0)}addClientFactory(g){c(`Servient adding client factory for '${g.scheme}'`),this.clientFactories.set(g.scheme,g)}removeClientFactory(g){var _;return c(`Servient removing client factory for '${g}'`),(_=this.clientFactories.get(g))==null||_.destroy(),this.clientFactories.delete(g)}hasClientFor(g){return c(`Servient checking for '${g}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(g)}getClientFor(g){const _=this.clientFactories.get(g);if(_)return c(`Servient creating client for scheme '${g}'`),_.getClient();throw new Error(`Servient has no ClientFactory for scheme '${g}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(g){for(const[_,v]of Object.entries(g??{})){c(`Servient storing credentials for '${_}'`);const h=this.credentialStore.get(_)??[];h.length===0&&this.credentialStore.set(_,h),h.push(v)}}getCredentials(g){c(`Servient looking up credentials for '${g}' (@deprecated)`);const _=this.credentialStore.get(g);if(_&&_.length>0)return _[0]}retrieveCredentials(g){return c(`Servient looking up credentials for '${g}'`),this.credentialStore.get(g)}async start(){if(t(this,i,"f")!==void 0)return c("Servient started already -> nop -> returning previous WoT implementation"),t(this,i,"f");if(t(this,o,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const g=[];return this.servers.forEach(_=>g.push(_.start(this))),this.clientFactories.forEach(_=>_.init()),await Promise.all(g),r(this,i,new s.default(this),"f")}async shutdown(){if(t(this,i,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(t(this,o,"f")){c("Servient shutdown already -> nop");return}this.clientFactories.forEach(_=>_.destroy());const g=this.servers.map(_=>_.stop());await Promise.all(g),r(this,o,!0,"f"),r(this,i,void 0,"f")}};i=new WeakMap,o=new WeakMap,e.default=m}}),Qs=Le({"../core/dist/core.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(v,h,E,y){y===void 0&&(y=E);var S=Object.getOwnPropertyDescriptor(h,E);(!S||("get"in S?!h.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return h[E]}}),Object.defineProperty(v,y,S)}:function(v,h,E,y){y===void 0&&(y=E),v[y]=h[E]}),r=e&&e.__exportStar||function(v,h){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(h,E)&&t(h,v,E)},n=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWarnLogger=e.createInfoLogger=e.createErrorLogger=e.createDebugLogger=e.createLoggers=e.ProtocolHelpers=e.Helpers=e.ExposedThing=e.ConsumedThing=e.DefaultContent=e.Content=e.NetconfOctetstreamCodecCodec=e.Base64Codec=e.TextCodec=e.CborCodec=e.JsonCodec=e.Servient=void 0;var i=n(eve());e.Servient=i.default,e.default=i.default,r(i0(),e),r(Kk(),e),r(Ju(),e);var o=RG();Object.defineProperty(e,"JsonCodec",{enumerable:!0,get:function(){return n(o).default}});var s=PG();Object.defineProperty(e,"CborCodec",{enumerable:!0,get:function(){return n(s).default}});var a=NG();Object.defineProperty(e,"TextCodec",{enumerable:!0,get:function(){return n(a).default}});var l=IG();Object.defineProperty(e,"Base64Codec",{enumerable:!0,get:function(){return n(l).default}});var u=DG();Object.defineProperty(e,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return n(u).default}}),r(jG(),e);var f=TG();Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return f.Content}}),Object.defineProperty(e,"DefaultContent",{enumerable:!0,get:function(){return f.DefaultContent}});var c=tK();Object.defineProperty(e,"ConsumedThing",{enumerable:!0,get:function(){return n(c).default}});var p=eK();Object.defineProperty(e,"ExposedThing",{enumerable:!0,get:function(){return n(p).default}});var m=d0();Object.defineProperty(e,"Helpers",{enumerable:!0,get:function(){return n(m).default}});var g=w2();Object.defineProperty(e,"ProtocolHelpers",{enumerable:!0,get:function(){return n(g).default}});var _=Ys();Object.defineProperty(e,"createLoggers",{enumerable:!0,get:function(){return _.createLoggers}}),Object.defineProperty(e,"createDebugLogger",{enumerable:!0,get:function(){return _.createDebugLogger}}),Object.defineProperty(e,"createErrorLogger",{enumerable:!0,get:function(){return _.createErrorLogger}}),Object.defineProperty(e,"createInfoLogger",{enumerable:!0,get:function(){return _.createInfoLogger}}),Object.defineProperty(e,"createWarnLogger",{enumerable:!0,get:function(){return _.createWarnLogger}})}});/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var R2=Le({"../../node_modules/node-fetch/browser.js"(e,t){Ce();var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}}),tve=Le({"../../node_modules/rxjs/util/isArray.js"(e){Ce(),e.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}}}),rve=Le({"../../node_modules/rxjs/util/isObject.js"(e){Ce();function t(r){return r!=null&&typeof r=="object"}e.isObject=t}}),nve=Le({"../../node_modules/rxjs/util/isFunction.js"(e){Ce();function t(r){return typeof r=="function"}e.isFunction=t}}),iK=Le({"../../node_modules/rxjs/util/errorObject.js"(e){Ce(),e.errorObject={e:{}}}}),ive=Le({"../../node_modules/rxjs/util/tryCatch.js"(e){Ce();var t=iK(),r;function n(){try{return r.apply(this,arguments)}catch(o){return t.errorObject.e=o,t.errorObject}}function i(o){return r=o,n}e.tryCatch=i}}),ove=Le({"../../node_modules/rxjs/util/UnsubscriptionError.js"(e){Ce();var t=e&&e.__extends||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},r=function(n){t(i,n);function i(o){n.call(this),this.errors=o;var s=Error.call(this,o?o.length+` errors occurred during unsubscription:
  `+o.map(function(a,l){return l+1+") "+a.toString()}).join(`
  `):"");this.name=s.name="UnsubscriptionError",this.stack=s.stack,this.message=s.message}return i}(Error);e.UnsubscriptionError=r}}),sve=Le({"../../node_modules/rxjs/Subscription.js"(e){Ce();var t=tve(),r=rve(),n=nve(),i=ive(),o=iK(),s=ove(),a=function(){function u(f){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,f&&(this._unsubscribe=f)}return u.prototype.unsubscribe=function(){var f=!1,c;if(!this.closed){var p=this,m=p._parent,g=p._parents,_=p._unsubscribe,v=p._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,E=g?g.length:0;m;)m.remove(this),m=++h<E&&g[h]||null;if(n.isFunction(_)){var y=i.tryCatch(_).call(this);y===o.errorObject&&(f=!0,c=c||(o.errorObject.e instanceof s.UnsubscriptionError?l(o.errorObject.e.errors):[o.errorObject.e]))}if(t.isArray(v))for(h=-1,E=v.length;++h<E;){var S=v[h];if(r.isObject(S)){var y=i.tryCatch(S.unsubscribe).call(S);if(y===o.errorObject){f=!0,c=c||[];var T=o.errorObject.e;T instanceof s.UnsubscriptionError?c=c.concat(l(T.errors)):c.push(T)}}}if(f)throw new s.UnsubscriptionError(c)}},u.prototype.add=function(f){if(!f||f===u.EMPTY)return u.EMPTY;if(f===this)return this;var c=f;switch(typeof f){case"function":c=new u(f);case"object":if(c.closed||typeof c.unsubscribe!="function")return c;if(this.closed)return c.unsubscribe(),c;if(typeof c._addParent!="function"){var p=c;c=new u,c._subscriptions=[p]}break;default:throw new Error("unrecognized teardown "+f+" added to Subscription.")}var m=this._subscriptions||(this._subscriptions=[]);return m.push(c),c._addParent(this),c},u.prototype.remove=function(f){var c=this._subscriptions;if(c){var p=c.indexOf(f);p!==-1&&c.splice(p,1)}},u.prototype._addParent=function(f){var c=this,p=c._parent,m=c._parents;!p||p===f?this._parent=f:m?m.indexOf(f)===-1&&m.push(f):this._parents=[f]},u.EMPTY=function(f){return f.closed=!0,f}(new u),u}();e.Subscription=a;function l(u){return u.reduce(function(f,c){return f.concat(c instanceof s.UnsubscriptionError?c.errors:c)},[])}}}),ave=Le({"(disabled):../../node_modules/client-oauth2/node_modules/safe-buffer/index.js"(){Ce()}}),oK={};Ku(oK,{decode:()=>sK,default:()=>Tu,encode:()=>aK,parse:()=>lK,stringify:()=>uK});function lve(){if(uI)return SE;uI=!0;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return SE=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&typeof i.maxKeys=="number"&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var f=t[u].replace(s,"%20"),c=f.indexOf(n),p,m,g,_;c>=0?(p=f.substr(0,c),m=f.substr(c+1)):(p=f,m=""),g=decodeURIComponent(p),_=decodeURIComponent(m),e(o,g)?Array.isArray(o[g])?o[g].push(_):o[g]=[o[g],_]:o[g]=_}return o},SE}function uve(){if(cI)return TE;cI=!0;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return TE=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var s=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(a){return s+encodeURIComponent(e(a))}).join(r):s+encodeURIComponent(e(t[o]))}).filter(Boolean).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},TE}function cve(){return fI||(fI=!0,ah.decode=ah.parse=lve(),ah.encode=ah.stringify=uve()),ah}var SE,uI,TE,cI,ah,fI,Tu,sK,aK,lK,uK,fve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/querystring.js"(){Ce(),SE={},uI=!1,TE={},cI=!1,ah={},fI=!1,Tu=cve(),Tu.decode,Tu.parse,Tu.encode,Tu.stringify,sK=Tu.decode,aK=Tu.encode,lK=Tu.parse,uK=Tu.stringify}}),dve=Le({"../../node_modules/client-oauth2/src/request/browser.js"(e,t){Ce(),t.exports=function(n,i,o,s){return new Promise(function(a,l){var u=new window.XMLHttpRequest;u.open(n,i),u.onload=function(){return a({status:u.status,body:u.responseText})},u.onerror=u.onabort=function(){return l(new Error(u.statusText||"XHR aborted: "+i))},Object.keys(s).forEach(function(f){u.setRequestHeader(f,s[f])}),u.send(o)})}}}),hve=Le({"../../node_modules/client-oauth2/src/client-oauth2.js"(e,t){Ce();var r=ave().Buffer,n=(fve(),pn(oK)),i=dve(),o="https://example.org/",s;typeof r=="function"?s=u:s=window.btoa.bind(window),t.exports=E;var a={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},l={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function u(O){return r.from(O).toString("base64")}function f(O){for(var P=1;P<arguments.length;P++){var k=arguments[P];if(O[k]==null)throw new TypeError('Expected "'+k+'" to exist')}}function c(O){var P=l[O.error]||O.error_description||O.error;if(P){var k=new Error(P);return k.body=O,k.code="EAUTH",k}}function p(O){try{return JSON.parse(O)}catch{return n.parse(O)}}function m(O){return Array.isArray(O)?O.join(" "):v(O)}function g(O,P){f(O,"clientId","authorizationUri");const k={client_id:O.clientId,redirect_uri:O.redirectUri,response_type:P,state:O.state};O.scopes!==void 0&&(k.scope=m(O.scopes));const B=O.authorizationUri.includes("?")?"&":"?";return O.authorizationUri+B+n.stringify(Object.assign(k,O.query))}function _(O,P){return"Basic "+s(v(O)+":"+v(P))}function v(O){return O==null?"":String(O)}function h(O,P){return{url:O.url,method:O.method,body:Object.assign({},O.body,P.body),query:Object.assign({},O.query,P.query),headers:Object.assign({},O.headers,P.headers)}}function E(O,P){this.options=O,this.request=P||i,this.code=new d(this),this.token=new T(this),this.owner=new S(this),this.credentials=new x(this),this.jwt=new $(this)}E.Token=y,E.prototype.createToken=function(O,P,k,B){var K=Object.assign({},B,typeof O=="string"?{access_token:O}:O,typeof P=="string"?{refresh_token:P}:P,typeof k=="string"?{token_type:k}:k);return new E.Token(this,K)},E.prototype._request=function(O){var P=O.url,k=n.stringify(O.body),B=n.stringify(O.query);return B&&(P+=(P.indexOf("?")===-1?"?":"&")+B),this.request(O.method,P,k,O.headers).then(function(K){var ie=p(K.body),W=c(ie);if(W)return Promise.reject(W);if(K.status<200||K.status>=399){var ne=new Error("HTTP status "+K.status);return ne.status=K.status,ne.body=K.body,ne.code="ESTATUS",Promise.reject(ne)}return ie})};function y(O,P){this.client=O,this.data=P,this.tokenType=P.token_type&&P.token_type.toLowerCase(),this.accessToken=P.access_token,this.refreshToken=P.refresh_token,this.expiresIn(Number(P.expires_in))}y.prototype.expiresIn=function(O){if(typeof O=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+O);else if(O instanceof Date)this.expires=new Date(O.getTime());else throw new TypeError("Unknown duration: "+O);return this.expires},y.prototype.sign=function(O){if(!this.accessToken)throw new Error("Unable to sign without access token");if(O.headers=O.headers||{},this.tokenType==="bearer")O.headers.Authorization="Bearer "+this.accessToken;else{var P=O.url.split("#"),k="access_token="+this.accessToken,B=P[0].replace(/[?&]access_token=[^&#]/,""),K=P[1]?"#"+P[1]:"";O.url=B+(B.indexOf("?")>-1?"&":"?")+k+K,O.headers.Pragma="no-store",O.headers["Cache-Control"]="no-store"}return O},y.prototype.refresh=function(O){var P=this,k=Object.assign({},this.client.options,O);return this.refreshToken?this.client._request(h({url:k.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(k.clientId,k.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},k)).then(function(B){return P.client.createToken(Object.assign({},P.data,B))}):Promise.reject(new Error("No refresh token"))},y.prototype.expired=function(){return Date.now()>this.expires.getTime()};function S(O){this.client=O}S.prototype.getToken=function(O,P,k){var B=this,K=Object.assign({},this.client.options,k);const ie={username:O,password:P,grant_type:"password"};return K.scopes!==void 0&&(ie.scope=m(K.scopes)),this.client._request(h({url:K.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(K.clientId,K.clientSecret)}),body:ie},K)).then(function(W){return B.client.createToken(W)})};function T(O){this.client=O}T.prototype.getUri=function(O){var P=Object.assign({},this.client.options,O);return g(P,"token")},T.prototype.getToken=function(O,P){var k=Object.assign({},this.client.options,P),B=typeof O=="object"?O:new URL(O,o),K=new URL(k.redirectUri,o);if(typeof B.pathname=="string"&&B.pathname!==K.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+B.pathname));if(!B.hash&&!B.search)return Promise.reject(new TypeError("Unable to process uri: "+O));var ie=Object.assign({},typeof B.search=="string"?n.parse(B.search.substr(1)):B.search||{},typeof B.hash=="string"?n.parse(B.hash.substr(1)):B.hash||{}),W=c(ie);return W?Promise.reject(W):k.state!=null&&ie.state!==k.state?Promise.reject(new TypeError("Invalid state: "+ie.state)):Promise.resolve(this.client.createToken(ie))};function x(O){this.client=O}x.prototype.getToken=function(O){var P=this,k=Object.assign({},this.client.options,O);f(k,"clientId","clientSecret","accessTokenUri");const B={grant_type:"client_credentials"};return k.scopes!==void 0&&(B.scope=m(k.scopes)),this.client._request(h({url:k.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(k.clientId,k.clientSecret)}),body:B},k)).then(function(K){return P.client.createToken(K)})};function d(O){this.client=O}d.prototype.getUri=function(O){var P=Object.assign({},this.client.options,O);return g(P,"code")},d.prototype.getToken=function(O,P){var k=this,B=Object.assign({},this.client.options,P);f(B,"clientId","accessTokenUri");var K=typeof O=="object"?O:new URL(O,o);if(typeof B.redirectUri=="string"&&typeof K.pathname=="string"&&K.pathname!==new URL(B.redirectUri,o).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+K.pathname));if(!K.search||!K.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+O));var ie=typeof K.search=="string"?n.parse(K.search.substr(1)):K.search||{},W=c(ie);if(W)return Promise.reject(W);if(B.state!=null&&ie.state!==B.state)return Promise.reject(new TypeError("Invalid state: "+ie.state));if(!ie.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var ne=Object.assign({},a),fe={code:ie.code,grant_type:"authorization_code",redirect_uri:B.redirectUri};return B.clientSecret?ne.Authorization=_(B.clientId,B.clientSecret):fe.client_id=B.clientId,this.client._request(h({url:B.accessTokenUri,method:"POST",headers:ne,body:fe},B)).then(function(re){return k.client.createToken(re)})};function $(O){this.client=O}$.prototype.getToken=function(O,P){var k=this,B=Object.assign({},this.client.options,P),K=Object.assign({},a);f(B,"accessTokenUri"),B.clientId&&(K.Authorization=_(B.clientId,B.clientSecret));const ie={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:O};return B.scopes!==void 0&&(ie.scope=m(B.scopes)),this.client._request(h({url:B.accessTokenUri,method:"POST",headers:K,body:ie},B)).then(function(W){return k.client.createToken(W)})}}}),pve=Le({"../../node_modules/strict-uri-encode/index.js"(e,t){Ce(),t.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),mve=Le({"../../node_modules/decode-uri-component/index.js"(e,t){Ce();var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(l,u){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;u=u||1;var f=l.slice(0,u),c=l.slice(u);return Array.prototype.concat.call([],o(f),o(c))}function s(l){try{return decodeURIComponent(l)}catch{for(var u=l.match(n)||[],f=1;f<u.length;f++)l=o(u,f).join(""),u=l.match(n)||[];return l}}function a(l){for(var u={"%FE%FF":"","%FF%FE":""},f=i.exec(l);f;){try{u[f[0]]=decodeURIComponent(f[0])}catch{var c=s(f[0]);c!==f[0]&&(u[f[0]]=c)}f=i.exec(l)}u["%C2"]="";for(var p=Object.keys(u),m=0;m<p.length;m++){var g=p[m];l=l.replace(new RegExp(g,"g"),u[g])}return l}t.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return a(l)}}}}),gve=Le({"../../node_modules/split-on-first/index.js"(e,t){Ce(),t.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];const i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),vve=Le({"../../node_modules/filter-obj/index.js"(e,t){Ce(),t.exports=function(r,n){for(var i={},o=Object.keys(r),s=Array.isArray(n),a=0;a<o.length;a++){var l=o[a],u=r[l];(s?n.indexOf(l)!==-1:n(l,u,r))&&(i[l]=u)}return i}}}),yve=Le({"../../node_modules/query-string/index.js"(e){Ce();var t=pve(),r=mve(),n=gve(),i=vve(),o=E=>E==null,s=Symbol("encodeFragmentIdentifier");function a(E){switch(E.arrayFormat){case"index":return y=>(S,T)=>{const x=S.length;return T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,[f(y,E),"[",x,"]"].join("")]:[...S,[f(y,E),"[",f(x,E),"]=",f(T,E)].join("")]};case"bracket":return y=>(S,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,[f(y,E),"[]"].join("")]:[...S,[f(y,E),"[]=",f(T,E)].join("")];case"colon-list-separator":return y=>(S,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,[f(y,E),":list="].join("")]:[...S,[f(y,E),":list=",f(T,E)].join("")];case"comma":case"separator":case"bracket-separator":{const y=E.arrayFormat==="bracket-separator"?"[]=":"=";return S=>(T,x)=>x===void 0||E.skipNull&&x===null||E.skipEmptyString&&x===""?T:(x=x===null?"":x,T.length===0?[[f(S,E),y,f(x,E)].join("")]:[[T,f(x,E)].join(E.arrayFormatSeparator)])}default:return y=>(S,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?S:T===null?[...S,f(y,E)]:[...S,[f(y,E),"=",f(T,E)].join("")]}}function l(E){let y;switch(E.arrayFormat){case"index":return(S,T,x)=>{if(y=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!y){x[S]=T;return}x[S]===void 0&&(x[S]={}),x[S][y[1]]=T};case"bracket":return(S,T,x)=>{if(y=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!y){x[S]=T;return}if(x[S]===void 0){x[S]=[T];return}x[S]=[].concat(x[S],T)};case"colon-list-separator":return(S,T,x)=>{if(y=/(:list)$/.exec(S),S=S.replace(/:list$/,""),!y){x[S]=T;return}if(x[S]===void 0){x[S]=[T];return}x[S]=[].concat(x[S],T)};case"comma":case"separator":return(S,T,x)=>{const d=typeof T=="string"&&T.includes(E.arrayFormatSeparator),$=typeof T=="string"&&!d&&c(T,E).includes(E.arrayFormatSeparator);T=$?c(T,E):T;const O=d||$?T.split(E.arrayFormatSeparator).map(P=>c(P,E)):T===null?T:c(T,E);x[S]=O};case"bracket-separator":return(S,T,x)=>{const d=/(\[\])$/.test(S);if(S=S.replace(/\[\]$/,""),!d){x[S]=T&&c(T,E);return}const $=T===null?[]:T.split(E.arrayFormatSeparator).map(O=>c(O,E));if(x[S]===void 0){x[S]=$;return}x[S]=[].concat(x[S],$)};default:return(S,T,x)=>{if(x[S]===void 0){x[S]=T;return}x[S]=[].concat(x[S],T)}}}function u(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(E,y){return y.encode?y.strict?t(E):encodeURIComponent(E):E}function c(E,y){return y.decode?r(E):E}function p(E){return Array.isArray(E)?E.sort():typeof E=="object"?p(Object.keys(E)).sort((y,S)=>Number(y)-Number(S)).map(y=>E[y]):E}function m(E){const y=E.indexOf("#");return y!==-1&&(E=E.slice(0,y)),E}function g(E){let y="";const S=E.indexOf("#");return S!==-1&&(y=E.slice(S)),y}function _(E){E=m(E);const y=E.indexOf("?");return y===-1?"":E.slice(y+1)}function v(E,y){return y.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):y.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function h(E,y){y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y),u(y.arrayFormatSeparator);const S=l(y),T=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return T;for(const x of E.split("&")){if(x==="")continue;let[d,$]=n(y.decode?x.replace(/\+/g," "):x,"=");$=$===void 0?null:["comma","separator","bracket-separator"].includes(y.arrayFormat)?$:c($,y),S(c(d,y),$,T)}for(const x of Object.keys(T)){const d=T[x];if(typeof d=="object"&&d!==null)for(const $ of Object.keys(d))d[$]=v(d[$],y);else T[x]=v(d,y)}return y.sort===!1?T:(y.sort===!0?Object.keys(T).sort():Object.keys(T).sort(y.sort)).reduce((x,d)=>{const $=T[d];return $&&typeof $=="object"&&!Array.isArray($)?x[d]=p($):x[d]=$,x},Object.create(null))}e.extract=_,e.parse=h,e.stringify=(E,y)=>{if(!E)return"";y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y),u(y.arrayFormatSeparator);const S=$=>y.skipNull&&o(E[$])||y.skipEmptyString&&E[$]==="",T=a(y),x={};for(const $ of Object.keys(E))S($)||(x[$]=E[$]);const d=Object.keys(x);return y.sort!==!1&&d.sort(y.sort),d.map($=>{const O=E[$];return O===void 0?"":O===null?f($,y):Array.isArray(O)?O.length===0&&y.arrayFormat==="bracket-separator"?f($,y)+"[]":O.reduce(T($),[]).join("&"):f($,y)+"="+f(O,y)}).filter($=>$.length>0).join("&")},e.parseUrl=(E,y)=>{y=Object.assign({decode:!0},y);const[S,T]=n(E,"#");return Object.assign({url:S.split("?")[0]||"",query:h(_(E),y)},y&&y.parseFragmentIdentifier&&T?{fragmentIdentifier:c(T,y)}:{})},e.stringifyUrl=(E,y)=>{y=Object.assign({encode:!0,strict:!0,[s]:!0},y);const S=m(E.url).split("?")[0]||"",T=e.extract(E.url),x=e.parse(T,{sort:!1}),d=Object.assign(x,E.query);let $=e.stringify(d,y);$&&($=`?${$}`);let O=g(E.url);return E.fragmentIdentifier&&(O=`#${y[s]?f(E.fragmentIdentifier,y):E.fragmentIdentifier}`),`${S}${$}${O}`},e.pick=(E,y,S)=>{S=Object.assign({parseFragmentIdentifier:!0,[s]:!1},S);const{url:T,query:x,fragmentIdentifier:d}=e.parseUrl(E,S);return e.stringifyUrl({url:T,query:i(x,y),fragmentIdentifier:d},S)},e.exclude=(E,y,S)=>{const T=Array.isArray(y)?x=>!y.includes(x):(x,d)=>!y(x,d);return e.pick(E,T,S)}}}),cK=Le({"../binding-http/dist/credential.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(m,g,_,v){v===void 0&&(v=_);var h=Object.getOwnPropertyDescriptor(g,_);(!h||("get"in h?!g.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(m,v,h)}:function(m,g,_,v){v===void 0&&(v=_),m[v]=g[_]}),r=e&&e.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=e&&e.__importStar||function(){var m=function(g){return m=Object.getOwnPropertyNames||function(_){var v=[];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(v[v.length]=h);return v},m(g)};return function(g){if(g&&g.__esModule)return g;var _={};if(g!=null)for(var v=m(g),h=0;h<v.length;h++)v[h]!=="default"&&t(_,g,v[h]);return r(_,g),_}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TuyaCustomBearer=e.OAuthCredential=e.BasicKeyCredential=e.BearerCredential=e.BasicCredential=e.Credential=void 0;var i=n(R2()),o=n((SW(),pn(a2))),s=n(yve()),a=class{};e.Credential=a;var l=class extends a{constructor({username:m,password:g},_){if(super(),m===void 0||g===void 0||m===null||g===null)throw new Error("No Basic credentials for Thing");this.username=m,this.password=g,this.options=_}async sign(m){const g=m.clone();let _="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Basic "+kn.from(this.username+":"+this.password).toString("base64")),g}};e.BasicCredential=l;var u=class extends a{constructor({token:m},g){if(super(),m==null)throw new Error("No Bearer credentials for Thing");this.token=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.set(_,"Bearer "+this.token),g}};e.BearerCredential=u;var f=class extends a{constructor({apiKey:m},g){if(super(),m==null)throw new Error("No API key credentials for Thing");this.apiKey=m,this.options=g}async sign(m){const g=m.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),g.headers.append(_,this.apiKey),g}};e.BasicKeyCredential=f;var c=class fK extends a{constructor(g,_){super(),this.token=g,this.refresh=_,this.token=g}async sign(g){if(this.token instanceof Promise){const h=this.token;this.token=await h}let _={url:g.url,headers:{}};return _=this.token.sign(_),new i.Request(g,_)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let g;return this.refresh?g=await this.refresh():g=await this.token.refresh(),new fK(g,this.refresh)}};e.OAuthCredential=c;var p=class extends a{constructor(m,g){super(),this.key=m.key,this.secret=m.secret,this.baseUri=g.baseUri}async sign(m){var y;const g=this.isTokenExpired();(this.token===void 0||this.token===""||g)&&await this.requestAndRefreshToken(g);const _=m.url,v=(y=m.body)==null?void 0:y.read().toString(),h=m.method,E=this.getHeaders(!0,m.headers.raw(),v,_,h);return Object.assign(E,m.headers.raw()),new i.Request(_,{method:h,body:v!==""?v:void 0,headers:E})}async requestAndRefreshToken(m){var y,S,T;const _={headers:this.getHeaders(!1,{}),method:"GET"};let v=`${this.baseUri}/token?grant_type=1`;m&&(v=`${this.baseUri}/token/${this.refreshToken}`);const h=await(await(0,i.default)(v,_)).json();if(h.success??!1){this.token=(y=h.result)==null?void 0:y.access_token,this.refreshToken=(S=h.result)==null?void 0:S.refresh_token;const x=(T=h.result)==null?void 0:T.expire_time;x!=null&&(this.expireTime=new Date(Date.now()+x*1e3))}else throw new Error("token fetch failed")}getHeaders(m,g,_,v,h){const E=Date.now().toString(),y=this.baseUri.replace("/v1.0",""),S=v==null?void 0:v.replace(y,""),T=this.requestSign(m,E,_,S,h);return{t:E,client_id:this.key,sign_method:"HMAC-SHA256",sign:T,access_token:this.token??""}}requestSign(m,g,_,v="",h){const E=o.createHash("sha256").update(_??"").digest("hex");let y="/v1.0/token?grant_type=1";const S="";let T="";const x=h??"GET";if(m){T=this.token??"";const O=s.parse(v.split("?")[1]);let P={};P=Object.assign(P,O);const k={};Object.keys(P).sort().forEach(K=>{k[K]=P[K]});const B=s.stringify(k);y=decodeURIComponent(B?`${v.split("?")[0]}?${B}`:v)}const d=[this.key,T,g,[x,E,S,y].join(`
`)].join("");return o.createHmac("sha256",this.secret).update(d).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};e.TuyaCustomBearer=p}}),dK=Le({"../binding-http/dist/oauth-manager.js"(e){Ce();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(hve()),i=(tT(),pn(l0)),o=cK();function s(l){return(u,f,c,p)=>new Promise((m,g)=>{const _=new URL(f),v={method:u,host:_.hostname,port:parseInt(_.port),path:_.pathname+_.search,headers:p};v.rejectUnauthorized=l;const h=(0,i.request)(v);h.on("response",E=>{E.setEncoding("utf8");const y=[];E.on("data",S=>{y.push(S)}),E.on("end",()=>{m({status:E.statusCode??500,body:y.toString()})})}),h.on("error",E=>{g(E)}),h.write(c),h.end()})}var a=class{constructor(){this.tokenStore=new Map}handleClient(l,u){const f=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes),body:{}},s(!1)),c=f.credentials.getToken();return new o.OAuthCredential(c,f.credentials.getToken.bind(f.credentials))}handleResourceOwnerCredential(l,u){const c=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes)},s(!1)).owner.getToken(u.username,u.password);return new o.OAuthCredential(c)}};e.default=a}});function wve(){if(dI)return $E;dI=!0;const e=2147483647,t=36,r=1,n=26,i=38,o=700,s=72,a=128,l="-",u=/^xn--/,f=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=t-r,g=Math.floor,_=String.fromCharCode;function v(K){throw new RangeError(p[K])}function h(K,ie){const W=[];let ne=K.length;for(;ne--;)W[ne]=ie(K[ne]);return W}function E(K,ie){const W=K.split("@");let ne="";W.length>1&&(ne=W[0]+"@",K=W[1]),K=K.replace(c,".");const fe=K.split("."),re=h(fe,ie).join(".");return ne+re}function y(K){const ie=[];let W=0;const ne=K.length;for(;W<ne;){const fe=K.charCodeAt(W++);if(fe>=55296&&fe<=56319&&W<ne){const re=K.charCodeAt(W++);(re&64512)==56320?ie.push(((fe&1023)<<10)+(re&1023)+65536):(ie.push(fe),W--)}else ie.push(fe)}return ie}const S=K=>String.fromCodePoint(...K),T=function(K){return K>=48&&K<58?26+(K-48):K>=65&&K<91?K-65:K>=97&&K<123?K-97:t},x=function(K,ie){return K+22+75*(K<26)-((ie!=0)<<5)},d=function(K,ie,W){let ne=0;for(K=W?g(K/o):K>>1,K+=g(K/ie);K>m*n>>1;ne+=t)K=g(K/m);return g(ne+(m+1)*K/(K+i))},$=function(K){const ie=[],W=K.length;let ne=0,fe=a,re=s,le=K.lastIndexOf(l);le<0&&(le=0);for(let F=0;F<le;++F)K.charCodeAt(F)>=128&&v("not-basic"),ie.push(K.charCodeAt(F));for(let F=le>0?le+1:0;F<W;){const z=ne;for(let R=1,C=t;;C+=t){F>=W&&v("invalid-input");const q=T(K.charCodeAt(F++));q>=t&&v("invalid-input"),q>g((e-ne)/R)&&v("overflow"),ne+=q*R;const oe=C<=re?r:C>=re+n?n:C-re;if(q<oe)break;const X=t-oe;R>g(e/X)&&v("overflow"),R*=X}const J=ie.length+1;re=d(ne-z,J,z==0),g(ne/J)>e-fe&&v("overflow"),fe+=g(ne/J),ne%=J,ie.splice(ne++,0,fe)}return String.fromCodePoint(...ie)},O=function(K){const ie=[];K=y(K);const W=K.length;let ne=a,fe=0,re=s;for(const z of K)z<128&&ie.push(_(z));const le=ie.length;let F=le;for(le&&ie.push(l);F<W;){let z=e;for(const R of K)R>=ne&&R<z&&(z=R);const J=F+1;z-ne>g((e-fe)/J)&&v("overflow"),fe+=(z-ne)*J,ne=z;for(const R of K)if(R<ne&&++fe>e&&v("overflow"),R===ne){let C=fe;for(let q=t;;q+=t){const oe=q<=re?r:q>=re+n?n:q-re;if(C<oe)break;const X=C-oe,ee=t-oe;ie.push(_(x(oe+X%ee,0))),C=g(X/ee)}ie.push(_(x(C,0))),re=d(fe,J,F===le),fe=0,++F}++fe,++ne}return ie.join("")};return $E={version:"2.3.1",ucs2:{decode:y,encode:S},decode:$,encode:O,toASCII:function(K){return E(K,function(ie){return f.test(ie)?"xn--"+O(ie):ie})},toUnicode:function(K){return E(K,function(ie){return u.test(ie)?$(ie.slice(4).toLowerCase()):ie})}},$E}var $E,dI,Rf,bve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/punycode.js"(){Ce(),$E={},dI=!1,Rf=wve(),Rf.decode,Rf.encode,Rf.toASCII,Rf.toUnicode,Rf.ucs2,Rf.version}});function _ve(){if(hI)return xE;hI=!0;var e=fo;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,p=0;p<=o.length;++p){if(p<o.length)c=o.charCodeAt(p);else{if(c===47)break;c=47}if(c===47){if(!(u===p-1||f===1))if(u!==p-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,p):a=o.slice(u+1,p),l=p-u-1;u=p,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var p=a.length,m=p-c,g=f<m?f:m,_=-1,v=0;v<=g;++v){if(v===g){if(m>g){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>g&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var h=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(h!==E)break;h===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var p=a.length-1,m=-1;for(c=s.length-1;c>=0;--c){var g=s.charCodeAt(c);if(g===47){if(!f){l=c+1;break}}else m===-1&&(f=!1,m=c+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(u=c):(p=-1,u=m))}return l===u?u=m:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,p=s.length-1;p>=0;--p){var m=s.charCodeAt(p);if(m===47){if(!f){l=p+1;break}continue}u===-1&&(f=!1,u=p+1),m===46?a===-1?a=p:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,p=0,m=-1,g=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!g){p=_+1;break}continue}m===-1&&(g=!1,m=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||m===-1||v===0||v===1&&c===m-1&&c===p+1?m!==-1&&(p===0&&u?a.base=a.name=s.slice(1,m):a.base=a.name=s.slice(p,m)):(p===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,m)):(a.name=s.slice(p,c),a.base=s.slice(p,m)),a.ext=s.slice(c,m)),p>0?a.dir=s.slice(0,p-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,xE=i,xE}var xE,hI,pI,Eve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BlJi4mNy.js"(){Ce(),a0(),xE={},hI=!1,pI=_ve()}}),hK={};Ku(hK,{URL:()=>SK,Url:()=>yK,default:()=>Do,fileURLToPath:()=>mK,format:()=>wK,parse:()=>EK,pathToFileURL:()=>gK,resolve:()=>bK,resolveObject:()=>_K});function Sve(){if(mI)return AE;mI=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,c=f?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,m=p?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,_=Object.prototype.toString,v=Function.prototype.toString,h=String.prototype.match,E=String.prototype.slice,y=String.prototype.replace,S=String.prototype.toUpperCase,T=String.prototype.toLowerCase,x=RegExp.prototype.test,d=Array.prototype.concat,$=Array.prototype.join,O=Array.prototype.slice,P=Math.floor,k=typeof BigInt=="function"?BigInt.prototype.valueOf:null,B=Object.getOwnPropertySymbols,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ie=typeof Symbol=="function"&&typeof Symbol.iterator=="object",W=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ie||!0)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,fe=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Be){return Be.__proto__}:null);function re(Be,Xe){if(Be===1/0||Be===-1/0||Be!==Be||Be&&Be>-1e3&&Be<1e3||x.call(/e/,Xe))return Xe;var vt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Be=="number"){var St=Be<0?-P(-Be):P(Be);if(St!==Be){var yt=String(St),Yt=E.call(Xe,yt.length+1);return y.call(yt,vt,"$&_")+"."+y.call(y.call(Yt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(Xe,vt,"$&_")}var le=vK,F=le.custom,z=Oe(F)?F:null;AE=function Be(Xe,vt,St,yt){var Yt=vt||{};if(M(Yt,"quoteStyle")&&Yt.quoteStyle!=="single"&&Yt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(Yt,"maxStringLength")&&(typeof Yt.maxStringLength=="number"?Yt.maxStringLength<0&&Yt.maxStringLength!==1/0:Yt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Jr=M(Yt,"customInspect")?Yt.customInspect:!0;if(typeof Jr!="boolean"&&Jr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(M(Yt,"indent")&&Yt.indent!==null&&Yt.indent!=="	"&&!(parseInt(Yt.indent,10)===Yt.indent&&Yt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(M(Yt,"numericSeparator")&&typeof Yt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var cn=Yt.numericSeparator;if(typeof Xe>"u")return"undefined";if(Xe===null)return"null";if(typeof Xe=="boolean")return Xe?"true":"false";if(typeof Xe=="string")return Qe(Xe,Yt);if(typeof Xe=="number"){if(Xe===0)return 1/0/Xe>0?"0":"-0";var Tr=String(Xe);return cn?re(Xe,Tr):Tr}if(typeof Xe=="bigint"){var Rr=String(Xe)+"n";return cn?re(Xe,Rr):Rr}var Nn=typeof Yt.depth>"u"?5:Yt.depth;if(typeof St>"u"&&(St=0),St>=Nn&&Nn>0&&typeof Xe=="object")return C(Xe)?"[Array]":"[Object]";var wr=Te(Yt,St);if(typeof yt>"u")yt=[];else if(de(yt,Xe)>=0)return"[Circular]";function cr(Ht,Xt,Ft){if(Xt&&(yt=O.call(yt),yt.push(Xt)),Ft){var qt={depth:Yt.depth};return M(Yt,"quoteStyle")&&(qt.quoteStyle=Yt.quoteStyle),Be(Ht,qt,St+1,yt)}return Be(Ht,Yt,St+1,yt)}if(typeof Xe=="function"&&!oe(Xe)){var ar=ue(Xe),Ie=ze(Xe,cr);return"[Function"+(ar?": "+ar:" (anonymous)")+"]"+(Ie.length>0?" { "+$.call(Ie,", ")+" }":"")}if(Oe(Xe)){var ke=ie?y.call(String(Xe),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(Xe);return typeof Xe=="object"&&!ie?te(ke):ke}if(ut(Xe)){for(var ft="<"+T.call(String(Xe.nodeName)),bt=Xe.attributes||[],Lt=0;Lt<bt.length;Lt++)ft+=" "+bt[Lt].name+"="+J(R(bt[Lt].value),"double",Yt);return ft+=">",Xe.childNodes&&Xe.childNodes.length&&(ft+="..."),ft+="</"+T.call(String(Xe.nodeName))+">",ft}if(C(Xe)){if(Xe.length===0)return"[]";var xt=ze(Xe,cr);return wr&&!ce(xt)?"["+Re(xt,wr)+"]":"[ "+$.call(xt,", ")+" ]"}if(X(Xe)){var Mt=ze(Xe,cr);return!("cause"in Error.prototype)&&"cause"in Xe&&!ne.call(Xe,"cause")?"{ ["+String(Xe)+"] "+$.call(d.call("[cause]: "+cr(Xe.cause),Mt),", ")+" }":Mt.length===0?"["+String(Xe)+"]":"{ ["+String(Xe)+"] "+$.call(Mt,", ")+" }"}if(typeof Xe=="object"&&Jr){if(z&&typeof Xe[z]=="function"&&le)return le(Xe,{depth:Nn-St});if(Jr!=="symbol"&&typeof Xe.inspect=="function")return Xe.inspect()}if(ve(Xe)){var ye=[];return n&&n.call(Xe,function(Ht,Xt){ye.push(cr(Xt,Xe,!0)+" => "+cr(Ht,Xe))}),U("Map",r.call(Xe),ye,wr)}if(He(Xe)){var me=[];return a&&a.call(Xe,function(Ht){me.push(cr(Ht,Xe))}),U("Set",s.call(Xe),me,wr)}if(Se(Xe))return j("WeakMap");if(Ve(Xe))return j("WeakSet");if(Fe(Xe))return j("WeakRef");if(se(Xe))return te(cr(Number(Xe)));if(I(Xe))return te(cr(k.call(Xe)));if(we(Xe))return te(g.call(Xe));if(ee(Xe))return te(cr(String(Xe)));if(typeof window<"u"&&Xe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Xe===globalThis||typeof OE<"u"&&Xe===OE)return"{ [object globalThis] }";if(!q(Xe)&&!oe(Xe)){var $e=ze(Xe,cr),Me=fe?fe(Xe)===Object.prototype:Xe instanceof Object||Xe.constructor===Object,De=Xe instanceof Object?"":"null prototype",dt=!Me&&W&&Object(Xe)===Xe&&W in Xe?E.call(Z(Xe),8,-1):De?"Object":"",mt=Me||typeof Xe.constructor!="function"?"":Xe.constructor.name?Xe.constructor.name+" ":"",At=mt+(dt||De?"["+$.call(d.call([],dt||[],De||[]),": ")+"] ":"");return $e.length===0?At+"{}":wr?At+"{"+Re($e,wr)+"}":At+"{ "+$.call($e,", ")+" }"}return String(Xe)};function J(Be,Xe,vt){var St=(vt.quoteStyle||Xe)==="double"?'"':"'";return St+Be+St}function R(Be){return y.call(String(Be),/"/g,"&quot;")}function C(Be){return Z(Be)==="[object Array]"&&(!W||!(typeof Be=="object"&&W in Be))}function q(Be){return Z(Be)==="[object Date]"&&(!W||!(typeof Be=="object"&&W in Be))}function oe(Be){return Z(Be)==="[object RegExp]"&&(!W||!(typeof Be=="object"&&W in Be))}function X(Be){return Z(Be)==="[object Error]"&&(!W||!(typeof Be=="object"&&W in Be))}function ee(Be){return Z(Be)==="[object String]"&&(!W||!(typeof Be=="object"&&W in Be))}function se(Be){return Z(Be)==="[object Number]"&&(!W||!(typeof Be=="object"&&W in Be))}function we(Be){return Z(Be)==="[object Boolean]"&&(!W||!(typeof Be=="object"&&W in Be))}function Oe(Be){if(ie)return Be&&typeof Be=="object"&&Be instanceof Symbol;if(typeof Be=="symbol")return!0;if(!Be||typeof Be!="object"||!K)return!1;try{return K.call(Be),!0}catch{}return!1}function I(Be){if(!Be||typeof Be!="object"||!k)return!1;try{return k.call(Be),!0}catch{}return!1}var L=Object.prototype.hasOwnProperty||function(Be){return Be in(this||OE)};function M(Be,Xe){return L.call(Be,Xe)}function Z(Be){return _.call(Be)}function ue(Be){if(Be.name)return Be.name;var Xe=h.call(v.call(Be),/^function\s*([\w$]+)/);return Xe?Xe[1]:null}function de(Be,Xe){if(Be.indexOf)return Be.indexOf(Xe);for(var vt=0,St=Be.length;vt<St;vt++)if(Be[vt]===Xe)return vt;return-1}function ve(Be){if(!r||!Be||typeof Be!="object")return!1;try{r.call(Be);try{s.call(Be)}catch{return!0}return Be instanceof Map}catch{}return!1}function Se(Be){if(!u||!Be||typeof Be!="object")return!1;try{u.call(Be,u);try{c.call(Be,c)}catch{return!0}return Be instanceof WeakMap}catch{}return!1}function Fe(Be){if(!m||!Be||typeof Be!="object")return!1;try{return m.call(Be),!0}catch{}return!1}function He(Be){if(!s||!Be||typeof Be!="object")return!1;try{s.call(Be);try{r.call(Be)}catch{return!0}return Be instanceof Set}catch{}return!1}function Ve(Be){if(!c||!Be||typeof Be!="object")return!1;try{c.call(Be,c);try{u.call(Be,u)}catch{return!0}return Be instanceof WeakSet}catch{}return!1}function ut(Be){return!Be||typeof Be!="object"?!1:typeof HTMLElement<"u"&&Be instanceof HTMLElement?!0:typeof Be.nodeName=="string"&&typeof Be.getAttribute=="function"}function Qe(Be,Xe){if(Be.length>Xe.maxStringLength){var vt=Be.length-Xe.maxStringLength,St="... "+vt+" more character"+(vt>1?"s":"");return Qe(E.call(Be,0,Xe.maxStringLength),Xe)+St}var yt=y.call(y.call(Be,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ye);return J(yt,"single",Xe)}function Ye(Be){var Xe=Be.charCodeAt(0),vt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Xe];return vt?"\\"+vt:"\\x"+(Xe<16?"0":"")+S.call(Xe.toString(16))}function te(Be){return"Object("+Be+")"}function j(Be){return Be+" { ? }"}function U(Be,Xe,vt,St){var yt=St?Re(vt,St):$.call(vt,", ");return Be+" ("+Xe+") {"+yt+"}"}function ce(Be){for(var Xe=0;Xe<Be.length;Xe++)if(de(Be[Xe],`
`)>=0)return!1;return!0}function Te(Be,Xe){var vt;if(Be.indent==="	")vt="	";else if(typeof Be.indent=="number"&&Be.indent>0)vt=$.call(Array(Be.indent+1)," ");else return null;return{base:vt,prev:$.call(Array(Xe+1),vt)}}function Re(Be,Xe){if(Be.length===0)return"";var vt=`
`+Xe.prev+Xe.base;return vt+$.call(Be,","+vt)+`
`+Xe.prev}function ze(Be,Xe){var vt=C(Be),St=[];if(vt){St.length=Be.length;for(var yt=0;yt<Be.length;yt++)St[yt]=M(Be,yt)?Xe(Be[yt],Be):""}var Yt=typeof B=="function"?B(Be):[],Jr;if(ie){Jr={};for(var cn=0;cn<Yt.length;cn++)Jr["$"+Yt[cn]]=Yt[cn]}for(var Tr in Be)M(Be,Tr)&&(vt&&String(Number(Tr))===Tr&&Tr<Be.length||ie&&Jr["$"+Tr]instanceof Symbol||(x.call(/[^\w$]/,Tr)?St.push(Xe(Tr,Be)+": "+Xe(Be[Tr],Be)):St.push(Tr+": "+Xe(Be[Tr],Be))));if(typeof B=="function")for(var Rr=0;Rr<Yt.length;Rr++)ne.call(Be,Yt[Rr])&&St.push("["+Xe(Yt[Rr])+"]: "+Xe(Be[Yt[Rr]],Be));return St}return AE}function Tve(){if(gI)return PE;gI=!0;var e=lg(),t=f2(),r=Sve(),n=u0(),i=e("%WeakMap%",!0),o=e("%Map%",!0),s=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),f=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),p=function(v,h){for(var E=v,y;(y=E.next)!==null;E=y)if(y.key===h)return E.next=y.next,y.next=v.next,v.next=y,y},m=function(v,h){var E=p(v,h);return E&&E.value},g=function(v,h,E){var y=p(v,h);y?y.value=E:v.next={key:h,next:v.next,value:E}},_=function(v,h){return!!p(v,h)};return PE=function(){var h,E,y,S={assert:function(T){if(!S.has(T))throw new n("Side channel does not contain "+r(T))},get:function(T){if(i&&T&&(typeof T=="object"||typeof T=="function")){if(h)return s(h,T)}else if(o){if(E)return u(E,T)}else if(y)return m(y,T)},has:function(T){if(i&&T&&(typeof T=="object"||typeof T=="function")){if(h)return l(h,T)}else if(o){if(E)return c(E,T)}else if(y)return _(y,T);return!1},set:function(T,x){i&&T&&(typeof T=="object"||typeof T=="function")?(h||(h=new i),a(h,T,x)):o?(E||(E=new o),f(E,T,x)):(y||(y={key:{},next:null}),g(y,T,x))}};return S},PE}function N2(){if(vI)return RE;vI=!0;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return RE={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},RE}function pK(){if(yI)return NE;yI=!0;var e=N2(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],h=0;h<256;++h)v.push("%"+((h<16?"0":"")+h.toString(16)).toUpperCase());return v}(),i=function(h){for(;h.length>1;){var E=h.pop(),y=E.obj[E.prop];if(r(y)){for(var S=[],T=0;T<y.length;++T)typeof y[T]<"u"&&S.push(y[T]);E.obj[E.prop]=S}}},o=function(h,E){for(var y=E&&E.plainObjects?Object.create(null):{},S=0;S<h.length;++S)typeof h[S]<"u"&&(y[S]=h[S]);return y},s=function v(h,E,y){if(!E)return h;if(typeof E!="object"){if(r(h))h.push(E);else if(h&&typeof h=="object")(y&&(y.plainObjects||y.allowPrototypes)||!t.call(Object.prototype,E))&&(h[E]=!0);else return[h,E];return h}if(!h||typeof h!="object")return[h].concat(E);var S=h;return r(h)&&!r(E)&&(S=o(h,y)),r(h)&&r(E)?(E.forEach(function(T,x){if(t.call(h,x)){var d=h[x];d&&typeof d=="object"&&T&&typeof T=="object"?h[x]=v(d,T,y):h.push(T)}else h[x]=T}),h):Object.keys(E).reduce(function(T,x){var d=E[x];return t.call(T,x)?T[x]=v(T[x],d,y):T[x]=d,T},S)},a=function(h,E){return Object.keys(E).reduce(function(y,S){return y[S]=E[S],y},h)},l=function(v,h,E){var y=v.replace(/\+/g," ");if(E==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch{return y}},u=1024,f=function(h,E,y,S,T){if(h.length===0)return h;var x=h;if(typeof h=="symbol"?x=Symbol.prototype.toString.call(h):typeof h!="string"&&(x=String(h)),y==="iso-8859-1")return escape(x).replace(/%u[0-9a-f]{4}/gi,function(K){return"%26%23"+parseInt(K.slice(2),16)+"%3B"});for(var d="",$=0;$<x.length;$+=u){for(var O=x.length>=u?x.slice($,$+u):x,P=[],k=0;k<O.length;++k){var B=O.charCodeAt(k);if(B===45||B===46||B===95||B===126||B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122||T===e.RFC1738&&(B===40||B===41)){P[P.length]=O.charAt(k);continue}if(B<128){P[P.length]=n[B];continue}if(B<2048){P[P.length]=n[192|B>>6]+n[128|B&63];continue}if(B<55296||B>=57344){P[P.length]=n[224|B>>12]+n[128|B>>6&63]+n[128|B&63];continue}k+=1,B=65536+((B&1023)<<10|O.charCodeAt(k)&1023),P[P.length]=n[240|B>>18]+n[128|B>>12&63]+n[128|B>>6&63]+n[128|B&63]}d+=P.join("")}return d},c=function(h){for(var E=[{obj:{o:h},prop:"o"}],y=[],S=0;S<E.length;++S)for(var T=E[S],x=T.obj[T.prop],d=Object.keys(x),$=0;$<d.length;++$){var O=d[$],P=x[O];typeof P=="object"&&P!==null&&y.indexOf(P)===-1&&(E.push({obj:x,prop:O}),y.push(P))}return i(E),h},p=function(h){return Object.prototype.toString.call(h)==="[object RegExp]"},m=function(h){return!h||typeof h!="object"?!1:!!(h.constructor&&h.constructor.isBuffer&&h.constructor.isBuffer(h))},g=function(h,E){return[].concat(h,E)},_=function(h,E){if(r(h)){for(var y=[],S=0;S<h.length;S+=1)y.push(E(h[S]));return y}return E(h)};return NE={arrayToObject:o,assign:a,combine:g,compact:c,decode:l,encode:f,isBuffer:m,isRegExp:p,maybeMap:_,merge:s},NE}function $ve(){if(wI)return IE;wI=!0;var e=Tve(),t=pK(),r=N2(),n=Object.prototype.hasOwnProperty,i={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,h){return v+"["+h+"]"},repeat:function(v){return v}},o=Array.isArray,s=Array.prototype.push,a=function(_,v){s.apply(_,o(v)?v:[v])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},c=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},p={},m=function _(v,h,E,y,S,T,x,d,$,O,P,k,B,K,ie,W,ne,fe){for(var re=v,le=fe,F=0,z=!1;(le=le.get(p))!==void 0&&!z;){var J=le.get(v);if(F+=1,typeof J<"u"){if(J===F)throw new RangeError("Cyclic object value");z=!0}typeof le.get(p)>"u"&&(F=0)}if(typeof O=="function"?re=O(h,re):re instanceof Date?re=B(re):E==="comma"&&o(re)&&(re=t.maybeMap(re,function(Z){return Z instanceof Date?B(Z):Z})),re===null){if(T)return $&&!W?$(h,f.encoder,ne,"key",K):h;re=""}if(c(re)||t.isBuffer(re)){if($){var R=W?h:$(h,f.encoder,ne,"key",K);return[ie(R)+"="+ie($(re,f.encoder,ne,"value",K))]}return[ie(h)+"="+ie(String(re))]}var C=[];if(typeof re>"u")return C;var q;if(E==="comma"&&o(re))W&&$&&(re=t.maybeMap(re,$)),q=[{value:re.length>0?re.join(",")||null:void 0}];else if(o(O))q=O;else{var oe=Object.keys(re);q=P?oe.sort(P):oe}var X=d?h.replace(/\./g,"%2E"):h,ee=y&&o(re)&&re.length===1?X+"[]":X;if(S&&o(re)&&re.length===0)return ee+"[]";for(var se=0;se<q.length;++se){var we=q[se],Oe=typeof we=="object"&&typeof we.value<"u"?we.value:re[we];if(!(x&&Oe===null)){var I=k&&d?we.replace(/\./g,"%2E"):we,L=o(re)?typeof E=="function"?E(ee,I):ee:ee+(k?"."+I:"["+I+"]");fe.set(v,F);var M=e();M.set(p,fe),a(C,_(Oe,L,E,y,S,T,x,d,E==="comma"&&W&&o(re)?null:$,O,P,k,B,K,ie,W,ne,M))}}return C},g=function(v){if(!v)return f;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var h=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");E=v.format}var y=r.formatters[E],S=f.filter;(typeof v.filter=="function"||o(v.filter))&&(S=v.filter);var T;if(v.arrayFormat in i?T=v.arrayFormat:"indices"in v?T=v.indices?"indices":"repeat":T=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var x=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:x,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:T,charset:h,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:E,formatter:y,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}};return IE=function(_,v){var h=_,E=g(v),y,S;typeof E.filter=="function"?(S=E.filter,h=S("",h)):o(E.filter)&&(S=E.filter,y=S);var T=[];if(typeof h!="object"||h===null)return"";var x=i[E.arrayFormat],d=x==="comma"&&E.commaRoundTrip;y||(y=Object.keys(h)),E.sort&&y.sort(E.sort);for(var $=e(),O=0;O<y.length;++O){var P=y[O];E.skipNulls&&h[P]===null||a(T,m(h[P],P,x,d,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,$))}var k=T.join(E.delimiter),B=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?B+="utf8=%26%2310003%3B&":B+="utf8=%E2%9C%93&"),k.length>0?B+k:""},IE}function xve(){if(bI)return CE;bI=!0;var e=pK(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(p){return p.replace(/&#(\d+);/g,function(m,g){return String.fromCharCode(parseInt(g,10))})},o=function(p,m){return p&&typeof p=="string"&&m.comma&&p.indexOf(",")>-1?p.split(","):p},s="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(m,g){var _={__proto__:null},v=g.ignoreQueryPrefix?m.replace(/^\?/,""):m;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var h=g.parameterLimit===1/0?void 0:g.parameterLimit,E=v.split(g.delimiter,h),y=-1,S,T=g.charset;if(g.charsetSentinel)for(S=0;S<E.length;++S)E[S].indexOf("utf8=")===0&&(E[S]===a?T="utf-8":E[S]===s&&(T="iso-8859-1"),y=S,S=E.length);for(S=0;S<E.length;++S)if(S!==y){var x=E[S],d=x.indexOf("]="),$=d===-1?x.indexOf("="):d+1,O,P;$===-1?(O=g.decoder(x,n.decoder,T,"key"),P=g.strictNullHandling?null:""):(O=g.decoder(x.slice(0,$),n.decoder,T,"key"),P=e.maybeMap(o(x.slice($+1),g),function(B){return g.decoder(B,n.decoder,T,"value")})),P&&g.interpretNumericEntities&&T==="iso-8859-1"&&(P=i(P)),x.indexOf("[]=")>-1&&(P=r(P)?[P]:P);var k=t.call(_,O);k&&g.duplicates==="combine"?_[O]=e.combine(_[O],P):(!k||g.duplicates==="last")&&(_[O]=P)}return _},u=function(p,m,g,_){for(var v=_?m:o(m,g),h=p.length-1;h>=0;--h){var E,y=p[h];if(y==="[]"&&g.parseArrays)E=g.allowEmptyArrays&&(v===""||g.strictNullHandling&&v===null)?[]:[].concat(v);else{E=g.plainObjects?Object.create(null):{};var S=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,T=g.decodeDotInKeys?S.replace(/%2E/g,"."):S,x=parseInt(T,10);!g.parseArrays&&T===""?E={0:v}:!isNaN(x)&&y!==T&&String(x)===T&&x>=0&&g.parseArrays&&x<=g.arrayLimit?(E=[],E[x]=v):T!=="__proto__"&&(E[T]=v)}v=E}return v},f=function(m,g,_,v){if(m){var h=_.allowDots?m.replace(/\.([^.[]+)/g,"[$1]"):m,E=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,S=_.depth>0&&E.exec(h),T=S?h.slice(0,S.index):h,x=[];if(T){if(!_.plainObjects&&t.call(Object.prototype,T)&&!_.allowPrototypes)return;x.push(T)}for(var d=0;_.depth>0&&(S=y.exec(h))!==null&&d<_.depth;){if(d+=1,!_.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!_.allowPrototypes)return;x.push(S[1])}if(S){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");x.push("["+h.slice(S.index)+"]")}return u(x,g,_,v)}},c=function(m){if(!m)return n;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.decodeDotInKeys<"u"&&typeof m.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(m.decoder!==null&&typeof m.decoder<"u"&&typeof m.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof m.charset>"u"?n.charset:m.charset,_=typeof m.duplicates>"u"?n.duplicates:m.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof m.allowDots>"u"?m.decodeDotInKeys===!0?!0:n.allowDots:!!m.allowDots;return{allowDots:v,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof m.allowPrototypes=="boolean"?m.allowPrototypes:n.allowPrototypes,allowSparse:typeof m.allowSparse=="boolean"?m.allowSparse:n.allowSparse,arrayLimit:typeof m.arrayLimit=="number"?m.arrayLimit:n.arrayLimit,charset:g,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:n.charsetSentinel,comma:typeof m.comma=="boolean"?m.comma:n.comma,decodeDotInKeys:typeof m.decodeDotInKeys=="boolean"?m.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof m.decoder=="function"?m.decoder:n.decoder,delimiter:typeof m.delimiter=="string"||e.isRegExp(m.delimiter)?m.delimiter:n.delimiter,depth:typeof m.depth=="number"||m.depth===!1?+m.depth:n.depth,duplicates:_,ignoreQueryPrefix:m.ignoreQueryPrefix===!0,interpretNumericEntities:typeof m.interpretNumericEntities=="boolean"?m.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof m.parameterLimit=="number"?m.parameterLimit:n.parameterLimit,parseArrays:m.parseArrays!==!1,plainObjects:typeof m.plainObjects=="boolean"?m.plainObjects:n.plainObjects,strictDepth:typeof m.strictDepth=="boolean"?!!m.strictDepth:n.strictDepth,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:n.strictNullHandling}};return CE=function(p,m){var g=c(m);if(p===""||p===null||typeof p>"u")return g.plainObjects?Object.create(null):{};for(var _=typeof p=="string"?l(p,g):p,v=g.plainObjects?Object.create(null):{},h=Object.keys(_),E=0;E<h.length;++E){var y=h[E],S=f(y,_[y],g,typeof p=="string");v=e.merge(v,S,g)}return g.allowSparse===!0?v:e.compact(v)},CE}function Ave(){if(_I)return kE;_I=!0;var e=$ve(),t=xve(),r=N2();return kE={formats:r,parse:t,stringify:e},kE}function Ove(){if(EI)return Nf;EI=!0;var e=Rf;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),a=["'"].concat(s),l=["%","/","?",";","#"].concat(a),u=["/","?","#"],f=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=Ave();function h(T,x,d){if(T&&typeof T=="object"&&T instanceof t)return T;var $=new t;return $.parse(T,x,d),$}t.prototype.parse=function(T,x,d){if(typeof T!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof T);var $=T.indexOf("?"),O=$!==-1&&$<T.indexOf("#")?"?":"#",P=T.split(O),k=/\\/g;P[0]=P[0].replace(k,"/"),T=P.join(O);var B=T;if(B=B.trim(),!d&&T.split("#").length===1){var K=i.exec(B);if(K)return this.path=B,this.href=B,this.pathname=K[1],K[2]?(this.search=K[2],x?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):x&&(this.search="",this.query={}),this}var ie=r.exec(B);if(ie){ie=ie[0];var W=ie.toLowerCase();this.protocol=W,B=B.substr(ie.length)}if(d||ie||B.match(/^\/\/[^@/]+@[^@/]+/)){var ne=B.substr(0,2)==="//";ne&&!(ie&&g[ie])&&(B=B.substr(2),this.slashes=!0)}if(!g[ie]&&(ne||ie&&!_[ie])){for(var fe=-1,re=0;re<u.length;re++){var le=B.indexOf(u[re]);le!==-1&&(fe===-1||le<fe)&&(fe=le)}var F,z;fe===-1?z=B.lastIndexOf("@"):z=B.lastIndexOf("@",fe),z!==-1&&(F=B.slice(0,z),B=B.slice(z+1),this.auth=decodeURIComponent(F)),fe=-1;for(var re=0;re<l.length;re++){var le=B.indexOf(l[re]);le!==-1&&(fe===-1||le<fe)&&(fe=le)}fe===-1&&(fe=B.length),this.host=B.slice(0,fe),B=B.slice(fe),this.parseHost(),this.hostname=this.hostname||"";var J=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!J)for(var R=this.hostname.split(/\./),re=0,C=R.length;re<C;re++){var q=R[re];if(q&&!q.match(c)){for(var oe="",X=0,ee=q.length;X<ee;X++)q.charCodeAt(X)>127?oe+="x":oe+=q[X];if(!oe.match(c)){var se=R.slice(0,re),we=R.slice(re+1),Oe=q.match(p);Oe&&(se.push(Oe[1]),we.unshift(Oe[2])),we.length&&(B="/"+we.join(".")+B),this.hostname=se.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),J||(this.hostname=e.toASCII(this.hostname));var I=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+I,this.href+=this.host,J&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),B[0]!=="/"&&(B="/"+B))}if(!m[W])for(var re=0,C=a.length;re<C;re++){var M=a[re];if(B.indexOf(M)!==-1){var Z=encodeURIComponent(M);Z===M&&(Z=escape(M)),B=B.split(M).join(Z)}}var ue=B.indexOf("#");ue!==-1&&(this.hash=B.substr(ue),B=B.slice(0,ue));var de=B.indexOf("?");if(de!==-1?(this.search=B.substr(de),this.query=B.substr(de+1),x&&(this.query=v.parse(this.query)),B=B.slice(0,de)):x&&(this.search="",this.query={}),B&&(this.pathname=B),_[W]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",ve=this.search||"";this.path=I+ve}return this.href=this.format(),this};function E(T){return typeof T=="string"&&(T=h(T)),T instanceof t?T.format():t.prototype.format.call(T)}t.prototype.format=function(){var T=this.auth||"";T&&(T=encodeURIComponent(T),T=T.replace(/%3A/i,":"),T+="@");var x=this.protocol||"",d=this.pathname||"",$=this.hash||"",O=!1,P="";this.host?O=T+this.host:this.hostname&&(O=T+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(P=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var k=this.search||P&&"?"+P||"";return x&&x.substr(-1)!==":"&&(x+=":"),this.slashes||(!x||_[x])&&O!==!1?(O="//"+(O||""),d&&d.charAt(0)!=="/"&&(d="/"+d)):O||(O=""),$&&$.charAt(0)!=="#"&&($="#"+$),k&&k.charAt(0)!=="?"&&(k="?"+k),d=d.replace(/[?#]/g,function(B){return encodeURIComponent(B)}),k=k.replace("#","%23"),x+O+d+k+$};function y(T,x){return h(T,!1,!0).resolve(x)}t.prototype.resolve=function(T){return this.resolveObject(h(T,!1,!0)).format()};function S(T,x){return T?h(T,!1,!0).resolveObject(x):x}return t.prototype.resolveObject=function(T){if(typeof T=="string"){var x=new t;x.parse(T,!1,!0),T=x}for(var d=new t,$=Object.keys(this),O=0;O<$.length;O++){var P=$[O];d[P]=this[P]}if(d.hash=T.hash,T.href==="")return d.href=d.format(),d;if(T.slashes&&!T.protocol){for(var k=Object.keys(T),B=0;B<k.length;B++){var K=k[B];K!=="protocol"&&(d[K]=T[K])}return _[d.protocol]&&d.hostname&&!d.pathname&&(d.pathname="/",d.path=d.pathname),d.href=d.format(),d}if(T.protocol&&T.protocol!==d.protocol){if(!_[T.protocol]){for(var ie=Object.keys(T),W=0;W<ie.length;W++){var ne=ie[W];d[ne]=T[ne]}return d.href=d.format(),d}if(d.protocol=T.protocol,!T.host&&!g[T.protocol]){for(var C=(T.pathname||"").split("/");C.length&&!(T.host=C.shift()););T.host||(T.host=""),T.hostname||(T.hostname=""),C[0]!==""&&C.unshift(""),C.length<2&&C.unshift(""),d.pathname=C.join("/")}else d.pathname=T.pathname;if(d.search=T.search,d.query=T.query,d.host=T.host||"",d.auth=T.auth,d.hostname=T.hostname||T.host,d.port=T.port,d.pathname||d.search){var fe=d.pathname||"",re=d.search||"";d.path=fe+re}return d.slashes=d.slashes||T.slashes,d.href=d.format(),d}var le=d.pathname&&d.pathname.charAt(0)==="/",F=T.host||T.pathname&&T.pathname.charAt(0)==="/",z=F||le||d.host&&T.pathname,J=z,R=d.pathname&&d.pathname.split("/")||[],C=T.pathname&&T.pathname.split("/")||[],q=d.protocol&&!_[d.protocol];if(q&&(d.hostname="",d.port=null,d.host&&(R[0]===""?R[0]=d.host:R.unshift(d.host)),d.host="",T.protocol&&(T.hostname=null,T.port=null,T.host&&(C[0]===""?C[0]=T.host:C.unshift(T.host)),T.host=null),z=z&&(C[0]===""||R[0]==="")),F)d.host=T.host||T.host===""?T.host:d.host,d.hostname=T.hostname||T.hostname===""?T.hostname:d.hostname,d.search=T.search,d.query=T.query,R=C;else if(C.length)R||(R=[]),R.pop(),R=R.concat(C),d.search=T.search,d.query=T.query;else if(T.search!=null){if(q){d.host=R.shift(),d.hostname=d.host;var oe=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;oe&&(d.auth=oe.shift(),d.hostname=oe.shift(),d.host=d.hostname)}return d.search=T.search,d.query=T.query,(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d}if(!R.length)return d.pathname=null,d.search?d.path="/"+d.search:d.path=null,d.href=d.format(),d;for(var X=R.slice(-1)[0],ee=(d.host||T.host||R.length>1)&&(X==="."||X==="..")||X==="",se=0,we=R.length;we>=0;we--)X=R[we],X==="."?R.splice(we,1):X===".."?(R.splice(we,1),se++):se&&(R.splice(we,1),se--);if(!z&&!J)for(;se--;se)R.unshift("..");z&&R[0]!==""&&(!R[0]||R[0].charAt(0)!=="/")&&R.unshift(""),ee&&R.join("/").substr(-1)!=="/"&&R.push("");var Oe=R[0]===""||R[0]&&R[0].charAt(0)==="/";if(q){d.hostname=Oe?"":R.length?R.shift():"",d.host=d.hostname;var oe=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;oe&&(d.auth=oe.shift(),d.hostname=oe.shift(),d.host=d.hostname)}return z=z||d.host&&R.length,z&&!Oe&&R.unshift(""),R.length>0?d.pathname=R.join("/"):(d.pathname=null,d.path=null),(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.auth=T.auth||d.auth,d.slashes=d.slashes||T.slashes,d.href=d.format(),d},t.prototype.parseHost=function(){var T=this.host,x=n.exec(T);x&&(x=x[0],x!==":"&&(this.port=x.substr(1)),T=T.substr(0,T.length-x.length)),T&&(this.hostname=T)},Nf.parse=h,Nf.resolve=y,Nf.resolveObject=S,Nf.format=E,Nf.Url=t,Nf}function mK(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return HS?Pve(e):Rve(e)}function Pve(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(OK,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<xK||n>AK||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function Rve(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function gK(e){let t=pI.resolve(e);const r=e.charCodeAt(e.length-1);(r===$K||HS&&r===TK)&&t[t.length-1]!==pI.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(PK,"%25")),!HS&&t.includes("\\")&&(t=t.replace(RK,"%5C")),t.includes(`
`)&&(t=t.replace(NK,"%0A")),t.includes("\r")&&(t=t.replace(IK,"%0D")),t.includes("	")&&(t=t.replace(CK,"%09")),n.pathname=t,n}var vK,AE,mI,OE,PE,gI,RE,vI,NE,yI,IE,wI,CE,bI,kE,_I,Nf,EI,Do,HB,yK,wK,bK,_K,EK,SK,TK,$K,xK,AK,HS,OK,PK,RK,NK,IK,CK,Nve=Vn({"../../node_modules/@jspm/core/nodelibs/browser/url.js"(){Ce(),bve(),d2(),Eve(),a0(),vK=Object.freeze(Object.create(null)),AE={},mI=!1,OE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,PE={},gI=!1,RE={},vI=!1,NE={},yI=!1,IE={},wI=!1,CE={},bI=!1,kE={},_I=!1,Nf={},EI=!1,Do=Ove(),Do.parse,Do.resolve,Do.resolveObject,Do.format,Do.Url,HB=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Do.URL=typeof URL<"u"?URL:null,Do.pathToFileURL=gK,Do.fileURLToPath=mK,yK=Do.Url,wK=Do.format,bK=Do.resolve,_K=Do.resolveObject,EK=Do.parse,SK=Do.URL,TK=92,$K=47,xK=97,AK=122,HS=HB==="win32",OK=/\//g,PK=/%/g,RK=/\\/g,NK=/\n/g,IK=/\r/g,CK=/\t/g}}),Ive=Le({"../../node_modules/eventsource/lib/eventsource.js"(e,t){Ce();var r=(Nve(),pn(hK)).parse,n=(NW(),pn(TW)),i=(tT(),pn(l0)),o=(n2(),pn(Z1)),s=(nT(),pn(rT)),a=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],u=58,f=32,c=10,p=13,m=1024*256,g=/^(cookie|authorization)$/i;function _(S){return l.every(function(T,x){return S[x]===T})}function v(S,T){var x=v.CONNECTING,d=T&&T.headers,$=!1;Object.defineProperty(this,"readyState",{get:function(){return x}}),Object.defineProperty(this,"url",{get:function(){return S}});var O=this;O.reconnectInterval=1e3,O.connectionInProgress=!1;function P(F){x!==v.CLOSED&&(x=v.CONNECTING,re("error",new h("error",{message:F})),ne&&(S=ne,ne=null,$=!1),setTimeout(function(){x!==v.CONNECTING||O.connectionInProgress||(O.connectionInProgress=!0,fe())},O.reconnectInterval))}var k,B="";d&&d["Last-Event-ID"]&&(B=d["Last-Event-ID"],delete d["Last-Event-ID"]);var K=!1,ie="",W="",ne=null;function fe(){var F=r(S),z=F.protocol==="https:";if(F.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},B&&(F.headers["Last-Event-ID"]=B),d){var J=$?y(d):d;for(var R in J){var C=J[R];C&&(F.headers[R]=C)}}F.rejectUnauthorized=!(T&&!T.rejectUnauthorized),T&&T.createConnection!==void 0&&(F.createConnection=T.createConnection);var q=T&&T.proxy;if(q){var oe=r(T.proxy);z=oe.protocol==="https:",F.protocol=z?"https:":"http:",F.path=S,F.headers.Host=F.host,F.hostname=oe.hostname,F.host=oe.host,F.port=oe.port}if(T&&T.https){for(var X in T.https)if(a.indexOf(X)!==-1){var ee=T.https[X];ee!==void 0&&(F[X]=ee)}}T&&T.withCredentials!==void 0&&(F.withCredentials=T.withCredentials),k=(z?i:o).request(F,function(se){if(O.connectionInProgress=!1,se.statusCode===500||se.statusCode===502||se.statusCode===503||se.statusCode===504){re("error",new h("error",{status:se.statusCode,message:se.statusMessage})),P();return}if(se.statusCode===301||se.statusCode===302||se.statusCode===307){var we=se.headers.location;if(!we){re("error",new h("error",{status:se.statusCode,message:se.statusMessage}));return}var Oe=new URL(S).origin,I=new URL(we).origin;$=Oe!==I,se.statusCode===307&&(ne=S),S=we,process.nextTick(fe);return}if(se.statusCode!==200)return re("error",new h("error",{status:se.statusCode,message:se.statusMessage})),O.close();x=v.OPEN,se.on("close",function(){se.removeAllListeners("close"),se.removeAllListeners("end"),P()}),se.on("end",function(){se.removeAllListeners("close"),se.removeAllListeners("end"),P()}),re("open",new h("open"));var L,M,Z=0,ue=-1,de=0,ve=0;se.on("data",function(Se){L?(Se.length>L.length-ve&&(de=L.length*2+Se.length,de>m&&(de=L.length+Se.length+m),M=kn.alloc(de),L.copy(M,0,0,ve),L=M),Se.copy(L,ve),ve+=Se.length):(L=Se,_(L)&&(L=L.slice(l.length)),ve=L.length);for(var Fe=0,He=ve;Fe<He;){K&&(L[Fe]===c&&++Fe,K=!1);for(var Ve=-1,ut=ue,Qe,Ye=Z;Ve<0&&Ye<He;++Ye)Qe=L[Ye],Qe===u?ut<0&&(ut=Ye-Fe):Qe===p?(K=!0,Ve=Ye-Fe):Qe===c&&(Ve=Ye-Fe);if(Ve<0){Z=He-Fe,ue=ut;break}else Z=0,ue=-1;le(L,Fe,ut,Ve),Fe+=Ve+1}Fe===He?(L=void 0,ve=0):Fe>0&&(L=L.slice(Fe,ve),ve=L.length)})}),k.on("error",function(se){O.connectionInProgress=!1,P(se.message)}),k.setNoDelay&&k.setNoDelay(!0),k.end()}fe();function re(){O.listeners(arguments[0]).length>0&&O.emit.apply(O,arguments)}this._close=function(){x!==v.CLOSED&&(x=v.CLOSED,k.abort&&k.abort(),k.xhr&&k.xhr.abort&&k.xhr.abort())};function le(F,z,J,R){if(R===0){if(ie.length>0){var C=W||"message";re(C,new E(C,{data:ie.slice(0,-1),lastEventId:B,origin:new URL(S).origin})),ie=""}W=void 0}else if(J>0){var q=J<0,oe=0,X=F.slice(z,z+(q?R:J)).toString();q?oe=R:F[z+J+1]!==f?oe=J+1:oe=J+2,z+=oe;var ee=R-oe,se=F.slice(z,z+ee).toString();if(X==="data")ie+=se+`
`;else if(X==="event")W=se;else if(X==="id")B=se;else if(X==="retry"){var we=parseInt(se,10);Number.isNaN(we)||(O.reconnectInterval=we)}}}}t.exports=v,s.inherits(v,n.EventEmitter),v.prototype.constructor=v,["open","error","message"].forEach(function(S){Object.defineProperty(v.prototype,"on"+S,{get:function(){var x=this.listeners(S)[0];return x?x._listener?x._listener:x:void 0},set:function(x){this.removeAllListeners(S),this.addEventListener(S,x)}})}),Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(v,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(v,"CLOSED",{enumerable:!0,value:2}),v.prototype.CONNECTING=0,v.prototype.OPEN=1,v.prototype.CLOSED=2,v.prototype.close=function(){this._close()},v.prototype.addEventListener=function(T,x){typeof x=="function"&&(x._listener=x,this.on(T,x))},v.prototype.dispatchEvent=function(T){if(!T.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(T.type,T.detail)},v.prototype.removeEventListener=function(T,x){typeof x=="function"&&(x._listener=void 0,this.removeListener(T,x))};function h(S,T){if(Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0}),T)for(var x in T)T.hasOwnProperty(x)&&Object.defineProperty(this,x,{writable:!1,value:T[x],enumerable:!0})}function E(S,T){Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0});for(var x in T)T.hasOwnProperty(x)&&Object.defineProperty(this,x,{writable:!1,value:T[x],enumerable:!0})}function y(S){var T={};for(var x in S)g.test(x)||(T[x]=S[x]);return T}}}),Cve=Le({"../binding-http/dist/subscription-protocols.js"(e){Ce();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.SSESubscription=e.LongPollingSubscription=void 0;var r=t(Ive()),n=Qs(),i=(ml(),pn(Aa)),{debug:o}=(0,n.createLoggers)("binding-http","subscription-protocols"),s=class{constructor(l,u){this.form=l,this.client=u,this.closed=!1,this.abortController=new AbortController}open(l,u,f){return new Promise((c,p)=>{const m=async g=>{try{if(g){const h=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.fetch(h)).ok&&c()}const _=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});o(`HttpClient (subscribeResource) sending ${_.method} to ${_.url}`);const v=await this.client.fetch(_);if(this.client.checkFetchResponse(v),o(`HttpClient received ${v.status} from ${_.url}`),o(`HttpClient received headers: ${JSON.stringify(v.headers.raw())}`),o(`HttpClient received Content-Type: ${v.headers.get("content-type")}`),!this.closed){const h=n.ProtocolHelpers.toNodeStream(v.body);l(new n.Content(v.headers.get("content-type")??n.ContentSerdes.DEFAULT,h)),m(!1)}f&&f()}catch(_){const v=_ instanceof Error?_:new Error(JSON.stringify(_));u&&u(v),f&&f(),p(_)}};m(!0)})}close(){this.abortController.abort(),this.closed=!0}};e.LongPollingSubscription=s;var a=class{constructor(l){this.form=l,this.closed=!1}open(l,u,f){return new Promise((c,p)=>{this.eventSource=new r.default(this.form.href),this.eventSource.onopen=m=>{o(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),c()},this.eventSource.onmessage=m=>{o(`HttpClient received ${JSON.stringify(m)} from ${this.form.href}`);const g=new n.Content(this.form.contentType??n.ContentSerdes.DEFAULT,i.Readable.from(m.data));l(g)},this.eventSource.onerror=function(m){u==null||u(new Error(m.toString())),f&&f(),p(m.toString())}})}close(){var l;(l=this.eventSource)==null||l.close()}};e.SSESubscription=a}}),kve=Le({"../binding-http/dist/http-client-impl.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(E,y,S,T){T===void 0&&(T=S);var x=Object.getOwnPropertyDescriptor(y,S);(!x||("get"in x?!y.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(E,T,x)}:function(E,y,S,T){T===void 0&&(T=S),E[T]=y[S]}),r=e&&e.__setModuleDefault||(Object.create?function(E,y){Object.defineProperty(E,"default",{enumerable:!0,value:y})}:function(E,y){E.default=y}),n=e&&e.__importStar||function(){var E=function(y){return E=Object.getOwnPropertyNames||function(S){var T=[];for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(T[T.length]=x);return T},E(y)};return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var T=E(y),x=0;x<T.length;x++)T[x]!=="default"&&t(S,y,T[x]);return r(S,y),S}}(),i=e&&e.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((n2(),pn(Z1))),s=n((tT(),pn(l0))),a=sve(),l=Qs(),u=n(R2()),f=(md(),pn(pd)),c=i(dK()),p=cK(),m=Cve(),{debug:g,warn:_,error:v}=(0,l.createLoggers)("binding-http","http-client-impl"),h=class Tv{constructor(y=null,S=!1,T=new c.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,y!==null&&y.proxy&&y.proxy.href&&(this.proxyRequest=new u.Request(Tv.fixLocalhostName(y.proxy.href)),y.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(y.proxy,"username")||!Object.prototype.hasOwnProperty.call(y.proxy,"password"))&&_("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(y.proxy.username+":"+y.proxy.password).toString("base64"))):y.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(y.proxy,"token")||_("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+y.proxy.token)),this.proxyRequest.protocol==="https"&&(S=!0),g(`HttpClient using ${S?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),y!==null&&y.allowSelfSigned!==void 0&&(this.allowSelfSigned=y.allowSelfSigned,_("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=S?new s.Agent({rejectUnauthorized:!this.allowSelfSigned}):new o.Agent,this.provider=S?"https":"http",this.oauth=T}toString(){return"[HttpClient]"}async readResource(y){const S=y.contentType!=null?[["accept",y.contentType]]:[["accept",l.ContentSerdes.DEFAULT]],T=await this.generateFetchRequest(y,"GET",{headers:S});g(`HttpClient (readResource) sending ${T.method} to ${T.url}`);const x=await this.fetch(T);this.checkFetchResponse(x),g(`HttpClient received headers: ${JSON.stringify(x.headers.raw())}`),g(`HttpClient received Content-Type: ${x.headers.get("content-type")}`);const d=l.ProtocolHelpers.toNodeStream(x.body);return new l.Content(x.headers.get("content-type")??l.ContentSerdes.DEFAULT,d)}async writeResource(y,S){const T=await this.generateFetchRequest(y,"PUT",{headers:[["content-type",S.type]],body:S.body});g(`HttpClient (writeResource) sending ${T.method} with '${T.headers.get("Content-Type")}' to ${T.url}`);const x=await this.fetch(T);g(`HttpClient received ${x.status} from ${x.url}`),this.checkFetchResponse(x),g(`HttpClient received headers: ${JSON.stringify(x.headers.raw())}`)}async subscribeResource(y,S,T,x){const d="longpoll";let $=y.subprotocol;$==null&&(_(`Subscribing to ${y.href} using long polling for form without subprotocol`),$=d);let O;if($===d)O=new m.LongPollingSubscription(y,this);else if(y.subprotocol==="sse")O=new m.SSESubscription(y);else throw new Error(`HttpClient does not support subprotocol ${y.subprotocol}`);return await O.open(S,T,x),this.activeSubscriptions.set(y.href,O),new a.Subscription(()=>{O.close()})}async invokeResource(y,S){var O,P;const T=S!=null?[["content-type",S.type]]:[];((O=y.response)==null?void 0:O.contentType)!=null?T.push(["accept",(P=y.response)==null?void 0:P.contentType]):y.contentType!=null?T.push(["accept",y.contentType]):T.push(["accept",l.ContentSerdes.DEFAULT]);const x=await this.generateFetchRequest(y,"POST",{headers:T,body:S==null?void 0:S.body});g(`HttpClient (invokeResource) sending ${x.method} ${S!=null?`with '"${x.headers.get("Content-Type")}"`:""} to ${x.url}`);const d=await this.fetch(x);g(`HttpClient received ${d.status} from ${x.url}`),g(`HttpClient received Content-Type: ${d.headers.get("content-type")}`),this.checkFetchResponse(d);const $=l.ProtocolHelpers.toNodeStream(d.body);return new l.Content(d.headers.get("content-type")??l.ContentSerdes.DEFAULT,$)}async unlinkResource(y){g(`HttpClient (unlinkResource) ${y.href}`);const S=this.activeSubscriptions.get(y.href);S?S.close():_(`HttpClient cannot unlink ${y.href} no subscription found`)}async requestThingDescription(y){const S={Accept:"application/td+json"},T=await this.generateFetchRequest({href:y},"GET",S),x=await this.fetch(T),d=l.ProtocolHelpers.toNodeStream(x.body);return new l.Content(x.headers.get("content-type")??"application/td+json",d)}async start(){}async stop(){var y,S;(S=(y=this.agent)==null?void 0:y.destroy)==null||S.call(y)}setSecurity(y,S){if(y===void 0||!Array.isArray(y)||y.length===0)return _("HttpClient without security"),!1;const T=y[0];switch(T.scheme){case"basic":{const x=T;this.credential=new p.BasicCredential(S,x);break}case"bearer":{const x=T;this.credential=new p.BearerCredential(S,x);break}case"apikey":{const x=T;this.credential=new p.BasicKeyCredential(S,x);break}case"oauth2":{const x=T;x.flow==="client"?(x.flow="client_credentials",this.credential=this.oauth.handleClient(x,S)):x.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential(x,S));break}case"TuyaCustomBearer":{this.credential=new p.TuyaCustomBearer(S,T);break}case"nosec":break;default:return v(`HttpClient cannot set security scheme '${T.scheme}'. ${y}`),!1}if(T.proxy!=null){if(this.proxyRequest!==null&&g(`HttpClient overriding client-side proxy with security proxy '${T.proxy}`),this.proxyRequest=new u.Request(Tv.fixLocalhostName(T.proxy)),T.scheme==="basic"){const x=S;if(x===void 0||x.username===void 0||x.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(x.username+":"+x.password).toString("base64"))}else if(T.scheme==="bearer"){const x=S;if(S===void 0||x.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+x.token)}}return g(`HttpClient using security scheme '${T.scheme}'`),!0}async generateFetchRequest(y,S,T={}){const x=T,d=Tv.fixLocalhostName(y.href);if(x.method=y["htv:methodName"]?y["htv:methodName"]:S,x.headers=x.headers??[],x.headers=x.headers,Array.isArray(y["htv:headers"])){g(`HttpClient got Form 'headers' ${y["htv:headers"]}`);const O=y["htv:headers"];for(const P of O)x.headers=x.headers.filter(k=>k[0].toLowerCase()!==P["htv:fieldName"].toLowerCase()),x.headers.push([P["htv:fieldName"],P["htv:fieldValue"]])}else if(typeof y["htv:headers"]=="object"){g(`HttpClient got Form SINGLE-ENTRY 'headers' ${y["htv:headers"]}`);const O=y["htv:headers"];x.headers=x.headers.filter(P=>P[0].toLowerCase()!==O["htv:fieldName"].toLowerCase()),x.headers.push([O["htv:fieldName"],O["htv:fieldValue"]])}x.agent=this.agent;let $=this.proxyRequest?new u.Request(this.proxyRequest,x):new u.Request(d,x);if(this.credential&&($=await this.credential.sign($)),this.proxyRequest){const O=new URL(d);$.url=$.url+O.pathname,g(`HttpClient proxy request URL: ${$.url}`),$.headers.set("host",O.hostname)}return $}async fetch(y,S){const T=await(0,u.default)(y,{body:S==null?void 0:S.body});return Tv.isOAuthTokenExpired(T,this.credential)?(this.credential=await this.credential.refreshToken(),await(0,u.default)(await this.credential.sign(y))):T}checkFetchResponse(y){const S=y.status;if(S<200)throw new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`);if(!(S<300))throw S<400?new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`):S<500?new Error(`Client error: ${y.statusText}`):new Error(`Server error: ${y.statusText}`)}static isOAuthTokenExpired(y,S){return y.status===401&&S instanceof p.OAuthCredential}static fixLocalhostName(y){const S=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return S.test(y)?(_("LOCALHOST FIX"),y.replace(S,"$1$2127.0.0.1")):y}};e.default=h}}),WS=Le({"../binding-http/dist/http-client-browser.js"(e){Ce();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=(ml(),pn(Aa)),i=t(kve()),o=class extends i.default{async generateFetchRequest(s,a,l){if((l==null?void 0:l.body)instanceof n.Readable){const u=await r.ProtocolHelpers.readStreamFully(l.body);l.body=u}return super.generateFetchRequest(s,a,l)}};e.default=o}}),WB=Le({"../binding-http/dist/http-client-factory.js"(e){Ce();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(WS()),i=t(dK()),{debug:o,warn:s}=(0,r.createLoggers)("binding-http","http-client-factory"),a=class{constructor(l=null){this.scheme="http",this.config=null,this.oAuthManager=new i.default,this.config=l}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(s("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new n.default(this.config,!0,this.oAuthManager)):(o(`HttpClientFactory creating client for '${this.scheme}'`),new n.default(this.config))}init(){return!0}destroy(){return!0}};e.default=a}}),GB=Le({"../binding-http/dist/https-client-factory.js"(e){Ce();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(WS()),{debug:i,warn:o}=(0,r.createLoggers)("binding-http","https-client-factory"),s=class{constructor(a=null){this.scheme="https",this.config=null,this.config=a}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(o("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new n.default(this.config)):(i(`HttpsClientFactory creating client for '${this.scheme}'`),new n.default(this.config,!0))}init(){return!0}destroy(){return!0}};e.default=s}}),jve=Le({"../binding-http/dist/http-browser.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(c,p,m,g){g===void 0&&(g=m);var _=Object.getOwnPropertyDescriptor(p,m);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(c,g,_)}:function(c,p,m,g){g===void 0&&(g=m),c[g]=p[m]}),r=e&&e.__exportStar||function(c,p){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&t(p,c,m)},n=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpForm=e.HttpHeader=e.HttpsClientFactory=e.HttpClientFactory=e.HttpClient=void 0;var i=Qs(),o=R2(),s=WS();Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n(s).default}});var a=WB();Object.defineProperty(e,"HttpClientFactory",{enumerable:!0,get:function(){return n(a).default}});var l=GB();Object.defineProperty(e,"HttpsClientFactory",{enumerable:!0,get:function(){return n(l).default}}),r(WS(),e),r(WB(),e),r(GB(),e);var u=class{};e.HttpHeader=u;var f=class extends i.Form{};e.HttpForm=f,o.Headers.prototype.raw=function(){const c={};for(const[p,m]of this.entries())c[p]=m.split(",");return c},o.Response.prototype.buffer=async function(){return kn.from(await this.arrayBuffer())}}}),SI=Le({"../binding-websockets/dist/ws-client.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qs(),{debug:r,warn:n}=(0,t.createLoggers)("binding-websockets","ws-client"),i=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(o){return new Promise((s,a)=>{})}writeResource(o,s){return new Promise((a,l)=>{})}invokeResource(o,s){return new Promise((a,l)=>{})}unlinkResource(o){return new Promise((s,a)=>{})}subscribeResource(o,s,a,l){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(o){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(o,s){if(o===void 0||!Array.isArray(o)||o.length===0)return n("WebSocketClient received empty security metadata"),!1;const a=o[0];return r(`WebSocketClient using security scheme '${a.scheme}'`),!0}};e.default=i}}),KB=Le({"../binding-websockets/dist/ws-client-factory.js"(e){Ce();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Qs(),n=t(SI()),{debug:i}=(0,r.createLoggers)("binding-websockets","ws-client-factory"),o=class{constructor(s=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=s}getClient(){return i(`HttpClientFactory creating client for '${this.scheme}'`),new n.default}init(){return!0}destroy(){return!0}};e.default=o}}),JB=Le({"../binding-websockets/dist/wss-client-factory.js"(e){Ce(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};e.default=t}}),Dve=Le({"../binding-websockets/dist/ws-browser.js"(e){Ce();var t=e&&e.__createBinding||(Object.create?function(a,l,u,f){f===void 0&&(f=u);var c=Object.getOwnPropertyDescriptor(l,u);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,f,c)}:function(a,l,u,f){f===void 0&&(f=u),a[f]=l[u]}),r=e&&e.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,a,u)},n=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketSecureClientFactory=e.WebSocketClientFactory=e.WebSocketClient=void 0;var i=SI();Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return n(i).default}});var o=KB();Object.defineProperty(e,"WebSocketClientFactory",{enumerable:!0,get:function(){return n(o).default}});var s=JB();Object.defineProperty(e,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return n(s).default}}),r(SI(),e),r(KB(),e),r(JB(),e)}});Ce();var Mve=Gk(Qs()),Lve=Gk(jve());Gk(Dve());const $m=e=>{const t=e.split(" - ");return parseInt(t[1],10)},Fve=(e,t)=>{let r=t+1;return t===0?e:e+` (form ${String(r)})`},kK=e=>(e.startsWith("modbus:")&&(e=e.replace("modbus:","")),e.startsWith("propName")&&(e="Property Name"),e.startsWith("href")&&(e="Resource"),e.startsWith("htv:methodName")&&(e="Method"),e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e.charAt(0).toUpperCase()+e.slice(1)),TI=e=>/^(https?:\/\/)([\w.-]+)(:\d+)?(\/[^\s]*)?$/i.test(e),Bve=e=>{if(e.length===0)return"";const t=e.startsWith(" ")?e.substring(1):e;return t.length===0?"":/[a-zA-Z]/.test(t[0])?t[0].toUpperCase()+t.slice(1):t},Uve=e=>e?e.endsWith("/")?e:`${e}/`:"/";function Rp(e){return e.replace(/^"|"$/g,"")}function zve(){return new Date().toISOString()}var gT={},qve=/~/,Vve=/~[01]/g;function Hve(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function jK(e){return qve.test(e)?e.replace(Vve,Hve):e}function Wve(e,t,r){for(var n,i,o=1,s=t.length;o<s;){if(t[o]==="constructor"||t[o]==="prototype"||t[o]==="__proto__")return e;if(n=jK(t[o++]),i=s>o,typeof e[n]>"u"&&(Array.isArray(e)&&n==="-"&&(n=e.length),i&&(t[o]!==""&&t[o]<1/0||t[o]==="-"?e[n]=[]:e[n]={})),!i)break;e=e[n]}var a=e[n];return r===void 0?delete e[n]:e[n]=r,a}function I2(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function DK(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=I2(t);var r=t.length;if(r===1)return e;for(var n=1;n<r;){if(e=e[jK(t[n++])],r===n)return e;if(typeof e!="object"||e===null)return}}function MK(e,t,r){if(typeof e!="object")throw new Error("Invalid input object.");if(t=I2(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return Wve(e,t,r)}function Gve(e){var t=I2(e);return{get:function(r){return DK(r,t)},set:function(r,n){return MK(r,t,n)}}}gT.get=DK;gT.set=MK;gT.compile=Gve;const C2=new Mve.Servient;C2.addClientFactory(new Lve.HttpClientFactory);console.log("init servient");const LK={readproperty:{color:"Green",title:"Read",level:"properties",callback:vT},writeproperty:{color:"Blue",title:"Write",level:"properties",callback:Jve},observeproperty:{color:"Orange",title:"Observe",level:"properties",callback:null},unobserveproperty:{color:"Red",title:"Unobserve",level:"properties",callback:null},invokeaction:{color:"Orange",title:"Invoke",level:"actions",callback:null},subscribeevent:{color:"Orange",title:"Subscribe",level:"events",callback:null},unsubscribeevent:{color:"Red",title:"Unsubscribe",level:"events",callback:null},readmultipleproperties:{color:"Green",title:"Read Multiple",level:"thing",callback:null},readallproperties:{color:"Green",title:"Read All",level:"thing",callback:null},writemultipleproperties:{color:"Blue",title:"Write Multiple",level:"thing",callback:null},writeallproperties:{color:"Blue",title:"Write All",level:"thing",callback:null},observeallproperties:{color:"Orange",title:"Observe All",level:"thing",callback:null},unobserveallproperties:{color:"Red",title:"Unobserve All",level:"thing",callback:null}},Kve=(e,t)=>{try{switch(e){case"boolean":return Rp(t).toLowerCase()==="true";case"integer":const r=parseInt(Rp(t),10);if(isNaN(r))throw new Error(`Error on convert "${t}" to an integer.`);return r;case"number":const n=parseFloat(Rp(t));if(isNaN(n))throw new Error(`Error on convert "${t}" to a number.`);return n;case"string":return Rp(t);case"array":let i=Rp(t);if(Array.isArray(i))return i;try{const o=JSON.parse(i);if(Array.isArray(o))return o}catch{throw new Error(`Error on convert "${t}" to an array.`)}case"object":try{return JSON.parse(Rp(t))}catch{throw new Error(`Error on convert "${t}" to an object.`)}default:throw new Error(`Unsupported type: "${e}".`)}}catch(r){console.error(`Failed to parse content for ${e}:`,r)}};async function vT(e,t,r,n){try{const s=await(await(await C2.start()).consume(e)).readProperty(t,r);s.ignoreValidation=!0;const a=await s.value();if(n==="")return{result:JSON.stringify(a,null,2),err:null};if(a===null)return{result:"null",err:null};if(typeof a=="object"||Array.isArray(a))try{const l=gT.get(a,n);return l===void 0?{result:JSON.stringify(a,null,2),err:null}:{result:JSON.stringify(l,null,2),err:null}}catch{return{result:"",err:new Error("Failed to get value with JSONPointer path: "+n)}}return{result:JSON.stringify(a,null,2),err:null}}catch(i){return console.debug(i),{result:"",err:new Error("Read property failed. Please check the hrefs on forms or the Settings section.")}}}async function Jve(e,t,r){try{if(e.properties===void 0||e.properties[t]===void 0)throw new Error(`Property "${t}" not found in Thing Description.`);const n=e.properties[t].type,i=Kve(n,r);return await(await(await C2.start()).consume(e)).writeProperty(t,i),{result:`Successfully wrote ${JSON.stringify(i).length>50?JSON.stringify(i).slice(0,50)+"...":JSON.stringify(i)} to '${t}'.`,err:null}}catch(n){return console.debug(n),{result:"",err:n}}}const FK="northbound",BK="southbound",UK="valuePath",hs=e=>{let t;switch(e){case"northbound":t=FK;break;case"southbound":t=BK;break;case"valuePath":t=UK;break;default:return""}const r=localStorage.getItem(t);return r===null?"":r||""},Zx=(e,t)=>{let r;switch(t){case"northbound":r=FK;break;case"southbound":r=BK;break;case"valuePath":r=UK;break;default:return}if(e===""){localStorage.setItem(r,"");return}localStorage.setItem(r,e)},Yve=({operationType:e,form:t,interactionFunction:r,usesNorthboundConnection:n})=>{const i=Pe.useContext(Fn),[o,s]=Pe.useState(""),[a,l]=Pe.useState(!1),[u,f]=Pe.useState(null),[c,p]=Pe.useState(null),m=LK[e];if(!m)return Q.jsx(Q.Fragment,{});const g=Q.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:Q.jsx("div",{className:`text-form${m.color} place-self-center px-4 text-center`,children:m.title})}),_=async()=>{if(r){l(!0);try{let h;const E=r,y=hs("valuePath");n?h=await E(i.northboundConnection.northboundTd,t.propName,o,y):h=await E(i.parsedTD,t.propName,o,""),h.err!==null?(p(h.err.message),f(null)):(p(null),f(h.result))}catch(h){p(h instanceof Error?h.message:"Unknown error occurred"),f(null)}finally{l(!1),s("")}}},v=h=>{h.preventDefault(),_()};return Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:`flex min-h-12 w-full items-stretch bg-opacity-75 bg-form${m.color} mt-2 ${a||u!==null||c!=null||t.op==="writeproperty"?"rounded-t-md":"rounded-md"} border-2 pl-4 border-form${m.color}`,children:[r&&Q.jsx("button",{onClick:_,children:g}),!r&&Q.jsx("div",{className:"flex",children:g}),Q.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:t.href}),(c!==null||u!==null)&&Q.jsx("button",{className:`flex min-w-10 items-center justify-center border-r-2 border-form${m.color} bg-form${m.color}`,onClick:()=>{p(null),f(null)},children:Q.jsx(bh,{size:16,color:"white"})}),Q.jsx("button",{className:`flex min-w-10 items-center justify-center bg-form${m.color}`,onClick:()=>i.removeForm(m.level,t.propName,t,t.actualIndex),children:Q.jsx(hd,{size:16,color:"white"})})]}),t.op==="writeproperty"&&Q.jsx("form",{onSubmit:v,children:Q.jsx("input",{type:"text",placeholder:"Input a value and hit write...",value:o,onChange:h=>s(h.target.value),className:`flex w-full overflow-auto bg-white px-4 py-2 ${u!==null||c!=null?"border-b-2 border-gray-300":"rounded-b-md"}`})}),a!==!1&&Q.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:Q.jsx("div",{className:"p-4 text-black",children:"Waiting for a response..."})}),c!==null&&Q.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:Q.jsxs("div",{className:"text-formRed p-4",children:["Error: ",c]})}),u!==null&&Q.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:Q.jsx("div",{className:"p-4 text-black",children:u})})]})},Xve=({level:e,form:t})=>{const r=Pe.useContext(Fn);return Q.jsxs("div",{className:"flex min-h-10 w-full items-stretch rounded-md border-2 border-gray-300 bg-gray-300 bg-opacity-75 pl-4",children:[Q.jsx("div",{className:"flex h-6 min-w-20 justify-center place-self-center rounded-md bg-white",children:Q.jsx("div",{className:"place-self-center px-4 text-center text-xs text-black",children:"Undefined"})}),Q.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-white",children:t.href}),Q.jsx("button",{className:"flex w-10 items-center justify-center bg-gray-300",onClick:()=>r.removeForm(e,t.propName,t,t.actualIndex),children:Q.jsx(hd,{size:16,color:"black"})})]})},Qve=e=>({action:"actions",property:"properties",event:"events",thing:"thing"})[e],yT=e=>{const t=Pe.useContext(Fn),r={...e.form,propName:e.propName},n=Object.keys(t.northboundConnection.northboundTd).length>0,i=LK[r.op];return i?Q.jsx(Q.Fragment,{children:Q.jsx(Yve,{operationType:r.op,form:r,interactionFunction:i.callback,usesNorthboundConnection:n})}):Q.jsx(Xve,{level:Qve(e.interactionType),form:r})},k2=e=>Q.jsxs(Q.Fragment,{children:[Q.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),Q.jsx("textarea",{id:e.id,rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder})]}),fs=e=>Q.jsxs("div",{className:"py-1",children:[Q.jsx("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:e.label}),e.helperText&&Q.jsx("div",{className:"pb-1 pl-10 text-sm text-white",children:e.helperText}),Q.jsx("input",{name:e.id,id:e.id,className:` ${e.className} w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`,placeholder:e.placeholder,type:e.type??"text",autoFocus:e.autoFocus??!1,onChange:e.onChange,value:e.value}),Q.jsx("span",{id:`${e.id}-helper-text`,className:"pl-2 text-xs text-red-400"})]},e.id),zK=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),[n,i]=ct.useState(()=>!1),o="action",s="actions",a=o[0].toUpperCase()+o.slice(1);Pe.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=Q.jsxs(Q.Fragment,{children:[Q.jsx(fs,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),Q.jsx(k2,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{if(!r.isValidJSON){p("Can't add Action. TD is malformed.");return}const g=document.getElementById(`${o}-title`),_=document.getElementById(`${o}-description`),v={title:g.value,description:_.value||void 0,forms:[]},h=r.parsedTD;h[s]&&h[s][v.title]?p(`An ${a} with this title already exists...`):(h[s]={...h[s],[v.title]:v},r.updateOfflineTD(JSON.stringify(h,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:u,onHandleEventRightButton:()=>{c()},rightButton:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});zK.displayName="AddActionDialog";const qK=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),[n,i]=ct.useState(()=>!1),o="event",s="events",a=o[0].toUpperCase()+o.slice(1);Pe.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=Q.jsxs(Q.Fragment,{children:[Q.jsx(fs,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),Q.jsx(k2,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{const g={title:document.getElementById(`${o}-title`).value,forms:[]},_=document.getElementById(`${o}-description`).value;if(_!==""&&(g.description=_),g.forms=[],!r.isValidJSON){p("Can't add Event. TD is malformed.");return}const v=r.parsedTD;v[s]&&v[s][g.title]?p(`An ${a} with this title already exists...`):(v[s]={...v[s],[g.title]:g},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:u,onHandleEventRightButton:()=>{c()},rightButton:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});qK.displayName="AddEventDialog";const YB=e=>Q.jsxs("div",{className:"form-checkbox pl-2",children:[e.readOnly??!0?Q.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):Q.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),Q.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id),Zve=e=>Q.jsxs(Q.Fragment,{children:[Q.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),Q.jsxs("div",{className:`relative ${e.className??""} `,children:[Q.jsx("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map(t=>Q.jsx("option",{children:t},t))}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Q.jsx(us,{color:"#cacaca"})})]})]}),XB="undefined",VK=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),[n,i]=ct.useState(()=>!1),o="property",s="properties",a=o[0].toUpperCase()+o.slice(1);Pe.useEffect(()=>{},[n,r]),Pe.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=Q.jsxs(Q.Fragment,{children:[Q.jsx(fs,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>m()}),Q.jsx(k2,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`}),Q.jsx(Zve,{id:`${o}-type`,label:"Type",options:[XB,"number","integer","boolean","string","object","array"]}),Q.jsx("div",{className:"h-2"}),Q.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Additional:"}),Q.jsxs("div",{id:"additional",className:"rounded-md bg-gray-600 p-1",children:[Q.jsx(YB,{id:`${o}-readOnly`,label:"Read Only"}),Q.jsx(YB,{id:`${o}-observable`,label:"Observable"})]})]}),c=()=>{if(!r.isValidJSON){p("Can't add Action. TD is malformed.");return}const g={title:document.getElementById(`${o}-title`).value,observable:document.getElementById(`${o}-observable`).checked,readOnly:document.getElementById(`${o}-readOnly`).checked,forms:[]},_=document.getElementById(`${o}-description`).value;_!==""&&(g.description=_);const v=document.getElementById(`${o}-type`).value;v!==XB&&(g.type=v),v==="array"?g.items={}:v==="object"&&(g.properties={}),g.forms=[];const h=r.parsedTD;h[s]&&h[s][g.title]?p(`A ${a} with this title already exists...`):(h[s]={...h[s],[g.title]:g},r.updateOfflineTD(JSON.stringify(h,null,2)),u())},p=g=>{document.getElementById(`${o}-title-helper-text`).textContent=g,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},m=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:u,onHandleEventRightButton:()=>{c()},rightButton:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});VK.displayName="AddPropertyDialog";const j2=({onClick:e})=>Q.jsx("button",{className:"border-formBlue bg-formBlue flex min-h-10 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",onClick:e,children:Q.jsxs("div",{className:"flex items-center justify-center",children:[Q.jsx(Mk,{color:"white",size:"20"}),Q.jsx("div",{className:"pl-2 text-center text-white",children:"Click to add Form..."})]})}),eye=["title","forms","description"],tye=e=>{const t=Pe.useContext(Fn),[r,n]=Pe.useState(!1),i=ct.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.action).length===0&&e.action.constructor!==Object)return Q.jsx("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const s=e.action,a=B1(e.action.forms),l=F1({name:e.actionName},e.action,eye),u=Object.keys(l).map(c=>Q.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("actions",e.actionName)};return Q.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[Q.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[Q.jsx("h3",{className:"flex-grow px-2",children:s.title??e.actionName}),r&&Q.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:Q.jsx(hd,{size:16,color:"white"})})]}),Q.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&Q.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),Q.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),Q.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:Q.jsx(_a,{className:"flex-grow",tooltip:n0(),id:"actions",children:Q.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),Q.jsx(j2,{onClick:o}),Q.jsx(Yy,{type:"action",interaction:s,interactionName:e.actionName,ref:i}),a.map((c,p)=>Q.jsx(yT,{form:c,propName:e.actionName,interactionType:"action"},`${p}-${c.href}`))]})]})},rye=["title","forms","description"],nye=e=>{const t=Pe.useContext(Fn),[r,n]=Pe.useState(!1),i=ct.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.event).length===0&&e.event.constructor!==Object)return Q.jsx("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const s=e.event,a=B1(e.event.forms),l=F1({name:e.eventName},e.event,rye),u=Object.keys(l).map(c=>Q.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("events",e.eventName)};return Q.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[Q.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[Q.jsx("div",{className:"flex-grow px-2",children:s.title??e.eventName}),r&&Q.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:Q.jsx(hd,{size:16,color:"white"})})]}),Q.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&Q.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),Q.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),Q.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:Q.jsx(_a,{className:"flex-grow",tooltip:n0(),id:"events",children:Q.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),Q.jsx(j2,{onClick:o}),Q.jsx(Yy,{type:"event",interaction:s,interactionName:e.eventName,ref:i}),a.map((c,p)=>Q.jsx(yT,{form:c,propName:e.eventName,interactionType:"event"},`${p}-${c.href}`))]})]})},iye=["title","forms","description"],oye=e=>{const t=Pe.useContext(Fn),[r,n]=Pe.useState(!1),i=Pe.useRef(null),o=()=>{var c;(c=i.current)==null||c.openModal()};if(Object.keys(e.prop).length===0&&e.prop.constructor!==Object)return Q.jsx("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const s=e.prop;let a=B1(structuredClone(e.prop.forms));const l=F1({name:e.propName},e.prop,iye),u=Object.keys(l).map(c=>Q.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("properties",e.propName)};return Q.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[Q.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[Q.jsx("h3",{className:"flex-grow px-2",children:s.title??e.propName}),r&&Q.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:Q.jsx(hd,{size:16,color:"white"})})]}),Q.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&Q.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),Q.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),Q.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:Q.jsx(_a,{tooltip:n0(),id:"properties",children:Q.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),Q.jsx(j2,{onClick:o}),Q.jsx(Yy,{type:"property",interaction:s,interactionName:e.propName,ref:i}),a.map((c,p)=>Q.jsx(yT,{propName:e.propName,form:c,interactionType:"property"},`${p}-${c.href}`))]})]})},sye=e=>Q.jsxs("div",{className:"relative text-gray-600",children:[Q.jsx("input",{type:"search",autoComplete:"on",className:"caret-gray h-9 place-self-center rounded-lg bg-gray-600 px-5 pr-10 text-sm text-white focus:outline-none",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),Q.jsx("div",{disabled:!0,type:"submit",className:"absolute right-0 top-0 mr-4 mt-1 cursor-default",children:Q.jsx(zk,{color:"#2c2c2e"})})]}),HK=({value:e,onUpdate:t,inferiorLimit:r,superiorLimit:n=1e5})=>{const i=s=>{s.stopPropagation();const a=e<n?e+1:r;t(a)},o=s=>{s.stopPropagation();const a=e>r?e-1:n;t(a)};return Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{className:"col-span-0"}),Q.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white",children:Q.jsx("h1",{children:e.toString()})}),Q.jsxs("div",{className:"col-span-4 flex h-full w-full",children:[Q.jsx("button",{className:"justify-centers flex h-full w-full cursor-pointer items-center bg-gray-600",onClick:i,children:Q.jsx(Lk,{size:18,color:"white"})}),Q.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:o,children:Q.jsx(Dk,{size:18,color:"white"})})]})]})})},aye=({idIcon:e,onUpdateIncrement:t,tooltip:r,textLabel:n,valueButton:i,inferiorLimit:o,superiorLimit:s})=>Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[Q.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:Q.jsx(_a,{tooltip:r,id:e,children:Q.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),Q.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{className:"col-span-12"}),Q.jsx("div",{className:"col-span-12",children:Q.jsx("div",{className:"grid h-full w-full grid-cols-12",children:Q.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:Q.jsx(HK,{value:i,onUpdate:t,inferiorLimit:o,superiorLimit:s})})})}),Q.jsx("div",{className:"col-span-12"})]})})]})}),GS=({value:e,description:t,className:r,onClick:n})=>Q.jsxs("div",{className:"grid h-full w-full grid-cols-12 pb-1 pt-1",children:[t?Q.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center font-bold text-white",children:t}):Q.jsx("div",{className:"col-span-0"}),Q.jsx("div",{className:`${t?"col-span-4":"col-span-8"} flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white`,children:Q.jsx("h1",{children:e.toString()})}),Q.jsx("div",{className:"col-span-2 h-full w-full pr-1",children:Q.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:n,children:Q.jsx(Fk,{size:16,color:"white"})})})]}),lye=({idIcon:e,onUpdateValue:t,tooltip:r,textLabel:n,valueButton:i})=>Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[Q.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:Q.jsx(_a,{tooltip:r,id:e,children:Q.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),Q.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{className:"col-span-12"}),Q.jsx("div",{className:"col-span-12",children:Q.jsx("div",{className:"grid h-full w-full grid-cols-12",children:Q.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:Q.jsx(GS,{description:"",value:i,onClick:()=>t(!i)})})})}),Q.jsx("div",{className:"col-span-12"})]})})]})}),uye=({idIcon:e,tooltip:t,textLabel:r,compactText:n,customBreakpoints:i,firstDescription:o,firstValue:s,firsthandleOnClick:a,secondDescription:l,secondValue:u,secondhandleOnClick:f})=>Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[Q.jsx("div",{className:"col-span-4 flex items-center justify-center rounded-l-md bg-blue-500",children:Q.jsx(_a,{tooltip:t,id:e,children:Q.jsx("h1",{className:"p-2 font-bold text-white",children:i===1?n:r})})}),Q.jsx("div",{className:"col-span-8 rounded-r-md",children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{id:"firstRow",className:"col-span-12 rounded-tr-md bg-blue-500",children:Q.jsx(GS,{description:o,value:s,onClick:()=>a(s,o)})}),Q.jsx("div",{id:"secondRow",className:"col-span-12 rounded-br-md bg-blue-500",children:Q.jsx(GS,{description:l,value:u,onClick:()=>f(u,l)})})]})})]})}),cye=e=>{const t=Pe.useContext(Fn),r=t.parsedTD,[n,i]=Pe.useState(0),[o,s]=Pe.useState(!0),[a,l]=Pe.useState({wordSwap:!1,byteSwap:!1}),u=(g,_,v)=>{r.properties&&(Object.entries(r.properties).forEach(([h,E])=>{E.forms&&E.forms.forEach(y=>{if(!y.href){alert(`Form href is empty on property: ${h}`);return}(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))&&(v==="endianness"?g==="wordSwap"?y["modbus:mostSignificantWord"]=_:g==="byteSwap"&&(y["modbus:mostSignificantByte"]=_):y[g]=_)})}),t.updateOfflineTD(JSON.stringify(r,null,2)))},f=g=>{i(g),u("modbus:unitID",g)},c=g=>{s(g),u("modbus:zeroBasedAddressing",g)},p=(g,_)=>{l(v=>({...v,[_]:g})),u(_,g,"endianness")},m=ct.useMemo(()=>{const g={unitID:!0,zeroBasedAddressing:!0,mostSignificantWord:!0,mostSignificantByte:!0};if(!r.properties)return g;const _={},v={unitID:!1,zeroBasedAddressing:!1,mostSignificantWord:!1,mostSignificantByte:!1};for(const[h,E]of Object.entries(r.properties))if(E.forms){for(const y of E.forms)if(y.href&&(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))){const S=y["modbus:unitID"];S!==void 0&&(v.unitID?S!==_.unitID&&(g.unitID=!1):(_.unitID=S,v.unitID=!0,n!==S&&i(S)));const T=y["modbus:zeroBasedAddressing"];T!==void 0&&(v.zeroBasedAddressing?T!==_.zeroBasedAddressing&&(g.zeroBasedAddressing=!1):(_.zeroBasedAddressing=T,v.zeroBasedAddressing=!0,o!==T&&s(T)));const x=y["modbus:mostSignificantWord"];x!==void 0&&(v.mostSignificantWord?x!==_.mostSignificantWord&&(g.mostSignificantWord=!1):(_.mostSignificantWord=x,v.mostSignificantWord=!0,a.wordSwap!==x&&l($=>({...$,wordSwap:x}))));const d=y["modbus:mostSignificantByte"];d!==void 0&&(v.mostSignificantByte?d!==_.mostSignificantByte&&(g.mostSignificantByte=!1):(_.mostSignificantByte=d,v.mostSignificantByte=!0,a.byteSwap!==d&&l($=>({...$,byteSwap:d}))))}}return g},[r.properties,e.isBaseModbus,n,o,a]);return Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:`grid ${e.customBreakpoints===2?"grid-cols-1":"grid-cols-12"} gap-1 rounded-t-md bg-gray-600 px-2`,children:[Q.jsx("div",{className:"col-span-12 rounded-md bg-gray-600 px-2",children:e.isBaseModbus?Q.jsx("h1",{className:"py-1 text-xl text-white",children:"Group Controls"}):Q.jsx("div",{})}),Q.jsxs("div",{id:"unitId",className:`${e.customBreakpoints===2?"col-span-full mb-4":"col-span-4"} flex flex-col px-2`,children:[Q.jsx("div",{className:"min-h-[64px]",children:Q.jsx(aye,{idIcon:"unitId",textLabel:"Unit ID",onUpdateIncrement:f,inferiorLimit:0,superiorLimit:255,tooltip:Z8(),valueButton:n})}),!m.unitID&&Q.jsx("div",{className:"rounded-md text-center",children:Q.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different unit id is detected on different affordances. Clicking + or - will set all to the same value"})})]}),Q.jsxs("div",{id:"addressOffset",className:`${e.customBreakpoints===2?"col-span-full mb-4":"col-span-4"} flex flex-col px-2`,children:[Q.jsx("div",{className:"min-h-[64px]",children:Q.jsx(lye,{idIcon:"addressOffset",tooltip:e9(),textLabel:"Address Offset",valueButton:o,onUpdateValue:()=>c(!o)})}),!m.zeroBasedAddressing&&Q.jsx("div",{className:"rounded-md text-center",children:Q.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different address offset is detected on different affordances. Clicking to swap and set all to the same value"})})]}),Q.jsxs("div",{id:"endianness",className:`${e.customBreakpoints===2?"col-span-full":"col-span-4"} flex flex-col px-2`,children:[Q.jsx("div",{className:"min-h-[64px]",children:Q.jsx(uye,{idIcon:"endianness",tooltip:t9(),textLabel:"Endianness",compactText:"End.",customBreakpoints:e.customBreakpoints,firstDescription:"wordswap",firstValue:a.wordSwap,firsthandleOnClick:()=>p(!a.wordSwap,"wordSwap"),secondDescription:"byteswap",secondValue:a.byteSwap,secondhandleOnClick:()=>p(!a.byteSwap,"byteSwap")})}),(!m.mostSignificantByte||!m.mostSignificantWord)&&Q.jsx("div",{className:"rounded-md text-center",children:Q.jsxs("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:["Different endianness (",[!m.mostSignificantWord&&"wordSwap",!m.mostSignificantByte&&"byteSwap"].filter(Boolean).join(" and "),") is detected on different affordances. Clicking to swap and set all to the same value"]})})]})]})})},fye=({items:e,page:t=1,itemsPerPage:r=10,filter:n=()=>!0,onItemsChange:i,children:o,pagesWithErrors:s=new Set})=>{const[a,l]=Pe.useState(t),u=Pe.useMemo(()=>e.filter(n),[e,n]),f=Pe.useMemo(()=>{const _=(a-1)*r;return u.slice(_,_+r)},[u,a,r]),c=Pe.useMemo(()=>Math.ceil(u.length/r),[u,r]),p=a===1,m=a===c,g=_=>{_<1||_>c||l(_)};return Pe.useEffect(()=>{i&&i(f)},[f,i]),Pe.useEffect(()=>{a>c&&l(1)},[u,c,a]),Q.jsxs("div",{className:"flex flex-col",children:[Q.jsx("div",{className:"overflow-x-auto",children:o({items:f})}),u.length>r&&Q.jsxs("div",{className:"mt-4 flex w-full items-center justify-end gap-3 text-white",children:[Q.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:p,onClick:()=>g(a-1),children:Q.jsx("span",{className:"px-2 font-bold text-white",children:"<"})}),Array.from({length:c},(_,v)=>v+1).map(_=>Q.jsx("div",{className:`cursor-pointer text-lg ${a===_?"text-coral font-black":s.has(_)?"font-semibold text-red-500":""}`,onClick:()=>g(_),children:_},_)),Q.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:m,onClick:()=>g(a+1),children:Q.jsx("span",{className:"px-2 font-bold text-white",children:">"})})]})]})},WK=({contrast:e=!1,filter:t="",headers:r,items:n,itemsPerPage:i=6,orderBy:o="",order:s="asc",onRowClick:a,onCellClick:l,onSendRequestClick:u,className:f="",renderItem:c,placeholder:p,baseUrl:m="",expandTable:g=!1,requestResults:_={}})=>{const v=Pe.useMemo(()=>{const O=typeof t=="function"?t:(P=>k=>!(P!=null&&P.trim())||Object.values(k).some(B=>String(B).toLowerCase().indexOf((P||"").toLowerCase())>=0))(t);return n.filter(O)},[n,t]),h=Pe.useMemo(()=>{if(!o)return v;const $=s==="asc"?[1,-1]:[-1,1];return[...v].sort((O,P)=>O[o]>P[o]?$[0]:O[o]<P[o]?$[1]:0)},[v,o,s]),[E,y]=Pe.useState({}),S=Pe.useMemo(()=>({...E,..._}),[E,_]),T=Pe.useMemo(()=>{const $=new Set;return h.forEach((O,P)=>{var B;const k=Math.floor(P/i)+1;(B=S[O.id])!=null&&B.error&&$.add(k)}),$},[h,S,i]);Pe.useEffect(()=>{if(Object.keys(_).length===0){const $=n.reduce((O,P)=>(P.id&&(O[P.id]={value:"",error:""}),O),{});y($)}},[n,_]);const x=($,O,P,k)=>Q.jsx("select",{value:$,onChange:B=>l==null?void 0:l(k,P,B.target.value),className:"h-full w-full rounded bg-gray-600 px-2 py-1",children:O.map(B=>Q.jsx("option",{value:B,children:B},B))}),d=($,O)=>{var k,B,K,ie,W,ne,fe;if(c)return c($,O);const P=$[O];switch(O){case"previewValue":return Q.jsxs("div",{className:`flex h-full w-full items-center justify-center ${(k=S[$.id])!=null&&k.error?"bg-red-500 text-white":""} ${(B=S[$.id])!=null&&B.value?"bg-formGreen text-black":""} `,onClick:async()=>{if(u){const le=await u($);y(F=>({...F,[$.id]:le}))}},children:[((K=S[$.id])==null?void 0:K.error)&&Q.jsxs("div",{className:"flex items-center justify-center",children:[Q.jsx("h1",{className:"px-2",children:"Error"}),Q.jsx(Up,{id:"info",html:`Error description: ${S[$.id].error}`,color:"white",IconComponent:Hh})]}),!((ie=S[$.id])!=null&&ie.error)&&!((W=S[$.id])!=null&&W.value)&&Q.jsx(Up,{id:"check",html:"Click to send request",IconComponent:e0,size:20}),!((ne=S[$.id])!=null&&ne.error)&&((fe=S[$.id])==null?void 0:fe.value)&&Q.jsxs("div",{className:"flex h-full w-full items-center justify-center",children:[Q.jsx("h1",{className:"px-2",children:S[$.id].value}),Q.jsx(Up,{id:"checkCircle",html:"Successful read property in the device",IconComponent:$k,size:20})]})]});case"propName":let re=$.description?$.description:"No description available";return Q.jsxs("div",{className:"flex h-full w-full items-center px-1",onClick:()=>a==null?void 0:a($,"viewProperty"),children:[Q.jsx("div",{className:"flex h-full w-full items-center",children:Fve($.propName,$m($.id))}),Q.jsx("div",{className:"items-center justify-center px-1",children:Q.jsx(Up,{id:"info",html:`Property description: ${re}`,IconComponent:t0})})]});case"editForm":return Q.jsx("div",{className:"flex h-full w-full items-center justify-center px-2",onClick:()=>a==null?void 0:a($,"viewPropertyElementForm"),children:Q.jsx(Up,{id:"edit",html:"Click to preview property",IconComponent:Pk,size:20})});case"modbus:entity":return x(P,["Coil","DiscreteInput","HoldingRegister","InputRegister"],O,$);case"modbus:function":return x(P,["readCoil","readDeviceIdentification","readDiscreteInput","readHoldingRegisters","readInputRegisters","writeMultipleCoils","writeMultipleHoldingRegisters","writeSingleCoil","writeSingleHoldingRegister"],O,$);case"modbus:type":return x(P,["integer","boolean","string","float","decimal","byte","short","int","long","unsignedByte","unsignedShort","unsignedInt","unsignedLong","double","hexBinary"],O,$)}return P==null?"-":typeof P=="boolean"?Q.jsx(GS,{onClick:re=>{re.stopPropagation(),l==null||l($,O,!P)},value:P,description:"",className:""}):typeof P=="string"?Q.jsxs("div",{className:"group relative",children:[Q.jsx("input",{type:"text",value:P,onChange:re=>l==null?void 0:l($,O,re.target.value),onBlur:re=>l==null?void 0:l($,O,re.target.value),className:"w-full truncate border-none bg-gray-600 px-2 py-1 text-center text-sm font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-500",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:P.length>10?P:void 0}),Q.jsx("div",{className:"absolute left-0 top-full mt-1 hidden w-max max-w-xs rounded bg-gray-700 px-2 py-1 text-sm text-white shadow-lg group-hover:block",children:P})]}):typeof P=="number"?Q.jsx(HK,{value:P,onUpdate:re=>{l==null||l($,O,re)},inferiorLimit:0}):P};return Q.jsx(fye,{items:h,itemsPerPage:i,pagesWithErrors:T,children:({items:$})=>Q.jsx("div",{className:`relative overflow-x-auto ${g?"w-full":""} `,children:Q.jsx("div",{className:`${f} ${g?"w-full":"inline-block"}`,children:Q.jsxs("table",{className:"w-full text-nowrap",children:[Q.jsx("thead",{children:Q.jsx("tr",{children:r.map((O,P)=>Q.jsx("th",{className:`text-elevation-0-1 my-2.5 text-sm font-bold text-white ${P===0?"pl-5":P===r.length-1?"pr-5":"px-5"}`,children:O.text},`header-${O.key}`))})}),Q.jsx("tbody",{children:$.length>0?$.map((O,P)=>Q.jsx("tr",{children:r.map((k,B)=>Q.jsx("td",{children:Q.jsx("div",{className:`h-10 items-center overflow-hidden text-ellipsis border border-solid border-transparent text-white hover:border-white ${B>0&&B<r.length-1&&"text-center"} ${B===r.length-1&&"rounded-r text-right"} ${O.status==="info"&&B===0&&"border-l-info"} ${O.status==="error"&&B===0&&"border-l-definitive"} bg-elevation-1-hover cursor-pointer`,children:d(O,k.key)})},`cell-${P}-${k.key}`))},`row-${P}-${O.id}`)):Q.jsx("tr",{children:Q.jsx("td",{colSpan:r.length,className:`flex items-end justify-center py-6 ${e?"bg-elevation-1-hover":"bg-elevation-1"}`,children:p||Q.jsx("div",{className:"text-elevation-0-1 text-sm font-bold text-white",children:"No entries"})})})})]})})})})},wT=({isOpen:e,errorMessage:t,onClose:r})=>e?$a.createPortal(Q.jsx(xa,{title:"Error",description:t,onHandleEventRightButton:r,rightButton:"OK",className:"text-lg"}),document.getElementById("modal-root")):null;function $I(e){return"data"in e&&"status"in e}const Wv=async(e,t="GET",r,n={})=>{const i={message:"",reason:"",status:0};try{const o=await GK(e,t,r,{...n,headers:{"Content-Type":"application/json",...n.headers||{}}});if(!o.ok){let a=`Request failed with status ${o.status}`;try{const l=await o.json();l!=null&&l.error&&(i.reason=l.error)}catch{}switch(i.status=o.status,o.status){case 301:throw new Error(`Monitors for the property: ${a}`);case 304:throw new Error(`Not Modified: ${a}`);case 302:throw new Error(`Bad url: ${a}`);case 400:throw new Error(`Bad Request: ${a}`);case 401:throw new Error(`Unauthorized: ${a}`);case 403:throw new Error(`Forbidden: ${a}`);case 404:throw new Error(`Not Found: ${a}`);case 405:throw new Error(`Property not writable: ${a}`);case 406:throw new Error(`Invalid property value: ${a}`);case 409:throw new Error(`Conflict: ${a}`);case 429:throw new Error(`Too Many Requests: ${a}`);case 499:throw new Error(`Client Closed Request: ${a}`);case 500:throw new Error(`Internal Server Error: ${a}`);case 502:throw new Error(`Bad Gateway: ${a}`);case 503:throw new Error(`Service Unavailable: ${a}`);case 504:throw new Error(`Gateway Timeout: ${a}`);default:throw new Error(`Request failed with status ${o.status}: ${a}`)}}return{data:o,headers:JSON.stringify(o.headers),status:o.status}}catch(o){return{message:o.message,reason:i.reason,status:i.status}}},dye=(e,t)=>{if(!t)return e;const r=new URL(e,window.location.origin);return Object.entries(t).forEach(([n,i])=>{r.searchParams.append(n,String(i))}),r.toString()},GK=async(e,t="GET",r,n={})=>{const{headers:i,queryParams:o,...s}=n,a=dye(e,o);return await fetch(a,{method:t,body:r,headers:{"Content-Type":"application/json",...i||{}},...s})},jE=async e=>{try{const t=Uve(hs("northbound"));if(!t)throw new Error("No northbound URL configured in settings");const r=`${t}${encodeURIComponent(e)}`,n=await Wv(r,"GET");if($I(n))try{return{message:"Northbound TD available",data:await n.data.json()}}catch{return{message:"Failed to parse northbound TD",data:null}}else return{message:n.message||"Failed to fetch northbound TD",data:null}}catch(t){return{message:t instanceof Error?t.message:"Unknown error occurred",data:null}}};async function KK(e,t,r){const n={};for(const i of t){const o=$m(i.id);try{const s=await vT(e,i.propName,{formIndex:o},r);s.err?n[i.id]={value:"",error:s.err.message}:n[i.id]={value:s.result,error:""}}catch(s){n[i.id]={value:"",error:(s==null?void 0:s.message)||"Unknown error"}}}return n}const JK=e=>{let t={id:"",message:""},r=0;for(const[n,i]of Object.entries(e))i.error&&i.error.length>0&&(r++,t.message||(t={id:n.split(" - ")[0],message:i.error}));return{firstError:t,errorCount:r}},kw="asc",hye="desc",eA=e=>{var R,C;const t=Pe.useContext(Fn),r=t.isValidJSON?JSON.parse(t.offlineTD):{},n=Pe.useMemo(()=>{var q,oe;return{message:((q=t.northboundConnection)==null?void 0:q.message)??"",northboundTd:((oe=t.northboundConnection)==null?void 0:oe.northboundTd)??{}}},[t.northboundConnection]),[i,o]=Pe.useState(""),[s,a]=Pe.useState(kw),l=Pe.useRef(null),[u,f]=Pe.useState("list"),[c,p]=Pe.useState(!1),[m,g]=Pe.useState({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),[_,v]=Pe.useState({state:!1,message:""}),[h,E]=Pe.useState({}),[y,S]=Pe.useState(!1),T=e.interaction.toLowerCase(),x=q=>o(q.target.value),d=!!((R=r.base)!=null&&R.includes("modbus://"))||!!((C=r.base)!=null&&C.includes("modbus+tcp")),$=q=>{if(!q.properties||Object.keys(q.properties).length===0)return!1;const oe=X=>X.href?X.href.includes("modbus://")||X.href.includes("modbus+tcp://"):!1;return d||Object.values(q.properties).some(X=>{var ee;return(ee=X.forms)==null?void 0:ee.some(se=>oe(se))})},O=Pe.useMemo(()=>JK(h),[h]),P=()=>{const q=r[T];if(!q)return{};const oe={};return Object.keys(q).filter(X=>X.toLowerCase().includes(i.toLowerCase())).forEach(X=>{oe[X]=q[X]}),oe},k=q=>{const oe=r[q];if(!oe)return;const X={},ee=Object.keys(oe).map(se=>({key:se,title:oe[se].title}));s===kw?(ee.sort((se,we)=>{const Oe=se.title?se.title:se.key,I=we.title?we.title:we.key;return Oe.localeCompare(I)}).forEach(function(se){X[se.key]=oe[se.key]}),a(hye)):(ee.sort((se,we)=>{const Oe=se.title?se.title:se.key,I=we.title?we.title:we.key;return Oe.localeCompare(I)}).reverse().forEach(function(se){X[se.key]=oe[se.key]}),a(kw)),r[q]=X,t.updateOfflineTD(JSON.stringify(r,null,2))},B=()=>s===kw?Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:Q.jsx("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:Q.jsx("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})}),K=async q=>{const oe=$m(q.id),X=Object.keys(n.northboundTd).length>0&&d?n.northboundTd:r;try{const ee=await vT(X,q.propName,{formIndex:oe},hs("valuePath")??""),se=ee.err?{value:"",error:ee.err.message}:{value:ee.result,error:""};return E(we=>({...we,[q.id]:se})),se}catch{const se={value:"",error:"Read property failed"};return E(we=>({...we,[q.id]:se})),se}},ie=async()=>{if(T!=="properties"||u!=="table")return;S(!0);let q={};try{const oe=P(),ee=Object.keys(oe).flatMap(we=>(oe[we].forms||[]).map((I,L)=>({id:`${we} - ${L}`,propName:we,...I}))).filter(we=>Array.isArray(we.op)?we.op.includes("readproperty"):we.op==="readproperty");if(ee.length===0){S(!1);return}const se=Object.keys(n.northboundTd).length>0&&d?n.northboundTd:r;q=await KK(se,ee.map(we=>({id:we.id,propName:we.propName})),hs("valuePath")??""),E(we=>({...we,...q}))}catch(oe){E(X=>({...X,...q,_error:{value:"",error:(oe==null?void 0:oe.message)||"Unknown error"}}))}finally{S(!1)}},W=(q,oe,X)=>{var se,we;const ee=$m(q.id);try{const Oe=(se=r[T])==null?void 0:se[q.propName];(we=Oe==null?void 0:Oe.forms)!=null&&we[ee]&&(Oe.forms[ee][oe]=X,t.updateOfflineTD(JSON.stringify(r,null,2)))}catch(Oe){console.error(Oe)}},ne=(q,oe)=>{var we,Oe;const X=$m(q.id);let ee;const se=(we=r[T])==null?void 0:we[q.propName];oe==="viewPropertyElementForm"?ee=(Oe=se==null?void 0:se.forms)==null?void 0:Oe[X]:ee={[q.propName]:se},g({editorState:JSON.stringify(ee,null,2),propName:q.propName,formsIndex:X,state:oe,title:oe==="viewProperty"?m.title:`Edit form number ${X+1} of property ${q.propName}`}),p(!0)},fe=()=>{g({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),p(!1)},re=()=>{var X,ee;let q=JSON.parse(m.editorState);const oe=r[T];if(!oe)return fe();m.state==="viewProperty"?oe[m.propName]=q[m.propName]:(ee=(X=oe[m.propName])==null?void 0:X.forms)!=null&&ee[m.formsIndex]&&(oe[m.propName].forms[m.formsIndex]=q),t.updateOfflineTD(JSON.stringify(r,null,2)),p(!1),g({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"})},le=()=>{const q=P();if(r.properties&&T==="properties"){if(u==="list")return Object.keys(q).map((we,Oe)=>Q.jsx(oye,{prop:q[we],propName:we},Oe));const oe=Object.keys(q).length?["id","description","propName","editForm","previewValue",...new Set(Object.keys(q).flatMap(we=>(q[we].forms||[]).flatMap(I=>Object.keys(I))))].map(we=>({key:we,text:kK(we)})):[];let ee=Object.keys(q).flatMap(we=>(q[we].forms||[]).map((I,L)=>({id:`${we} - ${L}`,description:q[we].description??"",propName:we,...I}))).filter(we=>Array.isArray(we.op)?we.op.includes("readproperty"):we.op==="readproperty"),se=oe.filter(we=>we.key!=="op").filter(we=>we.key!=="id").filter(we=>we.key!=="description");return d&&(se=se.filter(we=>we.key!=="href")),Q.jsxs(Q.Fragment,{children:[Q.jsx(WK,{headers:se,items:ee,itemsPerPage:10,orderBy:"",order:"asc",onCellClick:W,onRowClick:ne,onSendRequestClick:K,baseUrl:r.base??"",requestResults:h}),O.errorCount>0&&Q.jsxs("div",{className:"mt-4 rounded-md bg-red-100 p-3 text-red-700",children:[Q.jsxs("p",{className:"font-bold",children:["Found ",O.errorCount," error",O.errorCount>1?"s":""]}),Q.jsxs("p",{className:"mt-1",children:["First error in property name"," ",Q.jsx("span",{className:"font-semibold",children:O.firstError.id}),":"," ",O.firstError.message]})]})]})}if(r.actions&&T==="actions")return Object.keys(q).map((oe,X)=>Q.jsx(tye,{action:q[oe],actionName:oe},X));if(r.events&&T==="events")return Object.keys(q).map((oe,X)=>Q.jsx(nye,{event:q[oe],eventName:oe},X))},F=()=>{l.current&&l.current.openModal()};let z;switch(T){case"properties":z=Q.jsx(VK,{ref:l});break;case"actions":z=Q.jsx(zK,{ref:l});break;case"events":z=Q.jsx(qK,{ref:l});break}const J=le();return Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"flex items-end justify-start pb-4 pt-8",children:[Q.jsxs("div",{className:`flex ${e.customBreakpoints===2?"flex-col":"flex-grow"}`,children:[Q.jsx(_a,{tooltip:Cfe[T],id:T,children:Q.jsx("h2",{className:"flex-grow pr-1 text-2xl text-white",children:e.interaction})}),Q.jsxs("div",{children:[T==="properties"&&Q.jsx(ri,{onClick:()=>f("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),T==="properties"&&Q.jsx(ri,{onClick:()=>f("table"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Table"})]})]}),Q.jsx(sye,{onKeyUp:q=>x(q),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),Q.jsx("div",{className:"w-2"}),Q.jsx(ri,{onClick:()=>k(T),variant:"primary",type:"button",className:"h-9",children:B()}),Q.jsx("div",{className:"w-2"}),Q.jsx(ri,{onClick:F,variant:"primary",type:"button",className:"h-9",children:"Add"}),T==="properties"&&u==="table"&&Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"w-2"}),Q.jsx(ri,{onClick:ie,variant:"primary",type:"button",disabled:y,className:"h-9",children:y?"Testing...":"Preview All Values"})]}),z]}),T==="properties"&&$(r)&&Q.jsx(cye,{isBaseModbus:$(r),customBreakpoints:e.customBreakpoints??0}),J&&Q.jsx("div",{className:"rounded-lg bg-gray-600 px-4 pb-4 pt-4",children:J||Q.jsx("div",{className:"px-6"})}),c&&Q.jsx(xa,{title:m.title,description:"Modify the content using this editor",onHandleEventLeftButton:fe,onHandleEventRightButton:re,rightButton:"Save",children:Q.jsx(N8,{height:"400px",defaultLanguage:"json",value:m.editorState,onChange:q=>g({...m,editorState:q||""}),options:{minimap:{enabled:!1},fontSize:14},theme:"vs-dark"})}),Q.jsx(wT,{isOpen:_.state,onClose:()=>v({state:!1,message:""}),errorMessage:_.message})]})};function pye(e){return e===null?!1:typeof e=="function"||typeof e=="object"}const YK=e=>{const t=Pe.useContext(Fn),[r,n]=Pe.useState(new Array(Object.entries(e).length)),i=Pe.useCallback(o=>{let s=r,a=r[o];s[o]=a===null?!0:!a,n([...s])},[r,n]);return Q.jsx(Q.Fragment,{children:Object.entries(e).map(([o,s],a)=>{if(pye(s)){let u=Q.jsx("button",{className:"flex align-top",onClick:()=>i(a),children:Q.jsxs("div",{className:"flex rounded-md bg-gray-600 px-2 py-1 align-middle font-bold text-white",children:[Q.jsx("h4",{children:o}),r[a]===!0?Q.jsx(us,{className:"pl-1"}):Q.jsx(xk,{className:"pl-1"})]})}),f=Q.jsxs("div",{className:"flex",children:[Q.jsx("div",{className:"my-1 ml-2 flex w-1 rounded-lg bg-gray-400"}),Q.jsx("div",{className:"mt-1 pl-8",children:r[a]===!0&&(Object.entries(s)??[]).map(([c,p],m)=>{let g={};return g[c]=p,Pe.createElement(YK,{...g,key:m})})})]});return Q.jsxs("div",{className:"mb-1",children:[u,r[a]===!0&&f]},a)}const l=iP(e,o,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return Q.jsxs("div",{className:"mb-1 flex",children:[Q.jsx("h4",{className:"rounded-md bg-gray-600 px-2 py-1 font-bold text-white",children:o}),Q.jsx("div",{className:"px-2 py-1 text-gray-400",children:l})]},a)})})};var XK={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QB=ct.createContext&&ct.createContext(XK),mye=["attr","size","title"];function gye(e,t){if(e==null)return{};var r=vye(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(this,arguments)}function ZB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZB(Object(r),!0).forEach(function(n){yye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yye(e,t,r){return t=wye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wye(e){var t=bye(e,"string");return typeof t=="symbol"?t:t+""}function bye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QK(e){return e&&e.map((t,r)=>ct.createElement(t.tag,JS({key:r},t.attr),QK(t.child)))}function ZK(e){return t=>ct.createElement(_ye,KS({attr:JS({},e.attr)},t),QK(e.child))}function _ye(e){var t=r=>{var{attr:n,size:i,title:o}=e,s=gye(e,mye),a=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),ct.createElement("svg",KS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:JS(JS({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ct.createElement("title",null,o),e.children)};return QB!==void 0?ct.createElement(QB.Consumer,null,r=>t(r)):t(XK)}function eU(e){return ZK({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}function tU(e){return ZK({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}const Eye=({onUndo:e,onRedo:t})=>{const r=Pe.useContext(Fn),[n,i]=Pe.useState(void 0),[o,s]=Pe.useState(void 0),[a,l]=Pe.useState(void 0),[u,f]=Pe.useState(void 0);return Pe.useEffect(()=>{const c=r.validationMessage;if(c){if(c.report&&(i(c.report.json),l(c.report.schema)),!c.validationErrors){s(void 0),f(void 0);return}c.validationErrors&&(s(c.validationErrors.json),f(c.validationErrors.schema),console.debug("JSON validation error",c.validationErrors.json),console.debug("JSON Schema validation error",c.validationErrors.schema))}},[r,o,u]),Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"col-span-4 mb-4 flex justify-end gap-2",children:[Q.jsxs(ri,{onClick:e,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[Q.jsx(Bk,{size:16,strokeWidth:3,className:"mr-2"}),Q.jsx("span",{className:"font-bold",children:"Undo"})]}),Q.jsxs(ri,{onClick:t,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[Q.jsx("span",{className:"mr-2 font-bold",children:"Redo"}),Q.jsx(Uk,{size:16,strokeWidth:3})]})]}),Q.jsxs("div",{className:"mb-4 w-full rounded-md bg-gray-600 p-4 text-white",children:[Q.jsxs("div",{className:"flex items-center",children:[Q.jsx("h2",{className:"mr-2",children:"JSON Validation"}),n==="passed"&&Q.jsx(tU,{}),n==="failed"&&Q.jsx(eU,{})]}),o&&Q.jsxs("div",{className:"bg-formRed border-formRed mb-4 mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[Q.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:Q.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),Q.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:o})]}),Q.jsxs("div",{className:"flex items-center",children:[Q.jsx("h2",{className:"mr-2",children:"JSON Schema Validation "}),a==="passed"&&Q.jsx(tU,{}),a==="failed"&&Q.jsx(eU,{})]}),u&&Q.jsxs("div",{className:"bg-formRed border-formRed mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[Q.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:Q.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),Q.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:u})]})]})]})},yc={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},Sye=Object.keys(yc).map(e=>yc[e]).join(""),tA="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",Tye=/\s/g,rU=new RegExp(`^(${tA}\\*)?([${Sye}])(/${tA})?([-+]{1,2}${tA})?$`,"g");function eJ(e){throw new Error(`Invalid calc() expression: ${e}`)}function $ye(e,t){const r=rU.exec(e.replace(Tye,""));r||eJ(e),rU.lastIndex=0;const[,n,i,o,s]=r,{x:a,y:l,width:u,height:f}=t;let c=0;switch(i){case yc.width:{c=u;break}case yc.height:{c=f;break}case yc.x:{c=a;break}case yc.y:{c=l;break}case yc.minimum:{c=Math.min(f,u);break}case yc.maximum:{c=Math.max(f,u);break}case yc.diagonal:{c=Math.sqrt(f*f+u*u);break}}return n&&(c*=parseFloat(n)),o&&(c/=parseFloat(o.slice(1))),s&&(c+=xye(s)),c}function xye(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function nl(e){return typeof e=="string"&&e.includes("calc")}const tJ="calc(",nU=tJ.length;function il(e,t){let r=e,n=0;do{let i=r.indexOf(tJ,n);if(i===-1)return r;let o=i+nU,s=1;e:do{switch(r[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:eJ(r)}o++}while(!0);let a=r.slice(i+nU,o);nl(a)&&(a=il(a,t));const l=String($ye(a,t));r=r.slice(0,i)+l+r.slice(o+1),n=i+l.length}while(!0)}const{round:Aye,floor:Oye,PI:rJ}=Math,Pye={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},Ql=function(e){return e%360+(e<0?360:0)},Wh=function(e,t){return t*Aye(e/t)},bT=function(e){return 180*e/rJ%360},Hs=function(e,t){return t=t||!1,e=t?e:e%360,e*rJ/180},xI=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return Oye(Math.random()*(t-e+1)+e)},{cos:jw,sin:rA,atan2:Rye}=Math,nJ=function(e,t){var r=Hs(e.y),n=Hs(t.y),i=e.x,o=t.x,s=Hs(o-i),a=rA(s)*jw(n),l=jw(r)*rA(n)-rA(r)*jw(n)*jw(s),u=bT(Rye(a,l)),f=["NE","E","SE","S","SW","W","NW","N"],c=u-22.5;return c<0&&(c+=360),c=parseInt(c/45),f[c]},D2=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return(r-=i)*r+(n-=o)*n},iJ=function(e,t){return Math.sqrt(D2(e,t))},Cr={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:YS,cos:AI,sin:OI,sqrt:iU,min:oU,max:sU,atan2:Nye,round:aU,pow:Iye,PI:lU}=Math,et=function(e,t){if(!(this instanceof et))return new et(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};et.fromPolar=function(e,t,r){r=new et(r);var n=YS(e*AI(t)),i=YS(e*OI(t)),o=Ql(bT(t));return o<90?i=-i:o<180?(n=-n,i=-i):o<270&&(n=-n),new et(r.x+n,r.y+i)};et.random=function(e,t,r,n){return new et(xI(e,t),xI(r,n))};et.prototype={type:Cr.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new et(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var o=new et(e[i]),s=this.squaredDistance(o);s<n&&(r=o,n=s)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=oU(sU(this.x,e.x),e.x+e.width),this.y=oU(sU(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return nJ(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new et(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new et(this.x-(e||0),this.y-(t||0))},distance:function(e){return iJ(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new et((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return iU(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return YS(e.x-this.x)+YS(e.y-this.y)},move:function(e,t){var r=Hs(new et(e).theta(this)),n=this.offset(AI(r)*t,-OI(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new et(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new et(0,0),t=Hs(Ql(-t));var r=AI(t),n=OI(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,o=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Iye(10,e);break}return this.x=aU(this.x*t)/t,this.y=aU(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new et(r)||new et(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=Wh(this.x,e),this.y=Wh(this.y,t||e),this},squaredDistance:function(e){return D2(this,e)},theta:function(e){e=new et(e);var t=-(e.y-this.y),r=e.x-this.x,n=Nye(t,r);return n<0&&(n=2*lU+n),180*n/lU},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new et(e)||new et(0,0);var t=this.x,r=this.y;return this.x=iU((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=Hs(e.theta(new et(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new et(0,0);return t.angleBetween(this,e)}};et.prototype.translate=et.prototype.offset;const XS=et,{max:nA,min:iA}=Math,Kt=function(e,t){if(!(this instanceof Kt))return new Kt(e,t);if(e instanceof Kt)return new Kt(e.start,e.end);this.start=new et(e),this.end=new et(t)};Kt.prototype={type:Cr.Line,angle:function(){var e=new et(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=iA(this.start.x,this.end.x),t=iA(this.start.y,this.end.y),r=nA(this.start.x,this.end.x),n=nA(this.start.y,this.end.y);return new Vt(e,t,r-e,n-t)},bearing:function(){return nJ(this.start,this.end)},clone:function(){return new Kt(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new Kt(this.start,e).vector()),r=iA(1,nA(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new Kt(t,e).length()>n||new Kt(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new Kt(this.start,t),new Kt(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new Kt(this.start,t),new Kt(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof Kt&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new et(this.end.x-this.start.x,this.end.y-this.start.y),r=new et(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new et(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*r.y-i.y*r.x,s=i.x*t.y-i.y*t.x;if(n===0||o*n<0||s*n<0)return null;if(n>0){if(o>n||s>n)return null}else if(o<n||s<n)return null;return[new et(this.start.x+o*t.x/n,this.start.y+o*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return iJ(this.start,this.end)},midpoint:function(){return new et((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),o=n.clone().rotate(r,90);return r.move(o,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new et(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return D2(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new Kt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new Kt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new et(this.end.x-this.start.x,this.end.y-this.start.y)}};Kt.prototype.intersection=Kt.prototype.intersect;const kh=Kt,{sqrt:uU,round:Dw,pow:Cye}=Math,ps=function(e,t,r){if(!(this instanceof ps))return new ps(e,t,r);if(e instanceof ps)return new ps(new et(e.x,e.y),e.a,e.b);e=new et(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};ps.fromRect=function(e){return e=new Vt(e),new ps(e.center(),e.width/2,e.height/2)};ps.prototype={type:Cr.Ellipse,bbox:function(){return new Vt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new et(this.x,this.y)},clone:function(){return new ps(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,o=this.b,s=e.vector(),a=r.difference(new et(this)),l=new et(s.x/(i*i),s.y/(o*o)),u=new et(a.x/(i*i),a.y/(o*o)),f=s.dot(l),c=s.dot(u),p=a.dot(u)-1,m=c*c-f*p;if(m<0)return null;if(m>0){var g=uU(m),_=(-c-g)/f,v=(-c+g)/f;if((_<0||1<_)&&(v<0||1<v))return null;0<=_&&_<=1&&t.push(r.lerp(n,_)),0<=v&&v<=1&&t.push(r.lerp(n,v))}else{var h=-c/f;if(0<=h&&h<=1)t.push(r.lerp(n,h));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new et(e),t&&e.rotate(new et(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new et(this.x,this.y),-t):i;var o=n/r,s=o*o,a=this.a*this.a,l=this.b*this.b,u=uU(1/(1/a+s/l));u=r<0?-u:u;var f=o*u;return i=new et(this.x+u,this.y+f),t?i.rotate(new et(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(n*n)+(r-s)*(r-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Cye(10,e);break}return this.x=Dw(this.x*t)/t,this.y=Dw(this.y*t)/t,this.a=Dw(this.a*t)/t,this.b=Dw(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,l=s.y,u=r>s.x+i/2,f=r<s.x-i/2,c,p;return u||f?(c=r>s.x?n-t:n+t,p=i*i/(r-a)-i*i*(n-l)*(c-l)/(o*o*(r-a))+a):(p=n>s.y?r+t:r-t,c=o*o/(n-l)-o*o*(r-a)*(p-a)/(i*i*(n-l))+l),new et(p,c).theta(e)},toString:function(){return new et(this.x,this.y).toString()+" "+this.a+" "+this.b}};const kye=ps,{abs:cU,cos:jye,sin:Dye,min:Xg,max:fU,round:Mw,pow:Mye}=Math,Vt=function(e,t,r,n){if(!(this instanceof Vt))return new Vt(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};Vt.fromEllipse=function(e){return e=new ps(e),new Vt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};Vt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new et;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y;a<r&&(r=a),a>i&&(i=a),l<n&&(n=l),l>o&&(o=l)}return new Vt(r,n,i-r,o-n)};Vt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new Vt;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y,u=a+t.width,f=l+t.height;a<r&&(r=a),u>i&&(i=u),l<n&&(n=l),f>o&&(o=f)}return new Vt(r,n,i-r,o-n)};Vt.prototype={type:Cr.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=Hs(e),i=cU(Dye(n)),o=cU(jye(n)),s=t*o+r*i,a=t*i+r*o;return this.x+=(t-s)/2,this.y+=(r-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new et(this.x,this.y+this.height)},bottomLine:function(){return new Kt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new et(this.x+this.width/2,this.y+this.height)},center:function(){return new et(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Vt(this)},containsPoint:function(e){return e instanceof et||(e=new et(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Vt(this).normalize(),r=new Vt(e).normalize(),n=t.width,i=t.height,o=r.width,s=r.height;if(!n||!i||!o||!s)return!1;var a=t.x,l=t.y,u=r.x,f=r.y;return o+=u,n+=a,s+=f,i+=l,a<=u&&o<=n&&l<=f&&s<=i},corner:function(){return new et(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Vt(this).normalize(),r=new Vt(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var o=fU(t.x,n.x),s=fU(t.y,n.y);return new Vt(o,s,Xg(r.x,i.x)-o,Xg(r.y,i.y)-s)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],o,s,a=r.length;for(s=0;s<a;s++)o=e.intersect(r[s]),o!==null&&i.indexOf(o.toString())<0&&(n.push(o),i.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new et(e);var r=new et(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new Kt(r,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(a!==null){n=a;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new Kt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new et(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Vt(e),t||(t=e.center());var r,n,i,o,s,a,l,u,f=t.x,c=t.y;r=n=i=o=s=a=l=u=1/0;var p=e.topLeft();p.x<f&&(r=(this.x-f)/(p.x-f)),p.y<c&&(s=(this.y-c)/(p.y-c));var m=e.bottomRight();m.x>f&&(n=(this.x+this.width-f)/(m.x-f)),m.y>c&&(a=(this.y+this.height-c)/(m.y-c));var g=e.topRight();g.x>f&&(i=(this.x+this.width-f)/(g.x-f)),g.y<c&&(l=(this.y-c)/(g.y-c));var _=e.bottomLeft();return _.x<f&&(o=(this.x-f)/(_.x-f)),_.y>c&&(u=(this.y+this.height-c)/(_.y-c)),{sx:Xg(r,n,i,o),sy:Xg(s,a,l,u)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return Xg(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return et.prototype.offset.call(this,e,t)},origin:function(){return new et(this.x,this.y)},pointNearestToPoint:function(e){if(e=new et(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new et(this.x+this.width,e.y);case"left":return new et(this.x,e.y);case"bottom":return new et(e.x,this.y+this.height);case"top":return new et(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new Kt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new et(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Mye(10,e);break}return this.x=Mw(this.x*t)/t,this.y=Mw(this.y*t)/t,this.width=Mw(this.width*t)/t,this.height=Mw(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new et(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,o=t,s="left";return r<o&&(o=r,s="right"),n<o&&(o=n,s="top"),i<o&&(s="bottom"),s},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Kt(this.topLeft(),this.topRight())},topMiddle:function(){return new et(this.x+this.width/2,this.y)},topRight:function(){return new et(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Vt.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};Vt.prototype.bottomRight=Vt.prototype.corner;Vt.prototype.topLeft=Vt.prototype.origin;Vt.prototype.translate=Vt.prototype.offset;const Lye=Vt;function oJ(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let o=0;o<i;o+=2)r.push({x:+n[o],y:+n[o+1]});return r}function sJ(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function aJ(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var o;for(r=0;r<i;r++)(o===void 0||e[r].y<o.y||e[r].y===o.y&&e[r].x>o.x)&&(o=e[r]);var s=[];for(r=0;r<i;r++){var a=o.theta(e[r]);a===0&&(a=360);var l=[e[r],r,a];s.push(l)}if(s.sort(function(K,ie){var W=K[2]-ie[2];return W===0&&(W=ie[1]-K[1]),W}),s.length>2){var u=s[s.length-1];s.unshift(u)}for(var f={},c=[],p,m,g,_,v,h;s.length!==0;)if(p=s.pop(),m=p[0],!f.hasOwnProperty(p[0]+"@@"+p[1]))for(var E=!1;!E;)if(c.length<2)c.push(p),E=!0;else{g=c.pop(),_=g[0],v=c.pop(),h=v[0];var y=h.cross(_,m);if(y<0)c.push(v),c.push(g),c.push(p),E=!0;else if(y===0){var S=1e-10,T=_.angleBetween(h,m);t(T-180)<S||_.equals(m)||h.equals(_)?(f[g[0]+"@@"+g[1]]=_,c.push(v)):t((T+1)%360-1)<S&&(c.push(v),s.push(g))}else f[g[0]+"@@"+g[1]]=_,c.push(v)}c.length>2&&c.pop();var x,d=-1;for(n=c.length,r=0;r<n;r++){var $=c[r][1];(x===void 0||$<x)&&(x=$,d=r)}var O=[];if(d>0){var P=c.slice(d),k=c.slice(0,d);O=P.concat(k)}else O=c;var B=[];for(n=O.length,r=0;r<n;r++)B.push(O[r][0]);return B}const Qn=function(e){if(!(this instanceof Qn))return new Qn(e);if(typeof e=="string")return new Qn.parse(e);this.points=Array.isArray(e)?e.map(et):[]};Qn.parse=function(e){return new Qn(oJ(e))};Qn.fromRect=function(e){return new Qn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};Qn.prototype={type:Cr.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var s=0;s<o;s++){var a=i[s],l=a.x,u=a.y;l<e&&(e=l),l>t&&(t=l),u<r&&(r=u),u>n&&(n=u)}return new Vt(e,r,t-e,n-r)},clone:function(){return new Qn(sJ(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,o=0,s=r-1,a=0;a<s;a++){var l=new Kt(t[a],t[a+1]),u=l.length(),f=l.closestPointNormalizedLength(e),c=l.pointAt(f),p=c.squaredDistance(e);p<i&&(i=p,n=o+f*u),o+=u}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,o=r-1,s=0,a=0,l=new Kt,u=new Kt,f=new et;s<r;s++){var c=t[o],p=t[s];if(e.equals(c)||(l.start=c,l.end=p,l.containsPoint(e)))return!0;if(i<=c.y&&i>p.y||i>c.y&&i<=p.y){var m=c.x-n>p.x-n?c.x-n:p.x-n;m>=0&&(f.x=n+m,f.y=i,u.start=e,u.end=f,l.intersect(u)&&a++)}o=s}return a%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Qn(aJ(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new Kt(e),r=[],n=this.lengthPoints(),i=new Kt,o=0,s=n.length-1;o<s;o++){i.start=n[o],i.end=n[o+1];var a=t.intersectionWithLine(i);a&&r.push(a[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new Kt,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,o=r-1,s=0;s<o;s++){var a=n?s:o-1-s,l=t[a],u=t[a+1],f=new Kt(l,u),c=l.distance(u);if(e<=i+c)return f.pointAtLength((n?1:-1)*(e-i));i+=c}var p=n?t[r-1]:t[0];return p.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,o=0;o<i;o++)n[o].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,o=n+1,s=n+2,a=t[i],l=t[o],u=t[s];new Kt(a,u).closestPoint(l).distance(l)<=r?t.splice(o,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,o=0,s=r-1,a=0;a<s;a++){var l=n?a:s-1-a,u=t[l],f=t[l+1],c=new Kt(u,f),p=u.distance(f);if(c.isDifferentiable()){if(e<=o+p)return c.tangentAtLength((n?1:-1)*(e-o));i=c}o+=p}if(i){var m=n?1:0;return i.tangentAt(m)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(Qn.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(Qn.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:Lw,sqrt:Fye,min:dU,max:hU,pow:oA}=Math,bn=function(e,t,r,n){if(!(this instanceof bn))return new bn(e,t,r,n);if(e instanceof bn)return new bn(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new et(e),this.controlPoint1=new et(t),this.controlPoint2=new et(r),this.end=new et(n)};bn.throughPoints=function(){function e(r){var n=[],i=[],o=r.length-1,s;if(o==1)return n[0]=new et((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new et(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*r[s].x+2*r[s+1].x;a[0]=r[0].x+2*r[1].x,a[o-1]=(8*r[o-1].x+r[o].x)/2;var l=t(a);for(s=1;s<o-1;++s)a[s]=4*r[s].y+2*r[s+1].y;a[0]=r[0].y+2*r[1].y,a[o-1]=(8*r[o-1].y+r[o].y)/2;var u=t(a);for(s=0;s<o;s++)n.push(new et(l[s],u[s])),s<o-1?i.push(new et(2*r[s+1].x-l[s+1],2*r[s+1].y-u[s+1])):i.push(new et((r[o].x+l[o-1])/2,(r[o].y+u[o-1])/2));return[n,i]}function t(r){var n=r.length,i=[],o=[],s=2;i[0]=r[0]/s;for(var a=1;a<n;a++)o[a]=1/s,s=(a<n-1?4:3.5)-o[a],i[a]=(r[a]-i[a-1])/s;for(a=1;a<n;a++)i[n-a-1]-=o[n-a]*i[n-a];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],o=n[0].length,s=0;s<o;s++){var a=new et(n[0][s].x,n[0][s].y),l=new et(n[1][s].x,n[1][s].y);i.push(new bn(r[s],a,l,r[s+1]))}return i}}();bn.prototype={type:Cr.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,o=e.y,s=t.x,a=t.y,l=r.x,u=r.y,f=n.x,c=n.y,p=new Array,m=new Array,g=[new Array,new Array],_,v,h,E,y,S,T,x,d=0;d<2;++d){if(d===0?(v=6*i-12*s+6*l,_=-3*i+9*s-9*l+3*f,h=3*s-3*i):(v=6*o-12*a+6*u,_=-3*o+9*a-9*u+3*c,h=3*a-3*o),Lw(_)<1e-12){if(Lw(v)<1e-12)continue;E=-h/v,0<E&&E<1&&m.push(E);continue}T=v*v-4*h*_,x=Fye(T),!(T<0)&&(y=(-v+x)/(2*_),0<y&&y<1&&m.push(y),S=(-v-x)/(2*_),0<S&&S<1&&m.push(S))}for(var $=m.length,O=$,P,k,B;$--;)E=m[$],P=1-E,k=P*P*P*i+3*P*P*E*s+3*P*E*E*l+E*E*E*f,g[0][$]=k,B=P*P*P*o+3*P*P*E*a+3*P*E*E*u+E*E*E*c,g[1][$]=B,p[$]={X:k,Y:B};m[O]=0,m[O+1]=1,p[O]={X:i,Y:o},p[O+1]={X:f,Y:c},g[0][O]=i,g[1][O]=o,g[0][O+1]=f,g[1][O+1]=c,m.length=O+2,g[0].length=O+2,g[1].length=O+2,p.length=O+2;var K=dU.apply(null,g[0]),ie=dU.apply(null,g[1]),W=hU.apply(null,g[0]),ne=hU.apply(null,g[1]);return new Vt(K,ie,W-K,ne-ie)},clone:function(){return new bn(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,o,s,a,l,u,f,c=n.length,p=c?1/c:0,m=0;m<c;m++){var g=n[m],_=g.start.distance(e),v=g.end.distance(e),h=_+v;(!f||h<f)&&(i=g,o=m*p,s=(m+1)*p,a=_,l=v,u=g.start.distance(g.end),f=h)}for(var E=oA(10,-r);;){var y=a?Lw(a-l)/a:0,S=l?Lw(a-l)/l:0,T=y<E||S<E,x=a?a<u*E:!0,d=l?l<u*E:!0,$=x||d;if(T||$)return a<=l?o:s;var O=i.divide(.5);p/=2;var P=O[0].start.distance(e),k=O[0].end.distance(e),B=P+k,K=O[1].start.distance(e),ie=O[1].end.distance(e),W=K+ie;B<=W?(i=O[0],s-=p,a=P,l=k):(i=O[1],o+=p,a=K,l=ie)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new bn(t,t,t,t),new bn(t,r,n,i)];if(e>=1)return[new bn(t,r,n,i),new bn(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new bn(t,s,a,l),new bn(l,u,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new Kt(t,r).pointAt(e),s=new Kt(r,n).pointAt(e),a=new Kt(n,i).pointAt(e),l=new Kt(o,s).pointAt(e),u=new Kt(s,a).pointAt(e),f=new Kt(l,u).pointAt(e),c={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:a};return c},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new bn(r,n,i,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var l=this.endpointDistance(),u=oA(10,-t),f=2,c=n.cross(r,o)===0&&i.cross(r,o)===0;c&&(f=2*t);for(var p=0;;){p+=1;for(var m=[],g=s.length,_=0;_<g;_++){var v=s[_],h=v.divide(.5);m.push(h[0],h[1])}for(var E=0,y=m.length,S=0;S<y;S++){var T=m[S];E+=T.endpointDistance()}if(p>=f){var x=E!==0?(E-l)/E:0;if(x<u)return m}s=m,l=E}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,o=0;o<i;o++){var s=r[o];n+=s.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,o=new Kt(r,n);return o.translate(i.x-r.x,i.y-r.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.length(i),s=o*e;return this.tAtLength(s,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,o={precision:n,subdivisions:i},s,a,l,u,f,c=0,p=i.length,m=1/p,g=0;g<p;g++){var _=r?g:p-1-g,v=i[g],h=v.endpointDistance();if(e<=c+h){s=v,a=_*m,l=(_+1)*m,u=r?e-c:h+c-e,f=r?h+c-e:e-c;break}c+=h}if(!s)return r?1:0;for(var E=this.length(o),y=oA(10,-n);;){var S;if(S=E!==0?u/E:0,S<y)return a;if(S=E!==0?f/E:0,S<y)return l;var T,x,d=s.divide(.5);m/=2;var $=d[0].endpointDistance(),O=d[1].endpointDistance();u<=$?(s=d[0],l-=m,T=u,x=$-T):(s=d[1],a+=m,T=u-$,x=O-T),u=T,f=x}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,o=0;o<i;o++){var s=r[o];n.push(s.end.clone())}return n},toPolyline:function(e){return new Qn(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};bn.prototype.divide=bn.prototype.divideAtT;function h0(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var o=n[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}const ir=function(e){if(!(this instanceof ir))return new ir(e);if(typeof e=="string")return new ir.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,l){return a.concat(l)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var o=e[t];if(!(o instanceof Kt||o instanceof bn))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(ir.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(ir.createSegment("M",o.start)),o instanceof Kt?this.appendSegment(ir.createSegment("L",o.end)):o instanceof bn&&this.appendSegment(ir.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof Kt)this.appendSegment(ir.createSegment("M",e.start)),this.appendSegment(ir.createSegment("L",e.end));else if(e instanceof bn)this.appendSegment(ir.createSegment("M",e.start)),this.appendSegment(ir.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof Qn){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var s=e.points[t];t===0?this.appendSegment(ir.createSegment("M",s)):this.appendSegment(ir.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};ir.parse=function(e){if(!e)return new ir;for(var t=new ir,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,o=0;o<i;o++){var s=n[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=s.match(a),u=ir.createSegment.apply(this,l);t.appendSegment(u)}return t};ir.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=ir.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return qu(t,r)};ir.prototype={type:Cr.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var l=e[a];n=this.prepareSegment(l,i,o),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,o),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var o=i.bbox();r=r?r.union(o):o}}if(r)return r;var s=e[t-1];return new Vt(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new ir,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointLength(e,i);if(o===0)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isVisible){var c=u.closestPointT(e,{precision:i,subdivisions:f}),p=u.pointAtT(c),m=new Kt(p,e).squaredLength();m<a&&(s={segmentIndex:l,value:c},a=m)}}return s||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isDifferentiable()){var c=u.closestPointT(e,{precision:i,subdivisions:f}),p=u.pointAtT(c),m=new Kt(p,e).squaredLength();m<a&&(s=u.tangentAtT(c),a=m)}}return s||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,o=0;o<n;o++){var s=r[o];s.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.divideAtLength(l,s)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a,l=0,u,f,c,p,m;for(s=0;s<r;s++){var g=n?s:r-1-s;a=this.getSegment(g);var _=o[g],v=a.length({precision:i,subdivisions:_});if(a.isDifferentiable()&&(c=a,p=g,e<=l+v)){f=g,u=a.divideAtLength((n?1:-1)*(e-l),{precision:i,subdivisions:_});break}l+=v}if(!c)return null;u||(f=p,m=n?1:0,u=c.divideAtT(m));var h=this.clone();h.replaceSegment(f,u);var E=f,y=f+1,S=f+2;u[0].isDifferentiable()||(h.removeSegment(E),y-=1,S-=1);var T=h.getSegment(y).start;h.insertSegment(y,ir.createSegment("M",T)),S+=1,u[1].isDifferentiable()||(h.removeSegment(S-1),S-=1);var x=S-E-1;for(s=S;s<h.segments.length;s++){var d=this.getSegment(s-x);if(a=h.getSegment(s),a.type==="Z"&&!d.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var $=ir.createSegment("L",d.end);h.replaceSegment(s,$)}}var O=new ir(h.segments.slice(0,y)),P=new ir(h.segments.slice(y));return[O,P]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=r[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<r;o++){var s=t[o],a=s.getSubdivisions({precision:n});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const o=t[i];o.isSubpathStart?n.push(new ir(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(n!==0&&(e>=1?(o=r[e-1],s=o.nextSegment):s=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,c){return f.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++){var u=t[l];i=this.prepareSegment(u,o,s),r.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,o=n.length;i<o;i++){var s=n[i],a=e.intersect(s);a&&(r||(r=[]),Array.isArray(a)?Array.prototype.push.apply(r,a):r.push(a))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=0,s=0;s<r;s++){var a=t[s],l=i[s];o+=a.length({subdivisions:l})}return o},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=n?(i=n-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,u=0,f=0;f<i;f++){var c=r[f];l=a[f],u+=c.length({precisison:s,subdivisions:l})}return c=r[i],l=a[i],u+=c.lengthAtT(o,{precisison:s,subdivisions:l}),u},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.pointAtLength(l,s)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=s[f],m=c.length({precision:o,subdivisions:p});if(c.isVisible){if(e<=l+m)return c.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:p});a=c}l+=m}if(a)return i?a.end:a.start;var g=r[n-1];return g.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,o=n.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,o=r[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(p,m){return p.concat(m)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,f=0;f<u;f++){var c=t[f];i=this.prepareSegment(c,s,a),r.splice(e+f,0,i),s=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),r.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,o=0;o<i;o++){var s=n[o];s.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.segmentIndexAtLength(l,s)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=s[f],m=c.length({precision:o,subdivisions:p});if(c.isVisible){if(e<=l+m)return f;a=f}l+=m}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.tangentAtLength(l,s)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],p=s[f],m=c.length({precision:o,subdivisions:p});if(c.isDifferentiable()){if(e<=l+m)return c.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:p});a=c}l+=m}if(a){var g=i?1:0;return a.tangentAtT(g)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=[],s=[],a=0;a<r;a++){var l=t[a];if(l.isVisible){var u=i[a];if(u.length>0){var f=u.map(function(c){return c.start});Array.prototype.push.apply(s,f)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new Qn(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var o=r[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,ir.createSegment("M",0,0)),this}};Object.defineProperty(ir.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(ir.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function qu(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var rp={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(rp,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(rp,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(rp,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var So=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof So))return qu(So,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Kt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new et(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(qu(So,i));return n}else{if(t===1)return this.end=new et(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],n.push(new So(o));return n}},lJ={clone:function(){return new So(this.end)},divideAt:function(e){var t=new Kt(this.start,this.end),r=t.divideAt(e);return[new So(r[0]),new So(r[1])]},divideAtLength:function(e){var t=new Kt(this.start,this.end),r=t.divideAtLength(e);return[new So(r[0]),new So(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(lJ,"type",{configurable:!0,enumerable:!0,value:"L"});So.prototype=h0(rp,Kt.prototype,lJ);var ma=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof ma))return qu(ma,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof bn){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new et(+e[0],+e[1]),this.controlPoint2=new et(+e[2],+e[3]),this.end=new et(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(qu(ma,i));return n}else{if(t===3)return this.controlPoint1=new et(e[0]),this.controlPoint2=new et(e[1]),this.end=new et(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(n=[],r=0;r<t;r+=3)o=e.slice(r,r+3),n.push(qu(ma,o));return n}},uJ={clone:function(){return new ma(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new bn(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new ma(n[0]),new ma(n[1])]},divideAtLength:function(e,t){var r=new bn(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new ma(n[0]),new ma(n[1])]},divideAtT:function(e){var t=new bn(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new ma(r[0]),new ma(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(uJ,"type",{configurable:!0,enumerable:!0,value:"C"});ma.prototype=h0(rp,bn.prototype,uJ);var Th=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Th))return qu(Th,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Kt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof bn){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new et(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(qu(Th,i)):n.push(qu(So,i));return n}else{if(t===1)return this.end=new et(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],r===0?n.push(new Th(o)):n.push(new So(o));return n}},M2={bbox:function(){return null},clone:function(){return new Th(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(M2,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(M2,"type",{configurable:!0,enumerable:!0,value:"M"});Th.prototype=h0(rp,M2);var Km=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Km))return qu(Km,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},L2={clone:function(){return new Km},divideAt:function(e){var t=new Kt(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new So(r[0]):this.clone(),new So(r[1])]},divideAtLength:function(e){var t=new Kt(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new So(r[0]):this.clone(),new So(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(L2,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(L2,"type",{configurable:!0,enumerable:!0,value:"Z"});Km.prototype=h0(rp,Kt.prototype,L2);var Bye=ir.segmentTypes={L:So,C:ma,M:Th,Z:Km,z:Km};ir.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(Bye).join("")+",.]*$");ir.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const Uye={curveThroughPoints:function(e){return console.warn("deprecated"),new ir(bn.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new et((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new et(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var o=[];for(i=1;i<n-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[n-1]=(8*e[n-1].x+e[n].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<n-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[n-1]=(8*e[n-1].y+e[n].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<n;i++)t.push(new et(s[i],a[i])),i<n-1?r.push(new et(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1])):r.push(new et((e[n].x+s[n-1])/2,(e[n].y+a[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new bn(e,t,r,n);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var o=1;o<t;o++)n[o]=1/i,i=(o<t-1?4:3.5)-n[o],r[o]=(e[o]-r[o-1])/i;for(o=1;o<t;o++)r[t-o-1]-=n[t-o]*r[t-o];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new bn(e,t,r,n);return function(s){return i.closestPointT(s)}}},Ws=function(e){if(!(this instanceof Ws))return new Ws(e);if(typeof e=="string")return new Ws.parse(e);this.points=Array.isArray(e)?e.map(et):[]};Ws.parse=function(e){return new Ws(oJ(e))};Ws.fromRect=function(e){return new Ws([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};Ws.prototype=h0(Qn.prototype,{type:Cr.Polygon,clone:function(){return new Ws(sJ(this.points))},convexHull:function(){return new Ws(aJ(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function cJ(e,t,r,n){switch(e.type){case Cr.Line:{switch(t.type){case Cr.Line:return $h(e,t)}break}case Cr.Ellipse:{switch(t.type){case Cr.Line:return F2(e,t);case Cr.Ellipse:return fJ(e,t)}break}case Cr.Rect:{switch(t.type){case Cr.Line:return dJ(e,t);case Cr.Ellipse:return hJ(e,t);case Cr.Rect:return B2(e,t)}break}case Cr.Polyline:{switch(t.type){case Cr.Line:return _T(e,t);case Cr.Ellipse:return U2(e,t);case Cr.Rect:return pJ(e,t);case Cr.Polyline:return mJ(e,t)}break}case Cr.Polygon:{switch(t.type){case Cr.Line:return z2(e,t);case Cr.Ellipse:return ET(e,t);case Cr.Rect:return gJ(e,t);case Cr.Polyline:return vJ(e,t);case Cr.Polygon:return yJ(e,t)}break}case Cr.Path:{switch(t.type){case Cr.Line:return wJ(e,t,r);case Cr.Ellipse:return bJ(e,t,r);case Cr.Rect:return _J(e,t,r);case Cr.Polyline:return q2(e,t,r);case Cr.Polygon:return ST(e,t,r);case Cr.Path:return EJ(e,t,r,n)}break}}switch(t.type){case Cr.Ellipse:case Cr.Rect:case Cr.Polyline:case Cr.Polygon:case Cr.Path:return cJ(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function $h(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,l=t.end.x,u=t.end.y,f=i-r,c=o-n,p=l-s,m=u-a,g=r-s,_=n-a,v=f*m-p*c,h=(f*_-c*g)/v,E=(p*_-m*g)/v;return h>=0&&h<=1&&E>=0&&E<=1}function F2(e,t){const r=e.a,n=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,l=t.start.y-o,u=t.end.y-o,f=r*r,c=n*n,p=a-s,m=u-l,g=p*p/f+m*m/c,_=2*s*p/f+2*l*m/c,v=s*s/f+l*l/c-1,h=_*_-4*g*v;if(h===0){const E=-_/2/g;return E>=0&&E<=1}else if(h>0){const E=Math.sqrt(h),y=(-_+E)/2/g,S=(-_-E)/2/g;return y>=0&&y<=1||S>=0&&S<=1}return!1}function fJ(e,t){return zye(e,0,t,0)}function dJ(e,t){const{start:r,end:n}=t,{x:i,y:o,width:s,height:a}=e;return r.x>i+s&&n.x>i+s||r.x<i&&n.x<i||r.y>o+a&&n.y>o+a||r.y<o&&n.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:$h(e.topLine(),t)||$h(e.rightLine(),t)||$h(e.bottomLine(),t)||$h(e.leftLine(),t)}function hJ(e,t){return B2(e,Vt.fromEllipse(t))?ET(Ws.fromRect(e),t):!1}function B2(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function _T(e,t){return SJ(e,t,{interior:!1})}function U2(e,t){return TJ(e,t,{interior:!1})}function pJ(e,t){return $J(e,t,{interior:!1})}function mJ(e,t){return TT(e,t,{interior:!1})}function z2(e,t){return SJ(e,t,{interior:!0})}function ET(e,t){return TJ(e,t,{interior:!0})}function gJ(e,t){return $J(e,t,{interior:!0})}function vJ(e,t){return TT(e,t,{interior:!0})}function yJ(e,t){return V2(e,t,{interior:!0})}function wJ(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?z2(i,t):_T(i,t)})}function bJ(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?ET(i,t):U2(i,t)})}function _J(e,t,r){return ST(e,Ws.fromRect(t),r)}function q2(e,t,r){return xJ(e,t,r,{interior:!1})}function ST(e,t,r){return xJ(e,t,r,{interior:!0})}function EJ(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?ST(t,o,n):q2(t,o,n)})}function SJ(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:a,end:l,points:u}=e;i=l.equals(a)?u:[...u,a]}else i=e.points;const{length:o}=i,s=new Kt;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],$h(t,s))return!0;return!1}function TJ(e,t,r={}){const{start:n,end:i,points:o}=e;if(t.containsPoint(n))return!0;let s;const{interior:a=!1}=r;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(n)?o:[...o,n]}else s=o;const{length:l}=s,u=new Kt;for(let f=0;f<l-1;f++)if(u.start=s[f],u.end=s[f+1],F2(t,u))return!0;return!1}function $J(e,t,r){const n=Ws.fromRect(t);return V2(e,n,r)}function xJ(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?V2(t,o,n):TT(t,o,n)})}function TT(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:s}=o,a=new Kt;for(let l=0;l<s-1;l++)if(a.start=o[l],a.end=o[l+1],_T(i,a))return!0;return!1}function V2(e,t,r){return t.containsPoint(e.start)||TT(e,t.clone().close(),r)}function zye(e,t,r,n){const{cos:i,sin:o}=Math,s=o(t),a=i(t),l=o(n),u=i(n),f=s*s,c=a*a,p=s*a,m=l*l,g=u*u,_=l*u,v=e.a*e.a,h=e.b*e.b,E=r.a*r.a,y=r.b*r.b,S=v*f+h*c,T=E*m+y*g,x=v*c+h*f,d=E*g+y*m;let $=2*(h-v)*p,O=2*(y-E)*_,P=-2*S*e.x-$*e.y,k=-2*T*r.x-O*r.y,B=-$*e.x-2*x*e.y,K=-O*r.x-2*d*r.y;const ie=S*e.x*e.x+x*e.y*e.y+$*e.x*e.y-v*h,W=T*r.x*r.x+d*r.y*r.y+O*r.x*r.y-E*y;$=$/2,O=O/2,P=P/2,k=k/2,B=B/2,K=K/2;const ne=gf([[S,$,P],[$,x,B],[P,B,ie]]),fe=gf([[T,O,k],[O,d,K],[k,K,W]]),re=.33333333*(gf([[T,$,P],[O,x,B],[k,B,ie]])+gf([[S,O,P],[$,d,B],[P,K,ie]])+gf([[S,$,k],[$,x,K],[P,B,W]])),le=.33333333*(gf([[S,O,k],[$,d,K],[P,K,W]])+gf([[T,$,k],[O,x,K],[k,B,W]])+gf([[T,O,P],[O,d,B],[k,K,ie]])),F=Fw([[ne,re],[re,le]]),z=Fw([[ne,le],[re,fe]]),J=Fw([[re,le],[le,fe]]);return!(Fw([[2*F,z],[z,2*J]])>0&&(le>0||re>0))}function Fw(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function gf(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const qye=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:fJ,ellipseWithLine:F2,exists:cJ,lineWithLine:$h,pathWithEllipse:bJ,pathWithLine:wJ,pathWithPath:EJ,pathWithPolygon:ST,pathWithPolyline:q2,pathWithRect:_J,polygonWithEllipse:ET,polygonWithLine:z2,polygonWithPolygon:yJ,polygonWithPolyline:vJ,polygonWithRect:gJ,polylineWithEllipse:U2,polylineWithLine:_T,polylineWithPolyline:mJ,polylineWithRect:pJ,rectWithEllipse:hJ,rectWithLine:dJ,rectWithRect:B2},Symbol.toStringTag,{value:"Module"})),Vye=qye,Hye=Object.freeze(Object.defineProperty({__proto__:null,Curve:bn,Ellipse:ps,Line:Kt,Path:ir,Point:et,Polygon:Ws,Polyline:Qn,Rect:Vt,bezier:Uye,ellipse:kye,intersection:Vye,line:kh,normalizeAngle:Ql,point:XS,random:xI,rect:Lye,scale:Pye,snapToGrid:Wh,toDeg:bT,toRad:Hs,types:Cr},Symbol.toStringTag,{value:"Module"}));var AJ={},H2="1.13.7",pU=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},$T=Array.prototype,W2=Object.prototype,mU=typeof Symbol<"u"?Symbol.prototype:null,Wye=$T.push,p0=$T.slice,xy=W2.toString,Gye=W2.hasOwnProperty,OJ=typeof ArrayBuffer<"u",Kye=typeof DataView<"u",Jye=Array.isArray,gU=Object.keys,vU=Object.create,yU=OJ&&ArrayBuffer.isView,Yye=isNaN,Xye=isFinite,PJ=!{toString:null}.propertyIsEnumerable("toString"),wU=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Qye=Math.pow(2,53)-1;function ws(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function Ed(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function RJ(e){return e===null}function G2(e){return e===void 0}function K2(e){return e===!0||e===!1||xy.call(e)==="[object Boolean]"}function NJ(e){return!!(e&&e.nodeType===1)}function Ho(e){var t="[object "+e+"]";return function(r){return xy.call(r)===t}}const xT=Ho("String"),J2=Ho("Number"),IJ=Ho("Date"),CJ=Ho("RegExp"),kJ=Ho("Error"),Y2=Ho("Symbol"),X2=Ho("ArrayBuffer");var jJ=Ho("Function"),Zye=pU.document&&pU.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Zye!="function"&&(jJ=function(e){return typeof e=="function"||!1});const Vo=jJ,DJ=Ho("Object");var MJ=Kye&&(!/\[native code\]/.test(String(DataView))||DJ(new DataView(new ArrayBuffer(8)))),Q2=typeof Map<"u"&&DJ(new Map),e0e=Ho("DataView");function t0e(e){return e!=null&&Vo(e.getInt8)&&X2(e.buffer)}const Ay=MJ?t0e:e0e,Sd=Jye||Ho("Array");function Td(e,t){return e!=null&&Gye.call(e,t)}var PI=Ho("Arguments");(function(){PI(arguments)||(PI=function(e){return Td(e,"callee")})})();const AT=PI;function LJ(e){return!Y2(e)&&Xye(e)&&!isNaN(parseFloat(e))}function Z2(e){return J2(e)&&Yye(e)}function ej(e){return function(){return e}}function FJ(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=Qye}}function BJ(e){return function(t){return t==null?void 0:t[e]}}const QS=BJ("byteLength"),r0e=FJ(QS);var n0e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function i0e(e){return yU?yU(e)&&!Ay(e):r0e(e)&&n0e.test(xy.call(e))}const tj=OJ?i0e:ej(!1),Ks=BJ("length");function o0e(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function UJ(e,t){t=o0e(t);var r=wU.length,n=e.constructor,i=Vo(n)&&n.prototype||W2,o="constructor";for(Td(e,o)&&!t.contains(o)&&t.push(o);r--;)o=wU[r],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function eo(e){if(!Ed(e))return[];if(gU)return gU(e);var t=[];for(var r in e)Td(e,r)&&t.push(r);return PJ&&UJ(e,t),t}function zJ(e){if(e==null)return!0;var t=Ks(e);return typeof t=="number"&&(Sd(e)||xT(e)||AT(e))?t===0:Ks(eo(e))===0}function rj(e,t){var r=eo(t),n=r.length;if(e==null)return!n;for(var i=Object(e),o=0;o<n;o++){var s=r[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function jn(e){if(e instanceof jn)return e;if(!(this instanceof jn))return new jn(e);this._wrapped=e}jn.VERSION=H2;jn.prototype.value=function(){return this._wrapped};jn.prototype.valueOf=jn.prototype.toJSON=jn.prototype.value;jn.prototype.toString=function(){return String(this._wrapped)};function bU(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,QS(e))}var _U="[object DataView]";function RI(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:qJ(e,t,r,n)}function qJ(e,t,r,n){e instanceof jn&&(e=e._wrapped),t instanceof jn&&(t=t._wrapped);var i=xy.call(e);if(i!==xy.call(t))return!1;if(MJ&&i=="[object Object]"&&Ay(e)){if(!Ay(t))return!1;i=_U}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return mU.valueOf.call(e)===mU.valueOf.call(t);case"[object ArrayBuffer]":case _U:return qJ(bU(e),bU(t),r,n)}var o=i==="[object Array]";if(!o&&tj(e)){var s=QS(e);if(s!==QS(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(Vo(a)&&a instanceof a&&Vo(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!RI(e[u],t[u],r,n))return!1}else{var f=eo(e),c;if(u=f.length,eo(t).length!==u)return!1;for(;u--;)if(c=f[u],!(Td(t,c)&&RI(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function VJ(e,t){return RI(e,t)}function fg(e){if(!Ed(e))return[];var t=[];for(var r in e)t.push(r);return PJ&&UJ(e,t),t}function nj(e){var t=Ks(e);return function(r){if(r==null)return!1;var n=fg(r);if(Ks(n))return!1;for(var i=0;i<t;i++)if(!Vo(r[e[i]]))return!1;return e!==GJ||!Vo(r[ij])}}var ij="forEach",HJ="has",oj=["clear","delete"],WJ=["get",HJ,"set"],s0e=oj.concat(ij,WJ),GJ=oj.concat(WJ),a0e=["add"].concat(oj,ij,HJ);const KJ=Q2?nj(s0e):Ho("Map"),JJ=Q2?nj(GJ):Ho("WeakMap"),YJ=Q2?nj(a0e):Ho("Set"),XJ=Ho("WeakSet");function np(e){for(var t=eo(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function QJ(e){for(var t=eo(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function sj(e){for(var t={},r=eo(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function Oy(e){var t=[];for(var r in e)Vo(e[r])&&t.push(r);return t.sort()}function aj(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}const lj=aj(fg),Jm=aj(eo),uj=aj(fg,!0);function l0e(){return function(){}}function ZJ(e){if(!Ed(e))return{};if(vU)return vU(e);var t=l0e();t.prototype=e;var r=new t;return t.prototype=null,r}function eY(e,t){var r=ZJ(e);return t&&Jm(r,t),r}function tY(e){return Ed(e)?Sd(e)?e.slice():lj({},e):e}function rY(e,t){return t(e),e}function cj(e){return Sd(e)?e:[e]}jn.toPath=cj;function m0(e){return jn.toPath(e)}function fj(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function dj(e,t,r){var n=fj(e,m0(t));return G2(n)?r:n}function nY(e,t){t=m0(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!Td(e,i))return!1;e=e[i]}return!!r}function OT(e){return e}function Gh(e){return e=Jm({},e),function(t){return rj(t,e)}}function PT(e){return e=m0(e),function(t){return fj(t,e)}}function g0(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,s){return e.call(t,n,i,o,s)}}return function(){return e.apply(t,arguments)}}function iY(e,t,r){return e==null?OT:Vo(e)?g0(e,t,r):Ed(e)&&!Sd(e)?Gh(e):PT(e)}function RT(e,t){return iY(e,t,1/0)}jn.iteratee=RT;function Zs(e,t,r){return jn.iteratee!==RT?jn.iteratee(e,t):iY(e,t,r)}function oY(e,t,r){t=Zs(t,r);for(var n=eo(e),i=n.length,o={},s=0;s<i;s++){var a=n[s];o[a]=t(e[a],a,e)}return o}function hj(){}function sY(e){return e==null?hj:function(t){return dj(e,t)}}function aY(e,t,r){var n=Array(Math.max(0,e));t=g0(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function ZS(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Ym=Date.now||function(){return new Date().getTime()};function lY(e){var t=function(o){return e[o]},r="(?:"+eo(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(i,t):o}}const uY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},cY=lY(uY),u0e=sj(uY),fY=lY(u0e),dY=jn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var sA=/(.)^/,c0e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},f0e=/\\|'|\r|\n|\u2028|\u2029/g;function d0e(e){return"\\"+c0e[e]}var h0e=/^\s*(\w|\$)+\s*$/;function hY(e,t,r){!t&&r&&(t=r),t=uj({},t,jn.templateSettings);var n=RegExp([(t.escape||sA).source,(t.interpolate||sA).source,(t.evaluate||sA).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(u,f,c,p,m){return o+=e.slice(i,m).replace(f0e,d0e),i=m+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?o+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:p&&(o+=`';
`+p+`
__p+='`),u}),o+=`';
`;var s=t.variable;if(s){if(!h0e.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return a.call(this,u,jn)};return l.source="function("+s+`){
`+o+"}",l}function pY(e,t,r){t=m0(t);var n=t.length;if(!n)return Vo(r)?r.call(e):r;for(var i=0;i<n;i++){var o=e==null?void 0:e[t[i]];o===void 0&&(o=r,i=n),e=Vo(o)?o.call(e):o}return e}var p0e=0;function mY(e){var t=++p0e+"";return e?e+t:t}function gY(e){var t=jn(e);return t._chain=!0,t}function vY(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=ZJ(e.prototype),s=e.apply(o,i);return Ed(s)?s:o}var ip=ws(function(e,t){var r=ip.placeholder,n=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return vY(e,n,this,this,s)};return n});ip.placeholder=jn;const pj=ws(function(e,t,r){if(!Vo(e))throw new TypeError("Bind must be called on a function");var n=ws(function(i){return vY(e,n,t,this,r.concat(i))});return n}),Oa=FJ(Ks);function op(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,o=0,s=Ks(e);o<s;o++){var a=e[o];if(Oa(a)&&(Sd(a)||AT(a)))if(t>1)op(a,t-1,r,n),i=n.length;else for(var l=0,u=a.length;l<u;)n[i++]=a[l++];else r||(n[i++]=a)}return n}const yY=ws(function(e,t){t=op(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=pj(e[n],e)}return e});function wY(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return Td(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const mj=ws(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),bY=ip(mj,jn,1);function _Y(e,t,r){var n,i,o,s,a=0;r||(r={});var l=function(){a=r.leading===!1?0:Ym(),n=null,s=e.apply(i,o),n||(i=o=null)},u=function(){var f=Ym();!a&&r.leading===!1&&(a=f);var c=t-(f-a);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),a=f,s=e.apply(i,o),n||(i=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(n),a=0,n=i=o=null},u}function EY(e,t,r){var n,i,o,s,a,l=function(){var f=Ym()-i;t>f?n=setTimeout(l,t-f):(n=null,r||(s=e.apply(a,o)),n||(o=a=null))},u=ws(function(f){return a=this,o=f,i=Ym(),n||(n=setTimeout(l,t),r&&(s=e.apply(a,o))),s});return u.cancel=function(){clearTimeout(n),n=o=a=null},u}function SY(e,t){return ip(t,e)}function NT(e){return function(){return!e.apply(this,arguments)}}function TY(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function $Y(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function gj(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const xY=ip(gj,2);function vj(e,t,r){t=Zs(t,r);for(var n=eo(e),i,o=0,s=n.length;o<s;o++)if(i=n[o],t(e[i],i,e))return i}function AY(e){return function(t,r,n){r=Zs(r,n);for(var i=Ks(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const IT=AY(1),yj=AY(-1);function wj(e,t,r,n){r=Zs(r,n,1);for(var i=r(t),o=0,s=Ks(e);o<s;){var a=Math.floor((o+s)/2);r(e[a])<i?o=a+1:s=a}return o}function OY(e,t,r){return function(n,i,o){var s=0,a=Ks(n);if(typeof o=="number")e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(p0.call(n,s,a),Z2),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(n[o]===i)return o;return-1}}const bj=OY(1,IT,wj),PY=OY(-1,yj);function Py(e,t,r){var n=Oa(e)?IT:vj,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function RY(e,t){return Py(e,Gh(t))}function Zl(e,t,r){t=g0(t,r);var n,i;if(Oa(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=eo(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function Lc(e,t,r){t=Zs(t,r);for(var n=!Oa(e)&&eo(e),i=(n||e).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=t(e[a],a,e)}return o}function NY(e){var t=function(r,n,i,o){var s=!Oa(r)&&eo(r),a=(s||r).length,l=e>0?0:a-1;for(o||(i=r[s?s[l]:l],l+=e);l>=0&&l<a;l+=e){var u=s?s[l]:l;i=n(i,r[u],u,r)}return i};return function(r,n,i,o){var s=arguments.length>=3;return t(r,g0(n,o,4),i,s)}}const xm=NY(1),e1=NY(-1);function ud(e,t,r){var n=[];return t=Zs(t,r),Zl(e,function(i,o,s){t(i,o,s)&&n.push(i)}),n}function IY(e,t,r){return ud(e,NT(Zs(t)),r)}function t1(e,t,r){t=Zs(t,r);for(var n=!Oa(e)&&eo(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(!t(e[s],s,e))return!1}return!0}function r1(e,t,r){t=Zs(t,r);for(var n=!Oa(e)&&eo(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(t(e[s],s,e))return!0}return!1}function ul(e,t,r,n){return Oa(e)||(e=np(e)),(typeof r!="number"||n)&&(r=0),bj(e,t,r)>=0}const CY=ws(function(e,t,r){var n,i;return Vo(t)?i=t:(t=m0(t),n=t.slice(0,-1),t=t[t.length-1]),Lc(e,function(o){var s=i;if(!s){if(n&&n.length&&(o=fj(o,n)),o==null)return;s=o[t]}return s==null?s:s.apply(o,r)})});function CT(e,t){return Lc(e,PT(t))}function kY(e,t){return ud(e,Gh(t))}function _j(e,t,r){var n=-1/0,i=-1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Oa(e)?e:np(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o>n&&(n=o)}else t=Zs(t,r),Zl(e,function(u,f,c){s=t(u,f,c),(s>i||s===-1/0&&n===-1/0)&&(n=u,i=s)});return n}function jY(e,t,r){var n=1/0,i=1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=Oa(e)?e:np(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o<n&&(n=o)}else t=Zs(t,r),Zl(e,function(u,f,c){s=t(u,f,c),(s<i||s===1/0&&n===1/0)&&(n=u,i=s)});return n}var m0e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ej(e){return e?Sd(e)?p0.call(e):xT(e)?e.match(m0e):Oa(e)?Lc(e,OT):np(e):[]}function Sj(e,t,r){if(t==null||r)return Oa(e)||(e=np(e)),e[ZS(e.length-1)];var n=Ej(e),i=Ks(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=ZS(s,o),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,t)}function DY(e){return Sj(e,1/0)}function MY(e,t,r){var n=0;return t=Zs(t,r),CT(Lc(e,function(i,o,s){return{value:i,index:n++,criteria:t(i,o,s)}}).sort(function(i,o){var s=i.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-o.index}),"value")}function kT(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=Zs(n,i),Zl(r,function(s,a){var l=n(s,a,r);e(o,s,l)}),o}}const LY=kT(function(e,t,r){Td(e,r)?e[r].push(t):e[r]=[t]}),FY=kT(function(e,t,r){e[r]=t}),BY=kT(function(e,t,r){Td(e,r)?e[r]++:e[r]=1}),UY=kT(function(e,t,r){e[r?0:1].push(t)},!0);function zY(e){return e==null?0:Oa(e)?e.length:eo(e).length}function g0e(e,t,r){return t in r}const Tj=ws(function(e,t){var r={},n=t[0];if(e==null)return r;Vo(n)?(t.length>1&&(n=g0(n,t[1])),t=fg(e)):(n=g0e,t=op(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];n(a,s,e)&&(r[s]=a)}return r}),qY=ws(function(e,t){var r=t[0],n;return Vo(r)?(r=NT(r),t.length>1&&(n=t[1])):(t=Lc(op(t,!1,!1),String),r=function(i,o){return!ul(t,o)}),Tj(e,r,n)});function $j(e,t,r){return p0.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function Am(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:$j(e,e.length-t)}function jh(e,t,r){return p0.call(e,t==null||r?1:t)}function VY(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:jh(e,Math.max(0,e.length-t))}function HY(e){return ud(e,Boolean)}function WY(e,t){return op(e,t,!1)}const xj=ws(function(e,t){return t=op(t,!0,!0),ud(e,function(r){return!ul(t,r)})}),GY=ws(function(e,t){return xj(e,t)});function Ry(e,t,r,n){K2(t)||(n=r,r=t,t=!1),r!=null&&(r=Zs(r,n));for(var i=[],o=[],s=0,a=Ks(e);s<a;s++){var l=e[s],u=r?r(l,s,e):l;t&&!r?((!s||o!==u)&&i.push(l),o=u):r?ul(o,u)||(o.push(u),i.push(l)):ul(i,l)||i.push(l)}return i}const KY=ws(function(e){return Ry(op(e,!0,!0))});function JY(e){for(var t=[],r=arguments.length,n=0,i=Ks(e);n<i;n++){var o=e[n];if(!ul(t,o)){var s;for(s=1;s<r&&ul(arguments[s],o);s++);s===r&&t.push(o)}}return t}function Ny(e){for(var t=e&&_j(e,Ks).length||0,r=Array(t),n=0;n<t;n++)r[n]=CT(e,n);return r}const YY=ws(Ny);function XY(e,t){for(var r={},n=0,i=Ks(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function QY(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function ZY(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(p0.call(e,n,n+=t));return r}function Aj(e,t){return e._chain?jn(t).chain():t}function Oj(e){return Zl(Oy(e),function(t){var r=jn[t]=e[t];jn.prototype[t]=function(){var n=[this._wrapped];return Wye.apply(n,arguments),Aj(this,r.apply(jn,n))}}),jn}Zl(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=$T[e];jn.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),Aj(this,r)}});Zl(["concat","join","slice"],function(e){var t=$T[e];jn.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),Aj(this,r)}});const v0e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:H2,after:$Y,all:t1,allKeys:fg,any:r1,assign:Jm,before:gj,bind:pj,bindAll:yY,chain:gY,chunk:ZY,clone:tY,collect:Lc,compact:HY,compose:TY,constant:ej,contains:ul,countBy:BY,create:eY,debounce:EY,default:jn,defaults:uj,defer:bY,delay:mj,detect:Py,difference:xj,drop:jh,each:Zl,escape:cY,every:t1,extend:lj,extendOwn:Jm,filter:ud,find:Py,findIndex:IT,findKey:vj,findLastIndex:yj,findWhere:RY,first:Am,flatten:WY,foldl:xm,foldr:e1,forEach:Zl,functions:Oy,get:dj,groupBy:LY,has:nY,head:Am,identity:OT,include:ul,includes:ul,indexBy:FY,indexOf:bj,initial:$j,inject:xm,intersection:JY,invert:sj,invoke:CY,isArguments:AT,isArray:Sd,isArrayBuffer:X2,isBoolean:K2,isDataView:Ay,isDate:IJ,isElement:NJ,isEmpty:zJ,isEqual:VJ,isError:kJ,isFinite:LJ,isFunction:Vo,isMap:KJ,isMatch:rj,isNaN:Z2,isNull:RJ,isNumber:J2,isObject:Ed,isRegExp:CJ,isSet:YJ,isString:xT,isSymbol:Y2,isTypedArray:tj,isUndefined:G2,isWeakMap:JJ,isWeakSet:XJ,iteratee:RT,keys:eo,last:VY,lastIndexOf:PY,map:Lc,mapObject:oY,matcher:Gh,matches:Gh,max:_j,memoize:wY,methods:Oy,min:jY,mixin:Oj,negate:NT,noop:hj,now:Ym,object:XY,omit:qY,once:xY,pairs:QJ,partial:ip,partition:UY,pick:Tj,pluck:CT,property:PT,propertyOf:sY,random:ZS,range:QY,reduce:xm,reduceRight:e1,reject:IY,rest:jh,restArguments:ws,result:pY,sample:Sj,select:ud,shuffle:DY,size:zY,some:r1,sortBy:MY,sortedIndex:wj,tail:jh,take:Am,tap:rY,template:hY,templateSettings:dY,throttle:_Y,times:aY,toArray:Ej,toPath:cj,transpose:Ny,unescape:fY,union:KY,uniq:Ry,unique:Ry,uniqueId:mY,unzip:Ny,values:np,where:kY,without:GY,wrap:SY,zip:YY},Symbol.toStringTag,{value:"Module"}));var NI=Oj(v0e);NI._=NI;const y0e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:H2,after:$Y,all:t1,allKeys:fg,any:r1,assign:Jm,before:gj,bind:pj,bindAll:yY,chain:gY,chunk:ZY,clone:tY,collect:Lc,compact:HY,compose:TY,constant:ej,contains:ul,countBy:BY,create:eY,debounce:EY,default:NI,defaults:uj,defer:bY,delay:mj,detect:Py,difference:xj,drop:jh,each:Zl,escape:cY,every:t1,extend:lj,extendOwn:Jm,filter:ud,find:Py,findIndex:IT,findKey:vj,findLastIndex:yj,findWhere:RY,first:Am,flatten:WY,foldl:xm,foldr:e1,forEach:Zl,functions:Oy,get:dj,groupBy:LY,has:nY,head:Am,identity:OT,include:ul,includes:ul,indexBy:FY,indexOf:bj,initial:$j,inject:xm,intersection:JY,invert:sj,invoke:CY,isArguments:AT,isArray:Sd,isArrayBuffer:X2,isBoolean:K2,isDataView:Ay,isDate:IJ,isElement:NJ,isEmpty:zJ,isEqual:VJ,isError:kJ,isFinite:LJ,isFunction:Vo,isMap:KJ,isMatch:rj,isNaN:Z2,isNull:RJ,isNumber:J2,isObject:Ed,isRegExp:CJ,isSet:YJ,isString:xT,isSymbol:Y2,isTypedArray:tj,isUndefined:G2,isWeakMap:JJ,isWeakSet:XJ,iteratee:RT,keys:eo,last:VY,lastIndexOf:PY,map:Lc,mapObject:oY,matcher:Gh,matches:Gh,max:_j,memoize:wY,methods:Oy,min:jY,mixin:Oj,negate:NT,noop:hj,now:Ym,object:XY,omit:qY,once:xY,pairs:QJ,partial:ip,partition:UY,pick:Tj,pluck:CT,property:PT,propertyOf:sY,random:ZS,range:QY,reduce:xm,reduceRight:e1,reject:IY,rest:jh,restArguments:ws,result:pY,sample:Sj,select:ud,shuffle:DY,size:zY,some:r1,sortBy:MY,sortedIndex:wj,tail:jh,take:Am,tap:rY,template:hY,templateSettings:dY,throttle:_Y,times:aY,toArray:Ej,toPath:cj,transpose:Ny,unescape:fY,union:KY,uniq:Ry,unique:Ry,uniqueId:mY,unzip:Ny,values:np,where:kY,without:GY,wrap:SY,zip:YY},Symbol.toStringTag,{value:"Module"})),w0e=TC(y0e);var eX={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:uo,function(t,r){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(D){return n.flat.call(D)}:function(D){return n.concat.apply([],D)},a=n.push,l=n.indexOf,u={},f=u.toString,c=u.hasOwnProperty,p=c.toString,m=p.call(Object),g={},_=function(H){return typeof H=="function"&&typeof H.nodeType!="number"&&typeof H.item!="function"},v=function(H){return H!=null&&H===H.window},h=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function y(D,H,ae){ae=ae||h;var he,_e,Ee=ae.createElement("script");if(Ee.text=D,H)for(he in E)_e=H[he]||H.getAttribute&&H.getAttribute(he),_e&&Ee.setAttribute(he,_e);ae.head.appendChild(Ee).parentNode.removeChild(Ee)}function S(D){return D==null?D+"":typeof D=="object"||typeof D=="function"?u[f.call(D)]||"object":typeof D}var T="3.7.1",x=/HTML$/i,d=function(D,H){return new d.fn.init(D,H)};d.fn=d.prototype={jquery:T,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(D){return D==null?o.call(this):D<0?this[D+this.length]:this[D]},pushStack:function(D){var H=d.merge(this.constructor(),D);return H.prevObject=this,H},each:function(D){return d.each(this,D)},map:function(D){return this.pushStack(d.map(this,function(H,ae){return D.call(H,ae,H)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(D,H){return(H+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(D,H){return H%2}))},eq:function(D){var H=this.length,ae=+D+(D<0?H:0);return this.pushStack(ae>=0&&ae<H?[this[ae]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var D,H,ae,he,_e,Ee,Ae=arguments[0]||{},Je=1,We=arguments.length,it=!1;for(typeof Ae=="boolean"&&(it=Ae,Ae=arguments[Je]||{},Je++),typeof Ae!="object"&&!_(Ae)&&(Ae={}),Je===We&&(Ae=this,Je--);Je<We;Je++)if((D=arguments[Je])!=null)for(H in D)he=D[H],!(H==="__proto__"||Ae===he)&&(it&&he&&(d.isPlainObject(he)||(_e=Array.isArray(he)))?(ae=Ae[H],_e&&!Array.isArray(ae)?Ee=[]:!_e&&!d.isPlainObject(ae)?Ee={}:Ee=ae,_e=!1,Ae[H]=d.extend(it,Ee,he)):he!==void 0&&(Ae[H]=he));return Ae},d.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(D){throw new Error(D)},noop:function(){},isPlainObject:function(D){var H,ae;return!D||f.call(D)!=="[object Object]"?!1:(H=i(D),H?(ae=c.call(H,"constructor")&&H.constructor,typeof ae=="function"&&p.call(ae)===m):!0)},isEmptyObject:function(D){var H;for(H in D)return!1;return!0},globalEval:function(D,H,ae){y(D,{nonce:H&&H.nonce},ae)},each:function(D,H){var ae,he=0;if($(D))for(ae=D.length;he<ae&&H.call(D[he],he,D[he])!==!1;he++);else for(he in D)if(H.call(D[he],he,D[he])===!1)break;return D},text:function(D){var H,ae="",he=0,_e=D.nodeType;if(!_e)for(;H=D[he++];)ae+=d.text(H);return _e===1||_e===11?D.textContent:_e===9?D.documentElement.textContent:_e===3||_e===4?D.nodeValue:ae},makeArray:function(D,H){var ae=H||[];return D!=null&&($(Object(D))?d.merge(ae,typeof D=="string"?[D]:D):a.call(ae,D)),ae},inArray:function(D,H,ae){return H==null?-1:l.call(H,D,ae)},isXMLDoc:function(D){var H=D&&D.namespaceURI,ae=D&&(D.ownerDocument||D).documentElement;return!x.test(H||ae&&ae.nodeName||"HTML")},merge:function(D,H){for(var ae=+H.length,he=0,_e=D.length;he<ae;he++)D[_e++]=H[he];return D.length=_e,D},grep:function(D,H,ae){for(var he,_e=[],Ee=0,Ae=D.length,Je=!ae;Ee<Ae;Ee++)he=!H(D[Ee],Ee),he!==Je&&_e.push(D[Ee]);return _e},map:function(D,H,ae){var he,_e,Ee=0,Ae=[];if($(D))for(he=D.length;Ee<he;Ee++)_e=H(D[Ee],Ee,ae),_e!=null&&Ae.push(_e);else for(Ee in D)_e=H(D[Ee],Ee,ae),_e!=null&&Ae.push(_e);return s(Ae)},guid:1,support:g}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(D,H){u["[object "+H+"]"]=H.toLowerCase()});function $(D){var H=!!D&&"length"in D&&D.length,ae=S(D);return _(D)||v(D)?!1:ae==="array"||H===0||typeof H=="number"&&H>0&&H-1 in D}function O(D,H){return D.nodeName&&D.nodeName.toLowerCase()===H.toLowerCase()}var P=n.pop,k=n.sort,B=n.splice,K="[\\x20\\t\\r\\n\\f]",ie=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g");d.contains=function(D,H){var ae=H&&H.parentNode;return D===ae||!!(ae&&ae.nodeType===1&&(D.contains?D.contains(ae):D.compareDocumentPosition&&D.compareDocumentPosition(ae)&16))};var W=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ne(D,H){return H?D==="\0"?"":D.slice(0,-1)+"\\"+D.charCodeAt(D.length-1).toString(16)+" ":"\\"+D}d.escapeSelector=function(D){return(D+"").replace(W,ne)};var fe=h,re=a;(function(){var D,H,ae,he,_e,Ee=re,Ae,Je,We,it,ht,gt=d.expando,at=0,Rt=0,zt=cu(),br=cu(),pr=cu(),wi=cu(),Bn=function(Ue,rt){return Ue===rt&&(_e=!0),0},xs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",As="(?:\\\\[\\da-fA-F]{1,6}"+K+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",jr="\\["+K+"*("+As+")(?:"+K+"*([*^$|!~]?=)"+K+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+As+"))|)"+K+"*\\]",ka=":("+As+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+jr+")*)|.*)\\)|)",Dr=new RegExp(K+"+","g"),xn=new RegExp("^"+K+"*,"+K+"*"),uu=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),di=new RegExp(K+"|>"),Vi=new RegExp(ka),ja=new RegExp("^"+As+"$"),to={ID:new RegExp("^#("+As+")"),CLASS:new RegExp("^\\.("+As+")"),TAG:new RegExp("^("+As+"|[*])"),ATTR:new RegExp("^"+jr),PSEUDO:new RegExp("^"+ka),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+xs+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},ki=/^(?:input|select|textarea|button)$/i,Hi=/^h\d$/i,Un=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ra=/[+~]/,Os=new RegExp("\\\\[\\da-fA-F]{1,6}"+K+"?|\\\\([^\\r\\n\\f])","g"),ji=function(Ue,rt){var lt="0x"+Ue.slice(1)-65536;return rt||(lt<0?String.fromCharCode(lt+65536):String.fromCharCode(lt>>10|55296,lt&1023|56320))},ro=function(){Ma()},nf=ia(function(Ue){return Ue.disabled===!0&&O(Ue,"fieldset")},{dir:"parentNode",next:"legend"});function Da(){try{return Ae.activeElement}catch{}}try{Ee.apply(n=o.call(fe.childNodes),fe.childNodes),n[fe.childNodes.length].nodeType}catch{Ee={apply:function(rt,lt){re.apply(rt,o.call(lt))},call:function(rt){re.apply(rt,o.call(arguments,1))}}}function dn(Ue,rt,lt,G){var Y,ge,be,qe,Ge,tt,Ze,ot=rt&&rt.ownerDocument,Ot=rt?rt.nodeType:9;if(lt=lt||[],typeof Ue!="string"||!Ue||Ot!==1&&Ot!==9&&Ot!==11)return lt;if(!G&&(Ma(rt),rt=rt||Ae,We)){if(Ot!==11&&(Ge=Un.exec(Ue)))if(Y=Ge[1]){if(Ot===9)if(be=rt.getElementById(Y)){if(be.id===Y)return Ee.call(lt,be),lt}else return lt;else if(ot&&(be=ot.getElementById(Y))&&dn.contains(rt,be)&&be.id===Y)return Ee.call(lt,be),lt}else{if(Ge[2])return Ee.apply(lt,rt.getElementsByTagName(Ue)),lt;if((Y=Ge[3])&&rt.getElementsByClassName)return Ee.apply(lt,rt.getElementsByClassName(Y)),lt}if(!wi[Ue+" "]&&(!it||!it.test(Ue))){if(Ze=Ue,ot=rt,Ot===1&&(di.test(Ue)||uu.test(Ue))){for(ot=ra.test(Ue)&&Id(rt.parentNode)||rt,(ot!=rt||!g.scope)&&((qe=rt.getAttribute("id"))?qe=d.escapeSelector(qe):rt.setAttribute("id",qe=gt)),tt=xl(Ue),ge=tt.length;ge--;)tt[ge]=(qe?"#"+qe:":scope")+" "+Po(tt[ge]);Ze=tt.join(",")}try{return Ee.apply(lt,ot.querySelectorAll(Ze)),lt}catch{wi(Ue,!0)}finally{qe===gt&&rt.removeAttribute("id")}}}return ec(Ue.replace(ie,"$1"),rt,lt,G)}function cu(){var Ue=[];function rt(lt,G){return Ue.push(lt+" ")>H.cacheLength&&delete rt[Ue.shift()],rt[lt+" "]=G}return rt}function Ao(Ue){return Ue[gt]=!0,Ue}function na(Ue){var rt=Ae.createElement("fieldset");try{return!!Ue(rt)}catch{return!1}finally{rt.parentNode&&rt.parentNode.removeChild(rt),rt=null}}function mp(Ue){return function(rt){return O(rt,"input")&&rt.type===Ue}}function gp(Ue){return function(rt){return(O(rt,"input")||O(rt,"button"))&&rt.type===Ue}}function vp(Ue){return function(rt){return"form"in rt?rt.parentNode&&rt.disabled===!1?"label"in rt?"label"in rt.parentNode?rt.parentNode.disabled===Ue:rt.disabled===Ue:rt.isDisabled===Ue||rt.isDisabled!==!Ue&&nf(rt)===Ue:rt.disabled===Ue:"label"in rt?rt.disabled===Ue:!1}}function Oo(Ue){return Ao(function(rt){return rt=+rt,Ao(function(lt,G){for(var Y,ge=Ue([],lt.length,rt),be=ge.length;be--;)lt[Y=ge[be]]&&(lt[Y]=!(G[Y]=lt[Y]))})})}function Id(Ue){return Ue&&typeof Ue.getElementsByTagName<"u"&&Ue}function Ma(Ue){var rt,lt=Ue?Ue.ownerDocument||Ue:fe;return lt==Ae||lt.nodeType!==9||!lt.documentElement||(Ae=lt,Je=Ae.documentElement,We=!d.isXMLDoc(Ae),ht=Je.matches||Je.webkitMatchesSelector||Je.msMatchesSelector,Je.msMatchesSelector&&fe!=Ae&&(rt=Ae.defaultView)&&rt.top!==rt&&rt.addEventListener("unload",ro),g.getById=na(function(G){return Je.appendChild(G).id=d.expando,!Ae.getElementsByName||!Ae.getElementsByName(d.expando).length}),g.disconnectedMatch=na(function(G){return ht.call(G,"*")}),g.scope=na(function(){return Ae.querySelectorAll(":scope")}),g.cssHas=na(function(){try{return Ae.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(H.filter.ID=function(G){var Y=G.replace(Os,ji);return function(ge){return ge.getAttribute("id")===Y}},H.find.ID=function(G,Y){if(typeof Y.getElementById<"u"&&We){var ge=Y.getElementById(G);return ge?[ge]:[]}}):(H.filter.ID=function(G){var Y=G.replace(Os,ji);return function(ge){var be=typeof ge.getAttributeNode<"u"&&ge.getAttributeNode("id");return be&&be.value===Y}},H.find.ID=function(G,Y){if(typeof Y.getElementById<"u"&&We){var ge,be,qe,Ge=Y.getElementById(G);if(Ge){if(ge=Ge.getAttributeNode("id"),ge&&ge.value===G)return[Ge];for(qe=Y.getElementsByName(G),be=0;Ge=qe[be++];)if(ge=Ge.getAttributeNode("id"),ge&&ge.value===G)return[Ge]}return[]}}),H.find.TAG=function(G,Y){return typeof Y.getElementsByTagName<"u"?Y.getElementsByTagName(G):Y.querySelectorAll(G)},H.find.CLASS=function(G,Y){if(typeof Y.getElementsByClassName<"u"&&We)return Y.getElementsByClassName(G)},it=[],na(function(G){var Y;Je.appendChild(G).innerHTML="<a id='"+gt+"' href='' disabled='disabled'></a><select id='"+gt+"-\r\\' disabled='disabled'><option selected=''></option></select>",G.querySelectorAll("[selected]").length||it.push("\\["+K+"*(?:value|"+xs+")"),G.querySelectorAll("[id~="+gt+"-]").length||it.push("~="),G.querySelectorAll("a#"+gt+"+*").length||it.push(".#.+[+~]"),G.querySelectorAll(":checked").length||it.push(":checked"),Y=Ae.createElement("input"),Y.setAttribute("type","hidden"),G.appendChild(Y).setAttribute("name","D"),Je.appendChild(G).disabled=!0,G.querySelectorAll(":disabled").length!==2&&it.push(":enabled",":disabled"),Y=Ae.createElement("input"),Y.setAttribute("name",""),G.appendChild(Y),G.querySelectorAll("[name='']").length||it.push("\\["+K+"*name"+K+"*="+K+`*(?:''|"")`)}),g.cssHas||it.push(":has"),it=it.length&&new RegExp(it.join("|")),Bn=function(G,Y){if(G===Y)return _e=!0,0;var ge=!G.compareDocumentPosition-!Y.compareDocumentPosition;return ge||(ge=(G.ownerDocument||G)==(Y.ownerDocument||Y)?G.compareDocumentPosition(Y):1,ge&1||!g.sortDetached&&Y.compareDocumentPosition(G)===ge?G===Ae||G.ownerDocument==fe&&dn.contains(fe,G)?-1:Y===Ae||Y.ownerDocument==fe&&dn.contains(fe,Y)?1:he?l.call(he,G)-l.call(he,Y):0:ge&4?-1:1)}),Ae}dn.matches=function(Ue,rt){return dn(Ue,null,null,rt)},dn.matchesSelector=function(Ue,rt){if(Ma(Ue),We&&!wi[rt+" "]&&(!it||!it.test(rt)))try{var lt=ht.call(Ue,rt);if(lt||g.disconnectedMatch||Ue.document&&Ue.document.nodeType!==11)return lt}catch{wi(rt,!0)}return dn(rt,Ae,null,[Ue]).length>0},dn.contains=function(Ue,rt){return(Ue.ownerDocument||Ue)!=Ae&&Ma(Ue),d.contains(Ue,rt)},dn.attr=function(Ue,rt){(Ue.ownerDocument||Ue)!=Ae&&Ma(Ue);var lt=H.attrHandle[rt.toLowerCase()],G=lt&&c.call(H.attrHandle,rt.toLowerCase())?lt(Ue,rt,!We):void 0;return G!==void 0?G:Ue.getAttribute(rt)},dn.error=function(Ue){throw new Error("Syntax error, unrecognized expression: "+Ue)},d.uniqueSort=function(Ue){var rt,lt=[],G=0,Y=0;if(_e=!g.sortStable,he=!g.sortStable&&o.call(Ue,0),k.call(Ue,Bn),_e){for(;rt=Ue[Y++];)rt===Ue[Y]&&(G=lt.push(Y));for(;G--;)B.call(Ue,lt[G],1)}return he=null,Ue},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},H=d.expr={cacheLength:50,createPseudo:Ao,match:to,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ue){return Ue[1]=Ue[1].replace(Os,ji),Ue[3]=(Ue[3]||Ue[4]||Ue[5]||"").replace(Os,ji),Ue[2]==="~="&&(Ue[3]=" "+Ue[3]+" "),Ue.slice(0,4)},CHILD:function(Ue){return Ue[1]=Ue[1].toLowerCase(),Ue[1].slice(0,3)==="nth"?(Ue[3]||dn.error(Ue[0]),Ue[4]=+(Ue[4]?Ue[5]+(Ue[6]||1):2*(Ue[3]==="even"||Ue[3]==="odd")),Ue[5]=+(Ue[7]+Ue[8]||Ue[3]==="odd")):Ue[3]&&dn.error(Ue[0]),Ue},PSEUDO:function(Ue){var rt,lt=!Ue[6]&&Ue[2];return to.CHILD.test(Ue[0])?null:(Ue[3]?Ue[2]=Ue[4]||Ue[5]||"":lt&&Vi.test(lt)&&(rt=xl(lt,!0))&&(rt=lt.indexOf(")",lt.length-rt)-lt.length)&&(Ue[0]=Ue[0].slice(0,rt),Ue[2]=lt.slice(0,rt)),Ue.slice(0,3))}},filter:{TAG:function(Ue){var rt=Ue.replace(Os,ji).toLowerCase();return Ue==="*"?function(){return!0}:function(lt){return O(lt,rt)}},CLASS:function(Ue){var rt=zt[Ue+" "];return rt||(rt=new RegExp("(^|"+K+")"+Ue+"("+K+"|$)"))&&zt(Ue,function(lt){return rt.test(typeof lt.className=="string"&&lt.className||typeof lt.getAttribute<"u"&&lt.getAttribute("class")||"")})},ATTR:function(Ue,rt,lt){return function(G){var Y=dn.attr(G,Ue);return Y==null?rt==="!=":rt?(Y+="",rt==="="?Y===lt:rt==="!="?Y!==lt:rt==="^="?lt&&Y.indexOf(lt)===0:rt==="*="?lt&&Y.indexOf(lt)>-1:rt==="$="?lt&&Y.slice(-lt.length)===lt:rt==="~="?(" "+Y.replace(Dr," ")+" ").indexOf(lt)>-1:rt==="|="?Y===lt||Y.slice(0,lt.length+1)===lt+"-":!1):!0}},CHILD:function(Ue,rt,lt,G,Y){var ge=Ue.slice(0,3)!=="nth",be=Ue.slice(-4)!=="last",qe=rt==="of-type";return G===1&&Y===0?function(Ge){return!!Ge.parentNode}:function(Ge,tt,Ze){var ot,Ot,Pt,Wt,Ct,rr=ge!==be?"nextSibling":"previousSibling",Or=Ge.parentNode,Br=qe&&Ge.nodeName.toLowerCase(),Kn=!Ze&&!qe,or=!1;if(Or){if(ge){for(;rr;){for(Pt=Ge;Pt=Pt[rr];)if(qe?O(Pt,Br):Pt.nodeType===1)return!1;Ct=rr=Ue==="only"&&!Ct&&"nextSibling"}return!0}if(Ct=[be?Or.firstChild:Or.lastChild],be&&Kn){for(Ot=Or[gt]||(Or[gt]={}),ot=Ot[Ue]||[],Wt=ot[0]===at&&ot[1],or=Wt&&ot[2],Pt=Wt&&Or.childNodes[Wt];Pt=++Wt&&Pt&&Pt[rr]||(or=Wt=0)||Ct.pop();)if(Pt.nodeType===1&&++or&&Pt===Ge){Ot[Ue]=[at,Wt,or];break}}else if(Kn&&(Ot=Ge[gt]||(Ge[gt]={}),ot=Ot[Ue]||[],Wt=ot[0]===at&&ot[1],or=Wt),or===!1)for(;(Pt=++Wt&&Pt&&Pt[rr]||(or=Wt=0)||Ct.pop())&&!((qe?O(Pt,Br):Pt.nodeType===1)&&++or&&(Kn&&(Ot=Pt[gt]||(Pt[gt]={}),Ot[Ue]=[at,or]),Pt===Ge)););return or-=Y,or===G||or%G===0&&or/G>=0}}},PSEUDO:function(Ue,rt){var lt,G=H.pseudos[Ue]||H.setFilters[Ue.toLowerCase()]||dn.error("unsupported pseudo: "+Ue);return G[gt]?G(rt):G.length>1?(lt=[Ue,Ue,"",rt],H.setFilters.hasOwnProperty(Ue.toLowerCase())?Ao(function(Y,ge){for(var be,qe=G(Y,rt),Ge=qe.length;Ge--;)be=l.call(Y,qe[Ge]),Y[be]=!(ge[be]=qe[Ge])}):function(Y){return G(Y,0,lt)}):G}},pseudos:{not:Ao(function(Ue){var rt=[],lt=[],G=sf(Ue.replace(ie,"$1"));return G[gt]?Ao(function(Y,ge,be,qe){for(var Ge,tt=G(Y,null,qe,[]),Ze=Y.length;Ze--;)(Ge=tt[Ze])&&(Y[Ze]=!(ge[Ze]=Ge))}):function(Y,ge,be){return rt[0]=Y,G(rt,null,be,lt),rt[0]=null,!lt.pop()}}),has:Ao(function(Ue){return function(rt){return dn(Ue,rt).length>0}}),contains:Ao(function(Ue){return Ue=Ue.replace(Os,ji),function(rt){return(rt.textContent||d.text(rt)).indexOf(Ue)>-1}}),lang:Ao(function(Ue){return ja.test(Ue||"")||dn.error("unsupported lang: "+Ue),Ue=Ue.replace(Os,ji).toLowerCase(),function(rt){var lt;do if(lt=We?rt.lang:rt.getAttribute("xml:lang")||rt.getAttribute("lang"))return lt=lt.toLowerCase(),lt===Ue||lt.indexOf(Ue+"-")===0;while((rt=rt.parentNode)&&rt.nodeType===1);return!1}}),target:function(Ue){var rt=t.location&&t.location.hash;return rt&&rt.slice(1)===Ue.id},root:function(Ue){return Ue===Je},focus:function(Ue){return Ue===Da()&&Ae.hasFocus()&&!!(Ue.type||Ue.href||~Ue.tabIndex)},enabled:vp(!1),disabled:vp(!0),checked:function(Ue){return O(Ue,"input")&&!!Ue.checked||O(Ue,"option")&&!!Ue.selected},selected:function(Ue){return Ue.parentNode&&Ue.parentNode.selectedIndex,Ue.selected===!0},empty:function(Ue){for(Ue=Ue.firstChild;Ue;Ue=Ue.nextSibling)if(Ue.nodeType<6)return!1;return!0},parent:function(Ue){return!H.pseudos.empty(Ue)},header:function(Ue){return Hi.test(Ue.nodeName)},input:function(Ue){return ki.test(Ue.nodeName)},button:function(Ue){return O(Ue,"input")&&Ue.type==="button"||O(Ue,"button")},text:function(Ue){var rt;return O(Ue,"input")&&Ue.type==="text"&&((rt=Ue.getAttribute("type"))==null||rt.toLowerCase()==="text")},first:Oo(function(){return[0]}),last:Oo(function(Ue,rt){return[rt-1]}),eq:Oo(function(Ue,rt,lt){return[lt<0?lt+rt:lt]}),even:Oo(function(Ue,rt){for(var lt=0;lt<rt;lt+=2)Ue.push(lt);return Ue}),odd:Oo(function(Ue,rt){for(var lt=1;lt<rt;lt+=2)Ue.push(lt);return Ue}),lt:Oo(function(Ue,rt,lt){var G;for(lt<0?G=lt+rt:lt>rt?G=rt:G=lt;--G>=0;)Ue.push(G);return Ue}),gt:Oo(function(Ue,rt,lt){for(var G=lt<0?lt+rt:lt;++G<rt;)Ue.push(G);return Ue})}},H.pseudos.nth=H.pseudos.eq;for(D in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[D]=mp(D);for(D in{submit:!0,reset:!0})H.pseudos[D]=gp(D);function $l(){}$l.prototype=H.filters=H.pseudos,H.setFilters=new $l;function xl(Ue,rt){var lt,G,Y,ge,be,qe,Ge,tt=br[Ue+" "];if(tt)return rt?0:tt.slice(0);for(be=Ue,qe=[],Ge=H.preFilter;be;){(!lt||(G=xn.exec(be)))&&(G&&(be=be.slice(G[0].length)||be),qe.push(Y=[])),lt=!1,(G=uu.exec(be))&&(lt=G.shift(),Y.push({value:lt,type:G[0].replace(ie," ")}),be=be.slice(lt.length));for(ge in H.filter)(G=to[ge].exec(be))&&(!Ge[ge]||(G=Ge[ge](G)))&&(lt=G.shift(),Y.push({value:lt,type:ge,matches:G}),be=be.slice(lt.length));if(!lt)break}return rt?be.length:be?dn.error(Ue):br(Ue,qe).slice(0)}function Po(Ue){for(var rt=0,lt=Ue.length,G="";rt<lt;rt++)G+=Ue[rt].value;return G}function ia(Ue,rt,lt){var G=rt.dir,Y=rt.next,ge=Y||G,be=lt&&ge==="parentNode",qe=Rt++;return rt.first?function(Ge,tt,Ze){for(;Ge=Ge[G];)if(Ge.nodeType===1||be)return Ue(Ge,tt,Ze);return!1}:function(Ge,tt,Ze){var ot,Ot,Pt=[at,qe];if(Ze){for(;Ge=Ge[G];)if((Ge.nodeType===1||be)&&Ue(Ge,tt,Ze))return!0}else for(;Ge=Ge[G];)if(Ge.nodeType===1||be)if(Ot=Ge[gt]||(Ge[gt]={}),Y&&O(Ge,Y))Ge=Ge[G]||Ge;else{if((ot=Ot[ge])&&ot[0]===at&&ot[1]===qe)return Pt[2]=ot[2];if(Ot[ge]=Pt,Pt[2]=Ue(Ge,tt,Ze))return!0}return!1}}function Zu(Ue){return Ue.length>1?function(rt,lt,G){for(var Y=Ue.length;Y--;)if(!Ue[Y](rt,lt,G))return!1;return!0}:Ue[0]}function of(Ue,rt,lt){for(var G=0,Y=rt.length;G<Y;G++)dn(Ue,rt[G],lt);return lt}function Yo(Ue,rt,lt,G,Y){for(var ge,be=[],qe=0,Ge=Ue.length,tt=rt!=null;qe<Ge;qe++)(ge=Ue[qe])&&(!lt||lt(ge,G,Y))&&(be.push(ge),tt&&rt.push(qe));return be}function Xo(Ue,rt,lt,G,Y,ge){return G&&!G[gt]&&(G=Xo(G)),Y&&!Y[gt]&&(Y=Xo(Y,ge)),Ao(function(be,qe,Ge,tt){var Ze,ot,Ot,Pt,Wt=[],Ct=[],rr=qe.length,Or=be||of(rt||"*",Ge.nodeType?[Ge]:Ge,[]),Br=Ue&&(be||!rt)?Yo(Or,Wt,Ue,Ge,tt):Or;if(lt?(Pt=Y||(be?Ue:rr||G)?[]:qe,lt(Br,Pt,Ge,tt)):Pt=Br,G)for(Ze=Yo(Pt,Ct),G(Ze,[],Ge,tt),ot=Ze.length;ot--;)(Ot=Ze[ot])&&(Pt[Ct[ot]]=!(Br[Ct[ot]]=Ot));if(be){if(Y||Ue){if(Y){for(Ze=[],ot=Pt.length;ot--;)(Ot=Pt[ot])&&Ze.push(Br[ot]=Ot);Y(null,Pt=[],Ze,tt)}for(ot=Pt.length;ot--;)(Ot=Pt[ot])&&(Ze=Y?l.call(be,Ot):Wt[ot])>-1&&(be[Ze]=!(qe[Ze]=Ot))}}else Pt=Yo(Pt===qe?Pt.splice(rr,Pt.length):Pt),Y?Y(null,qe,Pt,tt):Ee.apply(qe,Pt)})}function Di(Ue){for(var rt,lt,G,Y=Ue.length,ge=H.relative[Ue[0].type],be=ge||H.relative[" "],qe=ge?1:0,Ge=ia(function(ot){return ot===rt},be,!0),tt=ia(function(ot){return l.call(rt,ot)>-1},be,!0),Ze=[function(ot,Ot,Pt){var Wt=!ge&&(Pt||Ot!=ae)||((rt=Ot).nodeType?Ge(ot,Ot,Pt):tt(ot,Ot,Pt));return rt=null,Wt}];qe<Y;qe++)if(lt=H.relative[Ue[qe].type])Ze=[ia(Zu(Ze),lt)];else{if(lt=H.filter[Ue[qe].type].apply(null,Ue[qe].matches),lt[gt]){for(G=++qe;G<Y&&!H.relative[Ue[G].type];G++);return Xo(qe>1&&Zu(Ze),qe>1&&Po(Ue.slice(0,qe-1).concat({value:Ue[qe-2].type===" "?"*":""})).replace(ie,"$1"),lt,qe<G&&Di(Ue.slice(qe,G)),G<Y&&Di(Ue=Ue.slice(G)),G<Y&&Po(Ue))}Ze.push(lt)}return Zu(Ze)}function Cd(Ue,rt){var lt=rt.length>0,G=Ue.length>0,Y=function(ge,be,qe,Ge,tt){var Ze,ot,Ot,Pt=0,Wt="0",Ct=ge&&[],rr=[],Or=ae,Br=ge||G&&H.find.TAG("*",tt),Kn=at+=Or==null?1:Math.random()||.1,or=Br.length;for(tt&&(ae=be==Ae||be||tt);Wt!==or&&(Ze=Br[Wt])!=null;Wt++){if(G&&Ze){for(ot=0,!be&&Ze.ownerDocument!=Ae&&(Ma(Ze),qe=!We);Ot=Ue[ot++];)if(Ot(Ze,be||Ae,qe)){Ee.call(Ge,Ze);break}tt&&(at=Kn)}lt&&((Ze=!Ot&&Ze)&&Pt--,ge&&Ct.push(Ze))}if(Pt+=Wt,lt&&Wt!==Pt){for(ot=0;Ot=rt[ot++];)Ot(Ct,rr,be,qe);if(ge){if(Pt>0)for(;Wt--;)Ct[Wt]||rr[Wt]||(rr[Wt]=P.call(Ge));rr=Yo(rr)}Ee.apply(Ge,rr),tt&&!ge&&rr.length>0&&Pt+rt.length>1&&d.uniqueSort(Ge)}return tt&&(at=Kn,ae=Or),Ct};return lt?Ao(Y):Y}function sf(Ue,rt){var lt,G=[],Y=[],ge=pr[Ue+" "];if(!ge){for(rt||(rt=xl(Ue)),lt=rt.length;lt--;)ge=Di(rt[lt]),ge[gt]?G.push(ge):Y.push(ge);ge=pr(Ue,Cd(Y,G)),ge.selector=Ue}return ge}function ec(Ue,rt,lt,G){var Y,ge,be,qe,Ge,tt=typeof Ue=="function"&&Ue,Ze=!G&&xl(Ue=tt.selector||Ue);if(lt=lt||[],Ze.length===1){if(ge=Ze[0]=Ze[0].slice(0),ge.length>2&&(be=ge[0]).type==="ID"&&rt.nodeType===9&&We&&H.relative[ge[1].type]){if(rt=(H.find.ID(be.matches[0].replace(Os,ji),rt)||[])[0],rt)tt&&(rt=rt.parentNode);else return lt;Ue=Ue.slice(ge.shift().value.length)}for(Y=to.needsContext.test(Ue)?0:ge.length;Y--&&(be=ge[Y],!H.relative[qe=be.type]);)if((Ge=H.find[qe])&&(G=Ge(be.matches[0].replace(Os,ji),ra.test(ge[0].type)&&Id(rt.parentNode)||rt))){if(ge.splice(Y,1),Ue=G.length&&Po(ge),!Ue)return Ee.apply(lt,G),lt;break}}return(tt||sf(Ue,Ze))(G,rt,!We,lt,!rt||ra.test(Ue)&&Id(rt.parentNode)||rt),lt}g.sortStable=gt.split("").sort(Bn).join("")===gt,Ma(),g.sortDetached=na(function(Ue){return Ue.compareDocumentPosition(Ae.createElement("fieldset"))&1}),d.find=dn,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,dn.compile=sf,dn.select=ec,dn.setDocument=Ma,dn.tokenize=xl,dn.escape=d.escapeSelector,dn.getText=d.text,dn.isXML=d.isXMLDoc,dn.selectors=d.expr,dn.support=d.support,dn.uniqueSort=d.uniqueSort})();var le=function(D,H,ae){for(var he=[],_e=ae!==void 0;(D=D[H])&&D.nodeType!==9;)if(D.nodeType===1){if(_e&&d(D).is(ae))break;he.push(D)}return he},F=function(D,H){for(var ae=[];D;D=D.nextSibling)D.nodeType===1&&D!==H&&ae.push(D);return ae},z=d.expr.match.needsContext,J=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function R(D,H,ae){return _(H)?d.grep(D,function(he,_e){return!!H.call(he,_e,he)!==ae}):H.nodeType?d.grep(D,function(he){return he===H!==ae}):typeof H!="string"?d.grep(D,function(he){return l.call(H,he)>-1!==ae}):d.filter(H,D,ae)}d.filter=function(D,H,ae){var he=H[0];return ae&&(D=":not("+D+")"),H.length===1&&he.nodeType===1?d.find.matchesSelector(he,D)?[he]:[]:d.find.matches(D,d.grep(H,function(_e){return _e.nodeType===1}))},d.fn.extend({find:function(D){var H,ae,he=this.length,_e=this;if(typeof D!="string")return this.pushStack(d(D).filter(function(){for(H=0;H<he;H++)if(d.contains(_e[H],this))return!0}));for(ae=this.pushStack([]),H=0;H<he;H++)d.find(D,_e[H],ae);return he>1?d.uniqueSort(ae):ae},filter:function(D){return this.pushStack(R(this,D||[],!1))},not:function(D){return this.pushStack(R(this,D||[],!0))},is:function(D){return!!R(this,typeof D=="string"&&z.test(D)?d(D):D||[],!1).length}});var C,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,oe=d.fn.init=function(D,H,ae){var he,_e;if(!D)return this;if(ae=ae||C,typeof D=="string")if(D[0]==="<"&&D[D.length-1]===">"&&D.length>=3?he=[null,D,null]:he=q.exec(D),he&&(he[1]||!H))if(he[1]){if(H=H instanceof d?H[0]:H,d.merge(this,d.parseHTML(he[1],H&&H.nodeType?H.ownerDocument||H:h,!0)),J.test(he[1])&&d.isPlainObject(H))for(he in H)_(this[he])?this[he](H[he]):this.attr(he,H[he]);return this}else return _e=h.getElementById(he[2]),_e&&(this[0]=_e,this.length=1),this;else return!H||H.jquery?(H||ae).find(D):this.constructor(H).find(D);else{if(D.nodeType)return this[0]=D,this.length=1,this;if(_(D))return ae.ready!==void 0?ae.ready(D):D(d)}return d.makeArray(D,this)};oe.prototype=d.fn,C=d(h);var X=/^(?:parents|prev(?:Until|All))/,ee={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(D){var H=d(D,this),ae=H.length;return this.filter(function(){for(var he=0;he<ae;he++)if(d.contains(this,H[he]))return!0})},closest:function(D,H){var ae,he=0,_e=this.length,Ee=[],Ae=typeof D!="string"&&d(D);if(!z.test(D)){for(;he<_e;he++)for(ae=this[he];ae&&ae!==H;ae=ae.parentNode)if(ae.nodeType<11&&(Ae?Ae.index(ae)>-1:ae.nodeType===1&&d.find.matchesSelector(ae,D))){Ee.push(ae);break}}return this.pushStack(Ee.length>1?d.uniqueSort(Ee):Ee)},index:function(D){return D?typeof D=="string"?l.call(d(D),this[0]):l.call(this,D.jquery?D[0]:D):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(D,H){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(D,H))))},addBack:function(D){return this.add(D==null?this.prevObject:this.prevObject.filter(D))}});function se(D,H){for(;(D=D[H])&&D.nodeType!==1;);return D}d.each({parent:function(D){var H=D.parentNode;return H&&H.nodeType!==11?H:null},parents:function(D){return le(D,"parentNode")},parentsUntil:function(D,H,ae){return le(D,"parentNode",ae)},next:function(D){return se(D,"nextSibling")},prev:function(D){return se(D,"previousSibling")},nextAll:function(D){return le(D,"nextSibling")},prevAll:function(D){return le(D,"previousSibling")},nextUntil:function(D,H,ae){return le(D,"nextSibling",ae)},prevUntil:function(D,H,ae){return le(D,"previousSibling",ae)},siblings:function(D){return F((D.parentNode||{}).firstChild,D)},children:function(D){return F(D.firstChild)},contents:function(D){return D.contentDocument!=null&&i(D.contentDocument)?D.contentDocument:(O(D,"template")&&(D=D.content||D),d.merge([],D.childNodes))}},function(D,H){d.fn[D]=function(ae,he){var _e=d.map(this,H,ae);return D.slice(-5)!=="Until"&&(he=ae),he&&typeof he=="string"&&(_e=d.filter(he,_e)),this.length>1&&(ee[D]||d.uniqueSort(_e),X.test(D)&&_e.reverse()),this.pushStack(_e)}});var we=/[^\x20\t\r\n\f]+/g;function Oe(D){var H={};return d.each(D.match(we)||[],function(ae,he){H[he]=!0}),H}d.Callbacks=function(D){D=typeof D=="string"?Oe(D):d.extend({},D);var H,ae,he,_e,Ee=[],Ae=[],Je=-1,We=function(){for(_e=_e||D.once,he=H=!0;Ae.length;Je=-1)for(ae=Ae.shift();++Je<Ee.length;)Ee[Je].apply(ae[0],ae[1])===!1&&D.stopOnFalse&&(Je=Ee.length,ae=!1);D.memory||(ae=!1),H=!1,_e&&(ae?Ee=[]:Ee="")},it={add:function(){return Ee&&(ae&&!H&&(Je=Ee.length-1,Ae.push(ae)),function ht(gt){d.each(gt,function(at,Rt){_(Rt)?(!D.unique||!it.has(Rt))&&Ee.push(Rt):Rt&&Rt.length&&S(Rt)!=="string"&&ht(Rt)})}(arguments),ae&&!H&&We()),this},remove:function(){return d.each(arguments,function(ht,gt){for(var at;(at=d.inArray(gt,Ee,at))>-1;)Ee.splice(at,1),at<=Je&&Je--}),this},has:function(ht){return ht?d.inArray(ht,Ee)>-1:Ee.length>0},empty:function(){return Ee&&(Ee=[]),this},disable:function(){return _e=Ae=[],Ee=ae="",this},disabled:function(){return!Ee},lock:function(){return _e=Ae=[],!ae&&!H&&(Ee=ae=""),this},locked:function(){return!!_e},fireWith:function(ht,gt){return _e||(gt=gt||[],gt=[ht,gt.slice?gt.slice():gt],Ae.push(gt),H||We()),this},fire:function(){return it.fireWith(this,arguments),this},fired:function(){return!!he}};return it};function I(D){return D}function L(D){throw D}function M(D,H,ae,he){var _e;try{D&&_(_e=D.promise)?_e.call(D).done(H).fail(ae):D&&_(_e=D.then)?_e.call(D,H,ae):H.apply(void 0,[D].slice(he))}catch(Ee){ae.apply(void 0,[Ee])}}d.extend({Deferred:function(D){var H=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],ae="pending",he={state:function(){return ae},always:function(){return _e.done(arguments).fail(arguments),this},catch:function(Ee){return he.then(null,Ee)},pipe:function(){var Ee=arguments;return d.Deferred(function(Ae){d.each(H,function(Je,We){var it=_(Ee[We[4]])&&Ee[We[4]];_e[We[1]](function(){var ht=it&&it.apply(this,arguments);ht&&_(ht.promise)?ht.promise().progress(Ae.notify).done(Ae.resolve).fail(Ae.reject):Ae[We[0]+"With"](this,it?[ht]:arguments)})}),Ee=null}).promise()},then:function(Ee,Ae,Je){var We=0;function it(ht,gt,at,Rt){return function(){var zt=this,br=arguments,pr=function(){var Bn,xs;if(!(ht<We)){if(Bn=at.apply(zt,br),Bn===gt.promise())throw new TypeError("Thenable self-resolution");xs=Bn&&(typeof Bn=="object"||typeof Bn=="function")&&Bn.then,_(xs)?Rt?xs.call(Bn,it(We,gt,I,Rt),it(We,gt,L,Rt)):(We++,xs.call(Bn,it(We,gt,I,Rt),it(We,gt,L,Rt),it(We,gt,I,gt.notifyWith))):(at!==I&&(zt=void 0,br=[Bn]),(Rt||gt.resolveWith)(zt,br))}},wi=Rt?pr:function(){try{pr()}catch(Bn){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Bn,wi.error),ht+1>=We&&(at!==L&&(zt=void 0,br=[Bn]),gt.rejectWith(zt,br))}};ht?wi():(d.Deferred.getErrorHook?wi.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(wi.error=d.Deferred.getStackHook()),t.setTimeout(wi))}}return d.Deferred(function(ht){H[0][3].add(it(0,ht,_(Je)?Je:I,ht.notifyWith)),H[1][3].add(it(0,ht,_(Ee)?Ee:I)),H[2][3].add(it(0,ht,_(Ae)?Ae:L))}).promise()},promise:function(Ee){return Ee!=null?d.extend(Ee,he):he}},_e={};return d.each(H,function(Ee,Ae){var Je=Ae[2],We=Ae[5];he[Ae[1]]=Je.add,We&&Je.add(function(){ae=We},H[3-Ee][2].disable,H[3-Ee][3].disable,H[0][2].lock,H[0][3].lock),Je.add(Ae[3].fire),_e[Ae[0]]=function(){return _e[Ae[0]+"With"](this===_e?void 0:this,arguments),this},_e[Ae[0]+"With"]=Je.fireWith}),he.promise(_e),D&&D.call(_e,_e),_e},when:function(D){var H=arguments.length,ae=H,he=Array(ae),_e=o.call(arguments),Ee=d.Deferred(),Ae=function(Je){return function(We){he[Je]=this,_e[Je]=arguments.length>1?o.call(arguments):We,--H||Ee.resolveWith(he,_e)}};if(H<=1&&(M(D,Ee.done(Ae(ae)).resolve,Ee.reject,!H),Ee.state()==="pending"||_(_e[ae]&&_e[ae].then)))return Ee.then();for(;ae--;)M(_e[ae],Ae(ae),Ee.reject);return Ee.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(D,H){t.console&&t.console.warn&&D&&Z.test(D.name)&&t.console.warn("jQuery.Deferred exception: "+D.message,D.stack,H)},d.readyException=function(D){t.setTimeout(function(){throw D})};var ue=d.Deferred();d.fn.ready=function(D){return ue.then(D).catch(function(H){d.readyException(H)}),this},d.extend({isReady:!1,readyWait:1,ready:function(D){(D===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(D!==!0&&--d.readyWait>0)&&ue.resolveWith(h,[d]))}}),d.ready.then=ue.then;function de(){h.removeEventListener("DOMContentLoaded",de),t.removeEventListener("load",de),d.ready()}h.readyState==="complete"||h.readyState!=="loading"&&!h.documentElement.doScroll?t.setTimeout(d.ready):(h.addEventListener("DOMContentLoaded",de),t.addEventListener("load",de));var ve=function(D,H,ae,he,_e,Ee,Ae){var Je=0,We=D.length,it=ae==null;if(S(ae)==="object"){_e=!0;for(Je in ae)ve(D,H,Je,ae[Je],!0,Ee,Ae)}else if(he!==void 0&&(_e=!0,_(he)||(Ae=!0),it&&(Ae?(H.call(D,he),H=null):(it=H,H=function(ht,gt,at){return it.call(d(ht),at)})),H))for(;Je<We;Je++)H(D[Je],ae,Ae?he:he.call(D[Je],Je,H(D[Je],ae)));return _e?D:it?H.call(D):We?H(D[0],ae):Ee},Se=/^-ms-/,Fe=/-([a-z])/g;function He(D,H){return H.toUpperCase()}function Ve(D){return D.replace(Se,"ms-").replace(Fe,He)}var ut=function(D){return D.nodeType===1||D.nodeType===9||!+D.nodeType};function Qe(){this.expando=d.expando+Qe.uid++}Qe.uid=1,Qe.prototype={cache:function(D){var H=D[this.expando];return H||(H={},ut(D)&&(D.nodeType?D[this.expando]=H:Object.defineProperty(D,this.expando,{value:H,configurable:!0}))),H},set:function(D,H,ae){var he,_e=this.cache(D);if(typeof H=="string")_e[Ve(H)]=ae;else for(he in H)_e[Ve(he)]=H[he];return _e},get:function(D,H){return H===void 0?this.cache(D):D[this.expando]&&D[this.expando][Ve(H)]},access:function(D,H,ae){return H===void 0||H&&typeof H=="string"&&ae===void 0?this.get(D,H):(this.set(D,H,ae),ae!==void 0?ae:H)},remove:function(D,H){var ae,he=D[this.expando];if(he!==void 0){if(H!==void 0)for(Array.isArray(H)?H=H.map(Ve):(H=Ve(H),H=H in he?[H]:H.match(we)||[]),ae=H.length;ae--;)delete he[H[ae]];(H===void 0||d.isEmptyObject(he))&&(D.nodeType?D[this.expando]=void 0:delete D[this.expando])}},hasData:function(D){var H=D[this.expando];return H!==void 0&&!d.isEmptyObject(H)}};var Ye=new Qe,te=new Qe,j=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/[A-Z]/g;function ce(D){return D==="true"?!0:D==="false"?!1:D==="null"?null:D===+D+""?+D:j.test(D)?JSON.parse(D):D}function Te(D,H,ae){var he;if(ae===void 0&&D.nodeType===1)if(he="data-"+H.replace(U,"-$&").toLowerCase(),ae=D.getAttribute(he),typeof ae=="string"){try{ae=ce(ae)}catch{}te.set(D,H,ae)}else ae=void 0;return ae}d.extend({hasData:function(D){return te.hasData(D)||Ye.hasData(D)},data:function(D,H,ae){return te.access(D,H,ae)},removeData:function(D,H){te.remove(D,H)},_data:function(D,H,ae){return Ye.access(D,H,ae)},_removeData:function(D,H){Ye.remove(D,H)}}),d.fn.extend({data:function(D,H){var ae,he,_e,Ee=this[0],Ae=Ee&&Ee.attributes;if(D===void 0){if(this.length&&(_e=te.get(Ee),Ee.nodeType===1&&!Ye.get(Ee,"hasDataAttrs"))){for(ae=Ae.length;ae--;)Ae[ae]&&(he=Ae[ae].name,he.indexOf("data-")===0&&(he=Ve(he.slice(5)),Te(Ee,he,_e[he])));Ye.set(Ee,"hasDataAttrs",!0)}return _e}return typeof D=="object"?this.each(function(){te.set(this,D)}):ve(this,function(Je){var We;if(Ee&&Je===void 0)return We=te.get(Ee,D),We!==void 0||(We=Te(Ee,D),We!==void 0)?We:void 0;this.each(function(){te.set(this,D,Je)})},null,H,arguments.length>1,null,!0)},removeData:function(D){return this.each(function(){te.remove(this,D)})}}),d.extend({queue:function(D,H,ae){var he;if(D)return H=(H||"fx")+"queue",he=Ye.get(D,H),ae&&(!he||Array.isArray(ae)?he=Ye.access(D,H,d.makeArray(ae)):he.push(ae)),he||[]},dequeue:function(D,H){H=H||"fx";var ae=d.queue(D,H),he=ae.length,_e=ae.shift(),Ee=d._queueHooks(D,H),Ae=function(){d.dequeue(D,H)};_e==="inprogress"&&(_e=ae.shift(),he--),_e&&(H==="fx"&&ae.unshift("inprogress"),delete Ee.stop,_e.call(D,Ae,Ee)),!he&&Ee&&Ee.empty.fire()},_queueHooks:function(D,H){var ae=H+"queueHooks";return Ye.get(D,ae)||Ye.access(D,ae,{empty:d.Callbacks("once memory").add(function(){Ye.remove(D,[H+"queue",ae])})})}}),d.fn.extend({queue:function(D,H){var ae=2;return typeof D!="string"&&(H=D,D="fx",ae--),arguments.length<ae?d.queue(this[0],D):H===void 0?this:this.each(function(){var he=d.queue(this,D,H);d._queueHooks(this,D),D==="fx"&&he[0]!=="inprogress"&&d.dequeue(this,D)})},dequeue:function(D){return this.each(function(){d.dequeue(this,D)})},clearQueue:function(D){return this.queue(D||"fx",[])},promise:function(D,H){var ae,he=1,_e=d.Deferred(),Ee=this,Ae=this.length,Je=function(){--he||_e.resolveWith(Ee,[Ee])};for(typeof D!="string"&&(H=D,D=void 0),D=D||"fx";Ae--;)ae=Ye.get(Ee[Ae],D+"queueHooks"),ae&&ae.empty&&(he++,ae.empty.add(Je));return Je(),_e.promise(H)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],Xe=h.documentElement,vt=function(D){return d.contains(D.ownerDocument,D)},St={composed:!0};Xe.getRootNode&&(vt=function(D){return d.contains(D.ownerDocument,D)||D.getRootNode(St)===D.ownerDocument});var yt=function(D,H){return D=H||D,D.style.display==="none"||D.style.display===""&&vt(D)&&d.css(D,"display")==="none"};function Yt(D,H,ae,he){var _e,Ee,Ae=20,Je=he?function(){return he.cur()}:function(){return d.css(D,H,"")},We=Je(),it=ae&&ae[3]||(d.cssNumber[H]?"":"px"),ht=D.nodeType&&(d.cssNumber[H]||it!=="px"&&+We)&&ze.exec(d.css(D,H));if(ht&&ht[3]!==it){for(We=We/2,it=it||ht[3],ht=+We||1;Ae--;)d.style(D,H,ht+it),(1-Ee)*(1-(Ee=Je()/We||.5))<=0&&(Ae=0),ht=ht/Ee;ht=ht*2,d.style(D,H,ht+it),ae=ae||[]}return ae&&(ht=+ht||+We||0,_e=ae[1]?ht+(ae[1]+1)*ae[2]:+ae[2],he&&(he.unit=it,he.start=ht,he.end=_e)),_e}var Jr={};function cn(D){var H,ae=D.ownerDocument,he=D.nodeName,_e=Jr[he];return _e||(H=ae.body.appendChild(ae.createElement(he)),_e=d.css(H,"display"),H.parentNode.removeChild(H),_e==="none"&&(_e="block"),Jr[he]=_e,_e)}function Tr(D,H){for(var ae,he,_e=[],Ee=0,Ae=D.length;Ee<Ae;Ee++)he=D[Ee],he.style&&(ae=he.style.display,H?(ae==="none"&&(_e[Ee]=Ye.get(he,"display")||null,_e[Ee]||(he.style.display="")),he.style.display===""&&yt(he)&&(_e[Ee]=cn(he))):ae!=="none"&&(_e[Ee]="none",Ye.set(he,"display",ae)));for(Ee=0;Ee<Ae;Ee++)_e[Ee]!=null&&(D[Ee].style.display=_e[Ee]);return D}d.fn.extend({show:function(){return Tr(this,!0)},hide:function(){return Tr(this)},toggle:function(D){return typeof D=="boolean"?D?this.show():this.hide():this.each(function(){yt(this)?d(this).show():d(this).hide()})}});var Rr=/^(?:checkbox|radio)$/i,Nn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var D=h.createDocumentFragment(),H=D.appendChild(h.createElement("div")),ae=h.createElement("input");ae.setAttribute("type","radio"),ae.setAttribute("checked","checked"),ae.setAttribute("name","t"),H.appendChild(ae),g.checkClone=H.cloneNode(!0).cloneNode(!0).lastChild.checked,H.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!H.cloneNode(!0).lastChild.defaultValue,H.innerHTML="<option></option>",g.option=!!H.lastChild})();var cr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};cr.tbody=cr.tfoot=cr.colgroup=cr.caption=cr.thead,cr.th=cr.td,g.option||(cr.optgroup=cr.option=[1,"<select multiple='multiple'>","</select>"]);function ar(D,H){var ae;return typeof D.getElementsByTagName<"u"?ae=D.getElementsByTagName(H||"*"):typeof D.querySelectorAll<"u"?ae=D.querySelectorAll(H||"*"):ae=[],H===void 0||H&&O(D,H)?d.merge([D],ae):ae}function Ie(D,H){for(var ae=0,he=D.length;ae<he;ae++)Ye.set(D[ae],"globalEval",!H||Ye.get(H[ae],"globalEval"))}var ke=/<|&#?\w+;/;function ft(D,H,ae,he,_e){for(var Ee,Ae,Je,We,it,ht,gt=H.createDocumentFragment(),at=[],Rt=0,zt=D.length;Rt<zt;Rt++)if(Ee=D[Rt],Ee||Ee===0)if(S(Ee)==="object")d.merge(at,Ee.nodeType?[Ee]:Ee);else if(!ke.test(Ee))at.push(H.createTextNode(Ee));else{for(Ae=Ae||gt.appendChild(H.createElement("div")),Je=(Nn.exec(Ee)||["",""])[1].toLowerCase(),We=cr[Je]||cr._default,Ae.innerHTML=We[1]+d.htmlPrefilter(Ee)+We[2],ht=We[0];ht--;)Ae=Ae.lastChild;d.merge(at,Ae.childNodes),Ae=gt.firstChild,Ae.textContent=""}for(gt.textContent="",Rt=0;Ee=at[Rt++];){if(he&&d.inArray(Ee,he)>-1){_e&&_e.push(Ee);continue}if(it=vt(Ee),Ae=ar(gt.appendChild(Ee),"script"),it&&Ie(Ae),ae)for(ht=0;Ee=Ae[ht++];)wr.test(Ee.type||"")&&ae.push(Ee)}return gt}var bt=/^([^.]*)(?:\.(.+)|)/;function Lt(){return!0}function xt(){return!1}function Mt(D,H,ae,he,_e,Ee){var Ae,Je;if(typeof H=="object"){typeof ae!="string"&&(he=he||ae,ae=void 0);for(Je in H)Mt(D,Je,ae,he,H[Je],Ee);return D}if(he==null&&_e==null?(_e=ae,he=ae=void 0):_e==null&&(typeof ae=="string"?(_e=he,he=void 0):(_e=he,he=ae,ae=void 0)),_e===!1)_e=xt;else if(!_e)return D;return Ee===1&&(Ae=_e,_e=function(We){return d().off(We),Ae.apply(this,arguments)},_e.guid=Ae.guid||(Ae.guid=d.guid++)),D.each(function(){d.event.add(this,H,_e,he,ae)})}d.event={global:{},add:function(D,H,ae,he,_e){var Ee,Ae,Je,We,it,ht,gt,at,Rt,zt,br,pr=Ye.get(D);if(ut(D))for(ae.handler&&(Ee=ae,ae=Ee.handler,_e=Ee.selector),_e&&d.find.matchesSelector(Xe,_e),ae.guid||(ae.guid=d.guid++),(We=pr.events)||(We=pr.events=Object.create(null)),(Ae=pr.handle)||(Ae=pr.handle=function(wi){return typeof d<"u"&&d.event.triggered!==wi.type?d.event.dispatch.apply(D,arguments):void 0}),H=(H||"").match(we)||[""],it=H.length;it--;)Je=bt.exec(H[it])||[],Rt=br=Je[1],zt=(Je[2]||"").split(".").sort(),Rt&&(gt=d.event.special[Rt]||{},Rt=(_e?gt.delegateType:gt.bindType)||Rt,gt=d.event.special[Rt]||{},ht=d.extend({type:Rt,origType:br,data:he,handler:ae,guid:ae.guid,selector:_e,needsContext:_e&&d.expr.match.needsContext.test(_e),namespace:zt.join(".")},Ee),(at=We[Rt])||(at=We[Rt]=[],at.delegateCount=0,(!gt.setup||gt.setup.call(D,he,zt,Ae)===!1)&&D.addEventListener&&D.addEventListener(Rt,Ae)),gt.add&&(gt.add.call(D,ht),ht.handler.guid||(ht.handler.guid=ae.guid)),_e?at.splice(at.delegateCount++,0,ht):at.push(ht),d.event.global[Rt]=!0)},remove:function(D,H,ae,he,_e){var Ee,Ae,Je,We,it,ht,gt,at,Rt,zt,br,pr=Ye.hasData(D)&&Ye.get(D);if(!(!pr||!(We=pr.events))){for(H=(H||"").match(we)||[""],it=H.length;it--;){if(Je=bt.exec(H[it])||[],Rt=br=Je[1],zt=(Je[2]||"").split(".").sort(),!Rt){for(Rt in We)d.event.remove(D,Rt+H[it],ae,he,!0);continue}for(gt=d.event.special[Rt]||{},Rt=(he?gt.delegateType:gt.bindType)||Rt,at=We[Rt]||[],Je=Je[2]&&new RegExp("(^|\\.)"+zt.join("\\.(?:.*\\.|)")+"(\\.|$)"),Ae=Ee=at.length;Ee--;)ht=at[Ee],(_e||br===ht.origType)&&(!ae||ae.guid===ht.guid)&&(!Je||Je.test(ht.namespace))&&(!he||he===ht.selector||he==="**"&&ht.selector)&&(at.splice(Ee,1),ht.selector&&at.delegateCount--,gt.remove&&gt.remove.call(D,ht));Ae&&!at.length&&((!gt.teardown||gt.teardown.call(D,zt,pr.handle)===!1)&&d.removeEvent(D,Rt,pr.handle),delete We[Rt])}d.isEmptyObject(We)&&Ye.remove(D,"handle events")}},dispatch:function(D){var H,ae,he,_e,Ee,Ae,Je=new Array(arguments.length),We=d.event.fix(D),it=(Ye.get(this,"events")||Object.create(null))[We.type]||[],ht=d.event.special[We.type]||{};for(Je[0]=We,H=1;H<arguments.length;H++)Je[H]=arguments[H];if(We.delegateTarget=this,!(ht.preDispatch&&ht.preDispatch.call(this,We)===!1)){for(Ae=d.event.handlers.call(this,We,it),H=0;(_e=Ae[H++])&&!We.isPropagationStopped();)for(We.currentTarget=_e.elem,ae=0;(Ee=_e.handlers[ae++])&&!We.isImmediatePropagationStopped();)(!We.rnamespace||Ee.namespace===!1||We.rnamespace.test(Ee.namespace))&&(We.handleObj=Ee,We.data=Ee.data,he=((d.event.special[Ee.origType]||{}).handle||Ee.handler).apply(_e.elem,Je),he!==void 0&&(We.result=he)===!1&&(We.preventDefault(),We.stopPropagation()));return ht.postDispatch&&ht.postDispatch.call(this,We),We.result}},handlers:function(D,H){var ae,he,_e,Ee,Ae,Je=[],We=H.delegateCount,it=D.target;if(We&&it.nodeType&&!(D.type==="click"&&D.button>=1)){for(;it!==this;it=it.parentNode||this)if(it.nodeType===1&&!(D.type==="click"&&it.disabled===!0)){for(Ee=[],Ae={},ae=0;ae<We;ae++)he=H[ae],_e=he.selector+" ",Ae[_e]===void 0&&(Ae[_e]=he.needsContext?d(_e,this).index(it)>-1:d.find(_e,this,null,[it]).length),Ae[_e]&&Ee.push(he);Ee.length&&Je.push({elem:it,handlers:Ee})}}return it=this,We<H.length&&Je.push({elem:it,handlers:H.slice(We)}),Je},addProp:function(D,H){Object.defineProperty(d.Event.prototype,D,{enumerable:!0,configurable:!0,get:_(H)?function(){if(this.originalEvent)return H(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[D]},set:function(ae){Object.defineProperty(this,D,{enumerable:!0,configurable:!0,writable:!0,value:ae})}})},fix:function(D){return D[d.expando]?D:new d.Event(D)},special:{load:{noBubble:!0},click:{setup:function(D){var H=this||D;return Rr.test(H.type)&&H.click&&O(H,"input")&&ye(H,"click",!0),!1},trigger:function(D){var H=this||D;return Rr.test(H.type)&&H.click&&O(H,"input")&&ye(H,"click"),!0},_default:function(D){var H=D.target;return Rr.test(H.type)&&H.click&&O(H,"input")&&Ye.get(H,"click")||O(H,"a")}},beforeunload:{postDispatch:function(D){D.result!==void 0&&D.originalEvent&&(D.originalEvent.returnValue=D.result)}}}};function ye(D,H,ae){if(!ae){Ye.get(D,H)===void 0&&d.event.add(D,H,Lt);return}Ye.set(D,H,!1),d.event.add(D,H,{namespace:!1,handler:function(he){var _e,Ee=Ye.get(this,H);if(he.isTrigger&1&&this[H]){if(Ee)(d.event.special[H]||{}).delegateType&&he.stopPropagation();else if(Ee=o.call(arguments),Ye.set(this,H,Ee),this[H](),_e=Ye.get(this,H),Ye.set(this,H,!1),Ee!==_e)return he.stopImmediatePropagation(),he.preventDefault(),_e}else Ee&&(Ye.set(this,H,d.event.trigger(Ee[0],Ee.slice(1),this)),he.stopPropagation(),he.isImmediatePropagationStopped=Lt)}})}d.removeEvent=function(D,H,ae){D.removeEventListener&&D.removeEventListener(H,ae)},d.Event=function(D,H){if(!(this instanceof d.Event))return new d.Event(D,H);D&&D.type?(this.originalEvent=D,this.type=D.type,this.isDefaultPrevented=D.defaultPrevented||D.defaultPrevented===void 0&&D.returnValue===!1?Lt:xt,this.target=D.target&&D.target.nodeType===3?D.target.parentNode:D.target,this.currentTarget=D.currentTarget,this.relatedTarget=D.relatedTarget):this.type=D,H&&d.extend(this,H),this.timeStamp=D&&D.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:xt,isPropagationStopped:xt,isImmediatePropagationStopped:xt,isSimulated:!1,preventDefault:function(){var D=this.originalEvent;this.isDefaultPrevented=Lt,D&&!this.isSimulated&&D.preventDefault()},stopPropagation:function(){var D=this.originalEvent;this.isPropagationStopped=Lt,D&&!this.isSimulated&&D.stopPropagation()},stopImmediatePropagation:function(){var D=this.originalEvent;this.isImmediatePropagationStopped=Lt,D&&!this.isSimulated&&D.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(D,H){function ae(he){if(h.documentMode){var _e=Ye.get(this,"handle"),Ee=d.event.fix(he);Ee.type=he.type==="focusin"?"focus":"blur",Ee.isSimulated=!0,_e(he),Ee.target===Ee.currentTarget&&_e(Ee)}else d.event.simulate(H,he.target,d.event.fix(he))}d.event.special[D]={setup:function(){var he;if(ye(this,D,!0),h.documentMode)he=Ye.get(this,H),he||this.addEventListener(H,ae),Ye.set(this,H,(he||0)+1);else return!1},trigger:function(){return ye(this,D),!0},teardown:function(){var he;if(h.documentMode)he=Ye.get(this,H)-1,he?Ye.set(this,H,he):(this.removeEventListener(H,ae),Ye.remove(this,H));else return!1},_default:function(he){return Ye.get(he.target,D)},delegateType:H},d.event.special[H]={setup:function(){var he=this.ownerDocument||this.document||this,_e=h.documentMode?this:he,Ee=Ye.get(_e,H);Ee||(h.documentMode?this.addEventListener(H,ae):he.addEventListener(D,ae,!0)),Ye.set(_e,H,(Ee||0)+1)},teardown:function(){var he=this.ownerDocument||this.document||this,_e=h.documentMode?this:he,Ee=Ye.get(_e,H)-1;Ee?Ye.set(_e,H,Ee):(h.documentMode?this.removeEventListener(H,ae):he.removeEventListener(D,ae,!0),Ye.remove(_e,H))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(D,H){d.event.special[D]={delegateType:H,bindType:H,handle:function(ae){var he,_e=this,Ee=ae.relatedTarget,Ae=ae.handleObj;return(!Ee||Ee!==_e&&!d.contains(_e,Ee))&&(ae.type=Ae.origType,he=Ae.handler.apply(this,arguments),ae.type=H),he}}}),d.fn.extend({on:function(D,H,ae,he){return Mt(this,D,H,ae,he)},one:function(D,H,ae,he){return Mt(this,D,H,ae,he,1)},off:function(D,H,ae){var he,_e;if(D&&D.preventDefault&&D.handleObj)return he=D.handleObj,d(D.delegateTarget).off(he.namespace?he.origType+"."+he.namespace:he.origType,he.selector,he.handler),this;if(typeof D=="object"){for(_e in D)this.off(_e,H,D[_e]);return this}return(H===!1||typeof H=="function")&&(ae=H,H=void 0),ae===!1&&(ae=xt),this.each(function(){d.event.remove(this,D,ae,H)})}});var me=/<script|<style|<link/i,$e=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function De(D,H){return O(D,"table")&&O(H.nodeType!==11?H:H.firstChild,"tr")&&d(D).children("tbody")[0]||D}function dt(D){return D.type=(D.getAttribute("type")!==null)+"/"+D.type,D}function mt(D){return(D.type||"").slice(0,5)==="true/"?D.type=D.type.slice(5):D.removeAttribute("type"),D}function At(D,H){var ae,he,_e,Ee,Ae,Je,We;if(H.nodeType===1){if(Ye.hasData(D)&&(Ee=Ye.get(D),We=Ee.events,We)){Ye.remove(H,"handle events");for(_e in We)for(ae=0,he=We[_e].length;ae<he;ae++)d.event.add(H,_e,We[_e][ae])}te.hasData(D)&&(Ae=te.access(D),Je=d.extend({},Ae),te.set(H,Je))}}function Ht(D,H){var ae=H.nodeName.toLowerCase();ae==="input"&&Rr.test(D.type)?H.checked=D.checked:(ae==="input"||ae==="textarea")&&(H.defaultValue=D.defaultValue)}function Xt(D,H,ae,he){H=s(H);var _e,Ee,Ae,Je,We,it,ht=0,gt=D.length,at=gt-1,Rt=H[0],zt=_(Rt);if(zt||gt>1&&typeof Rt=="string"&&!g.checkClone&&$e.test(Rt))return D.each(function(br){var pr=D.eq(br);zt&&(H[0]=Rt.call(this,br,pr.html())),Xt(pr,H,ae,he)});if(gt&&(_e=ft(H,D[0].ownerDocument,!1,D,he),Ee=_e.firstChild,_e.childNodes.length===1&&(_e=Ee),Ee||he)){for(Ae=d.map(ar(_e,"script"),dt),Je=Ae.length;ht<gt;ht++)We=_e,ht!==at&&(We=d.clone(We,!0,!0),Je&&d.merge(Ae,ar(We,"script"))),ae.call(D[ht],We,ht);if(Je)for(it=Ae[Ae.length-1].ownerDocument,d.map(Ae,mt),ht=0;ht<Je;ht++)We=Ae[ht],wr.test(We.type||"")&&!Ye.access(We,"globalEval")&&d.contains(it,We)&&(We.src&&(We.type||"").toLowerCase()!=="module"?d._evalUrl&&!We.noModule&&d._evalUrl(We.src,{nonce:We.nonce||We.getAttribute("nonce")},it):y(We.textContent.replace(Me,""),We,it))}return D}function Ft(D,H,ae){for(var he,_e=H?d.filter(H,D):D,Ee=0;(he=_e[Ee])!=null;Ee++)!ae&&he.nodeType===1&&d.cleanData(ar(he)),he.parentNode&&(ae&&vt(he)&&Ie(ar(he,"script")),he.parentNode.removeChild(he));return D}d.extend({htmlPrefilter:function(D){return D},clone:function(D,H,ae){var he,_e,Ee,Ae,Je=D.cloneNode(!0),We=vt(D);if(!g.noCloneChecked&&(D.nodeType===1||D.nodeType===11)&&!d.isXMLDoc(D))for(Ae=ar(Je),Ee=ar(D),he=0,_e=Ee.length;he<_e;he++)Ht(Ee[he],Ae[he]);if(H)if(ae)for(Ee=Ee||ar(D),Ae=Ae||ar(Je),he=0,_e=Ee.length;he<_e;he++)At(Ee[he],Ae[he]);else At(D,Je);return Ae=ar(Je,"script"),Ae.length>0&&Ie(Ae,!We&&ar(D,"script")),Je},cleanData:function(D){for(var H,ae,he,_e=d.event.special,Ee=0;(ae=D[Ee])!==void 0;Ee++)if(ut(ae)){if(H=ae[Ye.expando]){if(H.events)for(he in H.events)_e[he]?d.event.remove(ae,he):d.removeEvent(ae,he,H.handle);ae[Ye.expando]=void 0}ae[te.expando]&&(ae[te.expando]=void 0)}}}),d.fn.extend({detach:function(D){return Ft(this,D,!0)},remove:function(D){return Ft(this,D)},text:function(D){return ve(this,function(H){return H===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=H)})},null,D,arguments.length)},append:function(){return Xt(this,arguments,function(D){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var H=De(this,D);H.appendChild(D)}})},prepend:function(){return Xt(this,arguments,function(D){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var H=De(this,D);H.insertBefore(D,H.firstChild)}})},before:function(){return Xt(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this)})},after:function(){return Xt(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this.nextSibling)})},empty:function(){for(var D,H=0;(D=this[H])!=null;H++)D.nodeType===1&&(d.cleanData(ar(D,!1)),D.textContent="");return this},clone:function(D,H){return D=D??!1,H=H??D,this.map(function(){return d.clone(this,D,H)})},html:function(D){return ve(this,function(H){var ae=this[0]||{},he=0,_e=this.length;if(H===void 0&&ae.nodeType===1)return ae.innerHTML;if(typeof H=="string"&&!me.test(H)&&!cr[(Nn.exec(H)||["",""])[1].toLowerCase()]){H=d.htmlPrefilter(H);try{for(;he<_e;he++)ae=this[he]||{},ae.nodeType===1&&(d.cleanData(ar(ae,!1)),ae.innerHTML=H);ae=0}catch{}}ae&&this.empty().append(H)},null,D,arguments.length)},replaceWith:function(){var D=[];return Xt(this,arguments,function(H){var ae=this.parentNode;d.inArray(this,D)<0&&(d.cleanData(ar(this)),ae&&ae.replaceChild(H,this))},D)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(D,H){d.fn[D]=function(ae){for(var he,_e=[],Ee=d(ae),Ae=Ee.length-1,Je=0;Je<=Ae;Je++)he=Je===Ae?this:this.clone(!0),d(Ee[Je])[H](he),a.apply(_e,he.get());return this.pushStack(_e)}});var qt=new RegExp("^("+Re+")(?!px)[a-z%]+$","i"),ur=/^--/,It=function(D){var H=D.ownerDocument.defaultView;return(!H||!H.opener)&&(H=t),H.getComputedStyle(D)},nr=function(D,H,ae){var he,_e,Ee={};for(_e in H)Ee[_e]=D.style[_e],D.style[_e]=H[_e];he=ae.call(D);for(_e in H)D.style[_e]=Ee[_e];return he},Zt=new RegExp(Be.join("|"),"i");(function(){function D(){if(it){We.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",it.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Xe.appendChild(We).appendChild(it);var ht=t.getComputedStyle(it);ae=ht.top!=="1%",Je=H(ht.marginLeft)===12,it.style.right="60%",Ee=H(ht.right)===36,he=H(ht.width)===36,it.style.position="absolute",_e=H(it.offsetWidth/3)===12,Xe.removeChild(We),it=null}}function H(ht){return Math.round(parseFloat(ht))}var ae,he,_e,Ee,Ae,Je,We=h.createElement("div"),it=h.createElement("div");it.style&&(it.style.backgroundClip="content-box",it.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=it.style.backgroundClip==="content-box",d.extend(g,{boxSizingReliable:function(){return D(),he},pixelBoxStyles:function(){return D(),Ee},pixelPosition:function(){return D(),ae},reliableMarginLeft:function(){return D(),Je},scrollboxSize:function(){return D(),_e},reliableTrDimensions:function(){var ht,gt,at,Rt;return Ae==null&&(ht=h.createElement("table"),gt=h.createElement("tr"),at=h.createElement("div"),ht.style.cssText="position:absolute;left:-11111px;border-collapse:separate",gt.style.cssText="box-sizing:content-box;border:1px solid",gt.style.height="1px",at.style.height="9px",at.style.display="block",Xe.appendChild(ht).appendChild(gt).appendChild(at),Rt=t.getComputedStyle(gt),Ae=parseInt(Rt.height,10)+parseInt(Rt.borderTopWidth,10)+parseInt(Rt.borderBottomWidth,10)===gt.offsetHeight,Xe.removeChild(ht)),Ae}}))})();function Ut(D,H,ae){var he,_e,Ee,Ae,Je=ur.test(H),We=D.style;return ae=ae||It(D),ae&&(Ae=ae.getPropertyValue(H)||ae[H],Je&&Ae&&(Ae=Ae.replace(ie,"$1")||void 0),Ae===""&&!vt(D)&&(Ae=d.style(D,H)),!g.pixelBoxStyles()&&qt.test(Ae)&&Zt.test(H)&&(he=We.width,_e=We.minWidth,Ee=We.maxWidth,We.minWidth=We.maxWidth=We.width=Ae,Ae=ae.width,We.width=he,We.minWidth=_e,We.maxWidth=Ee)),Ae!==void 0?Ae+"":Ae}function Fr(D,H){return{get:function(){if(D()){delete this.get;return}return(this.get=H).apply(this,arguments)}}}var mn=["Webkit","Moz","ms"],Zr=h.createElement("div").style,ni={};function Hn(D){for(var H=D[0].toUpperCase()+D.slice(1),ae=mn.length;ae--;)if(D=mn[ae]+H,D in Zr)return D}function nn(D){var H=d.cssProps[D]||ni[D];return H||(D in Zr?D:ni[D]=Hn(D)||D)}var vn=/^(none|table(?!-c[ea]).+)/,$i={position:"absolute",visibility:"hidden",display:"block"},Wn={letterSpacing:"0",fontWeight:"400"};function zi(D,H,ae){var he=ze.exec(H);return he?Math.max(0,he[2]-(ae||0))+(he[3]||"px"):H}function Ss(D,H,ae,he,_e,Ee){var Ae=H==="width"?1:0,Je=0,We=0,it=0;if(ae===(he?"border":"content"))return 0;for(;Ae<4;Ae+=2)ae==="margin"&&(it+=d.css(D,ae+Be[Ae],!0,_e)),he?(ae==="content"&&(We-=d.css(D,"padding"+Be[Ae],!0,_e)),ae!=="margin"&&(We-=d.css(D,"border"+Be[Ae]+"Width",!0,_e))):(We+=d.css(D,"padding"+Be[Ae],!0,_e),ae!=="padding"?We+=d.css(D,"border"+Be[Ae]+"Width",!0,_e):Je+=d.css(D,"border"+Be[Ae]+"Width",!0,_e));return!he&&Ee>=0&&(We+=Math.max(0,Math.ceil(D["offset"+H[0].toUpperCase()+H.slice(1)]-Ee-We-Je-.5))||0),We+it}function Wo(D,H,ae){var he=It(D),_e=!g.boxSizingReliable()||ae,Ee=_e&&d.css(D,"boxSizing",!1,he)==="border-box",Ae=Ee,Je=Ut(D,H,he),We="offset"+H[0].toUpperCase()+H.slice(1);if(qt.test(Je)){if(!ae)return Je;Je="auto"}return(!g.boxSizingReliable()&&Ee||!g.reliableTrDimensions()&&O(D,"tr")||Je==="auto"||!parseFloat(Je)&&d.css(D,"display",!1,he)==="inline")&&D.getClientRects().length&&(Ee=d.css(D,"boxSizing",!1,he)==="border-box",Ae=We in D,Ae&&(Je=D[We])),Je=parseFloat(Je)||0,Je+Ss(D,H,ae||(Ee?"border":"content"),Ae,he,Je)+"px"}d.extend({cssHooks:{opacity:{get:function(D,H){if(H){var ae=Ut(D,"opacity");return ae===""?"1":ae}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(D,H,ae,he){if(!(!D||D.nodeType===3||D.nodeType===8||!D.style)){var _e,Ee,Ae,Je=Ve(H),We=ur.test(H),it=D.style;if(We||(H=nn(Je)),Ae=d.cssHooks[H]||d.cssHooks[Je],ae!==void 0){if(Ee=typeof ae,Ee==="string"&&(_e=ze.exec(ae))&&_e[1]&&(ae=Yt(D,H,_e),Ee="number"),ae==null||ae!==ae)return;Ee==="number"&&!We&&(ae+=_e&&_e[3]||(d.cssNumber[Je]?"":"px")),!g.clearCloneStyle&&ae===""&&H.indexOf("background")===0&&(it[H]="inherit"),(!Ae||!("set"in Ae)||(ae=Ae.set(D,ae,he))!==void 0)&&(We?it.setProperty(H,ae):it[H]=ae)}else return Ae&&"get"in Ae&&(_e=Ae.get(D,!1,he))!==void 0?_e:it[H]}},css:function(D,H,ae,he){var _e,Ee,Ae,Je=Ve(H),We=ur.test(H);return We||(H=nn(Je)),Ae=d.cssHooks[H]||d.cssHooks[Je],Ae&&"get"in Ae&&(_e=Ae.get(D,!0,ae)),_e===void 0&&(_e=Ut(D,H,he)),_e==="normal"&&H in Wn&&(_e=Wn[H]),ae===""||ae?(Ee=parseFloat(_e),ae===!0||isFinite(Ee)?Ee||0:_e):_e}}),d.each(["height","width"],function(D,H){d.cssHooks[H]={get:function(ae,he,_e){if(he)return vn.test(d.css(ae,"display"))&&(!ae.getClientRects().length||!ae.getBoundingClientRect().width)?nr(ae,$i,function(){return Wo(ae,H,_e)}):Wo(ae,H,_e)},set:function(ae,he,_e){var Ee,Ae=It(ae),Je=!g.scrollboxSize()&&Ae.position==="absolute",We=Je||_e,it=We&&d.css(ae,"boxSizing",!1,Ae)==="border-box",ht=_e?Ss(ae,H,_e,it,Ae):0;return it&&Je&&(ht-=Math.ceil(ae["offset"+H[0].toUpperCase()+H.slice(1)]-parseFloat(Ae[H])-Ss(ae,H,"border",!1,Ae)-.5)),ht&&(Ee=ze.exec(he))&&(Ee[3]||"px")!=="px"&&(ae.style[H]=he,he=d.css(ae,H)),zi(ae,he,ht)}}}),d.cssHooks.marginLeft=Fr(g.reliableMarginLeft,function(D,H){if(H)return(parseFloat(Ut(D,"marginLeft"))||D.getBoundingClientRect().left-nr(D,{marginLeft:0},function(){return D.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(D,H){d.cssHooks[D+H]={expand:function(ae){for(var he=0,_e={},Ee=typeof ae=="string"?ae.split(" "):[ae];he<4;he++)_e[D+Be[he]+H]=Ee[he]||Ee[he-2]||Ee[0];return _e}},D!=="margin"&&(d.cssHooks[D+H].set=zi)}),d.fn.extend({css:function(D,H){return ve(this,function(ae,he,_e){var Ee,Ae,Je={},We=0;if(Array.isArray(he)){for(Ee=It(ae),Ae=he.length;We<Ae;We++)Je[he[We]]=d.css(ae,he[We],!1,Ee);return Je}return _e!==void 0?d.style(ae,he,_e):d.css(ae,he)},D,H,arguments.length>1)}});function on(D,H,ae,he,_e){return new on.prototype.init(D,H,ae,he,_e)}d.Tween=on,on.prototype={constructor:on,init:function(D,H,ae,he,_e,Ee){this.elem=D,this.prop=ae,this.easing=_e||d.easing._default,this.options=H,this.start=this.now=this.cur(),this.end=he,this.unit=Ee||(d.cssNumber[ae]?"":"px")},cur:function(){var D=on.propHooks[this.prop];return D&&D.get?D.get(this):on.propHooks._default.get(this)},run:function(D){var H,ae=on.propHooks[this.prop];return this.options.duration?this.pos=H=d.easing[this.easing](D,this.options.duration*D,0,1,this.options.duration):this.pos=H=D,this.now=(this.end-this.start)*H+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ae&&ae.set?ae.set(this):on.propHooks._default.set(this),this}},on.prototype.init.prototype=on.prototype,on.propHooks={_default:{get:function(D){var H;return D.elem.nodeType!==1||D.elem[D.prop]!=null&&D.elem.style[D.prop]==null?D.elem[D.prop]:(H=d.css(D.elem,D.prop,""),!H||H==="auto"?0:H)},set:function(D){d.fx.step[D.prop]?d.fx.step[D.prop](D):D.elem.nodeType===1&&(d.cssHooks[D.prop]||D.elem.style[nn(D.prop)]!=null)?d.style(D.elem,D.prop,D.now+D.unit):D.elem[D.prop]=D.now}}},on.propHooks.scrollTop=on.propHooks.scrollLeft={set:function(D){D.elem.nodeType&&D.elem.parentNode&&(D.elem[D.prop]=D.now)}},d.easing={linear:function(D){return D},swing:function(D){return .5-Math.cos(D*Math.PI)/2},_default:"swing"},d.fx=on.prototype.init,d.fx.step={};var Gn,xi,Na=/^(?:toggle|show|hide)$/,Go=/queueHooks$/;function Zn(){xi&&(h.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Zn):t.setTimeout(Zn,d.fx.interval),d.fx.tick())}function iu(){return t.setTimeout(function(){Gn=void 0}),Gn=Date.now()}function wl(D,H){var ae,he=0,_e={height:D};for(H=H?1:0;he<4;he+=2-H)ae=Be[he],_e["margin"+ae]=_e["padding"+ae]=D;return H&&(_e.opacity=_e.width=D),_e}function Ad(D,H,ae){for(var he,_e=(Ko.tweeners[H]||[]).concat(Ko.tweeners["*"]),Ee=0,Ae=_e.length;Ee<Ae;Ee++)if(he=_e[Ee].call(ae,H,D))return he}function fp(D,H,ae){var he,_e,Ee,Ae,Je,We,it,ht,gt="width"in H||"height"in H,at=this,Rt={},zt=D.style,br=D.nodeType&&yt(D),pr=Ye.get(D,"fxshow");ae.queue||(Ae=d._queueHooks(D,"fx"),Ae.unqueued==null&&(Ae.unqueued=0,Je=Ae.empty.fire,Ae.empty.fire=function(){Ae.unqueued||Je()}),Ae.unqueued++,at.always(function(){at.always(function(){Ae.unqueued--,d.queue(D,"fx").length||Ae.empty.fire()})}));for(he in H)if(_e=H[he],Na.test(_e)){if(delete H[he],Ee=Ee||_e==="toggle",_e===(br?"hide":"show"))if(_e==="show"&&pr&&pr[he]!==void 0)br=!0;else continue;Rt[he]=pr&&pr[he]||d.style(D,he)}if(We=!d.isEmptyObject(H),!(!We&&d.isEmptyObject(Rt))){gt&&D.nodeType===1&&(ae.overflow=[zt.overflow,zt.overflowX,zt.overflowY],it=pr&&pr.display,it==null&&(it=Ye.get(D,"display")),ht=d.css(D,"display"),ht==="none"&&(it?ht=it:(Tr([D],!0),it=D.style.display||it,ht=d.css(D,"display"),Tr([D]))),(ht==="inline"||ht==="inline-block"&&it!=null)&&d.css(D,"float")==="none"&&(We||(at.done(function(){zt.display=it}),it==null&&(ht=zt.display,it=ht==="none"?"":ht)),zt.display="inline-block")),ae.overflow&&(zt.overflow="hidden",at.always(function(){zt.overflow=ae.overflow[0],zt.overflowX=ae.overflow[1],zt.overflowY=ae.overflow[2]})),We=!1;for(he in Rt)We||(pr?"hidden"in pr&&(br=pr.hidden):pr=Ye.access(D,"fxshow",{display:it}),Ee&&(pr.hidden=!br),br&&Tr([D],!0),at.done(function(){br||Tr([D]),Ye.remove(D,"fxshow");for(he in Rt)d.style(D,he,Rt[he])})),We=Ad(br?pr[he]:0,he,at),he in pr||(pr[he]=We.start,br&&(We.end=We.start,We.start=0))}}function Od(D,H){var ae,he,_e,Ee,Ae;for(ae in D)if(he=Ve(ae),_e=H[he],Ee=D[ae],Array.isArray(Ee)&&(_e=Ee[1],Ee=D[ae]=Ee[0]),ae!==he&&(D[he]=Ee,delete D[ae]),Ae=d.cssHooks[he],Ae&&"expand"in Ae){Ee=Ae.expand(Ee),delete D[he];for(ae in Ee)ae in D||(D[ae]=Ee[ae],H[ae]=_e)}else H[he]=_e}function Ko(D,H,ae){var he,_e,Ee=0,Ae=Ko.prefilters.length,Je=d.Deferred().always(function(){delete We.elem}),We=function(){if(_e)return!1;for(var gt=Gn||iu(),at=Math.max(0,it.startTime+it.duration-gt),Rt=at/it.duration||0,zt=1-Rt,br=0,pr=it.tweens.length;br<pr;br++)it.tweens[br].run(zt);return Je.notifyWith(D,[it,zt,at]),zt<1&&pr?at:(pr||Je.notifyWith(D,[it,1,0]),Je.resolveWith(D,[it]),!1)},it=Je.promise({elem:D,props:d.extend({},H),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},ae),originalProperties:H,originalOptions:ae,startTime:Gn||iu(),duration:ae.duration,tweens:[],createTween:function(gt,at){var Rt=d.Tween(D,it.opts,gt,at,it.opts.specialEasing[gt]||it.opts.easing);return it.tweens.push(Rt),Rt},stop:function(gt){var at=0,Rt=gt?it.tweens.length:0;if(_e)return this;for(_e=!0;at<Rt;at++)it.tweens[at].run(1);return gt?(Je.notifyWith(D,[it,1,0]),Je.resolveWith(D,[it,gt])):Je.rejectWith(D,[it,gt]),this}}),ht=it.props;for(Od(ht,it.opts.specialEasing);Ee<Ae;Ee++)if(he=Ko.prefilters[Ee].call(it,D,ht,it.opts),he)return _(he.stop)&&(d._queueHooks(it.elem,it.opts.queue).stop=he.stop.bind(he)),he;return d.map(ht,Ad,it),_(it.opts.start)&&it.opts.start.call(D,it),it.progress(it.opts.progress).done(it.opts.done,it.opts.complete).fail(it.opts.fail).always(it.opts.always),d.fx.timer(d.extend(We,{elem:D,anim:it,queue:it.opts.queue})),it}d.Animation=d.extend(Ko,{tweeners:{"*":[function(D,H){var ae=this.createTween(D,H);return Yt(ae.elem,D,ze.exec(H),ae),ae}]},tweener:function(D,H){_(D)?(H=D,D=["*"]):D=D.match(we);for(var ae,he=0,_e=D.length;he<_e;he++)ae=D[he],Ko.tweeners[ae]=Ko.tweeners[ae]||[],Ko.tweeners[ae].unshift(H)},prefilters:[fp],prefilter:function(D,H){H?Ko.prefilters.unshift(D):Ko.prefilters.push(D)}}),d.speed=function(D,H,ae){var he=D&&typeof D=="object"?d.extend({},D):{complete:ae||!ae&&H||_(D)&&D,duration:D,easing:ae&&H||H&&!_(H)&&H};return d.fx.off?he.duration=0:typeof he.duration!="number"&&(he.duration in d.fx.speeds?he.duration=d.fx.speeds[he.duration]:he.duration=d.fx.speeds._default),(he.queue==null||he.queue===!0)&&(he.queue="fx"),he.old=he.complete,he.complete=function(){_(he.old)&&he.old.call(this),he.queue&&d.dequeue(this,he.queue)},he},d.fn.extend({fadeTo:function(D,H,ae,he){return this.filter(yt).css("opacity",0).show().end().animate({opacity:H},D,ae,he)},animate:function(D,H,ae,he){var _e=d.isEmptyObject(D),Ee=d.speed(H,ae,he),Ae=function(){var Je=Ko(this,d.extend({},D),Ee);(_e||Ye.get(this,"finish"))&&Je.stop(!0)};return Ae.finish=Ae,_e||Ee.queue===!1?this.each(Ae):this.queue(Ee.queue,Ae)},stop:function(D,H,ae){var he=function(_e){var Ee=_e.stop;delete _e.stop,Ee(ae)};return typeof D!="string"&&(ae=H,H=D,D=void 0),H&&this.queue(D||"fx",[]),this.each(function(){var _e=!0,Ee=D!=null&&D+"queueHooks",Ae=d.timers,Je=Ye.get(this);if(Ee)Je[Ee]&&Je[Ee].stop&&he(Je[Ee]);else for(Ee in Je)Je[Ee]&&Je[Ee].stop&&Go.test(Ee)&&he(Je[Ee]);for(Ee=Ae.length;Ee--;)Ae[Ee].elem===this&&(D==null||Ae[Ee].queue===D)&&(Ae[Ee].anim.stop(ae),_e=!1,Ae.splice(Ee,1));(_e||!ae)&&d.dequeue(this,D)})},finish:function(D){return D!==!1&&(D=D||"fx"),this.each(function(){var H,ae=Ye.get(this),he=ae[D+"queue"],_e=ae[D+"queueHooks"],Ee=d.timers,Ae=he?he.length:0;for(ae.finish=!0,d.queue(this,D,[]),_e&&_e.stop&&_e.stop.call(this,!0),H=Ee.length;H--;)Ee[H].elem===this&&Ee[H].queue===D&&(Ee[H].anim.stop(!0),Ee.splice(H,1));for(H=0;H<Ae;H++)he[H]&&he[H].finish&&he[H].finish.call(this);delete ae.finish})}}),d.each(["toggle","show","hide"],function(D,H){var ae=d.fn[H];d.fn[H]=function(he,_e,Ee){return he==null||typeof he=="boolean"?ae.apply(this,arguments):this.animate(wl(H,!0),he,_e,Ee)}}),d.each({slideDown:wl("show"),slideUp:wl("hide"),slideToggle:wl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(D,H){d.fn[D]=function(ae,he,_e){return this.animate(H,ae,he,_e)}}),d.timers=[],d.fx.tick=function(){var D,H=0,ae=d.timers;for(Gn=Date.now();H<ae.length;H++)D=ae[H],!D()&&ae[H]===D&&ae.splice(H--,1);ae.length||d.fx.stop(),Gn=void 0},d.fx.timer=function(D){d.timers.push(D),d.fx.start()},d.fx.interval=13,d.fx.start=function(){xi||(xi=!0,Zn())},d.fx.stop=function(){xi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(D,H){return D=d.fx&&d.fx.speeds[D]||D,H=H||"fx",this.queue(H,function(ae,he){var _e=t.setTimeout(ae,D);he.stop=function(){t.clearTimeout(_e)}})},function(){var D=h.createElement("input"),H=h.createElement("select"),ae=H.appendChild(h.createElement("option"));D.type="checkbox",g.checkOn=D.value!=="",g.optSelected=ae.selected,D=h.createElement("input"),D.value="t",D.type="radio",g.radioValue=D.value==="t"}();var Pd,Ia=d.expr.attrHandle;d.fn.extend({attr:function(D,H){return ve(this,d.attr,D,H,arguments.length>1)},removeAttr:function(D){return this.each(function(){d.removeAttr(this,D)})}}),d.extend({attr:function(D,H,ae){var he,_e,Ee=D.nodeType;if(!(Ee===3||Ee===8||Ee===2)){if(typeof D.getAttribute>"u")return d.prop(D,H,ae);if((Ee!==1||!d.isXMLDoc(D))&&(_e=d.attrHooks[H.toLowerCase()]||(d.expr.match.bool.test(H)?Pd:void 0)),ae!==void 0){if(ae===null){d.removeAttr(D,H);return}return _e&&"set"in _e&&(he=_e.set(D,ae,H))!==void 0?he:(D.setAttribute(H,ae+""),ae)}return _e&&"get"in _e&&(he=_e.get(D,H))!==null?he:(he=d.find.attr(D,H),he??void 0)}},attrHooks:{type:{set:function(D,H){if(!g.radioValue&&H==="radio"&&O(D,"input")){var ae=D.value;return D.setAttribute("type",H),ae&&(D.value=ae),H}}}},removeAttr:function(D,H){var ae,he=0,_e=H&&H.match(we);if(_e&&D.nodeType===1)for(;ae=_e[he++];)D.removeAttribute(ae)}}),Pd={set:function(D,H,ae){return H===!1?d.removeAttr(D,ae):D.setAttribute(ae,ae),ae}},d.each(d.expr.match.bool.source.match(/\w+/g),function(D,H){var ae=Ia[H]||d.find.attr;Ia[H]=function(he,_e,Ee){var Ae,Je,We=_e.toLowerCase();return Ee||(Je=Ia[We],Ia[We]=Ae,Ae=ae(he,_e,Ee)!=null?We:null,Ia[We]=Je),Ae}});var Ts=/^(?:input|select|textarea|button)$/i,bl=/^(?:a|area)$/i;d.fn.extend({prop:function(D,H){return ve(this,d.prop,D,H,arguments.length>1)},removeProp:function(D){return this.each(function(){delete this[d.propFix[D]||D]})}}),d.extend({prop:function(D,H,ae){var he,_e,Ee=D.nodeType;if(!(Ee===3||Ee===8||Ee===2))return(Ee!==1||!d.isXMLDoc(D))&&(H=d.propFix[H]||H,_e=d.propHooks[H]),ae!==void 0?_e&&"set"in _e&&(he=_e.set(D,ae,H))!==void 0?he:D[H]=ae:_e&&"get"in _e&&(he=_e.get(D,H))!==null?he:D[H]},propHooks:{tabIndex:{get:function(D){var H=d.find.attr(D,"tabindex");return H?parseInt(H,10):Ts.test(D.nodeName)||bl.test(D.nodeName)&&D.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(d.propHooks.selected={get:function(D){var H=D.parentNode;return H&&H.parentNode&&H.parentNode.selectedIndex,null},set:function(D){var H=D.parentNode;H&&(H.selectedIndex,H.parentNode&&H.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function ea(D){var H=D.match(we)||[];return H.join(" ")}function ho(D){return D.getAttribute&&D.getAttribute("class")||""}function Ca(D){return Array.isArray(D)?D:typeof D=="string"?D.match(we)||[]:[]}d.fn.extend({addClass:function(D){var H,ae,he,_e,Ee,Ae;return _(D)?this.each(function(Je){d(this).addClass(D.call(this,Je,ho(this)))}):(H=Ca(D),H.length?this.each(function(){if(he=ho(this),ae=this.nodeType===1&&" "+ea(he)+" ",ae){for(Ee=0;Ee<H.length;Ee++)_e=H[Ee],ae.indexOf(" "+_e+" ")<0&&(ae+=_e+" ");Ae=ea(ae),he!==Ae&&this.setAttribute("class",Ae)}}):this)},removeClass:function(D){var H,ae,he,_e,Ee,Ae;return _(D)?this.each(function(Je){d(this).removeClass(D.call(this,Je,ho(this)))}):arguments.length?(H=Ca(D),H.length?this.each(function(){if(he=ho(this),ae=this.nodeType===1&&" "+ea(he)+" ",ae){for(Ee=0;Ee<H.length;Ee++)for(_e=H[Ee];ae.indexOf(" "+_e+" ")>-1;)ae=ae.replace(" "+_e+" "," ");Ae=ea(ae),he!==Ae&&this.setAttribute("class",Ae)}}):this):this.attr("class","")},toggleClass:function(D,H){var ae,he,_e,Ee,Ae=typeof D,Je=Ae==="string"||Array.isArray(D);return _(D)?this.each(function(We){d(this).toggleClass(D.call(this,We,ho(this),H),H)}):typeof H=="boolean"&&Je?H?this.addClass(D):this.removeClass(D):(ae=Ca(D),this.each(function(){if(Je)for(Ee=d(this),_e=0;_e<ae.length;_e++)he=ae[_e],Ee.hasClass(he)?Ee.removeClass(he):Ee.addClass(he);else(D===void 0||Ae==="boolean")&&(he=ho(this),he&&Ye.set(this,"__className__",he),this.setAttribute&&this.setAttribute("class",he||D===!1?"":Ye.get(this,"__className__")||""))}))},hasClass:function(D){var H,ae,he=0;for(H=" "+D+" ";ae=this[he++];)if(ae.nodeType===1&&(" "+ea(ho(ae))+" ").indexOf(H)>-1)return!0;return!1}});var Yu=/\r/g;d.fn.extend({val:function(D){var H,ae,he,_e=this[0];return arguments.length?(he=_(D),this.each(function(Ee){var Ae;this.nodeType===1&&(he?Ae=D.call(this,Ee,d(this).val()):Ae=D,Ae==null?Ae="":typeof Ae=="number"?Ae+="":Array.isArray(Ae)&&(Ae=d.map(Ae,function(Je){return Je==null?"":Je+""})),H=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!H||!("set"in H)||H.set(this,Ae,"value")===void 0)&&(this.value=Ae))})):_e?(H=d.valHooks[_e.type]||d.valHooks[_e.nodeName.toLowerCase()],H&&"get"in H&&(ae=H.get(_e,"value"))!==void 0?ae:(ae=_e.value,typeof ae=="string"?ae.replace(Yu,""):ae??"")):void 0}}),d.extend({valHooks:{option:{get:function(D){var H=d.find.attr(D,"value");return H??ea(d.text(D))}},select:{get:function(D){var H,ae,he,_e=D.options,Ee=D.selectedIndex,Ae=D.type==="select-one",Je=Ae?null:[],We=Ae?Ee+1:_e.length;for(Ee<0?he=We:he=Ae?Ee:0;he<We;he++)if(ae=_e[he],(ae.selected||he===Ee)&&!ae.disabled&&(!ae.parentNode.disabled||!O(ae.parentNode,"optgroup"))){if(H=d(ae).val(),Ae)return H;Je.push(H)}return Je},set:function(D,H){for(var ae,he,_e=D.options,Ee=d.makeArray(H),Ae=_e.length;Ae--;)he=_e[Ae],(he.selected=d.inArray(d.valHooks.option.get(he),Ee)>-1)&&(ae=!0);return ae||(D.selectedIndex=-1),Ee}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(D,H){if(Array.isArray(H))return D.checked=d.inArray(d(D).val(),H)>-1}},g.checkOn||(d.valHooks[this].get=function(D){return D.getAttribute("value")===null?"on":D.value})});var _l=t.location,Xu={guid:Date.now()},ou=/\?/;d.parseXML=function(D){var H,ae;if(!D||typeof D!="string")return null;try{H=new t.DOMParser().parseFromString(D,"text/xml")}catch{}return ae=H&&H.getElementsByTagName("parsererror")[0],(!H||ae)&&d.error("Invalid XML: "+(ae?d.map(ae.childNodes,function(he){return he.textContent}).join(`
`):D)),H};var Gc=/^(?:focusinfocus|focusoutblur)$/,Jo=function(D){D.stopPropagation()};d.extend(d.event,{trigger:function(D,H,ae,he){var _e,Ee,Ae,Je,We,it,ht,gt,at=[ae||h],Rt=c.call(D,"type")?D.type:D,zt=c.call(D,"namespace")?D.namespace.split("."):[];if(Ee=gt=Ae=ae=ae||h,!(ae.nodeType===3||ae.nodeType===8)&&!Gc.test(Rt+d.event.triggered)&&(Rt.indexOf(".")>-1&&(zt=Rt.split("."),Rt=zt.shift(),zt.sort()),We=Rt.indexOf(":")<0&&"on"+Rt,D=D[d.expando]?D:new d.Event(Rt,typeof D=="object"&&D),D.isTrigger=he?2:3,D.namespace=zt.join("."),D.rnamespace=D.namespace?new RegExp("(^|\\.)"+zt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,D.result=void 0,D.target||(D.target=ae),H=H==null?[D]:d.makeArray(H,[D]),ht=d.event.special[Rt]||{},!(!he&&ht.trigger&&ht.trigger.apply(ae,H)===!1))){if(!he&&!ht.noBubble&&!v(ae)){for(Je=ht.delegateType||Rt,Gc.test(Je+Rt)||(Ee=Ee.parentNode);Ee;Ee=Ee.parentNode)at.push(Ee),Ae=Ee;Ae===(ae.ownerDocument||h)&&at.push(Ae.defaultView||Ae.parentWindow||t)}for(_e=0;(Ee=at[_e++])&&!D.isPropagationStopped();)gt=Ee,D.type=_e>1?Je:ht.bindType||Rt,it=(Ye.get(Ee,"events")||Object.create(null))[D.type]&&Ye.get(Ee,"handle"),it&&it.apply(Ee,H),it=We&&Ee[We],it&&it.apply&&ut(Ee)&&(D.result=it.apply(Ee,H),D.result===!1&&D.preventDefault());return D.type=Rt,!he&&!D.isDefaultPrevented()&&(!ht._default||ht._default.apply(at.pop(),H)===!1)&&ut(ae)&&We&&_(ae[Rt])&&!v(ae)&&(Ae=ae[We],Ae&&(ae[We]=null),d.event.triggered=Rt,D.isPropagationStopped()&&gt.addEventListener(Rt,Jo),ae[Rt](),D.isPropagationStopped()&&gt.removeEventListener(Rt,Jo),d.event.triggered=void 0,Ae&&(ae[We]=Ae)),D.result}},simulate:function(D,H,ae){var he=d.extend(new d.Event,ae,{type:D,isSimulated:!0});d.event.trigger(he,null,H)}}),d.fn.extend({trigger:function(D,H){return this.each(function(){d.event.trigger(D,H,this)})},triggerHandler:function(D,H){var ae=this[0];if(ae)return d.event.trigger(D,H,ae,!0)}});var Kc=/\[\]$/,Qu=/\r?\n/g,ta=/^(?:submit|button|image|reset|file)$/i,El=/^(?:input|select|textarea|keygen)/i;function Jc(D,H,ae,he){var _e;if(Array.isArray(H))d.each(H,function(Ee,Ae){ae||Kc.test(D)?he(D,Ae):Jc(D+"["+(typeof Ae=="object"&&Ae!=null?Ee:"")+"]",Ae,ae,he)});else if(!ae&&S(H)==="object")for(_e in H)Jc(D+"["+_e+"]",H[_e],ae,he);else he(D,H)}d.param=function(D,H){var ae,he=[],_e=function(Ee,Ae){var Je=_(Ae)?Ae():Ae;he[he.length]=encodeURIComponent(Ee)+"="+encodeURIComponent(Je??"")};if(D==null)return"";if(Array.isArray(D)||D.jquery&&!d.isPlainObject(D))d.each(D,function(){_e(this.name,this.value)});else for(ae in D)Jc(ae,D[ae],H,_e);return he.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var D=d.prop(this,"elements");return D?d.makeArray(D):this}).filter(function(){var D=this.type;return this.name&&!d(this).is(":disabled")&&El.test(this.nodeName)&&!ta.test(D)&&(this.checked||!Rr.test(D))}).map(function(D,H){var ae=d(this).val();return ae==null?null:Array.isArray(ae)?d.map(ae,function(he){return{name:H.name,value:he.replace(Qu,`\r
`)}}):{name:H.name,value:ae.replace(Qu,`\r
`)}}).get()}});var Eg=/%20/g,Yc=/#.*$/,dp=/([?&])_=[^&]*/,hp=/^(.*?):[ \t]*([^\r\n]*)$/mg,pp=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,su=/^(?:GET|HEAD)$/,Rd=/^\/\//,$n={},fn={},Nd="*/".concat("*"),au=h.createElement("a");au.href=_l.href;function lu(D){return function(H,ae){typeof H!="string"&&(ae=H,H="*");var he,_e=0,Ee=H.toLowerCase().match(we)||[];if(_(ae))for(;he=Ee[_e++];)he[0]==="+"?(he=he.slice(1)||"*",(D[he]=D[he]||[]).unshift(ae)):(D[he]=D[he]||[]).push(ae)}}function Xc(D,H,ae,he){var _e={},Ee=D===fn;function Ae(Je){var We;return _e[Je]=!0,d.each(D[Je]||[],function(it,ht){var gt=ht(H,ae,he);if(typeof gt=="string"&&!Ee&&!_e[gt])return H.dataTypes.unshift(gt),Ae(gt),!1;if(Ee)return!(We=gt)}),We}return Ae(H.dataTypes[0])||!_e["*"]&&Ae("*")}function Qc(D,H){var ae,he,_e=d.ajaxSettings.flatOptions||{};for(ae in H)H[ae]!==void 0&&((_e[ae]?D:he||(he={}))[ae]=H[ae]);return he&&d.extend(!0,D,he),D}function Zc(D,H,ae){for(var he,_e,Ee,Ae,Je=D.contents,We=D.dataTypes;We[0]==="*";)We.shift(),he===void 0&&(he=D.mimeType||H.getResponseHeader("Content-Type"));if(he){for(_e in Je)if(Je[_e]&&Je[_e].test(he)){We.unshift(_e);break}}if(We[0]in ae)Ee=We[0];else{for(_e in ae){if(!We[0]||D.converters[_e+" "+We[0]]){Ee=_e;break}Ae||(Ae=_e)}Ee=Ee||Ae}if(Ee)return Ee!==We[0]&&We.unshift(Ee),ae[Ee]}function ef(D,H,ae,he){var _e,Ee,Ae,Je,We,it={},ht=D.dataTypes.slice();if(ht[1])for(Ae in D.converters)it[Ae.toLowerCase()]=D.converters[Ae];for(Ee=ht.shift();Ee;)if(D.responseFields[Ee]&&(ae[D.responseFields[Ee]]=H),!We&&he&&D.dataFilter&&(H=D.dataFilter(H,D.dataType)),We=Ee,Ee=ht.shift(),Ee){if(Ee==="*")Ee=We;else if(We!=="*"&&We!==Ee){if(Ae=it[We+" "+Ee]||it["* "+Ee],!Ae){for(_e in it)if(Je=_e.split(" "),Je[1]===Ee&&(Ae=it[We+" "+Je[0]]||it["* "+Je[0]],Ae)){Ae===!0?Ae=it[_e]:it[_e]!==!0&&(Ee=Je[0],ht.unshift(Je[1]));break}}if(Ae!==!0)if(Ae&&D.throws)H=Ae(H);else try{H=Ae(H)}catch(gt){return{state:"parsererror",error:Ae?gt:"No conversion from "+We+" to "+Ee}}}}return{state:"success",data:H}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_l.href,type:"GET",isLocal:pp.test(_l.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(D,H){return H?Qc(Qc(D,d.ajaxSettings),H):Qc(d.ajaxSettings,D)},ajaxPrefilter:lu($n),ajaxTransport:lu(fn),ajax:function(D,H){typeof D=="object"&&(H=D,D=void 0),H=H||{};var ae,he,_e,Ee,Ae,Je,We,it,ht,gt,at=d.ajaxSetup({},H),Rt=at.context||at,zt=at.context&&(Rt.nodeType||Rt.jquery)?d(Rt):d.event,br=d.Deferred(),pr=d.Callbacks("once memory"),wi=at.statusCode||{},Bn={},xs={},As="canceled",jr={readyState:0,getResponseHeader:function(Dr){var xn;if(We){if(!Ee)for(Ee={};xn=hp.exec(_e);)Ee[xn[1].toLowerCase()+" "]=(Ee[xn[1].toLowerCase()+" "]||[]).concat(xn[2]);xn=Ee[Dr.toLowerCase()+" "]}return xn==null?null:xn.join(", ")},getAllResponseHeaders:function(){return We?_e:null},setRequestHeader:function(Dr,xn){return We==null&&(Dr=xs[Dr.toLowerCase()]=xs[Dr.toLowerCase()]||Dr,Bn[Dr]=xn),this},overrideMimeType:function(Dr){return We==null&&(at.mimeType=Dr),this},statusCode:function(Dr){var xn;if(Dr)if(We)jr.always(Dr[jr.status]);else for(xn in Dr)wi[xn]=[wi[xn],Dr[xn]];return this},abort:function(Dr){var xn=Dr||As;return ae&&ae.abort(xn),ka(0,xn),this}};if(br.promise(jr),at.url=((D||at.url||_l.href)+"").replace(Rd,_l.protocol+"//"),at.type=H.method||H.type||at.method||at.type,at.dataTypes=(at.dataType||"*").toLowerCase().match(we)||[""],at.crossDomain==null){Je=h.createElement("a");try{Je.href=at.url,Je.href=Je.href,at.crossDomain=au.protocol+"//"+au.host!=Je.protocol+"//"+Je.host}catch{at.crossDomain=!0}}if(at.data&&at.processData&&typeof at.data!="string"&&(at.data=d.param(at.data,at.traditional)),Xc($n,at,H,jr),We)return jr;it=d.event&&at.global,it&&d.active++===0&&d.event.trigger("ajaxStart"),at.type=at.type.toUpperCase(),at.hasContent=!su.test(at.type),he=at.url.replace(Yc,""),at.hasContent?at.data&&at.processData&&(at.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(at.data=at.data.replace(Eg,"+")):(gt=at.url.slice(he.length),at.data&&(at.processData||typeof at.data=="string")&&(he+=(ou.test(he)?"&":"?")+at.data,delete at.data),at.cache===!1&&(he=he.replace(dp,"$1"),gt=(ou.test(he)?"&":"?")+"_="+Xu.guid+++gt),at.url=he+gt),at.ifModified&&(d.lastModified[he]&&jr.setRequestHeader("If-Modified-Since",d.lastModified[he]),d.etag[he]&&jr.setRequestHeader("If-None-Match",d.etag[he])),(at.data&&at.hasContent&&at.contentType!==!1||H.contentType)&&jr.setRequestHeader("Content-Type",at.contentType),jr.setRequestHeader("Accept",at.dataTypes[0]&&at.accepts[at.dataTypes[0]]?at.accepts[at.dataTypes[0]]+(at.dataTypes[0]!=="*"?", "+Nd+"; q=0.01":""):at.accepts["*"]);for(ht in at.headers)jr.setRequestHeader(ht,at.headers[ht]);if(at.beforeSend&&(at.beforeSend.call(Rt,jr,at)===!1||We))return jr.abort();if(As="abort",pr.add(at.complete),jr.done(at.success),jr.fail(at.error),ae=Xc(fn,at,H,jr),!ae)ka(-1,"No Transport");else{if(jr.readyState=1,it&&zt.trigger("ajaxSend",[jr,at]),We)return jr;at.async&&at.timeout>0&&(Ae=t.setTimeout(function(){jr.abort("timeout")},at.timeout));try{We=!1,ae.send(Bn,ka)}catch(Dr){if(We)throw Dr;ka(-1,Dr)}}function ka(Dr,xn,uu,di){var Vi,ja,to,ki,Hi,Un=xn;We||(We=!0,Ae&&t.clearTimeout(Ae),ae=void 0,_e=di||"",jr.readyState=Dr>0?4:0,Vi=Dr>=200&&Dr<300||Dr===304,uu&&(ki=Zc(at,jr,uu)),!Vi&&d.inArray("script",at.dataTypes)>-1&&d.inArray("json",at.dataTypes)<0&&(at.converters["text script"]=function(){}),ki=ef(at,ki,jr,Vi),Vi?(at.ifModified&&(Hi=jr.getResponseHeader("Last-Modified"),Hi&&(d.lastModified[he]=Hi),Hi=jr.getResponseHeader("etag"),Hi&&(d.etag[he]=Hi)),Dr===204||at.type==="HEAD"?Un="nocontent":Dr===304?Un="notmodified":(Un=ki.state,ja=ki.data,to=ki.error,Vi=!to)):(to=Un,(Dr||!Un)&&(Un="error",Dr<0&&(Dr=0))),jr.status=Dr,jr.statusText=(xn||Un)+"",Vi?br.resolveWith(Rt,[ja,Un,jr]):br.rejectWith(Rt,[jr,Un,to]),jr.statusCode(wi),wi=void 0,it&&zt.trigger(Vi?"ajaxSuccess":"ajaxError",[jr,at,Vi?ja:to]),pr.fireWith(Rt,[jr,Un]),it&&(zt.trigger("ajaxComplete",[jr,at]),--d.active||d.event.trigger("ajaxStop")))}return jr},getJSON:function(D,H,ae){return d.get(D,H,ae,"json")},getScript:function(D,H){return d.get(D,void 0,H,"script")}}),d.each(["get","post"],function(D,H){d[H]=function(ae,he,_e,Ee){return _(he)&&(Ee=Ee||_e,_e=he,he=void 0),d.ajax(d.extend({url:ae,type:H,dataType:Ee,data:he,success:_e},d.isPlainObject(ae)&&ae))}}),d.ajaxPrefilter(function(D){var H;for(H in D.headers)H.toLowerCase()==="content-type"&&(D.contentType=D.headers[H]||"")}),d._evalUrl=function(D,H,ae){return d.ajax({url:D,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(he){d.globalEval(he,H,ae)}})},d.fn.extend({wrapAll:function(D){var H;return this[0]&&(_(D)&&(D=D.call(this[0])),H=d(D,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&H.insertBefore(this[0]),H.map(function(){for(var ae=this;ae.firstElementChild;)ae=ae.firstElementChild;return ae}).append(this)),this},wrapInner:function(D){return _(D)?this.each(function(H){d(this).wrapInner(D.call(this,H))}):this.each(function(){var H=d(this),ae=H.contents();ae.length?ae.wrapAll(D):H.append(D)})},wrap:function(D){var H=_(D);return this.each(function(ae){d(this).wrapAll(H?D.call(this,ae):D)})},unwrap:function(D){return this.parent(D).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(D){return!d.expr.pseudos.visible(D)},d.expr.pseudos.visible=function(D){return!!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Sl={0:200,1223:204},Dn=d.ajaxSettings.xhr();g.cors=!!Dn&&"withCredentials"in Dn,g.ajax=Dn=!!Dn,d.ajaxTransport(function(D){var H,ae;if(g.cors||Dn&&!D.crossDomain)return{send:function(he,_e){var Ee,Ae=D.xhr();if(Ae.open(D.type,D.url,D.async,D.username,D.password),D.xhrFields)for(Ee in D.xhrFields)Ae[Ee]=D.xhrFields[Ee];D.mimeType&&Ae.overrideMimeType&&Ae.overrideMimeType(D.mimeType),!D.crossDomain&&!he["X-Requested-With"]&&(he["X-Requested-With"]="XMLHttpRequest");for(Ee in he)Ae.setRequestHeader(Ee,he[Ee]);H=function(Je){return function(){H&&(H=ae=Ae.onload=Ae.onerror=Ae.onabort=Ae.ontimeout=Ae.onreadystatechange=null,Je==="abort"?Ae.abort():Je==="error"?typeof Ae.status!="number"?_e(0,"error"):_e(Ae.status,Ae.statusText):_e(Sl[Ae.status]||Ae.status,Ae.statusText,(Ae.responseType||"text")!=="text"||typeof Ae.responseText!="string"?{binary:Ae.response}:{text:Ae.responseText},Ae.getAllResponseHeaders()))}},Ae.onload=H(),ae=Ae.onerror=Ae.ontimeout=H("error"),Ae.onabort!==void 0?Ae.onabort=ae:Ae.onreadystatechange=function(){Ae.readyState===4&&t.setTimeout(function(){H&&ae()})},H=H("abort");try{Ae.send(D.hasContent&&D.data||null)}catch(Je){if(H)throw Je}},abort:function(){H&&H()}}}),d.ajaxPrefilter(function(D){D.crossDomain&&(D.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(D){return d.globalEval(D),D}}}),d.ajaxPrefilter("script",function(D){D.cache===void 0&&(D.cache=!1),D.crossDomain&&(D.type="GET")}),d.ajaxTransport("script",function(D){if(D.crossDomain||D.scriptAttrs){var H,ae;return{send:function(he,_e){H=d("<script>").attr(D.scriptAttrs||{}).prop({charset:D.scriptCharset,src:D.url}).on("load error",ae=function(Ee){H.remove(),ae=null,Ee&&_e(Ee.type==="error"?404:200,Ee.type)}),h.head.appendChild(H[0])},abort:function(){ae&&ae()}}}});var Tl=[],$s=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var D=Tl.pop()||d.expando+"_"+Xu.guid++;return this[D]=!0,D}}),d.ajaxPrefilter("json jsonp",function(D,H,ae){var he,_e,Ee,Ae=D.jsonp!==!1&&($s.test(D.url)?"url":typeof D.data=="string"&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&$s.test(D.data)&&"data");if(Ae||D.dataTypes[0]==="jsonp")return he=D.jsonpCallback=_(D.jsonpCallback)?D.jsonpCallback():D.jsonpCallback,Ae?D[Ae]=D[Ae].replace($s,"$1"+he):D.jsonp!==!1&&(D.url+=(ou.test(D.url)?"&":"?")+D.jsonp+"="+he),D.converters["script json"]=function(){return Ee||d.error(he+" was not called"),Ee[0]},D.dataTypes[0]="json",_e=t[he],t[he]=function(){Ee=arguments},ae.always(function(){_e===void 0?d(t).removeProp(he):t[he]=_e,D[he]&&(D.jsonpCallback=H.jsonpCallback,Tl.push(he)),Ee&&_(_e)&&_e(Ee[0]),Ee=_e=void 0}),"script"}),g.createHTMLDocument=function(){var D=h.implementation.createHTMLDocument("").body;return D.innerHTML="<form></form><form></form>",D.childNodes.length===2}(),d.parseHTML=function(D,H,ae){if(typeof D!="string")return[];typeof H=="boolean"&&(ae=H,H=!1);var he,_e,Ee;return H||(g.createHTMLDocument?(H=h.implementation.createHTMLDocument(""),he=H.createElement("base"),he.href=h.location.href,H.head.appendChild(he)):H=h),_e=J.exec(D),Ee=!ae&&[],_e?[H.createElement(_e[1])]:(_e=ft([D],H,Ee),Ee&&Ee.length&&d(Ee).remove(),d.merge([],_e.childNodes))},d.fn.load=function(D,H,ae){var he,_e,Ee,Ae=this,Je=D.indexOf(" ");return Je>-1&&(he=ea(D.slice(Je)),D=D.slice(0,Je)),_(H)?(ae=H,H=void 0):H&&typeof H=="object"&&(_e="POST"),Ae.length>0&&d.ajax({url:D,type:_e||"GET",dataType:"html",data:H}).done(function(We){Ee=arguments,Ae.html(he?d("<div>").append(d.parseHTML(We)).find(he):We)}).always(ae&&function(We,it){Ae.each(function(){ae.apply(this,Ee||[We.responseText,it,We])})}),this},d.expr.pseudos.animated=function(D){return d.grep(d.timers,function(H){return D===H.elem}).length},d.offset={setOffset:function(D,H,ae){var he,_e,Ee,Ae,Je,We,it,ht=d.css(D,"position"),gt=d(D),at={};ht==="static"&&(D.style.position="relative"),Je=gt.offset(),Ee=d.css(D,"top"),We=d.css(D,"left"),it=(ht==="absolute"||ht==="fixed")&&(Ee+We).indexOf("auto")>-1,it?(he=gt.position(),Ae=he.top,_e=he.left):(Ae=parseFloat(Ee)||0,_e=parseFloat(We)||0),_(H)&&(H=H.call(D,ae,d.extend({},Je))),H.top!=null&&(at.top=H.top-Je.top+Ae),H.left!=null&&(at.left=H.left-Je.left+_e),"using"in H?H.using.call(D,at):gt.css(at)}},d.fn.extend({offset:function(D){if(arguments.length)return D===void 0?this:this.each(function(_e){d.offset.setOffset(this,D,_e)});var H,ae,he=this[0];if(he)return he.getClientRects().length?(H=he.getBoundingClientRect(),ae=he.ownerDocument.defaultView,{top:H.top+ae.pageYOffset,left:H.left+ae.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var D,H,ae,he=this[0],_e={top:0,left:0};if(d.css(he,"position")==="fixed")H=he.getBoundingClientRect();else{for(H=this.offset(),ae=he.ownerDocument,D=he.offsetParent||ae.documentElement;D&&(D===ae.body||D===ae.documentElement)&&d.css(D,"position")==="static";)D=D.parentNode;D&&D!==he&&D.nodeType===1&&(_e=d(D).offset(),_e.top+=d.css(D,"borderTopWidth",!0),_e.left+=d.css(D,"borderLeftWidth",!0))}return{top:H.top-_e.top-d.css(he,"marginTop",!0),left:H.left-_e.left-d.css(he,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var D=this.offsetParent;D&&d.css(D,"position")==="static";)D=D.offsetParent;return D||Xe})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(D,H){var ae=H==="pageYOffset";d.fn[D]=function(he){return ve(this,function(_e,Ee,Ae){var Je;if(v(_e)?Je=_e:_e.nodeType===9&&(Je=_e.defaultView),Ae===void 0)return Je?Je[H]:_e[Ee];Je?Je.scrollTo(ae?Je.pageXOffset:Ae,ae?Ae:Je.pageYOffset):_e[Ee]=Ae},D,he,arguments.length)}}),d.each(["top","left"],function(D,H){d.cssHooks[H]=Fr(g.pixelPosition,function(ae,he){if(he)return he=Ut(ae,H),qt.test(he)?d(ae).position()[H]+"px":he})}),d.each({Height:"height",Width:"width"},function(D,H){d.each({padding:"inner"+D,content:H,"":"outer"+D},function(ae,he){d.fn[he]=function(_e,Ee){var Ae=arguments.length&&(ae||typeof _e!="boolean"),Je=ae||(_e===!0||Ee===!0?"margin":"border");return ve(this,function(We,it,ht){var gt;return v(We)?he.indexOf("outer")===0?We["inner"+D]:We.document.documentElement["client"+D]:We.nodeType===9?(gt=We.documentElement,Math.max(We.body["scroll"+D],gt["scroll"+D],We.body["offset"+D],gt["offset"+D],gt["client"+D])):ht===void 0?d.css(We,it,Je):d.style(We,it,ht,Je)},H,Ae?_e:void 0,Ae)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(D,H){d.fn[H]=function(ae){return this.on(H,ae)}}),d.fn.extend({bind:function(D,H,ae){return this.on(D,null,H,ae)},unbind:function(D,H){return this.off(D,null,H)},delegate:function(D,H,ae,he){return this.on(H,D,ae,he)},undelegate:function(D,H,ae){return arguments.length===1?this.off(D,"**"):this.off(H,D||"**",ae)},hover:function(D,H){return this.on("mouseenter",D).on("mouseleave",H||D)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(D,H){d.fn[H]=function(ae,he){return arguments.length>0?this.on(H,null,ae,he):this.trigger(H)}});var tf=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(D,H){var ae,he,_e;if(typeof H=="string"&&(ae=D[H],H=D,D=ae),!!_(D))return he=o.call(arguments,2),_e=function(){return D.apply(H||this,he.concat(o.call(arguments)))},_e.guid=D.guid=D.guid||d.guid++,_e},d.holdReady=function(D){D?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=O,d.isFunction=_,d.isWindow=v,d.camelCase=Ve,d.type=S,d.now=Date.now,d.isNumeric=function(D){var H=d.type(D);return(H==="number"||H==="string")&&!isNaN(D-parseFloat(D))},d.trim=function(D){return D==null?"":(D+"").replace(tf,"$1")};var rf=t.jQuery,qi=t.$;return d.noConflict=function(D){return t.$===d&&(t.$=qi),D&&t.jQuery===d&&(t.jQuery=rf),d},typeof r>"u"&&(t.jQuery=t.$=d),d})})(eX);var tX=eX.exports;const wn=Wu(tX);(function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof uo=="object"&&uo.global===uo&&uo;{var n=w0e,i;try{i=tX}catch{}t(r,e,n,i)}})(function(t,r,n,i){var o=t.Backbone,s=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=o,this},r.emulateHTTP=!1,r.emulateJSON=!1;var a=r.Events={},l=/\s+/,u,f=function(M,Z,ue,de,ve){var Se=0,Fe;if(ue&&typeof ue=="object")for(de!==void 0&&("context"in ve)&&ve.context===void 0&&(ve.context=de),Fe=n.keys(ue);Se<Fe.length;Se++)Z=f(M,Z,Fe[Se],ue[Fe[Se]],ve);else if(ue&&l.test(ue))for(Fe=ue.split(l);Se<Fe.length;Se++)Z=M(Z,Fe[Se],de,ve);else Z=M(Z,ue,de,ve);return Z};a.on=function(M,Z,ue){if(this._events=f(c,this._events||{},M,Z,{context:ue,ctx:this,listening:u}),u){var de=this._listeners||(this._listeners={});de[u.id]=u,u.interop=!1}return this},a.listenTo=function(M,Z,ue){if(!M)return this;var de=M._listenId||(M._listenId=n.uniqueId("l")),ve=this._listeningTo||(this._listeningTo={}),Se=u=ve[de];Se||(this._listenId||(this._listenId=n.uniqueId("l")),Se=u=ve[de]=new h(this,M));var Fe=p(M,Z,ue,this);if(u=void 0,Fe)throw Fe;return Se.interop&&Se.on(Z,ue),this};var c=function(M,Z,ue,de){if(ue){var ve=M[Z]||(M[Z]=[]),Se=de.context,Fe=de.ctx,He=de.listening;He&&He.count++,ve.push({callback:ue,context:Se,ctx:Se||Fe,listening:He})}return M},p=function(M,Z,ue,de){try{M.on(Z,ue,de)}catch(ve){return ve}};a.off=function(M,Z,ue){return this._events?(this._events=f(m,this._events,M,Z,{context:ue,listeners:this._listeners}),this):this},a.stopListening=function(M,Z,ue){var de=this._listeningTo;if(!de)return this;for(var ve=M?[M._listenId]:n.keys(de),Se=0;Se<ve.length;Se++){var Fe=de[ve[Se]];if(!Fe)break;Fe.obj.off(Z,ue,this),Fe.interop&&Fe.off(Z,ue)}return n.isEmpty(de)&&(this._listeningTo=void 0),this};var m=function(M,Z,ue,de){if(M){var ve=de.context,Se=de.listeners,Fe=0,He;if(!Z&&!ve&&!ue){for(He=n.keys(Se);Fe<He.length;Fe++)Se[He[Fe]].cleanup();return}for(He=Z?[Z]:n.keys(M);Fe<He.length;Fe++){Z=He[Fe];var Ve=M[Z];if(!Ve)break;for(var ut=[],Qe=0;Qe<Ve.length;Qe++){var Ye=Ve[Qe];if(ue&&ue!==Ye.callback&&ue!==Ye.callback._callback||ve&&ve!==Ye.context)ut.push(Ye);else{var te=Ye.listening;te&&te.off(Z,ue)}}ut.length?M[Z]=ut:delete M[Z]}return M}};a.once=function(M,Z,ue){var de=f(g,{},M,Z,this.off.bind(this));return typeof M=="string"&&ue==null&&(Z=void 0),this.on(de,Z,ue)},a.listenToOnce=function(M,Z,ue){var de=f(g,{},Z,ue,this.stopListening.bind(this,M));return this.listenTo(M,de)};var g=function(M,Z,ue,de){if(ue){var ve=M[Z]=n.once(function(){de(Z,ve),ue.apply(this,arguments)});ve._callback=ue}return M};a.trigger=function(M){if(!this._events)return this;for(var Z=Math.max(0,arguments.length-1),ue=Array(Z),de=0;de<Z;de++)ue[de]=arguments[de+1];return f(_,this._events,M,void 0,ue),this};var _=function(M,Z,ue,de){if(M){var ve=M[Z],Se=M.all;ve&&Se&&(Se=Se.slice()),ve&&v(ve,de),Se&&v(Se,[Z].concat(de))}return M},v=function(M,Z){var ue,de=-1,ve=M.length,Se=Z[0],Fe=Z[1],He=Z[2];switch(Z.length){case 0:for(;++de<ve;)(ue=M[de]).callback.call(ue.ctx);return;case 1:for(;++de<ve;)(ue=M[de]).callback.call(ue.ctx,Se);return;case 2:for(;++de<ve;)(ue=M[de]).callback.call(ue.ctx,Se,Fe);return;case 3:for(;++de<ve;)(ue=M[de]).callback.call(ue.ctx,Se,Fe,He);return;default:for(;++de<ve;)(ue=M[de]).callback.apply(ue.ctx,Z);return}},h=function(M,Z){this.id=M._listenId,this.listener=M,this.obj=Z,this.interop=!0,this.count=0,this._events=void 0};h.prototype.on=a.on,h.prototype.off=function(M,Z){var ue;this.interop?(this._events=f(m,this._events,M,Z,{context:void 0,listeners:void 0}),ue=!this._events):(this.count--,ue=this.count===0),ue&&this.cleanup()},h.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(r,a);var E=r.Model=function(M,Z){var ue=M||{};Z||(Z={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},Z.collection&&(this.collection=Z.collection),Z.parse&&(ue=this.parse(ue,Z)||{});var de=n.result(this,"defaults");ue=n.defaults(n.extend({},de,ue),de),this.set(ue,Z),this.changed={},this.initialize.apply(this,arguments)};n.extend(E.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(M){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return n.escape(this.get(M))},has:function(M){return this.get(M)!=null},matches:function(M){return!!n.iteratee(M,this)(this.attributes)},set:function(M,Z,ue){if(M==null)return this;var de;if(typeof M=="object"?(de=M,ue=Z):(de={})[M]=Z,ue||(ue={}),!this._validate(de,ue))return!1;var ve=ue.unset,Se=ue.silent,Fe=[],He=this._changing;this._changing=!0,He||(this._previousAttributes=n.clone(this.attributes),this.changed={});var Ve=this.attributes,ut=this.changed,Qe=this._previousAttributes;for(var Ye in de)Z=de[Ye],n.isEqual(Ve[Ye],Z)||Fe.push(Ye),n.isEqual(Qe[Ye],Z)?delete ut[Ye]:ut[Ye]=Z,ve?delete Ve[Ye]:Ve[Ye]=Z;if(this.idAttribute in de){var te=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,te,ue)}if(!Se){Fe.length&&(this._pending=ue);for(var j=0;j<Fe.length;j++)this.trigger("change:"+Fe[j],this,Ve[Fe[j]],ue)}if(He)return this;if(!Se)for(;this._pending;)ue=this._pending,this._pending=!1,this.trigger("change",this,ue);return this._pending=!1,this._changing=!1,this},unset:function(M,Z){return this.set(M,void 0,n.extend({},Z,{unset:!0}))},clear:function(M){var Z={};for(var ue in this.attributes)Z[ue]=void 0;return this.set(Z,n.extend({},M,{unset:!0}))},hasChanged:function(M){return M==null?!n.isEmpty(this.changed):n.has(this.changed,M)},changedAttributes:function(M){if(!M)return this.hasChanged()?n.clone(this.changed):!1;var Z=this._changing?this._previousAttributes:this.attributes,ue={},de;for(var ve in M){var Se=M[ve];n.isEqual(Z[ve],Se)||(ue[ve]=Se,de=!0)}return de?ue:!1},previous:function(M){return M==null||!this._previousAttributes?null:this._previousAttributes[M]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(M){M=n.extend({parse:!0},M);var Z=this,ue=M.success;return M.success=function(de){var ve=M.parse?Z.parse(de,M):de;if(!Z.set(ve,M))return!1;ue&&ue.call(M.context,Z,de,M),Z.trigger("sync",Z,de,M)},L(this,M),this.sync("read",this,M)},save:function(M,Z,ue){var de;M==null||typeof M=="object"?(de=M,ue=Z):(de={})[M]=Z,ue=n.extend({validate:!0,parse:!0},ue);var ve=ue.wait;if(de&&!ve){if(!this.set(de,ue))return!1}else if(!this._validate(de,ue))return!1;var Se=this,Fe=ue.success,He=this.attributes;ue.success=function(Qe){Se.attributes=He;var Ye=ue.parse?Se.parse(Qe,ue):Qe;if(ve&&(Ye=n.extend({},de,Ye)),Ye&&!Se.set(Ye,ue))return!1;Fe&&Fe.call(ue.context,Se,Qe,ue),Se.trigger("sync",Se,Qe,ue)},L(this,ue),de&&ve&&(this.attributes=n.extend({},He,de));var Ve=this.isNew()?"create":ue.patch?"patch":"update";Ve==="patch"&&!ue.attrs&&(ue.attrs=de);var ut=this.sync(Ve,this,ue);return this.attributes=He,ut},destroy:function(M){M=M?n.clone(M):{};var Z=this,ue=M.success,de=M.wait,ve=function(){Z.stopListening(),Z.trigger("destroy",Z,Z.collection,M)};M.success=function(Fe){de&&ve(),ue&&ue.call(M.context,Z,Fe,M),Z.isNew()||Z.trigger("sync",Z,Fe,M)};var Se=!1;return this.isNew()?n.defer(M.success):(L(this,M),Se=this.sync("delete",this,M)),de||ve(),Se},url:function(){var M=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();if(this.isNew())return M;var Z=this.get(this.idAttribute);return M.replace(/[^\/]$/,"$&/")+encodeURIComponent(Z)},parse:function(M,Z){return M},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(M){return this._validate({},n.extend({},M,{validate:!0}))},_validate:function(M,Z){if(!Z.validate||!this.validate)return!0;M=n.extend({},this.attributes,M);var ue=this.validationError=this.validate(M,Z)||null;return ue?(this.trigger("invalid",this,ue,n.extend(Z,{validationError:ue})),!1):!0}});var y=r.Collection=function(M,Z){Z||(Z={}),this.preinitialize.apply(this,arguments),Z.model&&(this.model=Z.model),Z.comparator!==void 0&&(this.comparator=Z.comparator),this._reset(),this.initialize.apply(this,arguments),M&&this.reset(M,n.extend({silent:!0},Z))},S={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},x=function(M,Z,ue){ue=Math.min(Math.max(ue,0),M.length);var de=Array(M.length-ue),ve=Z.length,Se;for(Se=0;Se<de.length;Se++)de[Se]=M[Se+ue];for(Se=0;Se<ve;Se++)M[Se+ue]=Z[Se];for(Se=0;Se<de.length;Se++)M[Se+ve+ue]=de[Se]};n.extend(y.prototype,a,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(M){return this.map(function(Z){return Z.toJSON(M)})},sync:function(){return r.sync.apply(this,arguments)},add:function(M,Z){return this.set(M,n.extend({merge:!1},Z,T))},remove:function(M,Z){Z=n.extend({},Z);var ue=!n.isArray(M);M=ue?[M]:M.slice();var de=this._removeModels(M,Z);return!Z.silent&&de.length&&(Z.changes={added:[],merged:[],removed:de},this.trigger("update",this,Z)),ue?de[0]:de},set:function(M,Z){if(M!=null){Z=n.extend({},S,Z),Z.parse&&!this._isModel(M)&&(M=this.parse(M,Z)||[]);var ue=!n.isArray(M);M=ue?[M]:M.slice();var de=Z.at;de!=null&&(de=+de),de>this.length&&(de=this.length),de<0&&(de+=this.length+1);var ve=[],Se=[],Fe=[],He=[],Ve={},ut=Z.add,Qe=Z.merge,Ye=Z.remove,te=!1,j=this.comparator&&de==null&&Z.sort!==!1,U=n.isString(this.comparator)?this.comparator:null,ce,Te;for(Te=0;Te<M.length;Te++){ce=M[Te];var Re=this.get(ce);if(Re){if(Qe&&ce!==Re){var ze=this._isModel(ce)?ce.attributes:ce;Z.parse&&(ze=Re.parse(ze,Z)),Re.set(ze,Z),Fe.push(Re),j&&!te&&(te=Re.hasChanged(U))}Ve[Re.cid]||(Ve[Re.cid]=!0,ve.push(Re)),M[Te]=Re}else ut&&(ce=M[Te]=this._prepareModel(ce,Z),ce&&(Se.push(ce),this._addReference(ce,Z),Ve[ce.cid]=!0,ve.push(ce)))}if(Ye){for(Te=0;Te<this.length;Te++)ce=this.models[Te],Ve[ce.cid]||He.push(ce);He.length&&this._removeModels(He,Z)}var Be=!1,Xe=!j&&ut&&Ye;if(ve.length&&Xe?(Be=this.length!==ve.length||n.some(this.models,function(vt,St){return vt!==ve[St]}),this.models.length=0,x(this.models,ve,0),this.length=this.models.length):Se.length&&(j&&(te=!0),x(this.models,Se,de??this.length),this.length=this.models.length),te&&this.sort({silent:!0}),!Z.silent){for(Te=0;Te<Se.length;Te++)de!=null&&(Z.index=de+Te),ce=Se[Te],ce.trigger("add",ce,this,Z);(te||Be)&&this.trigger("sort",this,Z),(Se.length||He.length||Fe.length)&&(Z.changes={added:Se,removed:He,merged:Fe},this.trigger("update",this,Z))}return ue?M[0]:M}},reset:function(M,Z){Z=Z?n.clone(Z):{};for(var ue=0;ue<this.models.length;ue++)this._removeReference(this.models[ue],Z);return Z.previousModels=this.models,this._reset(),M=this.add(M,n.extend({silent:!0},Z)),Z.silent||this.trigger("reset",this,Z),M},push:function(M,Z){return this.add(M,n.extend({at:this.length},Z))},pop:function(M){var Z=this.at(this.length-1);return this.remove(Z,M)},unshift:function(M,Z){return this.add(M,n.extend({at:0},Z))},shift:function(M){var Z=this.at(0);return this.remove(Z,M)},slice:function(){return s.apply(this.models,arguments)},get:function(M){if(M!=null)return this._byId[M]||this._byId[this.modelId(this._isModel(M)?M.attributes:M,M.idAttribute)]||M.cid&&this._byId[M.cid]},has:function(M){return this.get(M)!=null},at:function(M){return M<0&&(M+=this.length),this.models[M]},where:function(M,Z){return this[Z?"find":"filter"](M)},findWhere:function(M){return this.where(M,!0)},sort:function(M){var Z=this.comparator;if(!Z)throw new Error("Cannot sort a set without a comparator");M||(M={});var ue=Z.length;return n.isFunction(Z)&&(Z=Z.bind(this)),ue===1||n.isString(Z)?this.models=this.sortBy(Z):this.models.sort(Z),M.silent||this.trigger("sort",this,M),this},pluck:function(M){return this.map(M+"")},fetch:function(M){M=n.extend({parse:!0},M);var Z=M.success,ue=this;return M.success=function(de){var ve=M.reset?"reset":"set";ue[ve](de,M),Z&&Z.call(M.context,ue,de,M),ue.trigger("sync",ue,de,M)},L(this,M),this.sync("read",this,M)},create:function(M,Z){Z=Z?n.clone(Z):{};var ue=Z.wait;if(M=this._prepareModel(M,Z),!M)return!1;ue||this.add(M,Z);var de=this,ve=Z.success;return Z.success=function(Se,Fe,He){ue&&de.add(Se,He),ve&&ve.call(He.context,Se,Fe,He)},M.save(null,Z),M},parse:function(M,Z){return M},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(M,Z){return M[Z||this.model.prototype.idAttribute||"id"]},values:function(){return new $(this,O)},keys:function(){return new $(this,P)},entries:function(){return new $(this,k)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(M,Z){if(this._isModel(M))return M.collection||(M.collection=this),M;Z=Z?n.clone(Z):{},Z.collection=this;var ue;return this.model.prototype?ue=new this.model(M,Z):ue=this.model(M,Z),ue.validationError?(this.trigger("invalid",this,ue.validationError,Z),!1):ue},_removeModels:function(M,Z){for(var ue=[],de=0;de<M.length;de++){var ve=this.get(M[de]);if(ve){var Se=this.indexOf(ve);this.models.splice(Se,1),this.length--,delete this._byId[ve.cid];var Fe=this.modelId(ve.attributes,ve.idAttribute);Fe!=null&&delete this._byId[Fe],Z.silent||(Z.index=Se,ve.trigger("remove",ve,this,Z)),ue.push(ve),this._removeReference(ve,Z)}}return ue},_isModel:function(M){return M instanceof E},_addReference:function(M,Z){this._byId[M.cid]=M;var ue=this.modelId(M.attributes,M.idAttribute);ue!=null&&(this._byId[ue]=M),M.on("all",this._onModelEvent,this)},_removeReference:function(M,Z){delete this._byId[M.cid];var ue=this.modelId(M.attributes,M.idAttribute);ue!=null&&delete this._byId[ue],this===M.collection&&delete M.collection,M.off("all",this._onModelEvent,this)},_onModelEvent:function(M,Z,ue,de){if(Z){if((M==="add"||M==="remove")&&ue!==this)return;if(M==="destroy"&&this.remove(Z,de),M==="changeId"){var ve=this.modelId(Z.previousAttributes(),Z.idAttribute),Se=this.modelId(Z.attributes,Z.idAttribute);ve!=null&&delete this._byId[ve],Se!=null&&(this._byId[Se]=Z)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(y.prototype[d]=y.prototype.values);var $=function(M,Z){this._collection=M,this._kind=Z,this._index=0},O=1,P=2,k=3;d&&($.prototype[d]=function(){return this}),$.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var M=this._collection.at(this._index);this._index++;var Z;if(this._kind===O)Z=M;else{var ue=this._collection.modelId(M.attributes,M.idAttribute);this._kind===P?Z=ue:Z=[ue,M]}return{value:Z,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var B=r.View=function(M){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(M,ie)),this._ensureElement(),this.initialize.apply(this,arguments)},K=/^(\S+)\s*(.*)$/,ie=["model","collection","el","id","attributes","className","tagName","events"];n.extend(B.prototype,a,{tagName:"div",$:function(M){return this.$el.find(M)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(M){return this.undelegateEvents(),this._setElement(M),this.delegateEvents(),this},_setElement:function(M){this.$el=M instanceof r.$?M:r.$(M),this.el=this.$el[0]},delegateEvents:function(M){if(M||(M=n.result(this,"events")),!M)return this;this.undelegateEvents();for(var Z in M){var ue=M[Z];if(n.isFunction(ue)||(ue=this[ue]),!!ue){var de=Z.match(K);this.delegate(de[1],de[2],ue.bind(this))}}return this},delegate:function(M,Z,ue){return this.$el.on(M+".delegateEvents"+this.cid,Z,ue),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(M,Z,ue){return this.$el.off(M+".delegateEvents"+this.cid,Z,ue),this},_createElement:function(M){return document.createElement(M)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var M=n.extend({},n.result(this,"attributes"));this.id&&(M.id=n.result(this,"id")),this.className&&(M.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(M)}},_setAttributes:function(M){this.$el.attr(M)}});var W=function(M,Z,ue,de){switch(Z){case 1:return function(){return M[ue](this[de])};case 2:return function(ve){return M[ue](this[de],ve)};case 3:return function(ve,Se){return M[ue](this[de],fe(ve,this),Se)};case 4:return function(ve,Se,Fe){return M[ue](this[de],fe(ve,this),Se,Fe)};default:return function(){var ve=s.call(arguments);return ve.unshift(this[de]),M[ue].apply(M,ve)}}},ne=function(M,Z,ue,de){n.each(ue,function(ve,Se){Z[Se]&&(M.prototype[Se]=W(Z,ve,Se,de))})},fe=function(M,Z){return n.isFunction(M)?M:n.isObject(M)&&!Z._isModel(M)?re(M):n.isString(M)?function(ue){return ue.get(M)}:M},re=function(M){var Z=n.matches(M);return function(ue){return Z(ue.attributes)}},le={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},F={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,le,"models"],[E,F,"attributes"]],function(M){var Z=M[0],ue=M[1],de=M[2];Z.mixin=function(ve){var Se=n.reduce(n.functions(ve),function(Fe,He){return Fe[He]=0,Fe},{});ne(Z,ve,Se,de)},ne(Z,n,ue,de)}),r.sync=function(M,Z,ue){var de=z[M];n.defaults(ue||(ue={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var ve={type:de,dataType:"json"};if(ue.url||(ve.url=n.result(Z,"url")||I()),ue.data==null&&Z&&(M==="create"||M==="update"||M==="patch")&&(ve.contentType="application/json",ve.data=JSON.stringify(ue.attrs||Z.toJSON(ue))),ue.emulateJSON&&(ve.contentType="application/x-www-form-urlencoded",ve.data=ve.data?{model:ve.data}:{}),ue.emulateHTTP&&(de==="PUT"||de==="DELETE"||de==="PATCH")){ve.type="POST",ue.emulateJSON&&(ve.data._method=de);var Se=ue.beforeSend;ue.beforeSend=function(Ve){if(Ve.setRequestHeader("X-HTTP-Method-Override",de),Se)return Se.apply(this,arguments)}}ve.type!=="GET"&&!ue.emulateJSON&&(ve.processData=!1);var Fe=ue.error;ue.error=function(Ve,ut,Qe){ue.textStatus=ut,ue.errorThrown=Qe,Fe&&Fe.call(ue.context,Ve,ut,Qe)};var He=ue.xhr=r.ajax(n.extend(ve,ue));return Z.trigger("request",Z,He,ue),He};var z={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var J=r.Router=function(M){M||(M={}),this.preinitialize.apply(this,arguments),M.routes&&(this.routes=M.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,q=/\*\w+/g,oe=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(J.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(M,Z,ue){n.isRegExp(M)||(M=this._routeToRegExp(M)),n.isFunction(Z)&&(ue=Z,Z=""),ue||(ue=this[Z]);var de=this;return r.history.route(M,function(ve){var Se=de._extractParameters(M,ve);de.execute(ue,Se,Z)!==!1&&(de.trigger.apply(de,["route:"+Z].concat(Se)),de.trigger("route",Z,Se),r.history.trigger("route",de,Z,Se))}),this},execute:function(M,Z,ue){M&&M.apply(this,Z)},navigate:function(M,Z){return r.history.navigate(M,Z),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var M,Z=n.keys(this.routes);(M=Z.pop())!=null;)this.route(M,this.routes[M])}},_routeToRegExp:function(M){return M=M.replace(oe,"\\$&").replace(R,"(?:$1)?").replace(C,function(Z,ue){return ue?Z:"([^/?]+)"}).replace(q,"([^?]*?)"),new RegExp("^"+M+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(M,Z){var ue=M.exec(Z).slice(1);return n.map(ue,function(de,ve){return ve===ue.length-1?de||null:de?decodeURIComponent(de):null})}});var X=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ee=/^[#\/]|\s+$/g,se=/^\/+|\/+$/g,we=/#.*$/;X.started=!1,n.extend(X.prototype,a,{interval:50,atRoot:function(){var M=this.location.pathname.replace(/[^\/]$/,"$&/");return M===this.root&&!this.getSearch()},matchRoot:function(){var M=this.decodeFragment(this.location.pathname),Z=M.slice(0,this.root.length-1)+"/";return Z===this.root},decodeFragment:function(M){return decodeURI(M.replace(/%25/g,"%2525"))},getSearch:function(){var M=this.location.href.replace(/#.*/,"").match(/\?.+/);return M?M[0]:""},getHash:function(M){var Z=(M||this).location.href.match(/#(.*)$/);return Z?Z[1]:""},getPath:function(){var M=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return M.charAt(0)==="/"?M.slice(1):M},getFragment:function(M){return M==null&&(this._usePushState||!this._wantsHashChange?M=this.getPath():M=this.getHash()),M.replace(ee,"")},start:function(M){if(X.started)throw new Error("Backbone.history has already been started");if(X.started=!0,this.options=n.extend({root:"/"},this.options,M),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(se,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var Z=this.root.slice(0,-1)||"/";return this.location.replace(Z+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ue=document.body,de=ue.insertBefore(this.iframe,ue.firstChild).contentWindow;de.document.open(),de.document.close(),de.location.hash="#"+this.fragment}var ve=window.addEventListener||function(Se,Fe){return attachEvent("on"+Se,Fe)};if(this._usePushState?ve("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?ve("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var M=window.removeEventListener||function(Z,ue){return detachEvent("on"+Z,ue)};this._usePushState?M("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&M("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),X.started=!1},route:function(M,Z){this.handlers.unshift({route:M,callback:Z})},checkUrl:function(M){var Z=this.getFragment();if(Z===this.fragment&&this.iframe&&(Z=this.getHash(this.iframe.contentWindow)),Z===this.fragment)return!1;this.iframe&&this.navigate(Z),this.loadUrl()},loadUrl:function(M){return this.matchRoot()?(M=this.fragment=this.getFragment(M),n.some(this.handlers,function(Z){if(Z.route.test(M))return Z.callback(M),!0})):!1},navigate:function(M,Z){if(!X.started)return!1;(!Z||Z===!0)&&(Z={trigger:!!Z}),M=this.getFragment(M||"");var ue=this.root;(M===""||M.charAt(0)==="?")&&(ue=ue.slice(0,-1)||"/");var de=ue+M;M=M.replace(we,"");var ve=this.decodeFragment(M);if(this.fragment!==ve){if(this.fragment=ve,this._usePushState)this.history[Z.replace?"replaceState":"pushState"]({},document.title,de);else if(this._wantsHashChange){if(this._updateHash(this.location,M,Z.replace),this.iframe&&M!==this.getHash(this.iframe.contentWindow)){var Se=this.iframe.contentWindow;Z.replace||(Se.document.open(),Se.document.close()),this._updateHash(Se.location,M,Z.replace)}}else return this.location.assign(de);if(Z.trigger)return this.loadUrl(M)}},_updateHash:function(M,Z,ue){if(ue){var de=M.href.replace(/(javascript:|#).*$/,"");M.replace(de+"#"+Z)}else M.hash="#"+Z}}),r.history=new X;var Oe=function(M,Z){var ue=this,de;return M&&n.has(M,"constructor")?de=M.constructor:de=function(){return ue.apply(this,arguments)},n.extend(de,ue,Z),de.prototype=n.create(ue.prototype,M),de.prototype.constructor=de,de.__super__=ue.prototype,de};E.extend=y.extend=J.extend=B.extend=X.extend=Oe;var I=function(){throw new Error('A "url" property or function must be specified')},L=function(M,Z){var ue=Z.error;Z.error=function(de){ue&&ue.call(Z.context,M,de,Z),M.trigger("error",M,de,Z)}};return r})})(AJ);const Fo=Wu(AJ),wt=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,o=n.atan2,s=n.sqrt,a=n.min,l=n.max,u=n.cos,f=n.sin,c=function(d,$,O){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(d){if(c.isV(d)&&(d=d.node),$=$||{},c.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=c.createSvgDocument();else if(d[0]==="<"){var P=c.createSvgDocument(d);if(P.childNodes.length>1){var k=[],B,K;for(B=0,K=P.childNodes.length;B<K;B++){var ie=P.childNodes[B];k.push(new c(document.importNode(ie,!0)))}return k}d=document.importNode(P.firstChild,!0)}else d=document.createElementNS(t.svg,d);c.ensureId(d)}return this.node=d,this.setAttributes($),O&&this.append(O),this}},p=c.prototype;Object.defineProperty(p,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),p.getTransformToElement=function(d){var $=this.node;if(c.isSVGGraphicsElement(d)&&c.isSVGGraphicsElement($)){var O=c.toNode(d).getScreenCTM(),P=$.getScreenCTM();if(O&&P)return O.inverse().multiply(P)}return c.createSVGMatrix()},p.transform=function(d,$){var O=this.node;if(c.isUndefined(d))return c.transformStringToMatrix(this.attr("transform"));if($&&$.absolute)return this.attr("transform",c.matrixToTransformString(d));var P=c.createSVGTransform(d);return O.transform.baseVal.appendItem(P),this},p.translate=function(d,$,O){O=O||{},$=$||0;var P=this.attr("transform")||"",k=c.parseTransformString(P);if(P=k.value,c.isUndefined(d))return k.translate;P=P.replace(/translate\([^)]*\)/g,"").trim();var B=O.absolute?d:k.translate.tx+d,K=O.absolute?$:k.translate.ty+$,ie="translate("+B+","+K+")";return this.attr("transform",(ie+" "+P).trim()),this},p.rotate=function(d,$,O,P){P=P||{};var k=this.attr("transform")||"",B=c.parseTransformString(k);if(k=B.value,c.isUndefined(d))return B.rotate;k=k.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var K=P.absolute?d:B.rotate.angle+d,ie=$!==void 0&&O!==void 0?","+$+","+O:"",W="rotate("+K+ie+")";return this.attr("transform",(k+" "+W).trim()),this},p.scale=function(d,$){$=c.isUndefined($)?d:$;var O=this.attr("transform")||"",P=c.parseTransformString(O);if(O=P.value,c.isUndefined(d))return P.scale;O=O.replace(/scale\([^)]*\)/g,"").trim();var k="scale("+d+","+$+")";return this.attr("transform",(O+" "+k).trim()),this},p.bbox=function(d,$){var O,P=this.node,k=P.ownerSVGElement;if(!k)return new Vt(0,0,0,0);try{O=P.getBBox()}catch{O={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if(d)return new Vt(O);var B=this.getTransformToElement($||k);return c.transformRect(O,B)},p.getBBox=function(d){var $={},O,P=this.node,k=P.ownerSVGElement;if(!k||!c.isSVGGraphicsElement(P))return new Vt(0,0,0,0);if(d&&(d.target&&($.target=c.toNode(d.target)),d.recursive&&($.recursive=d.recursive)),$.recursive){var K=this.children(),ie=K.length;if(ie===0)return this.getBBox({target:$.target,recursive:!1});$.target||($.target=this);for(var W=0;W<ie;W++){var ne=K[W],fe;ne.children().length===0?fe=ne.getBBox({target:$.target,recursive:!1}):fe=ne.getBBox({target:$.target,recursive:!0}),O?O=O.union(fe):O=fe}return O}else{try{O=P.getBBox()}catch{O={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if($.target){var B=this.getTransformToElement($.target);return c.transformRect(O,B)}else return new Vt(O)}};function m(d,$){d||(d={});var O=c("textPath"),P=d.d;if(P&&d["xlink:href"]===void 0){var k=c("path").attr("d",P).appendTo($.defs());O.attr("xlink:href","#"+k.id)}return c.isObject(d)&&O.attr(d),O.node}function g(d,$,O){O||(O={});for(var P=O.includeAnnotationIndices,k=O.eol,B=O.lineHeight,K=O.baseSize,ie=0,W={},ne=$.length-1,fe=0;fe<=ne;fe++){var re=$[fe],le=null;if(c.isObject(re)){var F=re.attrs,z=c("tspan",F),J=z.node,R=re.t;k&&fe===ne&&(R+=k),J.textContent=R;var C=F.class;C&&z.addClass(C),P&&z.attr("annotations",re.annotations),le=parseFloat(F["font-size"]),isFinite(le)||(le=K),le&&le>ie&&(ie=le)}else k&&fe===ne&&(re+=k),J=document.createTextNode(re||" "),K&&K>ie&&(ie=K);d.appendChild(J)}return ie&&(W.maxFontSize=ie),B?W.lineHeight=B:ie&&(W.lineHeight=ie*1.2),W}var _=/em$/;function v(d,$){var O=parseFloat(d);return _.test(d)?O*$:O}function h(d,$,O,P){if(!Array.isArray($))return 0;var k=$.length;if(!k)return 0;for(var B=$[0],K=v(B.maxFontSize,O)||O,ie=0,W=v(P,O),ne=1;ne<k;ne++){B=$[ne];var fe=v(B.lineHeight,O)||W;ie+=fe}var re=v(B.maxFontSize,O)||O,le;switch(d){case"middle":le=K/2-.15*re-ie/2;break;case"bottom":le=-(.25*re)-ie;break;default:case"top":le=.8*K;break}return le}p.text=function(d,$){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=c.sanitizeText(d),$||($={});var O=$.displayEmpty,P=$.eol,k=$.textPath,B=$.textVerticalAnchor,K=B==="middle"||B==="bottom"||B==="top",ie=$.x;ie===void 0&&(ie=this.attr("x")||0);var W=$.includeAnnotationIndices,ne=$.annotations;ne&&!c.isArray(ne)&&(ne=[ne]);var fe=$.lineHeight,re=fe==="auto",le=re?"1.5em":fe||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||O?null:"none"});var F=parseFloat(this.attr("font-size"));F||(F=16,(K||ne)&&this.attr("font-size",F));var z=document,J;k?(typeof k=="string"&&(k={d:k}),J=m(k,this)):J=z.createDocumentFragment();for(var R=0,C=d.split(`
`),q=[],oe,X=0,ee=C.length-1;X<=ee;X++){var se=le,we="v-line",Oe=z.createElementNS(t.svg,"tspan"),I=C[X],L;if(I)if(ne){var M=c.annotateString(I,ne,{offset:-R,includeAnnotationIndices:W});L=g(Oe,M,{includeAnnotationIndices:W,eol:X!==ee&&P,lineHeight:re?null:le,baseSize:F});var Z=L.lineHeight;Z&&re&&X!==0&&(se=Z),X===0&&(oe=L.maxFontSize*.8)}else P&&X!==ee&&(I+=P),Oe.textContent=I;else{Oe.textContent="-",we+=" v-empty-line";var ue=Oe.style;if(ue.fillOpacity=0,ue.strokeOpacity=0,ne){L={},M=c.findAnnotationsAtIndex(ne,R);let ve=F;for(let Se=M.length;Se>0;Se--){const Fe=M[Se-1].attrs;if(!Fe||!("font-size"in Fe))continue;const He=parseFloat(Fe["font-size"]);if(isFinite(He)){ve=He;break}}re&&(X>0?se=ve*1.2:oe=ve*.8),Oe.setAttribute("font-size",ve),L.maxFontSize=ve}}L&&q.push(L),X>0&&Oe.setAttribute("dy",se),(X>0||k)&&Oe.setAttribute("x",ie),Oe.className.baseVal=we,J.appendChild(Oe),R+=I.length+1}if(K)if(ne)se=h(B,q,F,le);else if(B==="top")se="0.8em";else{var de;switch(ee>0?(de=parseFloat(le)||1,de*=ee,_.test(le)||(de/=F)):de=0,B){case"middle":se=.3-de/2+"em";break;case"bottom":se=-de-.3+"em";break}}else B===0?se="0em":B?se=B:(se=0,this.attr("y")===null&&this.attr("y",oe||"0.8em"));return J.firstChild.setAttribute("dy",se),this.append(J),this},p.removeAttr=function(d){const $=T[d],{ns:O,local:P}=c.qualifyAttr($),k=this.node;return O?k.hasAttributeNS(O,P)&&k.removeAttributeNS(O,P):k.hasAttribute($)&&k.removeAttribute($),this},p.attr=function(d,$){if(c.isUndefined(d)){for(var O=this.node.attributes,P={},k=0;k<O.length;k++)P[O[k].name]=O[k].value;return P}if(c.isString(d)&&c.isUndefined($))return this.node.getAttribute(T[d]);if(typeof d=="object")for(var B in d)d.hasOwnProperty(B)&&this.setAttribute(B,d[B]);else this.setAttribute(d,$);return this},p.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",c.normalizePathData(this.attr("d"))),this},p.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},p.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},p.setAttributes=function(d){for(var $ in d)d.hasOwnProperty($)&&this.setAttribute($,d[$]);return this},p.append=function(d){c.isArray(d)||(d=[d]);for(var $=0,O=d.length;$<O;$++)this.node.appendChild(c.toNode(d[$]));return this},p.prepend=function(d){var $=this.node.firstChild;return $?c($).before(d):this.append(d)},p.before=function(d){var $=this.node,O=$.parentNode;if(O){c.isArray(d)||(d=[d]);for(var P=0,k=d.length;P<k;P++)O.insertBefore(c.toNode(d[P]),$)}return this},p.appendTo=function(d){return c.toNode(d).appendChild(this.node),this},p.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},p.tagName=function(){return this.node.tagName.toUpperCase()},p.defs=function(){var d=this.svg()||this,$=d.node.getElementsByTagName("defs")[0];return $?c($):c("defs").appendTo(d)},p.clone=function(){var d=c(this.node.cloneNode(!0));return d.node.id=c.uniqueId(),d},p.findOne=function(d){var $=this.node.querySelector(d);return $?c($):void 0},p.find=function(d){var $=[],O=this.node.querySelectorAll(d);if(O)for(var P=0;P<O.length;P++)$.push(c(O[P]));return $},p.children=function(){for(var d=this.node.childNodes,$=[],O=0;O<d.length;O++){var P=d[O];P.nodeType===1&&$.push(c(d[O]))}return $},p.parent=function(){return c(this.node.parentNode)||null},p.index=function(){for(var d=0,$=this.node.previousSibling;$;)$.nodeType===1&&d++,$=$.previousSibling;return d},p.findParentByClass=function(d,$){for(var O=this.node.ownerSVGElement,P=this.node.parentNode;P&&P!==$&&P!==O;){var k=c(P);if(k.hasClass(d))return k;P=P.parentNode}return null},p.contains=function(d){var $=this.node,O=c.toNode(d),P=O&&O.parentNode;return $===P||!!(P&&P.nodeType===1&&$.compareDocumentPosition(P)&16)},p.toLocalPoint=function(d,$){var O=this.svg().node,P=O.createSVGPoint();P.x=d,P.y=$;try{var k=P.matrixTransform(O.getScreenCTM().inverse()),B=this.getTransformToElement(O).inverse()}catch{return P}return k.matrixTransform(B)},p.translateCenterToPoint=function(d){var $=this.getBBox({target:this.svg()}),O=$.center();return this.translate(d.x-O.x,d.y-O.y),this},p.translateAndAutoOrient=function(d,$,O){d=new et(d),$=new et($),O||(O=this.svg());var P=this.scale();this.attr("transform","");var k=this.getBBox({target:O}).scale(P.sx,P.sy),B=c.createSVGTransform();B.setTranslate(-k.x-k.width/2,-k.y-k.height/2);var K=c.createSVGTransform(),ie=d.angleBetween($,d.clone().offset(1,0));ie&&K.setRotate(ie,0,0);var W=c.createSVGTransform(),ne=d.clone().move($,k.width/2);W.setTranslate(2*d.x-ne.x,2*d.y-ne.y);var fe=this.getTransformToElement(O),re=c.createSVGTransform();return re.setMatrix(W.matrix.multiply(K.matrix.multiply(B.matrix.multiply(fe.scale(P.sx,P.sy))))),this.attr("transform",c.matrixToTransformString(re.matrix)),this},p.animateAlongPath=function(d,$){$=c.toNode($);var O=c.ensureId($),P=c("animateMotion",d),k=c("mpath",{"xlink:href":"#"+O});P.append(k),this.append(P);try{P.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var B=P.node;B.animators=[];var K=B.getAttribute("id");K&&(id2anim[K]=B);for(var ie=getTargets(B),W=0,ne=ie.length;W<ne;W++){var fe=ie[W],re=new Animator(B,fe,W);animators.push(re),B.animators[W]=re,re.register()}}}return this};const E=/[^\x20\t\r\n\f]+/g;function y(d){return c.isString(d)?d.trim().match(E)||[]:[]}p.hasClass=function(d){return c.isString(d)?this.node.classList.contains(d.trim()):!1},p.addClass=function(d){return this.node.classList.add(...y(d)),this},p.removeClass=function(d){return this.node.classList.remove(...y(d)),this},p.toggleClass=function(d,$){const O=y(d);for(let P=0;P<O.length;P++)this.node.classList.toggle(O[P],$);return this},p.sample=function(d){d=d||1;for(var $=this.node,O=$.getTotalLength(),P=[],k=0,B;k<O;)B=$.getPointAtLength(k),P.push({x:B.x,y:B.y,distance:k}),k+=d;return P},p.convertToPath=function(){var d=c("path");d.attr(this.attr());var $=this.convertToPathData();return $&&d.attr("d",$),d},p.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var d,$,O,P,k,B,K,ie,W,ne,fe,re,le,F,z;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,$=parseFloat(this.attr("y"))||0,O=parseFloat(this.attr("width"))||0,P=parseFloat(this.attr("height"))||0,new Vt(d,$,O,P);case"CIRCLE":return k=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,K=parseFloat(this.attr("r"))||0,new ps({x:k,y:B},K,K);case"ELLIPSE":return k=parseFloat(this.attr("cx"))||0,B=parseFloat(this.attr("cy"))||0,ie=parseFloat(this.attr("rx"))||0,W=parseFloat(this.attr("ry"))||0,new ps({x:k,y:B},ie,W);case"POLYLINE":return ne=c.getPointsFromSvgNode(this),new Qn(ne);case"POLYGON":return ne=c.getPointsFromSvgNode(this),ne.length>1&&ne.push(ne[0]),new Qn(ne);case"PATH":return fe=this.attr("d"),ir.isDataSupported(fe)||(fe=c.normalizePathData(fe)),new ir(fe);case"LINE":return re=parseFloat(this.attr("x1"))||0,F=parseFloat(this.attr("y1"))||0,le=parseFloat(this.attr("x2"))||0,z=parseFloat(this.attr("y2"))||0,new Kt({x:re,y:F},{x:le,y:z})}return this.getBBox()},p.findIntersection=function(d,$){var O=this.svg().node;$=$||O;var P=this.getBBox({target:$}),k=P.center();if(P.intersectionWithLineFromCenterToPoint(d)){var B,K=this.tagName();if(K==="RECT"){var ie=new Vt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),W=this.getTransformToElement($),ne=c.decomposeMatrix(W),fe=O.createSVGTransform();fe.setRotate(-ne.rotation,k.x,k.y);var re=c.transformRect(ie,fe.matrix.multiply(W));B=new Vt(re).intersectionWithLineFromCenterToPoint(d,ne.rotation)}else if(K==="PATH"||K==="POLYGON"||K==="POLYLINE"||K==="CIRCLE"||K==="ELLIPSE"){var le=K==="PATH"?this:this.convertToPath(),F=le.sample(),z=1/0,J=[],R,C,q,oe,X,ee;for(R=0;R<F.length;R++)C=F[R],q=c.createSVGPoint(C.x,C.y),q=q.matrixTransform(this.getTransformToElement($)),C=new et(q),oe=C.distance(k),X=C.distance(d)*1.1,ee=oe+X,ee<z?(z=ee,J=[{sample:C,refDistance:X}]):ee<z+1&&J.push({sample:C,refDistance:X});J.sort(function(se,we){return se.refDistance-we.refDistance}),J[0]&&(B=J[0].sample)}return B}},p.setAttribute=function(d,$){const O=this.node;if($===null)return this.removeAttr(d),this;const P=T[d],{ns:k}=c.qualifyAttr(P);return k?O.setAttributeNS(k,P,$):P==="id"?O.id=$:O.setAttribute(P,$),this},c.createSvgDocument=function(d){if(d){const O=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:P}=c.parseXML(O,{async:!1});return P}const $=document.createElementNS(t.svg,"svg");return $.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),$.setAttribute("version",r),$},c.createSVGStyle=function(d){const{node:$}=c("style",{type:"text/css"},[c.createCDATASection(d)]);return $},c.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(d){return c.isV(d)?d.node:d.nodeName&&d||d[0]},c.ensureId=function(d){return d=c.toNode(d),d.id||(d.id=c.uniqueId())},c.sanitizeText=function(d){return(d||"").replace(/ /g,"")},c.isUndefined=function(d){return typeof d>"u"},c.isString=function(d){return typeof d=="string"},c.isObject=function(d){return d&&typeof d=="object"},c.isArray=Array.isArray,c.parseXML=function(d,$){$=$||{};var O;try{var P=new DOMParser;c.isUndefined($.async)||(P.async=$.async),O=P.parseFromString(d,"text/xml")}catch{O=void 0}if(!O||O.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return O};const S=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>S[d]=d);const T=new Proxy(S,{get(d,$){return c.supportCamelCaseAttributes?$ in d?d[$]:d[$]=$.replace(/[A-Z]/g,"-$&").toLowerCase():$}});Object.defineProperty(c,"attributeNames",{value:T,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var $=d.split(":");return{ns:t[$[0]],local:$[1]}}return{ns:null,local:d}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(d){let $=c.createSVGMatrix();const O=d&&d.match(c.transformRegex);if(!O)return $;const P=O.length;for(let k=0;k<P;k++){const K=O[k].match(c.transformFunctionRegex);if(K){let ie,W,ne,fe,re,le=c.createSVGMatrix();const F=K[1].toLowerCase(),z=K[2].split(c.transformSeparatorRegex);switch(F){case"scale":ie=parseFloat(z[0]),W=z[1]===void 0?ie:parseFloat(z[1]),le=le.scaleNonUniform(ie,W);break;case"translate":ne=parseFloat(z[0]),fe=parseFloat(z[1]),le=le.translate(ne,fe);break;case"rotate":re=parseFloat(z[0]),ne=parseFloat(z[1])||0,fe=parseFloat(z[2])||0,ne!==0||fe!==0?le=le.translate(ne,fe).rotate(re).translate(-ne,-fe):le=le.rotate(re);break;case"skewx":re=parseFloat(z[0]),le=le.skewX(re);break;case"skewy":re=parseFloat(z[0]),le=le.skewY(re);break;case"matrix":le.a=parseFloat(z[0]),le.b=parseFloat(z[1]),le.c=parseFloat(z[2]),le.d=parseFloat(z[3]),le.e=parseFloat(z[4]),le.f=parseFloat(z[5]);break;default:continue}$=$.multiply(le)}}return $},c.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},c.parseTransformString=function(d){var $,O,P;if(d){var k=c.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var B=c.transformStringToMatrix(d),K=c.decomposeMatrix(B);$=[K.translateX,K.translateY],P=[K.scaleX,K.scaleY],O=[K.rotation];var ie=[];($[0]!==0||$[1]!==0)&&ie.push("translate("+$+")"),(P[0]!==1||P[1]!==1)&&ie.push("scale("+P+")"),O[0]!==0&&ie.push("rotate("+O+")"),d=ie.join(" ")}else{const ne=d.match(c.transformTranslateRegex);ne&&($=ne[1].split(k));const fe=d.match(c.transformRotateRegex);fe&&(O=fe[1].split(k));const re=d.match(c.transformScaleRegex);re&&(P=re[1].split(k))}}var W=P&&P[0]?parseFloat(P[0]):1;return{value:d,translate:{tx:$&&$[0]?parseInt($[0],10):0,ty:$&&$[1]?parseInt($[1],10):0},rotate:{angle:O&&O[0]?parseInt(O[0],10):0,cx:O&&O[1]?parseInt(O[1],10):void 0,cy:O&&O[2]?parseInt(O[2],10):void 0},scale:{sx:W,sy:P&&P[1]?parseFloat(P[1]):W}}},c.deltaTransformPoint=function(d,$){var O=$.x*d.a+$.y*d.c+0,P=$.x*d.b+$.y*d.d+0;return{x:O,y:P}},c.decomposeMatrix=function(d){var $=c.deltaTransformPoint(d,{x:0,y:1}),O=c.deltaTransformPoint(d,{x:1,y:0}),P=180/i*o($.y,$.x)-90,k=180/i*o(O.y,O.x);return{translateX:d.e,translateY:d.f,scaleX:s(d.a*d.a+d.b*d.b),scaleY:s(d.c*d.c+d.d*d.d),skewX:P,skewY:k,rotation:P}},c.matrixToScale=function(d){var $,O,P,k;return d?($=c.isUndefined(d.a)?1:d.a,k=c.isUndefined(d.d)?1:d.d,O=d.b,P=d.c):$=k=1,{sx:O?s($*$+O*O):$,sy:P?s(P*P+k*k):k}},c.matrixToRotate=function(d){var $={x:0,y:1};return d&&($=c.deltaTransformPoint(d,$)),{angle:Ql(bT(o($.y,$.x))-90)}},c.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},c.isV=function(d){return d instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(d){return d?(d=c.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var x=c("svg").node;return c.createSVGMatrix=function(d){var $=x.createSVGMatrix();for(var O in d)$[O]=d[O];return $},c.createSVGTransform=function(d){return c.isUndefined(d)?x.createSVGTransform():(d instanceof SVGMatrix||(d=c.createSVGMatrix(d)),x.createSVGTransformFromMatrix(d))},c.createSVGPoint=function(d,$){var O=x.createSVGPoint();return O.x=d,O.y=$,O},c.transformRect=function(d,$){var O=x.createSVGPoint();O.x=d.x,O.y=d.y;var P=O.matrixTransform($);O.x=d.x+d.width,O.y=d.y;var k=O.matrixTransform($);O.x=d.x+d.width,O.y=d.y+d.height;var B=O.matrixTransform($);O.x=d.x,O.y=d.y+d.height;var K=O.matrixTransform($),ie=a(P.x,k.x,B.x,K.x),W=l(P.x,k.x,B.x,K.x),ne=a(P.y,k.y,B.y,K.y),fe=l(P.y,k.y,B.y,K.y);return new Vt(ie,ne,W-ie,fe-ne)},c.transformPoint=function(d,$){return new et(c.createSVGPoint(d.x,d.y).matrixTransform($))},c.transformLine=function(d,$){return new Kt(c.transformPoint(d.start,$),c.transformPoint(d.end,$))},c.transformPolyline=function(d,$){var O=d instanceof Qn?d.points:d;c.isArray(O)||(O=[]);for(var P=[],k=0,B=O.length;k<B;k++)P[k]=c.transformPoint(O[k],$);return new Qn(P)},c.styleToObject=function(d){for(var $={},O=d.split(";"),P=0;P<O.length;P++){var k=O[P],B=k.split("=");$[B[0].trim()]=B[1].trim()}return $},c.createSlicePathData=function(d,$,O,P){var k=2*i-1e-6,B=d,K=$,ie=O,W=P,ne=(W<ie&&(ne=ie,ie=W,W=ne),W-ie),fe=ne<i?"0":"1",re=u(ie),le=f(ie),F=u(W),z=f(W);return ne>=k?B?"M0,"+K+"A"+K+","+K+" 0 1,1 0,"+-K+"A"+K+","+K+" 0 1,1 0,"+K+"M0,"+B+"A"+B+","+B+" 0 1,0 0,"+-B+"A"+B+","+B+" 0 1,0 0,"+B+"Z":"M0,"+K+"A"+K+","+K+" 0 1,1 0,"+-K+"A"+K+","+K+" 0 1,1 0,"+K+"Z":B?"M"+K*re+","+K*le+"A"+K+","+K+" 0 "+fe+",1 "+K*F+","+K*z+"L"+B*F+","+B*z+"A"+B+","+B+" 0 "+fe+",0 "+B*re+","+B*le+"Z":"M"+K*re+","+K*le+"A"+K+","+K+" 0 "+fe+",1 "+K*F+","+K*z+"L0,0Z"},c.mergeAttrs=function(d,$){for(var O in $)O==="class"?d[O]=d[O]?d[O]+" "+$[O]:$[O]:O==="style"?c.isObject(d[O])&&c.isObject($[O])?d[O]=c.mergeAttrs(d[O],$[O]):c.isObject(d[O])?d[O]=c.mergeAttrs(d[O],c.styleToObject($[O])):c.isObject($[O])?d[O]=c.mergeAttrs(c.styleToObject(d[O]),$[O]):d[O]=c.mergeAttrs(c.styleToObject(d[O]),c.styleToObject($[O])):d[O]=$[O];return d},c.annotateString=function(d,$,O){$=$||[],O=O||{};for(var P=O.offset||0,k=[],B,K=[],ie,W,ne=0;ne<d.length;ne++){ie=K[ne]=d[ne];for(var fe=0;fe<$.length;fe++){var re=$[fe],le=re.start+P,F=re.end+P;ne>=le&&ne<F&&(c.isObject(ie)?ie.attrs=c.mergeAttrs(c.mergeAttrs({},ie.attrs),re.attrs):ie=K[ne]={t:d[ne],attrs:re.attrs},O.includeAnnotationIndices&&(ie.annotations||(ie.annotations=[])).push(fe))}W=K[ne-1],W?c.isObject(ie)&&c.isObject(W)?JSON.stringify(ie.attrs)===JSON.stringify(W.attrs)?B.t+=ie.t:(k.push(B),B=ie):c.isObject(ie)||c.isObject(W)?(k.push(B),B=ie):B=(B||"")+ie:B=ie}return B&&k.push(B),k},c.findAnnotationsAtIndex=function(d,$){var O=[];return d&&d.forEach(function(P){P.start<$&&$<=P.end&&O.push(P)}),O},c.findAnnotationsBetweenIndexes=function(d,$,O){var P=[];return d&&d.forEach(function(k){($>=k.start&&$<k.end||O>k.start&&O<=k.end||k.start>=$&&k.end<O)&&P.push(k)}),P},c.shiftAnnotations=function(d,$,O){return d&&d.forEach(function(P){P.start<$&&P.end>=$?P.end+=O:P.start>=$&&(P.start+=O,P.end+=O)}),d},c.convertLineToPathData=function(d){d=c(d);var $=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return $},c.convertPolygonToPathData=function(d){var $=c.getPointsFromSvgNode(d);return $.length===0?null:c.svgPointsToPath($)+" Z"},c.convertPolylineToPathData=function(d){var $=c.getPointsFromSvgNode(d);return $.length===0?null:c.svgPointsToPath($)},c.svgPointsToPath=function(d){for(var $=0,O=d.length;$<O;$++)d[$]=d[$].x+" "+d[$].y;return"M "+d.join(" L")},c.getPointsFromSvgNode=function(d){d=c.toNode(d);var $=[],O=d.points;if(O)for(var P=0,k=O.numberOfItems;P<k;P++)$.push(O.getItem(P));return $},c.KAPPA=.551784,c.convertCircleToPathData=function(d){d=c(d);var $=parseFloat(d.attr("cx"))||0,O=parseFloat(d.attr("cy"))||0,P=parseFloat(d.attr("r")),k=P*c.KAPPA,B=["M",$,O-P,"C",$+k,O-P,$+P,O-k,$+P,O,"C",$+P,O+k,$+k,O+P,$,O+P,"C",$-k,O+P,$-P,O+k,$-P,O,"C",$-P,O-k,$-k,O-P,$,O-P,"Z"].join(" ");return B},c.convertEllipseToPathData=function(d){d=c(d);var $=parseFloat(d.attr("cx"))||0,O=parseFloat(d.attr("cy"))||0,P=parseFloat(d.attr("rx")),k=parseFloat(d.attr("ry"))||P,B=P*c.KAPPA,K=k*c.KAPPA,ie=["M",$,O-k,"C",$+B,O-k,$+P,O-K,$+P,O,"C",$+P,O+K,$+B,O+k,$,O+k,"C",$-B,O+k,$-P,O+K,$-P,O,"C",$-P,O-K,$-B,O-k,$,O-k,"Z"].join(" ");return ie},c.convertRectToPathData=function(d){return d=c(d),c.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},c.rectToPath=function(d){var $,O=d.x,P=d.y,k=d.width,B=d.height,K=a(d.rx||d["top-rx"]||0,k/2),ie=a(d.rx||d["bottom-rx"]||0,k/2),W=a(d.ry||d["top-ry"]||0,B/2),ne=a(d.ry||d["bottom-ry"]||0,B/2);return K||ie||W||ne?$=["M",O,P+W,"v",B-W-ne,"a",ie,ne,0,0,0,ie,ne,"h",k-2*ie,"a",ie,ne,0,0,0,ie,-ne,"v",-(B-ne-W),"a",K,W,0,0,0,-K,-W,"h",-(k-2*K),"a",K,W,0,0,0,-K,W,"Z"]:$=["M",O,P,"H",O+k,"V",P+B,"H",O,"V",P,"Z"],$.join(" ")},c.normalizePathData=function(){var d=`	
\v\f\r \u2028\u2029`,$=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),P=Math,k=P.PI,B=P.sin,K=P.cos,ie=P.tan,W=P.asin,ne=P.sqrt,fe=P.abs;function re(C,q,oe,X,ee,se){var we=.3333333333333333,Oe=2/3;return[we*C+Oe*oe,we*q+Oe*X,we*ee+Oe*oe,we*se+Oe*X,ee,se]}function le(C,q,oe){var X=C*K(oe)-q*B(oe),ee=C*B(oe)+q*K(oe);return{x:X,y:ee}}function F(C,q,oe,X,ee,se,we,Oe,I,L){var M=k*120/180,Z=k/180*(+ee||0),ue=[],de;if(L)te=L[0],j=L[1],Qe=L[2],Ye=L[3];else{de=le(C,q,-Z),C=de.x,q=de.y,de=le(Oe,I,-Z),Oe=de.x,I=de.y;var ve=(C-Oe)/2,Se=(q-I)/2,Fe=ve*ve/(oe*oe)+Se*Se/(X*X);Fe>1&&(Fe=ne(Fe),oe=Fe*oe,X=Fe*X);var He=oe*oe,Ve=X*X,ut=(se==we?-1:1)*ne(fe((He*Ve-He*Se*Se-Ve*ve*ve)/(He*Se*Se+Ve*ve*ve))),Qe=ut*oe*Se/X+(C+Oe)/2,Ye=ut*-X*ve/oe+(q+I)/2,te=W(((q-Ye)/X).toFixed(9)),j=W(((I-Ye)/X).toFixed(9));te=C<Qe?k-te:te,j=Oe<Qe?k-j:j,te<0&&(te=k*2+te),j<0&&(j=k*2+j),we&&te>j&&(te=te-k*2),!we&&j>te&&(j=j-k*2)}var U=j-te;if(fe(U)>M){var ce=j,Te=Oe,Re=I;j=te+M*(we&&j>te?1:-1),Oe=Qe+oe*K(j),I=Ye+X*B(j),ue=F(Oe,I,oe,X,ee,0,we,Te,Re,[j,ce,Qe,Ye])}U=j-te;var ze=K(te),Be=B(te),Xe=K(j),vt=B(j),St=ie(U/4),yt=4/3*(oe*St),Yt=4/3*(X*St),Jr=[C,q],cn=[C+yt*Be,q-Yt*ze],Tr=[Oe+yt*vt,I-Yt*Xe],Rr=[Oe,I];if(cn[0]=2*Jr[0]-cn[0],cn[1]=2*Jr[1]-cn[1],L)return[cn,Tr,Rr].concat(ue);ue=[cn,Tr,Rr].concat(ue).join().split(",");for(var Nn=[],wr=ue.length,cr=0;cr<wr;cr++)Nn[cr]=cr%2?le(ue[cr-1],ue[cr],Z).y:le(ue[cr],ue[cr+1],Z).x;return Nn}function z(C){if(!C)return null;var q={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},oe=[];return String(C).replace($,function(X,ee,se){var we=[],Oe=ee.toLowerCase();for(se.replace(O,function(I,L){L&&we.push(+L)}),Oe==="m"&&we.length>2&&(oe.push([ee].concat(we.splice(0,2))),Oe="l",ee=ee==="m"?"l":"L");we.length>=q[Oe]&&(oe.push([ee].concat(we.splice(0,q[Oe]))),!!q[Oe]););}),oe}function J(C){if((!Array.isArray(C)||!Array.isArray(C&&C[0]))&&(C=z(C)),!C||!C.length)return[["M",0,0]];for(var q=[],oe=0,X=0,ee=0,se=0,we=0,Oe,I=C.length,L=we;L<I;L++){var M=[];q.push(M);var Z=C[L];if(Oe=Z[0],Oe!=Oe.toUpperCase()){M[0]=Oe.toUpperCase();var ue,de;switch(M[0]){case"A":M[1]=Z[1],M[2]=Z[2],M[3]=Z[3],M[4]=Z[4],M[5]=Z[5],M[6]=+Z[6]+oe,M[7]=+Z[7]+X;break;case"V":M[1]=+Z[1]+X;break;case"H":M[1]=+Z[1]+oe;break;case"M":for(ee=+Z[1]+oe,se=+Z[2]+X,ue=Z.length,de=1;de<ue;de++)M[de]=+Z[de]+(de%2?oe:X);break;default:for(ue=Z.length,de=1;de<ue;de++)M[de]=+Z[de]+(de%2?oe:X);break}}else for(var ve=Z.length,Se=0;Se<ve;Se++)M[Se]=Z[Se];switch(M[0]){case"Z":oe=+ee,X=+se;break;case"H":oe=M[1];break;case"V":X=M[1];break;case"M":ee=M[M.length-2],se=M[M.length-1],oe=M[M.length-2],X=M[M.length-1];break;default:oe=M[M.length-2],X=M[M.length-1];break}}return q}function R(C){var q=J(C),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function X(ue,de,ve){var Se,Fe;if(!ue)return["C",de.x,de.y,de.x,de.y,de.x,de.y];switch(ue[0]in{T:1,Q:1}||(de.qx=null,de.qy=null),ue[0]){case"M":de.X=ue[1],de.Y=ue[2];break;case"A":parseFloat(ue[1])===0||parseFloat(ue[2])===0?ue=["L",ue[6],ue[7]]:ue=["C"].concat(F.apply(0,[de.x,de.y].concat(ue.slice(1))));break;case"S":ve==="C"||ve==="S"?(Se=de.x*2-de.bx,Fe=de.y*2-de.by):(Se=de.x,Fe=de.y),ue=["C",Se,Fe].concat(ue.slice(1));break;case"T":ve==="Q"||ve==="T"?(de.qx=de.x*2-de.qx,de.qy=de.y*2-de.qy):(de.qx=de.x,de.qy=de.y),ue=["C"].concat(re(de.x,de.y,de.qx,de.qy,ue[1],ue[2]));break;case"Q":de.qx=ue[1],de.qy=ue[2],ue=["C"].concat(re(de.x,de.y,ue[1],ue[2],ue[3],ue[4]));break;case"H":ue=["L"].concat(ue[1],de.y);break;case"V":ue=["L"].concat(de.x,ue[1]);break}return ue}function ee(ue,de){if(ue[de].length>7){ue[de].shift();for(var ve=ue[de];ve.length;)se[de]="A",ue.splice(de++,0,["C"].concat(ve.splice(0,6)));ue.splice(de,1),I=q.length}}for(var se=[],we="",Oe="",I=q.length,L=0;L<I;L++){q[L]&&(we=q[L][0]),we!=="C"&&(se[L]=we,L>0&&(Oe=se[L-1])),q[L]=X(q[L],oe,Oe),se[L]!=="A"&&we==="C"&&(se[L]="C"),ee(q,L);var M=q[L],Z=M.length;oe.x=M[Z-2],oe.y=M[Z-1],oe.bx=parseFloat(M[Z-4])||oe.x,oe.by=parseFloat(M[Z-3])||oe.y}return(!q[0][0]||q[0][0]!=="M")&&q.unshift(["M",0,0]),q}return function(C){return R(C).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=Hye,c}(),nd={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Iy="[object Arguments]",II="[object Array]",jT="[object Boolean]",Pj="[object Date]",rX="[object Error]",b0e="[object Function]",v0="[object Map]",DT="[object Number]",_0e="[object Null]",fm="[object Object]",Rj="[object RegExp]",y0="[object Set]",MT="[object String]",LT="[object Symbol]",E0e="[object Undefined]",S0e="[object WeakMap]",Nj="[object ArrayBuffer]",Ij="[object DataView]",nX="[object Float32Array]",iX="[object Float64Array]",oX="[object Int8Array]",sX="[object Int16Array]",aX="[object Int32Array]",lX="[object Uint8Array]",uX="[object Uint8ClampedArray]",cX="[object Uint16Array]",fX="[object Uint32Array]",T0e={[Iy]:!0,[II]:!0,[Nj]:!0,[Ij]:!0,[jT]:!0,[Pj]:!0,[nX]:!0,[iX]:!0,[oX]:!0,[sX]:!0,[aX]:!0,[v0]:!0,[DT]:!0,[fm]:!0,[Rj]:!0,[y0]:!0,[MT]:!0,[LT]:!0,[lX]:!0,[uX]:!0,[cX]:!0,[fX]:!0,[rX]:!1,[b0e]:!1,[S0e]:!1},Cj="\\ud800-\\udfff",$0e="\\u0300-\\u036f",x0e="\\ufe20-\\ufe2f",A0e="\\u20d0-\\u20ff",O0e="\\u1ab0-\\u1aff",P0e="\\u1dc0-\\u1dff",R0e=$0e+x0e+A0e+O0e+P0e,dX="\\u2700-\\u27bf",hX="a-z\\xdf-\\xf6\\xf8-\\xff",N0e="\\xac\\xb1\\xd7\\xf7",I0e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",C0e="\\u2000-\\u206f",k0e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pX="A-Z\\xc0-\\xd6\\xd8-\\xde",j0e="\\ufe0e\\ufe0f",mX=N0e+I0e+C0e+k0e,gX="[']",EU=`[${mX}]`,kj=`[${R0e}]`,vX="\\d",D0e=`[${dX}]`,yX=`[${hX}]`,wX=`[^${Cj}${mX+vX+dX+hX+pX}]`,CI="\\ud83c[\\udffb-\\udfff]",M0e=`(?:${kj}|${CI})`,bX=`[^${Cj}]`,jj="(?:\\ud83c[\\udde6-\\uddff]){2}",Dj="[\\ud800-\\udbff][\\udc00-\\udfff]",Jp=`[${pX}]`,L0e="\\u200d",SU=`(?:${yX}|${wX})`,F0e=`(?:${Jp}|${wX})`,TU=`(?:${gX}(?:d|ll|m|re|s|t|ve))?`,$U=`(?:${gX}(?:D|LL|M|RE|S|T|VE))?`,_X=`${M0e}?`,EX=`[${j0e}]?`,B0e=`(?:${L0e}(?:${[bX,jj,Dj].join("|")})${EX+_X})*`,U0e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",z0e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",SX=EX+_X+B0e,q0e=`(?:${[D0e,jj,Dj].join("|")})${SX}`,V0e=RegExp([`${Jp}?${yX}+${TU}(?=${[EU,Jp,"$"].join("|")})`,`${F0e}+${$U}(?=${[EU,Jp+SU,"$"].join("|")})`,`${Jp}?${SU}+${TU}`,`${Jp}+${$U}`,z0e,U0e,`${vX}+`,q0e].join("|"),"g"),Mj=200,kI="__hash_undefined__",H0e=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,W0e=`[${Cj}]`,G0e=`${bX}${kj}?`,K0e=`(?:${[G0e,kj,jj,Dj,W0e].join("|")})`,TX=RegExp(`${CI}(?=${CI})|${K0e+SX}`,"g"),J0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y0e=/^\w*$/,X0e=46,Q0e=/\\(\\)?/g,Z0e=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),ewe=/^(?:0|[1-9]\d*)$/,twe=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),rwe=4294967294,nwe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$X=e=>TX.test(e),iwe=e=>e.match(TX)||[],owe=e=>e.split(""),xX=e=>$X(e)?iwe(e):owe(e),swe=e=>e==null?[]:w0(e).map(t=>e[t]),w0=e=>gl(e)?AX(e):Object.keys(Object(e)),awe=e=>{if(!FT(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},AX=(e,t)=>{const r=Array.isArray(e),n=!r&&eu(e)&&hl(e)===Iy,i=!r&&!n&&E0(e),o=r||n||i,s=e.length,a=new Array(o?s:0);let l=o?-1:s;for(;++l<s;)a[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||DX(u,s)))&&a.push(u);return a},Bw=(e,t)=>{let{length:r}=e;for(;r--;)if(dg(e[r][0],t))return r;return-1},dg=(e,t)=>e===t||e!==e&&t!==t,eu=e=>e!=null&&typeof e=="object",n1=(e,t,r)=>{if(!Pn(r))return!1;const n=typeof t;return(n=="number"?gl(r)&&t>-1&&t<r.length:n=="string"&&t in r)?dg(r[t],e):!1},lwe=e=>eu(e)&&hl(e)==y0,uwe=e=>eu(e)&&hl(e)==v0,FT=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},b0=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&dg(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},_0=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const o=t[n];b0(r,o,e[o])}return r},gl=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Xm=e=>typeof e=="symbol"||eu(e)&&hl(e)===LT,cwe=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Lj=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},hl=e=>e==null?e===void 0?E0e:_0e:Object.prototype.toString.call(e),Fj=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},OX=(e,t)=>{const r=t?Fj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},fwe=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},PX=e=>typeof e.constructor=="function"&&!FT(e)?Object.create(Object.getPrototypeOf(e)):{},Bj=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),dwe=(e,t)=>_0(e,Bj(e),t);function hwe(e,t){const r=t?Fj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const pwe=(e,t,r)=>{const n=e.constructor;switch(t){case Nj:return Fj(e);case jT:case Pj:return new n(+e);case Ij:return hwe(e,r);case nX:case iX:case oX:case sX:case aX:case lX:case uX:case cX:case fX:return OX(e,r);case v0:return new n(e);case DT:case MT:return new n(e);case Rj:return fwe(e);case y0:return new n;case LT:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},E0=e=>eu(e)&&H0e.test(hl(e)),jI=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...Bj(Object(e))),t},RX=e=>{const t=[];for(;e;)t.push(...Bj(e)),e=Object.getPrototypeOf(Object(e));return t},NX=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...RX(e)),t},Uw=({__data__:e},t)=>{const r=e;return $we(t)?r[typeof t=="string"?"string":"hash"]:r.map},mwe=(e,t,r,n)=>{const i=jI(e),o=i.length,a=jI(t).length;if(o!=a)return!1;let l,u=o;for(;u--;)if(l=i[u],!hasOwnProperty.call(t,l))return!1;const f=n.get(e),c=n.get(t);if(f&&c)return f==t&&c==e;let p=!0;n.set(e,t),n.set(t,e);let m;for(;++u<o;){l=i[u];const g=e[l],_=t[l];if(!(g===_||r(g,_,n))){p=!1;break}m||(m=l=="constructor")}if(p&&!m){const g=e.constructor,_=t.constructor;g!=_&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return n.delete(e),n.delete(t),p},BT=(e,t,r)=>e===t?!0:e==null||t==null||!eu(e)&&!eu(t)?e!==e&&t!==t:gwe(e,t,BT,r),gwe=(e,t,r,n)=>{let i=Array.isArray(e);const o=Array.isArray(t);let s=i?II:hl(e),a=o?II:hl(t);s=s==Iy?fm:s,a=a==Iy?fm:a;let l=s==fm;const u=a==fm,f=s==a;if(f&&!l)return n||(n=new Pm),i||E0(e)?IX(e,t,!1,r,n):wwe(e,t,s,r,n);const c=l&&hasOwnProperty.call(e,"__wrapped__"),p=u&&hasOwnProperty.call(t,"__wrapped__");if(c||p){const m=c?e.value():e,g=p?t.value():t;return n||(n=new Pm),r(m,g,n)}return f?(n||(n=new Pm),mwe(e,t,r,n)):!1},IX=(e,t,r,n,i)=>{const o=e.length,s=t.length;if(o!=s)return!1;const a=i.get(e),l=i.get(t);if(a&&l)return a==t&&l==e;let u=-1,f=!0;const c=r?new ky:void 0;for(i.set(e,t),i.set(t,e);++u<o;){const p=e[u],m=t[u];if(c){if(!vwe(t,(g,_)=>{if(!ywe(c,_)&&(p===g||n(p,g,i)))return c.push(_)})){f=!1;break}}else if(!(p===m||n(p,m,i))){f=!1;break}}return i.delete(e),i.delete(t),f},vwe=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},ywe=(e,t)=>e.has(t),xU=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),wwe=(e,t,r,n,i)=>{switch(r){case Ij:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,xU(e,t,n,i));case Nj:return xU(e,t,n,i);case jT:case Pj:case DT:return dg(+e,+t);case rX:return e.name==t.name&&e.message==t.message;case Rj:case MT:return e==`${t}`;case v0:let o=CX;case y0:if(o||(o=UT),e.size!=t.size)return!1;const s=i.get(e);if(s)return s==t;i.set(e,t);const a=IX(o(e),o(t),!0,n,i);return i.delete(e),a;case LT:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},CX=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},UT=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},Uj=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||Xm(e)?!0:Y0e.test(e)||!J0e.test(e)||t!=null&&e in Object(t)},bwe=e=>{const t=[];return e.charCodeAt(0)===X0e&&t.push(""),e.replace(Z0e,(r,n,i,o)=>{let s=r;i?s=o.replace(Q0e,"$1"):n&&(s=n.trim()),t.push(s)}),t},hg=(e,t)=>Array.isArray(e)?e:Uj(e,t)?[e]:bwe(`${e}`),zT=(e,t)=>{t=hg(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[sp(t[r])],r++;return r&&r==n?e:void 0};function _we(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,o=Xm(e),s=t!==void 0,a=t===null,l=t===t,u=Xm(t);if(!a&&!u&&!o&&e>t||o&&s&&l&&!a&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}function Ewe(e,t,r){let n=-1;const i=e.criteria,o=t.criteria,s=i.length,a=r.length;for(;++n<s;){const l=n<a?r[n]:null,f=(l&&typeof l=="function"?l:_we)(i[n],o[n]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const kX=(e,t)=>{let r=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,n=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=Mj&&(r=(s,a)=>s.has(a),n=!1,t=new ky(t));e:for(let s in e){let a=e[s];const l=a;if(a=a!==0?a:0,n&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;i.push(a)}else r(t,l)||i.push(a)}return i},sp=e=>{if(typeof e=="string"||Xm(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},Om=(e,t=!1,r=!1,n=!0,i,o,s,a)=>{let l;if(i&&(l=s?i(e,o,s,a):i(e)),l!==void 0)return l;if(!Pn(e))return e;const u=Array.isArray(e),f=hl(e);if(u){if(l=cwe(e),!t)return Lj(e,l)}else{const g=typeof e=="function";if(f===fm||f===Iy||g&&!s){if(l=r||g?{}:PX(e),!t)return r?Swe(e,_0(e,Object.keys(e),l)):dwe(e,Object.assign(l,e))}else{if(g||!T0e[f])return s?e:{};l=pwe(e,f,t)}}a||(a=new Pm);const c=a.get(e);if(c)return c;if(a.set(e,l),uwe(e))return e.forEach((g,_)=>{l.set(_,Om(g,t,r,n,i,_,e,a))}),l;if(lwe(e))return e.forEach(g=>{l.add(Om(g,t,r,n,i,g,e,a))}),l;if(E0(e))return l;const m=u?void 0:(n?r?NX:jI:r?MX:w0)(e);return(m||e).forEach((g,_)=>{m&&(_=g,g=e[_]),b0(l,_,Om(g,t,r,n,i,_,e,a))}),l},Swe=(e,t)=>_0(e,RX(e),t),jX=(e,t)=>t.length<2?e:zT(e,t.slice(0,-1)),DX=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&ewe.test(e))&&e>-1&&e%1==0&&e<t},Twe=(e,t)=>{t=hg(t,e),e=jX(e,t);const r=t[t.length-1];return e==null||delete e[sp(r)]},$we=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},MX=e=>{const t=[];for(const r in e)t.push(r);return t},xwe=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},AU=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function LX(e,t=!1){return(r,...n)=>{let i=-1,o=n.length,s=o>1?n[o-1]:void 0;const a=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,a&&n1(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),r=Object(r);++i<o;){const l=n[i];l&&e(r,l,i,s)}return r}}const zj=(e,t,r,n,i)=>{e!==t&&Za(t,(o,s)=>{if(Pn(o))i||(i=new Pm),Awe(e,t,s,r,zj,n,i);else{let a=n?n(e[s],o,`${s}`,e,t,i):void 0;a===void 0&&(a=o),DI(e,s,a)}})},Awe=(e,t,r,n,i,o,s)=>{const a=AU(e,r),l=AU(t,r),u=s.get(l);if(u){DI(e,r,u);return}let f=o?o(a,l,`${r}`,e,t,s):void 0,c=f===void 0;if(c){const p=Array.isArray(l),m=!p&&E0(l);f=l,p||m?Array.isArray(a)?f=a:eu(a)&&gl(a)?f=Lj(a):m?(c=!1,f=OX(l,!0)):f=[]:Ni(l)||Cy(l)?(f=a,Cy(a)?f=xwe(a):(typeof a=="function"||!Pn(a))&&(f=PX(l))):c=!1}c&&(s.set(l,f),i(f,l,n,o,s),s.delete(l)),DI(e,r,f)},DI=(e,t,r)=>{(r!==void 0&&!dg(e[t],r)||r===void 0&&!(t in e))&&b0(e,t,r)};function Owe(e,t,r){const n=Object(e),i=r(e);let{length:o}=i,s=-1;for(;o--;){const a=i[++s];if(t(n[a],a,n)===!1)break}return e}const Pwe=(e,t)=>e&&Owe(e,t,w0),qj=(e,t)=>{if(e==null)return e;if(!gl(e))return Pwe(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function Rwe(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const Nwe=Set&&1/UT(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function FX(e,t,r,n,i,o){return Pn(e)&&Pn(t)&&(o.set(t,e),zj(e,t,void 0,FX,o),o.delete(t)),e}function Iwe(e,t,r){t.length?t=t.map(s=>Array.isArray(s)?a=>zT(a,s.length===1?s[0]:s):s):t=[s=>s];let n=-1,i=-1;const o=gl(e)?new Array(e.length):[];return qj(e,s=>{const a=t.map(l=>l(s));o[++i]={criteria:a,index:++n,value:s}}),Cwe(o,(s,a)=>Ewe(s,a,r))}function Cwe(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function BX(e){return e===e&&!Pn(e)}function UX(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function kwe(e,t){return e!=null&&Jwe(e,t,Kwe)}function jwe(e,t){return Uj(e)&&BX(t)?UX(sp(e),t):r=>{const n=zT(r,e);return n===void 0&&n===t?kwe(r,e):BT(t,n)}}function Dwe(e){const t=Mwe(e);return t.length===1&&t[0][2]?UX(t[0][0],t[0][1]):r=>r===e||Lwe(r,e,t)}function Mwe(e){const t=w0(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,BX(i)]}return t}function Lwe(e,t,r,n){let i=r.length;const o=i;if(e==null)return!o;let s;for(e=Object(e);i--;)if(s=r[i],s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1;for(;++i<o;){s=r[i];const a=s[0],l=e[a],u=s[1];if(s[2]){if(l===void 0&&!(a in e))return!1}else{const f=new Pm;if(!BT(u,l,f))return!1}}return!0}function Fwe(e){return Uj(e)?Bwe(sp(e)):Uwe(e)}function Bwe(e){return t=>t==null?void 0:t[e]}function Uwe(e){return t=>zT(t,e)}function zwe(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?jwe(e[0],e[1]):Dwe(e):Fwe(e)}function qT(){const e=zwe;return arguments.length?e(arguments[0]):e}const qwe=(e,t,r,n)=>{let i=-1;const o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r},Vwe=(e,t,r,n,i)=>(i(e,(o,s,a)=>{r=n?(n=!1,o):t(r,o,s,a)}),r);function Hwe(e,t,r){const n=Array.isArray(e)?qwe:Vwe,i=arguments.length<3;return n(e,t,r,i,qj)}const Wwe=e=>Array.isArray(e)||Cy(e)||!!(e&&e[Symbol.isConcatSpreadable]);function zX(e,t,r,n,i){let o=-1;const s=e.length;for(r||(r=Wwe),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?zX(a,t-1,r,n,i):i.push(...a):i[i.length]=a}return i}const Cy=e=>eu(e)&&hl(e)=="[object Arguments]",Gwe=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,Kwe=(e,t)=>e!=null&&t in Object(e),Jwe=(e,t,r)=>{t=hg(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=sp(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Gwe(i)&&DX(s,i)&&(Array.isArray(e)||Cy(e)))},Ywe=e=>e.match(nwe),Xwe=e=>e.match(V0e),Qwe=(e,t)=>(twe(e)?Xwe(e):Ywe(e))||[],Zwe=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,!t&&r>=n?e:e.slice(t,r)},ebe=tbe("toUpperCase");function tbe(e){return t=>{if(!t)return"";const r=$X(t)?xX(t):void 0,n=r?r[0]:t[0],i=r?Zwe(r,1).join(""):t.slice(1);return n[e]()+i}}class Pm{constructor(t){const r=this.__data__=new aA(t);this.size=r.size}clear(){this.__data__=new aA,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof aA){const i=n.__data__;if(i.length<Mj-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new qX(i)}return n.set(t,r),this.size=n.size,this}}class aA{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=Bw(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=Bw(r,t);return n<0?void 0:r[n][1]}has(t){return Bw(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=Bw(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class qX{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new OU,map:new Map,string:new OU}}delete(t){const r=Uw(this,t).delete(t);return this.size-=r?1:0,r}get(t){return Uw(this,t).get(t)}has(t){return Uw(this,t).has(t)}set(t,r){const n=Uw(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class OU{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===kI?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?kI:r,this}}class ky{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new qX;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,kI),this}has(t){return this.__data__.has(t)}}ky.prototype.push=ky.prototype.add;const rbe=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===jT},Pn=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},Ls=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===DT},zo=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===MT},hr=LX((e,t)=>{if(FT(t)||gl(t)){_0(t,w0(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&b0(e,r,t[r])}),nbe=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&n1(t[0],t[1],i)&&(n=1);++r<n;){const o=t[r];if(o==null)continue;const s=Object.keys(o),a=s.length;let l=-1;for(;++l<a;){const u=s[l],f=e[u];(f===void 0||dg(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},Xa=nbe,ibe=function(...t){return t.push(void 0,FX),Xi.apply(void 0,t)},Vj=ibe,ku=(e,t,...r)=>{let n=-1;const i=typeof t=="function",o=gl(e)?new Array(e.length):[];return qj(e,s=>{o[++n]=i?t.apply(s,r):obe(s,t,...r)}),o},obe=(e,t,...r)=>{t=hg(t,e),e=jX(e,t);const n=e==null?e:e[sp(Rwe(t))];return n==null?void 0:n.apply(e,r)},VX=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=qT(r,2),t=r(t);const o=t!==t,s=t===null,a=Xm(t),l=t===void 0;for(;n<i;){let u;const f=Math.floor((n+i)/2),c=r(e[f]),p=c!==void 0,m=c===null,g=c===c,_=Xm(c);o?u=g:l?u=g&&p:s?u=g&&p&&!m:a?u=g&&p&&!m&&!_:m||_?u=!1:u=c<t,u?n=f+1:i=f}return Math.min(i,rwe)},S0=(e,t)=>{let r=-1,n=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=qT(t,2);let i=!0;const{length:o}=e,s=[];let a=s;if(o>=Mj){const l=t?null:Nwe(e);if(l)return UT(l);i=!1,n=(u,f)=>u.has(f),a=new ky}else a=t?[]:s;e:for(;++r<o;){let l=e[r];const u=t?t(l):l;if(l=l!==0?l:0,i&&u===u){let f=a.length;for(;f--;)if(a[f]===u)continue e;t&&a.push(u),s.push(l)}else n(a,u)||(a!==s&&a.push(u),s.push(l))}return s},Au=e=>Om(e),Qa=e=>Om(e,!0),Pc=e=>{if(e==null)return!0;if(gl(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||E0(e)||Cy(e)))return!e.length;const t=hl(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(FT(e))return!awe(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},dm=(e,t)=>BT(e,t),ei=e=>typeof e=="function",Ni=e=>{if(!eu(e)||hl(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},un=e=>{if(!e)return[];if(gl(e))return zo(e)?xX(e):Lj(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const o=[];for(;!(i=n.next()).done;)o.push(i.value);return o}const t=hl(e);return(t==v0?CX:t==y0?UT:swe)(e)};function sbe(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,o,s,a,l,u=0,f=!1,c=!1,p=!0;const m=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Pn(r)&&(f=!!r.leading,c="maxWait"in r,o=c?Math.max(20,t):o,p="trailing"in r?!!r.trailing:p);function g(d){const $=n,O=i;return n=i=void 0,u=d,s=e.apply(O,$),s}function _(d,$){return m?(window.cancelAnimationFrame(a),window.requestAnimationFrame(d)):setTimeout(d,$)}function v(d){if(m)return window.cancelAnimationFrame(d);clearTimeout(d)}function h(d){return u=d,a=_(S,t),f?g(d):s}function E(d){const $=d-l,O=d-u,P=t-$;return c?Math.min(P,o-O):P}function y(d){const $=d-l,O=d-u;return l===void 0||$>=t||$<0||c&&O>=o}function S(){const d=Date.now();if(y(d))return T(d);a=_(S,E(d))}function T(d){return a=void 0,p&&n?g(d):(n=i=void 0,s)}function x(...d){const $=Date.now(),O=y($);if(n=d,i=this,l=$,O){if(a===void 0)return h(l);if(c)return a=_(S,t),g(l)}return a===void 0&&(a=_(S,t)),s}return x.cancel=()=>{a!==void 0&&v(a),u=0,n=l=i=a=void 0},x.flush=()=>a===void 0?s:T(Date.now()),x.pending=()=>a!==void 0,x}const abe=(e,t)=>(t=qT(t,2),Hwe(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):b0(r,i,[n]),r),{})),lA=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&n1(e,t[0],t[1])?t=[]:r>2&&n1(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[qT(t,2)]),Iwe(e,t.flat(1),[])},lbe=e=>(e==null?0:e.length)?zX(e,1/0):[],PU=(e,...t)=>gl(e)?kX(e,t):[],ube=(e,...t)=>eu(e)&&gl(e)?kX(e,t.flat(1)):[],MI=(...e)=>{const t=e.flat(1);return S0(t)},Vf=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},Ii=(e,t,r)=>{t=hg(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let o=e==null?void 0:e[sp(t[n])];o===void 0&&(n=i,o=r),e=typeof o=="function"?o.call(e):o}return e},jy=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(o=>(o=hg(o,e),n||(n=o.length>1),o)),_0(e,NX(e),r),n&&(r=Om(r,!0,!0,!0,o=>Ni(o)?void 0:o));let i=t.length;for(;i--;)Twe(r,t[i]);return r},Za=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=gl(e)?AX(e,!0):MX(e);let o=i.length;for(;o--;){const s=i[++r];if(t(n[s],s,n)===!1)break}},cbe=(e="")=>Qwe(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?ebe(r):r)),"");let fbe=0;const dbe=(e="")=>{const t=++fbe;return`${e}`+t},Xi=LX((e,t,r,n)=>{zj(e,t,r,n)},!0),Vl=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,nd.classNamePrefix.length)!==nd.classNamePrefix&&(t=nd.classNamePrefix+t),t}).join(" ")},hbe=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,nd.classNamePrefix.length)===nd.classNamePrefix&&(t=t.substr(nd.classNamePrefix.length)),t}).join(" ")},i1=function(e,t){const r={},n={},i=wt.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(l,u,f){for(let c=0;c<l.length;c++){const p=l[c];if(typeof p=="string"){const S=document.createTextNode(p);u.appendChild(S);continue}if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const m=p.tagName;let g;p.hasOwnProperty("namespaceURI")&&(f=p.namespaceURI),g=document.createElementNS(f,m);const _=f===i,v=_?wt:wn,h=p.attributes;h&&v(g).attr(h);const E=p.style;if(E&&wn(g).css(E),p.hasOwnProperty("className")){const S=p.className;_?g.className.baseVal=S:g.className=S}if(p.hasOwnProperty("textContent")&&(g.textContent=p.textContent),p.hasOwnProperty("selector")){const S=p.selector;if(r[S])throw new Error("json-dom-parser: selector must be unique");r[S]=g,v(g).attr("joint-selector",S)}if(p.hasOwnProperty("groupSelector")){let S=p.groupSelector;Array.isArray(S)||(S=[S]);for(let T=0;T<S.length;T++){const x=S[T];let d=n[x];d||(d=n[x]=[]),d.push(g)}}u.appendChild(g);const y=p.children;Array.isArray(y)&&a(y,g,f)}};return a(e,s,o),{fragment:s,selectors:r,groupSelectors:n}},zw=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},Dy=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,o=0,s=n.length;o<s;)if(i=n[o++],Object(e)===e&&i in e)e=e[i];else return;return e},HX=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},RU=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),o=i.length-1;let s=e,a=0;for(;a<o;a++){const l=i[a];if(!HX(s,l))return e;s=s[l]||(s[l]={})}return s[i[o]]=r,e},NU=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let o=e,s=0;for(;s<i;s++){const a=n[s];if(!HX(o,a))return e;const l=o[a];if(!l)return e;o=l}return delete o[n[i]],e},pbe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},hm=function(e){return hm.id=hm.id||1,e===void 0?"j_"+hm.id++:(e.id=e.id===void 0?"j_"+hm.id++:e.id,e.id)},mbe=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},go=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},gbe=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}},vbe=function(e,t){return e>t?t:e<-t?-t:e},LI=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(function(){r(n+i)},i);return t=n+i,o}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),FI=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),$o=function(e){return zo(e)&&e.slice(-1)==="%"},ybe=function(e,t){function r(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return l?l[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else zo(t)&&(o=t);var s=r(o);return s===null?null:(i.unit=s,i)},Gv=0;function wbe(e,t){const r=e.split(t);let n=1;for(let i=0,o=r.length-1;i<o;i++){const s=[];(i>0||r[0]!=="")&&s.push(Gv),s.push(t),(i<o-1||r[o]!=="")&&s.push(Gv),r.splice(n,0,...s),n+=s.length+1}return r.filter(i=>i!=="")}function IU(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const bbe=function(e,t,r={},n={}){var i=t.width,o=t.height,s=n.svgDocument||wt("svg").node,a=wt("tspan").node,l=wt("text").attr(r).append(a).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(u),s.appendChild(l),n.svgDocument||document.body.appendChild(s);const f=n.preserveSpaces,c=" ",p=n.separator||n.separator===""?n.separator:c,m=typeof p=="string"?p:c;var g=n.eol||`
`,_=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,v=n.maxLineCount;Ls(v)||(v=1/0);var h=e.split(p),E=[],y=[],S,T,x;f&&wt(a).attr("xml:space","preserve");for(var d=0,$=0,O=h.length;d<O;d++){var P=h[d];if(!(!P&&!f)&&typeof P=="string"){var k=!1;if(P.indexOf(g)>=0)if(P.length>1){const F=wbe(h[d],g);h.splice(d,1,...F),d--,O=h.length;continue}else{if(f&&typeof h[d-1]=="string"){h.splice(d,Gv,"",Gv),O+=2,d--;continue}y[++$]=!f||typeof h[d+1]=="string"?"":void 0,k=!0}if(!k){let F;if(f?F=y[$]!==void 0?y[$]+m+P:P:F=y[$]?y[$]+m+P:P,u.data=F,a.getComputedTextLength()<=i)y[$]=F,(S||T)&&(E[$++]=!0,S=0,T=0);else{if(!y[$]||S){var B=!!S;if(S=P.length-1,B||!S){if(!S){if(!y[$]){y=[];break}h.splice(d,2,P+h[d+1]),O--,E[$++]=!0,d--;continue}h[d]=P.substring(0,S);const z=h[d+1];h[d+1]=P.substring(S)+(z===void 0||z===Gv?"":z)}else{if(T)h.splice(d,2,h[d]+h[d+1]),T=0;else{var K=P.search(_);K>-1&&K!==P.length-1&&K!==0&&(T=K+1,S=0),h.splice(d,1,P.substring(0,T||S),P.substring(T||S)),O++}$&&!E[$-1]&&$--}(!f||y[$]!=="")&&d--;continue}$++,d--}}var ie=null;if(y.length>v)ie=v-1;else if(o!==void 0){if(x===void 0&&u.data!=="")if(r.lineHeight==="auto")x=IU({value:1.5,unit:"em"},l);else{const F=ybe(r.lineHeight,["em","px",""]);x=IU(F,l)}x*y.length>o&&(ie=Math.floor(o/x)-1)}if(ie!==null){y.splice(ie+1);var W=n.ellipsis;if(!W||ie<0)break;typeof W!="string"&&(W="");var ne=y[ie];if(!ne&&!k)break;var fe=ne.length,re,le;do{if(le=ne[fe],re=ne.substring(0,fe),le?le.match(p)&&(re+=le):re+=m,re+=W,u.data=re,a.getComputedTextLength()<=i){y[ie]=re;break}fe--}while(fe>=0);break}}}return n.svgDocument?s.removeChild(l):document.body.removeChild(s),y.join(g)},_be=function(e,t){var r=wn(e),n=r.map(function(){var i=this,o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},Kh=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,o;return r=n=i=o=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=o=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:r,right:n,bottom:i,left:o}},Ebe={linear:function(e){return e}},WX={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,o,s={};for(i=r.length-1;i!=-1;i--)o=r[i],s[o]=e[o]+(t[o]-e[o])*n;return s}}},Sbe={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return ns(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return ns(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return ns('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return ns(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return ns('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return ns('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return ns('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},ns=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),s=o.split("."),a=r[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}};function GX(e){e=S0(e);const t=un(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return un(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const s=n.source(),a=n.target();s.id&&t[s.id]&&n.prop("source/id",t[s.id].id),a.id&&t[a.id]&&n.prop("target/id",t[a.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const o=un(r.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);Pc(o)||n.set("embeds",o)}),t}const Tbe=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],$be=Tbe.reduce((e,t)=>(e[t]=!0,e),{}),xbe={qualify:function(e){return Ni(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if($be[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(o,s){o.selected=i.includes(o.value)}):r[n]=i}})}};function vf(e,t){return function(r,n){var i=$o(r);r=parseFloat(r),i&&(r/=100);var o={};if(isFinite(r)){var s=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[e]=s}return o}}function qw(e,t,r){return function(n,i){var o=$o(n);n=parseFloat(n),o&&(n/=100);var s;if(isFinite(n)){var a=i[r]();o||n>0&&n<1?s=a[e]+i[t]*n:s=a[e]+n}var l=et();return l[e]=s||0,l}}function CU(e,t,r){return function(n,i){var o;n==="middle"?o=i[t]/2:n===r?o=i[t]:isFinite(n)?o=n>-1&&n<1?-i[t]*n:-n:$o(n)?o=i[t]*parseFloat(n)/100:o=0;var s=et();return s[e]=-(i[e]+o),s}}function KX(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,o,s){var a=wn(s),l=a.data(r);if(!l||l.value!==i){var u=e(i);l={value:i,shape:u,shapeBBox:u.bbox()},a.data(r,l)}var f=l.shape.clone(),c=l.shapeBBox.clone(),p=c.origin(),m=o.origin();c.x=m.x,c.y=m.y;var g=o.maxRectScaleToFit(c,m),_=c.width===0||o.width===0?1:g.sx,v=c.height===0||o.height===0?1:g.sy;return f.scale(_,v,p),n&&f.translate(-p.x,-p.y),f}}function kU(e){function t(n){return new ir(wt.normalizePathData(n))}var r=KX(t,e);return function(n,i,o){var s=r(n,i,o);return{d:s.serialize()}}}function jU(e){var t=KX(Qn,e);return function(r,n,i){var o=t(r,n,i);return{points:o.serialize()}}}function Vw(e,t){var r=new et(1,0);return function(n){var i,o,s=this[e](n);return s?(o=t.rotate?s.vector().vectorAngle(r):0,i=s.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function DU(e){return function(r,n,i){const o=wt(i);o.attr(e)!==r&&o.attr(e,r)}}function Np(e,t,r){return r.text!==void 0}function Qg(){return this.model.isLink()}function uA(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function MU(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const Ar={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:DU("href")},xlinkHref:{set:DU("xlink:href")},filter:{qualify:Ni,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Ni,set:MU},stroke:{qualify:Ni,set:MU},sourceMarker:{qualify:Ni,set:function(e,t,r,n){return e=hr(uA(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Ni,set:function(e,t,r,n){return e=hr(uA(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Ni,set:function(e,t,r,n){return e=hr(uA(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!Ni(r.textWrap)},set:function(e,t,r,n){const i=wn(r),o="joint-text",s=i.data(o),{lineHeight:a,annotations:l,textVerticalAnchor:u,eol:f,displayEmpty:c}=n;let p=n.textPath,m=n.x;nl(m)&&(m=il(m,t));let g=n["font-size"]||n.fontSize;nl(g)&&(g=il(g,t));const _=JSON.stringify([e,a,l,u,f,c,p,m,g]);if(s===void 0||s!==_){if(g&&r.setAttribute("font-size",g),Pn(p)){const v=p.selector;if(typeof v=="string"){const[h]=this.findBySelector(v);h instanceof SVGPathElement&&(p=hr({"xlink:href":"#"+h.id},p))}}wt(r).text(""+e,{lineHeight:a,annotations:l,textPath:p,x:m,textVerticalAnchor:u,eol:f,displayEmpty:c}),i.data(o,_)}}},textWrap:{qualify:Ni,set:function(e,t,r,n){var i={},o=e.width||0;$o(o)?i.width=t.width*parseFloat(o)/100:nl(o)?i.width=Number(il(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var s=e.height||0;$o(s)?i.height=t.height*parseFloat(s)/100:nl(s)?i.height=Number(il(s,t)):e.height===null||(s<=0?i.height=t.height+s:i.height=s);var a,l=e.text;if(l===void 0&&(l=n.text),l!==void 0){const u=e.breakText||bbe,f=n["font-size"]||n.fontSize;a=u(""+l,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":nl(f)?il(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";Ar.text.set.call(this,a,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=wn(r),i="joint-title",o=n.data(i);if(o===void 0||o!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var s=r.firstElementChild;if(s&&s.tagName==="title")s.textContent=e;else{var a=document.createElementNS(r.namespaceURI,"title");a.textContent=e,r.insertBefore(a,s)}}}},lineHeight:{qualify:Np},textVerticalAnchor:{qualify:Np},textPath:{qualify:Np},annotations:{qualify:Np},eol:{qualify:Np},displayEmpty:{qualify:Np},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:Ni,set:function(e,t,r){wn(r).css(e)}},html:{set:function(e,t,r){wn(r).html(e+"")}},props:xbe,ref:{},refX:{position:qw("x","width","origin")},refY:{position:qw("y","height","origin")},refDx:{position:qw("x","width","corner")},refDy:{position:qw("y","height","corner")},refWidth:{set:vf("width","width")},refHeight:{set:vf("height","height")},refRx:{set:vf("rx","width")},refRy:{set:vf("ry","height")},refRInscribed:{set:function(e){var t=vf(e,"width"),r=vf(e,"height");return function(n,i){var o=i.height>i.width?t:r;return o(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=$o(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:vf("cx","width")},refCy:{set:vf("cy","height")},xAlignment:{offset:CU("x","width","right")},yAlignment:{offset:CU("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:kU({resetOffset:!0})},refDKeepOffset:{set:kU({resetOffset:!1})},refPointsResetOffset:{set:jU({resetOffset:!0})},refPointsKeepOffset:{set:jU({resetOffset:!1})},connection:{qualify:Qg,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),o=n.divideAtLength(r,{segmentSubdivisions:i}),s=n.divideAtLength(-r,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Qg,set:Vw("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Qg,set:Vw("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Qg,set:Vw("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Qg,set:Vw("getTangentAtRatio",{rotate:!1})}};Ar["xlink:href"]=Ar.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{Ar[e]={qualify:nl,set:function(r,n){return{[e]:il(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{Ar[e]={qualify:nl,set:function(r,n){return{[e]:Math.max(0,il(r,n))}}}});Ar.refR=Ar.refRInscribed;Ar.refD=Ar.refDResetOffset;Ar.refPoints=Ar.refPointsResetOffset;Ar.atConnectionLength=Ar.atConnectionLengthKeepGradient;Ar.atConnectionRatio=Ar.atConnectionRatioKeepGradient;Ar.fontSize=Ar["font-size"];Ar.strokeWidth=Ar["stroke-width"];Ar.refX2=Ar.refX;Ar.refY2=Ar.refY;Ar.refWidth2=Ar.refWidth;Ar.refHeight2=Ar.refHeight;Ar["ref-x"]=Ar.refX;Ar["ref-y"]=Ar.refY;Ar["ref-dy"]=Ar.refDy;Ar["ref-dx"]=Ar.refDx;Ar["ref-width"]=Ar.refWidth;Ar["ref-height"]=Ar.refHeight;Ar["x-alignment"]=Ar.xAlignment;Ar["y-alignment"]=Ar.yAlignment;const JX=Ar,Vu=Fo.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=dbe("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=Ii(this,"defaults"))&&(n=Xi({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Ii(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};Za(r,function(o,s){const a=t[s];Za(o,function(l,u){Pn(l)&&!Array.isArray(l)?Za(l,function(f,c){(!a||!a[u]||!dm(a[u][c],f))&&(n[s]=n[s]||{},(n[s][u]||(n[s][u]={}))[c]=f)}):(!a||!dm(a[u],l))&&(n[s]=n[s]||{},n[s][u]=l)})});const i=Qa(jy(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return pbe()},processPorts:function(){var e=this.ports,t={};Za(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var r={};if(Za(e,function(o,s){t[s]||(r[s]=!0)}),this.graph&&!Pc(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){r[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){r[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){const a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=Xa(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:lA(r,l=>l.z());let o=t.maxZIndex()-r.length+1;const s=t.get("cells");let a=s.indexOf(n[0])!==s.length-r.length;a||(a=n.some(function(l,u){return l.z()!==o+u})),a&&(this.startBatch("to-front"),o=o+r.length,n.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=Xa(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:lA(n,a=>a.z());let o=t.minZIndex();var r=t.get("cells");let s=r.indexOf(i[0])!==0;s||(s=i.some(function(a,l){return a.z()!==o+l})),s&&(this.startBatch("to-back"),o-=n.length,i.forEach(function(a,l){a.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=hr([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",S0(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",PU(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(Pc(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=lA(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)r.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=zo(e)?e:e.id,n=this.parent();if(t=hr({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return un(GX([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Fo.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=zo(e);if(i||Array.isArray(e))if(arguments.length>1){var o,s;i?(o=e,s=o.split("/")):(o=e.join(n),s=e.slice());var a=s[0],l=s.length;const y=r||{};y.propertyPath=o,y.propertyValue=t,y.propertyPathArray=s,"rewrite"in y||(y.rewrite=!1);for(var u={},f=u,c=a,p=1;p<l;p++){var m=s[p],g=Number.isFinite(i?Number(m):m);f=f[c]=g?[]:{},c=m}u=RU(u,s,t,"/");var _=Xi({},this.attributes);y.rewrite&&NU(_,o,"/");var v=Xi(_,u);return this.set(a,v[a],y)}else return Dy(this.attributes,e,n);const h=t||{};h.propertyPath=null,h.propertyValue=e,h.propertyPathArray=[],"rewrite"in h||(h.rewrite=!1);const E={};for(const y in e){const{changedValue:S}=Xi({},{changedValue:this.attributes[y]},{changedValue:e[y]});E[y]=S}return this.set(E,h)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),o=this.get(n);return o==null?this:(o=Qa(o),NU(o,i,"/"),this.set(n,o,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):zo(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:Ebe.linear,valueFunction:WX.number};r=hr(i,r);var o=0,s,a=(function(c){var p,m,g;o=o||c,c-=o,m=c/r.duration,m<1?this._transitionIds[e]=p=LI(a):(m=1,delete this._transitionIds[e]),g=s(r.timingFunction(m)),r.transitionId=p,this.prop(e,g,r),p||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=c=>{l[e]&&(l[e]=PU(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,n),s=r.valueFunction(Dy(this.attributes,e,n),t),this._transitionIds[e]=LI(c),this.trigger("transition:start",this,e)};return u=setTimeout(f,r.delay,a),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return MI(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>dm(i,o.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(s=>clearTimeout(s)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>dm(i,o.split(t).slice(0,i.length)))}n.forEach(i=>{const o=r[i];FI(o),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,hr({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,hr({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new et(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new et},getBBox:function(){return new Vt(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new et(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=JX;return t&&t[e]||r[e]},define:function(e,t,r,n){r=hr({defaults:Vj({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Vf(joint,"shapes")&&RU(joint.shapes,e,i,"."),i}}),Abe=function(e,t,r){if(zo(r)){if(!BI[r])throw new Error('Unknown wrapper: "'+r+'"');r=BI[r]}if(!ei(r))throw new Error("Wrapper must be a function.");un(t).forEach(function(n){e[n]=r(e[n])})},BI={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof Vu?n=t:n instanceof Vu&&(t.length>1&&t.pop(),n=t)),i instanceof Vu&&(i={}),e.call(this,n,i)}}},Ei={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function YX(e,t){const r=new Vt(e);switch(t){case void 0:throw new Error("Position required");case Ei.LEFT:case"leftMiddle":return r.leftMiddle();case Ei.RIGHT:case"rightMiddle":return r.rightMiddle();case Ei.TOP:case"topMiddle":return r.topMiddle();case Ei.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case Ei.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case Ei.TOP_RIGHT:case"topRight":return r.topRight();case Ei.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case Ei.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case Ei.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function XX(e,t,r){var n=e.toJSON();return n.angle=t||0,Xa({},r,n)}function T0(e,t,r,n){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),XX(a.round(),0,Hj(n,i))},kh(t,r))}function QX(e,t,r,n){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=ps.fromRect(t);return e.map(function(l,u,f){var c=r+n(u,f.length),p=s.clone().rotate(i,-c).scale(o,1,i),m=l.compensateRotation?-a.tangentTheta(p):0;return(l.dx||l.dy)&&p.offset(l.dx||0,l.dy||0),l.dr&&p.move(i,l.dr),XX(p.round(),m,Hj(t,l))})}function Hj(e,t){let{x:r,y:n,angle:i}=t;return $o(r)?r=parseFloat(r)/100*e.width:nl(r)&&(r=Number(il(r,e))),$o(n)?n=parseFloat(n)/100*e.height:nl(n)&&(n=Number(il(n,e))),{x:r,y:n,angle:i}}function UI(e,t){const{x:r,y:n}=Hj(e,t);return new et(r||0,n||0)}const Obe=function(e,t){return e.map(r=>{const n=UI(t,r).round().toJSON();return n.angle=r.angle||0,n})},Pbe=function(e,t,r){return r.fn(e,t,r)},Rbe=function(e,t,r){var n=UI(t,r.start||t.origin()),i=UI(t,r.end||t.corner());return T0(e,n,i,t)},Nbe=function(e,t,r){return T0(e,t.origin(),t.bottomLeft(),t)},Ibe=function(e,t,r){return T0(e,t.topRight(),t.corner(),t)},Cbe=function(e,t,r){return T0(e,t.origin(),t.topRight(),t)},kbe=function(e,t,r){return T0(e,t.bottomLeft(),t.corner(),t)},jbe=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return QX(e,t,n,function(o){return o*i})},Dbe=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return QX(e,t,n,function(o,s){return(o+.5-s/2)*i})},Mbe=Object.freeze(Object.defineProperty({__proto__:null,absolute:Obe,bottom:kbe,ellipse:Dbe,ellipseSpread:jbe,fn:Pbe,left:Nbe,line:Rbe,right:Ibe,top:Cbe},Symbol.toStringTag,{value:"Module"}));function $d(e,t){return Vj({},e,t,{x:0,y:0,angle:0,attrs:{}})}function ZX(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[r,o,i,n]}function e5(e,t,r,n){n=Xa({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,p,m,g]=ZX(t);i<p||i>m?(a=".3em",o=u,s=0,l="start"):i<c?(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0")):i<g?(a=".3em",o=-u,s=0,l="end"):(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em"));var _=Math.round;return $d(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function t5(e,t,r,n){n=Xa({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,p,m,g]=ZX(t);i<p||i>m?(a=".3em",o=-u,s=0,l="end"):i<c?(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em")):i<g?(a=".3em",o=u,s=0,l="start"):(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0"));var _=Math.round;return $d(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function r5(e,t,r){r=Xa({},r,{offset:20});var n=XS(0,0),i=-e.theta(n),o=i,s=e.clone().move(n,r.offset).difference(e).round(),a=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var u=Math.round;return $d(r,{x:u(s.x),y:u(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:l}}})}const Lbe=function(e,t,r){return $d(r)},Fbe=function(e,t,r){return $d(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Bbe=function(e,t,r){return $d(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},Ube=function(e,t,r){return $d(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},zbe=function(e,t,r){return $d(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},qbe=function(e,t,r){return e5(e,t,!0,r)},Vbe=function(e,t,r){return e5(e,t,!1,r)},Hbe=function(e,t,r){return t5(e,t,!0,r)},Wbe=function(e,t,r){return t5(e,t,!1,r)},Gbe=function(e,t,r){return r5(e.difference(t.center()),!1,r)},Kbe=function(e,t,r){return r5(e.difference(t.center()),!0,r)},Jbe=Object.freeze(Object.defineProperty({__proto__:null,bottom:zbe,inside:Wbe,insideOriented:Hbe,left:Fbe,manual:Lbe,outside:Vbe,outsideOriented:qbe,radial:Gbe,radialOriented:Kbe,right:Bbe,top:Ube},Symbol.toStringTag,{value:"Module"})),pg=Vu.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return Au(this.get("source"));var n,i,o=e instanceof Vu;if(o)return n=Au(t)||{},n.id=e.id,i=r,this.set("source",n,i);var s=!Ni(e);return s?(n=Au(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return Au(this.get("target"));var n,i,o=e instanceof Vu;if(o)return n=Au(t)||{},n.id=e.id,i=r,this.set("target",n,i);var s=!Ni(e);return s?(n=Au(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?Au(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("router",o,s)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?Au(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("connector",o,s)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],o=this._normalizeVertex(i);r.push(o)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return n.splice(e,0,o),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!Ni(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return et(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!ei(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var o=this.vertices();return o.length>0&&(r.vertices=o.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new et(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new et(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(et),this.getTargetPoint()];return new Qn(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var o=n===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=zo(e)||Ls(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var n5=function(e){var t=Qa(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Mbe,this.portLabelLayoutNamespace=Jbe,this._init(t)};n5.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},l=n.map(function(c){return c&&c.position&&c.position.args}),u=s[o](l,t,a),f={ports:n,result:[]};return un(u).reduce((function(c,p,m){var g=c.ports[m];return c.result.push({portId:g.id,portTransformation:p,labelTransformation:this._getPortLabelLayout(g,et(p),t),portAttrs:g.attrs,portSize:g.size,labelSize:g.label.size}),c}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Pn(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=un(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return Xi(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=hr({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=Xi({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=Xi({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=hr({},r.size,t.size),t},_getZIndex:function(e,t){return Ls(t.z)?t.z:Ls(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return Xi({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;ei(e)?(n="fn",r.fn=e):zo(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Pn(e)&&(n=e.name,hr(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const Ybe={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};un(e.items).forEach(function(a){t[a.id]=!0});var r=this.previous("ports")||{},n={};un(r.items).forEach(function(a){t[a.id]||(n[a.id]=!0)});var i=this.graph;if(i&&!Pc(n)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){n[a.get("target").port]&&a.remove()});var s=i.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){n[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return Qa(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=un(this.prop(["ports","items"])).filter(r=>r.group===e);return Qa(t)},getPort:function(e){return Qa(un(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,Vt(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Pn(e)?e.id:e;return this._isValidPortId(t)?un(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Pn(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=hr([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Pn(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=hr([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):zo(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],Ni(t)&&(o.push(t),o.push(r))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=un(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),S0(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Pn(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",hr([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=hr([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=hr([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){const a=Pn(s)?s.id:s;return o.id===a})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new n5(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!r.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},Xbe={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=abe(this.model._portSettingsData.getPorts(),"z"),o="auto";un(i[o]).forEach(function(f){var c=this._getPortElement(f);t.append(c),e.push(c)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a];if(l!==o){var u=parseInt(l,10);this._appendPorts(i[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=un(e).map(this._getPortElement,this);r[t]||t<0?wt(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[o=null]=this.findBySelector(t,n,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){ku(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var o=wt(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),l=a.fragment;l.childNodes.length>1?t=wt("g").append(l):t=wt(l.firstChild),i=a.selectors}else t=wt(s),Array.isArray(t)&&(t=wt("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:_,selectors:v}=this.parseDOMJSON(u,o.node),h=_.childNodes.length;h>0&&(n=v,r=h===1?wt(_.firstChild):wt("g").append(_))}else r=wt(u),Array.isArray(r)&&(r=wt("g").append(r));var f;if(i&&n){for(var c in n)if(i[c]&&c!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=hr({},i,n)}else f=i||n||{};const p="portRoot",m="labelRoot",g="labelText";if(p in f||(f[p]=t.node),r){const _=r.node;if(m in f||(f[m]=_),!(g in f)){const v=r.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));f[g]=v,n||(n={}),n[g]=v}}return o.append(t.addClass("joint-port-body")),r&&o.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Vt(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var o=r[n],s=o.portId,a=this._portElementsCache[s]||{},l=o.portTransformation,u=o.labelTransformation;u&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,u.attrs,{rootBBox:new Vt(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new Vt(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(e,t,r){var n=wt.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},Es=Vu.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Vu.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=Ls(t);r=(n?r:e)||{};const{parentRelative:i,deep:o,restrictedArea:s}=r;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(n){if(a&&(e+=a.x,t+=a.y),o||s){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,r)}else this.set("position",{x:e,y:t},r);return this}else{const l=et(this.get("position"));return i?l.difference(a):l}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,n.x+e,n.y+t,r);e=o.x-n.x,t=o.y-n.y}else{var s=this.getBBox({deep:!0}),a=n.x-s.x,l=n.y-s.y,u=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,n.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-s.height,n.y+t));e=u-n.x,t=f-n.y}var c={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Pn(r.transition)||(r.transition={}),this.transition("position",c,hr({},r.transition,{valueFunction:WX.object})),ku(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),ku(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Pn(e)&&(r=t,t=Ls(e.height)?e.height:n.height,e=Ls(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=Ql(this.get("angle")||0),o=this.getBBox(),s;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(a+=Math.floor((i+45)/90),a%=4);var l=o[["bottomLeft","corner","topRight","origin"][a]](),u=et(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,c=a*Math.PI/2;c+=Math.atan(a%2==0?t/e:e/t),c-=Hs(i);var p=et.fromPolar(f,c,u);s=et(p).offset(e/-2,t/-2)}else switch(s=o.topLeft(),r.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},r),this.position(s.x,s.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&ku(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:o,width:s,height:a}=t;const{left:l,right:u,top:f,bottom:c}=Kh(e.padding);i-=l,o-=f,s+=l+u,a+=c+f;let p=new Vt(i,o,s,a);if(r)p=this.getBBox().union(p);else if(n){const m=this.getBBox().intersect(p);if(!m)return;p=m}this.set({position:{x:p.x,y:p.y},size:{width:p.width,height:p.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(r,this.get("angle")-e);var a=i.x-o.width/2-s.x,l=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(s.x+a,s.y+l,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return Ql(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const c=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return c.push(this),t.getCellsBBox(c,e)}const{angle:o=0,position:{x:s,y:a},size:{width:l,height:u}}=r,f=new Vt(s,a,l,u);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var o=i.port;if(!o||!this.hasPort(o))return n;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new et(a[o]).offset(r.origin()),u=this.angle();return u&&l.rotate(n,-u),l}});hr(Es.prototype,Ybe);const Qbe=Fo.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Vf(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?pg:Dy(n,e.type,".")||Es,o=new i(e,t);return t.dry||(o.graph=r.graph),o},comparator:function(e){return e.get("z")||0}}),Wj=Fo.Model.extend({initialize:function(e,t){t=t||{};var r=new Qbe([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Fo.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Fo.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=jy(n,"cells")),Fo.Model.prototype.set.call(this,n,r)},clear:function(e){e=hr({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Fo.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!zo(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Fo.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=lbe(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=un(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),ku(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=[],s={};i&&a(this,e),n&&l(this,e);function a(c,p){if(Za(c.getOutboundEdges(p.id),(function(g,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&p.isLink()){var m=p.getTargetCell();m&&m.isLink()&&(s[m.id]||(o.push(m),a(c,m)))}}function l(c,p){if(Za(c.getInboundEdges(p.id),(function(g,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&p.isLink()){var m=p.getSourceCell();m&&m.isLink()&&(s[m.id]||(o.push(m),l(c,m)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(c){c.isElement()&&(f[c.id]=!0)}),u.forEach(function(c){c.isLink()||(i&&Za(this.getOutboundEdges(c.id),(function(p,m){if(!s[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,h=_.id,E=v.id;if(!t.includeEnclosed&&h&&f[h]&&E&&f[E])return;o.push(this.getCell(m)),s[m]=!0}}).bind(this)),n&&Za(this.getInboundEdges(c.id),(function(p,m){if(!s[m]){var g=this.getCell(m),{source:_,target:v}=g.attributes,h=_.id,E=v.id;if(!t.includeEnclosed&&h&&f[h]&&E&&f[E])return;o.push(this.getCell(m)),s[m]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(a,l){var{source:u,target:f}=l.attributes,c=l.hasLoop(t);if(r&&Vf(u,"id")&&!a[u.id]){var p=this.getCell(u.id);p.isElement()&&(c||p&&p!==e&&(!t.deep||!p.isEmbeddedIn(e)))&&(a[u.id]=p)}if(n&&Vf(f,"id")&&!a[f.id]){var m=this.getCell(f.id);m.isElement()&&(c||m&&m!==e&&(!t.deep||!m.isEmbeddedIn(e)))&&(a[f.id]=m)}return a}).bind(this),{});if(e.isLink()){if(r){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(n){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return un(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=un(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},hr({},t,{outbound:!0})),r},cloneCells:GX,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],o=[];return un(e).forEach(function(s){if(n[s.id]||(r.push(s),n[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(l){n[l.id]||(r.push(l),n[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(s){var{source:a,target:l}=s.attributes;if(a.id&&!n[a.id]){var u=this.getCell(a.id);r.push(u),n[u.id]=u,i.push(u)}if(l.id&&!n[l.id]){var f=this.getCell(l.id);r.push(this.getCell(l.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(l){var{source:u,target:f}=l.attributes;!n[l.id]&&u.id&&n[u.id]&&f.id&&n[f.id]&&(r.push(l),n[l.id]=l)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},hr({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r);for(let l=0,u=a.length;l<u;l++){const f=a[l];i[f.id]=i[s.id]+1,o.push(f)}}},dfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const s=o.pop();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r),l=o.length;for(let u=0,f=a.length;u<f;u++){const c=a[u];i[c.id]=i[s.id]+1,o.splice(l,0,c)}}},getSources:function(){var e=[];return Za(this._nodes,(function(t,r){(!this._in[r]||Pc(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return Za(this._nodes,(function(t,r){(!this._out[r]||Pc(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Pc(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Pc(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=!1;return this.getConnectedLinks(e,r).forEach(function(s){var{source:a,target:l}=s.attributes;if(n&&Vf(a,"id")&&a.id===t.id||i&&Vf(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){ku(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new Vt(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(o=>r[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(YX(n,r))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return un(e).reduce(function(n,i){const o=i.getBBox({rotate:r});return o?n?n.union(o):o:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return ku(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);ku(r,"scale",o,s,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",hr({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",hr({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),s=o.filter(function(a){var{source:l,target:u}=a.attributes;return l&&l.id===r.id&&(!l.port||l.port===r.port)&&u&&u.id===n.id&&(!u.port||u.port===n.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});Abe(Wj.prototype,["resetCells","addCells","removeCells"],BI.cells);const ch={},id=Fo.View.extend({options:{},theme:null,themeClassNamePrefix:Vl("theme-"),requireSetThemeOverride:!1,defaultTheme:nd.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=hr({},this.options,e),Fo.View.call(this,e)},initialize:function(){ch[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Ii(this,"children")),e){var t=this.svgElement,r=wt.namespace[t?"svg":"xhtml"],n=i1(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Ii(this,"el"));else{var e=Ii(this,"tagName"),t=hr({},Ii(this,"attributes")),r=hr({},Ii(this,"style"));this.id&&(t.id=Ii(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(wt.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Fo.$?e:Fo.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=wt(this.el))},_ensureElClassName:function(){var e=Ii(this,"className");if(e){var t=Vl(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),ch[this.cid]=null,Fo.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&wn(e).on(i+n,r,o.bind(this))}return this},undelegateElementEvents:function(e){return wn(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Ii(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),hr(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&hr({},e[0])||{},r=e[1]&&hr({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,Fo.View.extend.call(this,t,r)}}),LU="dbltap";if(wn.event&&!(LU in wn.event.special)){const e=nd.doubleTapInterval,t=30;wn.event.special[LU]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:o}=r,s=wn.data(o),a=new Date().getTime(),l="lastTouch"in s?a-s.lastTouch:0;l<e&&l>t?(s.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):s.lastTouch=a}}}const el={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Zbe=id.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Vl(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in r)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){const o=r[i];t.insertBefore(n,o.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function Zg(e){return e?Array.isArray(e)?e:[e]:[]}const Hl=id.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(Ni(t)){const n=e.model.isLink(),{label:i=null,port:o,selector:s}=t;n&&i!==null?r=e.findLabelNode(i,s):!n&&o?r=e.findPortNode(o,s):[r]=e.findBySelector(s)}else t&&(r=wt.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?n?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s){this.update(t,a),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=n;if(f){let c;o?(c=o,this.detachedTransformGroup=null):c=wt("g").addClass("highlight-transform").append(r),this.transformGroup=c,u.getLayerView(f).insertSortedNode(c.node,n.z)}else(!r.parentNode||r.nextSibling)&&l.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=n.multiply(i);e.attr("transform",wt.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Ii(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;Ii(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const o=[];if(!i)return o;for(let s in i){const a=i[s];a instanceof this&&o.push(a)}return o}else{if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=Hl.get(e,r);i&&i.remove();const o=new this(n);return o.id=r,this._addRef(e,r,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let o=i[n];o||(o=i[n]={}),o[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let o in i)return;delete n[r]}},remove(e,t=null){Zg(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const o=r[n][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,r=!1){Zg(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){Zg(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){Zg(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){Zg(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return wt.ensureId(e)+JSON.stringify(t)}}),Ip={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},e_e={TOOLS:"TOOLS"},Wr=id.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,o,s=Ii(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),n=0,i=l.length;n<i;n++){o=l[n];var u=e[o];u||(u=e[o]=1<<r++),t[a]|=u}}var f=Ii(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)o=f[n],e[o]||(e[o]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||hm(this),id.call(this,e)},initialize:function(){this.setFlags(),id.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=i1(e),n=r.selectors,i=r.groupSelectors;for(var o in i){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=i[o]}if(t){var s=this.selector;if(n[s])throw new Error("dia.CellView: ambiguous root selector.");n[s]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=ei(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Pn(t)&&t[e]!==!1||rbe(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return wn(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return wt.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():wt.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return wt.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=wt.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=wt.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,o=n.height/2;e=e.translate(i,o).rotate(r).translate(-i,-o)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let o;switch(!0){case r.embedding:o=Ip.EMBEDDING;break;case r.connecting:o=Ip.CONNECTING;break;case r.magnetAvailability:o=Ip.MAGNET_AVAILABILITY;break;case r.elementAvailability:o=Ip.ELEMENT_AVAILABILITY;break;default:o=Ip.DEFAULT;break}r.type=o}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=wt(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,o=n.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,r,o,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:n};return o!=null&&(s.magnet=o),i!=null?(s.port=i,!r.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,r,n,i,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var l=a.call(s,e,this,t,new et(r,n),i,o,s);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,o;return r!=null&&i.isElement()&&i.hasPort(r)?o=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),o=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=n.targetMagnet;if(s==="onleave"){if(l===a||wt(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Pc(t)||(e instanceof SVGElement?wt(e).attr(t):wn(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,o,s,a,l,u,f,c=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!ei(i.qualify)||i.qualify.call(this,n,e,t,this))?(zo(i.set)&&(a||(a={}),a[i.set]=n),n!==null&&c.push(r,i)):(a||(a={}),a[mbe(r)]=n));for(o=0,s=c.length;o<s;o+=2)r=c[o],i=c[o+1],n=t[r],ei(i.set)&&(l||(l={}),l[r]=n),ei(i.position)&&(u||(u={}),u[r]=n),ei(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:a,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,o,s,a=t.raw||{},l=t.normal||{},u=t.set,f=t.position,c=t.offset;for(i in u){o=u[i],s=this.getAttributeDefinition(i);var p=s.set.call(this,o,r.clone(),e,a,this);Pn(p)?hr(l,p):p!==void 0&&(l[i]=p)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var m=l.transform,g=wt.transformStringToMatrix(m),_=et(g.e,g.f);m&&(l=jy(l,"transform"),g.e=g.f=0);var v,h,E;if(f||c){var y=this.getNodeScale(e,n.scalableNode);v=y.sx,h=y.sy}var S=!1;for(i in f)o=f[i],s=this.getAttributeDefinition(i),E=s.position.call(this,o,r.clone(),e,a,this),E&&(_.offset(et(E).scale(v,h)),S||(S=!0));this.setNodeAttributes(e,l);var T=!1;if(c){var x=this.getNodeBoundingRect(e);if(x.width>0&&x.height>0){var d=wt.transformRect(x,g).scale(1/v,1/h);for(i in c)o=c[i],s=this.getAttributeDefinition(i),E=s.offset.call(this,o,d,e,a,this),E&&(_.offset(et(E).scale(v,h)),T||(T=!0))}}(m!==void 0||S||T)&&(_.round(1),g.e=_.x,g.f=_.y,e.setAttribute("transform",wt.matrixToTransformString(g)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=wt.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=wt(e).getBBox()),new Vt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=wt(e).getTransformToElement(i)}return wt.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=wt(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,o,s,a,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(s=e[f],!!Ni(s))){var c=r[f]=this.findBySelector(f,t,n);for(i=0,o=c.length;i<o;i++){var p=c[i];a=wt.ensureId(p);var m=n&&n[f]===p,g=l[a];if(g){g.array||(u.push(a),g.array=!0,g.attributes=[g.attributes],g.selectedLength=[g.selectedLength]);var _=g.attributes,v=g.selectedLength;if(m)_.unshift(s),v.unshift(-1);else{var h=VX(v,o);_.splice(h,0,s),v.splice(h,0,o)}}else l[a]={attributes:s,selectedLength:m?-1:o,node:p,array:!1}}}for(i=0,o=u.length;i<o;i++)a=u[i],s=l[a],s.attributes=Xi({},...s.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:o=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=Vt()),r.selectors||(r.selectors=this.selectors);var n={},i={},o=[],s=[],a,l,u,f,c,p=r.roAttributes,m=this.findNodesAttributes(p||t,e,n,r.selectors),g=p?this.findNodesAttributes(t,e,n,r.selectors):m;for(var _ in m)if(f=m[_],u=f.attributes,l=f.node,c=this.processNodeAttributes(l,u),!c.set&&!c.position&&!c.offset)this.setNodeAttributes(l,c.normal);else{var v=g[_]&&g[_].attributes,h=v&&u.ref===void 0?v.ref:u.ref,E;if(h){if(E=(n[h]||this.findBySelector(h,e,r.selectors))[0],!E)throw new Error('dia.CellView: "'+h+'" reference does not exist.')}else E=null;if(a={node:l,refNode:E,processedAttributes:c,allAttributes:v},E){var y=s.findIndex(function(S){return S.refNode===l});y>-1?s.splice(y,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let S=0,T=o.length;S<T;S++){a=o[S],l=a.node,E=a.refNode;const x=E?wt.ensureId(E):"";let d=i[x];d||(d=i[x]=E?wt(E).getBBox({target:t_e(l,E)}):r.rootBBox),p?(c=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(c,a.processedAttributes)):c=a.processedAttributes,this.updateRelativeAttributes(l,c,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),hr(e.set,t.set),hr(e.position,t.position),hr(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),Hl.mount(this))},onDetach(){this.unmountTools(),Hl.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){Hl.remove(this)},updateHighlighters:function(e=!1){Hl.update(this,null,e)},transformHighlighters:function(){Hl.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const o=r.getSourceElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}const s=r.getTargetElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:e_e,Highlighting:Ip,addPresentationAttributes:function(e){return Xi({},Ii(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return S0(t.concat(r))})}});function t_e(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const ln={TOOLS:Wr.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},Cp={MOVE:"move",MAGNET:"magnet"},DE=Wr.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Wr.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Wr.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[ln.UPDATE],position:[ln.TRANSLATE,ln.TOOLS],size:[ln.RESIZE,ln.PORTS,ln.TOOLS],angle:[ln.ROTATE,ln.TOOLS],markup:[ln.RENDER],ports:[ln.PORTS]},initFlag:[ln.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,ln.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,ln.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[ln.RENDER,ln.UPDATE,ln.RESIZE,ln.TRANSLATE,ln.ROTATE,ln.PORTS,ln.TOOLS]);else{let n=!1;this.hasFlag(e,ln.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[ln.RESIZE,ln.UPDATE]),e=this.removeFlag(e,ln.PORTS)),this.hasFlag(e,ln.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,ln.UPDATE),n=!0,e=this.removeFlag(e,ln.PORTS)),this.hasFlag(e,ln.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,ln.TRANSLATE),r=!0),this.hasFlag(e,ln.ROTATE)&&(this.rotate(),e=this.removeFlag(e,ln.ROTATE),r=!0),this.hasFlag(e,ln.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,ln.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,ln.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,ln.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new Vt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=wt(r[this.rotatableSelector])||null,this.scalableNode=wt(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(wt(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=n.width/(s.width||1),l=n.height/(s.height||1);i.attr("transform","scale("+a+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var c=i.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},hr({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=n.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);s.forEach(u=>{u.attributes.z<=a&&u.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(n.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:u}=o.options;let f;ei(a)?f=un(a.call(s,this,t,r,n)):a==="pointer"?f=un(s.findModelsFromPoint({x:r,y:n})):f=s.findModelsUnderElement(i,{searchBy:a}),f=f.filter(m=>m instanceof Vu&&i.id!==m.id&&!m.isEmbeddedIn(i)),l&&(f=f.slice(-1));let c=null;const p=e.candidateEmbedView;for(let m=f.length-1;m>=0;m--){const g=f[m];if(p&&p.model.id==g.id){c=p;break}else{const _=g.findView(o);if(!ei(u)||u.call(o,this,_)){c=_;break}}}c&&c!=p&&(this.clearEmbedding(e),e.candidateEmbedView=c.highlight(c.findProxyNode(null,"container"),{embedding:!0})),!c&&p&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,o=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:s,initialPosition:a,initialZIndices:l}=e;if(a){const{x:f,y:c}=a;n.position(f,c,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const c=o.getCell(f);c&&c.set("z",l[f],{ui:!0})});const u=o.getCell(s);u&&u.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){Wr.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){Wr.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),Wr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){Wr.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Wr.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){Wr.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointermove(e,i,t,r),o){case Cp.MAGNET:this.dragMagnet(e,t,r);break;case Cp.MOVE:(s||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointerup(e,i,t,r),o){case Cp.MAGNET:this.dragMagnetEnd(e,t,r);break;case Cp.MOVE:(s||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){Wr.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Wr.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Wr.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Wr.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){Wr.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:Cp.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,o,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,r),this.eventData(e,{action:Cp.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:u}=s,f=Wh(t+a.x,i),c=Wh(r+a.y,i);o.position(f,c,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(u||(this.prepareEmbedding(s),u=!0),this.processEmbedding(s,e,t,r)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:ln});hr(DE.prototype,Xbe);const r_e=function(e,t,r){return e},n_e=function(e,t,r){var n=t.side||"bottom",i=Kh(t.padding||40),o=r.sourceBBox,s=r.targetBBox,a=o.center(),l=s.center(),u,f,c;switch(n){case"bottom":c=1,u="y",f="height";break;case"top":c=-1,u="y",f="height";break;case"left":c=-1,u="x",f="width";break;case"right":c=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return a[u]+=c*(o[f]/2+i[n]),l[u]+=c*(s[f]/2+i[n]),c*(a[u]-l[u])>0?l[u]=a[u]:a[u]=l[u],[a].concat(e,l)};var i_e={N:"S",S:"N",E:"W",W:"E"},o_e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function o1(e,t,r){var n=new et(e.x,t.y);return r.containsPoint(n)&&(n=new et(t.x,e.y)),n}function zI(e,t){return e[t==="W"||t==="E"?"width":"height"]}function ms(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function Hw(e){return new Vt(e.x,e.y,0,0)}function s1(e){var t=Kh(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function i5(e,t){return e.sourceBBox.clone().moveAndExpand(s1(t))}function o5(e,t){return e.targetBBox.clone().moveAndExpand(s1(t))}function s_e(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=i5(e,t);return r.center()}function a_e(e,t){if(e.targetAnchor)return e.targetAnchor;var r=o5(e,t);return r.center()}function s5(e,t,r){var n=new et(e.x,t.y),i=new et(t.x,e.y),o=ms(e,n),s=ms(e,i),a=i_e[r],l=o===r||o!==a&&(s===a||s!==r)?n:i;return{points:[l],direction:ms(l,t)}}function ME(e,t,r){var n=o1(e,t,r);return{points:[n],direction:ms(n,t)}}function l_e(e,t,r,n){var i={},o=[new et(e.x,t.y),new et(t.x,e.y)],s=o.filter(function(c){return!r.containsPoint(c)}),a=s.filter(function(c){return ms(c,e)!==n}),l;if(a.length>0)l=a.filter(function(c){return ms(e,c)===n}).pop(),l=l||a[0],i.points=[l],i.direction=ms(l,t);else{l=ube(o,s)[0];var u=new et(t).move(l,-zI(r,n)/2),f=o1(u,e,r);i.points=[f,u],i.direction=ms(u,t)}return i}function u_e(e,t,r,n){var i=ME(t,e,n),o=i.points[0];if(r.containsPoint(o)){i=ME(e,t,r);var s=i.points[0];if(n.containsPoint(s)){var a=new et(e).move(s,-zI(r,ms(e,s))/2),l=new et(t).move(o,-zI(n,ms(t,o))/2),u=new Kt(a,l).midpoint(),f=ME(e,u,r),c=s5(u,t,f.direction);i.points=[f.points[0],c.points[0]],i.direction=c.direction}}return i}function cA(e,t,r,n,i){var o={},s=r.union(n).inflate(1),a=s.center().distance(t)>s.center().distance(e),l=a?t:e,u=a?e:t,f,c,p;return i?(f=et.fromPolar(s.width+s.height,o_e[i],l),f=s.pointNearestToPoint(f).move(f,-1)):f=s.pointNearestToPoint(l).move(l,1),c=o1(f,u,s),f.round().equals(c.round())?(c=et.fromPolar(s.width+s.height,Hs(f.theta(l))+Math.PI/2,u),c=s.pointNearestToPoint(c).move(u,1).round(),p=o1(f,c,s),o.points=a?[c,p,f]:[f,p,c]):o.points=a?[c,f]:[f,c],o.direction=ms(a?f:c,t),o}function qI(e,t,r){var n=i5(r,t),i=o5(r,t),o=s_e(r,t),s=a_e(r,t);n=n.union(Hw(o)),i=i.union(Hw(s)),e=un(e).map(et),e.unshift(o),e.push(s);for(var a,l=[],u=0,f=e.length-1;u<f;u++){var c=null,p=e[u],m=e[u+1],g=!!ms(p,m);if(u===0)u+1===f?n.intersect(i.clone().inflate(1))?c=cA(p,m,n,i):g||(c=u_e(p,m,n,i)):n.containsPoint(m)?c=cA(p,m,n,Hw(m).moveAndExpand(s1(t))):g||(c=ME(p,m,n));else if(u+1===f){var _=g&&ms(m,p)===a;i.containsPoint(p)||_?c=cA(p,m,Hw(p).moveAndExpand(s1(t)),i,a):g||(c=l_e(p,m,i,a))}else g||(c=s5(p,m,a));c?(Array.prototype.push.apply(l,c.points),a=c.direction):a=ms(p,m),u+1<f&&l.push(m)}return l}var a5={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!ei(qI))throw new Error("Manhattan requires the orthogonal router as default fallback.");return qI(e,hr({},a5,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function Gj(e){this.map={},this.options=e,this.mapGridSize=100}Gj.prototype.build=function(e,t){var r=this.options,n=un(r.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var c=e.getCell(f.id);c&&l.push(c)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=MI(i,o.getAncestors().map(function(l){return l.id})));var s=e.getCell(t.get("target").id);s&&(i=MI(i,s.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=un(r.excludeTypes).includes(u.get("type")),c=n.find(function(S){return S.id===u.id}),p=i.includes(u.id),m=f||c||p;if(!m)for(var g=u.getBBox().moveAndExpand(r.paddingBox),_=g.origin().snapToGrid(a),v=g.corner().snapToGrid(a),h=_.x;h<=v.x;h+=a)for(var E=_.y;E<=v.y;E+=a){var y=h+"@"+E;l[y]=l[y]||[],l[y].push(g)}return l},this.map),this};Gj.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return un(this.map[t]).every(function(r){return!r.containsPoint(e)})};function ap(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}ap.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=VX(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};ap.prototype.remove=function(e){this.hash[e]=this.CLOSE};ap.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};ap.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};ap.prototype.isEmpty=function(){return this.items.length===0};ap.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function l5(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function u5(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function c5(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=l5(e,t);return r.center()}function c_e(e,t){if(e.targetAnchor)return e.targetAnchor;var r=u5(e,t);return r.center()}function fA(e,t,r,n,i){var o=360/r,s=e.theta(f_e(e,t,n,i)),a=Ql(s+o/2);return o*Math.floor(a/o)}function f_e(e,t,r,n){var i=n.step,o=t.x-e.x,s=t.y-e.y,a=o/r.x,l=s/r.y,u=a*i,f=l*i;return new et(e.x+u,e.y+f)}function FU(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function d_e(e,t,r){var n=r.step;un(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function h_e(e,t,r){return{source:t.clone(),x:BU(r.x-t.x,e),y:BU(r.y-t.y,e)}}function BU(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,o=r-i,s=o/n;return t+s}function p_e(e,t){var r=t.source,n=Wh(e.x-r.x,t.x)+r.x,i=Wh(e.y-r.y,t.y)+r.y;return new et(n,i)}function $v(e,t){return e.round(t)}function LE(e,t,r){return $v(p_e(e.clone(),t),r)}function Kv(e){return e.clone().toString()}function dA(e){return new et(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function m_e(e,t,r,n,i,o,s){for(var a=[],l=dA(i.difference(r)),u=Kv(r),f=e[u],c;f;){c=t[u];var p=dA(c.difference(f));p.equals(l)||(a.unshift(c),l=p),u=Kv(f),f=e[u]}var m=t[u],g=dA(m.difference(n));return g.equals(l)||a.unshift(m),a}function UU(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var o=e.manhattanDistance(t[n]);o<r&&(r=o)}return r}function zU(e,t,r,n,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),l=Pn(s)?Object.keys(s):[],u=un(r),f=l.reduce(function(c,p){if(u.includes(p)){for(var m=s[p],g=new et(e.x+m.x*(Math.abs(a.x)+t.width),e.y+m.y*(Math.abs(a.y)+t.height)),_=new Kt(e,g),v=_.intersect(t)||[],h=v.length,E,y=null,S=0;S<h;S++){var T=v[S],x=e.squaredDistance(T);(E===void 0||x>E)&&(E=x,y=T)}if(y){var d=LE(y,n,o);t.containsPoint(d)&&(d=LE(d.offset(m.x*n.x,m.y*n.y),n,o)),c.push(d)}}return c},[]);return t.containsPoint(e)||f.push(LE(e,n,o)),f}function g_e(e,t,r,n){var i=n.precision,o,s;e instanceof Vt?o=$v(c5(this,n).clone(),i):o=$v(e.clone(),i),t instanceof Vt?s=$v(c_e(this,n).clone(),i):s=$v(t.clone(),i);var a=h_e(n.step,o,s),l,u,f,c;if(e instanceof Vt?(l=o,f=zU(l,e,n.startDirections,a,n)):(l=o,f=[l]),t instanceof Vt?(u=s,c=zU(s,t,n.endDirections,a,n)):(u=s,c=[u]),f=f.filter(Oe=>!r(Oe)),c=c.filter(Oe=>!r(Oe)),f.length>0&&c.length>0){for(var p=new ap,m={},g={},_={},v=0,h=f.length;v<h;v++){var E=f[v],y=Kv(E);p.add(y,UU(E,c)),m[y]=E,_[y]=0}var S=n.previousDirectionAngle,T=S===void 0,x,d,$=n.directions;d_e($,a,n);for(var O=$.length,P=un(c).reduce(function(Oe,I){var L=Kv(I);return Oe.push(L),Oe},[]),k=n.maximumLoops;!p.isEmpty()&&k>0;){var B=p.pop(),K=m[B],ie=g[B],W=_[B],ne=ie===void 0,fe=K.equals(l),re;ne?T?fe?re=null:re=fA(l,K,O,a,n):re=S:re=fA(ie,K,O,a,n);var le=f.length===c.length;if(le){for(var F=0;F<f.length;F++)if(!f[F].equals(c[F])){le=!1;break}}var z=ne&&le;if(!z&&P.indexOf(B)>=0)return n.previousDirectionAngle=re,m_e(g,m,K,l,u);for(v=0;v<O;v++){x=$[v];var J=x.angle;if(d=FU(re,J),!(!(T&&fe)&&d>n.maxAllowedDirectionChange)){var R=LE(K.clone().offset(x.gridOffsetX,x.gridOffsetY),a,i),C=Kv(R);if(!(p.isClose(C)||r(R))){if(P.indexOf(C)>=0){var q=R.equals(u);if(!q){var oe=fA(R,u,O,a,n),X=FU(J,oe);if(X>n.maxAllowedDirectionChange)continue}}var ee=x.cost,se=fe?0:n.penalties[d],we=W+ee+se;(!p.isOpen(C)||we<_[C])&&(m[C]=R,g[C]=K,_[C]=we,p.add(C,we+UU(R,c)))}}}k--}}return n.fallbackRoute.call(this,l,u,n)}function v_e(e){if(e.directions=Ii(e,"directions"),e.penalties=Ii(e,"penalties"),e.paddingBox=Ii(e,"paddingBox"),e.padding=Ii(e,"padding"),e.padding){var t=Kh(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}un(e.directions).forEach(function(r){var n=new et(0,0),i=new et(r.offsetX,r.offsetY);r.angle=Ql(n.theta(i))})}function y_e(e,t,r){v_e(t),r.options.perpendicular=!!t.perpendicular;var n=l5(r,t),i=u5(r,t),o=c5(r,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{const y=new Gj(t);y.build(r.paper.model,r.model),s=S=>!y.isPointAccessible(S)}for(var a=un(e).map(et),l=[],u=o,f,c,p=0,m=a.length;p<=m;p++){var g=null;if(c=f||n,f=a[p],!f){f=i;var _=!r.model.get("source").id||!r.model.get("target").id;if(_&&ei(t.draggingRoute)){var v=c===n?o:c,h=f.origin();g=t.draggingRoute.call(r,v,h,t)}}if(g=g||g_e.call(r,c,f,s,t),g===null)return t.fallbackRouter(e,t,r);var E=g[0];E&&E.equals(u)&&g.shift(),u=g[g.length-1]||u,Array.prototype.push.apply(l,g)}return l}const VI=function(e,t,r){return y_e(e,hr({},a5,t),r)};var w_e={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(n%180>90){var a=o;o=s,s=a}var l=n%90<45?o:s,u=new Kt(e,l),f=90*Math.ceil(n/90),c=et.fromPolar(u.squaredLength(),Hs(f+135),l),p=new Kt(t,c),m=u.intersection(p),g=m||t,_=m?g:e,v=360/r.directions.length,h=_.theta(t),E=Ql(h+v/2),y=v*Math.floor(E/v);return r.previousDirectionAngle=y,g&&i.push(g.round()),i.push(t),i}};const b_e=function(e,t,r){if(!ei(VI))throw new Error("Metro requires the manhattan router.");return VI(e,hr({},w_e,t),r)},Nt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},qU=[Nt.LEFT,Nt.RIGHT,Nt.TOP,Nt.BOTTOM],pm={[Nt.LEFT]:Nt.RIGHT,[Nt.RIGHT]:Nt.LEFT,[Nt.TOP]:Nt.BOTTOM,[Nt.BOTTOM]:Nt.TOP},__e=[Nt.TOP,Nt.BOTTOM],Ww={0:Nt.RIGHT,180:Nt.LEFT,270:Nt.TOP,90:Nt.BOTTOM};function xv(e){return e.angle()}function Gw(e){return new Qn(e).simplify({threshold:1}).points}function a1(e,t){const{point:r,x0:n,y0:i,view:o,bbox:s,direction:a}=e,{point:l,x0:u,y0:f,view:c,bbox:p,direction:m}=t;let g;if(o)o.model.isLink()?g=VU(l,r,o):a===Nt.ANCHOR_SIDE?g=s.sideNearestToPoint(r):a===Nt.MAGNET_SIDE?g=o.model.getBBox().sideNearestToPoint(r):g=a;else{const v=new Vt(n,i,0,0);g=qU.includes(a)?a:v.sideNearestToPoint(l)}let _;if(c)c.model.isLink()?_=VU(r,l,c):m===Nt.ANCHOR_SIDE?_=p.sideNearestToPoint(l):m===Nt.MAGNET_SIDE?_=c.model.getBBox().sideNearestToPoint(l):_=m;else{const v=new Vt(u,f,0,0);_=qU.includes(m)?m:v.sideNearestToPoint(r)}return[g,_]}function E_e(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,p=u+l,m=i-l,{x:g}=a,{x0:_,y0:v}=t;return _===g&&v<i?Nt.BOTTOM:_<g&&v<m?Nt.RIGHT:_>g&&v<m?Nt.LEFT:_<c&&v>=i||_>p&&v>=i?Nt.TOP:_>=c&&_<=g&&v>f||_<=p&&_>=g&&v>f?r.point.x<_?Nt.RIGHT:Nt.LEFT:Nt.TOP}function S_e(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,p=u+l,m=f+l,{x:g}=a,{x0:_,y0:v}=t;return _===g&&v>f?Nt.TOP:_<g&&v>m?Nt.RIGHT:_>g&&v>m?Nt.LEFT:_<c&&v<=f||_>p&&v<=f?Nt.BOTTOM:_>=c&&_<=g&&v<i||_<=p&&_>=g&&v<i?r.point.x<_?Nt.RIGHT:Nt.LEFT:Nt.BOTTOM}function T_e(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=i-l,p=n-l,m=f+l,{x:g,y:_}=a,{x0:v,y0:h}=t;return v<g&&h===_?Nt.RIGHT:v<=c&&h<_?Nt.BOTTOM:v<=c&&h>_?Nt.TOP:v>=i&&h<=p||v>=i&&h>=m?Nt.LEFT:v>u&&h>=p&&h<=_||v>u&&h<=m&&h>=_?r.point.y<h?Nt.BOTTOM:Nt.TOP:Nt.LEFT}function $_e(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=u+l,p=n-l,m=f+l,{x:g,y:_}=a,{x0:v,y0:h}=t;return v>g&&h===_?Nt.LEFT:v>=c&&h<_?Nt.BOTTOM:v>=c&&h>_?Nt.TOP:v<=u&&h<=p||v<=u&&h>=m?Nt.RIGHT:v<i&&h>=p&&h<=_||v<i&&h<=m&&h>=_?r.point.y<h?Nt.BOTTOM:Nt.TOP:Nt.RIGHT}function x_e(e,t,r){const[n]=a1(e,t);switch(n){case Nt.TOP:return E_e(e,t,r);case Nt.RIGHT:return $_e(e,t,r);case Nt.BOTTOM:return S_e(e,t,r);case Nt.LEFT:return T_e(e,t,r)}}function VU(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(xv(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?Nt.LEFT:Nt.RIGHT;if(e.x===t.x)return e.y<t.y?Nt.TOP:Nt.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?Nt.TOP:Nt.BOTTOM;case 90:case 270:return e.x<t.x?Nt.LEFT:Nt.RIGHT}}function HU(e,t,r,n,i,o,s){n===Nt.AUTO&&(n=i?Nt.MAGNET_SIDE:Nt.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:c=0}=a?Vt.fromRectUnion(r,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:r,width:f,height:c,direction:n,margin:a?s:0}}function hA({x:e,y:t}){const r=new et(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new Vt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function WU(e,t,r){const n=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+s+r;break;case"top":n.y=o-r;break;case"bottom":n.y=o+a+r;break}return n}function yf(e,t){const{point:r,x0:n,y0:i,view:o,width:s,height:a,margin:l}=e,{point:u,x0:f,y0:c,width:p,height:m,margin:g}=t,_=f+p,v=c+m,h=n+s,E=i+a,y=o&&o.model.isElement(),S=n-l,T=h+l,x=i-l,d=E+l,$=f-g,O=_+g,P=c-g,k=v+g,[B,K]=a1(e,t),ie=WU(B,{point:r,x0:n,y0:i,width:s,height:a},l),W=WU(K,{point:u,x0:f,y0:c,width:p,height:m},g),{x:ne,y:fe}=ie,{x:re,y:le}=W,F=(f+_)/2,z=(c+v)/2,J=(n+h)/2,R=(i+E)/2,C=(J<F?h+f:_+n)/2,q=(R<z?E+c:v+i)/2;if(B==="left"&&K==="right"){if(S<=O){let X=q;return h<=f&&(v>=x&&le<fe?X=Math.min(P,x):c<=d&&le>=fe&&(X=Math.max(k,d))),[{x:ne,y:fe},{x:ne,y:X},{x:re,y:X},{x:re,y:le}]}const oe=(ne+re)/2;return[{x:oe,y:fe},{x:oe,y:le}]}else if(B==="right"&&K==="left"){if(T>=$){let X=q;return ne>_&&(v>=x&&le<fe?X=Math.min(P,x):c<=d&&le>=fe&&(X=Math.max(k,d))),[{x:ne,y:fe},{x:ne,y:X},{x:re,y:X},{x:re,y:le}]}const oe=(ne+re)/2;return[{x:oe,y:fe},{x:oe,y:le}]}else if(B==="top"&&K==="bottom"){if(fe<le){let X=C,ee=fe;return fe<c&&(_>=S&&re<ne?X=Math.min($,S):f<=T&&re>=ne&&(X=Math.max(O,T))),[{x:ne,y:ee},{x:X,y:ee},{x:X,y:le},{x:re,y:le}]}const oe=(fe+le)/2;return[{x:ne,y:oe},{x:re,y:oe}]}else if(B==="bottom"&&K==="top"){if(fe-l>le){let X=C,ee=fe;return fe>v&&(_>=S&&re<ne?X=Math.min($,S):f<=T&&re>=ne&&(X=Math.max(O,T))),[{x:ne,y:ee},{x:X,y:ee},{x:X,y:le},{x:re,y:le}]}const oe=(fe+le)/2;return[{x:ne,y:oe},{x:re,y:oe}]}else if(B==="top"&&K==="top"){let oe,X=Math.min((E+c)/2,le),ee=Math.min((i+v)/2,fe);if(le<fe){if(ne>=O||ne<=$)return[{x:ne,y:Math.min(fe,le)},{x:re,y:Math.min(fe,le)}];re>ne?oe=Math.min(ne,$):oe=Math.max(ne,O)}else{if(re>=T||re<=S)return[{x:ne,y:Math.min(fe,le)},{x:re,y:Math.min(fe,le)}];re>=ne?oe=Math.max(re,T):oe=Math.min(re,S)}return[{x:ne,y:ee},{x:oe,y:ee},{x:oe,y:X},{x:re,y:X}]}else if(B==="bottom"&&K==="bottom"){let oe,X=Math.max((i+v)/2,le),ee=Math.max((E+c)/2,fe);if(le>fe){if(ne>=O||ne<=$)return[{x:ne,y:Math.max(fe,le)},{x:re,y:Math.max(fe,le)}];re>ne?oe=Math.min(ne,$):oe=Math.max(ne,O)}else{if(re>=T||re<=S)return[{x:ne,y:Math.max(fe,le)},{x:re,y:Math.max(fe,le)}];re>=ne?oe=Math.max(re,T):oe=Math.min(re,S)}return[{x:ne,y:ee},{x:oe,y:ee},{x:oe,y:X},{x:re,y:X}]}else if(B==="left"&&K==="left"){let oe,X=Math.min((h+f)/2,re),ee=Math.min((n+_)/2,ne);return re>ne?le<=fe?oe=Math.min(x,le):oe=Math.max(d,le):le>=fe?oe=Math.min(P,fe):oe=Math.max(k,fe),[{x:ee,y:fe},{x:ee,y:oe},{x:X,y:oe},{x:X,y:le}]}else if(B==="right"&&K==="right"){let oe,X=Math.max((n+_)/2,re),ee=Math.max((h+f)/2,ne);return re<ne?le<=fe?oe=Math.min(x,le):oe=Math.max(d,le):le>=fe?oe=Math.min(P,fe):oe=Math.max(k,fe),[{x:ee,y:fe},{x:ee,y:oe},{x:X,y:oe},{x:X,y:le}]}else if(B==="top"&&K==="right"){if(fe>le){if(ne<re){let X=q;return(X>z||!y)&&X<k&&ne<f&&(X=P),[{x:ne,y:X},{x:re,y:X},{x:re,y:le}]}return[{x:ne,y:le}]}const oe=Math.max(C,O);if(re<ne&&le>i&&le<E)return[{x:ne,y:fe},{x:oe,y:fe},{x:oe,y:le}];if(oe>S&&le>i||f>h){const X=Math.min(i-l,c-g),ee=Math.max(h+l,_+g);return[{x:ne,y:X},{x:ee,y:X},{x:ee,y:le}]}return[{x:ne,y:fe},{x:Math.max(oe,re),y:fe},{x:Math.max(oe,re),y:le}]}else if(B==="top"&&K==="left"){if(fe>le){if(ne>re){let X=q;return(X>z||!y)&&X<k&&ne>_&&(X=P),[{x:ne,y:X},{x:re,y:X},{x:re,y:le}]}return[{x:ne,y:le}]}const oe=Math.min($,C);if(ne<re&&E>=le)return[{x:ne,y:fe},{x:oe,y:fe},{x:oe,y:le}];if(oe<T&&fe<v){const X=Math.min(x,P),ee=Math.min(S,$);return[{x:ne,y:X},{x:ee,y:X},{x:ee,y:le}]}return[{x:ne,y:fe},{x:oe,y:fe},{x:oe,y:le}]}else if(B==="bottom"&&K==="right"){if(fe<le){if(ne<re){let X=q;return(X<z||!y)&&X>P&&ne<f&&(X=k),[{x:ne,y:X},{x:re,y:X},{x:re,y:le}]}return[{x:ne,y:le}]}else if(n<re){const X=Math.max(d,k),ee=Math.max(T,O);return[{x:ne,y:X},{x:ee,y:X},{x:ee,y:le}]}const oe=C;return[{x:ne,y:fe},{x:oe,y:fe},{x:oe,y:le}]}else if(B==="bottom"&&K==="left"){if(fe<le){if(ne>re){let X=q;return(X<z||!y)&&X>P&&ne>_&&(X=k),[{x:ne,y:X},{x:re,y:X},{x:re,y:le}]}return[{x:ne,y:le}]}else if(h>re){const X=Math.max(d,k),ee=Math.min(S,$);return[{x:ne,y:X},{x:ee,y:X},{x:ee,y:le}]}const oe=C;return[{x:ne,y:fe},{x:oe,y:fe},{x:oe,y:le}]}else if(B==="left"&&K==="bottom"){if(ne>=re&&fe>=k)return[{x:re,y:fe}];if(ne>=_&&fe<le){const ee=C;return[{x:ee,y:fe},{x:ee,y:le},{x:re,y:le}]}if(re<h&&v<=i){const ee=q;return[{x:ne,y:fe},{x:ne,y:ee},{x:re,y:ee}]}const oe=Math.min($,ne),X=Math.max(d,k);return[{x:oe,y:fe},{x:oe,y:X},{x:re,y:X}]}else if(B==="left"&&K==="top"){if(ne>re&&fe<P)return[{x:re,y:fe}];if(ne>=_&&fe>le){const ee=C;return[{x:ee,y:fe},{x:ee,y:le},{x:re,y:le}]}if(re<=h&&le>fe){const ee=q;return[{x:ne,y:fe},{x:ne,y:ee},{x:re,y:ee}]}const oe=le<fe?Math.min(S,$):S,X=Math.min(x,P);return[{x:oe,y:fe},{x:oe,y:X},{x:re,y:X}]}else if(B==="right"&&K==="top"){if(ne<=re&&fe<P)return[{x:re,y:fe}];if(h<f&&fe>le){let ee=C;return[{x:ee,y:fe},{x:ee,y:le},{x:re,y:le}]}if(re<ne&&c>E){const ee=q;return[{x:ne,y:fe},{x:ne,y:ee},{x:re,y:ee}]}const oe=Math.max(T,O),X=Math.min(x,P);return[{x:oe,y:fe},{x:oe,y:X},{x:re,y:X}]}else if(B==="right"&&K==="bottom"){if(ne<=re&&fe>=k)return[{x:re,y:fe}];if(ne<=$&&fe<le){const ee=C;return[{x:ee,y:fe},{x:ee,y:le},{x:re,y:le}]}if(re>n&&v<i){const ee=q;return[{x:ne,y:fe},{x:ne,y:ee},{x:re,y:ee}]}const oe=Math.max(O,ne),X=Math.max(d,k);return[{x:oe,y:fe},{x:oe,y:X},{x:re,y:X}]}}function f5(e,t,r){const{sourceDirection:n=Nt.AUTO,targetDirection:i=Nt.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!r.model.source().port,l=HU(r.sourceView,r.sourceAnchor,r.sourceBBox,n,a,r.sourceAnchor,o),u=!!r.model.target().port,f=HU(r.targetView,r.targetAnchor,r.targetBBox,i,u,r.targetAnchor,o);let c=[];if(!s||e.length===0)return Gw(yf(l,f));const p=e.map(_=>hA(_)),[m]=p;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(m.point)){const[_]=a1(l,m),v=_,h=hA(l.point);h.margin=o,h.direction=_,m.direction=v,c.push(...yf(h,m),m.point)}else{const _=p[1]||f,v=x_e(l,m,_);m.direction=v,c.push(...yf(l,m),m.point)}for(let _=0;_<p.length-1;_++){const v=p[_],h=p[_+1],E=new Kt(v.point,h.point),y=xv(E);if(y%90===0){const x=Ww[y],d=pm[x];if(x!==v.direction)c.push(v.point,h.point),h.direction=d;else{const $=Ql(y-90);let O=0,P=0;$===90?P=-o:$===180?O=-o:$===270?P=o:$===0&&(O=o);const k={x:v.point.x+O,y:v.point.y+P},B={x:h.point.x+O,y:h.point.y+P},K=new Kt(h.point,B);h.direction=Ww[xv(K)],c.push(v.point,k,B,h.point)}continue}const[S,T]=pA(v,h);v.direction=S,h.direction=T,c.push(...yf(v,h),h.point)}const g=p[p.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(g.point)){const[_]=pA(g,f),v=hA(f.point),[,h]=a1(g,f);v.margin=o,v.direction=h,g.direction=_,c.push(...yf(g,v))}else{const _=Gw(c),v=new Kt(_[_.length-2],g.point),h=Ww[Math.round(xv(v))];g.direction=h;let E=yf(g,f);const[y,S]=Gw([...E,f.point]),T=new Kt(y,S),x=Math.round(xv(T)),d=Ww[x];d!==h&&h===pm[d]&&(g.margin=o,E=yf(g,f)),c.push(...E)}else{const[_]=pA(g,f);g.direction=_,c.push(...yf(g,f))}return Gw(c)}function pA(e,t){const r=e.direction,n=__e.includes(r);let i=e.direction,o=t.direction;if(n){const s=e.point.y>t.point.y,a=t.point.x-e.point.x;r===Nt.BOTTOM?(i=s?pm[r]:a>=0?Nt.RIGHT:Nt.LEFT,a>0?o=s?Nt.LEFT:Nt.TOP:a<0&&(o=s?Nt.RIGHT:Nt.TOP)):(i=s?a>=0?Nt.RIGHT:Nt.LEFT:pm[r],a>0?o=s?Nt.BOTTOM:Nt.LEFT:a<0&&(o=s?Nt.BOTTOM:Nt.RIGHT))}else{const s=e.point.x>t.point.x,a=t.point.y-e.point.y;r===Nt.RIGHT?(i=s?pm[r]:a>=0?Nt.BOTTOM:Nt.TOP,a>0?o=s?Nt.TOP:Nt.LEFT:a<0&&(o=s?Nt.BOTTOM:Nt.LEFT)):(i=s?a>=0?Nt.BOTTOM:Nt.TOP:pm[r],a>0?o=s?Nt.RIGHT:Nt.TOP:a<0&&(o=s?Nt.RIGHT:Nt.BOTTOM))}return[i,o]}f5.Directions=Nt;const A_e=f5,O_e=Object.freeze(Object.defineProperty({__proto__:null,manhattan:VI,metro:b_e,normal:r_e,oneSide:n_e,orthogonal:qI,rightAngle:A_e},Symbol.toStringTag,{value:"Module"})),Yp={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},P_e=Object.values(Yp),R_e=10,N_e=1,Kj=function(e,t,r=[],n={}){const{cornerType:i=Yp.POINT,cornerRadius:o=R_e,cornerPreserveAspectRatio:s=!1,precision:a=N_e,raw:l=!1}=n;if(P_e.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===Yp.POINT||!o){const f=[e].concat(r).concat([t]),c=new Qn(f);u=new ir(c)}else{u=new ir,u.appendSegment(ir.createSegment("M",e));let f;const c=r.length;for(let p=0;p<c;p++){const m=new et(r[p]),g=r[p-1]||e,_=r[p+1]||t,v=f||m.distance(g)/2;f=m.distance(_)/2;let h,E;s?h=E=-Math.min(o,v,f):(h=-Math.min(o,v),E=-Math.min(o,f));const y=m.clone().move(g,h).round(a),S=m.clone().move(_,E).round(a);switch(u.appendSegment(ir.createSegment("L",y)),i){case Yp.CUBIC:{const T=.3333333333333333,x=2/3,d=new et(T*y.x+x*m.x,x*m.y+T*y.y),$=new et(T*S.x+x*m.x,x*m.y+T*S.y);u.appendSegment(ir.createSegment("C",d,$,S));break}case Yp.LINE:{u.appendSegment(ir.createSegment("L",S));break}case Yp.GAP:{u.appendSegment(ir.createSegment("M",S));break}}}u.appendSegment(ir.createSegment("L",t))}return l?u:u.serialize()};var I_e=5,GU=["arc","gap","cubic"],C_e=0,KU=1,k_e=["smooth"],Kw=1/3,Jw=2/3;function JU(e,t){let{x:r,y:n}=e,{x:i,y:o}=t;if(r>i){let s=r;r=i,i=s,s=n,n=o,o=s}if(n>o){let s=r;r=i,i=s,s=n,n=o,o=s}return[new et(r,n),new et(i,o)]}function j_e(e,t){const[{x:r,y:n},{x:i,y:o}]=JU(e.start,e.end),[{x:s,y:a},{x:l,y:u}]=JU(t.start,t.end),f=r<=l&&s<=i,c=n<=u&&a<=o;return f&&c}function mA(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,o,s){var a=n[s+1];return a!=null&&(i[s]=kh(o,a)),i},[])}function D_e(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||M_e(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function M_e(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function L_e(e,t){return un(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function YU(e,t){return kh(e,t).squaredLength()}function F_e(e,t,r){return t.reduce(function(n,i,o){if(i.skip===!0)return n;var s=n.pop()||e,a=XS(i).move(s.start,-r),l=XS(i).move(s.start,+r),u=t[o+1];if(u!=null){var f=l.distance(u);f<=r&&(l=u.move(s.start,f),u.skip=!0)}else{var c=a.distance(s.end);if(c<r*2+KU)return n.push(s),n}var p=l.distance(s.start);if(p<r*2+KU)return n.push(s),n;var m=kh(a,l);return m.isJump=!0,n.push(kh(s.start,a),m,kh(l,s.end)),n},[])}function XU(e,t,r,n){var i=new ir,o;return o=ir.createSegment("M",e[0].start),i.appendSegment(o),un(e).forEach(function(s,a){if(s.isJump){var l,u,f,c;if(r==="arc"){l=-90,u=s.start.difference(s.end);var p=+(u.x<0||u.x===0&&u.y<0);p&&(l+=180);var m=s.midpoint(),g=new Kt(m,s.end).rotate(m,l),_;_=new Kt(s.start,m),f=_.pointAt(2/3).rotate(s.start,l),c=g.pointAt(1/3).rotate(g.end,-l),o=ir.createSegment("C",f,c,g.end),i.appendSegment(o),_=new Kt(m,s.end),f=g.pointAt(1/3).rotate(g.end,l),c=_.pointAt(1/3).rotate(s.end,-l),o=ir.createSegment("C",f,c,s.end),i.appendSegment(o)}else if(r==="gap")o=ir.createSegment("M",s.end),i.appendSegment(o);else if(r==="cubic"){l=s.start.theta(s.end);var v=t*.6,h=t*1.35;u=s.start.difference(s.end),p=+(u.x<0||u.x===0&&u.y<0),p&&(h*=-1),f=et(s.start.x+v,s.start.y+h).rotate(s.start,l),c=et(s.end.x-v,s.end.y+h).rotate(s.end,l),o=ir.createSegment("C",f,c,s.end),i.appendSegment(o)}}else{var E=e[a+1];n==0||!E||E.isJump?(o=ir.createSegment("L",s.end),i.appendSegment(o)):B_e(n,i,s.end,s.start,E.end)}}),i}function B_e(e,t,r,n,i){var o=r.distance(n)/2,s=r.distance(i)/2,a=-Math.min(e,o),l=-Math.min(e,s),u=r.clone().move(n,a).round(),f=r.clone().move(i,l).round(),c=new et(Kw*u.x+Jw*r.x,Jw*r.y+Kw*u.y),p=new et(Kw*f.x+Jw*r.x,Jw*r.y+Kw*f.y),m;m=ir.createSegment("L",u),t.appendSegment(m),m=ir.createSegment("C",c,p,f),t.appendSegment(m)}const U_e=function(e,t,r,n){D_e(this);var i=n.raw,o=n.size||I_e,s=n.jump&&(""+n.jump).toLowerCase(),a=n.radius||C_e,l=n.ignoreConnectors||k_e;GU.indexOf(s)===-1&&(s=GU[0]);var u=this.paper,f=u.model,c=f.getLinks();if(c.length===1)return XU(mA(e,t,r),o,s,a);var p=this.model,m=c.indexOf(p),g=u.options.defaultConnector||{},_=c.filter(function(T,x){var d=T.get("connector")||g;return un(l).includes(d.name)?!1:x>m?d.name!=="jumpover":!0}),v=_.map(function(T){return u.findViewByModel(T)}),h=mA(e,t,r),E=v.map(function(T){return T==null?[]:T===this?h:mA(T.sourcePoint,T.targetPoint,T.route)},this),y=h.reduce(function(T,x){var d=_.reduce(function($,O,P){if(O!==p){const k=E[P].slice(),B=k.findIndex(ie=>j_e(x,ie));B>-1&&x.containsPoint(k[B].end)&&k.splice(B+1,1);const K=L_e(x,k);$.push.apply($,K)}return $},[]).sort(function($,O){return YU(x.start,$)-YU(x.start,O)});return d.length>0?T.push.apply(T,F_e(x,d,o)):T.push(x),T},[]),S=XU(y,o,s,a);return i?S:S.serialize()},z_e=function(e,t,r=[],n={}){const{raw:i}=n;return Kj(e,t,r,{cornerType:"point",raw:i})},q_e=10,V_e=0,H_e=function(e,t,r=[],n={}){const{radius:i=q_e,raw:o}=n;return Kj(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:V_e,raw:o})},W_e=function(e,t,r,n){var i=n&&n.raw,o;if(r&&r.length!==0){var s=[e].concat(r).concat([t]),a=bn.throughPoints(s);o=new ir(a)}else{o=new ir;var l;if(l=ir.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=ir.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=ir.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()},ol={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},cs={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},Jj=function(e,t,r=[],n={},i){const o=!!n.raw,{direction:s=ol.AUTO,precision:a=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new et(n.sourceTangent):null,targetTangent:n.targetTangent?new et(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?l.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?l.sourceDirection=new et(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new et(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?l.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?l.targetDirection=new et(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new et(n.targetDirection).normalize():null;const u=[e,...r,t].map(_=>new et(_));let f;if(l.sourceTangent)f=l.sourceTangent;else{const _=X_e(i,u,s,l),v=u[0].distance(u[1])*l.coeff,h=u[1].difference(u[0]).normalize(),E=HI(_,h);if(E>Math.PI/4){const y=v+(E-Math.PI/4)*l.angleTangentCoefficient;f=_.clone().scale(y,y)}else f=_.clone().scale(v,v)}let c;if(l.targetTangent)c=l.targetTangent;else{const _=Q_e(i,u,s,l),v=u.length-1,h=u[v-1].distance(u[v])*l.coeff,E=u[v-1].difference(u[v]).normalize(),y=HI(_,E);if(y>Math.PI/4){const S=h+(y-Math.PI/4)*l.angleTangentCoefficient;c=_.clone().scale(S,S)}else c=_.clone().scale(h,h)}const m=eEe(u,f,c,l).map(_=>tEe(_,l)),g=new ir(m).round(a);return o?g:g.serialize()};Jj.Directions=ol;Jj.TangentDirections=cs;function G_e(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"left":s=new et(-1,0);break;case"right":default:s=new et(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function K_e(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"left":s=new et(-1,0);break;case"right":default:s=new et(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function J_e(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new et(0,-1);break;case"bottom":default:s=new et(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function Y_e(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new et(0,-1);break;case"bottom":default:s=new et(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function QU(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new et(0,-1);break;case"bottom":s=new et(0,1);break;case"right":s=new et(1,0);break;case"left":s=new et(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function ZU(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new et(0,-1);break;case"bottom":s=new et(0,1);break;case"right":s=new et(1,0);break;case"left":s=new et(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function ez(e,t,r){return t[1].difference(t[0]).normalize()}function tz(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function rz(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function nz(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function X_e(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case cs.UP:return new et(0,-1);case cs.DOWN:return new et(0,1);case cs.LEFT:return new et(-1,0);case cs.RIGHT:return new et(1,0);case cs.AUTO:return QU(e,t,n);case cs.CLOSEST_POINT:return ez(e,t);case cs.OUTWARDS:return rz(e,t);default:return n.sourceDirection}switch(r){case ol.HORIZONTAL:return G_e(e,t,n);case ol.VERTICAL:return J_e(e,t,n);case ol.CLOSEST_POINT:return ez(e,t);case ol.OUTWARDS:return rz(e,t);case ol.AUTO:default:return QU(e,t,n)}}function Q_e(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case cs.UP:return new et(0,-1);case cs.DOWN:return new et(0,1);case cs.LEFT:return new et(-1,0);case cs.RIGHT:return new et(1,0);case cs.AUTO:return ZU(e,t,n);case cs.CLOSEST_POINT:return tz(e,t);case cs.OUTWARDS:return nz(e,t);default:return n.targetDirection}switch(r){case ol.HORIZONTAL:return K_e(e,t,n);case ol.VERTICAL:return Y_e(e,t,n);case ol.CLOSEST_POINT:return tz(e,t);case ol.OUTWARDS:return nz(e,t);case ol.AUTO:default:return ZU(e,t,n)}}function Z_e(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,o=n*e.x+r*e.y;e.x=i,e.y=o}function HI(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function iz(e,t){return e.x*t.y-e.y*t.x}function eEe(e,t,r,n){const{tau:i,coeff:o}=n,s=[],a=[],l=[],u=e.length-1;for(let f=0;f<u;f++)s[f]=e[f].distance(e[f+1]);a[0]=t,a[u]=r;for(let f=1;f<u;f++){let c,p;f===1?c=e[f-1].clone().offset(a[f-1].x,a[f-1].y):c=e[f-1].clone(),f===u-1?p=e[f+1].clone().offset(a[f+1].x,a[f+1].y):p=e[f+1].clone();const m=c.difference(e[f]).normalize(),g=p.difference(e[f]).normalize(),_=HI(m,g);let v=(Math.PI-_)/2,h;const E=iz(m,g);let y;y=iz(e[f].difference(e[f+1]),e[f].difference(e[f-1])),E<0&&(v=-v),_<Math.PI/2&&(v<0&&y<0||v>0&&y>0)&&(v=v-Math.PI),h=g.clone(),Z_e(h,v);const S=h.clone(),T=h.clone(),x=s[f-1]*o,d=s[f]*o;S.scale(x,x),T.scale(d,d),a[f]=[S,T]}for(let f=0;f<u;f++){let c,p;f===0?c=e[f+1].difference(a[f].x/i,a[f].y/i):c=e[f+1].difference(a[f][1].x/i,a[f][1].y/i),f===u-1?p=e[f].clone().offset(a[f+1].x/i,a[f+1].y/i):p=e[f].difference(a[f+1][0].x/i,a[f+1][0].y/i),l[f]=[c,e[f],e[f+1],p]}return l}function tEe(e,t){const{tau:r}=t,n=new et;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new et;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new bn(e[1],n,i,e[2])}const rEe=Object.freeze(Object.defineProperty({__proto__:null,curve:Jj,jumpover:U_e,normal:z_e,rounded:H_e,smooth:W_e,straight:Kj},Symbol.toStringTag,{value:"Module"})),_r={TOOLS:Wr.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},Jv=Wr.extend({className:function(){var e=Wr.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Wr.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[_r.RENDER],attrs:[_r.UPDATE],router:[_r.UPDATE],connector:[_r.CONNECTOR],smooth:[_r.UPDATE],manhattan:[_r.UPDATE],toolMarkup:[_r.LEGACY_TOOLS],labels:[_r.LABELS],labelMarkup:[_r.LABELS],vertices:[_r.VERTICES,_r.UPDATE],vertexMarkup:[_r.VERTICES],source:[_r.SOURCE,_r.UPDATE],target:[_r.TARGET,_r.UPDATE]},initFlag:[_r.RENDER,_r.SOURCE,_r.TARGET,_r.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,_r.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,_r.SOURCE)}if(this.hasFlag(e,_r.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,_r.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,_r.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[_r.RENDER,_r.UPDATE,_r.VERTICES,_r.LABELS,_r.TOOLS,_r.LEGACY_TOOLS,_r.CONNECTOR]),e;let o=!1;this.hasFlag(e,_r.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,_r.VERTICES));const{model:s}=this,{attributes:a}=s;let l=this.hasFlag(e,_r.LABELS),u=this.hasFlag(e,_r.LEGACY_TOOLS);l&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,_r.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,_r.LEGACY_TOOLS));const f=this.hasFlag(e,_r.UPDATE),c=this.hasFlag(e,_r.CONNECTOR);return(f||c)&&(f?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[_r.UPDATE,_r.TOOLS,_r.CONNECTOR]),l=!1,u=!1,o=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,_r.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,_r.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(_r.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=wt(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var o=t[n],s=o.attr("class");s&&(s=hbe(s),r[wn.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=wt(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var o=t[n].node;r.appendChild(o)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=wt("g").append(t):r=wt(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=wt("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(Vl(Ii(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var l=o[a],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,c;if(u)f=u.node,c=u.selectors;else{var p=i._builtins.defaultLabel,m=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup)),g=i._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(g.markup)),v=_||m;f=v.node,c=v.selectors}f.setAttribute("label-idx",a),t.append(f),r[a]=f;var h=this.selector;if(c[h])throw new Error("dia.LinkView: ambiguous label root selector.");c[h]=f,n[a]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:o}=n;if(!o||!r.hasLabels())return;const{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,r.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:Xi({},n,r):e?Xi({},r,t):Xi({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:Xi({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var c=this._labelCache[u];c.setAttribute("cursor",r?"move":"default");var p=this._labelSelectors[u],m=t[u],g=m.markup,_=m.attrs,v=m.size,h=this._mergeLabelAttrs(g||s,_,a,i),E=this._mergeLabelSize(v,l);this.updateDOMSubtreeAttributes(c,h,{rootBBox:new Vt(E),selectors:p})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=wn(this._V.linkTools.node).empty(),t=ns(this.model.get("toolMarkup")||this.model.toolMarkup),r=wt(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=ns(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=wt(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=wn(this._V.markerVertices.node).empty(),t=ns(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(wt(t(hr({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=wn(this._V.markerArrowheads.node);e.empty();var t=ns(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=wt(t({end:"source"})),this._V.targetArrowhead=wt(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],o=i.length,s=new Qn(i);s.simplify({threshold:.001});const a=s.points.map(u=>u.toJSON()),l=a.length;return o===l?0:(r.vertices(a.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new et(this.sourceAnchor);case"target":return new et(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new et(this.sourcePoint);case"target":return new et(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new Qn(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,n,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this._markerCache,s,a;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=et(t).move(n||r,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=et(r).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||r.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,r,n){var i,o,s,a,l=this.model,u=l.get(e),f=l.get(r),c=this.getEndView(e),p=this.getEndView(r),m=this.getEndMagnet(e),g=this.getEndMagnet(r);c?(t?s=new et(t):p?s=g:s=new et(f),i=this.getAnchor(u.anchor,c,m,s,e)):i=new et(u),p?(a=new et(n||i),o=this.getAnchor(f.anchor,p,g,a,r)):o=new et(f);var _={};return _[e]=i,_[r]=o,_},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,c,p,m;if(l&&!l.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||l.el;var g=s.connectionPoint||f.defaultConnectionPoint,_=n||r,v=new Kt(_,t);m=this.getConnectionPoint(g,l,c,v,"source")}else m=t;var h;if(u&&!u.isNodeConnection(this.targetMagnet)){p=this.targetMagnet||u.el;var E=a.connectionPoint||f.defaultConnectionPoint,y=i||t,S=new Kt(y,r);h=this.getConnectionPoint(E,u,p,S,"target")}else h=r;return{source:m,target:h}},getAnchor:function(e,t,r,n,i){var o=t.isNodeConnection(r),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[u][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var f=a.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new et},getConnectionPoint:function(e,t,r,n,i){var o,s=n.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var l=r===t.el?void 0:r;if(o=a.linkConnectionPoint(this,t,l,n.start,i),o)return o}if(!e)return s;var u;if(typeof e=="function")u=e;else{var f=e.name;if(u=a.connectionPointNamespace[f],typeof u!="function")throw new Error("Unknown connection point: "+f)}return o=u.call(this,n,t,r,e.args||{},i,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return Xi({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:Xi({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,o=r.length;i<o;i++){var s=this._labelCache[i];if(s){var a=r[i],l=this._normalizeLabelPosition(a.position),u=this._mergeLabelPositionProperty(l,n),f=this._getLabelTransformationMatrix(u);s.setAttribute("transform",wt.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:o}=n[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(wn.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[n]=null,this.updateEndMagnet(e),!0;const s=r.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(r);return a?(this[n]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=un(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:Xi({},t,e)},addLabel:function(e,t,r,n){var i,o,s=0,a;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(s=t,a=r):a=t):(i=e,o=t,typeof r=="number"?(s=r,a=n):a=r);var l=this._getDefaultLabelPositionArgs(),u=a,f=this._mergeLabelPositionArgs(u,l),c={position:this.getLabelPosition(i,o,s,f)},p=-1;return this.model.insertLabel(p,c,a),p},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,o=n?e.y:t,s=n?t:r,a={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,r){function n(c,p){return function(){c.remove(),typeof p=="function"&&p()}}var i,o,s;Pn(t)?(i=t.duration,o=t.direction==="reverse",s=t.connection):(i=t,o=!1,s=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=wt(e),u;if(typeof s=="string")u=this.findBySelector(s,this.el,this.selectors)[0];else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,u),setTimeout(n(l,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||O_e,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(et);var i=ei(r)?r:t[r.name];if(!ei(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var o=r.args||{},s=i.call(this,e,o,this);return s||e.map(et)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||rEe,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var s=ei(i)?i:n[i.name];if(!ei(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=Au(i.args||{});a.raw=!0;var l=s.call(this,t,r,e,a,this);return typeof l=="string"&&(l=new ir(wt.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?($o(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},o=0,s;typeof r=="number"?(o=r,s=n):s=r,s&&(i.args=s);var a=!(s&&s.absoluteDistance),l=s&&s.absoluteDistance&&s.reverseDistance,u=s&&s.absoluteOffset,f=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},p=new et(e,t),m=f.closestPointT(p,c),g=f.lengthAtT(m,c);a&&(g=g/this.getConnectionLength()||0),l&&(g=-1*(this.getConnectionLength()-g)||1),i.distance=g;var _;u||(_=f.tangentAtT(m));var v;if(_)v=_.pointOffset(p);else{var h=f.pointAtT(m),E=p.difference(h);v={x:E.x,y:E.y}}return i.offset=v,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l=s.x!==0||s.y!==0||o===0,u=n.keepGradient,f=n.ensureLegibility,c=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},m=i?t*this.getConnectionLength():t,g=c.tangentAtLength(m,p),_,v=r;if(g){if(l)_=g.start.clone(),_.offset(s);else{var h=g.clone();h.rotate(g.start,-90),h.setLength(o),_=h.end}u&&(v=g.angle()+r,f&&(v=Ql((v+90)%180-90)))}else _=c.start.clone(),l&&_.offset(s);return wt.createSVGMatrix().translate(_.x,_.y).rotate(v)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new et(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new et(e,t)),o=0,s=n.length;o<s;o++){var a=n[o],l=this.getClosestPointLength(a);if(i<l)break}return o},notifyPointerdown(e,t,r){Wr.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){Wr.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),Wr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){Wr.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){Wr.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){Wr.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&hr(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){Wr.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Wr.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Wr.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Wr.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){Wr.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=wt(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else Wr.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),l=this.getLabelCoordinates(a),u=l.x-t,f=l.y-r,c=this._getLabelPositionAngle(i),p=this._getLabelPositionArgs(i),m=this._getDefaultLabelPositionArgs(),g=this._mergeLabelPositionArgs(p,m);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:f,positionAngle:c,positionArgs:g,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,i,o)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),o=i&&!pg.endsEqual(n,i);if(o){var s=this.paper;n.id&&this.notify("link:disconnect",t,s.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,o=null,s=1/0,a=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<i&&(i=f,n=t[u]);const c=Math.abs(t[u].y-e.y);c<s&&(s=c,o=t[u])}return i<r&&(a=n.x),s<r&&(l=o.y),{x:a,y:l}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:o}=n.options,s=this.eventData(e),a=o.radius||20,l=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),u=i.vertices(),f=[l,...u],c=this._snapToPoints({x:t,y:r},f,a),p=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(p.x,p.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:o}=n.options,s=this.eventData(e);let a=!1;var l=i.radius||50,u=n.findViewsInArea({x:t-l,y:r-l,width:2*l,height:2*l}),f=s.closestView||null,c=s.closestMagnet||null,p=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var m=Number.MAX_VALUE,g=new et(t,r);u.forEach(function(T){const x=[];T.el.getAttribute("magnet")!=="false"&&x.push({bbox:T.model.getBBox(),magnet:T.el}),T.$("[magnet]").toArray().forEach(d=>{x.push({bbox:T.getNodeBBox(d),magnet:d})}),x.forEach(d=>{const{magnet:$,bbox:O}=d,P=O.center().squaredDistance(g);P<m&&(c===$||n.options.validateConnection.apply(n,s.validateConnectionArgs(T,T.el===$?null:$)))&&(m=P,s.closestView=T,s.closestMagnet=$)})},this);var _,v=null,h=s.closestView,E=s.closestMagnet;E&&(v=s.magnetProxy=h.findProxyNode(E,"highlighter"));var y=s.arrowhead,S=c!==E;if(f&&S&&f.unhighlight(p,{connecting:!0,snapping:!0}),h){const{prevEnd:T,prevX:x,prevY:d}=s;if(s.prevX=t,s.prevY=r,a=!0,!S&&(typeof o!="function"||x===t&&d===r)||(_=h.getLinkEnd(E,t,r,this.model,y),!S&&dm(T,_)))return a;s.prevEnd=_,S&&h.highlight(v,{connecting:!0,snapping:!0})}else _={x:t,y:r};return this.model.set(y,_||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,c,y),h&&this.notify("link:snap:connect",e,h,E,y),a},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:o}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const s=n.viewUnderPointer=i.findView(e);if(s){const a=n.magnetUnderPointer=s.findMagnet(e),l=n.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(s,a))?l&&s.highlight(l,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,o.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});const l=i.getLinkEnd(o,t,r,n,a);n.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var o=this.model.get(r);if(o.id){var s=t[n]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[n+1]=a}function l(u,f){return t[i]=u,t[i+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(c,p){var m=c.paper,g=m.options.validateConnection;return g.apply(m,this.validateConnectionArgs(c,p))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,o=n.length;i<o;i++){var s=n[i].findView(r);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var u=0,f=l.length;u<f;u++)s.highlight(l[u],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,o=t.length;i<o;i++){r=t[i],n=e.marked[r];var s=this.paper.findViewByModel(r);if(s){for(var a=0,l=n.length;a<l;a++)s.unhighlight(n[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Au(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){Wr.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){Wr.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){Wr.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:_r});Object.defineProperty(Jv.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Vt(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new Vt(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(Jv.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Vt(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new Vt(this.targetAnchor):e.getNodeBBox(r||e.el)}});const nEe=Hl.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const o=wt(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){const s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{const s=e.getNodeBoundingRect(t);i=wt.rectToPath(hr({},r,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:o}=n;let s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&r.remove();let a=e.getNodeBoundingRect(t);const l=a.x+a.width/2,u=a.y+a.height/2;a=wt.transformRect(a,s);const f=Math.max(a.width,1),c=Math.max(a.height,1),p=(f+i)/f,m=(c+i)/c,g=wt.createSVGMatrix({a:p,b:0,c:0,d:m,e:l-p*l,f:u-m*u});s=s.multiply(g)}r.attr({d:this.getPathData(e,t),transform:wt.matrixToTransformString(s)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),oz=20;function iEe(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const oEe=Hl.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:oz,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!wt.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(n.includes(o)){const s=e.vel.findOne(`#${t.id}`);if(s){const{node:a}=s;let l=e.getNodeBoundingRect(a);e.model.isElement()&&(l=wt.transformRect(l,e.getNodeMatrix(a)));const u=wt("rect",l.toJSON()),{x:f,y:c}=l.center(),{angle:p,cx:m=f,cy:g=c}=s.rotate();p&&u.rotate(p,m,g),t.parent().append(u)}return t.remove(),!1}return r.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,o=t.tagName();let s;if(o==="G"){if(!i)return null;s=t.clone(),iEe(s,a=>this.transformMaskChild(e,a))}else{if(n.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,c=f+a*2;let p=this.getMaskShape(e,t);if(!p){const m=e.getNodeBoundingRect(t.node);m.inflate(m.width?0:.5,m.height?0:.5),p=wt("rect",m.toJSON())}return p.attr(s),wt("mask",{id:this.getMaskId()}).append([p.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c}),p.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:o,maskClip:s=oz,layer:a}=r,l="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&n.remove();const u=e.getNodeBoundingRect(t).inflate(i+s),f=this.getNodeMatrix(e,t),c=this.getMask(e,wt(t));this.addMask(e.paper,c),n.attr(u.toJSON()),n.attr({transform:wt.matrixToTransformString(f),mask:`url(#${c.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),sEe=Hl.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Vl("highlight-opacity"),highlight:function(e,t){wt(t).addClass(this.opacityClassName)},unhighlight:function(e,t){wt(t).removeClass(this.opacityClassName)}}),sz=Vl("highlighted"),aEe=Hl.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:sz},highlight:function(e,t){wt(t).addClass(this.options.className)},unhighlight:function(e,t){wt(t).removeClass(this.options.className)}},{className:sz}),gA={ROW:"row",COLUMN:"column"},lEe=Hl.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:o=5,direction:s=gA.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const a=typeof i=="number"?{width:i,height:i}:i,l=s===gA.ROW,u=l?a.width:a.height;let f=r.get(n);Array.isArray(f)||(f=[]);const c=this._prevItems||[],p=f.map((v,h)=>dm(c[h],f[h]));if(c.length!==f.length||p.some(v=>!v)){const v=this.vel.children(),h=f.map((E,y)=>{const S=y in v?v[y].node:null;if(p[y])return S;const T=this.createListItem(E,a,S);if(!T)return null;if(!(T instanceof SVGElement))throw new Error("List: item must be an SVGElement");T.dataset.index=y,T.dataset.attribute=n;const x=y*(u+o);return T.setAttribute("transform",l?`translate(${x}, 0)`:`translate(0, ${x})`),T});this.vel.empty().append(h),this._prevItems=f}const m=f.length,g=m===0?0:m*u+(m-1)*o,_=l?{width:g,height:a.height}:{width:a.width,height:g};this.position(r,_)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:o="top-left"}=n,{width:s,height:a}=e.size(),{left:l,right:u,top:f,bottom:c}=Kh(i),p=new Vt(l,f,s-(l+u),a-(f+c));let{x:m,y:g}=YX(p,o);switch(o){case Ei.CENTER:case Ei.TOP:case Ei.BOTTOM:{m-=t.width/2;break}case Ei.RIGHT:case Ei.BOTTOM_RIGHT:case Ei.TOP_RIGHT:{m-=t.width;break}}switch(o){case Ei.CENTER:case Ei.RIGHT:case Ei.LEFT:{g-=t.height/2;break}case Ei.BOTTOM:case Ei.BOTTOM_RIGHT:case Ei.BOTTOM_LEFT:{g-=t.height;break}}r.attr("transform",`translate(${m}, ${g})`)}},{Directions:gA,Positions:Ei}),uEe=Object.freeze(Object.defineProperty({__proto__:null,addClass:aEe,list:lEe,mask:oEe,opacity:sEe,stroke:nEe},Symbol.toStringTag,{value:"Module"}));function cEe(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function fEe(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function dEe(e,t,r,n){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new Kt(r.clone().offset(0,i),r.clone().offset(0,-i)),l=new Kt(r.clone().offset(i,0),r.clone().offset(-i,0)),u=a.intersect(o,{segmentSubdivisions:s}),f=l.intersect(o,{segmentSubdivisions:s}),c=[];return u&&Array.prototype.push.apply(c,u),f&&Array.prototype.push.apply(c,f),c.length>0?r.chooseClosest(c):"fallbackAt"in n?d5(e,n.fallbackAt):h5(e,t,r,n)}function hEe(e,t,r,n){var i=e.getClosestPoint(r);return i||new et}function $0(e){return function(t,r,n,i){if(n instanceof Element){var o=this.paper.findView(n),s;if(o)if(o.isNodeConnection(n)){var a="fixedAt"in i?i.fixedAt:"50%";s=d5(o,a)}else s=o.getNodeBBox(n).center();else s=new et;return e.call(this,t,r,s,i)}return e.apply(this,arguments)}}function d5(e,t){var r=parseFloat(t);return $o(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const pEe=$0(dEe),h5=$0(hEe),mEe=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:h5,connectionLength:fEe,connectionPerpendicular:pEe,connectionRatio:cEe,resolveRef:$0},Symbol.toStringTag,{value:"Module"}));function VT(e,t,r){if(Ni(r)){const{x:i,y:o}=r;if(isFinite(o)){const s=new Kt(t,e),{start:a,end:l}=s.parallel(o);t=a,e=l}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function Yj(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function gEe(e,t,r=0){let n,i,o,s;const{start:a,end:l}=e;switch(t){case"left":n="x",i=l,o=a,s=-1;break;case"right":n="x",i=a,o=l,s=1;break;case"top":n="y",i=l,o=a,s=-1;break;case"bottom":n="y",i=a,o=l,s=1;break;default:return}a[n]<l[n]?i[n]=o[n]:o[n]=i[n],isFinite(r)&&(i[n]+=s*r,o[n]+=s*r)}function vEe(e,t,r,n){let{offset:i,alignOffset:o,align:s}=n;return s&&gEe(e,s,o),VT(e.end,e.start,i)}function p5(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate(Yj(r)/2);var o=e.intersect(i),s=o?e.start.chooseClosest(o):e.end;return VT(s,e.start,n.offset)}function yEe(e,t,r,n){var i=t.model.angle();if(i===0)return p5(e,t,r,n);var o=t.getNodeUnrotatedBBox(r);n.stroke&&o.inflate(Yj(r)/2);var s=o.center(),a=e.clone().rotate(s,i),l=a.setLength(1e6).intersect(o),u=l?a.start.chooseClosest(l).rotate(s,-i):e.end;return VT(u,e.start,n.offset)}function wEe(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var vA="segmentSubdivisons",yA="shapeBBox";function bEe(e,t,r,n){var i,o,s=n.selector,a=e.end;if(typeof s=="string"?i=t.findBySelector(s)[0]:s===!1?i=r:Array.isArray(s)?i=Dy(r,s):i=wEe(r),!wt.isSVGGraphicsElement(i)){if(i===r||!wt.isSVGGraphicsElement(r))return a;i=r}var l=t.getNodeShape(i),u=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),p=f.multiply(c).multiply(u),m=p.inverse(),g=wt.transformLine(e,m),_=g.start.clone(),v=t.getNodeData(i);if(n.insideout===!1){v[yA]||(v[yA]=l.bbox());var h=v[yA];if(h.containsPoint(_))return a}var E;if(l instanceof ir){var y=n.precision||2;v[vA]||(v[vA]=l.getSegmentSubdivisions({precision:y})),E={precision:y,segmentSubdivisions:v[vA]}}n.extrapolate===!0&&g.setLength(1e6),o=g.intersect(l,E),o?wt.isArray(o)&&(o=_.chooseClosest(o)):n.sticky===!0&&(l instanceof Vt?o=l.pointNearestToPoint(_):l instanceof ps?o=l.intersectionWithLineFromCenterToPoint(_):o=l.closestPoint(_,E));var S=o?wt.transformPoint(o,p):a,T=n.offset||0;return n.stroke&&(T+=Yj(i)/2),VT(S,e.start,T)}const _Ee=vEe,EEe=p5,SEe=yEe,TEe=bEe,$Ee=Object.freeze(Object.defineProperty({__proto__:null,anchor:_Ee,bbox:EEe,boundary:TEe,rectangle:SEe},Symbol.toStringTag,{value:"Module"}));function Hc(e){return function(t,r,n,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),a=s[e](),l=i.dx;if(l){var u=$o(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=s.width),a.x+=l)}var f=i.dy;if(f){var c=$o(f);f=parseFloat(f),isFinite(f)&&(c&&(f/=100,f*=s.height),a.y+=f)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function xEe(e,t,r,n){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),u=n.padding;if(isFinite(u)||(u=0),a.y+u<=r.y&&r.y<=l.y-u){var f=r.y-s.y;s.x+=i===0||i===180?0:f*1/Math.tan(Hs(i)),s.y+=f}else if(a.x+u<=r.x&&r.x<=l.x-u){var c=r.x-s.x;s.y+=i===90||i===270?0:c*Math.tan(Hs(i)),s.x+=c}return s}function AEe(e,t,r,n){var i=!!n.rotate,o,s,a;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var l=n.padding;isFinite(l)&&o.inflate(l),i&&r.rotate(a,s);var u=o.sideNearestToPoint(r),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(a,-s):f}function OEe(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const PEe=Hc("center"),REe=Hc("topMiddle"),NEe=Hc("bottomMiddle"),IEe=Hc("leftMiddle"),CEe=Hc("rightMiddle"),kEe=Hc("origin"),jEe=Hc("topRight"),DEe=Hc("bottomLeft"),MEe=Hc("corner"),LEe=$0(xEe),FEe=$0(AEe),BEe=OEe,UEe=Object.freeze(Object.defineProperty({__proto__:null,bottom:NEe,bottomLeft:DEe,bottomRight:MEe,center:PEe,left:IEe,midSide:FEe,modelCenter:BEe,perpendicular:LEe,right:CEe,top:REe,topLeft:kEe,topRight:jEe},Symbol.toStringTag,{value:"Module"})),kp={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},zEe=50,az=20,lz=1e3,qEe=1/0,Yw=9007199254740991,wA=Wr.Highlighting,uz={[wA.DEFAULT]:{name:"stroke",options:{padding:3}},[wA.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[wA.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},VEe=[{name:el.BACK},{name:el.CELLS},{name:el.LABELS},{name:el.FRONT},{name:el.TOOLS}],HEe=id.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:DE,linkView:Jv,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:uz,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new pg,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,o){return(i==="target"?r:e)instanceof DE},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:kp.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:uEe,anchorNamespace:UEe,linkAnchorNamespace:mEe,connectionPointNamespace:$Ee,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Vf(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new Wj;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=wn(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!Ls(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===kp.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:l,interactive:u}=e;!l&&typeof joint<"u"&&Vf(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),ei(t)||(e.defaultConnector=Qa(t)),ei(r)||(e.defaultRouter=Qa(r)),ei(n)||(e.defaultConnectionPoint=Qa(n)),ei(i)||(e.defaultAnchor=Qa(i)),ei(o)||(e.defaultLinkAnchor=Qa(o)),Ni(u)&&(e.interactive=hr({},u)),Ni(a)&&(e.highlighting=Vj({},a,uz)),e.origin=hr({},s)},children:function(){var e=wt.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:Vl("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:Vl("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Vl("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:o,grid:s}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=wn(o),this.$grid=wn(s),this.renderLayers(),wt.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=VEe){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{const s=new Zbe({name:i});this.layers.appendChild(s.el),this._layers[i]=s});const t=this.getLayerView(el.CELLS),r=this.getLayerView(el.TOOLS),n=this.getLayerView(el.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(Vl("viewport")),n.vel.addClass(Vl("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),wt.createSVGMatrix(e)}e=wt.createSVGMatrix(e);var n=wt.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return wt.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof Wr)for(var n=e.model,i=this.model.getConnectedLinks(n),o=0,s=i.length;o<s;o++){var a=i[o],l=this.findViewByModel(a);if(l){var u=["UPDATE"];a.getTargetCell()===n&&u.push("TARGET"),a.getSourceCell()===n&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof Wr))return!1;var r=e.model;if(r.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},i=0,o=this.findViewByModel(r.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,n),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(r.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,n),e.updateEndMagnet("target")),i===0&&s===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);i&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:u}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>l)for(let m=r-1;m>=l;m--){const g=i.priorities[m];!g||!(u in g)||(f[u]|=g[u],delete g[u])}let c=f[u]||0;if((c&t)===t)return;c||i.count++,t&s&&c&a?f[u]^=a:t&a&&c&s&&(f[u]^=s),f[u]|=t;const p=o.onViewUpdate;typeof p=="function"&&p.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof Wr){if(t&n)return this.removeView(s),0;if(t&i){const a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=Xa({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=Yw;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const o={updated:r,batches:n,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:Yw});const{_updates:r,options:n}=this,i=r.id;if(i){FI(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=Xa({},e,{mountBatchSize:lz-o.mounted,unmountBatchSize:lz-o.unmounted}),a=this.checkViewport(s),l=a.unmounted,u=a.mounted;let f=t.processed;const c=r.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=Yw,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const p=e.progress;if(c&&typeof p=="function"&&p.call(this,o.empty,f,c,o,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=LI(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||qEe,r=this._updates,n=0,i=0,o=0,s=0,a=Yw,l=!0,u=this.options,f=r.priorities,c="viewport"in e?e.viewport:u.viewport;typeof c!="function"&&(c=null);var p=u.onViewPostponed;typeof p!="function"&&(p=null);var m=Object.keys(f);e:for(var g=0,_=m.length;g<_;g++){var v=+m[g],h=f[v];for(var E in h){if(n>=t){l=!1;break e}var y=ch[E];if(!y){delete h[E];continue}var S=h[E];if(!(S&y.FLAG_REMOVE)){var T=E in r.unmounted;if(y.DETACHABLE&&c&&!c.call(this,y,!T,this)){T||(this.registerUnmountedView(y),this.detachView(y)),r.unmounted[E]|=S,delete h[E],o++;continue}T&&(S|=y.FLAG_INSERT,s++),S|=this.registerMountedView(y)}var x=this.updateView(y,S,e);if(x>0&&(h[E]=x,!p||!p.call(this,y,x,this)||h[E])){i++,l=!1;continue}a>v&&(a=v),n++,delete h[E]}}return{priority:a,updated:n,postponed:i,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=ch[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=ch[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=ch[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}r++;var c=this.registerMountedView(f);c&&this.scheduleViewUpdate(f,c,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,s=i.mounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=ch[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}r++;var c=this.registerUnmountedView(f);c&&this.detachView(f)}}}return o.splice(0,a),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:o}=n,s=!e.DETACHABLE||!r||r.call(this,e,!1,this);let a=!1,l=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);const c=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(c,1),a=!0}if(!a&&e.cid in o&&s){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Xa({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var o=this.checkUnmountedViews(r,t);return{mounted:o,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&FI(o)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===kp.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return Ls(t)||(t=this.el.clientWidth),Ls(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let o=e===void 0?n:e,s=t===void 0?i:t;if(n===o&&i===s)return;r.width=o,r.height=s,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;Ls(t)&&(t=Math.round(t)),Ls(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Pn(e)?n=e:n=hr({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:o,width:s,height:a}=this.getFitToContentArea(n),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-o*u),this.setDimensions(s*l,a*u),new Vt(i,o,s,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=Kh(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,r),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new Vt(e.contentArea):this.getContentArea(e),{sx:f,sy:c}=this.scale();u.x*=f,u.y*=c,u.width*=f,u.height*=c;let p=Math.ceil((u.width+u.x)/t),m=Math.ceil((u.height+u.y)/r);e.allowNegativeBottomRight||(p=Math.max(p,1),m=Math.max(m,1)),p*=t,m*=r;let g=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(g=Math.ceil(-u.x/t)*t,g+=n.left,p+=g);let _=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(_=Math.ceil(-u.y/r)*r,_+=n.top,m+=_),p+=n.right,m+=n.bottom,p=Math.max(p,i),m=Math.max(m,o),p=Math.min(p,s),m=Math.min(m,a),new Vt(-g/f,-_/c,p/f,m/c)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const v=e.contentArea;t=this.localToPaperRect(v),r=new et(v)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Xa(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=Kh(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const v=this.translate(),h=this.getComputedSize();l={x:v.tx,y:v.ty,width:h.width,height:h.height}}l=new Vt(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const u=this.scale();let f=l.width/t.width*u.sx,c=l.height/t.height*u.sy;if(e.preserveAspectRatio&&(f=c=Math.min(f,c)),e.scaleGrid){const v=e.scaleGrid;f=v*Math.floor(f/v),c=v*Math.floor(c/v)}f=Math.min(o,Math.max(i,f)),c=Math.min(a,Math.max(s,c));const p={x:f/u.sx,y:c/u.sy},m=this.options.origin;let g=l.x-r.x*f-m.x,_=l.y-r.y*c-m.y;switch(e.verticalAlign){case"middle":_=_+(l.height-t.height*p.y)/2;break;case"bottom":_=_+(l.height-t.height*p.y);break}switch(e.horizontalAlign){case"middle":g=g+(l.width-t.width*p.x)/2;break;case"right":g=g+(l.width-t.width*p.x);break}this.scale(f,c),this.translate(g,_)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Vt:wt(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return ei(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new Vt(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,o=e.get("type")+"View",s=Dy(i,o,".");e.isLink()?(r=t.linkView,n=Jv):(r=t.elementView,n=DE);var a=r.prototype instanceof Fo.View?s||r:r.call(this,e)||s||n;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?el.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:o}=i;const{mounted:s,unmounted:a}=n;i.remove(),delete r[t],delete s[o],delete a[o]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,o,s=!0;return r in n&&(i=n[r],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=n[r]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Ii(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){ku(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=wn(this.cells).children("[model-id]"),t=this.model.get("cells");_be(e,function(r,n){var i=t.get(r.getAttribute("model-id")),o=t.get(n.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){const r=this.getLayerView(el.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case kp.APPROX:r.insertSortedNode(n,i.get("z"));break;case kp.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return wt.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var o=i.tx-r*(e-1),s=i.ty-n*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return wt.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return wt.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:s,ty:a}=this.translate();return n.x=s,n.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=zo(e)?this.cells.querySelector(e):e instanceof wn?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=zo(e)||Ls(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new et(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Xa(t||{},{strict:!1}),e=new Vt(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new et(e,t),n=wt.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var r=new et(e,t),n=wt.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var r=new et(e,t),n=wt.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var r=new et(e,t),n=wt.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new Vt(e,t,r,n),o=wt.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new et(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),o=new Vt(e,t,r,n);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new et(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof Jv))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return ei(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;zo(t)&&(t={name:t});const o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=go(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=go(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=go(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=go(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&n.preventDefaultInteraction(e);const s=this.customEventTrigger(e,n);if(s){if(s.isPropagationStopped())return;e.data=s.data}const a=t.closest("[magnet]");if(a&&n.el!==a&&n.el.contains(a)){const l=go(wn.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;const o=wn.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=go(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=go(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(wn.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=go(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=go(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=go(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseenter(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=go(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseleave(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:sbe(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((s,a)=>s+vbe(a,zEe),0),n=Math.pow(.995,r),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,n),this._mw_evt_buffer={event:null,deltas:[]}},az,{maxWait:az}),mousewheel:function(e){e=go(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:o}=gbe(r),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,a):this.trigger("blank:mousewheel",e,n.x,n.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=go(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=go(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=wn.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,o){t.onmagnet(r,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetpointerdblclick(r,n,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetcontextmenu(r,n,i,o)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=go(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=go(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof Vu||this.svg===r||this.el===r||wn.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:wt("svg",{width:"100%",height:"100%"},wt("defs")),patterns:{},add:function(e,t){wt(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(wt("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(zo(e)&&Array.isArray(t[e]))return t[e].map(function(l){return hr({},l)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return hr({},l)}),s=Array.isArray(r.args)?r.args:[r.args||{}];Xa(s[0],jy(e,"args"));for(var a=0;a<s.length;a++)o[a]&&hr(o[a],s[a]);return o}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var l="pattern_"+a,u=Xi(s,r[a],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});u.width=t*(n.a||1)*(u.scaleFactor||1),u.height=t*(n.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,wt("pattern",{id:l,patternUnits:"userSpaceOnUse"},wt(u.markup)));var f=i.get(l);ei(u.update)&&u.update(f.node.childNodes[0],u);var c=u.ox%u.width;c<0&&(c+=u.width);var p=u.oy%u.height;p<0&&(p+=u.height),f.attr({x:c,y:p,width:u.width,height:u.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Pn(t)){var o=i.tx+n.sx*(t.x||0),s=i.ty+n.sy*(t.y||0);t=o+"px "+s+"px"}Pn(r)&&(r=new Vt(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[cbe(i)];if(ei(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),i="repeat",Pn(n)?(n.width*=l.width/e.width,n.height*=l.height/e.height):n===void 0&&(t.size={width:l.width/s,height:l.height/s})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=Qa(e),hm(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,ku(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+zw(JSON.stringify(e))),!this.isDefined(t)){var n=Sbe,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var o=hr({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});wt(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+zw(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;const a=un(o).map(({offset:u,color:f,opacity:c})=>wt("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(c)?c:1})),l=wt(n,s,a);return l.id=i,l.appendTo(r),i},definePattern:function(e){if(!Pn(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+zw(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const s=wt("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=n,s.attr(o),typeof i=="string")s.append(wt(i));else{const{fragment:a}=i1(i);s.append(a)}return s.appendTo(r),n},defineMarker:function(e){if(!Pn(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+zw(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const a=wt("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=n,a.attr(o);let l;if(i){let c;if(typeof i=="string")c=wt(i),c=Array.isArray(c)?c:[c];else{const{fragment:p}=i1(i);c=wt(p).children()}c.length>1?l=wt("g").append(c):l=c[0]}else{const{type:c="path"}=e;l=wt(c)}const u=jy(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(c=>{const p=u[c],m=l.attr(c);if(m==null)l.attr(c,p);else switch(c){case"transform":l.attr(c,p+" "+m);break}}),l.appendTo(a),a.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=go(wn.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:kp,Layers:el,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var o=i.getContext("2d"),s=Ls(t.watermarkAngle)?-t.watermarkAngle:-20,a=Hs(s),l=i.width/4,u=i.height/4,f=0;f<4;f++)for(var c=0;c<4;c++)(f+c)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*c-1)*u),o.rotate(a),o.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){wt(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;wt(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",wt(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",wt(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",wt(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),m5=id.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),cz=id.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=hr(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof Wr))return this;for(var n=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof m5&&(s.configure(r,this),this.vel.append(s.el),n.push(s))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var o=t[n];r?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=el.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),WEe={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},fz=Es.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});Es.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});Es.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});Es.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});Es.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});Es.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});Es.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});Es.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});Es.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});Es.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});Es.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var bA=10;Es.define("standard.Cylinder",{attrs:{body:{lateralArea:bA,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:bA,refRx:"50%",ry:bA,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=$o(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=$o(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,o=t.width,s=t.height,a=o/2,l=r?s*e:e,u=wt.KAPPA,f=u*a,c=u*(r?s*e:e),p=n,m=n+o/2,g=n+o,_=i+l,v=_-l,h=i+s-l,E=i+s,y=["M",p,_,"L",p,h,"C",n,h+c,m-f,E,m,E,"C",m+f,E,g,h+c,g,h,"L",g,_,"C",g,_-c,m+f,v,m,v,"C",m-f,v,p,_-c,p,_,"Z"];return{d:y.join(" ")}}}}});var GEe={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},KEe={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},JEe=WEe.test("svgforeignobject")?GEe:KEe;Es.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},JEe]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},o={text:e,width:-5,height:"100%"},s=hr({textVerticalAnchor:"middle"},i);return JX.textWrap.set.call(this,o,t,r,s),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const YEe=pg.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});pg.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});pg.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});function XEe(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const g5=m5.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,l=XEe(e,o);const u=e.model.angle();s||(l=l.bbox(u));const{x:f=0,y:c=0}=i;$o(r)?r=parseFloat(r)/100*l.width:nl(r)&&(r=Number(il(r,l))),$o(n)?n=parseFloat(n)/100*l.height:nl(n)&&(n=Number(il(n,l)));let p=wt.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return s&&(p=p.rotate(u)),p=p.translate(r+f-l.width/2,n+c-l.height/2),a&&(p=p.scale(a)),p},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:o}=t;let s,a,l;$o(n)?s=e.getTangentAtRatio(parseFloat(n)/100):s=e.getTangentAtLength(n),s?(a=s.start,l=s.vector().vectorAngle(new et(1,0))||0):(a=e.getConnection().start,l=0);let u=wt.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,r);return i||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),QEe=g5.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),v5=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,y5=async()=>{if(!v5()){const n=await ZEe();if(!n)throw new Error("failed to get file through HTML5");return{td:await eSe(n),fileName:n.name}}const e=await iSe(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},ZEe=async()=>new Promise((e,t)=>{const r=document.getElementById("fileInput");r.onchange=()=>{const n=r.files[0];return n?e(n):t(new Error("AbortError"))},r.click()}),eSe=async e=>new Promise(t=>{const r=new FileReader;r.addEventListener("loadend",n=>{const i=n.srcElement.result;return t(i)}),r.readAsText(e)}),tSe=async(e,t,r)=>{if(!v5())return nSe(e,r),e;if(!t)try{t=await oSe()}catch(n){console.error(n);return}return await rSe(t,r),t},rSe=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();await n.write(0,t),await n.close();return}const r=await e.createWritable();await r.write(t),await r.close()},nSe=(e,t)=>{const r=JSON.parse(t);let n=r.id||r.title;if(!n)throw Error("the TD has to have either an id or a title to be saved");n=n.replace(/\s/g,"")+".jsonld",e=e||n;const i={type:"application/ld+json"},o=new File([t],"",i),s=document.getElementById("aDownload");s.href=window.URL.createObjectURL(o),s.setAttribute("download",e),s.click()},iSe=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then(t=>t[0]):window.chooseFileSystemEntries()},oSe=async()=>{if("showSaveFilePicker"in window){const t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]};return await window.chooseFileSystemEntries(e)},w5=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),[n,i]=ct.useState(()=>!1),[o,s]=ct.useState(()=>"url"),[a,l]=ct.useState(()=>({})),u=e.interaction??{},f=r.parsedTD;Pe.useImperativeHandle(t,()=>({openModal:()=>c(),close:()=>p()}));const c=()=>{i(!0)},p=()=>{i(!1)},m=S=>u.links?cue(S,u):!1,g=S=>{f.links=[...f.links?f.links:[],S],r.updateOfflineTD(JSON.stringify(f,null,2))},_=S=>{s(S),a&&S==="url"&&l({})},v=Pe.useCallback(async()=>{try{const S=await y5();document.getElementById("link-href").value=`./${S.fileName}`,l(S.fileHandle?S.fileHandle:JSON.parse(S.td))}catch(S){const T="We ran into an error trying to open your TD.";console.error(T,S),alert(T)}},[]),h=()=>{const S=["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"];let T=0;return S.map(d=>(T++,Q.jsx("option",{value:d},T)))},E=Q.jsxs(Q.Fragment,{children:[Q.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Thing Description:"}),Q.jsx("div",{className:"p-1",children:f.title}),Q.jsxs("div",{className:"p-1 pt-2",children:[Q.jsx("label",{htmlFor:"rel",className:"pl-2 text-sm font-medium text-gray-400",children:"Relation:(select one of the proposed relations or type your custom relation)"}),Q.jsx("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"relation name"}),Q.jsx("datalist",{id:"relationType",children:Q.jsx(h,{})}),Q.jsx("span",{id:"link-rel-info",className:"pl-2 text-xs text-red-400"})]}),Q.jsxs("div",{className:"p-1 pt-2",children:[Q.jsx("label",{htmlFor:"link-href",className:"pl-2 pr-2 text-sm font-medium text-gray-400",children:"Target ressource:"}),Q.jsx(ri,{type:"button",disabled:o==="upload",onClick:()=>_("upload"),className:"h-9",variant:"primary",children:"From local machine"}),Q.jsx(ri,{type:"button",disabled:o==="url",onClick:()=>_("url"),className:"ml-2 h-9",variant:"primary",children:"Resource url"}),Q.jsxs("div",{className:"p-1 pt-4",children:[Q.jsx("input",{type:"text",name:"link-href",id:"link-href",className:"rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"The target ressource",onChange:()=>{sSe()},disabled:o!=="url"}),o==="upload"&&Q.jsx(ri,{type:"button",onClick:v,disabled:o!=="upload",className:"ml-2 h-9",variant:"primary",children:"Open TD"})]}),Q.jsx("span",{id:"link-href-info",className:"pl-2 text-xs text-red-400"}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:(select one of the proposed types or tape your custom type)"}),Q.jsx("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"media type"}),Q.jsxs("datalist",{id:"mediaType",children:[Q.jsx("option",{value:"application/td+json"}),Q.jsx("option",{value:"image/jpeg"}),Q.jsx("option",{value:"text/csv"}),Q.jsx("option",{value:"video/mp4"})]})]})]})]}),y=()=>{if(!r.isValidJSON){_A("Can't add link. TD is malformed");return}const S={href:document.getElementById("link-href").value.trim()||"/"},T=document.getElementById("rel").value.trim(),x=document.getElementById("type").value.trim();T&&(S.rel=T),x&&(S.type=x);let d=!0;try{var $=new URL(S.href)}catch{d=!1}if(o==="url"&&d&&($.protocol==="http:"||$.protocol==="https:"))try{var O=new XMLHttpRequest;if(O.open("GET",href,!1),O.send(),O.getResponseHeader("content-type").includes("application/td+json")){const P=O.response;let k=JSON.parse(P);linkedTd[S.href]=k}}catch(P){console.error("We ran into an error trying to fetch your TD.",P),linkedTd[href]=a}else linkedTd[href]=a;S.href===""?_A("The href field is mandatory ..."):m(S)?_A("A Link with the target Thing Description already exists ..."):(g(S),r.addLinkedTd(linkedTd),l({}),p())};return n?$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:p,onHandleEventRightButton:y,rightButton:"Add",children:E,title:"Add Link ",description:`Tell us how this ${f.title} can interact with other ressources`}),document.getElementById("modal-root")):null}),_A=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},sSe=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};w5.displayName="AddLinkTdDialog";const aSe=e=>{const t=Pe.useContext(Fn),r=i=>{let o=t.linkedTd;o[i.link.href]&&(delete o[i.link.href],t.updateLinkedTd(o)),t.removeLink(i.propName),t.updateIsModified(!0)},n=async i=>{let o=i.link.href;wk(t,o)};return Q.jsxs("div",{className:"bg-formBlue border-formBlue mt-2 flex min-h-12 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",children:[Q.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:Q.jsx("div",{className:"text-formBlue place-self-center px-4 text-center",children:e.link.rel??"-"})}),Q.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:e.link.href}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||t.linkedTd[e.link.href].kind==="file")&&Q.jsx("button",{className:"bg-formBlue border-formBlue flex w-10 items-center justify-center border-r-2",onClick:()=>n(e),children:Q.jsx(t0,{size:16,color:"black"})}),Q.jsx("button",{className:"bg-formBlue flex w-10 items-center justify-center",onClick:()=>r(e),children:Q.jsx(hd,{size:16,color:"black"})})]})},lSe=e=>{const t=Pe.useContext(Fn),r=Pe.useRef(),n=()=>{r.current.openModal()},i=t.parsedTD,[o,s]=Pe.useState(0),[a,l]=Pe.useState("list"),[u,f]=Pe.useState(!1);if(Pe.useEffect(()=>{if(document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",function(T){document.getElementsByTagName("details")[1].attributes.open?f(!0):f(!1)},!1),i===void 0||!i.links||!Array.isArray(i.links))return;let p=100,m=30,g=new Wj,_=new HEe({el:document.getElementById("tdGraph"),model:g,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(!(i===void 0||!i.links||!Array.isArray(i.links))){var v=new fz;v.position(100,10),v.resize(140,40),v.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),v.set("td",{}),v.resize(v.attributes.attrs.label.text.length*12,40),g.addCell(v);for(const[T,x]of i.links.entries()){if(Object.prototype.toString.call(x)!=="[object Object]")continue;p=p+70,m=m+60;const d=x.href??"no href provided",$=x.rel??"",O=new fz;O.position(p,m),O.attr({body:{fill:"#005A9C"},label:{text:d,fill:"white"}}),O.resize(O.attributes.attrs.label.text.length*12,40),g.addCell(O),O.set("href",d);var h=new QEe({useModelGeometry:!0,y:"0%",x:"100%",action:async function(k,B,K){if(t.linkedTd){let ie=t.linkedTd;ie[B.model.get("href")]&&(delete ie[B.model.get("href")],t.updateLinkedTd(ie))}for(let ie=0;ie<i.links.length;ie++)if(d===B.model.get("href")){t.removeLink(ie),t.updateIsModified(!0);break}}}),E=new cz({tools:[h]}),y=O.findView(_);if(y.addTools(E),t.linkedTd&&t.linkedTd[d]&&(t.linkedTd[d].kind==="file"||Object.keys(t.linkedTd[d]).length)){O.set("td",t.linkedTd[d]);var S=new g5({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(B,K,ie){let W=K.model.get("href");wk(t,W)}});let k=new cz({tools:[h,S]});y.addTools(k)}let P=new YEe({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:$,fill:"grey"}}}]});P.source(v),P.target(O),P.addTo(g)}s(m+30)}},[o,a,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,i]),i===void 0)return Q.jsx(Q.Fragment,{});let c=[];if(i.links&&Array.isArray(i.links))for(const[p,m]of i.links.entries())Object.prototype.toString.call(m)==="[object Object]"&&c.push(Q.jsx(aSe,{link:m},p));return Q.jsxs("details",{className:"pt-8",children:[Q.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[Q.jsxs("div",{className:"flex flex-grow",children:[Q.jsx(_a,{tooltip:Q8(),children:Q.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Links"})}),u&&Q.jsx(ri,{disabled:a==="list",onClick:()=>l("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),u&&Q.jsx(ri,{disabled:a==="graph",onClick:()=>l("graph"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Graph"})]}),Q.jsx(ri,{onClick:n,variant:"primary",type:"button",children:"Add Top Level Link"}),Q.jsx(w5,{type:"link",interaction:i,ref:r})]}),c&&a==="graph"&&Q.jsx("div",{className:"pt-4",children:Q.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",id:"tdGraph"})}),c&&a==="list"&&Q.jsx("div",{className:"pt-4",children:Q.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]})};function lp(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{u(n.next(f))}catch(c){s(c)}}function l(f){try{u(n.throw(f))}catch(c){s(c)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const uSe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Qm(e,t,r){const n=cSe(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&dz(n,"path",o),dz(n,"relativePath",o),n}function cSe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=uSe.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function dz(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const fSe=[".DS_Store","Thumbs.db"];function dSe(e){return lp(this,void 0,void 0,function*(){return l1(e)&&hSe(e.dataTransfer)?vSe(e.dataTransfer,e.type):pSe(e)?mSe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?gSe(e):[]})}function hSe(e){return l1(e)}function pSe(e){return l1(e)&&l1(e.target)}function l1(e){return typeof e=="object"&&e!==null}function mSe(e){return WI(e.target.files).map(t=>Qm(t))}function gSe(e){return lp(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Qm(r))})}function vSe(e,t){return lp(this,void 0,void 0,function*(){if(e.items){const r=WI(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(ySe));return hz(b5(n))}return hz(WI(e.files).map(r=>Qm(r)))})}function hz(e){return e.filter(t=>fSe.indexOf(t.name)===-1)}function WI(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function ySe(e){if(typeof e.webkitGetAsEntry!="function")return pz(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?_5(t):pz(e,t)}function b5(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?b5(r):[r]],[])}function pz(e,t){return lp(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,Qm(s)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Qm(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function wSe(e){return lp(this,void 0,void 0,function*(){return e.isDirectory?_5(e):bSe(e)})}function _5(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(s=>lp(this,void 0,void 0,function*(){if(s.length){const a=Promise.all(s.map(wSe));i.push(a),o()}else try{const a=yield Promise.all(i);r(a)}catch(a){n(a)}}),s=>{n(s)})}o()})}function bSe(e){return lp(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=Qm(n,e.fullPath);t(i)},n=>{r(n)})})})}var EA=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function mz(e){return SSe(e)||ESe(e)||S5(e)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SSe(e){if(Array.isArray(e))return GI(e)}function gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gz(Object(r),!0).forEach(function(n){E5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E5(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function My(e,t){return xSe(e)||$Se(e,t)||S5(e,t)||TSe()}function TSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S5(e,t){if(e){if(typeof e=="string")return GI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(e,t)}}function GI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Se(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function xSe(e){if(Array.isArray(e))return e}var ASe=typeof EA=="function"?EA:EA.default,OSe="file-invalid-type",PSe="file-too-large",RSe="file-too-small",NSe="too-many-files",ISe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:OSe,message:"File type must be ".concat(n)}},yz=function(t){return{code:PSe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},wz=function(t){return{code:RSe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},CSe={code:NSe,message:"Too many files"};function T5(e,t){var r=e.type==="application/x-moz-file"||ASe(e,t);return[r,r?null:ISe(t)]}function $5(e,t,r){if(fh(e.size))if(fh(t)&&fh(r)){if(e.size>r)return[!1,yz(r)];if(e.size<t)return[!1,wz(t)]}else{if(fh(t)&&e.size<t)return[!1,wz(t)];if(fh(r)&&e.size>r)return[!1,yz(r)]}return[!0,null]}function fh(e){return e!=null}function kSe(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var u=T5(l,r),f=My(u,1),c=f[0],p=$5(l,n,i),m=My(p,1),g=m[0],_=a?a(l):null;return c&&g&&!_})}function u1(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Xw(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function bz(e){e.preventDefault()}function jSe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function DSe(e){return e.indexOf("Edge/")!==-1}function MSe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return jSe(e)||DSe(e)}function vu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!u1(n)&&a&&a.apply(void 0,[n].concat(o)),u1(n)})}}function LSe(){return"showOpenFilePicker"in window}function FSe(e){if(fh(e)){var t=Object.entries(e).filter(function(r){var n=My(r,2),i=n[0],o=n[1],s=!0;return x5(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(A5))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var i=My(n,2),o=i[0],s=i[1];return vz(vz({},r),{},E5({},o,s))},{});return[{description:"Files",accept:t}]}return e}function BSe(e){if(fh(e))return Object.entries(e).reduce(function(t,r){var n=My(r,2),i=n[0],o=n[1];return[].concat(mz(t),[i],mz(o))},[]).filter(function(t){return x5(t)||A5(t)}).join(",")}function USe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function zSe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function x5(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function A5(e){return/^.*\.[\w]+$/.test(e)}var qSe=["children"],VSe=["open"],HSe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],WSe=["refKey","onChange","onClick"];function GSe(e){return YSe(e)||JSe(e)||O5(e)||KSe()}function KSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YSe(e){if(Array.isArray(e))return KI(e)}function SA(e,t){return ZSe(e)||QSe(e,t)||O5(e,t)||XSe()}function XSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5(e,t){if(e){if(typeof e=="string")return KI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KI(e,t)}}function KI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function ZSe(e){if(Array.isArray(e))return e}function _z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_z(Object(r),!0).forEach(function(n){JI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c1(e,t){if(e==null)return{};var r=e1e(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e1e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Xj=Pe.forwardRef(function(e,t){var r=e.children,n=c1(e,qSe),i=R5(n),o=i.open,s=c1(i,VSe);return Pe.useImperativeHandle(t,function(){return{open:o}},[o]),ct.createElement(Pe.Fragment,null,r(mi(mi({},s),{},{open:o})))});Xj.displayName="Dropzone";var P5={disabled:!1,getFilesFromEvent:dSe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Xj.defaultProps=P5;Xj.propTypes={children:pt.func,accept:pt.objectOf(pt.arrayOf(pt.string)),multiple:pt.bool,preventDropOnDocument:pt.bool,noClick:pt.bool,noKeyboard:pt.bool,noDrag:pt.bool,noDragEventsBubbling:pt.bool,minSize:pt.number,maxSize:pt.number,maxFiles:pt.number,disabled:pt.bool,getFilesFromEvent:pt.func,onFileDialogCancel:pt.func,onFileDialogOpen:pt.func,useFsAccessApi:pt.bool,autoFocus:pt.bool,onDragEnter:pt.func,onDragLeave:pt.func,onDragOver:pt.func,onDrop:pt.func,onDropAccepted:pt.func,onDropRejected:pt.func,onError:pt.func,validator:pt.func};var YI={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function R5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=mi(mi({},P5),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,c=t.onDragOver,p=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,_=t.onFileDialogCancel,v=t.onFileDialogOpen,h=t.useFsAccessApi,E=t.autoFocus,y=t.preventDropOnDocument,S=t.noClick,T=t.noKeyboard,x=t.noDrag,d=t.noDragEventsBubbling,$=t.onError,O=t.validator,P=Pe.useMemo(function(){return BSe(r)},[r]),k=Pe.useMemo(function(){return FSe(r)},[r]),B=Pe.useMemo(function(){return typeof v=="function"?v:Ez},[v]),K=Pe.useMemo(function(){return typeof _=="function"?_:Ez},[_]),ie=Pe.useRef(null),W=Pe.useRef(null),ne=Pe.useReducer(t1e,YI),fe=SA(ne,2),re=fe[0],le=fe[1],F=re.isFocused,z=re.isFileDialogActive,J=Pe.useRef(typeof window<"u"&&window.isSecureContext&&h&&LSe()),R=function(){!J.current&&z&&setTimeout(function(){if(W.current){var Ye=W.current.files;Ye.length||(le({type:"closeDialog"}),K())}},300)};Pe.useEffect(function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}},[W,z,K,J]);var C=Pe.useRef([]),q=function(Ye){ie.current&&ie.current.contains(Ye.target)||(Ye.preventDefault(),C.current=[])};Pe.useEffect(function(){return y&&(document.addEventListener("dragover",bz,!1),document.addEventListener("drop",q,!1)),function(){y&&(document.removeEventListener("dragover",bz),document.removeEventListener("drop",q))}},[ie,y]),Pe.useEffect(function(){return!n&&E&&ie.current&&ie.current.focus(),function(){}},[ie,E,n]);var oe=Pe.useCallback(function(Qe){$?$(Qe):console.error(Qe)},[$]),X=Pe.useCallback(function(Qe){Qe.preventDefault(),Qe.persist(),Fe(Qe),C.current=[].concat(GSe(C.current),[Qe.target]),Xw(Qe)&&Promise.resolve(i(Qe)).then(function(Ye){if(!(u1(Qe)&&!d)){var te=Ye.length,j=te>0&&kSe({files:Ye,accept:P,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:O}),U=te>0&&!j;le({isDragAccept:j,isDragReject:U,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Qe)}}).catch(function(Ye){return oe(Ye)})},[i,u,oe,d,P,s,o,a,l,O]),ee=Pe.useCallback(function(Qe){Qe.preventDefault(),Qe.persist(),Fe(Qe);var Ye=Xw(Qe);if(Ye&&Qe.dataTransfer)try{Qe.dataTransfer.dropEffect="copy"}catch{}return Ye&&c&&c(Qe),!1},[c,d]),se=Pe.useCallback(function(Qe){Qe.preventDefault(),Qe.persist(),Fe(Qe);var Ye=C.current.filter(function(j){return ie.current&&ie.current.contains(j)}),te=Ye.indexOf(Qe.target);te!==-1&&Ye.splice(te,1),C.current=Ye,!(Ye.length>0)&&(le({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Xw(Qe)&&f&&f(Qe))},[ie,f,d]),we=Pe.useCallback(function(Qe,Ye){var te=[],j=[];Qe.forEach(function(U){var ce=T5(U,P),Te=SA(ce,2),Re=Te[0],ze=Te[1],Be=$5(U,s,o),Xe=SA(Be,2),vt=Xe[0],St=Xe[1],yt=O?O(U):null;if(Re&&vt&&!yt)te.push(U);else{var Yt=[ze,St];yt&&(Yt=Yt.concat(yt)),j.push({file:U,errors:Yt.filter(function(Jr){return Jr})})}}),(!a&&te.length>1||a&&l>=1&&te.length>l)&&(te.forEach(function(U){j.push({file:U,errors:[CSe]})}),te.splice(0)),le({acceptedFiles:te,fileRejections:j,isDragReject:j.length>0,type:"setFiles"}),p&&p(te,j,Ye),j.length>0&&g&&g(j,Ye),te.length>0&&m&&m(te,Ye)},[le,a,P,s,o,l,p,m,g,O]),Oe=Pe.useCallback(function(Qe){Qe.preventDefault(),Qe.persist(),Fe(Qe),C.current=[],Xw(Qe)&&Promise.resolve(i(Qe)).then(function(Ye){u1(Qe)&&!d||we(Ye,Qe)}).catch(function(Ye){return oe(Ye)}),le({type:"reset"})},[i,we,oe,d]),I=Pe.useCallback(function(){if(J.current){le({type:"openDialog"}),B();var Qe={multiple:a,types:k};window.showOpenFilePicker(Qe).then(function(Ye){return i(Ye)}).then(function(Ye){we(Ye,null),le({type:"closeDialog"})}).catch(function(Ye){USe(Ye)?(K(Ye),le({type:"closeDialog"})):zSe(Ye)?(J.current=!1,W.current?(W.current.value=null,W.current.click()):oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):oe(Ye)});return}W.current&&(le({type:"openDialog"}),B(),W.current.value=null,W.current.click())},[le,B,K,h,we,oe,k,a]),L=Pe.useCallback(function(Qe){!ie.current||!ie.current.isEqualNode(Qe.target)||(Qe.key===" "||Qe.key==="Enter"||Qe.keyCode===32||Qe.keyCode===13)&&(Qe.preventDefault(),I())},[ie,I]),M=Pe.useCallback(function(){le({type:"focus"})},[]),Z=Pe.useCallback(function(){le({type:"blur"})},[]),ue=Pe.useCallback(function(){S||(MSe()?setTimeout(I,0):I())},[S,I]),de=function(Ye){return n?null:Ye},ve=function(Ye){return T?null:de(Ye)},Se=function(Ye){return x?null:de(Ye)},Fe=function(Ye){d&&Ye.stopPropagation()},He=Pe.useMemo(function(){return function(){var Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ye=Qe.refKey,te=Ye===void 0?"ref":Ye,j=Qe.role,U=Qe.onKeyDown,ce=Qe.onFocus,Te=Qe.onBlur,Re=Qe.onClick,ze=Qe.onDragEnter,Be=Qe.onDragOver,Xe=Qe.onDragLeave,vt=Qe.onDrop,St=c1(Qe,HSe);return mi(mi(JI({onKeyDown:ve(vu(U,L)),onFocus:ve(vu(ce,M)),onBlur:ve(vu(Te,Z)),onClick:de(vu(Re,ue)),onDragEnter:Se(vu(ze,X)),onDragOver:Se(vu(Be,ee)),onDragLeave:Se(vu(Xe,se)),onDrop:Se(vu(vt,Oe)),role:typeof j=="string"&&j!==""?j:"presentation"},te,ie),!n&&!T?{tabIndex:0}:{}),St)}},[ie,L,M,Z,ue,X,ee,se,Oe,T,x,n]),Ve=Pe.useCallback(function(Qe){Qe.stopPropagation()},[]),ut=Pe.useMemo(function(){return function(){var Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ye=Qe.refKey,te=Ye===void 0?"ref":Ye,j=Qe.onChange,U=Qe.onClick,ce=c1(Qe,WSe),Te=JI({accept:P,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:de(vu(j,Oe)),onClick:de(vu(U,Ve)),tabIndex:-1},te,W);return mi(mi({},Te),ce)}},[W,r,a,Oe,n]);return mi(mi({},re),{},{isFocused:F&&!n,getRootProps:He,getInputProps:ut,rootRef:ie,inputRef:W,open:de(I)})}function t1e(e,t){switch(t.type){case"focus":return mi(mi({},e),{},{isFocused:!0});case"blur":return mi(mi({},e),{},{isFocused:!1});case"openDialog":return mi(mi({},YI),{},{isFileDialogActive:!0});case"closeDialog":return mi(mi({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return mi(mi({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return mi(mi({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return mi({},YI);default:return e}}function Ez(){}const r1e=({onUndo:e,onRedo:t,customBreakpoints:r})=>{const n=Pe.useContext(Fn),i=n.parsedTD,o=["id","properties","actions","events","forms","description","title","links"],s=ct.useRef(),a=()=>{var g;(g=s.current)==null||g.openModal()},l=Pe.useCallback(g=>{const _=g[0],v=new FileReader;v.onabort=()=>console.error("File reading  - aborted"),v.onerror=()=>console.error("File reading - failed"),v.onload=()=>{const h={td:v.result,fileName:_.name,fileHandle:_};try{let E={};E[h.fileName]=h.fileHandle,n.updateOfflineTD(h.td),n.updateIsModified(!1),n.setFileHandle(h.fileName),n.updateLinkedTd(void 0),n.addLinkedTd(E)}catch(E){console.error("File processing:",E)}},v.readAsText(_)},[n]),{getRootProps:u,getInputProps:f,isDragActive:c}=R5({onDrop:l,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10*1024*1024});if(!n.offlineTD)return Q.jsxs("div",{...u(),className:"align-center flex h-full w-full justify-center justify-items-center bg-gray-500 text-center",children:[Q.jsx("input",{...f()}),c?Q.jsx("div",{className:"place-self-center text-4xl text-white",children:Q.jsx("p",{children:"Drop the files here ..."})}):Q.jsxs("div",{className:"place-self-center text-4xl text-white",children:['Start writing a new TD by clicking "Create"',Q.jsx("p",{children:"or drag and drop .json file here"}),Q.jsx("div",{className:"pt-4",children:Q.jsx("p",{className:"text-xl text-gray-600",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let p;i.forms&&(p=B1(i.forms).map((_,v)=>Q.jsx(yT,{form:_,propName:v},v)));const m=F1(i.id?{id:i.id}:{},i,o);return Q.jsxs("div",{className:"h-full w-full overflow-auto bg-gray-500 p-6",children:[Q.jsx(Eye,{onUndo:e,onRedo:t}),i!==void 0&&Object.keys(i).length>0&&Q.jsxs("div",{children:[Q.jsx("div",{className:"text-3xl text-white",children:i.title?iP(i,"title",i["@context"]):Q.jsx(Q.Fragment,{})}),i.description?Q.jsx("div",{className:"pt-4 text-xl text-white",children:iP(i,"description",i["@context"])}):Q.jsx(Q.Fragment,{}),Q.jsx("div",{className:"pt-4",children:Q.jsx(YK,{...m})})]}),Q.jsxs("details",{className:"pt-8",children:[Q.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[Q.jsx("div",{className:"flex flex-grow",children:Q.jsx(_a,{tooltip:n0(),id:"forms",children:Q.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Forms"})})}),Q.jsx(ri,{onClick:a,variant:"primary",type:"button",children:"Add Top Level Form"}),Q.jsx(Yy,{type:"thing",interaction:i,ref:s})]}),p&&Q.jsx("div",{className:"pt-4",children:Q.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:p})})]}),Q.jsx(lSe,{}),Q.jsx(eA,{interaction:"Properties",customBreakpoints:r}),Q.jsx(eA,{interaction:"Actions"}),Q.jsx(eA,{interaction:"Events"}),Q.jsx("div",{className:"h-10"})]})},n1e=e=>{var s;const t=Pe.useContext(Fn),r=i1e(t.offlineTD.length);let n=0,i=0,o=0;if(Object.keys(t.parsedTD).length!==0){const a=t.parsedTD;n=a.properties?Object.keys(a.properties).length:0,i=a.actions?Object.keys(a.actions).length:0,o=a.events?Object.keys(a.events).length:0}return Q.jsx(Q.Fragment,{children:Q.jsx("footer",{className:"flex h-10 flex-col justify-center bg-blue-500 text-white",children:Q.jsxs("div",{className:"flex items-center px-2",children:[Q.jsxs("div",{className:"hidden grow items-center gap-2 md:flex",children:[Q.jsxs("div",{children:["Properties: ",n]}),Q.jsxs("div",{children:["| Actions: ",i]}),Q.jsxs("div",{children:["| Events: ",o]}),Q.jsxs("div",{children:["| Size: ",r]}),Q.jsxs("div",{children:["| Northbound State:"," ",((s=t.northboundConnection)==null?void 0:s.message)??"Unknown"]})]}),Q.jsxs("div",{className:"flex grow gap-2 md:hidden",children:[Q.jsxs("div",{children:["P: ",n]}),Q.jsxs("div",{children:["| A: ",i]}),Q.jsxs("div",{children:["| E: ",o]}),Q.jsxs("div",{className:"flex",children:[Q.jsxs("div",{children:["| ",r]}),t.isModified&&Q.jsx("div",{className:"md:hidden",children:"*"})]})]}),Q.jsxs("div",{className:"flex items-center gap-2",children:[t.isModified&&Q.jsx("div",{className:"hidden md:block",children:"You have unsaved changes - "}),Q.jsxs("div",{children:["v","0.8.0"]}),Q.jsx("a",{className:"rounded-full bg-black p-2",href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:Q.jsx(kk,{size:16})})]})]})})})};function i1e(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}const o1e=""+new URL("editdor-Cn4ts1-9.png",import.meta.url).href,wo=[];for(let e=0;e<256;++e)wo.push((e+256).toString(16).slice(1));function s1e(e,t=0){return(wo[e[t+0]]+wo[e[t+1]]+wo[e[t+2]]+wo[e[t+3]]+"-"+wo[e[t+4]]+wo[e[t+5]]+"-"+wo[e[t+6]]+wo[e[t+7]]+"-"+wo[e[t+8]]+wo[e[t+9]]+"-"+wo[e[t+10]]+wo[e[t+11]]+wo[e[t+12]]+wo[e[t+13]]+wo[e[t+14]]+wo[e[t+15]]).toLowerCase()}let TA;const a1e=new Uint8Array(16);function l1e(){if(!TA){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");TA=crypto.getRandomValues.bind(crypto)}return TA(a1e)}const u1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sz={randomUUID:u1e};function c1e(e,t,r){var i;e=e||{};const n=e.random??((i=e.rng)==null?void 0:i.call(e))??l1e();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,s1e(n)}function f1e(e,t,r){return Sz.randomUUID&&!e?Sz.randomUUID():c1e(e)}function d1e(e){const t=["https://www.w3.org/2022/wot/td/v1.1","https://www.w3.org/2019/wot/td/v1"],r="https://schema.org/";if(typeof e=="string"){if(t.includes(e))return[e,{schema:r}];throw new Error("validation schema is wrong")}if(Array.isArray(e)){const n=e.filter(o=>typeof o=="string"&&t.includes(o)),i=e.filter(o=>typeof o=="object"&&o!==null);if(n.length>0)if(i.length>0){const o=i.map(s=>"schema"in s?s:{schema:r,...s});return[...n,...o]}else return[...n,{schema:r}];return e}return e}function N5(e){let t=/{{/gi,r,n=[];for(;r=t.exec(e);)n.push(r.index);t=/}}/gi;let i=[];for(;r=t.exec(e);)i.push(r.index);let o=[];for(let s=0;s<n.length;s++)o.push(e.slice(n[s]+2,i[s]));return[...new Set(o)]}function $A(e,t){return Object.keys(e).filter(r=>t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}function h1e(e,t,r,n,i,o){const s=I5(e,t);try{const a=JSON.parse(s);if(a.properties&&(a.properties=$A(a.properties,r)),a.actions&&(a.actions=$A(a.actions,n)),a.events&&(a.events=$A(a.events,i)),!C5(a)){let l=a.version;a.version={...l,instance:o===""?zve():o}}return delete a["@type"],delete a["tm:required"],a}catch(a){return console.error("Error processing TM:",a),null}}function I5(e,t){let r=e;return Object.entries(t).forEach(([n,i])=>{const o=Number(i);isNaN(o)?r=r.replace(new RegExp(`{{${n}}}`,"g"),i):r=r.replace(new RegExp(`"{{${n}}}"`,"g"),i).replace(new RegExp(`{{${n}}}`,"g"),i)}),r}function p1e(e){const t={...e},r=f1e();return t.id=`urn:${r}`,t}function m1e(e,t){try{const r=JSON.stringify(e),n=Object.keys(t).length>0?I5(r,t):r,i=JSON.parse(n),{"@type":o,"tm:required":s,...a}=i;return p1e(a)}catch(r){throw new Error(`Error preparing TD for submission: ${r instanceof Error?r.message:String(r)}`)}}function C5(e){let t=e.version;return t?typeof t=="object"?!!t.instance:!1:!0}const k5=({inputValues:e,onValueChange:t})=>{const[r,n]=Pe.useState(e);Pe.useEffect(()=>{n(e)},[e]);const i=(s,a)=>{n(l=>({...l,[s]:a}))},o=(s,a)=>{t(s,a)};return Q.jsx("div",{className:"placeholder-inputs-container w-full",children:Object.keys(e).map(s=>Q.jsxs("div",{className:"py-1",children:[Q.jsxs("label",{htmlFor:`tm-input-${s}`,className:"pl-2 text-sm font-medium text-gray-400",children:[s,":"]}),Q.jsx("input",{id:`tm-input-${s}`,type:"text",name:s,value:r[s]||"",onChange:a=>i(s,a.target.value),onBlur:a=>o(s,a.target.value),className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white outline-none hover:border-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter a value..."})]},s))})},j5=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),n=r.offlineTD,[i,o]=Pe.useState([]),[s,a]=Pe.useState(()=>!1),[l,u]=Pe.useState([]),[f,c]=Pe.useState({}),[p,m]=Pe.useState(!1),[g,_]=Pe.useState("");Pe.useEffect(()=>{m(C5(r.parsedTD))},[r.parsedTD]),Pe.useEffect(()=>{o(y1e(r.offlineTD)),u(v1e(r.offlineTD))},[r.offlineTD]),Pe.useEffect(()=>{if(n){const S=N5(n).reduce((T,x)=>(T[x]="",T),{});c(S)}},[n]),Pe.useImperativeHandle(t,()=>({openModal:()=>a(!0),close:()=>a(!1)}));const v=(y,S)=>{c(T=>({...T,[y]:S}))},h=()=>{const y=g1e(l),S=h1e(r.offlineTD,f,y.properties,y.actions,y.events,g),T=JSON.stringify(S,null,2);localStorage.setItem("td",T),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")},E=y=>{const T=y.target.value.trim();_(T)};return s&&s?$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:()=>a(!1),onHandleEventRightButton:h,rightButton:"Generate TD",title:"Generate TD From TM",description:"Please provide values to switch the placeholders with.",children:Q.jsxs(Q.Fragment,{children:[Q.jsx(k5,{inputValues:f,onValueChange:v}),!p&&Q.jsx(fs,{label:"TD instance version",id:"instance",autoFocus:!0,onChange:E,placeholder:"ex: 1.0.0",value:g,helperText:"The Thing Model contains a version without instance key and corresponding value. If you leave this field empty it will automatic generate a instance value."}),Q.jsx("h2",{className:"pb-2 pt-4 text-gray-400",children:"Select/unselect the interaction affordances you would like to see in the new TD."}),Q.jsx("div",{className:"affordances-container",children:l})]})}),document.getElementById("modal-root")):null});function g1e(e){const t={properties:[],actions:[],events:[]};return e.forEach(r=>{var n;if(r.props.className.includes("form-checkbox")){const i=document.getElementById(r.props.children[0].props.id);if(i!=null&&i.checked){const[o,s]=((n=r.key)==null?void 0:n.toString().split("/"))??[];o==="properties"?t.properties.push(s):o==="actions"?t.actions.push(s):o==="events"&&t.events.push(s)}}}),t}function v1e(e){try{if(!e)return[];const t=JSON.parse(e),{properties:r,actions:n,events:i,requiredFields:o}=D5(t),s=Rm("properties",r,o),a=Rm("actions",n,o),l=Rm("events",i,o);return[...s,...a,...l]}catch(t){return console.error("Error creating affordance elements:",t),[]}}const y1e=e=>{try{let t=[],r=[],n=[];try{const i=JSON.parse(e),{properties:o,actions:s,events:a,requiredFields:l}=D5(i);t=Rm("properties",o,l),r=Rm("actions",s,l),n=Rm("events",a,l)}catch{}return[...t,...r,...n]}catch(t){return console.error("Error creating HTML inputs:",t),[]}};function Rm(e,t,r){return t.map(n=>{const i=r[e].includes(n);return Q.jsxs("div",{className:"form-checkbox py-1 pl-2",children:[Q.jsx("input",{id:`${e}/${n}`,className:"form-checkbox-input",type:"checkbox",value:`#${e}/${n}`,disabled:i,defaultChecked:!0,title:i?"This field is required by the TM.":"","data-interaction":e}),Q.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:`${e}/${n}`,children:`#${e}/${n}`})]},`${e}/${n}`)})}function D5(e){const t=Object.keys(e.properties||{}),r=Object.keys(e.actions||{}),n=Object.keys(e.events||{}),i={properties:[],actions:[],events:[]};if(e["tm:required"])for(const o of e["tm:required"])o.startsWith("#properties/")?i.properties.push(o.split("/")[1]):o.startsWith("#actions/")?i.actions.push(o.split("/")[1]):o.startsWith("#events/")&&i.events.push(o.split("/")[1]);return{properties:t,actions:r,events:n,requiredFields:i}}j5.displayName="ConvertTmDialog";var M5={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(uo,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,o=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,a={},l=0,u={};function f($){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var P=T(O);P.chunkSize=parseInt(P.chunkSize),O.step||O.chunk||(P.chunkSize=null),this._handle=new _(P),(this._handle.streamer=this)._config=P}).call(this,$),this.parseChunk=function(O,P){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let K=this._config.newline;K||(B=this._config.quoteChar||'"',K=this._handle.guessLineEndings(O,B)),O=[...O.split(K).slice(k)].join(K)}this.isFirstChunk&&d(this._config.beforeFirstChunk)&&(B=this._config.beforeFirstChunk(O))!==void 0&&(O=B),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+O,B=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=B.meta.cursor,k=(this._finished||(this._partialLine=k.substring(O-this._baseIndex),this._baseIndex=O),B&&B.data&&(this._rowCount+=B.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:B,workerId:u.WORKER_ID,finished:k});else if(d(this._config.chunk)&&!P){if(this._config.chunk(B,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=B=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(B.data),this._completeResults.errors=this._completeResults.errors.concat(B.errors),this._completeResults.meta=B.meta),this._completed||!k||!d(this._config.complete)||B&&B.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||B&&B.meta.paused||this._nextChunk(),B}this._halted=!0},this._sendError=function(O){d(this._config.error)?this._config.error(O):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:O,finished:!1})}}function c($){var O;($=$||{}).chunkSize||($.chunkSize=u.RemoteChunkSize),f.call(this,$),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),o||(O.onload=x(this._chunkLoaded,this),O.onerror=x(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var P,k=this._config.downloadRequestHeaders;for(P in k)O.setRequestHeader(P,k[P])}var B;this._config.chunkSize&&(B=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+B));try{O.send(this._config.downloadRequestBody)}catch(K){this._chunkError(K.message)}o&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(P){P=O.statusText||P,this._sendError(new Error(P))}}function p($){($=$||{}).chunkSize||($.chunkSize=u.LocalChunkSize),f.call(this,$);var O,P,k=typeof FileReader<"u";this.stream=function(B){this._input=B,P=B.slice||B.webkitSlice||B.mozSlice,k?((O=new FileReader).onload=x(this._chunkLoaded,this),O.onerror=x(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var B=this._input,K=(this._config.chunkSize&&(K=Math.min(this._start+this._config.chunkSize,this._input.size),B=P.call(B,this._start,K)),O.readAsText(B,this._config.encoding));k||this._chunkLoaded({target:{result:K}})},this._chunkLoaded=function(B){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(B.target.result)},this._chunkError=function(){this._sendError(O.error)}}function m($){var O;f.call(this,$=$||{}),this.stream=function(P){return O=P,this._nextChunk()},this._nextChunk=function(){var P,k;if(!this._finished)return P=this._config.chunkSize,O=P?(k=O.substring(0,P),O.substring(P)):(k=O,""),this._finished=!O,this.parseChunk(k)}}function g($){f.call(this,$=$||{});var O=[],P=!0,k=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(B){this._input=B,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):P=!0},this._streamData=x(function(B){try{O.push(typeof B=="string"?B:B.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(K){this._streamError(K)}},this),this._streamError=x(function(B){this._streamCleanUp(),this._sendError(B)},this),this._streamEnd=x(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _($){var O,P,k,B,K=Math.pow(2,53),ie=-K,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ne=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,fe=this,re=0,le=0,F=!1,z=!1,J=[],R={data:[],errors:[],meta:{}};function C(ee){return $.skipEmptyLines==="greedy"?ee.join("").trim()==="":ee.length===1&&ee[0].length===0}function q(){if(R&&k&&(X("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),k=!1),$.skipEmptyLines&&(R.data=R.data.filter(function(Oe){return!C(Oe)})),oe()){let Oe=function(I,L){d($.transformHeader)&&(I=$.transformHeader(I,L)),J.push(I)};if(R)if(Array.isArray(R.data[0])){for(var ee=0;oe()&&ee<R.data.length;ee++)R.data[ee].forEach(Oe);R.data.splice(0,1)}else R.data.forEach(Oe)}function se(Oe,I){for(var L=$.header?{}:[],M=0;M<Oe.length;M++){var Z=M,ue=Oe[M],ue=((de,ve)=>(Se=>($.dynamicTypingFunction&&$.dynamicTyping[Se]===void 0&&($.dynamicTyping[Se]=$.dynamicTypingFunction(Se)),($.dynamicTyping[Se]||$.dynamicTyping)===!0))(de)?ve==="true"||ve==="TRUE"||ve!=="false"&&ve!=="FALSE"&&((Se=>{if(W.test(Se)&&(Se=parseFloat(Se),ie<Se&&Se<K))return 1})(ve)?parseFloat(ve):ne.test(ve)?new Date(ve):ve===""?null:ve):ve)(Z=$.header?M>=J.length?"__parsed_extra":J[M]:Z,ue=$.transform?$.transform(ue,Z):ue);Z==="__parsed_extra"?(L[Z]=L[Z]||[],L[Z].push(ue)):L[Z]=ue}return $.header&&(M>J.length?X("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+M,le+I):M<J.length&&X("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+M,le+I)),L}var we;R&&($.header||$.dynamicTyping||$.transform)&&(we=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(se),we=R.data.length):R.data=se(R.data,0),$.header&&R.meta&&(R.meta.fields=J),le+=we)}function oe(){return $.header&&J.length===0}function X(ee,se,we,Oe){ee={type:ee,code:se,message:we},Oe!==void 0&&(ee.row=Oe),R.errors.push(ee)}d($.step)&&(B=$.step,$.step=function(ee){R=ee,oe()?q():(q(),R.data.length!==0&&(re+=ee.data.length,$.preview&&re>$.preview?P.abort():(R.data=R.data[0],B(R,fe))))}),this.parse=function(ee,se,we){var Oe=$.quoteChar||'"',Oe=($.newline||($.newline=this.guessLineEndings(ee,Oe)),k=!1,$.delimiter?d($.delimiter)&&($.delimiter=$.delimiter(ee),R.meta.delimiter=$.delimiter):((Oe=((I,L,M,Z,ue)=>{var de,ve,Se,Fe;ue=ue||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var He=0;He<ue.length;He++){for(var Ve,ut=ue[He],Qe=0,Ye=0,te=0,j=(Se=void 0,new h({comments:Z,delimiter:ut,newline:L,preview:10}).parse(I)),U=0;U<j.data.length;U++)M&&C(j.data[U])?te++:(Ve=j.data[U].length,Ye+=Ve,Se===void 0?Se=Ve:0<Ve&&(Qe+=Math.abs(Ve-Se),Se=Ve));0<j.data.length&&(Ye/=j.data.length-te),(ve===void 0||Qe<=ve)&&(Fe===void 0||Fe<Ye)&&1.99<Ye&&(ve=Qe,de=ut,Fe=Ye)}return{successful:!!($.delimiter=de),bestDelimiter:de}})(ee,$.newline,$.skipEmptyLines,$.comments,$.delimitersToGuess)).successful?$.delimiter=Oe.bestDelimiter:(k=!0,$.delimiter=u.DefaultDelimiter),R.meta.delimiter=$.delimiter),T($));return $.preview&&$.header&&Oe.preview++,O=ee,P=new h(Oe),R=P.parse(O,se,we),q(),F?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,P.abort(),O=d($.chunk)?"":O.substring(P.getCharIndex())},this.resume=function(){fe.streamer._halted?(F=!1,fe.streamer.parseChunk(O,!0)):setTimeout(fe.resume,3)},this.aborted=function(){return z},this.abort=function(){z=!0,P.abort(),R.meta.aborted=!0,d($.complete)&&$.complete(R),O=""},this.guessLineEndings=function(I,Oe){I=I.substring(0,1048576);var Oe=new RegExp(v(Oe)+"([^]*?)"+v(Oe),"gm"),we=(I=I.replace(Oe,"")).split("\r"),Oe=I.split(`
`),I=1<Oe.length&&Oe[0].length<we[0].length;if(we.length===1||I)return`
`;for(var L=0,M=0;M<we.length;M++)we[M][0]===`
`&&L++;return L>=we.length/2?`\r
`:"\r"}}function v($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h($){var O=($=$||{}).delimiter,P=$.newline,k=$.comments,B=$.step,K=$.preview,ie=$.fastMode,W=null,ne=!1,fe=$.quoteChar==null?'"':$.quoteChar,re=fe;if($.escapeChar!==void 0&&(re=$.escapeChar),(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=","),k===O)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var le=0,F=!1;this.parse=function(z,J,R){if(typeof z!="string")throw new Error("Input must be a string");var C=z.length,q=O.length,oe=P.length,X=k.length,ee=d(B),se=[],we=[],Oe=[],I=le=0;if(!z)return Qe();if(ie||ie!==!1&&z.indexOf(fe)===-1){for(var L=z.split(P),M=0;M<L.length;M++){if(Oe=L[M],le+=Oe.length,M!==L.length-1)le+=P.length;else if(R)return Qe();if(!k||Oe.substring(0,X)!==k){if(ee){if(se=[],Fe(Oe.split(O)),Ye(),F)return Qe()}else Fe(Oe.split(O));if(K&&K<=M)return se=se.slice(0,K),Qe(!0)}}return Qe()}for(var Z=z.indexOf(O,le),ue=z.indexOf(P,le),de=new RegExp(v(re)+v(fe),"g"),ve=z.indexOf(fe,le);;)if(z[le]===fe)for(ve=le,le++;;){if((ve=z.indexOf(fe,ve+1))===-1)return R||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:le}),Ve();if(ve===C-1)return Ve(z.substring(le,ve).replace(de,fe));if(fe===re&&z[ve+1]===re)ve++;else if(fe===re||ve===0||z[ve-1]!==re){Z!==-1&&Z<ve+1&&(Z=z.indexOf(O,ve+1));var Se=He((ue=ue!==-1&&ue<ve+1?z.indexOf(P,ve+1):ue)===-1?Z:Math.min(Z,ue));if(z.substr(ve+1+Se,q)===O){Oe.push(z.substring(le,ve).replace(de,fe)),z[le=ve+1+Se+q]!==fe&&(ve=z.indexOf(fe,le)),Z=z.indexOf(O,le),ue=z.indexOf(P,le);break}if(Se=He(ue),z.substring(ve+1+Se,ve+1+Se+oe)===P){if(Oe.push(z.substring(le,ve).replace(de,fe)),ut(ve+1+Se+oe),Z=z.indexOf(O,le),ve=z.indexOf(fe,le),ee&&(Ye(),F))return Qe();if(K&&se.length>=K)return Qe(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:le}),ve++}}else if(k&&Oe.length===0&&z.substring(le,le+X)===k){if(ue===-1)return Qe();le=ue+oe,ue=z.indexOf(P,le),Z=z.indexOf(O,le)}else if(Z!==-1&&(Z<ue||ue===-1))Oe.push(z.substring(le,Z)),le=Z+q,Z=z.indexOf(O,le);else{if(ue===-1)break;if(Oe.push(z.substring(le,ue)),ut(ue+oe),ee&&(Ye(),F))return Qe();if(K&&se.length>=K)return Qe(!0)}return Ve();function Fe(te){se.push(te),I=le}function He(te){var j=0;return j=te!==-1&&(te=z.substring(ve+1,te))&&te.trim()===""?te.length:j}function Ve(te){return R||(te===void 0&&(te=z.substring(le)),Oe.push(te),le=C,Fe(Oe),ee&&Ye()),Qe()}function ut(te){le=te,Fe(Oe),Oe=[],ue=z.indexOf(P,le)}function Qe(te){if($.header&&!J&&se.length&&!ne){var j=se[0],U=Object.create(null),ce=new Set(j);let Te=!1;for(let Re=0;Re<j.length;Re++){let ze=j[Re];if(U[ze=d($.transformHeader)?$.transformHeader(ze,Re):ze]){let Be,Xe=U[ze];for(;Be=ze+"_"+Xe,Xe++,ce.has(Be););ce.add(Be),j[Re]=Be,U[ze]++,Te=!0,(W=W===null?{}:W)[Be]=ze}else U[ze]=1,j[Re]=ze;ce.add(ze)}Te&&console.warn("Duplicate headers found and renamed."),ne=!0}return{data:se,errors:we,meta:{delimiter:O,linebreak:P,aborted:F,truncated:!!te,cursor:I+(J||0),renamedHeaders:W}}}function Ye(){B(Qe()),se=[],we=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return le}}function E($){var O=$.data,P=a[O.workerId],k=!1;if(O.error)P.userError(O.error,O.file);else if(O.results&&O.results.data){var B={abort:function(){k=!0,y(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(d(P.userStep)){for(var K=0;K<O.results.data.length&&(P.userStep({data:O.results.data[K],errors:O.results.errors,meta:O.results.meta},B),!k);K++);delete O.results}else d(P.userChunk)&&(P.userChunk(O.results,B,O.file),delete O.results)}O.finished&&!k&&y(O.workerId,O.results)}function y($,O){var P=a[$];d(P.userComplete)&&P.userComplete(O),P.terminate(),delete a[$]}function S(){throw new Error("Not implemented.")}function T($){if(typeof $!="object"||$===null)return $;var O,P=Array.isArray($)?[]:{};for(O in $)P[O]=T($[O]);return P}function x($,O){return function(){$.apply(O,arguments)}}function d($){return typeof $=="function"}return u.parse=function($,O){var P=(O=O||{}).dynamicTyping||!1;if(d(P)&&(O.dynamicTypingFunction=P,P={}),O.dynamicTyping=P,O.transform=!!d(O.transform)&&O.transform,!O.worker||!u.WORKERS_SUPPORTED)return P=null,u.NODE_STREAM_INPUT,typeof $=="string"?($=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))($),P=new(O.download?c:m)(O)):$.readable===!0&&d($.read)&&d($.on)?P=new g(O):(n.File&&$ instanceof File||$ instanceof Object)&&(P=new p(O)),P.stream($);(P=(()=>{var k;return!!u.WORKERS_SUPPORTED&&(k=(()=>{var B=n.URL||n.webkitURL||null,K=r.toString();return u.BLOB_URL||(u.BLOB_URL=B.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",K,")();"],{type:"text/javascript"})))})(),(k=new n.Worker(k)).onmessage=E,k.id=l++,a[k.id]=k)})()).userStep=O.step,P.userChunk=O.chunk,P.userComplete=O.complete,P.userError=O.error,O.step=d(O.step),O.chunk=d(O.chunk),O.complete=d(O.complete),O.error=d(O.error),delete O.worker,P.postMessage({input:$,config:O,workerId:P.id})},u.unparse=function($,O){var P=!1,k=!0,B=",",K=`\r
`,ie='"',W=ie+ie,ne=!1,fe=null,re=!1,le=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||u.BAD_DELIMITERS.filter(function(J){return O.delimiter.indexOf(J)!==-1}).length||(B=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(P=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(ne=O.skipEmptyLines),typeof O.newline=="string"&&(K=O.newline),typeof O.quoteChar=="string"&&(ie=O.quoteChar),typeof O.header=="boolean"&&(k=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");fe=O.columns}O.escapeChar!==void 0&&(W=O.escapeChar+ie),O.escapeFormulae instanceof RegExp?re=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(ie),"g"));if(typeof $=="string"&&($=JSON.parse($)),Array.isArray($)){if(!$.length||Array.isArray($[0]))return F(null,$,ne);if(typeof $[0]=="object")return F(fe||Object.keys($[0]),$,ne)}else if(typeof $=="object")return typeof $.data=="string"&&($.data=JSON.parse($.data)),Array.isArray($.data)&&($.fields||($.fields=$.meta&&$.meta.fields||fe),$.fields||($.fields=Array.isArray($.data[0])?$.fields:typeof $.data[0]=="object"?Object.keys($.data[0]):[]),Array.isArray($.data[0])||typeof $.data[0]=="object"||($.data=[$.data])),F($.fields||[],$.data||[],ne);throw new Error("Unable to serialize unrecognized input");function F(J,R,C){var q="",oe=(typeof J=="string"&&(J=JSON.parse(J)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(J)&&0<J.length),X=!Array.isArray(R[0]);if(oe&&k){for(var ee=0;ee<J.length;ee++)0<ee&&(q+=B),q+=z(J[ee],ee);0<R.length&&(q+=K)}for(var se=0;se<R.length;se++){var we=(oe?J:R[se]).length,Oe=!1,I=oe?Object.keys(R[se]).length===0:R[se].length===0;if(C&&!oe&&(Oe=C==="greedy"?R[se].join("").trim()==="":R[se].length===1&&R[se][0].length===0),C==="greedy"&&oe){for(var L=[],M=0;M<we;M++){var Z=X?J[M]:M;L.push(R[se][Z])}Oe=L.join("").trim()===""}if(!Oe){for(var ue=0;ue<we;ue++){0<ue&&!I&&(q+=B);var de=oe&&X?J[ue]:ue;q+=z(R[se][de],ue)}se<R.length-1&&(!C||0<we&&!I)&&(q+=K)}}return q}function z(J,R){var C,q;return J==null?"":J.constructor===Date?JSON.stringify(J).slice(1,25):(q=!1,re&&typeof J=="string"&&re.test(J)&&(J="'"+J,q=!0),C=J.toString().replace(le,W),(q=q||P===!0||typeof P=="function"&&P(J,R)||Array.isArray(P)&&P[R]||((oe,X)=>{for(var ee=0;ee<X.length;ee++)if(-1<oe.indexOf(X[ee]))return!0;return!1})(C,u.BAD_DELIMITERS)||-1<C.indexOf(B)||C.charAt(0)===" "||C.charAt(C.length-1)===" ")?ie+C+ie:C)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=h,u.ParserHandle=_,u.NetworkStreamer=c,u.FileStreamer=p,u.StringStreamer=m,u.ReadableStreamStreamer=g,n.jQuery&&((i=n.jQuery).fn.parse=function($){var O=$.config||{},P=[];return this.each(function(K){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ie=0;ie<this.files.length;ie++)P.push({file:this.files[ie],inputElem:this,instanceConfig:i.extend({},O)})}),k(),this;function k(){if(P.length===0)d($.complete)&&$.complete();else{var K,ie,W,ne,fe=P[0];if(d($.before)){var re=$.before(fe.file,fe.inputElem);if(typeof re=="object"){if(re.action==="abort")return K="AbortError",ie=fe.file,W=fe.inputElem,ne=re.reason,void(d($.error)&&$.error({name:K},ie,W,ne));if(re.action==="skip")return void B();typeof re.config=="object"&&(fe.instanceConfig=i.extend(fe.instanceConfig,re.config))}else if(re==="skip")return void B()}var le=fe.instanceConfig.complete;fe.instanceConfig.complete=function(F){d(le)&&le(F,fe.file,fe.inputElem),B()},u.parse(fe.file,fe.instanceConfig)}}function B(){P.splice(0,1),k()}}),s&&(n.onmessage=function($){$=$.data,u.WORKER_ID===void 0&&$&&(u.WORKER_ID=$.workerId),typeof $.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse($.input,$.config),finished:!0}):(n.File&&$.input instanceof File||$.input instanceof Object)&&($=u.parse($.input,$.config))&&n.postMessage({workerId:u.WORKER_ID,results:$,finished:!0})}),(c.prototype=Object.create(f.prototype)).constructor=c,(p.prototype=Object.create(f.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(g.prototype=Object.create(f.prototype)).constructor=g,u})})(M5);var w1e=M5.exports;const b1e=Wu(w1e),_1e=(e,t=!0)=>{if(e==="")throw new Error("CSV content is empty");const r=b1e.parse(e,{header:!0,quoteChar:'"',skipEmptyLines:!0,dynamicTyping:!1,transformHeader:n=>n.trim(),transform:n=>typeof n=="string"?n.trim():n,complete:n=>{console.log(n.data,n.errors,n.meta)}});if(r.errors.length){const n=r.errors.slice(0,3).map(i=>`Row ${i.row??"?"}: ${i.message}${i.code?` (code=${i.code})`:""}`).join("; ");throw new Error(`CSV parse failed: ${n}`)}return r.data.filter(n=>Object.values(n).some(i=>i!==""&&i!=null))},Qw=e=>{if(e==null)return;const t=e.trim();if(t==="")return;const r=Number(t);return Number.isFinite(r)?r:void 0},E1e=e=>{var t,r;return{...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...Qw(e.minimum)!==void 0?{minimum:Qw(e.minimum)}:{},...Qw(e.maximum)!==void 0?{maximum:Qw(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:e.href?e.href:"/","modbus:unitID":Number(e["modbus:unitID"])??1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":Number(e["modbus:quantity"])??1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":!!e["modbus:zeroBasedAddressing"],"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":((t=e["modbus:mostSignificantByte"])==null?void 0:t.toLowerCase())==="true","modbus:mostSignificantWord":((r=e["modbus:mostSignificantWord"])==null?void 0:r.toLowerCase())==="true",...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}},S1e=e=>e.reduce((t,r)=>{if(!r.name||r.name.trim()==="")throw new Error("Error on CSV file: Row name is required");if(!r["modbus:address"]||r["modbus:address"].trim()==="")throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${r.name}"`);if(!r["modbus:entity"]||r["modbus:entity"].trim()==="")throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${r.name}"`);return t[r.name]=E1e(r),t},{}),xA=({label:e,placeholder:t,id:r,type:n,autoFocus:i=!1,value:o,onChange:s})=>Q.jsxs("div",{className:"py-1",children:[Q.jsxs("label",{htmlFor:r,className:"pl-2 text-sm font-medium text-gray-400",children:[e,":"]}),Q.jsx("input",{name:r,id:r,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:t,type:n,autoFocus:i,value:o,onChange:s})]}),T1e=({type:e,onChangeType:t,protocol:r,setProtocol:n,fileName:i,setFileName:o,fileInputRef:s,setProperties:a,setError:l,thingId:u,setThingId:f,thingTitle:c,setThingTitle:p,thingBase:m,setThingBase:g,thingDescription:_,setThingDescription:v,thingSecurity:h,setThingSecurity:E})=>{const y=x=>{var O;const d=(O=x.target.files)==null?void 0:O[0];if(a({}),l({open:!1,message:""}),!d){l({open:!0,message:"No file selected."});return}o(d.name);const $=new FileReader;$.onload=P=>{var k;try{const B=((k=P.target)==null?void 0:k.result)||"";if(!B.trim())throw new Error("CSV file is empty.");const K=_1e(B,!0),ie=S1e(K);if(!ie||Object.keys(ie).length===0)throw new Error("No valid properties found in the CSV file.");a(ie),l({open:!1,message:""})}catch(B){a({}),l({open:!0,message:B.message||"An unexpected error occurred while processing the CSV file."})}},$.onerror=P=>{var k;a({}),l({open:!0,message:`Error reading file: ${(k=P.target)==null?void 0:k.error}`})},$.readAsText(d)},S=()=>{s.current&&s.current.click()},T=()=>{const x="name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout",d=new Blob([x],{type:"text/csv;charset=utf-8;"}),$=URL.createObjectURL(d),O=document.createElement("a");O.href=$,O.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(O),O.click(),document.body.removeChild(O)};return Q.jsxs(Q.Fragment,{children:[Q.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:"}),Q.jsxs("div",{className:"relative",children:[Q.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"type",onChange:t,value:e,children:[Q.jsx("option",{value:"TD",children:"Thing Description"}),Q.jsx("option",{value:"TM",children:"Thing Model"})]}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Q.jsx(us,{color:"#cacaca"})})]}),Q.jsx(xA,{label:"ID",placeholder:"urn:thing-id",id:"thing-id",type:"url",autoFocus:!0,value:u,onChange:x=>f(x.target.value)}),Q.jsx(xA,{label:"Title",placeholder:"Thing Title",id:"thing-title",type:"text",autoFocus:!1,value:c,onChange:x=>p(x.target.value)}),Q.jsx(xA,{label:"Base",placeholder:"http://www.example.com/thing-path",id:"thing-base",type:"url",autoFocus:!1,value:m,onChange:x=>g(x.target.value)}),Q.jsx("label",{htmlFor:"thing-description",className:"pl-2 text-sm font-medium text-gray-400",children:"Description:"}),Q.jsx("textarea",{id:"thing-description",rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"A short description about this new Thing...",value:_,onChange:x=>v(x.target.value)}),Q.jsx("label",{htmlFor:"thing-security",className:"pl-2 text-sm font-medium text-gray-400",children:"Security:"}),Q.jsxs("div",{className:"relative mb-8",children:[Q.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"thing-security",value:h,onChange:x=>E(x.target.value),children:[Q.jsx("option",{children:"nosec"}),Q.jsx("option",{children:"basic"}),Q.jsx("option",{children:"digest"}),Q.jsx("option",{children:"bearer"}),Q.jsx("option",{children:"psk"}),Q.jsx("option",{children:"oauth2"}),Q.jsx("option",{children:"apikey"})]}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Q.jsx(us,{color:"#cacaca"})})]}),Q.jsx("div",{className:"pt-2",children:Q.jsx("label",{htmlFor:"submit-csv",className:"pl-2 text-sm font-medium text-gray-400",children:"Add properties in CSV format:"})}),Q.jsxs("div",{className:"flex flex-col justify-between rounded border-2 border-gray-600",children:[Q.jsxs("div",{className:"flex items-center p-2",children:[Q.jsx("label",{htmlFor:"protocol-option",className:"pl-2 pr-2 text-lg text-gray-400",children:"Protocol:"}),Q.jsxs("div",{className:"relative",children:[Q.jsxs("select",{id:"protocol-option",className:"block appearance-none rounded border-2 border-gray-600 bg-gray-600 px-1 py-2 pr-4 leading-tight text-white hover:border-blue-500 focus:outline-none",value:r,onChange:x=>n(x.target.value),children:[Q.jsx("option",{children:"Modbus TCP"}),Q.jsx("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-1 flex items-center px-2 text-gray-700",children:Q.jsx(us,{color:"#cacaca"})})]})]}),Q.jsxs("div",{className:"flex items-center p-2",children:[Q.jsx(ri,{id:"download-template",onClick:T,variant:"primary",type:"button",children:"Download CSV Template"}),Q.jsx("input",{type:"file",accept:".csv",ref:s,onChange:y,style:{display:"none"}}),Q.jsx(ri,{id:"submit-csv",onClick:S,variant:"primary",type:"button",className:"ml-2",children:"Load a CSV File"}),Q.jsx("div",{className:"ml-2",children:Q.jsx("p",{className:"pl-2",children:i||"No file selected"})})]})]})]})},L5=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),[n,i]=Pe.useState(!1),[o,s]=Pe.useState("TD"),[a,l]=Pe.useState({}),[u,f]=Pe.useState(""),[c,p]=Pe.useState(""),[m,g]=Pe.useState(""),[_,v]=Pe.useState(""),[h,E]=Pe.useState(""),[y,S]=Pe.useState("nosec"),[T,x]=Pe.useState("Modbus TCP"),d=Pe.useRef(null),[$,O]=Pe.useState({open:!1,message:""});Pe.useImperativeHandle(t,()=>({openModal:()=>P(),close:()=>B()}));const P=()=>{i(!0)},k=()=>{p(""),g(""),v(""),E(""),S("nosec"),x("Modbus TCP"),f("")},B=()=>{k(),O({open:!1,message:""}),i(!1)},K=ne=>{s(ne.target.value)},ie=(ne,fe)=>{const re={};re["@context"]="https://www.w3.org/2019/wot/td/v1",re.title=m.trim()!==""?m.trim():"",ne==="TM"&&(re["@type"]="tm:ThingModel"),c.trim()!==""&&(re.id=c.trim());let le;u&&!_.trim()?le="modbus+tcp://{{IP}}:{{PORT}}":!u&&!_.trim()?le="/":le=_.trim(),re.base=le,h.trim()!==""&&(re.description=h.trim());const F=`${y}_sc`;return re.securityDefinitions={[F]:{scheme:y}},re.security=F,re.properties=fe,re.actions={},re.events={},re},W=()=>{const ne=ie(o,a),fe={[ne.title]:ne};r.updateLinkedTd(void 0),r.addLinkedTd(fe),r.updateOfflineTD(JSON.stringify(ne,null,2)),B()};return n?Q.jsxs(Q.Fragment,{children:[Q.jsx(wT,{isOpen:$.open,errorMessage:$.message,onClose:()=>O({open:!1,message:""})}),$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:B,onHandleEventRightButton:W,rightButton:o==="TD"?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going.",children:Q.jsx(T1e,{type:o,onChangeType:K,protocol:T,setProtocol:x,fileName:u,setFileName:f,fileInputRef:d,setProperties:l,setError:O,thingId:c,setThingId:p,thingTitle:m,setThingTitle:g,thingBase:_,setThingBase:v,thingDescription:h,setThingDescription:E,thingSecurity:y,setThingSecurity:S})}),document.getElementById("modal-root"))]}):null});L5.displayName="CreateTdDialog";const F5=({initialData:e={northboundUrl:"",southboundUrl:"",pathToValue:"/"},onChange:t,hideTitle:r=!1,className:n=""})=>{const[i,o]=Pe.useState(e),[s,a]=Pe.useState({northboundUrl:"",southboundUrl:"",pathToValue:""});Pe.useEffect(()=>{o(e)},[e]),Pe.useEffect(()=>{if(t){const c=!s.northboundUrl&&!s.southboundUrl&&!s.pathToValue;t(i,c)}},[i,s,t]);const l=Pe.useCallback(c=>{const p=c.target.value;o(m=>({...m,northboundUrl:p})),p===""?a(m=>({...m,northboundUrl:""})):TI(p)?a(m=>({...m,northboundUrl:""})):a(m=>({...m,northboundUrl:"Please enter a valid URL (e.g., http://localhost:8080)"}))},[]),u=Pe.useCallback(c=>{const p=c.target.value;o(m=>({...m,southboundUrl:p})),p===""?a(m=>({...m,southboundUrl:""})):TI(p)?a(m=>({...m,southboundUrl:""})):a(m=>({...m,southboundUrl:"Please enter a valid URL (e.g., http://localhost:8080)"}))},[]),f=Pe.useCallback(c=>{const p=c.target.value;o(m=>({...m,pathToValue:p})),p===""?a(m=>({...m,pathToValue:""})):p.startsWith("/")?p.includes(" ")?a(m=>({...m,pathToValue:"Path cannot contain spaces"})):a(m=>({...m,pathToValue:""})):a(m=>({...m,pathToValue:"Path must start with '/'"}))},[]);return Q.jsxs("div",{className:n,children:[Q.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[!r&&Q.jsx("h1",{className:"font-bold",children:"Third Party Service Configuration"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx("h2",{className:"py-2 text-justify text-gray-400",children:'If you want to interact with non-HTTP devices via a gateway, you can send it TDs to its southbound endpoint with a "POST" request. Similarly, you can retrieve TDs from its northbound endpoint. The id of the initial TD is used to correlate both.'}),Q.jsx(fs,{label:Q.jsx(_a,{tooltip:{html:"The target northbound URL should point to a server that implements the Discovery Specifications's Things API. If a valid target URL is provided, the editTDor will use it for all interactions with the Thing.",href:""},id:"settings-target-url-northbound-info",children:"Target URL Northbound:"}),placeholder:"e.g.: http://localhost:8080/",id:"settings-target-url-field-northbound",type:"text",value:i.northboundUrl,autoFocus:!1,onChange:l,className:`${s.northboundUrl?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),s.northboundUrl&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.northboundUrl}),Q.jsx(fs,{label:Q.jsx(_a,{tooltip:{html:"The target southbound URL",href:""},id:"settings-target-url-southbound-info",children:"Target URL Southbound:"}),placeholder:"e.g.: http://localhost:8080/",id:"settings-target-url-field-southbound",type:"text",value:i.southboundUrl,autoFocus:!1,onChange:u,className:`${s.southboundUrl?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),s.southboundUrl&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.southboundUrl})]})]}),Q.jsxs("div",{className:"my-4 rounded-md bg-black bg-opacity-80 p-2",children:[!r&&Q.jsx("h1",{className:"font-bold",children:"Path to value"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx("h2",{className:"py-2 text-justify text-gray-400",children:'If the gateway is wrapping the payloads in a JSON object, please provide the path to the value as a JSON pointer. For a JSON like {"foo": {"bar":"baz"}}, where baz is the value according the Data Schema of the TD, you should enter /foo/bar.'}),Q.jsx(fs,{label:Q.jsx(_a,{tooltip:{html:"JSON pointer path to the actual value in wrapped payloads. Use forward slashes to navigate nested objects.",href:""},id:"settingsPathToValueInfo",children:"JSON Pointer Path:"}),placeholder:"/foo/bar",id:"settingsPathToValueField",type:"text",value:i.pathToValue,autoFocus:!1,onChange:f,className:`${s.pathToValue?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),s.pathToValue&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.pathToValue})]})]})]})},B5=Pe.forwardRef((e,t)=>{const[r,n]=Pe.useState(!1),[i,o]=Pe.useState({northboundUrl:"",southboundUrl:"",pathToValue:"/"}),[s,a]=Pe.useState(!0);Pe.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{n(!0),o({northboundUrl:hs("northbound")||"",southboundUrl:hs("southbound")||"",pathToValue:hs("valuePath")||"/"})},u=async()=>{n(!1)},f=()=>{s&&(Zx(i.northboundUrl,"northbound"),Zx(i.southboundUrl,"southbound"),Zx(i.pathToValue,"valuePath"),u())},c=(p,m)=>{o(p),a(m)};return r?$a.createPortal(Q.jsx(xa,{hasSubmit:!0,onHandleEventLeftButton:u,leftButton:"Cancel",rightButton:"Save Changes",onHandleEventRightButton:f,title:"Settings",description:"Change the ediTDors configuration to your needs",children:Q.jsx(F5,{initialData:i,onChange:c})}),document.getElementById("modal-root")):null});B5.displayName="SettingsDialog";var U5={},Qj=class z5{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new z5(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var y=new Array(arguments.length-1),S=0;S<y.length;S++)y[S]=arguments[S+1];var T={callback:E,args:y};return n[r]=T,s(r),r++}function l(E){delete n[E]}function u(E){var y=E.callback,S=E.args;switch(S.length){case 0:y();break;case 1:y(S[0]);break;case 2:y(S[0],S[1]);break;case 3:y(S[0],S[1],S[2]);break;default:y.apply(t,S);break}}function f(E){if(i)setTimeout(f,0,E);else{var y=n[E];if(y){i=!0;try{u(y)}finally{l(E),i=!1}}}}function c(){s=function(E){process.nextTick(function(){f(E)})}}function p(){if(e.postMessage&&!e.importScripts){var E=!0,y=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=y,E}}function m(){var E="setImmediate$"+Math.random()+"$",y=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(E)===0&&f(+S.data.slice(E.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),s=function(S){e.postMessage(E+S,"*")}}function g(){var E=new MessageChannel;E.port1.onmessage=function(y){var S=y.data;f(S)},s=function(y){E.port2.postMessage(y)}}function _(){var E=o.documentElement;s=function(y){var S=o.createElement("script");S.onreadystatechange=function(){f(y),S.onreadystatechange=null,E.removeChild(S),S=null},E.appendChild(S)}}function v(){s=function(E){setTimeout(f,0,E)}}var h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,{}.toString.call(e.process)==="[object process]"?c():p()?m():e.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?_():v(),h.setImmediate=a,h.clearImmediate=l})(typeof self>"u"?uo:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const AA=self.crypto||self.msCrypto;var HT=class{constructor(t){if(!(AA&&AA.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await AA.subtle.digest(this.algorithm,t));let n="";for(let i=0;i<r.length;++i)n+=r[i].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var q5=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let i=null,o=0;const s=t.length;for(let a=0;a<s;++a){const l=t[a],u=r.get(l);(i===null||l>i)&&(u&&a>0&&l>t[a-1]||!u&&a<s-1&&l>t[a+1])&&(i=l,o=a)}if(i===null)this.done=!0;else{const a=r.get(i)?o-1:o+1;t[o]=t[a],t[a]=i;for(const l of t)l>i&&r.set(l,!r.get(l))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const $1e="http://www.w3.org/1999/02/22-rdf-syntax-ns#",OA=$1e+"langString",PA="http://www.w3.org/2001/XMLSchema#string",Cl="NamedNode",Yd="BlankNode",FE="Literal",Tz="DefaultGraph",Nm={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-z-----------"+"_",n=r+"0-9---",o="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+e+")",u="(?:"+s+"(?:"+a+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",c="[ \\t]*",p="(?:"+e+"|"+o+")"+f,m=e+f,g="(?:"+e+"|"+o+"|"+u+")"+c,_="(?:\\.|(?:(?:"+e+"|"+o+")"+c+"\\.))";Nm.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,Nm.empty=new RegExp("^"+c+"$"),Nm.quad=new RegExp("^"+c+p+m+g+_+c+"$")})();var Zj=class BE{static parse(t){const r=[],n={},i=t.split(Nm.eoln);let o=0;for(const s of i){if(o++,Nm.empty.test(s))continue;const a=s.match(Nm.quad);if(a===null)throw new Error("N-Quads parse error on line "+o+".");const l={subject:null,predicate:null,object:null,graph:null};if(a[1]!==void 0?l.subject={termType:Cl,value:a[1]}:l.subject={termType:Yd,value:a[2]},l.predicate={termType:Cl,value:a[3]},a[4]!==void 0?l.object={termType:Cl,value:a[4]}:a[5]!==void 0?l.object={termType:Yd,value:a[5]}:(l.object={termType:FE,value:void 0,datatype:{termType:Cl}},a[7]!==void 0?l.object.datatype.value=a[7]:a[8]!==void 0?(l.object.datatype.value=OA,l.object.language=a[8]):l.object.datatype.value=PA,l.object.value=R1e(a[6])),a[9]!==void 0?l.graph={termType:Cl,value:a[9]}:a[10]!==void 0?l.graph={termType:Yd,value:a[10]}:l.graph={termType:Tz,value:""},!(l.graph.value in n))n[l.graph.value]=[l],r.push(l);else{let u=!0;const f=n[l.graph.value];for(const c of f)if(x1e(c,l)){u=!1;break}u&&(f.push(l),r.push(l))}}return r}static serialize(t){Array.isArray(t)||(t=BE.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(BE.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,i){let o="";return t.termType===Cl?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,n.termType===Cl?o+=`<${n.value}>`:n.termType===Yd?o+=n.value:(o+=`"${O1e(n.value)}"`,n.datatype.value===OA?n.language&&(o+=`@${n.language}`):n.datatype.value!==PA&&(o+=`^^<${n.datatype.value}>`)),i.termType===Cl?o+=` <${i.value}>`:i.termType===Yd&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return BE.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":Yd,IRI:Cl,literal:FE};for(const i in t)t[i].forEach(s=>{const a={};for(const l in s){const u=s[l],f={termType:n[u.type],value:u.value};f.termType===FE&&(f.datatype={termType:Cl},"datatype"in u&&(f.datatype.value=u.datatype),"language"in u?("datatype"in u||(f.datatype.value=OA),f.language=u.language):"datatype"in u||(f.datatype.value=PA)),a[l]=f}i==="@default"?a.graph={termType:Tz,value:""}:a.graph={termType:i.startsWith("_:")?Yd:Cl,value:i},r.push(a)});return r}};function x1e(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==FE?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const A1e=/["\\\n\r]/g;function O1e(e){return e.replace(A1e,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const P1e=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function R1e(e){return e.replace(P1e,function(t,r,n,i){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const $z=Qj,N1e=HT,I1e=q5,xz=Zj;var V5=class{constructor({createMessageDigest:t=()=>new N1e("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new $z("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const l of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),s=[];for(const l of o){const u=r.get(l);if(u.length>1){s.push(u);continue}const f=u[0];this.canonicalIssuer.getId(f)}for(const l of s){const u=[];for(const f of l){if(this.canonicalIssuer.hasId(f))continue;const c=new $z("_:b");c.getId(f);const p=await this.hashNDegreeQuads(f,c);u.push(p)}u.sort(C1e);for(const f of u){const c=f.issuer.getOldIds();for(const p of c)this.canonicalIssuer.getId(p)}}const a=[];for(const l of this.quads){const u=xz.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));a.push(u)}return a.sort(),a.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push(xz.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=await this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new I1e(o.get(a));let c=0;for(;f.hasNext();){const p=f.next();++c%3===0&&await this._yield();let m=r.clone(),g="";const _=[];let v=!1;for(const h of p)if(this.canonicalIssuer.hasId(h)?g+=this.canonicalIssuer.getId(h):(m.hasId(h)||_.push(h),g+=m.getId(h)),l.length!==0&&g>l){v=!0;break}if(!v){for(const h of _){const E=await this.hashNDegreeQuads(h,m);if(g+=m.getId(h),g+=`<${E.hash}>`,m=E.issuer,l.length!==0&&g>l){v=!0;break}}v||(l.length===0||g<l)&&(l=g,u=m)}}i.update(l),r=u}return{hash:await i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=await this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function C1e(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const k1e=HT,j1e=V5;var D1e=class extends j1e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new k1e("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i){let a,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,a="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,a="r";else continue;++o%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,s,r,a),f=n.get(u);f?f.push(l):n.set(u,[l])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const Az=Qj,M1e=HT,L1e=q5,Oz=Zj;var H5=class{constructor({createMessageDigest:t=()=>new M1e("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Az("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const a of n)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:r});const i=[...r.keys()].sort(),o=[];for(const a of i){const l=r.get(a);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const a of o){const l=[];for(const u of a){if(this.canonicalIssuer.hasId(u))continue;const f=new Az("_:b");f.getId(u);const c=this.hashNDegreeQuads(u,f);l.push(c)}l.sort(F1e);for(const u of l){const f=u.issuer.getOldIds();for(const c of f)this.canonicalIssuer.getId(c)}}const s=[];for(const a of this.quads){const l=Oz.serializeQuadComponents(this._componentWithCanonicalId({component:a.subject}),a.predicate,this._componentWithCanonicalId({component:a.object}),this._componentWithCanonicalId({component:a.graph}));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push(Oz.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new L1e(o.get(a));for(;f.hasNext();){const c=f.next();let p=r.clone(),m="";const g=[];let _=!1;for(const v of c)if(this.canonicalIssuer.hasId(v)?m+=this.canonicalIssuer.getId(v):(p.hasId(v)||g.push(v),m+=p.getId(v)),l.length!==0&&m>l){_=!0;break}if(!_){for(const v of g){const h=this.hashNDegreeQuads(v,p);if(m+=p.getId(v),m+=`<${h.hash}>`,p=h.issuer,l.length!==0&&m>l){_=!0;break}}_||(l.length===0||m<l)&&(l=m,u=p)}}i.update(l),r=u}return{hash:i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function F1e(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const B1e=HT,U1e=H5;var z1e=class extends U1e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new B1e("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i){let s,a;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)a=o.subject.value,s="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)a=o.object.value,s="r";else continue;const l=this.hashRelatedBlankNode(a,o,r,s),u=n.get(l);u?u.push(a):n.set(l,[a])}return n}};const q1e={},V1e=Object.freeze(Object.defineProperty({__proto__:null,default:q1e},Symbol.toStringTag,{value:"Module"})),H1e=TC(V1e);(function(e){const t=V5,r=D1e,n=H5,i=z1e;let o;try{o=H1e}catch{}function s(a){return Array.isArray(a)?a:e.NQuads.legacyDatasetToQuads(a)}e.NQuads=Zj,e.IdentifierIssuer=Qj,e._rdfCanonizeNative=function(a){return a&&(o=a),o},e.canonize=async function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((f,c)=>o.canonize(u,l,(p,m)=>p?c(p):f(m)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return o.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new n(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(U5);var eD=U5;const pl={};var Pa=pl;pl.isArray=Array.isArray;pl.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";pl.isDouble=e=>pl.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);pl.isEmptyObject=e=>pl.isObject(e)&&Object.keys(e).length===0;pl.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";pl.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);pl.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";pl.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";pl.isUndefined=e=>typeof e>"u";const Jh=Pa,Fc={};var Wc=Fc;Fc.isSubject=e=>Jh.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Fc.isSubjectReference=e=>Jh.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Fc.isValue=e=>Jh.isObject(e)&&"@value"in e;Fc.isList=e=>Jh.isObject(e)&&"@list"in e;Fc.isGraph=e=>Jh.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Fc.isSimpleGraph=e=>Fc.isGraph(e)&&!("@id"in e);Fc.isBlankNode=e=>{if(Jh.isObject(e)){if("@id"in e){const t=e["@id"];return!Jh.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var vl=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const Ly=Wc,Bo=Pa,W5=eD.IdentifierIssuer,W1e=vl,G1e=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,K1e=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,J1e=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,Y1e=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,X1e=/^@[a-zA-Z]+$/,Pz={headers:{accept:"application/ld+json, application/json"}},Rn={};var yl=Rn;Rn.IdentifierIssuer=W5;Rn.REGEX_BCP47=G1e;Rn.REGEX_KEYWORD=X1e;Rn.clone=function(e){if(e&&typeof e=="object"){let t;if(Bo.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Rn.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Rn.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Rn.clone(r))}else if(Bo.isObject(e)){t={};for(const r in e)t[r]=Rn.clone(e[r])}else t=e.toString();return t}return e};Rn.asArray=function(e){return Array.isArray(e)?e:[e]};Rn.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+Pz.headers.accept+'" is supported.');return Object.assign({Accept:Pz.headers.accept},e)};Rn.parseLinkHeader=e=>{const t={},r=e.match(K1e);for(let n=0;n<r.length;++n){let i=r[n].match(J1e);if(!i)continue;const o={target:i[1]},s=i[2];for(;i=Y1e.exec(s);)o[i[1]]=i[2]===void 0?i[3]:i[2];const a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t};Rn.validateTypeValue=(e,t)=>{if(!Bo.isString(e)&&!(Bo.isArray(e)&&e.every(r=>Bo.isString(r)))){if(t&&Bo.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Rn.asArray(e["@default"]).every(r=>Bo.isString(r)))return}throw new W1e('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};Rn.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Bo.isArray(r)||r.length>0}return!1};Rn.hasValue=(e,t,r)=>{if(Rn.hasProperty(e,t)){let n=e[t];const i=Ly.isList(n);if(Bo.isArray(n)||i){i&&(n=n["@list"]);for(let o=0;o<n.length;++o)if(Rn.compareValues(r,n[o]))return!0}else if(!Bo.isArray(r))return Rn.compareValues(r,n)}return!1};Rn.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Bo.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)Rn.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&Rn.hasValue(e,t,r);!Bo.isArray(e[t])&&(!i||n.propertyIsArray)&&(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r};Rn.getValues=(e,t)=>[].concat(e[t]||[]);Rn.removeProperty=(e,t)=>{delete e[t]};Rn.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=Rn.getValues(e,t).filter(o=>!Rn.compareValues(o,r));i.length===0?Rn.removeProperty(e,t):i.length===1&&!n.propertyIsArray?e[t]=i[0]:e[t]=i};Rn.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new W5("_:b");return UE(r,e)};Rn.compareValues=(e,t)=>e===t||Ly.isValue(e)&&Ly.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Bo.isObject(e)&&"@id"in e&&Bo.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;Rn.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function UE(e,t){if(Bo.isArray(t))for(let r=0;r<t.length;++r)t[r]=UE(e,t[r]);else if(Ly.isList(t))t["@list"]=UE(e,t["@list"]);else if(Bo.isObject(t)){Ly.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];i!=="@id"&&(t[i]=UE(e,t[i]))}}return t}const Xd="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Zw="http://www.w3.org/2001/XMLSchema#";var tD={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:Xd+"List",RDF_FIRST:Xd+"first",RDF_REST:Xd+"rest",RDF_NIL:Xd+"nil",RDF_TYPE:Xd+"type",RDF_JSON_LITERAL:Xd+"JSON",RDF_LANGSTRING:Xd+"langString",XSD_BOOLEAN:Zw+"boolean",XSD_DOUBLE:Zw+"double",XSD_INTEGER:Zw+"integer",XSD_STRING:Zw+"string"},RA,Rz;function G5(){return Rz||(Rz=1,RA=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),RA}const WT=Pa,Uo={};var xd=Uo;Uo.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Uo.parse=(e,t)=>{const r={},n=Uo.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=i[o]===void 0?null:i[o];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Uo.removeDotSegments(r.path),r};Uo.prependBase=(e,t)=>{if(e===null||Uo.isAbsolute(t))return t;(!e||WT.isString(e))&&(e=Uo.parse(e||""));const r=Uo.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=r.path,n.path=o}n.query=r.query}r.path!==""&&(n.path=Uo.removeDotSegments(n.path));let i=n.protocol;return n.authority!==null&&(i+="//"+n.authority),i+=n.path,n.query!==null&&(i+="?"+n.query),r.fragment!==null&&(i+="#"+r.fragment),i===""&&(i="./"),i};Uo.removeBase=(e,t)=>{if(e===null)return t;(!e||WT.isString(e))&&(e=Uo.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Uo.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),s=n.fragment||n.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)a+="../"}return a+=o.join("/"),n.query!==null&&(a+="?"+n.query),n.fragment!==null&&(a+="#"+n.fragment),a===""&&(a="./"),a};Uo.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),i=t.length===0;if(n==="."){i&&r.push("");continue}if(n===".."){r.pop(),i&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const Q1e=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Uo.isAbsolute=e=>WT.isString(e)&&Q1e.test(e);Uo.isRelative=e=>WT.isString(e);const{parseLinkHeader:Z1e,buildHeaders:eTe}=yl,{LINK_HEADER_CONTEXT:tTe}=tD,ev=vl,rTe=G5(),{prependBase:nTe}=xd,iTe=/(^|(\r\n))link:/i;var oTe=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=eTe(t),new rTe().wrapLoader(i);async function i(o){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new ev('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new ev(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let s;try{s=await sTe(r,o,t)}catch(c){throw new ev("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:c})}if(s.status>=400)throw new ev("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});let a={contextUrl:null,documentUrl:o,document:s.response},l=null;const u=s.getResponseHeader("Content-Type");let f;if(iTe.test(s.getAllResponseHeaders())&&(f=s.getResponseHeader("Link")),f&&u!=="application/ld+json"){const c=Z1e(f),p=c[tTe];if(Array.isArray(p))throw new ev("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});p&&(a.contextUrl=p.target),l=c.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(a=await i(nTe(o,l.target)))}return a}};function sTe(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((i,o)=>{n.onload=()=>i(n),n.onerror=s=>o(s),n.open("GET",t,!0);for(const s in r)n.setRequestHeader(s,r[s]);n.send()})}const aTe=oTe,rD={};var lTe=rD;rD.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=aTe,e.useDocumentLoader("xhr"))};rD.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var NA,Nz;function uTe(){return Nz||(Nz=1,NA=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),NA}var cTe=Tn;Tn.Node=Yh;Tn.create=Tn;function Tn(e){var t=this;if(t instanceof Tn||(t=new Tn),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Tn.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Tn.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Tn.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Tn.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)dTe(this,arguments[e]);return this.length};Tn.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)hTe(this,arguments[e]);return this.length};Tn.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Tn.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Tn.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};Tn.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};Tn.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};Tn.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};Tn.prototype.map=function(e,t){t=t||this;for(var r=new Tn,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};Tn.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Tn,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};Tn.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};Tn.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};Tn.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};Tn.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};Tn.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Tn;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};Tn.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Tn;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};Tn.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=fTe(this,i,r[n]);return o};Tn.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function fTe(e,t,r){var n=t===e.head?new Yh(r,null,t,e):new Yh(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function dTe(e,t){e.tail=new Yh(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function hTe(e,t){e.head=new Yh(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Yh(e,t,r,n){if(!(this instanceof Yh))return new Yh(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{uTe()(Tn)}catch{}const pTe=cTe,dh=Symbol("max"),Ec=Symbol("length"),jp=Symbol("lengthCalculator"),Yv=Symbol("allowStale"),xh=Symbol("maxAge"),wc=Symbol("dispose"),Iz=Symbol("noDisposeOnSet"),so=Symbol("lruList"),Fl=Symbol("cache"),K5=Symbol("updateAgeOnGet"),IA=()=>1;class mTe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[dh]=t.max||1/0;const r=t.length||IA;if(this[jp]=typeof r!="function"?IA:r,this[Yv]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[xh]=t.maxAge||0,this[wc]=t.dispose,this[Iz]=t.noDisposeOnSet||!1,this[K5]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[dh]=t||1/0,tv(this)}get max(){return this[dh]}set allowStale(t){this[Yv]=!!t}get allowStale(){return this[Yv]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[xh]=t,tv(this)}get maxAge(){return this[xh]}set lengthCalculator(t){typeof t!="function"&&(t=IA),t!==this[jp]&&(this[jp]=t,this[Ec]=0,this[so].forEach(r=>{r.length=this[jp](r.value,r.key),this[Ec]+=r.length})),tv(this)}get lengthCalculator(){return this[jp]}get length(){return this[Ec]}get itemCount(){return this[so].length}rforEach(t,r){r=r||this;for(let n=this[so].tail;n!==null;){const i=n.prev;Cz(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[so].head;n!==null;){const i=n.next;Cz(this,t,n,r),n=i}}keys(){return this[so].toArray().map(t=>t.key)}values(){return this[so].toArray().map(t=>t.value)}reset(){this[wc]&&this[so]&&this[so].length&&this[so].forEach(t=>this[wc](t.key,t.value)),this[Fl]=new Map,this[so]=new pTe,this[Ec]=0}dump(){return this[so].map(t=>f1(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[so]}set(t,r,n){if(n=n||this[xh],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[jp](r,t);if(this[Fl].has(t)){if(o>this[dh])return Im(this,this[Fl].get(t)),!1;const l=this[Fl].get(t).value;return this[wc]&&(this[Iz]||this[wc](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Ec]+=o-l.length,l.length=o,this.get(t),tv(this),!0}const s=new gTe(t,r,o,i,n);return s.length>this[dh]?(this[wc]&&this[wc](t,r),!1):(this[Ec]+=s.length,this[so].unshift(s),this[Fl].set(t,this[so].head),tv(this),!0)}has(t){if(!this[Fl].has(t))return!1;const r=this[Fl].get(t).value;return!f1(this,r)}get(t){return CA(this,t,!0)}peek(t){return CA(this,t,!1)}pop(){const t=this[so].tail;return t?(Im(this,t),t.value):null}del(t){Im(this,this[Fl].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Fl].forEach((t,r)=>CA(this,r,!1))}}const CA=(e,t,r)=>{const n=e[Fl].get(t);if(n){const i=n.value;if(f1(e,i)){if(Im(e,n),!e[Yv])return}else r&&(e[K5]&&(n.value.now=Date.now()),e[so].unshiftNode(n));return i.value}},f1=(e,t)=>{if(!t||!t.maxAge&&!e[xh])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[xh]&&r>e[xh]},tv=e=>{if(e[Ec]>e[dh])for(let t=e[so].tail;e[Ec]>e[dh]&&t!==null;){const r=t.prev;Im(e,t),t=r}},Im=(e,t)=>{if(t){const r=t.value;e[wc]&&e[wc](r.key,r.value),e[Ec]-=r.length,e[Fl].delete(r.key),e[so].removeNode(t)}};class gTe{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const Cz=(e,t,r,n)=>{let i=r.value;f1(e,i)&&(Im(e,r),e[Yv]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var J5=mTe;const vTe=J5,yTe=10;var wTe=class{constructor({document:t}){this.document=t,this.cache=new vTe({max:yTe})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:XI,isObject:Xv,isString:d1}=Pa,{asArray:bTe}=yl,{prependBase:QI}=xd,Av=vl,kz=wTe,jz=10;var _Te=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:i,cycles:o=new Set}){r&&Xv(r)&&r["@context"]&&(r=r["@context"]),r=bTe(r);const s=[];for(const a of r){if(d1(a)){let f=this._get(a);f||(f=await this._resolveRemoteContext({activeCtx:t,url:a,documentLoader:n,base:i,cycles:o})),XI(f)?s.push(...f):s.push(f);continue}if(a===null){s.push(new kz({document:null}));continue}Xv(a)||ETe(r);const l=JSON.stringify(a);let u=this._get(l);u||(u=new kz({document:a}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),s.push(u)}return s}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:i,cycles:o}){r=QI(i,r);const{context:s,remoteDoc:a}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o});i=a.documentUrl||r,ZI({context:s,base:i});const l=await this.resolve({activeCtx:t,context:s,documentLoader:n,base:i,cycles:o});return this._cacheResolvedContext({key:r,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:i}){if(i.size>jz)throw new Av("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:jz});if(i.has(r))throw new Av("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});i.add(r);let o,s;try{s=await n(r),o=s.document||null,d1(o)&&(o=JSON.parse(o))}catch(a){throw new Av(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${r}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:a})}if(!Xv(o))throw new Av(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${r}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in o?o={"@context":o["@context"]}:o={"@context":{}},s.contextUrl&&(XI(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(s.contextUrl)),{context:o,remoteDoc:s}}};function ETe(e){throw new Av("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function ZI({context:e,base:t}){if(!e)return;const r=e["@context"];if(d1(r)){e["@context"]=QI(t,r);return}if(XI(r)){for(let n=0;n<r.length;++n){const i=r[n];if(d1(i)){r[n]=QI(t,i);continue}Xv(i)&&ZI({context:{"@context":i},base:t})}return}if(Xv(r))for(const n in r)ZI({context:r[n],base:t})}var STe=eD.NQuads;const nD=vl,{isArray:TTe}=Pa,{asArray:Y5}=yl,ya={};var x0=ya;ya.defaultEventHandler=null;ya.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?ya.safeEventHandler:[],e.eventHandler?Y5(e.eventHandler):[],ya.defaultEventHandler?ya.defaultEventHandler:[]);return t.length===0?null:t};ya.handleEvent=({event:e,options:t})=>{X5({event:e,handlers:t.eventHandler})};function X5({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const i=t[n];if(TTe(i))r=X5({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{r=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new nD("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const $Te=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);ya.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&$Te.has(t.code))throw new nD("Safe mode validation error.","jsonld.ValidationError",{event:t});r()};ya.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()};ya.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()};ya.unhandledEventHandler=function({event:t}){throw new nD("No handler for event.","jsonld.UnhandledEvent",{event:t})};ya.setDefaultEventHandler=function({eventHandler:e}={}){ya.defaultEventHandler=e?Y5(e):null};const Dz=yl,yr=vl,{isArray:Q5,isObject:Bf,isString:Ms,isUndefined:xTe}=Pa,{isAbsolute:Dh,isRelative:ATe,prependBase:Qv}=xd,{handleEvent:Cm}=x0,{REGEX_BCP47:OTe,REGEX_KEYWORD:zE,asArray:Z5,compareShortestLeast:PTe}=yl,eb=new Map,RTe=1e4,oi={};var up=oi;oi.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if(Bf(t)&&"@context"in t&&Q5(t["@context"])&&(t=t["@context"]),Z5(t).length===0)return e;const a=[],l=[({event:p,next:m})=>{a.push(p),m()}];r.eventHandler&&l.push(r.eventHandler);const u=r;r={...r,eventHandler:l};const f=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});Bf(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(n=f[0].document["@propagate"]);let c=e;!n&&!c.previousContext&&(c=c.clone(),c.previousContext=e);for(const p of f){let{document:m}=p;if(e=c,m===null){if(!i&&Object.keys(e.protected).length!==0)throw new yr("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});c=e=oi.getInitialContext(r).clone();continue}const g=p.getProcessed(e);if(g){if(u.eventHandler)for(const v of g.events)Cm({event:v,options:u});c=e=g.context;continue}if(Bf(m)&&"@context"in m&&(m=m["@context"]),!Bf(m))throw new yr("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:m});c=c.clone();const _=new Map;if("@version"in m){if(m["@version"]!==1.1)throw new yr("Unsupported JSON-LD version: "+m["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:m});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new yr("@version: "+m["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:m});c.processingMode="json-ld-1.1",c["@version"]=m["@version"],_.set("@version",!0)}if(c.processingMode=c.processingMode||e.processingMode,"@base"in m){let v=m["@base"];if(!(v===null||Dh(v)))if(ATe(v))v=Qv(c["@base"],v);else throw new yr('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:m});c["@base"]=v,_.set("@base",!0)}if("@vocab"in m){const v=m["@vocab"];if(v===null)delete c["@vocab"];else if(Ms(v)){if(!Dh(v)&&oi.processingMode(c,1))throw new yr('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});{const h=mm(c,v,{vocab:!0,base:!0},void 0,void 0,r);Dh(h)||r.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:h}},options:r}),c["@vocab"]=h}}else throw new yr('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:m});_.set("@vocab",!0)}if("@language"in m){const v=m["@language"];if(v===null)delete c["@language"];else if(Ms(v))v.match(OTe)||r.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),c["@language"]=v.toLowerCase();else throw new yr('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:m});_.set("@language",!0)}if("@direction"in m){const v=m["@direction"];if(e.processingMode==="json-ld-1.0")throw new yr("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:m});if(v===null)delete c["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new yr('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:m});c["@direction"]=v}_.set("@direction",!0)}if("@propagate"in m){const v=m["@propagate"];if(e.processingMode==="json-ld-1.0")throw new yr("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(typeof v!="boolean")throw new yr("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});_.set("@propagate",!0)}if("@import"in m){const v=m["@import"];if(e.processingMode==="json-ld-1.0")throw new yr("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:m});if(!Ms(v))throw new yr("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const h=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(h.length!==1)throw new yr("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const E=h[0].getProcessed(e);if(E)m=E;else{const y=h[0].document;if("@import"in y)throw new yr("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const S in y)m.hasOwnProperty(S)||(m[S]=y[S]);h[0].setProcessed(e,m)}_.set("@import",!0)}_.set("@protected",m["@protected"]||!1);for(const v in m)if(oi.createTermDefinition({activeCtx:c,localCtx:m,term:v,defined:_,options:r,overrideProtected:i}),Bf(m[v])&&"@context"in m[v]){const h=m[v]["@context"];let E=!0;if(Ms(h)){const y=Qv(r.base,h);o.has(y)?E=!1:o.add(y)}if(E)try{await oi.process({activeCtx:c.clone(),localCtx:m[v]["@context"],overrideProtected:!0,options:r,cycles:o})}catch{throw new yr("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:m[v]["@context"],term:v})}}p.setProcessed(e,{context:c,events:a})}return c};oi.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new yr("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let s;if(t.hasOwnProperty(r)&&(s=t[r]),r==="@type"&&Bf(s)&&(s["@container"]||"@set")==="@set"&&oi.processingMode(e,1.1)){const m=["@container","@id","@protected"],g=Object.keys(s);if(g.length===0||g.some(_=>!m.includes(_)))throw new yr("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(oi.isKeyword(r))throw new yr("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(zE)){i.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:i});return}else if(r==="")throw new yr("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const a=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let l=!1;if((Ms(s)||s===null)&&(l=!0,s={"@id":s}),!Bf(s))throw new yr("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];oi.processingMode(e,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const m in s)if(!f.includes(m))throw new yr("Invalid JSON-LD syntax; a term definition must not contain "+m,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const c=r.indexOf(":");if(u._termHasColon=c>0,"@reverse"in s){if("@id"in s)throw new yr("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new yr("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const m=s["@reverse"];if(!Ms(m))throw new yr("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m.match(zE)){i.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:m}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}const g=mm(e,m,{vocab:!0,base:!1},t,n,i);if(!Dh(g))throw new yr("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=g,u.reverse=!0}else if("@id"in s){let m=s["@id"];if(m&&!Ms(m))throw new yr("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(m===null)u["@id"]=null;else if(!oi.isKeyword(m)&&m.match(zE)){i.eventHandler&&Cm({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:m}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}else if(m!==r){if(m=mm(e,m,{vocab:!0,base:!1},t,n,i),!Dh(m)&&!oi.isKeyword(m))throw new yr("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const g=new Map(n).set(r,!0);if(mm(e,r,{vocab:!0,base:!1},t,g,i)!==m)throw new yr("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=m,u._prefix=l&&!u._termHasColon&&m.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const m=r.substr(0,c);if(t.hasOwnProperty(m)&&oi.createTermDefinition({activeCtx:e,localCtx:t,term:m,defined:n,options:i}),e.mappings.has(m)){const g=r.substr(c+1);u["@id"]=e.mappings.get(m)["@id"]+g}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new yr("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((s["@protected"]===!0||n.get("@protected")===!0&&s["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in s){let m=s["@type"];if(!Ms(m))throw new yr("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m==="@json"||m==="@none"){if(oi.processingMode(e,1))throw new yr(`Invalid JSON-LD syntax; an @context @type value must not be "${m}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(m!=="@id"&&m!=="@vocab"){if(m=mm(e,m,{vocab:!0,base:!1},t,n,i),!Dh(m))throw new yr("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(m.indexOf("_:")===0)throw new yr("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=m}if("@container"in s){const m=Ms(s["@container"])?[s["@container"]]:s["@container"]||[],g=["@list","@set","@index","@language"];let _=!0;const v=m.includes("@set");if(oi.processingMode(e,1.1)){if(g.push("@graph","@id","@type"),m.includes("@list")){if(m.length!==1)throw new yr("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(m.includes("@graph")){if(m.some(h=>h!=="@graph"&&h!=="@id"&&h!=="@index"&&h!=="@set"))throw new yr("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else _&=m.length<=(v?2:1);if(m.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new yr("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else _&=!Q5(s["@container"]),_&=m.length<=1;if(_&=m.every(h=>g.includes(h)),_&=!(v&&m.includes("@list")),!_)throw new yr("Invalid JSON-LD syntax; @context @container value must be one of the following: "+g.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!m.every(h=>["@index","@set"].includes(h)))throw new yr("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=m}if("@index"in s){if(!("@container"in s)||!u["@container"].includes("@index"))throw new yr(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!Ms(s["@index"])||s["@index"].indexOf("@")===0)throw new yr(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=s["@index"]}if("@context"in s&&(u["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let m=s["@language"];if(m!==null&&!Ms(m))throw new yr("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});m!==null&&(m=m.toLowerCase()),u["@language"]=m}if("@prefix"in s){if(r.match(/:|\//))throw new yr("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(oi.isKeyword(u["@id"]))throw new yr("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof s["@prefix"]=="boolean")u._prefix=s["@prefix"]===!0;else throw new yr("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in s){const m=s["@direction"];if(m!==null&&m!=="ltr"&&m!=="rtl")throw new yr('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=m}if("@nest"in s){const m=s["@nest"];if(!Ms(m)||m!=="@nest"&&m.indexOf("@")===0)throw new yr("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=m}// disallow aliasing @context and @preserve
const p=u["@id"];if(p==="@context"||p==="@preserve")throw new yr("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(a&&a.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!eC(a,u)))throw new yr("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})};oi.expandIri=(e,t,r,n)=>mm(e,t,r,void 0,void 0,n);function mm(e,t,r,n,i,o){if(t===null||!Ms(t)||oi.isKeyword(t))return t;if(t.match(zE))return null;if(n&&n.hasOwnProperty(t)&&i.get(t)!==!0&&oi.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),r=r||{},r.vocab){const a=e.mappings.get(t);if(a===null)return null;if(Bf(a)&&"@id"in a)return a["@id"]}const s=t.indexOf(":");if(s>0){const a=t.substr(0,s),l=t.substr(s+1);if(a==="_"||l.indexOf("//")===0)return t;n&&n.hasOwnProperty(a)&&oi.createTermDefinition({activeCtx:e,localCtx:n,term:a,defined:i,options:o});const u=e.mappings.get(a);if(u&&u._prefix)return u["@id"]+l;if(Dh(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let a,l;"@base"in e?e["@base"]?(l=Qv(o.base,e["@base"]),a=Qv(l,t)):(l=e["@base"],a=t):(l=o.base,a=Qv(o.base,t)),t=a}return t}oi.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=eb.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:a,revertToPreviousContext:l,protected:{}};return eb.size===RTe&&eb.clear(),eb.set(t,n),n;function i(){const u=this;if(u.inverse)return u.inverse;const f=u.inverse={},c=u.fastCurieMap={},p={},m=(u["@language"]||"@none").toLowerCase(),g=u["@direction"],_=u.mappings,v=[..._.keys()].sort(PTe);for(const h of v){const E=_.get(h);if(E===null)continue;let y=E["@container"]||"@none";if(y=[].concat(y).sort().join(""),E["@id"]===null)continue;const S=Z5(E["@id"]);for(const T of S){let x=f[T];const d=oi.isKeyword(T);if(x)!d&&!E._termHasColon&&p[T].push(h);else if(f[T]=x={},!d&&!E._termHasColon){p[T]=[h];const $={iri:T,terms:p[T]};T[0]in c?c[T[0]].push($):c[T[0]]=[$]}if(x[y]||(x[y]={"@language":{},"@type":{},"@any":{}}),x=x[y],s(h,x["@any"],"@none"),E.reverse)s(h,x["@type"],"@reverse");else if(E["@type"]==="@none")s(h,x["@any"],"@none"),s(h,x["@language"],"@none"),s(h,x["@type"],"@none");else if("@type"in E)s(h,x["@type"],E["@type"]);else if("@language"in E&&"@direction"in E){const $=E["@language"],O=E["@direction"];$&&O?s(h,x["@language"],`${$}_${O}`.toLowerCase()):$?s(h,x["@language"],$.toLowerCase()):O?s(h,x["@language"],`_${O}`):s(h,x["@language"],"@null")}else"@language"in E?s(h,x["@language"],(E["@language"]||"@null").toLowerCase()):"@direction"in E?E["@direction"]?s(h,x["@language"],`_${E["@direction"]}`):s(h,x["@language"],"@none"):g?(s(h,x["@language"],`_${g}`),s(h,x["@language"],"@none"),s(h,x["@type"],"@none")):(s(h,x["@language"],m),s(h,x["@language"],"@none"),s(h,x["@type"],"@none"))}}for(const h in c)o(c,h,1);return f}function o(u,f,c){const p=u[f],m=u[f]={};let g,_;for(const v of p)g=v.iri,c>=g.length?_="":_=g[c],_ in m?m[_].push(v):m[_]=[v];for(const v in m)v!==""&&o(m,v,c+1)}function s(u,f,c){f.hasOwnProperty(c)||(f[c]=u)}function a(){const u={};return u.mappings=Dz.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=Dz.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};oi.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(xTe(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null};oi.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";oi.isKeyword=e=>{if(!Ms(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function eC(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!eC(e[o],t[o]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o in e){let s=e[o],a=t[o];if(o==="@container"&&Array.isArray(s)&&Array.isArray(a)&&(s=s.slice().sort(),a=a.slice().sort()),!eC(s,a))return!1}return!0}const ui=vl,{isArray:sl,isObject:Wa,isEmptyObject:tC,isString:Mo,isUndefined:h1}=Pa,{isList:kA,isValue:rC,isGraph:NTe,isSubject:ITe}=Wc,{expandIri:Bi,getContextValue:ga,isKeyword:nC,process:Zv,processingMode:qE}=up,{isAbsolute:VE}=xd,{REGEX_BCP47:eQ,REGEX_KEYWORD:CTe,addValue:da,asArray:Ml,getValues:kTe,validateTypeValue:jTe}=yl,{handleEvent:tl}=x0,Hf={};var DTe=Hf;Hf.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!sl(r)&&!Wa(r))return!i&&(t===null||Bi(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):nQ({activeCtx:e,activeProperty:t,value:r,options:n});if(sl(r)){let g=[];const _=ga(e,t,"@container")||[];i=i||_.includes("@list");for(let v=0;v<r.length;++v){let h=await Hf.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:o,typeScopedContext:s});i&&sl(h)&&(h={"@list":h}),h!==null&&(sl(h)?g=g.concat(h):g.push(h))}return g}const a=Bi(e,t,{vocab:!0},n),l=ga(e,t,"@context");s=s||(e.previousContext?e:null);let u=Object.keys(r).sort(),f=!o;if(f&&s&&u.length<=2&&!u.includes("@context"))for(const g of u){const _=Bi(s,g,{vocab:!0},n);if(_==="@value"){f=!1,e=s;break}if(_==="@id"&&u.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),h1(l)||(e=await Zv({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await Zv({activeCtx:e,localCtx:r["@context"],options:n})),s=e;let c=null;for(const g of u)if(Bi(e,g,{vocab:!0},n)==="@type"){c=c||g;const v=r[g],h=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const E of h){const y=ga(s,E,"@context");h1(y)||(e=await Zv({activeCtx:e,localCtx:y,options:n,propagate:!1}))}}let p={};await rQ({activeCtx:e,activeProperty:t,expandedActiveProperty:a,element:r,expandedParent:p,options:n,insideList:i,typeKey:c,typeScopedContext:s}),u=Object.keys(p);let m=u.length;if("@value"in p){if("@type"in p&&("@language"in p||"@direction"in p))throw new ui('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p});let g=m-1;if("@type"in p&&(g-=1),"@index"in p&&(g-=1),"@language"in p&&(g-=1),"@direction"in p&&(g-=1),g!==0)throw new ui('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p});const _=p["@value"]===null?[]:Ml(p["@value"]),v=kTe(p,"@type");if(!(qE(e,1.1)&&v.includes("@json")&&v.length===1))if(_.length===0)n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:p}},options:n}),p=null;else{if(!_.every(h=>Mo(h)||tC(h))&&"@language"in p)throw new ui("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:p});if(!v.every(h=>VE(h)&&!(Mo(h)&&h.indexOf("_:")===0)||tC(h)))throw new ui('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:p})}}else if("@type"in p&&!sl(p["@type"]))p["@type"]=[p["@type"]];else if("@set"in p||"@list"in p){if(m>1&&!(m===2&&"@index"in p))throw new ui('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:p});"@set"in p&&(p=p["@set"],u=Object.keys(p),m=u.length)}else m===1&&"@language"in p&&(n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:p}},options:n}),p=null);return Wa(p)&&!n.keepFreeFloatingNodes&&!i&&(t===null||a==="@graph"||(ga(e,t,"@container")||[]).includes("@graph"))&&(p=tQ({value:p,count:m,options:n})),p};function tQ({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,i;t===0?(n="empty object",i="Dropping empty object."):"@value"in e?(n="object with only @value",i="Dropping object with only @value."):"@list"in e?(n="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",i="Dropping object with only @id."),tl({event:{type:["JsonLdEvent"],code:n,level:"warning",message:i,details:{value:e}},options:r})}return null}return e}async function rQ({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:s,typeKey:a,typeScopedContext:l}){const u=Object.keys(n).sort(),f=[];let c;const p=n[a]&&Bi(e,sl(n[a])?n[a][0]:n[a],{vocab:!0},{...o,typeExpansion:!0})==="@json";for(const m of u){let g=n[m],_;if(m==="@context")continue;const v=Bi(e,m,{vocab:!0},o);if(v===null||!(VE(v)||nC(v))){o.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:m,expandedProperty:v}},options:o});continue}if(nC(v)){if(r==="@reverse")throw new ui("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:g});if(v in i&&v!=="@included"&&v!=="@type")throw new ui("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!Mo(g)){if(!o.isFrame)throw new ui('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:g});if(Wa(g)){if(!tC(g))throw new ui('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else if(sl(g)){if(!g.every(S=>Mo(S)))throw new ui('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}else throw new ui('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:g})}da(i,"@id",Ml(g).map(S=>{if(Mo(S)){const T=Bi(e,S,{base:!0},o);return o.eventHandler&&(T===null?tl(S===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:S}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:S}},options:o}):VE(T)||tl({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:S,expandedId:T}},options:o})),T}return S}),{propertyIsArray:o.isFrame});continue}if(v==="@type"){Wa(g)&&(g=Object.fromEntries(Object.entries(g).map(([S,T])=>[Bi(l,S,{vocab:!0}),Ml(T).map(x=>Bi(l,x,{base:!0,vocab:!0},{...o,typeExpansion:!0}))]))),jTe(g,o.isFrame),da(i,"@type",Ml(g).map(S=>{if(Mo(S)){const T=Bi(l,S,{base:!0,vocab:!0},{...o,typeExpansion:!0});return T!=="@json"&&!VE(T)&&o.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:S}},options:o}),T}return S}),{propertyIsArray:!!o.isFrame});continue}if(v==="@included"&&qE(e,1.1)){const S=Ml(await Hf.expand({activeCtx:e,activeProperty:t,element:g,options:o}));if(!S.every(T=>ITe(T)))throw new ui("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:g});da(i,"@included",S,{propertyIsArray:!0});continue}if(v==="@graph"&&!(Wa(g)||sl(g)))throw new ui('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:g});if(v==="@value"){c=g,p&&qE(e,1.1)?i["@value"]=g:da(i,"@value",g,{propertyIsArray:o.isFrame});continue}if(v==="@language"){if(g===null)continue;if(!Mo(g)&&!o.isFrame)throw new ui('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:g});g=Ml(g).map(S=>Mo(S)?S.toLowerCase():S);for(const S of g)Mo(S)&&!S.match(eQ)&&o.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:S}},options:o});da(i,"@language",g,{propertyIsArray:o.isFrame});continue}if(v==="@direction"){if(!Mo(g)&&!o.isFrame)throw new ui('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:g});g=Ml(g);for(const S of g)if(Mo(S)&&S!=="ltr"&&S!=="rtl")throw new ui('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:g});da(i,"@direction",g,{propertyIsArray:o.isFrame});continue}if(v==="@index"){if(!Mo(g))throw new ui('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:g});da(i,"@index",g);continue}if(v==="@reverse"){if(!Wa(g))throw new ui('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:g});if(_=await Hf.expand({activeCtx:e,activeProperty:"@reverse",element:g,options:o}),"@reverse"in _)for(const T in _["@reverse"])da(i,T,_["@reverse"][T],{propertyIsArray:!0});let S=i["@reverse"]||null;for(const T in _){if(T==="@reverse")continue;S===null&&(S=i["@reverse"]={}),da(S,T,[],{propertyIsArray:!0});const x=_[T];for(let d=0;d<x.length;++d){const $=x[d];if(rC($)||kA($))throw new ui('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});da(S,T,$,{propertyIsArray:!0})}}continue}if(v==="@nest"){f.push(m);continue}let h=e;const E=ga(e,m,"@context");h1(E)||(h=await Zv({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:o}));const y=ga(e,m,"@container")||[];if(y.includes("@language")&&Wa(g)){const S=ga(h,m,"@direction");_=MTe(h,g,S,o)}else if(y.includes("@index")&&Wa(g)){const S=y.includes("@graph"),T=ga(h,m,"@index")||"@index",x=T!=="@index"&&Bi(e,T,{vocab:!0},o);_=await jA({activeCtx:h,options:o,activeProperty:m,value:g,asGraph:S,indexKey:T,propertyIndex:x})}else if(y.includes("@id")&&Wa(g)){const S=y.includes("@graph");_=await jA({activeCtx:h,options:o,activeProperty:m,value:g,asGraph:S,indexKey:"@id"})}else if(y.includes("@type")&&Wa(g))_=await jA({activeCtx:h.revertToPreviousContext(),options:o,activeProperty:m,value:g,asGraph:!1,indexKey:"@type"});else{const S=v==="@list";if(S||v==="@set"){let T=t;S&&r==="@graph"&&(T=null),_=await Hf.expand({activeCtx:h,activeProperty:T,element:g,options:o,insideList:S})}else ga(e,m,"@type")==="@json"?_={"@type":"@json","@value":g}:_=await Hf.expand({activeCtx:h,activeProperty:m,element:g,options:o,insideList:!1})}if(!(_===null&&v!=="@value")){if(v!=="@list"&&!kA(_)&&y.includes("@list")&&(_={"@list":Ml(_)}),y.includes("@graph")&&!y.some(S=>S==="@id"||S==="@index")){if(_=Ml(_),o.isFrame||(_=_.filter(S=>{const T=Object.keys(S).length;return tQ({value:S,count:T,options:o})!==null})),_.length===0)continue;_=_.map(S=>({"@graph":Ml(S)}))}if(h.mappings.has(m)&&h.mappings.get(m).reverse){const S=i["@reverse"]=i["@reverse"]||{};_=Ml(_);for(let T=0;T<_.length;++T){const x=_[T];if(rC(x)||kA(x))throw new ui('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});da(S,v,x,{propertyIsArray:!0})}continue}da(i,v,_,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&qE(e,1.1))){if((Wa(c)||sl(c))&&!o.isFrame)throw new ui('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:c})}for(const m of f){const g=sl(n[m])?n[m]:[n[m]];for(const _ of g){if(!Wa(_)||Object.keys(_).some(v=>Bi(e,v,{vocab:!0},o)==="@value"))throw new ui("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_});await rQ({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:_,expandedParent:i,options:o,insideList:s,typeScopedContext:l,typeKey:a})}}}function nQ({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const i=Bi(e,t,{vocab:!0},n);if(i==="@id")return Bi(e,r,{base:!0},n);if(i==="@type")return Bi(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=ga(e,t,"@type");if((o==="@id"||i==="@graph")&&Mo(r)){const a=Bi(e,r,{base:!0},n);return a===null&&r.match(CTe)&&n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":a}}if(o==="@vocab"&&Mo(r))return{"@id":Bi(e,r,{vocab:!0,base:!0},n)};if(nC(i))return r;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(Mo(r)){const a=ga(e,t,"@language");a!==null&&(s["@language"]=a);const l=ga(e,t,"@direction");l!==null&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function MTe(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const s of o){const a=Bi(e,s,{vocab:!0},n);let l=t[s];sl(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!Mo(u))throw new ui("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const f={"@value":u};a!=="@none"&&(s.match(eQ)||n.eventHandler&&tl({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n}),f["@language"]=s.toLowerCase()),r&&(f["@direction"]=r),i.push(f)}}return i}async function jA({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:i,indexKey:o,propertyIndex:s}){const a=[],l=Object.keys(n).sort(),u=o==="@type";for(let f of l){if(u){const m=ga(e,f,"@context");h1(m)||(e=await Zv({activeCtx:e,localCtx:m,propagate:!1,options:t}))}let c=n[f];sl(c)||(c=[c]),c=await Hf.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0});let p;s?f==="@none"?p="@none":p=nQ({activeCtx:e,activeProperty:o,value:f,options:t}):p=Bi(e,f,{vocab:!0},t),o==="@id"?f=Bi(e,f,{base:!0},t):u&&(f=p);for(let m of c){if(i&&!NTe(m)&&(m={"@graph":[m]}),o==="@type")p==="@none"||(m["@type"]?m["@type"]=[f].concat(m["@type"]):m["@type"]=[f]);else{if(rC(m)&&!["@language","@type","@index"].includes(o))throw new ui(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:m});s?p!=="@none"&&da(m,s,p,{propertyIsArray:!0,prependValue:!0}):p!=="@none"&&!(o in m)&&(m[o]=f)}a.push(m)}}return a}const{isKeyword:iQ}=up,$u=Wc,DA=Pa,Ou=yl,LTe=vl,as={};var GT=as;as.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new Ou.IdentifierIssuer("_:b"),n={"@default":{}};return as.createNodeMap(e,n,"@default",r),as.mergeNodeMaps(n)};as.createNodeMap=(e,t,r,n,i,o)=>{if(DA.isArray(e)){for(const u of e)as.createNodeMap(u,t,r,n,void 0,o);return}if(!DA.isObject(e)){o&&o.push(e);return}if($u.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}o&&o.push(e);return}else if(o&&$u.isList(e)){const u=[];as.createNodeMap(e["@list"],t,r,n,i,u),o.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const f of u)f.indexOf("_:")===0&&n.getId(f)}DA.isUndefined(i)&&(i=$u.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const s=t[r],a=s[i]=s[i]||{};a["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const c={"@id":i},p=e["@reverse"];for(const m in p){const g=p[m];for(const _ of g){let v=_["@id"];$u.isBlankNode(_)&&(v=n.getId(v)),as.createNodeMap(_,t,r,n,v),Ou.addValue(s[v],m,c,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),as.createNodeMap(e[u],t,i,n);continue}if(u==="@included"){as.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&iQ(u)){if(u==="@index"&&u in a&&(e[u]!==a[u]||e[u]["@id"]!==a[u]["@id"]))throw new LTe("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[u]=e[u];continue}const f=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),f.length===0){Ou.addValue(a,u,[],{propertyIsArray:!0});continue}for(let c of f)if(u==="@type"&&(c=c.indexOf("_:")===0?n.getId(c):c),$u.isSubject(c)||$u.isSubjectReference(c)){if("@id"in c&&!c["@id"])continue;const p=$u.isBlankNode(c)?n.getId(c["@id"]):c["@id"];Ou.addValue(a,u,{"@id":p},{propertyIsArray:!0,allowDuplicate:!1}),as.createNodeMap(c,t,r,n,p)}else if($u.isValue(c))Ou.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1});else if($u.isList(c)){const p=[];as.createNodeMap(c["@list"],t,r,n,i,p),c={"@list":p},Ou.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}else as.createNodeMap(c,t,r,n,i),Ou.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}};as.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const s of Object.keys(i).sort())if(iQ(s)&&s!=="@type")o[s]=Ou.clone(i[s]);else for(const a of i[s])Ou.addValue(o,s,Ou.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return t};as.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const i=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const s=o["@graph"];for(const a of Object.keys(i).sort()){const l=i[a];$u.isSubjectReference(l)||s.push(l)}}return t};const{isSubjectReference:FTe}=Wc,{createMergedNodeMap:BTe}=GT,oQ={};var UTe=oQ;oQ.flatten=e=>{const t=BTe(e),r=[],n=Object.keys(t).sort();for(let i=0;i<n.length;++i){const o=t[n[i]];FTe(o)||r.push(o)}return r};const iC=vl,MA=Wc,Ov=Pa,{REGEX_BCP47:Mz,addValue:Lz}=yl,{handleEvent:Fz}=x0,{RDF_LIST:zTe,RDF_FIRST:LA,RDF_REST:FA,RDF_NIL:BA,RDF_TYPE:qTe,RDF_JSON_LITERAL:VTe,XSD_BOOLEAN:Bz,XSD_DOUBLE:Uz,XSD_INTEGER:zz,XSD_STRING:UA}=tD,sQ={};var HTe=sQ;sQ.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:i=null}=t,o={},s={"@default":o},a={};if(i){if(i==="compound-literal")throw new iC("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new iC("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;c in s||(s[c]={}),c!=="@default"&&!(c in o)&&(o[c]={"@id":c});const p=s[c],m=f.subject.value,g=f.predicate.value,_=f.object;m in p||(p[m]={"@id":m});const v=p[m],h=_.termType.endsWith("Node");if(h&&!(_.value in p)&&(p[_.value]={"@id":_.value}),g===qTe&&!r&&h){Lz(v,"@type",_.value,{propertyIsArray:!0});continue}const E=WTe(_,n,i,t);if(Lz(v,g,E,{propertyIsArray:!0}),h)if(_.value===BA){const y=p[_.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:g,value:E})}else _.value in a?a[_.value]=!1:a[_.value]={node:v,property:g,value:E}}for(const f in s){const c=s[f];if(!(BA in c))continue;const p=c[BA];if(p.usages){for(let m of p.usages){let g=m.node,_=m.property,v=m.value;const h=[],E=[];let y=Object.keys(g).length;for(;_===FA&&Ov.isObject(a[g["@id"]])&&Ov.isArray(g[LA])&&g[LA].length===1&&Ov.isArray(g[FA])&&g[FA].length===1&&(y===3||y===4&&Ov.isArray(g["@type"])&&g["@type"].length===1&&g["@type"][0]===zTe)&&(h.push(g[LA][0]),E.push(g["@id"]),m=a[g["@id"]],g=m.node,_=m.property,v=m.value,y=Object.keys(g).length,!!MA.isBlankNode(g)););delete v["@id"],v["@list"]=h.reverse();for(const S of E)delete c[S]}delete p.usages}}const l=[],u=Object.keys(o).sort();for(const f of u){const c=o[f];if(f in s){const p=c["@graph"]=[],m=s[f],g=Object.keys(m).sort();for(const _ of g){const v=m[_];MA.isSubjectReference(v)||p.push(v)}}MA.isSubjectReference(c)||l.push(c)}return l};function WTe(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(Mz)||n.eventHandler&&Fz({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=UA),o===VTe){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new iC("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(o===Bz)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(Ov.isNumeric(i["@value"]))if(o===zz){const s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else o===Uz&&(i["@value"]=parseFloat(i["@value"]));[Bz,zz,Uz,UA].includes(o)||(i["@type"]=o)}else if(r==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,s,a]=o.split(/[#_]/);s.length>0&&(i["@language"]=s,s.match(Mz)||n.eventHandler&&Fz({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n})),i["@direction"]=a}else o!==UA&&(i["@type"]=o)}return i}var GTe=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const o=i===0?"":",",s=n===void 0||typeof n=="symbol"?null:n;return r+o+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"};const{createNodeMap:KTe}=GT,{isKeyword:JTe}=up,qz=Wc,YTe=GTe,Vz=vl,rv=Pa,XTe=yl,{handleEvent:Mh}=x0,{RDF_FIRST:QTe,RDF_REST:ZTe,RDF_NIL:e$e,RDF_TYPE:t$e,RDF_JSON_LITERAL:r$e,RDF_LANGSTRING:n$e,XSD_BOOLEAN:i$e,XSD_DOUBLE:Hz,XSD_INTEGER:o$e,XSD_STRING:s$e}=tD,{isAbsolute:p1}=xd,aQ={};var a$e=aQ;aQ.toRDF=(e,t)=>{const r=new XTe.IdentifierIssuer("_:b"),n={"@default":{}};KTe(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const s of o){let a;if(s==="@default")a={termType:"DefaultGraph",value:""};else if(p1(s))s.startsWith("_:")?a={termType:"BlankNode"}:a={termType:"NamedNode"},a.value=s;else{t.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:s}},options:t});continue}l$e(i,n[s],a,r,t)}return i};function l$e(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const a=t[s],l=Object.keys(a).sort();for(let u of l){const f=a[u];if(u==="@type")u=t$e;else if(JTe(u))continue;for(const c of f){const p={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!p1(s)){i.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}const m={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!p1(u)){i.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(m.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(_=>n.getId(_)===u)}},options:i});continue}const g=oC(c,n,e,r,i.rdfDirection,i);g&&e.push({subject:p,predicate:m,object:g,graph:r})}}}}function u$e(e,t,r,n,i,o){const s={termType:"NamedNode",value:QTe},a={termType:"NamedNode",value:ZTe},l={termType:"NamedNode",value:e$e},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const p of e){const m=oC(p,t,r,n,i,o),g={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:s,object:m,graph:n}),r.push({subject:c,predicate:a,object:g,graph:n}),c=g}if(u){const p=oC(u,t,r,n,i,o);r.push({subject:c,predicate:s,object:p,graph:n}),r.push({subject:c,predicate:a,object:l,graph:n})}return f}function oC(e,t,r,n,i,o){const s={};if(qz.isValue(e)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let a=e["@value"];const l=e["@type"]||null;if(l==="@json")s.value=YTe(a),s.datatype.value=r$e;else if(rv.isBoolean(a))s.value=a.toString(),s.datatype.value=l||i$e;else if(rv.isDouble(a)||l===Hz)rv.isDouble(a)||(a=parseFloat(a)),s.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=l||Hz;else if(rv.isNumber(a))s.value=a.toFixed(0),s.datatype.value=l||o$e;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),f=e["@direction"],c=`https://www.w3.org/ns/i18n#${u}_${f}`;s.datatype.value=c,s.value=a}else{if("@direction"in e&&i==="compound-literal")throw new Vz("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new Vz("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||n$e,s.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||s$e)}}else if(qz.isList(e)){const a=u$e(e["@list"],t,r,n,i,o);s.termType=a.termType,s.value=a.value}else{const a=rv.isObject(e)?e["@id"]:e;s.termType=a.startsWith("_:")?"BlankNode":"NamedNode",s.value=a}return s.termType==="NamedNode"&&!p1(s.value)?(o.eventHandler&&Mh({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:s.value}},options:o}),null):s}const{isKeyword:sC}=up,Ka=Wc,Xn=Pa,lo=yl,Wz=xd,ey=vl,{createNodeMap:c$e,mergeNodeMapGraphs:f$e}=GT,rl={};var d$e=rl;rl.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new lo.IdentifierIssuer("_:b");c$e(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=f$e(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];rl.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(s=>n.bnodeMap[s].length===1));// remove @preserve from results
return r.link={},HE(o,r)};rl.frame=(e,t,r,n,i=null)=>{lQ(r),r=r[0];const o=e.options,s={embed:tb(r,o,"embed"),explicit:tb(r,o,"explicit"),requireAll:tb(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const a=e.link[e.graph],l=p$e(e,t,r,s),u=Object.keys(l).sort();for(const f of u){const c=l[f];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},s.embed==="@link"&&f in a){Qd(n,i,a[f]);continue}const p={"@id":f};if(f.indexOf("_:")===0&&lo.addValue(e.bnodeMap,f,p,{propertyIsArray:!0}),a[f]=p,(s.embed==="@first"||s.embed==="@last")&&e.is11)throw new ey("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&(s.embed==="@never"||h$e(c,e.graph,e.subjectStack))){Qd(n,i,p);continue}if(e.embedded&&(s.embed=="@first"||s.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){Qd(n,i,p);continue}if(s.embed==="@last"&&f in e.uniqueEmbeds[e.graph]&&m$e(e,f),e.uniqueEmbeds[e.graph][f]={parent:n,property:i},e.subjectStack.push({subject:c,graph:e.graph}),f in e.graphMap){let m=!1,g=null;"@graph"in r?(g=r["@graph"][0],m=!(f==="@merged"||f==="@default"),Xn.isObject(g)||(g={})):(m=e.graph!=="@merged",g={}),m&&rl.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[g],p,"@graph")}"@included"in r&&rl.frame({...e,embedded:!1},t,r["@included"],p,"@included");for(const m of Object.keys(c).sort()){if(sC(m)){if(p[m]=lo.clone(c[m]),m==="@type")for(const g of c["@type"])g.indexOf("_:")===0&&lo.addValue(e.bnodeMap,g,p,{propertyIsArray:!0});continue}if(!(s.explicit&&!(m in r)))for(const g of c[m]){const _=m in r?r[m]:Gz(s);if(Ka.isList(g)){const v=r[m]&&r[m][0]&&r[m][0]["@list"]?r[m][0]["@list"]:Gz(s),h={"@list":[]};Qd(p,m,h);const E=g["@list"];for(const y of E)Ka.isSubjectReference(y)?rl.frame({...e,embedded:!0},[y["@id"]],v,h,"@list"):Qd(h,"@list",lo.clone(y))}else Ka.isSubjectReference(g)?rl.frame({...e,embedded:!0},[g["@id"]],_,p,m):aC(_[0],g)&&Qd(p,m,lo.clone(g))}}for(const m of Object.keys(r).sort()){if(m==="@type"){if(!Xn.isObject(r[m][0])||!("@default"in r[m][0]))continue}else if(sC(m))continue;const g=r[m][0]||{};if(!tb(g,o,"omitDefault")&&!(m in p)){let v="@null";"@default"in g&&(v=lo.clone(g["@default"])),Xn.isArray(v)||(v=[v]),p[m]=[{"@preserve":v}]}}for(const m of Object.keys(r["@reverse"]||{}).sort()){const g=r["@reverse"][m];for(const _ of Object.keys(e.subjects))lo.getValues(e.subjects[_],m).some(h=>h["@id"]===f)&&(p["@reverse"]=p["@reverse"]||{},lo.addValue(p["@reverse"],m,[],{propertyIsArray:!0}),rl.frame({...e,embedded:!0},[_],g,p["@reverse"][m],i))}Qd(n,i,p),e.subjectStack.pop()}}};rl.cleanupNull=(e,t)=>{if(Xn.isArray(e))return e.map(n=>rl.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(Xn.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=rl.cleanupNull(e[r],t)}return e};function Gz(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function h$e(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function tb(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new ey("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function lQ(e){if(!Xn.isArray(e)||e.length!==1||!Xn.isObject(e[0]))throw new ey("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of lo.asArray(e[0]["@id"]))if(!(Xn.isObject(t)||Wz.isAbsolute(t))||Xn.isString(t)&&t.indexOf("_:")===0)throw new ey("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of lo.asArray(e[0]["@type"]))if(!(Xn.isObject(t)||Wz.isAbsolute(t)||t==="@json")||Xn.isString(t)&&t.indexOf("_:")===0)throw new ey("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function p$e(e,t,r,n){const i={};for(const o of t){const s=e.graphMap[e.graph][o];uQ(e,s,r,n)&&(i[o]=s)}return i}function uQ(e,t,r,n){let i=!0,o=!1;for(const s in r){let a=!1;const l=lo.getValues(t,s),u=lo.getValues(r,s).length===0;if(s==="@id"){if(Xn.isEmptyObject(r["@id"][0]||{})?a=!0:r["@id"].length>=0&&(a=r["@id"].includes(l[0])),!n.requireAll)return a}else if(s==="@type"){if(i=!1,u){if(l.length>0)return!1;a=!0}else if(r["@type"].length===1&&Xn.isEmptyObject(r["@type"][0]))a=l.length>0;else for(const f of r["@type"])Xn.isObject(f)&&"@default"in f?a=!0:a=a||l.some(c=>c===f);if(!n.requireAll)return a}else{if(sC(s))continue;{const f=lo.getValues(r,s)[0];let c=!1;if(f&&(lQ([f]),c="@default"in f),i=!1,l.length===0&&c)continue;if(l.length>0&&u)return!1;if(f===void 0){if(l.length>0)return!1;a=!0}else if(Ka.isList(f)){const p=f["@list"][0];if(Ka.isList(l[0])){const m=l[0]["@list"];Ka.isValue(p)?a=m.some(g=>aC(p,g)):(Ka.isSubject(p)||Ka.isSubjectReference(p))&&(a=m.some(g=>Kz(e,p,g,n)))}}else Ka.isValue(f)?a=l.some(p=>aC(f,p)):Ka.isSubjectReference(f)?a=l.some(p=>Kz(e,f,p,n)):Xn.isObject(f)?a=l.length>0:a=!1}}if(!a&&n.requireAll)return!1;o=o||a}return i||o}function m$e(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,s={"@id":t};if(Xn.isArray(i)){for(let l=0;l<i.length;++l)if(lo.compareValues(i[l],s)){i[l]=s;break}}else{const l=Xn.isArray(i[o]);lo.removeValue(i,o,s,{propertyIsArray:l}),lo.addValue(i,o,s,{propertyIsArray:l})}const a=l=>{const u=Object.keys(r);for(const f of u)f in r&&Xn.isObject(r[f].parent)&&r[f].parent["@id"]===l&&(delete r[f],a(f))};a(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function HE(e,t){if(Xn.isArray(e))return e.map(r=>HE(r,t));if(Xn.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(Ka.isValue(e))return e;if(Ka.isList(e))return e["@list"]=HE(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=HE(e[r],t)}}return e}function Qd(e,t,r){Xn.isObject(e)?lo.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function Kz(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&uQ(e,i,t,n)}function aC(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?Xn.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?Xn.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?Xn.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&s.length===0&&a.length===0?!0:!(!(o.includes(r)||Xn.isEmptyObject(o[0]))||!(!n&&s.length===0||s.includes(n)||n&&Xn.isEmptyObject(s[0]))||!(!i&&a.length===0||a.includes(i)||i&&Xn.isEmptyObject(a[0])))}const iD=vl,{isArray:wf,isObject:Wf,isString:cQ,isUndefined:zA}=Pa,{isList:lC,isValue:Sc,isGraph:fQ,isSimpleGraph:Jz,isSubjectReference:qA}=Wc,{expandIri:dQ,getContextValue:is,isKeyword:hQ,process:VA,processingMode:g$e}=up,{removeBase:Yz,prependBase:v$e}=xd,{REGEX_KEYWORD:y$e,addValue:ca,asArray:rb,compareShortestLeast:w$e}=yl,Lr={};var b$e=Lr;Lr.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(wf(r)){let o=[];for(let s=0;s<r.length;++s){const a=await Lr.compact({activeCtx:e,activeProperty:t,element:r[s],options:n});a!==null&&o.push(a)}return n.compactArrays&&o.length===1&&(is(e,t,"@container")||[]).length===0&&(o=o[0]),o}const i=is(e,t,"@context");if(zA(i)||(e=await VA({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:n})),Wf(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const p=n.link[r["@id"]];for(let m=0;m<p.length;++m)if(p[m].expanded===r)return p[m].compacted}if(Sc(r)||qA(r)){const p=Lr.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&qA(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:p})),p}if(lC(r)&&(is(e,t,"@container")||[]).includes("@list"))return Lr.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const o=t==="@reverse",s={},a=e;!Sc(r)&&!qA(r)&&(e=e.revertToPreviousContext());const l=is(a,t,"@context");zA(l)||(e=await VA({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:s}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const f=e;for(const p of u){const m=Lr.compactIri({activeCtx:f,iri:p,relativeTo:{vocab:!0}}),g=is(a,m,"@context");zA(g)||(e=await VA({activeCtx:e,localCtx:g,options:n,propagate:!1}))}const c=Object.keys(r).sort();for(const p of c){const m=r[p];if(p==="@id"){let g=rb(m).map(v=>Lr.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));g.length===1&&(g=g[0]);const _=Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});s[_]=g;continue}if(p==="@type"){let g=rb(m).map(y=>Lr.compactIri({activeCtx:a,iri:y,relativeTo:{vocab:!0}}));g.length===1&&(g=g[0]);const _=Lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),E=(is(e,_,"@container")||[]).includes("@set")&&g$e(e,1.1)||wf(g)&&m.length===0;ca(s,_,g,{propertyIsArray:E});continue}if(p==="@reverse"){const g=await Lr.compact({activeCtx:e,activeProperty:"@reverse",element:m,options:n});for(const _ in g)if(e.mappings.has(_)&&e.mappings.get(_).reverse){const v=g[_],E=(is(e,_,"@container")||[]).includes("@set")||!n.compactArrays;ca(s,_,v,{propertyIsArray:E}),delete g[_]}if(Object.keys(g).length>0){const _=Lr.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});ca(s,_,g)}continue}if(p==="@preserve"){const g=await Lr.compact({activeCtx:e,activeProperty:t,element:m,options:n});wf(g)&&g.length===0||ca(s,p,g);continue}if(p==="@index"){if((is(e,t,"@container")||[]).includes("@index"))continue;const _=Lr.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});ca(s,_,m);continue}if(p!=="@graph"&&p!=="@list"&&p!=="@included"&&hQ(p)){const g=Lr.compactIri({activeCtx:e,iri:p,relativeTo:{vocab:!0}});ca(s,g,m);continue}if(!wf(m))throw new iD("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(m.length===0){const g=Lr.compactIri({activeCtx:e,iri:p,value:m,relativeTo:{vocab:!0},reverse:o}),_=e.mappings.has(g)?e.mappings.get(g)["@nest"]:null;let v=s;_&&(Xz(e,_,n),Wf(s[_])||(s[_]={}),v=s[_]),ca(v,g,m,{propertyIsArray:!0})}for(const g of m){const _=Lr.compactIri({activeCtx:e,iri:p,value:g,relativeTo:{vocab:!0},reverse:o}),v=e.mappings.has(_)?e.mappings.get(_)["@nest"]:null;let h=s;v&&(Xz(e,v,n),Wf(s[v])||(s[v]={}),h=s[v]);const E=is(e,_,"@container")||[],y=fQ(g),S=lC(g);let T;S?T=g["@list"]:y&&(T=g["@graph"]);let x=await Lr.compact({activeCtx:e,activeProperty:_,element:S||y?T:g,options:n});if(S)if(wf(x)||(x=[x]),!E.includes("@list"))x={[Lr.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:x},"@index"in g&&(x[Lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]);else{ca(h,_,x,{valueIsArray:!0,allowDuplicate:!0});continue}if(y)if(E.includes("@graph")&&(E.includes("@id")||E.includes("@index")&&Jz(g))){let d;h.hasOwnProperty(_)?d=h[_]:h[_]=d={};const $=(E.includes("@id")?g["@id"]:g["@index"])||Lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});ca(d,$,x,{propertyIsArray:!n.compactArrays||E.includes("@set")})}else E.includes("@graph")&&Jz(g)?(wf(x)&&x.length>1&&(x={"@included":x}),ca(h,_,x,{propertyIsArray:!n.compactArrays||E.includes("@set")})):(wf(x)&&x.length===1&&n.compactArrays&&(x=x[0]),x={[Lr.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:x},"@id"in g&&(x[Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=g["@id"]),"@index"in g&&(x[Lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=g["@index"]),ca(h,_,x,{propertyIsArray:!n.compactArrays||E.includes("@set")}));else if(E.includes("@language")||E.includes("@index")||E.includes("@id")||E.includes("@type")){let d;h.hasOwnProperty(_)?d=h[_]:h[_]=d={};let $;if(E.includes("@language"))Sc(x)&&(x=x["@value"]),$=g["@language"];else if(E.includes("@index")){const O=is(e,_,"@index")||"@index",P=Lr.compactIri({activeCtx:e,iri:O,relativeTo:{vocab:!0}});if(O==="@index")$=g["@index"],delete x[P];else{let k;if([$,...k]=rb(x[O]||[]),!cQ($))$=null;else switch(k.length){case 0:delete x[O];break;case 1:x[O]=k[0];break;default:x[O]=k;break}}}else if(E.includes("@id")){const O=Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});$=x[O],delete x[O]}else if(E.includes("@type")){const O=Lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let P;switch([$,...P]=rb(x[O]||[]),P.length){case 0:delete x[O];break;case 1:x[O]=P[0];break;default:x[O]=P;break}Object.keys(x).length===1&&"@id"in g&&(x=await Lr.compact({activeCtx:e,activeProperty:_,element:{"@id":g["@id"]},options:n}))}$||($=Lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),ca(d,$,x,{propertyIsArray:E.includes("@set")})}else{const d=!n.compactArrays||E.includes("@set")||E.includes("@list")||wf(x)&&x.length===0||p==="@list"||p==="@graph";ca(h,_,x,{propertyIsArray:d})}}}return s}return r};Lr.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const s=e.getInverse();if(hQ(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(n.vocab&&t in s){const c=e["@language"]||"@none",p=[];Wf(r)&&"@index"in r&&!("@graph"in r)&&p.push("@index","@index@set"),Wf(r)&&"@preserve"in r&&(r=r["@preserve"][0]),fQ(r)?("@index"in r&&p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&p.push("@graph@id","@graph@id@set"),p.push("@graph","@graph@set","@set"),"@index"in r||p.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||p.push("@graph@id","@graph@id@set")):Wf(r)&&!Sc(r)&&p.push("@id","@id@set","@type","@set@type");let m="@language",g="@null";if(i)m="@type",g="@reverse",p.push("@set");else if(lC(r)){"@index"in r||p.push("@list");const v=r["@list"];if(v.length===0)m="@any",g="@none";else{let h=v.length===0?c:null,E=null;for(let y=0;y<v.length;++y){const S=v[y];let T="@none",x="@none";if(Sc(S))if("@direction"in S){const d=(S["@language"]||"").toLowerCase(),$=S["@direction"];T=`${d}_${$}`}else"@language"in S?T=S["@language"].toLowerCase():"@type"in S?x=S["@type"]:T="@null";else x="@id";if(h===null?h=T:T!==h&&Sc(S)&&(h="@none"),E===null?E=x:x!==E&&(E="@none"),h==="@none"&&E==="@none")break}h=h||"@none",E=E||"@none",E!=="@none"?(m="@type",g=E):g=h}}else{if(Sc(r))if("@language"in r&&!("@index"in r)){p.push("@language","@language@set"),g=r["@language"];const v=r["@direction"];v&&(g=`${g}_${v}`)}else"@direction"in r&&!("@index"in r)?g=`_${r["@direction"]}`:"@type"in r&&(m="@type",g=r["@type"]);else m="@type",g="@id";p.push("@set")}p.push("@none"),Wf(r)&&!("@index"in r)&&p.push("@index","@index@set"),Sc(r)&&Object.keys(r).length===1&&p.push("@language","@language@set");const _=_$e(e,t,r,p,m,g);if(_!==null)return _}if(n.vocab&&"@vocab"in e){const c=e["@vocab"];if(t.indexOf(c)===0&&t!==c){const p=t.substr(c.length);if(!e.mappings.has(p))return p}}let a=null;const l=[];let u=e.fastCurieMap;const f=t.length-1;for(let c=0;c<f&&t[c]in u;++c)u=u[t[c]],""in u&&l.push(u[""][0]);for(let c=l.length-1;c>=0;--c){const p=l[c],m=p.terms;for(const g of m){const _=g+":"+t.substr(p.iri.length);e.mappings.get(g)._prefix&&(!e.mappings.has(_)||r===null&&e.mappings.get(_)["@id"]===t)&&(a===null||w$e(_,a)<0)&&(a=_)}}if(a!==null)return a;for(const[c,p]of e.mappings)if(p&&p._prefix&&t.startsWith(c+":"))throw new iD(`Absolute IRI "${t}" confused with prefix "${c}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const c=Yz(v$e(o,e["@base"]),t);return y$e.test(c)?`./${c}`:c}else return t;else return Yz(o,t);return t};Lr.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(Sc(r)){const a=is(e,t,"@type"),l=is(e,t,"@language"),u=is(e,t,"@direction"),f=is(e,t,"@container")||[],c="@index"in r&&!f.includes("@index");if(!c&&a!=="@none"&&(r["@type"]===a||"@language"in r&&r["@language"]===l&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===l||"@direction"in r&&r["@direction"]===u))return r["@value"];const p=Object.keys(r).length,m=p===1||p===2&&"@index"in r&&!c,g="@language"in e,_=cQ(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(m&&a!=="@none"&&(!g||!_||v))return r["@value"];const h={};return c&&(h[Lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?h[Lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=Lr.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(h[Lr.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(h[Lr.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),h[Lr.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],h}const i=dQ(e,t,{vocab:!0},n),o=is(e,t,"@type"),s=Lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:o==="@vocab"},base:n.base});return o==="@id"||o==="@vocab"||i==="@graph"?s:{[Lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};function _$e(e,t,r,n,i,o){o===null&&(o="@null");const s=[];if((o==="@id"||o==="@reverse")&&Wf(r)&&"@id"in r){o==="@reverse"&&s.push("@reverse");const l=Lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const l=s.find(u=>u.includes("_"));l&&s.push(l.replace(/^[^_]+_/,"_"))}s.push("@none");const a=e.inverse[t];for(const l of n){if(!(l in a))continue;const u=a[l][i];for(const f of s)if(f in u)return u[f]}return null}function Xz(e,t,r){if(dQ(e,t,{vocab:!0},r)!=="@nest")throw new iD("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var HA,Qz;function E$e(){return Qz||(Qz=1,HA=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),HA}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const Zz=eD,e6=lTe,If=yl,fc=_Te,WA=If.IdentifierIssuer,yu=vl,S$e=J5,nb=STe,{expand:T$e}=DTe,{flatten:$$e}=UTe,{fromRDF:x$e}=HTe,{toRDF:A$e}=a$e,{frameMergedOrDefault:O$e,cleanupNull:P$e}=d$e,{isArray:Dp,isObject:Zd,isString:wu}=Pa,{isSubjectReference:R$e}=Wc,{expandIri:N$e,getInitialContext:ib,process:t6,processingMode:GA}=up,{compact:I$e,compactIri:C$e}=b$e,{createNodeMap:k$e,createMergedNodeMap:j$e,mergeNodeMaps:D$e}=GT,{logEventHandler:M$e,logWarningEventHandler:L$e,safeEventHandler:F$e,setDefaultEventHandler:B$e,setupEventHandler:U$e,strictEventHandler:z$e,unhandledEventHandler:q$e}=x0,pQ=function(e){const t={},n=new S$e({max:100});e.compact=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(s===null)throw new yu("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;a=i(a,{base:wu(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new WA("_:b"),contextResolver:new fc({sharedCache:n})}),a.link&&(a.skipExpansion=!0),a.compactToRelative||delete a.base;let l;a.skipExpansion?l=o:l=await e.expand(o,a);const u=await e.processContext(ib(a),s,a);let f=await I$e({activeCtx:u,element:l,options:a});a.compactArrays&&!a.graph&&Dp(f)?f.length===1?f=f[0]:f.length===0&&(f={}):a.graph&&Zd(f)&&(f=[f]),Zd(s)&&"@context"in s&&(s=s["@context"]),s=If.clone(s),Dp(s)||(s=[s]);const c=s;s=[];for(let m=0;m<c.length;++m)(!Zd(c[m])||Object.keys(c[m]).length>0)&&s.push(c[m]);const p=s.length>0;if(s.length===1&&(s=s[0]),Dp(f)){const m=C$e({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),g=f;f={},p&&(f["@context"]=s),f[m]=g}else if(Zd(f)&&p){const m=f;f={"@context":s};for(const g in m)f[g]=m[g]}return f},e.expand=async function(o,s){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");s=i(s,{keepFreeFloatingNodes:!1,contextResolver:new fc({sharedCache:n})});const a={},l=[];if("expandContext"in s){const p=If.clone(s.expandContext);Zd(p)&&"@context"in p?a.expandContext=p:a.expandContext={"@context":p},l.push(a.expandContext)}let u;if(!wu(o))a.input=If.clone(o);else{const p=await e.get(o,s);u=p.documentUrl,a.input=p.document,p.contextUrl&&(a.remoteContext={"@context":p.contextUrl},l.push(a.remoteContext))}"base"in s||(s.base=u||"");let f=ib(s);for(const p of l)f=await t6({activeCtx:f,localCtx:p,options:s});let c=await T$e({activeCtx:f,element:a.input,options:s});return Zd(c)&&"@graph"in c&&Object.keys(c).length===1?c=c["@graph"]:c===null&&(c=[]),Dp(c)||(c=[c]),c},e.flatten=async function(o,s,a){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof s=="function"?s=null:s=s||null,a=i(a,{base:wu(o)?o:"",contextResolver:new fc({sharedCache:n})});const l=await e.expand(o,a),u=$$e(l);return s===null?u:(a.graph=!0,a.skipExpansion=!0,await e.compact(u,s,a))},e.frame=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(a=i(a,{base:wu(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new fc({sharedCache:n})}),wu(s)){const v=await e.get(s,a);if(s=v.document,v.contextUrl){let h=s["@context"];h?Dp(h)?h.push(v.contextUrl):h=[h,v.contextUrl]:h=v.contextUrl,s["@context"]=h}}const l=s?s["@context"]||{}:{},u=await e.processContext(ib(a),l,a);a.hasOwnProperty("omitGraph")||(a.omitGraph=GA(u,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=GA(u,1.1));const f=await e.expand(o,a),c={...a};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const p=await e.expand(s,c),m=Object.keys(s).map(v=>N$e(u,v,{vocab:!0}));c.merged=!m.includes("@graph"),c.is11=GA(u,1.1);const g=O$e(f,p,c);c.graph=!a.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let _=await e.compact(g,l,c);return c.link={},_=P$e(_,c),_},e.link=async function(o,s,a){const l={};return s&&(l["@context"]=s),l["@embed"]="@link",e.frame(o,l,a)},e.normalize=e.canonize=async function(o,s){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(s=i(s,{base:wu(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new fc({sharedCache:n})}),"inputFormat"in s){if(s.inputFormat!=="application/n-quads"&&s.inputFormat!=="application/nquads")throw new yu("Unknown canonicalization input format.","jsonld.CanonizeError");const u=nb.parse(o);return Zz.canonize(u,s)}const a={...s};delete a.format,a.produceGeneralizedRdf=!1;const l=await e.toRDF(o,a);return Zz.canonize(l,s)},e.fromRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");s=i(s,{format:wu(o)?"application/n-quads":void 0});const{format:a}=s;let{rdfParser:l}=s;if(a){if(l=l||t[a],!l)throw new yu("Unknown input format.","jsonld.UnknownFormat",{format:a})}else l=()=>o;const u=await l(o);return x$e(u,s)},e.toRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");s=i(s,{base:wu(o)?o:"",skipExpansion:!1,contextResolver:new fc({sharedCache:n})});let a;s.skipExpansion?a=o:a=await e.expand(o,s);const l=A$e(a,s);if(s.format){if(s.format==="application/n-quads"||s.format==="application/nquads")return nb.serialize(l);throw new yu("Unknown output format.","jsonld.UnknownFormat",{format:s.format})}return l},e.createNodeMap=async function(o,s){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");s=i(s,{base:wu(o)?o:"",contextResolver:new fc({sharedCache:n})});const a=await e.expand(o,s);return j$e(a,s)},e.merge=async function(o,s,a){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Dp(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof s=="function"?s=null:s=s||null,a=i(a,{contextResolver:new fc({sharedCache:n})});const l=await Promise.all(o.map(v=>{const h={...a};return e.expand(v,h)}));let u=!0;"mergeNodes"in a&&(u=a.mergeNodes);const f=a.issuer||new WA("_:b"),c={"@default":{}};for(let v=0;v<l.length;++v){const h=If.relabelBlankNodes(l[v],{issuer:new WA("_:b"+v+"-")}),E=u||v===0?c:{"@default":{}};if(k$e(h,E,"@default",f),E!==c)for(const y in E){const S=E[y];if(!(y in c)){c[y]=S;continue}const T=c[y];for(const x in S)x in T||(T[x]=S[x])}}const p=D$e(c),m=[],g=Object.keys(p).sort();for(let v=0;v<g.length;++v){const h=p[g[v]];R$e(h)||m.push(h)}return s===null?m:(a.graph=!0,a.skipExpansion=!0,await e.compact(m,s,a))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=async o=>{throw new yu("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})},e.get=async function(o,s){let a;typeof s.documentLoader=="function"?a=s.documentLoader:a=e.documentLoader;const l=await a(o);try{if(!l.document)throw new yu("No remote document found at the given URL.","jsonld.NullRemoteDocument");wu(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new yu("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(o,s,a){return a=i(a,{base:"",contextResolver:new fc({sharedCache:n})}),s===null?ib(a):(s=If.clone(s),Zd(s)&&"@context"in s||(s={"@context":s}),t6({activeCtx:o,localCtx:s,options:a}))},e.getContextValue=up.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new yu('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,s){t[o]=s},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",nb.parse),e.registerRDFParser("application/nquads",nb.parse),e.url=xd,e.logEventHandler=M$e,e.logWarningEventHandler=L$e,e.safeEventHandler=F$e,e.setDefaultEventHandler=B$e,e.strictEventHandler=z$e,e.unhandledEventHandler=q$e,e.util=If,Object.assign(e,If),e.promises=e,e.RequestQueue=G5(),e.JsonLdProcessor=E$e()(e),e6.setupGlobals(e),e6.setupDocumentLoaders(e);function i(o,{documentLoader:s=e.documentLoader,...a}){if(o&&"compactionMap"in o)throw new yu('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new yu('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:s},a,o,{eventHandler:U$e({options:o})})}return e},mQ=function(){return pQ(function(){return mQ()})};pQ(mQ);var uC={exports:{}},oD={},cl={},Zm={},A0={},xr={},Fy={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((y,S)=>`${y}${S}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((y,S)=>(S instanceof r&&(y[S.str]=(y[S.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function i(h,...E){const y=[h[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(h[++S]);return new n(y)}e._=i;const o=new n("+");function s(h,...E){const y=[m(h[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,m(h[++S]));return l(y),new n(y)}e.str=s;function a(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(c(E))}e.addCodeArg=a;function l(h){let E=1;for(;E<h.length-1;){if(h[E]===o){const y=u(h[E-1],h[E+1]);if(y!==void 0){h.splice(E-1,3,y);continue}h[E++]="+"}E++}}function u(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function f(h,E){return E.emptyStr()?h:h.emptyStr()?E:s`${h}${E}`}e.strConcat=f;function c(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:m(Array.isArray(h)?h.join(","):h)}function p(h){return new n(m(h))}e.stringify=p;function m(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function g(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):i`[${h}]`}e.getProperty=g;function _(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(h){return new n(h.toString())}e.regexpCode=v})(Fy);var cC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Fy;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,c;if(!((c=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||c===void 0)&&c.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:c}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${c}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var c;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const p=this.toName(u),{prefix:m}=p,g=(c=f.key)!==null&&c!==void 0?c:f.ref;let _=this._values[m];if(_){const E=_.get(g);if(E)return E}else _=this._values[m]=new Map;_.set(g,p);const v=this._scope[m]||(this._scope[m]=[]),h=v.length;return v[h]=f.ref,p.setValue(f,{property:m,itemIndex:h}),p}getValue(u,f){const c=this._values[u];if(c)return c.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${u}${c.scopePath}`})}scopeCode(u=this._values,f,c){return this._reduceValues(u,p=>{if(p.value===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return p.value.code},f,c)}_reduceValues(u,f,c={},p){let m=t.nil;for(const g in u){const _=u[g];if(!_)continue;const v=c[g]=c[g]||new Map;_.forEach(h=>{if(v.has(h))return;v.set(h,n.Started);let E=f(h);if(E){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${y} ${h} = ${E};${this.opts._n}`}else if(E=p==null?void 0:p(h))m=(0,t._)`${m}${E}${this.opts._n}`;else throw new r(h);v.set(h,n.Completed)})}return m}}e.ValueScope=a})(cC);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Fy,r=cC;var n=Fy;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=cC;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(C,q){return this}}class s extends o{constructor(C,q,oe){super(),this.varKind=C,this.name=q,this.rhs=oe}render({es5:C,_n:q}){const oe=C?r.varKinds.var:this.varKind,X=this.rhs===void 0?"":` = ${this.rhs}`;return`${oe} ${this.name}${X};`+q}optimizeNames(C,q){if(C[this.name.str])return this.rhs&&(this.rhs=ie(this.rhs,C,q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(C,q,oe){super(),this.lhs=C,this.rhs=q,this.sideEffects=oe}render({_n:C}){return`${this.lhs} = ${this.rhs};`+C}optimizeNames(C,q){if(!(this.lhs instanceof t.Name&&!C[this.lhs.str]&&!this.sideEffects))return this.rhs=ie(this.rhs,C,q),this}get names(){const C=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(C,this.rhs)}}class l extends a{constructor(C,q,oe,X){super(C,oe,X),this.op=q}render({_n:C}){return`${this.lhs} ${this.op}= ${this.rhs};`+C}}class u extends o{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`${this.label}:`+C}}class f extends o{constructor(C){super(),this.label=C,this.names={}}render({_n:C}){return`break${this.label?` ${this.label}`:""};`+C}}class c extends o{constructor(C){super(),this.error=C}render({_n:C}){return`throw ${this.error};`+C}get names(){return this.error.names}}class p extends o{constructor(C){super(),this.code=C}render({_n:C}){return`${this.code};`+C}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(C,q){return this.code=ie(this.code,C,q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends o{constructor(C=[]){super(),this.nodes=C}render(C){return this.nodes.reduce((q,oe)=>q+oe.render(C),"")}optimizeNodes(){const{nodes:C}=this;let q=C.length;for(;q--;){const oe=C[q].optimizeNodes();Array.isArray(oe)?C.splice(q,1,...oe):oe?C[q]=oe:C.splice(q,1)}return C.length>0?this:void 0}optimizeNames(C,q){const{nodes:oe}=this;let X=oe.length;for(;X--;){const ee=oe[X];ee.optimizeNames(C,q)||(W(C,ee.names),oe.splice(X,1))}return oe.length>0?this:void 0}get names(){return this.nodes.reduce((C,q)=>B(C,q.names),{})}}class g extends m{render(C){return"{"+C._n+super.render(C)+"}"+C._n}}class _ extends m{}class v extends g{}v.kind="else";class h extends g{constructor(C,q){super(q),this.condition=C}render(C){let q=`if(${this.condition})`+super.render(C);return this.else&&(q+="else "+this.else.render(C)),q}optimizeNodes(){super.optimizeNodes();const C=this.condition;if(C===!0)return this.nodes;let q=this.else;if(q){const oe=q.optimizeNodes();q=this.else=Array.isArray(oe)?new v(oe):oe}if(q)return C===!1?q instanceof h?q:q.nodes:this.nodes.length?this:new h(ne(C),q instanceof h?[q]:q.nodes);if(!(C===!1||!this.nodes.length))return this}optimizeNames(C,q){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(C,q),!!(super.optimizeNames(C,q)||this.else))return this.condition=ie(this.condition,C,q),this}get names(){const C=super.names;return K(C,this.condition),this.else&&B(C,this.else.names),C}}h.kind="if";class E extends g{}E.kind="for";class y extends E{constructor(C){super(),this.iteration=C}render(C){return`for(${this.iteration})`+super.render(C)}optimizeNames(C,q){if(super.optimizeNames(C,q))return this.iteration=ie(this.iteration,C,q),this}get names(){return B(super.names,this.iteration.names)}}class S extends E{constructor(C,q,oe,X){super(),this.varKind=C,this.name=q,this.from=oe,this.to=X}render(C){const q=C.es5?r.varKinds.var:this.varKind,{name:oe,from:X,to:ee}=this;return`for(${q} ${oe}=${X}; ${oe}<${ee}; ${oe}++)`+super.render(C)}get names(){const C=K(super.names,this.from);return K(C,this.to)}}class T extends E{constructor(C,q,oe,X){super(),this.loop=C,this.varKind=q,this.name=oe,this.iterable=X}render(C){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(C)}optimizeNames(C,q){if(super.optimizeNames(C,q))return this.iterable=ie(this.iterable,C,q),this}get names(){return B(super.names,this.iterable.names)}}class x extends g{constructor(C,q,oe){super(),this.name=C,this.args=q,this.async=oe}render(C){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(C)}}x.kind="func";class d extends m{render(C){return"return "+super.render(C)}}d.kind="return";class $ extends g{render(C){let q="try"+super.render(C);return this.catch&&(q+=this.catch.render(C)),this.finally&&(q+=this.finally.render(C)),q}optimizeNodes(){var C,q;return super.optimizeNodes(),(C=this.catch)===null||C===void 0||C.optimizeNodes(),(q=this.finally)===null||q===void 0||q.optimizeNodes(),this}optimizeNames(C,q){var oe,X;return super.optimizeNames(C,q),(oe=this.catch)===null||oe===void 0||oe.optimizeNames(C,q),(X=this.finally)===null||X===void 0||X.optimizeNames(C,q),this}get names(){const C=super.names;return this.catch&&B(C,this.catch.names),this.finally&&B(C,this.finally.names),C}}class O extends g{constructor(C){super(),this.error=C}render(C){return`catch(${this.error})`+super.render(C)}}O.kind="catch";class P extends g{render(C){return"finally"+super.render(C)}}P.kind="finally";class k{constructor(C,q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...q,_n:q.lines?`
`:""},this._extScope=C,this._scope=new r.Scope({parent:C}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(C){return this._scope.name(C)}scopeName(C){return this._extScope.name(C)}scopeValue(C,q){const oe=this._extScope.value(C,q);return(this._values[oe.prefix]||(this._values[oe.prefix]=new Set)).add(oe),oe}getScopeValue(C,q){return this._extScope.getValue(C,q)}scopeRefs(C){return this._extScope.scopeRefs(C,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(C,q,oe,X){const ee=this._scope.toName(q);return oe!==void 0&&X&&(this._constants[ee.str]=oe),this._leafNode(new s(C,ee,oe)),ee}const(C,q,oe){return this._def(r.varKinds.const,C,q,oe)}let(C,q,oe){return this._def(r.varKinds.let,C,q,oe)}var(C,q,oe){return this._def(r.varKinds.var,C,q,oe)}assign(C,q,oe){return this._leafNode(new a(C,q,oe))}add(C,q){return this._leafNode(new l(C,e.operators.ADD,q))}code(C){return typeof C=="function"?C():C!==t.nil&&this._leafNode(new p(C)),this}object(...C){const q=["{"];for(const[oe,X]of C)q.length>1&&q.push(","),q.push(oe),(oe!==X||this.opts.es5)&&(q.push(":"),(0,t.addCodeArg)(q,X));return q.push("}"),new t._Code(q)}if(C,q,oe){if(this._blockNode(new h(C)),q&&oe)this.code(q).else().code(oe).endIf();else if(q)this.code(q).endIf();else if(oe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(C){return this._elseNode(new h(C))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for(C,q){return this._blockNode(C),q&&this.code(q).endFor(),this}for(C,q){return this._for(new y(C),q)}forRange(C,q,oe,X,ee=this.opts.es5?r.varKinds.var:r.varKinds.let){const se=this._scope.toName(C);return this._for(new S(ee,se,q,oe),()=>X(se))}forOf(C,q,oe,X=r.varKinds.const){const ee=this._scope.toName(C);if(this.opts.es5){const se=q instanceof t.Name?q:this.var("_arr",q);return this.forRange("_i",0,(0,t._)`${se}.length`,we=>{this.var(ee,(0,t._)`${se}[${we}]`),oe(ee)})}return this._for(new T("of",X,ee,q),()=>oe(ee))}forIn(C,q,oe,X=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(C,(0,t._)`Object.keys(${q})`,oe);const ee=this._scope.toName(C);return this._for(new T("in",X,ee,q),()=>oe(ee))}endFor(){return this._endBlockNode(E)}label(C){return this._leafNode(new u(C))}break(C){return this._leafNode(new f(C))}return(C){const q=new d;if(this._blockNode(q),this.code(C),q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(C,q,oe){if(!q&&!oe)throw new Error('CodeGen: "try" without "catch" and "finally"');const X=new $;if(this._blockNode(X),this.code(C),q){const ee=this.name("e");this._currNode=X.catch=new O(ee),q(ee)}return oe&&(this._currNode=X.finally=new P,this.code(oe)),this._endBlockNode(O,P)}throw(C){return this._leafNode(new c(C))}block(C,q){return this._blockStarts.push(this._nodes.length),C&&this.code(C).endBlock(q),this}endBlock(C){const q=this._blockStarts.pop();if(q===void 0)throw new Error("CodeGen: not in self-balancing block");const oe=this._nodes.length-q;if(oe<0||C!==void 0&&oe!==C)throw new Error(`CodeGen: wrong number of nodes: ${oe} vs ${C} expected`);return this._nodes.length=q,this}func(C,q=t.nil,oe,X){return this._blockNode(new x(C,q,oe)),X&&this.code(X).endFunc(),this}endFunc(){return this._endBlockNode(x)}optimize(C=1){for(;C-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(C){return this._currNode.nodes.push(C),this}_blockNode(C){this._currNode.nodes.push(C),this._nodes.push(C)}_endBlockNode(C,q){const oe=this._currNode;if(oe instanceof C||q&&oe instanceof q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${q?`${C.kind}/${q.kind}`:C.kind}"`)}_elseNode(C){const q=this._currNode;if(!(q instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=q.else=C,this}get _root(){return this._nodes[0]}get _currNode(){const C=this._nodes;return C[C.length-1]}set _currNode(C){const q=this._nodes;q[q.length-1]=C}}e.CodeGen=k;function B(R,C){for(const q in C)R[q]=(R[q]||0)+(C[q]||0);return R}function K(R,C){return C instanceof t._CodeOrName?B(R,C.names):R}function ie(R,C,q){if(R instanceof t.Name)return oe(R);if(!X(R))return R;return new t._Code(R._items.reduce((ee,se)=>(se instanceof t.Name&&(se=oe(se)),se instanceof t._Code?ee.push(...se._items):ee.push(se),ee),[]));function oe(ee){const se=q[ee.str];return se===void 0||C[ee.str]!==1?ee:(delete C[ee.str],se)}function X(ee){return ee instanceof t._Code&&ee._items.some(se=>se instanceof t.Name&&C[se.str]===1&&q[se.str]!==void 0)}}function W(R,C){for(const q in C)R[q]=(R[q]||0)-(C[q]||0)}function ne(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,t._)`!${J(R)}`}e.not=ne;const fe=z(e.operators.AND);function re(...R){return R.reduce(fe)}e.and=re;const le=z(e.operators.OR);function F(...R){return R.reduce(le)}e.or=F;function z(R){return(C,q)=>C===t.nil?q:q===t.nil?C:(0,t._)`${J(C)} ${R} ${J(q)}`}function J(R){return R instanceof t.Name?R:(0,t._)`(${R})`}})(xr);var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.checkStrictMode=Jt.getErrorPath=Jt.Type=Jt.useFunc=Jt.setEvaluated=Jt.evaluatedPropsToName=Jt.mergeEvaluated=Jt.eachItem=Jt.unescapeJsonPointer=Jt.escapeJsonPointer=Jt.escapeFragment=Jt.unescapeFragment=Jt.schemaRefOrVal=Jt.schemaHasRulesButRef=Jt.schemaHasRules=Jt.checkUnknownRules=Jt.alwaysValidSchema=Jt.toHash=void 0;const Yn=xr,V$e=Fy;function H$e(e){const t={};for(const r of e)t[r]=!0;return t}Jt.toHash=H$e;function W$e(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(gQ(e,t),!vQ(t,e.self.RULES.all))}Jt.alwaysValidSchema=W$e;function gQ(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||bQ(e,`unknown keyword: "${o}"`)}Jt.checkUnknownRules=gQ;function vQ(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}Jt.schemaHasRules=vQ;function G$e(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}Jt.schemaHasRulesButRef=G$e;function K$e({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Yn._)`${r}`}return(0,Yn._)`${e}${t}${(0,Yn.getProperty)(n)}`}Jt.schemaRefOrVal=K$e;function J$e(e){return yQ(decodeURIComponent(e))}Jt.unescapeFragment=J$e;function Y$e(e){return encodeURIComponent(sD(e))}Jt.escapeFragment=Y$e;function sD(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Jt.escapeJsonPointer=sD;function yQ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Jt.unescapeJsonPointer=yQ;function X$e(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}Jt.eachItem=X$e;function r6({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,s,a)=>{const l=s===void 0?o:s instanceof Yn.Name?(o instanceof Yn.Name?e(i,o,s):t(i,o,s),s):o instanceof Yn.Name?(t(i,s,o),o):r(o,s);return a===Yn.Name&&!(l instanceof Yn.Name)?n(i,l):l}}Jt.mergeEvaluated={props:r6({mergeNames:(e,t,r)=>e.if((0,Yn._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Yn._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Yn._)`${r} || {}`).code((0,Yn._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Yn._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Yn._)`${r} || {}`),aD(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:wQ}),items:r6({mergeNames:(e,t,r)=>e.if((0,Yn._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Yn._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Yn._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Yn._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function wQ(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,Yn._)`{}`);return t!==void 0&&aD(e,r,t),r}Jt.evaluatedPropsToName=wQ;function aD(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Yn._)`${t}${(0,Yn.getProperty)(n)}`,!0))}Jt.setEvaluated=aD;const n6={};function Q$e(e,t){return e.scopeValue("func",{ref:t,code:n6[t.code]||(n6[t.code]=new V$e._Code(t.code))})}Jt.useFunc=Q$e;var fC;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(fC||(Jt.Type=fC={}));function Z$e(e,t,r){if(e instanceof Yn.Name){const n=t===fC.Num;return r?n?(0,Yn._)`"[" + ${e} + "]"`:(0,Yn._)`"['" + ${e} + "']"`:n?(0,Yn._)`"/" + ${e}`:(0,Yn._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Yn.getProperty)(e).toString():"/"+sD(e)}Jt.getErrorPath=Z$e;function bQ(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}Jt.checkStrictMode=bQ;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});const jo=xr,exe={data:new jo.Name("data"),valCxt:new jo.Name("valCxt"),instancePath:new jo.Name("instancePath"),parentData:new jo.Name("parentData"),parentDataProperty:new jo.Name("parentDataProperty"),rootData:new jo.Name("rootData"),dynamicAnchors:new jo.Name("dynamicAnchors"),vErrors:new jo.Name("vErrors"),errors:new jo.Name("errors"),this:new jo.Name("this"),self:new jo.Name("self"),scope:new jo.Name("scope"),json:new jo.Name("json"),jsonPos:new jo.Name("jsonPos"),jsonLen:new jo.Name("jsonLen"),jsonPart:new jo.Name("jsonPart")};Ra.default=exe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=xr,r=Jt,n=Ra;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,t.str)`"${v}" keyword must be ${h} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,h=e.keywordError,E,y){const{it:S}=v,{gen:T,compositeRule:x,allErrors:d}=S,$=c(v,h,E);y??(x||d)?l(T,$):u(S,(0,t._)`[${$}]`)}e.reportError=i;function o(v,h=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:T,allErrors:x}=y,d=c(v,h,E);l(S,d),T||x||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,h){v.assign(n.default.errors,h),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,t._)`${n.default.vErrors}.length`,h),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:h,schemaValue:E,data:y,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const x=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(x,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${x}.instancePath === undefined`,()=>v.assign((0,t._)`${x}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),v.assign((0,t._)`${x}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${h}`),T.opts.verbose&&(v.assign((0,t._)`${x}.schema`,E),v.assign((0,t._)`${x}.data`,y))})}e.extendErrors=a;function l(v,h){const E=v.const("err",h);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,h){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${h})`):(E.assign((0,t._)`${y}.errors`,h),E.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,h,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:p(v,h,E)}function p(v,h,E={}){const{gen:y,it:S}=v,T=[m(S,E),g(v,E)];return _(v,h,T),y.object(...T)}function m({errorPath:v},{instancePath:h}){const E=h?(0,t.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function g({keyword:v,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:y}){let S=y?h:(0,t.str)`${h}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:h,message:E},y){const{keyword:S,data:T,schemaValue:x,it:d}=v,{opts:$,propertyName:O,topSchemaRef:P,schemaPath:k}=d;y.push([f.keyword,S],[f.params,typeof h=="function"?h(v):h||(0,t._)`{}`]),$.messages&&y.push([f.message,typeof E=="function"?E(v):E]),$.verbose&&y.push([f.schema,x],[f.parentSchema,(0,t._)`${P}${k}`],[n.default.data,T]),O&&y.push([f.propertyName,O])}})(A0);Object.defineProperty(Zm,"__esModule",{value:!0});Zm.boolOrEmptySchema=Zm.topBoolOrEmptySchema=void 0;const txe=A0,rxe=xr,nxe=Ra,ixe={message:"boolean schema is false"};function oxe(e){const{gen:t,schema:r,validateName:n}=e;r===!1?_Q(e,!1):typeof r=="object"&&r.$async===!0?t.return(nxe.default.data):(t.assign((0,rxe._)`${n}.errors`,null),t.return(!0))}Zm.topBoolOrEmptySchema=oxe;function sxe(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),_Q(e)):r.var(t,!0)}Zm.boolOrEmptySchema=sxe;function _Q(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,txe.reportError)(i,ixe,void 0,t)}var Qi={},Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.getRules=Xh.isJSONType=void 0;const axe=["string","number","integer","boolean","null","object","array"],lxe=new Set(axe);function uxe(e){return typeof e=="string"&&lxe.has(e)}Xh.isJSONType=uxe;function cxe(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Xh.getRules=cxe;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.shouldUseRule=Nc.shouldUseGroup=Nc.schemaHasRulesForType=void 0;function fxe({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&EQ(e,n)}Nc.schemaHasRulesForType=fxe;function EQ(e,t){return t.rules.some(r=>SQ(e,r))}Nc.shouldUseGroup=EQ;function SQ(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Nc.shouldUseRule=SQ;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.reportTypeError=Qi.checkDataTypes=Qi.checkDataType=Qi.coerceAndCheckDataType=Qi.getJSONTypes=Qi.getSchemaTypes=Qi.DataType=void 0;const dxe=Xh,hxe=Nc,pxe=A0,kr=xr,TQ=Jt;var km;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(km||(Qi.DataType=km={}));function mxe(e){const t=$Q(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Qi.getSchemaTypes=mxe;function $Q(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(dxe.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Qi.getJSONTypes=$Q;function gxe(e,t){const{gen:r,data:n,opts:i}=e,o=vxe(t,i.coerceTypes),s=t.length>0&&!(o.length===0&&t.length===1&&(0,hxe.schemaHasRulesForType)(e,t[0]));if(s){const a=lD(t,n,i.strictNumbers,km.Wrong);r.if(a,()=>{o.length?yxe(e,t,o):uD(e)})}return s}Qi.coerceAndCheckDataType=gxe;const xQ=new Set(["string","number","integer","boolean","null"]);function vxe(e,t){return t?e.filter(r=>xQ.has(r)||t==="array"&&r==="array"):[]}function yxe(e,t,r){const{gen:n,data:i,opts:o}=e,s=n.let("dataType",(0,kr._)`typeof ${i}`),a=n.let("coerced",(0,kr._)`undefined`);o.coerceTypes==="array"&&n.if((0,kr._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,kr._)`${i}[0]`).assign(s,(0,kr._)`typeof ${i}`).if(lD(t,i,o.strictNumbers),()=>n.assign(a,i))),n.if((0,kr._)`${a} !== undefined`);for(const u of r)(xQ.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);n.else(),uD(e),n.endIf(),n.if((0,kr._)`${a} !== undefined`,()=>{n.assign(i,a),wxe(e,a)});function l(u){switch(u){case"string":n.elseIf((0,kr._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,kr._)`"" + ${i}`).elseIf((0,kr._)`${i} === null`).assign(a,(0,kr._)`""`);return;case"number":n.elseIf((0,kr._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,kr._)`+${i}`);return;case"integer":n.elseIf((0,kr._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,kr._)`+${i}`);return;case"boolean":n.elseIf((0,kr._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,kr._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,kr._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,kr._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,kr._)`[${i}]`)}}}function wxe({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,kr._)`${t} !== undefined`,()=>e.assign((0,kr._)`${t}[${r}]`,n))}function dC(e,t,r,n=km.Correct){const i=n===km.Correct?kr.operators.EQ:kr.operators.NEQ;let o;switch(e){case"null":return(0,kr._)`${t} ${i} null`;case"array":o=(0,kr._)`Array.isArray(${t})`;break;case"object":o=(0,kr._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=s((0,kr._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=s();break;default:return(0,kr._)`typeof ${t} ${i} ${e}`}return n===km.Correct?o:(0,kr.not)(o);function s(a=kr.nil){return(0,kr.and)((0,kr._)`typeof ${t} == "number"`,a,r?(0,kr._)`isFinite(${t})`:kr.nil)}}Qi.checkDataType=dC;function lD(e,t,r,n){if(e.length===1)return dC(e[0],t,r,n);let i;const o=(0,TQ.toHash)(e);if(o.array&&o.object){const s=(0,kr._)`typeof ${t} != "object"`;i=o.null?s:(0,kr._)`!${t} || ${s}`,delete o.null,delete o.array,delete o.object}else i=kr.nil;o.number&&delete o.integer;for(const s in o)i=(0,kr.and)(i,dC(s,t,r,n));return i}Qi.checkDataTypes=lD;const bxe={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,kr._)`{type: ${e}}`:(0,kr._)`{type: ${t}}`};function uD(e){const t=_xe(e);(0,pxe.reportError)(t,bxe)}Qi.reportTypeError=uD;function _xe(e){const{gen:t,data:r,schema:n}=e,i=(0,TQ.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var KT={};Object.defineProperty(KT,"__esModule",{value:!0});KT.assignDefaults=void 0;const Mp=xr,Exe=Jt;function Sxe(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)i6(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,o)=>i6(e,o,i.default))}KT.assignDefaults=Sxe;function i6(e,t,r){const{gen:n,compositeRule:i,data:o,opts:s}=e;if(r===void 0)return;const a=(0,Mp._)`${o}${(0,Mp.getProperty)(t)}`;if(i){(0,Exe.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,Mp._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,Mp._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,Mp._)`${a} = ${(0,Mp.stringify)(r)}`)}var ju={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.validateUnion=Qr.validateArray=Qr.usePattern=Qr.callValidateCode=Qr.schemaProperties=Qr.allSchemaProperties=Qr.noPropertyInData=Qr.propertyInData=Qr.isOwnProperty=Qr.hasPropFunc=Qr.reportMissingProp=Qr.checkMissingProp=Qr.checkReportMissingProp=void 0;const si=xr,cD=Jt,bf=Ra,Txe=Jt;function $xe(e,t){const{gen:r,data:n,it:i}=e;r.if(dD(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,si._)`${t}`},!0),e.error()})}Qr.checkReportMissingProp=$xe;function xxe({gen:e,data:t,it:{opts:r}},n,i){return(0,si.or)(...n.map(o=>(0,si.and)(dD(e,t,o,r.ownProperties),(0,si._)`${i} = ${o}`)))}Qr.checkMissingProp=xxe;function Axe(e,t){e.setParams({missingProperty:t},!0),e.error()}Qr.reportMissingProp=Axe;function AQ(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,si._)`Object.prototype.hasOwnProperty`})}Qr.hasPropFunc=AQ;function fD(e,t,r){return(0,si._)`${AQ(e)}.call(${t}, ${r})`}Qr.isOwnProperty=fD;function Oxe(e,t,r,n){const i=(0,si._)`${t}${(0,si.getProperty)(r)} !== undefined`;return n?(0,si._)`${i} && ${fD(e,t,r)}`:i}Qr.propertyInData=Oxe;function dD(e,t,r,n){const i=(0,si._)`${t}${(0,si.getProperty)(r)} === undefined`;return n?(0,si.or)(i,(0,si.not)(fD(e,t,r))):i}Qr.noPropertyInData=dD;function OQ(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Qr.allSchemaProperties=OQ;function Pxe(e,t){return OQ(t).filter(r=>!(0,cD.alwaysValidSchema)(e,t[r]))}Qr.schemaProperties=Pxe;function Rxe({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:s},a,l,u){const f=u?(0,si._)`${e}, ${t}, ${n}${i}`:t,c=[[bf.default.instancePath,(0,si.strConcat)(bf.default.instancePath,o)],[bf.default.parentData,s.parentData],[bf.default.parentDataProperty,s.parentDataProperty],[bf.default.rootData,bf.default.rootData]];s.opts.dynamicRef&&c.push([bf.default.dynamicAnchors,bf.default.dynamicAnchors]);const p=(0,si._)`${f}, ${r.object(...c)}`;return l!==si.nil?(0,si._)`${a}.call(${l}, ${p})`:(0,si._)`${a}(${p})`}Qr.callValidateCode=Rxe;const Nxe=(0,si._)`new RegExp`;function Ixe({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,si._)`${i.code==="new RegExp"?Nxe:(0,Txe.useFunc)(e,i)}(${r}, ${n})`})}Qr.usePattern=Ixe;function Cxe(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const l=t.const("len",(0,si._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:cD.Type.Num},o),t.if((0,si.not)(o),a)})}}Qr.validateArray=Cxe;function kxe(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,cD.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(s,(0,si._)`${s} || ${a}`),e.mergeValidEvaluated(f,a)||t.if((0,si.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}Qr.validateUnion=kxe;Object.defineProperty(ju,"__esModule",{value:!0});ju.validateKeywordUsage=ju.validSchemaType=ju.funcKeywordCode=ju.macroKeywordCode=void 0;const ls=xr,hh=Ra,jxe=Qr,Dxe=A0;function Mxe(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),l=PQ(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const u=r.name("valid");e.subschema({schema:a,schemaPath:ls.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}ju.macroKeywordCode=Mxe;function Lxe(e,t){var r;const{gen:n,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=e;Bxe(l,t);const u=!a&&t.compile?t.compile.call(l.self,o,s,l):t.validate,f=PQ(n,i,u),c=n.let("valid");e.block$data(c,p),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function p(){if(t.errors===!1)_(),t.modifying&&o6(e),v(()=>e.error());else{const h=t.async?m():g();t.modifying&&o6(e),v(()=>Fxe(e,h))}}function m(){const h=n.let("ruleErrs",null);return n.try(()=>_((0,ls._)`await `),E=>n.assign(c,!1).if((0,ls._)`${E} instanceof ${l.ValidationError}`,()=>n.assign(h,(0,ls._)`${E}.errors`),()=>n.throw(E))),h}function g(){const h=(0,ls._)`${f}.errors`;return n.assign(h,null),_(ls.nil),h}function _(h=t.async?(0,ls._)`await `:ls.nil){const E=l.opts.passContext?hh.default.this:hh.default.self,y=!("compile"in t&&!a||t.schema===!1);n.assign(c,(0,ls._)`${h}${(0,jxe.callValidateCode)(e,f,E,y)}`,t.modifying)}function v(h){var E;n.if((0,ls.not)((E=t.valid)!==null&&E!==void 0?E:c),h)}}ju.funcKeywordCode=Lxe;function o6(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ls._)`${n.parentData}[${n.parentDataProperty}]`))}function Fxe(e,t){const{gen:r}=e;r.if((0,ls._)`Array.isArray(${t})`,()=>{r.assign(hh.default.vErrors,(0,ls._)`${hh.default.vErrors} === null ? ${t} : ${hh.default.vErrors}.concat(${t})`).assign(hh.default.errors,(0,ls._)`${hh.default.vErrors}.length`),(0,Dxe.extendErrors)(e)},()=>e.error())}function Bxe({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function PQ(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ls.stringify)(r)})}function Uxe(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ju.validSchemaType=Uxe;function zxe({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}ju.validateKeywordUsage=zxe;var od={};Object.defineProperty(od,"__esModule",{value:!0});od.extendSubschemaMode=od.extendSubschemaData=od.getSubschema=void 0;const Nu=xr,RQ=Jt;function qxe(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Nu._)`${e.schemaPath}${(0,Nu.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Nu._)`${e.schemaPath}${(0,Nu.getProperty)(t)}${(0,Nu.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,RQ.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}od.getSubschema=qxe;function Vxe(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:c}=t,p=a.let("data",(0,Nu._)`${t.data}${(0,Nu.getProperty)(r)}`,!0);l(p),e.errorPath=(0,Nu.str)`${u}${(0,RQ.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,Nu._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Nu.Name?i:a.let("data",i,!0);l(u),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}od.extendSubschemaData=Vxe;function Hxe(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}od.extendSubschemaMode=Hxe;var Eo={},NQ=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r},IQ={exports:{}},Gf=IQ.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};WE(t,n,i,e,"",e)};Gf.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Gf.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Gf.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Gf.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function WE(e,t,r,n,i,o,s,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,s,a,l,u);for(var f in n){var c=n[f];if(Array.isArray(c)){if(f in Gf.arrayKeywords)for(var p=0;p<c.length;p++)WE(e,t,r,c[p],i+"/"+f+"/"+p,o,i,f,n,p)}else if(f in Gf.propsKeywords){if(c&&typeof c=="object")for(var m in c)WE(e,t,r,c[m],i+"/"+f+"/"+Wxe(m),o,i,f,n,m)}else(f in Gf.keywords||e.allKeys&&!(f in Gf.skipKeywords))&&WE(e,t,r,c,i+"/"+f,o,i,f,n)}r(n,i,o,s,a,l,u)}}function Wxe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Gxe=IQ.exports;Object.defineProperty(Eo,"__esModule",{value:!0});Eo.getSchemaRefs=Eo.resolveUrl=Eo.normalizeId=Eo._getFullPath=Eo.getFullPath=Eo.inlineRef=void 0;const Kxe=Jt,Jxe=NQ,Yxe=Gxe,Xxe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Qxe(e,t=!0){return typeof e=="boolean"?!0:t===!0?!hC(e):t?CQ(e)<=t:!1}Eo.inlineRef=Qxe;const Zxe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hC(e){for(const t in e){if(Zxe.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(hC)||typeof r=="object"&&hC(r))return!0}return!1}function CQ(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Xxe.has(r)&&(typeof e[r]=="object"&&(0,Kxe.eachItem)(e[r],n=>t+=CQ(n)),t===1/0))return 1/0}return t}function kQ(e,t="",r){r!==!1&&(t=jm(t));const n=e.parse(t);return jQ(e,n)}Eo.getFullPath=kQ;function jQ(e,t){return e.serialize(t).split("#")[0]+"#"}Eo._getFullPath=jQ;const eAe=/#\/?$/;function jm(e){return e?e.replace(eAe,""):""}Eo.normalizeId=jm;function tAe(e,t,r){return r=jm(r),e.resolve(t,r)}Eo.resolveUrl=tAe;const rAe=/^[a-z_][-a-z0-9._]*$/i;function nAe(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=jm(e[r]||t),o={"":i},s=kQ(n,i,!1),a={},l=new Set;return Yxe(e,{allKeys:!0},(c,p,m,g)=>{if(g===void 0)return;const _=s+p;let v=o[g];typeof c[r]=="string"&&(v=h.call(this,c[r])),E.call(this,c.$anchor),E.call(this,c.$dynamicAnchor),o[p]=v;function h(y){const S=this.opts.uriResolver.resolve;if(y=jm(v?S(v,y):y),l.has(y))throw f(y);l.add(y);let T=this.refs[y];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?u(c,T.schema,y):y!==jm(_)&&(y[0]==="#"?(u(c,a[y],y),a[y]=c):this.refs[y]=_),y}function E(y){if(typeof y=="string"){if(!rAe.test(y))throw new Error(`invalid anchor "${y}"`);h.call(this,`#${y}`)}}}),a;function u(c,p,m){if(p!==void 0&&!Jxe(c,p))throw f(m)}function f(c){return new Error(`reference "${c}" resolves to more than one schema`)}}Eo.getSchemaRefs=nAe;Object.defineProperty(cl,"__esModule",{value:!0});cl.getData=cl.KeywordCxt=cl.validateFunctionCode=void 0;const DQ=Zm,s6=Qi,hD=Nc,m1=Qi,iAe=KT,ty=ju,KA=od,lr=xr,Sr=Ra,oAe=Eo,Ic=Jt,nv=A0;function sAe(e){if(FQ(e)&&(BQ(e),LQ(e))){uAe(e);return}MQ(e,()=>(0,DQ.topBoolOrEmptySchema)(e))}cl.validateFunctionCode=sAe;function MQ({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,lr._)`${Sr.default.data}, ${Sr.default.valCxt}`,n.$async,()=>{e.code((0,lr._)`"use strict"; ${a6(r,i)}`),lAe(e,i),e.code(o)}):e.func(t,(0,lr._)`${Sr.default.data}, ${aAe(i)}`,n.$async,()=>e.code(a6(r,i)).code(o))}function aAe(e){return(0,lr._)`{${Sr.default.instancePath}="", ${Sr.default.parentData}, ${Sr.default.parentDataProperty}, ${Sr.default.rootData}=${Sr.default.data}${e.dynamicRef?(0,lr._)`, ${Sr.default.dynamicAnchors}={}`:lr.nil}}={}`}function lAe(e,t){e.if(Sr.default.valCxt,()=>{e.var(Sr.default.instancePath,(0,lr._)`${Sr.default.valCxt}.${Sr.default.instancePath}`),e.var(Sr.default.parentData,(0,lr._)`${Sr.default.valCxt}.${Sr.default.parentData}`),e.var(Sr.default.parentDataProperty,(0,lr._)`${Sr.default.valCxt}.${Sr.default.parentDataProperty}`),e.var(Sr.default.rootData,(0,lr._)`${Sr.default.valCxt}.${Sr.default.rootData}`),t.dynamicRef&&e.var(Sr.default.dynamicAnchors,(0,lr._)`${Sr.default.valCxt}.${Sr.default.dynamicAnchors}`)},()=>{e.var(Sr.default.instancePath,(0,lr._)`""`),e.var(Sr.default.parentData,(0,lr._)`undefined`),e.var(Sr.default.parentDataProperty,(0,lr._)`undefined`),e.var(Sr.default.rootData,Sr.default.data),t.dynamicRef&&e.var(Sr.default.dynamicAnchors,(0,lr._)`{}`)})}function uAe(e){const{schema:t,opts:r,gen:n}=e;MQ(e,()=>{r.$comment&&t.$comment&&zQ(e),pAe(e),n.let(Sr.default.vErrors,null),n.let(Sr.default.errors,0),r.unevaluated&&cAe(e),UQ(e),vAe(e)})}function cAe(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,lr._)`${r}.evaluated`),t.if((0,lr._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,lr._)`${e.evaluated}.props`,(0,lr._)`undefined`)),t.if((0,lr._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,lr._)`${e.evaluated}.items`,(0,lr._)`undefined`))}function a6(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,lr._)`/*# sourceURL=${r} */`:lr.nil}function fAe(e,t){if(FQ(e)&&(BQ(e),LQ(e))){dAe(e,t);return}(0,DQ.boolOrEmptySchema)(e,t)}function LQ({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function FQ(e){return typeof e.schema!="boolean"}function dAe(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&zQ(e),mAe(e),gAe(e);const o=n.const("_errs",Sr.default.errors);UQ(e,o),n.var(t,(0,lr._)`${o} === ${Sr.default.errors}`)}function BQ(e){(0,Ic.checkUnknownRules)(e),hAe(e)}function UQ(e,t){if(e.opts.jtd)return l6(e,[],!1,t);const r=(0,s6.getSchemaTypes)(e.schema),n=(0,s6.coerceAndCheckDataType)(e,r);l6(e,r,!n,t)}function hAe(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ic.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function pAe(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ic.checkStrictMode)(e,"default is ignored in the schema root")}function mAe(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,oAe.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function gAe(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function zQ({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)e.code((0,lr._)`${Sr.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,lr.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,lr._)`${Sr.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function vAe(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,lr._)`${Sr.default.errors} === 0`,()=>t.return(Sr.default.data),()=>t.throw((0,lr._)`new ${i}(${Sr.default.vErrors})`)):(t.assign((0,lr._)`${n}.errors`,Sr.default.vErrors),o.unevaluated&&yAe(e),t.return((0,lr._)`${Sr.default.errors} === 0`))}function yAe({gen:e,evaluated:t,props:r,items:n}){r instanceof lr.Name&&e.assign((0,lr._)`${t}.props`,r),n instanceof lr.Name&&e.assign((0,lr._)`${t}.items`,n)}function l6(e,t,r,n){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:u}=e,{RULES:f}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Ic.schemaHasRulesButRef)(o,f))){i.block(()=>HQ(e,"$ref",f.all.$ref.definition));return}l.jtd||wAe(e,t),i.block(()=>{for(const p of f.rules)c(p);c(f.post)});function c(p){(0,hD.shouldUseGroup)(o,p)&&(p.type?(i.if((0,m1.checkDataType)(p.type,s,l.strictNumbers)),u6(e,p),t.length===1&&t[0]===p.type&&r&&(i.else(),(0,m1.reportTypeError)(e)),i.endIf()):u6(e,p),a||i.if((0,lr._)`${Sr.default.errors} === ${n||0}`))}}function u6(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,iAe.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,hD.shouldUseRule)(n,o)&&HQ(e,o.keyword,o.definition,t.type)})}function wAe(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(bAe(e,t),e.opts.allowUnionTypes||_Ae(e,t),EAe(e,e.dataTypes))}function bAe(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{qQ(e.dataTypes,r)||pD(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),TAe(e,t)}}function _Ae(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&pD(e,"use allowUnionTypes to allow union type keyword")}function EAe(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,hD.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>SAe(t,s))&&pD(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function SAe(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function qQ(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function TAe(e,t){const r=[];for(const n of e.dataTypes)qQ(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function pD(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ic.checkStrictMode)(e,t,e.opts.strictTypes)}class VQ{constructor(t,r,n){if((0,ty.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ic.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",WQ(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,ty.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Sr.default.errors))}result(t,r,n){this.failResult((0,lr.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,lr.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,lr._)`${r} !== undefined && (${(0,lr.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?nv.reportExtraError:nv.reportError)(this,this.def.error,r)}$dataError(){(0,nv.reportError)(this,this.def.$dataError||nv.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,nv.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=lr.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=lr.nil,r=lr.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:s}=this;n.if((0,lr.or)((0,lr._)`${i} === undefined`,r)),t!==lr.nil&&n.assign(t,!0),(o.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==lr.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,lr.or)(s(),a());function s(){if(n.length){if(!(r instanceof lr.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,lr._)`${(0,m1.checkDataTypes)(l,r,o.opts.strictNumbers,m1.DataType.Wrong)}`}return lr.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,lr._)`!${l}(${r})`}return lr.nil}}subschema(t,r){const n=(0,KA.getSubschema)(this.it,t);(0,KA.extendSubschemaData)(n,this.it,t),(0,KA.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return fAe(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ic.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ic.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,lr.Name)),!0}}cl.KeywordCxt=VQ;function HQ(e,t,r,n){const i=new VQ(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,ty.funcKeywordCode)(i,r):"macro"in r?(0,ty.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,ty.funcKeywordCode)(i,r)}const $Ae=/^\/(?:[^~]|~0|~1)*$/,xAe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function WQ(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(e==="")return Sr.default.rootData;if(e[0]==="/"){if(!$Ae.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=Sr.default.rootData}else{const u=xAe.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(i=u[2],i==="#"){if(f>=t)throw new Error(l("property/index",f));return n[t-f]}if(f>t)throw new Error(l("data",f));if(o=r[t-f],!i)return o}let s=o;const a=i.split("/");for(const u of a)u&&(o=(0,lr._)`${o}${(0,lr.getProperty)((0,Ic.unescapeJsonPointer)(u))}`,s=(0,lr._)`${s} && ${o}`);return s;function l(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}cl.getData=WQ;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});class AAe extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}mg.default=AAe;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});const JA=Eo;class OAe extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,JA.resolveUrl)(t,r,n),this.missingSchema=(0,JA.normalizeId)((0,JA.getFullPath)(t,this.missingRef))}}cp.default=OAe;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.resolveSchema=ds.getCompilingSchema=ds.resolveRef=ds.compileSchema=ds.SchemaEnv=void 0;const kl=xr,PAe=mg,eh=Ra,Wl=Eo,c6=Jt,RAe=cl;class JT{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Wl.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}ds.SchemaEnv=JT;function mD(e){const t=GQ.call(this,e);if(t)return t;const r=(0,Wl.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new kl.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:PAe.default,code:(0,kl._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");e.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:eh.default.data,parentData:eh.default.parentData,parentDataProperty:eh.default.parentDataProperty,dataNames:[eh.default.data],dataPathArr:[kl.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,kl.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:kl.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,kl._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,RAe.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const c=s.toString();f=`${s.scopeRefs(eh.default.scope)}return ${c}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const m=new Function(`${eh.default.self}`,`${eh.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:c,scopeValues:s._values}),this.opts.unevaluated){const{props:g,items:_}=u;m.evaluated={props:g instanceof kl.Name?void 0:g,items:_ instanceof kl.Name?void 0:_,dynamicProps:g instanceof kl.Name,dynamicItems:_ instanceof kl.Name},m.source&&(m.source.evaluated=(0,kl.stringify)(m.evaluated))}return e.validate=m,e}catch(c){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),c}finally{this._compilations.delete(e)}}ds.compileSchema=mD;function NAe(e,t,r){var n;r=(0,Wl.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=kAe.call(this,e,r);if(o===void 0){const s=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(o=new JT({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=IAe.call(this,o)}ds.resolveRef=NAe;function IAe(e){return(0,Wl.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:mD.call(this,e)}function GQ(e){for(const t of this._compilations)if(CAe(t,e))return t}ds.getCompilingSchema=GQ;function CAe(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function kAe(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||YT.call(this,e,t)}function YT(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Wl._getFullPath)(this.opts.uriResolver,r);let i=(0,Wl.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return YA.call(this,r,e);const o=(0,Wl.normalizeId)(n),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=YT.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:YA.call(this,r,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||mD.call(this,s),o===(0,Wl.normalizeId)(t)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,Wl.resolveUrl)(this.opts.uriResolver,i,u)),new JT({schema:a,schemaId:l,root:e,baseId:i})}return YA.call(this,r,s)}}ds.resolveSchema=YT;const jAe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function YA(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,c6.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!jAe.has(a)&&u&&(t=(0,Wl.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,c6.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Wl.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=YT.call(this,n,a)}const{schemaId:s}=this.opts;if(o=o||new JT({schema:r,schemaId:s,root:n,baseId:t}),o.schema!==o.root.schema)return o}const DAe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",MAe="Meta-schema for $data reference (JSON AnySchema extension proposal)",LAe="object",FAe=["$data"],BAe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},UAe=!1,zAe={$id:DAe,description:MAe,type:LAe,required:FAe,properties:BAe,additionalProperties:UAe};var gD={},XT={exports:{}};const qAe=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),KQ=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function JQ(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const VAe=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function f6(e){return e.length=0,!0}function HAe(e,t,r){if(e.length){const n=JQ(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function WAe(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,s=!1,a=HAe;for(let l=0;l<e.length;l++){const u=e[l];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(s=!0),!a(i,n,r))break;if(++t>7){r.error=!0;break}l>0&&e[l-1]===":"&&(o=!0),n.push(":");continue}else if(u==="%"){if(!a(i,n,r))break;a=f6}else{i.push(u);continue}}return i.length&&(a===f6?r.zone=i.join(""):s?n.push(i.join("")):n.push(JQ(i))),r.address=n.join(""),r}function YQ(e){if(GAe(e,":")<2)return{host:e,isIPV6:!1};const t=WAe(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function GAe(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function KAe(e){let t=e;const r=[];let n=-1,i=0;for(;i=t.length;){if(i===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(i===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(i===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function JAe(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function YAe(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!KQ(r)){const n=YQ(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var XQ={nonSimpleDomain:VAe,recomposeAuthority:YAe,normalizeComponentEncoding:JAe,removeDotSegments:KAe,isIPv4:KQ,isUUID:qAe,normalizeIPv6:YQ};const{isUUID:XAe}=XQ,QAe=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function QQ(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function ZQ(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function eZ(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function ZAe(e){return e.secure=QQ(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function eOe(e){if((e.port===(QQ(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function tOe(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(QAe);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=vD(i);e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function rOe(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=vD(i);o&&(e=o.serialize(e,t));const s=e,a=e.nss;return s.path=`${n||t.nid}:${a}`,t.skipEscape=!0,s}function nOe(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!XAe(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function iOe(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const tZ={scheme:"http",domainHost:!0,parse:ZQ,serialize:eZ},oOe={scheme:"https",domainHost:tZ.domainHost,parse:ZQ,serialize:eZ},GE={scheme:"ws",domainHost:!0,parse:ZAe,serialize:eOe},sOe={scheme:"wss",domainHost:GE.domainHost,parse:GE.parse,serialize:GE.serialize},aOe={scheme:"urn",parse:tOe,serialize:rOe,skipNormalize:!0},lOe={scheme:"urn:uuid",parse:nOe,serialize:iOe,skipNormalize:!0},g1={http:tZ,https:oOe,ws:GE,wss:sOe,urn:aOe,"urn:uuid":lOe};Object.setPrototypeOf(g1,null);function vD(e){return e&&(g1[e]||g1[e.toLowerCase()])||void 0}var uOe={SCHEMES:g1,getSchemeHandler:vD};const{normalizeIPv6:cOe,removeDotSegments:Pv,recomposeAuthority:fOe,normalizeComponentEncoding:ob,isIPv4:dOe,nonSimpleDomain:hOe}=XQ,{SCHEMES:pOe,getSchemeHandler:rZ}=uOe;function mOe(e,t){return typeof e=="string"?e=Du(Bc(e,t),t):typeof e=="object"&&(e=Bc(Du(e,t),t)),e}function gOe(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},i=nZ(Bc(e,n),Bc(t,n),n,!0);return n.skipEscape=!0,Du(i,n)}function nZ(e,t,r,n){const i={};return n||(e=Bc(Du(e,r),r),t=Bc(Du(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Pv(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=Pv(t.path||""),i.query=t.query):(t.path?(t.path[0]==="/"?i.path=Pv(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=Pv(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function vOe(e,t,r){return typeof e=="string"?(e=unescape(e),e=Du(ob(Bc(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Du(ob(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Du(ob(Bc(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Du(ob(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Du(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=rZ(n.scheme||r.scheme);o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const s=fOe(r);if(s!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(s),r.path&&r.path[0]!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(a=Pv(a)),s===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),i.push(a)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const yOe=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Bc(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let i=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const o=e.match(yOe);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host)if(dOe(n.host)===!1){const l=cOe(n.host);n.host=l.host.toLowerCase(),i=l.isIPV6}else i=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const s=rZ(r.scheme||n.scheme);if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&i===!1&&hOe(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!s||s&&!s.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const yD={SCHEMES:pOe,normalize:mOe,resolve:gOe,resolveComponent:nZ,equal:vOe,serialize:Du,parse:Bc};XT.exports=yD;XT.exports.default=yD;XT.exports.fastUri=yD;var wOe=XT.exports;Object.defineProperty(gD,"__esModule",{value:!0});const iZ=wOe;iZ.code='require("ajv/dist/runtime/uri").default';gD.default=iZ;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=cl;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=xr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=mg,i=cp,o=Xh,s=ds,a=xr,l=Eo,u=Qi,f=Jt,c=zAe,p=gD,m=(F,z)=>new RegExp(F,z);m.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(F){var z,J,R,C,q,oe,X,ee,se,we,Oe,I,L,M,Z,ue,de,ve,Se,Fe,He,Ve,ut,Qe,Ye;const te=F.strict,j=(z=F.code)===null||z===void 0?void 0:z.optimize,U=j===!0||j===void 0?1:j||0,ce=(R=(J=F.code)===null||J===void 0?void 0:J.regExp)!==null&&R!==void 0?R:m,Te=(C=F.uriResolver)!==null&&C!==void 0?C:p.default;return{strictSchema:(oe=(q=F.strictSchema)!==null&&q!==void 0?q:te)!==null&&oe!==void 0?oe:!0,strictNumbers:(ee=(X=F.strictNumbers)!==null&&X!==void 0?X:te)!==null&&ee!==void 0?ee:!0,strictTypes:(we=(se=F.strictTypes)!==null&&se!==void 0?se:te)!==null&&we!==void 0?we:"log",strictTuples:(I=(Oe=F.strictTuples)!==null&&Oe!==void 0?Oe:te)!==null&&I!==void 0?I:"log",strictRequired:(M=(L=F.strictRequired)!==null&&L!==void 0?L:te)!==null&&M!==void 0?M:!1,code:F.code?{...F.code,optimize:U,regExp:ce}:{optimize:U,regExp:ce},loopRequired:(Z=F.loopRequired)!==null&&Z!==void 0?Z:E,loopEnum:(ue=F.loopEnum)!==null&&ue!==void 0?ue:E,meta:(de=F.meta)!==null&&de!==void 0?de:!0,messages:(ve=F.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(Se=F.inlineRefs)!==null&&Se!==void 0?Se:!0,schemaId:(Fe=F.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(He=F.addUsedSchema)!==null&&He!==void 0?He:!0,validateSchema:(Ve=F.validateSchema)!==null&&Ve!==void 0?Ve:!0,validateFormats:(ut=F.validateFormats)!==null&&ut!==void 0?ut:!0,unicodeRegExp:(Qe=F.unicodeRegExp)!==null&&Qe!==void 0?Qe:!0,int32range:(Ye=F.int32range)!==null&&Ye!==void 0?Ye:!0,uriResolver:Te}}class S{constructor(z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,z=this.opts={...z,...y(z)};const{es5:J,lines:R}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:J,lines:R}),this.logger=B(z.logger);const C=z.validateFormats;z.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,v,z,"NOT SUPPORTED"),T.call(this,h,z,"DEPRECATED","warn"),this._metaOpts=P.call(this),z.formats&&$.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),z.keywords&&O.call(this,z.keywords),typeof z.meta=="object"&&this.addMetaSchema(z.meta),d.call(this),z.validateFormats=C}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:z,meta:J,schemaId:R}=this.opts;let C=c;R==="id"&&(C={...c},C.id=C.$id,delete C.$id),J&&z&&this.addMetaSchema(C,C[R],!1)}defaultMeta(){const{meta:z,schemaId:J}=this.opts;return this.opts.defaultMeta=typeof z=="object"?z[J]||z:void 0}validate(z,J){let R;if(typeof z=="string"){if(R=this.getSchema(z),!R)throw new Error(`no schema with key or ref "${z}"`)}else R=this.compile(z);const C=R(J);return"$async"in R||(this.errors=R.errors),C}compile(z,J){const R=this._addSchema(z,J);return R.validate||this._compileSchemaEnv(R)}compileAsync(z,J){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:R}=this.opts;return C.call(this,z,J);async function C(we,Oe){await q.call(this,we.$schema);const I=this._addSchema(we,Oe);return I.validate||oe.call(this,I)}async function q(we){we&&!this.getSchema(we)&&await C.call(this,{$ref:we},!0)}async function oe(we){try{return this._compileSchemaEnv(we)}catch(Oe){if(!(Oe instanceof i.default))throw Oe;return X.call(this,Oe),await ee.call(this,Oe.missingSchema),oe.call(this,we)}}function X({missingSchema:we,missingRef:Oe}){if(this.refs[we])throw new Error(`AnySchema ${we} is loaded but ${Oe} cannot be resolved`)}async function ee(we){const Oe=await se.call(this,we);this.refs[we]||await q.call(this,Oe.$schema),this.refs[we]||this.addSchema(Oe,we,J)}async function se(we){const Oe=this._loading[we];if(Oe)return Oe;try{return await(this._loading[we]=R(we))}finally{delete this._loading[we]}}}addSchema(z,J,R,C=this.opts.validateSchema){if(Array.isArray(z)){for(const oe of z)this.addSchema(oe,void 0,R,C);return this}let q;if(typeof z=="object"){const{schemaId:oe}=this.opts;if(q=z[oe],q!==void 0&&typeof q!="string")throw new Error(`schema ${oe} must be string`)}return J=(0,l.normalizeId)(J||q),this._checkUnique(J),this.schemas[J]=this._addSchema(z,R,J,C,!0),this}addMetaSchema(z,J,R=this.opts.validateSchema){return this.addSchema(z,J,!0,R),this}validateSchema(z,J){if(typeof z=="boolean")return!0;let R;if(R=z.$schema,R!==void 0&&typeof R!="string")throw new Error("$schema must be a string");if(R=R||this.opts.defaultMeta||this.defaultMeta(),!R)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const C=this.validate(R,z);if(!C&&J){const q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(q);else throw new Error(q)}return C}getSchema(z){let J;for(;typeof(J=x.call(this,z))=="string";)z=J;if(J===void 0){const{schemaId:R}=this.opts,C=new s.SchemaEnv({schema:{},schemaId:R});if(J=s.resolveSchema.call(this,C,z),!J)return;this.refs[z]=J}return J.validate||this._compileSchemaEnv(J)}removeSchema(z){if(z instanceof RegExp)return this._removeAllSchemas(this.schemas,z),this._removeAllSchemas(this.refs,z),this;switch(typeof z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const J=x.call(this,z);return typeof J=="object"&&this._cache.delete(J.schema),delete this.schemas[z],delete this.refs[z],this}case"object":{const J=z;this._cache.delete(J);let R=z[this.opts.schemaId];return R&&(R=(0,l.normalizeId)(R),delete this.schemas[R],delete this.refs[R]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(z){for(const J of z)this.addKeyword(J);return this}addKeyword(z,J){let R;if(typeof z=="string")R=z,typeof J=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),J.keyword=R);else if(typeof z=="object"&&J===void 0){if(J=z,R=J.keyword,Array.isArray(R)&&!R.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ie.call(this,R,J),!J)return(0,f.eachItem)(R,q=>W.call(this,q)),this;fe.call(this,J);const C={...J,type:(0,u.getJSONTypes)(J.type),schemaType:(0,u.getJSONTypes)(J.schemaType)};return(0,f.eachItem)(R,C.type.length===0?q=>W.call(this,q,C):q=>C.type.forEach(oe=>W.call(this,q,C,oe))),this}getKeyword(z){const J=this.RULES.all[z];return typeof J=="object"?J.definition:!!J}removeKeyword(z){const{RULES:J}=this;delete J.keywords[z],delete J.all[z];for(const R of J.rules){const C=R.rules.findIndex(q=>q.keyword===z);C>=0&&R.rules.splice(C,1)}return this}addFormat(z,J){return typeof J=="string"&&(J=new RegExp(J)),this.formats[z]=J,this}errorsText(z=this.errors,{separator:J=", ",dataVar:R="data"}={}){return!z||z.length===0?"No errors":z.map(C=>`${R}${C.instancePath} ${C.message}`).reduce((C,q)=>C+J+q)}$dataMetaSchema(z,J){const R=this.RULES.all;z=JSON.parse(JSON.stringify(z));for(const C of J){const q=C.split("/").slice(1);let oe=z;for(const X of q)oe=oe[X];for(const X in R){const ee=R[X];if(typeof ee!="object")continue;const{$data:se}=ee.definition,we=oe[X];se&&we&&(oe[X]=le(we))}}return z}_removeAllSchemas(z,J){for(const R in z){const C=z[R];(!J||J.test(R))&&(typeof C=="string"?delete z[R]:C&&!C.meta&&(this._cache.delete(C.schema),delete z[R]))}}_addSchema(z,J,R,C=this.opts.validateSchema,q=this.opts.addUsedSchema){let oe;const{schemaId:X}=this.opts;if(typeof z=="object")oe=z[X];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof z!="boolean")throw new Error("schema must be object or boolean")}let ee=this._cache.get(z);if(ee!==void 0)return ee;R=(0,l.normalizeId)(oe||R);const se=l.getSchemaRefs.call(this,z,R);return ee=new s.SchemaEnv({schema:z,schemaId:X,meta:J,baseId:R,localRefs:se}),this._cache.set(ee.schema,ee),q&&!R.startsWith("#")&&(R&&this._checkUnique(R),this.refs[R]=ee),C&&this.validateSchema(z,!0),ee}_checkUnique(z){if(this.schemas[z]||this.refs[z])throw new Error(`schema with key or id "${z}" already exists`)}_compileSchemaEnv(z){if(z.meta?this._compileMetaSchema(z):s.compileSchema.call(this,z),!z.validate)throw new Error("ajv implementation error");return z.validate}_compileMetaSchema(z){const J=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,z)}finally{this.opts=J}}}S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function T(F,z,J,R="error"){for(const C in F){const q=C;q in z&&this.logger[R](`${J}: option ${C}. ${F[q]}`)}}function x(F){return F=(0,l.normalizeId)(F),this.schemas[F]||this.refs[F]}function d(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const z in F)this.addSchema(F[z],z)}function $(){for(const F in this.opts.formats){const z=this.opts.formats[F];z&&this.addFormat(F,z)}}function O(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in F){const J=F[z];J.keyword||(J.keyword=z),this.addKeyword(J)}}function P(){const F={...this.opts};for(const z of g)delete F[z];return F}const k={log(){},warn(){},error(){}};function B(F){if(F===!1)return k;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function ie(F,z){const{RULES:J}=this;if((0,f.eachItem)(F,R=>{if(J.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!K.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function W(F,z,J){var R;const C=z==null?void 0:z.post;if(J&&C)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:q}=this;let oe=C?q.post:q.rules.find(({type:ee})=>ee===J);if(oe||(oe={type:J,rules:[]},q.rules.push(oe)),q.keywords[F]=!0,!z)return;const X={keyword:F,definition:{...z,type:(0,u.getJSONTypes)(z.type),schemaType:(0,u.getJSONTypes)(z.schemaType)}};z.before?ne.call(this,oe,X,z.before):oe.rules.push(X),q.all[F]=X,(R=z.implements)===null||R===void 0||R.forEach(ee=>this.addKeyword(ee))}function ne(F,z,J){const R=F.rules.findIndex(C=>C.keyword===J);R>=0?F.rules.splice(R,0,z):(F.rules.push(z),this.logger.warn(`rule ${J} is not defined`))}function fe(F){let{metaSchema:z}=F;z!==void 0&&(F.$data&&this.opts.$data&&(z=le(z)),F.validateSchema=this.compile(z,!0))}const re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function le(F){return{anyOf:[F,re]}}})(oD);var QT={},wD={},bD={};Object.defineProperty(bD,"__esModule",{value:!0});const bOe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};bD.default=bOe;var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.callRef=Uc.getValidate=void 0;const _Oe=cp,d6=Qr,Ds=xr,Lp=Ra,h6=ds,sb=Jt,EOe={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return c();const f=h6.resolveRef.call(l,u,i,r);if(f===void 0)throw new _Oe.default(n.opts.uriResolver,i,r);if(f instanceof h6.SchemaEnv)return p(f);return m(f);function c(){if(o===u)return KE(e,s,o,o.$async);const g=t.scopeValue("root",{ref:u});return KE(e,(0,Ds._)`${g}.validate`,u,u.$async)}function p(g){const _=oZ(e,g);KE(e,_,g,g.$async)}function m(g){const _=t.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,Ds.stringify)(g)}:{ref:g}),v=t.name("valid"),h=e.subschema({schema:g,dataTypes:[],schemaPath:Ds.nil,topSchemaRef:_,errSchemaPath:r},v);e.mergeEvaluated(h),e.ok(v)}}};function oZ(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ds._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Uc.getValidate=oZ;function KE(e,t,r,n){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:l}=o,u=l.passContext?Lp.default.this:Ds.nil;n?f():c();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=i.let("valid");i.try(()=>{i.code((0,Ds._)`await ${(0,d6.callValidateCode)(e,t,u)}`),m(t),s||i.assign(g,!0)},_=>{i.if((0,Ds._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),p(_),s||i.assign(g,!1)}),e.ok(g)}function c(){e.result((0,d6.callValidateCode)(e,t,u),()=>m(t),()=>p(t))}function p(g){const _=(0,Ds._)`${g}.errors`;i.assign(Lp.default.vErrors,(0,Ds._)`${Lp.default.vErrors} === null ? ${_} : ${Lp.default.vErrors}.concat(${_})`),i.assign(Lp.default.errors,(0,Ds._)`${Lp.default.vErrors}.length`)}function m(g){var _;if(!o.opts.unevaluated)return;const v=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=sb.mergeEvaluated.props(i,v.props,o.props));else{const h=i.var("props",(0,Ds._)`${g}.evaluated.props`);o.props=sb.mergeEvaluated.props(i,h,o.props,Ds.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=sb.mergeEvaluated.items(i,v.items,o.items));else{const h=i.var("items",(0,Ds._)`${g}.evaluated.items`);o.items=sb.mergeEvaluated.items(i,h,o.items,Ds.Name)}}}Uc.callRef=KE;Uc.default=EOe;Object.defineProperty(wD,"__esModule",{value:!0});const SOe=bD,TOe=Uc,$Oe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",SOe.default,TOe.default];wD.default=$Oe;var _D={},ED={};Object.defineProperty(ED,"__esModule",{value:!0});const v1=xr,_f=v1.operators,y1={maximum:{okStr:"<=",ok:_f.LTE,fail:_f.GT},minimum:{okStr:">=",ok:_f.GTE,fail:_f.LT},exclusiveMaximum:{okStr:"<",ok:_f.LT,fail:_f.GTE},exclusiveMinimum:{okStr:">",ok:_f.GT,fail:_f.LTE}},xOe={message:({keyword:e,schemaCode:t})=>(0,v1.str)`must be ${y1[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,v1._)`{comparison: ${y1[e].okStr}, limit: ${t}}`},AOe={keyword:Object.keys(y1),type:"number",schemaType:"number",$data:!0,error:xOe,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,v1._)`${r} ${y1[t].fail} ${n} || isNaN(${r})`)}};ED.default=AOe;var SD={};Object.defineProperty(SD,"__esModule",{value:!0});const ry=xr,OOe={message:({schemaCode:e})=>(0,ry.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ry._)`{multipleOf: ${e}}`},POe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:OOe,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,ry._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,ry._)`${s} !== parseInt(${s})`;e.fail$data((0,ry._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};SD.default=POe;var TD={},$D={};Object.defineProperty($D,"__esModule",{value:!0});function sZ(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}$D.default=sZ;sZ.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(TD,"__esModule",{value:!0});const ph=xr,ROe=Jt,NOe=$D,IOe={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,ph.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,ph._)`{limit: ${e}}`},COe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:IOe,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?ph.operators.GT:ph.operators.LT,s=i.opts.unicode===!1?(0,ph._)`${r}.length`:(0,ph._)`${(0,ROe.useFunc)(e.gen,NOe.default)}(${r})`;e.fail$data((0,ph._)`${s} ${o} ${n}`)}};TD.default=COe;var xD={};Object.defineProperty(xD,"__esModule",{value:!0});const kOe=Qr,w1=xr,jOe={message:({schemaCode:e})=>(0,w1.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,w1._)`{pattern: ${e}}`},DOe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:jOe,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=r?(0,w1._)`(new RegExp(${i}, ${s}))`:(0,kOe.usePattern)(e,n);e.fail$data((0,w1._)`!${a}.test(${t})`)}};xD.default=DOe;var AD={};Object.defineProperty(AD,"__esModule",{value:!0});const ny=xr,MOe={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,ny.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ny._)`{limit: ${e}}`},LOe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:MOe,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?ny.operators.GT:ny.operators.LT;e.fail$data((0,ny._)`Object.keys(${r}).length ${i} ${n}`)}};AD.default=LOe;var OD={};Object.defineProperty(OD,"__esModule",{value:!0});const iv=Qr,iy=xr,FOe=Jt,BOe={message:({params:{missingProperty:e}})=>(0,iy.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,iy._)`{missingProperty: ${e}}`},UOe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:BOe,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&r.length===0)return;const l=r.length>=a.loopRequired;if(s.allErrors?u():f(),a.strictRequired){const m=e.parentSchema.properties,{definedProperties:g}=e.it;for(const _ of r)if((m==null?void 0:m[_])===void 0&&!g.has(_)){const v=s.schemaEnv.baseId+s.errSchemaPath,h=`required property "${_}" is not defined at "${v}" (strictRequired)`;(0,FOe.checkStrictMode)(s,h,s.opts.strictRequired)}}function u(){if(l||o)e.block$data(iy.nil,c);else for(const m of r)(0,iv.checkReportMissingProp)(e,m)}function f(){const m=t.let("missing");if(l||o){const g=t.let("valid",!0);e.block$data(g,()=>p(m,g)),e.ok(g)}else t.if((0,iv.checkMissingProp)(e,r,m)),(0,iv.reportMissingProp)(e,m),t.else()}function c(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,iv.noPropertyInData)(t,i,m,a.ownProperties),()=>e.error())})}function p(m,g){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(g,(0,iv.propertyInData)(t,i,m,a.ownProperties)),t.if((0,iy.not)(g),()=>{e.error(),t.break()})},iy.nil)}}};OD.default=UOe;var PD={};Object.defineProperty(PD,"__esModule",{value:!0});const oy=xr,zOe={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,oy.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,oy._)`{limit: ${e}}`},qOe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:zOe,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?oy.operators.GT:oy.operators.LT;e.fail$data((0,oy._)`${r}.length ${i} ${n}`)}};PD.default=qOe;var RD={},O0={};Object.defineProperty(O0,"__esModule",{value:!0});const aZ=NQ;aZ.code='require("ajv/dist/runtime/equal").default';O0.default=aZ;Object.defineProperty(RD,"__esModule",{value:!0});const XA=Qi,bo=xr,VOe=Jt,HOe=O0,WOe={message:({params:{i:e,j:t}})=>(0,bo.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,bo._)`{i: ${e}, j: ${t}}`},GOe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:WOe,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=o.items?(0,XA.getSchemaTypes)(o.items):[];e.block$data(l,f,(0,bo._)`${s} === false`),e.ok(l);function f(){const g=t.let("i",(0,bo._)`${r}.length`),_=t.let("j");e.setParams({i:g,j:_}),t.assign(l,!0),t.if((0,bo._)`${g} > 1`,()=>(c()?p:m)(g,_))}function c(){return u.length>0&&!u.some(g=>g==="object"||g==="array")}function p(g,_){const v=t.name("item"),h=(0,XA.checkDataTypes)(u,v,a.opts.strictNumbers,XA.DataType.Wrong),E=t.const("indices",(0,bo._)`{}`);t.for((0,bo._)`;${g}--;`,()=>{t.let(v,(0,bo._)`${r}[${g}]`),t.if(h,(0,bo._)`continue`),u.length>1&&t.if((0,bo._)`typeof ${v} == "string"`,(0,bo._)`${v} += "_"`),t.if((0,bo._)`typeof ${E}[${v}] == "number"`,()=>{t.assign(_,(0,bo._)`${E}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,bo._)`${E}[${v}] = ${g}`)})}function m(g,_){const v=(0,VOe.useFunc)(t,HOe.default),h=t.name("outer");t.label(h).for((0,bo._)`;${g}--;`,()=>t.for((0,bo._)`${_} = ${g}; ${_}--;`,()=>t.if((0,bo._)`${v}(${r}[${g}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(h)})))}}};RD.default=GOe;var ND={};Object.defineProperty(ND,"__esModule",{value:!0});const pC=xr,KOe=Jt,JOe=O0,YOe={message:"must be equal to constant",params:({schemaCode:e})=>(0,pC._)`{allowedValue: ${e}}`},XOe={keyword:"const",$data:!0,error:YOe,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,pC._)`!${(0,KOe.useFunc)(t,JOe.default)}(${r}, ${i})`):e.fail((0,pC._)`${o} !== ${r}`)}};ND.default=XOe;var ID={};Object.defineProperty(ID,"__esModule",{value:!0});const Rv=xr,QOe=Jt,ZOe=O0,ePe={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Rv._)`{allowedValues: ${e}}`},tPe={keyword:"enum",schemaType:"array",$data:!0,error:ePe,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:s}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,QOe.useFunc)(t,ZOe.default));let f;if(a||n)f=t.let("valid"),e.block$data(f,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",o);f=(0,Rv.or)(...i.map((g,_)=>p(m,_)))}e.pass(f);function c(){t.assign(f,!1),t.forOf("v",o,m=>t.if((0,Rv._)`${u()}(${r}, ${m})`,()=>t.assign(f,!0).break()))}function p(m,g){const _=i[g];return typeof _=="object"&&_!==null?(0,Rv._)`${u()}(${r}, ${m}[${g}])`:(0,Rv._)`${r} === ${_}`}}};ID.default=tPe;Object.defineProperty(_D,"__esModule",{value:!0});const rPe=ED,nPe=SD,iPe=TD,oPe=xD,sPe=AD,aPe=OD,lPe=PD,uPe=RD,cPe=ND,fPe=ID,dPe=[rPe.default,nPe.default,iPe.default,oPe.default,sPe.default,aPe.default,lPe.default,uPe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},cPe.default,fPe.default];_D.default=dPe;var CD={},gg={};Object.defineProperty(gg,"__esModule",{value:!0});gg.validateAdditionalItems=void 0;const mh=xr,mC=Jt,hPe={message:({params:{len:e}})=>(0,mh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,mh._)`{limit: ${e}}`},pPe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:hPe,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,mC.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}lZ(e,n)}};function lZ(e,t){const{gen:r,schema:n,data:i,keyword:o,it:s}=e;s.items=!0;const a=r.const("len",(0,mh._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,mh._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,mC.alwaysValidSchema)(s,n)){const u=r.var("valid",(0,mh._)`${a} <= ${t.length}`);r.if((0,mh.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:mC.Type.Num},u),s.allErrors||r.if((0,mh.not)(u),()=>r.break())})}}gg.validateAdditionalItems=lZ;gg.default=pPe;var kD={},vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.validateTuple=void 0;const p6=xr,JE=Jt,mPe=Qr,gPe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return uZ(e,"additionalItems",t);r.items=!0,!(0,JE.alwaysValidSchema)(r,t)&&e.ok((0,mPe.validateArray)(e))}};function uZ(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:s,it:a}=e;f(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=JE.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,p6._)`${o}.length`);r.forEach((c,p)=>{(0,JE.alwaysValidSchema)(a,c)||(n.if((0,p6._)`${u} > ${p}`,()=>e.subschema({keyword:s,schemaProp:p,dataProp:p},l)),e.ok(l))});function f(c){const{opts:p,errSchemaPath:m}=a,g=r.length,_=g===c.minItems&&(g===c.maxItems||c[t]===!1);if(p.strictTuples&&!_){const v=`"${s}" is ${g}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,JE.checkStrictMode)(a,v,p.strictTuples)}}}vg.validateTuple=uZ;vg.default=gPe;Object.defineProperty(kD,"__esModule",{value:!0});const vPe=vg,yPe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,vPe.validateTuple)(e,"items")};kD.default=yPe;var jD={};Object.defineProperty(jD,"__esModule",{value:!0});const m6=xr,wPe=Jt,bPe=Qr,_Pe=gg,EPe={message:({params:{len:e}})=>(0,m6.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,m6._)`{limit: ${e}}`},SPe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:EPe,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,wPe.alwaysValidSchema)(n,t)&&(i?(0,_Pe.validateAdditionalItems)(e,i):e.ok((0,bPe.validateArray)(e)))}};jD.default=SPe;var DD={};Object.defineProperty(DD,"__esModule",{value:!0});const Ga=xr,ab=Jt,TPe={message:({params:{min:e,max:t}})=>t===void 0?(0,Ga.str)`must contain at least ${e} valid item(s)`:(0,Ga.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ga._)`{minContains: ${e}}`:(0,Ga._)`{minContains: ${e}, maxContains: ${t}}`},$Pe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:TPe,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let s,a;const{minContains:l,maxContains:u}=n;o.opts.next?(s=l===void 0?1:l,a=u):s=1;const f=t.const("len",(0,Ga._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,ab.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,ab.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ab.alwaysValidSchema)(o,r)){let _=(0,Ga._)`${f} >= ${s}`;a!==void 0&&(_=(0,Ga._)`${_} && ${f} <= ${a}`),e.pass(_);return}o.items=!0;const c=t.name("valid");a===void 0&&s===1?m(c,()=>t.if(c,()=>t.break())):s===0?(t.let(c,!0),a!==void 0&&t.if((0,Ga._)`${i}.length > 0`,p)):(t.let(c,!1),p()),e.result(c,()=>e.reset());function p(){const _=t.name("_valid"),v=t.let("count",0);m(_,()=>t.if(_,()=>g(v)))}function m(_,v){t.forRange("i",0,f,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:ab.Type.Num,compositeRule:!0},_),v()})}function g(_){t.code((0,Ga._)`${_}++`),a===void 0?t.if((0,Ga._)`${_} >= ${s}`,()=>t.assign(c,!0).break()):(t.if((0,Ga._)`${_} > ${a}`,()=>t.assign(c,!1).break()),s===1?t.assign(c,!0):t.if((0,Ga._)`${_} >= ${s}`,()=>t.assign(c,!0)))}}};DD.default=$Pe;var ZT={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=xr,r=Jt,n=Qr;e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const p=Array.isArray(l[c])?u:f;p[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:p}=l;if(Object.keys(u).length===0)return;const m=f.let("missing");for(const g in u){const _=u[g];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,g,p.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),p.allErrors?f.if(v,()=>{for(const h of _)(0,n.checkReportMissingProp)(l,h)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,m)})`),(0,n.reportMissingProp)(l,m),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:p,it:m}=l,g=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(m,u[_])||(f.if((0,n.propertyInData)(f,c,_,m.opts.ownProperties),()=>{const v=l.subschema({keyword:p,schemaProp:_},g);l.mergeValidEvaluated(v,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=a,e.default=i})(ZT);var MD={};Object.defineProperty(MD,"__esModule",{value:!0});const cZ=xr,xPe=Jt,APe={message:"property name must be valid",params:({params:e})=>(0,cZ._)`{propertyName: ${e.propertyName}}`},OPe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:APe,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,xPe.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,cZ.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};MD.default=OPe;var e$={};Object.defineProperty(e$,"__esModule",{value:!0});const lb=Qr,Ll=xr,PPe=Ra,ub=Jt,RPe={message:"must NOT have additional properties",params:({params:e})=>(0,Ll._)`{additionalProperty: ${e.additionalProperty}}`},NPe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:RPe,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,ub.alwaysValidSchema)(s,r))return;const u=(0,lb.allSchemaProperties)(n.properties),f=(0,lb.allSchemaProperties)(n.patternProperties);c(),e.ok((0,Ll._)`${o} === ${PPe.default.errors}`);function c(){t.forIn("key",i,v=>{!u.length&&!f.length?g(v):t.if(p(v),()=>g(v))})}function p(v){let h;if(u.length>8){const E=(0,ub.schemaRefOrVal)(s,n.properties,"properties");h=(0,lb.isOwnProperty)(t,E,v)}else u.length?h=(0,Ll.or)(...u.map(E=>(0,Ll._)`${v} === ${E}`)):h=Ll.nil;return f.length&&(h=(0,Ll.or)(h,...f.map(E=>(0,Ll._)`${(0,lb.usePattern)(e,E)}.test(${v})`))),(0,Ll.not)(h)}function m(v){t.code((0,Ll._)`delete ${i}[${v}]`)}function g(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,ub.alwaysValidSchema)(s,r)){const h=t.name("valid");l.removeAdditional==="failing"?(_(v,h,!1),t.if((0,Ll.not)(h),()=>{e.reset(),m(v)})):(_(v,h),a||t.if((0,Ll.not)(h),()=>t.break()))}}function _(v,h,E){const y={keyword:"additionalProperties",dataProp:v,dataPropType:ub.Type.Str};E===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,h)}}};e$.default=NPe;var LD={};Object.defineProperty(LD,"__esModule",{value:!0});const IPe=cl,g6=Qr,QA=Jt,v6=e$,CPe={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&v6.default.code(new IPe.KeywordCxt(o,v6.default,"additionalProperties"));const s=(0,g6.allSchemaProperties)(r);for(const c of s)o.definedProperties.add(c);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=QA.mergeEvaluated.props(t,(0,QA.toHash)(s),o.props));const a=s.filter(c=>!(0,QA.alwaysValidSchema)(o,r[c]));if(a.length===0)return;const l=t.name("valid");for(const c of a)u(c)?f(c):(t.if((0,g6.propertyInData)(t,i,c,o.opts.ownProperties)),f(c),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function u(c){return o.opts.useDefaults&&!o.compositeRule&&r[c].default!==void 0}function f(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};LD.default=CPe;var FD={};Object.defineProperty(FD,"__esModule",{value:!0});const y6=Qr,cb=xr,w6=Jt,b6=Jt,kPe={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,y6.allSchemaProperties)(r),l=a.filter(_=>(0,w6.alwaysValidSchema)(o,r[_]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof cb.Name)&&(o.props=(0,b6.evaluatedPropsToName)(t,o.props));const{props:c}=o;p();function p(){for(const _ of a)u&&m(_),o.allErrors?g(_):(t.var(f,!0),g(_),t.if(f))}function m(_){for(const v in u)new RegExp(_).test(v)&&(0,w6.checkStrictMode)(o,`property ${v} matches pattern ${_} (use allowMatchingProperties)`)}function g(_){t.forIn("key",n,v=>{t.if((0,cb._)`${(0,y6.usePattern)(e,_)}.test(${v})`,()=>{const h=l.includes(_);h||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:v,dataPropType:b6.Type.Str},f),o.opts.unevaluated&&c!==!0?t.assign((0,cb._)`${c}[${v}]`,!0):!h&&!o.allErrors&&t.if((0,cb.not)(f),()=>t.break())})})}}};FD.default=kPe;var BD={};Object.defineProperty(BD,"__esModule",{value:!0});const jPe=Jt,DPe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,jPe.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};BD.default=DPe;var UD={};Object.defineProperty(UD,"__esModule",{value:!0});const MPe=Qr,LPe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:MPe.validateUnion,error:{message:"must match a schema in anyOf"}};UD.default=LPe;var zD={};Object.defineProperty(zD,"__esModule",{value:!0});const YE=xr,FPe=Jt,BPe={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,YE._)`{passingSchemas: ${e.passing}}`},UPe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:BPe,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,s=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,c)=>{let p;(0,FPe.alwaysValidSchema)(i,f)?t.var(l,!0):p=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,YE._)`${l} && ${s}`).assign(s,!1).assign(a,(0,YE._)`[${a}, ${c}]`).else(),t.if(l,()=>{t.assign(s,!0),t.assign(a,c),p&&e.mergeEvaluated(p,YE.Name)})})}}};zD.default=UPe;var qD={};Object.defineProperty(qD,"__esModule",{value:!0});const zPe=Jt,qPe={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,s)=>{if((0,zPe.alwaysValidSchema)(n,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};qD.default=qPe;var VD={};Object.defineProperty(VD,"__esModule",{value:!0});const b1=xr,fZ=Jt,VPe={message:({params:e})=>(0,b1.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,b1._)`{failingKeyword: ${e.ifClause}}`},HPe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:VPe,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,fZ.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=_6(n,"then"),o=_6(n,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(a,u("then",f),u("else",f))}else i?t.if(a,u("then")):t.if((0,b1.not)(a),u("else"));e.pass(s,()=>e.error(!0));function l(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(f)}function u(f,c){return()=>{const p=e.subschema({keyword:f},a);t.assign(s,a),e.mergeValidEvaluated(p,s),c?t.assign(c,(0,b1._)`${f}`):e.setParams({ifClause:f})}}}};function _6(e,t){const r=e.schema[t];return r!==void 0&&!(0,fZ.alwaysValidSchema)(e,r)}VD.default=HPe;var HD={};Object.defineProperty(HD,"__esModule",{value:!0});const WPe=Jt,GPe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,WPe.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};HD.default=GPe;Object.defineProperty(CD,"__esModule",{value:!0});const KPe=gg,JPe=kD,YPe=vg,XPe=jD,QPe=DD,ZPe=ZT,eRe=MD,tRe=e$,rRe=LD,nRe=FD,iRe=BD,oRe=UD,sRe=zD,aRe=qD,lRe=VD,uRe=HD;function cRe(e=!1){const t=[iRe.default,oRe.default,sRe.default,aRe.default,lRe.default,uRe.default,eRe.default,tRe.default,ZPe.default,rRe.default,nRe.default];return e?t.push(JPe.default,XPe.default):t.push(KPe.default,YPe.default),t.push(QPe.default),t}CD.default=cRe;var WD={},GD={};Object.defineProperty(GD,"__esModule",{value:!0});const Ri=xr,fRe={message:({schemaCode:e})=>(0,Ri.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ri._)`{format: ${e}}`},dRe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:fRe,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:f,self:c}=a;if(!l.validateFormats)return;i?p():m();function p(){const g=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),_=r.const("fDef",(0,Ri._)`${g}[${s}]`),v=r.let("fType"),h=r.let("format");r.if((0,Ri._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(v,(0,Ri._)`${_}.type || "string"`).assign(h,(0,Ri._)`${_}.validate`),()=>r.assign(v,(0,Ri._)`"string"`).assign(h,_)),e.fail$data((0,Ri.or)(E(),y()));function E(){return l.strictSchema===!1?Ri.nil:(0,Ri._)`${s} && !${h}`}function y(){const S=f.$async?(0,Ri._)`(${_}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,Ri._)`${h}(${n})`,T=(0,Ri._)`(typeof ${h} == "function" ? ${S} : ${h}.test(${n}))`;return(0,Ri._)`${h} && ${h} !== true && ${v} === ${t} && !${T}`}}function m(){const g=c.formats[o];if(!g){E();return}if(g===!0)return;const[_,v,h]=y(g);_===t&&e.pass(S());function E(){if(l.strictSchema===!1){c.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function y(T){const x=T instanceof RegExp?(0,Ri.regexpCode)(T):l.code.formats?(0,Ri._)`${l.code.formats}${(0,Ri.getProperty)(o)}`:void 0,d=r.scopeValue("formats",{key:o,ref:T,code:x});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,Ri._)`${d}.validate`]:["string",T,d]}function S(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Ri._)`await ${h}(${n})`}return typeof v=="function"?(0,Ri._)`${h}(${n})`:(0,Ri._)`${h}.test(${n})`}}}};GD.default=dRe;Object.defineProperty(WD,"__esModule",{value:!0});const hRe=GD,pRe=[hRe.default];WD.default=pRe;var eg={};Object.defineProperty(eg,"__esModule",{value:!0});eg.contentVocabulary=eg.metadataVocabulary=void 0;eg.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];eg.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(QT,"__esModule",{value:!0});const mRe=wD,gRe=_D,vRe=CD,yRe=WD,E6=eg,wRe=[mRe.default,gRe.default,(0,vRe.default)(),yRe.default,E6.metadataVocabulary,E6.contentVocabulary];QT.default=wRe;var t$={},r$={};Object.defineProperty(r$,"__esModule",{value:!0});r$.DiscrError=void 0;var S6;(function(e){e.Tag="tag",e.Mapping="mapping"})(S6||(r$.DiscrError=S6={}));Object.defineProperty(t$,"__esModule",{value:!0});const Xp=xr,gC=r$,T6=ds,bRe=cp,_Re=Jt,ERe={message:({params:{discrError:e,tagName:t}})=>e===gC.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Xp._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},SRe={keyword:"discriminator",type:"object",schemaType:"object",error:ERe,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Xp._)`${r}${(0,Xp.getProperty)(a)}`);t.if((0,Xp._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:gC.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function f(){const m=p();t.if(!1);for(const g in m)t.elseIf((0,Xp._)`${u} === ${g}`),t.assign(l,c(m[g]));t.else(),e.error(!1,{discrError:gC.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function c(m){const g=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:m},g);return e.mergeEvaluated(_,Xp.Name),g}function p(){var m;const g={},_=h(i);let v=!0;for(let S=0;S<s.length;S++){let T=s[S];if(T!=null&&T.$ref&&!(0,_Re.schemaHasRulesButRef)(T,o.self.RULES)){const d=T.$ref;if(T=T6.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,d),T instanceof T6.SchemaEnv&&(T=T.schema),T===void 0)throw new bRe.default(o.opts.uriResolver,o.baseId,d)}const x=(m=T==null?void 0:T.properties)===null||m===void 0?void 0:m[a];if(typeof x!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(_||h(T)),E(x,S)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return g;function h({required:S}){return Array.isArray(S)&&S.includes(a)}function E(S,T){if(S.const)y(S.const,T);else if(S.enum)for(const x of S.enum)y(x,T);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function y(S,T){if(typeof S!="string"||S in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[S]=T}}}};t$.default=SRe;const TRe="http://json-schema.org/draft-07/schema#",$Re="http://json-schema.org/draft-07/schema#",xRe="Core schema meta-schema",ARe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ORe=["object","boolean"],PRe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dZ={$schema:TRe,$id:$Re,title:xRe,definitions:ARe,type:ORe,properties:PRe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=oD,n=QT,i=t$,o=dZ,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=cl;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=xr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=mg;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var p=cp;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(uC,uC.exports);var RRe=uC.exports,vC={exports:{}},hZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(k,B){return{validate:k,compare:B}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(p(!0),m),"iso-time":t(l(),f),"iso-date-time":t(p(),g),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:h,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:P,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:x},int64:{type:"number",validate:d},float:{type:"number",validate:$},double:{type:"number",validate:$},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,g),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(k){return k%4===0&&(k%100!==0||k%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(k){const B=n.exec(k);if(!B)return!1;const K=+B[1],ie=+B[2],W=+B[3];return ie>=1&&ie<=12&&W>=1&&W<=(ie===2&&r(K)?29:i[ie])}function s(k,B){if(k&&B)return k>B?1:k<B?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(k){return function(K){const ie=a.exec(K);if(!ie)return!1;const W=+ie[1],ne=+ie[2],fe=+ie[3],re=ie[4],le=ie[5]==="-"?-1:1,F=+(ie[6]||0),z=+(ie[7]||0);if(F>23||z>59||k&&!re)return!1;if(W<=23&&ne<=59&&fe<60)return!0;const J=ne-z*le,R=W-F*le-(J<0?1:0);return(R===23||R===-1)&&(J===59||J===-1)&&fe<61}}function u(k,B){if(!(k&&B))return;const K=new Date("2020-01-01T"+k).valueOf(),ie=new Date("2020-01-01T"+B).valueOf();if(K&&ie)return K-ie}function f(k,B){if(!(k&&B))return;const K=a.exec(k),ie=a.exec(B);if(K&&ie)return k=K[1]+K[2]+K[3],B=ie[1]+ie[2]+ie[3],k>B?1:k<B?-1:0}const c=/t|\s/i;function p(k){const B=l(k);return function(ie){const W=ie.split(c);return W.length===2&&o(W[0])&&B(W[1])}}function m(k,B){if(!(k&&B))return;const K=new Date(k).valueOf(),ie=new Date(B).valueOf();if(K&&ie)return K-ie}function g(k,B){if(!(k&&B))return;const[K,ie]=k.split(c),[W,ne]=B.split(c),fe=s(K,W);if(fe!==void 0)return fe||u(ie,ne)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function h(k){return _.test(k)&&v.test(k)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(k){return E.lastIndex=0,E.test(k)}const S=-2147483648,T=2**31-1;function x(k){return Number.isInteger(k)&&k<=T&&k>=S}function d(k){return Number.isInteger(k)}function $(){return!0}const O=/[^\\]\\Z/;function P(k){if(O.test(k))return!1;try{return new RegExp(k),!0}catch{return!1}}})(hZ);var pZ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=RRe,r=xr,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:p}=a,{opts:m,self:g}=p;if(!m.validateFormats)return;const _=new t.KeywordCxt(p,g.RULES.all.format.definition,"format");_.$data?v():h();function v(){const y=l.scopeValue("formats",{ref:g.formats,code:m.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function h(){const y=_.schema,S=g.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const T=l.scopeValue("formats",{key:y,ref:S,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E(T))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};const s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s})(pZ);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=hZ,n=pZ,i=xr,o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,p]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],m=f.formats||r.formatNames;return l(u,m,c,p),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const p=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!p)throw new Error(`Unknown format "${u}"`);return p};function l(u,f,c,p){var m,g;(m=(g=u.opts.code).formats)!==null&&m!==void 0||(g.formats=(0,i._)`require("ajv-formats/dist/formats").${p}`);for(const _ of f)u.addFormat(_,c[_])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(vC,vC.exports);var NRe=vC.exports;const IRe=Wu(NRe);var CRe={exports:{}},yC={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(uo,function(r){function n(){for(var ye=arguments.length,me=Array(ye),$e=0;$e<ye;$e++)me[$e]=arguments[$e];if(me.length>1){me[0]=me[0].slice(0,-1);for(var Me=me.length-1,De=1;De<Me;++De)me[De]=me[De].slice(1,-1);return me[Me]=me[Me].slice(1),me.join("")}else return me[0]}function i(ye){return"(?:"+ye+")"}function o(ye){return ye===void 0?"undefined":ye===null?"null":Object.prototype.toString.call(ye).split(" ").pop().split("]").shift().toLowerCase()}function s(ye){return ye.toUpperCase()}function a(ye){return ye!=null?ye instanceof Array?ye:typeof ye.length!="number"||ye.split||ye.setInterval||ye.call?[ye]:Array.prototype.slice.call(ye):[]}function l(ye,me){var $e=ye;if(me)for(var Me in me)$e[Me]=me[Me];return $e}function u(ye){var me="[A-Za-z]",$e="[0-9]",Me=n($e,"[A-Fa-f]"),De=i(i("%[EFef]"+Me+"%"+Me+Me+"%"+Me+Me)+"|"+i("%[89A-Fa-f]"+Me+"%"+Me+Me)+"|"+i("%"+Me+Me)),dt="[\\:\\/\\?\\#\\[\\]\\@]",mt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",At=n(dt,mt),Ht=ye?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Xt=ye?"[\\uE000-\\uF8FF]":"[]",Ft=n(me,$e,"[\\-\\.\\_\\~]",Ht);i(me+n(me,$e,"[\\+\\-\\.]")+"*"),i(i(De+"|"+n(Ft,mt,"[\\:]"))+"*");var qt=i(i("25[0-5]")+"|"+i("2[0-4]"+$e)+"|"+i("1"+$e+$e)+"|"+i("0?[1-9]"+$e)+"|0?0?"+$e),ur=i(qt+"\\."+qt+"\\."+qt+"\\."+qt),It=i(Me+"{1,4}"),nr=i(i(It+"\\:"+It)+"|"+ur),Zt=i(i(It+"\\:")+"{6}"+nr),Ut=i("\\:\\:"+i(It+"\\:")+"{5}"+nr),Fr=i(i(It)+"?\\:\\:"+i(It+"\\:")+"{4}"+nr),mn=i(i(i(It+"\\:")+"{0,1}"+It)+"?\\:\\:"+i(It+"\\:")+"{3}"+nr),Zr=i(i(i(It+"\\:")+"{0,2}"+It)+"?\\:\\:"+i(It+"\\:")+"{2}"+nr),ni=i(i(i(It+"\\:")+"{0,3}"+It)+"?\\:\\:"+It+"\\:"+nr),Hn=i(i(i(It+"\\:")+"{0,4}"+It)+"?\\:\\:"+nr),nn=i(i(i(It+"\\:")+"{0,5}"+It)+"?\\:\\:"+It),vn=i(i(i(It+"\\:")+"{0,6}"+It)+"?\\:\\:"),$i=i([Zt,Ut,Fr,mn,Zr,ni,Hn,nn,vn].join("|")),Wn=i(i(Ft+"|"+De)+"+");i("[vV]"+Me+"+\\."+n(Ft,mt,"[\\:]")+"+"),i(i(De+"|"+n(Ft,mt))+"*");var zi=i(De+"|"+n(Ft,mt,"[\\:\\@]"));return i(i(De+"|"+n(Ft,mt,"[\\@]"))+"+"),i(i(zi+"|"+n("[\\/\\?]",Xt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",me,$e,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Ft,mt),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Ft,mt),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Ft,mt),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Ft,mt),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Ft,mt,"[\\:\\@\\/\\?]",Xt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Ft,mt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Ft,mt),"g"),UNRESERVED:new RegExp(Ft,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Ft,At),"g"),PCT_ENCODED:new RegExp(De,"g"),IPV4ADDRESS:new RegExp("^("+ur+")$"),IPV6ADDRESS:new RegExp("^\\[?("+$i+")"+i(i("\\%25|\\%(?!"+Me+"{2})")+"("+Wn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),p=function(){function ye(me,$e){var Me=[],De=!0,dt=!1,mt=void 0;try{for(var At=me[Symbol.iterator](),Ht;!(De=(Ht=At.next()).done)&&(Me.push(Ht.value),!($e&&Me.length===$e));De=!0);}catch(Xt){dt=!0,mt=Xt}finally{try{!De&&At.return&&At.return()}finally{if(dt)throw mt}}return Me}return function(me,$e){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return ye(me,$e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(ye){if(Array.isArray(ye)){for(var me=0,$e=Array(ye.length);me<ye.length;me++)$e[me]=ye[me];return $e}else return Array.from(ye)},g=2147483647,_=36,v=1,h=26,E=38,y=700,S=72,T=128,x="-",d=/^xn--/,$=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=_-v,B=Math.floor,K=String.fromCharCode;function ie(ye){throw new RangeError(P[ye])}function W(ye,me){for(var $e=[],Me=ye.length;Me--;)$e[Me]=me(ye[Me]);return $e}function ne(ye,me){var $e=ye.split("@"),Me="";$e.length>1&&(Me=$e[0]+"@",ye=$e[1]),ye=ye.replace(O,".");var De=ye.split("."),dt=W(De,me).join(".");return Me+dt}function fe(ye){for(var me=[],$e=0,Me=ye.length;$e<Me;){var De=ye.charCodeAt($e++);if(De>=55296&&De<=56319&&$e<Me){var dt=ye.charCodeAt($e++);(dt&64512)==56320?me.push(((De&1023)<<10)+(dt&1023)+65536):(me.push(De),$e--)}else me.push(De)}return me}var re=function(me){return String.fromCodePoint.apply(String,m(me))},le=function(me){return me-48<10?me-22:me-65<26?me-65:me-97<26?me-97:_},F=function(me,$e){return me+22+75*(me<26)-(($e!=0)<<5)},z=function(me,$e,Me){var De=0;for(me=Me?B(me/y):me>>1,me+=B(me/$e);me>k*h>>1;De+=_)me=B(me/k);return B(De+(k+1)*me/(me+E))},J=function(me){var $e=[],Me=me.length,De=0,dt=T,mt=S,At=me.lastIndexOf(x);At<0&&(At=0);for(var Ht=0;Ht<At;++Ht)me.charCodeAt(Ht)>=128&&ie("not-basic"),$e.push(me.charCodeAt(Ht));for(var Xt=At>0?At+1:0;Xt<Me;){for(var Ft=De,qt=1,ur=_;;ur+=_){Xt>=Me&&ie("invalid-input");var It=le(me.charCodeAt(Xt++));(It>=_||It>B((g-De)/qt))&&ie("overflow"),De+=It*qt;var nr=ur<=mt?v:ur>=mt+h?h:ur-mt;if(It<nr)break;var Zt=_-nr;qt>B(g/Zt)&&ie("overflow"),qt*=Zt}var Ut=$e.length+1;mt=z(De-Ft,Ut,Ft==0),B(De/Ut)>g-dt&&ie("overflow"),dt+=B(De/Ut),De%=Ut,$e.splice(De++,0,dt)}return String.fromCodePoint.apply(String,$e)},R=function(me){var $e=[];me=fe(me);var Me=me.length,De=T,dt=0,mt=S,At=!0,Ht=!1,Xt=void 0;try{for(var Ft=me[Symbol.iterator](),qt;!(At=(qt=Ft.next()).done);At=!0){var ur=qt.value;ur<128&&$e.push(K(ur))}}catch(Zn){Ht=!0,Xt=Zn}finally{try{!At&&Ft.return&&Ft.return()}finally{if(Ht)throw Xt}}var It=$e.length,nr=It;for(It&&$e.push(x);nr<Me;){var Zt=g,Ut=!0,Fr=!1,mn=void 0;try{for(var Zr=me[Symbol.iterator](),ni;!(Ut=(ni=Zr.next()).done);Ut=!0){var Hn=ni.value;Hn>=De&&Hn<Zt&&(Zt=Hn)}}catch(Zn){Fr=!0,mn=Zn}finally{try{!Ut&&Zr.return&&Zr.return()}finally{if(Fr)throw mn}}var nn=nr+1;Zt-De>B((g-dt)/nn)&&ie("overflow"),dt+=(Zt-De)*nn,De=Zt;var vn=!0,$i=!1,Wn=void 0;try{for(var zi=me[Symbol.iterator](),Ss;!(vn=(Ss=zi.next()).done);vn=!0){var Wo=Ss.value;if(Wo<De&&++dt>g&&ie("overflow"),Wo==De){for(var on=dt,Gn=_;;Gn+=_){var xi=Gn<=mt?v:Gn>=mt+h?h:Gn-mt;if(on<xi)break;var Na=on-xi,Go=_-xi;$e.push(K(F(xi+Na%Go,0))),on=B(Na/Go)}$e.push(K(F(on,0))),mt=z(dt,nn,nr==It),dt=0,++nr}}}catch(Zn){$i=!0,Wn=Zn}finally{try{!vn&&zi.return&&zi.return()}finally{if($i)throw Wn}}++dt,++De}return $e.join("")},C=function(me){return ne(me,function($e){return d.test($e)?J($e.slice(4).toLowerCase()):$e})},q=function(me){return ne(me,function($e){return $.test($e)?"xn--"+R($e):$e})},oe={version:"2.1.0",ucs2:{decode:fe,encode:re},decode:J,encode:R,toASCII:q,toUnicode:C},X={};function ee(ye){var me=ye.charCodeAt(0),$e=void 0;return me<16?$e="%0"+me.toString(16).toUpperCase():me<128?$e="%"+me.toString(16).toUpperCase():me<2048?$e="%"+(me>>6|192).toString(16).toUpperCase()+"%"+(me&63|128).toString(16).toUpperCase():$e="%"+(me>>12|224).toString(16).toUpperCase()+"%"+(me>>6&63|128).toString(16).toUpperCase()+"%"+(me&63|128).toString(16).toUpperCase(),$e}function se(ye){for(var me="",$e=0,Me=ye.length;$e<Me;){var De=parseInt(ye.substr($e+1,2),16);if(De<128)me+=String.fromCharCode(De),$e+=3;else if(De>=194&&De<224){if(Me-$e>=6){var dt=parseInt(ye.substr($e+4,2),16);me+=String.fromCharCode((De&31)<<6|dt&63)}else me+=ye.substr($e,6);$e+=6}else if(De>=224){if(Me-$e>=9){var mt=parseInt(ye.substr($e+4,2),16),At=parseInt(ye.substr($e+7,2),16);me+=String.fromCharCode((De&15)<<12|(mt&63)<<6|At&63)}else me+=ye.substr($e,9);$e+=9}else me+=ye.substr($e,3),$e+=3}return me}function we(ye,me){function $e(Me){var De=se(Me);return De.match(me.UNRESERVED)?De:Me}return ye.scheme&&(ye.scheme=String(ye.scheme).replace(me.PCT_ENCODED,$e).toLowerCase().replace(me.NOT_SCHEME,"")),ye.userinfo!==void 0&&(ye.userinfo=String(ye.userinfo).replace(me.PCT_ENCODED,$e).replace(me.NOT_USERINFO,ee).replace(me.PCT_ENCODED,s)),ye.host!==void 0&&(ye.host=String(ye.host).replace(me.PCT_ENCODED,$e).toLowerCase().replace(me.NOT_HOST,ee).replace(me.PCT_ENCODED,s)),ye.path!==void 0&&(ye.path=String(ye.path).replace(me.PCT_ENCODED,$e).replace(ye.scheme?me.NOT_PATH:me.NOT_PATH_NOSCHEME,ee).replace(me.PCT_ENCODED,s)),ye.query!==void 0&&(ye.query=String(ye.query).replace(me.PCT_ENCODED,$e).replace(me.NOT_QUERY,ee).replace(me.PCT_ENCODED,s)),ye.fragment!==void 0&&(ye.fragment=String(ye.fragment).replace(me.PCT_ENCODED,$e).replace(me.NOT_FRAGMENT,ee).replace(me.PCT_ENCODED,s)),ye}function Oe(ye){return ye.replace(/^0*(.*)/,"$1")||"0"}function I(ye,me){var $e=ye.match(me.IPV4ADDRESS)||[],Me=p($e,2),De=Me[1];return De?De.split(".").map(Oe).join("."):ye}function L(ye,me){var $e=ye.match(me.IPV6ADDRESS)||[],Me=p($e,3),De=Me[1],dt=Me[2];if(De){for(var mt=De.toLowerCase().split("::").reverse(),At=p(mt,2),Ht=At[0],Xt=At[1],Ft=Xt?Xt.split(":").map(Oe):[],qt=Ht.split(":").map(Oe),ur=me.IPV4ADDRESS.test(qt[qt.length-1]),It=ur?7:8,nr=qt.length-It,Zt=Array(It),Ut=0;Ut<It;++Ut)Zt[Ut]=Ft[Ut]||qt[nr+Ut]||"";ur&&(Zt[It-1]=I(Zt[It-1],me));var Fr=Zt.reduce(function(nn,vn,$i){if(!vn||vn==="0"){var Wn=nn[nn.length-1];Wn&&Wn.index+Wn.length===$i?Wn.length++:nn.push({index:$i,length:1})}return nn},[]),mn=Fr.sort(function(nn,vn){return vn.length-nn.length})[0],Zr=void 0;if(mn&&mn.length>1){var ni=Zt.slice(0,mn.index),Hn=Zt.slice(mn.index+mn.length);Zr=ni.join(":")+"::"+Hn.join(":")}else Zr=Zt.join(":");return dt&&(Zr+="%"+dt),Zr}else return ye}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Z="".match(/(){0}/)[1]===void 0;function ue(ye){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e={},Me=me.iri!==!1?c:f;me.reference==="suffix"&&(ye=(me.scheme?me.scheme+":":"")+"//"+ye);var De=ye.match(M);if(De){Z?($e.scheme=De[1],$e.userinfo=De[3],$e.host=De[4],$e.port=parseInt(De[5],10),$e.path=De[6]||"",$e.query=De[7],$e.fragment=De[8],isNaN($e.port)&&($e.port=De[5])):($e.scheme=De[1]||void 0,$e.userinfo=ye.indexOf("@")!==-1?De[3]:void 0,$e.host=ye.indexOf("//")!==-1?De[4]:void 0,$e.port=parseInt(De[5],10),$e.path=De[6]||"",$e.query=ye.indexOf("?")!==-1?De[7]:void 0,$e.fragment=ye.indexOf("#")!==-1?De[8]:void 0,isNaN($e.port)&&($e.port=ye.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?De[4]:void 0)),$e.host&&($e.host=L(I($e.host,Me),Me)),$e.scheme===void 0&&$e.userinfo===void 0&&$e.host===void 0&&$e.port===void 0&&!$e.path&&$e.query===void 0?$e.reference="same-document":$e.scheme===void 0?$e.reference="relative":$e.fragment===void 0?$e.reference="absolute":$e.reference="uri",me.reference&&me.reference!=="suffix"&&me.reference!==$e.reference&&($e.error=$e.error||"URI is not a "+me.reference+" reference.");var dt=X[(me.scheme||$e.scheme||"").toLowerCase()];if(!me.unicodeSupport&&(!dt||!dt.unicodeSupport)){if($e.host&&(me.domainHost||dt&&dt.domainHost))try{$e.host=oe.toASCII($e.host.replace(Me.PCT_ENCODED,se).toLowerCase())}catch(mt){$e.error=$e.error||"Host's domain name can not be converted to ASCII via punycode: "+mt}we($e,f)}else we($e,Me);dt&&dt.parse&&dt.parse($e,me)}else $e.error=$e.error||"URI can not be parsed.";return $e}function de(ye,me){var $e=me.iri!==!1?c:f,Me=[];return ye.userinfo!==void 0&&(Me.push(ye.userinfo),Me.push("@")),ye.host!==void 0&&Me.push(L(I(String(ye.host),$e),$e).replace($e.IPV6ADDRESS,function(De,dt,mt){return"["+dt+(mt?"%25"+mt:"")+"]"})),(typeof ye.port=="number"||typeof ye.port=="string")&&(Me.push(":"),Me.push(String(ye.port))),Me.length?Me.join(""):void 0}var ve=/^\.\.?\//,Se=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,He=/^\/?(?:.|\n)*?(?=\/|$)/;function Ve(ye){for(var me=[];ye.length;)if(ye.match(ve))ye=ye.replace(ve,"");else if(ye.match(Se))ye=ye.replace(Se,"/");else if(ye.match(Fe))ye=ye.replace(Fe,"/"),me.pop();else if(ye==="."||ye==="..")ye="";else{var $e=ye.match(He);if($e){var Me=$e[0];ye=ye.slice(Me.length),me.push(Me)}else throw new Error("Unexpected dot segment condition")}return me.join("")}function ut(ye){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e=me.iri?c:f,Me=[],De=X[(me.scheme||ye.scheme||"").toLowerCase()];if(De&&De.serialize&&De.serialize(ye,me),ye.host&&!$e.IPV6ADDRESS.test(ye.host)){if(me.domainHost||De&&De.domainHost)try{ye.host=me.iri?oe.toUnicode(ye.host):oe.toASCII(ye.host.replace($e.PCT_ENCODED,se).toLowerCase())}catch(At){ye.error=ye.error||"Host's domain name can not be converted to "+(me.iri?"Unicode":"ASCII")+" via punycode: "+At}}we(ye,$e),me.reference!=="suffix"&&ye.scheme&&(Me.push(ye.scheme),Me.push(":"));var dt=de(ye,me);if(dt!==void 0&&(me.reference!=="suffix"&&Me.push("//"),Me.push(dt),ye.path&&ye.path.charAt(0)!=="/"&&Me.push("/")),ye.path!==void 0){var mt=ye.path;!me.absolutePath&&(!De||!De.absolutePath)&&(mt=Ve(mt)),dt===void 0&&(mt=mt.replace(/^\/\//,"/%2F")),Me.push(mt)}return ye.query!==void 0&&(Me.push("?"),Me.push(ye.query)),ye.fragment!==void 0&&(Me.push("#"),Me.push(ye.fragment)),Me.join("")}function Qe(ye,me){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Me=arguments[3],De={};return Me||(ye=ue(ut(ye,$e),$e),me=ue(ut(me,$e),$e)),$e=$e||{},!$e.tolerant&&me.scheme?(De.scheme=me.scheme,De.userinfo=me.userinfo,De.host=me.host,De.port=me.port,De.path=Ve(me.path||""),De.query=me.query):(me.userinfo!==void 0||me.host!==void 0||me.port!==void 0?(De.userinfo=me.userinfo,De.host=me.host,De.port=me.port,De.path=Ve(me.path||""),De.query=me.query):(me.path?(me.path.charAt(0)==="/"?De.path=Ve(me.path):((ye.userinfo!==void 0||ye.host!==void 0||ye.port!==void 0)&&!ye.path?De.path="/"+me.path:ye.path?De.path=ye.path.slice(0,ye.path.lastIndexOf("/")+1)+me.path:De.path=me.path,De.path=Ve(De.path)),De.query=me.query):(De.path=ye.path,me.query!==void 0?De.query=me.query:De.query=ye.query),De.userinfo=ye.userinfo,De.host=ye.host,De.port=ye.port),De.scheme=ye.scheme),De.fragment=me.fragment,De}function Ye(ye,me,$e){var Me=l({scheme:"null"},$e);return ut(Qe(ue(ye,Me),ue(me,Me),Me,!0),Me)}function te(ye,me){return typeof ye=="string"?ye=ut(ue(ye,me),me):o(ye)==="object"&&(ye=ue(ut(ye,me),me)),ye}function j(ye,me,$e){return typeof ye=="string"?ye=ut(ue(ye,$e),$e):o(ye)==="object"&&(ye=ut(ye,$e)),typeof me=="string"?me=ut(ue(me,$e),$e):o(me)==="object"&&(me=ut(me,$e)),ye===me}function U(ye,me){return ye&&ye.toString().replace(!me||!me.iri?f.ESCAPE:c.ESCAPE,ee)}function ce(ye,me){return ye&&ye.toString().replace(!me||!me.iri?f.PCT_ENCODED:c.PCT_ENCODED,se)}var Te={scheme:"http",domainHost:!0,parse:function(me,$e){return me.host||(me.error=me.error||"HTTP URIs must have a host."),me},serialize:function(me,$e){var Me=String(me.scheme).toLowerCase()==="https";return(me.port===(Me?443:80)||me.port==="")&&(me.port=void 0),me.path||(me.path="/"),me}},Re={scheme:"https",domainHost:Te.domainHost,parse:Te.parse,serialize:Te.serialize};function ze(ye){return typeof ye.secure=="boolean"?ye.secure:String(ye.scheme).toLowerCase()==="wss"}var Be={scheme:"ws",domainHost:!0,parse:function(me,$e){var Me=me;return Me.secure=ze(Me),Me.resourceName=(Me.path||"/")+(Me.query?"?"+Me.query:""),Me.path=void 0,Me.query=void 0,Me},serialize:function(me,$e){if((me.port===(ze(me)?443:80)||me.port==="")&&(me.port=void 0),typeof me.secure=="boolean"&&(me.scheme=me.secure?"wss":"ws",me.secure=void 0),me.resourceName){var Me=me.resourceName.split("?"),De=p(Me,2),dt=De[0],mt=De[1];me.path=dt&&dt!=="/"?dt:void 0,me.query=mt,me.resourceName=void 0}return me.fragment=void 0,me}},Xe={scheme:"wss",domainHost:Be.domainHost,parse:Be.parse,serialize:Be.serialize},vt={},St="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",yt="[0-9A-Fa-f]",Yt=i(i("%[EFef]"+yt+"%"+yt+yt+"%"+yt+yt)+"|"+i("%[89A-Fa-f]"+yt+"%"+yt+yt)+"|"+i("%"+yt+yt)),Jr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",cn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Tr=n(cn,'[\\"\\\\]'),Rr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Nn=new RegExp(St,"g"),wr=new RegExp(Yt,"g"),cr=new RegExp(n("[^]",Jr,"[\\.]",'[\\"]',Tr),"g"),ar=new RegExp(n("[^]",St,Rr),"g"),Ie=ar;function ke(ye){var me=se(ye);return me.match(Nn)?me:ye}var ft={scheme:"mailto",parse:function(me,$e){var Me=me,De=Me.to=Me.path?Me.path.split(","):[];if(Me.path=void 0,Me.query){for(var dt=!1,mt={},At=Me.query.split("&"),Ht=0,Xt=At.length;Ht<Xt;++Ht){var Ft=At[Ht].split("=");switch(Ft[0]){case"to":for(var qt=Ft[1].split(","),ur=0,It=qt.length;ur<It;++ur)De.push(qt[ur]);break;case"subject":Me.subject=ce(Ft[1],$e);break;case"body":Me.body=ce(Ft[1],$e);break;default:dt=!0,mt[ce(Ft[0],$e)]=ce(Ft[1],$e);break}}dt&&(Me.headers=mt)}Me.query=void 0;for(var nr=0,Zt=De.length;nr<Zt;++nr){var Ut=De[nr].split("@");if(Ut[0]=ce(Ut[0]),$e.unicodeSupport)Ut[1]=ce(Ut[1],$e).toLowerCase();else try{Ut[1]=oe.toASCII(ce(Ut[1],$e).toLowerCase())}catch(Fr){Me.error=Me.error||"Email address's domain name can not be converted to ASCII via punycode: "+Fr}De[nr]=Ut.join("@")}return Me},serialize:function(me,$e){var Me=me,De=a(me.to);if(De){for(var dt=0,mt=De.length;dt<mt;++dt){var At=String(De[dt]),Ht=At.lastIndexOf("@"),Xt=At.slice(0,Ht).replace(wr,ke).replace(wr,s).replace(cr,ee),Ft=At.slice(Ht+1);try{Ft=$e.iri?oe.toUnicode(Ft):oe.toASCII(ce(Ft,$e).toLowerCase())}catch(nr){Me.error=Me.error||"Email address's domain name can not be converted to "+($e.iri?"Unicode":"ASCII")+" via punycode: "+nr}De[dt]=Xt+"@"+Ft}Me.path=De.join(",")}var qt=me.headers=me.headers||{};me.subject&&(qt.subject=me.subject),me.body&&(qt.body=me.body);var ur=[];for(var It in qt)qt[It]!==vt[It]&&ur.push(It.replace(wr,ke).replace(wr,s).replace(ar,ee)+"="+qt[It].replace(wr,ke).replace(wr,s).replace(Ie,ee));return ur.length&&(Me.query=ur.join("&")),Me}},bt=/^([^\:]+)\:(.*)/,Lt={scheme:"urn",parse:function(me,$e){var Me=me.path&&me.path.match(bt),De=me;if(Me){var dt=$e.scheme||De.scheme||"urn",mt=Me[1].toLowerCase(),At=Me[2],Ht=dt+":"+($e.nid||mt),Xt=X[Ht];De.nid=mt,De.nss=At,De.path=void 0,Xt&&(De=Xt.parse(De,$e))}else De.error=De.error||"URN can not be parsed.";return De},serialize:function(me,$e){var Me=$e.scheme||me.scheme||"urn",De=me.nid,dt=Me+":"+($e.nid||De),mt=X[dt];mt&&(me=mt.serialize(me,$e));var At=me,Ht=me.nss;return At.path=(De||$e.nid)+":"+Ht,At}},xt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Mt={scheme:"urn:uuid",parse:function(me,$e){var Me=me;return Me.uuid=Me.nss,Me.nss=void 0,!$e.tolerant&&(!Me.uuid||!Me.uuid.match(xt))&&(Me.error=Me.error||"UUID is not valid."),Me},serialize:function(me,$e){var Me=me;return Me.nss=(me.uuid||"").toLowerCase(),Me}};X[Te.scheme]=Te,X[Re.scheme]=Re,X[Be.scheme]=Be,X[Xe.scheme]=Xe,X[ft.scheme]=ft,X[Lt.scheme]=Lt,X[Mt.scheme]=Mt,r.SCHEMES=X,r.pctEncChar=ee,r.pctDecChars=se,r.parse=ue,r.removeDotSegments=Ve,r.serialize=ut,r.resolveComponents=Qe,r.resolve=Ye,r.normalize=te,r.equal=j,r.escapeComponent=U,r.unescapeComponent=ce,Object.defineProperty(r,"__esModule",{value:!0})})})(yC,yC.exports);var mZ=yC.exports,Bs={},gZ={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(uo,function(){function t(u,f,c){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=c,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+"  "+this.symbols.slice(u).map(l).join(" ");return this.name+"  "+f};function r(u,f,c,p){this.rule=u,this.dot=f,this.reference=c,this.data=[],this.wantedBy=p,this.isComplete=this.dot===u.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(u){var f=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},r.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function n(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(u){for(var f=this.states,c=this.wants,p=this.completed,m=0;m<f.length;m++){var g=f[m];if(g.isComplete){if(g.finish(),g.data!==s.fail){for(var _=g.wantedBy,v=_.length;v--;){var h=_[v];this.complete(h,g)}if(g.reference===this.index){var E=g.rule.name;(this.completed[E]=this.completed[E]||[]).push(g)}}}else{var E=g.rule.symbols[g.dot];if(typeof E!="string"){this.scannable.push(g);continue}if(c[E]){if(c[E].push(g),p.hasOwnProperty(E))for(var y=p[E],v=0;v<y.length;v++){var S=y[v];this.complete(g,S)}}else c[E]=[g],this.predict(E)}}},n.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],c=0;c<f.length;c++){var p=f[c],m=this.wants[u],g=new r(p,0,this.index,m);this.states.push(g)}},n.prototype.complete=function(u,f){var c=u.nextState(f);this.states.push(c)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(p){c.hasOwnProperty(p.name)||(c[p.name]=[]),c[p.name].push(p)})}i.fromCompiled=function(p,f){var c=p.Lexer;p.ParserStart&&(f=p.ParserStart,p=p.ParserRules);var p=p.map(function(g){return new t(g.name,g.symbols,g.postprocess)}),m=new i(p,f);return m.lexer=c,m};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var c=this.buffer;if(typeof c=="string"){var p=c.split(`
`).slice(Math.max(0,this.line-5),this.line),m=c.indexOf(`
`,this.index);m===-1&&(m=c.length);var g=this.index-this.lastLineBreak,_=String(this.line).length;return f+=" at line "+this.line+" col "+g+`:

`,f+=p.map(function(h,E){return v(this.line-p.length+E+1,_)+" "+h},this).join(`
`),f+=`
`+v("",_+g)+`^
`,f}else return f+" at index "+(this.index-1);function v(h,E){var y=String(h);return Array(E-y.length+1).join(" ")+y}};function s(u,f,c){if(u instanceof i)var p=u,c=f;else var p=i.fromCompiled(u,f);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new o};for(var m in c||{})this.options[m]=c[m];this.lexer=this.options.lexer,this.lexerState=void 0;var g=new n(p,0);this.table=[g],g.wants[p.start]=[],g.predict(p.start),g.process(),this.current=0}s.fail={},s.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(d){var _=new n(this.grammar,this.current+1);this.table.push(_);var p=new Error(this.reportLexerError(d));throw p.offset=this.current,p.token=d.token,p}var m=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var g=this.current+1,_=new n(this.grammar,g);this.table.push(_);for(var v=c.text!==void 0?c.text:c.value,h=f.constructor===o?c.value:c,E=m.scannable,y=E.length;y--;){var S=E[y],T=S.rule.symbols[S.dot];if(T.test?T.test(h):T.type?T.type===c.type:T.literal===v){var x=S.nextState({data:h,token:c,isToken:!0,reference:g-1});_.states.push(x)}}if(_.process(),_.states.length===0){var p=new Error(this.reportError(c));throw p.offset=this.current,p.token=c,p}this.options.keepHistory&&(m.lexerState=f.save()),this.current++}return m&&(this.lexerState=f.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(u){var f,c,p=u.token;return p?(f="input "+JSON.stringify(p.text[0])+" (lexer error)",c=this.lexer.formatError(p,"Syntax error")):(f="input (lexer error)",c=u.message),this.reportErrorCommon(c,f)},s.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),c=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(c,f)},s.prototype.reportErrorCommon=function(u,f){var c=[];c.push(u);var p=this.table.length-2,m=this.table[p],g=m.states.filter(function(v){var h=v.rule.symbols[v.dot];return h&&typeof h!="string"});if(g.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(m.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var _=g.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);_.forEach(function(v){var h=v[0],E=h.rule.symbols[h.dot],y=this.getSymbolDisplay(E);c.push("A "+y+" based on:"),this.displayStateStack(v,c)},this)}return c.push(""),c.join(`
`)},s.prototype.displayStateStack=function(u,f){for(var c,p=0,m=0;m<u.length;m++){var g=u[m],_=g.rule.toString(g.dot);_===c?p++:(p>0&&f.push("    ^ "+p+" more lines identical to this"),p=0,f.push("    "+_)),c=_}},s.prototype.getSymbolDisplay=function(u){return a(u)},s.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var c=u.wantedBy[0],p=[u].concat(f),m=this.buildFirstStateStack(c,p);return m===null?null:[u].concat(m)},s.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},s.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},s.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},s.prototype.finish=function(){var u=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(p){p.rule.name===f&&p.dot===p.rule.symbols.length&&p.reference===0&&p.data!==s.fail&&u.push(p)}),u.map(function(p){return p.data})};function a(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:s,Grammar:i,Rule:t}})})(gZ);var kRe=gZ.exports,KD={};Object.defineProperty(KD,"__esModule",{value:!0});function vo(e){return e[0]}const vZ=e=>[].concat(...e.map(t=>Array.isArray(t)?vZ(t):t));function Fp(e){return e?Array.isArray(e)?vZ(e).join(""):e:""}const jRe={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:vo},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:vo},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:vo},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:vo},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:Fp(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:Fp(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:Fp(e[0]),domainPart:Fp(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:Fp(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:Fp(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:vo},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:vo},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:vo},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:vo},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:vo},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:vo},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:vo},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:vo},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:vo},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:vo},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:vo},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:vo},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:vo}],ParserStart:"Reverse_path"};KD.default=jRe;var DRe=uo&&uo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.canonicalize=Bs.canonicalize_quoted_string=Bs.normalize=Bs.normalize_dot_string=Bs.parse=void 0;const yZ=kRe,wZ=DRe(KD);wZ.default.ParserStart="Mailbox";const MRe=yZ.Grammar.fromCompiled(wZ.default);function JD(e){if(e.length>986)throw new Error("address too long");const r=new yZ.Parser(MRe);if(r.feed(e),r.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),i=e.substring(n+1);if(i[0]!=="["){if(i.length>253)throw new Error("domain too long");const o=i.split(".");if(o.length<2)throw new Error("domain not fully qualified");if(o[o.length-1].length<2)throw new Error("top level domain label too short");if(o.sort(function(s,a){return a.length-s.length}),o[0].length>63)throw new Error("domain label too long")}return r.results[0]}Bs.parse=JD;function bZ(e){return function(){const n=e.indexOf("+");return n===-1?e:e.substr(0,n)}().replace(/\./g,"").toLowerCase()}Bs.normalize_dot_string=bZ;function LRe(e){var t,r;const n=JD(e),i=(t=n.domainPart.AddressLiteral)!==null&&t!==void 0?t:n.domainPart.DomainName.toLowerCase();return`${(r=n.localPart.QuotedString)!==null&&r!==void 0?r:bZ(n.localPart.DotString)}@${i}`}Bs.normalize=LRe;function _Z(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Bs.canonicalize_quoted_string=_Z;function FRe(e){var t;const r=JD(e),n=(t=r.domainPart.AddressLiteral)!==null&&t!==void 0?t:r.domainPart.DomainName.toLowerCase();return`${r.localPart.QuotedString?_Z(r.localPart.QuotedString):r.localPart.DotString}@${n}`}Bs.canonicalize=FRe;var XE=Object.prototype.hasOwnProperty,EZ=Object.prototype.toString,$6=Object.defineProperty,x6=Object.getOwnPropertyDescriptor,A6=function(t){return typeof Array.isArray=="function"?Array.isArray(t):EZ.call(t)==="[object Array]"},O6=function(t){if(!t||EZ.call(t)!=="[object Object]")return!1;var r=XE.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&XE.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||XE.call(t,i)},P6=function(t,r){$6&&r.name==="__proto__"?$6(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},R6=function(t,r){if(r==="__proto__")if(XE.call(t,r)){if(x6)return x6(t,r).value}else return;return t[r]},BRe=function e(){var t,r,n,i,o,s,a=arguments[0],l=1,u=arguments.length,f=!1;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=R6(a,r),i=R6(t,r),a!==i&&(f&&i&&(O6(i)||(o=A6(i)))?(o?(o=!1,s=n&&A6(n)?n:[]):s=n&&O6(n)?n:{},P6(a,{name:r,newValue:e(f,s,i)})):typeof i<"u"&&P6(a,{name:r,newValue:i}));return a};const URe=[{scheme:"aaa",description:"Diameter Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"aaas",description:"Diameter Protocol with Secure Transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"about",description:"about",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6694"}]},{scheme:"acap",description:"application configuration access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2244"}]},{scheme:"acct",description:"acct",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7565"}]},{scheme:"cap",description:"Calendar Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4324"}]},{scheme:"cid",description:"content identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"coap",description:"coap",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"coaps",description:"coaps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"crid",description:"TV-Anytime Content Reference Identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4078"}]},{scheme:"data",description:"data",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2397"}]},{scheme:"dav",description:"dav",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"dict",description:"dictionary service protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2229"}]},{scheme:"dns",description:"Domain Name System",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4501"}]},{scheme:"example",description:"example",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7595"}]},{scheme:"file",description:"Host-specific file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"ftp",description:"File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"geo",description:"Geographic Locations",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5870"}]},{scheme:"go",description:"go",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3368"}]},{scheme:"gopher",description:"The Gopher Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4266"}]},{scheme:"h323",description:"H.323",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3508"}]},{scheme:"http",description:"Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"https",description:"Hypertext Transfer Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"iax",description:"Inter-Asterisk eXchange Version 2",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5456"}]},{scheme:"icap",description:"Internet Content Adaptation Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3507"}]},{scheme:"im",description:"Instant Messaging",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3860"}]},{scheme:"imap",description:"internet message access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5092"}]},{scheme:"info",description:`Information Assets with Identifiers in Public Namespaces. 
       (section 3) defines an "info" registry 
        of public namespaces, which is maintained by NISO and can be accessed 
        from .`,reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4452"}]},{scheme:"ipp",description:"Internet Printing Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3510"}]},{scheme:"ipps",description:"Internet Printing Protocol over HTTPS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7472"}]},{scheme:"iris",description:"Internet Registry Information Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3981"}]},{scheme:"iris.beep",description:"iris.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3983"}]},{scheme:"iris.lwz",description:"iris.lwz",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4993"}]},{scheme:"iris.xpc",description:"iris.xpc",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"iris.xpcs",description:"iris.xpcs",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"jabber",description:"jabber",reference:[],template:"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{scheme:"ldap",description:"Lightweight Directory Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4516"}]},{scheme:"mailto",description:"Electronic mail address",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6068"}]},{scheme:"mid",description:"message identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"msrp",description:"Message Session Relay Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"msrps",description:"Message Session Relay Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"mtqp",description:"Message Tracking Query Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3887"}]},{scheme:"mupdate",description:"Mailbox Update (MUPDATE) Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3656"}]},{scheme:"news",description:"USENET news",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"nfs",description:"network file system protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2224"}]},{scheme:"ni",description:"ni",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nih",description:"nih",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nntp",description:"USENET news using NNTP access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"opaquelocktoken",description:"opaquelocktokent",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"pkcs11",description:"PKCS#11",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7512"}]},{scheme:"pop",description:"Post Office Protocol v3",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2384"}]},{scheme:"pres",description:"Presence",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3859"}]},{scheme:"reload",description:"reload",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6940"}]},{scheme:"rtsp",description:"Real-time Streaming Protocol (RTSP)",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtsps",description:"Real-time Streaming Protocol (RTSP) over TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtspu",description:"Real-time Streaming Protocol (RTSP) over unreliable datagram transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"}]},{scheme:"service",description:"service location",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2609"}]},{scheme:"session",description:"session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6787"}]},{scheme:"shttp",description:"Secure Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2660"}]},{scheme:"sieve",description:"ManageSieve Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5804"}]},{scheme:"sip",description:"session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sips",description:"secure session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sms",description:"Short Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5724"}]},{scheme:"snmp",description:"Simple Network Management Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4088"}]},{scheme:"soap.beep",description:"soap.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"soap.beeps",description:"soap.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"stun",description:"stun",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"stuns",description:"stuns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"tag",description:"tag",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4151"}]},{scheme:"tel",description:"telephone",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"telnet",description:"Reference to interactive sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4248"}]},{scheme:"tftp",description:"Trivial File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3617"}]},{scheme:"thismessage",description:"multipart/related relative reference resolution",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2557"}],template:"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{scheme:"tip",description:"Transaction Internet Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2371"}]},{scheme:"tn3270",description:"Interactive 3270 emulation sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6270"}]},{scheme:"turn",description:"turn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"turns",description:"turns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"tv",description:"TV Broadcasts",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2838"}]},{scheme:"urn",description:"Uniform Resource Names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2141"},{type:"registry",href:"http://www.iana.org/assignments/urn-namespaces"}]},{scheme:"vemmi",description:"versatile multimedia interface",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2122"}]},{scheme:"vnc",description:"Remote Framebuffer Protocol",reference:[{type:"draft",href:"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{scheme:"ws",description:"WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"wss",description:"Encrypted WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"xcon",description:"xcon",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xcon-userid",description:"xcon-userid",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xmlrpc.beep",description:"xmlrpc.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmlrpc.beeps",description:"xmlrpc.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmpp",description:"Extensible Messaging and Presence Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5122"}]},{scheme:"z39.50r",description:"Z39.50 Retrieval",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]},{scheme:"z39.50s",description:"Z39.50 Session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],zRe=[{scheme:"acr",description:"acr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/acr"},{scheme:"adiumxtra",description:"adiumxtra",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{scheme:"afp",description:"afp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/afp"},{scheme:"afs",description:"Andrew File System global file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"aim",description:"aim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aim"},{scheme:"appdata",description:"appdata",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{scheme:"apt",description:"apt",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/apt"},{scheme:"attachment",description:"attachment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{scheme:"aw",description:"aw",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aw"},{scheme:"barion",description:"barion",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/barion"},{scheme:"beshare",description:"beshare",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{scheme:"bitcoin",description:"bitcoin",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{scheme:"blob",description:"blob",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/blob"},{scheme:"bolo",description:"bolo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{scheme:"callto",description:"callto",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/callto"},{scheme:"chrome",description:"chrome",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{scheme:"chrome-extension",description:"chrome-extension",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{scheme:"com-eventbrite-attendee",description:"com-eventbrite-attendee",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{scheme:"content",description:"content",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/content"},{scheme:"cvs",description:"cvs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{scheme:"dis",description:"dis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dis"},{scheme:"dlna-playcontainer",description:"dlna-playcontainer",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{scheme:"dlna-playsingle",description:"dlna-playsingle",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{scheme:"dntp",description:"dntp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{scheme:"dtn",description:"DTNRG research and development",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5050"}]},{scheme:"dvb",description:"dvb",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{scheme:"ed2k",description:"ed2k",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{scheme:"facetime",description:"facetime",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{scheme:"feed",description:"feed",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feed"},{scheme:"feedready",description:"feedready",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{scheme:"finger",description:"finger",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/finger"},{scheme:"fish",description:"fish",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/fish"},{scheme:"gg",description:"gg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gg"},{scheme:"git",description:"git",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/git"},{scheme:"gizmoproject",description:"gizmoproject",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{scheme:"gtalk",description:"gtalk",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{scheme:"ham",description:"ham",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7046"}]},{scheme:"hcp",description:"hcp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{scheme:"icon",description:"icon",reference:[{type:"draft",href:"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{scheme:"iotdisco",description:"iotdisco",reference:[{type:"uri",href:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],template:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{scheme:"ipn",description:"ipn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6260"}]},{scheme:"irc",description:"irc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc"},{scheme:"irc6",description:"irc6",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{scheme:"ircs",description:"ircs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{scheme:"isostore",description:"isostore",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{scheme:"itms",description:"itms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/itms"},{scheme:"jar",description:"jar",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/jar"},{scheme:"jms",description:"Java Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6167"}]},{scheme:"keyparc",description:"keyparc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{scheme:"lastfm",description:"lastfm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{scheme:"ldaps",description:"ldaps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{scheme:"magnet",description:"magnet",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{scheme:"maps",description:"maps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/maps"},{scheme:"market",description:"market",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/market"},{scheme:"message",description:"message",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/message"},{scheme:"mms",description:"mms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mms"},{scheme:"ms-access",description:"ms-access",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{scheme:"ms-drive-to",description:"ms-drive-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{scheme:"ms-enrollment",description:"ms-enrollment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{scheme:"ms-excel",description:"ms-excel",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{scheme:"ms-getoffice",description:"ms-getoffice",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{scheme:"ms-help",description:"ms-help",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{scheme:"ms-infopath",description:"ms-infopath",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{scheme:"ms-media-stream-id",description:"ms-media-stream-id",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{scheme:"ms-powerpoint",description:"ms-powerpoint",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{scheme:"ms-project",description:"ms-project",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{scheme:"ms-publisher",description:"ms-publisher",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{scheme:"ms-search-repair",description:"ms-search-repair",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{scheme:"ms-secondary-screen-controller",description:"ms-secondary-screen-controller",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{scheme:"ms-secondary-screen-setup",description:"ms-secondary-screen-setup",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{scheme:"ms-settings",description:"ms-settings",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{scheme:"ms-settings-airplanemode",description:"ms-settings-airplanemode",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{scheme:"ms-settings-bluetooth",description:"ms-settings-bluetooth",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{scheme:"ms-settings-camera",description:"ms-settings-camera",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{scheme:"ms-settings-cellular",description:"ms-settings-cellular",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{scheme:"ms-settings-cloudstorage",description:"ms-settings-cloudstorage",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{scheme:"ms-settings-connectabledevices",description:"ms-settings-connectabledevices",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{scheme:"ms-settings-displays-topology",description:"ms-settings-displays-topology",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{scheme:"ms-settings-emailandaccounts",description:"ms-settings-emailandaccounts",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{scheme:"ms-settings-language",description:"ms-settings-language",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{scheme:"ms-settings-location",description:"ms-settings-location",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{scheme:"ms-settings-lock",description:"ms-settings-lock",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{scheme:"ms-settings-nfctransactions",description:"ms-settings-nfctransactions",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{scheme:"ms-settings-notifications",description:"ms-settings-notifications",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{scheme:"ms-settings-power",description:"ms-settings-power",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{scheme:"ms-settings-privacy",description:"ms-settings-privacy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{scheme:"ms-settings-proximity",description:"ms-settings-proximity",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{scheme:"ms-settings-screenrotation",description:"ms-settings-screenrotation",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{scheme:"ms-settings-wifi",description:"ms-settings-wifi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{scheme:"ms-settings-workplace",description:"ms-settings-workplace",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{scheme:"ms-spd",description:"ms-spd",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{scheme:"ms-transit-to",description:"ms-transit-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{scheme:"ms-visio",description:"ms-visio",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{scheme:"ms-walk-to",description:"ms-walk-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{scheme:"ms-word",description:"ms-word",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{scheme:"msnim",description:"msnim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{scheme:"mumble",description:"mumble",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{scheme:"mvn",description:"mvn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{scheme:"notes",description:"notes",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/notes"},{scheme:"oid",description:"oid",reference:[{type:"draft",href:"http://www.iana.org/go/draft-larmouth-oid-iri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/oid"},{scheme:"palm",description:"palm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/palm"},{scheme:"paparazzi",description:"paparazzi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{scheme:"platform",description:"platform",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/platform"},{scheme:"proxy",description:"proxy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{scheme:"psyc",description:"psyc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{scheme:"query",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/query"},{scheme:"redis",description:"redis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/redis"},{scheme:"rediss",description:"rediss",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{scheme:"res",description:"res",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/res"},{scheme:"resource",description:"resource",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/resource"},{scheme:"rmi",description:"rmi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{scheme:"rsync",description:"rsync",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5781"}]},{scheme:"rtmfp",description:"rtmfp",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7425"}],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{scheme:"rtmp",description:"rtmp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{scheme:"secondlife",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{scheme:"sftp",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{scheme:"sgn",description:"sgn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{scheme:"skype",description:"skype",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/skype"},{scheme:"smb",description:"smb",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/smb"},{scheme:"smtp",description:"smtp",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{scheme:"soldat",description:"soldat",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{scheme:"spotify",description:"spotify",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{scheme:"ssh",description:"ssh",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{scheme:"steam",description:"steam",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/steam"},{scheme:"submit",description:"submit",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/submit"},{scheme:"svn",description:"svn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/svn"},{scheme:"teamspeak",description:"teamspeak",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{scheme:"teliaeid",description:"teliaeid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{scheme:"things",description:"things",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/things"},{scheme:"tool",description:"tool",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/tool"},{scheme:"udp",description:"udp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/udp"},{scheme:"unreal",description:"unreal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{scheme:"ut2004",description:"ut2004",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{scheme:"v-event",description:"v-event",reference:[{type:"draft",href:"http://www.iana.org/go/draft-menderico-v-event-uri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{scheme:"ventrilo",description:"ventrilo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{scheme:"view-source",description:"view-source",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{scheme:"webcal",description:"webcal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{scheme:"wpid",description:"wpid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{scheme:"wtai",description:"wtai",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{scheme:"wyciwyg",description:"wyciwyg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{scheme:"xfire",description:"xfire",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{scheme:"xri",description:"xri",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xri"},{scheme:"ymsgr",description:"ymsgr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}],qRe=[{scheme:"fax",description:"fax",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"filesystem",description:"filesystem",reference:[],template:"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{scheme:"mailserver",description:"Access to data available from mail servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6196"}]},{scheme:"modem",description:"modem",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"pack",description:"pack",reference:[{type:"draft",href:"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],template:"http://www.iana.org/assignments/uri-schemes/historic/pack"},{scheme:"prospero",description:"Prospero Directory Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4157"}]},{scheme:"snews",description:"NNTP over SSL/TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"videotex",description:"videotex",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{type:"rfc",href:"http://www.iana.org/go/rfc2122"},{type:"rfc",href:"http://www.iana.org/go/rfc3986"}],template:"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{scheme:"wais",description:"Wide Area Information Servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4156"}]},{scheme:"z39.50",description:"Z39.50 information access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"},{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],VRe=[{scheme:"android-app"},{scheme:"webpack"},{scheme:"s3",description:"Amazon Web Services S3 bucket"},{scheme:"gs",description:"Google Cloud Storage"},{scheme:"mqtt",description:"Message Queuing Telemetry Transport Protocol"},{scheme:"modbus+tcp",description:"Modbus over TCP"}];var YD=BRe,By={permanent:URe,provosional:zRe,historical:qRe},n$={};Object.keys(By).forEach(function(e){By[e].forEach(function(t){n$[t.scheme]=YD(t,{type:e})})});By.unofficial=VRe.filter(function(e){return!n$[e.scheme]});By.unofficial.forEach(function(e){n$[e.scheme]=YD(e,{type:"unofficial"})});var SZ=YD(By,{allByName:n$});const{parse:HRe}=mZ,{addressParser:WRe}=Bs,GRe=SZ;function KRe(e){try{return WRe(e),!0}catch{return!1}}var JRe=e=>{const t=HRe(e);return!!(t.scheme==="mailto"&&t.to.every(KRe)||t.reference==="absolute"&&GRe.allByName[t.scheme])},YRe=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/;const{parse:XRe}=Bs;var QRe=e=>{try{return XRe(e),!0}catch{return!1}};const Dm=2147483647,Mu=36,XD=1,Uy=26,ZRe=38,eNe=700,TZ=72,$Z=128,xZ="-",tNe=/^xn--/,rNe=/[^\0-\x7F]/,nNe=/[\x2E\u3002\uFF0E\uFF61]/g,iNe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ZA=Mu-XD,Lu=Math.floor,eO=String.fromCharCode;function Df(e){throw new RangeError(iNe[e])}function oNe(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function AZ(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(nNe,".");const i=e.split("."),o=oNe(i,t).join(".");return n+o}function QD(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const OZ=e=>String.fromCodePoint(...e),sNe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Mu},N6=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},PZ=function(e,t,r){let n=0;for(e=r?Lu(e/eNe):e>>1,e+=Lu(e/t);e>ZA*Uy>>1;n+=Mu)e=Lu(e/ZA);return Lu(n+(ZA+1)*e/(e+ZRe))},ZD=function(e){const t=[],r=e.length;let n=0,i=$Z,o=TZ,s=e.lastIndexOf(xZ);s<0&&(s=0);for(let a=0;a<s;++a)e.charCodeAt(a)>=128&&Df("not-basic"),t.push(e.charCodeAt(a));for(let a=s>0?s+1:0;a<r;){const l=n;for(let f=1,c=Mu;;c+=Mu){a>=r&&Df("invalid-input");const p=sNe(e.charCodeAt(a++));p>=Mu&&Df("invalid-input"),p>Lu((Dm-n)/f)&&Df("overflow"),n+=p*f;const m=c<=o?XD:c>=o+Uy?Uy:c-o;if(p<m)break;const g=Mu-m;f>Lu(Dm/g)&&Df("overflow"),f*=g}const u=t.length+1;o=PZ(n-l,u,l==0),Lu(n/u)>Dm-i&&Df("overflow"),i+=Lu(n/u),n%=u,t.splice(n++,0,i)}return String.fromCodePoint(...t)},eM=function(e){const t=[];e=QD(e);const r=e.length;let n=$Z,i=0,o=TZ;for(const l of e)l<128&&t.push(eO(l));const s=t.length;let a=s;for(s&&t.push(xZ);a<r;){let l=Dm;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Lu((Dm-i)/u)&&Df("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>Dm&&Df("overflow"),f===n){let c=i;for(let p=Mu;;p+=Mu){const m=p<=o?XD:p>=o+Uy?Uy:p-o;if(c<m)break;const g=c-m,_=Mu-m;t.push(eO(N6(m+g%_,0))),c=Lu(g/_)}t.push(eO(N6(c,0))),o=PZ(i,u,a===s),i=0,++a}++i,++n}return t.join("")},RZ=function(e){return AZ(e,function(t){return tNe.test(t)?ZD(t.slice(4).toLowerCase()):t})},NZ=function(e){return AZ(e,function(t){return rNe.test(t)?"xn--"+eM(t):t})},aNe={version:"2.3.1",ucs2:{decode:QD,encode:OZ},decode:ZD,encode:eM,toASCII:NZ,toUnicode:RZ},lNe=Object.freeze(Object.defineProperty({__proto__:null,decode:ZD,default:aNe,encode:eM,toASCII:NZ,toUnicode:RZ,ucs2decode:QD,ucs2encode:OZ},Symbol.toStringTag,{value:"Module"})),IZ=TC(lNe),{toASCII:uNe}=IZ,cNe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var fNe=e=>{const t=uNe(e);return t.replace(/\.$/,"").length<=253&&cNe.test(t)};const{parse:dNe}=mZ,{addressParser:hNe}=Bs,I6=SZ;function pNe(e){try{return hNe(e),!0}catch{return!1}}var mNe=e=>{const t=dNe(e);return t.scheme==="mailto"&&t.to.every(pNe)||t.reference==="absolute"&&t.path!==void 0&&I6.allByName[t.scheme]?!0:t.scheme&&!I6.allByName[t.scheme]?!1:t.path!==void 0&&(t.reference==="relative"||t.reference==="same-document"||t.reference==="uri")};(function(e){e.exports.iri=JRe,e.exports.duration=YRe,e.exports["idn-email"]=QRe,e.exports["idn-hostname"]=fNe,e.exports["iri-reference"]=mNe})(CRe);var CZ={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(l,u){if(!o[l]){o[l]={};for(var f=0;f<l.length;f++)o[l][l.charAt(f)]=f}return o[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(f){return n.charAt(f)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),f=new Uint8Array(u.length*2),c=0,p=u.length;c<p;c++){var m=u.charCodeAt(c);f[c*2]=m>>>8,f[c*2+1]=m%256}return f},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),f=0,c=u.length;f<c;f++)u[f]=l[f*2]*256+l[f*2+1];var p=[];return u.forEach(function(m){p.push(r(m))}),a.decompress(p.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return r(u)})},_compress:function(l,u,f){if(l==null)return"";var c,p,m={},g={},_="",v="",h="",E=2,y=3,S=2,T=[],x=0,d=0,$;for($=0;$<l.length;$+=1)if(_=l.charAt($),Object.prototype.hasOwnProperty.call(m,_)||(m[_]=y++,g[_]=!0),v=h+_,Object.prototype.hasOwnProperty.call(m,v))h=v;else{if(Object.prototype.hasOwnProperty.call(g,h)){if(h.charCodeAt(0)<256){for(c=0;c<S;c++)x=x<<1,d==u-1?(d=0,T.push(f(x)),x=0):d++;for(p=h.charCodeAt(0),c=0;c<8;c++)x=x<<1|p&1,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=p>>1}else{for(p=1,c=0;c<S;c++)x=x<<1|p,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=0;for(p=h.charCodeAt(0),c=0;c<16;c++)x=x<<1|p&1,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=p>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[h]}else for(p=m[h],c=0;c<S;c++)x=x<<1|p&1,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=p>>1;E--,E==0&&(E=Math.pow(2,S),S++),m[v]=y++,h=String(_)}if(h!==""){if(Object.prototype.hasOwnProperty.call(g,h)){if(h.charCodeAt(0)<256){for(c=0;c<S;c++)x=x<<1,d==u-1?(d=0,T.push(f(x)),x=0):d++;for(p=h.charCodeAt(0),c=0;c<8;c++)x=x<<1|p&1,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=p>>1}else{for(p=1,c=0;c<S;c++)x=x<<1|p,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=0;for(p=h.charCodeAt(0),c=0;c<16;c++)x=x<<1|p&1,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=p>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete g[h]}else for(p=m[h],c=0;c<S;c++)x=x<<1|p&1,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=p>>1;E--,E==0&&(E=Math.pow(2,S),S++)}for(p=2,c=0;c<S;c++)x=x<<1|p&1,d==u-1?(d=0,T.push(f(x)),x=0):d++,p=p>>1;for(;;)if(x=x<<1,d==u-1){T.push(f(x));break}else d++;return T.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,f){var c=[],p=4,m=4,g=3,_="",v=[],h,E,y,S,T,x,d,$={val:f(0),position:u,index:1};for(h=0;h<3;h+=1)c[h]=h;for(y=0,T=Math.pow(2,2),x=1;x!=T;)S=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=f($.index++)),y|=(S>0?1:0)*x,x<<=1;switch(y){case 0:for(y=0,T=Math.pow(2,8),x=1;x!=T;)S=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=f($.index++)),y|=(S>0?1:0)*x,x<<=1;d=r(y);break;case 1:for(y=0,T=Math.pow(2,16),x=1;x!=T;)S=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=f($.index++)),y|=(S>0?1:0)*x,x<<=1;d=r(y);break;case 2:return""}for(c[3]=d,E=d,v.push(d);;){if($.index>l)return"";for(y=0,T=Math.pow(2,g),x=1;x!=T;)S=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=f($.index++)),y|=(S>0?1:0)*x,x<<=1;switch(d=y){case 0:for(y=0,T=Math.pow(2,8),x=1;x!=T;)S=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=f($.index++)),y|=(S>0?1:0)*x,x<<=1;c[m++]=r(y),d=m-1,p--;break;case 1:for(y=0,T=Math.pow(2,16),x=1;x!=T;)S=$.val&$.position,$.position>>=1,$.position==0&&($.position=u,$.val=f($.index++)),y|=(S>0?1:0)*x,x<<=1;c[m++]=r(y),d=m-1,p--;break;case 2:return v.join("")}if(p==0&&(p=Math.pow(2,g),g++),c[d])_=c[d];else if(d===m)_=E+E.charAt(0);else return null;v.push(_),c[m++]=E+_.charAt(0),p--,E=_,p==0&&(p=Math.pow(2,g),g++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(CZ);var gNe=CZ.exports;const kZ=Wu(gNe);var jZ={exports:{}},DZ=IZ;function vNe(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function tO(e){return e>="0"&&e<="7"}function yNe(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function C6(e){return e=parseInt(e,16),DZ.ucs2.encode([e])}function MZ(e,t,r){var n=!1,i=[];function o(l){var u=e[l];if(!yNe(u))throw new vNe(l,"Unexpected token ILLEGAL");return u}for(;t<e.length;){var s=e[t];if(t++,n){switch(n=!1,s){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(s==="x"){i.push(C6(o(t)+o(t+1))),t+=2;continue}if(s==="u"){i.push(C6(o(t)+o(t+1)+o(t+2)+o(t+3))),t+=4;continue}if(tO(s)){var a;tO(a=e[t])&&(t++,s+=a,tO(a=e[t])&&s[0]<="3"&&(t++,s+=a)),i.push(DZ.ucs2.encode([parseInt(s,8)]));continue}i.push(s)}else if(s==="\\")n=!0;else if(s===r){t--;break}else i.push(s)}return arguments.length===3?{end:t,value:i.join("")}:i.join("")}jZ.exports=function(t){return MZ(t,0)};jZ.exports.parseUntil=function(t,r,n){return MZ(t,r,n)};const wNe="Thing Description",bNe="1.1-05-September-2022",_Ne="JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",ENe="http://json-schema.org/draft-07/schema#",SNe="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",TNe={anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]}}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]}}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client","device"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},$Ne="object",xNe={id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},ANe=["title","security","securityDefinitions","@context"],ONe=!0,Nv={title:wNe,version:bNe,description:_Ne,$schema:ENe,$id:SNe,definitions:TNe,type:$Ne,properties:xNe,required:ANe,additionalProperties:ONe};function PNe(e){return kZ.compressToEncodedURIComponent(e)}function RNe(e){return kZ.decompressFromEncodedURIComponent(e)}const th="$ref",NNe="properties",INe="additional_properties",Ef="dataSchema",CNe="#/";kNe(Nv);function kNe(e){const t=new Map,r=new Map;return lh(t,e,CNe),t.forEach((n,i)=>{if(n.size>0){const o=(i.match(/\//ig)||[]).length;let s=r.get(o);s?(s.set(i.replace(/^r/g,""),n),r.set(o,s)):(s=new Map,s.set(i.replace(/^r/g,""),n),r.set(o,s))}}),r}function lh(e,t,r){const n=new Set;if(t[th]){if(r[0]==="r"&&t[th].includes(Ef))return;t[th].includes(Ef)&&(r="r"+r),lh(fb(Nv,t[th]),r);return}if(t.type==="object"){const i=t[NNe];for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s))if(s===th){if(r[0]==="r"&&i[s].includes(Ef))continue;i[s].includes(Ef)&&(r="r"+r),lh(fb(Nv,i[s]),r);return}else lh(i[s],`${r}${s}/`),n.add(s);const o=t[INe];for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&s===th){if(r[0]==="r"&&o[s].includes(Ef))continue;o[s].includes(Ef)&&(r="r"+r),lh(fb(Nv,o[s]),`${r}*/`);return}k6(e,r,n)}if(t.type==="array"){const i=t.items;for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&o===th){if(r[0]==="r"&&i[o].includes(Ef))continue;i[o].includes(Ef)&&(r="r"+r),lh(fb(Nv,i[o]),r);return}k6(e,r,n)}for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach(o=>{lh(o,r)})}function k6(e,t,r){let n=e.get(t);if(n){const i=new Set(n);r.forEach(o=>{i.add(o)}),e.set(t,i)}else e.set(t,r)}function fb(e,t){const r=t.split("/");if(r[0]!=="#"){console.log("Parsing not implemented for between files");return}let n=e;for(let i=1;i<r.length;i++)n=n[r[i]];return n}const jNe="tdjson",DNe="tmjson",MNe=e=>{let t;try{t=JSON.parse(e)}catch(i){console.debug(i);return}let r=jNe;return k8(t)&&(r=DNe),PNe(r.concat(e))},LNe=e=>{let t=RNe(e);if(!(t==null||t==="")){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},LZ=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),[n,i]=ct.useState(!1),[o,s]=ct.useState(""),[a,l]=ct.useState("");Pe.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0);const p=MNe(r.offlineTD);l(p||"");const m=`${window.location.origin+window.location.pathname}?td=${p}`;s(m),FNe(m),BNe()},f=()=>{i(!1)};let c=Q.jsx("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",defaultValue:o});return n?$a.createPortal(Q.jsx(xa,{hasSubmit:!0,onHandleEventLeftButton:f,leftButton:"Okay",rightButton:"Open in Playground",onHandleEventRightButton:()=>{window.open(`https://playground.thingweb.io//#${a}`),f()},children:c,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null}),FNe=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then(function(){console.log("Async: Copied TD link to clipboard!")},function(t){console.error("Async: Could not copy TD to clipboard: ",t)})},BNe=()=>{setTimeout(()=>{try{document.getElementById("share-td-field").select()}catch{}},250)};LZ.displayName="ShareDialog";var wC={exports:{}},tM={},yg={};Object.defineProperty(yg,"__esModule",{value:!0});yg.dynamicAnchor=void 0;const rO=xr,UNe=Ra,j6=ds,zNe=Uc,qNe={keyword:"$dynamicAnchor",schemaType:"string",code:e=>FZ(e,e.schema)};function FZ(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const i=(0,rO._)`${UNe.default.dynamicAnchors}${(0,rO.getProperty)(t)}`,o=n.errSchemaPath==="#"?n.validateName:VNe(e);r.if((0,rO._)`!${i}`,()=>r.assign(i,o))}yg.dynamicAnchor=FZ;function VNe(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:i,baseId:o,localRefs:s,meta:a}=t.root,{schemaId:l}=n.opts,u=new j6.SchemaEnv({schema:r,schemaId:l,root:i,baseId:o,localRefs:s,meta:a});return j6.compileSchema.call(n,u),(0,zNe.getValidate)(e,u)}yg.default=qNe;var wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.dynamicRef=void 0;const D6=xr,HNe=Ra,M6=Uc,WNe={keyword:"$dynamicRef",schemaType:"string",code:e=>BZ(e,e.schema)};function BZ(e,t){const{gen:r,keyword:n,it:i}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const o=t.slice(1);if(i.allErrors)s();else{const l=r.let("valid",!1);s(l),e.ok(l)}function s(l){if(i.schemaEnv.root.dynamicAnchors[o]){const u=r.let("_v",(0,D6._)`${HNe.default.dynamicAnchors}${(0,D6.getProperty)(o)}`);r.if(u,a(u,l),a(i.validateName,l))}else a(i.validateName,l)()}function a(l,u){return u?()=>r.block(()=>{(0,M6.callRef)(e,l),r.let(u,!0)}):()=>(0,M6.callRef)(e,l)}}wg.dynamicRef=BZ;wg.default=WNe;var rM={};Object.defineProperty(rM,"__esModule",{value:!0});const GNe=yg,KNe=Jt,JNe={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,GNe.dynamicAnchor)(e,""):(0,KNe.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};rM.default=JNe;var nM={};Object.defineProperty(nM,"__esModule",{value:!0});const YNe=wg,XNe={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,YNe.dynamicRef)(e,e.schema)};nM.default=XNe;Object.defineProperty(tM,"__esModule",{value:!0});const QNe=yg,ZNe=wg,eIe=rM,tIe=nM,rIe=[QNe.default,ZNe.default,eIe.default,tIe.default];tM.default=rIe;var iM={},oM={};Object.defineProperty(oM,"__esModule",{value:!0});const L6=ZT,nIe={keyword:"dependentRequired",type:"object",schemaType:"object",error:L6.error,code:e=>(0,L6.validatePropertyDeps)(e)};oM.default=nIe;var sM={};Object.defineProperty(sM,"__esModule",{value:!0});const iIe=ZT,oIe={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,iIe.validateSchemaDeps)(e)};sM.default=oIe;var aM={};Object.defineProperty(aM,"__esModule",{value:!0});const sIe=Jt,aIe={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,sIe.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};aM.default=aIe;Object.defineProperty(iM,"__esModule",{value:!0});const lIe=oM,uIe=sM,cIe=aM,fIe=[lIe.default,uIe.default,cIe.default];iM.default=fIe;var lM={},uM={};Object.defineProperty(uM,"__esModule",{value:!0});const Cf=xr,F6=Jt,dIe=Ra,hIe={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Cf._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},pIe={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:hIe,code(e){const{gen:t,schema:r,data:n,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:s,props:a}=o;a instanceof Cf.Name?t.if((0,Cf._)`${a} !== true`,()=>t.forIn("key",n,c=>t.if(u(a,c),()=>l(c)))):a!==!0&&t.forIn("key",n,c=>a===void 0?l(c):t.if(f(a,c),()=>l(c))),o.props=!0,e.ok((0,Cf._)`${i} === ${dIe.default.errors}`);function l(c){if(r===!1){e.setParams({unevaluatedProperty:c}),e.error(),s||t.break();return}if(!(0,F6.alwaysValidSchema)(o,r)){const p=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:c,dataPropType:F6.Type.Str},p),s||t.if((0,Cf.not)(p),()=>t.break())}}function u(c,p){return(0,Cf._)`!${c} || !${c}[${p}]`}function f(c,p){const m=[];for(const g in c)c[g]===!0&&m.push((0,Cf._)`${p} !== ${g}`);return(0,Cf.and)(...m)}}};uM.default=pIe;var cM={};Object.defineProperty(cM,"__esModule",{value:!0});const gh=xr,B6=Jt,mIe={message:({params:{len:e}})=>(0,gh.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,gh._)`{limit: ${e}}`},gIe={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:mIe,code(e){const{gen:t,schema:r,data:n,it:i}=e,o=i.items||0;if(o===!0)return;const s=t.const("len",(0,gh._)`${n}.length`);if(r===!1)e.setParams({len:o}),e.fail((0,gh._)`${s} > ${o}`);else if(typeof r=="object"&&!(0,B6.alwaysValidSchema)(i,r)){const l=t.var("valid",(0,gh._)`${s} <= ${o}`);t.if((0,gh.not)(l),()=>a(l,o)),e.ok(l)}i.items=!0;function a(l,u){t.forRange("i",u,s,f=>{e.subschema({keyword:"unevaluatedItems",dataProp:f,dataPropType:B6.Type.Num},l),i.allErrors||t.if((0,gh.not)(l),()=>t.break())})}}};cM.default=gIe;Object.defineProperty(lM,"__esModule",{value:!0});const vIe=uM,yIe=cM,wIe=[vIe.default,yIe.default];lM.default=wIe;var fM={};const bIe="https://json-schema.org/draft/2019-09/schema",_Ie="https://json-schema.org/draft/2019-09/schema",EIe={"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},SIe=!0,TIe="Core and Validation specifications meta-schema",$Ie=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],xIe=["object","boolean"],AIe={definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}},OIe={$schema:bIe,$id:_Ie,$vocabulary:EIe,$recursiveAnchor:SIe,title:TIe,allOf:$Ie,type:xIe,properties:AIe},PIe="https://json-schema.org/draft/2019-09/schema",RIe="https://json-schema.org/draft/2019-09/meta/applicator",NIe={"https://json-schema.org/draft/2019-09/vocab/applicator":!0},IIe=!0,CIe="Applicator vocabulary meta-schema",kIe=["object","boolean"],jIe={additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},DIe={schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}},MIe={$schema:PIe,$id:RIe,$vocabulary:NIe,$recursiveAnchor:IIe,title:CIe,type:kIe,properties:jIe,$defs:DIe},LIe="https://json-schema.org/draft/2019-09/schema",FIe="https://json-schema.org/draft/2019-09/meta/content",BIe={"https://json-schema.org/draft/2019-09/vocab/content":!0},UIe=!0,zIe="Content vocabulary meta-schema",qIe=["object","boolean"],VIe={contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}},HIe={$schema:LIe,$id:FIe,$vocabulary:BIe,$recursiveAnchor:UIe,title:zIe,type:qIe,properties:VIe},WIe="https://json-schema.org/draft/2019-09/schema",GIe="https://json-schema.org/draft/2019-09/meta/core",KIe={"https://json-schema.org/draft/2019-09/vocab/core":!0},JIe=!0,YIe="Core vocabulary meta-schema",XIe=["object","boolean"],QIe={$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}},ZIe={$schema:WIe,$id:GIe,$vocabulary:KIe,$recursiveAnchor:JIe,title:YIe,type:XIe,properties:QIe},eCe="https://json-schema.org/draft/2019-09/schema",tCe="https://json-schema.org/draft/2019-09/meta/format",rCe={"https://json-schema.org/draft/2019-09/vocab/format":!0},nCe=!0,iCe="Format vocabulary meta-schema",oCe=["object","boolean"],sCe={format:{type:"string"}},aCe={$schema:eCe,$id:tCe,$vocabulary:rCe,$recursiveAnchor:nCe,title:iCe,type:oCe,properties:sCe},lCe="https://json-schema.org/draft/2019-09/schema",uCe="https://json-schema.org/draft/2019-09/meta/meta-data",cCe={"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},fCe=!0,dCe="Meta-data vocabulary meta-schema",hCe=["object","boolean"],pCe={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},mCe={$schema:lCe,$id:uCe,$vocabulary:cCe,$recursiveAnchor:fCe,title:dCe,type:hCe,properties:pCe},gCe="https://json-schema.org/draft/2019-09/schema",vCe="https://json-schema.org/draft/2019-09/meta/validation",yCe={"https://json-schema.org/draft/2019-09/vocab/validation":!0},wCe=!0,bCe="Validation vocabulary meta-schema",_Ce=["object","boolean"],ECe={multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},SCe={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},TCe={$schema:gCe,$id:vCe,$vocabulary:yCe,$recursiveAnchor:wCe,title:bCe,type:_Ce,properties:ECe,$defs:SCe};Object.defineProperty(fM,"__esModule",{value:!0});const $Ce=OIe,xCe=MIe,ACe=HIe,OCe=ZIe,PCe=aCe,RCe=mCe,NCe=TCe,ICe=["/properties"];function CCe(e){return[$Ce,xCe,ACe,OCe,t(this,PCe),RCe,t(this,NCe)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,ICe):n}}fM.default=CCe;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=oD,n=QT,i=tM,o=iM,s=lM,a=t$,l=fM,u="https://json-schema.org/draft/2019-09/schema";class f extends r.default{constructor(v={}){super({...v,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),n.default.forEach(v=>this.addVocabulary(v)),this.addVocabulary(o.default),this.addVocabulary(s.default),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:v,meta:h}=this.opts;h&&(l.default.call(this,v),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv2019=f,e.exports=t=f,e.exports.Ajv2019=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var c=cl;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var p=xr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var m=mg;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var g=cp;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(wC,wC.exports);var kCe=wC.exports;const jCe=Wu(kCe),dM="-",DCe=e=>{const t=LCe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const a=s.split(dM);return a[0]===""&&a.length!==1&&a.shift(),UZ(a,t)||MCe(s)},getConflictingClassGroupIds:(s,a)=>{const l=r[s]||[];return a&&n[s]?[...l,...n[s]]:l}}},UZ=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?UZ(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(dM);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},U6=/^\[(.+)\]$/,MCe=e=>{if(U6.test(e)){const t=U6.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},LCe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)bC(r[i],n,i,t);return n},bC=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:z6(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(FCe(i)){bC(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,s])=>{bC(s,z6(t,o),r,n)})})},z6=(e,t)=>{let r=e;return t.split(dM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},FCe=e=>e.isThemeGetter,BCe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(o,s)=>{r.set(o,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set(o,s){r.has(o)?r.set(o,s):i(o,s)}}},_C="!",EC=":",UCe=EC.length,zCe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const o=[];let s=0,a=0,l=0,u;for(let g=0;g<i.length;g++){let _=i[g];if(s===0&&a===0){if(_===EC){o.push(i.slice(l,g)),l=g+UCe;continue}if(_==="/"){u=g;continue}}_==="["?s++:_==="]"?s--:_==="("?a++:_===")"&&a--}const f=o.length===0?i:i.substring(l),c=qCe(f),p=c!==f,m=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:c,maybePostfixModifierPosition:m}};if(t){const i=t+EC,o=n;n=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},qCe=e=>e.endsWith(_C)?e.substring(0,e.length-1):e.startsWith(_C)?e.substring(1):e,VCe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},HCe=e=>({cache:BCe(e.cacheSize),parseClassName:zCe(e),sortModifiers:VCe(e),...DCe(e)}),WCe=/\s+/,GCe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(WCe);let l="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:c,modifiers:p,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:_}=r(f);if(c){l=f+(l.length>0?" "+l:l);continue}let v=!!_,h=n(v?g.substring(0,_):g);if(!h){if(!v){l=f+(l.length>0?" "+l:l);continue}if(h=n(g),!h){l=f+(l.length>0?" "+l:l);continue}v=!1}const E=o(p).join(":"),y=m?E+_C:E,S=y+h;if(s.includes(S))continue;s.push(S);const T=i(h,v);for(let x=0;x<T.length;++x){const d=T[x];s.push(y+d)}l=f+(l.length>0?" "+l:l)}return l};function KCe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zZ(t))&&(n&&(n+=" "),n+=r);return n}const zZ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zZ(e[n]))&&(r&&(r+=" "),r+=t);return r};function JCe(e,...t){let r,n,i,o=s;function s(l){const u=t.reduce((f,c)=>c(f),e());return r=HCe(u),n=r.cache.get,i=r.cache.set,o=a,a(l)}function a(l){const u=n(l);if(u)return u;const f=GCe(l,r);return i(l,f),f}return function(){return o(KCe.apply(null,arguments))}}const Gi=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},qZ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VZ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,YCe=/^\d+\/\d+$/,XCe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QCe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZCe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eke=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tke=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bp=e=>YCe.test(e),Hr=e=>!!e&&!Number.isNaN(Number(e)),Sf=e=>!!e&&Number.isInteger(Number(e)),nO=e=>e.endsWith("%")&&Hr(e.slice(0,-1)),dc=e=>XCe.test(e),rke=()=>!0,nke=e=>QCe.test(e)&&!ZCe.test(e),HZ=()=>!1,ike=e=>eke.test(e),oke=e=>tke.test(e),ske=e=>!er(e)&&!tr(e),ake=e=>bg(e,KZ,HZ),er=e=>qZ.test(e),rh=e=>bg(e,JZ,nke),iO=e=>bg(e,dke,Hr),q6=e=>bg(e,WZ,HZ),lke=e=>bg(e,GZ,oke),db=e=>bg(e,YZ,ike),tr=e=>VZ.test(e),ov=e=>_g(e,JZ),uke=e=>_g(e,hke),V6=e=>_g(e,WZ),cke=e=>_g(e,KZ),fke=e=>_g(e,GZ),hb=e=>_g(e,YZ,!0),bg=(e,t,r)=>{const n=qZ.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},_g=(e,t,r=!1)=>{const n=VZ.exec(e);return n?n[1]?t(n[1]):r:!1},WZ=e=>e==="position"||e==="percentage",GZ=e=>e==="image"||e==="url",KZ=e=>e==="length"||e==="size"||e==="bg-size",JZ=e=>e==="length",dke=e=>e==="number",hke=e=>e==="family-name",YZ=e=>e==="shadow",pke=()=>{const e=Gi("color"),t=Gi("font"),r=Gi("text"),n=Gi("font-weight"),i=Gi("tracking"),o=Gi("leading"),s=Gi("breakpoint"),a=Gi("container"),l=Gi("spacing"),u=Gi("radius"),f=Gi("shadow"),c=Gi("inset-shadow"),p=Gi("text-shadow"),m=Gi("drop-shadow"),g=Gi("blur"),_=Gi("perspective"),v=Gi("aspect"),h=Gi("ease"),E=Gi("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...S(),tr,er],x=()=>["auto","hidden","clip","visible","scroll"],d=()=>["auto","contain","none"],$=()=>[tr,er,l],O=()=>[Bp,"full","auto",...$()],P=()=>[Sf,"none","subgrid",tr,er],k=()=>["auto",{span:["full",Sf,tr,er]},Sf,tr,er],B=()=>[Sf,"auto",tr,er],K=()=>["auto","min","max","fr",tr,er],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",...$()],fe=()=>[Bp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],re=()=>[e,tr,er],le=()=>[...S(),V6,q6,{position:[tr,er]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",cke,ake,{size:[tr,er]}],J=()=>[nO,ov,rh],R=()=>["","none","full",u,tr,er],C=()=>["",Hr,ov,rh],q=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[Hr,nO,V6,q6],ee=()=>["","none",g,tr,er],se=()=>["none",Hr,tr,er],we=()=>["none",Hr,tr,er],Oe=()=>[Hr,tr,er],I=()=>[Bp,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[dc],breakpoint:[dc],color:[rke],container:[dc],"drop-shadow":[dc],ease:["in","out","in-out"],font:[ske],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[dc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[dc],shadow:[dc],spacing:["px",Hr],text:[dc],"text-shadow":[dc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bp,er,tr,v]}],container:["container"],columns:[{columns:[Hr,er,tr,a]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:x()}],"overflow-x":[{"overflow-x":x()}],"overflow-y":[{"overflow-y":x()}],overscroll:[{overscroll:d()}],"overscroll-x":[{"overscroll-x":d()}],"overscroll-y":[{"overscroll-y":d()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Sf,"auto",tr,er]}],basis:[{basis:[Bp,"full","auto",a,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Hr,Bp,"auto","initial","none",er]}],grow:[{grow:["",Hr,tr,er]}],shrink:[{shrink:["",Hr,tr,er]}],order:[{order:[Sf,"first","last","none",tr,er]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[a,"screen",...fe()]}],"min-w":[{"min-w":[a,"screen","none",...fe()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",r,ov,rh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,tr,iO]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nO,er]}],"font-family":[{font:[uke,er,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,tr,er]}],"line-clamp":[{"line-clamp":[Hr,"none",tr,iO]}],leading:[{leading:[o,...$()]}],"list-image":[{"list-image":["none",tr,er]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tr,er]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Hr,"from-font","auto",tr,rh]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Hr,"auto",tr,er]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tr,er]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tr,er]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sf,tr,er],radial:["",tr,er],conic:[Sf,tr,er]},fke,lke]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:C()}],"border-w-x":[{"border-x":C()}],"border-w-y":[{"border-y":C()}],"border-w-s":[{"border-s":C()}],"border-w-e":[{"border-e":C()}],"border-w-t":[{"border-t":C()}],"border-w-r":[{"border-r":C()}],"border-w-b":[{"border-b":C()}],"border-w-l":[{"border-l":C()}],"divide-x":[{"divide-x":C()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":C()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Hr,tr,er]}],"outline-w":[{outline:["",Hr,ov,rh]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",f,hb,db]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",c,hb,db]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Hr,rh]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":C()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",p,hb,db]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Hr,tr,er]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Hr]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[tr,er]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Hr]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tr,er]}],filter:[{filter:["","none",tr,er]}],blur:[{blur:ee()}],brightness:[{brightness:[Hr,tr,er]}],contrast:[{contrast:[Hr,tr,er]}],"drop-shadow":[{"drop-shadow":["","none",m,hb,db]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Hr,tr,er]}],"hue-rotate":[{"hue-rotate":[Hr,tr,er]}],invert:[{invert:["",Hr,tr,er]}],saturate:[{saturate:[Hr,tr,er]}],sepia:[{sepia:["",Hr,tr,er]}],"backdrop-filter":[{"backdrop-filter":["","none",tr,er]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[Hr,tr,er]}],"backdrop-contrast":[{"backdrop-contrast":[Hr,tr,er]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Hr,tr,er]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Hr,tr,er]}],"backdrop-invert":[{"backdrop-invert":["",Hr,tr,er]}],"backdrop-opacity":[{"backdrop-opacity":[Hr,tr,er]}],"backdrop-saturate":[{"backdrop-saturate":[Hr,tr,er]}],"backdrop-sepia":[{"backdrop-sepia":["",Hr,tr,er]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tr,er]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Hr,"initial",tr,er]}],ease:[{ease:["linear","initial",h,tr,er]}],delay:[{delay:[Hr,tr,er]}],animate:[{animate:["none",E,tr,er]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,tr,er]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[tr,er,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:I()}],"translate-x":[{"translate-x":I()}],"translate-y":[{"translate-y":I()}],"translate-z":[{"translate-z":I()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tr,er]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tr,er]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Hr,ov,rh,iO]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},XZ=JCe(pke),QZ=Pe.createContext({percent:0,stepCount:0,currentIndex:0}),mke=({percent:e,filledBackground:t="linear-gradient(to right, #A8B988, #B5D7BD)",children:r,className:n})=>{const o=Pe.Children.toArray(r).length,s=Math.floor(e/100*o),a=Pe.Children.map(r,(l,u)=>ct.isValidElement(l)?ct.cloneElement(l,{stepIndex:u}):l);return Q.jsx(QZ.Provider,{value:{percent:e,stepCount:o,currentIndex:s},children:Q.jsxs("div",{className:XZ("relative mb-6 h-8 w-full",n),children:[Q.jsx("div",{className:"absolute left-0 top-1/2 h-2 w-full -translate-y-1/2 rounded-full bg-gray-200"}),Q.jsx("div",{className:"absolute left-0 top-1/2 h-2 -translate-y-1/2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${e}%`,background:t}}),Q.jsx("div",{className:"absolute left-0 top-0 flex w-full items-center justify-between",children:a})]})})},oO=({children:e,transition:t="scale",className:r,stepIndex:n=0})=>{const{currentIndex:i}=Pe.useContext(QZ),o=n<=i,s=t==="scale"&&o?"scale-110":"scale-100";return Q.jsx("div",{"data-step":n,className:XZ("transition-all duration-300",s,r),children:e({accomplished:o,index:n})})},ZZ={workflow:{currentStep:1,showDialog:!1,backgroundTdToSend:{}},metadata:{model:"",author:"",manufacturer:"",license:"",copyrightYear:"",holder:"",copied:!1,validation:null,errorMessage:""},interaction:{activeSection:"INSTANCE",sectionErrors:{instance:{error:!1,message:""},gateway:{error:!1,message:""},table:{error:!1,message:""},results:{error:!1,message:""}},isTestingAll:!1,settingsData:{northboundUrl:hs("northbound")||"",southboundUrl:hs("southbound")||"",pathToValue:hs("valuePath")||"/"},placeholderValues:{},propertyResponseMap:{}},submission:{tmCatalogEndpoint:"",tmCatalogEndpointError:"",repository:"",repositoryError:"",submitted:!1,submittedError:"",id:"",link:""}};function gke(e,t){switch(t.type){case"SET_STEP":return{...e,workflow:{...e.workflow,currentStep:t.payload}};case"SHOW_DIALOG":return{...e,workflow:{...e.workflow,showDialog:t.payload}};case"SET_BACKGROUND_TD_TO_SEND":return{...e,workflow:{...e.workflow,backgroundTdToSend:t.payload}};case"SET_METADATA_MODEL":return{...e,metadata:{...e.metadata,model:t.payload}};case"SET_METADATA_AUTHOR":return{...e,metadata:{...e.metadata,author:t.payload}};case"SET_METADATA_MANUFACTURER":return{...e,metadata:{...e.metadata,manufacturer:t.payload}};case"SET_METADATA_LICENSE":return{...e,metadata:{...e.metadata,license:t.payload}};case"SET_METADATA_COPYRIGHT_YEAR":return{...e,metadata:{...e.metadata,copyrightYear:t.payload}};case"SET_METADATA_HOLDER":return{...e,metadata:{...e.metadata,holder:t.payload}};case"SET_METADATA_VALIDATION":return{...e,metadata:{...e.metadata,validation:t.payload}};case"SET_METADATA_ERROR_MESSAGE":return{...e,metadata:{...e.metadata,errorMessage:t.payload,validation:"INVALID"}};case"SET_METADATA_COPIED":return{...e,metadata:{...e.metadata,copied:t.payload}};case"INITIALIZE_METADATA":return{...e,metadata:{...e.metadata,...t.payload}};case"SET_INTERACTION_ACTIVE_SECTION":return{...e,interaction:{...e.interaction,activeSection:t.payload}};case"SET_INTERACTION_SECTION_ERROR":return{...e,interaction:{...e.interaction,sectionErrors:{...e.interaction.sectionErrors,[t.section]:{error:t.error,message:t.message}}}};case"SET_INTERACTION_TESTING_ALL":return{...e,interaction:{...e.interaction,isTestingAll:t.payload}};case"SET_INTERACTION_SETTINGS_DATA":return{...e,interaction:{...e.interaction,settingsData:t.payload}};case"UPDATE_INTERACTION_PLACEHOLDER_VALUES":return{...e,interaction:{...e.interaction,placeholderValues:t.payload}};case"UPDATE_INTERACTION_SINGLE_PLACEHOLDER":return{...e,interaction:{...e.interaction,placeholderValues:{...e.interaction.placeholderValues,[t.key]:t.value}}};case"SET_INTERACTION_PROPERTY_RESPONSE_MAP":return{...e,interaction:{...e.interaction,propertyResponseMap:t.payload}};case"SET_SUBMISSION_TMCATALOG_ENDPOINT":return{...e,submission:{...e.submission,tmCatalogEndpoint:t.payload}};case"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR":return{...e,submission:{...e.submission,tmCatalogEndpointError:t.payload}};case"SET_SUBMISSION_REPOSITORY":return{...e,submission:{...e.submission,repository:t.payload}};case"SET_SUBMISSION_REPOSITORY_ERROR":return{...e,submission:{...e.submission,repositoryError:t.payload}};case"SET_SUBMISSION_SUBMITTED":return{...e,submission:{...e.submission,submitted:t.payload}};case"SET_SUBMISSION_SUBMITTED_ERROR":return{...e,submission:{...e.submission,submittedError:t.payload}};case"SET_SUBMISSION_ID":return{...e,submission:{...e.submission,id:t.payload}};case"SET_SUBMISSION_LINK":return{...e,submission:{...e.submission,link:t.payload}};case"RESET_STATE":return ZZ;default:return e}}const vke=({model:e,onChangeModel:t,author:r,onChangeAuthor:n,manufacturer:i,onChangeManufacturer:o,license:s,onChangeLicense:a,copyrightYear:l,onChangeCopyrightYear:u,holder:f,onChangeHolder:c,onClickCatalogValidation:p,onClickCopyThingModel:m,isValidating:g,isValid:_,errorMessage:v,copied:h})=>Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"w-full rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"The following fields will be added in the background to your TM for cataloging purposes to ensure quality and discoverability of Thing Models."}),Q.jsxs("div",{className:"mx-auto w-[70%] flex-col px-4",children:[Q.jsx(fs,{label:"Model*",placeholder:"The Manufacturer Part Number (MPN) of the product, or the product to which the offer refers.",id:"model",type:"text",value:e,onChange:t,autoFocus:!0}),Q.jsx(fs,{label:"Author*",placeholder:"The organization writing the TM",id:"author",type:"text",value:r,onChange:n,autoFocus:!1}),Q.jsx(fs,{label:"Manufacturer*",placeholder:"Manufacturer of the device",id:"manufacturer",type:"text",value:i,onChange:o,autoFocus:!1}),Q.jsx(fs,{label:"License",placeholder:"URL of the license, e.g., https://www.apache.org/licenses/LICENSE-2.0.txt",id:"license",type:"text",value:s,onChange:a,autoFocus:!1}),Q.jsx(fs,{label:"Copyright Year",placeholder:"e.g. 2024...",id:"copyright",type:"text",value:l,onChange:u,autoFocus:!1}),Q.jsx(fs,{label:"Copyright Holder",placeholder:"Organization holding the copyright of the TM...",id:"holder",type:"text",value:f,onChange:c,autoFocus:!1}),Q.jsxs("div",{className:"flex flex-row justify-end",children:[Q.jsx("div",{className:"my-2 mt-6 flex flex-grow justify-end",children:Q.jsx(_a,{tooltip:r9(),id:"validateTMContent",className:"justify-center"})}),Q.jsx(ri,{id:"catalogValidation",onClick:p,variant:"primary",type:"button",className:"my-2 mt-6 w-1/4",children:Q.jsx("div",{className:"flex w-full items-center justify-center",children:g?Q.jsxs(Q.Fragment,{children:[Q.jsx("span",{className:"pl-6",children:"Validating"}),Q.jsx(r0,{className:"animate-spin",size:20})]}):Q.jsx(Q.Fragment,{children:Q.jsx("span",{className:"pl-6",children:"Validate"})})})})]})]}),Q.jsxs("div",{children:[v&&Q.jsxs("div",{className:"mb-2 mt-2 h-full w-full rounded bg-red-500 p-1 text-white",children:[Q.jsx(Hh,{size:24,className:"mr-1 inline text-black"}),v]}),_&&Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"flex flex-col",children:[Q.jsxs("div",{className:"m-2 inline rounded bg-green-500 p-2 text-white",children:[Q.jsx(e0,{size:16,className:"mr-1 inline"}),"TM is valid"]}),Q.jsx("div",{children:Q.jsx(ri,{id:"copyThingModel",onClick:m,variant:"primary",type:"button",className:"mx-2 my-4",children:h?"Copied Thing Model":"Click to copy the full Thing Model"})})]})})]})]})}),yke=({tmCatalogEndpoint:e,tmCatalogEndpointError:t,handleTmCatalogEndpointChange:r,repository:n,repositoryError:i,handleRepositoryChange:o,handleSubmit:s,submittedError:a,submitted:l,id:u,link:f})=>{const c=async()=>{window.open(f,"_blank","noopener,noreferrer")},p=async()=>{await navigator.clipboard.writeText(u)};return Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"w-full rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Add the TM Catalog Endpoint and Repository URL"}),Q.jsxs("div",{className:"mx-auto w-[70%] flex-col px-4",children:[Q.jsx(fs,{label:"TM Catalog Endpoint",placeholder:"TM Catalog Endpoint:...",id:"catalogEndpoint",type:"text",value:e,autoFocus:!1,onChange:r,className:`${t?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),t&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:t}),Q.jsx(fs,{label:"Name of the Repository",placeholder:"In case there are multiple repositories hosted, specify which one with a string. Example: my-catalog",id:"urlRepository",type:"text",value:n,autoFocus:!1,onChange:o,className:`${i?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),i&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:i}),Q.jsx("div",{className:"flex flex-row justify-end",children:Q.jsx(ri,{id:"submit",onClick:s,variant:"primary",type:"button",className:"mb-2 mt-6 w-1/4",children:"Submit"})})]}),Q.jsxs("div",{className:"flex flex-col justify-center py-2",children:[a&&Q.jsxs("div",{className:"mb-2 mt-2 inline h-full w-full rounded bg-red-500 p-1 text-white",children:[Q.jsx(Hh,{size:16,className:"mr-1 inline"}),a]}),l&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"mb-2 mt-2 inline h-10 rounded bg-green-500 p-2 text-white",children:[Q.jsx(e0,{size:16,className:"mr-1 inline"}),"TM submitted successfully!"]}),Q.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[Q.jsx("div",{className:"col-span-1 w-full",children:Q.jsx(ri,{id:u,onClick:p,variant:"primary",type:"button",className:"w-3/4",children:Q.jsxs("div",{className:"flex w-full items-center justify-between",children:[Q.jsx("span",{children:"Copy TM id"}),Q.jsx(Ak,{size:20,className:"ml-2 cursor-pointer"})]})})}),Q.jsx("h1",{className:"col-span-2 pl-4 text-center",children:u})]}),Q.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[Q.jsx("div",{className:"col-span-1",children:Q.jsx(ri,{id:f,onClick:c,variant:"primary",type:"button",className:"w-3/4",children:Q.jsxs("div",{className:"flex w-full items-center justify-between",children:[Q.jsx("span",{children:"Open in new tab"}),Q.jsx(Rk,{size:20,className:"ml-2 inline cursor-pointer"})]})})}),Q.jsx("h1",{className:"col-span-2 pl-4 text-center",children:f})]})]})]})]})})};var _1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */_1.exports;(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",c=1,p=2,m=4,g=1,_=2,v=1,h=2,E=4,y=8,S=16,T=32,x=64,d=128,$=256,O=512,P=30,k="...",B=800,K=16,ie=1,W=2,ne=3,fe=1/0,re=9007199254740991,le=17976931348623157e292,F=NaN,z=4294967295,J=z-1,R=z>>>1,C=[["ary",d],["bind",v],["bindKey",h],["curry",y],["curryRight",S],["flip",O],["partial",T],["partialRight",x],["rearg",$]],q="[object Arguments]",oe="[object Array]",X="[object AsyncFunction]",ee="[object Boolean]",se="[object Date]",we="[object DOMException]",Oe="[object Error]",I="[object Function]",L="[object GeneratorFunction]",M="[object Map]",Z="[object Number]",ue="[object Null]",de="[object Object]",ve="[object Promise]",Se="[object Proxy]",Fe="[object RegExp]",He="[object Set]",Ve="[object String]",ut="[object Symbol]",Qe="[object Undefined]",Ye="[object WeakMap]",te="[object WeakSet]",j="[object ArrayBuffer]",U="[object DataView]",ce="[object Float32Array]",Te="[object Float64Array]",Re="[object Int8Array]",ze="[object Int16Array]",Be="[object Int32Array]",Xe="[object Uint8Array]",vt="[object Uint8ClampedArray]",St="[object Uint16Array]",yt="[object Uint32Array]",Yt=/\b__p \+= '';/g,Jr=/\b(__p \+=) '' \+/g,cn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tr=/&(?:amp|lt|gt|quot|#39);/g,Rr=/[&<>"']/g,Nn=RegExp(Tr.source),wr=RegExp(Rr.source),cr=/<%-([\s\S]+?)%>/g,ar=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,xt=RegExp(Lt.source),Mt=/^\s+/,ye=/\s/,me=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$e=/\{\n\/\* \[wrapped with (.+)\] \*/,Me=/,? & /,De=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,mt=/\\(\\)?/g,At=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ht=/\w*$/,Xt=/^[-+]0x[0-9a-f]+$/i,Ft=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,ur=/^0o[0-7]+$/i,It=/^(?:0|[1-9]\d*)$/,nr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zt=/($^)/,Ut=/['\n\r\u2028\u2029\\]/g,Fr="\\ud800-\\udfff",mn="\\u0300-\\u036f",Zr="\\ufe20-\\ufe2f",ni="\\u20d0-\\u20ff",Hn=mn+Zr+ni,nn="\\u2700-\\u27bf",vn="a-z\\xdf-\\xf6\\xf8-\\xff",$i="\\xac\\xb1\\xd7\\xf7",Wn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zi="\\u2000-\\u206f",Ss=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wo="A-Z\\xc0-\\xd6\\xd8-\\xde",on="\\ufe0e\\ufe0f",Gn=$i+Wn+zi+Ss,xi="[']",Na="["+Fr+"]",Go="["+Gn+"]",Zn="["+Hn+"]",iu="\\d+",wl="["+nn+"]",Ad="["+vn+"]",fp="[^"+Fr+Gn+iu+nn+vn+Wo+"]",Od="\\ud83c[\\udffb-\\udfff]",Ko="(?:"+Zn+"|"+Od+")",Pd="[^"+Fr+"]",Ia="(?:\\ud83c[\\udde6-\\uddff]){2}",Ts="[\\ud800-\\udbff][\\udc00-\\udfff]",bl="["+Wo+"]",ea="\\u200d",ho="(?:"+Ad+"|"+fp+")",Ca="(?:"+bl+"|"+fp+")",Yu="(?:"+xi+"(?:d|ll|m|re|s|t|ve))?",_l="(?:"+xi+"(?:D|LL|M|RE|S|T|VE))?",Xu=Ko+"?",ou="["+on+"]?",Gc="(?:"+ea+"(?:"+[Pd,Ia,Ts].join("|")+")"+ou+Xu+")*",Jo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qu=ou+Xu+Gc,ta="(?:"+[wl,Ia,Ts].join("|")+")"+Qu,El="(?:"+[Pd+Zn+"?",Zn,Ia,Ts,Na].join("|")+")",Jc=RegExp(xi,"g"),Eg=RegExp(Zn,"g"),Yc=RegExp(Od+"(?="+Od+")|"+El+Qu,"g"),dp=RegExp([bl+"?"+Ad+"+"+Yu+"(?="+[Go,bl,"$"].join("|")+")",Ca+"+"+_l+"(?="+[Go,bl+ho,"$"].join("|")+")",bl+"?"+ho+"+"+Yu,bl+"+"+_l,Kc,Jo,iu,ta].join("|"),"g"),hp=RegExp("["+ea+Fr+Hn+on+"]"),pp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,su=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Rd=-1,$n={};$n[ce]=$n[Te]=$n[Re]=$n[ze]=$n[Be]=$n[Xe]=$n[vt]=$n[St]=$n[yt]=!0,$n[q]=$n[oe]=$n[j]=$n[ee]=$n[U]=$n[se]=$n[Oe]=$n[I]=$n[M]=$n[Z]=$n[de]=$n[Fe]=$n[He]=$n[Ve]=$n[Ye]=!1;var fn={};fn[q]=fn[oe]=fn[j]=fn[U]=fn[ee]=fn[se]=fn[ce]=fn[Te]=fn[Re]=fn[ze]=fn[Be]=fn[M]=fn[Z]=fn[de]=fn[Fe]=fn[He]=fn[Ve]=fn[ut]=fn[Xe]=fn[vt]=fn[St]=fn[yt]=!0,fn[Oe]=fn[I]=fn[Ye]=!1;var Nd={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},au={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qc=parseFloat,Zc=parseInt,ef=typeof uo=="object"&&uo&&uo.Object===Object&&uo,Sl=typeof self=="object"&&self&&self.Object===Object&&self,Dn=ef||Sl||Function("return this")(),Tl=t&&!t.nodeType&&t,$s=Tl&&!0&&e&&!e.nodeType&&e,tf=$s&&$s.exports===Tl,rf=tf&&ef.process,qi=function(){try{var Y=$s&&$s.require&&$s.require("util").types;return Y||rf&&rf.binding&&rf.binding("util")}catch{}}(),D=qi&&qi.isArrayBuffer,H=qi&&qi.isDate,ae=qi&&qi.isMap,he=qi&&qi.isRegExp,_e=qi&&qi.isSet,Ee=qi&&qi.isTypedArray;function Ae(Y,ge,be){switch(be.length){case 0:return Y.call(ge);case 1:return Y.call(ge,be[0]);case 2:return Y.call(ge,be[0],be[1]);case 3:return Y.call(ge,be[0],be[1],be[2])}return Y.apply(ge,be)}function Je(Y,ge,be,qe){for(var Ge=-1,tt=Y==null?0:Y.length;++Ge<tt;){var Ze=Y[Ge];ge(qe,Ze,be(Ze),Y)}return qe}function We(Y,ge){for(var be=-1,qe=Y==null?0:Y.length;++be<qe&&ge(Y[be],be,Y)!==!1;);return Y}function it(Y,ge){for(var be=Y==null?0:Y.length;be--&&ge(Y[be],be,Y)!==!1;);return Y}function ht(Y,ge){for(var be=-1,qe=Y==null?0:Y.length;++be<qe;)if(!ge(Y[be],be,Y))return!1;return!0}function gt(Y,ge){for(var be=-1,qe=Y==null?0:Y.length,Ge=0,tt=[];++be<qe;){var Ze=Y[be];ge(Ze,be,Y)&&(tt[Ge++]=Ze)}return tt}function at(Y,ge){var be=Y==null?0:Y.length;return!!be&&xn(Y,ge,0)>-1}function Rt(Y,ge,be){for(var qe=-1,Ge=Y==null?0:Y.length;++qe<Ge;)if(be(ge,Y[qe]))return!0;return!1}function zt(Y,ge){for(var be=-1,qe=Y==null?0:Y.length,Ge=Array(qe);++be<qe;)Ge[be]=ge(Y[be],be,Y);return Ge}function br(Y,ge){for(var be=-1,qe=ge.length,Ge=Y.length;++be<qe;)Y[Ge+be]=ge[be];return Y}function pr(Y,ge,be,qe){var Ge=-1,tt=Y==null?0:Y.length;for(qe&&tt&&(be=Y[++Ge]);++Ge<tt;)be=ge(be,Y[Ge],Ge,Y);return be}function wi(Y,ge,be,qe){var Ge=Y==null?0:Y.length;for(qe&&Ge&&(be=Y[--Ge]);Ge--;)be=ge(be,Y[Ge],Ge,Y);return be}function Bn(Y,ge){for(var be=-1,qe=Y==null?0:Y.length;++be<qe;)if(ge(Y[be],be,Y))return!0;return!1}var xs=ja("length");function As(Y){return Y.split("")}function jr(Y){return Y.match(De)||[]}function ka(Y,ge,be){var qe;return be(Y,function(Ge,tt,Ze){if(ge(Ge,tt,Ze))return qe=tt,!1}),qe}function Dr(Y,ge,be,qe){for(var Ge=Y.length,tt=be+(qe?1:-1);qe?tt--:++tt<Ge;)if(ge(Y[tt],tt,Y))return tt;return-1}function xn(Y,ge,be){return ge===ge?of(Y,ge,be):Dr(Y,di,be)}function uu(Y,ge,be,qe){for(var Ge=be-1,tt=Y.length;++Ge<tt;)if(qe(Y[Ge],ge))return Ge;return-1}function di(Y){return Y!==Y}function Vi(Y,ge){var be=Y==null?0:Y.length;return be?Un(Y,ge)/be:F}function ja(Y){return function(ge){return ge==null?r:ge[Y]}}function to(Y){return function(ge){return Y==null?r:Y[ge]}}function ki(Y,ge,be,qe,Ge){return Ge(Y,function(tt,Ze,ot){be=qe?(qe=!1,tt):ge(be,tt,Ze,ot)}),be}function Hi(Y,ge){var be=Y.length;for(Y.sort(ge);be--;)Y[be]=Y[be].value;return Y}function Un(Y,ge){for(var be,qe=-1,Ge=Y.length;++qe<Ge;){var tt=ge(Y[qe]);tt!==r&&(be=be===r?tt:be+tt)}return be}function ra(Y,ge){for(var be=-1,qe=Array(Y);++be<Y;)qe[be]=ge(be);return qe}function Os(Y,ge){return zt(ge,function(be){return[be,Y[be]]})}function ji(Y){return Y&&Y.slice(0,Cd(Y)+1).replace(Mt,"")}function ro(Y){return function(ge){return Y(ge)}}function nf(Y,ge){return zt(ge,function(be){return Y[be]})}function Da(Y,ge){return Y.has(ge)}function dn(Y,ge){for(var be=-1,qe=Y.length;++be<qe&&xn(ge,Y[be],0)>-1;);return be}function cu(Y,ge){for(var be=Y.length;be--&&xn(ge,Y[be],0)>-1;);return be}function Ao(Y,ge){for(var be=Y.length,qe=0;be--;)Y[be]===ge&&++qe;return qe}var na=to(Nd),mp=to(au);function gp(Y){return"\\"+Xc[Y]}function vp(Y,ge){return Y==null?r:Y[ge]}function Oo(Y){return hp.test(Y)}function Id(Y){return pp.test(Y)}function Ma(Y){for(var ge,be=[];!(ge=Y.next()).done;)be.push(ge.value);return be}function $l(Y){var ge=-1,be=Array(Y.size);return Y.forEach(function(qe,Ge){be[++ge]=[Ge,qe]}),be}function xl(Y,ge){return function(be){return Y(ge(be))}}function Po(Y,ge){for(var be=-1,qe=Y.length,Ge=0,tt=[];++be<qe;){var Ze=Y[be];(Ze===ge||Ze===f)&&(Y[be]=f,tt[Ge++]=be)}return tt}function ia(Y){var ge=-1,be=Array(Y.size);return Y.forEach(function(qe){be[++ge]=qe}),be}function Zu(Y){var ge=-1,be=Array(Y.size);return Y.forEach(function(qe){be[++ge]=[qe,qe]}),be}function of(Y,ge,be){for(var qe=be-1,Ge=Y.length;++qe<Ge;)if(Y[qe]===ge)return qe;return-1}function Yo(Y,ge,be){for(var qe=be+1;qe--;)if(Y[qe]===ge)return qe;return qe}function Xo(Y){return Oo(Y)?ec(Y):xs(Y)}function Di(Y){return Oo(Y)?Ue(Y):As(Y)}function Cd(Y){for(var ge=Y.length;ge--&&ye.test(Y.charAt(ge)););return ge}var sf=to(lu);function ec(Y){for(var ge=Yc.lastIndex=0;Yc.test(Y);)++ge;return ge}function Ue(Y){return Y.match(Yc)||[]}function rt(Y){return Y.match(dp)||[]}var lt=function Y(ge){ge=ge==null?Dn:G.defaults(Dn.Object(),ge,G.pick(Dn,su));var be=ge.Array,qe=ge.Date,Ge=ge.Error,tt=ge.Function,Ze=ge.Math,ot=ge.Object,Ot=ge.RegExp,Pt=ge.String,Wt=ge.TypeError,Ct=be.prototype,rr=tt.prototype,Or=ot.prototype,Br=ge["__core-js_shared__"],Kn=rr.toString,or=Or.hasOwnProperty,Mn=0,Yr=function(){var A=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),Ai=Or.toString,Er=Kn.call(ot),Jn=Dn._,sn=Ot("^"+Kn.call(or).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ur=tf?ge.Buffer:r,dr=ge.Symbol,yn=ge.Uint8Array,Nr=Ur?Ur.allocUnsafe:r,An=xl(ot.getPrototypeOf,ot),po=ot.create,Mi=Or.propertyIsEnumerable,af=Ct.splice,mM=dr?dr.isConcatSpreadable:r,Sg=dr?dr.iterator:r,kd=dr?dr.toStringTag:r,P0=function(){try{var A=Fd(ot,"defineProperty");return A({},"",{}),A}catch{}}(),f7=ge.clearTimeout!==Dn.clearTimeout&&ge.clearTimeout,d7=qe&&qe.now!==Dn.Date.now&&qe.now,h7=ge.setTimeout!==Dn.setTimeout&&ge.setTimeout,R0=Ze.ceil,N0=Ze.floor,i$=ot.getOwnPropertySymbols,p7=Ur?Ur.isBuffer:r,gM=ge.isFinite,m7=Ct.join,g7=xl(ot.keys,ot),Wi=Ze.max,Ro=Ze.min,v7=qe.now,y7=ge.parseInt,vM=Ze.random,w7=Ct.reverse,o$=Fd(ge,"DataView"),Tg=Fd(ge,"Map"),s$=Fd(ge,"Promise"),yp=Fd(ge,"Set"),$g=Fd(ge,"WeakMap"),xg=Fd(ot,"create"),I0=$g&&new $g,wp={},b7=Bd(o$),_7=Bd(Tg),E7=Bd(s$),S7=Bd(yp),T7=Bd($g),C0=dr?dr.prototype:r,Ag=C0?C0.valueOf:r,yM=C0?C0.toString:r;function Ne(A){if(bi(A)&&!Pr(A)&&!(A instanceof an)){if(A instanceof La)return A;if(or.call(A,"__wrapped__"))return wL(A)}return new La(A)}var bp=function(){function A(){}return function(N){if(!hi(N))return{};if(po)return po(N);A.prototype=N;var V=new A;return A.prototype=r,V}}();function k0(){}function La(A,N){this.__wrapped__=A,this.__actions__=[],this.__chain__=!!N,this.__index__=0,this.__values__=r}Ne.templateSettings={escape:cr,evaluate:ar,interpolate:Ie,variable:"",imports:{_:Ne}},Ne.prototype=k0.prototype,Ne.prototype.constructor=Ne,La.prototype=bp(k0.prototype),La.prototype.constructor=La;function an(A){this.__wrapped__=A,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function $7(){var A=new an(this.__wrapped__);return A.__actions__=Ps(this.__actions__),A.__dir__=this.__dir__,A.__filtered__=this.__filtered__,A.__iteratees__=Ps(this.__iteratees__),A.__takeCount__=this.__takeCount__,A.__views__=Ps(this.__views__),A}function x7(){if(this.__filtered__){var A=new an(this);A.__dir__=-1,A.__filtered__=!0}else A=this.clone(),A.__dir__*=-1;return A}function A7(){var A=this.__wrapped__.value(),N=this.__dir__,V=Pr(A),pe=N<0,xe=V?A.length:0,je=Fee(0,xe,this.__views__),Ke=je.start,nt=je.end,st=nt-Ke,Tt=pe?nt:Ke-1,$t=this.__iteratees__,jt=$t.length,Gt=0,sr=Ro(st,this.__takeCount__);if(!V||!pe&&xe==st&&sr==st)return zM(A,this.__actions__);var gr=[];e:for(;st--&&Gt<sr;){Tt+=N;for(var Mr=-1,vr=A[Tt];++Mr<jt;){var en=$t[Mr],hn=en.iteratee,aa=en.type,es=hn(vr);if(aa==W)vr=es;else if(!es){if(aa==ie)continue e;break e}}gr[Gt++]=vr}return gr}an.prototype=bp(k0.prototype),an.prototype.constructor=an;function jd(A){var N=-1,V=A==null?0:A.length;for(this.clear();++N<V;){var pe=A[N];this.set(pe[0],pe[1])}}function O7(){this.__data__=xg?xg(null):{},this.size=0}function P7(A){var N=this.has(A)&&delete this.__data__[A];return this.size-=N?1:0,N}function R7(A){var N=this.__data__;if(xg){var V=N[A];return V===l?r:V}return or.call(N,A)?N[A]:r}function N7(A){var N=this.__data__;return xg?N[A]!==r:or.call(N,A)}function I7(A,N){var V=this.__data__;return this.size+=this.has(A)?0:1,V[A]=xg&&N===r?l:N,this}jd.prototype.clear=O7,jd.prototype.delete=P7,jd.prototype.get=R7,jd.prototype.has=N7,jd.prototype.set=I7;function tc(A){var N=-1,V=A==null?0:A.length;for(this.clear();++N<V;){var pe=A[N];this.set(pe[0],pe[1])}}function C7(){this.__data__=[],this.size=0}function k7(A){var N=this.__data__,V=j0(N,A);if(V<0)return!1;var pe=N.length-1;return V==pe?N.pop():af.call(N,V,1),--this.size,!0}function j7(A){var N=this.__data__,V=j0(N,A);return V<0?r:N[V][1]}function D7(A){return j0(this.__data__,A)>-1}function M7(A,N){var V=this.__data__,pe=j0(V,A);return pe<0?(++this.size,V.push([A,N])):V[pe][1]=N,this}tc.prototype.clear=C7,tc.prototype.delete=k7,tc.prototype.get=j7,tc.prototype.has=D7,tc.prototype.set=M7;function rc(A){var N=-1,V=A==null?0:A.length;for(this.clear();++N<V;){var pe=A[N];this.set(pe[0],pe[1])}}function L7(){this.size=0,this.__data__={hash:new jd,map:new(Tg||tc),string:new jd}}function F7(A){var N=G0(this,A).delete(A);return this.size-=N?1:0,N}function B7(A){return G0(this,A).get(A)}function U7(A){return G0(this,A).has(A)}function z7(A,N){var V=G0(this,A),pe=V.size;return V.set(A,N),this.size+=V.size==pe?0:1,this}rc.prototype.clear=L7,rc.prototype.delete=F7,rc.prototype.get=B7,rc.prototype.has=U7,rc.prototype.set=z7;function Dd(A){var N=-1,V=A==null?0:A.length;for(this.__data__=new rc;++N<V;)this.add(A[N])}function q7(A){return this.__data__.set(A,l),this}function V7(A){return this.__data__.has(A)}Dd.prototype.add=Dd.prototype.push=q7,Dd.prototype.has=V7;function Al(A){var N=this.__data__=new tc(A);this.size=N.size}function H7(){this.__data__=new tc,this.size=0}function W7(A){var N=this.__data__,V=N.delete(A);return this.size=N.size,V}function G7(A){return this.__data__.get(A)}function K7(A){return this.__data__.has(A)}function J7(A,N){var V=this.__data__;if(V instanceof tc){var pe=V.__data__;if(!Tg||pe.length<i-1)return pe.push([A,N]),this.size=++V.size,this;V=this.__data__=new rc(pe)}return V.set(A,N),this.size=V.size,this}Al.prototype.clear=H7,Al.prototype.delete=W7,Al.prototype.get=G7,Al.prototype.has=K7,Al.prototype.set=J7;function wM(A,N){var V=Pr(A),pe=!V&&Ud(A),xe=!V&&!pe&&df(A),je=!V&&!pe&&!xe&&Tp(A),Ke=V||pe||xe||je,nt=Ke?ra(A.length,Pt):[],st=nt.length;for(var Tt in A)(N||or.call(A,Tt))&&!(Ke&&(Tt=="length"||xe&&(Tt=="offset"||Tt=="parent")||je&&(Tt=="buffer"||Tt=="byteLength"||Tt=="byteOffset")||sc(Tt,st)))&&nt.push(Tt);return nt}function bM(A){var N=A.length;return N?A[v$(0,N-1)]:r}function Y7(A,N){return K0(Ps(A),Md(N,0,A.length))}function X7(A){return K0(Ps(A))}function a$(A,N,V){(V!==r&&!Ol(A[N],V)||V===r&&!(N in A))&&nc(A,N,V)}function Og(A,N,V){var pe=A[N];(!(or.call(A,N)&&Ol(pe,V))||V===r&&!(N in A))&&nc(A,N,V)}function j0(A,N){for(var V=A.length;V--;)if(Ol(A[V][0],N))return V;return-1}function Q7(A,N,V,pe){return lf(A,function(xe,je,Ke){N(pe,xe,V(xe),Ke)}),pe}function _M(A,N){return A&&du(N,no(N),A)}function Z7(A,N){return A&&du(N,Ns(N),A)}function nc(A,N,V){N=="__proto__"&&P0?P0(A,N,{configurable:!0,enumerable:!0,value:V,writable:!0}):A[N]=V}function l$(A,N){for(var V=-1,pe=N.length,xe=be(pe),je=A==null;++V<pe;)xe[V]=je?r:z$(A,N[V]);return xe}function Md(A,N,V){return A===A&&(V!==r&&(A=A<=V?A:V),N!==r&&(A=A>=N?A:N)),A}function Fa(A,N,V,pe,xe,je){var Ke,nt=N&c,st=N&p,Tt=N&m;if(V&&(Ke=xe?V(A,pe,xe,je):V(A)),Ke!==r)return Ke;if(!hi(A))return A;var $t=Pr(A);if($t){if(Ke=Uee(A),!nt)return Ps(A,Ke)}else{var jt=No(A),Gt=jt==I||jt==L;if(df(A))return HM(A,nt);if(jt==de||jt==q||Gt&&!xe){if(Ke=st||Gt?{}:cL(A),!nt)return st?Ree(A,Z7(Ke,A)):Pee(A,_M(Ke,A))}else{if(!fn[jt])return xe?A:{};Ke=zee(A,jt,nt)}}je||(je=new Al);var sr=je.get(A);if(sr)return sr;je.set(A,Ke),FL(A)?A.forEach(function(vr){Ke.add(Fa(vr,N,V,vr,A,je))}):ML(A)&&A.forEach(function(vr,en){Ke.set(en,Fa(vr,N,V,en,A,je))});var gr=Tt?st?O$:A$:st?Ns:no,Mr=$t?r:gr(A);return We(Mr||A,function(vr,en){Mr&&(en=vr,vr=A[en]),Og(Ke,en,Fa(vr,N,V,en,A,je))}),Ke}function eee(A){var N=no(A);return function(V){return EM(V,A,N)}}function EM(A,N,V){var pe=V.length;if(A==null)return!pe;for(A=ot(A);pe--;){var xe=V[pe],je=N[xe],Ke=A[xe];if(Ke===r&&!(xe in A)||!je(Ke))return!1}return!0}function SM(A,N,V){if(typeof A!="function")throw new Wt(s);return jg(function(){A.apply(r,V)},N)}function Pg(A,N,V,pe){var xe=-1,je=at,Ke=!0,nt=A.length,st=[],Tt=N.length;if(!nt)return st;V&&(N=zt(N,ro(V))),pe?(je=Rt,Ke=!1):N.length>=i&&(je=Da,Ke=!1,N=new Dd(N));e:for(;++xe<nt;){var $t=A[xe],jt=V==null?$t:V($t);if($t=pe||$t!==0?$t:0,Ke&&jt===jt){for(var Gt=Tt;Gt--;)if(N[Gt]===jt)continue e;st.push($t)}else je(N,jt,pe)||st.push($t)}return st}var lf=YM(fu),TM=YM(c$,!0);function tee(A,N){var V=!0;return lf(A,function(pe,xe,je){return V=!!N(pe,xe,je),V}),V}function D0(A,N,V){for(var pe=-1,xe=A.length;++pe<xe;){var je=A[pe],Ke=N(je);if(Ke!=null&&(nt===r?Ke===Ke&&!sa(Ke):V(Ke,nt)))var nt=Ke,st=je}return st}function ree(A,N,V,pe){var xe=A.length;for(V=Ir(V),V<0&&(V=-V>xe?0:xe+V),pe=pe===r||pe>xe?xe:Ir(pe),pe<0&&(pe+=xe),pe=V>pe?0:UL(pe);V<pe;)A[V++]=N;return A}function $M(A,N){var V=[];return lf(A,function(pe,xe,je){N(pe,xe,je)&&V.push(pe)}),V}function mo(A,N,V,pe,xe){var je=-1,Ke=A.length;for(V||(V=Vee),xe||(xe=[]);++je<Ke;){var nt=A[je];N>0&&V(nt)?N>1?mo(nt,N-1,V,pe,xe):br(xe,nt):pe||(xe[xe.length]=nt)}return xe}var u$=XM(),xM=XM(!0);function fu(A,N){return A&&u$(A,N,no)}function c$(A,N){return A&&xM(A,N,no)}function M0(A,N){return gt(N,function(V){return ac(A[V])})}function Ld(A,N){N=cf(N,A);for(var V=0,pe=N.length;A!=null&&V<pe;)A=A[hu(N[V++])];return V&&V==pe?A:r}function AM(A,N,V){var pe=N(A);return Pr(A)?pe:br(pe,V(A))}function Qo(A){return A==null?A===r?Qe:ue:kd&&kd in ot(A)?Lee(A):Xee(A)}function f$(A,N){return A>N}function nee(A,N){return A!=null&&or.call(A,N)}function iee(A,N){return A!=null&&N in ot(A)}function oee(A,N,V){return A>=Ro(N,V)&&A<Wi(N,V)}function d$(A,N,V){for(var pe=V?Rt:at,xe=A[0].length,je=A.length,Ke=je,nt=be(je),st=1/0,Tt=[];Ke--;){var $t=A[Ke];Ke&&N&&($t=zt($t,ro(N))),st=Ro($t.length,st),nt[Ke]=!V&&(N||xe>=120&&$t.length>=120)?new Dd(Ke&&$t):r}$t=A[0];var jt=-1,Gt=nt[0];e:for(;++jt<xe&&Tt.length<st;){var sr=$t[jt],gr=N?N(sr):sr;if(sr=V||sr!==0?sr:0,!(Gt?Da(Gt,gr):pe(Tt,gr,V))){for(Ke=je;--Ke;){var Mr=nt[Ke];if(!(Mr?Da(Mr,gr):pe(A[Ke],gr,V)))continue e}Gt&&Gt.push(gr),Tt.push(sr)}}return Tt}function see(A,N,V,pe){return fu(A,function(xe,je,Ke){N(pe,V(xe),je,Ke)}),pe}function Rg(A,N,V){N=cf(N,A),A=pL(A,N);var pe=A==null?A:A[hu(Ua(N))];return pe==null?r:Ae(pe,A,V)}function OM(A){return bi(A)&&Qo(A)==q}function aee(A){return bi(A)&&Qo(A)==j}function lee(A){return bi(A)&&Qo(A)==se}function Ng(A,N,V,pe,xe){return A===N?!0:A==null||N==null||!bi(A)&&!bi(N)?A!==A&&N!==N:uee(A,N,V,pe,Ng,xe)}function uee(A,N,V,pe,xe,je){var Ke=Pr(A),nt=Pr(N),st=Ke?oe:No(A),Tt=nt?oe:No(N);st=st==q?de:st,Tt=Tt==q?de:Tt;var $t=st==de,jt=Tt==de,Gt=st==Tt;if(Gt&&df(A)){if(!df(N))return!1;Ke=!0,$t=!1}if(Gt&&!$t)return je||(je=new Al),Ke||Tp(A)?aL(A,N,V,pe,xe,je):Dee(A,N,st,V,pe,xe,je);if(!(V&g)){var sr=$t&&or.call(A,"__wrapped__"),gr=jt&&or.call(N,"__wrapped__");if(sr||gr){var Mr=sr?A.value():A,vr=gr?N.value():N;return je||(je=new Al),xe(Mr,vr,V,pe,je)}}return Gt?(je||(je=new Al),Mee(A,N,V,pe,xe,je)):!1}function cee(A){return bi(A)&&No(A)==M}function h$(A,N,V,pe){var xe=V.length,je=xe,Ke=!pe;if(A==null)return!je;for(A=ot(A);xe--;){var nt=V[xe];if(Ke&&nt[2]?nt[1]!==A[nt[0]]:!(nt[0]in A))return!1}for(;++xe<je;){nt=V[xe];var st=nt[0],Tt=A[st],$t=nt[1];if(Ke&&nt[2]){if(Tt===r&&!(st in A))return!1}else{var jt=new Al;if(pe)var Gt=pe(Tt,$t,st,A,N,jt);if(!(Gt===r?Ng($t,Tt,g|_,pe,jt):Gt))return!1}}return!0}function PM(A){if(!hi(A)||Wee(A))return!1;var N=ac(A)?sn:qt;return N.test(Bd(A))}function fee(A){return bi(A)&&Qo(A)==Fe}function dee(A){return bi(A)&&No(A)==He}function hee(A){return bi(A)&&ew(A.length)&&!!$n[Qo(A)]}function RM(A){return typeof A=="function"?A:A==null?Is:typeof A=="object"?Pr(A)?CM(A[0],A[1]):IM(A):QL(A)}function p$(A){if(!kg(A))return g7(A);var N=[];for(var V in ot(A))or.call(A,V)&&V!="constructor"&&N.push(V);return N}function pee(A){if(!hi(A))return Yee(A);var N=kg(A),V=[];for(var pe in A)pe=="constructor"&&(N||!or.call(A,pe))||V.push(pe);return V}function m$(A,N){return A<N}function NM(A,N){var V=-1,pe=Rs(A)?be(A.length):[];return lf(A,function(xe,je,Ke){pe[++V]=N(xe,je,Ke)}),pe}function IM(A){var N=R$(A);return N.length==1&&N[0][2]?dL(N[0][0],N[0][1]):function(V){return V===A||h$(V,A,N)}}function CM(A,N){return I$(A)&&fL(N)?dL(hu(A),N):function(V){var pe=z$(V,A);return pe===r&&pe===N?q$(V,A):Ng(N,pe,g|_)}}function L0(A,N,V,pe,xe){A!==N&&u$(N,function(je,Ke){if(xe||(xe=new Al),hi(je))mee(A,N,Ke,V,L0,pe,xe);else{var nt=pe?pe(k$(A,Ke),je,Ke+"",A,N,xe):r;nt===r&&(nt=je),a$(A,Ke,nt)}},Ns)}function mee(A,N,V,pe,xe,je,Ke){var nt=k$(A,V),st=k$(N,V),Tt=Ke.get(st);if(Tt){a$(A,V,Tt);return}var $t=je?je(nt,st,V+"",A,N,Ke):r,jt=$t===r;if(jt){var Gt=Pr(st),sr=!Gt&&df(st),gr=!Gt&&!sr&&Tp(st);$t=st,Gt||sr||gr?Pr(nt)?$t=nt:Oi(nt)?$t=Ps(nt):sr?(jt=!1,$t=HM(st,!0)):gr?(jt=!1,$t=WM(st,!0)):$t=[]:Dg(st)||Ud(st)?($t=nt,Ud(nt)?$t=zL(nt):(!hi(nt)||ac(nt))&&($t=cL(st))):jt=!1}jt&&(Ke.set(st,$t),xe($t,st,pe,je,Ke),Ke.delete(st)),a$(A,V,$t)}function kM(A,N){var V=A.length;if(V)return N+=N<0?V:0,sc(N,V)?A[N]:r}function jM(A,N,V){N.length?N=zt(N,function(je){return Pr(je)?function(Ke){return Ld(Ke,je.length===1?je[0]:je)}:je}):N=[Is];var pe=-1;N=zt(N,ro(mr()));var xe=NM(A,function(je,Ke,nt){var st=zt(N,function(Tt){return Tt(je)});return{criteria:st,index:++pe,value:je}});return Hi(xe,function(je,Ke){return Oee(je,Ke,V)})}function gee(A,N){return DM(A,N,function(V,pe){return q$(A,pe)})}function DM(A,N,V){for(var pe=-1,xe=N.length,je={};++pe<xe;){var Ke=N[pe],nt=Ld(A,Ke);V(nt,Ke)&&Ig(je,cf(Ke,A),nt)}return je}function vee(A){return function(N){return Ld(N,A)}}function g$(A,N,V,pe){var xe=pe?uu:xn,je=-1,Ke=N.length,nt=A;for(A===N&&(N=Ps(N)),V&&(nt=zt(A,ro(V)));++je<Ke;)for(var st=0,Tt=N[je],$t=V?V(Tt):Tt;(st=xe(nt,$t,st,pe))>-1;)nt!==A&&af.call(nt,st,1),af.call(A,st,1);return A}function MM(A,N){for(var V=A?N.length:0,pe=V-1;V--;){var xe=N[V];if(V==pe||xe!==je){var je=xe;sc(xe)?af.call(A,xe,1):b$(A,xe)}}return A}function v$(A,N){return A+N0(vM()*(N-A+1))}function yee(A,N,V,pe){for(var xe=-1,je=Wi(R0((N-A)/(V||1)),0),Ke=be(je);je--;)Ke[pe?je:++xe]=A,A+=V;return Ke}function y$(A,N){var V="";if(!A||N<1||N>re)return V;do N%2&&(V+=A),N=N0(N/2),N&&(A+=A);while(N);return V}function zr(A,N){return j$(hL(A,N,Is),A+"")}function wee(A){return bM($p(A))}function bee(A,N){var V=$p(A);return K0(V,Md(N,0,V.length))}function Ig(A,N,V,pe){if(!hi(A))return A;N=cf(N,A);for(var xe=-1,je=N.length,Ke=je-1,nt=A;nt!=null&&++xe<je;){var st=hu(N[xe]),Tt=V;if(st==="__proto__"||st==="constructor"||st==="prototype")return A;if(xe!=Ke){var $t=nt[st];Tt=pe?pe($t,st,nt):r,Tt===r&&(Tt=hi($t)?$t:sc(N[xe+1])?[]:{})}Og(nt,st,Tt),nt=nt[st]}return A}var LM=I0?function(A,N){return I0.set(A,N),A}:Is,_ee=P0?function(A,N){return P0(A,"toString",{configurable:!0,enumerable:!1,value:H$(N),writable:!0})}:Is;function Eee(A){return K0($p(A))}function Ba(A,N,V){var pe=-1,xe=A.length;N<0&&(N=-N>xe?0:xe+N),V=V>xe?xe:V,V<0&&(V+=xe),xe=N>V?0:V-N>>>0,N>>>=0;for(var je=be(xe);++pe<xe;)je[pe]=A[pe+N];return je}function See(A,N){var V;return lf(A,function(pe,xe,je){return V=N(pe,xe,je),!V}),!!V}function F0(A,N,V){var pe=0,xe=A==null?pe:A.length;if(typeof N=="number"&&N===N&&xe<=R){for(;pe<xe;){var je=pe+xe>>>1,Ke=A[je];Ke!==null&&!sa(Ke)&&(V?Ke<=N:Ke<N)?pe=je+1:xe=je}return xe}return w$(A,N,Is,V)}function w$(A,N,V,pe){var xe=0,je=A==null?0:A.length;if(je===0)return 0;N=V(N);for(var Ke=N!==N,nt=N===null,st=sa(N),Tt=N===r;xe<je;){var $t=N0((xe+je)/2),jt=V(A[$t]),Gt=jt!==r,sr=jt===null,gr=jt===jt,Mr=sa(jt);if(Ke)var vr=pe||gr;else Tt?vr=gr&&(pe||Gt):nt?vr=gr&&Gt&&(pe||!sr):st?vr=gr&&Gt&&!sr&&(pe||!Mr):sr||Mr?vr=!1:vr=pe?jt<=N:jt<N;vr?xe=$t+1:je=$t}return Ro(je,J)}function FM(A,N){for(var V=-1,pe=A.length,xe=0,je=[];++V<pe;){var Ke=A[V],nt=N?N(Ke):Ke;if(!V||!Ol(nt,st)){var st=nt;je[xe++]=Ke===0?0:Ke}}return je}function BM(A){return typeof A=="number"?A:sa(A)?F:+A}function oa(A){if(typeof A=="string")return A;if(Pr(A))return zt(A,oa)+"";if(sa(A))return yM?yM.call(A):"";var N=A+"";return N=="0"&&1/A==-fe?"-0":N}function uf(A,N,V){var pe=-1,xe=at,je=A.length,Ke=!0,nt=[],st=nt;if(V)Ke=!1,xe=Rt;else if(je>=i){var Tt=N?null:kee(A);if(Tt)return ia(Tt);Ke=!1,xe=Da,st=new Dd}else st=N?[]:nt;e:for(;++pe<je;){var $t=A[pe],jt=N?N($t):$t;if($t=V||$t!==0?$t:0,Ke&&jt===jt){for(var Gt=st.length;Gt--;)if(st[Gt]===jt)continue e;N&&st.push(jt),nt.push($t)}else xe(st,jt,V)||(st!==nt&&st.push(jt),nt.push($t))}return nt}function b$(A,N){return N=cf(N,A),A=pL(A,N),A==null||delete A[hu(Ua(N))]}function UM(A,N,V,pe){return Ig(A,N,V(Ld(A,N)),pe)}function B0(A,N,V,pe){for(var xe=A.length,je=pe?xe:-1;(pe?je--:++je<xe)&&N(A[je],je,A););return V?Ba(A,pe?0:je,pe?je+1:xe):Ba(A,pe?je+1:0,pe?xe:je)}function zM(A,N){var V=A;return V instanceof an&&(V=V.value()),pr(N,function(pe,xe){return xe.func.apply(xe.thisArg,br([pe],xe.args))},V)}function _$(A,N,V){var pe=A.length;if(pe<2)return pe?uf(A[0]):[];for(var xe=-1,je=be(pe);++xe<pe;)for(var Ke=A[xe],nt=-1;++nt<pe;)nt!=xe&&(je[xe]=Pg(je[xe]||Ke,A[nt],N,V));return uf(mo(je,1),N,V)}function qM(A,N,V){for(var pe=-1,xe=A.length,je=N.length,Ke={};++pe<xe;){var nt=pe<je?N[pe]:r;V(Ke,A[pe],nt)}return Ke}function E$(A){return Oi(A)?A:[]}function S$(A){return typeof A=="function"?A:Is}function cf(A,N){return Pr(A)?A:I$(A,N)?[A]:yL(In(A))}var Tee=zr;function ff(A,N,V){var pe=A.length;return V=V===r?pe:V,!N&&V>=pe?A:Ba(A,N,V)}var VM=f7||function(A){return Dn.clearTimeout(A)};function HM(A,N){if(N)return A.slice();var V=A.length,pe=Nr?Nr(V):new A.constructor(V);return A.copy(pe),pe}function T$(A){var N=new A.constructor(A.byteLength);return new yn(N).set(new yn(A)),N}function $ee(A,N){var V=N?T$(A.buffer):A.buffer;return new A.constructor(V,A.byteOffset,A.byteLength)}function xee(A){var N=new A.constructor(A.source,Ht.exec(A));return N.lastIndex=A.lastIndex,N}function Aee(A){return Ag?ot(Ag.call(A)):{}}function WM(A,N){var V=N?T$(A.buffer):A.buffer;return new A.constructor(V,A.byteOffset,A.length)}function GM(A,N){if(A!==N){var V=A!==r,pe=A===null,xe=A===A,je=sa(A),Ke=N!==r,nt=N===null,st=N===N,Tt=sa(N);if(!nt&&!Tt&&!je&&A>N||je&&Ke&&st&&!nt&&!Tt||pe&&Ke&&st||!V&&st||!xe)return 1;if(!pe&&!je&&!Tt&&A<N||Tt&&V&&xe&&!pe&&!je||nt&&V&&xe||!Ke&&xe||!st)return-1}return 0}function Oee(A,N,V){for(var pe=-1,xe=A.criteria,je=N.criteria,Ke=xe.length,nt=V.length;++pe<Ke;){var st=GM(xe[pe],je[pe]);if(st){if(pe>=nt)return st;var Tt=V[pe];return st*(Tt=="desc"?-1:1)}}return A.index-N.index}function KM(A,N,V,pe){for(var xe=-1,je=A.length,Ke=V.length,nt=-1,st=N.length,Tt=Wi(je-Ke,0),$t=be(st+Tt),jt=!pe;++nt<st;)$t[nt]=N[nt];for(;++xe<Ke;)(jt||xe<je)&&($t[V[xe]]=A[xe]);for(;Tt--;)$t[nt++]=A[xe++];return $t}function JM(A,N,V,pe){for(var xe=-1,je=A.length,Ke=-1,nt=V.length,st=-1,Tt=N.length,$t=Wi(je-nt,0),jt=be($t+Tt),Gt=!pe;++xe<$t;)jt[xe]=A[xe];for(var sr=xe;++st<Tt;)jt[sr+st]=N[st];for(;++Ke<nt;)(Gt||xe<je)&&(jt[sr+V[Ke]]=A[xe++]);return jt}function Ps(A,N){var V=-1,pe=A.length;for(N||(N=be(pe));++V<pe;)N[V]=A[V];return N}function du(A,N,V,pe){var xe=!V;V||(V={});for(var je=-1,Ke=N.length;++je<Ke;){var nt=N[je],st=pe?pe(V[nt],A[nt],nt,V,A):r;st===r&&(st=A[nt]),xe?nc(V,nt,st):Og(V,nt,st)}return V}function Pee(A,N){return du(A,N$(A),N)}function Ree(A,N){return du(A,lL(A),N)}function U0(A,N){return function(V,pe){var xe=Pr(V)?Je:Q7,je=N?N():{};return xe(V,A,mr(pe,2),je)}}function _p(A){return zr(function(N,V){var pe=-1,xe=V.length,je=xe>1?V[xe-1]:r,Ke=xe>2?V[2]:r;for(je=A.length>3&&typeof je=="function"?(xe--,je):r,Ke&&Zo(V[0],V[1],Ke)&&(je=xe<3?r:je,xe=1),N=ot(N);++pe<xe;){var nt=V[pe];nt&&A(N,nt,pe,je)}return N})}function YM(A,N){return function(V,pe){if(V==null)return V;if(!Rs(V))return A(V,pe);for(var xe=V.length,je=N?xe:-1,Ke=ot(V);(N?je--:++je<xe)&&pe(Ke[je],je,Ke)!==!1;);return V}}function XM(A){return function(N,V,pe){for(var xe=-1,je=ot(N),Ke=pe(N),nt=Ke.length;nt--;){var st=Ke[A?nt:++xe];if(V(je[st],st,je)===!1)break}return N}}function Nee(A,N,V){var pe=N&v,xe=Cg(A);function je(){var Ke=this&&this!==Dn&&this instanceof je?xe:A;return Ke.apply(pe?V:this,arguments)}return je}function QM(A){return function(N){N=In(N);var V=Oo(N)?Di(N):r,pe=V?V[0]:N.charAt(0),xe=V?ff(V,1).join(""):N.slice(1);return pe[A]()+xe}}function Ep(A){return function(N){return pr(YL(JL(N).replace(Jc,"")),A,"")}}function Cg(A){return function(){var N=arguments;switch(N.length){case 0:return new A;case 1:return new A(N[0]);case 2:return new A(N[0],N[1]);case 3:return new A(N[0],N[1],N[2]);case 4:return new A(N[0],N[1],N[2],N[3]);case 5:return new A(N[0],N[1],N[2],N[3],N[4]);case 6:return new A(N[0],N[1],N[2],N[3],N[4],N[5]);case 7:return new A(N[0],N[1],N[2],N[3],N[4],N[5],N[6])}var V=bp(A.prototype),pe=A.apply(V,N);return hi(pe)?pe:V}}function Iee(A,N,V){var pe=Cg(A);function xe(){for(var je=arguments.length,Ke=be(je),nt=je,st=Sp(xe);nt--;)Ke[nt]=arguments[nt];var Tt=je<3&&Ke[0]!==st&&Ke[je-1]!==st?[]:Po(Ke,st);if(je-=Tt.length,je<V)return nL(A,N,z0,xe.placeholder,r,Ke,Tt,r,r,V-je);var $t=this&&this!==Dn&&this instanceof xe?pe:A;return Ae($t,this,Ke)}return xe}function ZM(A){return function(N,V,pe){var xe=ot(N);if(!Rs(N)){var je=mr(V,3);N=no(N),V=function(nt){return je(xe[nt],nt,xe)}}var Ke=A(N,V,pe);return Ke>-1?xe[je?N[Ke]:Ke]:r}}function eL(A){return oc(function(N){var V=N.length,pe=V,xe=La.prototype.thru;for(A&&N.reverse();pe--;){var je=N[pe];if(typeof je!="function")throw new Wt(s);if(xe&&!Ke&&W0(je)=="wrapper")var Ke=new La([],!0)}for(pe=Ke?pe:V;++pe<V;){je=N[pe];var nt=W0(je),st=nt=="wrapper"?P$(je):r;st&&C$(st[0])&&st[1]==(d|y|T|$)&&!st[4].length&&st[9]==1?Ke=Ke[W0(st[0])].apply(Ke,st[3]):Ke=je.length==1&&C$(je)?Ke[nt]():Ke.thru(je)}return function(){var Tt=arguments,$t=Tt[0];if(Ke&&Tt.length==1&&Pr($t))return Ke.plant($t).value();for(var jt=0,Gt=V?N[jt].apply(this,Tt):$t;++jt<V;)Gt=N[jt].call(this,Gt);return Gt}})}function z0(A,N,V,pe,xe,je,Ke,nt,st,Tt){var $t=N&d,jt=N&v,Gt=N&h,sr=N&(y|S),gr=N&O,Mr=Gt?r:Cg(A);function vr(){for(var en=arguments.length,hn=be(en),aa=en;aa--;)hn[aa]=arguments[aa];if(sr)var es=Sp(vr),la=Ao(hn,es);if(pe&&(hn=KM(hn,pe,xe,sr)),je&&(hn=JM(hn,je,Ke,sr)),en-=la,sr&&en<Tt){var Pi=Po(hn,es);return nL(A,N,z0,vr.placeholder,V,hn,Pi,nt,st,Tt-en)}var Pl=jt?V:this,uc=Gt?Pl[A]:A;return en=hn.length,nt?hn=Qee(hn,nt):gr&&en>1&&hn.reverse(),$t&&st<en&&(hn.length=st),this&&this!==Dn&&this instanceof vr&&(uc=Mr||Cg(uc)),uc.apply(Pl,hn)}return vr}function tL(A,N){return function(V,pe){return see(V,A,N(pe),{})}}function q0(A,N){return function(V,pe){var xe;if(V===r&&pe===r)return N;if(V!==r&&(xe=V),pe!==r){if(xe===r)return pe;typeof V=="string"||typeof pe=="string"?(V=oa(V),pe=oa(pe)):(V=BM(V),pe=BM(pe)),xe=A(V,pe)}return xe}}function $$(A){return oc(function(N){return N=zt(N,ro(mr())),zr(function(V){var pe=this;return A(N,function(xe){return Ae(xe,pe,V)})})})}function V0(A,N){N=N===r?" ":oa(N);var V=N.length;if(V<2)return V?y$(N,A):N;var pe=y$(N,R0(A/Xo(N)));return Oo(N)?ff(Di(pe),0,A).join(""):pe.slice(0,A)}function Cee(A,N,V,pe){var xe=N&v,je=Cg(A);function Ke(){for(var nt=-1,st=arguments.length,Tt=-1,$t=pe.length,jt=be($t+st),Gt=this&&this!==Dn&&this instanceof Ke?je:A;++Tt<$t;)jt[Tt]=pe[Tt];for(;st--;)jt[Tt++]=arguments[++nt];return Ae(Gt,xe?V:this,jt)}return Ke}function rL(A){return function(N,V,pe){return pe&&typeof pe!="number"&&Zo(N,V,pe)&&(V=pe=r),N=lc(N),V===r?(V=N,N=0):V=lc(V),pe=pe===r?N<V?1:-1:lc(pe),yee(N,V,pe,A)}}function H0(A){return function(N,V){return typeof N=="string"&&typeof V=="string"||(N=za(N),V=za(V)),A(N,V)}}function nL(A,N,V,pe,xe,je,Ke,nt,st,Tt){var $t=N&y,jt=$t?Ke:r,Gt=$t?r:Ke,sr=$t?je:r,gr=$t?r:je;N|=$t?T:x,N&=~($t?x:T),N&E||(N&=-4);var Mr=[A,N,xe,sr,jt,gr,Gt,nt,st,Tt],vr=V.apply(r,Mr);return C$(A)&&mL(vr,Mr),vr.placeholder=pe,gL(vr,A,N)}function x$(A){var N=Ze[A];return function(V,pe){if(V=za(V),pe=pe==null?0:Ro(Ir(pe),292),pe&&gM(V)){var xe=(In(V)+"e").split("e"),je=N(xe[0]+"e"+(+xe[1]+pe));return xe=(In(je)+"e").split("e"),+(xe[0]+"e"+(+xe[1]-pe))}return N(V)}}var kee=yp&&1/ia(new yp([,-0]))[1]==fe?function(A){return new yp(A)}:K$;function iL(A){return function(N){var V=No(N);return V==M?$l(N):V==He?Zu(N):Os(N,A(N))}}function ic(A,N,V,pe,xe,je,Ke,nt){var st=N&h;if(!st&&typeof A!="function")throw new Wt(s);var Tt=pe?pe.length:0;if(Tt||(N&=-97,pe=xe=r),Ke=Ke===r?Ke:Wi(Ir(Ke),0),nt=nt===r?nt:Ir(nt),Tt-=xe?xe.length:0,N&x){var $t=pe,jt=xe;pe=xe=r}var Gt=st?r:P$(A),sr=[A,N,V,pe,xe,$t,jt,je,Ke,nt];if(Gt&&Jee(sr,Gt),A=sr[0],N=sr[1],V=sr[2],pe=sr[3],xe=sr[4],nt=sr[9]=sr[9]===r?st?0:A.length:Wi(sr[9]-Tt,0),!nt&&N&(y|S)&&(N&=-25),!N||N==v)var gr=Nee(A,N,V);else N==y||N==S?gr=Iee(A,N,nt):(N==T||N==(v|T))&&!xe.length?gr=Cee(A,N,V,pe):gr=z0.apply(r,sr);var Mr=Gt?LM:mL;return gL(Mr(gr,sr),A,N)}function oL(A,N,V,pe){return A===r||Ol(A,Or[V])&&!or.call(pe,V)?N:A}function sL(A,N,V,pe,xe,je){return hi(A)&&hi(N)&&(je.set(N,A),L0(A,N,r,sL,je),je.delete(N)),A}function jee(A){return Dg(A)?r:A}function aL(A,N,V,pe,xe,je){var Ke=V&g,nt=A.length,st=N.length;if(nt!=st&&!(Ke&&st>nt))return!1;var Tt=je.get(A),$t=je.get(N);if(Tt&&$t)return Tt==N&&$t==A;var jt=-1,Gt=!0,sr=V&_?new Dd:r;for(je.set(A,N),je.set(N,A);++jt<nt;){var gr=A[jt],Mr=N[jt];if(pe)var vr=Ke?pe(Mr,gr,jt,N,A,je):pe(gr,Mr,jt,A,N,je);if(vr!==r){if(vr)continue;Gt=!1;break}if(sr){if(!Bn(N,function(en,hn){if(!Da(sr,hn)&&(gr===en||xe(gr,en,V,pe,je)))return sr.push(hn)})){Gt=!1;break}}else if(!(gr===Mr||xe(gr,Mr,V,pe,je))){Gt=!1;break}}return je.delete(A),je.delete(N),Gt}function Dee(A,N,V,pe,xe,je,Ke){switch(V){case U:if(A.byteLength!=N.byteLength||A.byteOffset!=N.byteOffset)return!1;A=A.buffer,N=N.buffer;case j:return!(A.byteLength!=N.byteLength||!je(new yn(A),new yn(N)));case ee:case se:case Z:return Ol(+A,+N);case Oe:return A.name==N.name&&A.message==N.message;case Fe:case Ve:return A==N+"";case M:var nt=$l;case He:var st=pe&g;if(nt||(nt=ia),A.size!=N.size&&!st)return!1;var Tt=Ke.get(A);if(Tt)return Tt==N;pe|=_,Ke.set(A,N);var $t=aL(nt(A),nt(N),pe,xe,je,Ke);return Ke.delete(A),$t;case ut:if(Ag)return Ag.call(A)==Ag.call(N)}return!1}function Mee(A,N,V,pe,xe,je){var Ke=V&g,nt=A$(A),st=nt.length,Tt=A$(N),$t=Tt.length;if(st!=$t&&!Ke)return!1;for(var jt=st;jt--;){var Gt=nt[jt];if(!(Ke?Gt in N:or.call(N,Gt)))return!1}var sr=je.get(A),gr=je.get(N);if(sr&&gr)return sr==N&&gr==A;var Mr=!0;je.set(A,N),je.set(N,A);for(var vr=Ke;++jt<st;){Gt=nt[jt];var en=A[Gt],hn=N[Gt];if(pe)var aa=Ke?pe(hn,en,Gt,N,A,je):pe(en,hn,Gt,A,N,je);if(!(aa===r?en===hn||xe(en,hn,V,pe,je):aa)){Mr=!1;break}vr||(vr=Gt=="constructor")}if(Mr&&!vr){var es=A.constructor,la=N.constructor;es!=la&&"constructor"in A&&"constructor"in N&&!(typeof es=="function"&&es instanceof es&&typeof la=="function"&&la instanceof la)&&(Mr=!1)}return je.delete(A),je.delete(N),Mr}function oc(A){return j$(hL(A,r,EL),A+"")}function A$(A){return AM(A,no,N$)}function O$(A){return AM(A,Ns,lL)}var P$=I0?function(A){return I0.get(A)}:K$;function W0(A){for(var N=A.name+"",V=wp[N],pe=or.call(wp,N)?V.length:0;pe--;){var xe=V[pe],je=xe.func;if(je==null||je==A)return xe.name}return N}function Sp(A){var N=or.call(Ne,"placeholder")?Ne:A;return N.placeholder}function mr(){var A=Ne.iteratee||W$;return A=A===W$?RM:A,arguments.length?A(arguments[0],arguments[1]):A}function G0(A,N){var V=A.__data__;return Hee(N)?V[typeof N=="string"?"string":"hash"]:V.map}function R$(A){for(var N=no(A),V=N.length;V--;){var pe=N[V],xe=A[pe];N[V]=[pe,xe,fL(xe)]}return N}function Fd(A,N){var V=vp(A,N);return PM(V)?V:r}function Lee(A){var N=or.call(A,kd),V=A[kd];try{A[kd]=r;var pe=!0}catch{}var xe=Ai.call(A);return pe&&(N?A[kd]=V:delete A[kd]),xe}var N$=i$?function(A){return A==null?[]:(A=ot(A),gt(i$(A),function(N){return Mi.call(A,N)}))}:J$,lL=i$?function(A){for(var N=[];A;)br(N,N$(A)),A=An(A);return N}:J$,No=Qo;(o$&&No(new o$(new ArrayBuffer(1)))!=U||Tg&&No(new Tg)!=M||s$&&No(s$.resolve())!=ve||yp&&No(new yp)!=He||$g&&No(new $g)!=Ye)&&(No=function(A){var N=Qo(A),V=N==de?A.constructor:r,pe=V?Bd(V):"";if(pe)switch(pe){case b7:return U;case _7:return M;case E7:return ve;case S7:return He;case T7:return Ye}return N});function Fee(A,N,V){for(var pe=-1,xe=V.length;++pe<xe;){var je=V[pe],Ke=je.size;switch(je.type){case"drop":A+=Ke;break;case"dropRight":N-=Ke;break;case"take":N=Ro(N,A+Ke);break;case"takeRight":A=Wi(A,N-Ke);break}}return{start:A,end:N}}function Bee(A){var N=A.match($e);return N?N[1].split(Me):[]}function uL(A,N,V){N=cf(N,A);for(var pe=-1,xe=N.length,je=!1;++pe<xe;){var Ke=hu(N[pe]);if(!(je=A!=null&&V(A,Ke)))break;A=A[Ke]}return je||++pe!=xe?je:(xe=A==null?0:A.length,!!xe&&ew(xe)&&sc(Ke,xe)&&(Pr(A)||Ud(A)))}function Uee(A){var N=A.length,V=new A.constructor(N);return N&&typeof A[0]=="string"&&or.call(A,"index")&&(V.index=A.index,V.input=A.input),V}function cL(A){return typeof A.constructor=="function"&&!kg(A)?bp(An(A)):{}}function zee(A,N,V){var pe=A.constructor;switch(N){case j:return T$(A);case ee:case se:return new pe(+A);case U:return $ee(A,V);case ce:case Te:case Re:case ze:case Be:case Xe:case vt:case St:case yt:return WM(A,V);case M:return new pe;case Z:case Ve:return new pe(A);case Fe:return xee(A);case He:return new pe;case ut:return Aee(A)}}function qee(A,N){var V=N.length;if(!V)return A;var pe=V-1;return N[pe]=(V>1?"& ":"")+N[pe],N=N.join(V>2?", ":" "),A.replace(me,`{
/* [wrapped with `+N+`] */
`)}function Vee(A){return Pr(A)||Ud(A)||!!(mM&&A&&A[mM])}function sc(A,N){var V=typeof A;return N=N??re,!!N&&(V=="number"||V!="symbol"&&It.test(A))&&A>-1&&A%1==0&&A<N}function Zo(A,N,V){if(!hi(V))return!1;var pe=typeof N;return(pe=="number"?Rs(V)&&sc(N,V.length):pe=="string"&&N in V)?Ol(V[N],A):!1}function I$(A,N){if(Pr(A))return!1;var V=typeof A;return V=="number"||V=="symbol"||V=="boolean"||A==null||sa(A)?!0:ft.test(A)||!ke.test(A)||N!=null&&A in ot(N)}function Hee(A){var N=typeof A;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?A!=="__proto__":A===null}function C$(A){var N=W0(A),V=Ne[N];if(typeof V!="function"||!(N in an.prototype))return!1;if(A===V)return!0;var pe=P$(V);return!!pe&&A===pe[0]}function Wee(A){return!!Yr&&Yr in A}var Gee=Br?ac:Y$;function kg(A){var N=A&&A.constructor,V=typeof N=="function"&&N.prototype||Or;return A===V}function fL(A){return A===A&&!hi(A)}function dL(A,N){return function(V){return V==null?!1:V[A]===N&&(N!==r||A in ot(V))}}function Kee(A){var N=Q0(A,function(pe){return V.size===u&&V.clear(),pe}),V=N.cache;return N}function Jee(A,N){var V=A[1],pe=N[1],xe=V|pe,je=xe<(v|h|d),Ke=pe==d&&V==y||pe==d&&V==$&&A[7].length<=N[8]||pe==(d|$)&&N[7].length<=N[8]&&V==y;if(!(je||Ke))return A;pe&v&&(A[2]=N[2],xe|=V&v?0:E);var nt=N[3];if(nt){var st=A[3];A[3]=st?KM(st,nt,N[4]):nt,A[4]=st?Po(A[3],f):N[4]}return nt=N[5],nt&&(st=A[5],A[5]=st?JM(st,nt,N[6]):nt,A[6]=st?Po(A[5],f):N[6]),nt=N[7],nt&&(A[7]=nt),pe&d&&(A[8]=A[8]==null?N[8]:Ro(A[8],N[8])),A[9]==null&&(A[9]=N[9]),A[0]=N[0],A[1]=xe,A}function Yee(A){var N=[];if(A!=null)for(var V in ot(A))N.push(V);return N}function Xee(A){return Ai.call(A)}function hL(A,N,V){return N=Wi(N===r?A.length-1:N,0),function(){for(var pe=arguments,xe=-1,je=Wi(pe.length-N,0),Ke=be(je);++xe<je;)Ke[xe]=pe[N+xe];xe=-1;for(var nt=be(N+1);++xe<N;)nt[xe]=pe[xe];return nt[N]=V(Ke),Ae(A,this,nt)}}function pL(A,N){return N.length<2?A:Ld(A,Ba(N,0,-1))}function Qee(A,N){for(var V=A.length,pe=Ro(N.length,V),xe=Ps(A);pe--;){var je=N[pe];A[pe]=sc(je,V)?xe[je]:r}return A}function k$(A,N){if(!(N==="constructor"&&typeof A[N]=="function")&&N!="__proto__")return A[N]}var mL=vL(LM),jg=h7||function(A,N){return Dn.setTimeout(A,N)},j$=vL(_ee);function gL(A,N,V){var pe=N+"";return j$(A,qee(pe,Zee(Bee(pe),V)))}function vL(A){var N=0,V=0;return function(){var pe=v7(),xe=K-(pe-V);if(V=pe,xe>0){if(++N>=B)return arguments[0]}else N=0;return A.apply(r,arguments)}}function K0(A,N){var V=-1,pe=A.length,xe=pe-1;for(N=N===r?pe:N;++V<N;){var je=v$(V,xe),Ke=A[je];A[je]=A[V],A[V]=Ke}return A.length=N,A}var yL=Kee(function(A){var N=[];return A.charCodeAt(0)===46&&N.push(""),A.replace(bt,function(V,pe,xe,je){N.push(xe?je.replace(mt,"$1"):pe||V)}),N});function hu(A){if(typeof A=="string"||sa(A))return A;var N=A+"";return N=="0"&&1/A==-fe?"-0":N}function Bd(A){if(A!=null){try{return Kn.call(A)}catch{}try{return A+""}catch{}}return""}function Zee(A,N){return We(C,function(V){var pe="_."+V[0];N&V[1]&&!at(A,pe)&&A.push(pe)}),A.sort()}function wL(A){if(A instanceof an)return A.clone();var N=new La(A.__wrapped__,A.__chain__);return N.__actions__=Ps(A.__actions__),N.__index__=A.__index__,N.__values__=A.__values__,N}function ete(A,N,V){(V?Zo(A,N,V):N===r)?N=1:N=Wi(Ir(N),0);var pe=A==null?0:A.length;if(!pe||N<1)return[];for(var xe=0,je=0,Ke=be(R0(pe/N));xe<pe;)Ke[je++]=Ba(A,xe,xe+=N);return Ke}function tte(A){for(var N=-1,V=A==null?0:A.length,pe=0,xe=[];++N<V;){var je=A[N];je&&(xe[pe++]=je)}return xe}function rte(){var A=arguments.length;if(!A)return[];for(var N=be(A-1),V=arguments[0],pe=A;pe--;)N[pe-1]=arguments[pe];return br(Pr(V)?Ps(V):[V],mo(N,1))}var nte=zr(function(A,N){return Oi(A)?Pg(A,mo(N,1,Oi,!0)):[]}),ite=zr(function(A,N){var V=Ua(N);return Oi(V)&&(V=r),Oi(A)?Pg(A,mo(N,1,Oi,!0),mr(V,2)):[]}),ote=zr(function(A,N){var V=Ua(N);return Oi(V)&&(V=r),Oi(A)?Pg(A,mo(N,1,Oi,!0),r,V):[]});function ste(A,N,V){var pe=A==null?0:A.length;return pe?(N=V||N===r?1:Ir(N),Ba(A,N<0?0:N,pe)):[]}function ate(A,N,V){var pe=A==null?0:A.length;return pe?(N=V||N===r?1:Ir(N),N=pe-N,Ba(A,0,N<0?0:N)):[]}function lte(A,N){return A&&A.length?B0(A,mr(N,3),!0,!0):[]}function ute(A,N){return A&&A.length?B0(A,mr(N,3),!0):[]}function cte(A,N,V,pe){var xe=A==null?0:A.length;return xe?(V&&typeof V!="number"&&Zo(A,N,V)&&(V=0,pe=xe),ree(A,N,V,pe)):[]}function bL(A,N,V){var pe=A==null?0:A.length;if(!pe)return-1;var xe=V==null?0:Ir(V);return xe<0&&(xe=Wi(pe+xe,0)),Dr(A,mr(N,3),xe)}function _L(A,N,V){var pe=A==null?0:A.length;if(!pe)return-1;var xe=pe-1;return V!==r&&(xe=Ir(V),xe=V<0?Wi(pe+xe,0):Ro(xe,pe-1)),Dr(A,mr(N,3),xe,!0)}function EL(A){var N=A==null?0:A.length;return N?mo(A,1):[]}function fte(A){var N=A==null?0:A.length;return N?mo(A,fe):[]}function dte(A,N){var V=A==null?0:A.length;return V?(N=N===r?1:Ir(N),mo(A,N)):[]}function hte(A){for(var N=-1,V=A==null?0:A.length,pe={};++N<V;){var xe=A[N];pe[xe[0]]=xe[1]}return pe}function SL(A){return A&&A.length?A[0]:r}function pte(A,N,V){var pe=A==null?0:A.length;if(!pe)return-1;var xe=V==null?0:Ir(V);return xe<0&&(xe=Wi(pe+xe,0)),xn(A,N,xe)}function mte(A){var N=A==null?0:A.length;return N?Ba(A,0,-1):[]}var gte=zr(function(A){var N=zt(A,E$);return N.length&&N[0]===A[0]?d$(N):[]}),vte=zr(function(A){var N=Ua(A),V=zt(A,E$);return N===Ua(V)?N=r:V.pop(),V.length&&V[0]===A[0]?d$(V,mr(N,2)):[]}),yte=zr(function(A){var N=Ua(A),V=zt(A,E$);return N=typeof N=="function"?N:r,N&&V.pop(),V.length&&V[0]===A[0]?d$(V,r,N):[]});function wte(A,N){return A==null?"":m7.call(A,N)}function Ua(A){var N=A==null?0:A.length;return N?A[N-1]:r}function bte(A,N,V){var pe=A==null?0:A.length;if(!pe)return-1;var xe=pe;return V!==r&&(xe=Ir(V),xe=xe<0?Wi(pe+xe,0):Ro(xe,pe-1)),N===N?Yo(A,N,xe):Dr(A,di,xe,!0)}function _te(A,N){return A&&A.length?kM(A,Ir(N)):r}var Ete=zr(TL);function TL(A,N){return A&&A.length&&N&&N.length?g$(A,N):A}function Ste(A,N,V){return A&&A.length&&N&&N.length?g$(A,N,mr(V,2)):A}function Tte(A,N,V){return A&&A.length&&N&&N.length?g$(A,N,r,V):A}var $te=oc(function(A,N){var V=A==null?0:A.length,pe=l$(A,N);return MM(A,zt(N,function(xe){return sc(xe,V)?+xe:xe}).sort(GM)),pe});function xte(A,N){var V=[];if(!(A&&A.length))return V;var pe=-1,xe=[],je=A.length;for(N=mr(N,3);++pe<je;){var Ke=A[pe];N(Ke,pe,A)&&(V.push(Ke),xe.push(pe))}return MM(A,xe),V}function D$(A){return A==null?A:w7.call(A)}function Ate(A,N,V){var pe=A==null?0:A.length;return pe?(V&&typeof V!="number"&&Zo(A,N,V)?(N=0,V=pe):(N=N==null?0:Ir(N),V=V===r?pe:Ir(V)),Ba(A,N,V)):[]}function Ote(A,N){return F0(A,N)}function Pte(A,N,V){return w$(A,N,mr(V,2))}function Rte(A,N){var V=A==null?0:A.length;if(V){var pe=F0(A,N);if(pe<V&&Ol(A[pe],N))return pe}return-1}function Nte(A,N){return F0(A,N,!0)}function Ite(A,N,V){return w$(A,N,mr(V,2),!0)}function Cte(A,N){var V=A==null?0:A.length;if(V){var pe=F0(A,N,!0)-1;if(Ol(A[pe],N))return pe}return-1}function kte(A){return A&&A.length?FM(A):[]}function jte(A,N){return A&&A.length?FM(A,mr(N,2)):[]}function Dte(A){var N=A==null?0:A.length;return N?Ba(A,1,N):[]}function Mte(A,N,V){return A&&A.length?(N=V||N===r?1:Ir(N),Ba(A,0,N<0?0:N)):[]}function Lte(A,N,V){var pe=A==null?0:A.length;return pe?(N=V||N===r?1:Ir(N),N=pe-N,Ba(A,N<0?0:N,pe)):[]}function Fte(A,N){return A&&A.length?B0(A,mr(N,3),!1,!0):[]}function Bte(A,N){return A&&A.length?B0(A,mr(N,3)):[]}var Ute=zr(function(A){return uf(mo(A,1,Oi,!0))}),zte=zr(function(A){var N=Ua(A);return Oi(N)&&(N=r),uf(mo(A,1,Oi,!0),mr(N,2))}),qte=zr(function(A){var N=Ua(A);return N=typeof N=="function"?N:r,uf(mo(A,1,Oi,!0),r,N)});function Vte(A){return A&&A.length?uf(A):[]}function Hte(A,N){return A&&A.length?uf(A,mr(N,2)):[]}function Wte(A,N){return N=typeof N=="function"?N:r,A&&A.length?uf(A,r,N):[]}function M$(A){if(!(A&&A.length))return[];var N=0;return A=gt(A,function(V){if(Oi(V))return N=Wi(V.length,N),!0}),ra(N,function(V){return zt(A,ja(V))})}function $L(A,N){if(!(A&&A.length))return[];var V=M$(A);return N==null?V:zt(V,function(pe){return Ae(N,r,pe)})}var Gte=zr(function(A,N){return Oi(A)?Pg(A,N):[]}),Kte=zr(function(A){return _$(gt(A,Oi))}),Jte=zr(function(A){var N=Ua(A);return Oi(N)&&(N=r),_$(gt(A,Oi),mr(N,2))}),Yte=zr(function(A){var N=Ua(A);return N=typeof N=="function"?N:r,_$(gt(A,Oi),r,N)}),Xte=zr(M$);function Qte(A,N){return qM(A||[],N||[],Og)}function Zte(A,N){return qM(A||[],N||[],Ig)}var ere=zr(function(A){var N=A.length,V=N>1?A[N-1]:r;return V=typeof V=="function"?(A.pop(),V):r,$L(A,V)});function xL(A){var N=Ne(A);return N.__chain__=!0,N}function tre(A,N){return N(A),A}function J0(A,N){return N(A)}var rre=oc(function(A){var N=A.length,V=N?A[0]:0,pe=this.__wrapped__,xe=function(je){return l$(je,A)};return N>1||this.__actions__.length||!(pe instanceof an)||!sc(V)?this.thru(xe):(pe=pe.slice(V,+V+(N?1:0)),pe.__actions__.push({func:J0,args:[xe],thisArg:r}),new La(pe,this.__chain__).thru(function(je){return N&&!je.length&&je.push(r),je}))});function nre(){return xL(this)}function ire(){return new La(this.value(),this.__chain__)}function ore(){this.__values__===r&&(this.__values__=BL(this.value()));var A=this.__index__>=this.__values__.length,N=A?r:this.__values__[this.__index__++];return{done:A,value:N}}function sre(){return this}function are(A){for(var N,V=this;V instanceof k0;){var pe=wL(V);pe.__index__=0,pe.__values__=r,N?xe.__wrapped__=pe:N=pe;var xe=pe;V=V.__wrapped__}return xe.__wrapped__=A,N}function lre(){var A=this.__wrapped__;if(A instanceof an){var N=A;return this.__actions__.length&&(N=new an(this)),N=N.reverse(),N.__actions__.push({func:J0,args:[D$],thisArg:r}),new La(N,this.__chain__)}return this.thru(D$)}function ure(){return zM(this.__wrapped__,this.__actions__)}var cre=U0(function(A,N,V){or.call(A,V)?++A[V]:nc(A,V,1)});function fre(A,N,V){var pe=Pr(A)?ht:tee;return V&&Zo(A,N,V)&&(N=r),pe(A,mr(N,3))}function dre(A,N){var V=Pr(A)?gt:$M;return V(A,mr(N,3))}var hre=ZM(bL),pre=ZM(_L);function mre(A,N){return mo(Y0(A,N),1)}function gre(A,N){return mo(Y0(A,N),fe)}function vre(A,N,V){return V=V===r?1:Ir(V),mo(Y0(A,N),V)}function AL(A,N){var V=Pr(A)?We:lf;return V(A,mr(N,3))}function OL(A,N){var V=Pr(A)?it:TM;return V(A,mr(N,3))}var yre=U0(function(A,N,V){or.call(A,V)?A[V].push(N):nc(A,V,[N])});function wre(A,N,V,pe){A=Rs(A)?A:$p(A),V=V&&!pe?Ir(V):0;var xe=A.length;return V<0&&(V=Wi(xe+V,0)),tw(A)?V<=xe&&A.indexOf(N,V)>-1:!!xe&&xn(A,N,V)>-1}var bre=zr(function(A,N,V){var pe=-1,xe=typeof N=="function",je=Rs(A)?be(A.length):[];return lf(A,function(Ke){je[++pe]=xe?Ae(N,Ke,V):Rg(Ke,N,V)}),je}),_re=U0(function(A,N,V){nc(A,V,N)});function Y0(A,N){var V=Pr(A)?zt:NM;return V(A,mr(N,3))}function Ere(A,N,V,pe){return A==null?[]:(Pr(N)||(N=N==null?[]:[N]),V=pe?r:V,Pr(V)||(V=V==null?[]:[V]),jM(A,N,V))}var Sre=U0(function(A,N,V){A[V?0:1].push(N)},function(){return[[],[]]});function Tre(A,N,V){var pe=Pr(A)?pr:ki,xe=arguments.length<3;return pe(A,mr(N,4),V,xe,lf)}function $re(A,N,V){var pe=Pr(A)?wi:ki,xe=arguments.length<3;return pe(A,mr(N,4),V,xe,TM)}function xre(A,N){var V=Pr(A)?gt:$M;return V(A,Z0(mr(N,3)))}function Are(A){var N=Pr(A)?bM:wee;return N(A)}function Ore(A,N,V){(V?Zo(A,N,V):N===r)?N=1:N=Ir(N);var pe=Pr(A)?Y7:bee;return pe(A,N)}function Pre(A){var N=Pr(A)?X7:Eee;return N(A)}function Rre(A){if(A==null)return 0;if(Rs(A))return tw(A)?Xo(A):A.length;var N=No(A);return N==M||N==He?A.size:p$(A).length}function Nre(A,N,V){var pe=Pr(A)?Bn:See;return V&&Zo(A,N,V)&&(N=r),pe(A,mr(N,3))}var Ire=zr(function(A,N){if(A==null)return[];var V=N.length;return V>1&&Zo(A,N[0],N[1])?N=[]:V>2&&Zo(N[0],N[1],N[2])&&(N=[N[0]]),jM(A,mo(N,1),[])}),X0=d7||function(){return Dn.Date.now()};function Cre(A,N){if(typeof N!="function")throw new Wt(s);return A=Ir(A),function(){if(--A<1)return N.apply(this,arguments)}}function PL(A,N,V){return N=V?r:N,N=A&&N==null?A.length:N,ic(A,d,r,r,r,r,N)}function RL(A,N){var V;if(typeof N!="function")throw new Wt(s);return A=Ir(A),function(){return--A>0&&(V=N.apply(this,arguments)),A<=1&&(N=r),V}}var L$=zr(function(A,N,V){var pe=v;if(V.length){var xe=Po(V,Sp(L$));pe|=T}return ic(A,pe,N,V,xe)}),NL=zr(function(A,N,V){var pe=v|h;if(V.length){var xe=Po(V,Sp(NL));pe|=T}return ic(N,pe,A,V,xe)});function IL(A,N,V){N=V?r:N;var pe=ic(A,y,r,r,r,r,r,N);return pe.placeholder=IL.placeholder,pe}function CL(A,N,V){N=V?r:N;var pe=ic(A,S,r,r,r,r,r,N);return pe.placeholder=CL.placeholder,pe}function kL(A,N,V){var pe,xe,je,Ke,nt,st,Tt=0,$t=!1,jt=!1,Gt=!0;if(typeof A!="function")throw new Wt(s);N=za(N)||0,hi(V)&&($t=!!V.leading,jt="maxWait"in V,je=jt?Wi(za(V.maxWait)||0,N):je,Gt="trailing"in V?!!V.trailing:Gt);function sr(Pi){var Pl=pe,uc=xe;return pe=xe=r,Tt=Pi,Ke=A.apply(uc,Pl),Ke}function gr(Pi){return Tt=Pi,nt=jg(en,N),$t?sr(Pi):Ke}function Mr(Pi){var Pl=Pi-st,uc=Pi-Tt,ZL=N-Pl;return jt?Ro(ZL,je-uc):ZL}function vr(Pi){var Pl=Pi-st,uc=Pi-Tt;return st===r||Pl>=N||Pl<0||jt&&uc>=je}function en(){var Pi=X0();if(vr(Pi))return hn(Pi);nt=jg(en,Mr(Pi))}function hn(Pi){return nt=r,Gt&&pe?sr(Pi):(pe=xe=r,Ke)}function aa(){nt!==r&&VM(nt),Tt=0,pe=st=xe=nt=r}function es(){return nt===r?Ke:hn(X0())}function la(){var Pi=X0(),Pl=vr(Pi);if(pe=arguments,xe=this,st=Pi,Pl){if(nt===r)return gr(st);if(jt)return VM(nt),nt=jg(en,N),sr(st)}return nt===r&&(nt=jg(en,N)),Ke}return la.cancel=aa,la.flush=es,la}var kre=zr(function(A,N){return SM(A,1,N)}),jre=zr(function(A,N,V){return SM(A,za(N)||0,V)});function Dre(A){return ic(A,O)}function Q0(A,N){if(typeof A!="function"||N!=null&&typeof N!="function")throw new Wt(s);var V=function(){var pe=arguments,xe=N?N.apply(this,pe):pe[0],je=V.cache;if(je.has(xe))return je.get(xe);var Ke=A.apply(this,pe);return V.cache=je.set(xe,Ke)||je,Ke};return V.cache=new(Q0.Cache||rc),V}Q0.Cache=rc;function Z0(A){if(typeof A!="function")throw new Wt(s);return function(){var N=arguments;switch(N.length){case 0:return!A.call(this);case 1:return!A.call(this,N[0]);case 2:return!A.call(this,N[0],N[1]);case 3:return!A.call(this,N[0],N[1],N[2])}return!A.apply(this,N)}}function Mre(A){return RL(2,A)}var Lre=Tee(function(A,N){N=N.length==1&&Pr(N[0])?zt(N[0],ro(mr())):zt(mo(N,1),ro(mr()));var V=N.length;return zr(function(pe){for(var xe=-1,je=Ro(pe.length,V);++xe<je;)pe[xe]=N[xe].call(this,pe[xe]);return Ae(A,this,pe)})}),F$=zr(function(A,N){var V=Po(N,Sp(F$));return ic(A,T,r,N,V)}),jL=zr(function(A,N){var V=Po(N,Sp(jL));return ic(A,x,r,N,V)}),Fre=oc(function(A,N){return ic(A,$,r,r,r,N)});function Bre(A,N){if(typeof A!="function")throw new Wt(s);return N=N===r?N:Ir(N),zr(A,N)}function Ure(A,N){if(typeof A!="function")throw new Wt(s);return N=N==null?0:Wi(Ir(N),0),zr(function(V){var pe=V[N],xe=ff(V,0,N);return pe&&br(xe,pe),Ae(A,this,xe)})}function zre(A,N,V){var pe=!0,xe=!0;if(typeof A!="function")throw new Wt(s);return hi(V)&&(pe="leading"in V?!!V.leading:pe,xe="trailing"in V?!!V.trailing:xe),kL(A,N,{leading:pe,maxWait:N,trailing:xe})}function qre(A){return PL(A,1)}function Vre(A,N){return F$(S$(N),A)}function Hre(){if(!arguments.length)return[];var A=arguments[0];return Pr(A)?A:[A]}function Wre(A){return Fa(A,m)}function Gre(A,N){return N=typeof N=="function"?N:r,Fa(A,m,N)}function Kre(A){return Fa(A,c|m)}function Jre(A,N){return N=typeof N=="function"?N:r,Fa(A,c|m,N)}function Yre(A,N){return N==null||EM(A,N,no(N))}function Ol(A,N){return A===N||A!==A&&N!==N}var Xre=H0(f$),Qre=H0(function(A,N){return A>=N}),Ud=OM(function(){return arguments}())?OM:function(A){return bi(A)&&or.call(A,"callee")&&!Mi.call(A,"callee")},Pr=be.isArray,Zre=D?ro(D):aee;function Rs(A){return A!=null&&ew(A.length)&&!ac(A)}function Oi(A){return bi(A)&&Rs(A)}function ene(A){return A===!0||A===!1||bi(A)&&Qo(A)==ee}var df=p7||Y$,tne=H?ro(H):lee;function rne(A){return bi(A)&&A.nodeType===1&&!Dg(A)}function nne(A){if(A==null)return!0;if(Rs(A)&&(Pr(A)||typeof A=="string"||typeof A.splice=="function"||df(A)||Tp(A)||Ud(A)))return!A.length;var N=No(A);if(N==M||N==He)return!A.size;if(kg(A))return!p$(A).length;for(var V in A)if(or.call(A,V))return!1;return!0}function ine(A,N){return Ng(A,N)}function one(A,N,V){V=typeof V=="function"?V:r;var pe=V?V(A,N):r;return pe===r?Ng(A,N,r,V):!!pe}function B$(A){if(!bi(A))return!1;var N=Qo(A);return N==Oe||N==we||typeof A.message=="string"&&typeof A.name=="string"&&!Dg(A)}function sne(A){return typeof A=="number"&&gM(A)}function ac(A){if(!hi(A))return!1;var N=Qo(A);return N==I||N==L||N==X||N==Se}function DL(A){return typeof A=="number"&&A==Ir(A)}function ew(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=re}function hi(A){var N=typeof A;return A!=null&&(N=="object"||N=="function")}function bi(A){return A!=null&&typeof A=="object"}var ML=ae?ro(ae):cee;function ane(A,N){return A===N||h$(A,N,R$(N))}function lne(A,N,V){return V=typeof V=="function"?V:r,h$(A,N,R$(N),V)}function une(A){return LL(A)&&A!=+A}function cne(A){if(Gee(A))throw new Ge(o);return PM(A)}function fne(A){return A===null}function dne(A){return A==null}function LL(A){return typeof A=="number"||bi(A)&&Qo(A)==Z}function Dg(A){if(!bi(A)||Qo(A)!=de)return!1;var N=An(A);if(N===null)return!0;var V=or.call(N,"constructor")&&N.constructor;return typeof V=="function"&&V instanceof V&&Kn.call(V)==Er}var U$=he?ro(he):fee;function hne(A){return DL(A)&&A>=-re&&A<=re}var FL=_e?ro(_e):dee;function tw(A){return typeof A=="string"||!Pr(A)&&bi(A)&&Qo(A)==Ve}function sa(A){return typeof A=="symbol"||bi(A)&&Qo(A)==ut}var Tp=Ee?ro(Ee):hee;function pne(A){return A===r}function mne(A){return bi(A)&&No(A)==Ye}function gne(A){return bi(A)&&Qo(A)==te}var vne=H0(m$),yne=H0(function(A,N){return A<=N});function BL(A){if(!A)return[];if(Rs(A))return tw(A)?Di(A):Ps(A);if(Sg&&A[Sg])return Ma(A[Sg]());var N=No(A),V=N==M?$l:N==He?ia:$p;return V(A)}function lc(A){if(!A)return A===0?A:0;if(A=za(A),A===fe||A===-fe){var N=A<0?-1:1;return N*le}return A===A?A:0}function Ir(A){var N=lc(A),V=N%1;return N===N?V?N-V:N:0}function UL(A){return A?Md(Ir(A),0,z):0}function za(A){if(typeof A=="number")return A;if(sa(A))return F;if(hi(A)){var N=typeof A.valueOf=="function"?A.valueOf():A;A=hi(N)?N+"":N}if(typeof A!="string")return A===0?A:+A;A=ji(A);var V=Ft.test(A);return V||ur.test(A)?Zc(A.slice(2),V?2:8):Xt.test(A)?F:+A}function zL(A){return du(A,Ns(A))}function wne(A){return A?Md(Ir(A),-re,re):A===0?A:0}function In(A){return A==null?"":oa(A)}var bne=_p(function(A,N){if(kg(N)||Rs(N)){du(N,no(N),A);return}for(var V in N)or.call(N,V)&&Og(A,V,N[V])}),qL=_p(function(A,N){du(N,Ns(N),A)}),rw=_p(function(A,N,V,pe){du(N,Ns(N),A,pe)}),_ne=_p(function(A,N,V,pe){du(N,no(N),A,pe)}),Ene=oc(l$);function Sne(A,N){var V=bp(A);return N==null?V:_M(V,N)}var Tne=zr(function(A,N){A=ot(A);var V=-1,pe=N.length,xe=pe>2?N[2]:r;for(xe&&Zo(N[0],N[1],xe)&&(pe=1);++V<pe;)for(var je=N[V],Ke=Ns(je),nt=-1,st=Ke.length;++nt<st;){var Tt=Ke[nt],$t=A[Tt];($t===r||Ol($t,Or[Tt])&&!or.call(A,Tt))&&(A[Tt]=je[Tt])}return A}),$ne=zr(function(A){return A.push(r,sL),Ae(VL,r,A)});function xne(A,N){return ka(A,mr(N,3),fu)}function Ane(A,N){return ka(A,mr(N,3),c$)}function One(A,N){return A==null?A:u$(A,mr(N,3),Ns)}function Pne(A,N){return A==null?A:xM(A,mr(N,3),Ns)}function Rne(A,N){return A&&fu(A,mr(N,3))}function Nne(A,N){return A&&c$(A,mr(N,3))}function Ine(A){return A==null?[]:M0(A,no(A))}function Cne(A){return A==null?[]:M0(A,Ns(A))}function z$(A,N,V){var pe=A==null?r:Ld(A,N);return pe===r?V:pe}function kne(A,N){return A!=null&&uL(A,N,nee)}function q$(A,N){return A!=null&&uL(A,N,iee)}var jne=tL(function(A,N,V){N!=null&&typeof N.toString!="function"&&(N=Ai.call(N)),A[N]=V},H$(Is)),Dne=tL(function(A,N,V){N!=null&&typeof N.toString!="function"&&(N=Ai.call(N)),or.call(A,N)?A[N].push(V):A[N]=[V]},mr),Mne=zr(Rg);function no(A){return Rs(A)?wM(A):p$(A)}function Ns(A){return Rs(A)?wM(A,!0):pee(A)}function Lne(A,N){var V={};return N=mr(N,3),fu(A,function(pe,xe,je){nc(V,N(pe,xe,je),pe)}),V}function Fne(A,N){var V={};return N=mr(N,3),fu(A,function(pe,xe,je){nc(V,xe,N(pe,xe,je))}),V}var Bne=_p(function(A,N,V){L0(A,N,V)}),VL=_p(function(A,N,V,pe){L0(A,N,V,pe)}),Une=oc(function(A,N){var V={};if(A==null)return V;var pe=!1;N=zt(N,function(je){return je=cf(je,A),pe||(pe=je.length>1),je}),du(A,O$(A),V),pe&&(V=Fa(V,c|p|m,jee));for(var xe=N.length;xe--;)b$(V,N[xe]);return V});function zne(A,N){return HL(A,Z0(mr(N)))}var qne=oc(function(A,N){return A==null?{}:gee(A,N)});function HL(A,N){if(A==null)return{};var V=zt(O$(A),function(pe){return[pe]});return N=mr(N),DM(A,V,function(pe,xe){return N(pe,xe[0])})}function Vne(A,N,V){N=cf(N,A);var pe=-1,xe=N.length;for(xe||(xe=1,A=r);++pe<xe;){var je=A==null?r:A[hu(N[pe])];je===r&&(pe=xe,je=V),A=ac(je)?je.call(A):je}return A}function Hne(A,N,V){return A==null?A:Ig(A,N,V)}function Wne(A,N,V,pe){return pe=typeof pe=="function"?pe:r,A==null?A:Ig(A,N,V,pe)}var WL=iL(no),GL=iL(Ns);function Gne(A,N,V){var pe=Pr(A),xe=pe||df(A)||Tp(A);if(N=mr(N,4),V==null){var je=A&&A.constructor;xe?V=pe?new je:[]:hi(A)?V=ac(je)?bp(An(A)):{}:V={}}return(xe?We:fu)(A,function(Ke,nt,st){return N(V,Ke,nt,st)}),V}function Kne(A,N){return A==null?!0:b$(A,N)}function Jne(A,N,V){return A==null?A:UM(A,N,S$(V))}function Yne(A,N,V,pe){return pe=typeof pe=="function"?pe:r,A==null?A:UM(A,N,S$(V),pe)}function $p(A){return A==null?[]:nf(A,no(A))}function Xne(A){return A==null?[]:nf(A,Ns(A))}function Qne(A,N,V){return V===r&&(V=N,N=r),V!==r&&(V=za(V),V=V===V?V:0),N!==r&&(N=za(N),N=N===N?N:0),Md(za(A),N,V)}function Zne(A,N,V){return N=lc(N),V===r?(V=N,N=0):V=lc(V),A=za(A),oee(A,N,V)}function eie(A,N,V){if(V&&typeof V!="boolean"&&Zo(A,N,V)&&(N=V=r),V===r&&(typeof N=="boolean"?(V=N,N=r):typeof A=="boolean"&&(V=A,A=r)),A===r&&N===r?(A=0,N=1):(A=lc(A),N===r?(N=A,A=0):N=lc(N)),A>N){var pe=A;A=N,N=pe}if(V||A%1||N%1){var xe=vM();return Ro(A+xe*(N-A+Qc("1e-"+((xe+"").length-1))),N)}return v$(A,N)}var tie=Ep(function(A,N,V){return N=N.toLowerCase(),A+(V?KL(N):N)});function KL(A){return V$(In(A).toLowerCase())}function JL(A){return A=In(A),A&&A.replace(nr,na).replace(Eg,"")}function rie(A,N,V){A=In(A),N=oa(N);var pe=A.length;V=V===r?pe:Md(Ir(V),0,pe);var xe=V;return V-=N.length,V>=0&&A.slice(V,xe)==N}function nie(A){return A=In(A),A&&wr.test(A)?A.replace(Rr,mp):A}function iie(A){return A=In(A),A&&xt.test(A)?A.replace(Lt,"\\$&"):A}var oie=Ep(function(A,N,V){return A+(V?"-":"")+N.toLowerCase()}),sie=Ep(function(A,N,V){return A+(V?" ":"")+N.toLowerCase()}),aie=QM("toLowerCase");function lie(A,N,V){A=In(A),N=Ir(N);var pe=N?Xo(A):0;if(!N||pe>=N)return A;var xe=(N-pe)/2;return V0(N0(xe),V)+A+V0(R0(xe),V)}function uie(A,N,V){A=In(A),N=Ir(N);var pe=N?Xo(A):0;return N&&pe<N?A+V0(N-pe,V):A}function cie(A,N,V){A=In(A),N=Ir(N);var pe=N?Xo(A):0;return N&&pe<N?V0(N-pe,V)+A:A}function fie(A,N,V){return V||N==null?N=0:N&&(N=+N),y7(In(A).replace(Mt,""),N||0)}function die(A,N,V){return(V?Zo(A,N,V):N===r)?N=1:N=Ir(N),y$(In(A),N)}function hie(){var A=arguments,N=In(A[0]);return A.length<3?N:N.replace(A[1],A[2])}var pie=Ep(function(A,N,V){return A+(V?"_":"")+N.toLowerCase()});function mie(A,N,V){return V&&typeof V!="number"&&Zo(A,N,V)&&(N=V=r),V=V===r?z:V>>>0,V?(A=In(A),A&&(typeof N=="string"||N!=null&&!U$(N))&&(N=oa(N),!N&&Oo(A))?ff(Di(A),0,V):A.split(N,V)):[]}var gie=Ep(function(A,N,V){return A+(V?" ":"")+V$(N)});function vie(A,N,V){return A=In(A),V=V==null?0:Md(Ir(V),0,A.length),N=oa(N),A.slice(V,V+N.length)==N}function yie(A,N,V){var pe=Ne.templateSettings;V&&Zo(A,N,V)&&(N=r),A=In(A),N=rw({},N,pe,oL);var xe=rw({},N.imports,pe.imports,oL),je=no(xe),Ke=nf(xe,je),nt,st,Tt=0,$t=N.interpolate||Zt,jt="__p += '",Gt=Ot((N.escape||Zt).source+"|"+$t.source+"|"+($t===Ie?At:Zt).source+"|"+(N.evaluate||Zt).source+"|$","g"),sr="//# sourceURL="+(or.call(N,"sourceURL")?(N.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Rd+"]")+`
`;A.replace(Gt,function(vr,en,hn,aa,es,la){return hn||(hn=aa),jt+=A.slice(Tt,la).replace(Ut,gp),en&&(nt=!0,jt+=`' +
__e(`+en+`) +
'`),es&&(st=!0,jt+=`';
`+es+`;
__p += '`),hn&&(jt+=`' +
((__t = (`+hn+`)) == null ? '' : __t) +
'`),Tt=la+vr.length,vr}),jt+=`';
`;var gr=or.call(N,"variable")&&N.variable;if(!gr)jt=`with (obj) {
`+jt+`
}
`;else if(dt.test(gr))throw new Ge(a);jt=(st?jt.replace(Yt,""):jt).replace(Jr,"$1").replace(cn,"$1;"),jt="function("+(gr||"obj")+`) {
`+(gr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(nt?", __e = _.escape":"")+(st?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jt+`return __p
}`;var Mr=XL(function(){return tt(je,sr+"return "+jt).apply(r,Ke)});if(Mr.source=jt,B$(Mr))throw Mr;return Mr}function wie(A){return In(A).toLowerCase()}function bie(A){return In(A).toUpperCase()}function _ie(A,N,V){if(A=In(A),A&&(V||N===r))return ji(A);if(!A||!(N=oa(N)))return A;var pe=Di(A),xe=Di(N),je=dn(pe,xe),Ke=cu(pe,xe)+1;return ff(pe,je,Ke).join("")}function Eie(A,N,V){if(A=In(A),A&&(V||N===r))return A.slice(0,Cd(A)+1);if(!A||!(N=oa(N)))return A;var pe=Di(A),xe=cu(pe,Di(N))+1;return ff(pe,0,xe).join("")}function Sie(A,N,V){if(A=In(A),A&&(V||N===r))return A.replace(Mt,"");if(!A||!(N=oa(N)))return A;var pe=Di(A),xe=dn(pe,Di(N));return ff(pe,xe).join("")}function Tie(A,N){var V=P,pe=k;if(hi(N)){var xe="separator"in N?N.separator:xe;V="length"in N?Ir(N.length):V,pe="omission"in N?oa(N.omission):pe}A=In(A);var je=A.length;if(Oo(A)){var Ke=Di(A);je=Ke.length}if(V>=je)return A;var nt=V-Xo(pe);if(nt<1)return pe;var st=Ke?ff(Ke,0,nt).join(""):A.slice(0,nt);if(xe===r)return st+pe;if(Ke&&(nt+=st.length-nt),U$(xe)){if(A.slice(nt).search(xe)){var Tt,$t=st;for(xe.global||(xe=Ot(xe.source,In(Ht.exec(xe))+"g")),xe.lastIndex=0;Tt=xe.exec($t);)var jt=Tt.index;st=st.slice(0,jt===r?nt:jt)}}else if(A.indexOf(oa(xe),nt)!=nt){var Gt=st.lastIndexOf(xe);Gt>-1&&(st=st.slice(0,Gt))}return st+pe}function $ie(A){return A=In(A),A&&Nn.test(A)?A.replace(Tr,sf):A}var xie=Ep(function(A,N,V){return A+(V?" ":"")+N.toUpperCase()}),V$=QM("toUpperCase");function YL(A,N,V){return A=In(A),N=V?r:N,N===r?Id(A)?rt(A):jr(A):A.match(N)||[]}var XL=zr(function(A,N){try{return Ae(A,r,N)}catch(V){return B$(V)?V:new Ge(V)}}),Aie=oc(function(A,N){return We(N,function(V){V=hu(V),nc(A,V,L$(A[V],A))}),A});function Oie(A){var N=A==null?0:A.length,V=mr();return A=N?zt(A,function(pe){if(typeof pe[1]!="function")throw new Wt(s);return[V(pe[0]),pe[1]]}):[],zr(function(pe){for(var xe=-1;++xe<N;){var je=A[xe];if(Ae(je[0],this,pe))return Ae(je[1],this,pe)}})}function Pie(A){return eee(Fa(A,c))}function H$(A){return function(){return A}}function Rie(A,N){return A==null||A!==A?N:A}var Nie=eL(),Iie=eL(!0);function Is(A){return A}function W$(A){return RM(typeof A=="function"?A:Fa(A,c))}function Cie(A){return IM(Fa(A,c))}function kie(A,N){return CM(A,Fa(N,c))}var jie=zr(function(A,N){return function(V){return Rg(V,A,N)}}),Die=zr(function(A,N){return function(V){return Rg(A,V,N)}});function G$(A,N,V){var pe=no(N),xe=M0(N,pe);V==null&&!(hi(N)&&(xe.length||!pe.length))&&(V=N,N=A,A=this,xe=M0(N,no(N)));var je=!(hi(V)&&"chain"in V)||!!V.chain,Ke=ac(A);return We(xe,function(nt){var st=N[nt];A[nt]=st,Ke&&(A.prototype[nt]=function(){var Tt=this.__chain__;if(je||Tt){var $t=A(this.__wrapped__),jt=$t.__actions__=Ps(this.__actions__);return jt.push({func:st,args:arguments,thisArg:A}),$t.__chain__=Tt,$t}return st.apply(A,br([this.value()],arguments))})}),A}function Mie(){return Dn._===this&&(Dn._=Jn),this}function K$(){}function Lie(A){return A=Ir(A),zr(function(N){return kM(N,A)})}var Fie=$$(zt),Bie=$$(ht),Uie=$$(Bn);function QL(A){return I$(A)?ja(hu(A)):vee(A)}function zie(A){return function(N){return A==null?r:Ld(A,N)}}var qie=rL(),Vie=rL(!0);function J$(){return[]}function Y$(){return!1}function Hie(){return{}}function Wie(){return""}function Gie(){return!0}function Kie(A,N){if(A=Ir(A),A<1||A>re)return[];var V=z,pe=Ro(A,z);N=mr(N),A-=z;for(var xe=ra(pe,N);++V<A;)N(V);return xe}function Jie(A){return Pr(A)?zt(A,hu):sa(A)?[A]:Ps(yL(In(A)))}function Yie(A){var N=++Mn;return In(A)+N}var Xie=q0(function(A,N){return A+N},0),Qie=x$("ceil"),Zie=q0(function(A,N){return A/N},1),eoe=x$("floor");function toe(A){return A&&A.length?D0(A,Is,f$):r}function roe(A,N){return A&&A.length?D0(A,mr(N,2),f$):r}function noe(A){return Vi(A,Is)}function ioe(A,N){return Vi(A,mr(N,2))}function ooe(A){return A&&A.length?D0(A,Is,m$):r}function soe(A,N){return A&&A.length?D0(A,mr(N,2),m$):r}var aoe=q0(function(A,N){return A*N},1),loe=x$("round"),uoe=q0(function(A,N){return A-N},0);function coe(A){return A&&A.length?Un(A,Is):0}function foe(A,N){return A&&A.length?Un(A,mr(N,2)):0}return Ne.after=Cre,Ne.ary=PL,Ne.assign=bne,Ne.assignIn=qL,Ne.assignInWith=rw,Ne.assignWith=_ne,Ne.at=Ene,Ne.before=RL,Ne.bind=L$,Ne.bindAll=Aie,Ne.bindKey=NL,Ne.castArray=Hre,Ne.chain=xL,Ne.chunk=ete,Ne.compact=tte,Ne.concat=rte,Ne.cond=Oie,Ne.conforms=Pie,Ne.constant=H$,Ne.countBy=cre,Ne.create=Sne,Ne.curry=IL,Ne.curryRight=CL,Ne.debounce=kL,Ne.defaults=Tne,Ne.defaultsDeep=$ne,Ne.defer=kre,Ne.delay=jre,Ne.difference=nte,Ne.differenceBy=ite,Ne.differenceWith=ote,Ne.drop=ste,Ne.dropRight=ate,Ne.dropRightWhile=lte,Ne.dropWhile=ute,Ne.fill=cte,Ne.filter=dre,Ne.flatMap=mre,Ne.flatMapDeep=gre,Ne.flatMapDepth=vre,Ne.flatten=EL,Ne.flattenDeep=fte,Ne.flattenDepth=dte,Ne.flip=Dre,Ne.flow=Nie,Ne.flowRight=Iie,Ne.fromPairs=hte,Ne.functions=Ine,Ne.functionsIn=Cne,Ne.groupBy=yre,Ne.initial=mte,Ne.intersection=gte,Ne.intersectionBy=vte,Ne.intersectionWith=yte,Ne.invert=jne,Ne.invertBy=Dne,Ne.invokeMap=bre,Ne.iteratee=W$,Ne.keyBy=_re,Ne.keys=no,Ne.keysIn=Ns,Ne.map=Y0,Ne.mapKeys=Lne,Ne.mapValues=Fne,Ne.matches=Cie,Ne.matchesProperty=kie,Ne.memoize=Q0,Ne.merge=Bne,Ne.mergeWith=VL,Ne.method=jie,Ne.methodOf=Die,Ne.mixin=G$,Ne.negate=Z0,Ne.nthArg=Lie,Ne.omit=Une,Ne.omitBy=zne,Ne.once=Mre,Ne.orderBy=Ere,Ne.over=Fie,Ne.overArgs=Lre,Ne.overEvery=Bie,Ne.overSome=Uie,Ne.partial=F$,Ne.partialRight=jL,Ne.partition=Sre,Ne.pick=qne,Ne.pickBy=HL,Ne.property=QL,Ne.propertyOf=zie,Ne.pull=Ete,Ne.pullAll=TL,Ne.pullAllBy=Ste,Ne.pullAllWith=Tte,Ne.pullAt=$te,Ne.range=qie,Ne.rangeRight=Vie,Ne.rearg=Fre,Ne.reject=xre,Ne.remove=xte,Ne.rest=Bre,Ne.reverse=D$,Ne.sampleSize=Ore,Ne.set=Hne,Ne.setWith=Wne,Ne.shuffle=Pre,Ne.slice=Ate,Ne.sortBy=Ire,Ne.sortedUniq=kte,Ne.sortedUniqBy=jte,Ne.split=mie,Ne.spread=Ure,Ne.tail=Dte,Ne.take=Mte,Ne.takeRight=Lte,Ne.takeRightWhile=Fte,Ne.takeWhile=Bte,Ne.tap=tre,Ne.throttle=zre,Ne.thru=J0,Ne.toArray=BL,Ne.toPairs=WL,Ne.toPairsIn=GL,Ne.toPath=Jie,Ne.toPlainObject=zL,Ne.transform=Gne,Ne.unary=qre,Ne.union=Ute,Ne.unionBy=zte,Ne.unionWith=qte,Ne.uniq=Vte,Ne.uniqBy=Hte,Ne.uniqWith=Wte,Ne.unset=Kne,Ne.unzip=M$,Ne.unzipWith=$L,Ne.update=Jne,Ne.updateWith=Yne,Ne.values=$p,Ne.valuesIn=Xne,Ne.without=Gte,Ne.words=YL,Ne.wrap=Vre,Ne.xor=Kte,Ne.xorBy=Jte,Ne.xorWith=Yte,Ne.zip=Xte,Ne.zipObject=Qte,Ne.zipObjectDeep=Zte,Ne.zipWith=ere,Ne.entries=WL,Ne.entriesIn=GL,Ne.extend=qL,Ne.extendWith=rw,G$(Ne,Ne),Ne.add=Xie,Ne.attempt=XL,Ne.camelCase=tie,Ne.capitalize=KL,Ne.ceil=Qie,Ne.clamp=Qne,Ne.clone=Wre,Ne.cloneDeep=Kre,Ne.cloneDeepWith=Jre,Ne.cloneWith=Gre,Ne.conformsTo=Yre,Ne.deburr=JL,Ne.defaultTo=Rie,Ne.divide=Zie,Ne.endsWith=rie,Ne.eq=Ol,Ne.escape=nie,Ne.escapeRegExp=iie,Ne.every=fre,Ne.find=hre,Ne.findIndex=bL,Ne.findKey=xne,Ne.findLast=pre,Ne.findLastIndex=_L,Ne.findLastKey=Ane,Ne.floor=eoe,Ne.forEach=AL,Ne.forEachRight=OL,Ne.forIn=One,Ne.forInRight=Pne,Ne.forOwn=Rne,Ne.forOwnRight=Nne,Ne.get=z$,Ne.gt=Xre,Ne.gte=Qre,Ne.has=kne,Ne.hasIn=q$,Ne.head=SL,Ne.identity=Is,Ne.includes=wre,Ne.indexOf=pte,Ne.inRange=Zne,Ne.invoke=Mne,Ne.isArguments=Ud,Ne.isArray=Pr,Ne.isArrayBuffer=Zre,Ne.isArrayLike=Rs,Ne.isArrayLikeObject=Oi,Ne.isBoolean=ene,Ne.isBuffer=df,Ne.isDate=tne,Ne.isElement=rne,Ne.isEmpty=nne,Ne.isEqual=ine,Ne.isEqualWith=one,Ne.isError=B$,Ne.isFinite=sne,Ne.isFunction=ac,Ne.isInteger=DL,Ne.isLength=ew,Ne.isMap=ML,Ne.isMatch=ane,Ne.isMatchWith=lne,Ne.isNaN=une,Ne.isNative=cne,Ne.isNil=dne,Ne.isNull=fne,Ne.isNumber=LL,Ne.isObject=hi,Ne.isObjectLike=bi,Ne.isPlainObject=Dg,Ne.isRegExp=U$,Ne.isSafeInteger=hne,Ne.isSet=FL,Ne.isString=tw,Ne.isSymbol=sa,Ne.isTypedArray=Tp,Ne.isUndefined=pne,Ne.isWeakMap=mne,Ne.isWeakSet=gne,Ne.join=wte,Ne.kebabCase=oie,Ne.last=Ua,Ne.lastIndexOf=bte,Ne.lowerCase=sie,Ne.lowerFirst=aie,Ne.lt=vne,Ne.lte=yne,Ne.max=toe,Ne.maxBy=roe,Ne.mean=noe,Ne.meanBy=ioe,Ne.min=ooe,Ne.minBy=soe,Ne.stubArray=J$,Ne.stubFalse=Y$,Ne.stubObject=Hie,Ne.stubString=Wie,Ne.stubTrue=Gie,Ne.multiply=aoe,Ne.nth=_te,Ne.noConflict=Mie,Ne.noop=K$,Ne.now=X0,Ne.pad=lie,Ne.padEnd=uie,Ne.padStart=cie,Ne.parseInt=fie,Ne.random=eie,Ne.reduce=Tre,Ne.reduceRight=$re,Ne.repeat=die,Ne.replace=hie,Ne.result=Vne,Ne.round=loe,Ne.runInContext=Y,Ne.sample=Are,Ne.size=Rre,Ne.snakeCase=pie,Ne.some=Nre,Ne.sortedIndex=Ote,Ne.sortedIndexBy=Pte,Ne.sortedIndexOf=Rte,Ne.sortedLastIndex=Nte,Ne.sortedLastIndexBy=Ite,Ne.sortedLastIndexOf=Cte,Ne.startCase=gie,Ne.startsWith=vie,Ne.subtract=uoe,Ne.sum=coe,Ne.sumBy=foe,Ne.template=yie,Ne.times=Kie,Ne.toFinite=lc,Ne.toInteger=Ir,Ne.toLength=UL,Ne.toLower=wie,Ne.toNumber=za,Ne.toSafeInteger=wne,Ne.toString=In,Ne.toUpper=bie,Ne.trim=_ie,Ne.trimEnd=Eie,Ne.trimStart=Sie,Ne.truncate=Tie,Ne.unescape=$ie,Ne.uniqueId=Yie,Ne.upperCase=xie,Ne.upperFirst=V$,Ne.each=AL,Ne.eachRight=OL,Ne.first=SL,G$(Ne,function(){var A={};return fu(Ne,function(N,V){or.call(Ne.prototype,V)||(A[V]=N)}),A}(),{chain:!1}),Ne.VERSION=n,We(["bind","bindKey","curry","curryRight","partial","partialRight"],function(A){Ne[A].placeholder=Ne}),We(["drop","take"],function(A,N){an.prototype[A]=function(V){V=V===r?1:Wi(Ir(V),0);var pe=this.__filtered__&&!N?new an(this):this.clone();return pe.__filtered__?pe.__takeCount__=Ro(V,pe.__takeCount__):pe.__views__.push({size:Ro(V,z),type:A+(pe.__dir__<0?"Right":"")}),pe},an.prototype[A+"Right"]=function(V){return this.reverse()[A](V).reverse()}}),We(["filter","map","takeWhile"],function(A,N){var V=N+1,pe=V==ie||V==ne;an.prototype[A]=function(xe){var je=this.clone();return je.__iteratees__.push({iteratee:mr(xe,3),type:V}),je.__filtered__=je.__filtered__||pe,je}}),We(["head","last"],function(A,N){var V="take"+(N?"Right":"");an.prototype[A]=function(){return this[V](1).value()[0]}}),We(["initial","tail"],function(A,N){var V="drop"+(N?"":"Right");an.prototype[A]=function(){return this.__filtered__?new an(this):this[V](1)}}),an.prototype.compact=function(){return this.filter(Is)},an.prototype.find=function(A){return this.filter(A).head()},an.prototype.findLast=function(A){return this.reverse().find(A)},an.prototype.invokeMap=zr(function(A,N){return typeof A=="function"?new an(this):this.map(function(V){return Rg(V,A,N)})}),an.prototype.reject=function(A){return this.filter(Z0(mr(A)))},an.prototype.slice=function(A,N){A=Ir(A);var V=this;return V.__filtered__&&(A>0||N<0)?new an(V):(A<0?V=V.takeRight(-A):A&&(V=V.drop(A)),N!==r&&(N=Ir(N),V=N<0?V.dropRight(-N):V.take(N-A)),V)},an.prototype.takeRightWhile=function(A){return this.reverse().takeWhile(A).reverse()},an.prototype.toArray=function(){return this.take(z)},fu(an.prototype,function(A,N){var V=/^(?:filter|find|map|reject)|While$/.test(N),pe=/^(?:head|last)$/.test(N),xe=Ne[pe?"take"+(N=="last"?"Right":""):N],je=pe||/^find/.test(N);xe&&(Ne.prototype[N]=function(){var Ke=this.__wrapped__,nt=pe?[1]:arguments,st=Ke instanceof an,Tt=nt[0],$t=st||Pr(Ke),jt=function(en){var hn=xe.apply(Ne,br([en],nt));return pe&&Gt?hn[0]:hn};$t&&V&&typeof Tt=="function"&&Tt.length!=1&&(st=$t=!1);var Gt=this.__chain__,sr=!!this.__actions__.length,gr=je&&!Gt,Mr=st&&!sr;if(!je&&$t){Ke=Mr?Ke:new an(this);var vr=A.apply(Ke,nt);return vr.__actions__.push({func:J0,args:[jt],thisArg:r}),new La(vr,Gt)}return gr&&Mr?A.apply(this,nt):(vr=this.thru(jt),gr?pe?vr.value()[0]:vr.value():vr)})}),We(["pop","push","shift","sort","splice","unshift"],function(A){var N=Ct[A],V=/^(?:push|sort|unshift)$/.test(A)?"tap":"thru",pe=/^(?:pop|shift)$/.test(A);Ne.prototype[A]=function(){var xe=arguments;if(pe&&!this.__chain__){var je=this.value();return N.apply(Pr(je)?je:[],xe)}return this[V](function(Ke){return N.apply(Pr(Ke)?Ke:[],xe)})}}),fu(an.prototype,function(A,N){var V=Ne[N];if(V){var pe=V.name+"";or.call(wp,pe)||(wp[pe]=[]),wp[pe].push({name:N,func:V})}}),wp[z0(r,h).name]=[{name:"wrapper",func:r}],an.prototype.clone=$7,an.prototype.reverse=x7,an.prototype.value=A7,Ne.prototype.at=rre,Ne.prototype.chain=nre,Ne.prototype.commit=ire,Ne.prototype.next=ore,Ne.prototype.plant=are,Ne.prototype.reverse=lre,Ne.prototype.toJSON=Ne.prototype.valueOf=Ne.prototype.value=ure,Ne.prototype.first=Ne.prototype.head,Sg&&(Ne.prototype[Sg]=sre),Ne},G=lt();$s?(($s.exports=G)._=G,Tl._=G):Dn._=G}).call(uo)})(_1,_1.exports);var wke=_1.exports;const bke=({filteredHeaders:e,filteredRows:t,interaction:r,backgroundTdToSend:n,dispatch:i,handleFieldChange:o})=>{const s=Pe.useContext(Fn),a=s.parsedTD,{activeSection:l,sectionErrors:u,isTestingAll:f,settingsData:c,placeholderValues:p,propertyResponseMap:m}=r,g=async(d,$)=>{try{const O=c.southboundUrl,P=await Wv(`${O}`,"POST",JSON.stringify($));if(P.status===200||P.status===201||P.status===409){const k=await jE(d);s.updateNorthboundConnection({message:k.message,northboundTd:k.data??{}})}else throw new Error(`Unexpected response status: ${P.status}`)}catch(O){console.error("Error request Northbound Td Version :",O)}},_=Pe.useMemo(()=>JK(m),[m]),v=()=>{switch(l){case"INSTANCE":return Object.values(p).every(O=>O!=null&&O.trim()!=="")?(i({type:"SET_INTERACTION_SECTION_ERROR",section:"instance",error:!1,message:""}),!0):(i({type:"SET_INTERACTION_SECTION_ERROR",section:"instance",error:!0,message:"All fields in section Instance must have values"}),!1);case"GATEWAY":if(c.northboundUrl.trim()!==""&&c.southboundUrl.trim()!==""&&c.pathToValue.trim()!=="")i({type:"SET_INTERACTION_SECTION_ERROR",section:"gateway",error:!1,message:""});else return i({type:"SET_INTERACTION_SECTION_ERROR",section:"gateway",error:!0,message:"All fields in section Gateway must have values"}),!1;return!0;case"TABLE":return!0;case"SAVING_RESULTS":return!0;default:return!0}},h=d=>{if(v(),d==="TABLE"){let $={};try{$=m1e(n,p),i({type:"SET_BACKGROUND_TD_TO_SEND",payload:$})}catch(O){i({type:"SET_INTERACTION_SECTION_ERROR",section:"table",error:!0,message:`Failed to prepare TD: ${O instanceof Error?O.message:String(O)}`});return}$.id?g($.id,$):i({type:"SET_INTERACTION_SECTION_ERROR",section:"table",error:!0,message:"Cannot interact with the TD: missing ID"})}i(l===d?{type:"SET_INTERACTION_ACTIVE_SECTION",payload:"INSTANCE"}:{type:"SET_INTERACTION_ACTIVE_SECTION",payload:d})},E=async()=>{i({type:"SET_INTERACTION_TESTING_ALL",payload:!0});try{const d=Object.keys(s.northboundConnection.northboundTd).length>0?s.northboundConnection.northboundTd:a,$=await KK(d,t.map(O=>({id:O.id,propName:O.propName})),c.pathToValue);i({type:"SET_INTERACTION_PROPERTY_RESPONSE_MAP",payload:{...m,...$}})}finally{i({type:"SET_INTERACTION_TESTING_ALL",payload:!1})}},y=async d=>{const $=$m(d.id);let O={value:"",error:""};try{const k=await vT(Object.keys(s.northboundConnection.northboundTd).length>0?s.northboundConnection.northboundTd:a,d.propName,{formIndex:$},c.pathToValue||"");k.err?O={value:"",error:k.err.message}:O={value:k.result,error:""}}catch(k){O={value:"",error:k.message||"Unknown error"}}const P={...m,[d.id]:O};return i({type:"SET_INTERACTION_PROPERTY_RESPONSE_MAP",payload:P}),O};function S(d){const $=Pe.useRef();return Pe.useEffect(()=>{$.current=d},[d]),$.current}const T=S(c),x=(d,$)=>{$&&!wke.isEqual(d,T)&&i({type:"SET_INTERACTION_SETTINGS_DATA",payload:d})};return Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"space-y-4",children:[Q.jsx("div",{className:"mb-2 w-full rounded-md bg-opacity-80 p-3 text-white",children:Q.jsx("p",{className:"text-lg",children:"If you want to verify the correctness of your Thing Model, you can interact with a device instance here. To do so, please configure the proxy (northbound, southound, valuepath) and provide instance-specific information such as IP address."})}),Q.jsxs("div",{id:"instanceSection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[Q.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>h("INSTANCE"),children:[Q.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${l==="INSTANCE"?"rotate-0":"-rotate-90"}`}),Q.jsx("span",{className:"flex-grow",children:" 2.1 Instance"}),l==="INSTANCE"?Q.jsx(us,{size:16}):Q.jsx(bh,{size:16})]}),l==="INSTANCE"&&Object.keys(p).length>0&&Q.jsx("div",{className:"w-full p-2",children:Q.jsx("div",{className:"mx-auto mb-2 w-[70%]",children:Q.jsx(k5,{inputValues:p,onValueChange:o})})}),l==="INSTANCE"&&Object.keys(p).length===0&&Q.jsx("div",{className:"w-full p-2",children:Q.jsx("div",{className:"mx-auto mb-2 w-[70%]",children:Q.jsx("h1",{children:"There are no placeholders in the following Things Model."})})}),u.instance.error&&Q.jsxs("div",{className:"my-2 h-full w-full rounded bg-red-500 p-1 text-white",children:[Q.jsx(Hh,{size:18,className:"mx-2 inline-flex text-black"}),u.instance.message]})]}),Q.jsxs("div",{id:"gatewaySection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[Q.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>h("GATEWAY"),children:[Q.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${l==="GATEWAY"?"rotate-0":"-rotate-90"}`}),Q.jsx("span",{className:"flex-grow",children:" 2.2 Gateway"}),l==="GATEWAY"?Q.jsx(us,{size:16}):Q.jsx(bh,{size:16})]}),l==="GATEWAY"&&Q.jsx("div",{className:"w-full p-2",children:Q.jsx("div",{className:"mx-auto mt-4 w-[70%]",children:Q.jsx(F5,{initialData:c,onChange:x})})}),u.gateway.error&&Q.jsxs("div",{className:"mb-2 mt-2 h-full w-full rounded bg-red-500 p-1 text-white",children:[Q.jsx(Hh,{size:18,className:"mx-2 inline-flex text-black"}),u.gateway.message]})]}),Q.jsxs("div",{id:"tableSection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[Q.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>h("TABLE"),children:[Q.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${l==="TABLE"?"rotate-0":"-rotate-90"}`}),Q.jsx("span",{className:"flex-grow",children:" 2.3 Value Verification"}),l==="TABLE"?Q.jsx(us,{size:16}):Q.jsx(bh,{size:16})]}),l==="TABLE"&&Q.jsxs("div",{className:"mt-4 w-full p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Read property values from device instance"}),Q.jsx("div",{className:"p-2",children:Q.jsx(WK,{headers:e,items:t,itemsPerPage:10,orderBy:"",order:"asc",baseUrl:a.base??"",expandTable:!0,onSendRequestClick:y,requestResults:m})}),Q.jsx("div",{className:"mb-4 mt-2 flex justify-end px-4",children:Q.jsx(ri,{onClick:E,variant:"primary",type:"button",disabled:f,className:"flex items-center",children:f?Q.jsxs(Q.Fragment,{children:[Q.jsx(r0,{className:"mr-2 animate-spin",size:16}),"Testing..."]}):"Test All Properties"})}),_.errorCount>0&&Q.jsxs("div",{className:"mt-4 rounded-md bg-red-100 p-3 text-red-700",children:[Q.jsxs("p",{className:"font-bold",children:["Found ",_.errorCount," error",_.errorCount>1?"s":""]}),Q.jsxs("p",{className:"mt-1",children:["First error in property name"," ",Q.jsx("span",{className:"font-semibold",children:_.firstError.id}),": ",_.firstError.message]})]})]})]}),Q.jsxs("div",{id:"savingResultsSection",className:"overflow-hidden rounded-md bg-black bg-opacity-80",children:[Q.jsxs("div",{className:"flex cursor-pointer items-center p-2 font-bold",onClick:()=>h("SAVING_RESULTS"),children:[Q.jsx(us,{size:16,className:`mr-2 transition-transform duration-200 ${l==="SAVING_RESULTS"?"rotate-0":"-rotate-90"}`}),Q.jsx("span",{className:"flex-grow",children:" 2.4 Saving results"}),l==="SAVING_RESULTS"?Q.jsx(us,{size:16}):Q.jsx(bh,{size:16})]}),l==="SAVING_RESULTS"&&Q.jsx("div",{className:"p-2 pt-0",children:Q.jsx("div",{className:"mx-auto w-[70%]",children:"A feature for saving the property values will be added later on."})})]})]})})},_ke="Contribute your TM to a TM Catalog",sO="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tmc-mandatory.schema.json",H6="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tm-json-schema-validation.json",aO="https://raw.githubusercontent.com/wot-oss/tmc/refs/heads/main/internal/commands/validate/modbus.schema.json",e7=Pe.forwardRef((e,t)=>{const r=Pe.useContext(Fn),n=r.parsedTD,i=r.contributeCatalog,[o,s]=Pe.useReducer(gke,ZZ),a=Pe.useMemo(()=>{const W=o.workflow.currentStep;return`${_ke} - ${W===1?"Metadata":W===2?"Interaction":"Submission"}`},[o.workflow.currentStep]),l=Pe.useMemo(()=>{const W=o.workflow.currentStep;return W===1?0:W===2?50:100},[o.workflow.currentStep]),u=Pe.useMemo(()=>n.properties||{},[n]);Pe.useImperativeHandle(t,()=>({openModal:()=>f(),close:()=>c()}));const f=()=>{var z,J,R;const W={model:n["schema:mpn"]||i.model||"",author:((z=n["schema:author"])==null?void 0:z["schema:name"])||i.author||"",manufacturer:((J=n["schema:manufacturer"])==null?void 0:J["schema:name"])||i.manufacturer||"",license:n["schema:license"]||i.license||"",copyrightYear:n["schema:copyrightYear"]||i.copyrightYear||"",holder:(((R=n["schema:copyrightHolder"])==null?void 0:R.name)||i.holder||"").trim()};s({type:"INITIALIZE_METADATA",payload:W});const ne=new URLSearchParams(window.location.search),fe=ne.get("tmcendpoint"),re=ne.get("repo"),le=fe?decodeURIComponent(fe):"",F=re?decodeURIComponent(re):"";!TI(le)&&le!==""&&s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR",payload:"Please enter a valid URL starting with http:// or https://"}),le===""&&i.tmCatalogEndpoint!==""?s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT",payload:i.tmCatalogEndpoint}):s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT",payload:le}),F===""&&i.nameRepository!==""?s({type:"SET_SUBMISSION_REPOSITORY",payload:i.nameRepository}):s({type:"SET_SUBMISSION_REPOSITORY",payload:F}),s({type:"SHOW_DIALOG",payload:!0})},c=()=>{s({type:"RESET_STATE"}),r.updateNorthboundConnection({message:"",northboundTd:{}}),r.updateContributeCatalog({...r.contributeCatalog,dynamicValues:{}})},p=async()=>{s({type:"SET_METADATA_ERROR_MESSAGE",payload:""}),s({type:"SET_METADATA_VALIDATION",payload:"VALIDATING"});const{model:W,author:ne,manufacturer:fe,license:re,copyrightYear:le,holder:F}=o.metadata;try{const z=structuredClone(n);if(W.trim()===""||ne.trim()===""||fe.trim()===""){let ee=`Please fill in all required fields: ${W===""?"Model":""} ${ne===""?"Author":""} ${fe===""?"Manufacturer":""}`;throw new Error(ee)}z["schema:mpn"]=W,z["schema:author"]={"schema:name":ne},z["schema:manufacturer"]={"@type":"Organization","schema:name":fe},re&&re.trim()!==""?z["schema:license"]=re:delete z["schema:license"],le?z["schema:copyrightYear"]=le:delete z["schema:copyrightYear"],F&&F.trim()!==""?z["schema:copyrightHolder"]={"@type":"Organization","schema:name":F}:delete z["schema:copyrightHolder"];try{z["@context"]=d1e(z["@context"])}catch(ee){let se=`Context normalization error: ${ee instanceof Error?ee.message:"Unknown error"}`;throw new Error(se)}const J=new jCe({strict:!1,allErrors:!0,validateFormats:!0});IRe(J),J.addMetaSchema(dZ);let R=await fetch(sO);if(!R.ok)throw new Error(`Failed to fetch schema from ${sO}`);let C=await R.json(),q=J.compile(C),oe=q(z);if(!oe){let ee=`Validation failed for ${sO}: ${q.errors?J.errorsText(q.errors):""}`;throw new Error(ee)}if(R=await fetch(H6),!R.ok)throw new Error(`Failed to fetch schema from ${H6}`);let X=await R.json();if(J.addSchema(X),R=await fetch(aO),!R.ok)throw new Error(`Failed to fetch schema from ${aO}`);if(C=await R.json(),q=J.compile(C),oe=q(z),!oe){let ee=`Validation failed for ${aO}: ${q.errors?J.errorsText(q.errors):""}`;throw new Error(ee)}s({type:"SET_BACKGROUND_TD_TO_SEND",payload:z}),s({type:"SET_METADATA_ERROR_MESSAGE",payload:""}),s({type:"SET_METADATA_VALIDATION",payload:"VALID"}),s({type:"UPDATE_INTERACTION_PLACEHOLDER_VALUES",payload:S})}catch(z){let J=`Could not validate:
        ${z instanceof Error?z.message:String(z)}`;s({type:"SET_METADATA_ERROR_MESSAGE",payload:J});return}},m=async()=>{await navigator.clipboard.writeText(JSON.stringify(o.workflow.backgroundTdToSend,null,2)),s({type:"SET_METADATA_COPIED",payload:!0})},g=W=>{const ne=W.target.value;s({type:"SET_METADATA_MODEL",payload:ne}),i.model=ne,r.updateContributeCatalog(i)},_=W=>{const ne=W.target.value;s({type:"SET_METADATA_AUTHOR",payload:ne}),i.author=ne,r.updateContributeCatalog(i)},v=W=>{const ne=W.target.value;s({type:"SET_METADATA_MANUFACTURER",payload:ne}),i.manufacturer=ne,r.updateContributeCatalog(i)},h=W=>{const ne=W.target.value;s({type:"SET_METADATA_LICENSE",payload:ne}),i.license=ne,r.updateContributeCatalog(i)},E=W=>{const ne=W.target.value;s({type:"SET_METADATA_COPYRIGHT_YEAR",payload:ne}),i.copyrightYear=ne,r.updateContributeCatalog(i)},y=W=>{const ne=W.target.value;s({type:"SET_METADATA_HOLDER",payload:ne}),i.holder=ne,r.updateContributeCatalog(i)},S=Pe.useMemo(()=>r.offlineTD?N5(r.offlineTD).reduce((ne,fe)=>(ne[fe]="",ne),{}):{},[r.offlineTD]),T=(W,ne)=>{s({type:"UPDATE_INTERACTION_SINGLE_PLACEHOLDER",key:W,value:ne.trim()}),r.updateContributeCatalog({...r.contributeCatalog,dynamicValues:{...r.contributeCatalog.dynamicValues,[W]:ne.trim()}})},x=async()=>{s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:""}),s({type:"SET_SUBMISSION_SUBMITTED",payload:!1});try{const W=await GK(`${o.submission.tmCatalogEndpoint}/thing-models`,"POST",JSON.stringify(o.workflow.backgroundTdToSend),{queryParams:{repo:o.submission.repository}});if(!W){s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:"Failed to connect to the server"});return}const ne=await W.json();if(W.status===201&&ne.data){const{tmID:re,message:le}=ne.data;re?(s({type:"SET_SUBMISSION_SUBMITTED",payload:!0}),s({type:"SET_SUBMISSION_ID",payload:re}),s({type:"SET_SUBMISSION_LINK",payload:`${o.submission.tmCatalogEndpoint}/thing-models/${re}`})):s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:"Response missing tmID"});return}const fe=ne.detail+" "+ne.title;s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:`Error: ${fe}`});return}catch(W){s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:`Failed to process request: ${W instanceof Error?W.message:"Unknown error"}`})}},d=W=>{const ne=W.target.value;s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT",payload:ne}),i.tmCatalogEndpoint=ne,!ne.startsWith("https")&&!ne.startsWith("http:")&&ne.length>0?s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR",payload:"The endpoint must start with http or https."}):s({type:"SET_SUBMISSION_TMCATALOG_ENDPOINT_ERROR",payload:""}),s({type:"SET_SUBMISSION_SUBMITTED",payload:!1}),s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:""})},$=W=>{const ne=W.target.value;s({type:"SET_SUBMISSION_REPOSITORY",payload:ne}),i.nameRepository=ne,ne.length===0?s({type:"SET_SUBMISSION_REPOSITORY_ERROR",payload:"The repository name is mandatory"}):s({type:"SET_SUBMISSION_REPOSITORY_ERROR",payload:""}),s({type:"SET_SUBMISSION_SUBMITTED",payload:!1}),s({type:"SET_SUBMISSION_SUBMITTED_ERROR",payload:""})},O=Pe.useMemo(()=>Object.keys(u).length?["propName",...new Set(Object.keys(u).flatMap(W=>(u[W].forms||[]).flatMap(fe=>Object.keys(fe)))),"title","previewValue"].map(W=>({key:W,text:kK(W)})):[],[u]),P=Pe.useMemo(()=>Object.keys(u).flatMap(W=>{const ne=u[W].forms||[],fe=u[W].title||"";return ne.map((re,le)=>({id:`${W} - ${le}`,description:u[W].description??"",propName:W,title:fe,...re}))}),[u]),k=Pe.useMemo(()=>P.filter(W=>Array.isArray(W.op)?W.op.includes("readproperty"):W.op==="readproperty"),[P]),B=Pe.useMemo(()=>O.filter(W=>W.key==="previewValue"||W.key==="propName"||W.key==="title"),[O]),K=()=>{if(o.workflow.currentStep===1&&o.metadata.validation!=="VALID"){p();return}o.workflow.currentStep<3?s({type:"SET_STEP",payload:o.workflow.currentStep+1}):c()},ie=Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"p-4",children:[Q.jsx("div",{className:"p-2",children:Q.jsxs(mke,{percent:l,filledBackground:"linear-gradient(to right, #A8B988, #B5D7BD)",children:[Q.jsx(oO,{transition:"scale",children:({accomplished:W,index:ne})=>Q.jsx("div",{className:`h-[30px] w-[30px] rounded-full ${W?"bg-[#B5D7BD]":"bg-gray-300"} ${W?"text-white":"text-gray-500"} flex items-center justify-center border-2 text-lg font-bold ${W?"border-[#f0bb31]":"border-gray-300"} transition-colors duration-300`,children:ne+1})}),Q.jsx(oO,{transition:"scale",children:({accomplished:W,index:ne})=>Q.jsx("div",{className:`h-[30px] w-[30px] rounded-full ${W?"bg-[#B5D7BD]":"bg-gray-300"} ${W?"text-white":"text-gray-500"} flex items-center justify-center border-2 text-lg font-bold ${W?"border-[#f0bb31]":"border-gray-300"} transition-colors duration-300`,children:ne+1})}),Q.jsx(oO,{transition:"scale",children:({accomplished:W,index:ne})=>Q.jsx("div",{className:`h-[30px] w-[30px] rounded-full ${W?"bg-[#B5D7BD]":"bg-gray-300"} ${W?"text-white":"text-gray-500"} flex items-center justify-center border-2 text-lg font-bold ${W?"border-[#f0bb31]":"border-gray-300"} transition-colors duration-300`,children:ne+1})})]})}),Q.jsxs("div",{className:"my-4 flex space-x-2",children:[o.workflow.currentStep===1&&Q.jsx(Q.Fragment,{children:Q.jsx(vke,{model:o.metadata.model,onChangeModel:g,author:o.metadata.author,onChangeAuthor:_,manufacturer:o.metadata.manufacturer,onChangeManufacturer:v,license:o.metadata.license,onChangeLicense:h,copyrightYear:o.metadata.copyrightYear,onChangeCopyrightYear:E,holder:o.metadata.holder,onChangeHolder:y,onClickCatalogValidation:p,onClickCopyThingModel:m,isValidating:o.metadata.validation==="VALIDATING",isValid:o.metadata.validation==="VALID",errorMessage:o.metadata.errorMessage,copied:o.metadata.copied})}),o.workflow.currentStep===2&&Q.jsx(bke,{filteredHeaders:B,filteredRows:k,backgroundTdToSend:o.workflow.backgroundTdToSend,interaction:o.interaction,dispatch:s,handleFieldChange:T}),o.workflow.currentStep===3&&Q.jsx(Q.Fragment,{children:Q.jsx(yke,{tmCatalogEndpoint:o.submission.tmCatalogEndpoint,tmCatalogEndpointError:o.submission.tmCatalogEndpointError,handleTmCatalogEndpointChange:d,repository:o.submission.repository,repositoryError:o.submission.repositoryError,handleRepositoryChange:$,handleSubmit:x,submittedError:o.submission.submittedError,submitted:o.submission.submitted,id:o.submission.id,link:o.submission.link})})]})]})});return o.workflow.showDialog?$a.createPortal(Q.jsx(xa,{onHandleEventLeftButton:o.workflow.currentStep>1?()=>s({type:"SET_STEP",payload:o.workflow.currentStep-1}):c,onHandleEventRightButton:K,children:ie,hasSubmit:!0,leftButton:o.workflow.currentStep>1?"Previous":"Close",rightButton:o.workflow.currentStep<3?"Next":"Close",auxiliaryButton:o.workflow.currentStep===2,onHandleEventAuxiliaryButton:c,title:a,description:"Follow the steps below to contribute your TM to a Catalog specified in the last step",className:"lg:w-[60%]"}),document.getElementById("modal-root")):null});e7.displayName="ContributeToCatalog";const Tf=({onClick:e,children:t})=>Q.jsx("button",{className:"min-w-8 text-white hover:opacity-50",onClick:e,children:Q.jsx("div",{className:"flex flex-col items-center justify-center gap-0.5",children:t})}),Eke=({fullScreen:e=!0,className:t="",show:r=!0})=>{if(!r)return null;const n=Q.jsx(Ske,{className:t});return e?$a.createPortal(Q.jsx("div",{className:"bg-transparent-400 absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center text-white",children:Q.jsx("div",{className:"bg-transparent-400 flex max-h-screen w-1/3 flex-col items-center justify-center p-4",children:Q.jsx("div",{className:"justify-center overflow-hidden p-2",children:n})})}),document.getElementById("modal-root")):Q.jsx("div",{className:`flex items-center justify-center py-4 ${t}`,children:n})},Ske=({className:e=""})=>Q.jsx("div",{className:`spinner-container ${e}`,children:Q.jsx("div",{className:"loading-spinner"})}),Tke=({message:e})=>Q.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-6",children:[Q.jsx("div",{className:"mb-4",children:Q.jsx("svg",{className:"h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Q.jsx("h3",{className:"mb-2 text-lg font-semibold text-green-700",children:"Success!"}),Q.jsx("p",{className:"text-center text-gray-600",children:e})]}),$ke=({errorMessage:e,errorReason:t})=>Q.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-6",children:[Q.jsx("div",{className:"mb-4",children:Q.jsx("svg",{className:"h-16 w-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Q.jsx("h3",{className:"mb-3 text-lg font-semibold text-red-700",children:"Request Failed"}),Q.jsx("div",{className:"w-full",children:Q.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[Q.jsx("h4",{className:"mb-2 font-medium text-red-800",children:"Error Message:"}),Q.jsx("p",{className:"mb-3 break-words text-sm text-red-700",children:e}),t&&Q.jsxs(Q.Fragment,{children:[Q.jsx("h4",{className:"mb-2 font-medium text-red-800",children:"Reason of failure:"}),Q.jsx("p",{className:"break-words text-sm text-red-600",children:Bve(t)})]})]})})]}),t7=Pe.forwardRef(({currentTdId:e},t)=>{const r=Pe.useContext(Fn),n=r.parsedTD,[i,o]=Pe.useState(!1),[s,a]=Pe.useState(!1),[l,u]=Pe.useState({isLoading:!1,success:!1,message:"",reason:""}),[f,c]=Pe.useState({isLoading:!1,success:!1,message:"",reason:""});Pe.useImperativeHandle(t,()=>({openModal:()=>p(),close:()=>m()}));const p=async()=>{try{const h=hs("southbound");if(!h)return;const E=`${h}${h.endsWith("/")?"":"/"}`,y=encodeURIComponent(e),S=await Wv(`${E}${y}`,"GET");if("data"in S&&S.status===200){a(!0);const T=await jE(e);r.updateNorthboundConnection({message:T.message,northboundTd:T.data??{}})}else a(!1)}catch(h){console.error("Error checking TD status:",h)}o(!0)},m=()=>{o(!1),u({isLoading:!1,success:!1,message:"",reason:""}),c({isLoading:!1,success:!1,message:"",reason:""})},g=async()=>{c({isLoading:!1,success:!1,message:"",reason:""}),u({...l,isLoading:!0});const E=`${hs("southbound")}/${e}`,y=await Wv(E,"PUT",JSON.stringify(n));if($I(y)){if(y.status===204){u({...l,isLoading:!1,success:!0,message:`TD updated successfully to ${E}`,reason:""});const S=await jE(e);r.updateNorthboundConnection({message:S.message,northboundTd:S.data??{}})}}else u({...l,isLoading:!1,success:!1,message:y.message||"Failed to update TD",reason:y.reason||""})},_=async()=>{c({isLoading:!0,success:!1,message:"",reason:""});const E=`${hs("southbound")}`,y=await Wv(E,"POST",JSON.stringify(n));if($I(y)){if(y.status===201){c({...f,isLoading:!1,success:!0,message:`TD sent successfully to ${E}`,reason:""});const S=await jE(e);r.updateNorthboundConnection({message:S.message,northboundTd:S.data??{}}),a(!0)}}else c({...f,isLoading:!1,success:!1,message:y.message||"Failed to send TD",reason:y.reason||""})},v=()=>{if(l.isLoading||f.isLoading)return Q.jsx(Eke,{fullScreen:!1});const E=s&&l.message?l:f.message?f:s?l:f;if(!E||E.message==="")return Q.jsx(Q.Fragment,{});const y=E===f?"sent":"updated";return E.success?Q.jsx(Tke,{message:`Your Thing Description has been ${y} successfully.`}):Q.jsx($ke,{errorMessage:E.message,errorReason:E.reason})};return i?$a.createPortal(Q.jsxs(xa,{hasSubmit:!1,onHandleEventLeftButton:m,leftButton:"Close",title:"Send TD",description:"The Thing Description will be sent to a Third-Party Service located at the endpoint configured in the Settings options under Southbound URL field. The proxied Thing will be interactable over HTTP in the left view.",children:[Q.jsxs("div",{className:"mb-2 rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"mb-2 font-semibold",children:"Current Configuration Details"}),Q.jsx("div",{className:"w-full overflow-hidden",children:Q.jsx("table",{className:"w-full border-collapse",children:Q.jsxs("tbody",{children:[Q.jsxs("tr",{className:"border-b border-gray-700",children:[Q.jsx("td",{className:"w-1/3 py-2 pr-2 font-medium text-gray-400",children:"Endpoint:"}),Q.jsx("td",{className:"break-all py-2 text-gray-400",children:hs("southbound")||"(No endpoint configured)"})]}),Q.jsxs("tr",{children:[Q.jsx("td",{className:"w-1/3 py-2 pr-2 font-medium text-gray-400",children:"TD ID:"}),Q.jsx("td",{className:"break-all py-2 text-gray-400",children:e||"(No ID available)"})]})]})})})]}),Q.jsxs("div",{className:"mb-2 rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"mb-2 font-semibold",children:"Operation Details"}),Q.jsxs("div",{className:"px-4 py-2",children:[Q.jsxs("div",{className:"flex items-center",children:[Q.jsx("span",{className:"mr-2 font-medium text-gray-400",children:"Action:"}),Q.jsx("span",{className:"rounded bg-green-900 px-2 py-1 text-sm font-medium text-green-200",children:s?"Update Existing TD":"Send New TD"})]}),Q.jsx("p",{className:"mt-2 text-sm text-gray-400",children:s?"You are updating an existing Thing Description that was previously sent to the server.":"You are sending a new Thing Description to the server for the first time."})]})]}),Q.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Result:"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx("h2",{className:"py-2 text-justify text-gray-400",children:f.message?f.message:s?l.message||"No update request made yet.":"No send request made yet."}),Q.jsx("div",{className:"my-4 flex justify-end",children:s?Q.jsx("button",{onClick:g,className:"rounded-md bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",disabled:l.isLoading,children:"Update TD"}):Q.jsx("button",{onClick:_,className:"rounded-md bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",disabled:f.isLoading,children:"Send TD"})}),Q.jsx("div",{children:v()})]})]})]}),document.getElementById("modal-root")):null});t7.displayName="SendTDDialog";const xke="To contribute a Thing Model, please first load a Thing Model to be validated.",Ake='To contribute a Thing Model, the TM must have the following pair key/value:  "@type": "tm:ThingModel"  ',W6="The Thing Model did not pass the JSON schema validation Please make sure the Thing Model is valid according to the JSON schema before contributing it to the catalog.",Oke=()=>{const e=Pe.useContext(Fn),t=e.parsedTD,[r,n]=Pe.useState(!1),[i,o]=Pe.useState({state:!1,message:""}),s=Pe.useRef(null),a=Pe.useRef(null),l=Pe.useRef(null),u=Pe.useRef(null),f=Pe.useRef(null),c=Pe.useRef(null),p=Pe.useCallback(()=>e.isModified?window.confirm("Discard changes? All changes you made to your TD will be lost."):!0,[e.isModified]),m=Pe.useCallback(async()=>{if(p())try{const d=await y5(),$=`./${d.fileName}`;let O={};O[$]=d.fileHandle?d.fileHandle:JSON.parse(d.td),e.updateOfflineTD(d.td),e.updateIsModified(!1),e.setFileHandle(d.fileHandle||d.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(O)}catch(d){const $="Opening a new TD was canceled or an error occured.";console.error($,d),o({state:!0,message:$})}},[e,p]),g=Pe.useCallback(async()=>{n(!0);try{const d=await tSe(e.name,void 0,e.offlineTD);e.setFileHandle(d??e.fileHandle),e.updateIsModified(!1)}catch(d){console.debug(d),o({state:!0,message:"Didn't save TD. The action was either canceled or ran into an error."})}finally{n(!1)}},[e]),_=d=>async()=>{n(!0);const $=await d();return n(!1),$};Pe.useEffect(()=>{const d=$=>{(window.navigator.platform.match("Mac")?$.metaKey:$.ctrlKey)&&$.key==="s"&&($.preventDefault(),$.stopPropagation(),_(g)()),(window.navigator.platform.match("Mac")?$.metaKey:$.ctrlKey)&&$.key==="o"&&($.preventDefault(),$.stopPropagation(),_(m)()),(window.navigator.platform.match("Mac")?$.metaKey:$.ctrlKey)&&$.key==="n"&&($.preventDefault(),$.stopPropagation(),E())};return document.addEventListener("keydown",d,!1),window.onbeforeunload=function($){var O="Important: Please click on 'Save' button to leave this page.";return typeof $>"u"&&($=window.event),$&&($.returnValue=O),O},()=>{document.removeEventListener("keydown",d,!1)}},[m,g]);const v=()=>{var d;(d=s.current)==null||d.openModal()},h=()=>{var d;(d=a.current)==null||d.openModal()},E=()=>{var d;(d=l.current)==null||d.openModal()},y=()=>{var d;(d=u.current)==null||d.openModal()},S=()=>{var d,$;e.offlineTD?e.parsedTD["@type"]?((d=e.validationMessage)==null?void 0:d.report.schema)==="failed"?o({state:!0,message:W6}):($=f.current)==null||$.openModal():o({state:!0,message:Ake}):o({state:!0,message:xke})},T=async()=>{var d,$;!e.offlineTD||Object.keys(e.offlineTD).length===0?o({state:!0,message:"No Thing Description available to send. Please load a valid TD."}):((d=e.validationMessage)==null?void 0:d.report.schema)==="failed"?o({state:!0,message:W6}):hs("southbound")?t.id?($=c.current)==null||$.openModal():o({state:!0,message:"No identifier available on Thing description. Please add an identifier to the TD."}):o({state:!0,message:"No Southbound URL available. Please configure the Southbound URL on settings"})},x=t.id??"";return Q.jsxs(Q.Fragment,{children:[Q.jsxs("header",{className:"flex h-14 items-center justify-between bg-blue-500",children:[Q.jsx("div",{className:"flex items-center",children:Q.jsx("button",{className:"ml-4",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank"),children:Q.jsx("img",{className:"min-w-36 max-w-36",src:o1e,alt:"LOGO"})})}),Q.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[r&&Q.jsx("div",{className:"app-header-spinner hidden md:block"}),Q.jsxs(Tf,{onClick:T,children:[Q.jsx(qk,{}),Q.jsx("div",{className:"text-xs",children:"Send TD"})]}),Q.jsxs(Tf,{onClick:S,children:[Q.jsx(Hk,{}),Q.jsx("div",{className:"text-xs",children:"Contribute to Catalog"})]}),Q.jsxs(Tf,{onClick:h,children:[Q.jsx(jk,{}),Q.jsx("div",{className:"text-xs",children:"Share"})]}),Q.jsx("div",{className:"w-4","aria-hidden":"true"}),Q.jsx("div",{className:"hidden md:block",children:Q.jsxs(Tf,{onClick:_(m),children:[Q.jsx(Ck,{}),Q.jsx("div",{className:"text-xs",children:"Open"})]})}),Q.jsxs(Tf,{onClick:E,children:[Q.jsx(Nk,{}),Q.jsx("div",{className:"text-xs",children:"Create"})]}),k8(e.parsedTD)&&Q.jsxs(Tf,{onClick:v,children:[Q.jsx(Ik,{}),Q.jsx("div",{className:"text-xs",children:"To TD"})]}),Q.jsxs(Tf,{onClick:_(g),children:[Q.jsx(Ok,{}),Q.jsx("div",{className:"text-xs",children:"Download"})]}),Q.jsx("div",{className:"w-4","aria-hidden":"true"}),Q.jsxs(Tf,{onClick:y,children:[Q.jsx(Vk,{}),Q.jsx("div",{className:"text-xs",children:"Settings"})]})]})]}),Q.jsx(t7,{ref:c,currentTdId:x}),Q.jsx(j5,{ref:s}),Q.jsx(LZ,{ref:a}),Q.jsx(L5,{ref:l}),Q.jsx(B5,{ref:u}),Q.jsx(e7,{ref:f}),Q.jsx(wT,{isOpen:i.state,onClose:()=>o({state:!1,message:""}),errorMessage:i.message}),Q.jsx("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),Q.jsx("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}})]})};var r7=(e=>(e.BAR="BAR",e.SECTION="SECTION",e))(r7||{}),Pke=(e=>(e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate",e))(Pke||{}),n7={x:0,y:0};function Rke(e,t){return t?{x:e.x-t.x,y:e.y-t.y}:n7}function i7(){let e=[],t=0,r=0;return{collect(n){e.push(n),n.disableResponsive||(t+=1,r+=n.currentSize)},getResult(){return{sizeInfoArray:e,flexGrowRatio:t/r}}}}function Fu(e){return Number.isFinite(e)&&e>0}function o7(e,t,r,n){let{collect:i,getResult:o}=i7(),s=n?1:-1,a=pb(e,t,s,r),l=pb(e,-t,-s,r),u=t-a.remainingOffset,f=-t-l.remainingOffset;function c(p,m){p.forEach(i),i(r[e]),m.forEach(i)}if(u===-f)c(a.sizeInfoArray,l.sizeInfoArray);else if(Math.abs(u)<Math.abs(f)){let p=pb(e,-u,-s,r);c(a.sizeInfoArray,p.sizeInfoArray)}else{let p=pb(e,-f,s,r);c(p.sizeInfoArray,l.sizeInfoArray)}return o()}function pb(e,t,r,n){let i=[],o=t;for(let l=e+r;a(l);l+=r)if(o){let{sizeInfo:u,remainingOffset:f}=Nke(o,n[l]);o=f,s(u)}else s(n[l]);function s(l){r===-1?i.unshift(l):i.push(l)}function a(l){return r===-1?l>=0:l<=n.length-1}return{sizeInfoArray:i,remainingOffset:o}}function Nke(e,t){if(t.isSolid)return{remainingOffset:e,sizeInfo:t};let{nextSize:r,remainingOffset:n}=Ike(t.currentSize+e,t);return{sizeInfo:{...t,currentSize:r},remainingOffset:n}}function Ike(e,{maxSize:t,minSize:r=0}){return e<r?{nextSize:r,remainingOffset:e-r}:Fu(t)&&e>t?{nextSize:t,remainingOffset:e-t}:{nextSize:e,remainingOffset:0}}var lO={barIndex:-1,offset:0,type:"deactivate",originalCoordinate:n7,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function Cke(e){let t=lO,r=new Set;return{dispatch(n){t=(()=>{let i={barIndex:n.barIndex,type:n.type};switch(n.type){case"activate":let{sizeInfoArray:o,flexGrowRatio:s}=e.getSizeRelatedInfo();return{...lO,...i,originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:s};case"move":let a=e.calculateOffset(n.coordinate,t.originalCoordinate);return{...i,...o7(n.barIndex,a,t.defaultSizeInfoArray,e.flipResizeMoveDirection),offset:a,originalCoordinate:t.originalCoordinate,defaultSizeInfoArray:t.defaultSizeInfoArray,discard:!1};case"deactivate":return lO}})(),r.forEach(i=>i(t))},subscribe(n){return r.add(n),()=>r.delete(n)},unsubscribeAll(){r.clear()}}}function zy(e,t,r){e==null||e.dispatchEvent(new CustomEvent(t,{detail:r}))}var kke=class{constructor(){Li(this,"disposeFnSet",new Set);Li(this,"watchResizerEvent",(t,r,n)=>{t==null||t.addEventListener(r,n);let i=()=>t==null?void 0:t.removeEventListener(r,n);return this.disposeFnSet.add(i),i});Li(this,"reset",()=>{this.disposeFnSet.forEach(t=>t()),this.disposeFnSet.clear()})}},jke=class{constructor(){Li(this,"infoMap",new Map);Li(this,"items",[])}update(t){this.infoMap.clear(),this.items.forEach(r=>r.destroy()),this.items=t,t.forEach((r,n)=>{this.infoMap.set(r.elm,{item:r,index:n})})}reset(){this.update([])}getItems(){return this.items}getItem(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.item)??null}getItemIndex(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.index)??null}},SC=!0;try{window.addEventListener("test",null,{get passive(){return SC={passive:!1},!0}})}catch{}function s7({size:e}){return Fu(e)}function Dke(e){let{disableResponsive:t}=e;return s7(e)&&t===void 0?!0:!!t}function Mke(e){return!!e&&e in r7}function G6(e){return t=>({"data-item-type":e,"data-item-config":JSON.stringify(t)})}function Lke(e){return Array.from(e.childNodes).map(t=>{if(!(t instanceof HTMLElement))return null;let r=t.getAttribute("data-item-type");return Mke(r)?{type:r,elm:t}:null}).filter(t=>!!t)}function a7({elm:e}){try{let t=JSON.parse(e.getAttribute("data-item-config")??"");return t&&typeof t=="object"?t:{}}catch{return{}}}function K6(e){return e*2+1}function uO(e){return e*2}var J6=class{constructor(e){Li(this,"isDiscarded",!1);this.resizeResult=e}resizeSection(e,t){if(this.isDiscarded)return;let r=uO(e),n=this.getSize(r);if(n>=0&&t.toSize>=0){let i=t.toSize-n;r===this.resizeResult.sizeInfoArray.length-1||t.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-i}):this.moveBar(e,{withOffset:i})}}moveBar(e,t){this.isDiscarded||(this.resizeResult=o7(K6(e),t.withOffset,this.resizeResult.sizeInfoArray,void 0))}discard(){this.isDiscarded=!0}isSectionResized(e){let t=uO(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(t)!==this.resizeResult.defaultSizeInfoArray[t].currentSize:!1}isBarActivated(e){return"barIndex"in this.resizeResult?this.resizeResult.barIndex===K6(e):!1}getSectionSize(e){return this.getSize(uO(e))}getResult(){return{...this.resizeResult,discard:this.isDiscarded}}getTotalSize(){return this.resizeResult.sizeInfoArray.filter((e,t)=>e&&t%2===0).reduce((e,{currentSize:t})=>e+t,0)}getSize(e){let t=this.resizeResult.sizeInfoArray[e];return t?t.currentSize:-1}},l7=class{constructor(e,t,r){Li(this,"_config");Li(this,"_observer");this.type=e,this.elm=t,this.getConfig=r,this._config=this.getConfig(),this._observer=new MutationObserver(()=>this._config=this.getConfig()),this._observer.observe(t,{attributes:!0,attributeFilter:["data-item-config"]})}get config(){return this._config}destroy(){this._observer.disconnect()}},mb=class extends l7{constructor(t,r){super("BAR",t.elm,()=>Fke(t));Li(this,"isActive",!1);Li(this,"isValidClick",!0);this.dispatchBarAction=r;let n=[this.attachListener(this.elm,"mousedown","activate"),this.attachListener(document,"mousemove","move"),this.attachListener(document,"mouseup","deactivate"),this.attachListener(this.elm,"touchstart","activate",SC),this.attachListener(document,"touchmove","move",SC),this.attachListener(document,"touchend","deactivate"),this.attachListener(document,"touchcancel","deactivate")];this.destroy=()=>{super.destroy(),n.forEach(i=>i())}}static getStyle({size:t}){return{flex:`0 0 ${t}px`}}attachListener(t,r,n,i){let o=s=>{this.disableUserSelectIfResizing(s,n);let{clientX:a,clientY:l}=("touches"in s?s.touches[0]:s)||{clientX:0,clientY:0};this.triggerAction(this.elm,n,{x:a,y:l})};return t.addEventListener(r,o,i),()=>t.removeEventListener(r,o,i)}disableUserSelectIfResizing(t,r){(this.isActive||r==="activate")&&t.preventDefault()}triggerAction(t,r,n){(this.isActive||r==="activate")&&this.dispatchBarAction(t,{type:r,coordinate:n}),this.isActive&&this.isValidClick&&r==="deactivate"&&(this.isValidClick=!1,zy(t,"bar:click",null)),this.updateStatusIfNeed(t,r),this.updateClickStatus(r)}updateStatusIfNeed(t,r){let n=i=>{this.isActive!==i&&(this.isActive=i,zy(t,"bar:status-change",{isActive:i}))};r==="activate"?n(!0):r==="deactivate"&&n(!1)}updateClickStatus(t){this.isActive&&(t==="activate"?this.isValidClick=!0:t==="move"&&(this.isValidClick=!1))}};function Fke(e){let{size:t}=a7(e);return{size:Fu(t)?t:10}}var sv=class extends l7{constructor(t){super("SECTION",t.elm,()=>Bke(t));Li(this,"sizeInfo",null);Li(this,"flexGrowRatio",0);this.updateStyle()}static getStyle({maxSize:t,minSize:r},n){let i=o=>Fu(o)?`${o}px`:void 0;return{overflow:"hidden",[n?"maxHeight":"maxWidth"]:i(t),[n?"minHeight":"minWidth"]:i(r)}}update({sizeInfo:t,flexGrowRatio:r}){this.sizeInfo=t,this.flexGrowRatio=r,this.updateStyle(),zy(this.elm,"section:size-change",{size:t.currentSize})}updateStyle(){let{flexGrow:t,flexShrink:r,flexBasis:n}=this.getStyle();this.elm.style.flexGrow=`${t}`,this.elm.style.flexShrink=`${r}`,this.elm.style.flexBasis=`${n}px`}getStyle(){let t=Fu(this.config.size)?0:this.config.disableResponsive?1:0;if(this.sizeInfo){let{disableResponsive:r,currentSize:n}=this.sizeInfo;return{flexShrink:t,flexGrow:r?0:this.flexGrowRatio*n,flexBasis:r?n:0}}else{let r=this.config.size||this.config.defaultSize;return Fu(r)?{flexShrink:t,flexGrow:0,flexBasis:r}:{flexShrink:t,flexGrow:1,flexBasis:0}}}};function Bke(e){let{size:t,defaultSize:r,maxSize:n,minSize:i,disableResponsive:o}=a7(e);return{size:Fu(t)?t:void 0,defaultSize:Fu(r)?r:void 0,maxSize:Fu(n)?n:void 0,minSize:Fu(i)?i:void 0,disableResponsive:!!o}}var Uke=class{constructor(e){Li(this,"styles",{container:e=>({...e,display:"flex",flexDirection:this.direction}),section:(e,t)=>({...t,...sv.getStyle(e,this.config.vertical)}),bar:(e,t)=>({...t,...mb.getStyle(e)})});Li(this,"attributes",{bar:G6("BAR"),section:G6("SECTION")});Li(this,"itemsCache",new jke);Li(this,"eventHub",new kke);Li(this,"container",null);Li(this,"barStore");Li(this,"dispatchBarAction",(e,t)=>{let r=this.itemsCache.getItemIndex(e);r&&this.barStore.dispatch({...t,barIndex:r})});this.config=e,this.barStore=Cke({calculateOffset:(t,r)=>Rke(t,r)[this.axis],getSizeRelatedInfo:()=>this.makeSizeInfos(),flipResizeMoveDirection:e.rtl&&!e.vertical})}get axis(){return this.config.vertical?"y":"x"}get dimension(){return this.config.vertical?"height":"width"}get direction(){return this.config.vertical?"column":"row"}get on(){return this.eventHub.watchResizerEvent}init(e){this.dispose(),this.container=e,e&&(this.itemsCache.update(Lke(e).map(t=>{switch(t.type){case"BAR":return new mb(t,this.dispatchBarAction);case"SECTION":return new sv(t)}})),this.initStyles(e,this.itemsCache.getItems()),this.sizeRelatedInfoChange(this.makeSizeInfos()),this.barStore.subscribe(t=>{this.monitorBarStatusChanges(t),this.sizeRelatedInfoChange(t)}))}dispose(){this.container=null,this.itemsCache.reset(),this.barStore.unsubscribeAll(),this.eventHub.reset()}getResizer(){return new J6(this.makeSizeInfos())}applyResizer(e){this.sizeRelatedInfoChange(e.getResult())}sizeRelatedInfoChange(e){e.discard||(e=(()=>{if(typeof this.config.beforeApplyResizer=="function"){let t=new J6(e);return this.config.beforeApplyResizer(t),t.getResult()}else return e})(),!e.discard&&e.sizeInfoArray.forEach(t=>{let r=this.itemsCache.getItem(t.elm);r instanceof sv&&r.update({sizeInfo:t,flexGrowRatio:e.flexGrowRatio})}))}monitorBarStatusChanges({type:e}){switch(e){case"activate":return zy(this.container,"column:activate",null);case"deactivate":return zy(this.container,"column:after-resizing",null);default:return}}makeSizeInfos(){let{collect:e,getResult:t}=i7();return this.itemsCache.getItems().forEach(r=>{r instanceof mb&&e({elm:r.elm,disableResponsive:!0,isSolid:!0,currentSize:r.elm.getBoundingClientRect()[this.dimension]}),r instanceof sv&&e({elm:r.elm,maxSize:r.config.maxSize,minSize:r.config.minSize,disableResponsive:Dke(r.config),isSolid:s7(r.config),currentSize:r.elm.getBoundingClientRect()[this.dimension]})}),t()}initStyles(e,t){Object.assign(e.style,this.styles.container()),t.forEach(r=>{r instanceof mb&&Object.assign(r.elm.style,this.styles.bar(r.config)),r instanceof sv&&Object.assign(r.elm.style,this.styles.section(r.config))})}},u7=Pe.createContext(null),zke=typeof window=="object"?ct.useLayoutEffect:ct.useEffect;function qke({vertical:e,rtl:t,beforeApplyResizer:r}){let n=c7(r);return ct.useMemo(()=>new Uke({vertical:e,beforeApplyResizer:n,rtl:t}),[e,n,t])}function hM(){return ct.useContext(u7)}function qy(e,t,r){let n=hM(),i=c7(r);ct.useEffect(()=>n.on(e.current,t,o=>i(o)),[n,t,e,i])}function pM(e,t){let r=ct.useRef(e);return ct.useImperativeHandle(t,()=>r.current),r}function c7(e){let t=ct.useRef(e);return t.current=e,ct.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[t])}function Vke({hooks:e,params:t,children:r}){let n=e(...t);return ct.createElement(ct.Fragment,null,r(n))}function Hke(e,{onActivate:t,afterResizing:r}){qy(e,"column:activate",t),qy(e,"column:after-resizing",r)}var Wke=Pe.forwardRef(({vertical:e=!1,rtl:t=!1,onActivate:r,beforeApplyResizer:n,afterResizing:i,columnResizerRef:o,style:s,...a},l)=>{let u=pM(null,l),f=qke({vertical:e,rtl:t,beforeApplyResizer:n});return zke(()=>(f.init(u.current),()=>f.dispose()),[f]),Pe.useImperativeHandle(o,()=>f,[f]),Pe.createElement(u7.Provider,{value:f},Pe.createElement(Vke,{hooks:Hke,params:[u,{onActivate:r,afterResizing:i}]},()=>Pe.createElement("div",{ref:u,...a,style:f.styles.container(s)})))}),Y6=Pe.forwardRef(({defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i,onSizeChanged:o,style:s,...a},l)=>{let u=pM(null,l),f=hM(),c={defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i};return qy(u,"section:size-change",p=>o==null?void 0:o(p.detail.size)),Pe.createElement("div",{ref:u,...a,style:f.styles.section(c,s),...f.attributes.section(c)})}),Gke=Pe.forwardRef(({top:e=0,right:t=0,bottom:r=0,left:n=0,vertical:i,style:o,...s},a)=>{let l=Pe.useMemo(()=>({position:"absolute",top:-e,left:-n,right:-t,bottom:-r,WebkitTapHighlightColor:"transparent",userSelect:"none",...o}),[o,e,n,t,r,i]);return Pe.createElement("div",{...s,style:l,ref:a})}),Kke=Pe.forwardRef(({children:e,onClick:t,expandInteractiveArea:r,onStatusChanged:n,style:i,size:o=10,...s},a)=>{let l=hM(),u=pM(null,a),f={size:o};return qy(u,"bar:click",()=>t==null?void 0:t()),qy(u,"bar:status-change",c=>n==null?void 0:n(c.detail.isActive)),Pe.createElement("div",{ref:u,...s,style:l.styles.bar(f,{...i,position:"relative"}),...l.attributes.bar(f)},e,Pe.createElement(Gke,{...r,vertical:l.config.vertical}))});const Jke=()=>Q.jsx(Zae,{children:Q.jsx(Yke,{})}),cO={MEDIUM:1141,SMALL:850};let X6=!1;const Yke=()=>{const e=Pe.useContext(Fn),t=Pe.useRef(null),[r,n]=Pe.useState(!1),[i,o]=Pe.useState(0),s=Pe.useRef(null),[a,l]=Pe.useState({state:!1,message:""}),u=m=>{l({state:!0,message:m})},f=()=>{t.current&&t.current.trigger("keyboard","undo",null)},c=()=>{t.current&&t.current.trigger("keyboard","redo",null)},p=()=>{n(m=>!m)};return Pe.useEffect(()=>{const m=new URL(window.location.href);["northbound","southbound","valuePath"].forEach(_=>{const v=m.searchParams.get(_);if(v!==null){let h=v;(_==="northbound"||_==="southbound")&&!v.endsWith("/")&&(h=v+"/"),localStorage.setItem(_,h)}})},[window.location.search]),Pe.useEffect(()=>{if(X6||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("proxyEndpoint")<=-1&&window.location.search.indexOf("localstorage")<=-1&&window.location.search.indexOf("southboundTdId")<=-1)return;X6=!0;const m=new URL(window.location.href),g=m.searchParams.get("td");if(g!==null){const _=LNe(g);if(_===void 0){u("The lz compressed TD found in the URL couldn't be reconstructed.");return}e.updateOfflineTD(JSON.stringify(_,null,2))}if(m.searchParams.has("localstorage")){let _=localStorage.getItem("td");if(!_){u("Request to read TD from local storage failed.");return}try{_=JSON.parse(_),e.updateOfflineTD(JSON.stringify(_,null,2))}catch(v){e.updateOfflineTD(_),u(`Tried to JSON parse the TD from local storage, but failed: ${v}`)}}},[e]),Pe.useEffect(()=>{if(!s.current)return;const m=new ResizeObserver(g=>{for(const _ of g){let v=_.contentRect.width;v<cO.MEDIUM&&v>cO.SMALL?o(1):v<cO.SMALL?o(2):o(0)}});return m.observe(s.current),()=>m.disconnect()},[]),Q.jsxs("main",{className:"flex max-h-screen w-screen flex-col",children:[Q.jsx(Oke,{}),Q.jsx("div",{className:"",children:Q.jsxs(Wke,{className:"height-adjust flex flex-col md:flex-row",children:[Q.jsx(Y6,{minSize:550,className:"w-full min-w-16 md:w-7/12",children:Q.jsx("div",{ref:s,className:"h-full w-full",children:Q.jsx(r1e,{onUndo:f,onRedo:c,customBreakpoints:i})})}),Q.jsx(Kke,{size:7.5,className:"cursor-col-resize bg-gray-300 hover:bg-blue-500"}),Q.jsx(Y6,{className:"w-full md:w-5/12",children:Q.jsx(mue,{editorRef:t})}),Q.jsx(ri,{type:"button",className:"fixed bottom-12 right-2 z-10 rounded-full bg-blue-500 p-4",onClick:p,variant:"empty",children:Q.jsx(r0,{color:"white"})})]})}),Q.jsx("div",{className:"fixed bottom-0 w-screen",children:Q.jsx(n1e,{})}),Q.jsx("div",{id:"modal-root"}),Q.jsx(wT,{isOpen:a.state,onClose:()=>l({state:!1,message:""}),errorMessage:a.message})]})},Xke=()=>null,Qke=fO.createRoot(document.getElementById("root"));Qke.render(Q.jsxs(ct.StrictMode,{children:[Q.jsx(Jke,{}),Q.jsx(Xke,{})]}));
