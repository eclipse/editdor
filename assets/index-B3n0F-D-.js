var dJ=Object.defineProperty;var hJ=(e,t,r)=>t in e?dJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Jn=(e,t,r)=>hJ(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function FP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var A3={exports:{}},R_={},O3={exports:{}},_r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg=Symbol.for("react.element"),pJ=Symbol.for("react.portal"),mJ=Symbol.for("react.fragment"),gJ=Symbol.for("react.strict_mode"),vJ=Symbol.for("react.profiler"),yJ=Symbol.for("react.provider"),wJ=Symbol.for("react.context"),bJ=Symbol.for("react.forward_ref"),_J=Symbol.for("react.suspense"),EJ=Symbol.for("react.memo"),SJ=Symbol.for("react.lazy"),R2=Symbol.iterator;function $J(e){return e===null||typeof e!="object"?null:(e=R2&&e[R2]||e["@@iterator"],typeof e=="function"?e:null)}var P3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N3=Object.assign,R3={};function Bh(e,t,r){this.props=e,this.context=t,this.refs=R3,this.updater=r||P3}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I3(){}I3.prototype=Bh.prototype;function BP(e,t,r){this.props=e,this.context=t,this.refs=R3,this.updater=r||P3}var UP=BP.prototype=new I3;UP.constructor=BP;N3(UP,Bh.prototype);UP.isPureReactComponent=!0;var I2=Array.isArray,j3=Object.prototype.hasOwnProperty,zP={current:null},k3={key:!0,ref:!0,__self:!0,__source:!0};function C3(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)j3.call(t,n)&&!k3.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:yg,type:e,key:o,ref:s,props:i,_owner:zP.current}}function TJ(e,t){return{$$typeof:yg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qP(e){return typeof e=="object"&&e!==null&&e.$$typeof===yg}function xJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var j2=/\/+/g;function gS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xJ(""+e.key):t.toString(36)}function Ty(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yg:case pJ:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+gS(s,0):n,I2(i)?(r="",e!=null&&(r=e.replace(j2,"$&/")+"/"),Ty(i,t,r,"",function(u){return u})):i!=null&&(qP(i)&&(i=TJ(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(j2,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",I2(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+gS(o,a);s+=Ty(o,t,r,l,i)}else if(l=$J(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+gS(o,a++),s+=Ty(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function mv(e,t,r){if(e==null)return e;var n=[],i=0;return Ty(e,n,"","",function(o){return t.call(r,o,i++)}),n}function AJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lo={current:null},xy={transition:null},OJ={ReactCurrentDispatcher:lo,ReactCurrentBatchConfig:xy,ReactCurrentOwner:zP};function D3(){throw Error("act(...) is not supported in production builds of React.")}_r.Children={map:mv,forEach:function(e,t,r){mv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return mv(e,function(){t++}),t},toArray:function(e){return mv(e,function(t){return t})||[]},only:function(e){if(!qP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_r.Component=Bh;_r.Fragment=mJ;_r.Profiler=vJ;_r.PureComponent=BP;_r.StrictMode=gJ;_r.Suspense=_J;_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OJ;_r.act=D3;_r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=N3({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=zP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)j3.call(t,l)&&!k3.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:yg,type:e.type,key:i,ref:o,props:n,_owner:s}};_r.createContext=function(e){return e={$$typeof:wJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yJ,_context:e},e.Consumer=e};_r.createElement=C3;_r.createFactory=function(e){var t=C3.bind(null,e);return t.type=e,t};_r.createRef=function(){return{current:null}};_r.forwardRef=function(e){return{$$typeof:bJ,render:e}};_r.isValidElement=qP;_r.lazy=function(e){return{$$typeof:SJ,_payload:{_status:-1,_result:e},_init:AJ}};_r.memo=function(e,t){return{$$typeof:EJ,type:e,compare:t===void 0?null:t}};_r.startTransition=function(e){var t=xy.transition;xy.transition={};try{e()}finally{xy.transition=t}};_r.unstable_act=D3;_r.useCallback=function(e,t){return lo.current.useCallback(e,t)};_r.useContext=function(e){return lo.current.useContext(e)};_r.useDebugValue=function(){};_r.useDeferredValue=function(e){return lo.current.useDeferredValue(e)};_r.useEffect=function(e,t){return lo.current.useEffect(e,t)};_r.useId=function(){return lo.current.useId()};_r.useImperativeHandle=function(e,t,r){return lo.current.useImperativeHandle(e,t,r)};_r.useInsertionEffect=function(e,t){return lo.current.useInsertionEffect(e,t)};_r.useLayoutEffect=function(e,t){return lo.current.useLayoutEffect(e,t)};_r.useMemo=function(e,t){return lo.current.useMemo(e,t)};_r.useReducer=function(e,t,r){return lo.current.useReducer(e,t,r)};_r.useRef=function(e){return lo.current.useRef(e)};_r.useState=function(e){return lo.current.useState(e)};_r.useSyncExternalStore=function(e,t,r){return lo.current.useSyncExternalStore(e,t,r)};_r.useTransition=function(){return lo.current.useTransition()};_r.version="18.3.1";O3.exports=_r;var Oe=O3.exports;const Ye=Gl(Oe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PJ=Oe,NJ=Symbol.for("react.element"),RJ=Symbol.for("react.fragment"),IJ=Object.prototype.hasOwnProperty,jJ=PJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kJ={key:!0,ref:!0,__self:!0,__source:!0};function M3(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)IJ.call(t,n)&&!kJ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:NJ,type:e,key:o,ref:s,props:i,_owner:jJ.current}}R_.Fragment=RJ;R_.jsx=M3;R_.jsxs=M3;A3.exports=R_;var Q=A3.exports,T$={},L3={exports:{}},ts={},F3={exports:{}},B3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,ne){var k=ee.length;ee.push(ne);e:for(;0<k;){var B=k-1>>>1,W=ee[B];if(0<i(W,ne))ee[B]=ne,ee[k]=W,k=B;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var ne=ee[0],k=ee.pop();if(k!==ne){ee[0]=k;e:for(var B=0,W=ee.length,P=W>>>1;B<P;){var R=2*(B+1)-1,z=ee[R],oe=R+1,J=ee[oe];if(0>i(z,k))oe<W&&0>i(J,z)?(ee[B]=J,ee[oe]=k,B=oe):(ee[B]=z,ee[R]=k,B=R);else if(oe<W&&0>i(J,k))ee[B]=J,ee[oe]=k,B=oe;else break e}}return ne}function i(ee,ne){var k=ee.sortIndex-ne.sortIndex;return k!==0?k:ee.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,c=null,h=3,g=!1,m=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ee){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=ee)n(u),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=r(u)}}function S(ee){if(_=!1,y(ee),!m)if(r(l)!==null)m=!0,Z($);else{var ne=r(u);ne!==null&&fe(S,ne.startTime-ee)}}function $(ee,ne){m=!1,_&&(_=!1,p(x),x=-1),g=!0;var k=h;try{for(y(ne),c=r(l);c!==null&&(!(c.expirationTime>ne)||ee&&!C());){var B=c.callback;if(typeof B=="function"){c.callback=null,h=c.priorityLevel;var W=B(c.expirationTime<=ne);ne=e.unstable_now(),typeof W=="function"?c.callback=W:c===r(l)&&n(l),y(ne)}else n(l);c=r(l)}if(c!==null)var P=!0;else{var R=r(u);R!==null&&fe(S,R.startTime-ne),P=!1}return P}finally{c=null,h=k,g=!1}}var T=!1,d=null,x=-1,A=5,O=-1;function C(){return!(e.unstable_now()-O<A)}function F(){if(d!==null){var ee=e.unstable_now();O=ee;var ne=!0;try{ne=d(!0,ee)}finally{ne?V():(T=!1,d=null)}}else T=!1}var V;if(typeof E=="function")V=function(){E(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,H=X.port2;X.port1.onmessage=F,V=function(){H.postMessage(null)}}else V=function(){v(F,0)};function Z(ee){d=ee,T||(T=!0,V())}function fe(ee,ne){x=v(function(){ee(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,Z($))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(ee){switch(h){case 1:case 2:case 3:var ne=3;break;default:ne=h}var k=h;h=ne;try{return ee()}finally{h=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ne){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var k=h;h=ee;try{return ne()}finally{h=k}},e.unstable_scheduleCallback=function(ee,ne,k){var B=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?B+k:B):k=B,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=k+W,ee={id:f++,callback:ne,priorityLevel:ee,startTime:k,expirationTime:W,sortIndex:-1},k>B?(ee.sortIndex=k,t(u,ee),r(l)===null&&ee===r(u)&&(_?(p(x),x=-1):_=!0,fe(S,k-B))):(ee.sortIndex=W,t(l,ee),m||g||(m=!0,Z($))),ee},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(ee){var ne=h;return function(){var k=h;h=ne;try{return ee.apply(this,arguments)}finally{h=k}}}})(B3);F3.exports=B3;var CJ=F3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DJ=Oe,es=CJ;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U3=new Set,Im={};function Uf(e,t){Eh(e,t),Eh(e+"Capture",t)}function Eh(e,t){for(Im[e]=t,e=0;e<t.length;e++)U3.add(t[e])}var Ll=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x$=Object.prototype.hasOwnProperty,MJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k2={},C2={};function LJ(e){return x$.call(C2,e)?!0:x$.call(k2,e)?!1:MJ.test(e)?C2[e]=!0:(k2[e]=!0,!1)}function FJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BJ(e,t,r,n){if(t===null||typeof t>"u"||FJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function uo(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pi[e]=new uo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pi[t]=new uo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pi[e]=new uo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pi[e]=new uo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pi[e]=new uo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pi[e]=new uo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pi[e]=new uo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pi[e]=new uo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pi[e]=new uo(e,5,!1,e.toLowerCase(),null,!1,!1)});var VP=/[\-:]([a-z])/g;function HP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(VP,HP);Pi[t]=new uo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(VP,HP);Pi[t]=new uo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(VP,HP);Pi[t]=new uo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pi[e]=new uo(e,1,!1,e.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new uo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pi[e]=new uo(e,1,!1,e.toLowerCase(),null,!0,!0)});function WP(e,t,r,n){var i=Pi.hasOwnProperty(t)?Pi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BJ(t,r,i,n)&&(r=null),n||i===null?LJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kl=DJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gv=Symbol.for("react.element"),Fd=Symbol.for("react.portal"),Bd=Symbol.for("react.fragment"),GP=Symbol.for("react.strict_mode"),A$=Symbol.for("react.profiler"),z3=Symbol.for("react.provider"),q3=Symbol.for("react.context"),KP=Symbol.for("react.forward_ref"),O$=Symbol.for("react.suspense"),P$=Symbol.for("react.suspense_list"),JP=Symbol.for("react.memo"),Ru=Symbol.for("react.lazy"),V3=Symbol.for("react.offscreen"),D2=Symbol.iterator;function fp(e){return e===null||typeof e!="object"?null:(e=D2&&e[D2]||e["@@iterator"],typeof e=="function"?e:null)}var Cn=Object.assign,vS;function kp(e){if(vS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vS=t&&t[1]||""}return`
`+vS+e}var yS=!1;function wS(e,t){if(!e||yS)return"";yS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{yS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kp(e):""}function UJ(e){switch(e.tag){case 5:return kp(e.type);case 16:return kp("Lazy");case 13:return kp("Suspense");case 19:return kp("SuspenseList");case 0:case 2:case 15:return e=wS(e.type,!1),e;case 11:return e=wS(e.type.render,!1),e;case 1:return e=wS(e.type,!0),e;default:return""}}function N$(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bd:return"Fragment";case Fd:return"Portal";case A$:return"Profiler";case GP:return"StrictMode";case O$:return"Suspense";case P$:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q3:return(e.displayName||"Context")+".Consumer";case z3:return(e._context.displayName||"Context")+".Provider";case KP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case JP:return t=e.displayName||null,t!==null?t:N$(e.type)||"Memo";case Ru:t=e._payload,e=e._init;try{return N$(e(t))}catch{}}return null}function zJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N$(t);case 8:return t===GP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qJ(e){var t=H3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vv(e){e._valueTracker||(e._valueTracker=qJ(e))}function W3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function lb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function R$(e,t){var r=t.checked;return Cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function M2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G3(e,t){t=t.checked,t!=null&&WP(e,"checked",t,!1)}function I$(e,t){G3(e,t);var r=nc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?j$(e,t.type,r):t.hasOwnProperty("defaultValue")&&j$(e,t.type,nc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function L2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function j$(e,t,r){(t!=="number"||lb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Cp=Array.isArray;function nh(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nc(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function k$(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(St(91));return Cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function F2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(St(92));if(Cp(r)){if(1<r.length)throw Error(St(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nc(r)}}function K3(e,t){var r=nc(t.value),n=nc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function B2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function C$(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yv,Y3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yv=yv||document.createElement("div"),yv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var om={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VJ=["Webkit","ms","Moz","O"];Object.keys(om).forEach(function(e){VJ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),om[t]=om[e]})});function X3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||om.hasOwnProperty(e)&&om[e]?(""+t).trim():t+"px"}function Q3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=X3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var HJ=Cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D$(e,t){if(t){if(HJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(St(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(St(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(St(61))}if(t.style!=null&&typeof t.style!="object")throw Error(St(62))}}function M$(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L$=null;function YP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var F$=null,ih=null,oh=null;function U2(e){if(e=_g(e)){if(typeof F$!="function")throw Error(St(280));var t=e.stateNode;t&&(t=D_(t),F$(e.stateNode,e.type,t))}}function Z3(e){ih?oh?oh.push(e):oh=[e]:ih=e}function e4(){if(ih){var e=ih,t=oh;if(oh=ih=null,U2(e),t)for(e=0;e<t.length;e++)U2(t[e])}}function t4(e,t){return e(t)}function r4(){}var bS=!1;function n4(e,t,r){if(bS)return e(t,r);bS=!0;try{return t4(e,t,r)}finally{bS=!1,(ih!==null||oh!==null)&&(r4(),e4())}}function km(e,t){var r=e.stateNode;if(r===null)return null;var n=D_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(St(231,t,typeof r));return r}var B$=!1;if(Ll)try{var dp={};Object.defineProperty(dp,"passive",{get:function(){B$=!0}}),window.addEventListener("test",dp,dp),window.removeEventListener("test",dp,dp)}catch{B$=!1}function WJ(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var sm=!1,ub=null,cb=!1,U$=null,GJ={onError:function(e){sm=!0,ub=e}};function KJ(e,t,r,n,i,o,s,a,l){sm=!1,ub=null,WJ.apply(GJ,arguments)}function JJ(e,t,r,n,i,o,s,a,l){if(KJ.apply(this,arguments),sm){if(sm){var u=ub;sm=!1,ub=null}else throw Error(St(198));cb||(cb=!0,U$=u)}}function zf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function i4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z2(e){if(zf(e)!==e)throw Error(St(188))}function YJ(e){var t=e.alternate;if(!t){if(t=zf(e),t===null)throw Error(St(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return z2(i),e;if(o===n)return z2(i),t;o=o.sibling}throw Error(St(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(St(189))}}if(r.alternate!==n)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?e:t}function o4(e){return e=YJ(e),e!==null?s4(e):null}function s4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s4(e);if(t!==null)return t;e=e.sibling}return null}var a4=es.unstable_scheduleCallback,q2=es.unstable_cancelCallback,XJ=es.unstable_shouldYield,QJ=es.unstable_requestPaint,Hn=es.unstable_now,ZJ=es.unstable_getCurrentPriorityLevel,XP=es.unstable_ImmediatePriority,l4=es.unstable_UserBlockingPriority,fb=es.unstable_NormalPriority,eY=es.unstable_LowPriority,u4=es.unstable_IdlePriority,I_=null,tl=null;function tY(e){if(tl&&typeof tl.onCommitFiberRoot=="function")try{tl.onCommitFiberRoot(I_,e,void 0,(e.current.flags&128)===128)}catch{}}var ha=Math.clz32?Math.clz32:iY,rY=Math.log,nY=Math.LN2;function iY(e){return e>>>=0,e===0?32:31-(rY(e)/nY|0)|0}var wv=64,bv=4194304;function Dp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function db(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=Dp(a):(o&=s,o!==0&&(n=Dp(o)))}else s=r&~i,s!==0?n=Dp(s):o!==0&&(n=Dp(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ha(t),i=1<<r,n|=e[r],t&=~i;return n}function oY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ha(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=oY(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function z$(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c4(){var e=wv;return wv<<=1,!(wv&4194240)&&(wv=64),e}function _S(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ha(t),e[t]=r}function aY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ha(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function QP(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ha(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Zr=0;function f4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var d4,ZP,h4,p4,m4,q$=!1,_v=[],Hu=null,Wu=null,Gu=null,Cm=new Map,Dm=new Map,ku=[],lY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V2(e,t){switch(e){case"focusin":case"focusout":Hu=null;break;case"dragenter":case"dragleave":Wu=null;break;case"mouseover":case"mouseout":Gu=null;break;case"pointerover":case"pointerout":Cm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dm.delete(t.pointerId)}}function hp(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=_g(t),t!==null&&ZP(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uY(e,t,r,n,i){switch(t){case"focusin":return Hu=hp(Hu,e,t,r,n,i),!0;case"dragenter":return Wu=hp(Wu,e,t,r,n,i),!0;case"mouseover":return Gu=hp(Gu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Cm.set(o,hp(Cm.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Dm.set(o,hp(Dm.get(o)||null,e,t,r,n,i)),!0}return!1}function g4(e){var t=af(e.target);if(t!==null){var r=zf(t);if(r!==null){if(t=r.tag,t===13){if(t=i4(r),t!==null){e.blockedOn=t,m4(e.priority,function(){h4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ay(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=V$(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);L$=n,r.target.dispatchEvent(n),L$=null}else return t=_g(r),t!==null&&ZP(t),e.blockedOn=r,!1;t.shift()}return!0}function H2(e,t,r){Ay(e)&&r.delete(t)}function cY(){q$=!1,Hu!==null&&Ay(Hu)&&(Hu=null),Wu!==null&&Ay(Wu)&&(Wu=null),Gu!==null&&Ay(Gu)&&(Gu=null),Cm.forEach(H2),Dm.forEach(H2)}function pp(e,t){e.blockedOn===t&&(e.blockedOn=null,q$||(q$=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,cY)))}function Mm(e){function t(i){return pp(i,e)}if(0<_v.length){pp(_v[0],e);for(var r=1;r<_v.length;r++){var n=_v[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Hu!==null&&pp(Hu,e),Wu!==null&&pp(Wu,e),Gu!==null&&pp(Gu,e),Cm.forEach(t),Dm.forEach(t),r=0;r<ku.length;r++)n=ku[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ku.length&&(r=ku[0],r.blockedOn===null);)g4(r),r.blockedOn===null&&ku.shift()}var sh=Kl.ReactCurrentBatchConfig,hb=!0;function fY(e,t,r,n){var i=Zr,o=sh.transition;sh.transition=null;try{Zr=1,eN(e,t,r,n)}finally{Zr=i,sh.transition=o}}function dY(e,t,r,n){var i=Zr,o=sh.transition;sh.transition=null;try{Zr=4,eN(e,t,r,n)}finally{Zr=i,sh.transition=o}}function eN(e,t,r,n){if(hb){var i=V$(e,t,r,n);if(i===null)RS(e,t,n,pb,r),V2(e,n);else if(uY(i,e,t,r,n))n.stopPropagation();else if(V2(e,n),t&4&&-1<lY.indexOf(e)){for(;i!==null;){var o=_g(i);if(o!==null&&d4(o),o=V$(e,t,r,n),o===null&&RS(e,t,n,pb,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else RS(e,t,n,null,r)}}var pb=null;function V$(e,t,r,n){if(pb=null,e=YP(n),e=af(e),e!==null)if(t=zf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=i4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pb=e,null}function v4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZJ()){case XP:return 1;case l4:return 4;case fb:case eY:return 16;case u4:return 536870912;default:return 16}default:return 16}}var Lu=null,tN=null,Oy=null;function y4(){if(Oy)return Oy;var e,t=tN,r=t.length,n,i="value"in Lu?Lu.value:Lu.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Oy=i.slice(e,1<n?1-n:void 0)}function Py(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ev(){return!0}function W2(){return!1}function rs(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ev:W2,this.isPropagationStopped=W2,this}return Cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ev)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ev)},persist:function(){},isPersistent:Ev}),t}var Uh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rN=rs(Uh),bg=Cn({},Uh,{view:0,detail:0}),hY=rs(bg),ES,SS,mp,j_=Cn({},bg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mp&&(mp&&e.type==="mousemove"?(ES=e.screenX-mp.screenX,SS=e.screenY-mp.screenY):SS=ES=0,mp=e),ES)},movementY:function(e){return"movementY"in e?e.movementY:SS}}),G2=rs(j_),pY=Cn({},j_,{dataTransfer:0}),mY=rs(pY),gY=Cn({},bg,{relatedTarget:0}),$S=rs(gY),vY=Cn({},Uh,{animationName:0,elapsedTime:0,pseudoElement:0}),yY=rs(vY),wY=Cn({},Uh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bY=rs(wY),_Y=Cn({},Uh,{data:0}),K2=rs(_Y),EY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$Y[e])?!!t[e]:!1}function nN(){return TY}var xY=Cn({},bg,{key:function(e){if(e.key){var t=EY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Py(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nN,charCode:function(e){return e.type==="keypress"?Py(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Py(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AY=rs(xY),OY=Cn({},j_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J2=rs(OY),PY=Cn({},bg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nN}),NY=rs(PY),RY=Cn({},Uh,{propertyName:0,elapsedTime:0,pseudoElement:0}),IY=rs(RY),jY=Cn({},j_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kY=rs(jY),CY=[9,13,27,32],iN=Ll&&"CompositionEvent"in window,am=null;Ll&&"documentMode"in document&&(am=document.documentMode);var DY=Ll&&"TextEvent"in window&&!am,w4=Ll&&(!iN||am&&8<am&&11>=am),Y2=" ",X2=!1;function b4(e,t){switch(e){case"keyup":return CY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ud=!1;function MY(e,t){switch(e){case"compositionend":return _4(t);case"keypress":return t.which!==32?null:(X2=!0,Y2);case"textInput":return e=t.data,e===Y2&&X2?null:e;default:return null}}function LY(e,t){if(Ud)return e==="compositionend"||!iN&&b4(e,t)?(e=y4(),Oy=tN=Lu=null,Ud=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w4&&t.locale!=="ko"?null:t.data;default:return null}}var FY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!FY[e.type]:t==="textarea"}function E4(e,t,r,n){Z3(n),t=mb(t,"onChange"),0<t.length&&(r=new rN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lm=null,Lm=null;function BY(e){j4(e,0)}function k_(e){var t=Vd(e);if(W3(t))return e}function UY(e,t){if(e==="change")return t}var S4=!1;if(Ll){var TS;if(Ll){var xS="oninput"in document;if(!xS){var Z2=document.createElement("div");Z2.setAttribute("oninput","return;"),xS=typeof Z2.oninput=="function"}TS=xS}else TS=!1;S4=TS&&(!document.documentMode||9<document.documentMode)}function ek(){lm&&(lm.detachEvent("onpropertychange",$4),Lm=lm=null)}function $4(e){if(e.propertyName==="value"&&k_(Lm)){var t=[];E4(t,Lm,e,YP(e)),n4(BY,t)}}function zY(e,t,r){e==="focusin"?(ek(),lm=t,Lm=r,lm.attachEvent("onpropertychange",$4)):e==="focusout"&&ek()}function qY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return k_(Lm)}function VY(e,t){if(e==="click")return k_(t)}function HY(e,t){if(e==="input"||e==="change")return k_(t)}function WY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ma=typeof Object.is=="function"?Object.is:WY;function Fm(e,t){if(ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!x$.call(t,i)||!ma(e[i],t[i]))return!1}return!0}function tk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rk(e,t){var r=tk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tk(r)}}function T4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function x4(){for(var e=window,t=lb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=lb(e.document)}return t}function oN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GY(e){var t=x4(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&T4(r.ownerDocument.documentElement,r)){if(n!==null&&oN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=rk(r,o);var s=rk(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KY=Ll&&"documentMode"in document&&11>=document.documentMode,zd=null,H$=null,um=null,W$=!1;function nk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;W$||zd==null||zd!==lb(n)||(n=zd,"selectionStart"in n&&oN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),um&&Fm(um,n)||(um=n,n=mb(H$,"onSelect"),0<n.length&&(t=new rN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zd)))}function Sv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qd={animationend:Sv("Animation","AnimationEnd"),animationiteration:Sv("Animation","AnimationIteration"),animationstart:Sv("Animation","AnimationStart"),transitionend:Sv("Transition","TransitionEnd")},AS={},A4={};Ll&&(A4=document.createElement("div").style,"AnimationEvent"in window||(delete qd.animationend.animation,delete qd.animationiteration.animation,delete qd.animationstart.animation),"TransitionEvent"in window||delete qd.transitionend.transition);function C_(e){if(AS[e])return AS[e];if(!qd[e])return e;var t=qd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in A4)return AS[e]=t[r];return e}var O4=C_("animationend"),P4=C_("animationiteration"),N4=C_("animationstart"),R4=C_("transitionend"),I4=new Map,ik="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ac(e,t){I4.set(e,t),Uf(t,[e])}for(var OS=0;OS<ik.length;OS++){var PS=ik[OS],JY=PS.toLowerCase(),YY=PS[0].toUpperCase()+PS.slice(1);ac(JY,"on"+YY)}ac(O4,"onAnimationEnd");ac(P4,"onAnimationIteration");ac(N4,"onAnimationStart");ac("dblclick","onDoubleClick");ac("focusin","onFocus");ac("focusout","onBlur");ac(R4,"onTransitionEnd");Eh("onMouseEnter",["mouseout","mouseover"]);Eh("onMouseLeave",["mouseout","mouseover"]);Eh("onPointerEnter",["pointerout","pointerover"]);Eh("onPointerLeave",["pointerout","pointerover"]);Uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mp));function ok(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,JJ(n,t,void 0,e),e.currentTarget=null}function j4(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ok(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ok(i,a,u),o=l}}}if(cb)throw e=U$,cb=!1,U$=null,e}function yn(e,t){var r=t[X$];r===void 0&&(r=t[X$]=new Set);var n=e+"__bubble";r.has(n)||(k4(t,e,2,!1),r.add(n))}function NS(e,t,r){var n=0;t&&(n|=4),k4(r,e,n,t)}var $v="_reactListening"+Math.random().toString(36).slice(2);function Bm(e){if(!e[$v]){e[$v]=!0,U3.forEach(function(r){r!=="selectionchange"&&(XY.has(r)||NS(r,!1,e),NS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$v]||(t[$v]=!0,NS("selectionchange",!1,t))}}function k4(e,t,r,n){switch(v4(t)){case 1:var i=fY;break;case 4:i=dY;break;default:i=eN}r=i.bind(null,t,r,e),i=void 0,!B$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function RS(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=af(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}n4(function(){var u=o,f=YP(r),c=[];e:{var h=I4.get(e);if(h!==void 0){var g=rN,m=e;switch(e){case"keypress":if(Py(r)===0)break e;case"keydown":case"keyup":g=AY;break;case"focusin":m="focus",g=$S;break;case"focusout":m="blur",g=$S;break;case"beforeblur":case"afterblur":g=$S;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=G2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=NY;break;case O4:case P4:case N4:g=yY;break;case R4:g=IY;break;case"scroll":g=hY;break;case"wheel":g=kY;break;case"copy":case"cut":case"paste":g=bY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=J2}var _=(t&4)!==0,v=!_&&e==="scroll",p=_?h!==null?h+"Capture":null:h;_=[];for(var E=u,y;E!==null;){y=E;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=km(E,p),S!=null&&_.push(Um(E,S,y)))),v)break;E=E.return}0<_.length&&(h=new g(h,m,null,r,f),c.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==L$&&(m=r.relatedTarget||r.fromElement)&&(af(m)||m[Fl]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=u,m=m?af(m):null,m!==null&&(v=zf(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(_=G2,S="onMouseLeave",p="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=J2,S="onPointerLeave",p="onPointerEnter",E="pointer"),v=g==null?h:Vd(g),y=m==null?h:Vd(m),h=new _(S,E+"leave",g,r,f),h.target=v,h.relatedTarget=y,S=null,af(f)===u&&(_=new _(p,E+"enter",m,r,f),_.target=y,_.relatedTarget=v,S=_),v=S,g&&m)t:{for(_=g,p=m,E=0,y=_;y;y=pd(y))E++;for(y=0,S=p;S;S=pd(S))y++;for(;0<E-y;)_=pd(_),E--;for(;0<y-E;)p=pd(p),y--;for(;E--;){if(_===p||p!==null&&_===p.alternate)break t;_=pd(_),p=pd(p)}_=null}else _=null;g!==null&&sk(c,h,g,_,!1),m!==null&&v!==null&&sk(c,v,m,_,!0)}}e:{if(h=u?Vd(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var $=UY;else if(Q2(h))if(S4)$=HY;else{$=qY;var T=zY}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&($=VY);if($&&($=$(e,u))){E4(c,$,r,f);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&j$(h,"number",h.value)}switch(T=u?Vd(u):window,e){case"focusin":(Q2(T)||T.contentEditable==="true")&&(zd=T,H$=u,um=null);break;case"focusout":um=H$=zd=null;break;case"mousedown":W$=!0;break;case"contextmenu":case"mouseup":case"dragend":W$=!1,nk(c,r,f);break;case"selectionchange":if(KY)break;case"keydown":case"keyup":nk(c,r,f)}var d;if(iN)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ud?b4(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(w4&&r.locale!=="ko"&&(Ud||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ud&&(d=y4()):(Lu=f,tN="value"in Lu?Lu.value:Lu.textContent,Ud=!0)),T=mb(u,x),0<T.length&&(x=new K2(x,e,null,r,f),c.push({event:x,listeners:T}),d?x.data=d:(d=_4(r),d!==null&&(x.data=d)))),(d=DY?MY(e,r):LY(e,r))&&(u=mb(u,"onBeforeInput"),0<u.length&&(f=new K2("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=d))}j4(c,t)})}function Um(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mb(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=km(e,r),o!=null&&n.unshift(Um(e,o,i)),o=km(e,t),o!=null&&n.push(Um(e,o,i))),e=e.return}return n}function pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sk(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=km(r,o),l!=null&&s.unshift(Um(r,l,a))):i||(l=km(r,o),l!=null&&s.push(Um(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var QY=/\r\n?/g,ZY=/\u0000|\uFFFD/g;function ak(e){return(typeof e=="string"?e:""+e).replace(QY,`
`).replace(ZY,"")}function Tv(e,t,r){if(t=ak(t),ak(e)!==t&&r)throw Error(St(425))}function gb(){}var G$=null,K$=null;function J$(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Y$=typeof setTimeout=="function"?setTimeout:void 0,eX=typeof clearTimeout=="function"?clearTimeout:void 0,lk=typeof Promise=="function"?Promise:void 0,tX=typeof queueMicrotask=="function"?queueMicrotask:typeof lk<"u"?function(e){return lk.resolve(null).then(e).catch(rX)}:Y$;function rX(e){setTimeout(function(){throw e})}function IS(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Mm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Mm(t)}function Ku(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zh=Math.random().toString(36).slice(2),Va="__reactFiber$"+zh,zm="__reactProps$"+zh,Fl="__reactContainer$"+zh,X$="__reactEvents$"+zh,nX="__reactListeners$"+zh,iX="__reactHandles$"+zh;function af(e){var t=e[Va];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fl]||r[Va]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uk(e);e!==null;){if(r=e[Va])return r;e=uk(e)}return t}e=r,r=e.parentNode}return null}function _g(e){return e=e[Va]||e[Fl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(St(33))}function D_(e){return e[zm]||null}var Q$=[],Hd=-1;function lc(e){return{current:e}}function _n(e){0>Hd||(e.current=Q$[Hd],Q$[Hd]=null,Hd--)}function pn(e,t){Hd++,Q$[Hd]=e.current,e.current=t}var ic={},qi=lc(ic),xo=lc(!1),Of=ic;function Sh(e,t){var r=e.type.contextTypes;if(!r)return ic;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ao(e){return e=e.childContextTypes,e!=null}function vb(){_n(xo),_n(qi)}function ck(e,t,r){if(qi.current!==ic)throw Error(St(168));pn(qi,t),pn(xo,r)}function C4(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(St(108,zJ(e)||"Unknown",i));return Cn({},r,n)}function yb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ic,Of=qi.current,pn(qi,e),pn(xo,xo.current),!0}function fk(e,t,r){var n=e.stateNode;if(!n)throw Error(St(169));r?(e=C4(e,t,Of),n.__reactInternalMemoizedMergedChildContext=e,_n(xo),_n(qi),pn(qi,e)):_n(xo),pn(xo,r)}var Tl=null,M_=!1,jS=!1;function D4(e){Tl===null?Tl=[e]:Tl.push(e)}function oX(e){M_=!0,D4(e)}function uc(){if(!jS&&Tl!==null){jS=!0;var e=0,t=Zr;try{var r=Tl;for(Zr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tl=null,M_=!1}catch(i){throw Tl!==null&&(Tl=Tl.slice(e+1)),a4(XP,uc),i}finally{Zr=t,jS=!1}}return null}var Wd=[],Gd=0,wb=null,bb=0,_s=[],Es=0,Pf=null,Pl=1,Nl="";function Wc(e,t){Wd[Gd++]=bb,Wd[Gd++]=wb,wb=e,bb=t}function M4(e,t,r){_s[Es++]=Pl,_s[Es++]=Nl,_s[Es++]=Pf,Pf=e;var n=Pl;e=Nl;var i=32-ha(n)-1;n&=~(1<<i),r+=1;var o=32-ha(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Pl=1<<32-ha(t)+i|r<<i|n,Nl=o+e}else Pl=1<<o|r<<i|n,Nl=e}function sN(e){e.return!==null&&(Wc(e,1),M4(e,1,0))}function aN(e){for(;e===wb;)wb=Wd[--Gd],Wd[Gd]=null,bb=Wd[--Gd],Wd[Gd]=null;for(;e===Pf;)Pf=_s[--Es],_s[Es]=null,Nl=_s[--Es],_s[Es]=null,Pl=_s[--Es],_s[Es]=null}var Xo=null,Jo=null,On=!1,la=null;function L4(e,t){var r=ks(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function dk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xo=e,Jo=Ku(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xo=e,Jo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pf!==null?{id:Pl,overflow:Nl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ks(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xo=e,Jo=null,!0):!1;default:return!1}}function Z$(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eT(e){if(On){var t=Jo;if(t){var r=t;if(!dk(e,t)){if(Z$(e))throw Error(St(418));t=Ku(r.nextSibling);var n=Xo;t&&dk(e,t)?L4(n,r):(e.flags=e.flags&-4097|2,On=!1,Xo=e)}}else{if(Z$(e))throw Error(St(418));e.flags=e.flags&-4097|2,On=!1,Xo=e}}}function hk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xo=e}function xv(e){if(e!==Xo)return!1;if(!On)return hk(e),On=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!J$(e.type,e.memoizedProps)),t&&(t=Jo)){if(Z$(e))throw F4(),Error(St(418));for(;t;)L4(e,t),t=Ku(t.nextSibling)}if(hk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(St(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jo=Ku(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jo=null}}else Jo=Xo?Ku(e.stateNode.nextSibling):null;return!0}function F4(){for(var e=Jo;e;)e=Ku(e.nextSibling)}function $h(){Jo=Xo=null,On=!1}function lN(e){la===null?la=[e]:la.push(e)}var sX=Kl.ReactCurrentBatchConfig;function gp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var n=r.stateNode}if(!n)throw Error(St(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,e))}return e}function Av(e,t){throw e=Object.prototype.toString.call(t),Error(St(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pk(e){var t=e._init;return t(e._payload)}function B4(e){function t(p,E){if(e){var y=p.deletions;y===null?(p.deletions=[E],p.flags|=16):y.push(E)}}function r(p,E){if(!e)return null;for(;E!==null;)t(p,E),E=E.sibling;return null}function n(p,E){for(p=new Map;E!==null;)E.key!==null?p.set(E.key,E):p.set(E.index,E),E=E.sibling;return p}function i(p,E){return p=Qu(p,E),p.index=0,p.sibling=null,p}function o(p,E,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<E?(p.flags|=2,E):y):(p.flags|=2,E)):(p.flags|=1048576,E)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,E,y,S){return E===null||E.tag!==6?(E=BS(y,p.mode,S),E.return=p,E):(E=i(E,y),E.return=p,E)}function l(p,E,y,S){var $=y.type;return $===Bd?f(p,E,y.props.children,S,y.key):E!==null&&(E.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ru&&pk($)===E.type)?(S=i(E,y.props),S.ref=gp(p,E,y),S.return=p,S):(S=Dy(y.type,y.key,y.props,null,p.mode,S),S.ref=gp(p,E,y),S.return=p,S)}function u(p,E,y,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==y.containerInfo||E.stateNode.implementation!==y.implementation?(E=US(y,p.mode,S),E.return=p,E):(E=i(E,y.children||[]),E.return=p,E)}function f(p,E,y,S,$){return E===null||E.tag!==7?(E=vf(y,p.mode,S,$),E.return=p,E):(E=i(E,y),E.return=p,E)}function c(p,E,y){if(typeof E=="string"&&E!==""||typeof E=="number")return E=BS(""+E,p.mode,y),E.return=p,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case gv:return y=Dy(E.type,E.key,E.props,null,p.mode,y),y.ref=gp(p,null,E),y.return=p,y;case Fd:return E=US(E,p.mode,y),E.return=p,E;case Ru:var S=E._init;return c(p,S(E._payload),y)}if(Cp(E)||fp(E))return E=vf(E,p.mode,y,null),E.return=p,E;Av(p,E)}return null}function h(p,E,y,S){var $=E!==null?E.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return $!==null?null:a(p,E,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gv:return y.key===$?l(p,E,y,S):null;case Fd:return y.key===$?u(p,E,y,S):null;case Ru:return $=y._init,h(p,E,$(y._payload),S)}if(Cp(y)||fp(y))return $!==null?null:f(p,E,y,S,null);Av(p,y)}return null}function g(p,E,y,S,$){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,a(E,p,""+S,$);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gv:return p=p.get(S.key===null?y:S.key)||null,l(E,p,S,$);case Fd:return p=p.get(S.key===null?y:S.key)||null,u(E,p,S,$);case Ru:var T=S._init;return g(p,E,y,T(S._payload),$)}if(Cp(S)||fp(S))return p=p.get(y)||null,f(E,p,S,$,null);Av(E,S)}return null}function m(p,E,y,S){for(var $=null,T=null,d=E,x=E=0,A=null;d!==null&&x<y.length;x++){d.index>x?(A=d,d=null):A=d.sibling;var O=h(p,d,y[x],S);if(O===null){d===null&&(d=A);break}e&&d&&O.alternate===null&&t(p,d),E=o(O,E,x),T===null?$=O:T.sibling=O,T=O,d=A}if(x===y.length)return r(p,d),On&&Wc(p,x),$;if(d===null){for(;x<y.length;x++)d=c(p,y[x],S),d!==null&&(E=o(d,E,x),T===null?$=d:T.sibling=d,T=d);return On&&Wc(p,x),$}for(d=n(p,d);x<y.length;x++)A=g(d,p,x,y[x],S),A!==null&&(e&&A.alternate!==null&&d.delete(A.key===null?x:A.key),E=o(A,E,x),T===null?$=A:T.sibling=A,T=A);return e&&d.forEach(function(C){return t(p,C)}),On&&Wc(p,x),$}function _(p,E,y,S){var $=fp(y);if(typeof $!="function")throw Error(St(150));if(y=$.call(y),y==null)throw Error(St(151));for(var T=$=null,d=E,x=E=0,A=null,O=y.next();d!==null&&!O.done;x++,O=y.next()){d.index>x?(A=d,d=null):A=d.sibling;var C=h(p,d,O.value,S);if(C===null){d===null&&(d=A);break}e&&d&&C.alternate===null&&t(p,d),E=o(C,E,x),T===null?$=C:T.sibling=C,T=C,d=A}if(O.done)return r(p,d),On&&Wc(p,x),$;if(d===null){for(;!O.done;x++,O=y.next())O=c(p,O.value,S),O!==null&&(E=o(O,E,x),T===null?$=O:T.sibling=O,T=O);return On&&Wc(p,x),$}for(d=n(p,d);!O.done;x++,O=y.next())O=g(d,p,x,O.value,S),O!==null&&(e&&O.alternate!==null&&d.delete(O.key===null?x:O.key),E=o(O,E,x),T===null?$=O:T.sibling=O,T=O);return e&&d.forEach(function(F){return t(p,F)}),On&&Wc(p,x),$}function v(p,E,y,S){if(typeof y=="object"&&y!==null&&y.type===Bd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case gv:e:{for(var $=y.key,T=E;T!==null;){if(T.key===$){if($=y.type,$===Bd){if(T.tag===7){r(p,T.sibling),E=i(T,y.props.children),E.return=p,p=E;break e}}else if(T.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ru&&pk($)===T.type){r(p,T.sibling),E=i(T,y.props),E.ref=gp(p,T,y),E.return=p,p=E;break e}r(p,T);break}else t(p,T);T=T.sibling}y.type===Bd?(E=vf(y.props.children,p.mode,S,y.key),E.return=p,p=E):(S=Dy(y.type,y.key,y.props,null,p.mode,S),S.ref=gp(p,E,y),S.return=p,p=S)}return s(p);case Fd:e:{for(T=y.key;E!==null;){if(E.key===T)if(E.tag===4&&E.stateNode.containerInfo===y.containerInfo&&E.stateNode.implementation===y.implementation){r(p,E.sibling),E=i(E,y.children||[]),E.return=p,p=E;break e}else{r(p,E);break}else t(p,E);E=E.sibling}E=US(y,p.mode,S),E.return=p,p=E}return s(p);case Ru:return T=y._init,v(p,E,T(y._payload),S)}if(Cp(y))return m(p,E,y,S);if(fp(y))return _(p,E,y,S);Av(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,E!==null&&E.tag===6?(r(p,E.sibling),E=i(E,y),E.return=p,p=E):(r(p,E),E=BS(y,p.mode,S),E.return=p,p=E),s(p)):r(p,E)}return v}var Th=B4(!0),U4=B4(!1),_b=lc(null),Eb=null,Kd=null,uN=null;function cN(){uN=Kd=Eb=null}function fN(e){var t=_b.current;_n(_b),e._currentValue=t}function tT(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ah(e,t){Eb=e,uN=Kd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(To=!0),e.firstContext=null)}function Ls(e){var t=e._currentValue;if(uN!==e)if(e={context:e,memoizedValue:t,next:null},Kd===null){if(Eb===null)throw Error(St(308));Kd=e,Eb.dependencies={lanes:0,firstContext:e}}else Kd=Kd.next=e;return t}var lf=null;function dN(e){lf===null?lf=[e]:lf.push(e)}function z4(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,dN(t)):(r.next=i.next,i.next=r),t.interleaved=r,Bl(e,n)}function Bl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Iu=!1;function hN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ju(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Bl(e,r)}return i=n.interleaved,i===null?(t.next=t,dN(n)):(t.next=i.next,i.next=t),n.interleaved=t,Bl(e,r)}function Ny(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,QP(e,r)}}function mk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sb(e,t,r,n){var i=e.updateQueue;Iu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var c=i.baseState;s=0,f=u=l=null,a=o;do{var h=a.lane,g=a.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,_=a;switch(h=t,g=r,_.tag){case 1:if(m=_.payload,typeof m=="function"){c=m.call(g,c,h);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,h=typeof m=="function"?m.call(g,c,h):m,h==null)break e;c=Cn({},c,h);break e;case 2:Iu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=g,l=c):f=f.next=g,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Rf|=s,e.lanes=s,e.memoizedState=c}}function gk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(St(191,i));i.call(n)}}}var Eg={},rl=lc(Eg),qm=lc(Eg),Vm=lc(Eg);function uf(e){if(e===Eg)throw Error(St(174));return e}function pN(e,t){switch(pn(Vm,t),pn(qm,e),pn(rl,Eg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:C$(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=C$(t,e)}_n(rl),pn(rl,t)}function xh(){_n(rl),_n(qm),_n(Vm)}function V4(e){uf(Vm.current);var t=uf(rl.current),r=C$(t,e.type);t!==r&&(pn(qm,e),pn(rl,r))}function mN(e){qm.current===e&&(_n(rl),_n(qm))}var In=lc(0);function $b(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kS=[];function gN(){for(var e=0;e<kS.length;e++)kS[e]._workInProgressVersionPrimary=null;kS.length=0}var Ry=Kl.ReactCurrentDispatcher,CS=Kl.ReactCurrentBatchConfig,Nf=0,kn=null,ri=null,ci=null,Tb=!1,cm=!1,Hm=0,aX=0;function Ii(){throw Error(St(321))}function vN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ma(e[r],t[r]))return!1;return!0}function yN(e,t,r,n,i,o){if(Nf=o,kn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ry.current=e===null||e.memoizedState===null?fX:dX,e=r(n,i),cm){o=0;do{if(cm=!1,Hm=0,25<=o)throw Error(St(301));o+=1,ci=ri=null,t.updateQueue=null,Ry.current=hX,e=r(n,i)}while(cm)}if(Ry.current=xb,t=ri!==null&&ri.next!==null,Nf=0,ci=ri=kn=null,Tb=!1,t)throw Error(St(300));return e}function wN(){var e=Hm!==0;return Hm=0,e}function Ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?kn.memoizedState=ci=e:ci=ci.next=e,ci}function Fs(){if(ri===null){var e=kn.alternate;e=e!==null?e.memoizedState:null}else e=ri.next;var t=ci===null?kn.memoizedState:ci.next;if(t!==null)ci=t,ri=e;else{if(e===null)throw Error(St(310));ri=e,e={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},ci===null?kn.memoizedState=ci=e:ci=ci.next=e}return ci}function Wm(e,t){return typeof t=="function"?t(e):t}function DS(e){var t=Fs(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=ri,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((Nf&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,s=n):l=l.next=c,kn.lanes|=f,Rf|=f}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,ma(n,t.memoizedState)||(To=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,kn.lanes|=o,Rf|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function MS(e){var t=Fs(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ma(o,t.memoizedState)||(To=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function H4(){}function W4(e,t){var r=kn,n=Fs(),i=t(),o=!ma(n.memoizedState,i);if(o&&(n.memoizedState=i,To=!0),n=n.queue,bN(J4.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ci!==null&&ci.memoizedState.tag&1){if(r.flags|=2048,Gm(9,K4.bind(null,r,n,i,t),void 0,null),di===null)throw Error(St(349));Nf&30||G4(r,t,i)}return i}function G4(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function K4(e,t,r,n){t.value=r,t.getSnapshot=n,Y4(t)&&X4(e)}function J4(e,t,r){return r(function(){Y4(t)&&X4(e)})}function Y4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ma(e,r)}catch{return!0}}function X4(e){var t=Bl(e,1);t!==null&&pa(t,e,1,-1)}function vk(e){var t=Ua();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:e},t.queue=e,e=e.dispatch=cX.bind(null,kn,e),[t.memoizedState,e]}function Gm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Q4(){return Fs().memoizedState}function Iy(e,t,r,n){var i=Ua();kn.flags|=e,i.memoizedState=Gm(1|t,r,void 0,n===void 0?null:n)}function L_(e,t,r,n){var i=Fs();n=n===void 0?null:n;var o=void 0;if(ri!==null){var s=ri.memoizedState;if(o=s.destroy,n!==null&&vN(n,s.deps)){i.memoizedState=Gm(t,r,o,n);return}}kn.flags|=e,i.memoizedState=Gm(1|t,r,o,n)}function yk(e,t){return Iy(8390656,8,e,t)}function bN(e,t){return L_(2048,8,e,t)}function Z4(e,t){return L_(4,2,e,t)}function eB(e,t){return L_(4,4,e,t)}function tB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rB(e,t,r){return r=r!=null?r.concat([e]):null,L_(4,4,tB.bind(null,t,e),r)}function _N(){}function nB(e,t){var r=Fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function iB(e,t){var r=Fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function oB(e,t,r){return Nf&21?(ma(r,t)||(r=c4(),kn.lanes|=r,Rf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,To=!0),e.memoizedState=r)}function lX(e,t){var r=Zr;Zr=r!==0&&4>r?r:4,e(!0);var n=CS.transition;CS.transition={};try{e(!1),t()}finally{Zr=r,CS.transition=n}}function sB(){return Fs().memoizedState}function uX(e,t,r){var n=Xu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aB(e))lB(t,r);else if(r=z4(e,t,r,n),r!==null){var i=io();pa(r,e,n,i),uB(r,t,n)}}function cX(e,t,r){var n=Xu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aB(e))lB(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,ma(a,s)){var l=t.interleaved;l===null?(i.next=i,dN(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=z4(e,t,i,n),r!==null&&(i=io(),pa(r,e,n,i),uB(r,t,n))}}function aB(e){var t=e.alternate;return e===kn||t!==null&&t===kn}function lB(e,t){cm=Tb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,QP(e,r)}}var xb={readContext:Ls,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},fX={readContext:Ls,useCallback:function(e,t){return Ua().memoizedState=[e,t===void 0?null:t],e},useContext:Ls,useEffect:yk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Iy(4194308,4,tB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Iy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Iy(4,2,e,t)},useMemo:function(e,t){var r=Ua();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ua();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uX.bind(null,kn,e),[n.memoizedState,e]},useRef:function(e){var t=Ua();return e={current:e},t.memoizedState=e},useState:vk,useDebugValue:_N,useDeferredValue:function(e){return Ua().memoizedState=e},useTransition:function(){var e=vk(!1),t=e[0];return e=lX.bind(null,e[1]),Ua().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=kn,i=Ua();if(On){if(r===void 0)throw Error(St(407));r=r()}else{if(r=t(),di===null)throw Error(St(349));Nf&30||G4(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,yk(J4.bind(null,n,o,e),[e]),n.flags|=2048,Gm(9,K4.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Ua(),t=di.identifierPrefix;if(On){var r=Nl,n=Pl;r=(n&~(1<<32-ha(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dX={readContext:Ls,useCallback:nB,useContext:Ls,useEffect:bN,useImperativeHandle:rB,useInsertionEffect:Z4,useLayoutEffect:eB,useMemo:iB,useReducer:DS,useRef:Q4,useState:function(){return DS(Wm)},useDebugValue:_N,useDeferredValue:function(e){var t=Fs();return oB(t,ri.memoizedState,e)},useTransition:function(){var e=DS(Wm)[0],t=Fs().memoizedState;return[e,t]},useMutableSource:H4,useSyncExternalStore:W4,useId:sB,unstable_isNewReconciler:!1},hX={readContext:Ls,useCallback:nB,useContext:Ls,useEffect:bN,useImperativeHandle:rB,useInsertionEffect:Z4,useLayoutEffect:eB,useMemo:iB,useReducer:MS,useRef:Q4,useState:function(){return MS(Wm)},useDebugValue:_N,useDeferredValue:function(e){var t=Fs();return ri===null?t.memoizedState=e:oB(t,ri.memoizedState,e)},useTransition:function(){var e=MS(Wm)[0],t=Fs().memoizedState;return[e,t]},useMutableSource:H4,useSyncExternalStore:W4,useId:sB,unstable_isNewReconciler:!1};function oa(e,t){if(e&&e.defaultProps){t=Cn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rT(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Cn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var F_={isMounted:function(e){return(e=e._reactInternals)?zf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=io(),i=Xu(e),o=Cl(n,i);o.payload=t,r!=null&&(o.callback=r),t=Ju(e,o,i),t!==null&&(pa(t,e,i,n),Ny(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=io(),i=Xu(e),o=Cl(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ju(e,o,i),t!==null&&(pa(t,e,i,n),Ny(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=io(),n=Xu(e),i=Cl(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ju(e,i,n),t!==null&&(pa(t,e,n,r),Ny(t,e,n))}};function wk(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Fm(r,n)||!Fm(i,o):!0}function cB(e,t,r){var n=!1,i=ic,o=t.contextType;return typeof o=="object"&&o!==null?o=Ls(o):(i=Ao(t)?Of:qi.current,n=t.contextTypes,o=(n=n!=null)?Sh(e,i):ic),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=F_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&F_.enqueueReplaceState(t,t.state,null)}function nT(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},hN(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ls(o):(o=Ao(t)?Of:qi.current,i.context=Sh(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(rT(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&F_.enqueueReplaceState(i,i.state,null),Sb(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ah(e,t){try{var r="",n=t;do r+=UJ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function LS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function iT(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pX=typeof WeakMap=="function"?WeakMap:Map;function fB(e,t,r){r=Cl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ob||(Ob=!0,pT=n),iT(e,t)},r}function dB(e,t,r){r=Cl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){iT(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){iT(e,t),typeof n!="function"&&(Yu===null?Yu=new Set([this]):Yu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function _k(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pX;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=OX.bind(null,e,t,r),t.then(e,e))}function Ek(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sk(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Cl(-1,1),t.tag=2,Ju(r,t,1))),r.lanes|=1),e)}var mX=Kl.ReactCurrentOwner,To=!1;function Yi(e,t,r,n){t.child=e===null?U4(t,null,r,n):Th(t,e.child,r,n)}function $k(e,t,r,n,i){r=r.render;var o=t.ref;return ah(t,i),n=yN(e,t,r,n,o,i),r=wN(),e!==null&&!To?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ul(e,t,i)):(On&&r&&sN(t),t.flags|=1,Yi(e,t,n,i),t.child)}function Tk(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!PN(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,hB(e,t,o,n,i)):(e=Dy(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Fm,r(s,n)&&e.ref===t.ref)return Ul(e,t,i)}return t.flags|=1,e=Qu(o,n),e.ref=t.ref,e.return=t,t.child=e}function hB(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Fm(o,n)&&e.ref===t.ref)if(To=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(To=!0);else return t.lanes=e.lanes,Ul(e,t,i)}return oT(e,t,r,n,i)}function pB(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(Yd,Ho),Ho|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pn(Yd,Ho),Ho|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,pn(Yd,Ho),Ho|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,pn(Yd,Ho),Ho|=n;return Yi(e,t,i,r),t.child}function mB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function oT(e,t,r,n,i){var o=Ao(r)?Of:qi.current;return o=Sh(t,o),ah(t,i),r=yN(e,t,r,n,o,i),n=wN(),e!==null&&!To?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ul(e,t,i)):(On&&n&&sN(t),t.flags|=1,Yi(e,t,r,i),t.child)}function xk(e,t,r,n,i){if(Ao(r)){var o=!0;yb(t)}else o=!1;if(ah(t,i),t.stateNode===null)jy(e,t),cB(t,r,n),nT(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ls(u):(u=Ao(r)?Of:qi.current,u=Sh(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&bk(t,s,n,u),Iu=!1;var h=t.memoizedState;s.state=h,Sb(t,n,s,i),l=t.memoizedState,a!==n||h!==l||xo.current||Iu?(typeof f=="function"&&(rT(t,r,f,n),l=t.memoizedState),(a=Iu||wk(t,r,a,n,h,l,u))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,q4(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:oa(t.type,a),s.props=u,c=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ls(l):(l=Ao(r)?Of:qi.current,l=Sh(t,l));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||h!==l)&&bk(t,s,n,l),Iu=!1,h=t.memoizedState,s.state=h,Sb(t,n,s,i);var m=t.memoizedState;a!==c||h!==m||xo.current||Iu?(typeof g=="function"&&(rT(t,r,g,n),m=t.memoizedState),(u=Iu||wk(t,r,u,n,h,m,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return sT(e,t,r,n,o,i)}function sT(e,t,r,n,i,o){mB(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&fk(t,r,!1),Ul(e,t,o);n=t.stateNode,mX.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Th(t,e.child,null,o),t.child=Th(t,null,a,o)):Yi(e,t,a,o),t.memoizedState=n.state,i&&fk(t,r,!0),t.child}function gB(e){var t=e.stateNode;t.pendingContext?ck(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ck(e,t.context,!1),pN(e,t.containerInfo)}function Ak(e,t,r,n,i){return $h(),lN(i),t.flags|=256,Yi(e,t,r,n),t.child}var aT={dehydrated:null,treeContext:null,retryLane:0};function lT(e){return{baseLanes:e,cachePool:null,transitions:null}}function vB(e,t,r){var n=t.pendingProps,i=In.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pn(In,i&1),e===null)return eT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=z_(s,n,0,null),e=vf(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=lT(r),t.memoizedState=aT,e):EN(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return gX(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Qu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qu(a,o):(o=vf(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?lT(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=aT,n}return o=e.child,e=o.sibling,n=Qu(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function EN(e,t){return t=z_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ov(e,t,r,n){return n!==null&&lN(n),Th(t,e.child,null,r),e=EN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gX(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=LS(Error(St(422))),Ov(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=z_({mode:"visible",children:n.children},i,0,null),o=vf(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Th(t,e.child,null,s),t.child.memoizedState=lT(s),t.memoizedState=aT,o);if(!(t.mode&1))return Ov(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(St(419)),n=LS(o,n,void 0),Ov(e,t,s,n)}if(a=(s&e.childLanes)!==0,To||a){if(n=di,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Bl(e,i),pa(n,e,i,-1))}return ON(),n=LS(Error(St(421))),Ov(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=PX.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Jo=Ku(i.nextSibling),Xo=t,On=!0,la=null,e!==null&&(_s[Es++]=Pl,_s[Es++]=Nl,_s[Es++]=Pf,Pl=e.id,Nl=e.overflow,Pf=t),t=EN(t,n.children),t.flags|=4096,t)}function Ok(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tT(e.return,t,r)}function FS(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function yB(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Yi(e,t,n.children,r),n=In.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ok(e,r,t);else if(e.tag===19)Ok(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pn(In,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&$b(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),FS(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$b(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}FS(t,!0,r,null,o);break;case"together":FS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ul(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(St(153));if(t.child!==null){for(e=t.child,r=Qu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vX(e,t,r){switch(t.tag){case 3:gB(t),$h();break;case 5:V4(t);break;case 1:Ao(t.type)&&yb(t);break;case 4:pN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;pn(_b,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pn(In,In.current&1),t.flags|=128,null):r&t.child.childLanes?vB(e,t,r):(pn(In,In.current&1),e=Ul(e,t,r),e!==null?e.sibling:null);pn(In,In.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return yB(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(In,In.current),n)break;return null;case 22:case 23:return t.lanes=0,pB(e,t,r)}return Ul(e,t,r)}var wB,uT,bB,_B;wB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};uT=function(){};bB=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,uf(rl.current);var o=null;switch(r){case"input":i=R$(e,i),n=R$(e,n),o=[];break;case"select":i=Cn({},i,{value:void 0}),n=Cn({},n,{value:void 0}),o=[];break;case"textarea":i=k$(e,i),n=k$(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gb)}D$(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Im.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Im.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yn("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};_B=function(e,t,r,n){r!==n&&(t.flags|=4)};function vp(e,t){if(!On)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ji(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yX(e,t,r){var n=t.pendingProps;switch(aN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(t),null;case 1:return Ao(t.type)&&vb(),ji(t),null;case 3:return n=t.stateNode,xh(),_n(xo),_n(qi),gN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,la!==null&&(vT(la),la=null))),uT(e,t),ji(t),null;case 5:mN(t);var i=uf(Vm.current);if(r=t.type,e!==null&&t.stateNode!=null)bB(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(St(166));return ji(t),null}if(e=uf(rl.current),xv(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Va]=t,n[zm]=o,e=(t.mode&1)!==0,r){case"dialog":yn("cancel",n),yn("close",n);break;case"iframe":case"object":case"embed":yn("load",n);break;case"video":case"audio":for(i=0;i<Mp.length;i++)yn(Mp[i],n);break;case"source":yn("error",n);break;case"img":case"image":case"link":yn("error",n),yn("load",n);break;case"details":yn("toggle",n);break;case"input":M2(n,o),yn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},yn("invalid",n);break;case"textarea":F2(n,o),yn("invalid",n)}D$(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Tv(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Tv(n.textContent,a,e),i=["children",""+a]):Im.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&yn("scroll",n)}switch(r){case"input":vv(n),L2(n,o,!0);break;case"textarea":vv(n),B2(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=gb)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Va]=t,e[zm]=n,wB(e,t,!1,!1),t.stateNode=e;e:{switch(s=M$(r,n),r){case"dialog":yn("cancel",e),yn("close",e),i=n;break;case"iframe":case"object":case"embed":yn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Mp.length;i++)yn(Mp[i],e);i=n;break;case"source":yn("error",e),i=n;break;case"img":case"image":case"link":yn("error",e),yn("load",e),i=n;break;case"details":yn("toggle",e),i=n;break;case"input":M2(e,n),i=R$(e,n),yn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Cn({},n,{value:void 0}),yn("invalid",e);break;case"textarea":F2(e,n),i=k$(e,n),yn("invalid",e);break;default:i=n}D$(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Q3(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y3(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&jm(e,l):typeof l=="number"&&jm(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Im.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yn("scroll",e):l!=null&&WP(e,o,l,s))}switch(r){case"input":vv(e),L2(e,n,!1);break;case"textarea":vv(e),B2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nc(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?nh(e,!!n.multiple,o,!1):n.defaultValue!=null&&nh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ji(t),null;case 6:if(e&&t.stateNode!=null)_B(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(St(166));if(r=uf(Vm.current),uf(rl.current),xv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Va]=t,(o=n.nodeValue!==r)&&(e=Xo,e!==null))switch(e.tag){case 3:Tv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tv(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Va]=t,t.stateNode=n}return ji(t),null;case 13:if(_n(In),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(On&&Jo!==null&&t.mode&1&&!(t.flags&128))F4(),$h(),t.flags|=98560,o=!1;else if(o=xv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(St(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(St(317));o[Va]=t}else $h(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ji(t),o=!1}else la!==null&&(vT(la),la=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||In.current&1?oi===0&&(oi=3):ON())),t.updateQueue!==null&&(t.flags|=4),ji(t),null);case 4:return xh(),uT(e,t),e===null&&Bm(t.stateNode.containerInfo),ji(t),null;case 10:return fN(t.type._context),ji(t),null;case 17:return Ao(t.type)&&vb(),ji(t),null;case 19:if(_n(In),o=t.memoizedState,o===null)return ji(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)vp(o,!1);else{if(oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$b(e),s!==null){for(t.flags|=128,vp(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pn(In,In.current&1|2),t.child}e=e.sibling}o.tail!==null&&Hn()>Oh&&(t.flags|=128,n=!0,vp(o,!1),t.lanes=4194304)}else{if(!n)if(e=$b(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!On)return ji(t),null}else 2*Hn()-o.renderingStartTime>Oh&&r!==1073741824&&(t.flags|=128,n=!0,vp(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Hn(),t.sibling=null,r=In.current,pn(In,n?r&1|2:r&1),t):(ji(t),null);case 22:case 23:return AN(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ho&1073741824&&(ji(t),t.subtreeFlags&6&&(t.flags|=8192)):ji(t),null;case 24:return null;case 25:return null}throw Error(St(156,t.tag))}function wX(e,t){switch(aN(t),t.tag){case 1:return Ao(t.type)&&vb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xh(),_n(xo),_n(qi),gN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mN(t),null;case 13:if(_n(In),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(St(340));$h()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _n(In),null;case 4:return xh(),null;case 10:return fN(t.type._context),null;case 22:case 23:return AN(),null;case 24:return null;default:return null}}var Pv=!1,Li=!1,bX=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Jd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Fn(e,t,n)}else r.current=null}function cT(e,t,r){try{r()}catch(n){Fn(e,t,n)}}var Pk=!1;function _X(e,t){if(G$=hb,e=x4(),oN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,f=0,c=e,h=null;t:for(;;){for(var g;c!==r||i!==0&&c.nodeType!==3||(a=s+i),c!==o||n!==0&&c.nodeType!==3||(l=s+n),c.nodeType===3&&(s+=c.nodeValue.length),(g=c.firstChild)!==null;)h=c,c=g;for(;;){if(c===e)break t;if(h===r&&++u===i&&(a=s),h===o&&++f===n&&(l=s),(g=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(K$={focusedElem:e,selectionRange:r},hb=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,v=m.memoizedState,p=t.stateNode,E=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:oa(t.type,_),v);p.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(S){Fn(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return m=Pk,Pk=!1,m}function fm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&cT(t,r,o)}i=i.next}while(i!==n)}}function B_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fT(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function EB(e){var t=e.alternate;t!==null&&(e.alternate=null,EB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Va],delete t[zm],delete t[X$],delete t[nX],delete t[iX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SB(e){return e.tag===5||e.tag===3||e.tag===4}function Nk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gb));else if(n!==4&&(e=e.child,e!==null))for(dT(e,t,r),e=e.sibling;e!==null;)dT(e,t,r),e=e.sibling}function hT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hT(e,t,r),e=e.sibling;e!==null;)hT(e,t,r),e=e.sibling}var $i=null,sa=!1;function fu(e,t,r){for(r=r.child;r!==null;)$B(e,t,r),r=r.sibling}function $B(e,t,r){if(tl&&typeof tl.onCommitFiberUnmount=="function")try{tl.onCommitFiberUnmount(I_,r)}catch{}switch(r.tag){case 5:Li||Jd(r,t);case 6:var n=$i,i=sa;$i=null,fu(e,t,r),$i=n,sa=i,$i!==null&&(sa?(e=$i,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$i.removeChild(r.stateNode));break;case 18:$i!==null&&(sa?(e=$i,r=r.stateNode,e.nodeType===8?IS(e.parentNode,r):e.nodeType===1&&IS(e,r),Mm(e)):IS($i,r.stateNode));break;case 4:n=$i,i=sa,$i=r.stateNode.containerInfo,sa=!0,fu(e,t,r),$i=n,sa=i;break;case 0:case 11:case 14:case 15:if(!Li&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&cT(r,t,s),i=i.next}while(i!==n)}fu(e,t,r);break;case 1:if(!Li&&(Jd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Fn(r,t,a)}fu(e,t,r);break;case 21:fu(e,t,r);break;case 22:r.mode&1?(Li=(n=Li)||r.memoizedState!==null,fu(e,t,r),Li=n):fu(e,t,r);break;default:fu(e,t,r)}}function Rk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bX),t.forEach(function(n){var i=NX.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Js(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:$i=a.stateNode,sa=!1;break e;case 3:$i=a.stateNode.containerInfo,sa=!0;break e;case 4:$i=a.stateNode.containerInfo,sa=!0;break e}a=a.return}if($i===null)throw Error(St(160));$B(o,s,i),$i=null,sa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TB(t,e),t=t.sibling}function TB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Js(t,e),Pa(e),n&4){try{fm(3,e,e.return),B_(3,e)}catch(_){Fn(e,e.return,_)}try{fm(5,e,e.return)}catch(_){Fn(e,e.return,_)}}break;case 1:Js(t,e),Pa(e),n&512&&r!==null&&Jd(r,r.return);break;case 5:if(Js(t,e),Pa(e),n&512&&r!==null&&Jd(r,r.return),e.flags&32){var i=e.stateNode;try{jm(i,"")}catch(_){Fn(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&G3(i,o),M$(a,s);var u=M$(a,o);for(s=0;s<l.length;s+=2){var f=l[s],c=l[s+1];f==="style"?Q3(i,c):f==="dangerouslySetInnerHTML"?Y3(i,c):f==="children"?jm(i,c):WP(i,f,c,u)}switch(a){case"input":I$(i,o);break;case"textarea":K3(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?nh(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?nh(i,!!o.multiple,o.defaultValue,!0):nh(i,!!o.multiple,o.multiple?[]:"",!1))}i[zm]=o}catch(_){Fn(e,e.return,_)}}break;case 6:if(Js(t,e),Pa(e),n&4){if(e.stateNode===null)throw Error(St(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Fn(e,e.return,_)}}break;case 3:if(Js(t,e),Pa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mm(t.containerInfo)}catch(_){Fn(e,e.return,_)}break;case 4:Js(t,e),Pa(e);break;case 13:Js(t,e),Pa(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(TN=Hn())),n&4&&Rk(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Li=(u=Li)||f,Js(t,e),Li=u):Js(t,e),Pa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Mt=e,f=e.child;f!==null;){for(c=Mt=f;Mt!==null;){switch(h=Mt,g=h.child,h.tag){case 0:case 11:case 14:case 15:fm(4,h,h.return);break;case 1:Jd(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){Fn(n,r,_)}}break;case 5:Jd(h,h.return);break;case 22:if(h.memoizedState!==null){jk(c);continue}}g!==null?(g.return=h,Mt=g):jk(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,l=c.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X3("display",s))}catch(_){Fn(e,e.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){Fn(e,e.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Js(t,e),Pa(e),n&4&&Rk(e);break;case 21:break;default:Js(t,e),Pa(e)}}function Pa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(SB(r)){var n=r;break e}r=r.return}throw Error(St(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(jm(i,""),n.flags&=-33);var o=Nk(e);hT(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=Nk(e);dT(e,a,s);break;default:throw Error(St(161))}}catch(l){Fn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EX(e,t,r){Mt=e,xB(e)}function xB(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var i=Mt,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Pv;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Li;a=Pv;var u=Li;if(Pv=s,(Li=l)&&!u)for(Mt=i;Mt!==null;)s=Mt,l=s.child,s.tag===22&&s.memoizedState!==null?kk(i):l!==null?(l.return=s,Mt=l):kk(i);for(;o!==null;)Mt=o,xB(o),o=o.sibling;Mt=i,Pv=a,Li=u}Ik(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Mt=o):Ik(e)}}function Ik(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Li||B_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Li)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:oa(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&gk(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gk(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&Mm(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}Li||t.flags&512&&fT(t)}catch(h){Fn(t,t.return,h)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function jk(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function kk(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{B_(4,t)}catch(l){Fn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Fn(t,i,l)}}var o=t.return;try{fT(t)}catch(l){Fn(t,o,l)}break;case 5:var s=t.return;try{fT(t)}catch(l){Fn(t,s,l)}}}catch(l){Fn(t,t.return,l)}if(t===e){Mt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Mt=a;break}Mt=t.return}}var SX=Math.ceil,Ab=Kl.ReactCurrentDispatcher,SN=Kl.ReactCurrentOwner,Cs=Kl.ReactCurrentBatchConfig,Dr=0,di=null,Qn=null,Ai=0,Ho=0,Yd=lc(0),oi=0,Km=null,Rf=0,U_=0,$N=0,dm=null,So=null,TN=0,Oh=1/0,bl=null,Ob=!1,pT=null,Yu=null,Nv=!1,Fu=null,Pb=0,hm=0,mT=null,ky=-1,Cy=0;function io(){return Dr&6?Hn():ky!==-1?ky:ky=Hn()}function Xu(e){return e.mode&1?Dr&2&&Ai!==0?Ai&-Ai:sX.transition!==null?(Cy===0&&(Cy=c4()),Cy):(e=Zr,e!==0||(e=window.event,e=e===void 0?16:v4(e.type)),e):1}function pa(e,t,r,n){if(50<hm)throw hm=0,mT=null,Error(St(185));wg(e,r,n),(!(Dr&2)||e!==di)&&(e===di&&(!(Dr&2)&&(U_|=r),oi===4&&Cu(e,Ai)),Oo(e,n),r===1&&Dr===0&&!(t.mode&1)&&(Oh=Hn()+500,M_&&uc()))}function Oo(e,t){var r=e.callbackNode;sY(e,t);var n=db(e,e===di?Ai:0);if(n===0)r!==null&&q2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&q2(r),t===1)e.tag===0?oX(Ck.bind(null,e)):D4(Ck.bind(null,e)),tX(function(){!(Dr&6)&&uc()}),r=null;else{switch(f4(n)){case 1:r=XP;break;case 4:r=l4;break;case 16:r=fb;break;case 536870912:r=u4;break;default:r=fb}r=kB(r,AB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function AB(e,t){if(ky=-1,Cy=0,Dr&6)throw Error(St(327));var r=e.callbackNode;if(lh()&&e.callbackNode!==r)return null;var n=db(e,e===di?Ai:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nb(e,n);else{t=n;var i=Dr;Dr|=2;var o=PB();(di!==e||Ai!==t)&&(bl=null,Oh=Hn()+500,gf(e,t));do try{xX();break}catch(a){OB(e,a)}while(!0);cN(),Ab.current=o,Dr=i,Qn!==null?t=0:(di=null,Ai=0,t=oi)}if(t!==0){if(t===2&&(i=z$(e),i!==0&&(n=i,t=gT(e,i))),t===1)throw r=Km,gf(e,0),Cu(e,n),Oo(e,Hn()),r;if(t===6)Cu(e,n);else{if(i=e.current.alternate,!(n&30)&&!$X(i)&&(t=Nb(e,n),t===2&&(o=z$(e),o!==0&&(n=o,t=gT(e,o))),t===1))throw r=Km,gf(e,0),Cu(e,n),Oo(e,Hn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(St(345));case 2:Gc(e,So,bl);break;case 3:if(Cu(e,n),(n&130023424)===n&&(t=TN+500-Hn(),10<t)){if(db(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){io(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Y$(Gc.bind(null,e,So,bl),t);break}Gc(e,So,bl);break;case 4:if(Cu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ha(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SX(n/1960))-n,10<n){e.timeoutHandle=Y$(Gc.bind(null,e,So,bl),n);break}Gc(e,So,bl);break;case 5:Gc(e,So,bl);break;default:throw Error(St(329))}}}return Oo(e,Hn()),e.callbackNode===r?AB.bind(null,e):null}function gT(e,t){var r=dm;return e.current.memoizedState.isDehydrated&&(gf(e,t).flags|=256),e=Nb(e,t),e!==2&&(t=So,So=r,t!==null&&vT(t)),e}function vT(e){So===null?So=e:So.push.apply(So,e)}function $X(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!ma(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cu(e,t){for(t&=~$N,t&=~U_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ha(t),n=1<<r;e[r]=-1,t&=~n}}function Ck(e){if(Dr&6)throw Error(St(327));lh();var t=db(e,0);if(!(t&1))return Oo(e,Hn()),null;var r=Nb(e,t);if(e.tag!==0&&r===2){var n=z$(e);n!==0&&(t=n,r=gT(e,n))}if(r===1)throw r=Km,gf(e,0),Cu(e,t),Oo(e,Hn()),r;if(r===6)throw Error(St(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gc(e,So,bl),Oo(e,Hn()),null}function xN(e,t){var r=Dr;Dr|=1;try{return e(t)}finally{Dr=r,Dr===0&&(Oh=Hn()+500,M_&&uc())}}function If(e){Fu!==null&&Fu.tag===0&&!(Dr&6)&&lh();var t=Dr;Dr|=1;var r=Cs.transition,n=Zr;try{if(Cs.transition=null,Zr=1,e)return e()}finally{Zr=n,Cs.transition=r,Dr=t,!(Dr&6)&&uc()}}function AN(){Ho=Yd.current,_n(Yd)}function gf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eX(r)),Qn!==null)for(r=Qn.return;r!==null;){var n=r;switch(aN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vb();break;case 3:xh(),_n(xo),_n(qi),gN();break;case 5:mN(n);break;case 4:xh();break;case 13:_n(In);break;case 19:_n(In);break;case 10:fN(n.type._context);break;case 22:case 23:AN()}r=r.return}if(di=e,Qn=e=Qu(e.current,null),Ai=Ho=t,oi=0,Km=null,$N=U_=Rf=0,So=dm=null,lf!==null){for(t=0;t<lf.length;t++)if(r=lf[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}lf=null}return e}function OB(e,t){do{var r=Qn;try{if(cN(),Ry.current=xb,Tb){for(var n=kn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tb=!1}if(Nf=0,ci=ri=kn=null,cm=!1,Hm=0,SN.current=null,r===null||r.return===null){oi=1,Km=t,Qn=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=Ai,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Ek(s);if(g!==null){g.flags&=-257,Sk(g,s,a,o,t),g.mode&1&&_k(o,u,t),t=g,l=u;var m=t.updateQueue;if(m===null){var _=new Set;_.add(l),t.updateQueue=_}else m.add(l);break e}else{if(!(t&1)){_k(o,u,t),ON();break e}l=Error(St(426))}}else if(On&&a.mode&1){var v=Ek(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Sk(v,s,a,o,t),lN(Ah(l,a));break e}}o=l=Ah(l,a),oi!==4&&(oi=2),dm===null?dm=[o]:dm.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=fB(o,l,t);mk(o,p);break e;case 1:a=l;var E=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yu===null||!Yu.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=dB(o,a,t);mk(o,S);break e}}o=o.return}while(o!==null)}RB(r)}catch($){t=$,Qn===r&&r!==null&&(Qn=r=r.return);continue}break}while(!0)}function PB(){var e=Ab.current;return Ab.current=xb,e===null?xb:e}function ON(){(oi===0||oi===3||oi===2)&&(oi=4),di===null||!(Rf&268435455)&&!(U_&268435455)||Cu(di,Ai)}function Nb(e,t){var r=Dr;Dr|=2;var n=PB();(di!==e||Ai!==t)&&(bl=null,gf(e,t));do try{TX();break}catch(i){OB(e,i)}while(!0);if(cN(),Dr=r,Ab.current=n,Qn!==null)throw Error(St(261));return di=null,Ai=0,oi}function TX(){for(;Qn!==null;)NB(Qn)}function xX(){for(;Qn!==null&&!XJ();)NB(Qn)}function NB(e){var t=jB(e.alternate,e,Ho);e.memoizedProps=e.pendingProps,t===null?RB(e):Qn=t,SN.current=null}function RB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wX(r,t),r!==null){r.flags&=32767,Qn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oi=6,Qn=null;return}}else if(r=yX(r,t,Ho),r!==null){Qn=r;return}if(t=t.sibling,t!==null){Qn=t;return}Qn=t=e}while(t!==null);oi===0&&(oi=5)}function Gc(e,t,r){var n=Zr,i=Cs.transition;try{Cs.transition=null,Zr=1,AX(e,t,r,n)}finally{Cs.transition=i,Zr=n}return null}function AX(e,t,r,n){do lh();while(Fu!==null);if(Dr&6)throw Error(St(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(St(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(aY(e,o),e===di&&(Qn=di=null,Ai=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nv||(Nv=!0,kB(fb,function(){return lh(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Cs.transition,Cs.transition=null;var s=Zr;Zr=1;var a=Dr;Dr|=4,SN.current=null,_X(e,r),TB(r,e),GY(K$),hb=!!G$,K$=G$=null,e.current=r,EX(r),QJ(),Dr=a,Zr=s,Cs.transition=o}else e.current=r;if(Nv&&(Nv=!1,Fu=e,Pb=i),o=e.pendingLanes,o===0&&(Yu=null),tY(r.stateNode),Oo(e,Hn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ob)throw Ob=!1,e=pT,pT=null,e;return Pb&1&&e.tag!==0&&lh(),o=e.pendingLanes,o&1?e===mT?hm++:(hm=0,mT=e):hm=0,uc(),null}function lh(){if(Fu!==null){var e=f4(Pb),t=Cs.transition,r=Zr;try{if(Cs.transition=null,Zr=16>e?16:e,Fu===null)var n=!1;else{if(e=Fu,Fu=null,Pb=0,Dr&6)throw Error(St(331));var i=Dr;for(Dr|=4,Mt=e.current;Mt!==null;){var o=Mt,s=o.child;if(Mt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Mt=u;Mt!==null;){var f=Mt;switch(f.tag){case 0:case 11:case 15:fm(8,f,o)}var c=f.child;if(c!==null)c.return=f,Mt=c;else for(;Mt!==null;){f=Mt;var h=f.sibling,g=f.return;if(EB(f),f===u){Mt=null;break}if(h!==null){h.return=g,Mt=h;break}Mt=g}}}var m=o.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}Mt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Mt=s;else e:for(;Mt!==null;){if(o=Mt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fm(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,Mt=p;break e}Mt=o.return}}var E=e.current;for(Mt=E;Mt!==null;){s=Mt;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Mt=y;else e:for(s=E;Mt!==null;){if(a=Mt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:B_(9,a)}}catch($){Fn(a,a.return,$)}if(a===s){Mt=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Mt=S;break e}Mt=a.return}}if(Dr=i,uc(),tl&&typeof tl.onPostCommitFiberRoot=="function")try{tl.onPostCommitFiberRoot(I_,e)}catch{}n=!0}return n}finally{Zr=r,Cs.transition=t}}return!1}function Dk(e,t,r){t=Ah(r,t),t=fB(e,t,1),e=Ju(e,t,1),t=io(),e!==null&&(wg(e,1,t),Oo(e,t))}function Fn(e,t,r){if(e.tag===3)Dk(e,e,r);else for(;t!==null;){if(t.tag===3){Dk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yu===null||!Yu.has(n))){e=Ah(r,e),e=dB(t,e,1),t=Ju(t,e,1),e=io(),t!==null&&(wg(t,1,e),Oo(t,e));break}}t=t.return}}function OX(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=io(),e.pingedLanes|=e.suspendedLanes&r,di===e&&(Ai&r)===r&&(oi===4||oi===3&&(Ai&130023424)===Ai&&500>Hn()-TN?gf(e,0):$N|=r),Oo(e,t)}function IB(e,t){t===0&&(e.mode&1?(t=bv,bv<<=1,!(bv&130023424)&&(bv=4194304)):t=1);var r=io();e=Bl(e,t),e!==null&&(wg(e,t,r),Oo(e,r))}function PX(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),IB(e,r)}function NX(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(St(314))}n!==null&&n.delete(t),IB(e,r)}var jB;jB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xo.current)To=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return To=!1,vX(e,t,r);To=!!(e.flags&131072)}else To=!1,On&&t.flags&1048576&&M4(t,bb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jy(e,t),e=t.pendingProps;var i=Sh(t,qi.current);ah(t,r),i=yN(null,t,n,e,i,r);var o=wN();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ao(n)?(o=!0,yb(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hN(t),i.updater=F_,t.stateNode=i,i._reactInternals=t,nT(t,n,e,r),t=sT(null,t,n,!0,o,r)):(t.tag=0,On&&o&&sN(t),Yi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jy(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=IX(n),e=oa(n,e),i){case 0:t=oT(null,t,n,e,r);break e;case 1:t=xk(null,t,n,e,r);break e;case 11:t=$k(null,t,n,e,r);break e;case 14:t=Tk(null,t,n,oa(n.type,e),r);break e}throw Error(St(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oa(n,i),oT(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oa(n,i),xk(e,t,n,i,r);case 3:e:{if(gB(t),e===null)throw Error(St(387));n=t.pendingProps,o=t.memoizedState,i=o.element,q4(e,t),Sb(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ah(Error(St(423)),t),t=Ak(e,t,n,r,i);break e}else if(n!==i){i=Ah(Error(St(424)),t),t=Ak(e,t,n,r,i);break e}else for(Jo=Ku(t.stateNode.containerInfo.firstChild),Xo=t,On=!0,la=null,r=U4(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($h(),n===i){t=Ul(e,t,r);break e}Yi(e,t,n,r)}t=t.child}return t;case 5:return V4(t),e===null&&eT(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,J$(n,i)?s=null:o!==null&&J$(n,o)&&(t.flags|=32),mB(e,t),Yi(e,t,s,r),t.child;case 6:return e===null&&eT(t),null;case 13:return vB(e,t,r);case 4:return pN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Th(t,null,n,r):Yi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oa(n,i),$k(e,t,n,i,r);case 7:return Yi(e,t,t.pendingProps,r),t.child;case 8:return Yi(e,t,t.pendingProps.children,r),t.child;case 12:return Yi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,pn(_b,n._currentValue),n._currentValue=s,o!==null)if(ma(o.value,s)){if(o.children===i.children&&!xo.current){t=Ul(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Cl(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),tT(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(St(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),tT(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Yi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ah(t,r),i=Ls(i),n=n(i),t.flags|=1,Yi(e,t,n,r),t.child;case 14:return n=t.type,i=oa(n,t.pendingProps),i=oa(n.type,i),Tk(e,t,n,i,r);case 15:return hB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oa(n,i),jy(e,t),t.tag=1,Ao(n)?(e=!0,yb(t)):e=!1,ah(t,r),cB(t,n,i),nT(t,n,i,r),sT(null,t,n,!0,e,r);case 19:return yB(e,t,r);case 22:return pB(e,t,r)}throw Error(St(156,t.tag))};function kB(e,t){return a4(e,t)}function RX(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(e,t,r,n){return new RX(e,t,r,n)}function PN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IX(e){if(typeof e=="function")return PN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===KP)return 11;if(e===JP)return 14}return 2}function Qu(e,t){var r=e.alternate;return r===null?(r=ks(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dy(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")PN(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Bd:return vf(r.children,i,o,t);case GP:s=8,i|=8;break;case A$:return e=ks(12,r,t,i|2),e.elementType=A$,e.lanes=o,e;case O$:return e=ks(13,r,t,i),e.elementType=O$,e.lanes=o,e;case P$:return e=ks(19,r,t,i),e.elementType=P$,e.lanes=o,e;case V3:return z_(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z3:s=10;break e;case q3:s=9;break e;case KP:s=11;break e;case JP:s=14;break e;case Ru:s=16,n=null;break e}throw Error(St(130,e==null?e:typeof e,""))}return t=ks(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function vf(e,t,r,n){return e=ks(7,e,n,t),e.lanes=r,e}function z_(e,t,r,n){return e=ks(22,e,n,t),e.elementType=V3,e.lanes=r,e.stateNode={isHidden:!1},e}function BS(e,t,r){return e=ks(6,e,null,t),e.lanes=r,e}function US(e,t,r){return t=ks(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jX(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_S(0),this.expirationTimes=_S(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_S(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NN(e,t,r,n,i,o,s,a,l){return e=new jX(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ks(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hN(o),e}function kX(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function CB(e){if(!e)return ic;e=e._reactInternals;e:{if(zf(e)!==e||e.tag!==1)throw Error(St(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ao(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(St(171))}if(e.tag===1){var r=e.type;if(Ao(r))return C4(e,r,t)}return t}function DB(e,t,r,n,i,o,s,a,l){return e=NN(r,n,!0,e,i,o,s,a,l),e.context=CB(null),r=e.current,n=io(),i=Xu(r),o=Cl(n,i),o.callback=t??null,Ju(r,o,i),e.current.lanes=i,wg(e,i,n),Oo(e,n),e}function q_(e,t,r,n){var i=t.current,o=io(),s=Xu(i);return r=CB(r),t.context===null?t.context=r:t.pendingContext=r,t=Cl(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ju(i,t,s),e!==null&&(pa(e,i,s,o),Ny(e,i,s)),s}function Rb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function RN(e,t){Mk(e,t),(e=e.alternate)&&Mk(e,t)}function CX(){return null}var MB=typeof reportError=="function"?reportError:function(e){console.error(e)};function IN(e){this._internalRoot=e}V_.prototype.render=IN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(St(409));q_(e,t,null,null)};V_.prototype.unmount=IN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;If(function(){q_(null,e,null,null)}),t[Fl]=null}};function V_(e){this._internalRoot=e}V_.prototype.unstable_scheduleHydration=function(e){if(e){var t=p4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ku.length&&t!==0&&t<ku[r].priority;r++);ku.splice(r,0,e),r===0&&g4(e)}};function jN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function H_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lk(){}function DX(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Rb(s);o.call(u)}}var s=DB(t,n,e,0,null,!1,!1,"",Lk);return e._reactRootContainer=s,e[Fl]=s.current,Bm(e.nodeType===8?e.parentNode:e),If(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Rb(l);a.call(u)}}var l=NN(e,0,!1,null,null,!1,!1,"",Lk);return e._reactRootContainer=l,e[Fl]=l.current,Bm(e.nodeType===8?e.parentNode:e),If(function(){q_(t,l,r,n)}),l}function W_(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Rb(s);a.call(l)}}q_(t,s,e,i)}else s=DX(r,t,e,i,n);return Rb(s)}d4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dp(t.pendingLanes);r!==0&&(QP(t,r|1),Oo(t,Hn()),!(Dr&6)&&(Oh=Hn()+500,uc()))}break;case 13:If(function(){var n=Bl(e,1);if(n!==null){var i=io();pa(n,e,1,i)}}),RN(e,1)}};ZP=function(e){if(e.tag===13){var t=Bl(e,134217728);if(t!==null){var r=io();pa(t,e,134217728,r)}RN(e,134217728)}};h4=function(e){if(e.tag===13){var t=Xu(e),r=Bl(e,t);if(r!==null){var n=io();pa(r,e,t,n)}RN(e,t)}};p4=function(){return Zr};m4=function(e,t){var r=Zr;try{return Zr=e,t()}finally{Zr=r}};F$=function(e,t,r){switch(t){case"input":if(I$(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=D_(n);if(!i)throw Error(St(90));W3(n),I$(n,i)}}}break;case"textarea":K3(e,r);break;case"select":t=r.value,t!=null&&nh(e,!!r.multiple,t,!1)}};t4=xN;r4=If;var MX={usingClientEntryPoint:!1,Events:[_g,Vd,D_,Z3,e4,xN]},yp={findFiberByHostInstance:af,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LX={bundleType:yp.bundleType,version:yp.version,rendererPackageName:yp.rendererPackageName,rendererConfig:yp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o4(e),e===null?null:e.stateNode},findFiberByHostInstance:yp.findFiberByHostInstance||CX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rv.isDisabled&&Rv.supportsFiber)try{I_=Rv.inject(LX),tl=Rv}catch{}}ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MX;ts.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jN(t))throw Error(St(200));return kX(e,t,null,r)};ts.createRoot=function(e,t){if(!jN(e))throw Error(St(299));var r=!1,n="",i=MB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=NN(e,1,!1,null,null,r,!1,n,i),e[Fl]=t.current,Bm(e.nodeType===8?e.parentNode:e),new IN(t)};ts.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(St(188)):(e=Object.keys(e).join(","),Error(St(268,e)));return e=o4(t),e=e===null?null:e.stateNode,e};ts.flushSync=function(e){return If(e)};ts.hydrate=function(e,t,r){if(!H_(t))throw Error(St(200));return W_(null,e,t,!0,r)};ts.hydrateRoot=function(e,t,r){if(!jN(e))throw Error(St(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=MB;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=DB(t,null,e,1,r??null,i,!1,o,s),e[Fl]=t.current,Bm(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new V_(t)};ts.render=function(e,t,r){if(!H_(t))throw Error(St(200));return W_(null,e,t,!1,r)};ts.unmountComponentAtNode=function(e){if(!H_(e))throw Error(St(40));return e._reactRootContainer?(If(function(){W_(null,null,e,!1,function(){e._reactRootContainer=null,e[Fl]=null})}),!0):!1};ts.unstable_batchedUpdates=xN;ts.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!H_(r))throw Error(St(200));if(e==null||e._reactInternals===void 0)throw Error(St(38));return W_(e,t,r,!1,n)};ts.version="18.3.1-next-f1338f8080-20240426";function LB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LB)}catch(e){console.error(e)}}LB(),L3.exports=ts;var FB=L3.exports;const ns=Gl(FB);var Fk=FB;T$.createRoot=Fk.createRoot,T$.hydrateRoot=Fk.hydrateRoot;const FX={offlineTD:"",isValidJSON:!0,parsedTD:{},isModified:!1,name:"",fileHandle:null,linkedTd:void 0,validationMessage:void 0,northboundConnection:{message:"",northboundTd:{}},updateOfflineTD:()=>{},updateIsModified:()=>{},setFileHandle:()=>{},removeForm:()=>{},addForm:()=>{},removeLink:()=>{},removeOneOfAKindReducer:()=>{},addLinkedTd:()=>{},updateLinkedTd:()=>{},updateValidationMessage:()=>{},updateNorthboundConnection:()=>{}},nn=Ye.createContext(FX),BX=(e,t)=>{switch(t.type){case BB:return UX(t.offlineTD,e);case UB:return KX(t.isModified,e);case zB:return JX(t.fileHandle,e);case qB:return zX(t.level,t.interactionName,t.toBeDeletedForm,t.index,e);case VB:return qX(t.link,e);case WB:return VX(t.kind,t.oneOfAKindName,e);case HB:return HX(t.level,t.interactionName,t.form,e);case GB:return WX(t.linkedTd,e);case KB:return GX(t.linkedTd,e);case JB:return YX(t.validationMessage,e);case YB:return XX(t.northboundConnection,e);default:return e}},UX=(e,t)=>{if(e==t.offlineTD)return t;if(e==="")return{...t,offlineTD:"",isModified:!0,isValidJSON:!0,parsedTD:{}};let r;try{r=JSON.parse(e)}catch(i){return console.error(i.message),{...t,offlineTD:e,isModified:!0,isValidJSON:!1,parsedTD:t.parsedTD}}let n=t.linkedTd;if(!n)n={[r.title||"ediTDor Thing"]:r};else if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const i=document.getElementById("linkedTd"),o=(i==null?void 0:i.value)||"";o===""?n[r.title||"ediTDor Thing"]=r:n[o]=r}return{...t,offlineTD:e,isModified:!0,isValidJSON:!0,linkedTd:n,parsedTD:r}},zX=(e,t,r,n,i)=>{var a,l;if(!i.isValidJSON)return i;let o=structuredClone(i.parsedTD),s;if(e==="thing"){if(!o.forms||!Array.isArray(o.forms))return i;s=o.forms}else{if(!o[e]||!o[e][t]||!o[e][t].forms||!Array.isArray(o[e][t].forms))return i;s=o[e][t].forms}if(!s||n>s.length-1)return i;if((a=s[n])!=null&&a.op&&Array.isArray(s[n].op)){const u=s[n].op.indexOf(r.op);if(u===-1)return i;s[n].op.splice(u,1),s[n].op.length==0&&s.splice(n,1)}else((l=s[n])==null?void 0:l.op)===r.op&&s.splice(n,1);return{...i,offlineTD:JSON.stringify(o,null,2),parsedTD:o}},qX=(e,t)=>{var i;if(!t.isValidJSON)return t;let r=structuredClone(t.parsedTD);try{(i=r.links)==null||i.splice(e,1)}catch{alert("Sorry we were unable to delete the Link.")}let n=t.linkedTd;if(n&&typeof t.fileHandle!="object"&&document.getElementById("linkedTd")){const o=document.getElementById("linkedTd");let s=o?o.value:"";s===""?n[r.title||"ediTDor Thing"]=r:n[s]=r}return{...t,offlineTD:JSON.stringify(r,null,2),linkedTd:n,parsedTD:r}},VX=(e,t,r)=>{if(!r.isValidJSON)return r;let n=structuredClone(r.parsedTD);try{delete n[e][t]}catch{alert("Sorry we were unable to delete the Form.")}return{...r,offlineTD:JSON.stringify(n,null,2),parsedTD:n}},HX=(e,t,r,n)=>{var s;if(!n.isValidJSON)return n;let i=structuredClone(n.parsedTD);if(e=="thing")return i.forms&&!Array.isArray(i.forms)?n:(i.forms||(i.forms=void 0),(s=i.forms)==null||s.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i});if(!i[e]||!i[e][t])return n;const o=i[e][t];return o.forms||(o.forms=[]),o.forms.push(r),{...n,offlineTD:JSON.stringify(i,null,2),parsedTD:i}},WX=(e,t)=>{let r=structuredClone(t.linkedTd),n={};return r===void 0?n=e:n=Object.assign(r,e),{...t,linkedTd:n}},GX=(e,t)=>({...t,linkedTd:e}),KX=(e,t)=>({...t,isModified:e}),JX=(e,t)=>({...t,fileHandle:e}),YX=(e,t)=>({...t,validationMessage:e}),XX=(e,t)=>({...t,northboundConnection:e}),BB="UPDATE_OFFLINE_TD",UB="UPDATE_IS_MODIFIED",zB="SET_FILE_HANDLE",qB="REMOVE_FORM_FROM_TD",VB="REMOVE_LINK_FROM_TD",HB="ADD_FORM_TO_TD",WB="REMOVE_ONE_OF_A_KIND_FROM_TD",GB="ADD_LINKED_TD",KB="UPDATE_LINKED_TD",JB="UPDATE_VALIDATION_MESSAGE",YB="UPDATE_NORTHBOUND_CONNECTION",QX=({children:e})=>{const[t,r]=Oe.useReducer(BX,{offlineTD:"",isModified:!1,isValidJSON:!1,parsedTD:{},name:"",validationMessage:"",fileHandle:null,linkedTd:void 0,northboundConnection:{message:"",northboundTd:{}}}),n=m=>{r({type:BB,offlineTD:m})},i=m=>{r({type:UB,isModified:m})},o=m=>{r({type:zB,fileHandle:m})},s=m=>{r({type:VB,link:m})},a=(m,_,v)=>{r({type:HB,level:m,interactionName:_,form:v})},l=(m,_,v,p)=>{r({type:qB,level:m,interactionName:_,toBeDeletedForm:v,index:p})},u=(m,_)=>{r({type:WB,kind:m,oneOfAKindName:_})},f=m=>{r({type:GB,linkedTd:m})},c=m=>{r({type:KB,linkedTd:m})},h=m=>{r({type:JB,validationMessage:m})},g=m=>{r({type:YB,northboundConnection:m})};return Q.jsx(nn.Provider,{value:{offlineTD:t.offlineTD,isModified:t.isModified,isValidJSON:t.isValidJSON,parsedTD:t.parsedTD,name:t.name,fileHandle:t.fileHandle,linkedTd:t.linkedTd,validationMessage:t.validationMessage,northboundConnection:t.northboundConnection,updateOfflineTD:n,updateIsModified:i,setFileHandle:o,removeLink:s,addForm:a,removeForm:l,removeOneOfAKindReducer:u,addLinkedTd:f,updateLinkedTd:c,updateValidationMessage:h,updateNorthboundConnection:g},children:e})};function ZX(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function t5(e,t){if(e==null)return{};var r=e5(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r5(e,t){return n5(e)||i5(e,t)||o5(e,t)||s5()}function n5(e){if(Array.isArray(e))return e}function i5(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=e[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function o5(e,t){if(e){if(typeof e=="string")return zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(e,t)}}function zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){a5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function Lp(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function Ib(e){return{}.toString.call(e).includes("Object")}function u5(e){return!Object.keys(e).length}function Jm(e){return typeof e=="function"}function c5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f5(e,t){return Ib(t)||Zu("changeType"),Object.keys(t).some(function(r){return!c5(e,r)})&&Zu("changeField"),t}function d5(e){Jm(e)||Zu("selectorType")}function h5(e){Jm(e)||Ib(e)||Zu("handlerType"),Ib(e)&&Object.values(e).some(function(t){return!Jm(t)})&&Zu("handlersType")}function p5(e){e||Zu("initialIsRequired"),Ib(e)||Zu("initialType"),u5(e)&&Zu("initialContent")}function m5(e,t){throw new Error(e[t]||e.default)}var g5={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Zu=Lp(m5)(g5),Iv={changes:f5,selector:d5,handler:h5,initial:p5};function v5(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Iv.initial(e),Iv.handler(t);var r={current:e},n=Lp(b5)(r,t),i=Lp(w5)(r),o=Lp(Iv.changes)(e),s=Lp(y5)(r);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Iv.selector(u),u(r.current)}function l(u){l5(n,i,o,s)(u)}return[a,l]}function y5(e,t){return Jm(t)?t(e.current):t}function w5(e,t){return e.current=Vk(Vk({},e.current),t),t}function b5(e,t,r){return Jm(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var _5={create:v5},E5={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function S5(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return t.apply(r,[].concat(i,a))}}}function $5(e){return{}.toString.call(e).includes("Object")}function T5(e){return e||Hk("configIsRequired"),$5(e)||Hk("configType"),e.urls?(x5(),{paths:{vs:e.urls.monacoBase}}):e}function x5(){console.warn(XB.deprecation)}function A5(e,t){throw new Error(e[t]||e.default)}var XB={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Hk=S5(A5)(XB),O5={config:T5},P5=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,s){return s(o)},i)}};function QB(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],QB(e[r],t[r]))}),Uk(Uk({},e),t)}var N5={type:"cancelation",msg:"operation is manually canceled"};function zS(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(N5):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var R5=_5.create({config:E5,isInitialized:!1,resolve:null,reject:null,monaco:null}),ZB=r5(R5,2),Sg=ZB[0],G_=ZB[1];function I5(e){var t=O5.config(e),r=t.monaco,n=t5(t,["monaco"]);G_(function(i){return{config:QB(i.config,n),monaco:r}})}function j5(){var e=Sg(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(G_({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),zS(qS);if(window.monaco&&window.monaco.editor)return eU(window.monaco),e.resolve(window.monaco),zS(qS);P5(k5,D5)(M5)}return zS(qS)}function k5(e){return document.body.appendChild(e)}function C5(e){var t=document.createElement("script");return e&&(t.src=e),t}function D5(e){var t=Sg(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=C5("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function M5(){var e=Sg(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){eU(r),e.resolve(r)},function(r){e.reject(r)})}function eU(e){Sg().monaco||G_({monaco:e})}function L5(){return Sg(function(e){var t=e.monaco;return t})}var qS=new Promise(function(e,t){return G_({resolve:e,reject:t})}),tU={config:I5,init:j5,__getMonacoInstance:L5},F5={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},VS=F5,B5={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},U5=B5;function z5({children:e}){return Ye.createElement("div",{style:U5.container},e)}var q5=z5,V5=q5;function H5({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:s}){return Ye.createElement("section",{style:{...VS.wrapper,width:e,height:t},...s},!r&&Ye.createElement(V5,null,n),Ye.createElement("div",{ref:i,style:{...VS.fullWidth,...!r&&VS.hide},className:o}))}var W5=H5,rU=Oe.memo(W5);function G5(e){Oe.useEffect(e,[])}var nU=G5;function K5(e,t,r=!0){let n=Oe.useRef(!0);Oe.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var Wo=K5;function pm(){}function Xd(e,t,r,n){return J5(e,n)||Y5(e,t,r,n)}function J5(e,t){return e.editor.getModel(iU(e,t))}function Y5(e,t,r,n){return e.editor.createModel(t,r,n?iU(e,n):void 0)}function iU(e,t){return e.Uri.parse(t)}function X5({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:f="Loading...",options:c={},height:h="100%",width:g="100%",className:m,wrapperProps:_={},beforeMount:v=pm,onMount:p=pm}){let[E,y]=Oe.useState(!1),[S,$]=Oe.useState(!0),T=Oe.useRef(null),d=Oe.useRef(null),x=Oe.useRef(null),A=Oe.useRef(p),O=Oe.useRef(v),C=Oe.useRef(!1);nU(()=>{let H=tU.init();return H.then(Z=>(d.current=Z)&&$(!1)).catch(Z=>(Z==null?void 0:Z.type)!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>T.current?X():H.cancel()}),Wo(()=>{if(T.current&&d.current){let H=T.current.getOriginalEditor(),Z=Xd(d.current,e||"",n||r||"text",o||"");Z!==H.getModel()&&H.setModel(Z)}},[o],E),Wo(()=>{if(T.current&&d.current){let H=T.current.getModifiedEditor(),Z=Xd(d.current,t||"",i||r||"text",s||"");Z!==H.getModel()&&H.setModel(Z)}},[s],E),Wo(()=>{let H=T.current.getModifiedEditor();H.getOption(d.current.editor.EditorOption.readOnly)?H.setValue(t||""):t!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),H.pushUndoStop())},[t],E),Wo(()=>{var H,Z;(Z=(H=T.current)==null?void 0:H.getModel())==null||Z.original.setValue(e||"")},[e],E),Wo(()=>{let{original:H,modified:Z}=T.current.getModel();d.current.editor.setModelLanguage(H,n||r||"text"),d.current.editor.setModelLanguage(Z,i||r||"text")},[r,n,i],E),Wo(()=>{var H;(H=d.current)==null||H.editor.setTheme(u)},[u],E),Wo(()=>{var H;(H=T.current)==null||H.updateOptions(c)},[c],E);let F=Oe.useCallback(()=>{var fe;if(!d.current)return;O.current(d.current);let H=Xd(d.current,e||"",n||r||"text",o||""),Z=Xd(d.current,t||"",i||r||"text",s||"");(fe=T.current)==null||fe.setModel({original:H,modified:Z})},[r,t,i,e,n,o,s]),V=Oe.useCallback(()=>{var H;!C.current&&x.current&&(T.current=d.current.editor.createDiffEditor(x.current,{automaticLayout:!0,...c}),F(),(H=d.current)==null||H.editor.setTheme(u),y(!0),C.current=!0)},[c,u,F]);Oe.useEffect(()=>{E&&A.current(T.current,d.current)},[E]),Oe.useEffect(()=>{!S&&!E&&V()},[S,E,V]);function X(){var Z,fe,ee,ne;let H=(Z=T.current)==null?void 0:Z.getModel();a||((fe=H==null?void 0:H.original)==null||fe.dispose()),l||((ee=H==null?void 0:H.modified)==null||ee.dispose()),(ne=T.current)==null||ne.dispose()}return Ye.createElement(rU,{width:g,height:h,isEditorReady:E,loading:f,_ref:x,className:m,wrapperProps:_})}var Q5=X5;Oe.memo(Q5);function Z5(e){let t=Oe.useRef();return Oe.useEffect(()=>{t.current=e},[e]),t.current}var eQ=Z5,jv=new Map;function tQ({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:s="light",line:a,loading:l="Loading...",options:u={},overrideServices:f={},saveViewState:c=!0,keepCurrentModel:h=!1,width:g="100%",height:m="100%",className:_,wrapperProps:v={},beforeMount:p=pm,onMount:E=pm,onChange:y,onValidate:S=pm}){let[$,T]=Oe.useState(!1),[d,x]=Oe.useState(!0),A=Oe.useRef(null),O=Oe.useRef(null),C=Oe.useRef(null),F=Oe.useRef(E),V=Oe.useRef(p),X=Oe.useRef(),H=Oe.useRef(n),Z=eQ(o),fe=Oe.useRef(!1),ee=Oe.useRef(!1);nU(()=>{let B=tU.init();return B.then(W=>(A.current=W)&&x(!1)).catch(W=>(W==null?void 0:W.type)!=="cancelation"&&console.error("Monaco initialization: error:",W)),()=>O.current?k():B.cancel()}),Wo(()=>{var W,P,R,z;let B=Xd(A.current,e||n||"",t||i||"",o||r||"");B!==((W=O.current)==null?void 0:W.getModel())&&(c&&jv.set(Z,(P=O.current)==null?void 0:P.saveViewState()),(R=O.current)==null||R.setModel(B),c&&((z=O.current)==null||z.restoreViewState(jv.get(o))))},[o],$),Wo(()=>{var B;(B=O.current)==null||B.updateOptions(u)},[u],$),Wo(()=>{!O.current||n===void 0||(O.current.getOption(A.current.editor.EditorOption.readOnly)?O.current.setValue(n):n!==O.current.getValue()&&(ee.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),O.current.pushUndoStop(),ee.current=!1))},[n],$),Wo(()=>{var W,P;let B=(W=O.current)==null?void 0:W.getModel();B&&i&&((P=A.current)==null||P.editor.setModelLanguage(B,i))},[i],$),Wo(()=>{var B;a!==void 0&&((B=O.current)==null||B.revealLine(a))},[a],$),Wo(()=>{var B;(B=A.current)==null||B.editor.setTheme(s)},[s],$);let ne=Oe.useCallback(()=>{var B;if(!(!C.current||!A.current)&&!fe.current){V.current(A.current);let W=o||r,P=Xd(A.current,n||e||"",t||i||"",W||"");O.current=(B=A.current)==null?void 0:B.editor.create(C.current,{model:P,automaticLayout:!0,...u},f),c&&O.current.restoreViewState(jv.get(W)),A.current.editor.setTheme(s),a!==void 0&&O.current.revealLine(a),T(!0),fe.current=!0}},[e,t,r,n,i,o,u,f,c,s,a]);Oe.useEffect(()=>{$&&F.current(O.current,A.current)},[$]),Oe.useEffect(()=>{!d&&!$&&ne()},[d,$,ne]),H.current=n,Oe.useEffect(()=>{var B,W;$&&y&&((B=X.current)==null||B.dispose(),X.current=(W=O.current)==null?void 0:W.onDidChangeModelContent(P=>{ee.current||y(O.current.getValue(),P)}))},[$,y]),Oe.useEffect(()=>{if($){let B=A.current.editor.onDidChangeMarkers(W=>{var R;let P=(R=O.current.getModel())==null?void 0:R.uri;if(P&&W.find(z=>z.path===P.path)){let z=A.current.editor.getModelMarkers({resource:P});S==null||S(z)}});return()=>{B==null||B.dispose()}}return()=>{}},[$,S]);function k(){var B,W;(B=X.current)==null||B.dispose(),h?c&&jv.set(o,O.current.saveViewState()):(W=O.current.getModel())==null||W.dispose(),O.current.dispose()}return Ye.createElement(rU,{width:g,height:m,isEditorReady:$,loading:l,_ref:C,className:_,wrapperProps:v})}var rQ=tQ,nQ=Oe.memo(rQ),oU=nQ;const sU="֑-߿יִ-﷽ﹰ-ﻼ",aU="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",iQ=new RegExp("^[^"+aU+"]*["+sU+"]"),oQ=new RegExp("^[^"+sU+"]*["+aU+"]");function Wk(e){const t=String(e||"");return iQ.test(t)?"rtl":oQ.test(t)?"ltr":"neutral"}const lU=e=>!(typeof e=="object"&&!Array.isArray(e)&&e!==null)||!Object.prototype.hasOwnProperty.call(e,"@type")?!1:e["@type"].indexOf("tm:ThingModel")>-1,K_=(e,t,r)=>{let n={...e};for(const[i,o]of Object.entries(t))r.includes(i)||(n[i]=o);return n},J_=e=>{if(e===void 0&&!e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!Array.isArray(n.op)){n.actualIndex=r,t.push(n);continue}for(let i=0;i<n.op.length;i++){const o={...n};o.op=n.op[i],o.actualIndex=r,t.push(o)}}return t},sQ=(e,t)=>{for(const r of t.links)if(r.href===e.href)return!0;return!1},aQ=(e,t)=>{for(const r of t.forms){if(typeof e.op=="string")return lQ(e,r);for(const n of e.op)if(typeof r.op=="string"){if(r.op===n)return!0}else if(r.op.includes(n)){let i=!0;for(const o in e)o!=="op"&&r[o]!==e[o]&&(i=!1);if(i)return!0}}return!1},lQ=(e,t)=>{if(typeof t.op=="string"){if(t.op===e.op)return!0}else if(t.op.includes(e.op)){let r=!0;for(const n in e)n!=="op"&&t[n]!==e[n]&&(r=!1);if(r)return!0}},kN=async(e,t)=>{var r;if(e.linkedTd[t].kind==="file"){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(a){console.error(a.message)}let n=e.linkedTd[t];const i=await n.getFile(),o=JSON.parse(await i.text());let s=JSON.stringify(o,null,2);e.setFileHandle(n),e.updateOfflineTD(s),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}else if(Object.keys(e.linkedTd[t]).length){try{e.isModified&&e.fileHandle&&(r=await e.fileHandle.createWritable(),await r.write(e.offlineTD),await r.close())}catch(o){console.error(o.message)}e.setFileHandle(void 0);const n=e.linkedTd[t];let i=JSON.stringify(n,null,2);e.updateOfflineTD(i),e.updateIsModified(!1),document.getElementById("linkedTd").value=t}},yT=(e,t,r)=>{if(!e[t])return"";const n="⁦",i="⁧",o={ar:"rtl",fa:"rtl",ps:"rtl",ur:"rtl",hy:"ltr",as:"ltr",bn:"ltr",zb:"ltr",ab:"ltr",be:"ltr",bg:"ltr",kk:"ltr",mk:"ltr",ru:"ltr",uk:"ltr",hi:"ltr",mr:"ltr",ne:"ltr",ko:"ltr",ma:"ltr",am:"ltr",ti:"ltr",ka:"ltr",el:"ltr",gu:"ltr",pa:"ltr",he:"rtl",iw:"rtl",yi:"rtl",ja:"ltr",km:"ltr",kn:"ltr",lo:"ltr",af:"ltr",ay:"ltr",bs:"ltr",ca:"ltr",ch:"ltr",cs:"ltr",cy:"ltr",da:"ltr",de:"ltr",en:"ltr",eo:"ltr",es:"ltr",et:"ltr",eu:"ltr",fi:"ltr",fj:"ltr",fo:"ltr",fr:"ltr",fy:"ltr",ga:"ltr",gl:"ltr",gn:"ltr",gv:"ltr",hr:"ltr",ht:"ltr",hu:"ltr",id:"ltr",in:"ltr",is:"ltr",it:"ltr",kl:"ltr",la:"ltr",lb:"ltr",ln:"ltr",lt:"ltr",lv:"ltr",mg:"ltr",mh:"ltr",mo:"ltr",ms:"ltr",mt:"ltr",na:"ltr",nb:"ltr",nd:"ltr",nl:"ltr",nn:"ltr",no:"ltr",nr:"ltr",ny:"ltr",om:"ltr",pl:"ltr",pt:"ltr",qu:"ltr",rm:"ltr",rn:"ltr",ro:"ltr",rw:"ltr",sg:"ltr",sk:"ltr",sl:"ltr",sm:"ltr",so:"ltr",sq:"ltr",ss:"ltr",st:"ltr",sv:"ltr",sw:"ltr",tl:"ltr",tn:"ltr",to:"ltr",tr:"ltr",ts:"ltr",ve:"ltr",vi:"ltr",xh:"ltr",zu:"ltr",ds:"ltr",gs:"ltr",hs:"ltr",me:"ltr",ni:"ltr",ns:"ltr",te:"ltr",tk:"ltr",tm:"ltr",tp:"ltr",tv:"ltr",ml:"ltr",my:"ltr",nq:"ltr",or:"ltr",si:"ltr",ta:"ltr",dv:"rtl",th:"ltr",dz:"ltr"},s=u=>u==="ltr"?n:i;if(!["title","description"].includes(t)&&!/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t))return s(Wk(e[t].toString()))+e[t];if(/^[A-Za-z]{2}(-[A-Za-z]{2})?$/.test(t)){const u=t.includes("-")?t.split("-")[0]:t.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}let a,l;if(Array.isArray(r)||(r=[r]),r.forEach(u=>{typeof u=="object"&&(u["@direction"]&&(a=u["@direction"]),u["@language"]&&(l=u["@language"]))}),t==="title"||t==="description"){if(a)return s(a)+e[t];if(l){const u=l.includes("-")?l.split("-")[0]:l.toLowerCase(),f=o[u];return f?s(f)+e[t]:s("ltr")+e[t]}}return s(Wk(e[t].toString()))+e[t]},uQ={selectOnLineNumbers:!0,automaticLayout:!0,lineDecorationsWidth:20};let Gk;const cQ=(e,t,r)=>{clearTimeout(Gk),Gk=setTimeout(()=>e(t),r)},fQ=({editorRef:e})=>{const t=Oe.useContext(nn),[r]=Oe.useState([]),[n,i]=Oe.useState(void 0),o=Oe.useRef(null),[s,a]=Oe.useState([]),[l,u]=Oe.useState(""),[f,c]=Oe.useState(""),h=Ye.useMemo(()=>new Worker(new URL(""+new URL("validationWorker-B1K2naAg.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),g=Ye.useMemo(()=>new Worker(new URL(""+new URL("schemaWorker-6hsQhLES.js",import.meta.url).href,import.meta.url),{type:"module"}),[]),m=Oe.useCallback(y=>{g.postMessage(y),h.postMessage(y)},[g,h]);Oe.useEffect(()=>{const y=S=>{n.splice(0,n.length),S.forEach(function($,T){console.debug(`using schema: ${T}`),n.push({schemaUri:T,schema:$})})};g.onmessage=S=>{console.debug("received message from schema worker"),y(S.data)},h.onmessage=S=>{console.debug("received message from validation worker");const $=S.data;t.updateValidationMessage($)}},[g,h,n,t]),Oe.useEffect(()=>{t.offlineTD!==f&&(u(t.offlineTD),m(t.offlineTD))},[t.offlineTD,m,f]);const _=y=>{},v=(y,S)=>{if(S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:[]}),!("Proxy"in window)){console.warn("dynamic fetching of schemas is disabled as your browser doesn't support proxies.");return}let $=new Proxy(r,{set:function(T,d,x,A){T[d]=x;let O=[];for(let C=0;C<T.length;C++)O.push({fileMatch:["*/*"],uri:T[C].schemaUri,schema:T[C].schema});return S.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,enableSchemaRequest:!0,schemas:O}),!0}});o.current=y,e&&(e.current=y),i($)},p=async(y,S)=>{if(y){try{JSON.parse(y),t.updateOfflineTD(y),t.updateValidationMessage(void 0)}catch($){t.updateValidationMessage({valid:!1,message:"Invalid JSON: "+($ instanceof Error?$.message:String($))})}c(y),cQ(m,y??"",500)}};Oe.useEffect(()=>{if(t.linkedTd)try{let y=[],S=0;for(let $ in t.linkedTd)(t.linkedTd[$].kind==="file"||Object.keys(t.linkedTd[$]).length)&&(y.push(Q.jsx("option",{value:$,children:$},S)),S++);a(y)}catch(y){console.debug(y)}},[t.linkedTd,t.offlineTD]);const E=async()=>{let y=document.getElementById("linkedTd").value;kN(t,y)};return Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"h-[5%] bg-[#1e1e1e]",children:t.offlineTD&&t.linkedTd&&Q.jsx("select",{name:"linkedTd",id:"linkedTd",className:"w-[50%] bg-[#1e1e1e] text-white",onChange:()=>E(),children:s})}),Q.jsx("div",{className:"h-[95%] w-full",children:Q.jsx(oU,{options:uQ,theme:"vs-dark",language:"json",value:l,beforeMount:_,onMount:v,onChange:p})})]})},jn=({children:e,variant:t="primary",className:r="",type:n="button",onClick:i,id:o,disabled:s})=>{const a="cursor-pointer rounded-md p-2 text-sm font-bold",l={primary:"bg-blue-500 text-white hover:bg-blue-600",secondary:"bg-gray-500 text-white hover:bg-gray-600",empty:""};return Q.jsx("button",{id:o,className:`${a} ${l[t]} ${r}`,onClick:i,type:n,disabled:s,children:e})},is=e=>{const t=e.title??"Default Title",r=e.description??"Default description, please override.",n=e.children??Q.jsx(Q.Fragment,{}),i=e.cancelText??"Cancel",o=e.onCancel??(()=>{}),s=e.submitText??"Submit",a=e.onSubmit??(()=>{}),l=e.hasSubmit??!0;let u={};return window.onkeydown=function(f){var c,h;u[f.key]=!0,u.Control&&u.Enter?(c=document.getElementById("submitButton"))==null||c.click():u.Escape&&((h=document.getElementById("cancelButton"))==null||h.click())},window.onkeyup=function(f){u[f.key]=!1},Q.jsx(Q.Fragment,{children:Q.jsx("div",{className:"absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center bg-black bg-opacity-80 text-white",children:Q.jsxs("div",{className:"flex max-h-[95%] w-[80%] flex-col justify-start rounded-xl bg-gray-500 p-4 shadow-xl lg:w-[40%]",children:[Q.jsx("div",{className:"flex flex-row items-center justify-start",children:Q.jsx("h1",{className:"flex-grow pl-2 text-2xl font-bold",children:t})}),Q.jsx("h2",{className:`py-2 pl-2 text-gray-400 ${e.className}`,children:r}),Q.jsx("div",{className:"overflow-auto p-2",children:n}),Q.jsxs("div",{className:"flex justify-end p-2 pt-4",children:[s!=="OK"&&Q.jsx(jn,{id:"cancelButton",onClick:()=>o(),variant:"primary",type:"button",className:"mr-1",children:i}),l&&Q.jsx(jn,{id:"submitButton",onClick:()=>a(),variant:"primary",type:"button",className:"flex",children:s})]})]})})})},$g=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState(()=>!1),o=e.type??"",s=o&&o[0].toUpperCase()+o.slice(1),a=e.interaction??{},l=e.interactionName??"";Oe.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0)},f=()=>{i(!1)},c=_=>a.forms?aQ(_,a):!1,h=_=>({action:"actions",property:"properties",event:"events",thing:"thing"})[_],g=hQ(o),m=Q.jsxs(Q.Fragment,{children:[Q.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Operations:"}),Q.jsx("div",{className:"p-1",children:g}),Q.jsxs("div",{className:"p-1 pt-2",children:[Q.jsx("label",{htmlFor:"form-href",className:"pl-2 text-sm font-medium text-gray-400",children:"Href:"}),Q.jsx("input",{type:"text",name:"form-href",id:"form-href",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"http://example.com/href",onChange:()=>{dQ()}}),Q.jsx("span",{id:"form-href-info",className:"pl-2 text-xs text-red-400"})]})]});return n?ns.createPortal(Q.jsx(is,{onCancel:f,onSubmit:()=>{var v,p;const _={op:uU(o).map(E=>{const y=document.getElementById("form-"+E);return y!=null&&y.checked?y.value:void 0}).filter(E=>E!==void 0),href:((p=(v=document.getElementById("form-href"))==null?void 0:v.value)==null?void 0:p.trim())||"/"};_.op.length===0?Kk("You have to select at least one operation ..."):c(_)?Kk("A Form for one of the selected operations already exists ..."):(r.addForm(h(o),l,_),f())},submitText:"Add",children:m,title:`Add ${s} Form`,description:`Tell us how this ${s} can be interfaced by selecting operations below and providing an href.`}),document.getElementById("modal-root")):null}),Kk=e=>{document.getElementById("form-href-info").textContent=e,document.getElementById("form-href").classList.remove("border-gray-600"),document.getElementById("form-href").classList.add("border-red-400")},dQ=()=>{document.getElementById("form-href").classList.add("border-gray-600"),document.getElementById("form-href").classList.remove("border-red-400")},uU=e=>{switch(e){case"property":return["writeproperty","readproperty","observeproperty","unobserveproperty"];case"event":return["subscribeevent","unsubscribeevent"];case"action":return["invokeaction"];case"thing":return["writeallproperties","readallproperties","writemultipleproperties","readmultipleproperties","observeallproperties","unobserveallproperties"];default:return[]}},hQ=e=>Q.jsx("div",{className:"rounded-md bg-gray-600 p-1",children:uU(e).map(t=>pQ(t))}),pQ=e=>{const t=`form-${e}`;return Q.jsxs("div",{className:"form-checkbox pl-2",children:[e!=="invokeaction"?Q.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e}):Q.jsx("input",{id:t,className:"form-checkbox-input",type:"checkbox",value:e,readOnly:e==="invokeaction",checked:e==="invokeaction"}),Q.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:t,children:e})]},t)};$g.displayName="AddFormDialog";const Ph=Math.min,yf=Math.max,jb=Math.round,kv=Math.floor,nl=e=>({x:e,y:e}),mQ={left:"right",right:"left",bottom:"top",top:"bottom"},gQ={start:"end",end:"start"};function wT(e,t,r){return yf(e,Ph(t,r))}function Tg(e,t){return typeof e=="function"?e(t):e}function jf(e){return e.split("-")[0]}function xg(e){return e.split("-")[1]}function cU(e){return e==="x"?"y":"x"}function CN(e){return e==="y"?"height":"width"}const vQ=new Set(["top","bottom"]);function Bu(e){return vQ.has(jf(e))?"y":"x"}function DN(e){return cU(Bu(e))}function yQ(e,t,r){r===void 0&&(r=!1);const n=xg(e),i=DN(e),o=CN(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=kb(s)),[s,kb(s)]}function wQ(e){const t=kb(e);return[bT(e),t,bT(t)]}function bT(e){return e.replace(/start|end/g,t=>gQ[t])}const Jk=["left","right"],Yk=["right","left"],bQ=["top","bottom"],_Q=["bottom","top"];function EQ(e,t,r){switch(e){case"top":case"bottom":return r?t?Yk:Jk:t?Jk:Yk;case"left":case"right":return t?bQ:_Q;default:return[]}}function SQ(e,t,r,n){const i=xg(e);let o=EQ(jf(e),r==="start",n);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(bT)))),o}function kb(e){return e.replace(/left|right|bottom|top/g,t=>mQ[t])}function $Q(e){return{top:0,right:0,bottom:0,left:0,...e}}function fU(e){return typeof e!="number"?$Q(e):{top:e,right:e,bottom:e,left:e}}function Cb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Xk(e,t,r){let{reference:n,floating:i}=e;const o=Bu(t),s=DN(t),a=CN(s),l=jf(t),u=o==="y",f=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let g;switch(l){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:c};break;case"left":g={x:n.x-i.width,y:c};break;default:g={x:n.x,y:n.y}}switch(xg(t)){case"start":g[s]-=h*(r&&u?-1:1);break;case"end":g[s]+=h*(r&&u?-1:1);break}return g}const TQ=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=Xk(u,n,l),h=n,g={},m=0;for(let _=0;_<a.length;_++){const{name:v,fn:p}=a[_],{x:E,y,data:S,reset:$}=await p({x:f,y:c,initialPlacement:n,placement:h,strategy:i,middlewareData:g,rects:u,platform:s,elements:{reference:e,floating:t}});f=E??f,c=y??c,g={...g,[v]:{...g[v],...S}},$&&m<=50&&(m++,typeof $=="object"&&($.placement&&(h=$.placement),$.rects&&(u=$.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):$.rects),{x:f,y:c}=Xk(u,h,l)),_=-1)}return{x:f,y:c,placement:h,strategy:i,middlewareData:g}};async function dU(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:h=!1,padding:g=0}=Tg(t,e),m=fU(g),v=a[h?c==="floating"?"reference":"floating":c],p=Cb(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(v)))==null||r?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),E=c==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},$=Cb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:y,strategy:l}):E);return{top:(p.top-$.top+m.top)/S.y,bottom:($.bottom-p.bottom+m.bottom)/S.y,left:(p.left-$.left+m.left)/S.x,right:($.right-p.right+m.right)/S.x}}const xQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:f=0}=Tg(e,t)||{};if(u==null)return{};const c=fU(f),h={x:r,y:n},g=DN(i),m=CN(g),_=await s.getDimensions(u),v=g==="y",p=v?"top":"left",E=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=o.reference[m]+o.reference[g]-h[g]-o.floating[m],$=h[g]-o.reference[g],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let d=T?T[y]:0;(!d||!await(s.isElement==null?void 0:s.isElement(T)))&&(d=a.floating[y]||o.floating[m]);const x=S/2-$/2,A=d/2-_[m]/2-1,O=Ph(c[p],A),C=Ph(c[E],A),F=O,V=d-_[m]-C,X=d/2-_[m]/2+x,H=wT(F,X,V),Z=!l.arrow&&xg(i)!=null&&X!==H&&o.reference[m]/2-(X<F?O:C)-_[m]/2<0,fe=Z?X<F?X-F:X-V:0;return{[g]:h[g]+fe,data:{[g]:H,centerOffset:X-H-fe,...Z&&{alignmentOffset:fe}},reset:Z}}}),AQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...v}=Tg(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=jf(i),E=Bu(a),y=jf(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),$=h||(y||!_?[kb(a)]:wQ(a)),T=m!=="none";!h&&T&&$.push(...SQ(a,_,m,S));const d=[a,...$],x=await dU(t,v),A=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&A.push(x[p]),c){const X=yQ(i,s,S);A.push(x[X[0]],x[X[1]])}if(O=[...O,{placement:i,overflows:A}],!A.every(X=>X<=0)){var C,F;const X=(((C=o.flip)==null?void 0:C.index)||0)+1,H=d[X];if(H&&(!(c==="alignment"?E!==Bu(H):!1)||O.every(ee=>Bu(ee.placement)===E?ee.overflows[0]>0:!0)))return{data:{index:X,overflows:O},reset:{placement:H}};let Z=(F=O.filter(fe=>fe.overflows[0]<=0).sort((fe,ee)=>fe.overflows[1]-ee.overflows[1])[0])==null?void 0:F.placement;if(!Z)switch(g){case"bestFit":{var V;const fe=(V=O.filter(ee=>{if(T){const ne=Bu(ee.placement);return ne===E||ne==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(ne=>ne>0).reduce((ne,k)=>ne+k,0)]).sort((ee,ne)=>ee[1]-ne[1])[0])==null?void 0:V[0];fe&&(Z=fe);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}},OQ=new Set(["left","top"]);async function PQ(e,t){const{placement:r,platform:n,elements:i}=e,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=jf(r),a=xg(r),l=Bu(r)==="y",u=OQ.has(s)?-1:1,f=o&&l?-1:1,c=Tg(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:m}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof m=="number"&&(g=a==="end"?m*-1:m),l?{x:g*f,y:h*u}:{x:h*u,y:g*f}}const NQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await PQ(t,e);return s===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},RQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:p,y:E}=v;return{x:p,y:E}}},...l}=Tg(e,t),u={x:r,y:n},f=await dU(t,l),c=Bu(jf(i)),h=cU(c);let g=u[h],m=u[c];if(o){const v=h==="y"?"top":"left",p=h==="y"?"bottom":"right",E=g+f[v],y=g-f[p];g=wT(E,g,y)}if(s){const v=c==="y"?"top":"left",p=c==="y"?"bottom":"right",E=m+f[v],y=m-f[p];m=wT(E,m,y)}const _=a.fn({...t,[h]:g,[c]:m});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[h]:o,[c]:s}}}}}};function Y_(){return typeof window<"u"}function qh(e){return hU(e)?(e.nodeName||"").toLowerCase():"#document"}function Qo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function al(e){var t;return(t=(hU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hU(e){return Y_()?e instanceof Node||e instanceof Qo(e).Node:!1}function ga(e){return Y_()?e instanceof Element||e instanceof Qo(e).Element:!1}function sl(e){return Y_()?e instanceof HTMLElement||e instanceof Qo(e).HTMLElement:!1}function Qk(e){return!Y_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qo(e).ShadowRoot}const IQ=new Set(["inline","contents"]);function Ag(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=va(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!IQ.has(i)}const jQ=new Set(["table","td","th"]);function kQ(e){return jQ.has(qh(e))}const CQ=[":popover-open",":modal"];function X_(e){return CQ.some(t=>{try{return e.matches(t)}catch{return!1}})}const DQ=["transform","translate","scale","rotate","perspective"],MQ=["transform","translate","scale","rotate","perspective","filter"],LQ=["paint","layout","strict","content"];function MN(e){const t=LN(),r=ga(e)?va(e):e;return DQ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||MQ.some(n=>(r.willChange||"").includes(n))||LQ.some(n=>(r.contain||"").includes(n))}function FQ(e){let t=oc(e);for(;sl(t)&&!Nh(t);){if(MN(t))return t;if(X_(t))return null;t=oc(t)}return null}function LN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BQ=new Set(["html","body","#document"]);function Nh(e){return BQ.has(qh(e))}function va(e){return Qo(e).getComputedStyle(e)}function Q_(e){return ga(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oc(e){if(qh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Qk(e)&&e.host||al(e);return Qk(t)?t.host:t}function pU(e){const t=oc(e);return Nh(t)?e.ownerDocument?e.ownerDocument.body:e.body:sl(t)&&Ag(t)?t:pU(t)}function Ym(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=pU(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),s=Qo(i);if(o){const a=_T(s);return t.concat(s,s.visualViewport||[],Ag(i)?i:[],a&&r?Ym(a):[])}return t.concat(i,Ym(i,[],r))}function _T(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mU(e){const t=va(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=sl(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,a=jb(r)!==o||jb(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function FN(e){return ga(e)?e:e.contextElement}function uh(e){const t=FN(e);if(!sl(t))return nl(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:o}=mU(t);let s=(o?jb(r.width):r.width)/n,a=(o?jb(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const UQ=nl(0);function gU(e){const t=Qo(e);return!LN()||!t.visualViewport?UQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zQ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qo(e)?!1:t}function kf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),o=FN(e);let s=nl(1);t&&(n?ga(n)&&(s=uh(n)):s=uh(e));const a=zQ(o,r,n)?gU(o):nl(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,c=i.height/s.y;if(o){const h=Qo(o),g=n&&ga(n)?Qo(n):n;let m=h,_=_T(m);for(;_&&n&&g!==m;){const v=uh(_),p=_.getBoundingClientRect(),E=va(_),y=p.left+(_.clientLeft+parseFloat(E.paddingLeft))*v.x,S=p.top+(_.clientTop+parseFloat(E.paddingTop))*v.y;l*=v.x,u*=v.y,f*=v.x,c*=v.y,l+=y,u+=S,m=Qo(_),_=_T(m)}}return Cb({width:f,height:c,x:l,y:u})}function Z_(e,t){const r=Q_(e).scrollLeft;return t?t.left+r:kf(al(e)).left+r}function vU(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Z_(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function qQ(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const o=i==="fixed",s=al(n),a=t?X_(t.floating):!1;if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},u=nl(1);const f=nl(0),c=sl(n);if((c||!c&&!o)&&((qh(n)!=="body"||Ag(s))&&(l=Q_(n)),sl(n))){const g=kf(n);u=uh(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const h=s&&!c&&!o?vU(s,l):nl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:r.y*u.y-l.scrollTop*u.y+f.y+h.y}}function VQ(e){return Array.from(e.getClientRects())}function HQ(e){const t=al(e),r=Q_(e),n=e.ownerDocument.body,i=yf(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=yf(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Z_(e);const a=-r.scrollTop;return va(n).direction==="rtl"&&(s+=yf(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}const Zk=25;function WQ(e,t){const r=Qo(e),n=al(e),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const f=LN();(!f||f&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Z_(n);if(u<=0){const f=n.ownerDocument,c=f.body,h=getComputedStyle(c),g=f.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(n.clientWidth-c.clientWidth-g);m<=Zk&&(o-=m)}else u<=Zk&&(o+=u);return{width:o,height:s,x:a,y:l}}const GQ=new Set(["absolute","fixed"]);function KQ(e,t){const r=kf(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=sl(e)?uh(e):nl(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:s,height:a,x:l,y:u}}function eC(e,t,r){let n;if(t==="viewport")n=WQ(e,r);else if(t==="document")n=HQ(al(e));else if(ga(t))n=KQ(t,r);else{const i=gU(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Cb(n)}function yU(e,t){const r=oc(e);return r===t||!ga(r)||Nh(r)?!1:va(r).position==="fixed"||yU(r,t)}function JQ(e,t){const r=t.get(e);if(r)return r;let n=Ym(e,[],!1).filter(a=>ga(a)&&qh(a)!=="body"),i=null;const o=va(e).position==="fixed";let s=o?oc(e):e;for(;ga(s)&&!Nh(s);){const a=va(s),l=MN(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&GQ.has(i.position)||Ag(s)&&!l&&yU(e,s))?n=n.filter(f=>f!==s):i=a,s=oc(s)}return t.set(e,n),n}function YQ(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?X_(t)?[]:JQ(t,this._c):[].concat(r),n],a=s[0],l=s.reduce((u,f)=>{const c=eC(t,f,i);return u.top=yf(c.top,u.top),u.right=Ph(c.right,u.right),u.bottom=Ph(c.bottom,u.bottom),u.left=yf(c.left,u.left),u},eC(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function XQ(e){const{width:t,height:r}=mU(e);return{width:t,height:r}}function QQ(e,t,r){const n=sl(t),i=al(t),o=r==="fixed",s=kf(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=nl(0);function u(){l.x=Z_(i)}if(n||!n&&!o)if((qh(t)!=="body"||Ag(i))&&(a=Q_(t)),n){const g=kf(t,!0,o,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else i&&u();o&&!n&&i&&u();const f=i&&!n&&!o?vU(i,a):nl(0),c=s.left+a.scrollLeft-l.x-f.x,h=s.top+a.scrollTop-l.y-f.y;return{x:c,y:h,width:s.width,height:s.height}}function HS(e){return va(e).position==="static"}function tC(e,t){if(!sl(e)||va(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return al(e)===r&&(r=r.ownerDocument.body),r}function wU(e,t){const r=Qo(e);if(X_(e))return r;if(!sl(e)){let i=oc(e);for(;i&&!Nh(i);){if(ga(i)&&!HS(i))return i;i=oc(i)}return r}let n=tC(e,t);for(;n&&kQ(n)&&HS(n);)n=tC(n,t);return n&&Nh(n)&&HS(n)&&!MN(n)?r:n||FQ(e)||r}const ZQ=async function(e){const t=this.getOffsetParent||wU,r=this.getDimensions,n=await r(e.floating);return{reference:QQ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eZ(e){return va(e).direction==="rtl"}const tZ={convertOffsetParentRelativeRectToViewportRelativeRect:qQ,getDocumentElement:al,getClippingRect:YQ,getOffsetParent:wU,getElementRects:ZQ,getClientRects:VQ,getDimensions:XQ,getScale:uh,isElement:ga,isRTL:eZ};function bU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rZ(e,t){let r=null,n;const i=al(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:c,width:h,height:g}=u;if(a||t(),!h||!g)return;const m=kv(c),_=kv(i.clientWidth-(f+h)),v=kv(i.clientHeight-(c+g)),p=kv(f),y={rootMargin:-m+"px "+-_+"px "+-v+"px "+-p+"px",threshold:yf(0,Ph(1,l))||1};let S=!0;function $(T){const d=T[0].intersectionRatio;if(d!==l){if(!S)return s();d?s(!1,d):n=setTimeout(()=>{s(!1,1e-7)},1e3)}d===1&&!bU(u,e.getBoundingClientRect())&&s(),S=!1}try{r=new IntersectionObserver($,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver($,y)}r.observe(e)}return s(!0),o}function nZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=FN(e),f=i||o?[...u?Ym(u):[],...Ym(t)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const c=u&&a?rZ(u,r):null;let h=-1,g=null;s&&(g=new ResizeObserver(p=>{let[E]=p;E&&E.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(t)})),r()}),u&&!l&&g.observe(u),g.observe(t));let m,_=l?kf(e):null;l&&v();function v(){const p=kf(e);_&&!bU(_,p)&&r(),_=p,m=requestAnimationFrame(v)}return r(),()=>{var p;f.forEach(E=>{i&&E.removeEventListener("scroll",r),o&&E.removeEventListener("resize",r)}),c==null||c(),(p=g)==null||p.disconnect(),g=null,l&&cancelAnimationFrame(m)}}const iZ=NQ,oZ=RQ,sZ=AQ,aZ=xQ,rC=(e,t,r)=>{const n=new Map,i={platform:tZ,...r},o={...i.platform,_c:n};return TQ(e,t,{...i,platform:o})};var _U={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,n(a)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(_U);var lZ=_U.exports;const ET=Gl(lZ);var nC={GENERATE_SOURCEMAP:"false",GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_0a6cfb0d-f1bf-48bc-9e73-a9afbaae0341",npm_package_devDependencies__types_node:"^22.13.15",npm_package_dependencies_react_dropzone:"^14.3.8",DOTNET_NOLOGO:"1",npm_package_devDependencies_vitest:"^3.2.4",USER:"runner",npm_package_devDependencies__testing_library_jest_dom:"^6.8.0",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.19.4 linux x64",CI:"true",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_0a6cfb0d-f1bf-48bc-9e73-a9afbaae0341",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.19.4/x64/bin/node",npm_package_devDependencies_vite:"^5.2.0",npm_package_dependencies_direction:"^2.0.1",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_dependencies_jsonld:"^8.3.2",HOME:"/home/runner",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_browserslist_production_1:"not dead",npm_package_dependencies_jointjs:"^3.7.7",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"eclipse",npm_package_browserslist_production_2:"not op_mini all",npm_package_dependencies_react_scan:"^0.4.3",npm_package_dependencies__monaco_editor_react:"^4.7.0",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-9.0.0",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/28.2.13676358",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_package_devDependencies__types_jsonpointer:"^4.0.2",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"56974",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.2.1",npm_package_dependencies_react_feather:"^2.0.10",SYSTEMD_EXEC_PID:"1873",npm_package_devDependencies_eslint_plugin_react_hooks:"^4.6.0",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"This project aims to make creating W3C Thing Description (TD) instances and Thing Model (TM) easy by providing a platform-independent ediTDor tool. The following features are addressed in this project:",npm_package_devDependencies_typescript:"^5.0.0",npm_package_devDependencies_tailwindcss:"^3.4.7",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^18.2.22",npm_package_homepage:"https://eclipse.github.io/editdor/",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20250824.1.0",npm_package_devDependencies_prettier:"^3.5.3",npm_package_scripts_dev:"cross-env REACT_APP_TARGET_URL=http://localhost:8080 vite",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies__vitejs_plugin_react:"^4.2.1",npm_package_dependencies_wot_thing_description_types:"1.1.0-12-March-2025",npm_package_dependencies_react_tooltip:"^5.26.4",npm_package_scripts_clean:"rm -rf node_modules dist build && yarn install && yarn build",npm_package_type:"module",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:8180",GITHUB_WORKFLOW:"publish-to-github-pages",_:"/usr/local/bin/yarn",npm_package_devDependencies_autoprefixer:"^10.4.19",npm_package_devDependencies__babel_preset_react:"^7.26.3",npm_package_private:"true",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.6/x64",npm_package_devDependencies__vitest_coverage_v8:"3.2.4",npm_package_scripts_lint:"eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GITHUB_RUN_ID:"17310353112",npm_package_devDependencies__babel_core:"^7.26.10",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"187d854f97f8ab584fe4edd720d8572b098c4e3b",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.6",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"eclipse/editdor/.github/workflows/publish-to-gh-pages.yml@refs/heads/master",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_package_browserslist_development_0:"last 1 chrome version",npm_package_devDependencies_prettier_plugin_tailwindcss:"^0.6.11",npm_package_dependencies_jsonpointer:"^5.0.1",npm_package_author_email:"editdor-dev@eclipse.org",PATH:"/tmp/yarn--1756423736290-0.7927344465578496:/home/runner/work/editdor/editdor/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.19.4/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.4/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.4/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.19.4/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.19.4/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_c3cf5697-7dcc-4b36-9e83-95b756d12c29",INVOCATION_ID:"f22c4d55f5754c0f85c207b0d95bd838",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_devDependencies__babel_eslint_parser:"^7.27.0",npm_package_repository_type:"git",npm_package_name:"editdor",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"71",GITHUB_TRIGGERING_ACTOR:"egekorkan",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_browserslist_development_2:"last 1 safari version",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^8.57.0",npm_package_dependencies_react_dom:"^18.2.0",npm_package_dependencies__types_json_schema:"^7.0.15",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1001043269",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"master",GITHUB_REPOSITORY:"eclipse/editdor",npm_lifecycle_script:"vite build",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_package_scripts_test:"vitest run",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"285060286",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_devDependencies_jsdom:"^26.1.0",npm_package_devDependencies__types_react:"^18.2.66",npm_package_devDependencies__testing_library_react:"^16.3.0",npm_package_dependencies_ajv:"^8.17.1",npm_package_repository_url:"git+https://github.com/eclipse/editdor.git",npm_package_version:"0.7.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_ajv_formats:"^3.0.1",npm_package_scripts_build:"vite build",GITHUB_WORKSPACE:"/home/runner/work/editdor/editdor",ACCEPT_EULA:"Y",GITHUB_JOB:"publish-to-gh-pages",npm_package_dependencies_json_dup_key_validator:"^1.0.3",npm_package_scripts_test_coverage:"vitest run --coverage",GITHUB_SHA:"187d854f97f8ab584fe4edd720d8572b098c4e3b",GITHUB_RUN_ATTEMPT:"1",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/master",GITHUB_ACTOR:"egekorkan",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_eslint_plugin_react:"^7.34.1",npm_package_dependencies_lz_string:"^1.5.0",npm_package_license:"EPL-2.0 OR W3C-20150513",npm_config_strict_ssl:"true",npm_package_devDependencies__types_babel__core:"^7",npm_package_dependencies_monaco_editor:"^0.52.2",npm_package_scripts_test_watch:"vitest",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_0a6cfb0d-f1bf-48bc-9e73-a9afbaae0341",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/editdor/editdor",GITHUB_ACTOR_ID:"20195407",RUNNER_WORKSPACE:"/home/runner/work/editdor",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_devDependencies_wot_thing_model_types:"1.1.0-12-March-2025",npm_package_dependencies__column_resizer_react:"^1.3.0",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_0a6cfb0d-f1bf-48bc-9e73-a9afbaae0341",npm_package_author_name:"Eclipse ediTDor",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_package_devDependencies_postcss:"^8.4.40",npm_package_devDependencies_cross_env:"^7.0.3",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",npm_package_dependencies_wot_typescript_definitions:"^0.8.0-SNAPSHOT.30",npm_package_dependencies_ajv_formats_draft2019:"1.6.1",npm_package_dependencies__node_wot_browser_bundle:"0.9.0",INIT_CWD:"/home/runner/work/editdor/editdor",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_0a6cfb0d-f1bf-48bc-9e73-a9afbaae0341",npm_package_dependencies_react:"^18.2.0",NODE_ENV:"production"};const uZ="react-tooltip-core-styles",cZ="react-tooltip-base-styles",iC={core:!1,base:!1};function oC({css:e,id:t=cZ,type:r="base",ref:n}){var i,o;if(!e||typeof document>"u"||iC[r]||r==="core"&&typeof process<"u"&&(!((i=process==null?void 0:nC)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||r!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:nC)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;r==="core"&&(t=uZ),n||(n={});const{insertAt:s}=n;if(document.getElementById(t))return;const a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.id=t,l.type="text/css",s==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e)),iC[r]=!0}const sC=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:r=null,place:n="top",offset:i=10,strategy:o="absolute",middlewares:s=[iZ(Number(i)),sZ({fallbackAxisSideDirection:"start"}),oZ({padding:5})],border:a,arrowSize:l=8})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const u=s;return r?(u.push(aZ({element:r,padding:5})),rC(e,t,{placement:n,strategy:o,middleware:u}).then(({x:f,y:c,placement:h,middlewareData:g})=>{var m,_;const v={left:`${f}px`,top:`${c}px`,border:a},{x:p,y:E}=(m=g.arrow)!==null&&m!==void 0?m:{x:0,y:0},y=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&_!==void 0?_:"bottom",S=a&&{borderBottom:a,borderRight:a};let $=0;if(a){const T=`${a}`.match(/(\d+)px/);$=T!=null&&T[1]?Number(T[1]):1}return{tooltipStyles:v,tooltipArrowStyles:{left:p!=null?`${p}px`:"",top:E!=null?`${E}px`:"",right:"",bottom:"",...S,[y]:`-${l/2+$}px`},place:h}})):rC(e,t,{placement:"bottom",strategy:o,middleware:u}).then(({x:f,y:c,placement:h})=>({tooltipStyles:{left:`${f}px`,top:`${c}px`},tooltipArrowStyles:{},place:h}))},aC=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),lC=(e,t,r)=>{let n=null;const i=function(...o){const s=()=>{n=null};!n&&(e.apply(this,o),n=setTimeout(s,t))};return i.cancel=()=>{n&&(clearTimeout(n),n=null)},i},uC=e=>e!==null&&!Array.isArray(e)&&typeof e=="object",ST=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((i,o)=>ST(i,t[o]));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!uC(e)||!uC(t))return e===t;const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(i=>ST(e[i],t[i]))},fZ=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(r=>{const n=t.getPropertyValue(r);return n==="auto"||n==="scroll"})},cC=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(fZ(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},dZ=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect,ms=e=>{e.current&&(clearTimeout(e.current),e.current=null)},hZ="DEFAULT_TOOLTIP_ID",pZ={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},mZ=Oe.createContext({getTooltipData:()=>pZ});function EU(e=hZ){return Oe.useContext(mZ).getTooltipData(e)}var md={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},WS={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const gZ=({forwardRef:e,id:t,className:r,classNameArrow:n,variant:i="dark",anchorId:o,anchorSelect:s,place:a="top",offset:l=10,events:u=["hover"],openOnClick:f=!1,positionStrategy:c="absolute",middlewares:h,wrapper:g,delayShow:m=0,delayHide:_=0,float:v=!1,hidden:p=!1,noArrow:E=!1,clickable:y=!1,closeOnEsc:S=!1,closeOnScroll:$=!1,closeOnResize:T=!1,openEvents:d,closeEvents:x,globalCloseEvents:A,imperativeModeOnly:O,style:C,position:F,afterShow:V,afterHide:X,disableTooltip:H,content:Z,contentWrapperRef:fe,isOpen:ee,defaultIsOpen:ne=!1,setIsOpen:k,activeAnchor:B,setActiveAnchor:W,border:P,opacity:R,arrowColor:z,arrowSize:oe=8,role:J="tooltip"})=>{var Y;const ae=Oe.useRef(null),be=Oe.useRef(null),Ie=Oe.useRef(null),N=Oe.useRef(null),D=Oe.useRef(null),[M,K]=Oe.useState({tooltipStyles:{},tooltipArrowStyles:{},place:a}),[se,ce]=Oe.useState(!1),[de,pe]=Oe.useState(!1),[Ae,Le]=Oe.useState(null),Ce=Oe.useRef(!1),rt=Oe.useRef(null),{anchorRefs:qe,setActiveAnchor:Ue}=EU(t),G=Oe.useRef(!1),[I,L]=Oe.useState([]),ie=Oe.useRef(!1),ye=f||u.includes("click"),Se=ye||(d==null?void 0:d.click)||(d==null?void 0:d.dblclick)||(d==null?void 0:d.mousedown),De=d?{...d}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!d&&ye&&Object.assign(De,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ke=x?{...x}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!x&&ye&&Object.assign(ke,{mouseleave:!1,blur:!1,mouseout:!1});const Be=A?{...A}:{escape:S||!1,scroll:$||!1,resize:T||!1,clickOutsideAnchor:Se||!1};O&&(Object.assign(De,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ke,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Be,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),dZ(()=>(ie.current=!0,()=>{ie.current=!1}),[]);const st=et=>{ie.current&&(et&&pe(!0),setTimeout(()=>{ie.current&&(k==null||k(et),ee===void 0&&ce(et))},10))};Oe.useEffect(()=>{if(ee===void 0)return()=>null;ee&&pe(!0);const et=setTimeout(()=>{ce(ee)},10);return()=>{clearTimeout(et)}},[ee]),Oe.useEffect(()=>{if(se!==Ce.current)if(ms(D),Ce.current=se,se)V==null||V();else{const et=(At=>{const Ot=At.match(/^([\d.]+)(ms|s)$/);if(!Ot)return 0;const[,he,ue]=Ot;return Number(he)*(ue==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));D.current=setTimeout(()=>{pe(!1),Le(null),X==null||X()},et+25)}},[se]);const wt=et=>{K(At=>ST(At,et)?At:et)},ut=(et=m)=>{ms(Ie),de?st(!0):Ie.current=setTimeout(()=>{st(!0)},et)},Ct=(et=_)=>{ms(N),N.current=setTimeout(()=>{G.current||st(!1)},et)},Tr=et=>{var At;if(!et)return;const Ot=(At=et.currentTarget)!==null&&At!==void 0?At:et.target;if(!(Ot!=null&&Ot.isConnected))return W(null),void Ue({current:null});m?ut():st(!0),W(Ot),Ue({current:Ot}),ms(N)},Pr=()=>{y?Ct(_||100):_?Ct():st(!1),ms(Ie)},or=({x:et,y:At})=>{var Ot;const he={getBoundingClientRect:()=>({x:et,y:At,width:0,height:0,top:At,left:et,right:et,bottom:At})};sC({place:(Ot=Ae==null?void 0:Ae.place)!==null&&Ot!==void 0?Ot:a,offset:l,elementReference:he,tooltipReference:ae.current,tooltipArrowReference:be.current,strategy:c,middlewares:h,border:P,arrowSize:oe}).then(ue=>{wt(ue)})},ur=et=>{if(!et)return;const At=et,Ot={x:At.clientX,y:At.clientY};or(Ot),rt.current=Ot},sn=et=>{var At;if(!se)return;const Ot=et.target;Ot.isConnected&&(!((At=ae.current)===null||At===void 0)&&At.contains(Ot)||[document.querySelector(`[id='${o}']`),...I].some(he=>he==null?void 0:he.contains(Ot))||(st(!1),ms(Ie)))},tr=lC(Tr,50),Dt=lC(Pr,50),Jt=et=>{Dt.cancel(),tr(et)},Ee=()=>{tr.cancel(),Dt()},Pe=Oe.useCallback(()=>{var et,At;const Ot=(et=Ae==null?void 0:Ae.position)!==null&&et!==void 0?et:F;Ot?or(Ot):v?rt.current&&or(rt.current):B!=null&&B.isConnected&&sC({place:(At=Ae==null?void 0:Ae.place)!==null&&At!==void 0?At:a,offset:l,elementReference:B,tooltipReference:ae.current,tooltipArrowReference:be.current,strategy:c,middlewares:h,border:P,arrowSize:oe}).then(he=>{ie.current&&wt(he)})},[se,B,Z,C,a,Ae==null?void 0:Ae.place,l,c,F,Ae==null?void 0:Ae.position,v,oe]);Oe.useEffect(()=>{var et,At;const Ot=new Set(qe);I.forEach(xt=>{H!=null&&H(xt)||Ot.add({current:xt})});const he=document.querySelector(`[id='${o}']`);he&&!(H!=null&&H(he))&&Ot.add({current:he});const ue=()=>{st(!1)},we=cC(B),Re=cC(ae.current);Be.scroll&&(window.addEventListener("scroll",ue),we==null||we.addEventListener("scroll",ue),Re==null||Re.addEventListener("scroll",ue));let xe=null;Be.resize?window.addEventListener("resize",ue):B&&ae.current&&(xe=nZ(B,ae.current,Pe,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const ot=xt=>{xt.key==="Escape"&&st(!1)};Be.escape&&window.addEventListener("keydown",ot),Be.clickOutsideAnchor&&window.addEventListener("click",sn);const tt=[],Tt=xt=>!!(xt!=null&&xt.target&&(B!=null&&B.contains(xt.target))),jt=xt=>{se&&Tt(xt)||Tr(xt)},Lt=xt=>{se&&Tt(xt)&&Pr()},$t=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Nt=["click","dblclick","mousedown","mouseup"];Object.entries(De).forEach(([xt,kt])=>{kt&&($t.includes(xt)?tt.push({event:xt,listener:Jt}):Nt.includes(xt)&&tt.push({event:xt,listener:jt}))}),Object.entries(ke).forEach(([xt,kt])=>{kt&&($t.includes(xt)?tt.push({event:xt,listener:Ee}):Nt.includes(xt)&&tt.push({event:xt,listener:Lt}))}),v&&tt.push({event:"pointermove",listener:ur});const Ht=()=>{G.current=!0},yt=()=>{G.current=!1,Pr()},zt=y&&(ke.mouseout||ke.mouseleave);return zt&&((et=ae.current)===null||et===void 0||et.addEventListener("mouseover",Ht),(At=ae.current)===null||At===void 0||At.addEventListener("mouseout",yt)),tt.forEach(({event:xt,listener:kt})=>{Ot.forEach(en=>{var jr;(jr=en.current)===null||jr===void 0||jr.addEventListener(xt,kt)})}),()=>{var xt,kt;Be.scroll&&(window.removeEventListener("scroll",ue),we==null||we.removeEventListener("scroll",ue),Re==null||Re.removeEventListener("scroll",ue)),Be.resize?window.removeEventListener("resize",ue):xe==null||xe(),Be.clickOutsideAnchor&&window.removeEventListener("click",sn),Be.escape&&window.removeEventListener("keydown",ot),zt&&((xt=ae.current)===null||xt===void 0||xt.removeEventListener("mouseover",Ht),(kt=ae.current)===null||kt===void 0||kt.removeEventListener("mouseout",yt)),tt.forEach(({event:en,listener:jr})=>{Ot.forEach(Vr=>{var mn;(mn=Vr.current)===null||mn===void 0||mn.removeEventListener(en,jr)})})}},[B,Pe,de,qe,I,d,x,A,ye,m,_]),Oe.useEffect(()=>{var et,At;let Ot=(At=(et=Ae==null?void 0:Ae.anchorSelect)!==null&&et!==void 0?et:s)!==null&&At!==void 0?At:"";!Ot&&t&&(Ot=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const he=new MutationObserver(ue=>{const we=[],Re=[];ue.forEach(xe=>{if(xe.type==="attributes"&&xe.attributeName==="data-tooltip-id"&&(xe.target.getAttribute("data-tooltip-id")===t?we.push(xe.target):xe.oldValue===t&&Re.push(xe.target)),xe.type==="childList"){if(B){const ot=[...xe.removedNodes].filter(tt=>tt.nodeType===1);if(Ot)try{Re.push(...ot.filter(tt=>tt.matches(Ot))),Re.push(...ot.flatMap(tt=>[...tt.querySelectorAll(Ot)]))}catch{}ot.some(tt=>{var Tt;return!!(!((Tt=tt==null?void 0:tt.contains)===null||Tt===void 0)&&Tt.call(tt,B))&&(pe(!1),st(!1),W(null),ms(Ie),ms(N),!0)})}if(Ot)try{const ot=[...xe.addedNodes].filter(tt=>tt.nodeType===1);we.push(...ot.filter(tt=>tt.matches(Ot))),we.push(...ot.flatMap(tt=>[...tt.querySelectorAll(Ot)]))}catch{}}}),(we.length||Re.length)&&L(xe=>[...xe.filter(ot=>!Re.includes(ot)),...we])});return he.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{he.disconnect()}},[t,s,Ae==null?void 0:Ae.anchorSelect,B]),Oe.useEffect(()=>{Pe()},[Pe]),Oe.useEffect(()=>{if(!(fe!=null&&fe.current))return()=>null;const et=new ResizeObserver(()=>{setTimeout(()=>Pe())});return et.observe(fe.current),()=>{et.disconnect()}},[Z,fe==null?void 0:fe.current]),Oe.useEffect(()=>{var et;const At=document.querySelector(`[id='${o}']`),Ot=[...I,At];B&&Ot.includes(B)||W((et=I[0])!==null&&et!==void 0?et:At)},[o,I,B]),Oe.useEffect(()=>(ne&&st(!0),()=>{ms(Ie),ms(N)}),[]),Oe.useEffect(()=>{var et;let At=(et=Ae==null?void 0:Ae.anchorSelect)!==null&&et!==void 0?et:s;if(!At&&t&&(At=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),At)try{const Ot=Array.from(document.querySelectorAll(At));L(Ot)}catch{L([])}},[t,s,Ae==null?void 0:Ae.anchorSelect]),Oe.useEffect(()=>{Ie.current&&(ms(Ie),ut(m))},[m]);const ct=(Y=Ae==null?void 0:Ae.content)!==null&&Y!==void 0?Y:Z,ht=se&&Object.keys(M.tooltipStyles).length>0;return Oe.useImperativeHandle(e,()=>({open:et=>{if(et!=null&&et.anchorSelect)try{document.querySelector(et.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${et.anchorSelect}" is not a valid CSS selector`)}Le(et??null),et!=null&&et.delay?ut(et.delay):st(!0)},close:et=>{et!=null&&et.delay?Ct(et.delay):st(!1)},activeAnchor:B,place:M.place,isOpen:!!(de&&!p&&ct&&ht)})),de&&!p&&ct?Ye.createElement(g,{id:t,role:J,className:ET("react-tooltip",md.tooltip,WS.tooltip,WS[i],r,`react-tooltip__place-${M.place}`,md[ht?"show":"closing"],ht?"react-tooltip__show":"react-tooltip__closing",c==="fixed"&&md.fixed,y&&md.clickable),onTransitionEnd:et=>{ms(D),se||et.propertyName!=="opacity"||(pe(!1),Le(null),X==null||X())},style:{...C,...M.tooltipStyles,opacity:R!==void 0&&ht?R:void 0},ref:ae},ct,Ye.createElement(g,{className:ET("react-tooltip-arrow",md.arrow,WS.arrow,n,E&&md.noArrow),style:{...M.tooltipArrowStyles,background:z?`linear-gradient(to right bottom, transparent 50%, ${z} 50%)`:void 0,"--rt-arrow-size":`${oe}px`},ref:be})):null},vZ=({content:e})=>Ye.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),yZ=Ye.forwardRef(({id:e,anchorId:t,anchorSelect:r,content:n,html:i,render:o,className:s,classNameArrow:a,variant:l="dark",place:u="top",offset:f=10,wrapper:c="div",children:h=null,events:g=["hover"],openOnClick:m=!1,positionStrategy:_="absolute",middlewares:v,delayShow:p=0,delayHide:E=0,float:y=!1,hidden:S=!1,noArrow:$=!1,clickable:T=!1,closeOnEsc:d=!1,closeOnScroll:x=!1,closeOnResize:A=!1,openEvents:O,closeEvents:C,globalCloseEvents:F,imperativeModeOnly:V=!1,style:X,position:H,isOpen:Z,defaultIsOpen:fe=!1,disableStyleInjection:ee=!1,border:ne,opacity:k,arrowColor:B,arrowSize:W,setIsOpen:P,afterShow:R,afterHide:z,disableTooltip:oe,role:J="tooltip"},Y)=>{const[ae,be]=Oe.useState(n),[Ie,N]=Oe.useState(i),[D,M]=Oe.useState(u),[K,se]=Oe.useState(l),[ce,de]=Oe.useState(f),[pe,Ae]=Oe.useState(p),[Le,Ce]=Oe.useState(E),[rt,qe]=Oe.useState(y),[Ue,G]=Oe.useState(S),[I,L]=Oe.useState(c),[ie,ye]=Oe.useState(g),[Se,De]=Oe.useState(_),[ke,Be]=Oe.useState(null),[st,wt]=Oe.useState(null),ut=Oe.useRef(ee),{anchorRefs:Ct,activeAnchor:Tr}=EU(e),Pr=Dt=>Dt==null?void 0:Dt.getAttributeNames().reduce((Jt,Ee)=>{var Pe;return Ee.startsWith("data-tooltip-")&&(Jt[Ee.replace(/^data-tooltip-/,"")]=(Pe=Dt==null?void 0:Dt.getAttribute(Ee))!==null&&Pe!==void 0?Pe:null),Jt},{}),or=Dt=>{const Jt={place:Ee=>{var Pe;M((Pe=Ee)!==null&&Pe!==void 0?Pe:u)},content:Ee=>{be(Ee??n)},html:Ee=>{N(Ee??i)},variant:Ee=>{var Pe;se((Pe=Ee)!==null&&Pe!==void 0?Pe:l)},offset:Ee=>{de(Ee===null?f:Number(Ee))},wrapper:Ee=>{var Pe;L((Pe=Ee)!==null&&Pe!==void 0?Pe:c)},events:Ee=>{const Pe=Ee==null?void 0:Ee.split(" ");ye(Pe??g)},"position-strategy":Ee=>{var Pe;De((Pe=Ee)!==null&&Pe!==void 0?Pe:_)},"delay-show":Ee=>{Ae(Ee===null?p:Number(Ee))},"delay-hide":Ee=>{Ce(Ee===null?E:Number(Ee))},float:Ee=>{qe(Ee===null?y:Ee==="true")},hidden:Ee=>{G(Ee===null?S:Ee==="true")},"class-name":Ee=>{Be(Ee)}};Object.values(Jt).forEach(Ee=>Ee(null)),Object.entries(Dt).forEach(([Ee,Pe])=>{var ct;(ct=Jt[Ee])===null||ct===void 0||ct.call(Jt,Pe)})};Oe.useEffect(()=>{be(n)},[n]),Oe.useEffect(()=>{N(i)},[i]),Oe.useEffect(()=>{M(u)},[u]),Oe.useEffect(()=>{se(l)},[l]),Oe.useEffect(()=>{de(f)},[f]),Oe.useEffect(()=>{Ae(p)},[p]),Oe.useEffect(()=>{Ce(E)},[E]),Oe.useEffect(()=>{qe(y)},[y]),Oe.useEffect(()=>{G(S)},[S]),Oe.useEffect(()=>{De(_)},[_]),Oe.useEffect(()=>{ut.current!==ee&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ee]),Oe.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ee==="core",disableBase:ee}}))},[]),Oe.useEffect(()=>{var Dt;const Jt=new Set(Ct);let Ee=r;if(!Ee&&e&&(Ee=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Ee)try{document.querySelectorAll(Ee).forEach(At=>{Jt.add({current:At})})}catch{console.warn(`[react-tooltip] "${Ee}" is not a valid CSS selector`)}const Pe=document.querySelector(`[id='${t}']`);if(Pe&&Jt.add({current:Pe}),!Jt.size)return()=>null;const ct=(Dt=st??Pe)!==null&&Dt!==void 0?Dt:Tr.current,ht=new MutationObserver(At=>{At.forEach(Ot=>{var he;if(!ct||Ot.type!=="attributes"||!(!((he=Ot.attributeName)===null||he===void 0)&&he.startsWith("data-tooltip-")))return;const ue=Pr(ct);or(ue)})}),et={attributes:!0,childList:!1,subtree:!1};if(ct){const At=Pr(ct);or(At),ht.observe(ct,et)}return()=>{ht.disconnect()}},[Ct,Tr,st,t,r]),Oe.useEffect(()=>{X!=null&&X.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),ne&&!aC("border",`${ne}`)&&console.warn(`[react-tooltip] "${ne}" is not a valid \`border\`.`),X!=null&&X.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),k&&!aC("opacity",`${k}`)&&console.warn(`[react-tooltip] "${k}" is not a valid \`opacity\`.`)},[]);let ur=h;const sn=Oe.useRef(null);if(o){const Dt=o({content:(st==null?void 0:st.getAttribute("data-tooltip-content"))||ae||null,activeAnchor:st});ur=Dt?Ye.createElement("div",{ref:sn,className:"react-tooltip-content-wrapper"},Dt):null}else ae&&(ur=ae);Ie&&(ur=Ye.createElement(vZ,{content:Ie}));const tr={forwardRef:Y,id:e,anchorId:t,anchorSelect:r,className:ET(s,ke),classNameArrow:a,content:ur,contentWrapperRef:sn,place:D,variant:K,offset:ce,wrapper:I,events:ie,openOnClick:m,positionStrategy:Se,middlewares:v,delayShow:pe,delayHide:Le,float:rt,hidden:Ue,noArrow:$,clickable:T,closeOnEsc:d,closeOnScroll:x,closeOnResize:A,openEvents:O,closeEvents:C,globalCloseEvents:F,imperativeModeOnly:V,style:X,position:H,isOpen:Z,defaultIsOpen:fe,border:ne,opacity:k,arrowColor:B,arrowSize:W,setIsOpen:P,afterShow:R,afterHide:z,disableTooltip:oe,activeAnchor:st,setActiveAnchor:Dt=>wt(Dt),role:J};return Ye.createElement(gZ,{...tr})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||oC({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||oC({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const Od=e=>Q.jsxs(Q.Fragment,{children:[Q.jsx("a",{"data-tooltip-id":e.id,"data-tooltip-html":e.html,className:e.className,children:Q.jsx(e.IconComponent,{color:e.color??"grey",size:e.size??"16"})}),Q.jsx(yZ,{id:e.id,place:"top",className:"z-10"})]});var SU={exports:{}},wZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bZ=wZ,_Z=bZ;function $U(){}function TU(){}TU.resetWarningCache=$U;var EZ=function(){function e(n,i,o,s,a,l){if(l!==_Z){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TU,resetWarningCache:$U};return r.PropTypes=r,r};SU.exports=EZ();var SZ=SU.exports;const nt=Gl(SZ);function $T(){return $T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$T.apply(this,arguments)}function $Z(e,t){if(e==null)return{};var r=TZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Xm=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=$Z(e,["color","size"]);return Ye.createElement("svg",$T({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),Ye.createElement("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),Ye.createElement("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"}))});Xm.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};Xm.displayName="AlertTriangle";function TT(){return TT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TT.apply(this,arguments)}function xZ(e,t){if(e==null)return{};var r=AZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var BN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=xZ(e,["color","size"]);return Ye.createElement("svg",TT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),Ye.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))});BN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};BN.displayName="CheckCircle";function xT(){return xT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xT.apply(this,arguments)}function OZ(e,t){if(e==null)return{};var r=PZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Qm=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=OZ(e,["color","size"]);return Ye.createElement("svg",xT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"20 6 9 17 4 12"}))});Qm.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};Qm.displayName="Check";function AT(){return AT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AT.apply(this,arguments)}function NZ(e,t){if(e==null)return{};var r=RZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var wf=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=NZ(e,["color","size"]);return Ye.createElement("svg",AT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"6 9 12 15 18 9"}))});wf.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};wf.displayName="ChevronDown";function OT(){return OT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OT.apply(this,arguments)}function IZ(e,t){if(e==null)return{};var r=jZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var UN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=IZ(e,["color","size"]);return Ye.createElement("svg",OT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"9 18 15 12 9 6"}))});UN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};UN.displayName="ChevronRight";function PT(){return PT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PT.apply(this,arguments)}function kZ(e,t){if(e==null)return{};var r=CZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var zN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=kZ(e,["color","size"]);return Ye.createElement("svg",PT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"18 15 12 9 6 15"}))});zN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};zN.displayName="ChevronUp";function NT(){return NT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NT.apply(this,arguments)}function DZ(e,t){if(e==null)return{};var r=MZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var qN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=DZ(e,["color","size"]);return Ye.createElement("svg",NT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),Ye.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))});qN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};qN.displayName="Copy";function RT(){return RT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RT.apply(this,arguments)}function LZ(e,t){if(e==null)return{};var r=FZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var VN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=LZ(e,["color","size"]);return Ye.createElement("svg",RT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),Ye.createElement("polyline",{points:"7 10 12 15 17 10"}),Ye.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))});VN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};VN.displayName="Download";function IT(){return IT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IT.apply(this,arguments)}function BZ(e,t){if(e==null)return{};var r=UZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var HN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=BZ(e,["color","size"]);return Ye.createElement("svg",IT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),Ye.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});HN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};HN.displayName="Edit";function jT(){return jT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jT.apply(this,arguments)}function zZ(e,t){if(e==null)return{};var r=qZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var WN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=zZ(e,["color","size"]);return Ye.createElement("svg",jT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),Ye.createElement("polyline",{points:"15 3 21 3 21 9"}),Ye.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))});WN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};WN.displayName="ExternalLink";function kT(){return kT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kT.apply(this,arguments)}function VZ(e,t){if(e==null)return{};var r=HZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var GN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=VZ(e,["color","size"]);return Ye.createElement("svg",kT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),Ye.createElement("polyline",{points:"14 2 14 8 20 8"}),Ye.createElement("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),Ye.createElement("line",{x1:"9",y1:"15",x2:"15",y2:"15"}))});GN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};GN.displayName="FilePlus";function CT(){return CT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CT.apply(this,arguments)}function WZ(e,t){if(e==null)return{};var r=GZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var KN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=WZ(e,["color","size"]);return Ye.createElement("svg",CT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),Ye.createElement("polyline",{points:"14 2 14 8 20 8"}),Ye.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),Ye.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),Ye.createElement("polyline",{points:"10 9 9 9 8 9"}))});KN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};KN.displayName="FileText";function DT(){return DT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DT.apply(this,arguments)}function KZ(e,t){if(e==null)return{};var r=JZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var JN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=KZ(e,["color","size"]);return Ye.createElement("svg",DT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),Ye.createElement("polyline",{points:"13 2 13 9 20 9"}))});JN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};JN.displayName="File";function MT(){return MT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MT.apply(this,arguments)}function YZ(e,t){if(e==null)return{};var r=XZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var YN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=YZ(e,["color","size"]);return Ye.createElement("svg",MT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}))});YN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};YN.displayName="GitHub";function LT(){return LT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LT.apply(this,arguments)}function QZ(e,t){if(e==null)return{};var r=ZZ(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Og=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=QZ(e,["color","size"]);return Ye.createElement("svg",LT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("circle",{cx:"12",cy:"12",r:"10"}),Ye.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),Ye.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))});Og.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};Og.displayName="Info";function FT(){return FT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FT.apply(this,arguments)}function e7(e,t){if(e==null)return{};var r=t7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var XN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=e7(e,["color","size"]);return Ye.createElement("svg",FT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),Ye.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))});XN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};XN.displayName="Link";function BT(){return BT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BT.apply(this,arguments)}function r7(e,t){if(e==null)return{};var r=n7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var QN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=r7(e,["color","size"]);return Ye.createElement("svg",BT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});QN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};QN.displayName="Minus";function UT(){return UT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UT.apply(this,arguments)}function i7(e,t){if(e==null)return{};var r=o7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var ZN=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=i7(e,["color","size"]);return Ye.createElement("svg",UT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("circle",{cx:"12",cy:"12",r:"10"}),Ye.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),Ye.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});ZN.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};ZN.displayName="PlusCircle";function zT(){return zT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT.apply(this,arguments)}function s7(e,t){if(e==null)return{};var r=a7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var eR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=s7(e,["color","size"]);return Ye.createElement("svg",zT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Ye.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});eR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};eR.displayName="Plus";function qT(){return qT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qT.apply(this,arguments)}function l7(e,t){if(e==null)return{};var r=u7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var tR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=l7(e,["color","size"]);return Ye.createElement("svg",qT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"1 4 1 10 7 10"}),Ye.createElement("polyline",{points:"23 20 23 14 17 14"}),Ye.createElement("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}))});tR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};tR.displayName="RefreshCcw";function VT(){return VT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VT.apply(this,arguments)}function c7(e,t){if(e==null)return{};var r=f7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var eE=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=c7(e,["color","size"]);return Ye.createElement("svg",VT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"23 4 23 10 17 10"}),Ye.createElement("polyline",{points:"1 20 1 14 7 14"}),Ye.createElement("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}))});eE.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};eE.displayName="RefreshCw";function HT(){return HT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HT.apply(this,arguments)}function d7(e,t){if(e==null)return{};var r=h7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var rR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=d7(e,["color","size"]);return Ye.createElement("svg",HT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"1 4 1 10 7 10"}),Ye.createElement("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}))});rR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};rR.displayName="RotateCcw";function WT(){return WT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WT.apply(this,arguments)}function p7(e,t){if(e==null)return{};var r=m7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var nR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=p7(e,["color","size"]);return Ye.createElement("svg",WT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"23 4 23 10 17 10"}),Ye.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))});nR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};nR.displayName="RotateCw";function GT(){return GT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}function g7(e,t){if(e==null)return{};var r=v7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var iR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=g7(e,["color","size"]);return Ye.createElement("svg",GT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("circle",{cx:"11",cy:"11",r:"8"}),Ye.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))});iR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};iR.displayName="Search";function KT(){return KT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function y7(e,t){if(e==null)return{};var r=w7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var oR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=y7(e,["color","size"]);return Ye.createElement("svg",KT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),Ye.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"}))});oR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};oR.displayName="Send";function JT(){return JT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JT.apply(this,arguments)}function b7(e,t){if(e==null)return{};var r=_7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var sR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=b7(e,["color","size"]);return Ye.createElement("svg",JT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("circle",{cx:"12",cy:"12",r:"3"}),Ye.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});sR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};sR.displayName="Settings";function YT(){return YT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YT.apply(this,arguments)}function E7(e,t){if(e==null)return{};var r=S7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var aR=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=E7(e,["color","size"]);return Ye.createElement("svg",YT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),Ye.createElement("polyline",{points:"16 6 12 2 8 6"}),Ye.createElement("line",{x1:"12",y1:"2",x2:"12",y2:"15"}))});aR.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};aR.displayName="Share";function XT(){return XT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function $7(e,t){if(e==null)return{};var r=T7(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T7(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var cc=Oe.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,i=e.size,o=i===void 0?24:i,s=$7(e,["color","size"]);return Ye.createElement("svg",XT({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),Ye.createElement("polyline",{points:"3 6 5 6 21 6"}),Ye.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Ye.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Ye.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});cc.propTypes={color:nt.string,size:nt.oneOfType([nt.string,nt.number])};cc.displayName="Trash2";const Zo=e=>{const t=!e.tooltip.href||e.tooltip.href.trim()==="",r=!e.className||e.className.trim()===""?`flex ${e.className}`:"flex justify-center";return Q.jsxs("div",{className:r,children:[Q.jsx("div",{className:"pr-0.5",children:e.children}),Q.jsx("button",{onClick:()=>!t&&window.open(e.tooltip.href,"_blank"),disabled:t,children:Q.jsx(Od,{html:e.tooltip.html||"No tooltip content available",id:e.id,IconComponent:Og})}),Q.jsx("div",{className:"p-1"})]})};class Jl{constructor(t,r){this.html=t,this.href=r}}const x7=()=>{const e=`<h2 class='text-lg'>Web of Things Properties</h2>
                    <p>A Property is a simple attribute of a device. The value of a Property can be readable.</p>
                    <p>writable or observable. E.g. a Property for a lamp could indicate if it is on or off.</p>
                    <br />
                    <p>Click to get more information about Properties.</p> 
                `,t="https://www.w3.org/TR/wot-thing-description/#propertyaffordance";return new Jl(e,t)},A7=()=>{const e=`<h2 class='text-lg'>Web of Things Actions</h2>
                    <p>An Action is some kind of procedure that can be triggered on a device. An Action can</p>
                    <p>be started or cancelled. E.g. an Action for a lamp could be turning it on or off.</p>
                    <br />
                    <p>Click to get more information about Actions.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#actionaffordance";return new Jl(e,t)},O7=()=>{const e=`<h2 class='text-lg'>Web of Things Events</h2>
                <p>An Event is an asynchronously happening information flow. An Event is observable.</p>
                <p>E.g. an Event for a lamp could fire if it gets turned on or off.</p>
                <br />
                <p>Click to get more information about Events.</p>
            `,t="https://www.w3.org/TR/wot-thing-description/#eventaffordance";return new Jl(e,t)},Pg=()=>{const e=`<h2 class='text-lg'>Web of Things Forms</h2>
                    <p>A Form contains all information needed to make a request to a device.</p>
                    <p>It can accompany a Property, Action, Event or a Thing itself.</p>
                    <br />
                    <p>Click to get more information about Forms.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#form";return new Jl(e,t)},xU=()=>{const e=`<h2 class='text-lg'>Web of Things Link</h2>
                    <p>A link can be viewed as a statement of the form link context has a relation type resource at link target</p>
                    <p>Used to link Thing Description with other ressources.</p>
                    <br />
                    <p>Click to get more information about Links.</p>
                `,t="https://www.w3.org/TR/wot-thing-description/#link";return new Jl(e,t)},QT=()=>{const e=`<h2 class='text-lg'>Unit ID</h2>
                    <p>Slave address of the Modbus device.</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#url-terms";return new Jl(e,t)},ZT=()=>{const e=`<h2 class='text-lg'>Address Offset</h2>
                    <p>Should all addresses shift by one (false) or not (true)</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new Jl(e,t)},ex=()=>{const e=`<h2 class='text-lg'>Endianness</h2>
                    <p>Should the words or the bytes be swapped?</p>
                    <br />
                    <p></p>
                `,t="https://w3c.github.io/wot-binding-templates/bindings/protocols/modbus/#form-terms";return new Jl(e,t)},AU=()=>{const e=`<h2 class='text-lg'>Validate</h2>
                    <p>Validate the Thing Description against the WoT TD Schema.</p>
                   
                    <p>Click to get more information about the schema.</p>
                `,t="https://github.com/wot-oss/tmc/blob/main/internal/commands/validate/tmc-mandatory.schema.json";return new Jl(e,t)},P7={properties:x7(),actions:A7(),events:O7(),forms:Pg(),links:xU(),unitId:QT(),addressOffset:ZT(),endianness:ex(),validateTM:AU()};var N7={},R7=Object.create,tE=Object.defineProperty,I7=Object.getOwnPropertyDescriptor,lR=Object.getOwnPropertyNames,j7=Object.getPrototypeOf,k7=Object.prototype.hasOwnProperty,on=(e,t)=>function(){return e&&(t=(0,e[lR(e)[0]])(e=0)),t},Ne=(e,t)=>function(){return t||(0,e[lR(e)[0]])((t={exports:{}}).exports,t),t.exports},ll=(e,t)=>{for(var r in t)tE(e,r,{get:t[r],enumerable:!0})},OU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lR(t))!k7.call(e,i)&&i!==r&&tE(e,i,{get:()=>t[i],enumerable:!(n=I7(t,i))||n.enumerable});return e},uR=(e,t,r)=>(r=e!=null?R7(j7(e)):{},OU(!e||!e.__esModule?tE(r,"default",{value:e,enumerable:!0}):r,e)),Or=e=>OU(tE({},"__esModule",{value:!0}),e);function C7(){if(tx)return Pd;tx=!0,Pd.byteLength=a,Pd.toByteArray=u,Pd.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(g){var m=g.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=g.indexOf("=");_===-1&&(_=m);var v=_===m?0:4-_%4;return[_,v]}function a(g){var m=s(g),_=m[0],v=m[1];return(_+v)*3/4-v}function l(g,m,_){return(m+_)*3/4-_}function u(g){var m,_=s(g),v=_[0],p=_[1],E=new r(l(g,v,p)),y=0,S=p>0?v-4:v,$;for($=0;$<S;$+=4)m=t[g.charCodeAt($)]<<18|t[g.charCodeAt($+1)]<<12|t[g.charCodeAt($+2)]<<6|t[g.charCodeAt($+3)],E[y++]=m>>16&255,E[y++]=m>>8&255,E[y++]=m&255;return p===2&&(m=t[g.charCodeAt($)]<<2|t[g.charCodeAt($+1)]>>4,E[y++]=m&255),p===1&&(m=t[g.charCodeAt($)]<<10|t[g.charCodeAt($+1)]<<4|t[g.charCodeAt($+2)]>>2,E[y++]=m>>8&255,E[y++]=m&255),E}function f(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function c(g,m,_){for(var v,p=[],E=m;E<_;E+=3)v=(g[E]<<16&16711680)+(g[E+1]<<8&65280)+(g[E+2]&255),p.push(f(v));return p.join("")}function h(g){for(var m,_=g.length,v=_%3,p=[],E=16383,y=0,S=_-v;y<S;y+=E)p.push(c(g,y,y+E>S?S:y+E));return v===1?(m=g[_-1],p.push(e[m>>2]+e[m<<4&63]+"==")):v===2&&(m=(g[_-2]<<8)+g[_-1],p.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),p.join("")}return Pd}function D7(){return rx||(rx=!0,Fp.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,g=e[t+c];for(c+=h,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(g?-1:1)*s*Math.pow(2,o-n)},Fp.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+g]=a&255,g+=m,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+g]=s&255,g+=m,s/=256,u-=8);e[r+g-m]|=_*128}),Fp}function jo(){if(nx)return Eu;nx=!0;const e=C7(),t=D7(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Eu.Buffer=s,Eu.SlowBuffer=p,Eu.INSPECT_MAX_BYTES=50;const n=2147483647;Eu.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const G=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(G,I),G.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(G){if(G>n)throw new RangeError('The value "'+G+'" is invalid for option "size"');const I=new Uint8Array(G);return Object.setPrototypeOf(I,s.prototype),I}function s(G,I,L){if(typeof G=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(G)}return a(G,I,L)}s.poolSize=8192;function a(G,I,L){if(typeof G=="string")return c(G,I);if(ArrayBuffer.isView(G))return g(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(Le(G,ArrayBuffer)||G&&Le(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(G,SharedArrayBuffer)||G&&Le(G.buffer,SharedArrayBuffer)))return m(G,I,L);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=G.valueOf&&G.valueOf();if(ie!=null&&ie!==G)return s.from(ie,I,L);const ye=_(G);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return s.from(G[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}s.from=function(G,I,L){return a(G,I,L)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function u(G,I,L){return l(G),G<=0?o(G):I!==void 0?typeof L=="string"?o(G).fill(I,L):o(G).fill(I):o(G)}s.alloc=function(G,I,L){return u(G,I,L)};function f(G){return l(G),o(G<0?0:v(G)|0)}s.allocUnsafe=function(G){return f(G)},s.allocUnsafeSlow=function(G){return f(G)};function c(G,I){if((typeof I!="string"||I==="")&&(I="utf8"),!s.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const L=E(G,I)|0;let ie=o(L);const ye=ie.write(G,I);return ye!==L&&(ie=ie.slice(0,ye)),ie}function h(G){const I=G.length<0?0:v(G.length)|0,L=o(I);for(let ie=0;ie<I;ie+=1)L[ie]=G[ie]&255;return L}function g(G){if(Le(G,Uint8Array)){const I=new Uint8Array(G);return m(I.buffer,I.byteOffset,I.byteLength)}return h(G)}function m(G,I,L){if(I<0||G.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return I===void 0&&L===void 0?ie=new Uint8Array(G):L===void 0?ie=new Uint8Array(G,I):ie=new Uint8Array(G,I,L),Object.setPrototypeOf(ie,s.prototype),ie}function _(G){if(s.isBuffer(G)){const I=v(G.length)|0,L=o(I);return L.length===0||G.copy(L,0,0,I),L}if(G.length!==void 0)return typeof G.length!="number"||Ce(G.length)?o(0):h(G);if(G.type==="Buffer"&&Array.isArray(G.data))return h(G.data)}function v(G){if(G>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return G|0}function p(G){return+G!=G&&(G=0),s.alloc(+G)}s.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==s.prototype},s.compare=function(I,L){if(Le(I,Uint8Array)&&(I=s.from(I,I.offset,I.byteLength)),Le(L,Uint8Array)&&(L=s.from(L,L.offset,L.byteLength)),!s.isBuffer(I)||!s.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;let ie=I.length,ye=L.length;for(let Se=0,De=Math.min(ie,ye);Se<De;++Se)if(I[Se]!==L[Se]){ie=I[Se],ye=L[Se];break}return ie<ye?-1:ye<ie?1:0},s.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return s.alloc(0);let ie;if(L===void 0)for(L=0,ie=0;ie<I.length;++ie)L+=I[ie].length;const ye=s.allocUnsafe(L);let Se=0;for(ie=0;ie<I.length;++ie){let De=I[ie];if(Le(De,Uint8Array))Se+De.length>ye.length?(s.isBuffer(De)||(De=s.from(De)),De.copy(ye,Se)):Uint8Array.prototype.set.call(ye,De,Se);else if(s.isBuffer(De))De.copy(ye,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=De.length}return ye};function E(G,I){if(s.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||Le(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const L=G.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&L===0)return 0;let ye=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return se(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return pe(G).length;default:if(ye)return ie?-1:se(G).length;I=(""+I).toLowerCase(),ye=!0}}s.byteLength=E;function y(G,I,L){let ie=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(G||(G="utf8");;)switch(G){case"hex":return ee(this,I,L);case"utf8":case"utf-8":return V(this,I,L);case"ascii":return Z(this,I,L);case"latin1":case"binary":return fe(this,I,L);case"base64":return F(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,I,L);default:if(ie)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ie=!0}}s.prototype._isBuffer=!0;function S(G,I,L){const ie=G[I];G[I]=G[L],G[L]=ie}s.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<I;L+=2)S(this,L,L+1);return this},s.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<I;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},s.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<I;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},s.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?V(this,0,I):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(I){if(!s.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:s.compare(this,I)===0},s.prototype.inspect=function(){let I="";const L=Eu.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(I,L,ie,ye,Se){if(Le(I,Uint8Array)&&(I=s.from(I,I.offset,I.byteLength)),!s.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),ie===void 0&&(ie=I?I.length:0),ye===void 0&&(ye=0),Se===void 0&&(Se=this.length),L<0||ie>I.length||ye<0||Se>this.length)throw new RangeError("out of range index");if(ye>=Se&&L>=ie)return 0;if(ye>=Se)return-1;if(L>=ie)return 1;if(L>>>=0,ie>>>=0,ye>>>=0,Se>>>=0,this===I)return 0;let De=Se-ye,ke=ie-L;const Be=Math.min(De,ke),st=this.slice(ye,Se),wt=I.slice(L,ie);for(let ut=0;ut<Be;++ut)if(st[ut]!==wt[ut]){De=st[ut],ke=wt[ut];break}return De<ke?-1:ke<De?1:0};function $(G,I,L,ie,ye){if(G.length===0)return-1;if(typeof L=="string"?(ie=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,Ce(L)&&(L=ye?0:G.length-1),L<0&&(L=G.length+L),L>=G.length){if(ye)return-1;L=G.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof I=="string"&&(I=s.from(I,ie)),s.isBuffer(I))return I.length===0?-1:T(G,I,L,ie,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(G,I,L):Uint8Array.prototype.lastIndexOf.call(G,I,L):T(G,[I],L,ie,ye);throw new TypeError("val must be string, number or Buffer")}function T(G,I,L,ie,ye){let Se=1,De=G.length,ke=I.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(G.length<2||I.length<2)return-1;Se=2,De/=2,ke/=2,L/=2}function Be(wt,ut){return Se===1?wt[ut]:wt.readUInt16BE(ut*Se)}let st;if(ye){let wt=-1;for(st=L;st<De;st++)if(Be(G,st)===Be(I,wt===-1?0:st-wt)){if(wt===-1&&(wt=st),st-wt+1===ke)return wt*Se}else wt!==-1&&(st-=st-wt),wt=-1}else for(L+ke>De&&(L=De-ke),st=L;st>=0;st--){let wt=!0;for(let ut=0;ut<ke;ut++)if(Be(G,st+ut)!==Be(I,ut)){wt=!1;break}if(wt)return st}return-1}s.prototype.includes=function(I,L,ie){return this.indexOf(I,L,ie)!==-1},s.prototype.indexOf=function(I,L,ie){return $(this,I,L,ie,!0)},s.prototype.lastIndexOf=function(I,L,ie){return $(this,I,L,ie,!1)};function d(G,I,L,ie){L=Number(L)||0;const ye=G.length-L;ie?(ie=Number(ie),ie>ye&&(ie=ye)):ie=ye;const Se=I.length;ie>Se/2&&(ie=Se/2);let De;for(De=0;De<ie;++De){const ke=parseInt(I.substr(De*2,2),16);if(Ce(ke))return De;G[L+De]=ke}return De}function x(G,I,L,ie){return Ae(se(I,G.length-L),G,L,ie)}function A(G,I,L,ie){return Ae(ce(I),G,L,ie)}function O(G,I,L,ie){return Ae(pe(I),G,L,ie)}function C(G,I,L,ie){return Ae(de(I,G.length-L),G,L,ie)}s.prototype.write=function(I,L,ie,ye){if(L===void 0)ye="utf8",ie=this.length,L=0;else if(ie===void 0&&typeof L=="string")ye=L,ie=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(ie)?(ie=ie>>>0,ye===void 0&&(ye="utf8")):(ye=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-L;if((ie===void 0||ie>Se)&&(ie=Se),I.length>0&&(ie<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let De=!1;for(;;)switch(ye){case"hex":return d(this,I,L,ie);case"utf8":case"utf-8":return x(this,I,L,ie);case"ascii":case"latin1":case"binary":return A(this,I,L,ie);case"base64":return O(this,I,L,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,I,L,ie);default:if(De)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),De=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(G,I,L){return I===0&&L===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(I,L))}function V(G,I,L){L=Math.min(G.length,L);const ie=[];let ye=I;for(;ye<L;){const Se=G[ye];let De=null,ke=Se>239?4:Se>223?3:Se>191?2:1;if(ye+ke<=L){let Be,st,wt,ut;switch(ke){case 1:Se<128&&(De=Se);break;case 2:Be=G[ye+1],(Be&192)===128&&(ut=(Se&31)<<6|Be&63,ut>127&&(De=ut));break;case 3:Be=G[ye+1],st=G[ye+2],(Be&192)===128&&(st&192)===128&&(ut=(Se&15)<<12|(Be&63)<<6|st&63,ut>2047&&(ut<55296||ut>57343)&&(De=ut));break;case 4:Be=G[ye+1],st=G[ye+2],wt=G[ye+3],(Be&192)===128&&(st&192)===128&&(wt&192)===128&&(ut=(Se&15)<<18|(Be&63)<<12|(st&63)<<6|wt&63,ut>65535&&ut<1114112&&(De=ut))}}De===null?(De=65533,ke=1):De>65535&&(De-=65536,ie.push(De>>>10&1023|55296),De=56320|De&1023),ie.push(De),ye+=ke}return H(ie)}const X=4096;function H(G){const I=G.length;if(I<=X)return String.fromCharCode.apply(String,G);let L="",ie=0;for(;ie<I;)L+=String.fromCharCode.apply(String,G.slice(ie,ie+=X));return L}function Z(G,I,L){let ie="";L=Math.min(G.length,L);for(let ye=I;ye<L;++ye)ie+=String.fromCharCode(G[ye]&127);return ie}function fe(G,I,L){let ie="";L=Math.min(G.length,L);for(let ye=I;ye<L;++ye)ie+=String.fromCharCode(G[ye]);return ie}function ee(G,I,L){const ie=G.length;(!I||I<0)&&(I=0),(!L||L<0||L>ie)&&(L=ie);let ye="";for(let Se=I;Se<L;++Se)ye+=rt[G[Se]];return ye}function ne(G,I,L){const ie=G.slice(I,L);let ye="";for(let Se=0;Se<ie.length-1;Se+=2)ye+=String.fromCharCode(ie[Se]+ie[Se+1]*256);return ye}s.prototype.slice=function(I,L){const ie=this.length;I=~~I,L=L===void 0?ie:~~L,I<0?(I+=ie,I<0&&(I=0)):I>ie&&(I=ie),L<0?(L+=ie,L<0&&(L=0)):L>ie&&(L=ie),L<I&&(L=I);const ye=this.subarray(I,L);return Object.setPrototypeOf(ye,s.prototype),ye};function k(G,I,L){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+I>L)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return ye},s.prototype.readUintBE=s.prototype.readUIntBE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=this[I+--L],Se=1;for(;L>0&&(Se*=256);)ye+=this[I+--L]*Se;return ye},s.prototype.readUint8=s.prototype.readUInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]|this[I+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]<<8|this[I+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},s.prototype.readBigUInt64LE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,Se=this[++I]+this[++I]*2**8+this[++I]*2**16+ie*2**24;return BigInt(ye)+(BigInt(Se)<<BigInt(32))}),s.prototype.readBigUInt64BE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=L*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],Se=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ie;return(BigInt(ye)<<BigInt(32))+BigInt(Se)}),s.prototype.readIntLE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return Se*=128,ye>=Se&&(ye-=Math.pow(2,8*L)),ye},s.prototype.readIntBE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=L,Se=1,De=this[I+--ye];for(;ye>0&&(Se*=256);)De+=this[I+--ye]*Se;return Se*=128,De>=Se&&(De-=Math.pow(2,8*L)),De},s.prototype.readInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},s.prototype.readInt16LE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ie=this[I]|this[I+1]<<8;return ie&32768?ie|4294901760:ie},s.prototype.readInt16BE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ie=this[I+1]|this[I]<<8;return ie&32768?ie|4294901760:ie},s.prototype.readInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},s.prototype.readInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},s.prototype.readBigInt64LE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(ie<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),s.prototype.readBigInt64BE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=(L<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(ye)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ie)}),s.prototype.readFloatLE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!0,23,4)},s.prototype.readFloatBE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!1,23,4)},s.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!0,52,8)},s.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!1,52,8)};function B(G,I,L,ie,ye,Se){if(!s.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Se)throw new RangeError('"value" argument is out of bounds');if(L+ie>G.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(I,L,ie,ye){if(I=+I,L=L>>>0,ie=ie>>>0,!ye){const ke=Math.pow(2,8*ie)-1;B(this,I,L,ie,ke,0)}let Se=1,De=0;for(this[L]=I&255;++De<ie&&(Se*=256);)this[L+De]=I/Se&255;return L+ie},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(I,L,ie,ye){if(I=+I,L=L>>>0,ie=ie>>>0,!ye){const ke=Math.pow(2,8*ie)-1;B(this,I,L,ie,ke,0)}let Se=ie-1,De=1;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)this[L+Se]=I/De&255;return L+ie},s.prototype.writeUint8=s.prototype.writeUInt8=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,1,255,0),this[L]=I&255,L+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function W(G,I,L,ie,ye){Ie(I,ie,ye,G,L,7);let Se=Number(I&BigInt(4294967295));G[L++]=Se,Se=Se>>8,G[L++]=Se,Se=Se>>8,G[L++]=Se,Se=Se>>8,G[L++]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return G[L++]=De,De=De>>8,G[L++]=De,De=De>>8,G[L++]=De,De=De>>8,G[L++]=De,L}function P(G,I,L,ie,ye){Ie(I,ie,ye,G,L,7);let Se=Number(I&BigInt(4294967295));G[L+7]=Se,Se=Se>>8,G[L+6]=Se,Se=Se>>8,G[L+5]=Se,Se=Se>>8,G[L+4]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return G[L+3]=De,De=De>>8,G[L+2]=De,De=De>>8,G[L+1]=De,De=De>>8,G[L]=De,L+8}s.prototype.writeBigUInt64LE=qe(function(I,L=0){return W(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=qe(function(I,L=0){return P(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(I,L,ie,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ie-1);B(this,I,L,ie,Be-1,-Be)}let Se=0,De=1,ke=0;for(this[L]=I&255;++Se<ie&&(De*=256);)I<0&&ke===0&&this[L+Se-1]!==0&&(ke=1),this[L+Se]=(I/De>>0)-ke&255;return L+ie},s.prototype.writeIntBE=function(I,L,ie,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ie-1);B(this,I,L,ie,Be-1,-Be)}let Se=ie-1,De=1,ke=0;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)I<0&&ke===0&&this[L+Se+1]!==0&&(ke=1),this[L+Se]=(I/De>>0)-ke&255;return L+ie},s.prototype.writeInt8=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},s.prototype.writeInt16LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},s.prototype.writeInt16BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},s.prototype.writeInt32LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},s.prototype.writeInt32BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},s.prototype.writeBigInt64LE=qe(function(I,L=0){return W(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=qe(function(I,L=0){return P(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function R(G,I,L,ie,ye,Se){if(L+ie>G.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function z(G,I,L,ie,ye){return I=+I,L=L>>>0,ye||R(G,I,L,4),t.write(G,I,L,ie,23,4),L+4}s.prototype.writeFloatLE=function(I,L,ie){return z(this,I,L,!0,ie)},s.prototype.writeFloatBE=function(I,L,ie){return z(this,I,L,!1,ie)};function oe(G,I,L,ie,ye){return I=+I,L=L>>>0,ye||R(G,I,L,8),t.write(G,I,L,ie,52,8),L+8}s.prototype.writeDoubleLE=function(I,L,ie){return oe(this,I,L,!0,ie)},s.prototype.writeDoubleBE=function(I,L,ie){return oe(this,I,L,!1,ie)},s.prototype.copy=function(I,L,ie,ye){if(!s.isBuffer(I))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!ye&&ye!==0&&(ye=this.length),L>=I.length&&(L=I.length),L||(L=0),ye>0&&ye<ie&&(ye=ie),ye===ie||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-L<ye-ie&&(ye=I.length-L+ie);const Se=ye-ie;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,ie,ye):Uint8Array.prototype.set.call(I,this.subarray(ie,ye),L),Se},s.prototype.fill=function(I,L,ie,ye){if(typeof I=="string"){if(typeof L=="string"?(ye=L,L=0,ie=this.length):typeof ie=="string"&&(ye=ie,ie=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!s.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){const De=I.charCodeAt(0);(ye==="utf8"&&De<128||ye==="latin1")&&(I=De)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<ie)throw new RangeError("Out of range index");if(ie<=L)return this;L=L>>>0,ie=ie===void 0?this.length:ie>>>0,I||(I=0);let Se;if(typeof I=="number")for(Se=L;Se<ie;++Se)this[Se]=I;else{const De=s.isBuffer(I)?I:s.from(I,ye),ke=De.length;if(ke===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Se=0;Se<ie-L;++Se)this[Se+L]=De[Se%ke]}return this};const J={};function Y(G,I,L){J[G]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(G,I){return`The "${G}" argument must be of type number. Received type ${typeof I}`},TypeError),Y("ERR_OUT_OF_RANGE",function(G,I,L){let ie=`The value of "${G}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=ae(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=ae(ye)),ye+="n"),ie+=` It must be ${I}. Received ${ye}`,ie},RangeError);function ae(G){let I="",L=G.length;const ie=G[0]==="-"?1:0;for(;L>=ie+4;L-=3)I=`_${G.slice(L-3,L)}${I}`;return`${G.slice(0,L)}${I}`}function be(G,I,L){N(I,"offset"),(G[I]===void 0||G[I+L]===void 0)&&D(I,G.length-(L+1))}function Ie(G,I,L,ie,ye,Se){if(G>L||G<I){const De=typeof I=="bigint"?"n":"";let ke;throw I===0||I===BigInt(0)?ke=`>= 0${De} and < 2${De} ** ${(Se+1)*8}${De}`:ke=`>= -(2${De} ** ${(Se+1)*8-1}${De}) and < 2 ** ${(Se+1)*8-1}${De}`,new J.ERR_OUT_OF_RANGE("value",ke,G)}be(ie,ye,Se)}function N(G,I){if(typeof G!="number")throw new J.ERR_INVALID_ARG_TYPE(I,"number",G)}function D(G,I,L){throw Math.floor(G)!==G?(N(G,L),new J.ERR_OUT_OF_RANGE("offset","an integer",G)):I<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,G)}const M=/[^+/0-9A-Za-z-_]/g;function K(G){if(G=G.split("=")[0],G=G.trim().replace(M,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function se(G,I){I=I||1/0;let L;const ie=G.length;let ye=null;const Se=[];for(let De=0;De<ie;++De){if(L=G.charCodeAt(De),L>55295&&L<57344){if(!ye){if(L>56319){(I-=3)>-1&&Se.push(239,191,189);continue}else if(De+1===ie){(I-=3)>-1&&Se.push(239,191,189);continue}ye=L;continue}if(L<56320){(I-=3)>-1&&Se.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(I-=3)>-1&&Se.push(239,191,189);if(ye=null,L<128){if((I-=1)<0)break;Se.push(L)}else if(L<2048){if((I-=2)<0)break;Se.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;Se.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;Se.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Se}function ce(G){const I=[];for(let L=0;L<G.length;++L)I.push(G.charCodeAt(L)&255);return I}function de(G,I){let L,ie,ye;const Se=[];for(let De=0;De<G.length&&!((I-=2)<0);++De)L=G.charCodeAt(De),ie=L>>8,ye=L%256,Se.push(ye),Se.push(ie);return Se}function pe(G){return e.toByteArray(K(G))}function Ae(G,I,L,ie){let ye;for(ye=0;ye<ie&&!(ye+L>=I.length||ye>=G.length);++ye)I[ye+L]=G[ye];return ye}function Le(G,I){return G instanceof I||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===I.name}function Ce(G){return G!==G}const rt=function(){const G="0123456789abcdef",I=new Array(256);for(let L=0;L<16;++L){const ie=L*16;for(let ye=0;ye<16;++ye)I[ie+ye]=G[L]+G[ye]}return I}();function qe(G){return typeof BigInt>"u"?Ue:G}function Ue(){throw new Error("BigInt not supported")}return Eu}var Pd,tx,Fp,rx,Eu,nx,rE=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtuTasat.js"(){Te(),Pd={},tx=!1,Fp={},rx=!1,Eu={},nx=!1}}),fc={};ll(fc,{Buffer:()=>Yr,INSPECT_MAX_BYTES:()=>PU,default:()=>yl,kMaxLength:()=>NU});var yl,Yr,PU,NU,dc=on({"../../node_modules/@jspm/core/nodelibs/browser/buffer.js"(){Te(),rE(),yl=jo(),yl.Buffer,yl.SlowBuffer,yl.INSPECT_MAX_BYTES,yl.kMaxLength,Yr=yl.Buffer,PU=yl.INSPECT_MAX_BYTES,NU=yl.kMaxLength}}),Te=on({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/buffer.js"(){dc()}}),Ng=Ne({"../core/dist/thing-description.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ThingEvent=e.ThingAction=e.ThingProperty=e.BaseSchema=e.Form=e.Thing=e.DEFAULT_THING_TYPE=e.DEFAULT_CONTEXT_LANGUAGE=e.DEFAULT_CONTEXT_V11=e.DEFAULT_CONTEXT_V1=void 0,e.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",e.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",e.DEFAULT_CONTEXT_LANGUAGE="en",e.DEFAULT_THING_TYPE="Thing";var t=class{constructor(){this["@context"]=[e.DEFAULT_CONTEXT_V1,e.DEFAULT_CONTEXT_V11],this["@type"]=e.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}};e.Thing=t;var r=class{constructor(a,l){this.href=a,l!=null&&(this.contentType=l)}};e.Form=r;var n=class{};e.BaseSchema=n;var i=class extends n{};e.ThingProperty=i;var o=class{};e.ThingAction=o;var s=class{};e.ThingEvent=s}}),M7=Ne({"../../node_modules/ms/index.js"(e,t){Te();var r=1e3,n=r*60,i=n*60,o=i*24,s=o*7,a=o*365.25;t.exports=function(h,g){g=g||{};var m=typeof h;if(m==="string"&&h.length>0)return l(h);if(m==="number"&&isFinite(h))return g.long?f(h):u(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function l(h){if(h=String(h),!(h.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(g){var m=parseFloat(g[1]),_=(g[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return m*a;case"weeks":case"week":case"w":return m*s;case"days":case"day":case"d":return m*o;case"hours":case"hour":case"hrs":case"hr":case"h":return m*i;case"minutes":case"minute":case"mins":case"min":case"m":return m*n;case"seconds":case"second":case"secs":case"sec":case"s":return m*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function u(h){var g=Math.abs(h);return g>=o?Math.round(h/o)+"d":g>=i?Math.round(h/i)+"h":g>=n?Math.round(h/n)+"m":g>=r?Math.round(h/r)+"s":h+"ms"}function f(h){var g=Math.abs(h);return g>=o?c(h,g,o,"day"):g>=i?c(h,g,i,"hour"):g>=n?c(h,g,n,"minute"):g>=r?c(h,g,r,"second"):h+" ms"}function c(h,g,m,_){var v=g>=m*1.5;return Math.round(h/m)+" "+_+(v?"s":"")}}}),L7=Ne({"../../node_modules/debug/src/common.js"(e,t){Te();function r(n){o.debug=o,o.default=o,o.coerce=c,o.disable=l,o.enable=a,o.enabled=u,o.humanize=M7(),o.destroy=h,Object.keys(n).forEach(g=>{o[g]=n[g]}),o.names=[],o.skips=[],o.formatters={};function i(g){let m=0;for(let _=0;_<g.length;_++)m=(m<<5)-m+g.charCodeAt(_),m|=0;return o.colors[Math.abs(m)%o.colors.length]}o.selectColor=i;function o(g){let m,_=null,v,p;function E(...y){if(!E.enabled)return;const S=E,$=Number(new Date),T=$-(m||$);S.diff=T,S.prev=m,S.curr=$,m=$,y[0]=o.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let d=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(A,O)=>{if(A==="%%")return"%";d++;const C=o.formatters[O];if(typeof C=="function"){const F=y[d];A=C.call(S,F),y.splice(d,1),d--}return A}),o.formatArgs.call(S,y),(S.log||o.log).apply(S,y)}return E.namespace=g,E.useColors=o.useColors(),E.color=o.selectColor(g),E.extend=s,E.destroy=o.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(v!==o.namespaces&&(v=o.namespaces,p=o.enabled(g)),p),set:y=>{_=y}}),typeof o.init=="function"&&o.init(E),E}function s(g,m){const _=o(this.namespace+(typeof m>"u"?":":m)+g);return _.log=this.log,_}function a(g){o.save(g),o.namespaces=g,o.names=[],o.skips=[];let m;const _=(typeof g=="string"?g:"").split(/[\s,]+/),v=_.length;for(m=0;m<v;m++)_[m]&&(g=_[m].replace(/\*/g,".*?"),g[0]==="-"?o.skips.push(new RegExp("^"+g.slice(1)+"$")):o.names.push(new RegExp("^"+g+"$")))}function l(){const g=[...o.names.map(f),...o.skips.map(f).map(m=>"-"+m)].join(",");return o.enable(""),g}function u(g){if(g[g.length-1]==="*")return!0;let m,_;for(m=0,_=o.skips.length;m<_;m++)if(o.skips[m].test(g))return!1;for(m=0,_=o.names.length;m<_;m++)if(o.names[m].test(g))return!0;return!1}function f(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function c(g){return g instanceof Error?g.stack||g.message:g}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=r}}),RU=Ne({"../../node_modules/debug/src/browser.js"(e,t){Te(),e.formatArgs=n,e.save=i,e.load=o,e.useColors=r,e.storage=s(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;l.splice(1,0,u,"color: inherit");let f=0,c=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(f++,h==="%c"&&(c=f))}),l.splice(c,0,u)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=N7.DEBUG),l}function s(){try{return localStorage}catch{}}t.exports=L7()(e);var{formatters:a}=t.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}}),ko=Ne({"../core/dist/logger.js"(e){Te();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createInfoLogger=o,e.createDebugLogger=s,e.createWarnLogger=a,e.createErrorLogger=l,e.createLoggers=u;var r=t(RU()),n;(function(f){f[f.info=0]="info",f[f.debug=1]="debug",f[f.warn=2]="warn",f[f.error=3]="error"})(n||(n={}));function i(f,c){const h=["node-wot",...f,n[c]].join(":");return(0,r.default)(h)}function o(...f){return i(f,n.info)}function s(...f){return i(f,n.debug)}function a(...f){return i(f,n.warn)}function l(...f){return i(f,n.error)}function u(...f){return{info:o(...f),debug:s(...f),warn:a(...f),error:l(...f)}}}}),F7=Ne({"../../node_modules/is-absolute-url/index.js"(e,t){Te(),t.exports=r=>{if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return/^[a-zA-Z]:\\/.test(r)?!1:/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(r)}}}),B7=Ne({"../../node_modules/url-toolkit/src/url-toolkit.js"(e,t){Te(),function(r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(l,u,f){if(f=f||{},l=l.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return l;var c=a.parseURL(l);if(!c)throw new Error("Error trying to parse base URL.");return c.path=a.normalizePath(c.path),a.buildURLFromParts(c)}var h=a.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return f.alwaysNormalize?(h.path=a.normalizePath(h.path),a.buildURLFromParts(h)):u;var g=a.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var m=i.exec(g.path);g.netLoc=m[1],g.path=m[2]}g.netLoc&&!g.path&&(g.path="/");var _={scheme:g.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(_.netLoc=g.netLoc,h.path[0]!=="/"))if(!h.path)_.path=g.path,h.params||(_.params=g.params,h.query||(_.query=g.query));else{var v=g.path,p=v.substring(0,v.lastIndexOf("/")+1)+h.path;_.path=a.normalizePath(p)}return _.path===null&&(_.path=f.alwaysNormalize?a.normalizePath(h.path):h.path),a.buildURLFromParts(_)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};typeof e=="object"&&typeof t=="object"?t.exports=a:typeof define=="function"&&define.amd?define([],function(){return a}):typeof e=="object"?e.URLToolkit=a:r.URLToolkit=a}(e)}}),cR=Ne({"../core/dist/serdes.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(_,v,p,E){E===void 0&&(E=p);var y=Object.getOwnPropertyDescriptor(v,p);(!y||("get"in y?!v.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return v[p]}}),Object.defineProperty(_,E,y)}:function(_,v,p,E){E===void 0&&(E=p),_[E]=v[p]}),r=e&&e.__setModuleDefault||(Object.create?function(_,v){Object.defineProperty(_,"default",{enumerable:!0,value:v})}:function(_,v){_.default=v}),n=e&&e.__importStar||function(){var _=function(v){return _=Object.getOwnPropertyNames||function(p){var E=[];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(E[E.length]=y);return E},_(v)};return function(v){if(v&&v.__esModule)return v;var p={};if(v!=null)for(var E=_(v),y=0;y<E.length;y++)E[y]!=="default"&&t(p,v,E[y]);return r(p,v),p}}();Object.defineProperty(e,"__esModule",{value:!0}),e.setContextLanguage=h,e.parseTD=g,e.serializeTD=m;var i=n(Ng()),o=ko(),s=F7(),a=B7(),{debug:l,warn:u}=(0,o.createLoggers)("core","serdes");function f(_,v){const p=_[v];(typeof p!="object"||p==null)&&(_[v]={})}function c(_,v){const p=_[v];(p===void 0||typeof p!="boolean")&&(_[v]=!1)}function h(_,v,p){if(Array.isArray(_["@context"])){const E=_["@context"];let y=!1;for(const S of E)typeof S=="object"&&S["@language"]!==void 0&&(p&&(S["@language"]=v),y=!0);y||E.push({"@language":v})}}function g(_,v){l(`parseTD() parsing
\`\`\`
${_}
\`\`\``);const p=JSON.parse(_.replace(/^\uFEFF/,""));if(p["@context"]===void 0)p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11];else if(Array.isArray(p["@context"])){let y=p["@context"];const S=y.indexOf(i.DEFAULT_CONTEXT_V1),$=y.indexOf(i.DEFAULT_CONTEXT_V11);S===-1&&$===-1?(y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&$!==-1?(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11),y.unshift(i.DEFAULT_CONTEXT_V1)):(S!==-1&&S!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V1}),y.unshift(i.DEFAULT_CONTEXT_V1)),$!==-1&&$!==0&&(y=y.filter(function(T){return T!==i.DEFAULT_CONTEXT_V11}),y.unshift(i.DEFAULT_CONTEXT_V11))),p["@context"]=y)}else if(p["@context"]!==i.DEFAULT_CONTEXT_V1&&p["@context"]!==i.DEFAULT_CONTEXT_V11){const y=p["@context"];p["@context"]=[i.DEFAULT_CONTEXT_V1,i.DEFAULT_CONTEXT_V11,y]}if(h(p,i.DEFAULT_CONTEXT_LANGUAGE,!1),p["@type"]===void 0)p["@type"]=i.DEFAULT_THING_TYPE;else if(Array.isArray(p["@type"])){const y=p["@type"];y.indexOf(i.DEFAULT_THING_TYPE)===-1&&y.unshift(i.DEFAULT_THING_TYPE)}else if(p["@type"]!==i.DEFAULT_THING_TYPE){const y=p["@type"];p["@type"]=[i.DEFAULT_THING_TYPE,y]}for(const y of Object.values(p.properties??{}))for(const S of["readOnly","writeOnly","observable"])c(y,S);for(const y of Object.values(p.actions??{}))for(const S of["safe","idempotent"])c(y,S);for(const y of["properties","actions","events"])f(p,y);p.security===void 0&&u("parseTD() found no security metadata"),typeof p.security=="string"&&(p.security=[p.security]);const E=[];for(const[y,S]of Object.entries(p.properties??{})){if(S.forms==null)throw new Error(`Property '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Property '${y}' has no href field`);if(!s($.href)&&p.base==null)throw new Error(`Form of Property '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(p.actions??{})){if(S.forms==null)throw new Error(`Action '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Action '${y}' has no href field`);if(!s($.href)&&p.base==null)throw new Error(`Form of Action '${y}' has relative URI while TD has no base field`);E.push($)}}for(const[y,S]of Object.entries(p.events??{})){if(S.forms==null)throw new Error(`Event '${y}' has no forms field`);for(const $ of S.forms){if(!$.href)throw new Error(`Form of Event '${y}' has no href field`);if(!s($.href)&&p.base==null)throw new Error(`Form of Event '${y}' has relative URI while TD has no base field`);E.push($)}}if(Object.prototype.hasOwnProperty.call(p,"base")&&(v===void 0||v===!0)){l("parseTD() normalizing 'base' into 'forms'");for(const y of E)y.href.match(/^([a-z0-9+-.]+:).+/i)||(l(`parseTDString() applying base '${p.base}' to '${y.href}'`),y.href=a.buildAbsoluteURL(p.base,y.href))}return p}function m(_){var E;const v=JSON.parse(JSON.stringify(_));if((v.security==null||v.security.length===0)&&(v.securityDefinitions={nosec_sc:{scheme:"nosec"}},v.security=["nosec_sc"]),((E=v.forms)==null?void 0:E.length)===0&&delete v.forms,v.properties!=null&&Object.keys(v.properties).length===0)delete v.properties;else if(v.properties!=null)for(const y of Object.values(v.properties))for(const S of["readOnly","writeOnly","observable"])c(y,S);if(v.actions!=null&&Object.keys(v.actions).length===0)delete v.actions;else if(v.actions!=null)for(const y of Object.values(v.actions))for(const S of["safe","idempotent"])c(y,S);return v.events!=null&&Object.keys(v.events).length===0&&delete v.events,(v==null?void 0:v.links.length)===0&&delete v.links,JSON.stringify(v)}}});function IU(){return Kc.now()/1e3}var Kc,Sf,U7=on({"../../node_modules/@jspm/core/nodelibs/browser/process.js"(){Te(),Kc={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Kc.now===void 0&&(Sf=Date.now(),Kc.timing&&Kc.timing.navigationStart&&(Sf=Kc.timing.navigationStart),Kc.now=()=>Date.now()-Sf)}}),jU={};ll(jU,{EOL:()=>DU,arch:()=>MU,constants:()=>CU,cpus:()=>LU,default:()=>Zt,endianness:()=>FU,freemem:()=>BU,getNetworkInterfaces:()=>UU,homedir:()=>zU,hostname:()=>qU,loadavg:()=>VU,networkInterfaces:()=>HU,platform:()=>WU,release:()=>GU,tmpDir:()=>KU,tmpdir:()=>JU,totalmem:()=>YU,type:()=>XU,uptime:()=>IU,version:()=>kU});function z7(){return ix||(ix=!0,Yn.endianness=function(){return"LE"},Yn.hostname=function(){return typeof location<"u"?location.hostname:""},Yn.loadavg=function(){return[]},Yn.uptime=function(){return 0},Yn.freemem=function(){return Number.MAX_VALUE},Yn.totalmem=function(){return Number.MAX_VALUE},Yn.cpus=function(){return[]},Yn.type=function(){return"Browser"},Yn.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Yn.networkInterfaces=Yn.getNetworkInterfaces=function(){return{}},Yn.arch=function(){return"javascript"},Yn.platform=function(){return"browser"},Yn.tmpdir=Yn.tmpDir=function(){return"/tmp"},Yn.EOL=`
`,Yn.homedir=function(){return"/"}),Yn}var Yn,ix,Zt,fC,kU,CU,DU,MU,LU,FU,BU,UU,zU,qU,VU,HU,WU,GU,KU,JU,YU,XU,q7=on({"../../node_modules/@jspm/core/nodelibs/browser/os.js"(){Te(),U7(),Yn={},ix=!1,Zt=z7(),Zt.endianness,Zt.hostname,Zt.loadavg,Zt.uptime,Zt.freemem,Zt.totalmem,Zt.cpus,Zt.type,Zt.release,Zt.networkInterfaces,Zt.getNetworkInterfaces,Zt.arch,Zt.platform,Zt.tmpdir,Zt.tmpDir,Zt.EOL,Zt.homedir,fC=new Uint8Array(new Uint16Array([1]).buffer)[0]===1?"LE":"BE",Zt.endianness=function(){return fC},Zt.homedir=function(){return"/home"},Zt.version=function(){return""},Zt.arch=function(){return"x64"},Zt.totalmem=function(){return navigator.deviceMemory!==void 0?navigator.deviceMemory*(1<<30):2*(1<<30)},Zt.cpus=function(){return Array(navigator.hardwareConcurrency||0).fill({model:"",times:{}})},Zt.uptime=IU,Zt.constants={},kU=Zt.version,CU=Zt.constants,DU=Zt.EOL,MU=Zt.arch,LU=Zt.cpus,FU=Zt.endianness,BU=Zt.freemem,UU=Zt.getNetworkInterfaces,zU=Zt.homedir,qU=Zt.hostname,VU=Zt.loadavg,HU=Zt.networkInterfaces,WU=Zt.platform,GU=Zt.release,KU=Zt.tmpDir,JU=Zt.tmpdir,YU=Zt.totalmem,XU=Zt.type}}),Db=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function s(p,...E){const y=[g(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,g(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),dC=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Db(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,g=(f=u.key)!==null&&f!==void 0?f:u.ref;let m=this._values[h];if(m){const p=m.get(g);if(p)return p}else m=this._values[h]=new Map;m.set(g,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const g in l){const m=l[g];if(!m)continue;const _=f[g]=f[g]||new Map;m.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=a}}),pr=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Db(),r=dC(),n=Db();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=dC();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,R){return this}},s=class extends o{constructor(P,R,z){super(),this.varKind=P,this.name=R,this.rhs=z}render({es5:P,_n:R}){const z=P?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${z} ${this.name}${oe};`+R}optimizeNames(P,R){if(P[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,P,R)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(P,R,z){super(),this.lhs=P,this.rhs=R,this.sideEffects=z}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,R){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,P,R),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends a{constructor(P,R,z,oe){super(P,z,oe),this.op=R}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},h=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,R){return this.code=X(this.code,P,R),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},g=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((R,z)=>R+z.render(P),"")}optimizeNodes(){const{nodes:P}=this;let R=P.length;for(;R--;){const z=P[R].optimizeNodes();Array.isArray(z)?P.splice(R,1,...z):z?P[R]=z:P.splice(R,1)}return P.length>0?this:void 0}optimizeNames(P,R){const{nodes:z}=this;let oe=z.length;for(;oe--;){const J=z[oe];J.optimizeNames(P,R)||(H(P,J.names),z.splice(oe,1))}return z.length>0?this:void 0}get names(){return this.nodes.reduce((P,R)=>F(P,R.names),{})}},m=class extends g{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends g{},v=class extends m{};v.kind="else";var p=class My extends m{constructor(R,z){super(z),this.condition=R}render(R){let z=`if(${this.condition})`+super.render(R);return this.else&&(z+="else "+this.else.render(R)),z}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let z=this.else;if(z){const oe=z.optimizeNodes();z=this.else=Array.isArray(oe)?new v(oe):oe}if(z)return R===!1?z instanceof My?z:z.nodes:this.nodes.length?this:new My(Z(R),z instanceof My?[z]:z.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,z){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(R,z),!!(super.optimizeNames(R,z)||this.else))return this.condition=X(this.condition,R,z),this}get names(){const R=super.names;return V(R,this.condition),this.else&&F(R,this.else.names),R}};p.kind="if";var E=class extends m{};E.kind="for";var y=class extends E{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,R){if(super.optimizeNames(P,R))return this.iteration=X(this.iteration,P,R),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(P,R,z,oe){super(),this.varKind=P,this.name=R,this.from=z,this.to=oe}render(P){const R=P.es5?r.varKinds.var:this.varKind,{name:z,from:oe,to:J}=this;return`for(${R} ${z}=${oe}; ${z}<${J}; ${z}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends E{constructor(P,R,z,oe){super(),this.loop=P,this.varKind=R,this.name=z,this.iterable=oe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,R){if(super.optimizeNames(P,R))return this.iterable=X(this.iterable,P,R),this}get names(){return F(super.names,this.iterable.names)}},T=class extends m{constructor(P,R,z){super(),this.name=P,this.args=R,this.async=z}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends g{render(P){return"return "+super.render(P)}};d.kind="return";var x=class extends m{render(P){let R="try"+super.render(P);return this.catch&&(R+=this.catch.render(P)),this.finally&&(R+=this.finally.render(P)),R}optimizeNodes(){var P,R;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(P,R){var z,oe;return super.optimizeNames(P,R),(z=this.catch)===null||z===void 0||z.optimizeNames(P,R),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(P,R),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},A=class extends m{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};A.kind="catch";var O=class extends m{render(P){return"finally"+super.render(P)}};O.kind="finally";var C=class{constructor(P,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,R){const z=this._extScope.value(P,R);return(this._values[z.prefix]||(this._values[z.prefix]=new Set)).add(z),z}getScopeValue(P,R){return this._extScope.getValue(P,R)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,R,z,oe){const J=this._scope.toName(R);return z!==void 0&&oe&&(this._constants[J.str]=z),this._leafNode(new s(P,J,z)),J}const(P,R,z){return this._def(r.varKinds.const,P,R,z)}let(P,R,z){return this._def(r.varKinds.let,P,R,z)}var(P,R,z){return this._def(r.varKinds.var,P,R,z)}assign(P,R,z){return this._leafNode(new a(P,R,z))}add(P,R){return this._leafNode(new l(P,e.operators.ADD,R))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const R=["{"];for(const[z,oe]of P)R.length>1&&R.push(","),R.push(z),(z!==oe||this.opts.es5)&&(R.push(":"),(0,t.addCodeArg)(R,oe));return R.push("}"),new t._Code(R)}if(P,R,z){if(this._blockNode(new p(P)),R&&z)this.code(R).else().code(z).endIf();else if(R)this.code(R).endIf();else if(z)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new p(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(P,R){return this._blockNode(P),R&&this.code(R).endFor(),this}for(P,R){return this._for(new y(P),R)}forRange(P,R,z,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new S(J,Y,R,z),()=>oe(Y))}forOf(P,R,z,oe=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=R instanceof t.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,t._)`${Y}.length`,ae=>{this.var(J,(0,t._)`${Y}[${ae}]`),z(J)})}return this._for(new $("of",oe,J,R),()=>z(J))}forIn(P,R,z,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${R})`,z);const J=this._scope.toName(P);return this._for(new $("in",oe,J,R),()=>z(J))}endFor(){return this._endBlockNode(E)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const R=new d;if(this._blockNode(R),this.code(P),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,R,z){if(!R&&!z)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new x;if(this._blockNode(oe),this.code(P),R){const J=this.name("e");this._currNode=oe.catch=new A(J),R(J)}return z&&(this._currNode=oe.finally=new O,this.code(z)),this._endBlockNode(A,O)}throw(P){return this._leafNode(new c(P))}block(P,R){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(R),this}endBlock(P){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const z=this._nodes.length-R;if(z<0||P!==void 0&&z!==P)throw new Error(`CodeGen: wrong number of nodes: ${z} vs ${P} expected`);return this._nodes.length=R,this}func(P,R=t.nil,z,oe){return this._blockNode(new T(P,R,z)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,R){const z=this._currNode;if(z instanceof P||R&&z instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${P.kind}/${R.kind}`:P.kind}"`)}_elseNode(P){const R=this._currNode;if(!(R instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const R=this._nodes;R[R.length-1]=P}};e.CodeGen=C;function F(P,R){for(const z in R)P[z]=(P[z]||0)+(R[z]||0);return P}function V(P,R){return R instanceof t._CodeOrName?F(P,R.names):P}function X(P,R,z){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,ae)=>(ae instanceof t.Name&&(ae=oe(ae)),ae instanceof t._Code?Y.push(...ae._items):Y.push(ae),Y),[]));function oe(Y){const ae=z[Y.str];return ae===void 0||R[Y.str]!==1?Y:(delete R[Y.str],ae)}function J(Y){return Y instanceof t._Code&&Y._items.some(ae=>ae instanceof t.Name&&R[ae.str]===1&&z[ae.str]!==void 0)}}function H(P,R){for(const z in R)P[z]=(P[z]||0)-(R[z]||0)}function Z(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${W(P)}`}e.not=Z;var fe=B(e.operators.AND);function ee(...P){return P.reduce(fe)}e.and=ee;var ne=B(e.operators.OR);function k(...P){return P.reduce(ne)}e.or=k;function B(P){return(R,z)=>R===t.nil?z:z===t.nil?R:(0,t._)`${W(R)} ${P} ${W(z)}`}function W(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),Br=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=pr(),r=Db();function n(T){const d={};for(const x of T)d[x]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!s(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:x,self:A}=T;if(!x.strictSchema||typeof d=="boolean")return;const O=A.RULES.keywords;for(const C in d)O[C]||$(T,`unknown keyword: "${C}"`)}e.checkUnknownRules=o;function s(T,d){if(typeof T=="boolean")return!T;for(const x in T)if(d[x])return!0;return!1}e.schemaHasRules=s;function a(T,d){if(typeof T=="boolean")return!T;for(const x in T)if(x!=="$ref"&&d.all[x])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:T,schemaPath:d},x,A,O){if(!O){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,t._)`${x}`}return(0,t._)`${T}${d}${(0,t.getProperty)(A)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function g(T,d){if(Array.isArray(T))for(const x of T)d(x);else d(T)}e.eachItem=g;function m({mergeNames:T,mergeToName:d,mergeValues:x,resultToName:A}){return(O,C,F,V)=>{const X=F===void 0?C:F instanceof t.Name?(C instanceof t.Name?T(O,C,F):d(O,C,F),F):C instanceof t.Name?(d(O,F,C),C):x(C,F);return V===t.Name&&!(X instanceof t.Name)?A(O,X):X}}e.mergeEvaluated={props:m({mergeNames:(T,d,x)=>T.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(x,!0),()=>T.assign(x,(0,t._)`${x} || {}`).code((0,t._)`Object.assign(${x}, ${d})`))}),mergeToName:(T,d,x)=>T.if((0,t._)`${x} !== true`,()=>{d===!0?T.assign(x,!0):(T.assign(x,(0,t._)`${x} || {}`),v(T,x,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:m({mergeNames:(T,d,x)=>T.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>T.assign(x,(0,t._)`${d} === true ? true : ${x} > ${d} ? ${x} : ${d}`)),mergeToName:(T,d,x)=>T.if((0,t._)`${x} !== true`,()=>T.assign(x,d===!0?!0:(0,t._)`${x} > ${d} ? ${x} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const x=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,x,d),x}e.evaluatedPropsToName=_;function v(T,d,x){Object.keys(x).forEach(A=>T.assign((0,t._)`${d}${(0,t.getProperty)(A)}`,!0))}e.setEvaluated=v;var p={};function E(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y||(e.Type=y={}));function S(T,d,x){if(T instanceof t.Name){const A=d===y.Num;return x?A?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:A?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,x=T.opts.strictSchema){if(x){if(d=`strict mode: ${d}`,x===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),hc=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),nE=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=pr(),r=Br(),n=hc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,x=c(v,p,E);y??(T||d)?l($,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[g(S,E),m(v,E)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:x,propertyName:A,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),A&&y.push([f.propertyName,A])}}}),V7=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=nE(),r=pr(),n=hc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),QU=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),ZU=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),Mb=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=QU(),r=ZU(),n=nE(),i=pr(),o=Br(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s||(e.DataType=s={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,x=c(S,d.coerceTypes),A=S.length>0&&!(x.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(A){const O=_(S,T,d.strictNumbers,s.Wrong);$.if(O,()=>{x.length?h(y,S,x):p(y)})}return A}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function h(y,S,$){const{gen:T,data:d,opts:x}=y,A=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);x.coerceTypes==="array"&&T.if((0,i._)`${A} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(A,(0,i._)`typeof ${d}`).if(_(S,d,x.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&x.coerceTypes==="array")&&C(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),g(y,O)});function C(F){switch(F){case"string":T.elseIf((0,i._)`${A} == "number" || ${A} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${A} == "boolean" || ${d} === null
              || (${A} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${A} === "boolean" || ${d} === null
              || (${A} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${A} === "string" || ${A} === "number"
              || ${A} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function g({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function m(y,S,$,T=s.Correct){const d=T===s.Correct?i.operators.EQ:i.operators.NEQ;let x;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":x=(0,i._)`Array.isArray(${S})`;break;case"object":x=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":x=A((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":x=A();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===s.Correct?x:(0,i.not)(x);function A(O=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,O,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=m;function _(y,S,$,T){if(y.length===1)return m(y[0],S,$,T);let d;const x=(0,o.toHash)(y);if(x.array&&x.object){const A=(0,i._)`typeof ${S} != "object"`;d=x.null?A:(0,i._)`!${S} || ${A}`,delete x.null,delete x.array,delete x.object}else d=i.nil;x.number&&delete x.integer;for(const A in x)d=(0,i.and)(d,m(A,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),H7=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=pr(),r=Br();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let g=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(g=(0,t._)`${g} || ${h} === null || ${h} === ""`),l.if(g,(0,t._)`${h} = ${(0,t.stringify)(a)}`)}}}),_a=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=pr(),r=Br(),n=hc(),i=Br();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(x=>(0,t.and)(c(y,S,x,$.ownProperties),(0,t._)`${d} = ${x}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function g(y,S){return h(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=g;function m({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:x},it:A},O,C,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,x)],[n.default.parentData,A.parentData],[n.default.parentDataProperty,A.parentDataProperty],[n.default.rootData,n.default.rootData]];A.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...X)}`;return C!==t.nil?(0,t._)`${O}.call(${C}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=m;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,x=d($,T);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:S,data:$,keyword:T,it:d}=y,x=S.name("valid");if(d.allErrors){const O=S.let("valid",!0);return A(()=>S.assign(O,!1)),O}return S.var(x,!0),A(()=>S.break()),x;function A(O){const C=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,C,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},x),S.if((0,t.not)(x),O)})}}e.validateArray=p;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(C=>(0,r.alwaysValidSchema)(d,C))&&!d.opts.unevaluated)return;const A=S.let("valid",!1),O=S.name("_valid");S.block(()=>$.forEach((C,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);S.assign(A,(0,t._)`${A} || ${O}`),y.mergeValidEvaluated(V,O)||S.if((0,t.not)(A))})),y.result(A,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),W7=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=pr(),r=hc(),n=_a(),i=nE();function o(g,m){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=g,S=m.macro.call(y.self,p,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");g.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),g.pass(T,()=>g.error(!0))}e.macroKeywordCode=o;function s(g,m){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:$}=g;u($,m);const T=!S&&m.compile?m.compile.call($.self,E,y,$):m.validate,d=f(v,p,T),x=v.let("valid");g.block$data(x,A),g.ok((_=m.valid)!==null&&_!==void 0?_:x);function A(){if(m.errors===!1)F(),m.modifying&&a(g),V(()=>g.error());else{const X=m.async?O():C();m.modifying&&a(g),V(()=>l(g,X))}}function O(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(x,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${H}.errors`),()=>v.throw(H))),X}function C(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=m.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,Z=!("compile"in m&&!S||m.schema===!1);v.assign(x,(0,t._)`${X}${(0,n.callValidateCode)(g,d,H,Z)}`,m.modifying)}function V(X){var H;v.if((0,t.not)((H=m.valid)!==null&&H!==void 0?H:x),X)}}e.funcKeywordCode=s;function a(g){const{gen:m,data:_,it:v}=g;m.if(v.parentData,()=>m.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(g,m){const{gen:_}=g;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${m} : ${r.default.vErrors}.concat(${m})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},m){if(m.async&&!g.$async)throw new Error("async keyword in sync schema")}function f(g,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return g.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(g,m,_=!1){return!m.length||m.some(v=>v==="array"?Array.isArray(g):v==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==v||_&&typeof g>"u")}e.validSchemaType=c;function h({schema:g,opts:m,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(g,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(g[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(m.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),G7=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=pr(),r=Br();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const g=s.schema[a];return l===void 0?{schema:g,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:g[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=a,E=g.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);m(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:g.let("data",f,!0);m(_),h!==void 0&&(s.propertyName=h)}c&&(s.dataTypes=c);function m(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Vh=Ne({"../../node_modules/fast-deep-equal/index.js"(e,t){Te(),t.exports=function r(n,i){if(n===i)return!0;if(n&&i&&typeof n=="object"&&typeof i=="object"){if(n.constructor!==i.constructor)return!1;var o,s,a;if(Array.isArray(n)){if(o=n.length,o!=i.length)return!1;for(s=o;s--!==0;)if(!r(n[s],i[s]))return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===i.toString();if(a=Object.keys(n),o=a.length,o!==Object.keys(i).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(i,a[s]))return!1;for(s=o;s--!==0;){var l=a[s];if(!r(n[l],i[l]))return!1}return!0}return n!==n&&i!==i}}}),K7=Ne({"../../node_modules/@thingweb/thing-model/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,h,g,m){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,h,g,m);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,s,a,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,h,g,m)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),iE=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Br(),r=Vh(),n=K7(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!a(v):p?l(v)<=p:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const p in v){if(s.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function g(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=g;var m=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),$={"":S},T=u(y,S,!1),d={},x=new Set;return n(v,{allKeys:!0},(C,F,V,X)=>{if(X===void 0)return;const H=T+F;let Z=$[X];typeof C[E]=="string"&&(Z=fe.call(this,C[E])),ee.call(this,C.$anchor),ee.call(this,C.$dynamicAnchor),$[F]=Z;function fe(ne){const k=this.opts.uriResolver.resolve;if(ne=h(Z?k(Z,ne):ne),x.has(ne))throw O(ne);x.add(ne);let B=this.refs[ne];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?A(C,B.schema,ne):ne!==h(H)&&(ne[0]==="#"?(A(C,d[ne],ne),d[ne]=C):this.refs[ne]=H),ne}function ee(ne){if(typeof ne=="string"){if(!m.test(ne))throw new Error(`invalid anchor "${ne}"`);fe.call(this,`#${ne}`)}}}),d;function A(C,F,V){if(F!==void 0&&!r(C,F))throw O(V)}function O(C){return new Error(`reference "${C}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),oE=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=V7(),r=Mb(),n=ZU(),i=Mb(),o=H7(),s=W7(),a=G7(),l=pr(),u=hc(),f=iE(),c=Br(),h=nE();function g(N){if(T(N)&&(x(N),$(N))){p(N);return}m(N,()=>(0,t.topBoolOrEmptySchema)(N))}e.validateFunctionCode=g;function m({gen:N,validateName:D,schema:M,schemaEnv:K,opts:se},ce){se.code.es5?N.func(D,(0,l._)`${u.default.data}, ${u.default.valCxt}`,K.$async,()=>{N.code((0,l._)`"use strict"; ${y(M,se)}`),v(N,se),N.code(ce)}):N.func(D,(0,l._)`${u.default.data}, ${_(se)}`,K.$async,()=>N.code(y(M,se)).code(ce))}function _(N){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${N.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(N,D){N.if(u.default.valCxt,()=>{N.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),N.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),N.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),N.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),D.dynamicRef&&N.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{N.var(u.default.instancePath,(0,l._)`""`),N.var(u.default.parentData,(0,l._)`undefined`),N.var(u.default.parentDataProperty,(0,l._)`undefined`),N.var(u.default.rootData,u.default.data),D.dynamicRef&&N.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(N){const{schema:D,opts:M,gen:K}=N;m(N,()=>{M.$comment&&D.$comment&&X(N),C(N),K.let(u.default.vErrors,null),K.let(u.default.errors,0),M.unevaluated&&E(N),A(N),H(N)})}function E(N){const{gen:D,validateName:M}=N;N.evaluated=D.const("evaluated",(0,l._)`${M}.evaluated`),D.if((0,l._)`${N.evaluated}.dynamicProps`,()=>D.assign((0,l._)`${N.evaluated}.props`,(0,l._)`undefined`)),D.if((0,l._)`${N.evaluated}.dynamicItems`,()=>D.assign((0,l._)`${N.evaluated}.items`,(0,l._)`undefined`))}function y(N,D){const M=typeof N=="object"&&N[D.schemaId];return M&&(D.code.source||D.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(N,D){if(T(N)&&(x(N),$(N))){d(N,D);return}(0,t.boolOrEmptySchema)(N,D)}function $({schema:N,self:D}){if(typeof N=="boolean")return!N;for(const M in N)if(D.RULES.all[M])return!0;return!1}function T(N){return typeof N.schema!="boolean"}function d(N,D){const{schema:M,gen:K,opts:se}=N;se.$comment&&M.$comment&&X(N),F(N),V(N);const ce=K.const("_errs",u.default.errors);A(N,ce),K.var(D,(0,l._)`${ce} === ${u.default.errors}`)}function x(N){(0,c.checkUnknownRules)(N),O(N)}function A(N,D){if(N.opts.jtd)return fe(N,[],!1,D);const M=(0,r.getSchemaTypes)(N.schema),K=(0,r.coerceAndCheckDataType)(N,M);fe(N,M,!K,D)}function O(N){const{schema:D,errSchemaPath:M,opts:K,self:se}=N;D.$ref&&K.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(D,se.RULES)&&se.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function C(N){const{schema:D,opts:M}=N;D.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(N,"default is ignored in the schema root")}function F(N){const D=N.schema[N.opts.schemaId];D&&(N.baseId=(0,f.resolveUrl)(N.opts.uriResolver,N.baseId,D))}function V(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:N,schemaEnv:D,schema:M,errSchemaPath:K,opts:se}){const ce=M.$comment;if(se.$comment===!0)N.code((0,l._)`${u.default.self}.logger.log(${ce})`);else if(typeof se.$comment=="function"){const de=(0,l.str)`${K}/$comment`,pe=N.scopeValue("root",{ref:D.root});N.code((0,l._)`${u.default.self}.opts.$comment(${ce}, ${de}, ${pe}.schema)`)}}function H(N){const{gen:D,schemaEnv:M,validateName:K,ValidationError:se,opts:ce}=N;M.$async?D.if((0,l._)`${u.default.errors} === 0`,()=>D.return(u.default.data),()=>D.throw((0,l._)`new ${se}(${u.default.vErrors})`)):(D.assign((0,l._)`${K}.errors`,u.default.vErrors),ce.unevaluated&&Z(N),D.return((0,l._)`${u.default.errors} === 0`))}function Z({gen:N,evaluated:D,props:M,items:K}){M instanceof l.Name&&N.assign((0,l._)`${D}.props`,M),K instanceof l.Name&&N.assign((0,l._)`${D}.items`,K)}function fe(N,D,M,K){const{gen:se,schema:ce,data:de,allErrors:pe,opts:Ae,self:Le}=N,{RULES:Ce}=Le;if(ce.$ref&&(Ae.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ce,Ce))){se.block(()=>Y(N,"$ref",Ce.all.$ref.definition));return}Ae.jtd||ne(N,D),se.block(()=>{for(const qe of Ce.rules)rt(qe);rt(Ce.post)});function rt(qe){(0,n.shouldUseGroup)(ce,qe)&&(qe.type?(se.if((0,i.checkDataType)(qe.type,de,Ae.strictNumbers)),ee(N,qe),D.length===1&&D[0]===qe.type&&M&&(se.else(),(0,i.reportTypeError)(N)),se.endIf()):ee(N,qe),pe||se.if((0,l._)`${u.default.errors} === ${K||0}`))}}function ee(N,D){const{gen:M,schema:K,opts:{useDefaults:se}}=N;se&&(0,o.assignDefaults)(N,D.type),M.block(()=>{for(const ce of D.rules)(0,n.shouldUseRule)(K,ce)&&Y(N,ce.keyword,ce.definition,D.type)})}function ne(N,D){N.schemaEnv.meta||!N.opts.strictTypes||(k(N,D),N.opts.allowUnionTypes||B(N,D),W(N,N.dataTypes))}function k(N,D){if(D.length){if(!N.dataTypes.length){N.dataTypes=D;return}D.forEach(M=>{R(N.dataTypes,M)||oe(N,`type "${M}" not allowed by context "${N.dataTypes.join(",")}"`)}),z(N,D)}}function B(N,D){D.length>1&&!(D.length===2&&D.includes("null"))&&oe(N,"use allowUnionTypes to allow union type keyword")}function W(N,D){const M=N.self.RULES.all;for(const K in M){const se=M[K];if(typeof se=="object"&&(0,n.shouldUseRule)(N.schema,se)){const{type:ce}=se.definition;ce.length&&!ce.some(de=>P(D,de))&&oe(N,`missing type "${ce.join(",")}" for keyword "${K}"`)}}}function P(N,D){return N.includes(D)||D==="number"&&N.includes("integer")}function R(N,D){return N.includes(D)||D==="integer"&&N.includes("number")}function z(N,D){const M=[];for(const K of N.dataTypes)R(D,K)?M.push(K):D.includes("integer")&&K==="number"&&M.push("integer");N.dataTypes=M}function oe(N,D){const M=N.schemaEnv.baseId+N.errSchemaPath;D+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(N,D,N.opts.strictTypes)}var J=class{constructor(N,D,M){if((0,s.validateKeywordUsage)(N,D,M),this.gen=N.gen,this.allErrors=N.allErrors,this.keyword=M,this.data=N.data,this.schema=N.schema[M],this.$data=D.$data&&N.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(N,this.schema,M,this.$data),this.schemaType=D.schemaType,this.parentSchema=N.schema,this.params={},this.it=N,this.def=D,this.$data)this.schemaCode=N.gen.const("vSchema",Ie(this.$data,N));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=N.gen.const("_errs",u.default.errors))}result(N,D,M){this.failResult((0,l.not)(N),D,M)}failResult(N,D,M){this.gen.if(N),M?M():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(N,D){this.failResult((0,l.not)(N),void 0,D)}fail(N){if(N===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(N),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(N){if(!this.$data)return this.fail(N);const{schemaCode:D}=this;this.fail((0,l._)`${D} !== undefined && (${(0,l.or)(this.invalid$data(),N)})`)}error(N,D,M){if(D){this.setParams(D),this._error(N,M),this.setParams({});return}this._error(N,M)}_error(N,D){(N?h.reportExtraError:h.reportError)(this,this.def.error,D)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(N){this.allErrors||this.gen.if(N)}setParams(N,D){D?Object.assign(this.params,N):this.params=N}block$data(N,D,M=l.nil){this.gen.block(()=>{this.check$data(N,M),D()})}check$data(N=l.nil,D=l.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:se,def:ce}=this;M.if((0,l.or)((0,l._)`${K} === undefined`,D)),N!==l.nil&&M.assign(N,!0),(se.length||ce.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),N!==l.nil&&M.assign(N,!1)),M.else()}invalid$data(){const{gen:N,schemaCode:D,schemaType:M,def:K,it:se}=this;return(0,l.or)(ce(),de());function ce(){if(M.length){if(!(D instanceof l.Name))throw new Error("ajv implementation error");const pe=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(pe,D,se.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(K.validateSchema){const pe=N.scopeValue("validate$data",{ref:K.validateSchema});return(0,l._)`!${pe}(${D})`}return l.nil}}subschema(N,D){const M=(0,a.getSubschema)(this.it,N);(0,a.extendSubschemaData)(M,this.it,N),(0,a.extendSubschemaMode)(M,N);const K={...this.it,...M,items:void 0,props:void 0};return S(K,D),K}mergeEvaluated(N,D){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&N.props!==void 0&&(M.props=c.mergeEvaluated.props(K,N.props,M.props,D)),M.items!==!0&&N.items!==void 0&&(M.items=c.mergeEvaluated.items(K,N.items,M.items,D)))}mergeValidEvaluated(N,D){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(D,()=>this.mergeEvaluated(N,l.Name)),!0}};e.KeywordCxt=J;function Y(N,D,M,K){const se=new J(N,M,D);"code"in M?M.code(se,K):se.$data&&M.validate?(0,s.funcKeywordCode)(se,M):"macro"in M?(0,s.macroKeywordCode)(se,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(se,M)}var ae=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ie(N,{dataLevel:D,dataNames:M,dataPathArr:K}){let se,ce;if(N==="")return u.default.rootData;if(N[0]==="/"){if(!ae.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);se=N,ce=u.default.rootData}else{const Le=be.exec(N);if(!Le)throw new Error(`Invalid JSON-pointer: ${N}`);const Ce=+Le[1];if(se=Le[2],se==="#"){if(Ce>=D)throw new Error(Ae("property/index",Ce));return K[D-Ce]}if(Ce>D)throw new Error(Ae("data",Ce));if(ce=M[D-Ce],!se)return ce}let de=ce;const pe=se.split("/");for(const Le of pe)Le&&(ce=(0,l._)`${ce}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,de=(0,l._)`${de} && ${ce}`);return de;function Ae(Le,Ce){return`Cannot access ${Le} ${Ce} levels up, current level is ${D}`}}e.getData=Ie}}),fR=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),sE=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=iE(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),dR=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=pr(),r=fR(),n=hc(),i=iE(),o=Br(),s=oE(),a=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let x;p.$async&&(x=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const A=d.scopeName("validate");p.validateName=A;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:A,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(p),(0,s.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();C=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(C=this.opts.code.process(C,p));const X=new Function(`${n.default.self}`,`${n.default.scope}`,C)(this,this.scope.get());if(this.scope.value(A,{ref:X}),X.errors=null,X.schema=p.schema,X.schemaEnv=p,p.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:A,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:Z}=O;X.evaluated={props:H instanceof t.Name?void 0:H,items:Z instanceof t.Name?void 0:Z,dynamicProps:H instanceof t.Name,dynamicItems:Z instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return p.validate=X,p}catch(F){throw delete p.validate,delete p.validateName,C&&this.logger.error("Error compiling schema, function code:",C),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=p.refs[y];if($)return $;let T=g.call(this,p,y);if(T===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:x}=this.opts;d&&(T=new a({schema:d,schemaId:x,root:p,baseId:E}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function g(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||m.call(this,p,E)}function m(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===$)return v.call(this,y,p);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const x=m.call(this,p,d);return typeof(x==null?void 0:x.schema)!="object"?void 0:v.call(this,y,x)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:x}=d,{schemaId:A}=this.opts,O=x[A];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new a({schema:x,schemaId:A,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=m;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const A=y[(0,o.unescapeFragment)(x)];if(A===void 0)return;y=A;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(x)&&O&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const x=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=m.call(this,S,x)}const{schemaId:d}=this.opts;if(T=T||new a({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),J7=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),Y7=Ne({"../../node_modules/fast-uri/lib/scopedChars.js"(e,t){Te();var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};t.exports={HEX:r}}}),X7=Ne({"../../node_modules/fast-uri/lib/utils.js"(e,t){Te();var{HEX:r}=Y7(),n=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function i(p){if(u(p,".")<3)return{host:p,isIPV4:!1};const E=p.match(n)||[],[y]=E;return y?{host:l(y,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function o(p,E=!1){let y="",S=!0;for(const $ of p){if(r[$]===void 0)return;$!=="0"&&S===!0&&(S=!1),S||(y+=$)}return E&&y.length===0&&(y="0"),y}function s(p){let E=0;const y={error:!1,address:"",zone:""},S=[],$=[];let T=!1,d=!1,x=!1;function A(){if($.length){if(T===!1){const O=o($);if(O!==void 0)S.push(O);else return y.error=!0,!1}$.length=0}return!0}for(let O=0;O<p.length;O++){const C=p[O];if(!(C==="["||C==="]"))if(C===":"){if(d===!0&&(x=!0),!A())break;if(E++,S.push(":"),E>7){y.error=!0;break}O-1>=0&&p[O-1]===":"&&(d=!0);continue}else if(C==="%"){if(!A())break;T=!0}else{$.push(C);continue}}return $.length&&(T?y.zone=$.join(""):x?S.push($.join("")):S.push(o($))),y.address=S.join(""),y}function a(p){if(u(p,":")<2)return{host:p,isIPV6:!1};const E=s(p);if(E.error)return{host:p,isIPV6:!1};{let y=E.address,S=E.address;return E.zone&&(y+="%"+E.zone,S+="%25"+E.zone),{host:y,escapedHost:S,isIPV6:!0}}}function l(p,E){let y="",S=!0;const $=p.length;for(let T=0;T<$;T++){const d=p[T];d==="0"&&S?(T+1<=$&&p[T+1]===E||T+1===$)&&(y+=d,S=!1):(d===E?S=!0:S=!1,y+=d)}return y}function u(p,E){let y=0;for(let S=0;S<p.length;S++)p[S]===E&&y++;return y}var f=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,h=/^\/\.\.(?:\/|$)/u,g=/^\/?(?:.|\n)*?(?=\/|$)/u;function m(p){const E=[];for(;p.length;)if(p.match(f))p=p.replace(f,"");else if(p.match(c))p=p.replace(c,"/");else if(p.match(h))p=p.replace(h,"/"),E.pop();else if(p==="."||p==="..")p="";else{const y=p.match(g);if(y){const S=y[0];p=p.slice(S.length),E.push(S)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function _(p,E){const y=E!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=y(p.scheme)),p.userinfo!==void 0&&(p.userinfo=y(p.userinfo)),p.host!==void 0&&(p.host=y(p.host)),p.path!==void 0&&(p.path=y(p.path)),p.query!==void 0&&(p.query=y(p.query)),p.fragment!==void 0&&(p.fragment=y(p.fragment)),p}function v(p){const E=[];if(p.userinfo!==void 0&&(E.push(p.userinfo),E.push("@")),p.host!==void 0){let y=unescape(p.host);const S=i(y);if(S.isIPV4)y=S.host;else{const $=a(S.host);$.isIPV6===!0?y=`[${$.escapedHost}]`:y=p.host}E.push(y)}return(typeof p.port=="number"||typeof p.port=="string")&&(E.push(":"),E.push(String(p.port))),E.length?E.join(""):void 0}t.exports={recomposeAuthority:v,normalizeComponentEncoding:_,removeDotSegments:m,normalizeIPv4:i,normalizeIPv6:a,stringArrayToHexStripped:o}}}),Q7=Ne({"../../node_modules/fast-uri/lib/schemes.js"(e,t){Te();var r=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,n=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function i(S){return typeof S.secure=="boolean"?S.secure:String(S.scheme).toLowerCase()==="wss"}function o(S){return S.host||(S.error=S.error||"HTTP URIs must have a host."),S}function s(S){const $=String(S.scheme).toLowerCase()==="https";return(S.port===($?443:80)||S.port==="")&&(S.port=void 0),S.path||(S.path="/"),S}function a(S){return S.secure=i(S),S.resourceName=(S.path||"/")+(S.query?"?"+S.query:""),S.path=void 0,S.query=void 0,S}function l(S){if((S.port===(i(S)?443:80)||S.port==="")&&(S.port=void 0),typeof S.secure=="boolean"&&(S.scheme=S.secure?"wss":"ws",S.secure=void 0),S.resourceName){const[$,T]=S.resourceName.split("?");S.path=$&&$!=="/"?$:void 0,S.query=T,S.resourceName=void 0}return S.fragment=void 0,S}function u(S,$){if(!S.path)return S.error="URN can not be parsed",S;const T=S.path.match(n);if(T){const d=$.scheme||S.scheme||"urn";S.nid=T[1].toLowerCase(),S.nss=T[2];const x=`${d}:${$.nid||S.nid}`,A=y[x];S.path=void 0,A&&(S=A.parse(S,$))}else S.error=S.error||"URN can not be parsed.";return S}function f(S,$){const T=$.scheme||S.scheme||"urn",d=S.nid.toLowerCase(),x=`${T}:${$.nid||d}`,A=y[x];A&&(S=A.serialize(S,$));const O=S,C=S.nss;return O.path=`${d||$.nid}:${C}`,$.skipEscape=!0,O}function c(S,$){const T=S;return T.uuid=T.nss,T.nss=void 0,!$.tolerant&&(!T.uuid||!r.test(T.uuid))&&(T.error=T.error||"UUID is not valid."),T}function h(S){const $=S;return $.nss=(S.uuid||"").toLowerCase(),$}var g={scheme:"http",domainHost:!0,parse:o,serialize:s},m={scheme:"https",domainHost:g.domainHost,parse:o,serialize:s},_={scheme:"ws",domainHost:!0,parse:a,serialize:l},v={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},p={scheme:"urn",parse:u,serialize:f,skipNormalize:!0},E={scheme:"urn:uuid",parse:c,serialize:h,skipNormalize:!0},y={http:g,https:m,ws:_,wss:v,urn:p,"urn:uuid":E};t.exports=y}}),Z7=Ne({"../../node_modules/fast-uri/index.js"(e,t){Te();var{normalizeIPv6:r,normalizeIPv4:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:s}=X7(),a=Q7();function l(E,y){return typeof E=="string"?E=h(v(E,y),y):typeof E=="object"&&(E=v(h(E,y),y)),E}function u(E,y,S){const $=Object.assign({scheme:"null"},S),T=f(v(E,$),v(y,$),$,!0);return h(T,{...$,skipEscape:!0})}function f(E,y,S,$){const T={};return $||(E=v(h(E,S),S),y=v(h(y,S),S)),S=S||{},!S.tolerant&&y.scheme?(T.scheme=y.scheme,T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(T.userinfo=y.userinfo,T.host=y.host,T.port=y.port,T.path=i(y.path||""),T.query=y.query):(y.path?(y.path.charAt(0)==="/"?T.path=i(y.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?T.path="/"+y.path:E.path?T.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+y.path:T.path=y.path,T.path=i(T.path)),T.query=y.query):(T.path=E.path,y.query!==void 0?T.query=y.query:T.query=E.query),T.userinfo=E.userinfo,T.host=E.host,T.port=E.port),T.scheme=E.scheme),T.fragment=y.fragment,T}function c(E,y,S){return typeof E=="string"?(E=unescape(E),E=h(s(v(E,S),!0),{...S,skipEscape:!0})):typeof E=="object"&&(E=h(s(E,!0),{...S,skipEscape:!0})),typeof y=="string"?(y=unescape(y),y=h(s(v(y,S),!0),{...S,skipEscape:!0})):typeof y=="object"&&(y=h(s(y,!0),{...S,skipEscape:!0})),E.toLowerCase()===y.toLowerCase()}function h(E,y){const S={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},$=Object.assign({},y),T=[],d=a[($.scheme||S.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(S,$),S.path!==void 0&&($.skipEscape?S.path=unescape(S.path):(S.path=escape(S.path),S.scheme!==void 0&&(S.path=S.path.split("%3A").join(":")))),$.reference!=="suffix"&&S.scheme&&T.push(S.scheme,":");const x=o(S);if(x!==void 0&&($.reference!=="suffix"&&T.push("//"),T.push(x),S.path&&S.path.charAt(0)!=="/"&&T.push("/")),S.path!==void 0){let A=S.path;!$.absolutePath&&(!d||!d.absolutePath)&&(A=i(A)),x===void 0&&(A=A.replace(/^\/\//u,"/%2F")),T.push(A)}return S.query!==void 0&&T.push("?",S.query),S.fragment!==void 0&&T.push("#",S.fragment),T.join("")}var g=Array.from({length:127},(E,y)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(y)));function m(E){let y=0;for(let S=0,$=E.length;S<$;++S)if(y=E.charCodeAt(S),y>126||g[y])return!0;return!1}var _=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(E,y){const S=Object.assign({},y),$={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},T=E.indexOf("%")!==-1;let d=!1;S.reference==="suffix"&&(E=(S.scheme?S.scheme+":":"")+"//"+E);const x=E.match(_);if(x){if($.scheme=x[1],$.userinfo=x[3],$.host=x[4],$.port=parseInt(x[5],10),$.path=x[6]||"",$.query=x[7],$.fragment=x[8],isNaN($.port)&&($.port=x[5]),$.host){const O=n($.host);if(O.isIPV4===!1){const C=r(O.host);$.host=C.host.toLowerCase(),d=C.isIPV6}else $.host=O.host,d=!0}$.scheme===void 0&&$.userinfo===void 0&&$.host===void 0&&$.port===void 0&&$.query===void 0&&!$.path?$.reference="same-document":$.scheme===void 0?$.reference="relative":$.fragment===void 0?$.reference="absolute":$.reference="uri",S.reference&&S.reference!=="suffix"&&S.reference!==$.reference&&($.error=$.error||"URI is not a "+S.reference+" reference.");const A=a[(S.scheme||$.scheme||"").toLowerCase()];if(!S.unicodeSupport&&(!A||!A.unicodeSupport)&&$.host&&(S.domainHost||A&&A.domainHost)&&d===!1&&m($.host))try{$.host=URL.domainToASCII($.host.toLowerCase())}catch(O){$.error=$.error||"Host's domain name can not be converted to ASCII: "+O}(!A||A&&!A.skipNormalize)&&(T&&$.scheme!==void 0&&($.scheme=unescape($.scheme)),T&&$.host!==void 0&&($.host=unescape($.host)),$.path&&($.path=escape(unescape($.path))),$.fragment&&($.fragment=encodeURI(decodeURIComponent($.fragment)))),A&&A.parse&&A.parse($,S)}else $.error=$.error||"URI can not be parsed.";return $}var p={SCHEMES:a,normalize:l,resolve:u,resolveComponents:f,equal:c,serialize:h,parse:v};t.exports=p,t.exports.default=p,t.exports.fastUri=p}}),eee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Z7();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),tee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=oE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=fR(),i=sE(),o=QU(),s=dR(),a=pr(),l=iE(),u=Mb(),f=Br(),c=J7(),h=eee(),g=(k,B)=>new RegExp(k,B);g.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(k){var B,W,P,R,z,oe,J,Y,ae,be,Ie,N,D,M,K,se,ce,de,pe,Ae,Le,Ce,rt,qe,Ue;const G=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ie=(P=(W=k.code)===null||W===void 0?void 0:W.regExp)!==null&&P!==void 0?P:g,ye=(R=k.uriResolver)!==null&&R!==void 0?R:h.default;return{strictSchema:(oe=(z=k.strictSchema)!==null&&z!==void 0?z:G)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:G)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(ae=k.strictTypes)!==null&&ae!==void 0?ae:G)!==null&&be!==void 0?be:"log",strictTuples:(N=(Ie=k.strictTuples)!==null&&Ie!==void 0?Ie:G)!==null&&N!==void 0?N:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:G)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ie}:{optimize:L,regExp:ie},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:E,loopEnum:(se=k.loopEnum)!==null&&se!==void 0?se:E,meta:(ce=k.meta)!==null&&ce!==void 0?ce:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(Ae=k.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(Ce=k.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(rt=k.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...y(k)};const{es5:B,lines:W}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:B,lines:W}),this.logger=F(k.logger);const P=k.validateFormats;k.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,k,"NOT SUPPORTED"),$.call(this,p,k,"DEPRECATED","warn"),this._metaOpts=O.call(this),k.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&A.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),d.call(this),k.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:B,schemaId:W}=this.opts;let P=c;W==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&k&&this.addMetaSchema(P,P[W],!1)}defaultMeta(){const{meta:k,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[B]||k:void 0}validate(k,B){let W;if(typeof k=="string"){if(W=this.getSchema(k),!W)throw new Error(`no schema with key or ref "${k}"`)}else W=this.compile(k);const P=W(B);return"$async"in W||(this.errors=W.errors),P}compile(k,B){const W=this._addSchema(k,B);return W.validate||this._compileSchemaEnv(W)}compileAsync(k,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return P.call(this,k,B);async function P(ae,be){await R.call(this,ae.$schema);const Ie=this._addSchema(ae,be);return Ie.validate||z.call(this,Ie)}async function R(ae){ae&&!this.getSchema(ae)&&await P.call(this,{$ref:ae},!0)}async function z(ae){try{return this._compileSchemaEnv(ae)}catch(be){if(!(be instanceof i.default))throw be;return oe.call(this,be),await J.call(this,be.missingSchema),z.call(this,ae)}}function oe({missingSchema:ae,missingRef:be}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${be} cannot be resolved`)}async function J(ae){const be=await Y.call(this,ae);this.refs[ae]||await R.call(this,be.$schema),this.refs[ae]||this.addSchema(be,ae,B)}async function Y(ae){const be=this._loading[ae];if(be)return be;try{return await(this._loading[ae]=W(ae))}finally{delete this._loading[ae]}}}addSchema(k,B,W,P=this.opts.validateSchema){if(Array.isArray(k)){for(const z of k)this.addSchema(z,void 0,W,P);return this}let R;if(typeof k=="object"){const{schemaId:z}=this.opts;if(R=k[z],R!==void 0&&typeof R!="string")throw new Error(`schema ${z} must be string`)}return B=(0,l.normalizeId)(B||R),this._checkUnique(B),this.schemas[B]=this._addSchema(k,W,B,P,!0),this}addMetaSchema(k,B,W=this.opts.validateSchema){return this.addSchema(k,B,!0,W),this}validateSchema(k,B){if(typeof k=="boolean")return!0;let W;if(W=k.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(W,k);if(!P&&B){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return P}getSchema(k){let B;for(;typeof(B=T.call(this,k))=="string";)k=B;if(B===void 0){const{schemaId:W}=this.opts,P=new s.SchemaEnv({schema:{},schemaId:W});if(B=s.resolveSchema.call(this,P,k),!B)return;this.refs[k]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,k);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const B=k;this._cache.delete(B);let W=k[this.opts.schemaId];return W&&(W=(0,l.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const B of k)this.addKeyword(B);return this}addKeyword(k,B){let W;if(typeof k=="string")W=k,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=W);else if(typeof k=="object"&&B===void 0){if(B=k,W=B.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,W,B),!B)return(0,f.eachItem)(W,R=>H.call(this,R)),this;fe.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(W,P.type.length===0?R=>H.call(this,R,P):R=>P.type.forEach(z=>H.call(this,R,P,z))),this}getKeyword(k){const B=this.RULES.all[k];return typeof B=="object"?B.definition:!!B}removeKeyword(k){const{RULES:B}=this;delete B.keywords[k],delete B.all[k];for(const W of B.rules){const P=W.rules.findIndex(R=>R.keyword===k);P>=0&&W.rules.splice(P,1)}return this}addFormat(k,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[k]=B,this}errorsText(k=this.errors,{separator:B=", ",dataVar:W="data"}={}){return!k||k.length===0?"No errors":k.map(P=>`${W}${P.instancePath} ${P.message}`).reduce((P,R)=>P+B+R)}$dataMetaSchema(k,B){const W=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const P of B){const R=P.split("/").slice(1);let z=k;for(const oe of R)z=z[oe];for(const oe in W){const J=W[oe];if(typeof J!="object")continue;const{$data:Y}=J.definition,ae=z[oe];Y&&ae&&(z[oe]=ne(ae))}}return k}_removeAllSchemas(k,B){for(const W in k){const P=k[W];(!B||B.test(W))&&(typeof P=="string"?delete k[W]:P&&!P.meta&&(this._cache.delete(P.schema),delete k[W]))}}_addSchema(k,B,W,P=this.opts.validateSchema,R=this.opts.addUsedSchema){let z;const{schemaId:oe}=this.opts;if(typeof k=="object")z=k[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(k);if(J!==void 0)return J;W=(0,l.normalizeId)(z||W);const Y=l.getSchemaRefs.call(this,k,W);return J=new s.SchemaEnv({schema:k,schemaId:oe,meta:B,baseId:W,localRefs:Y}),this._cache.set(J.schema,J),R&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=J),P&&this.validateSchema(k,!0),J}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):s.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const B=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,k)}finally{this.opts=B}}};S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(k,B,W,P="error"){for(const R in k){const z=R;z in B&&this.logger[P](`${W}: option ${R}. ${k[z]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function x(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function A(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const W=k[B];W.keyword||(W.keyword=B),this.addKeyword(W)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}var C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(k,B){const{RULES:W}=this;if((0,f.eachItem)(k,P=>{if(W.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,W){var P;const R=B==null?void 0:B.post;if(W&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:z}=this;let oe=R?z.post:z.rules.find(({type:Y})=>Y===W);if(oe||(oe={type:W,rules:[]},z.rules.push(oe)),z.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,oe,J,B.before):oe.rules.push(J),z.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function Z(k,B,W){const P=k.rules.findIndex(R=>R.keyword===W);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${W} is not defined`))}function fe(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ne(B)),k.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(k){return{anyOf:[k,ee]}}}}),ree=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),nee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=sE(),r=_a(),n=pr(),i=hc(),o=dR(),s=Br(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:g}=f,{baseId:m,schemaEnv:_,validateName:v,opts:p,self:E}=g,{root:y}=_;if((h==="#"||h==="#/")&&m===y.baseId)return $();const S=o.resolveRef.call(E,y,m,h);if(S===void 0)throw new t.default(g.opts.uriResolver,m,h);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const x=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${x}.validate`,y,y.$async)}function T(x){const A=l(f,x);u(f,A,x,x.$async)}function d(x){const A=c.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,n.stringify)(x)}:{ref:x}),O=c.name("valid"),C=f.subschema({schema:x,dataTypes:[],schemaPath:n.nil,topSchemaRef:A,errSchemaPath:h},O);f.mergeEvaluated(C),f.ok(O)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,g){const{gen:m,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;g?S():$();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||m.assign(x,!0)},A=>{m.if((0,n._)`!(${A} instanceof ${_.ValidationError})`,()=>m.throw(A)),T(A),v||m.assign(x,!1)}),f.ok(x)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(x){const A=(0,n._)`${x}.errors`;m.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${A} : ${i.default.vErrors}.concat(${A})`),m.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(x){var A;if(!_.opts.unevaluated)return;const O=(A=h==null?void 0:h.validate)===null||A===void 0?void 0:A.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=s.mergeEvaluated.props(m,O.props,_.props));else{const C=m.var("props",(0,n._)`${x}.evaluated.props`);_.props=s.mergeEvaluated.props(m,C,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=s.mergeEvaluated.items(m,O.items,_.items));else{const C=m.var("items",(0,n._)`${x}.evaluated.items`);_.items=s.mergeEvaluated.items(m,C,_.items,n.Name)}}}e.callRef=u,e.default=a}}),iee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ree(),r=nee(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),oee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),see=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),aee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),lee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=aee(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),uee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_a(),r=pr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${s})`)}};e.default=i}}),cee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),fee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_a(),r=pr(),n=Br(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:h}=s,{opts:g}=h;if(!c&&l.length===0)return;const m=l.length>=g.loopRequired;if(h.allErrors?_():v(),g.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(m||c)s.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(m||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function p(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,g.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,g.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),dee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),hR=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Vh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),hee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Mb(),r=pr(),n=Br(),i=hR(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:g,it:m}=a;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];a.block$data(_,p,(0,r._)`${g} === false`),a.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");a.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),x=(0,t.checkDataTypes)(v,d,m.opts.strictNumbers,t.DataType.Wrong),A=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(x,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${A}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${A}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${A}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),x=l.name("outer");l.label(x).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{a.error(),l.assign(_,!1).break(x)})))}}};e.default=s}}),pee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=hR(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),mee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=hR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:h}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const g=f.length>=h.opts.loopEnum;let m;const _=()=>m??(m=(0,r.useFunc)(a,n.default));let v;if(g||u)v=a.let("valid"),s.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}s.pass(v);function p(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),gee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=oee(),r=see(),n=lee(),i=uee(),o=cee(),s=fee(),a=dee(),l=hee(),u=pee(),f=mee(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),ez=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=pr(),r=Br(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:h}=s;h.items=!0;const g=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${g} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${g} <= ${a.length}`);l.if((0,t.not)(_),()=>m(_)),s.ok(_)}function m(_){l.forRange("i",a.length,g,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),tz=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=pr(),r=Br(),n=_a(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:g}=s;v(f),g.opts.unevaluated&&l.length&&g.items!==!0&&(g.items=r.mergeEvaluated.items(u,l.length,g.items));const m=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(g,p)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:h,schemaProp:E,dataProp:E},m)),s.ok(m))});function v(p){const{opts:E,errSchemaPath:y}=g,S=l.length,$=S===p.minItems&&(S===p.maxItems||p[a]===!1);if(E.strictTuples&&!$){const T=`"${h}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(g,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),vee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=tz(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),yee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n=_a(),i=ez(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),wee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:g,maxContains:m}=l;f.opts.next?(c=g===void 0?1:g,h=m):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=s.name("valid");h===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),h!==void 0&&s.if((0,t._)`${u}.length > 0`,p)):(s.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=s.name("_valid"),$=s.let("count",0);E(S,()=>s.if(S,()=>y($)))}function E(S,$){s.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){s.code((0,t._)`${S}++`),h===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${h}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),bee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=pr(),r=Br(),n=_a();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=a,e.default=i}}),_ee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),rz=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_a(),r=pr(),n=hc(),i=Br(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:g}=a;if(!h)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=g;if(g.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(g,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let x;if(v.length>8){const A=(0,i.schemaRefOrVal)(g,f.properties,"properties");x=(0,t.isOwnProperty)(l,A,d)}else v.length?x=(0,r.or)(...v.map(A=>(0,r._)`${d} === ${A}`)):x=r.nil;return p.length&&(x=(0,r.or)(x,...p.map(A=>(0,r._)`${(0,t.usePattern)(a,A)}.test(${d})`))),(0,r.not)(x)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),m||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(g,u)){const x=l.name("valid");_.removeAdditional==="failing"?(T(d,x,!1),l.if((0,r.not)(x),()=>{a.reset(),S(d)})):(T(d,x),m||l.if((0,r.not)(x),()=>l.break()))}}function T(d,x,A){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};A===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(O,x)}}};e.default=s}}),Eee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=oE(),r=_a(),n=Br(),i=rz(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(h),c.props));const g=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(g.length===0)return;const m=a.name("valid");for(const p of g)_(p)?v(p):(a.if((0,r.propertyInData)(a,f,p,c.opts.ownProperties)),v(p),c.allErrors||a.else().var(m,!0),a.endIf()),s.it.definedProperties.add(p),s.ok(m);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},m)}}};e.default=o}}),See=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_a(),r=pr(),n=Br(),i=Br(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:h}=c,g=(0,t.allSchemaProperties)(l),m=g.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(g.length===0||m.length===g.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:p}=c;E();function E(){for(const $ of g)_&&y($),c.allErrors?S($):(a.var(v,!0),S($),a.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){a.forIn("key",u,T=>{a.if((0,r._)`${(0,t.usePattern)(s,$)}.test(${T})`,()=>{const d=m.includes($);d||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?a.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),$ee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Tee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_a(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),xee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),h=s.let("passing",null),g=s.name("_valid");o.setParams({passing:h}),s.block(m),o.result(c,()=>o.reset(),()=>o.error(!0));function m(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?s.var(g,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},g),v>0&&s.if((0,t._)`${g} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),s.if(g,()=>{s.assign(c,!0),s.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),Aee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),Oee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Br(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=a.let("valid",!0),g=a.name("_valid");if(m(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(g,_("then",v),_("else",v))}else f?a.if(g,_("then")):a.if((0,t.not)(g),_("else"));s.pass(h,()=>s.error(!0));function m(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);s.mergeEvaluated(v)}function _(v,p){return()=>{const E=s.subschema({keyword:v},g);a.assign(h,g),s.mergeValidEvaluated(E,h),p?a.assign(p,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),Pee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Br(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Nee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ez(),r=vee(),n=tz(),i=yee(),o=wee(),s=bee(),a=_ee(),l=rz(),u=Eee(),f=See(),c=$ee(),h=Tee(),g=xee(),m=Aee(),_=Oee(),v=Pee();function p(E=!1){const y=[c.default,h.default,g.default,m.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Ree=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:g,schemaEnv:m,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),$=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const x=m.$async?(0,t._)`(${y}.async ? await ${$}(${a}) : ${$}(${a}))`:(0,t._)`${$}(${a})`,A=(0,t._)`(typeof ${$} == "function" ? ${x} : ${$}.test(${a}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${A}`}}function p(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(x());function T(){if(h.strictSchema===!1){_.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function d(A){const O=A instanceof RegExp?(0,t.regexpCode)(A):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,C=s.scopeValue("formats",{key:u,ref:A,code:O});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,t._)`${C}.validate`]:["string",A,C]}function x(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${a})`}return typeof S=="function"?(0,t._)`${$}(${a})`:(0,t._)`${$}.test(${a})`}}}};e.default=n}}),Iee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ree(),r=[t.default];e.default=r}}),jee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),kee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=iee(),r=gee(),n=Nee(),i=Iee(),o=jee(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Cee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0;var t;(function(r){r.Tag="tag",r.Mapping="mapping"})(t||(e.DiscrError=t={}))}}),Dee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=pr(),r=Cee(),n=dR(),i=sE(),o=Br(),s={message:({params:{discrError:l,tagName:u}})=>l===r.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:l,tag:u,tagName:f}})=>(0,t._)`{error: ${l}, tag: ${f}, tagValue: ${u}}`},a={keyword:"discriminator",type:"object",schemaType:"object",error:s,code(l){const{gen:u,data:f,schema:c,parentSchema:h,it:g}=l,{oneOf:m}=h;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=c.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const v=u.let("valid",!1),p=u.const("tag",(0,t._)`${f}${(0,t.getProperty)(_)}`);u.if((0,t._)`typeof ${p} == "string"`,()=>E(),()=>l.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:_})),l.ok(v);function E(){const $=S();u.if(!1);for(const T in $)u.elseIf((0,t._)`${p} === ${T}`),u.assign(v,y($[T]));u.else(),l.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:_}),u.endIf()}function y($){const T=u.name("valid"),d=l.subschema({keyword:"oneOf",schemaProp:$},T);return l.mergeEvaluated(d,t.Name),T}function S(){var $;const T={},d=A(h);let x=!0;for(let F=0;F<m.length;F++){let V=m[F];if(V!=null&&V.$ref&&!(0,o.schemaHasRulesButRef)(V,g.self.RULES)){const H=V.$ref;if(V=n.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,H),V instanceof n.SchemaEnv&&(V=V.schema),V===void 0)throw new i.default(g.opts.uriResolver,g.baseId,H)}const X=($=V==null?void 0:V.properties)===null||$===void 0?void 0:$[_];if(typeof X!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);x=x&&(d||A(V)),O(X,F)}if(!x)throw new Error(`discriminator: "${_}" must be required`);return T;function A({required:F}){return Array.isArray(F)&&F.includes(_)}function O(F,V){if(F.const)C(F.const,V);else if(F.enum)for(const X of F.enum)C(X,V);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function C(F,V){if(typeof F!="string"||F in T)throw new Error(`discriminator: "${_}" values must be unique strings`);T[F]=V}}}};e.default=a}}),Mee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),nz=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;var r=tee(),n=kee(),i=Dee(),o=Mee(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=oE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=pr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=fR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=sE();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),Lee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,F){return{validate:C,compare:F}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(h(!0),g),"iso-time":t(l(),f),"iso-date-time":t(h(),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:x},double:{type:"number",validate:x},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(C){const F=n.exec(C);if(!F)return!1;const V=+F[1],X=+F[2],H=+F[3];return X>=1&&X<=12&&H>=1&&H<=(X===2&&r(V)?29:i[X])}function s(C,F){if(C&&F)return C>F?1:C<F?-1:0}var a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(C){return function(V){const X=a.exec(V);if(!X)return!1;const H=+X[1],Z=+X[2],fe=+X[3],ee=X[4],ne=X[5]==="-"?-1:1,k=+(X[6]||0),B=+(X[7]||0);if(k>23||B>59||C&&!ee)return!1;if(H<=23&&Z<=59&&fe<60)return!0;const W=Z-B*ne,P=H-k*ne-(W<0?1:0);return(P===23||P===-1)&&(W===59||W===-1)&&fe<61}}function u(C,F){if(!(C&&F))return;const V=new Date("2020-01-01T"+C).valueOf(),X=new Date("2020-01-01T"+F).valueOf();if(V&&X)return V-X}function f(C,F){if(!(C&&F))return;const V=a.exec(C),X=a.exec(F);if(V&&X)return C=V[1]+V[2]+V[3],F=X[1]+X[2]+X[3],C>F?1:C<F?-1:0}var c=/t|\s/i;function h(C){const F=l(C);return function(X){const H=X.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function g(C,F){if(!(C&&F))return;const V=new Date(C).valueOf(),X=new Date(F).valueOf();if(V&&X)return V-X}function m(C,F){if(!(C&&F))return;const[V,X]=C.split(c),[H,Z]=F.split(c),fe=s(V,H);if(fe!==void 0)return fe||u(X,Z)}var _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(C){return _.test(C)&&v.test(C)}var E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(C){return E.lastIndex=0,E.test(C)}var S=-2147483648,$=2**31-1;function T(C){return Number.isInteger(C)&&C<=$&&C>=S}function d(C){return Number.isInteger(C)}function x(){return!0}var A=/[^\\]\\Z/;function O(C){if(A.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}}}),Fee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=nz(),r=pr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=a,{opts:g,self:m}=h;if(!g.validateFormats)return;const _=new t.KeywordCxt(h,m.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:m.formats,code:g.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=m.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:g.code.formats?(0,r._)`${g.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),Bee=Ne({"../../node_modules/@thingweb/thing-model/node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=Lee(),n=Fee(),i=pr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],g=f.formats||r.formatNames;return l(u,g,c,h),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var g,m;(g=(m=u.opts.code).formats)!==null&&g!==void 0||(m.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}});function pc(){return ox||(ox=!0,typeof Object.create=="function"?Bp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Bp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Bp}var Bp,ox,pR=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CkFCi-G1.js"(){Te(),Bp={},ox=!1}});function rn(){rn.init.call(this)}function Ly(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function iz(e){return e._maxListeners===void 0?rn.defaultMaxListeners:e._maxListeners}function hC(e,t,r,n){var i,o,s,a;if(Ly(r),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=iz(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function Uee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pC(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=Uee.bind(n);return i.listener=r,n.wrapFn=i,i}function mC(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(i):oz(i,i.length)}function gC(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function oz(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var vC,yC,Ic,GS,KS,JS,Xi,aE=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-tHuMsdT0.js"(){Te(),Ic=typeof Reflect=="object"?Reflect:null,GS=Ic&&typeof Ic.apply=="function"?Ic.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},yC=Ic&&typeof Ic.ownKeys=="function"?Ic.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},KS=Number.isNaN||function(e){return e!=e},vC=rn,rn.EventEmitter=rn,rn.prototype._events=void 0,rn.prototype._eventsCount=0,rn.prototype._maxListeners=void 0,JS=10,Object.defineProperty(rn,"defaultMaxListeners",{enumerable:!0,get:function(){return JS},set:function(e){if(typeof e!="number"||e<0||KS(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");JS=e}}),rn.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},rn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||KS(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},rn.prototype.getMaxListeners=function(){return iz(this)},rn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")GS(a,this,t);else{var l=a.length,u=oz(a,l);for(r=0;r<l;++r)GS(u[r],this,t)}return!0},rn.prototype.addListener=function(e,t){return hC(this,e,t,!1)},rn.prototype.on=rn.prototype.addListener,rn.prototype.prependListener=function(e,t){return hC(this,e,t,!0)},rn.prototype.once=function(e,t){return Ly(t),this.on(e,pC(this,e,t)),this},rn.prototype.prependOnceListener=function(e,t){return Ly(t),this.prependListener(e,pC(this,e,t)),this},rn.prototype.removeListener=function(e,t){var r,n,i,o,s;if(Ly(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},rn.prototype.off=rn.prototype.removeListener,rn.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i,o=Object.keys(r);for(n=0;n<o.length;++n)(i=o[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},rn.prototype.listeners=function(e){return mC(this,e,!0)},rn.prototype.rawListeners=function(e){return mC(this,e,!1)},rn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):gC.call(e,t)},rn.prototype.listenerCount=gC,rn.prototype.eventNames=function(){return this._eventsCount>0?yC(this._events):[]},Xi=vC,Xi.EventEmitter,Xi.defaultMaxListeners,Xi.init,Xi.listenerCount,Xi.EventEmitter,Xi.defaultMaxListeners,Xi.init,Xi.listenerCount}}),zee=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtDiafJB.js"(){Te(),aE(),Xi.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},Xi.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}}}});function sx(){throw new Error("setTimeout has not been defined")}function ax(){throw new Error("clearTimeout has not been defined")}function sz(e){if(_l===setTimeout)return setTimeout(e,0);if((_l===sx||!_l)&&setTimeout)return _l=setTimeout,setTimeout(e,0);try{return _l(e,0)}catch{try{return _l.call(null,e,0)}catch{return _l.call(this||bf,e,0)}}}function qee(){_f&&ff&&(_f=!1,ff.length?Ga=ff.concat(Ga):vm=-1,Ga.length&&az())}function az(){if(!_f){var e=sz(qee);_f=!0;for(var t=Ga.length;t;){for(ff=Ga,Ga=[];++vm<t;)ff&&ff[vm].run();vm=-1,t=Ga.length}ff=null,_f=!1,function(r){if(El===clearTimeout)return clearTimeout(r);if((El===ax||!El)&&clearTimeout)return El=clearTimeout,clearTimeout(r);try{El(r)}catch{try{return El.call(null,r)}catch{return El.call(this||bf,r)}}}(e)}}function wC(e,t){(this||bf).fun=e,(this||bf).array=t}function gl(){}function jc(e){return e.call.bind(e)}function Rg(e,t){if(typeof e!="object")return!1;try{return t(e),!0}catch{return!1}}function bC(e){return oo&&Ro?b(e)!==void 0:lz(e)||uz(e)||cz(e)||fz(e)||dz(e)||hz(e)||pz(e)||mz(e)||gz(e)||vz(e)||yz(e)}function lz(e){return oo&&Ro?b(e)==="Uint8Array":Pn(e)==="[object Uint8Array]"||Ez(e)&&e.buffer!==void 0}function uz(e){return oo&&Ro?b(e)==="Uint8ClampedArray":Pn(e)==="[object Uint8ClampedArray]"}function cz(e){return oo&&Ro?b(e)==="Uint16Array":Pn(e)==="[object Uint16Array]"}function fz(e){return oo&&Ro?b(e)==="Uint32Array":Pn(e)==="[object Uint32Array]"}function dz(e){return oo&&Ro?b(e)==="Int8Array":Pn(e)==="[object Int8Array]"}function hz(e){return oo&&Ro?b(e)==="Int16Array":Pn(e)==="[object Int16Array]"}function pz(e){return oo&&Ro?b(e)==="Int32Array":Pn(e)==="[object Int32Array]"}function mz(e){return oo&&Ro?b(e)==="Float32Array":Pn(e)==="[object Float32Array]"}function gz(e){return oo&&Ro?b(e)==="Float64Array":Pn(e)==="[object Float64Array]"}function vz(e){return oo&&Ro?b(e)==="BigInt64Array":Pn(e)==="[object BigInt64Array]"}function yz(e){return oo&&Ro?b(e)==="BigUint64Array":Pn(e)==="[object BigUint64Array]"}function Cv(e){return Pn(e)==="[object Map]"}function Dv(e){return Pn(e)==="[object Set]"}function Mv(e){return Pn(e)==="[object WeakMap]"}function YS(e){return Pn(e)==="[object WeakSet]"}function Lb(e){return Pn(e)==="[object ArrayBuffer]"}function _C(e){return typeof ArrayBuffer<"u"&&(Lb.working?Lb(e):e instanceof ArrayBuffer)}function Fb(e){return Pn(e)==="[object DataView]"}function EC(e){return typeof DataView<"u"&&(Fb.working?Fb(e):e instanceof DataView)}function Bb(e){return Pn(e)==="[object SharedArrayBuffer]"}function SC(e){return typeof SharedArrayBuffer<"u"&&(Bb.working?Bb(e):e instanceof SharedArrayBuffer)}function $C(e){return Rg(e,Sz)}function TC(e){return Rg(e,$z)}function xC(e){return Rg(e,Tz)}function AC(e){return lx&&Rg(e,w)}function OC(e){return By&&Rg(e,v2)}function Du(e,t){var r={seen:[],stylize:Hee};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),mR(t)?r.showHidden=t:t&&dt._extend(r,t),cf(r.showHidden)&&(r.showHidden=!1),cf(r.depth)&&(r.depth=2),cf(r.colors)&&(r.colors=!1),cf(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Vee),Ub(r,e,r.depth)}function Vee(e,t){var r=Du.styles[t];return r?"\x1B["+Du.colors[r][0]+"m"+e+"\x1B["+Du.colors[r][1]+"m":e}function Hee(e,t){return e}function Ub(e,t,r){if(e.customInspect&&t&&Fy(t.inspect)&&t.inspect!==dt.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return qb(n)||(n=Ub(e,n,r)),n}var i=function(h,g){if(cf(g))return h.stylize("undefined","undefined");if(qb(g)){var m="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h.stylize(m,"string")}if(bz(g))return h.stylize(""+g,"number");if(mR(g))return h.stylize(""+g,"boolean");if(zb(g))return h.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),s=function(h){var g={};return h.forEach(function(m,_){g[m]=!0}),g}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),gm(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return XS(t);if(o.length===0){if(Fy(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(mm(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Vb(t))return e.stylize(Date.prototype.toString.call(t),"date");if(gm(t))return XS(t)}var l,u="",f=!1,c=["{","}"];return wz(t)&&(f=!0,c=["[","]"]),Fy(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),mm(t)&&(u=" "+RegExp.prototype.toString.call(t)),Vb(t)&&(u=" "+Date.prototype.toUTCString.call(t)),gm(t)&&(u=" "+XS(t)),o.length!==0||f&&t.length!=0?r<0?mm(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(h,g,m,_,v){for(var p=[],E=0,y=g.length;E<y;++E)_z(g,String(E))?p.push(QS(h,g,m,_,String(E),!0)):p.push("");return v.forEach(function(S){S.match(/^\d+$/)||p.push(QS(h,g,m,_,S,!0))}),p}(e,t,r,s,o):o.map(function(h){return QS(e,t,r,s,h,f)}),e.seen.pop(),function(h,g,m){var _=0;return h.reduce(function(v,p){return _++,p.indexOf(`
`)>=0&&_++,v+p.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?m[0]+(g===""?"":g+`
 `)+" "+h.join(`,
  `)+" "+m[1]:m[0]+g+" "+h.join(", ")+" "+m[1]}(l,u,c)):c[0]+u+c[1]}function XS(e){return"["+Error.prototype.toString.call(e)+"]"}function QS(e,t,r,n,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),_z(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=zb(r)?Ub(e,l.value,null):Ub(e,l.value,r-1)).indexOf(`
`)>-1&&(a=o?a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`)):a=e.stylize("[Circular]","special")),cf(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function wz(e){return Array.isArray(e)}function mR(e){return typeof e=="boolean"}function zb(e){return e===null}function bz(e){return typeof e=="number"}function qb(e){return typeof e=="string"}function cf(e){return e===void 0}function mm(e){return ch(e)&&gR(e)==="[object RegExp]"}function ch(e){return typeof e=="object"&&e!==null}function Vb(e){return ch(e)&&gR(e)==="[object Date]"}function gm(e){return ch(e)&&(gR(e)==="[object Error]"||e instanceof Error)}function Fy(e){return typeof e=="function"}function gR(e){return Object.prototype.toString.call(e)}function ZS(e){return e<10?"0"+e.toString(10):e.toString(10)}function Wee(){var e=new Date,t=[ZS(e.getHours()),ZS(e.getMinutes()),ZS(e.getSeconds())].join(":");return[e.getDate(),xz[e.getMonth()],t].join(" ")}function _z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gee(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}var PC,_l,El,bf,Mn,ff,Ga,_f,vm,xn,NC,Lv,wp,e1,RC,IC,jC,kC,CC,t1,r1,n1,DC,MC,LC,i1,yr,Ez,FC,BC,lx,By,Ro,oo,UC,Pn,Sz,$z,Tz,gd,dt,Ys,o1,zC,bp,s1,Fv,xz,du,Ig=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-D3uu3VYh.js"(){if(Te(),bf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Mn=PC={},function(){try{_l=typeof setTimeout=="function"?setTimeout:sx}catch{_l=sx}try{El=typeof clearTimeout=="function"?clearTimeout:ax}catch{El=ax}}(),Ga=[],_f=!1,vm=-1,Mn.nextTick=function(i){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];Ga.push(new wC(i,o)),Ga.length!==1||_f||sz(az)},wC.prototype.run=function(){(this||bf).fun.apply(null,(this||bf).array)},Mn.title="browser",Mn.browser=!0,Mn.env={},Mn.argv=[],Mn.version="",Mn.versions={},Mn.on=gl,Mn.addListener=gl,Mn.once=gl,Mn.off=gl,Mn.removeListener=gl,Mn.removeAllListeners=gl,Mn.emit=gl,Mn.prependListener=gl,Mn.prependOnceListener=gl,Mn.listeners=function(i){return[]},Mn.binding=function(i){throw new Error("process.binding is not supported")},Mn.cwd=function(){return"/"},Mn.chdir=function(i){throw new Error("process.chdir is not supported")},Mn.umask=function(){return 0},xn=PC,xn.addListener,xn.argv,xn.binding,xn.browser,xn.chdir,xn.cwd,xn.emit,xn.env,xn.listeners,xn.nextTick,xn.off,xn.on,xn.once,xn.prependListener,xn.prependOnceListener,xn.removeAllListeners,xn.removeListener,xn.title,xn.umask,xn.version,xn.versions,NC=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Lv=Object.prototype.toString,wp=function(i){return!(NC&&i&&typeof i=="object"&&Symbol.toStringTag in i)&&Lv.call(i)==="[object Arguments]"},e1=function(i){return!!wp(i)||i!==null&&typeof i=="object"&&typeof i.length=="number"&&i.length>=0&&Lv.call(i)!=="[object Array]"&&Lv.call(i.callee)==="[object Function]"},RC=function(){return wp(arguments)}(),wp.isLegacyArguments=e1,IC=RC?wp:e1,jC=Object.prototype.toString,kC=Function.prototype.toString,CC=/^\s*(?:function)?\*/,t1=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",r1=Object.getPrototypeOf,n1=function(){if(!t1)return!1;try{return Function("return function*() {}")()}catch{}}(),DC=n1?r1(n1):{},MC=function(i){return typeof i=="function"&&(!!CC.test(kC.call(i))||(t1?r1(i)===DC:jC.call(i)==="[object GeneratorFunction]"))},LC=typeof Object.create=="function"?function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,o){if(o){i.super_=o;var s=function(){};s.prototype=o.prototype,i.prototype=new s,i.prototype.constructor=i}},i1=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"},yr={},Ez=i1,FC=IC,BC=MC,lx=typeof BigInt<"u",By=typeof Symbol<"u",Ro=By&&Symbol.toStringTag!==void 0,oo=typeof Uint8Array<"u",UC=typeof ArrayBuffer<"u",oo&&Ro)var e=Object.getPrototypeOf(Uint8Array.prototype),t=jc(Object.getOwnPropertyDescriptor(e,Symbol.toStringTag).get);if(Pn=jc(Object.prototype.toString),Sz=jc(Number.prototype.valueOf),$z=jc(String.prototype.valueOf),Tz=jc(Boolean.prototype.valueOf),lx)var r=jc(BigInt.prototype.valueOf);if(By)var n=jc(Symbol.prototype.valueOf);yr.isArgumentsObject=FC,yr.isGeneratorFunction=BC,yr.isPromise=function(i){return typeof Promise<"u"&&i instanceof Promise||i!==null&&typeof i=="object"&&typeof i.then=="function"&&typeof i.catch=="function"},yr.isArrayBufferView=function(i){return UC&&ArrayBuffer.isView?ArrayBuffer.isView(i):bC(i)||EC(i)},yr.isTypedArray=bC,yr.isUint8Array=lz,yr.isUint8ClampedArray=uz,yr.isUint16Array=cz,yr.isUint32Array=fz,yr.isInt8Array=dz,yr.isInt16Array=hz,yr.isInt32Array=pz,yr.isFloat32Array=mz,yr.isFloat64Array=gz,yr.isBigInt64Array=vz,yr.isBigUint64Array=yz,Cv.working=typeof Map<"u"&&Cv(new Map),yr.isMap=function(i){return typeof Map<"u"&&(Cv.working?Cv(i):i instanceof Map)},Dv.working=typeof Set<"u"&&Dv(new Set),yr.isSet=function(i){return typeof Set<"u"&&(Dv.working?Dv(i):i instanceof Set)},Mv.working=typeof WeakMap<"u"&&Mv(new WeakMap),yr.isWeakMap=function(i){return typeof WeakMap<"u"&&(Mv.working?Mv(i):i instanceof WeakMap)},YS.working=typeof WeakSet<"u"&&YS(new WeakSet),yr.isWeakSet=function(i){return YS(i)},Lb.working=typeof ArrayBuffer<"u"&&Lb(new ArrayBuffer),yr.isArrayBuffer=_C,Fb.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Fb(new DataView(new ArrayBuffer(1),0,1)),yr.isDataView=EC,Bb.working=typeof SharedArrayBuffer<"u"&&Bb(new SharedArrayBuffer),yr.isSharedArrayBuffer=SC,yr.isAsyncFunction=function(i){return Pn(i)==="[object AsyncFunction]"},yr.isMapIterator=function(i){return Pn(i)==="[object Map Iterator]"},yr.isSetIterator=function(i){return Pn(i)==="[object Set Iterator]"},yr.isGeneratorObject=function(i){return Pn(i)==="[object Generator]"},yr.isWebAssemblyCompiledModule=function(i){return Pn(i)==="[object WebAssembly.Module]"},yr.isNumberObject=$C,yr.isStringObject=TC,yr.isBooleanObject=xC,yr.isBigIntObject=AC,yr.isSymbolObject=OC,yr.isBoxedPrimitive=function(i){return $C(i)||TC(i)||xC(i)||AC(i)||OC(i)},yr.isAnyArrayBuffer=function(i){return oo&&(_C(i)||SC(i))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(i){Object.defineProperty(yr,i,{enumerable:!1,value:function(){throw new Error(i+" is not supported in userland")}})}),gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,dt={},Ys=xn,o1=Object.getOwnPropertyDescriptors||function(i){for(var o=Object.keys(i),s={},a=0;a<o.length;a++)s[o[a]]=Object.getOwnPropertyDescriptor(i,o[a]);return s},zC=/%[sdj%]/g,dt.format=function(i){if(!qb(i)){for(var o=[],s=0;s<arguments.length;s++)o.push(Du(arguments[s]));return o.join(" ")}s=1;for(var a=arguments,l=a.length,u=String(i).replace(zC,function(c){if(c==="%%")return"%";if(s>=l)return c;switch(c){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch{return"[Circular]"}default:return c}}),f=a[s];s<l;f=a[++s])zb(f)||!ch(f)?u+=" "+f:u+=" "+Du(f);return u},dt.deprecate=function(i,o){if(Ys!==void 0&&Ys.noDeprecation===!0)return i;if(Ys===void 0)return function(){return dt.deprecate(i,o).apply(this||gd,arguments)};var s=!1;return function(){if(!s){if(Ys.throwDeprecation)throw new Error(o);Ys.traceDeprecation?console.trace(o):console.error(o),s=!0}return i.apply(this||gd,arguments)}},bp={},s1=/^$/,Ys.env.NODE_DEBUG&&(Fv=Ys.env.NODE_DEBUG,Fv=Fv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s1=new RegExp("^"+Fv+"$","i")),dt.debuglog=function(i){if(i=i.toUpperCase(),!bp[i])if(s1.test(i)){var o=Ys.pid;bp[i]=function(){var s=dt.format.apply(dt,arguments);console.error("%s %d: %s",i,o,s)}}else bp[i]=function(){};return bp[i]},dt.inspect=Du,Du.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Du.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},dt.types=yr,dt.isArray=wz,dt.isBoolean=mR,dt.isNull=zb,dt.isNullOrUndefined=function(i){return i==null},dt.isNumber=bz,dt.isString=qb,dt.isSymbol=function(i){return typeof i=="symbol"},dt.isUndefined=cf,dt.isRegExp=mm,dt.types.isRegExp=mm,dt.isObject=ch,dt.isDate=Vb,dt.types.isDate=Vb,dt.isError=gm,dt.types.isNativeError=gm,dt.isFunction=Fy,dt.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},dt.isBuffer=i1,xz=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dt.log=function(){console.log("%s - %s",Wee(),dt.format.apply(dt,arguments))},dt.inherits=LC,dt._extend=function(i,o){if(!o||!ch(o))return i;for(var s=Object.keys(o),a=s.length;a--;)i[s[a]]=o[s[a]];return i},du=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0,dt.promisify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');if(du&&i[du]){var o;if(typeof(o=i[du])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(o,du,{value:o,enumerable:!1,writable:!1,configurable:!0}),o}function o(){for(var s,a,l=new Promise(function(c,h){s=c,a=h}),u=[],f=0;f<arguments.length;f++)u.push(arguments[f]);u.push(function(c,h){c?a(c):s(h)});try{i.apply(this||gd,u)}catch(c){a(c)}return l}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),du&&Object.defineProperty(o,du,{value:o,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(o,o1(i))},dt.promisify.custom=du,dt.callbackify=function(i){if(typeof i!="function")throw new TypeError('The "original" argument must be of type Function');function o(){for(var s=[],a=0;a<arguments.length;a++)s.push(arguments[a]);var l=s.pop();if(typeof l!="function")throw new TypeError("The last argument must be of type Function");var u=this||gd,f=function(){return l.apply(u,arguments)};i.apply(this||gd,s).then(function(c){Ys.nextTick(f.bind(null,null,c))},function(c){Ys.nextTick(Gee.bind(null,c,f))})}return Object.setPrototypeOf(o,Object.getPrototypeOf(i)),Object.defineProperties(o,o1(i)),o},dt._extend,dt.callbackify,dt.debuglog,dt.deprecate,dt.format,dt.inherits,dt.inspect,dt.isArray,dt.isBoolean,dt.isBuffer,dt.isDate,dt.isError,dt.isFunction,dt.isNull,dt.isNullOrUndefined,dt.isNumber,dt.isObject,dt.isPrimitive,dt.isRegExp,dt.isString,dt.isSymbol,dt.isUndefined,dt.log,dt.promisify,dt._extend,dt.callbackify,dt.debuglog,dt.deprecate,dt.format,dt.inherits,dt.inspect,dt.isArray,dt.isBoolean,dt.isBuffer,dt.isDate,dt.isError,dt.isFunction,dt.isNull,dt.isNullOrUndefined,dt.isNumber,dt.isObject,dt.isPrimitive,dt.isRegExp,dt.isString,dt.isSymbol,dt.isUndefined,dt.log,dt.promisify,dt.types}}),Kee=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CbQqNoLO.js"(){Te(),Ig(),dt._extend,dt.callbackify,dt.debuglog,dt.deprecate,dt.format,dt.inherits,dt.inspect,dt.isArray,dt.isBoolean,dt.isBuffer,dt.isDate,dt.isError,dt.isFunction,dt.isNull,dt.isNullOrUndefined,dt.isNumber,dt.isObject,dt.isPrimitive,dt.isRegExp,dt.isString,dt.isSymbol,dt.isUndefined,dt.log,dt.promisify,dt.types,dt.TextEncoder=globalThis.TextEncoder,dt.TextDecoder=globalThis.TextDecoder}});function vR(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Jee(){!Ef||!df||(Ef=!1,df.length?Ka=df.concat(Ka):ym=-1,Ka.length&&Az())}function Az(){if(!Ef){var e=setTimeout(Jee,0);Ef=!0;for(var t=Ka.length;t;){for(df=Ka,Ka=[];++ym<t;)df&&df[ym].run();ym=-1,t=Ka.length}df=null,Ef=!1,clearTimeout(e)}}function Yee(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ka.push(new Oz(e,t)),Ka.length===1&&!Ef&&setTimeout(Az,0)}function Oz(e,t){this.fun=e,this.array=t}function ki(){}function Xee(e){vR("_linkedBinding")}function Qee(e){vR("dlopen")}function Zee(){return[]}function ete(){return[]}function tte(e,t){if(!e)throw new Error(t||"assertion error")}function rte(){return!1}function nte(){return xl.now()/1e3}function a1(e){var t=Math.floor((Date.now()-xl.now())*.001),r=xl.now()*.001,n=Math.floor(r)+t,i=Math.floor(r%1*1e9);return e&&(n=n-e[0],i=i-e[1],i<0&&(n--,i+=Uy)),[n,i]}function hu(){return hi}function ite(e){return[]}var Ka,Ef,df,ym,qC,VC,HC,WC,GC,KC,JC,YC,XC,QC,ZC,eD,tD,rD,nD,iD,oD,sD,aD,lD,uD,Bv,cD,fD,dD,hD,pD,mD,gD,vD,yD,wD,bD,_D,ED,SD,$D,TD,xD,AD,OD,PD,ND,RD,ID,jD,kD,xl,Sf,Uy,CD,DD,MD,LD,FD,BD,UD,zD,qD,VD,HD,hi,jg=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DEMDiNwt.js"(){Te(),Ka=[],Ef=!1,ym=-1,Oz.prototype.run=function(){this.fun.apply(null,this.array)},qC="browser",VC="x64",HC="browser",WC={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},GC=["/usr/bin/node"],KC=[],JC="v16.8.0",YC={},XC=function(e,t){console.warn((t?t+": ":"")+e)},QC=function(e){vR("binding")},ZC=function(e){return 0},eD=function(){return"/"},tD=function(e){},rD={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},nD=ki,iD=[],oD={},sD=!1,aD={},lD=ki,uD=ki,Bv=function(){return{}},cD=Bv,fD=Bv,dD=ki,hD=ki,pD=ki,mD={},gD={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},vD=ki,yD=ki,wD=ki,bD=ki,_D=ki,ED=ki,SD=ki,$D=void 0,TD=void 0,xD=void 0,AD=ki,OD=2,PD=1,ND="/bin/usr/node",RD=9229,ID="node",jD=[],kD=ki,xl={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},xl.now===void 0&&(Sf=Date.now(),xl.timing&&xl.timing.navigationStart&&(Sf=xl.timing.navigationStart),xl.now=()=>Date.now()-Sf),Uy=1e9,a1.bigint=function(e){var t=a1(e);return typeof BigInt>"u"?t[0]*Uy+t[1]:BigInt(t[0]*Uy)+BigInt(t[1])},CD=10,DD={},MD=0,LD=hu,FD=hu,BD=hu,UD=hu,zD=hu,qD=ki,VD=hu,HD=hu,hi={version:JC,versions:YC,arch:VC,platform:HC,release:rD,_rawDebug:nD,moduleLoadList:iD,binding:QC,_linkedBinding:Xee,_events:DD,_eventsCount:MD,_maxListeners:CD,on:hu,addListener:LD,once:FD,off:BD,removeListener:UD,removeAllListeners:zD,emit:qD,prependListener:VD,prependOnceListener:HD,listeners:ite,domain:oD,_exiting:sD,config:aD,dlopen:Qee,uptime:nte,_getActiveRequests:Zee,_getActiveHandles:ete,reallyExit:lD,_kill:uD,cpuUsage:Bv,resourceUsage:cD,memoryUsage:fD,kill:dD,exit:hD,openStdin:pD,allowedNodeEnvironmentFlags:mD,assert:tte,features:gD,_fatalExceptions:vD,setUncaughtExceptionCaptureCallback:yD,hasUncaughtExceptionCaptureCallback:rte,emitWarning:XC,nextTick:Yee,_tickCallback:wD,_debugProcess:bD,_debugEnd:_D,_startProfilerIdleNotifier:ED,_stopProfilerIdleNotifier:SD,stdout:$D,stdin:xD,stderr:TD,abort:AD,umask:ZC,chdir:tD,cwd:eD,env:WC,title:qC,argv:GC,execArgv:KC,pid:OD,ppid:PD,execPath:ND,debugPort:RD,hrtime:a1,argv0:ID,_preload_modules:jD,setSourceMapsEnabled:kD}}});function ote(){if(ux)return zy;ux=!0,zy=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||qy,arguments)}return o}function t(r){try{if(!qy.localStorage)return!1}catch{return!1}var n=qy.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return zy}var zy,ux,qy,ste=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BsRZ0PEC.js"(){Te(),zy={},ux=!1,qy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global}});function ate(){if(cx)return Nd;cx=!0;var e=jo(),t=e.Buffer;function r(i,o){for(var s in i)o[s]=i[s]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?Nd=e:(r(e,Nd),Nd.Buffer=n);function n(i,o,s){return t(i,o,s)}return n.prototype=Object.create(t.prototype),r(t,n),n.from=function(i,o,s){if(typeof i=="number")throw new TypeError("Argument must not be a number");return t(i,o,s)},n.alloc=function(i,o,s){if(typeof i!="number")throw new TypeError("Argument must be a number");var a=t(i);return o!==void 0?typeof s=="string"?a.fill(o,s):a.fill(o):a.fill(0),a},n.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return t(i)},n.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(i)},Nd}function lte(){if(fx)return Vy;fx=!0;var e=ate().Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var E;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(E)return;p=(""+p).toLowerCase(),E=!0}}function n(p){var E=r(p);if(typeof E!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return E||p}Vy.StringDecoder=i;function i(p){this.encoding=n(p);var E;switch(this.encoding){case"utf16le":this.text=c,this.end=h,E=4;break;case"utf8":this.fillLast=l,E=4;break;case"base64":this.text=g,this.end=m,E=3;break;default:this.write=_,this.end=v;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}i.prototype.write=function(p){if(p.length===0)return"";var E,y;if(this.lastNeed){if(E=this.fillLast(p),E===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<p.length?E?E+this.text(p,y):this.text(p,y):E||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function o(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function s(p,E,y){var S=E.length-1;if(S<y)return 0;var $=o(E[S]);return $>=0?($>0&&(p.lastNeed=$-1),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&(p.lastNeed=$-2),$):--S<y||$===-2?0:($=o(E[S]),$>=0?($>0&&($===2?$=0:p.lastNeed=$-3),$):0))}function a(p,E,y){if((E[0]&192)!==128)return p.lastNeed=0,"�";if(p.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return p.lastNeed=1,"�";if(p.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return p.lastNeed=2,"�"}}function l(p){var E=this.lastTotal-this.lastNeed,y=a(this,p);if(y!==void 0)return y;if(this.lastNeed<=p.length)return p.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,E,0,p.length),this.lastNeed-=p.length}function u(p,E){var y=s(this,p,E);if(!this.lastNeed)return p.toString("utf8",E);this.lastTotal=y;var S=p.length-(y-this.lastNeed);return p.copy(this.lastChar,0,S),p.toString("utf8",E,S)}function f(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+"�":E}function c(p,E){if((p.length-E)%2===0){var y=p.toString("utf16le",E);if(y){var S=y.charCodeAt(y.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",E,p.length-1)}function h(p){var E=p&&p.length?this.write(p):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,y)}return E}function g(p,E){var y=(p.length-E)%3;return y===0?p.toString("base64",E):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",E,p.length-y))}function m(p){var E=p&&p.length?this.write(p):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function _(p){return p.toString(this.encoding)}function v(p){return p&&p.length?this.write(p):""}return Vy}var Nd,cx,Vy,fx,fh,Pz=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js"(){Te(),rE(),Nd={},cx=!1,Vy={},fx=!1,fh=lte(),fh.StringDecoder,fh.StringDecoder}});function ute(){if(dx)return Hy;dx=!0;var e=Hy={},t,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function o(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||Jc,_,0)}}}function s(_){if(r===clearTimeout)return clearTimeout(_);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||Jc,_)}}}var a=[],l=!1,u,f=-1;function c(){!l||!u||(l=!1,u.length?a=u.concat(a):f=-1,a.length&&h())}function h(){if(!l){var _=o(c);l=!0;for(var v=a.length;v;){for(u=a,a=[];++f<v;)u&&u[f].run();f=-1,v=a.length}u=null,l=!1,s(_)}}e.nextTick=function(_){var v=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)v[p-1]=arguments[p];a.push(new g(_,v)),a.length===1&&!l&&o(h)};function g(_,v){(this||Jc).fun=_,(this||Jc).array=v}g.prototype.run=function(){(this||Jc).fun.apply(null,(this||Jc).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function m(){}return e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Hy}var Hy,dx,Jc,Wr,lE=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-b0rmRow7.js"(){Te(),Hy={},dx=!1,Jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Wr=ute(),Wr.platform="browser",Wr.addListener,Wr.argv,Wr.binding,Wr.browser,Wr.chdir,Wr.cwd,Wr.emit,Wr.env,Wr.listeners,Wr.nextTick,Wr.off,Wr.on,Wr.once,Wr.prependListener,Wr.prependOnceListener,Wr.removeAllListeners,Wr.removeListener,Wr.title,Wr.umask,Wr.version,Wr.versions}});function cte(){if(hx)return Wy;hx=!0;var e=Wr;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var g=a.lastIndexOf("/");if(g!==a.length-1){g===-1?(a="",l=0):(a=a.slice(0,g),l=a.length-1-a.lastIndexOf("/")),u=h,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=h,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,h):a=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,g=h-c,m=f<g?f:g,_=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>m&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var h=a.length-1,g=-1;for(c=s.length-1;c>=0;--c){var m=s.charCodeAt(c);if(m===47){if(!f){l=c+1;break}}else g===-1&&(f=!1,g=c+1),h>=0&&(m===a.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=g))}return l===u?u=g:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,h=s.length-1;h>=0;--h){var g=s.charCodeAt(h);if(g===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),g===46?a===-1?a=h:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,h=0,g=-1,m=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!m){h=_+1;break}continue}g===-1&&(m=!1,g=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||g===-1||v===0||v===1&&c===g-1&&c===h+1?g!==-1&&(h===0&&u?a.base=a.name=s.slice(1,g):a.base=a.name=s.slice(h,g)):(h===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,g)):(a.name=s.slice(h,c),a.base=s.slice(h,g)),a.ext=s.slice(c,g)),h>0?a.dir=s.slice(0,h-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Wy=i,Wy}function kc(e){throw new RangeError(Rz[e])}function WD(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]);const i=function(o,s){const a=[];let l=o.length;for(;l--;)a[l]=s(o[l]);return a}((e=e.replace(Nz,".")).split("."),t).join(".");return n+i}function GD(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(64512&o)==56320?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}function fte(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vs(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function _p(e,t,r){if(e&&ea.isObject(e)&&e instanceof vs)return e;var n=new vs;return n.parse(e,t,r),n}function dte(){if(mx)return Gy;mx=!0;var e=xn;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var g=a.lastIndexOf("/");if(g!==a.length-1){g===-1?(a="",l=0):(a=a.slice(0,g),l=a.length-1-a.lastIndexOf("/")),u=h,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=h,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,h):a=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,g=h-c,m=f<g?f:g,_=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>m&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var h=a.length-1,g=-1;for(c=s.length-1;c>=0;--c){var m=s.charCodeAt(c);if(m===47){if(!f){l=c+1;break}}else g===-1&&(f=!1,g=c+1),h>=0&&(m===a.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=g))}return l===u?u=g:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,h=s.length-1;h>=0;--h){var g=s.charCodeAt(h);if(g===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),g===46?a===-1?a=h:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,h=0,g=-1,m=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!m){h=_+1;break}continue}g===-1&&(m=!1,g=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||g===-1||v===0||v===1&&c===g-1&&c===h+1?g!==-1&&(h===0&&u?a.base=a.name=s.slice(1,g):a.base=a.name=s.slice(h,g)):(h===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,g)):(a.name=s.slice(h,c),a.base=s.slice(h,g)),a.ext=s.slice(c,g)),h>0?a.dir=s.slice(0,h-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Gy=i,Gy}function hte(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Hb?pte(e):mte(e)}function pte(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Dz,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<kz||n>Cz||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function mte(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function gte(e){let t=gx.resolve(e);const r=e.charCodeAt(e.length-1);(r===jz||Hb&&r===Iz)&&t[t.length-1]!==gx.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(Mz,"%25")),!Hb&&t.includes("\\")&&(t=t.replace(Lz,"%5C")),t.includes(`
`)&&(t=t.replace(Fz,"%0A")),t.includes("\r")&&(t=t.replace(Bz,"%0D")),t.includes("	")&&(t=t.replace(Uz,"%09")),n.pathname=t,n}function vte(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Wb?yte(e):wte(e)}function yte(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Wz,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<Vz||n>Hz||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function wte(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function bte(e){let t=px.resolve(e);const r=e.charCodeAt(e.length-1);(r===qz||Wb&&r===zz)&&t[t.length-1]!==px.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(Gz,"%25")),!Wb&&t.includes("\\")&&(t=t.replace(Kz,"%5C")),t.includes(`
`)&&(t=t.replace(Jz,"%0A")),t.includes("\r")&&(t=t.replace(Yz,"%0D")),t.includes("	")&&(t=t.replace(Xz,"%09")),n.pathname=t,n}var Wy,hx,px,Cc,KD,JD,Nz,Rz,Xs,Uv,l1,u1,c1,f1,YD,XD,vd,QD,Na,Jr,ZD,ea,eM,tM,rM,nM,zv,d1,h1,p1,iM,oM,qv,Dc,Vv,Gy,mx,gx,sM,Iz,jz,kz,Cz,Hb,Dz,Mz,Lz,Fz,Bz,Uz,aM,zz,qz,Vz,Hz,Wb,Wz,Gz,Kz,Jz,Yz,Xz,Qz=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DHWh-hmB.js"(){Te(),Ig(),lE(),Wy={},hx=!1,px=cte(),Cc=2147483647,KD=/^xn--/,JD=/[^\0-\x7E]/,Nz=/[\x2E\u3002\uFF0E\uFF61]/g,Rz={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Xs=Math.floor,Uv=String.fromCharCode,l1=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},u1=function(e,t,r){let n=0;for(e=r?Xs(e/700):e>>1,e+=Xs(e/t);e>455;n+=36)e=Xs(e/35);return Xs(n+36*e/(e+38))},c1=function(e){const t=[],r=e.length;let n=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let l=0;l<s;++l)e.charCodeAt(l)>=128&&kc("not-basic"),t.push(e.charCodeAt(l));for(let l=s>0?s+1:0;l<r;){let u=n;for(let c=1,h=36;;h+=36){l>=r&&kc("invalid-input");const g=(a=e.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(g>=36||g>Xs((Cc-n)/c))&&kc("overflow"),n+=g*c;const m=h<=o?1:h>=o+26?26:h-o;if(g<m)break;const _=36-m;c>Xs(Cc/_)&&kc("overflow"),c*=_}const f=t.length+1;o=u1(n-u,f,u==0),Xs(n/f)>Cc-i&&kc("overflow"),i+=Xs(n/f),n%=f,t.splice(n++,0,i)}var a;return String.fromCodePoint(...t)},f1=function(e){const t=[];let r=(e=GD(e)).length,n=128,i=0,o=72;for(const l of e)l<128&&t.push(Uv(l));let s=t.length,a=s;for(s&&t.push("-");a<r;){let l=Cc;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Xs((Cc-i)/u)&&kc("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>Cc&&kc("overflow"),f==n){let c=i;for(let h=36;;h+=36){const g=h<=o?1:h>=o+26?26:h-o;if(c<g)break;const m=c-g,_=36-g;t.push(Uv(l1(g+m%_,0))),c=Xs(m/_)}t.push(Uv(l1(c,0))),o=u1(i,u,a==s),i=0,++a}++i,++n}return t.join("")},YD={version:"2.1.0",ucs2:{decode:GD,encode:e=>String.fromCodePoint(...e)},decode:c1,encode:f1,toASCII:function(e){return WD(e,function(t){return JD.test(t)?"xn--"+f1(t):t})},toUnicode:function(e){return WD(e,function(t){return KD.test(t)?c1(t.slice(4).toLowerCase()):t})}},XD=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var u,f,c,h,g=e[l].replace(o,"%20"),m=g.indexOf(r);m>=0?(u=g.substr(0,m),f=g.substr(m+1)):(u=g,f=""),c=decodeURIComponent(u),h=decodeURIComponent(f),fte(i,c)?Array.isArray(i[c])?i[c].push(h):i[c]=[i[c],h]:i[c]=h}return i},vd=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},QD=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(vd(i))+r;return Array.isArray(e[i])?e[i].map(function(s){return o+encodeURIComponent(vd(s))}).join(t):o+encodeURIComponent(vd(e[i]))}).join(t):n?encodeURIComponent(vd(n))+r+encodeURIComponent(vd(e)):""},Na={},Na.decode=Na.parse=XD,Na.encode=Na.stringify=QD,Na.decode,Na.encode,Na.parse,Na.stringify,Jr={},ZD=YD,ea={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Jr.parse=_p,Jr.resolve=function(e,t){return _p(e,!1,!0).resolve(t)},Jr.resolveObject=function(e,t){return e?_p(e,!1,!0).resolveObject(t):t},Jr.format=function(e){return ea.isString(e)&&(e=_p(e)),e instanceof vs?e.format():vs.prototype.format.call(e)},Jr.Url=vs,eM=/^([a-z0-9.+-]+:)/i,tM=/:[0-9]*$/,rM=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,nM=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),zv=["'"].concat(nM),d1=["%","/","?",";","#"].concat(zv),h1=["/","?","#"],p1=/^[+a-z0-9A-Z_-]{0,63}$/,iM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,oM={javascript:!0,"javascript:":!0},qv={javascript:!0,"javascript:":!0},Dc={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Vv=Na,vs.prototype.parse=function(e,t,r){if(!ea.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!r&&e.split("#").length===1){var a=rM.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Vv.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=eM.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(r||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f=s.substr(0,2)==="//";!f||l&&qv[l]||(s=s.substr(2),this.slashes=!0)}if(!qv[l]&&(f||l&&!Dc[l])){for(var c,h,g=-1,m=0;m<h1.length;m++)(_=s.indexOf(h1[m]))!==-1&&(g===-1||_<g)&&(g=_);for((h=g===-1?s.lastIndexOf("@"):s.lastIndexOf("@",g))!==-1&&(c=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(c)),g=-1,m=0;m<d1.length;m++){var _;(_=s.indexOf(d1[m]))!==-1&&(g===-1||_<g)&&(g=_)}g===-1&&(g=s.length),this.host=s.slice(0,g),s=s.slice(g),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var p=this.hostname.split(/\./),E=(m=0,p.length);m<E;m++){var y=p[m];if(y&&!y.match(p1)){for(var S="",$=0,T=y.length;$<T;$++)y.charCodeAt($)>127?S+="x":S+=y[$];if(!S.match(p1)){var d=p.slice(0,m),x=p.slice(m+1),A=y.match(iM);A&&(d.push(A[1]),x.unshift(A[2])),x.length&&(s="/"+x.join(".")+s),this.hostname=d.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=ZD.toASCII(this.hostname));var O=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+O,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!oM[u])for(m=0,E=zv.length;m<E;m++){var F=zv[m];if(s.indexOf(F)!==-1){var V=encodeURIComponent(F);V===F&&(V=escape(F)),s=s.split(F).join(V)}}var X=s.indexOf("#");X!==-1&&(this.hash=s.substr(X),s=s.slice(0,X));var H=s.indexOf("?");if(H!==-1?(this.search=s.substr(H),this.query=s.substr(H+1),t&&(this.query=Vv.parse(this.query)),s=s.slice(0,H)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Dc[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){O=this.pathname||"";var Z=this.search||"";this.path=O+Z}return this.href=this.format(),this},vs.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&ea.isObject(this.query)&&Object.keys(this.query).length&&(o=Vv.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Dc[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+n},vs.prototype.resolve=function(e){return this.resolveObject(_p(e,!1,!0)).format()},vs.prototype.resolveObject=function(e){if(ea.isString(e)){var t=new vs;t.parse(e,!1,!0),e=t}for(var r=new vs,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=e[l])}return Dc[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Dc[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||qv[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),h[0]!==""&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",m=r.search||"";r.path=g+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",p=v||_||r.host&&e.pathname,E=p,y=r.pathname&&r.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Dc[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(y[0]===""?y[0]=r.host:y.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(h[0]===""?h[0]=e.host:h.unshift(e.host)),e.host=null),p=p&&(h[0]===""||y[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,y=h;else if(h.length)y||(y=[]),y.pop(),y=y.concat(h),r.search=e.search,r.query=e.query;else if(!ea.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=y.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift())),r.search=e.search,r.query=e.query,ea.isNull(r.pathname)&&ea.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!y.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var $=y.slice(-1)[0],T=(r.host||e.host||y.length>1)&&($==="."||$==="..")||$==="",d=0,x=y.length;x>=0;x--)($=y[x])==="."?y.splice(x,1):$===".."?(y.splice(x,1),d++):d&&(y.splice(x,1),d--);if(!p&&!E)for(;d--;d)y.unshift("..");!p||y[0]===""||y[0]&&y[0].charAt(0)==="/"||y.unshift(""),T&&y.join("/").substr(-1)!=="/"&&y.push("");var A,O=y[0]===""||y[0]&&y[0].charAt(0)==="/";return S&&(r.hostname=r.host=O?"":y.length?y.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift())),(p=p||r.host&&y.length)&&!O&&y.unshift(""),y.length?r.pathname=y.join("/"):(r.pathname=null,r.path=null),ea.isNull(r.pathname)&&ea.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},vs.prototype.parseHost=function(){var e=this.host,t=tM.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Gy={},mx=!1,gx=dte(),sM=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=gte,Jr.fileURLToPath=hte,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.URL,Iz=92,jz=47,kz=97,Cz=122,Hb=sM==="win32",Dz=/\//g,Mz=/%/g,Lz=/\\/g,Fz=/\n/g,Bz=/\r/g,Uz=/\t/g,aM=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Jr.URL=typeof URL<"u"?URL:null,Jr.pathToFileURL=bte,Jr.fileURLToPath=vte,Jr.Url,Jr.format,Jr.resolve,Jr.resolveObject,Jr.parse,Jr.URL,zz=92,qz=47,Vz=97,Hz=122,Wb=aM==="win32",Wz=/\//g,Gz=/%/g,Kz=/\\/g,Jz=/\n/g,Yz=/\r/g,Xz=/\t/g}}),uE={};ll(uE,{Agent:()=>u6,ClientRequest:()=>c6,IncomingMessage:()=>f6,METHODS:()=>d6,STATUS_CODES:()=>h6,default:()=>Ca,get:()=>p6,globalAgent:()=>m6,request:()=>g6});function Zz(){if(vx)return vo;vx=!0,vo.fetch=n(Su.fetch)&&n(Su.ReadableStream),vo.writableStream=n(Su.WritableStream),vo.abortController=n(Su.AbortController);var e;function t(){if(e!==void 0)return e;if(Su.XMLHttpRequest){e=new Su.XMLHttpRequest;try{e.open("GET",Su.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}vo.arraybuffer=vo.fetch||r("arraybuffer"),vo.msstream=!vo.fetch&&r("ms-stream"),vo.mozchunkedarraybuffer=!vo.fetch&&r("moz-chunked-arraybuffer"),vo.overrideMimeType=vo.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,vo}function e6(){return yx||(yx=!0,Ky=Xi.EventEmitter),Ky}function _te(){if(wx)return Jy;wx=!0;function e(m,_){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);_&&(p=p.filter(function(E){return Object.getOwnPropertyDescriptor(m,E).enumerable})),v.push.apply(v,p)}return v}function t(m){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?e(Object(v),!0).forEach(function(p){r(m,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):e(Object(v)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(v,p))})}return m}function r(m,_,v){return _=s(_),_ in m?Object.defineProperty(m,_,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[_]=v,m}function n(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function i(m,_){for(var v=0;v<_.length;v++){var p=_[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,s(p.key),p)}}function o(m,_,v){return _&&i(m.prototype,_),Object.defineProperty(m,"prototype",{writable:!1}),m}function s(m){var _=a(m,"string");return typeof _=="symbol"?_:String(_)}function a(m,_){if(typeof m!="object"||m===null)return m;var v=m[Symbol.toPrimitive];if(v!==void 0){var p=v.call(m,_);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}var l=jo(),u=l.Buffer,f=dt,c=f.inspect,h=c&&c.custom||"inspect";function g(m,_,v){u.prototype.copy.call(m,_,v)}return Jy=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return o(m,[{key:"push",value:function(v){var p={data:v,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(v){var p={data:v,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var p=this.head,E=""+p.data;p=p.next;)E+=v+p.data;return E}},{key:"concat",value:function(v){if(this.length===0)return u.alloc(0);for(var p=u.allocUnsafe(v>>>0),E=this.head,y=0;E;)g(E.data,p,y),y+=E.data.length,E=E.next;return p}},{key:"consume",value:function(v,p){var E;return v<this.head.data.length?(E=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?E=this.shift():E=p?this._getString(v):this._getBuffer(v),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var p=this.head,E=1,y=p.data;for(v-=y.length;p=p.next;){var S=p.data,$=v>S.length?S.length:v;if($===S.length?y+=S:y+=S.slice(0,v),v-=$,v===0){$===S.length?(++E,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=S.slice($));break}++E}return this.length-=E,y}},{key:"_getBuffer",value:function(v){var p=u.allocUnsafe(v),E=this.head,y=1;for(E.data.copy(p),v-=E.data.length;E=E.next;){var S=E.data,$=v>S.length?S.length:v;if(S.copy(p,p.length-v,0,$),v-=$,v===0){$===S.length?(++y,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=S.slice($));break}++y}return this.length-=y,p}},{key:h,value:function(v,p){return c(this,t(t({},p),{},{depth:0,customInspect:!1}))}}]),m}(),Jy}function t6(){if(bx)return Yy;bx=!0;var e=hi;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return Yy={destroy:t,undestroy:i,errorOrDestroy:s},Yy}function Hh(){if(_x)return Xy;_x=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,h,g){return typeof a=="string"?a:a(c,h,g)}class f extends l{constructor(h,g,m){super(u(h,g,m))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Xy.codes=e,Xy}function r6(){if(Ex)return Qy;Ex=!0;var e=Hh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return Qy={getHighWaterMark:r},Qy}function n6(){if(Sx)return Zy;Sx=!0;var e=hi;Zy=A;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){oe(Y,J)}}var r;A.WritableState=d;var n={deprecate:ote()},i=e6(),o=jo().Buffer,s=(typeof $x<"u"?$x:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof s}var u=t6(),f=r6(),c=f.getHighWaterMark,h=Hh().codes,g=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;pc()(A,i);function T(){}function d(J,Y,ae){r=r||Rh(),J=J||{},typeof ae!="boolean"&&(ae=Y instanceof r),this.objectMode=!!J.objectMode,ae&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",ae),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ie){fe(Y,Ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,ae=[];Y;)ae.push(Y),Y=Y.next;return ae},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(Y){return x.call(this,Y)?!0:this!==A?!1:Y&&Y._writableState instanceof d}})):x=function(Y){return Y instanceof this};function A(J){r=r||Rh();var Y=this instanceof r;if(!Y&&!x.call(A,this))return new A(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}A.prototype.pipe=function(){$(this,new v)};function O(J,Y){var ae=new y;$(J,ae),e.nextTick(Y,ae)}function C(J,Y,ae,be){var Ie;return ae===null?Ie=new E:typeof ae!="string"&&!Y.objectMode&&(Ie=new g("chunk",["string","Buffer"],ae)),Ie?($(J,Ie),e.nextTick(be,Ie),!1):!0}A.prototype.write=function(J,Y,ae){var be=this._writableState,Ie=!1,N=!be.objectMode&&l(J);return N&&!o.isBuffer(J)&&(J=a(J)),typeof Y=="function"&&(ae=Y,Y=null),N?Y="buffer":Y||(Y=be.defaultEncoding),typeof ae!="function"&&(ae=T),be.ending?O(this,ae):(N||C(this,be,J,ae))&&(be.pendingcb++,Ie=V(this,be,N,J,Y,ae)),Ie},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&k(this,J))},A.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,ae){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,ae)),Y}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,ae,be,Ie,N){if(!ae){var D=F(Y,be,Ie);be!==D&&(ae=!0,Ie="buffer",be=D)}var M=Y.objectMode?1:be.length;Y.length+=M;var K=Y.length<Y.highWaterMark;if(K||(Y.needDrain=!0),Y.writing||Y.corked){var se=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Ie,isBuf:ae,callback:N,next:null},se?se.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else X(J,Y,!1,M,be,Ie,N);return K}function X(J,Y,ae,be,Ie,N,D){Y.writelen=be,Y.writecb=D,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new p("write")):ae?J._writev(Ie,Y.onwrite):J._write(Ie,N,Y.onwrite),Y.sync=!1}function H(J,Y,ae,be,Ie){--Y.pendingcb,ae?(e.nextTick(Ie,be),e.nextTick(R,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Ie(be),J._writableState.errorEmitted=!0,$(J,be),R(J,Y))}function Z(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function fe(J,Y){var ae=J._writableState,be=ae.sync,Ie=ae.writecb;if(typeof Ie!="function")throw new _;if(Z(ae),Y)H(J,ae,be,Y,Ie);else{var N=B(ae)||J.destroyed;!N&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&k(J,ae),be?e.nextTick(ee,J,ae,N,Ie):ee(J,ae,N,Ie)}}function ee(J,Y,ae,be){ae||ne(J,Y),Y.pendingcb--,be(),R(J,Y)}function ne(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function k(J,Y){Y.bufferProcessing=!0;var ae=Y.bufferedRequest;if(J._writev&&ae&&ae.next){var be=Y.bufferedRequestCount,Ie=new Array(be),N=Y.corkedRequestsFree;N.entry=ae;for(var D=0,M=!0;ae;)Ie[D]=ae,ae.isBuf||(M=!1),ae=ae.next,D+=1;Ie.allBuffers=M,X(J,Y,!0,Y.length,Ie,"",N.finish),Y.pendingcb++,Y.lastBufferedRequest=null,N.next?(Y.corkedRequestsFree=N.next,N.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;ae;){var K=ae.chunk,se=ae.encoding,ce=ae.callback,de=Y.objectMode?1:K.length;if(X(J,Y,!1,de,K,se,ce),ae=ae.next,Y.bufferedRequestCount--,Y.writing)break}ae===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=ae,Y.bufferProcessing=!1}A.prototype._write=function(J,Y,ae){ae(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(J,Y,ae){var be=this._writableState;return typeof J=="function"?(ae=J,J=null,Y=null):typeof Y=="function"&&(ae=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||z(this,be,ae),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function W(J,Y){J._final(function(ae){Y.pendingcb--,ae&&$(J,ae),Y.prefinished=!0,J.emit("prefinish"),R(J,Y)})}function P(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(W,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function R(J,Y){var ae=B(Y);if(ae&&(P(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return ae}function z(J,Y,ae){Y.ending=!0,R(J,Y),ae&&(Y.finished?e.nextTick(ae):J.once("finish",ae)),Y.ended=!0,J.writable=!1}function oe(J,Y,ae){var be=J.entry;for(J.entry=null;be;){var Ie=be.callback;Y.pendingcb--,Ie(ae),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),A.prototype.destroy=u.destroy,A.prototype._undestroy=u.undestroy,A.prototype._destroy=function(J,Y){Y(J)},Zy}function Rh(){if(Tx)return e0;Tx=!0;var e=hi,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};e0=a;var r=i6(),n=n6();pc()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),e0}function yR(){if(xx)return t0;xx=!0;var e=Hh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||a.call(o)},g=o._readableState&&o._readableState.endEmitted,m=function(){l=!1,g=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!g)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",m),o.on("finish",h),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",m),o.removeListener("error",_),o.removeListener("close",v)}}return t0=i,t0}function Ete(){if(Ax)return r0;Ax=!0;var e=hi,t;function r(S,$,T){return $=n($),$ in S?Object.defineProperty(S,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[$]=T,S}function n(S){var $=i(S,"string");return typeof $=="symbol"?$:String($)}function i(S,$){if(typeof S!="object"||S===null)return S;var T=S[Symbol.toPrimitive];if(T!==void 0){var d=T.call(S,$);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(S)}var o=yR(),s=Symbol("lastResolve"),a=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),f=Symbol("lastPromise"),c=Symbol("handlePromise"),h=Symbol("stream");function g(S,$){return{value:S,done:$}}function m(S){var $=S[s];if($!==null){var T=S[h].read();T!==null&&(S[f]=null,S[s]=null,S[a]=null,$(g(T,!1)))}}function _(S){e.nextTick(m,S)}function v(S,$){return function(T,d){S.then(function(){if($[u]){T(g(void 0,!0));return}$[c](T,d)},d)}}var p=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var $=this,T=this[l];if(T!==null)return Promise.reject(T);if(this[u])return Promise.resolve(g(void 0,!0));if(this[h].destroyed)return new Promise(function(O,C){e.nextTick(function(){$[l]?C($[l]):O(g(void 0,!0))})});var d=this[f],x;if(d)x=new Promise(v(d,this));else{var A=this[h].read();if(A!==null)return Promise.resolve(g(A,!1));x=new Promise(this[c])}return this[f]=x,x}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var $=this;return new Promise(function(T,d){$[h].destroy(null,function(x){if(x){d(x);return}T(g(void 0,!0))})})}),t),p),y=function($){var T,d=Object.create(E,(T={},r(T,h,{value:$,writable:!0}),r(T,s,{value:null,writable:!0}),r(T,a,{value:null,writable:!0}),r(T,l,{value:null,writable:!0}),r(T,u,{value:$._readableState.endEmitted,writable:!0}),r(T,c,{value:function(A,O){var C=d[h].read();C?(d[f]=null,d[s]=null,d[a]=null,A(g(C,!1))):(d[s]=A,d[a]=O)},writable:!0}),T));return d[f]=null,o($,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var A=d[a];A!==null&&(d[f]=null,d[s]=null,d[a]=null,A(x)),d[l]=x;return}var O=d[s];O!==null&&(d[f]=null,d[s]=null,d[a]=null,O(g(void 0,!0))),d[u]=!0}),$.on("readable",_.bind(null,d)),d};return r0=y,r0}function Ste(){return Ox||(Ox=!0,n0=function(){throw new Error("Readable.from is not available in the browser")}),n0}function i6(){if(Px)return i0;Px=!0;var e=hi;i0=O;var t;O.ReadableState=A,Xi.EventEmitter;var r=function(D,M){return D.listeners(M).length},n=e6(),i=jo().Buffer,o=(typeof Nx<"u"?Nx:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(N){return i.from(N)}function a(N){return i.isBuffer(N)||N instanceof o}var l=dt,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=_te(),c=t6(),h=r6(),g=h.getHighWaterMark,m=Hh().codes,_=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,p=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;pc()(O,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function x(N,D,M){if(typeof N.prependListener=="function")return N.prependListener(D,M);!N._events||!N._events[D]?N.on(D,M):Array.isArray(N._events[D])?N._events[D].unshift(M):N._events[D]=[M,N._events[D]]}function A(N,D,M){t=t||Rh(),N=N||{},typeof M!="boolean"&&(M=D instanceof t),this.objectMode=!!N.objectMode,M&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=g(this,N,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(y||(y=fh.StringDecoder),this.decoder=new y(N.encoding),this.encoding=N.encoding)}function O(N){if(t=t||Rh(),!(this instanceof O))return new O(N);var D=this instanceof t;this._readableState=new A(N,this,D),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(N,D){D(N)},O.prototype.push=function(N,D){var M=this._readableState,K;return M.objectMode?K=!0:typeof N=="string"&&(D=D||M.defaultEncoding,D!==M.encoding&&(N=i.from(N,D),D=""),K=!0),C(this,N,D,!1,K)},O.prototype.unshift=function(N){return C(this,N,null,!0,!1)};function C(N,D,M,K,se){u("readableAddChunk",D);var ce=N._readableState;if(D===null)ce.reading=!1,fe(N,ce);else{var de;if(se||(de=V(ce,D)),de)T(N,de);else if(ce.objectMode||D&&D.length>0)if(typeof D!="string"&&!ce.objectMode&&Object.getPrototypeOf(D)!==i.prototype&&(D=s(D)),K)ce.endEmitted?T(N,new E):F(N,ce,D,!0);else if(ce.ended)T(N,new v);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!M?(D=ce.decoder.write(D),ce.objectMode||D.length!==0?F(N,ce,D,!1):k(N,ce)):F(N,ce,D,!1)}else K||(ce.reading=!1,k(N,ce))}return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function F(N,D,M,K){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,N.emit("data",M)):(D.length+=D.objectMode?1:M.length,K?D.buffer.unshift(M):D.buffer.push(M),D.needReadable&&ee(N)),k(N,D)}function V(N,D){var M;return!a(D)&&typeof D!="string"&&D!==void 0&&!N.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],D)),M}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(N){y||(y=fh.StringDecoder);var D=new y(N);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,K="";M!==null;)K+=D.write(M.data),M=M.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var X=1073741824;function H(N){return N>=X?N=X:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function Z(N,D){return N<=0||D.length===0&&D.ended?0:D.objectMode?1:N!==N?D.flowing&&D.length?D.buffer.head.data.length:D.length:(N>D.highWaterMark&&(D.highWaterMark=H(N)),N<=D.length?N:D.ended?D.length:(D.needReadable=!0,0))}O.prototype.read=function(N){u("read",N),N=parseInt(N,10);var D=this._readableState,M=N;if(N!==0&&(D.emittedReadable=!1),N===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return u("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?ae(this):ee(this),null;if(N=Z(N,D),N===0&&D.ended)return D.length===0&&ae(this),null;var K=D.needReadable;u("need readable",K),(D.length===0||D.length-N<D.highWaterMark)&&(K=!0,u("length less than watermark",K)),D.ended||D.reading?(K=!1,u("reading or ended",K)):K&&(u("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(N=Z(M,D)));var se;return N>0?se=Y(N,D):se=null,se===null?(D.needReadable=D.length<=D.highWaterMark,N=0):(D.length-=N,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),M!==N&&D.ended&&ae(this)),se!==null&&this.emit("data",se),se};function fe(N,D){if(u("onEofChunk"),!D.ended){if(D.decoder){var M=D.decoder.end();M&&M.length&&(D.buffer.push(M),D.length+=D.objectMode?1:M.length)}D.ended=!0,D.sync?ee(N):(D.needReadable=!1,D.emittedReadable||(D.emittedReadable=!0,ne(N)))}}function ee(N){var D=N._readableState;u("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(u("emitReadable",D.flowing),D.emittedReadable=!0,e.nextTick(ne,N))}function ne(N){var D=N._readableState;u("emitReadable_",D.destroyed,D.length,D.ended),!D.destroyed&&(D.length||D.ended)&&(N.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,J(N)}function k(N,D){D.readingMore||(D.readingMore=!0,e.nextTick(B,N,D))}function B(N,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var M=D.length;if(u("maybeReadMore read 0"),N.read(0),M===D.length)break}D.readingMore=!1}O.prototype._read=function(N){T(this,new p("_read()"))},O.prototype.pipe=function(N,D){var M=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=N;break;case 1:K.pipes=[K.pipes,N];break;default:K.pipes.push(N);break}K.pipesCount+=1,u("pipe count=%d opts=%j",K.pipesCount,D);var se=(!D||D.end!==!1)&&N!==e.stdout&&N!==e.stderr,ce=se?pe:I;K.endEmitted?e.nextTick(ce):M.once("end",ce),N.on("unpipe",de);function de(L,ie){u("onunpipe"),L===M&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,Ce())}function pe(){u("onend"),N.end()}var Ae=W(M);N.on("drain",Ae);var Le=!1;function Ce(){u("cleanup"),N.removeListener("close",Ue),N.removeListener("finish",G),N.removeListener("drain",Ae),N.removeListener("error",qe),N.removeListener("unpipe",de),M.removeListener("end",pe),M.removeListener("end",I),M.removeListener("data",rt),Le=!0,K.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&Ae()}M.on("data",rt);function rt(L){u("ondata");var ie=N.write(L);u("dest.write",ie),ie===!1&&((K.pipesCount===1&&K.pipes===N||K.pipesCount>1&&Ie(K.pipes,N)!==-1)&&!Le&&(u("false write response, pause",K.awaitDrain),K.awaitDrain++),M.pause())}function qe(L){u("onerror",L),I(),N.removeListener("error",qe),r(N,"error")===0&&T(N,L)}x(N,"error",qe);function Ue(){N.removeListener("finish",G),I()}N.once("close",Ue);function G(){u("onfinish"),N.removeListener("close",Ue),I()}N.once("finish",G);function I(){u("unpipe"),M.unpipe(N)}return N.emit("pipe",M),K.flowing||(u("pipe resume"),M.resume()),N};function W(N){return function(){var M=N._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(N,"data")&&(M.flowing=!0,J(N))}}O.prototype.unpipe=function(N){var D=this._readableState,M={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return N&&N!==D.pipes?this:(N||(N=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,N&&N.emit("unpipe",this,M),this);if(!N){var K=D.pipes,se=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var ce=0;ce<se;ce++)K[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Ie(D.pipes,N);return de===-1?this:(D.pipes.splice(de,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),N.emit("unpipe",this,M),this)},O.prototype.on=function(N,D){var M=n.prototype.on.call(this,N,D),K=this._readableState;return N==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):N==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,u("on readable",K.length,K.reading),K.length?ee(this):K.reading||e.nextTick(R,this)),M},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(N,D){var M=n.prototype.removeListener.call(this,N,D);return N==="readable"&&e.nextTick(P,this),M},O.prototype.removeAllListeners=function(N){var D=n.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&e.nextTick(P,this),D};function P(N){var D=N._readableState;D.readableListening=N.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:N.listenerCount("data")>0&&N.resume()}function R(N){u("readable nexttick read 0"),N.read(0)}O.prototype.resume=function(){var N=this._readableState;return N.flowing||(u("resume"),N.flowing=!N.readableListening,z(this,N)),N.paused=!1,this};function z(N,D){D.resumeScheduled||(D.resumeScheduled=!0,e.nextTick(oe,N,D))}function oe(N,D){u("resume",D.reading),D.reading||N.read(0),D.resumeScheduled=!1,N.emit("resume"),J(N),D.flowing&&!D.reading&&N.read(0)}O.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(N){var D=N._readableState;for(u("flow",D.flowing);D.flowing&&N.read()!==null;);}O.prototype.wrap=function(N){var D=this,M=this._readableState,K=!1;N.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var de=M.decoder.end();de&&de.length&&D.push(de)}D.push(null)}),N.on("data",function(de){if(u("wrapped data"),M.decoder&&(de=M.decoder.write(de)),!(M.objectMode&&de==null)&&!(!M.objectMode&&(!de||!de.length))){var pe=D.push(de);pe||(K=!0,N.pause())}});for(var se in N)this[se]===void 0&&typeof N[se]=="function"&&(this[se]=function(pe){return function(){return N[pe].apply(N,arguments)}}(se));for(var ce=0;ce<d.length;ce++)N.on(d[ce],this.emit.bind(this,d[ce]));return this._read=function(de){u("wrapped _read",de),K&&(K=!1,N.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=Ete()),S(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),O._fromList=Y,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(N,D){if(D.length===0)return null;var M;return D.objectMode?M=D.buffer.shift():!N||N>=D.length?(D.decoder?M=D.buffer.join(""):D.buffer.length===1?M=D.buffer.first():M=D.buffer.concat(D.length),D.buffer.clear()):M=D.buffer.consume(N,D.decoder),M}function ae(N){var D=N._readableState;u("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,e.nextTick(be,D,N))}function be(N,D){if(u("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,D.readable=!1,D.emit("end"),N.autoDestroy)){var M=D._writableState;(!M||M.autoDestroy&&M.finished)&&D.destroy()}}typeof Symbol=="function"&&(O.from=function(N,D){return $===void 0&&($=Ste()),$(O,N,D)});function Ie(N,D){for(var M=0,K=N.length;M<K;M++)if(N[M]===D)return M;return-1}return i0}function o6(){if(Rx)return o0;Rx=!0,o0=a;var e=Hh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Rh();pc()(a,o);function s(f,c){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(g===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),g(f);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,h){h(new t("_transform()"))},a.prototype._write=function(f,c,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=c,!g.transforming){var m=this._readableState;(g.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return o0}function $te(){if(Ix)return s0;Ix=!0,s0=t;var e=o6();pc()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},s0}function Tte(){if(jx)return a0;jx=!0;var e;function t(h){var g=!1;return function(){g||(g=!0,h.apply(void 0,arguments))}}var r=Hh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function s(h){return h.setHeader&&typeof h.abort=="function"}function a(h,g,m,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=yR()),e(h,{readable:g,writable:m},function(E){if(E)return _(E);v=!0,_()});var p=!1;return function(E){if(!v&&!p){if(p=!0,s(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(E||new i("pipe"))}}}function l(h){h()}function u(h,g){return h.pipe(g)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];var _=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var v,p=g.map(function(E,y){var S=y<g.length-1,$=y>0;return a(E,S,$,function(T){v||(v=T),T&&p.forEach(l),!S&&(p.forEach(l),_(v))})});return g.reduce(u)}return a0=c,a0}function s6(){return kx||(kx=!0,Wi=Wi=i6(),Wi.Stream=Wi,Wi.Readable=Wi,Wi.Writable=n6(),Wi.Duplex=Rh(),Wi.Transform=o6(),Wi.PassThrough=$te(),Wi.finished=yR(),Wi.pipeline=Tte()),Wi}function a6(){if(Cx)return Up;Cx=!0;var e=jo().Buffer,t=hi,r=Zz(),n=pc(),i=s6(),o=Up.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=Up.IncomingMessage=function(a,l,u,f){var c=this||zp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){g.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),p()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var h=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(h).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var g=l.body.getReader();p()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var m=a.getAllResponseHeaders().split(/\r?\n/);if(m.forEach(function(p){var E=p.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||zp,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||zp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),g=0;g<c.length;g++)h[g]=c.charCodeAt(g)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var m=new zp.MSStreamReader;m.onprogress=function(){m.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(m.result.slice(l._pos)))),l._pos=m.result.byteLength)},m.onload=function(){a(!0),l.push(null)},m.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},Up}function xte(){if(Dx)return l0;Dx=!0;var e=jo().Buffer,t=hi,r=Zz(),n=pc(),i=a6(),o=s6(),s=i.IncomingMessage,a=i.readyStates;function l(h,g){return r.fetch&&g?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=l0=function(h){var g=this||ei;o.Writable.call(g),g._opts=h,g._body=[],g._headers={},h.auth&&g.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){g.setHeader(v,h.headers[v])});var m,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,m=!0;else if(h.mode==="prefer-streaming")m=!1;else if(h.mode==="allow-wrong-content-type")m=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")m=!0;else throw new Error("Invalid value for opts.mode");g._mode=l(m,_),g._fetchTimer=null,g._socketTimeout=null,g._socketTimer=null,g.on("finish",function(){g._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,g){var m=this||ei,_=h.toLowerCase();c.indexOf(_)===-1&&(m._headers[_]={name:h,value:g})},u.prototype.getHeader=function(h){var g=(this||ei)._headers[h.toLowerCase()];return g?g.value:null},u.prototype.removeHeader=function(h){var g=this||ei;delete g._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||ei;if(!h._destroyed){var g=h._opts;"timeout"in g&&g.timeout!==0&&h.setTimeout(g.timeout);var m=h._headers,_=null;g.method!=="GET"&&g.method!=="HEAD"&&(_=new Blob(h._body,{type:(m["content-type"]||{}).value||""}));var v=[];if(Object.keys(m).forEach(function(S){var $=m[S].name,T=m[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),h._mode==="fetch"){var p=null;if(r.abortController){var E=new AbortController;p=E.signal,h._fetchAbortController=E,"requestTimeout"in g&&g.requestTimeout!==0&&(h._fetchTimer=ei.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},g.requestTimeout))}ei.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:g.withCredentials?"include":"same-origin",signal:p}).then(function(S){h._fetchResponse=S,h._resetTimers(!1),h._connect()},function(S){h._resetTimers(!0),h._destroyed||h.emit("error",S)})}else{var y=h._xhr=new ei.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(S){t.nextTick(function(){h.emit("error",S)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!g.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in g&&(y.timeout=g.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){h.emit("error",S)});return}}}};function f(h){try{var g=h.status;return g!==null&&g!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||ei;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||ei;h._destroyed||(h._response=new s(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(g){h.emit("error",g)}),h.emit("response",h._response))},u.prototype._write=function(h,g,m){var _=this||ei;_._body.push(h),m()},u.prototype._resetTimers=function(h){var g=this||ei;ei.clearTimeout(g._socketTimer),g._socketTimer=null,h?(ei.clearTimeout(g._fetchTimer),g._fetchTimer=null):g._socketTimeout&&(g._socketTimer=ei.setTimeout(function(){g.emit("timeout")},g._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var g=this||ei;g._destroyed=!0,g._resetTimers(!0),g._response&&(g._response._destroyed=!0),g._xhr?g._xhr.abort():g._fetchAbortController&&g._fetchAbortController.abort(),h&&g.emit("error",h)},u.prototype.end=function(h,g,m){var _=this||ei;typeof h=="function"&&(m=h,h=void 0),o.Writable.prototype.end.call(_,h,g,m)},u.prototype.setTimeout=function(h,g){var m=this||ei;g&&m.once("timeout",g),m._socketTimeout=h,m._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return l0}function Ate(){if(Mx)return u0;Mx=!0,u0=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return u0}function Ote(){return Lx||(Lx=!0,c0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),c0}function Pte(){if(Fx)return f0;Fx=!0;var e=xte(),t=a6(),r=Ate(),n=Ote(),i=Jr,o=f0;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=l6.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,h=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var g=new e(s);return a&&g.on("response",a),g},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],f0}var vo,vx,Su,Ky,yx,Jy,wx,Yy,bx,Xy,_x,Qy,Ex,Zy,Sx,$x,e0,Tx,t0,xx,r0,Ax,n0,Ox,i0,Px,Nx,o0,Rx,s0,Ix,a0,jx,Wi,kx,Up,Cx,zp,l0,Dx,ei,u0,Mx,c0,Lx,f0,Fx,l6,Ca,u6,c6,f6,d6,h6,p6,m6,g6,wR=on({"../../node_modules/@jspm/core/nodelibs/browser/http.js"(){Te(),pR(),zee(),aE(),rE(),Kee(),Ig(),jg(),ste(),Pz(),Qz(),lE(),vo={},vx=!1,Su=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ky={},yx=!1,Jy={},wx=!1,Yy={},bx=!1,Xy={},_x=!1,Qy={},Ex=!1,Zy={},Sx=!1,$x=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,e0={},Tx=!1,t0={},xx=!1,r0={},Ax=!1,n0={},Ox=!1,i0={},Px=!1,Nx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,o0={},Rx=!1,s0={},Ix=!1,a0={},jx=!1,Wi={},kx=!1,Up={},Cx=!1,zp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,l0={},Dx=!1,ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,u0={},Mx=!1,c0={},Lx=!1,f0={},Fx=!1,l6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ca=Pte(),u6=Ca.Agent,c6=Ca.ClientRequest,f6=Ca.IncomingMessage,d6=Ca.METHODS,h6=Ca.STATUS_CODES,p6=Ca.get,m6=Ca.globalAgent,g6=Ca.request}});function lM(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function Nte(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(aa[(i=n)>>18&63]+aa[i>>12&63]+aa[i>>6&63]+aa[63&i]);return o.join("")}function Rl(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,vt.prototype),t}function vt(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Bx(e)}return v6(e,t,r)}function v6(e,t,r){if(typeof e=="string")return function(o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!vt.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=0|w6(o,s),l=Rl(a),u=l.write(o,s);return u!==a&&(l=l.slice(0,u)),l}(e,t);if(ArrayBuffer.isView(e))return m1(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Il(e,ArrayBuffer)||e&&Il(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Il(e,SharedArrayBuffer)||e&&Il(e.buffer,SharedArrayBuffer)))return uM(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return vt.from(n,t,r);var i=function(o){if(vt.isBuffer(o)){var s=0|bR(o.length),a=Rl(s);return a.length===0||o.copy(a,0,0,s),a}if(o.length!==void 0)return typeof o.length!="number"||_R(o.length)?Rl(0):m1(o);if(o.type==="Buffer"&&Array.isArray(o.data))return m1(o.data)}(e);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return vt.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function y6(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Bx(e){return y6(e),Rl(e<0?0:0|bR(e))}function m1(e){for(var t=e.length<0?0:0|bR(e.length),r=Rl(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function uM(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,vt.prototype),n}function bR(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function w6(e,t){if(vt.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Il(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ux(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return S6(e).length;default:if(i)return n?-1:Ux(e).length;t=(""+t).toLowerCase(),i=!0}}function Rte(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Bte(this,t,r);case"utf8":case"utf-8":return _6(this,t,r);case"ascii":return Lte(this,t,r);case"latin1":case"binary":return Fte(this,t,r);case"base64":return Mte(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ute(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function Mc(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function cM(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),_R(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof t=="string"&&(t=vt.from(t,n)),vt.isBuffer(t))return t.length===0?-1:fM(e,t,r,n,i);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):fM(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function fM(e,t,r,n,i){var o,s=1,a=e.length,l=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,r/=2}function u(g,m){return s===1?g[m]:g.readUInt16BE(m*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,f===-1?0:o-f)){if(f===-1&&(f=o),o-f+1===l)return f*s}else f!==-1&&(o-=o-f),f=-1}else for(r+l>a&&(r=a-l),o=r;o>=0;o--){for(var c=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){c=!1;break}if(c)return o}return-1}function Ite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(_R(a))return s;e[r+s]=a}return s}function jte(e,t,r,n){return cE(Ux(t,e.length-r),e,r,n)}function b6(e,t,r,n){return cE(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(t),e,r,n)}function kte(e,t,r,n){return b6(e,t,r,n)}function Cte(e,t,r,n){return cE(S6(t),e,r,n)}function Dte(e,t,r,n){return cE(function(i,o){for(var s,a,l,u=[],f=0;f<i.length&&!((o-=2)<0);++f)s=i.charCodeAt(f),a=s>>8,l=s%256,u.push(l),u.push(a);return u}(t,e.length-r),e,r,n)}function Mte(e,t,r){return t===0&&r===e.length?Gb.fromByteArray(e):Gb.fromByteArray(e.slice(t,r))}function _6(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,l,u=e[i],f=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(f=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(f=l)}f===null?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(h){var g=h.length;if(g<=4096)return String.fromCharCode.apply(String,h);for(var m="",_=0;_<g;)m+=String.fromCharCode.apply(String,h.slice(_,_+=4096));return m}(n)}function Lte(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function Fte(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function Bte(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=R6[e[o]];return i}function Ute(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function ai(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function go(e,t,r,n,i,o){if(!vt.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function E6(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function dM(e,t,r,n,i){return t=+t,r>>>=0,i||E6(e,0,r,4),Qc.write(e,t,r,n,23,4),r+4}function hM(e,t,r,n,i){return t=+t,r>>>=0,i||E6(e,0,r,8),Qc.write(e,t,r,n,52,8),r+8}function Ux(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function S6(e){return Gb.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(N6,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function cE(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Il(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function _R(e){return e!=e}function pM(e,t){for(var r in e)t[r]=e[r]}function Lc(e,t,r){return ta(e,t,r)}function Ep(e){var t;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var o;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(o)return;i=(""+i).toLowerCase(),o=!0}}(r);if(typeof n!="string"&&(Jb.isEncoding===zx||!zx(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=qte,this.end=Vte,t=4;break;case"utf8":this.fillLast=zte,t=4;break;case"base64":this.text=Hte,this.end=Wte,t=3;break;default:return this.write=Gte,this.end=Kte,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=Jb.allocUnsafe(t)}function g1(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function zte(e){var t=this.lastTotal-this.lastNeed,r=function(n,i,o){if((192&i[0])!=128)return n.lastNeed=0,"�";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"�";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,"�"}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function qte(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Vte(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Hte(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Wte(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Gte(e){return e.toString(this.encoding)}function Kte(e){return e&&e.length?this.write(e):""}function Jte(){if(qx)return Rd;qx=!0,Rd.byteLength=a,Rd.toByteArray=u,Rd.fromByteArray=h;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(g){var m=g.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=g.indexOf("=");_===-1&&(_=m);var v=_===m?0:4-_%4;return[_,v]}function a(g){var m=s(g),_=m[0],v=m[1];return(_+v)*3/4-v}function l(g,m,_){return(m+_)*3/4-_}function u(g){var m,_=s(g),v=_[0],p=_[1],E=new r(l(g,v,p)),y=0,S=p>0?v-4:v,$;for($=0;$<S;$+=4)m=t[g.charCodeAt($)]<<18|t[g.charCodeAt($+1)]<<12|t[g.charCodeAt($+2)]<<6|t[g.charCodeAt($+3)],E[y++]=m>>16&255,E[y++]=m>>8&255,E[y++]=m&255;return p===2&&(m=t[g.charCodeAt($)]<<2|t[g.charCodeAt($+1)]>>4,E[y++]=m&255),p===1&&(m=t[g.charCodeAt($)]<<10|t[g.charCodeAt($+1)]<<4|t[g.charCodeAt($+2)]>>2,E[y++]=m>>8&255,E[y++]=m&255),E}function f(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function c(g,m,_){for(var v,p=[],E=m;E<_;E+=3)v=(g[E]<<16&16711680)+(g[E+1]<<8&65280)+(g[E+2]&255),p.push(f(v));return p.join("")}function h(g){for(var m,_=g.length,v=_%3,p=[],E=16383,y=0,S=_-v;y<S;y+=E)p.push(c(g,y,y+E>S?S:y+E));return v===1?(m=g[_-1],p.push(e[m>>2]+e[m<<4&63]+"==")):v===2&&(m=(g[_-2]<<8)+g[_-1],p.push(e[m>>10]+e[m>>4&63]+e[m<<2&63]+"=")),p.join("")}return Rd}function Yte(){return Vx||(Vx=!0,qp.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,g=e[t+c];for(c+=h,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=o*256+e[t+c],c+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(g?-1:1)*s*Math.pow(2,o-n)},qp.write=function(e,t,r,n,i,o){var s,a,l,u=o*8-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+c>=1?t+=h/l:t+=h*Math.pow(2,1-c),t*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s=s+c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+g]=a&255,g+=m,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+g]=s&255,g+=m,s/=256,u-=8);e[r+g-m]|=_*128}),qp}function Xte(){if(Hx)return $u;Hx=!0;const e=Jte(),t=Yte(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$u.Buffer=s,$u.SlowBuffer=p,$u.INSPECT_MAX_BYTES=50;const n=2147483647;$u.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const G=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(G,I),G.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(G){if(G>n)throw new RangeError('The value "'+G+'" is invalid for option "size"');const I=new Uint8Array(G);return Object.setPrototypeOf(I,s.prototype),I}function s(G,I,L){if(typeof G=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(G)}return a(G,I,L)}s.poolSize=8192;function a(G,I,L){if(typeof G=="string")return c(G,I);if(ArrayBuffer.isView(G))return g(G);if(G==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(Le(G,ArrayBuffer)||G&&Le(G.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(G,SharedArrayBuffer)||G&&Le(G.buffer,SharedArrayBuffer)))return m(G,I,L);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=G.valueOf&&G.valueOf();if(ie!=null&&ie!==G)return s.from(ie,I,L);const ye=_(G);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return s.from(G[Symbol.toPrimitive]("string"),I,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}s.from=function(G,I,L){return a(G,I,L)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function u(G,I,L){return l(G),G<=0?o(G):I!==void 0?typeof L=="string"?o(G).fill(I,L):o(G).fill(I):o(G)}s.alloc=function(G,I,L){return u(G,I,L)};function f(G){return l(G),o(G<0?0:v(G)|0)}s.allocUnsafe=function(G){return f(G)},s.allocUnsafeSlow=function(G){return f(G)};function c(G,I){if((typeof I!="string"||I==="")&&(I="utf8"),!s.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const L=E(G,I)|0;let ie=o(L);const ye=ie.write(G,I);return ye!==L&&(ie=ie.slice(0,ye)),ie}function h(G){const I=G.length<0?0:v(G.length)|0,L=o(I);for(let ie=0;ie<I;ie+=1)L[ie]=G[ie]&255;return L}function g(G){if(Le(G,Uint8Array)){const I=new Uint8Array(G);return m(I.buffer,I.byteOffset,I.byteLength)}return h(G)}function m(G,I,L){if(I<0||G.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<I+(L||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return I===void 0&&L===void 0?ie=new Uint8Array(G):L===void 0?ie=new Uint8Array(G,I):ie=new Uint8Array(G,I,L),Object.setPrototypeOf(ie,s.prototype),ie}function _(G){if(s.isBuffer(G)){const I=v(G.length)|0,L=o(I);return L.length===0||G.copy(L,0,0,I),L}if(G.length!==void 0)return typeof G.length!="number"||Ce(G.length)?o(0):h(G);if(G.type==="Buffer"&&Array.isArray(G.data))return h(G.data)}function v(G){if(G>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return G|0}function p(G){return+G!=G&&(G=0),s.alloc(+G)}s.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==s.prototype},s.compare=function(I,L){if(Le(I,Uint8Array)&&(I=s.from(I,I.offset,I.byteLength)),Le(L,Uint8Array)&&(L=s.from(L,L.offset,L.byteLength)),!s.isBuffer(I)||!s.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===L)return 0;let ie=I.length,ye=L.length;for(let Se=0,De=Math.min(ie,ye);Se<De;++Se)if(I[Se]!==L[Se]){ie=I[Se],ye=L[Se];break}return ie<ye?-1:ye<ie?1:0},s.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(I,L){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return s.alloc(0);let ie;if(L===void 0)for(L=0,ie=0;ie<I.length;++ie)L+=I[ie].length;const ye=s.allocUnsafe(L);let Se=0;for(ie=0;ie<I.length;++ie){let De=I[ie];if(Le(De,Uint8Array))Se+De.length>ye.length?(s.isBuffer(De)||(De=s.from(De)),De.copy(ye,Se)):Uint8Array.prototype.set.call(ye,De,Se);else if(s.isBuffer(De))De.copy(ye,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=De.length}return ye};function E(G,I){if(s.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||Le(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);const L=G.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&L===0)return 0;let ye=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return se(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return pe(G).length;default:if(ye)return ie?-1:se(G).length;I=(""+I).toLowerCase(),ye=!0}}s.byteLength=E;function y(G,I,L){let ie=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,I>>>=0,L<=I))return"";for(G||(G="utf8");;)switch(G){case"hex":return ee(this,I,L);case"utf8":case"utf-8":return V(this,I,L);case"ascii":return Z(this,I,L);case"latin1":case"binary":return fe(this,I,L);case"base64":return F(this,I,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,I,L);default:if(ie)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ie=!0}}s.prototype._isBuffer=!0;function S(G,I,L){const ie=G[I];G[I]=G[L],G[L]=ie}s.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<I;L+=2)S(this,L,L+1);return this},s.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<I;L+=4)S(this,L,L+3),S(this,L+1,L+2);return this},s.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<I;L+=8)S(this,L,L+7),S(this,L+1,L+6),S(this,L+2,L+5),S(this,L+3,L+4);return this},s.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?V(this,0,I):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(I){if(!s.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:s.compare(this,I)===0},s.prototype.inspect=function(){let I="";const L=$u.INSPECT_MAX_BYTES;return I=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(I+=" ... "),"<Buffer "+I+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(I,L,ie,ye,Se){if(Le(I,Uint8Array)&&(I=s.from(I,I.offset,I.byteLength)),!s.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(L===void 0&&(L=0),ie===void 0&&(ie=I?I.length:0),ye===void 0&&(ye=0),Se===void 0&&(Se=this.length),L<0||ie>I.length||ye<0||Se>this.length)throw new RangeError("out of range index");if(ye>=Se&&L>=ie)return 0;if(ye>=Se)return-1;if(L>=ie)return 1;if(L>>>=0,ie>>>=0,ye>>>=0,Se>>>=0,this===I)return 0;let De=Se-ye,ke=ie-L;const Be=Math.min(De,ke),st=this.slice(ye,Se),wt=I.slice(L,ie);for(let ut=0;ut<Be;++ut)if(st[ut]!==wt[ut]){De=st[ut],ke=wt[ut];break}return De<ke?-1:ke<De?1:0};function $(G,I,L,ie,ye){if(G.length===0)return-1;if(typeof L=="string"?(ie=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,Ce(L)&&(L=ye?0:G.length-1),L<0&&(L=G.length+L),L>=G.length){if(ye)return-1;L=G.length-1}else if(L<0)if(ye)L=0;else return-1;if(typeof I=="string"&&(I=s.from(I,ie)),s.isBuffer(I))return I.length===0?-1:T(G,I,L,ie,ye);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(G,I,L):Uint8Array.prototype.lastIndexOf.call(G,I,L):T(G,[I],L,ie,ye);throw new TypeError("val must be string, number or Buffer")}function T(G,I,L,ie,ye){let Se=1,De=G.length,ke=I.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(G.length<2||I.length<2)return-1;Se=2,De/=2,ke/=2,L/=2}function Be(wt,ut){return Se===1?wt[ut]:wt.readUInt16BE(ut*Se)}let st;if(ye){let wt=-1;for(st=L;st<De;st++)if(Be(G,st)===Be(I,wt===-1?0:st-wt)){if(wt===-1&&(wt=st),st-wt+1===ke)return wt*Se}else wt!==-1&&(st-=st-wt),wt=-1}else for(L+ke>De&&(L=De-ke),st=L;st>=0;st--){let wt=!0;for(let ut=0;ut<ke;ut++)if(Be(G,st+ut)!==Be(I,ut)){wt=!1;break}if(wt)return st}return-1}s.prototype.includes=function(I,L,ie){return this.indexOf(I,L,ie)!==-1},s.prototype.indexOf=function(I,L,ie){return $(this,I,L,ie,!0)},s.prototype.lastIndexOf=function(I,L,ie){return $(this,I,L,ie,!1)};function d(G,I,L,ie){L=Number(L)||0;const ye=G.length-L;ie?(ie=Number(ie),ie>ye&&(ie=ye)):ie=ye;const Se=I.length;ie>Se/2&&(ie=Se/2);let De;for(De=0;De<ie;++De){const ke=parseInt(I.substr(De*2,2),16);if(Ce(ke))return De;G[L+De]=ke}return De}function x(G,I,L,ie){return Ae(se(I,G.length-L),G,L,ie)}function A(G,I,L,ie){return Ae(ce(I),G,L,ie)}function O(G,I,L,ie){return Ae(pe(I),G,L,ie)}function C(G,I,L,ie){return Ae(de(I,G.length-L),G,L,ie)}s.prototype.write=function(I,L,ie,ye){if(L===void 0)ye="utf8",ie=this.length,L=0;else if(ie===void 0&&typeof L=="string")ye=L,ie=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(ie)?(ie=ie>>>0,ye===void 0&&(ye="utf8")):(ye=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-L;if((ie===void 0||ie>Se)&&(ie=Se),I.length>0&&(ie<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let De=!1;for(;;)switch(ye){case"hex":return d(this,I,L,ie);case"utf8":case"utf-8":return x(this,I,L,ie);case"ascii":case"latin1":case"binary":return A(this,I,L,ie);case"base64":return O(this,I,L,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,I,L,ie);default:if(De)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),De=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(G,I,L){return I===0&&L===G.length?e.fromByteArray(G):e.fromByteArray(G.slice(I,L))}function V(G,I,L){L=Math.min(G.length,L);const ie=[];let ye=I;for(;ye<L;){const Se=G[ye];let De=null,ke=Se>239?4:Se>223?3:Se>191?2:1;if(ye+ke<=L){let Be,st,wt,ut;switch(ke){case 1:Se<128&&(De=Se);break;case 2:Be=G[ye+1],(Be&192)===128&&(ut=(Se&31)<<6|Be&63,ut>127&&(De=ut));break;case 3:Be=G[ye+1],st=G[ye+2],(Be&192)===128&&(st&192)===128&&(ut=(Se&15)<<12|(Be&63)<<6|st&63,ut>2047&&(ut<55296||ut>57343)&&(De=ut));break;case 4:Be=G[ye+1],st=G[ye+2],wt=G[ye+3],(Be&192)===128&&(st&192)===128&&(wt&192)===128&&(ut=(Se&15)<<18|(Be&63)<<12|(st&63)<<6|wt&63,ut>65535&&ut<1114112&&(De=ut))}}De===null?(De=65533,ke=1):De>65535&&(De-=65536,ie.push(De>>>10&1023|55296),De=56320|De&1023),ie.push(De),ye+=ke}return H(ie)}const X=4096;function H(G){const I=G.length;if(I<=X)return String.fromCharCode.apply(String,G);let L="",ie=0;for(;ie<I;)L+=String.fromCharCode.apply(String,G.slice(ie,ie+=X));return L}function Z(G,I,L){let ie="";L=Math.min(G.length,L);for(let ye=I;ye<L;++ye)ie+=String.fromCharCode(G[ye]&127);return ie}function fe(G,I,L){let ie="";L=Math.min(G.length,L);for(let ye=I;ye<L;++ye)ie+=String.fromCharCode(G[ye]);return ie}function ee(G,I,L){const ie=G.length;(!I||I<0)&&(I=0),(!L||L<0||L>ie)&&(L=ie);let ye="";for(let Se=I;Se<L;++Se)ye+=rt[G[Se]];return ye}function ne(G,I,L){const ie=G.slice(I,L);let ye="";for(let Se=0;Se<ie.length-1;Se+=2)ye+=String.fromCharCode(ie[Se]+ie[Se+1]*256);return ye}s.prototype.slice=function(I,L){const ie=this.length;I=~~I,L=L===void 0?ie:~~L,I<0?(I+=ie,I<0&&(I=0)):I>ie&&(I=ie),L<0?(L+=ie,L<0&&(L=0)):L>ie&&(L=ie),L<I&&(L=I);const ye=this.subarray(I,L);return Object.setPrototypeOf(ye,s.prototype),ye};function k(G,I,L){if(G%1!==0||G<0)throw new RangeError("offset is not uint");if(G+I>L)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return ye},s.prototype.readUintBE=s.prototype.readUIntBE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=this[I+--L],Se=1;for(;L>0&&(Se*=256);)ye+=this[I+--L]*Se;return ye},s.prototype.readUint8=s.prototype.readUInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]|this[I+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(I,L){return I=I>>>0,L||k(I,2,this.length),this[I]<<8|this[I+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},s.prototype.readBigUInt64LE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,Se=this[++I]+this[++I]*2**8+this[++I]*2**16+ie*2**24;return BigInt(ye)+(BigInt(Se)<<BigInt(32))}),s.prototype.readBigUInt64BE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=L*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],Se=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ie;return(BigInt(ye)<<BigInt(32))+BigInt(Se)}),s.prototype.readIntLE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=this[I],Se=1,De=0;for(;++De<L&&(Se*=256);)ye+=this[I+De]*Se;return Se*=128,ye>=Se&&(ye-=Math.pow(2,8*L)),ye},s.prototype.readIntBE=function(I,L,ie){I=I>>>0,L=L>>>0,ie||k(I,L,this.length);let ye=L,Se=1,De=this[I+--ye];for(;ye>0&&(Se*=256);)De+=this[I+--ye]*Se;return Se*=128,De>=Se&&(De-=Math.pow(2,8*L)),De},s.prototype.readInt8=function(I,L){return I=I>>>0,L||k(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},s.prototype.readInt16LE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ie=this[I]|this[I+1]<<8;return ie&32768?ie|4294901760:ie},s.prototype.readInt16BE=function(I,L){I=I>>>0,L||k(I,2,this.length);const ie=this[I+1]|this[I]<<8;return ie&32768?ie|4294901760:ie},s.prototype.readInt32LE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},s.prototype.readInt32BE=function(I,L){return I=I>>>0,L||k(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},s.prototype.readBigInt64LE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(ie<<24);return(BigInt(ye)<<BigInt(32))+BigInt(L+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),s.prototype.readBigInt64BE=qe(function(I){I=I>>>0,N(I,"offset");const L=this[I],ie=this[I+7];(L===void 0||ie===void 0)&&D(I,this.length-8);const ye=(L<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(ye)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+ie)}),s.prototype.readFloatLE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!0,23,4)},s.prototype.readFloatBE=function(I,L){return I=I>>>0,L||k(I,4,this.length),t.read(this,I,!1,23,4)},s.prototype.readDoubleLE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!0,52,8)},s.prototype.readDoubleBE=function(I,L){return I=I>>>0,L||k(I,8,this.length),t.read(this,I,!1,52,8)};function B(G,I,L,ie,ye,Se){if(!s.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ye||I<Se)throw new RangeError('"value" argument is out of bounds');if(L+ie>G.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(I,L,ie,ye){if(I=+I,L=L>>>0,ie=ie>>>0,!ye){const ke=Math.pow(2,8*ie)-1;B(this,I,L,ie,ke,0)}let Se=1,De=0;for(this[L]=I&255;++De<ie&&(Se*=256);)this[L+De]=I/Se&255;return L+ie},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(I,L,ie,ye){if(I=+I,L=L>>>0,ie=ie>>>0,!ye){const ke=Math.pow(2,8*ie)-1;B(this,I,L,ie,ke,0)}let Se=ie-1,De=1;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)this[L+Se]=I/De&255;return L+ie},s.prototype.writeUint8=s.prototype.writeUInt8=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,1,255,0),this[L]=I&255,L+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,65535,0),this[L]=I&255,this[L+1]=I>>>8,L+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,65535,0),this[L]=I>>>8,this[L+1]=I&255,L+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,4294967295,0),this[L+3]=I>>>24,this[L+2]=I>>>16,this[L+1]=I>>>8,this[L]=I&255,L+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,4294967295,0),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4};function W(G,I,L,ie,ye){Ie(I,ie,ye,G,L,7);let Se=Number(I&BigInt(4294967295));G[L++]=Se,Se=Se>>8,G[L++]=Se,Se=Se>>8,G[L++]=Se,Se=Se>>8,G[L++]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return G[L++]=De,De=De>>8,G[L++]=De,De=De>>8,G[L++]=De,De=De>>8,G[L++]=De,L}function P(G,I,L,ie,ye){Ie(I,ie,ye,G,L,7);let Se=Number(I&BigInt(4294967295));G[L+7]=Se,Se=Se>>8,G[L+6]=Se,Se=Se>>8,G[L+5]=Se,Se=Se>>8,G[L+4]=Se;let De=Number(I>>BigInt(32)&BigInt(4294967295));return G[L+3]=De,De=De>>8,G[L+2]=De,De=De>>8,G[L+1]=De,De=De>>8,G[L]=De,L+8}s.prototype.writeBigUInt64LE=qe(function(I,L=0){return W(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=qe(function(I,L=0){return P(this,I,L,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(I,L,ie,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ie-1);B(this,I,L,ie,Be-1,-Be)}let Se=0,De=1,ke=0;for(this[L]=I&255;++Se<ie&&(De*=256);)I<0&&ke===0&&this[L+Se-1]!==0&&(ke=1),this[L+Se]=(I/De>>0)-ke&255;return L+ie},s.prototype.writeIntBE=function(I,L,ie,ye){if(I=+I,L=L>>>0,!ye){const Be=Math.pow(2,8*ie-1);B(this,I,L,ie,Be-1,-Be)}let Se=ie-1,De=1,ke=0;for(this[L+Se]=I&255;--Se>=0&&(De*=256);)I<0&&ke===0&&this[L+Se+1]!==0&&(ke=1),this[L+Se]=(I/De>>0)-ke&255;return L+ie},s.prototype.writeInt8=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,1,127,-128),I<0&&(I=255+I+1),this[L]=I&255,L+1},s.prototype.writeInt16LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,32767,-32768),this[L]=I&255,this[L+1]=I>>>8,L+2},s.prototype.writeInt16BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,2,32767,-32768),this[L]=I>>>8,this[L+1]=I&255,L+2},s.prototype.writeInt32LE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,2147483647,-2147483648),this[L]=I&255,this[L+1]=I>>>8,this[L+2]=I>>>16,this[L+3]=I>>>24,L+4},s.prototype.writeInt32BE=function(I,L,ie){return I=+I,L=L>>>0,ie||B(this,I,L,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[L]=I>>>24,this[L+1]=I>>>16,this[L+2]=I>>>8,this[L+3]=I&255,L+4},s.prototype.writeBigInt64LE=qe(function(I,L=0){return W(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=qe(function(I,L=0){return P(this,I,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function R(G,I,L,ie,ye,Se){if(L+ie>G.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function z(G,I,L,ie,ye){return I=+I,L=L>>>0,ye||R(G,I,L,4),t.write(G,I,L,ie,23,4),L+4}s.prototype.writeFloatLE=function(I,L,ie){return z(this,I,L,!0,ie)},s.prototype.writeFloatBE=function(I,L,ie){return z(this,I,L,!1,ie)};function oe(G,I,L,ie,ye){return I=+I,L=L>>>0,ye||R(G,I,L,8),t.write(G,I,L,ie,52,8),L+8}s.prototype.writeDoubleLE=function(I,L,ie){return oe(this,I,L,!0,ie)},s.prototype.writeDoubleBE=function(I,L,ie){return oe(this,I,L,!1,ie)},s.prototype.copy=function(I,L,ie,ye){if(!s.isBuffer(I))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!ye&&ye!==0&&(ye=this.length),L>=I.length&&(L=I.length),L||(L=0),ye>0&&ye<ie&&(ye=ie),ye===ie||I.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),I.length-L<ye-ie&&(ye=I.length-L+ie);const Se=ye-ie;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,ie,ye):Uint8Array.prototype.set.call(I,this.subarray(ie,ye),L),Se},s.prototype.fill=function(I,L,ie,ye){if(typeof I=="string"){if(typeof L=="string"?(ye=L,L=0,ie=this.length):typeof ie=="string"&&(ye=ie,ie=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!s.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(I.length===1){const De=I.charCodeAt(0);(ye==="utf8"&&De<128||ye==="latin1")&&(I=De)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(L<0||this.length<L||this.length<ie)throw new RangeError("Out of range index");if(ie<=L)return this;L=L>>>0,ie=ie===void 0?this.length:ie>>>0,I||(I=0);let Se;if(typeof I=="number")for(Se=L;Se<ie;++Se)this[Se]=I;else{const De=s.isBuffer(I)?I:s.from(I,ye),ke=De.length;if(ke===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Se=0;Se<ie-L;++Se)this[Se+L]=De[Se%ke]}return this};const J={};function Y(G,I,L){J[G]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${G}]`,this.stack,delete this.name}get code(){return G}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${G}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(G){return G?`${G} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(G,I){return`The "${G}" argument must be of type number. Received type ${typeof I}`},TypeError),Y("ERR_OUT_OF_RANGE",function(G,I,L){let ie=`The value of "${G}" is out of range.`,ye=L;return Number.isInteger(L)&&Math.abs(L)>2**32?ye=ae(String(L)):typeof L=="bigint"&&(ye=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(ye=ae(ye)),ye+="n"),ie+=` It must be ${I}. Received ${ye}`,ie},RangeError);function ae(G){let I="",L=G.length;const ie=G[0]==="-"?1:0;for(;L>=ie+4;L-=3)I=`_${G.slice(L-3,L)}${I}`;return`${G.slice(0,L)}${I}`}function be(G,I,L){N(I,"offset"),(G[I]===void 0||G[I+L]===void 0)&&D(I,G.length-(L+1))}function Ie(G,I,L,ie,ye,Se){if(G>L||G<I){const De=typeof I=="bigint"?"n":"";let ke;throw I===0||I===BigInt(0)?ke=`>= 0${De} and < 2${De} ** ${(Se+1)*8}${De}`:ke=`>= -(2${De} ** ${(Se+1)*8-1}${De}) and < 2 ** ${(Se+1)*8-1}${De}`,new J.ERR_OUT_OF_RANGE("value",ke,G)}be(ie,ye,Se)}function N(G,I){if(typeof G!="number")throw new J.ERR_INVALID_ARG_TYPE(I,"number",G)}function D(G,I,L){throw Math.floor(G)!==G?(N(G,L),new J.ERR_OUT_OF_RANGE("offset","an integer",G)):I<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,G)}const M=/[^+/0-9A-Za-z-_]/g;function K(G){if(G=G.split("=")[0],G=G.trim().replace(M,""),G.length<2)return"";for(;G.length%4!==0;)G=G+"=";return G}function se(G,I){I=I||1/0;let L;const ie=G.length;let ye=null;const Se=[];for(let De=0;De<ie;++De){if(L=G.charCodeAt(De),L>55295&&L<57344){if(!ye){if(L>56319){(I-=3)>-1&&Se.push(239,191,189);continue}else if(De+1===ie){(I-=3)>-1&&Se.push(239,191,189);continue}ye=L;continue}if(L<56320){(I-=3)>-1&&Se.push(239,191,189),ye=L;continue}L=(ye-55296<<10|L-56320)+65536}else ye&&(I-=3)>-1&&Se.push(239,191,189);if(ye=null,L<128){if((I-=1)<0)break;Se.push(L)}else if(L<2048){if((I-=2)<0)break;Se.push(L>>6|192,L&63|128)}else if(L<65536){if((I-=3)<0)break;Se.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((I-=4)<0)break;Se.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return Se}function ce(G){const I=[];for(let L=0;L<G.length;++L)I.push(G.charCodeAt(L)&255);return I}function de(G,I){let L,ie,ye;const Se=[];for(let De=0;De<G.length&&!((I-=2)<0);++De)L=G.charCodeAt(De),ie=L>>8,ye=L%256,Se.push(ye),Se.push(ie);return Se}function pe(G){return e.toByteArray(K(G))}function Ae(G,I,L,ie){let ye;for(ye=0;ye<ie&&!(ye+L>=I.length||ye>=G.length);++ye)I[ye+L]=G[ye];return ye}function Le(G,I){return G instanceof I||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===I.name}function Ce(G){return G!==G}const rt=function(){const G="0123456789abcdef",I=new Array(256);for(let L=0;L<16;++L){const ie=L*16;for(let ye=0;ye<16;++ye)I[ie+ye]=G[L]+G[ye]}return I}();function qe(G){return typeof BigInt>"u"?Ue:G}function Ue(){throw new Error("BigInt not supported")}return $u}function qf(){return Wx||(Wx=!0,typeof Object.create=="function"?Vp=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Vp=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),Vp}function $6(){return Gx||(Gx=!0,d0=Xi.EventEmitter),d0}function Qte(){if(Kx)return h0;Kx=!0;function e(h,g){var m=Object.keys(h);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(h);g&&(_=_.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),m.push.apply(m,_)}return m}function t(h){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?e(Object(m),!0).forEach(function(_){r(h,_,m[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(m)):e(Object(m)).forEach(function(_){Object.defineProperty(h,_,Object.getOwnPropertyDescriptor(m,_))})}return h}function r(h,g,m){return g in h?Object.defineProperty(h,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[g]=m,h}function n(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function i(h,g){for(var m=0;m<g.length;m++){var _=g[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}function o(h,g,m){return g&&i(h.prototype,g),h}var s=jl,a=s.Buffer,l=dt,u=l.inspect,f=u&&u.custom||"inspect";function c(h,g,m){a.prototype.copy.call(h,g,m)}return h0=function(){function h(){n(this,h),this.head=null,this.tail=null,this.length=0}return o(h,[{key:"push",value:function(m){var _={data:m,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(m){var _={data:m,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var _=this.head,v=""+_.data;_=_.next;)v+=m+_.data;return v}},{key:"concat",value:function(m){if(this.length===0)return a.alloc(0);for(var _=a.allocUnsafe(m>>>0),v=this.head,p=0;v;)c(v.data,_,p),p+=v.data.length,v=v.next;return _}},{key:"consume",value:function(m,_){var v;return m<this.head.data.length?(v=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?v=this.shift():v=_?this._getString(m):this._getBuffer(m),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var _=this.head,v=1,p=_.data;for(m-=p.length;_=_.next;){var E=_.data,y=m>E.length?E.length:m;if(y===E.length?p+=E:p+=E.slice(0,m),m-=y,m===0){y===E.length?(++v,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=E.slice(y));break}++v}return this.length-=v,p}},{key:"_getBuffer",value:function(m){var _=a.allocUnsafe(m),v=this.head,p=1;for(v.data.copy(_),m-=v.data.length;v=v.next;){var E=v.data,y=m>E.length?E.length:m;if(E.copy(_,_.length-m,0,y),m-=y,m===0){y===E.length?(++p,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(y));break}++p}return this.length-=p,_}},{key:f,value:function(m,_){return u(this,t({},_,{depth:0,customInspect:!1}))}}]),h}(),h0}function T6(){if(Jx)return p0;Jx=!0;var e=Wr;function t(a,l){var u=this,f=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return f||c?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(o,this,a)):e.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!l&&h?u._writableState?u._writableState.errorEmitted?e.nextTick(n,u):(u._writableState.errorEmitted=!0,e.nextTick(r,u,h)):e.nextTick(r,u,h):l?(e.nextTick(n,u),l(h)):e.nextTick(n,u)}),this)}function r(a,l){o(a,l),n(a)}function n(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(a,l){a.emit("error",l)}function s(a,l){var u=a._readableState,f=a._writableState;u&&u.autoDestroy||f&&f.autoDestroy?a.destroy(l):a.emit("error",l)}return p0={destroy:t,undestroy:i,errorOrDestroy:s},p0}function Wh(){if(Yx)return m0;Yx=!0;const e={};function t(s,a,l){l||(l=Error);function u(c,h,g){return typeof a=="string"?a:a(c,h,g)}class f extends l{constructor(h,g,m){super(u(h,g,m))}}f.prototype.name=l.name,f.prototype.code=s,e[s]=f}function r(s,a){if(Array.isArray(s)){const l=s.length;return s=s.map(u=>String(u)),l>2?`one of ${a} ${s.slice(0,l-1).join(", ")}, or `+s[l-1]:l===2?`one of ${a} ${s[0]} or ${s[1]}`:`of ${a} ${s[0]}`}else return`of ${a} ${String(s)}`}function n(s,a,l){return s.substr(0,a.length)===a}function i(s,a,l){return(l===void 0||l>s.length)&&(l=s.length),s.substring(l-a.length,l)===a}function o(s,a,l){return typeof l!="number"&&(l=0),l+a.length>s.length?!1:s.indexOf(a,l)!==-1}return t("ERR_INVALID_OPT_VALUE",function(s,a){return'The value "'+a+'" is invalid for option "'+s+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(s,a,l){let u;typeof a=="string"&&n(a,"not ")?(u="must not be",a=a.replace(/^not /,"")):u="must be";let f;if(i(s," argument"))f=`The ${s} ${u} ${r(a,"type")}`;else{const c=o(s,".")?"property":"argument";f=`The "${s}" ${c} ${u} ${r(a,"type")}`}return f+=`. Received type ${typeof l}`,f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),m0.codes=e,m0}function x6(){if(Xx)return g0;Xx=!0;var e=Wh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,o){return n.highWaterMark!=null?n.highWaterMark:i?n[o]:null}function r(n,i,o,s){var a=t(i,s,o);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?o:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return n.objectMode?16:16*1024}return g0={getHighWaterMark:r},g0}function Zte(){if(Qx)return v0;Qx=!0,v0=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function o(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this||y0,arguments)}return o}function t(r){try{if(!y0.localStorage)return!1}catch{return!1}var n=y0.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return v0}function A6(){if(Zx)return w0;Zx=!0;var e=Wr;w0=A;function t(J){var Y=this;this.next=null,this.entry=null,this.finish=function(){oe(Y,J)}}var r;A.WritableState=d;var n={deprecate:Zte()},i=$6(),o=jl.Buffer,s=I6.Uint8Array||function(){};function a(J){return o.from(J)}function l(J){return o.isBuffer(J)||J instanceof s}var u=T6(),f=x6(),c=f.getHighWaterMark,h=Wh().codes,g=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,_=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,p=h.ERR_STREAM_DESTROYED,E=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;qf()(A,i);function T(){}function d(J,Y,ae){r=r||Ih(),J=J||{},typeof ae!="boolean"&&(ae=Y instanceof r),this.objectMode=!!J.objectMode,ae&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=c(this,J,"writableHighWaterMark",ae),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=J.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ie){fe(Y,Ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}d.prototype.getBuffer=function(){for(var Y=this.bufferedRequest,ae=[];Y;)ae.push(Y),Y=Y.next;return ae},function(){try{Object.defineProperty(d.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(Y){return x.call(this,Y)?!0:this!==A?!1:Y&&Y._writableState instanceof d}})):x=function(Y){return Y instanceof this};function A(J){r=r||Ih();var Y=this instanceof r;if(!Y&&!x.call(A,this))return new A(J);this._writableState=new d(J,this,Y),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),i.call(this)}A.prototype.pipe=function(){$(this,new v)};function O(J,Y){var ae=new y;$(J,ae),e.nextTick(Y,ae)}function C(J,Y,ae,be){var Ie;return ae===null?Ie=new E:typeof ae!="string"&&!Y.objectMode&&(Ie=new g("chunk",["string","Buffer"],ae)),Ie?($(J,Ie),e.nextTick(be,Ie),!1):!0}A.prototype.write=function(J,Y,ae){var be=this._writableState,Ie=!1,N=!be.objectMode&&l(J);return N&&!o.isBuffer(J)&&(J=a(J)),typeof Y=="function"&&(ae=Y,Y=null),N?Y="buffer":Y||(Y=be.defaultEncoding),typeof ae!="function"&&(ae=T),be.ending?O(this,ae):(N||C(this,be,J,ae))&&(be.pendingcb++,Ie=V(this,be,N,J,Y,ae)),Ie},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&k(this,J))},A.prototype.setDefaultEncoding=function(Y){if(typeof Y=="string"&&(Y=Y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Y+"").toLowerCase())>-1))throw new S(Y);return this._writableState.defaultEncoding=Y,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(J,Y,ae){return!J.objectMode&&J.decodeStrings!==!1&&typeof Y=="string"&&(Y=o.from(Y,ae)),Y}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(J,Y,ae,be,Ie,N){if(!ae){var D=F(Y,be,Ie);be!==D&&(ae=!0,Ie="buffer",be=D)}var M=Y.objectMode?1:be.length;Y.length+=M;var K=Y.length<Y.highWaterMark;if(K||(Y.needDrain=!0),Y.writing||Y.corked){var se=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:be,encoding:Ie,isBuf:ae,callback:N,next:null},se?se.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else X(J,Y,!1,M,be,Ie,N);return K}function X(J,Y,ae,be,Ie,N,D){Y.writelen=be,Y.writecb=D,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new p("write")):ae?J._writev(Ie,Y.onwrite):J._write(Ie,N,Y.onwrite),Y.sync=!1}function H(J,Y,ae,be,Ie){--Y.pendingcb,ae?(e.nextTick(Ie,be),e.nextTick(R,J,Y),J._writableState.errorEmitted=!0,$(J,be)):(Ie(be),J._writableState.errorEmitted=!0,$(J,be),R(J,Y))}function Z(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function fe(J,Y){var ae=J._writableState,be=ae.sync,Ie=ae.writecb;if(typeof Ie!="function")throw new _;if(Z(ae),Y)H(J,ae,be,Y,Ie);else{var N=B(ae)||J.destroyed;!N&&!ae.corked&&!ae.bufferProcessing&&ae.bufferedRequest&&k(J,ae),be?e.nextTick(ee,J,ae,N,Ie):ee(J,ae,N,Ie)}}function ee(J,Y,ae,be){ae||ne(J,Y),Y.pendingcb--,be(),R(J,Y)}function ne(J,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,J.emit("drain"))}function k(J,Y){Y.bufferProcessing=!0;var ae=Y.bufferedRequest;if(J._writev&&ae&&ae.next){var be=Y.bufferedRequestCount,Ie=new Array(be),N=Y.corkedRequestsFree;N.entry=ae;for(var D=0,M=!0;ae;)Ie[D]=ae,ae.isBuf||(M=!1),ae=ae.next,D+=1;Ie.allBuffers=M,X(J,Y,!0,Y.length,Ie,"",N.finish),Y.pendingcb++,Y.lastBufferedRequest=null,N.next?(Y.corkedRequestsFree=N.next,N.next=null):Y.corkedRequestsFree=new t(Y),Y.bufferedRequestCount=0}else{for(;ae;){var K=ae.chunk,se=ae.encoding,ce=ae.callback,de=Y.objectMode?1:K.length;if(X(J,Y,!1,de,K,se,ce),ae=ae.next,Y.bufferedRequestCount--,Y.writing)break}ae===null&&(Y.lastBufferedRequest=null)}Y.bufferedRequest=ae,Y.bufferProcessing=!1}A.prototype._write=function(J,Y,ae){ae(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(J,Y,ae){var be=this._writableState;return typeof J=="function"?(ae=J,J=null,Y=null):typeof Y=="function"&&(ae=Y,Y=null),J!=null&&this.write(J,Y),be.corked&&(be.corked=1,this.uncork()),be.ending||z(this,be,ae),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function W(J,Y){J._final(function(ae){Y.pendingcb--,ae&&$(J,ae),Y.prefinished=!0,J.emit("prefinish"),R(J,Y)})}function P(J,Y){!Y.prefinished&&!Y.finalCalled&&(typeof J._final=="function"&&!Y.destroyed?(Y.pendingcb++,Y.finalCalled=!0,e.nextTick(W,J,Y)):(Y.prefinished=!0,J.emit("prefinish")))}function R(J,Y){var ae=B(Y);if(ae&&(P(J,Y),Y.pendingcb===0&&(Y.finished=!0,J.emit("finish"),Y.autoDestroy))){var be=J._readableState;(!be||be.autoDestroy&&be.endEmitted)&&J.destroy()}return ae}function z(J,Y,ae){Y.ending=!0,R(J,Y),ae&&(Y.finished?e.nextTick(ae):J.once("finish",ae)),Y.ended=!0,J.writable=!1}function oe(J,Y,ae){var be=J.entry;for(J.entry=null;be;){var Ie=be.callback;Y.pendingcb--,Ie(ae),be=be.next}Y.corkedRequestsFree.next=J}return Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Y){this._writableState&&(this._writableState.destroyed=Y)}}),A.prototype.destroy=u.destroy,A.prototype._undestroy=u.undestroy,A.prototype._destroy=function(J,Y){Y(J)},w0}function Ih(){if(eA)return b0;eA=!0;var e=Wr,t=Object.keys||function(f){var c=[];for(var h in f)c.push(h);return c};b0=a;var r=O6(),n=A6();qf()(a,r);for(var i=t(n.prototype),o=0;o<i.length;o++){var s=i[o];a.prototype[s]||(a.prototype[s]=n.prototype[s])}function a(f){if(!(this instanceof a))return new a(f);r.call(this,f),n.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||e.nextTick(u,this)}function u(f){f.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),b0}function ER(){if(tA)return _0;tA=!0;var e=Wh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(o){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];o.apply(this,l)}}}function r(){}function n(o){return o.setHeader&&typeof o.abort=="function"}function i(o,s,a){if(typeof s=="function")return i(o,null,s);s||(s={}),a=t(a||r);var l=s.readable||s.readable!==!1&&o.readable,u=s.writable||s.writable!==!1&&o.writable,f=function(){o.writable||h()},c=o._writableState&&o._writableState.finished,h=function(){u=!1,c=!0,l||a.call(o)},g=o._readableState&&o._readableState.endEmitted,m=function(){l=!1,g=!0,u||a.call(o)},_=function(y){a.call(o,y)},v=function(){var y;if(l&&!g)return(!o._readableState||!o._readableState.ended)&&(y=new e),a.call(o,y);if(u&&!c)return(!o._writableState||!o._writableState.ended)&&(y=new e),a.call(o,y)},p=function(){o.req.on("finish",h)};return n(o)?(o.on("complete",h),o.on("abort",v),o.req?p():o.on("request",p)):u&&!o._writableState&&(o.on("end",f),o.on("close",f)),o.on("end",m),o.on("finish",h),s.error!==!1&&o.on("error",_),o.on("close",v),function(){o.removeListener("complete",h),o.removeListener("abort",v),o.removeListener("request",p),o.req&&o.req.removeListener("finish",h),o.removeListener("end",f),o.removeListener("close",f),o.removeListener("finish",h),o.removeListener("end",m),o.removeListener("error",_),o.removeListener("close",v)}}return _0=i,_0}function ere(){if(rA)return E0;rA=!0;var e=Wr,t;function r(E,y,S){return y in E?Object.defineProperty(E,y,{value:S,enumerable:!0,configurable:!0,writable:!0}):E[y]=S,E}var n=ER(),i=Symbol("lastResolve"),o=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),f=Symbol("stream");function c(E,y){return{value:E,done:y}}function h(E){var y=E[i];if(y!==null){var S=E[f].read();S!==null&&(E[l]=null,E[i]=null,E[o]=null,y(c(S,!1)))}}function g(E){e.nextTick(h,E)}function m(E,y){return function(S,$){E.then(function(){if(y[a]){S(c(void 0,!0));return}y[u](S,$)},$)}}var _=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var y=this,S=this[s];if(S!==null)return Promise.reject(S);if(this[a])return Promise.resolve(c(void 0,!0));if(this[f].destroyed)return new Promise(function(x,A){e.nextTick(function(){y[s]?A(y[s]):x(c(void 0,!0))})});var $=this[l],T;if($)T=new Promise(m($,this));else{var d=this[f].read();if(d!==null)return Promise.resolve(c(d,!1));T=new Promise(this[u])}return this[l]=T,T}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var y=this;return new Promise(function(S,$){y[f].destroy(null,function(T){if(T){$(T);return}S(c(void 0,!0))})})}),t),_),p=function(y){var S,$=Object.create(v,(S={},r(S,f,{value:y,writable:!0}),r(S,i,{value:null,writable:!0}),r(S,o,{value:null,writable:!0}),r(S,s,{value:null,writable:!0}),r(S,a,{value:y._readableState.endEmitted,writable:!0}),r(S,u,{value:function(d,x){var A=$[f].read();A?($[l]=null,$[i]=null,$[o]=null,d(c(A,!1))):($[i]=d,$[o]=x)},writable:!0}),S));return $[l]=null,n(y,function(T){if(T&&T.code!=="ERR_STREAM_PREMATURE_CLOSE"){var d=$[o];d!==null&&($[l]=null,$[i]=null,$[o]=null,d(T)),$[s]=T;return}var x=$[i];x!==null&&($[l]=null,$[i]=null,$[o]=null,x(c(void 0,!0))),$[a]=!0}),y.on("readable",g.bind(null,$)),$};return E0=p,E0}function tre(){return nA||(nA=!0,S0=function(){throw new Error("Readable.from is not available in the browser")}),S0}function O6(){if(iA)return $0;iA=!0;var e=Wr;$0=O;var t;O.ReadableState=A,Xi.EventEmitter;var r=function(D,M){return D.listeners(M).length},n=$6(),i=jl.Buffer,o=j6.Uint8Array||function(){};function s(N){return i.from(N)}function a(N){return i.isBuffer(N)||N instanceof o}var l=dt,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var f=Qte(),c=T6(),h=x6(),g=h.getHighWaterMark,m=Wh().codes,_=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,p=m.ERR_METHOD_NOT_IMPLEMENTED,E=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,$;qf()(O,n);var T=c.errorOrDestroy,d=["error","close","destroy","pause","resume"];function x(N,D,M){if(typeof N.prependListener=="function")return N.prependListener(D,M);!N._events||!N._events[D]?N.on(D,M):Array.isArray(N._events[D])?N._events[D].unshift(M):N._events[D]=[M,N._events[D]]}function A(N,D,M){t=t||Ih(),N=N||{},typeof M!="boolean"&&(M=D instanceof t),this.objectMode=!!N.objectMode,M&&(this.objectMode=this.objectMode||!!N.readableObjectMode),this.highWaterMark=g(this,N,"readableHighWaterMark",M),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=N.emitClose!==!1,this.autoDestroy=!!N.autoDestroy,this.destroyed=!1,this.defaultEncoding=N.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,N.encoding&&(y||(y=Kb.StringDecoder),this.decoder=new y(N.encoding),this.encoding=N.encoding)}function O(N){if(t=t||Ih(),!(this instanceof O))return new O(N);var D=this instanceof t;this._readableState=new A(N,this,D),this.readable=!0,N&&(typeof N.read=="function"&&(this._read=N.read),typeof N.destroy=="function"&&(this._destroy=N.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(N,D){D(N)},O.prototype.push=function(N,D){var M=this._readableState,K;return M.objectMode?K=!0:typeof N=="string"&&(D=D||M.defaultEncoding,D!==M.encoding&&(N=i.from(N,D),D=""),K=!0),C(this,N,D,!1,K)},O.prototype.unshift=function(N){return C(this,N,null,!0,!1)};function C(N,D,M,K,se){u("readableAddChunk",D);var ce=N._readableState;if(D===null)ce.reading=!1,fe(N,ce);else{var de;if(se||(de=V(ce,D)),de)T(N,de);else if(ce.objectMode||D&&D.length>0)if(typeof D!="string"&&!ce.objectMode&&Object.getPrototypeOf(D)!==i.prototype&&(D=s(D)),K)ce.endEmitted?T(N,new E):F(N,ce,D,!0);else if(ce.ended)T(N,new v);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!M?(D=ce.decoder.write(D),ce.objectMode||D.length!==0?F(N,ce,D,!1):k(N,ce)):F(N,ce,D,!1)}else K||(ce.reading=!1,k(N,ce))}return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function F(N,D,M,K){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,N.emit("data",M)):(D.length+=D.objectMode?1:M.length,K?D.buffer.unshift(M):D.buffer.push(M),D.needReadable&&ee(N)),k(N,D)}function V(N,D){var M;return!a(D)&&typeof D!="string"&&D!==void 0&&!N.objectMode&&(M=new _("chunk",["string","Buffer","Uint8Array"],D)),M}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(N){y||(y=Kb.StringDecoder);var D=new y(N);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,K="";M!==null;)K+=D.write(M.data),M=M.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var X=1073741824;function H(N){return N>=X?N=X:(N--,N|=N>>>1,N|=N>>>2,N|=N>>>4,N|=N>>>8,N|=N>>>16,N++),N}function Z(N,D){return N<=0||D.length===0&&D.ended?0:D.objectMode?1:N!==N?D.flowing&&D.length?D.buffer.head.data.length:D.length:(N>D.highWaterMark&&(D.highWaterMark=H(N)),N<=D.length?N:D.ended?D.length:(D.needReadable=!0,0))}O.prototype.read=function(N){u("read",N),N=parseInt(N,10);var D=this._readableState,M=N;if(N!==0&&(D.emittedReadable=!1),N===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return u("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?ae(this):ee(this),null;if(N=Z(N,D),N===0&&D.ended)return D.length===0&&ae(this),null;var K=D.needReadable;u("need readable",K),(D.length===0||D.length-N<D.highWaterMark)&&(K=!0,u("length less than watermark",K)),D.ended||D.reading?(K=!1,u("reading or ended",K)):K&&(u("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(N=Z(M,D)));var se;return N>0?se=Y(N,D):se=null,se===null?(D.needReadable=D.length<=D.highWaterMark,N=0):(D.length-=N,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),M!==N&&D.ended&&ae(this)),se!==null&&this.emit("data",se),se};function fe(N,D){if(u("onEofChunk"),!D.ended){if(D.decoder){var M=D.decoder.end();M&&M.length&&(D.buffer.push(M),D.length+=D.objectMode?1:M.length)}D.ended=!0,D.sync?ee(N):(D.needReadable=!1,D.emittedReadable||(D.emittedReadable=!0,ne(N)))}}function ee(N){var D=N._readableState;u("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(u("emitReadable",D.flowing),D.emittedReadable=!0,e.nextTick(ne,N))}function ne(N){var D=N._readableState;u("emitReadable_",D.destroyed,D.length,D.ended),!D.destroyed&&(D.length||D.ended)&&(N.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,J(N)}function k(N,D){D.readingMore||(D.readingMore=!0,e.nextTick(B,N,D))}function B(N,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var M=D.length;if(u("maybeReadMore read 0"),N.read(0),M===D.length)break}D.readingMore=!1}O.prototype._read=function(N){T(this,new p("_read()"))},O.prototype.pipe=function(N,D){var M=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=N;break;case 1:K.pipes=[K.pipes,N];break;default:K.pipes.push(N);break}K.pipesCount+=1,u("pipe count=%d opts=%j",K.pipesCount,D);var se=(!D||D.end!==!1)&&N!==e.stdout&&N!==e.stderr,ce=se?pe:I;K.endEmitted?e.nextTick(ce):M.once("end",ce),N.on("unpipe",de);function de(L,ie){u("onunpipe"),L===M&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,Ce())}function pe(){u("onend"),N.end()}var Ae=W(M);N.on("drain",Ae);var Le=!1;function Ce(){u("cleanup"),N.removeListener("close",Ue),N.removeListener("finish",G),N.removeListener("drain",Ae),N.removeListener("error",qe),N.removeListener("unpipe",de),M.removeListener("end",pe),M.removeListener("end",I),M.removeListener("data",rt),Le=!0,K.awaitDrain&&(!N._writableState||N._writableState.needDrain)&&Ae()}M.on("data",rt);function rt(L){u("ondata");var ie=N.write(L);u("dest.write",ie),ie===!1&&((K.pipesCount===1&&K.pipes===N||K.pipesCount>1&&Ie(K.pipes,N)!==-1)&&!Le&&(u("false write response, pause",K.awaitDrain),K.awaitDrain++),M.pause())}function qe(L){u("onerror",L),I(),N.removeListener("error",qe),r(N,"error")===0&&T(N,L)}x(N,"error",qe);function Ue(){N.removeListener("finish",G),I()}N.once("close",Ue);function G(){u("onfinish"),N.removeListener("close",Ue),I()}N.once("finish",G);function I(){u("unpipe"),M.unpipe(N)}return N.emit("pipe",M),K.flowing||(u("pipe resume"),M.resume()),N};function W(N){return function(){var M=N._readableState;u("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&r(N,"data")&&(M.flowing=!0,J(N))}}O.prototype.unpipe=function(N){var D=this._readableState,M={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return N&&N!==D.pipes?this:(N||(N=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,N&&N.emit("unpipe",this,M),this);if(!N){var K=D.pipes,se=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var ce=0;ce<se;ce++)K[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var de=Ie(D.pipes,N);return de===-1?this:(D.pipes.splice(de,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),N.emit("unpipe",this,M),this)},O.prototype.on=function(N,D){var M=n.prototype.on.call(this,N,D),K=this._readableState;return N==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):N==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,u("on readable",K.length,K.reading),K.length?ee(this):K.reading||e.nextTick(R,this)),M},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(N,D){var M=n.prototype.removeListener.call(this,N,D);return N==="readable"&&e.nextTick(P,this),M},O.prototype.removeAllListeners=function(N){var D=n.prototype.removeAllListeners.apply(this,arguments);return(N==="readable"||N===void 0)&&e.nextTick(P,this),D};function P(N){var D=N._readableState;D.readableListening=N.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:N.listenerCount("data")>0&&N.resume()}function R(N){u("readable nexttick read 0"),N.read(0)}O.prototype.resume=function(){var N=this._readableState;return N.flowing||(u("resume"),N.flowing=!N.readableListening,z(this,N)),N.paused=!1,this};function z(N,D){D.resumeScheduled||(D.resumeScheduled=!0,e.nextTick(oe,N,D))}function oe(N,D){u("resume",D.reading),D.reading||N.read(0),D.resumeScheduled=!1,N.emit("resume"),J(N),D.flowing&&!D.reading&&N.read(0)}O.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(N){var D=N._readableState;for(u("flow",D.flowing);D.flowing&&N.read()!==null;);}O.prototype.wrap=function(N){var D=this,M=this._readableState,K=!1;N.on("end",function(){if(u("wrapped end"),M.decoder&&!M.ended){var de=M.decoder.end();de&&de.length&&D.push(de)}D.push(null)}),N.on("data",function(de){if(u("wrapped data"),M.decoder&&(de=M.decoder.write(de)),!(M.objectMode&&de==null)&&!(!M.objectMode&&(!de||!de.length))){var pe=D.push(de);pe||(K=!0,N.pause())}});for(var se in N)this[se]===void 0&&typeof N[se]=="function"&&(this[se]=function(pe){return function(){return N[pe].apply(N,arguments)}}(se));for(var ce=0;ce<d.length;ce++)N.on(d[ce],this.emit.bind(this,d[ce]));return this._read=function(de){u("wrapped _read",de),K&&(K=!1,N.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=ere()),S(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(D){this._readableState&&(this._readableState.flowing=D)}}),O._fromList=Y,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Y(N,D){if(D.length===0)return null;var M;return D.objectMode?M=D.buffer.shift():!N||N>=D.length?(D.decoder?M=D.buffer.join(""):D.buffer.length===1?M=D.buffer.first():M=D.buffer.concat(D.length),D.buffer.clear()):M=D.buffer.consume(N,D.decoder),M}function ae(N){var D=N._readableState;u("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,e.nextTick(be,D,N))}function be(N,D){if(u("endReadableNT",N.endEmitted,N.length),!N.endEmitted&&N.length===0&&(N.endEmitted=!0,D.readable=!1,D.emit("end"),N.autoDestroy)){var M=D._writableState;(!M||M.autoDestroy&&M.finished)&&D.destroy()}}typeof Symbol=="function"&&(O.from=function(N,D){return $===void 0&&($=tre()),$(O,N,D)});function Ie(N,D){for(var M=0,K=N.length;M<K;M++)if(N[M]===D)return M;return-1}return $0}function P6(){if(oA)return T0;oA=!0,T0=a;var e=Wh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,o=Ih();qf()(a,o);function s(f,c){var h=this._transformState;h.transforming=!1;var g=h.writecb;if(g===null)return this.emit("error",new r);h.writechunk=null,h.writecb=null,c!=null&&this.push(c),g(f);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);o.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,h){u(f,c,h)}):u(this,null,null)}a.prototype.push=function(f,c){return this._transformState.needTransform=!1,o.prototype.push.call(this,f,c)},a.prototype._transform=function(f,c,h){h(new t("_transform()"))},a.prototype._write=function(f,c,h){var g=this._transformState;if(g.writecb=h,g.writechunk=f,g.writeencoding=c,!g.transforming){var m=this._readableState;(g.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},a.prototype._read=function(f){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},a.prototype._destroy=function(f,c){o.prototype._destroy.call(this,f,function(h){c(h)})};function u(f,c,h){if(c)return f.emit("error",c);if(h!=null&&f.push(h),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return T0}function rre(){if(sA)return x0;sA=!0,x0=t;var e=P6();qf()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},x0}function nre(){if(aA)return A0;aA=!0;var e;function t(h){var g=!1;return function(){g||(g=!0,h.apply(void 0,arguments))}}var r=Wh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function o(h){if(h)throw h}function s(h){return h.setHeader&&typeof h.abort=="function"}function a(h,g,m,_){_=t(_);var v=!1;h.on("close",function(){v=!0}),e===void 0&&(e=ER()),e(h,{readable:g,writable:m},function(E){if(E)return _(E);v=!0,_()});var p=!1;return function(E){if(!v&&!p){if(p=!0,s(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();_(E||new i("pipe"))}}}function l(h){h()}function u(h,g){return h.pipe(g)}function f(h){return!h.length||typeof h[h.length-1]!="function"?o:h.pop()}function c(){for(var h=arguments.length,g=new Array(h),m=0;m<h;m++)g[m]=arguments[m];var _=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new n("streams");var v,p=g.map(function(E,y){var S=y<g.length-1,$=y>0;return a(E,S,$,function(T){v||(v=T),T&&p.forEach(l),!S&&(p.forEach(l),_(v))})});return g.reduce(u)}return A0=c,A0}var mM,aa,Uo,gM,Hv,Fc,vM,yM,Ra,Gb,Qc,v1,N6,R6,Sp,$p,ta,wM,Kb,Jb,zx,Rd,qx,qp,Vx,$u,Hx,jl,Vp,Wx,d0,Gx,h0,Kx,p0,Jx,m0,Yx,g0,Xx,v0,Qx,y0,w0,Zx,I6,b0,eA,_0,tA,E0,rA,S0,nA,$0,iA,j6,T0,oA,x0,sA,A0,aA,k6=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-B738Er4n.js"(){for(Te(),aE(),Ig(),lE(),mM={byteLength:function(e){var t=lM(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=lM(e),i=n[0],o=n[1],s=new gM(function(u,f,c){return 3*(f+c)/4-c}(0,i,o)),a=0,l=o>0?i-4:i;for(r=0;r<l;r+=4)t=Uo[e.charCodeAt(r)]<<18|Uo[e.charCodeAt(r+1)]<<12|Uo[e.charCodeAt(r+2)]<<6|Uo[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return o===2&&(t=Uo[e.charCodeAt(r)]<<2|Uo[e.charCodeAt(r+1)]>>4,s[a++]=255&t),o===1&&(t=Uo[e.charCodeAt(r)]<<10|Uo[e.charCodeAt(r+1)]<<4|Uo[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(Nte(e,o,o+16383>s?s:o+16383));return n===1?(t=e[r-1],i.push(aa[t>>2]+aa[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(aa[t>>10]+aa[t>>4&63]+aa[t<<2&63]+"=")),i.join("")}},aa=[],Uo=[],gM=typeof Uint8Array<"u"?Uint8Array:Array,Hv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fc=0,vM=Hv.length;Fc<vM;++Fc)aa[Fc]=Hv[Fc],Uo[Hv.charCodeAt(Fc)]=Fc;Uo[45]=62,Uo[95]=63,yM={read:function(e,t,r,n,i){var o,s,a=8*i-n-1,l=(1<<a)-1,u=l>>1,f=-7,c=r?i-1:0,h=r?-1:1,g=e[t+c];for(c+=h,o=g&(1<<-f)-1,g>>=-f,f+=a;f>0;o=256*o+e[t+c],c+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+c],c+=h,f-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,n),o-=u}return(g?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,l,u=8*o-i-1,f=(1<<u)-1,c=f>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,m=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(s++,l/=2),s+c>=f?(a=0,s=f):s+c>=1?(a=(t*l-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[r+g]=255&a,g+=m,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+g]=255&s,g+=m,s/=256,u-=8);e[r+g-m]|=128*_}},Ra={},Gb=mM,Qc=yM,v1=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,Ra.Buffer=vt,Ra.SlowBuffer=function(e){return+e!=e&&(e=0),vt.alloc(+e)},Ra.INSPECT_MAX_BYTES=50,Ra.kMaxLength=2147483647,vt.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),vt.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(vt.prototype,"parent",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.buffer}}),Object.defineProperty(vt.prototype,"offset",{enumerable:!0,get:function(){if(vt.isBuffer(this))return this.byteOffset}}),vt.poolSize=8192,vt.from=function(e,t,r){return v6(e,t,r)},Object.setPrototypeOf(vt.prototype,Uint8Array.prototype),Object.setPrototypeOf(vt,Uint8Array),vt.alloc=function(e,t,r){return function(n,i,o){return y6(n),n<=0?Rl(n):i!==void 0?typeof o=="string"?Rl(n).fill(i,o):Rl(n).fill(i):Rl(n)}(e,t,r)},vt.allocUnsafe=function(e){return Bx(e)},vt.allocUnsafeSlow=function(e){return Bx(e)},vt.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==vt.prototype},vt.compare=function(e,t){if(Il(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),Il(t,Uint8Array)&&(t=vt.from(t,t.offset,t.byteLength)),!vt.isBuffer(e)||!vt.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},vt.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},vt.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return vt.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=vt.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Il(o,Uint8Array)&&(o=vt.from(o)),!vt.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},vt.byteLength=w6,vt.prototype._isBuffer=!0,vt.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Mc(this,t,t+1);return this},vt.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Mc(this,t,t+3),Mc(this,t+1,t+2);return this},vt.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Mc(this,t,t+7),Mc(this,t+1,t+6),Mc(this,t+2,t+5),Mc(this,t+3,t+4);return this},vt.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?_6(this,0,e):Rte.apply(this,arguments)},vt.prototype.toLocaleString=vt.prototype.toString,vt.prototype.equals=function(e){if(!vt.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||vt.compare(this,e)===0},vt.prototype.inspect=function(){var e="",t=Ra.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},v1&&(vt.prototype[v1]=vt.prototype.inspect),vt.prototype.compare=function(e,t,r,n,i){if(Il(e,Uint8Array)&&(e=vt.from(e,e.offset,e.byteLength)),!vt.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(n,i),u=e.slice(t,r),f=0;f<a;++f)if(l[f]!==u[f]){o=l[f],s=u[f];break}return o<s?-1:s<o?1:0},vt.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},vt.prototype.indexOf=function(e,t,r){return cM(this,e,t,r,!0)},vt.prototype.lastIndexOf=function(e,t,r){return cM(this,e,t,r,!1)},vt.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((r===void 0||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ite(this,e,t,r);case"utf8":case"utf-8":return jte(this,e,t,r);case"ascii":return b6(this,e,t,r);case"latin1":case"binary":return kte(this,e,t,r);case"base64":return Cte(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Dte(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},vt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},vt.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,vt.prototype),n},vt.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},vt.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},vt.prototype.readUInt8=function(e,t){return e>>>=0,t||ai(e,1,this.length),this[e]},vt.prototype.readUInt16LE=function(e,t){return e>>>=0,t||ai(e,2,this.length),this[e]|this[e+1]<<8},vt.prototype.readUInt16BE=function(e,t){return e>>>=0,t||ai(e,2,this.length),this[e]<<8|this[e+1]},vt.prototype.readUInt32LE=function(e,t){return e>>>=0,t||ai(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},vt.prototype.readUInt32BE=function(e,t){return e>>>=0,t||ai(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},vt.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},vt.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||ai(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},vt.prototype.readInt8=function(e,t){return e>>>=0,t||ai(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},vt.prototype.readInt16LE=function(e,t){e>>>=0,t||ai(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt16BE=function(e,t){e>>>=0,t||ai(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},vt.prototype.readInt32LE=function(e,t){return e>>>=0,t||ai(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},vt.prototype.readInt32BE=function(e,t){return e>>>=0,t||ai(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},vt.prototype.readFloatLE=function(e,t){return e>>>=0,t||ai(e,4,this.length),Qc.read(this,e,!0,23,4)},vt.prototype.readFloatBE=function(e,t){return e>>>=0,t||ai(e,4,this.length),Qc.read(this,e,!1,23,4)},vt.prototype.readDoubleLE=function(e,t){return e>>>=0,t||ai(e,8,this.length),Qc.read(this,e,!0,52,8)},vt.prototype.readDoubleBE=function(e,t){return e>>>=0,t||ai(e,8,this.length),Qc.read(this,e,!1,52,8)},vt.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||go(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},vt.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||go(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},vt.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,1,255,0),this[t]=255&e,t+1},vt.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},vt.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);go(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},vt.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);go(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},vt.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},vt.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},vt.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},vt.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},vt.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||go(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},vt.prototype.writeFloatLE=function(e,t,r){return dM(this,e,t,!0,r)},vt.prototype.writeFloatBE=function(e,t,r){return dM(this,e,t,!1,r)},vt.prototype.writeDoubleLE=function(e,t,r){return hM(this,e,t,!0,r)},vt.prototype.writeDoubleBE=function(e,t,r){return hM(this,e,t,!1,r)},vt.prototype.copy=function(e,t,r,n){if(!vt.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},vt.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!vt.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var i=e.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(e=i)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(o=t;o<r;++o)this[o]=e;else{var s=vt.isBuffer(e)?e:vt.from(e,n),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this},N6=/[^+/0-9A-Za-z-_]/g,R6=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),Ra.Buffer,Ra.INSPECT_MAX_BYTES,Ra.kMaxLength,Sp={},$p=Ra,ta=$p.Buffer,ta.from&&ta.alloc&&ta.allocUnsafe&&ta.allocUnsafeSlow?Sp=$p:(pM($p,Sp),Sp.Buffer=Lc),Lc.prototype=Object.create(ta.prototype),pM(ta,Lc),Lc.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return ta(e,t,r)},Lc.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=ta(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Lc.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return ta(e)},Lc.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return $p.SlowBuffer(e)},wM=Sp,Kb={},Jb=wM.Buffer,zx=Jb.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Kb.StringDecoder=Ep,Ep.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Ep.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},Ep.prototype.text=function(e,t){var r=function(i,o,s){var a=o.length-1;if(a<s)return 0;var l=g1(o[a]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--a<s||l===-2?0:(l=g1(o[a]))>=0?(l>0&&(i.lastNeed=l-2),l):--a<s||l===-2?0:(l=g1(o[a]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},Ep.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Rd={},qx=!1,qp={},Vx=!1,$u={},Hx=!1,jl=Xte(),jl.Buffer,jl.INSPECT_MAX_BYTES,jl.kMaxLength,Vp={},Wx=!1,d0={},Gx=!1,h0={},Kx=!1,p0={},Jx=!1,m0={},Yx=!1,g0={},Xx=!1,v0={},Qx=!1,y0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,w0={},Zx=!1,I6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,b0={},eA=!1,_0={},tA=!1,E0={},rA=!1,S0={},nA=!1,$0={},iA=!1,j6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,T0={},oA=!1,x0={},sA=!1,A0={},aA=!1}});function C6(){return lA||(lA=!0,Gi=Gi=O6(),Gi.Stream=Gi,Gi.Readable=Gi,Gi.Writable=A6(),Gi.Duplex=Ih(),Gi.Transform=P6(),Gi.PassThrough=rre(),Gi.finished=ER(),Gi.pipeline=nre()),Gi}var Gi,lA,ire=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-C4rKjYLo.js"(){Te(),k6(),Gi={},lA=!1}}),kg={};ll(kg,{Agent:()=>F6,ClientRequest:()=>B6,IncomingMessage:()=>U6,METHODS:()=>z6,STATUS_CODES:()=>q6,default:()=>Ma,get:()=>V6,globalAgent:()=>H6,request:()=>W6});function D6(){if(uA)return yo;uA=!0,yo.fetch=n(Tu.fetch)&&n(Tu.ReadableStream),yo.writableStream=n(Tu.WritableStream),yo.abortController=n(Tu.AbortController);var e;function t(){if(e!==void 0)return e;if(Tu.XMLHttpRequest){e=new Tu.XMLHttpRequest;try{e.open("GET",Tu.XDomainRequest?"/":"https://example.com")}catch{e=null}}else e=null;return e}function r(i){var o=t();if(!o)return!1;try{return o.responseType=i,o.responseType===i}catch{}return!1}yo.arraybuffer=yo.fetch||r("arraybuffer"),yo.msstream=!yo.fetch&&r("ms-stream"),yo.mozchunkedarraybuffer=!yo.fetch&&r("moz-chunked-arraybuffer"),yo.overrideMimeType=yo.fetch||(t()?n(t().overrideMimeType):!1);function n(i){return typeof i=="function"}return e=null,yo}function M6(){if(cA)return Hp;cA=!0;var e=jl.Buffer,t=Wr,r=D6(),n=qf(),i=C6(),o=Hp.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=Hp.IncomingMessage=function(a,l,u,f){var c=this||Wp;if(i.Readable.call(c),c._mode=u,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),u==="fetch"){let p=function(){g.read().then(function(E){if(!c._destroyed){if(f(E.done),E.done){c.push(null);return}c.push(e.from(E.value)),p()}}).catch(function(E){f(!0),c._destroyed||c.emit("error",E)})};if(c._fetchResponse=l,c.url=l.url,c.statusCode=l.status,c.statusMessage=l.statusText,l.headers.forEach(function(E,y){c.headers[y.toLowerCase()]=E,c.rawHeaders.push(y,E)}),r.writableStream){var h=new WritableStream({write:function(E){return f(!1),new Promise(function(y,S){c._destroyed?S():c.push(e.from(E))?y():c._resumeFetch=y})},close:function(){f(!0),c._destroyed||c.push(null)},abort:function(E){f(!0),c._destroyed||c.emit("error",E)}});try{l.body.pipeTo(h).catch(function(E){f(!0),c._destroyed||c.emit("error",E)});return}catch{}}var g=l.body.getReader();p()}else{c._xhr=a,c._pos=0,c.url=a.responseURL,c.statusCode=a.status,c.statusMessage=a.statusText;var m=a.getAllResponseHeaders().split(/\r?\n/);if(m.forEach(function(p){var E=p.match(/^([^:]+):\s*(.*)/);if(E){var y=E[1].toLowerCase();y==="set-cookie"?(c.headers[y]===void 0&&(c.headers[y]=[]),c.headers[y].push(E[2])):c.headers[y]!==void 0?c.headers[y]+=", "+E[2]:c.headers[y]=E[2],c.rawHeaders.push(E[1],E[2])}}),c._charset="x-user-defined",!r.overrideMimeType){var _=c.rawHeaders["mime-type"];if(_){var v=_.match(/;\s*charset=([^;])(;|$)/);v&&(c._charset=v[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};return n(s,i.Readable),s.prototype._read=function(){var a=this||Wp,l=a._resumeFetch;l&&(a._resumeFetch=null,l())},s.prototype._onXHRProgress=function(a){var l=this||Wp,u=l._xhr,f=null;switch(l._mode){case"text":if(f=u.responseText,f.length>l._pos){var c=f.substr(l._pos);if(l._charset==="x-user-defined"){for(var h=e.alloc(c.length),g=0;g<c.length;g++)h[g]=c.charCodeAt(g)&255;l.push(h)}else l.push(c,l._charset);l._pos=f.length}break;case"arraybuffer":if(u.readyState!==o.DONE||!u.response)break;f=u.response,l.push(e.from(new Uint8Array(f)));break;case"moz-chunked-arraybuffer":if(f=u.response,u.readyState!==o.LOADING||!f)break;l.push(e.from(new Uint8Array(f)));break;case"ms-stream":if(f=u.response,u.readyState!==o.LOADING)break;var m=new Wp.MSStreamReader;m.onprogress=function(){m.result.byteLength>l._pos&&(l.push(e.from(new Uint8Array(m.result.slice(l._pos)))),l._pos=m.result.byteLength)},m.onload=function(){a(!0),l.push(null)},m.readAsArrayBuffer(f);break}l._xhr.readyState===o.DONE&&l._mode!=="ms-stream"&&(a(!0),l.push(null))},Hp}function ore(){if(fA)return O0;fA=!0;var e=jl.Buffer,t=Wr,r=D6(),n=qf(),i=M6(),o=C6(),s=i.IncomingMessage,a=i.readyStates;function l(h,g){return r.fetch&&g?"fetch":r.mozchunkedarraybuffer?"moz-chunked-arraybuffer":r.msstream?"ms-stream":r.arraybuffer&&h?"arraybuffer":"text"}var u=O0=function(h){var g=this||ti;o.Writable.call(g),g._opts=h,g._body=[],g._headers={},h.auth&&g.setHeader("Authorization","Basic "+e.from(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(v){g.setHeader(v,h.headers[v])});var m,_=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!r.abortController)_=!1,m=!0;else if(h.mode==="prefer-streaming")m=!1;else if(h.mode==="allow-wrong-content-type")m=!r.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")m=!0;else throw new Error("Invalid value for opts.mode");g._mode=l(m,_),g._fetchTimer=null,g._socketTimeout=null,g._socketTimer=null,g.on("finish",function(){g._onFinish()})};n(u,o.Writable),u.prototype.setHeader=function(h,g){var m=this||ti,_=h.toLowerCase();c.indexOf(_)===-1&&(m._headers[_]={name:h,value:g})},u.prototype.getHeader=function(h){var g=(this||ti)._headers[h.toLowerCase()];return g?g.value:null},u.prototype.removeHeader=function(h){var g=this||ti;delete g._headers[h.toLowerCase()]},u.prototype._onFinish=function(){var h=this||ti;if(!h._destroyed){var g=h._opts;"timeout"in g&&g.timeout!==0&&h.setTimeout(g.timeout);var m=h._headers,_=null;g.method!=="GET"&&g.method!=="HEAD"&&(_=new Blob(h._body,{type:(m["content-type"]||{}).value||""}));var v=[];if(Object.keys(m).forEach(function(S){var $=m[S].name,T=m[S].value;Array.isArray(T)?T.forEach(function(d){v.push([$,d])}):v.push([$,T])}),h._mode==="fetch"){var p=null;if(r.abortController){var E=new AbortController;p=E.signal,h._fetchAbortController=E,"requestTimeout"in g&&g.requestTimeout!==0&&(h._fetchTimer=ti.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},g.requestTimeout))}ti.fetch(h._opts.url,{method:h._opts.method,headers:v,body:_||void 0,mode:"cors",credentials:g.withCredentials?"include":"same-origin",signal:p}).then(function(S){h._fetchResponse=S,h._resetTimers(!1),h._connect()},function(S){h._resetTimers(!0),h._destroyed||h.emit("error",S)})}else{var y=h._xhr=new ti.XMLHttpRequest;try{y.open(h._opts.method,h._opts.url,!0)}catch(S){t.nextTick(function(){h.emit("error",S)});return}"responseType"in y&&(y.responseType=h._mode),"withCredentials"in y&&(y.withCredentials=!!g.withCredentials),h._mode==="text"&&"overrideMimeType"in y&&y.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in g&&(y.timeout=g.requestTimeout,y.ontimeout=function(){h.emit("requestTimeout")}),v.forEach(function(S){y.setRequestHeader(S[0],S[1])}),h._response=null,y.onreadystatechange=function(){switch(y.readyState){case a.LOADING:case a.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(y.onprogress=function(){h._onXHRProgress()}),y.onerror=function(){h._destroyed||(h._resetTimers(!0),h.emit("error",new Error("XHR error")))};try{y.send(_)}catch(S){t.nextTick(function(){h.emit("error",S)});return}}}};function f(h){try{var g=h.status;return g!==null&&g!==0}catch{return!1}}u.prototype._onXHRProgress=function(){var h=this||ti;h._resetTimers(!1),!(!f(h._xhr)||h._destroyed)&&(h._response||h._connect(),h._response._onXHRProgress(h._resetTimers.bind(h)))},u.prototype._connect=function(){var h=this||ti;h._destroyed||(h._response=new s(h._xhr,h._fetchResponse,h._mode,h._resetTimers.bind(h)),h._response.on("error",function(g){h.emit("error",g)}),h.emit("response",h._response))},u.prototype._write=function(h,g,m){var _=this||ti;_._body.push(h),m()},u.prototype._resetTimers=function(h){var g=this||ti;ti.clearTimeout(g._socketTimer),g._socketTimer=null,h?(ti.clearTimeout(g._fetchTimer),g._fetchTimer=null):g._socketTimeout&&(g._socketTimer=ti.setTimeout(function(){g.emit("timeout")},g._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(h){var g=this||ti;g._destroyed=!0,g._resetTimers(!0),g._response&&(g._response._destroyed=!0),g._xhr?g._xhr.abort():g._fetchAbortController&&g._fetchAbortController.abort(),h&&g.emit("error",h)},u.prototype.end=function(h,g,m){var _=this||ti;typeof h=="function"&&(m=h,h=void 0),o.Writable.prototype.end.call(_,h,g,m)},u.prototype.setTimeout=function(h,g){var m=this||ti;g&&m.once("timeout",g),m._socketTimeout=h,m._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return O0}function sre(){if(dA)return P0;dA=!0,P0=t;var e=Object.prototype.hasOwnProperty;function t(){for(var r={},n=0;n<arguments.length;n++){var i=arguments[n];for(var o in i)e.call(i,o)&&(r[o]=i[o])}return r}return P0}function are(){return hA||(hA=!0,N0={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),N0}function lre(){if(pA)return R0;pA=!0;var e=ore(),t=M6(),r=sre(),n=are(),i=Jr,o=R0;return o.request=function(s,a){typeof s=="string"?s=i.parse(s):s=r(s);var l=L6.location.protocol.search(/^https?:$/)===-1?"http:":"",u=s.protocol||l,f=s.hostname||s.host,c=s.port,h=s.path||"/";f&&f.indexOf(":")!==-1&&(f="["+f+"]"),s.url=(f?u+"//"+f:"")+(c?":"+c:"")+h,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var g=new e(s);return a&&g.on("response",a),g},o.get=function(a,l){var u=o.request(a,l);return u.end(),u},o.ClientRequest=e,o.IncomingMessage=t.IncomingMessage,o.Agent=function(){},o.Agent.defaultMaxSockets=4,o.globalAgent=new o.Agent,o.STATUS_CODES=n,o.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],R0}function ure(){if(mA)return I0;mA=!0;var e=Da,t=Jr,r=I0;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,s){return o=i(o),e.request.call(this||gA,o,s)},r.get=function(o,s){return o=i(o),e.get.call(this||gA,o,s)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}return I0}var yo,uA,Tu,Hp,cA,Wp,O0,fA,ti,P0,dA,N0,hA,R0,pA,L6,Da,I0,mA,gA,Ma,F6,B6,U6,z6,q6,V6,H6,W6,fE=on({"../../node_modules/@jspm/core/nodelibs/browser/https.js"(){Te(),k6(),ire(),lE(),Qz(),aE(),Ig(),yo={},uA=!1,Tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Hp={},cA=!1,Wp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,O0={},fA=!1,ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,P0={},dA=!1,N0={},hA=!1,R0={},pA=!1,L6=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Da=lre(),Da.Agent,Da.ClientRequest,Da.IncomingMessage,Da.METHODS,Da.STATUS_CODES,Da.get,Da.globalAgent,Da.request,I0={},mA=!1,gA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ma=ure(),F6=Ma.Agent,B6=Ma.ClientRequest,U6=Ma.IncomingMessage,z6=Ma.METHODS,q6=Ma.STATUS_CODES,V6=Ma.get,H6=Ma.globalAgent,W6=Ma.request}}),SR={};ll(SR,{default:()=>G6});var G6,K6=on({"../../node_modules/esbuild-plugin-polyfill-node/polyfills/empty.js"(){Te(),G6={}}}),cre=Ne({"../../node_modules/@thingweb/thing-model/node_modules/json-placeholder-replacer/dist/library.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.JsonPlaceholderReplacer=void 0;var t=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}],r=":",n=[],i=class{constructor(o){this.variablesMap=[],this.configuration=this.initializeOptions(o);const s=l=>l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.configuration.delimiterTags=this.configuration.delimiterTags.map(l=>Object.assign(Object.assign({},l),{escapedBeginning:s(l.begin),escapedEnding:s(l.end)}));const a=this.configuration.delimiterTags.map(l=>`^${l.begin}[^${l.end}]+${l.end}$`).join("|");this.delimiterTagsRegex=new RegExp(a)}addVariableMap(o){return typeof o=="string"?this.variablesMap.push(JSON.parse(o)):this.variablesMap.push(o),this}setVariableMap(...o){return this.variablesMap.length=0,o.forEach(s=>this.addVariableMap(s)),this}replace(o){return this.replaceChildren(o,this.variablesMap)}replaceWith(o,...s){return this.replaceChildren(o,s)}initializeOptions(o){var s;let a=t,l=r,u=n;return o!==void 0&&(o.delimiterTags!==void 0&&o.delimiterTags.length>0&&(a=o.delimiterTags),o.defaultValueSeparator!==void 0&&(l=o.defaultValueSeparator),!((s=o.nullishValues)===null||s===void 0)&&s.length&&(u=o.nullishValues.map(f=>JSON.stringify(f)))),{defaultValueSeparator:l,delimiterTags:a,nullishValues:u}}replaceChildren(o,s){for(const a in o){const l=o[a];typeof l=="object"?o[a]=this.replaceChildren(l,s):l!==void 0&&(o[a]=this.replaceValue(l,s))}return o}replaceValue(o,s){const a=o.toString(),l=!this.delimiterTagsRegex.test(o),u=this.configuration.delimiterTags.reduce((f,c)=>{const h=new RegExp(`(${c.escapedBeginning}[^${c.escapedEnding}]+${c.escapedEnding})`,"g");return f.replace(h,this.replacer(l,s)(c))},a);try{return u===a?o:JSON.parse(u)}catch{return u}}replacer(o,s){return a=>l=>{const{tag:u,defaultValue:f}=this.parseTag(l,a),c=this.checkInEveryMap(u,s);if(c===void 0)return f!==void 0?f:l;if(!o)return c;const h=JSON.parse(c);return typeof h=="object"?JSON.stringify(h):h}}parseTag(o,s){const a=o.substring(s.begin.length,o.length-s.begin.length);let l=a,u;const f=a.indexOf(this.configuration.defaultValueSeparator);return f>0&&(l=a.substring(0,f),u=a.substring(f+this.configuration.defaultValueSeparator.length)),{tag:l,defaultValue:u}}checkInEveryMap(o,s){const{nullishValues:a}=this.configuration;let l;return s.forEach(u=>{let f=this.navigateThroughMap(u,o);f!==void 0&&a.includes(f)&&(f=void 0),l=f||l}),l}navigateThroughMap(o,s){if(o===void 0)return;const a=o[s];if(a!==void 0)return JSON.stringify(a);const l=s.split("."),u=l[0];return l.shift(),this.navigateThroughMap(o[u],l.join("."))}};e.JsonPlaceholderReplacer=i}}),fre=Ne({"../../node_modules/wot-thing-model-types/schema/tm-json-schema-validation.json"(e,t){t.exports={title:"Thing Model",version:"1.1-09-November-2023",description:"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},security:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},"dataSchema-type":{type:"string",anyOf:[{enum:["boolean","integer","number","string","object","array","null"]},{$ref:"#/definitions/placeholder-pattern"}]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{anyOf:[{type:["integer","number"],exclusiveMinimum:0},{$ref:"#/definitions/placeholder-pattern"}]},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["invokeaction","queryaction","cancelaction"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["subscribeevent","unsubscribeevent"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},{type:"array",items:{type:"string",anyOf:[{enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{$ref:"#/definitions/placeholder-pattern"}]},minItems:1}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},observable:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},writeOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},readOnly:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{anyOf:[{type:"array",minItems:1,uniqueItems:!0},{$ref:"#/definitions/placeholder-pattern"}]},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minItems:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},minimum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},maximum:{anyOf:[{type:"number"},{$ref:"#/definitions/placeholder-pattern"}]},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},maxLength:{anyOf:[{type:"integer",minimum:0},{$ref:"#/definitions/placeholder-pattern"}]},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{anyOf:[{type:"array",items:{type:"string"}},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},idempotent:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},synchronous:{anyOf:[{type:"boolean"},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]},instanceName:{type:"string"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon",properties:{rel:{anyOf:[{enum:["icon"]},{$ref:"#/definitions/placeholder-pattern"}]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["nosec"]},{$ref:"#/definitions/placeholder-pattern"}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["auto"]},{$ref:"#/definitions/placeholder-pattern"}]}},not:{required:["name"]},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},oneOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["combo"]},{$ref:"#/definitions/placeholder-pattern"}]},allOf:{type:"array",minItems:2,items:{type:"string"}},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["basic"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["digest"]},{$ref:"#/definitions/placeholder-pattern"}]},qop:{type:"string",anyOf:[{enum:["auth","auth-int"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["apikey"]},{$ref:"#/definitions/placeholder-pattern"}]},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","uri","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["bearer"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",anyOf:[{enum:["header","query","body","cookie","auto"]},{$ref:"#/definitions/placeholder-pattern"}]},name:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["psk"]},{$ref:"#/definitions/placeholder-pattern"}]},identity:{type:"string"},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",anyOf:[{enum:["oauth2"]},{$ref:"#/definitions/placeholder-pattern"}]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",anyOf:[{enum:["code","client"]},{$ref:"#/definitions/placeholder-pattern"}]}]},"tm:ref":{$ref:"#/definitions/tm_ref"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},securityScheme:{anyOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]},tm_type_declaration:{oneOf:[{type:"string",const:"tm:ThingModel"},{type:"array",items:{type:"string"},contains:{const:"tm:ThingModel"}}]},"placeholder-pattern":{type:"string",pattern:"^.*[{]{2}[ -~]+[}]{2}.*$"},tm_optional:{type:"array",items:{$comment:"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times",allOf:[{type:"string",pattern:"^((/properties/)|(/actions/)|(/events/))(([^/]))",$comment:"regex tests available at https://regex101.com/r/UgOzrJ/1"},{not:{type:"string",pattern:"(/)(.*/){2}",$comment:"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},tm_ref:{type:"string",format:"uri-reference"}},type:"object",properties:{id:{type:"string"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{anyOf:[{type:"object",properties:{model:{type:"string"}},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},not:{type:"object",properties:{instance:{type:"string"}},required:["instance"]}},{$ref:"#/definitions/placeholder-pattern"}]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},support:{$ref:"#/definitions/anyUri"},created:{type:"string"},modified:{type:"string"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"},propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}}},"@type":{$ref:"#/definitions/tm_type_declaration"},"@context":{$ref:"#/definitions/thing-context"},"tm:optional":{$ref:"#/definitions/tm_optional"}},additionalProperties:!0,propertyNames:{not:{$ref:"#/definitions/placeholder-pattern"}},required:["@context","@type"]}}}),dre=Ne({"../../node_modules/@thingweb/thing-model/dist/src/tm-helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(S,$,T,d){d===void 0&&(d=T);var x=Object.getOwnPropertyDescriptor($,T);(!x||("get"in x?!$.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return $[T]}}),Object.defineProperty(S,d,x)}:function(S,$,T,d){d===void 0&&(d=T),S[d]=$[T]}),r=e&&e.__setModuleDefault||(Object.create?function(S,$){Object.defineProperty(S,"default",{enumerable:!0,value:$})}:function(S,$){S.default=$}),n=e&&e.__importStar||function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T in S)T!=="default"&&Object.prototype.hasOwnProperty.call(S,T)&&t($,S,T);return r($,S),$},i=e&&e.__awaiter||function(S,$,T,d){function x(A){return A instanceof T?A:new T(function(O){O(A)})}return new(T||(T=Promise))(function(A,O){function C(X){try{V(d.next(X))}catch(H){O(H)}}function F(X){try{V(d.throw(X))}catch(H){O(H)}}function V(X){X.done?A(X.value):x(X.value).then(C,F)}V((d=d.apply(S,$||[])).next())})},o=e&&e.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0}),e.ThingModelHelpers=void 0;var s=o(nz()),a=o(Bee()),l=n((wR(),Or(uE))),u=n((fE(),Or(kg))),f=n((K6(),Or(SR))),c=cre(),h=o(fre()),g=o(RU()),m="node-wot:td-tools:thing-model-helpers",_=(0,g.default)(`${m}:debug`),v=(0,g.default)(`${m}:error`),p=h.default,E=new s.default({strict:!1});(0,a.default)(E);var y=class gs{constructor($){this.deps=[],this.resolver=void 0,$&&(this.resolver=$)}static isThingModel($){if($==null||typeof $!="object"||Array.isArray($))return!1;const T=$;if(Array.isArray(T["@type"])){if(T["@type"].filter(x=>x==="tm:ThingModel").length>0)return!0}else if(T["@type"]==="tm:ThingModel")return!0;return!!(Object.keys(this.getThingModelRef(T)).length>0||"links"in T&&Array.isArray(T.links)&&T.links.find(x=>x.rel==="tm:extends")!=null||T.properties!==void 0&&this.isThingModel(T.properties)||T.actions!==void 0&&this.isThingModel(T.actions)||T.events!==void 0&&this.isThingModel(T.events))}static getModelVersion($){var T;return typeof($==null?void 0:$.version)=="object"&&typeof((T=$==null?void 0:$.version)===null||T===void 0?void 0:T.model)=="string"?$.version.model:void 0}static validateThingModel($){var T;const d=gs.tsSchemaValidator($);let x;return d||(x=(T=gs.tsSchemaValidator.errors)===null||T===void 0?void 0:T.map(A=>A.message).join(`
`)),{valid:d,errors:x}}getPartialTDs($,T){return i(this,void 0,void 0,function*(){return(yield this._getPartialTDs($,T)).map(A=>{const O=A;return O["@type"]instanceof Array?O["@type"]=O["@type"].map(C=>C==="tm:ThingModel"?"Thing":C):O["@type"]="Thing",O})})}fetchModel($){return i(this,void 0,void 0,function*(){this.addDependency($);let T;if(this.resolver?T=yield this.resolver.fetch($):T=yield this.localFetch($),!gs.isThingModel(T))throw new Error(`Data at ${$} is not a Thing Model`);return T})}localFetch($){switch($.split("://")[0]){case"file":{const d=$.split("://")[1];return new Promise((x,A)=>{f.readFile(d,{encoding:"utf-8"},function(O,C){O?A(O):x(JSON.parse(C))})})}case"http":return new Promise((d,x)=>{l.get($,A=>{(A.statusCode==null||A.statusCode!==200)&&x(new Error(`http status code not 200 but ${A.statusCode} for ${$}`)),A.setEncoding("utf8");let O="";A.on("data",C=>{O+=C}),A.on("end",()=>{try{const C=JSON.parse(O);_(`https fetched: ${C}`),d(C)}catch(C){v(C)}})}).on("error",A=>{x(A)})});case"https":return new Promise((d,x)=>{u.get($,A=>{(A.statusCode==null||A.statusCode!==200)&&x(new Error(`https status code not 200 but ${A.statusCode} for ${$}`)),A.setEncoding("utf8");let O="";A.on("data",C=>{O+=C}),A.on("end",()=>{try{const C=JSON.parse(O);_(`https fetched: ${C}`),d(C)}catch(C){v(C)}})}).on("error",A=>{x(A)})})}return null}_getPartialTDs($,T){return i(this,void 0,void 0,function*(){if(!gs.isThingModel($))throw new Error(`${$} is not a Thing Model`);let d=gs.validateThingModel($);if(d.valid===!1||d.errors!==void 0)throw new Error(d.errors);if(d=this.checkPlaceholderMap($,T==null?void 0:T.map),d.valid===!1||d.errors!==void 0)throw new Error(d.errors);const x=yield this.fetchAffordances($);return yield this.composeModel($,x,T)})}fetchAffordances($){var T;return i(this,void 0,void 0,function*(){const d={},x=gs.getThingModelLinks($,"tm:extends");if(x.length>0){d.extends=[];for(const C of x){let F=yield this.fetchModel(C.href);[F]=yield this._getPartialTDs(F),d.extends.push(F)}}const A=["properties","actions","events"];d.imports=[];for(const C of A){const F=gs.getThingModelRef($[C]);if(Object.keys(F).length>0)for(const V in F){const X=F[V],H=this.parseTmRef(X);if(H.uri==null)throw new Error(`Missing remote path in ${X}`);let Z=yield this.fetchModel(H.uri);[Z]=yield this._getPartialTDs(Z),delete $[C][V]["tm:ref"];const fe=(T=this.getRefAffordance(H,Z))!==null&&T!==void 0?T:{};H.name=V,d.imports.push(Object.assign({affordance:fe},H))}}const O=gs.getThingModelLinks($,"tm:submodel");if(O.length>0){d.submodel={};for(const C of O){const F=yield this.fetchModel(C.href);d.submodel[C.href]=F}}return d})}composeModel($,T,d){var x,A,O,C,F;return i(this,void 0,void 0,function*(){let V=[];const X=((x=$.title)!==null&&x!==void 0?x:"").replace(/ /g,"");d||(d={}),d.baseUrl==null&&(d.baseUrl=".");const H=this.returnNewTMHref(d.baseUrl,X),Z=this.returnNewTDHref(d.baseUrl,X);if("extends"in T){const fe=(A=T.extends)!==null&&A!==void 0?A:[];for(const ee of fe)$=gs.extendThingModel(ee,$);$.links=(O=$.links)===null||O===void 0?void 0:O.filter(ee=>ee.rel!=="tm:extends")}if("imports"in T){const fe=(C=T.imports)!==null&&C!==void 0?C:[];for(const ee of fe)$=gs.importAffordance(ee.type,ee.name,ee.affordance,$)}if("submodel"in T){const fe=T.submodel;for(const ee in fe){const ne=fe[ee];if(d.selfComposition===!0){if(!$.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const k=$.links.findIndex(z=>z.href===ee),W=$.links[k].instanceName;if(W==null)throw new Error("Self composition is not possible without instance names");const[P]=yield this._getPartialTDs(ne,d),R=["properties","actions","events"];for(const z of R)for(const oe in P[z]){const J=`${W}_${oe}`;z in $||($[z]={}),$[z][J]=P[z][oe]}}else{const k=((F=ne.title)!==null&&F!==void 0?F:"").replace(/ /g,""),B=this.returnNewTDHref(d.baseUrl,k);ne.links||(ne.links=[]),ne.links.push({rel:"collection",href:Z,type:"application/td+json"});const W=yield this._getPartialTDs(ne,d);V.push(...W),$=gs.formatSubmodelLink($,ee,B)}}}return(!$.links||d.selfComposition===!0)&&($.links=[]),$.links.push({rel:"type",href:H,type:"application/tm+json"}),"version"in $&&delete $.version,d.map&&($=this.fillPlaceholder($,d.map)),V.unshift($),V=V.map(fe=>this.fillPlaceholder(fe,d==null?void 0:d.map)),this.deps.length>0&&this.removeDependency(),V})}static getThingModelRef($){const T={};if($==null)return T;for(const d in $)for(const x in $[d])x==="tm:ref"&&(T[d]=$[d]["tm:ref"]);return T}static getThingModelLinks($,T){let d=[];return"links"in $&&Array.isArray($.links)&&(d=$.links),d.filter(x=>x.rel===T)}static extendThingModel($,T){let d={};const x=$.properties,A=$.actions,O=$.events;if(d=Object.assign(Object.assign({},$),T),x){d.properties||(d.properties={});for(const C in x)T.properties&&T.properties[C]!=null?d.properties[C]=Object.assign(Object.assign({},x[C]),T.properties[C]):d.properties[C]=x[C]}if(A){d.actions||(d.actions={});for(const C in A)T.actions&&C in T.actions?d.actions[C]=Object.assign(Object.assign({},A[C]),T.actions[C]):d.actions[C]=A[C]}if(O){d.events||(d.events={});for(const C in O)T.events&&C in T.events?d.events[C]=Object.assign(Object.assign({},O[C]),T.events[C]):d.events[C]=O[C]}return d}static importAffordance($,T,d,x){x[$]||(x[$]={});const A=x[$][T];x[$][T]=Object.assign(Object.assign({},d),A);for(const O in x[$][T])x[$][T][O]===void 0&&delete x[$][T][O];return x}static formatSubmodelLink($,T,d){if(!$.links)throw new Error("Links are missing");const x=$.links.findIndex(O=>O.href===T);if(x===-1)throw new Error("Link not found");const A=$.links[x];return"instanceName"in A&&delete A.instanceName,$.links[x]=Object.assign(Object.assign({},A),{href:d,type:"application/td+json",rel:"item"}),$}parseTmRef($){const T=$.split("#")[0],d=$.split("#")[1],x=d.split("/")[1],A=d.split("/")[2];return{uri:T,type:x,name:A}}getRefAffordance($,T){const d=$.type,x=$.name;if(!(d in T))return;const A=T[d];if(x in A)return A[x]}fillPlaceholder($,T={}){const d=new c.JsonPlaceholderReplacer;return d.addVariableMap(T),d.replace($)}checkPlaceholderMap($,T={}){var d;const x="{{.*?}}";let O=(d=JSON.stringify($).match(new RegExp(x,"g")))!==null&&d!==void 0?d:[];O=O.map(V=>V.replace("{{","").replace("}}",""));let C=!0,F;return(O==null?void 0:O.length)>0&&T==null?(C=!1,F=`No map provided for model ${$.title}`):O.length>0&&O.every(V=>V in T?!0:(F=`Missing required fields in map for model ${$.title}`,C=!1,!1)),{valid:C,errors:F}}returnNewTMHref($,T){return`${$}/${T}.tm.jsonld`}returnNewTDHref($,T){return`${$}/${T}.td.jsonld`}addDependency($){if(this.deps.indexOf($)>-1)throw new Error(`Circular dependency found for ${$}`);this.deps.push($)}removeDependency($){$!=null?this.deps=this.deps.filter(T=>T!==$):this.deps.pop()}};e.ThingModelHelpers=y,y.tsSchemaValidator=E.compile(p)}}),hre=Ne({"../../node_modules/@thingweb/thing-model/dist/src/resolver-interface.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0})}}),pre=Ne({"../../node_modules/@thingweb/thing-model/dist/src/thing-model.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=e&&e.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(dre(),e),r(hre(),e)}}),J6={};ll(J6,{EventEmitter:()=>Y6,default:()=>Ha,defaultMaxListeners:()=>X6,init:()=>Q6,listenerCount:()=>Z6,on:()=>eq,once:()=>tq});function mre(){if(vA)return Gp;vA=!0;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function($,T,d){return Function.prototype.apply.call($,T,d)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function($){return Object.getOwnPropertyNames($).concat(Object.getOwnPropertySymbols($))}:r=function($){return Object.getOwnPropertyNames($)};function n(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function($){return $!==$};function o(){o.init.call(this)}Gp=o,Gp.once=p,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");s=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+$+".");return this._maxListeners=$,this};function l(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function($){for(var T=[],d=1;d<arguments.length;d++)T.push(arguments[d]);var x=$==="error",A=this._events;if(A!==void 0)x=x&&A.error===void 0;else if(!x)return!1;if(x){var O;if(T.length>0&&(O=T[0]),O instanceof Error)throw O;var C=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw C.context=O,C}var F=A[$];if(F===void 0)return!1;if(typeof F=="function")t(F,this,T);else for(var V=F.length,X=m(F,V),d=0;d<V;++d)t(X[d],this,T);return!0};function u(S,$,T,d){var x,A,O;if(a(T),A=S._events,A===void 0?(A=S._events=Object.create(null),S._eventsCount=0):(A.newListener!==void 0&&(S.emit("newListener",$,T.listener?T.listener:T),A=S._events),O=A[$]),O===void 0)O=A[$]=T,++S._eventsCount;else if(typeof O=="function"?O=A[$]=d?[T,O]:[O,T]:d?O.unshift(T):O.push(T),x=l(S),x>0&&O.length>x&&!O.warned){O.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String($)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=S,C.type=$,C.count=O.length,n(C)}return S}o.prototype.addListener=function($,T){return u(this,$,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function($,T){return u(this,$,T,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(S,$,T){var d={fired:!1,wrapFn:void 0,target:S,type:$,listener:T},x=f.bind(d);return x.listener=T,d.wrapFn=x,x}o.prototype.once=function($,T){return a(T),this.on($,c(this,$,T)),this},o.prototype.prependOnceListener=function($,T){return a(T),this.prependListener($,c(this,$,T)),this},o.prototype.removeListener=function($,T){var d,x,A,O,C;if(a(T),x=this._events,x===void 0)return this;if(d=x[$],d===void 0)return this;if(d===T||d.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete x[$],x.removeListener&&this.emit("removeListener",$,d.listener||T));else if(typeof d!="function"){for(A=-1,O=d.length-1;O>=0;O--)if(d[O]===T||d[O].listener===T){C=d[O].listener,A=O;break}if(A<0)return this;A===0?d.shift():_(d,A),d.length===1&&(x[$]=d[0]),x.removeListener!==void 0&&this.emit("removeListener",$,C||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function($){var T,d,x;if(d=this._events,d===void 0)return this;if(d.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):d[$]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete d[$]),this;if(arguments.length===0){var A=Object.keys(d),O;for(x=0;x<A.length;++x)O=A[x],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=d[$],typeof T=="function")this.removeListener($,T);else if(T!==void 0)for(x=T.length-1;x>=0;x--)this.removeListener($,T[x]);return this};function h(S,$,T){var d=S._events;if(d===void 0)return[];var x=d[$];return x===void 0?[]:typeof x=="function"?T?[x.listener||x]:[x]:T?v(x):m(x,x.length)}o.prototype.listeners=function($){return h(this,$,!0)},o.prototype.rawListeners=function($){return h(this,$,!1)},o.listenerCount=function(S,$){return typeof S.listenerCount=="function"?S.listenerCount($):g.call(S,$)},o.prototype.listenerCount=g;function g(S){var $=this._events;if($!==void 0){var T=$[S];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(S,$){for(var T=new Array($),d=0;d<$;++d)T[d]=S[d];return T}function _(S,$){for(;$+1<S.length;$++)S[$]=S[$+1];S.pop()}function v(S){for(var $=new Array(S.length),T=0;T<$.length;++T)$[T]=S[T].listener||S[T];return $}function p(S,$){return new Promise(function(T,d){function x(O){S.removeListener($,A),d(O)}function A(){typeof S.removeListener=="function"&&S.removeListener("error",x),T([].slice.call(arguments))}y(S,$,A,{once:!0}),$!=="error"&&E(S,x,{once:!0})})}function E(S,$,T){typeof S.on=="function"&&y(S,"error",$,T)}function y(S,$,T,d){if(typeof S.on=="function")d.once?S.once($,T):S.on($,T);else if(typeof S.addEventListener=="function")S.addEventListener($,function x(A){d.once&&S.removeEventListener($,x),T(A)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Gp}var Gp,vA,Ha,Y6,X6,Q6,Z6,eq,tq,rq=on({"../../node_modules/@jspm/core/nodelibs/browser/events.js"(){Te(),Gp={},vA=!1,Ha=mre(),Ha.once,Ha.once=function(e,t){return new Promise((r,n)=>{function i(...s){o!==void 0&&e.removeListener("error",o),r(s)}let o;t!=="error"&&(o=s=>{e.removeListener(name,i),n(s)},e.once("error",o)),e.once(t,i)})},Ha.on=function(e,t){const r=[],n=[];let i=null,o=!1;const s={async next(){const u=r.shift();if(u)return createIterResult(u,!1);if(i){const f=Promise.reject(i);return i=null,f}return o?createIterResult(void 0,!0):new Promise((f,c)=>n.push({resolve:f,reject:c}))},async return(){e.removeListener(t,a),e.removeListener("error",l),o=!0;for(const u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,e.removeListener(t,a),e.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return e.on(t,a),e.on("error",l),s;function a(...u){const f=n.shift();f?f.resolve(createIterResult(u,!1)):r.push(u)}function l(u){o=!0;const f=n.shift();f?f.reject(u):i=u,s.return()}},{EventEmitter:Y6,defaultMaxListeners:X6,init:Q6,listenerCount:Z6,on:eq,once:tq}=Ha}});function nq(){return yA||(yA=!0,j0=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),j0}function gre(){return wA||(wA=!0,k0=Error),k0}function vre(){return bA||(bA=!0,C0=EvalError),C0}function yre(){return _A||(_A=!0,D0=RangeError),D0}function wre(){return EA||(EA=!0,M0=ReferenceError),M0}function iq(){return SA||(SA=!0,L0=SyntaxError),L0}function Cg(){return $A||($A=!0,F0=TypeError),F0}function bre(){return TA||(TA=!0,B0=URIError),B0}function _re(){if(xA)return U0;xA=!0;var e=typeof Symbol<"u"&&Symbol,t=nq();return U0=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},U0}function Ere(){if(AA)return z0;AA=!0;var e={__proto__:null,foo:{}},t=Object;return z0=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},z0}function Sre(){if(OA)return q0;OA=!0;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,u){for(var f=[],c=0;c<l.length;c+=1)f[c]=l[c];for(var h=0;h<u.length;h+=1)f[h+l.length]=u[h];return f},o=function(l,u){for(var f=[],c=u,h=0;c<l.length;c+=1,h+=1)f[h]=l[c];return f},s=function(a,l){for(var u="",f=0;f<a.length;f+=1)u+=a[f],f+1<a.length&&(u+=l);return u};return q0=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==n)throw new TypeError(e+u);for(var f=o(arguments,1),c,h=function(){if(this instanceof c){var p=u.apply(this,i(f,arguments));return Object(p)===p?p:this}return u.apply(l,i(f,arguments))},g=r(0,u.length-f.length),m=[],_=0;_<g;_++)m[_]="$"+_;if(c=Function("binder","return function ("+s(m,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var v=function(){};v.prototype=u.prototype,c.prototype=new v,v.prototype=null}return c},q0}function $R(){if(PA)return V0;PA=!0;var e=Sre();return V0=Function.prototype.bind||e,V0}function $re(){if(NA)return H0;NA=!0;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=$R();return H0=r.call(e,t),H0}function Gh(){if(RA)return W0;RA=!0;var e,t=gre(),r=vre(),n=yre(),i=wre(),o=iq(),s=Cg(),a=bre(),l=Function,u=function(fe){try{return l('"use strict"; return ('+fe+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new s},h=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,g=_re()(),m=Ere()(),_=Object.getPrototypeOf||(m?function(fe){return fe.__proto__}:null),v={},p=typeof Uint8Array>"u"||!_?e:_(Uint8Array),E={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":g&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&_?_(_([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g||!_?e:_(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g||!_?e:_(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&_?_(""[Symbol.iterator]()):e,"%Symbol%":g?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":h,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet};if(_)try{null.error}catch(fe){var y=_(_(fe));E["%Error.prototype%"]=y}var S=function fe(ee){var ne;if(ee==="%AsyncFunction%")ne=u("async function () {}");else if(ee==="%GeneratorFunction%")ne=u("function* () {}");else if(ee==="%AsyncGeneratorFunction%")ne=u("async function* () {}");else if(ee==="%AsyncGenerator%"){var k=fe("%AsyncGeneratorFunction%");k&&(ne=k.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var B=fe("%AsyncGenerator%");B&&_&&(ne=_(B.prototype))}return E[ee]=ne,ne},$={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=$R(),d=$re(),x=T.call(Function.call,Array.prototype.concat),A=T.call(Function.apply,Array.prototype.splice),O=T.call(Function.call,String.prototype.replace),C=T.call(Function.call,String.prototype.slice),F=T.call(Function.call,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,H=function(ee){var ne=C(ee,0,1),k=C(ee,-1);if(ne==="%"&&k!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(k==="%"&&ne!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var B=[];return O(ee,V,function(W,P,R,z){B[B.length]=R?O(z,X,"$1"):P||W}),B},Z=function(ee,ne){var k=ee,B;if(d($,k)&&(B=$[k],k="%"+B[0]+"%"),d(E,k)){var W=E[k];if(W===v&&(W=S(k)),typeof W>"u"&&!ne)throw new s("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:B,name:k,value:W}}throw new o("intrinsic "+ee+" does not exist!")};return W0=function(ee,ne){if(typeof ee!="string"||ee.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ne!="boolean")throw new s('"allowMissing" argument must be a boolean');if(F(/^%?[^%]*%?$/,ee)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var k=H(ee),B=k.length>0?k[0]:"",W=Z("%"+B+"%",ne),P=W.name,R=W.value,z=!1,oe=W.alias;oe&&(B=oe[0],A(k,x([0,1],oe)));for(var J=1,Y=!0;J<k.length;J+=1){var ae=k[J],be=C(ae,0,1),Ie=C(ae,-1);if((be==='"'||be==="'"||be==="`"||Ie==='"'||Ie==="'"||Ie==="`")&&be!==Ie)throw new o("property names with quotes must have matching quotes");if((ae==="constructor"||!Y)&&(z=!0),B+="."+ae,P="%"+B+"%",d(E,P))R=E[P];else if(R!=null){if(!(ae in R)){if(!ne)throw new s("base intrinsic for "+ee+" exists, but the property is not available.");return}if(f&&J+1>=k.length){var N=f(R,ae);Y=!!N,Y&&"get"in N&&!("originalValue"in N.get)?R=N.get:R=R[ae]}else Y=d(R,ae),R=R[ae];Y&&!z&&(E[P]=R)}}return R},W0}function TR(){if(IA)return G0;IA=!0;var e=Gh(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return G0=t,G0}function xR(){if(jA)return K0;jA=!0;var e=Gh(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return K0=t,K0}function Tre(){if(kA)return J0;kA=!0;var e=TR(),t=iq(),r=Cg(),n=xR();return J0=function(o,s,a){if(!o||typeof o!="object"&&typeof o!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,h=!!n&&n(o,s);if(e)e(o,s,{configurable:f===null&&h?h.configurable:!f,enumerable:l===null&&h?h.enumerable:!l,value:a,writable:u===null&&h?h.writable:!u});else if(c||!l&&!u&&!f)o[s]=a;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},J0}function xre(){if(CA)return Y0;CA=!0;var e=TR(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},Y0=t,Y0}function Are(){if(DA)return X0;DA=!0;var e=Gh(),t=Tre(),r=xre()(),n=xR(),i=Cg(),o=e("%Math.floor%");return X0=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||o(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in a&&n){var h=n(a,"length");h&&!h.configurable&&(f=!1),h&&!h.writable&&(c=!1)}return(f||c||!u)&&(r?t(a,"length",l,!0,!0):t(a,"length",l)),a},X0}function oq(){if(MA)return Id;MA=!0;var e=$R(),t=Gh(),r=Are(),n=Cg(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),s=t("%Reflect.apply%",!0)||e.call(o,i),a=TR(),l=t("%Math.max%");Id=function(c){if(typeof c!="function")throw new n("a function is required");var h=s(e,o,arguments);return r(h,1+l(0,c.length-(arguments.length-1)),!0)};var u=function(){return s(e,i,arguments)};return a?a(Id,"apply",{value:u}):Id.apply=u,Id}function AR(){if(LA)return Q0;LA=!0;var e=Gh(),t=oq(),r=t(e("String.prototype.indexOf"));return Q0=function(i,o){var s=e(i,!!o);return typeof s=="function"&&r(i,".prototype.")>-1?t(s):s},Q0}var j0,yA,k0,wA,C0,bA,D0,_A,M0,EA,L0,SA,F0,$A,B0,TA,U0,xA,z0,AA,q0,OA,V0,PA,H0,NA,W0,RA,G0,IA,K0,jA,J0,kA,Y0,CA,X0,DA,Id,MA,Q0,LA,OR=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-DtcTpLWz.js"(){Te(),j0={},yA=!1,k0={},wA=!1,C0={},bA=!1,D0={},_A=!1,M0={},EA=!1,L0={},SA=!1,F0={},$A=!1,B0={},TA=!1,U0={},xA=!1,z0={},AA=!1,q0={},OA=!1,V0={},PA=!1,H0={},NA=!1,W0={},RA=!1,G0={},IA=!1,K0={},jA=!1,J0={},kA=!1,Y0={},CA=!1,X0={},DA=!1,Id={},MA=!1,Q0={},LA=!1}}),dE={};ll(dE,{TextDecoder:()=>kq,TextEncoder:()=>jq,_extend:()=>uq,callbackify:()=>cq,debuglog:()=>fq,default:()=>Wt,deprecate:()=>dq,format:()=>hq,inherits:()=>pq,inspect:()=>mq,isArray:()=>gq,isBoolean:()=>vq,isBuffer:()=>yq,isDate:()=>wq,isError:()=>bq,isFunction:()=>_q,isNull:()=>Eq,isNullOrUndefined:()=>Sq,isNumber:()=>$q,isObject:()=>Tq,isPrimitive:()=>xq,isRegExp:()=>Aq,isString:()=>Oq,isSymbol:()=>Pq,isUndefined:()=>Nq,log:()=>Rq,promisify:()=>Yb,types:()=>Iq});function PR(){if(FA)return Z0;FA=!0;var e=nq();return Z0=function(){return e()&&!!Symbol.toStringTag},Z0}function Ore(){if(BA)return ew;BA=!0;var e=PR()(),t=AR(),r=t("Object.prototype.toString"),n=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&r(a.callee)==="[object Function]"},o=function(){return n(arguments)}();return n.isLegacyArguments=i,ew=o?n:i,ew}function Pre(){if(UA)return tw;UA=!0;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=PR()(),i=Object.getPrototypeOf,o=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},s;return tw=function(l){if(typeof l!="function")return!1;if(r.test(t.call(l)))return!0;if(!n){var u=e.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof s>"u"){var f=o();s=f?i(f):!1}return i(l)===s},tw}function Nre(){if(zA)return rw;zA=!0;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(E){E!==n&&(t=null)}else t=null;var i=/^\s*class\b/,o=function(y){try{var S=e.call(y);return i.test(S)}catch{return!1}},s=function(y){try{return o(y)?!1:(e.call(y),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",u="[object Function]",f="[object GeneratorFunction]",c="[object HTMLAllCollection]",h="[object HTML document.all class]",g="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var p=document.all;a.call(p)===a.call(document.all)&&(v=function(y){if((_||!y)&&(typeof y>"u"||typeof y=="object"))try{var S=a.call(y);return(S===c||S===h||S===g||S===l)&&y("")==null}catch{}return!1})}return rw=t?function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(S){if(S!==n)return!1}return!o(y)&&s(y)}:function(y){if(v(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(m)return s(y);if(o(y))return!1;var S=a.call(y);return S!==u&&S!==f&&!/^\[object HTML/.test(S)?!1:s(y)},rw}function Rre(){if(qA)return nw;qA=!0;var e=Nre(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,u,f){for(var c=0,h=l.length;c<h;c++)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},i=function(l,u,f){for(var c=0,h=l.length;c<h;c++)f==null?u(l.charAt(c),c,l):u.call(f,l.charAt(c),c,l)},o=function(l,u,f){for(var c in l)r.call(l,c)&&(f==null?u(l[c],c,l):u.call(f,l[c],c,l))},s=function(l,u,f){if(!e(u))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=f),t.call(l)==="[object Array]"?n(l,u,c):typeof l=="string"?i(l,u,c):o(l,u,c)};return nw=s,nw}function Ire(){return VA||(VA=!0,iw=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),iw}function jre(){if(HA)return ow;HA=!0;var e=Ire(),t=typeof globalThis>"u"?aq:globalThis;return ow=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},ow}function sq(){if(WA)return sw;WA=!0;var e=Rre(),t=jre(),r=oq(),n=AR(),i=xR(),o=n("Object.prototype.toString"),s=PR()(),a=typeof globalThis>"u"?lq:globalThis,l=t(),u=n("String.prototype.slice"),f=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(v,p){for(var E=0;E<v.length;E+=1)if(v[E]===p)return E;return-1},h={__proto__:null};s&&i&&f?e(l,function(_){var v=new a[_];if(Symbol.toStringTag in v){var p=f(v),E=i(p,Symbol.toStringTag);if(!E){var y=f(p);E=i(y,Symbol.toStringTag)}h["$"+_]=r(E.get)}}):e(l,function(_){var v=new a[_],p=v.slice||v.set;p&&(h["$"+_]=r(p))});var g=function(v){var p=!1;return e(h,function(E,y){if(!p)try{"$"+E(v)===y&&(p=u(y,1))}catch{}}),p},m=function(v){var p=!1;return e(h,function(E,y){if(!p)try{E(v),p=u(y,1)}catch{}}),p};return sw=function(v){if(!v||typeof v!="object")return!1;if(!s){var p=u(o(v),8,-1);return c(l,p)>-1?p:p!=="Object"?!1:m(v)}return i?g(v):null},sw}function kre(){if(GA)return aw;GA=!0;var e=sq();return aw=function(r){return!!e(r)},aw}function Cre(){if(KA)return fr;KA=!0;var e=Ore(),t=Pre(),r=sq(),n=kre();function i(de){return de.call.bind(de)}var o=typeof BigInt<"u",s=typeof Symbol<"u",a=i(Object.prototype.toString),l=i(Number.prototype.valueOf),u=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var c=i(BigInt.prototype.valueOf);if(s)var h=i(Symbol.prototype.valueOf);function g(de,pe){if(typeof de!="object")return!1;try{return pe(de),!0}catch{return!1}}fr.isArgumentsObject=e,fr.isGeneratorFunction=t,fr.isTypedArray=n;function m(de){return typeof Promise<"u"&&de instanceof Promise||de!==null&&typeof de=="object"&&typeof de.then=="function"&&typeof de.catch=="function"}fr.isPromise=m;function _(de){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(de):n(de)||W(de)}fr.isArrayBufferView=_;function v(de){return r(de)==="Uint8Array"}fr.isUint8Array=v;function p(de){return r(de)==="Uint8ClampedArray"}fr.isUint8ClampedArray=p;function E(de){return r(de)==="Uint16Array"}fr.isUint16Array=E;function y(de){return r(de)==="Uint32Array"}fr.isUint32Array=y;function S(de){return r(de)==="Int8Array"}fr.isInt8Array=S;function $(de){return r(de)==="Int16Array"}fr.isInt16Array=$;function T(de){return r(de)==="Int32Array"}fr.isInt32Array=T;function d(de){return r(de)==="Float32Array"}fr.isFloat32Array=d;function x(de){return r(de)==="Float64Array"}fr.isFloat64Array=x;function A(de){return r(de)==="BigInt64Array"}fr.isBigInt64Array=A;function O(de){return r(de)==="BigUint64Array"}fr.isBigUint64Array=O;function C(de){return a(de)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function F(de){return typeof Map>"u"?!1:C.working?C(de):de instanceof Map}fr.isMap=F;function V(de){return a(de)==="[object Set]"}V.working=typeof Set<"u"&&V(new Set);function X(de){return typeof Set>"u"?!1:V.working?V(de):de instanceof Set}fr.isSet=X;function H(de){return a(de)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function Z(de){return typeof WeakMap>"u"?!1:H.working?H(de):de instanceof WeakMap}fr.isWeakMap=Z;function fe(de){return a(de)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function ee(de){return fe(de)}fr.isWeakSet=ee;function ne(de){return a(de)==="[object ArrayBuffer]"}ne.working=typeof ArrayBuffer<"u"&&ne(new ArrayBuffer);function k(de){return typeof ArrayBuffer>"u"?!1:ne.working?ne(de):de instanceof ArrayBuffer}fr.isArrayBuffer=k;function B(de){return a(de)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function W(de){return typeof DataView>"u"?!1:B.working?B(de):de instanceof DataView}fr.isDataView=W;var P=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function R(de){return a(de)==="[object SharedArrayBuffer]"}function z(de){return typeof P>"u"?!1:(typeof R.working>"u"&&(R.working=R(new P)),R.working?R(de):de instanceof P)}fr.isSharedArrayBuffer=z;function oe(de){return a(de)==="[object AsyncFunction]"}fr.isAsyncFunction=oe;function J(de){return a(de)==="[object Map Iterator]"}fr.isMapIterator=J;function Y(de){return a(de)==="[object Set Iterator]"}fr.isSetIterator=Y;function ae(de){return a(de)==="[object Generator]"}fr.isGeneratorObject=ae;function be(de){return a(de)==="[object WebAssembly.Module]"}fr.isWebAssemblyCompiledModule=be;function Ie(de){return g(de,l)}fr.isNumberObject=Ie;function N(de){return g(de,u)}fr.isStringObject=N;function D(de){return g(de,f)}fr.isBooleanObject=D;function M(de){return o&&g(de,c)}fr.isBigIntObject=M;function K(de){return s&&g(de,h)}fr.isSymbolObject=K;function se(de){return Ie(de)||N(de)||D(de)||M(de)||K(de)}fr.isBoxedPrimitive=se;function ce(de){return typeof Uint8Array<"u"&&(k(de)||z(de))}return fr.isAnyArrayBuffer=ce,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(de){Object.defineProperty(fr,de,{enumerable:!1,value:function(){throw new Error(de+" is not supported in userland")}})}),fr}function Dre(){return JA||(JA=!0,lw=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),lw}function Mre(){if(YA)return dr;YA=!0;var e=hi,t=Object.getOwnPropertyDescriptors||function(P){for(var R=Object.keys(P),z={},oe=0;oe<R.length;oe++)z[R[oe]]=Object.getOwnPropertyDescriptor(P,R[oe]);return z},r=/%[sdj%]/g;dr.format=function(W){if(!$(W)){for(var P=[],R=0;R<arguments.length;R++)P.push(s(arguments[R]));return P.join(" ")}for(var R=1,z=arguments,oe=z.length,J=String(W).replace(r,function(ae){if(ae==="%%")return"%";if(R>=oe)return ae;switch(ae){case"%s":return String(z[R++]);case"%d":return Number(z[R++]);case"%j":try{return JSON.stringify(z[R++])}catch{return"[Circular]"}default:return ae}}),Y=z[R];R<oe;Y=z[++R])E(Y)||!A(Y)?J+=" "+Y:J+=" "+s(Y);return J},dr.deprecate=function(W,P){if(typeof e<"u"&&e.noDeprecation===!0)return W;if(typeof e>"u")return function(){return dr.deprecate(W,P).apply(this||jd,arguments)};var R=!1;function z(){if(!R){if(e.throwDeprecation)throw new Error(P);e.traceDeprecation?console.trace(P):console.error(P),R=!0}return W.apply(this||jd,arguments)}return z};var n={},i=/^$/;if(e.env.NODE_DEBUG){var o=e.env.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}dr.debuglog=function(W){if(W=W.toUpperCase(),!n[W])if(i.test(W)){var P=e.pid;n[W]=function(){var R=dr.format.apply(dr,arguments);console.error("%s %d: %s",W,P,R)}}else n[W]=function(){};return n[W]};function s(W,P){var R={seen:[],stylize:l};return arguments.length>=3&&(R.depth=arguments[2]),arguments.length>=4&&(R.colors=arguments[3]),p(P)?R.showHidden=P:P&&dr._extend(R,P),d(R.showHidden)&&(R.showHidden=!1),d(R.depth)&&(R.depth=2),d(R.colors)&&(R.colors=!1),d(R.customInspect)&&(R.customInspect=!0),R.colors&&(R.stylize=a),f(R,W,R.depth)}dr.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(W,P){var R=s.styles[P];return R?"\x1B["+s.colors[R][0]+"m"+W+"\x1B["+s.colors[R][1]+"m":W}function l(W,P){return W}function u(W){var P={};return W.forEach(function(R,z){P[R]=!0}),P}function f(W,P,R){if(W.customInspect&&P&&F(P.inspect)&&P.inspect!==dr.inspect&&!(P.constructor&&P.constructor.prototype===P)){var z=P.inspect(R,W);return $(z)||(z=f(W,z,R)),z}var oe=c(W,P);if(oe)return oe;var J=Object.keys(P),Y=u(J);if(W.showHidden&&(J=Object.getOwnPropertyNames(P)),C(P)&&(J.indexOf("message")>=0||J.indexOf("description")>=0))return h(P);if(J.length===0){if(F(P)){var ae=P.name?": "+P.name:"";return W.stylize("[Function"+ae+"]","special")}if(x(P))return W.stylize(RegExp.prototype.toString.call(P),"regexp");if(O(P))return W.stylize(Date.prototype.toString.call(P),"date");if(C(P))return h(P)}var be="",Ie=!1,N=["{","}"];if(v(P)&&(Ie=!0,N=["[","]"]),F(P)){var D=P.name?": "+P.name:"";be=" [Function"+D+"]"}if(x(P)&&(be=" "+RegExp.prototype.toString.call(P)),O(P)&&(be=" "+Date.prototype.toUTCString.call(P)),C(P)&&(be=" "+h(P)),J.length===0&&(!Ie||P.length==0))return N[0]+be+N[1];if(R<0)return x(P)?W.stylize(RegExp.prototype.toString.call(P),"regexp"):W.stylize("[Object]","special");W.seen.push(P);var M;return Ie?M=g(W,P,R,Y,J):M=J.map(function(K){return m(W,P,R,Y,K,Ie)}),W.seen.pop(),_(M,be,N)}function c(W,P){if(d(P))return W.stylize("undefined","undefined");if($(P)){var R="'"+JSON.stringify(P).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(R,"string")}if(S(P))return W.stylize(""+P,"number");if(p(P))return W.stylize(""+P,"boolean");if(E(P))return W.stylize("null","null")}function h(W){return"["+Error.prototype.toString.call(W)+"]"}function g(W,P,R,z,oe){for(var J=[],Y=0,ae=P.length;Y<ae;++Y)ee(P,String(Y))?J.push(m(W,P,R,z,String(Y),!0)):J.push("");return oe.forEach(function(be){be.match(/^\d+$/)||J.push(m(W,P,R,z,be,!0))}),J}function m(W,P,R,z,oe,J){var Y,ae,be;if(be=Object.getOwnPropertyDescriptor(P,oe)||{value:P[oe]},be.get?be.set?ae=W.stylize("[Getter/Setter]","special"):ae=W.stylize("[Getter]","special"):be.set&&(ae=W.stylize("[Setter]","special")),ee(z,oe)||(Y="["+oe+"]"),ae||(W.seen.indexOf(be.value)<0?(E(R)?ae=f(W,be.value,null):ae=f(W,be.value,R-1),ae.indexOf(`
`)>-1&&(J?ae=ae.split(`
`).map(function(Ie){return"  "+Ie}).join(`
`).slice(2):ae=`
`+ae.split(`
`).map(function(Ie){return"   "+Ie}).join(`
`))):ae=W.stylize("[Circular]","special")),d(Y)){if(J&&oe.match(/^\d+$/))return ae;Y=JSON.stringify(""+oe),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=W.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=W.stylize(Y,"string"))}return Y+": "+ae}function _(W,P,R){var z=W.reduce(function(oe,J){return J.indexOf(`
`)>=0,oe+J.replace(/\u001b\[\d\d?m/g,"").length+1},0);return z>60?R[0]+(P===""?"":P+`
 `)+" "+W.join(`,
  `)+" "+R[1]:R[0]+P+" "+W.join(", ")+" "+R[1]}dr.types=Cre();function v(W){return Array.isArray(W)}dr.isArray=v;function p(W){return typeof W=="boolean"}dr.isBoolean=p;function E(W){return W===null}dr.isNull=E;function y(W){return W==null}dr.isNullOrUndefined=y;function S(W){return typeof W=="number"}dr.isNumber=S;function $(W){return typeof W=="string"}dr.isString=$;function T(W){return typeof W=="symbol"}dr.isSymbol=T;function d(W){return W===void 0}dr.isUndefined=d;function x(W){return A(W)&&X(W)==="[object RegExp]"}dr.isRegExp=x,dr.types.isRegExp=x;function A(W){return typeof W=="object"&&W!==null}dr.isObject=A;function O(W){return A(W)&&X(W)==="[object Date]"}dr.isDate=O,dr.types.isDate=O;function C(W){return A(W)&&(X(W)==="[object Error]"||W instanceof Error)}dr.isError=C,dr.types.isNativeError=C;function F(W){return typeof W=="function"}dr.isFunction=F;function V(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}dr.isPrimitive=V,dr.isBuffer=Dre();function X(W){return Object.prototype.toString.call(W)}function H(W){return W<10?"0"+W.toString(10):W.toString(10)}var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var W=new Date,P=[H(W.getHours()),H(W.getMinutes()),H(W.getSeconds())].join(":");return[W.getDate(),Z[W.getMonth()],P].join(" ")}dr.log=function(){console.log("%s - %s",fe(),dr.format.apply(dr,arguments))},dr.inherits=pc(),dr._extend=function(W,P){if(!P||!A(P))return W;for(var R=Object.keys(P),z=R.length;z--;)W[R[z]]=P[R[z]];return W};function ee(W,P){return Object.prototype.hasOwnProperty.call(W,P)}var ne=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;dr.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(ne&&P[ne]){if(R=P[ne],typeof R!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,ne,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var z,oe,J=new Promise(function(be,Ie){z=be,oe=Ie}),Y=[],ae=0;ae<arguments.length;ae++)Y.push(arguments[ae]);Y.push(function(be,Ie){be?oe(be):z(Ie)});try{P.apply(this||jd,Y)}catch(be){oe(be)}return J}return Object.setPrototypeOf(R,Object.getPrototypeOf(P)),ne&&Object.defineProperty(R,ne,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,t(P))},dr.promisify.custom=ne;function k(W,P){if(!W){var R=new Error("Promise was rejected with a falsy value");R.reason=W,W=R}return P(W)}function B(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function P(){for(var R=[],z=0;z<arguments.length;z++)R.push(arguments[z]);var oe=R.pop();if(typeof oe!="function")throw new TypeError("The last argument must be of type Function");var J=this||jd,Y=function(){return oe.apply(J,arguments)};W.apply(this||jd,R).then(function(ae){e.nextTick(Y.bind(null,null,ae))},function(ae){e.nextTick(k.bind(null,ae,Y))})}return Object.setPrototypeOf(P,Object.getPrototypeOf(W)),Object.defineProperties(P,t(W)),P}return dr.callbackify=B,dr}var Z0,FA,ew,BA,tw,UA,rw,zA,nw,qA,iw,VA,ow,HA,aq,sw,WA,lq,aw,GA,fr,KA,lw,JA,dr,YA,jd,Wt,uq,cq,fq,dq,hq,pq,mq,gq,vq,yq,wq,bq,_q,Eq,Sq,$q,Tq,xq,Aq,Oq,Pq,Nq,Rq,Yb,Iq,jq,kq,hE=on({"../../node_modules/@jspm/core/nodelibs/browser/util.js"(){Te(),OR(),pR(),jg(),Z0={},FA=!1,ew={},BA=!1,tw={},UA=!1,rw={},zA=!1,nw={},qA=!1,iw={},VA=!1,ow={},HA=!1,aq=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,sw={},WA=!1,lq=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,aw={},GA=!1,fr={},KA=!1,lw={},JA=!1,dr={},YA=!1,jd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Wt=Mre(),Wt.format,Wt.deprecate,Wt.debuglog,Wt.inspect,Wt.types,Wt.isArray,Wt.isBoolean,Wt.isNull,Wt.isNullOrUndefined,Wt.isNumber,Wt.isString,Wt.isSymbol,Wt.isUndefined,Wt.isRegExp,Wt.isObject,Wt.isDate,Wt.isError,Wt.isFunction,Wt.isPrimitive,Wt.isBuffer,Wt.log,Wt.inherits,Wt._extend,Wt.promisify,Wt.callbackify,uq=Wt._extend,cq=Wt.callbackify,fq=Wt.debuglog,dq=Wt.deprecate,hq=Wt.format,pq=Wt.inherits,mq=Wt.inspect,gq=Wt.isArray,vq=Wt.isBoolean,yq=Wt.isBuffer,wq=Wt.isDate,bq=Wt.isError,_q=Wt.isFunction,Eq=Wt.isNull,Sq=Wt.isNullOrUndefined,$q=Wt.isNumber,Tq=Wt.isObject,xq=Wt.isPrimitive,Aq=Wt.isRegExp,Oq=Wt.isString,Pq=Wt.isSymbol,Nq=Wt.isUndefined,Rq=Wt.log,Yb=Wt.promisify,Iq=Wt.types,jq=Wt.TextEncoder=globalThis.TextEncoder,kq=Wt.TextDecoder=globalThis.TextDecoder}}),os={};ll(os,{Duplex:()=>zq,PassThrough:()=>Vq,Readable:()=>Ow,Stream:()=>Gq,Transform:()=>qq,Writable:()=>Uq,default:()=>tn,finished:()=>Hq,pipeline:()=>Wq,promises:()=>Kq});function Bn(){return XA||(XA=!0,uw={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array}),uw}function Zm(){if(QA)return kd;QA=!0;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return kd=e,kd.AbortSignal=t,kd.default=e,kd}function so(){if(ZA)return Kp;ZA=!0;const e=jo(),{kResistStopPropagation:t,SymbolDispose:r}=Bn(),n=globalThis.AbortSignal||Zm().AbortSignal,i=globalThis.AbortController||Zm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||e.Blob,a=typeof s<"u"?function(h){return h instanceof s}:function(h){return!1},l=(c,h)=>{if(c!==void 0&&(c===null||typeof c!="object"||!("aborted"in c)))throw new ERR_INVALID_ARG_TYPE(h,"AbortSignal",c)},u=(c,h)=>{if(typeof c!="function")throw new ERR_INVALID_ARG_TYPE(h,"Function",c)};class f extends Error{constructor(h){if(!Array.isArray(h))throw new TypeError(`Expected input to be an Array, got ${typeof h}`);let g="";for(let m=0;m<h.length;m++)g+=`    ${h[m].stack}
`;super(g),this.name="AggregateError",this.errors=h}}return Kp={AggregateError:f,kEmptyObject:Object.freeze({}),once(c){let h=!1;return function(...g){h||(h=!0,c.apply(this,g))}},createDeferredPromise:function(){let c,h;return{promise:new Promise((m,_)=>{c=m,h=_}),resolve:c,reject:h}},promisify(c){return new Promise((h,g)=>{c((m,..._)=>m?g(m):h(..._))})},debuglog(){return function(){}},format(c,...h){return c.replace(/%([sdifj])/g,function(...[g,m]){const _=h.shift();return m==="f"?_.toFixed(6):m==="j"?JSON.stringify(_):m==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(c){switch(typeof c){case"string":if(c.includes("'"))if(c.includes('"')){if(!c.includes("`")&&!c.includes("${"))return`\`${c}\``}else return`"${c}"`;return`'${c}'`;case"number":return isNaN(c)?"NaN":Object.is(c,-0)?String(c):c;case"bigint":return`${String(c)}n`;case"boolean":case"undefined":return String(c);case"object":return"{}"}},types:{isAsyncFunction(c){return c instanceof o},isArrayBufferView(c){return ArrayBuffer.isView(c)}},isBlob:a,deprecate(c,h){return c},addAbortListener:Ha.addAbortListener||function(h,g){if(h===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",h);l(h,"signal"),u(g,"listener");let m;return h.aborted?queueMicrotask(()=>g()):(h.addEventListener("abort",g,{__proto__:null,once:!0,[t]:!0}),m=()=>{h.removeEventListener("abort",g)}),{__proto__:null,[r](){var _;(_=m)===null||_===void 0||_()}}},AbortSignalAny:n.any||function(h){if(h.length===1)return h[0];const g=new i,m=()=>g.abort();return h.forEach(_=>{l(_,"signals"),_.addEventListener("abort",m,{once:!0})}),g.signal.addEventListener("abort",()=>{h.forEach(_=>_.removeEventListener("abort",m))},{once:!0}),g.signal}},Kp.promisify.custom=Symbol.for("nodejs.util.promisify.custom"),Kp}function Co(){if(eO)return cw;eO=!0;const{format:e,inspect:t,AggregateError:r}=so(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",l={};function u(v,p){if(!v)throw new l.ERR_INTERNAL_ASSERTION(p)}function f(v){let p="",E=v.length;const y=v[0]==="-"?1:0;for(;E>=y+4;E-=3)p=`_${v.slice(E-3,E)}${p}`;return`${v.slice(0,E)}${p}`}function c(v,p,E){if(typeof p=="function")return u(p.length<=E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${p.length}).`),p(...E);const y=(p.match(/%[dfijoOs]/g)||[]).length;return u(y===E.length,`Code: ${v}; The provided arguments length (${E.length}) does not match the required ones (${y}).`),E.length===0?p:e(p,...E)}function h(v,p,E){E||(E=Error);class y extends E{constructor(...$){super(c(v,p,$))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=v,y.prototype[i]=!0,l[v]=y}function g(v){const p=a+v.name;return Object.defineProperty(v,"name",{value:p}),v}function m(v,p){if(v&&p&&v!==p){if(Array.isArray(p.errors))return p.errors.push(v),p;const E=new n([p,v],p.message);return E.code=p.code,E}return v||p}class _ extends Error{constructor(p="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",E);super(p,E),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(v,p,E)=>{u(typeof v=="string","'name' must be a string"),Array.isArray(p)||(p=[p]);let y="The ";v.endsWith(" argument")?y+=`${v} `:y+=`"${v}" ${v.includes(".")?"property":"argument"} `,y+="must be ";const S=[],$=[],T=[];for(const x of p)u(typeof x=="string","All expected entries have to be of type string"),o.includes(x)?S.push(x.toLowerCase()):s.test(x)?$.push(x):(u(x!=="object",'The value "object" should be written as "Object"'),T.push(x));if($.length>0){const x=S.indexOf("object");x!==-1&&(S.splice(S,x,1),$.push("Object"))}if(S.length>0){switch(S.length){case 1:y+=`of type ${S[0]}`;break;case 2:y+=`one of type ${S[0]} or ${S[1]}`;break;default:{const x=S.pop();y+=`one of type ${S.join(", ")}, or ${x}`}}($.length>0||T.length>0)&&(y+=" or ")}if($.length>0){switch($.length){case 1:y+=`an instance of ${$[0]}`;break;case 2:y+=`an instance of ${$[0]} or ${$[1]}`;break;default:{const x=$.pop();y+=`an instance of ${$.join(", ")}, or ${x}`}}T.length>0&&(y+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(y+="an "),y+=`${T[0]}`;break;case 2:y+=`one of ${T[0]} or ${T[1]}`;break;default:{const x=T.pop();y+=`one of ${T.join(", ")}, or ${x}`}}if(E==null)y+=`. Received ${E}`;else if(typeof E=="function"&&E.name)y+=`. Received function ${E.name}`;else if(typeof E=="object"){var d;if((d=E.constructor)!==null&&d!==void 0&&d.name)y+=`. Received an instance of ${E.constructor.name}`;else{const x=t(E,{depth:-1});y+=`. Received ${x}`}}else{let x=t(E,{colors:!1});x.length>25&&(x=`${x.slice(0,25)}...`),y+=`. Received type ${typeof E} (${x})`}return y},TypeError),h("ERR_INVALID_ARG_VALUE",(v,p,E="is invalid")=>{let y=t(p);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${E}. Received ${y}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(v,p,E)=>{var y;const S=E!=null&&(y=E.constructor)!==null&&y!==void 0&&y.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${v} to be returned from the "${p}" function but got ${S}.`},TypeError),h("ERR_MISSING_ARGS",(...v)=>{u(v.length>0,"At least one arg needs to be specified");let p;const E=v.length;switch(v=(Array.isArray(v)?v:[v]).map(y=>`"${y}"`).join(" or "),E){case 1:p+=`The ${v[0]} argument`;break;case 2:p+=`The ${v[0]} and ${v[1]} arguments`;break;default:{const y=v.pop();p+=`The ${v.join(", ")}, and ${y} arguments`}break}return`${p} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(v,p,E)=>{u(p,'Missing "range" argument');let y;return Number.isInteger(E)&&Math.abs(E)>2**32?y=f(String(E)):typeof E=="bigint"?(y=String(E),(E>2n**32n||E<-(2n**32n))&&(y=f(y)),y+="n"):y=t(E),`The value of "${v}" is out of range. It must be ${p}. Received ${y}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),cw={AbortError:_,aggregateTwoErrors:g(m),hideStackFrames:g,codes:l},cw}function Dg(){if(tO)return fw;tO=!0;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:f,String:c,StringPrototypeToUpperCase:h,StringPrototypeTrim:g}=Bn(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:p,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:y}}=Co(),{normalizeEncoding:S}=so(),{isAsyncFunction:$,isArrayBufferView:T}=so().types,d={};function x(pe){return pe===(pe|0)}function A(pe){return pe===pe>>>0}const O=/^[0-7]+$/,C="must be a 32-bit unsigned integer or an octal string";function F(pe,Ae,Le){if(typeof pe>"u"&&(pe=Le),typeof pe=="string"){if(f(O,pe)===null)throw new p(Ae,pe,C);pe=l(pe,8)}return H(pe,Ae),pe}const V=m((pe,Ae,Le=a,Ce=s)=>{if(typeof pe!="number")throw new v(Ae,"number",pe);if(!i(pe))throw new E(Ae,"an integer",pe);if(pe<Le||pe>Ce)throw new E(Ae,`>= ${Le} && <= ${Ce}`,pe)}),X=m((pe,Ae,Le=-2147483648,Ce=2147483647)=>{if(typeof pe!="number")throw new v(Ae,"number",pe);if(!i(pe))throw new E(Ae,"an integer",pe);if(pe<Le||pe>Ce)throw new E(Ae,`>= ${Le} && <= ${Ce}`,pe)}),H=m((pe,Ae,Le=!1)=>{if(typeof pe!="number")throw new v(Ae,"number",pe);if(!i(pe))throw new E(Ae,"an integer",pe);const Ce=Le?1:0,rt=4294967295;if(pe<Ce||pe>rt)throw new E(Ae,`>= ${Ce} && <= ${rt}`,pe)});function Z(pe,Ae){if(typeof pe!="string")throw new v(Ae,"string",pe)}function fe(pe,Ae,Le=void 0,Ce){if(typeof pe!="number")throw new v(Ae,"number",pe);if(Le!=null&&pe<Le||Ce!=null&&pe>Ce||(Le!=null||Ce!=null)&&o(pe))throw new E(Ae,`${Le!=null?`>= ${Le}`:""}${Le!=null&&Ce!=null?" && ":""}${Ce!=null?`<= ${Ce}`:""}`,pe)}const ee=m((pe,Ae,Le)=>{if(!t(Le,pe)){const rt="must be one of: "+r(n(Le,qe=>typeof qe=="string"?`'${qe}'`:c(qe)),", ");throw new p(Ae,pe,rt)}});function ne(pe,Ae){if(typeof pe!="boolean")throw new v(Ae,"boolean",pe)}function k(pe,Ae,Le){return pe==null||!u(pe,Ae)?Le:pe[Ae]}const B=m((pe,Ae,Le=null)=>{const Ce=k(Le,"allowArray",!1),rt=k(Le,"allowFunction",!1);if(!k(Le,"nullable",!1)&&pe===null||!Ce&&e(pe)||typeof pe!="object"&&(!rt||typeof pe!="function"))throw new v(Ae,"Object",pe)}),W=m((pe,Ae)=>{if(pe!=null&&typeof pe!="object"&&typeof pe!="function")throw new v(Ae,"a dictionary",pe)}),P=m((pe,Ae,Le=0)=>{if(!e(pe))throw new v(Ae,"Array",pe);if(pe.length<Le){const Ce=`must be longer than ${Le}`;throw new p(Ae,pe,Ce)}});function R(pe,Ae){P(pe,Ae);for(let Le=0;Le<pe.length;Le++)Z(pe[Le],`${Ae}[${Le}]`)}function z(pe,Ae){P(pe,Ae);for(let Le=0;Le<pe.length;Le++)ne(pe[Le],`${Ae}[${Le}]`)}function oe(pe,Ae){P(pe,Ae);for(let Le=0;Le<pe.length;Le++){const Ce=pe[Le],rt=`${Ae}[${Le}]`;if(Ce==null)throw new v(rt,"AbortSignal",Ce);Ie(Ce,rt)}}function J(pe,Ae="signal"){if(Z(pe,Ae),d[pe]===void 0)throw d[h(pe)]!==void 0?new y(pe+" (signals must use all capital letters)"):new y(pe)}const Y=m((pe,Ae="buffer")=>{if(!T(pe))throw new v(Ae,["Buffer","TypedArray","DataView"],pe)});function ae(pe,Ae){const Le=S(Ae),Ce=pe.length;if(Le==="hex"&&Ce%2!==0)throw new p("encoding",Ae,`is invalid for data of length ${Ce}`)}function be(pe,Ae="Port",Le=!0){if(typeof pe!="number"&&typeof pe!="string"||typeof pe=="string"&&g(pe).length===0||+pe!==+pe>>>0||pe>65535||pe===0&&!Le)throw new _(Ae,pe,Le);return pe|0}const Ie=m((pe,Ae)=>{if(pe!==void 0&&(pe===null||typeof pe!="object"||!("aborted"in pe)))throw new v(Ae,"AbortSignal",pe)}),N=m((pe,Ae)=>{if(typeof pe!="function")throw new v(Ae,"Function",pe)}),D=m((pe,Ae)=>{if(typeof pe!="function"||$(pe))throw new v(Ae,"Function",pe)}),M=m((pe,Ae)=>{if(pe!==void 0)throw new v(Ae,"undefined",pe)});function K(pe,Ae,Le){if(!t(Le,pe))throw new v(Ae,`('${r(Le,"|")}')`,pe)}const se=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ce(pe,Ae){if(typeof pe>"u"||!f(se,pe))throw new p(Ae,pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function de(pe){if(typeof pe=="string")return ce(pe,"hints"),pe;if(e(pe)){const Ae=pe.length;let Le="";if(Ae===0)return Le;for(let Ce=0;Ce<Ae;Ce++){const rt=pe[Ce];ce(rt,"hints"),Le+=rt,Ce!==Ae-1&&(Le+=", ")}return Le}throw new p("hints",pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return fw={isInt32:x,isUint32:A,parseFileMode:F,validateArray:P,validateStringArray:R,validateBooleanArray:z,validateAbortSignalArray:oe,validateBoolean:ne,validateBuffer:Y,validateDictionary:W,validateEncoding:ae,validateFunction:N,validateInt32:X,validateInteger:V,validateNumber:fe,validateObject:B,validateOneOf:ee,validatePlainFunction:D,validatePort:be,validateSignalName:J,validateString:Z,validateUint32:H,validateUndefined:M,validateUnion:K,validateAbortSignal:Ie,validateLinkHeaderValue:de},fw}function Yl(){if(rO)return dw;rO=!0;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Bn(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),o=r("nodejs.stream.readable"),s=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function f(k,B=!1){var W;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!B||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((W=k._readableState)===null||W===void 0?void 0:W.readable)!==!1)&&(!k._writableState||k._readableState))}function c(k){var B;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((B=k._writableState)===null||B===void 0?void 0:B.writable)!==!1))}function h(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function g(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function m(k){return!!(k&&!g(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function _(k){return!!(k&&!g(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function v(k){return!!(k&&!g(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function p(k){return m(k)||_(k)||v(k)}function E(k,B){return k==null?!1:B===!0?typeof k[e]=="function":B===!1?typeof k[t]=="function":typeof k[e]=="function"||typeof k[t]=="function"}function y(k){if(!g(k))return null;const B=k._writableState,W=k._readableState,P=B||W;return!!(k.destroyed||k[n]||P!=null&&P.destroyed)}function S(k){if(!c(k))return null;if(k.writableEnded===!0)return!0;const B=k._writableState;return B!=null&&B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function $(k,B){if(!c(k))return null;if(k.writableFinished===!0)return!0;const W=k._writableState;return W!=null&&W.errored?!1:typeof(W==null?void 0:W.finished)!="boolean"?null:!!(W.finished||B===!1&&W.ended===!0&&W.length===0)}function T(k){if(!f(k))return null;if(k.readableEnded===!0)return!0;const B=k._readableState;return!B||B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function d(k,B){if(!f(k))return null;const W=k._readableState;return W!=null&&W.errored?!1:typeof(W==null?void 0:W.endEmitted)!="boolean"?null:!!(W.endEmitted||B===!1&&W.ended===!0&&W.length===0)}function x(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.readable)!="boolean"?null:y(k)?!1:f(k)&&k.readable&&!d(k)}function A(k){return k&&k[s]!=null?k[s]:typeof(k==null?void 0:k.writable)!="boolean"?null:y(k)?!1:c(k)&&k.writable&&!S(k)}function O(k,B){return g(k)?y(k)?!0:!((B==null?void 0:B.readable)!==!1&&x(k)||(B==null?void 0:B.writable)!==!1&&A(k)):null}function C(k){var B,W;return g(k)?k.writableErrored?k.writableErrored:(B=(W=k._writableState)===null||W===void 0?void 0:W.errored)!==null&&B!==void 0?B:null:null}function F(k){var B,W;return g(k)?k.readableErrored?k.readableErrored:(B=(W=k._readableState)===null||W===void 0?void 0:W.errored)!==null&&B!==void 0?B:null:null}function V(k){if(!g(k))return null;if(typeof k.closed=="boolean")return k.closed;const B=k._writableState,W=k._readableState;return typeof(B==null?void 0:B.closed)=="boolean"||typeof(W==null?void 0:W.closed)=="boolean"?(B==null?void 0:B.closed)||(W==null?void 0:W.closed):typeof k._closed=="boolean"&&X(k)?k._closed:null}function X(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function H(k){return typeof k._sent100=="boolean"&&X(k)}function Z(k){var B;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((B=k.req)===null||B===void 0?void 0:B.upgradeOrConnect)===void 0}function fe(k){if(!g(k))return null;const B=k._writableState,W=k._readableState,P=B||W;return!P&&H(k)||!!(P&&P.autoDestroy&&P.emitClose&&P.closed===!1)}function ee(k){var B;return!!(k&&((B=k[a])!==null&&B!==void 0?B:k.readableDidRead||k.readableAborted))}function ne(k){var B,W,P,R,z,oe,J,Y,ae,be;return!!(k&&((B=(W=(P=(R=(z=(oe=k[i])!==null&&oe!==void 0?oe:k.readableErrored)!==null&&z!==void 0?z:k.writableErrored)!==null&&R!==void 0?R:(J=k._readableState)===null||J===void 0?void 0:J.errorEmitted)!==null&&P!==void 0?P:(Y=k._writableState)===null||Y===void 0?void 0:Y.errorEmitted)!==null&&W!==void 0?W:(ae=k._readableState)===null||ae===void 0?void 0:ae.errored)!==null&&B!==void 0?B:!((be=k._writableState)===null||be===void 0)&&be.errored))}return dw={isDestroyed:y,kIsDestroyed:n,isDisturbed:ee,kIsDisturbed:a,isErrored:ne,kIsErrored:i,isReadable:x,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:s,isClosed:V,isDuplexNodeStream:h,isFinished:O,isIterable:E,isReadableNodeStream:f,isReadableStream:m,isReadableEnded:T,isReadableFinished:d,isReadableErrored:F,isNodeStream:g,isWebStream:p,isWritable:A,isWritableNodeStream:c,isWritableStream:_,isWritableEnded:S,isWritableFinished:$,isWritableErrored:C,isServerRequest:Z,isServerResponse:H,willEmitClose:fe,isTransformStream:v},dw}function mc(){if(nO)return Jp;nO=!0;const e=hi,{AbortError:t,codes:r}=Co(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:o,once:s}=so(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:f}=Dg(),{Promise:c,PromisePrototypeThen:h,SymbolDispose:g}=Bn(),{isClosed:m,isReadable:_,isReadableNodeStream:v,isReadableStream:p,isReadableFinished:E,isReadableErrored:y,isWritable:S,isWritableNodeStream:$,isWritableStream:T,isWritableFinished:d,isWritableErrored:x,isNodeStream:A,willEmitClose:O,kIsClosedPromise:C}=Yl();let F;function V(ee){return ee.setHeader&&typeof ee.abort=="function"}const X=()=>{};function H(ee,ne,k){var B,W;if(arguments.length===2?(k=ne,ne=o):ne==null?ne=o:u(ne,"options"),l(k,"callback"),a(ne.signal,"options.signal"),k=s(k),p(ee)||T(ee))return Z(ee,ne,k);if(!A(ee))throw new n("stream",["ReadableStream","WritableStream","Stream"],ee);const P=(B=ne.readable)!==null&&B!==void 0?B:v(ee),R=(W=ne.writable)!==null&&W!==void 0?W:$(ee),z=ee._writableState,oe=ee._readableState,J=()=>{ee.writable||be()};let Y=O(ee)&&v(ee)===P&&$(ee)===R,ae=d(ee,!1);const be=()=>{ae=!0,ee.destroyed&&(Y=!1),!(Y&&(!ee.readable||P))&&(!P||Ie)&&k.call(ee)};let Ie=E(ee,!1);const N=()=>{Ie=!0,ee.destroyed&&(Y=!1),!(Y&&(!ee.writable||R))&&(!R||ae)&&k.call(ee)},D=pe=>{k.call(ee,pe)};let M=m(ee);const K=()=>{M=!0;const pe=x(ee)||y(ee);if(pe&&typeof pe!="boolean")return k.call(ee,pe);if(P&&!Ie&&v(ee,!0)&&!E(ee,!1))return k.call(ee,new i);if(R&&!ae&&!d(ee,!1))return k.call(ee,new i);k.call(ee)},se=()=>{M=!0;const pe=x(ee)||y(ee);if(pe&&typeof pe!="boolean")return k.call(ee,pe);k.call(ee)},ce=()=>{ee.req.on("finish",be)};V(ee)?(ee.on("complete",be),Y||ee.on("abort",K),ee.req?ce():ee.on("request",ce)):R&&!z&&(ee.on("end",J),ee.on("close",J)),!Y&&typeof ee.aborted=="boolean"&&ee.on("aborted",K),ee.on("end",N),ee.on("finish",be),ne.error!==!1&&ee.on("error",D),ee.on("close",K),M?e.nextTick(K):z!=null&&z.errorEmitted||oe!=null&&oe.errorEmitted?Y||e.nextTick(se):(!P&&(!Y||_(ee))&&(ae||S(ee)===!1)||!R&&(!Y||S(ee))&&(Ie||_(ee)===!1)||oe&&ee.req&&ee.aborted)&&e.nextTick(se);const de=()=>{k=X,ee.removeListener("aborted",K),ee.removeListener("complete",be),ee.removeListener("abort",K),ee.removeListener("request",ce),ee.req&&ee.req.removeListener("finish",be),ee.removeListener("end",J),ee.removeListener("close",J),ee.removeListener("finish",be),ee.removeListener("end",N),ee.removeListener("error",D),ee.removeListener("close",K)};if(ne.signal&&!M){const pe=()=>{const Ae=k;de(),Ae.call(ee,new t(void 0,{cause:ne.signal.reason}))};if(ne.signal.aborted)e.nextTick(pe);else{F=F||so().addAbortListener;const Ae=F(ne.signal,pe),Le=k;k=s((...Ce)=>{Ae[g](),Le.apply(ee,Ce)})}}return de}function Z(ee,ne,k){let B=!1,W=X;if(ne.signal)if(W=()=>{B=!0,k.call(ee,new t(void 0,{cause:ne.signal.reason}))},ne.signal.aborted)e.nextTick(W);else{F=F||so().addAbortListener;const R=F(ne.signal,W),z=k;k=s((...oe)=>{R[g](),z.apply(ee,oe)})}const P=(...R)=>{B||e.nextTick(()=>k.apply(ee,R))};return h(ee[C].promise,P,P),X}function fe(ee,ne){var k;let B=!1;return ne===null&&(ne=o),(k=ne)!==null&&k!==void 0&&k.cleanup&&(f(ne.cleanup,"cleanup"),B=ne.cleanup),new c((W,P)=>{const R=H(ee,ne,z=>{B&&R(),z?P(z):W()})})}return Jp=H,Jp.finished=fe,Jp}function Kh(){if(iO)return hw;iO=!0;const e=hi,{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=Co(),{Symbol:i}=Bn(),{kIsDestroyed:o,isDestroyed:s,isFinished:a,isServerRequest:l}=Yl(),u=i("kDestroy"),f=i("kConstruct");function c(O,C,F){O&&(O.stack,C&&!C.errored&&(C.errored=O),F&&!F.errored&&(F.errored=O))}function h(O,C){const F=this._readableState,V=this._writableState,X=V||F;return V!=null&&V.destroyed||F!=null&&F.destroyed?(typeof C=="function"&&C(),this):(c(O,V,F),V&&(V.destroyed=!0),F&&(F.destroyed=!0),X.constructed?g(this,O,C):this.once(u,function(H){g(this,t(H,O),C)}),this)}function g(O,C,F){let V=!1;function X(H){if(V)return;V=!0;const Z=O._readableState,fe=O._writableState;c(H,fe,Z),fe&&(fe.closed=!0),Z&&(Z.closed=!0),typeof F=="function"&&F(H),H?e.nextTick(m,O,H):e.nextTick(_,O)}try{O._destroy(C||null,X)}catch(H){X(H)}}function m(O,C){v(O,C),_(O)}function _(O){const C=O._readableState,F=O._writableState;F&&(F.closeEmitted=!0),C&&(C.closeEmitted=!0),(F!=null&&F.emitClose||C!=null&&C.emitClose)&&O.emit("close")}function v(O,C){const F=O._readableState,V=O._writableState;V!=null&&V.errorEmitted||F!=null&&F.errorEmitted||(V&&(V.errorEmitted=!0),F&&(F.errorEmitted=!0),O.emit("error",C))}function p(){const O=this._readableState,C=this._writableState;O&&(O.constructed=!0,O.closed=!1,O.closeEmitted=!1,O.destroyed=!1,O.errored=null,O.errorEmitted=!1,O.reading=!1,O.ended=O.readable===!1,O.endEmitted=O.readable===!1),C&&(C.constructed=!0,C.destroyed=!1,C.closed=!1,C.closeEmitted=!1,C.errored=null,C.errorEmitted=!1,C.finalCalled=!1,C.prefinished=!1,C.ended=C.writable===!1,C.ending=C.writable===!1,C.finished=C.writable===!1)}function E(O,C,F){const V=O._readableState,X=O._writableState;if(X!=null&&X.destroyed||V!=null&&V.destroyed)return this;V!=null&&V.autoDestroy||X!=null&&X.autoDestroy?O.destroy(C):C&&(C.stack,X&&!X.errored&&(X.errored=C),V&&!V.errored&&(V.errored=C),F?e.nextTick(v,O,C):v(O,C))}function y(O,C){if(typeof O._construct!="function")return;const F=O._readableState,V=O._writableState;F&&(F.constructed=!1),V&&(V.constructed=!1),O.once(f,C),!(O.listenerCount(f)>1)&&e.nextTick(S,O)}function S(O){let C=!1;function F(V){if(C){E(O,V??new r);return}C=!0;const X=O._readableState,H=O._writableState,Z=H||X;X&&(X.constructed=!0),H&&(H.constructed=!0),Z.destroyed?O.emit(u,V):V?E(O,V,!0):e.nextTick($,O)}try{O._construct(V=>{e.nextTick(F,V)})}catch(V){e.nextTick(F,V)}}function $(O){O.emit(f)}function T(O){return(O==null?void 0:O.setHeader)&&typeof O.abort=="function"}function d(O){O.emit("close")}function x(O,C){O.emit("error",C),e.nextTick(d,O)}function A(O,C){!O||s(O)||(!C&&!a(O)&&(C=new n),l(O)?(O.socket=null,O.destroy(C)):T(O)?O.abort():T(O.req)?O.req.abort():typeof O.destroy=="function"?O.destroy(C):typeof O.close=="function"?O.close():C?e.nextTick(x,O,C):e.nextTick(d,O),O.destroyed||(O[o]=!0))}return hw={construct:y,destroyer:A,destroy:h,undestroy:p,errorOrDestroy:E},hw}function NR(){if(oO)return pw;oO=!0;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Bn(),{EventEmitter:r}=Ha;function n(o){r.call(this,o)}t(n.prototype,r.prototype),t(n,r),n.prototype.pipe=function(o,s){const a=this;function l(_){o.writable&&o.write(_)===!1&&a.pause&&a.pause()}a.on("data",l);function u(){a.readable&&a.resume&&a.resume()}o.on("drain",u),!o._isStdio&&(!s||s.end!==!1)&&(a.on("end",c),a.on("close",h));let f=!1;function c(){f||(f=!0,o.end())}function h(){f||(f=!0,typeof o.destroy=="function"&&o.destroy())}function g(_){m(),r.listenerCount(this,"error")===0&&this.emit("error",_)}i(a,"error",g),i(o,"error",g);function m(){a.removeListener("data",l),o.removeListener("drain",u),a.removeListener("end",c),a.removeListener("close",h),a.removeListener("error",g),o.removeListener("error",g),a.removeListener("end",m),a.removeListener("close",m),o.removeListener("close",m)}return a.on("end",m),a.on("close",m),o.on("close",m),o.emit("pipe",a),o};function i(o,s,a){if(typeof o.prependListener=="function")return o.prependListener(s,a);!o._events||!o._events[s]?o.on(s,a):e(o._events[s])?o._events[s].unshift(a):o._events[s]=[a,o._events[s]]}return pw={Stream:n,prependListener:i},pw}function pE(){if(sO)return Cd;sO=!0;const{SymbolDispose:e}=Bn(),{AbortError:t,codes:r}=Co(),{isNodeStream:n,isWebStream:i,kControllerErrorFunction:o}=Yl(),s=mc(),{ERR_INVALID_ARG_TYPE:a}=r;let l;const u=(f,c)=>{if(typeof f!="object"||!("aborted"in f))throw new a(c,"AbortSignal",f)};return Cd.addAbortSignal=function(c,h){if(u(c,"signal"),!n(h)&&!i(h))throw new a("stream",["ReadableStream","WritableStream","Stream"],h);return Cd.addAbortSignalNoValidate(c,h)},Cd.addAbortSignalNoValidate=function(f,c){if(typeof f!="object"||!("aborted"in f))return c;const h=n(c)?()=>{c.destroy(new t(void 0,{cause:f.reason}))}:()=>{c[o](new t(void 0,{cause:f.reason}))};if(f.aborted)h();else{l=l||so().addAbortListener;const g=l(f,h);s(c,g[e])}return c},Cd}function Lre(){if(aO)return mw;aO=!0;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:n}=Bn(),{Buffer:i}=jo(),{inspect:o}=so();return mw=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const l={data:a,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(a){const l={data:a,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let l=this.head,u=""+l.data;for(;(l=l.next)!==null;)u+=a+l.data;return u}concat(a){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(a>>>0);let u=this.head,f=0;for(;u;)r(l,u.data,f),f+=u.data.length,u=u.next;return l}consume(a,l){const u=this.head.data;if(a<u.length){const f=u.slice(0,a);return this.head.data=u.slice(a),f}return a===u.length?this.shift():l?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[t](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let l="",u=this.head,f=0;do{const c=u.data;if(a>c.length)l+=c,a-=c.length;else{a===c.length?(l+=c,++f,u.next?this.head=u.next:this.head=this.tail=null):(l+=e(c,0,a),this.head=u,u.data=e(c,a));break}++f}while((u=u.next)!==null);return this.length-=f,l}_getBuffer(a){const l=i.allocUnsafe(a),u=a;let f=this.head,c=0;do{const h=f.data;if(a>h.length)r(l,h,u-a),a-=h.length;else{a===h.length?(r(l,h,u-a),++c,f.next?this.head=f.next:this.head=this.tail=null):(r(l,new n(h.buffer,h.byteOffset,a),u-a),this.head=f,f.data=h.slice(a));break}++c}while((f=f.next)!==null);return this.length-=c,l}[Symbol.for("nodejs.util.inspect.custom")](a,l){return o(this,{...l,depth:0,customInspect:!1})}},mw}function mE(){if(lO)return gw;lO=!0;const{MathFloor:e,NumberIsInteger:t}=Bn(),{validateInteger:r}=Dg(),{ERR_INVALID_ARG_VALUE:n}=Co().codes;let i=16*1024,o=16;function s(f,c,h){return f.highWaterMark!=null?f.highWaterMark:c?f[h]:null}function a(f){return f?o:i}function l(f,c){r(c,"value",0),f?o=c:i=c}function u(f,c,h,g){const m=s(c,g,h);if(m!=null){if(!t(m)||m<0){const _=g?`options.${h}`:"options.highWaterMark";throw new n(_,m)}return e(m)}return a(f.objectMode)}return gw={getHighWaterMark:u,getDefaultHighWaterMark:a,setDefaultHighWaterMark:l},gw}function Cq(){if(uO)return vw;uO=!0;const e=hi,{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:n}=Bn(),{Buffer:i}=jo(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=Co().codes;function a(l,u,f){let c;if(typeof u=="string"||u instanceof i)return new l({objectMode:!0,...f,read(){this.push(u),this.push(null)}});let h;if(u&&u[r])h=!0,c=u[r]();else if(u&&u[n])h=!1,c=u[n]();else throw new o("iterable",["Iterable"],u);const g=new l({objectMode:!0,highWaterMark:1,...f});let m=!1;g._read=function(){m||(m=!0,v())},g._destroy=function(p,E){t(_(p),()=>e.nextTick(E,p),y=>e.nextTick(E,y||p))};async function _(p){const E=p!=null,y=typeof c.throw=="function";if(E&&y){const{value:S,done:$}=await c.throw(p);if(await S,$)return}if(typeof c.return=="function"){const{value:S}=await c.return();await S}}async function v(){for(;;){try{const{value:p,done:E}=h?await c.next():c.next();if(E)g.push(null);else{const y=p&&typeof p.then=="function"?await p:p;if(y===null)throw m=!1,new s;if(g.push(y))continue;m=!1}}catch(p){g.destroy(p)}break}}return g}return vw=a,vw}function gE(){if(cO)return yw;cO=!0;const e=hi,{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:l,SafeSet:u,SymbolAsyncDispose:f,SymbolAsyncIterator:c,Symbol:h}=Bn();yw=Ce,Ce.ReadableState=Le;const{EventEmitter:g}=Ha,{Stream:m,prependListener:_}=NR(),{Buffer:v}=jo(),{addAbortSignal:p}=pE(),E=mc();let y=so().debuglog("stream",Ee=>{y=Ee});const S=Lre(),$=Kh(),{getHighWaterMark:T,getDefaultHighWaterMark:d}=mE(),{aggregateTwoErrors:x,codes:{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:X}=Co(),{validateObject:H}=Dg(),Z=h("kPaused"),{StringDecoder:fe}=fh,ee=Cq();a(Ce.prototype,m.prototype),a(Ce,m);const ne=()=>{},{errorOrDestroy:k}=$,B=1,W=2,P=4,R=8,z=16,oe=32,J=64,Y=128,ae=256,be=512,Ie=1024,N=2048,D=4096,M=8192,K=16384,se=32768,ce=65536,de=1<<17,pe=1<<18;function Ae(Ee){return{enumerable:!1,get(){return((this||ft).state&Ee)!==0},set(Pe){Pe?(this||ft).state|=Ee:(this||ft).state&=~Ee}}}o(Le.prototype,{objectMode:Ae(B),ended:Ae(W),endEmitted:Ae(P),reading:Ae(R),constructed:Ae(z),sync:Ae(oe),needReadable:Ae(J),emittedReadable:Ae(Y),readableListening:Ae(ae),resumeScheduled:Ae(be),errorEmitted:Ae(Ie),emitClose:Ae(N),autoDestroy:Ae(D),destroyed:Ae(M),closed:Ae(K),closeEmitted:Ae(se),multiAwaitDrain:Ae(ce),readingMore:Ae(de),dataEmitted:Ae(pe)});function Le(Ee,Pe,ct){typeof ct!="boolean"&&(ct=Pe instanceof zl()),(this||ft).state=N|D|z|oe,Ee&&Ee.objectMode&&((this||ft).state|=B),ct&&Ee&&Ee.readableObjectMode&&((this||ft).state|=B),(this||ft).highWaterMark=Ee?T(this||ft,Ee,"readableHighWaterMark",ct):d(!1),(this||ft).buffer=new S,(this||ft).length=0,(this||ft).pipes=[],(this||ft).flowing=null,(this||ft)[Z]=null,Ee&&Ee.emitClose===!1&&((this||ft).state&=~N),Ee&&Ee.autoDestroy===!1&&((this||ft).state&=~D),(this||ft).errored=null,(this||ft).defaultEncoding=Ee&&Ee.defaultEncoding||"utf8",(this||ft).awaitDrainWriters=null,(this||ft).decoder=null,(this||ft).encoding=null,Ee&&Ee.encoding&&((this||ft).decoder=new fe(Ee.encoding),(this||ft).encoding=Ee.encoding)}function Ce(Ee){if(!((this||ft)instanceof Ce))return new Ce(Ee);const Pe=(this||ft)instanceof zl();(this||ft)._readableState=new Le(Ee,this||ft,Pe),Ee&&(typeof Ee.read=="function"&&((this||ft)._read=Ee.read),typeof Ee.destroy=="function"&&((this||ft)._destroy=Ee.destroy),typeof Ee.construct=="function"&&((this||ft)._construct=Ee.construct),Ee.signal&&!Pe&&p(Ee.signal,this||ft)),m.call(this||ft,Ee),$.construct(this||ft,()=>{(this||ft)._readableState.needReadable&&Se(this||ft,(this||ft)._readableState)})}Ce.prototype.destroy=$.destroy,Ce.prototype._undestroy=$.undestroy,Ce.prototype._destroy=function(Ee,Pe){Pe(Ee)},Ce.prototype[g.captureRejectionSymbol]=function(Ee){this.destroy(Ee)},Ce.prototype[f]=function(){let Ee;return(this||ft).destroyed||(Ee=(this||ft).readableEnded?null:new X,this.destroy(Ee)),new l((Pe,ct)=>E(this||ft,ht=>ht&&ht!==Ee?ct(ht):Pe(null)))},Ce.prototype.push=function(Ee,Pe){return rt(this||ft,Ee,Pe,!1)},Ce.prototype.unshift=function(Ee,Pe){return rt(this||ft,Ee,Pe,!0)};function rt(Ee,Pe,ct,ht){y("readableAddChunk",Pe);const et=Ee._readableState;let At;if(et.state&B||(typeof Pe=="string"?(ct=ct||et.defaultEncoding,et.encoding!==ct&&(ht&&et.encoding?Pe=v.from(Pe,ct).toString(et.encoding):(Pe=v.from(Pe,ct),ct=""))):Pe instanceof v?ct="":m._isUint8Array(Pe)?(Pe=m._uint8ArrayToBuffer(Pe),ct=""):Pe!=null&&(At=new A("chunk",["string","Buffer","Uint8Array"],Pe))),At)k(Ee,At);else if(Pe===null)et.state&=~R,L(Ee,et);else if(et.state&B||Pe&&Pe.length>0)if(ht)if(et.state&P)k(Ee,new V);else{if(et.destroyed||et.errored)return!1;qe(Ee,et,Pe,!0)}else if(et.ended)k(Ee,new F);else{if(et.destroyed||et.errored)return!1;et.state&=~R,et.decoder&&!ct?(Pe=et.decoder.write(Pe),et.objectMode||Pe.length!==0?qe(Ee,et,Pe,!1):Se(Ee,et)):qe(Ee,et,Pe,!1)}else ht||(et.state&=~R,Se(Ee,et));return!et.ended&&(et.length<et.highWaterMark||et.length===0)}function qe(Ee,Pe,ct,ht){Pe.flowing&&Pe.length===0&&!Pe.sync&&Ee.listenerCount("data")>0?(Pe.state&ce?Pe.awaitDrainWriters.clear():Pe.awaitDrainWriters=null,Pe.dataEmitted=!0,Ee.emit("data",ct)):(Pe.length+=Pe.objectMode?1:ct.length,ht?Pe.buffer.unshift(ct):Pe.buffer.push(ct),Pe.state&J&&ie(Ee)),Se(Ee,Pe)}Ce.prototype.isPaused=function(){const Ee=(this||ft)._readableState;return Ee[Z]===!0||Ee.flowing===!1},Ce.prototype.setEncoding=function(Ee){const Pe=new fe(Ee);(this||ft)._readableState.decoder=Pe,(this||ft)._readableState.encoding=(this||ft)._readableState.decoder.encoding;const ct=(this||ft)._readableState.buffer;let ht="";for(const et of ct)ht+=Pe.write(et);return ct.clear(),ht!==""&&ct.push(ht),(this||ft)._readableState.length=ht.length,this||ft};const Ue=1073741824;function G(Ee){if(Ee>Ue)throw new C("size","<= 1GiB",Ee);return Ee--,Ee|=Ee>>>1,Ee|=Ee>>>2,Ee|=Ee>>>4,Ee|=Ee>>>8,Ee|=Ee>>>16,Ee++,Ee}function I(Ee,Pe){return Ee<=0||Pe.length===0&&Pe.ended?0:Pe.state&B?1:n(Ee)?Pe.flowing&&Pe.length?Pe.buffer.first().length:Pe.length:Ee<=Pe.length?Ee:Pe.ended?Pe.length:0}Ce.prototype.read=function(Ee){y("read",Ee),Ee===void 0?Ee=NaN:r(Ee)||(Ee=i(Ee,10));const Pe=(this||ft)._readableState,ct=Ee;if(Ee>Pe.highWaterMark&&(Pe.highWaterMark=G(Ee)),Ee!==0&&(Pe.state&=~Y),Ee===0&&Pe.needReadable&&((Pe.highWaterMark!==0?Pe.length>=Pe.highWaterMark:Pe.length>0)||Pe.ended))return y("read: emitReadable",Pe.length,Pe.ended),Pe.length===0&&Pe.ended?ur(this||ft):ie(this||ft),null;if(Ee=I(Ee,Pe),Ee===0&&Pe.ended)return Pe.length===0&&ur(this||ft),null;let ht=(Pe.state&J)!==0;if(y("need readable",ht),(Pe.length===0||Pe.length-Ee<Pe.highWaterMark)&&(ht=!0,y("length less than watermark",ht)),Pe.ended||Pe.reading||Pe.destroyed||Pe.errored||!Pe.constructed)ht=!1,y("reading, ended or constructing",ht);else if(ht){y("do read"),Pe.state|=R|oe,Pe.length===0&&(Pe.state|=J);try{this._read(Pe.highWaterMark)}catch(At){k(this||ft,At)}Pe.state&=~oe,Pe.reading||(Ee=I(ct,Pe))}let et;return Ee>0?et=or(Ee,Pe):et=null,et===null?(Pe.needReadable=Pe.length<=Pe.highWaterMark,Ee=0):(Pe.length-=Ee,Pe.multiAwaitDrain?Pe.awaitDrainWriters.clear():Pe.awaitDrainWriters=null),Pe.length===0&&(Pe.ended||(Pe.needReadable=!0),ct!==Ee&&Pe.ended&&ur(this||ft)),et!==null&&!Pe.errorEmitted&&!Pe.closeEmitted&&(Pe.dataEmitted=!0,this.emit("data",et)),et};function L(Ee,Pe){if(y("onEofChunk"),!Pe.ended){if(Pe.decoder){const ct=Pe.decoder.end();ct&&ct.length&&(Pe.buffer.push(ct),Pe.length+=Pe.objectMode?1:ct.length)}Pe.ended=!0,Pe.sync?ie(Ee):(Pe.needReadable=!1,Pe.emittedReadable=!0,ye(Ee))}}function ie(Ee){const Pe=Ee._readableState;y("emitReadable",Pe.needReadable,Pe.emittedReadable),Pe.needReadable=!1,Pe.emittedReadable||(y("emitReadable",Pe.flowing),Pe.emittedReadable=!0,e.nextTick(ye,Ee))}function ye(Ee){const Pe=Ee._readableState;y("emitReadable_",Pe.destroyed,Pe.length,Pe.ended),!Pe.destroyed&&!Pe.errored&&(Pe.length||Pe.ended)&&(Ee.emit("readable"),Pe.emittedReadable=!1),Pe.needReadable=!Pe.flowing&&!Pe.ended&&Pe.length<=Pe.highWaterMark,Ct(Ee)}function Se(Ee,Pe){!Pe.readingMore&&Pe.constructed&&(Pe.readingMore=!0,e.nextTick(De,Ee,Pe))}function De(Ee,Pe){for(;!Pe.reading&&!Pe.ended&&(Pe.length<Pe.highWaterMark||Pe.flowing&&Pe.length===0);){const ct=Pe.length;if(y("maybeReadMore read 0"),Ee.read(0),ct===Pe.length)break}Pe.readingMore=!1}Ce.prototype._read=function(Ee){throw new O("_read()")},Ce.prototype.pipe=function(Ee,Pe){const ct=this||ft,ht=(this||ft)._readableState;ht.pipes.length===1&&(ht.multiAwaitDrain||(ht.multiAwaitDrain=!0,ht.awaitDrainWriters=new u(ht.awaitDrainWriters?[ht.awaitDrainWriters]:[]))),ht.pipes.push(Ee),y("pipe count=%d opts=%j",ht.pipes.length,Pe);const At=(!Pe||Pe.end!==!1)&&Ee!==e.stdout&&Ee!==e.stderr?he:Lt;ht.endEmitted?e.nextTick(At):ct.once("end",At),Ee.on("unpipe",Ot);function Ot($t,Nt){y("onunpipe"),$t===ct&&Nt&&Nt.hasUnpiped===!1&&(Nt.hasUnpiped=!0,Re())}function he(){y("onend"),Ee.end()}let ue,we=!1;function Re(){y("cleanup"),Ee.removeListener("close",Tt),Ee.removeListener("finish",jt),ue&&Ee.removeListener("drain",ue),Ee.removeListener("error",tt),Ee.removeListener("unpipe",Ot),ct.removeListener("end",he),ct.removeListener("end",Lt),ct.removeListener("data",ot),we=!0,ue&&ht.awaitDrainWriters&&(!Ee._writableState||Ee._writableState.needDrain)&&ue()}function xe(){we||(ht.pipes.length===1&&ht.pipes[0]===Ee?(y("false write response, pause",0),ht.awaitDrainWriters=Ee,ht.multiAwaitDrain=!1):ht.pipes.length>1&&ht.pipes.includes(Ee)&&(y("false write response, pause",ht.awaitDrainWriters.size),ht.awaitDrainWriters.add(Ee)),ct.pause()),ue||(ue=ke(ct,Ee),Ee.on("drain",ue))}ct.on("data",ot);function ot($t){y("ondata");const Nt=Ee.write($t);y("dest.write",Nt),Nt===!1&&xe()}function tt($t){if(y("onerror",$t),Lt(),Ee.removeListener("error",tt),Ee.listenerCount("error")===0){const Nt=Ee._writableState||Ee._readableState;Nt&&!Nt.errorEmitted?k(Ee,$t):Ee.emit("error",$t)}}_(Ee,"error",tt);function Tt(){Ee.removeListener("finish",jt),Lt()}Ee.once("close",Tt);function jt(){y("onfinish"),Ee.removeListener("close",Tt),Lt()}Ee.once("finish",jt);function Lt(){y("unpipe"),ct.unpipe(Ee)}return Ee.emit("pipe",ct),Ee.writableNeedDrain===!0?xe():ht.flowing||(y("pipe resume"),ct.resume()),Ee};function ke(Ee,Pe){return function(){const ht=Ee._readableState;ht.awaitDrainWriters===Pe?(y("pipeOnDrain",1),ht.awaitDrainWriters=null):ht.multiAwaitDrain&&(y("pipeOnDrain",ht.awaitDrainWriters.size),ht.awaitDrainWriters.delete(Pe)),(!ht.awaitDrainWriters||ht.awaitDrainWriters.size===0)&&Ee.listenerCount("data")&&Ee.resume()}}Ce.prototype.unpipe=function(Ee){const Pe=(this||ft)._readableState,ct={hasUnpiped:!1};if(Pe.pipes.length===0)return this||ft;if(!Ee){const et=Pe.pipes;Pe.pipes=[],this.pause();for(let At=0;At<et.length;At++)et[At].emit("unpipe",this||ft,{hasUnpiped:!1});return this||ft}const ht=t(Pe.pipes,Ee);return ht===-1?this||ft:(Pe.pipes.splice(ht,1),Pe.pipes.length===0&&this.pause(),Ee.emit("unpipe",this||ft,ct),this||ft)},Ce.prototype.on=function(Ee,Pe){const ct=m.prototype.on.call(this||ft,Ee,Pe),ht=(this||ft)._readableState;return Ee==="data"?(ht.readableListening=this.listenerCount("readable")>0,ht.flowing!==!1&&this.resume()):Ee==="readable"&&!ht.endEmitted&&!ht.readableListening&&(ht.readableListening=ht.needReadable=!0,ht.flowing=!1,ht.emittedReadable=!1,y("on readable",ht.length,ht.reading),ht.length?ie(this||ft):ht.reading||e.nextTick(st,this||ft)),ct},Ce.prototype.addListener=Ce.prototype.on,Ce.prototype.removeListener=function(Ee,Pe){const ct=m.prototype.removeListener.call(this||ft,Ee,Pe);return Ee==="readable"&&e.nextTick(Be,this||ft),ct},Ce.prototype.off=Ce.prototype.removeListener,Ce.prototype.removeAllListeners=function(Ee){const Pe=m.prototype.removeAllListeners.apply(this||ft,arguments);return(Ee==="readable"||Ee===void 0)&&e.nextTick(Be,this||ft),Pe};function Be(Ee){const Pe=Ee._readableState;Pe.readableListening=Ee.listenerCount("readable")>0,Pe.resumeScheduled&&Pe[Z]===!1?Pe.flowing=!0:Ee.listenerCount("data")>0?Ee.resume():Pe.readableListening||(Pe.flowing=null)}function st(Ee){y("readable nexttick read 0"),Ee.read(0)}Ce.prototype.resume=function(){const Ee=(this||ft)._readableState;return Ee.flowing||(y("resume"),Ee.flowing=!Ee.readableListening,wt(this||ft,Ee)),Ee[Z]=!1,this||ft};function wt(Ee,Pe){Pe.resumeScheduled||(Pe.resumeScheduled=!0,e.nextTick(ut,Ee,Pe))}function ut(Ee,Pe){y("resume",Pe.reading),Pe.reading||Ee.read(0),Pe.resumeScheduled=!1,Ee.emit("resume"),Ct(Ee),Pe.flowing&&!Pe.reading&&Ee.read(0)}Ce.prototype.pause=function(){return y("call pause flowing=%j",(this||ft)._readableState.flowing),(this||ft)._readableState.flowing!==!1&&(y("pause"),(this||ft)._readableState.flowing=!1,this.emit("pause")),(this||ft)._readableState[Z]=!0,this||ft};function Ct(Ee){const Pe=Ee._readableState;for(y("flow",Pe.flowing);Pe.flowing&&Ee.read()!==null;);}Ce.prototype.wrap=function(Ee){let Pe=!1;Ee.on("data",ht=>{!this.push(ht)&&Ee.pause&&(Pe=!0,Ee.pause())}),Ee.on("end",()=>{this.push(null)}),Ee.on("error",ht=>{k(this||ft,ht)}),Ee.on("close",()=>{this.destroy()}),Ee.on("destroy",()=>{this.destroy()}),(this||ft)._read=()=>{Pe&&Ee.resume&&(Pe=!1,Ee.resume())};const ct=s(Ee);for(let ht=1;ht<ct.length;ht++){const et=ct[ht];(this||ft)[et]===void 0&&typeof Ee[et]=="function"&&((this||ft)[et]=Ee[et].bind(Ee))}return this||ft},Ce.prototype[c]=function(){return Tr(this||ft)},Ce.prototype.iterator=function(Ee){return Ee!==void 0&&H(Ee,"options"),Tr(this||ft,Ee)};function Tr(Ee,Pe){typeof Ee.read!="function"&&(Ee=Ce.wrap(Ee,{objectMode:!0}));const ct=Pr(Ee,Pe);return ct.stream=Ee,ct}async function*Pr(Ee,Pe){let ct=ne;function ht(Ot){(this||ft)===Ee?(ct(),ct=ne):ct=Ot}Ee.on("readable",ht);let et;const At=E(Ee,{writable:!1},Ot=>{et=Ot?x(et,Ot):null,ct(),ct=ne});try{for(;;){const Ot=Ee.destroyed?null:Ee.read();if(Ot!==null)yield Ot;else{if(et)throw et;if(et===null)return;await new l(ht)}}}catch(Ot){throw et=x(et,Ot),et}finally{(et||(Pe==null?void 0:Pe.destroyOnReturn)!==!1)&&(et===void 0||Ee._readableState.autoDestroy)?$.destroyer(Ee,null):(Ee.off("readable",ht),At())}}o(Ce.prototype,{readable:{__proto__:null,get(){const Ee=(this||ft)._readableState;return!!Ee&&Ee.readable!==!1&&!Ee.destroyed&&!Ee.errorEmitted&&!Ee.endEmitted},set(Ee){(this||ft)._readableState&&((this||ft)._readableState.readable=!!Ee)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||ft)._readableState.readable!==!1&&((this||ft)._readableState.destroyed||(this||ft)._readableState.errored)&&!(this||ft)._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState&&(this||ft)._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return(this||ft)._readableState.flowing},set:function(Ee){(this||ft)._readableState&&((this||ft)._readableState.flowing=Ee)}},readableLength:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.errored:null}},closed:{__proto__:null,get(){return(this||ft)._readableState?(this||ft)._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.destroyed:!1},set(Ee){(this||ft)._readableState&&((this||ft)._readableState.destroyed=Ee)}},readableEnded:{__proto__:null,enumerable:!1,get(){return(this||ft)._readableState?(this||ft)._readableState.endEmitted:!1}}}),o(Le.prototype,{pipesCount:{__proto__:null,get(){return(this||ft).pipes.length}},paused:{__proto__:null,get(){return(this||ft)[Z]!==!1},set(Ee){(this||ft)[Z]=!!Ee}}}),Ce._fromList=or;function or(Ee,Pe){if(Pe.length===0)return null;let ct;return Pe.objectMode?ct=Pe.buffer.shift():!Ee||Ee>=Pe.length?(Pe.decoder?ct=Pe.buffer.join(""):Pe.buffer.length===1?ct=Pe.buffer.first():ct=Pe.buffer.concat(Pe.length),Pe.buffer.clear()):ct=Pe.buffer.consume(Ee,Pe.decoder),ct}function ur(Ee){const Pe=Ee._readableState;y("endReadable",Pe.endEmitted),Pe.endEmitted||(Pe.ended=!0,e.nextTick(sn,Pe,Ee))}function sn(Ee,Pe){if(y("endReadableNT",Ee.endEmitted,Ee.length),!Ee.errored&&!Ee.closeEmitted&&!Ee.endEmitted&&Ee.length===0){if(Ee.endEmitted=!0,Pe.emit("end"),Pe.writable&&Pe.allowHalfOpen===!1)e.nextTick(tr,Pe);else if(Ee.autoDestroy){const ct=Pe._writableState;(!ct||ct.autoDestroy&&(ct.finished||ct.writable===!1))&&Pe.destroy()}}}function tr(Ee){Ee.writable&&!Ee.writableEnded&&!Ee.destroyed&&Ee.end()}Ce.from=function(Ee,Pe){return ee(Ce,Ee,Pe)};let Dt;function Jt(){return Dt===void 0&&(Dt={}),Dt}return Ce.fromWeb=function(Ee,Pe){return Jt().newStreamReadableFromReadableStream(Ee,Pe)},Ce.toWeb=function(Ee,Pe){return Jt().newReadableStreamFromStreamReadable(Ee,Pe)},Ce.wrap=function(Ee,Pe){var ct,ht;return new Ce({objectMode:(ct=(ht=Ee.readableObjectMode)!==null&&ht!==void 0?ht:Ee.objectMode)!==null&&ct!==void 0?ct:!0,...Pe,destroy(et,At){$.destroyer(Ee,et),At(et)}}).wrap(Ee)},yw}function RR(){if(fO)return ww;fO=!0;const e=hi,{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:u}=Bn();ww=H,H.WritableState=V;const{EventEmitter:f}=Ha,c=NR().Stream,{Buffer:h}=jo(),g=Kh(),{addAbortSignal:m}=pE(),{getHighWaterMark:_,getDefaultHighWaterMark:v}=mE(),{ERR_INVALID_ARG_TYPE:p,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:d,ERR_STREAM_WRITE_AFTER_END:x,ERR_UNKNOWN_ENCODING:A}=Co().codes,{errorOrDestroy:O}=g;s(H.prototype,c.prototype),s(H,c);function C(){}const F=l("kOnFinished");function V(D,M,K){typeof K!="boolean"&&(K=M instanceof zl()),(this||Et).objectMode=!!(D&&D.objectMode),K&&((this||Et).objectMode=(this||Et).objectMode||!!(D&&D.writableObjectMode)),(this||Et).highWaterMark=D?_(this||Et,D,"writableHighWaterMark",K):v(!1),(this||Et).finalCalled=!1,(this||Et).needDrain=!1,(this||Et).ending=!1,(this||Et).ended=!1,(this||Et).finished=!1,(this||Et).destroyed=!1;const se=!!(D&&D.decodeStrings===!1);(this||Et).decodeStrings=!se,(this||Et).defaultEncoding=D&&D.defaultEncoding||"utf8",(this||Et).length=0,(this||Et).writing=!1,(this||Et).corked=0,(this||Et).sync=!0,(this||Et).bufferProcessing=!1,(this||Et).onwrite=k.bind(void 0,M),(this||Et).writecb=null,(this||Et).writelen=0,(this||Et).afterWriteTickInfo=null,X(this||Et),(this||Et).pendingcb=0,(this||Et).constructed=!0,(this||Et).prefinished=!1,(this||Et).errorEmitted=!1,(this||Et).emitClose=!D||D.emitClose!==!1,(this||Et).autoDestroy=!D||D.autoDestroy!==!1,(this||Et).errored=null,(this||Et).closed=!1,(this||Et).closeEmitted=!1,(this||Et)[F]=[]}function X(D){D.buffered=[],D.bufferedIndex=0,D.allBuffers=!0,D.allNoop=!0}V.prototype.getBuffer=function(){return t((this||Et).buffered,(this||Et).bufferedIndex)},i(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return(this||Et).buffered.length-(this||Et).bufferedIndex}});function H(D){const M=(this||Et)instanceof zl();if(!M&&!n(H,this||Et))return new H(D);(this||Et)._writableState=new V(D,this||Et,M),D&&(typeof D.write=="function"&&((this||Et)._write=D.write),typeof D.writev=="function"&&((this||Et)._writev=D.writev),typeof D.destroy=="function"&&((this||Et)._destroy=D.destroy),typeof D.final=="function"&&((this||Et)._final=D.final),typeof D.construct=="function"&&((this||Et)._construct=D.construct),D.signal&&m(D.signal,this||Et)),c.call(this||Et,D),g.construct(this||Et,()=>{const K=(this||Et)._writableState;K.writing||R(this||Et,K),Y(this||Et,K)})}i(H,u,{__proto__:null,value:function(D){return n(this||Et,D)?!0:(this||Et)!==H?!1:D&&D._writableState instanceof V}}),H.prototype.pipe=function(){O(this||Et,new S)};function Z(D,M,K,se){const ce=D._writableState;if(typeof K=="function")se=K,K=ce.defaultEncoding;else{if(!K)K=ce.defaultEncoding;else if(K!=="buffer"&&!h.isEncoding(K))throw new A(K);typeof se!="function"&&(se=C)}if(M===null)throw new d;if(!ce.objectMode)if(typeof M=="string")ce.decodeStrings!==!1&&(M=h.from(M,K),K="buffer");else if(M instanceof h)K="buffer";else if(c._isUint8Array(M))M=c._uint8ArrayToBuffer(M),K="buffer";else throw new p("chunk",["string","Buffer","Uint8Array"],M);let de;return ce.ending?de=new x:ce.destroyed&&(de=new $("write")),de?(e.nextTick(se,de),O(D,de,!0),de):(ce.pendingcb++,fe(D,ce,M,K,se))}H.prototype.write=function(D,M,K){return Z(this||Et,D,M,K)===!0},H.prototype.cork=function(){(this||Et)._writableState.corked++},H.prototype.uncork=function(){const D=(this||Et)._writableState;D.corked&&(D.corked--,D.writing||R(this||Et,D))},H.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=a(M)),!h.isEncoding(M))throw new A(M);return(this||Et)._writableState.defaultEncoding=M,this||Et};function fe(D,M,K,se,ce){const de=M.objectMode?1:K.length;M.length+=de;const pe=M.length<M.highWaterMark;return pe||(M.needDrain=!0),M.writing||M.corked||M.errored||!M.constructed?(M.buffered.push({chunk:K,encoding:se,callback:ce}),M.allBuffers&&se!=="buffer"&&(M.allBuffers=!1),M.allNoop&&ce!==C&&(M.allNoop=!1)):(M.writelen=de,M.writecb=ce,M.writing=!0,M.sync=!0,D._write(K,se,M.onwrite),M.sync=!1),pe&&!M.errored&&!M.destroyed}function ee(D,M,K,se,ce,de,pe){M.writelen=se,M.writecb=pe,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new $("write")):K?D._writev(ce,M.onwrite):D._write(ce,de,M.onwrite),M.sync=!1}function ne(D,M,K,se){--M.pendingcb,se(K),P(M),O(D,K)}function k(D,M){const K=D._writableState,se=K.sync,ce=K.writecb;if(typeof ce!="function"){O(D,new y);return}K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0,M?(M.stack,K.errored||(K.errored=M),D._readableState&&!D._readableState.errored&&(D._readableState.errored=M),se?e.nextTick(ne,D,K,M,ce):ne(D,K,M,ce)):(K.buffered.length>K.bufferedIndex&&R(D,K),se?K.afterWriteTickInfo!==null&&K.afterWriteTickInfo.cb===ce?K.afterWriteTickInfo.count++:(K.afterWriteTickInfo={count:1,cb:ce,stream:D,state:K},e.nextTick(B,K.afterWriteTickInfo)):W(D,K,1,ce))}function B({stream:D,state:M,count:K,cb:se}){return M.afterWriteTickInfo=null,W(D,M,K,se)}function W(D,M,K,se){for(!M.ending&&!D.destroyed&&M.length===0&&M.needDrain&&(M.needDrain=!1,D.emit("drain"));K-- >0;)M.pendingcb--,se();M.destroyed&&P(M),Y(D,M)}function P(D){if(D.writing)return;for(let ce=D.bufferedIndex;ce<D.buffered.length;++ce){var M;const{chunk:de,callback:pe}=D.buffered[ce],Ae=D.objectMode?1:de.length;D.length-=Ae,pe((M=D.errored)!==null&&M!==void 0?M:new $("write"))}const K=D[F].splice(0);for(let ce=0;ce<K.length;ce++){var se;K[ce]((se=D.errored)!==null&&se!==void 0?se:new $("end"))}X(D)}function R(D,M){if(M.corked||M.bufferProcessing||M.destroyed||!M.constructed)return;const{buffered:K,bufferedIndex:se,objectMode:ce}=M,de=K.length-se;if(!de)return;let pe=se;if(M.bufferProcessing=!0,de>1&&D._writev){M.pendingcb-=de-1;const Ae=M.allNoop?C:Ce=>{for(let rt=pe;rt<K.length;++rt)K[rt].callback(Ce)},Le=M.allNoop&&pe===0?K:t(K,pe);Le.allBuffers=M.allBuffers,ee(D,M,!0,M.length,Le,"",Ae),X(M)}else{do{const{chunk:Ae,encoding:Le,callback:Ce}=K[pe];K[pe++]=null;const rt=ce?1:Ae.length;ee(D,M,!1,rt,Ae,Le,Ce)}while(pe<K.length&&!M.writing);pe===K.length?X(M):pe>256?(K.splice(0,pe),M.bufferedIndex=0):M.bufferedIndex=pe}M.bufferProcessing=!1}H.prototype._write=function(D,M,K){if((this||Et)._writev)this._writev([{chunk:D,encoding:M}],K);else throw new E("_write()")},H.prototype._writev=null,H.prototype.end=function(D,M,K){const se=(this||Et)._writableState;typeof D=="function"?(K=D,D=null,M=null):typeof M=="function"&&(K=M,M=null);let ce;if(D!=null){const de=Z(this||Et,D,M);de instanceof r&&(ce=de)}return se.corked&&(se.corked=1,this.uncork()),ce||(!se.errored&&!se.ending?(se.ending=!0,Y(this||Et,se,!0),se.ended=!0):se.finished?ce=new T("end"):se.destroyed&&(ce=new $("end"))),typeof K=="function"&&(ce||se.finished?e.nextTick(K,ce):se[F].push(K)),this||Et};function z(D){return D.ending&&!D.destroyed&&D.constructed&&D.length===0&&!D.errored&&D.buffered.length===0&&!D.finished&&!D.writing&&!D.errorEmitted&&!D.closeEmitted}function oe(D,M){let K=!1;function se(ce){if(K){O(D,ce??y());return}if(K=!0,M.pendingcb--,ce){const de=M[F].splice(0);for(let pe=0;pe<de.length;pe++)de[pe](ce);O(D,ce,M.sync)}else z(M)&&(M.prefinished=!0,D.emit("prefinish"),M.pendingcb++,e.nextTick(ae,D,M))}M.sync=!0,M.pendingcb++;try{D._final(se)}catch(ce){se(ce)}M.sync=!1}function J(D,M){!M.prefinished&&!M.finalCalled&&(typeof D._final=="function"&&!M.destroyed?(M.finalCalled=!0,oe(D,M)):(M.prefinished=!0,D.emit("prefinish")))}function Y(D,M,K){z(M)&&(J(D,M),M.pendingcb===0&&(K?(M.pendingcb++,e.nextTick((se,ce)=>{z(ce)?ae(se,ce):ce.pendingcb--},D,M)):z(M)&&(M.pendingcb++,ae(D,M))))}function ae(D,M){M.pendingcb--,M.finished=!0;const K=M[F].splice(0);for(let se=0;se<K.length;se++)K[se]();if(D.emit("finish"),M.autoDestroy){const se=D._readableState;(!se||se.autoDestroy&&(se.endEmitted||se.readable===!1))&&D.destroy()}}o(H.prototype,{closed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.closed:!1}},destroyed:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.destroyed:!1},set(D){(this||Et)._writableState&&((this||Et)._writableState.destroyed=D)}},writable:{__proto__:null,get(){const D=(this||Et)._writableState;return!!D&&D.writable!==!1&&!D.destroyed&&!D.errored&&!D.ending&&!D.ended},set(D){(this||Et)._writableState&&((this||Et)._writableState.writable=!!D)}},writableFinished:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const D=(this||Et)._writableState;return D?!D.destroyed&&!D.ending&&D.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return(this||Et)._writableState?(this||Et)._writableState.corked:0}},writableLength:{__proto__:null,get(){return(this||Et)._writableState&&(this||Et)._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return(this||Et)._writableState?(this||Et)._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!((this||Et)._writableState.writable!==!1&&((this||Et)._writableState.destroyed||(this||Et)._writableState.errored)&&!(this||Et)._writableState.finished)}}});const be=g.destroy;H.prototype.destroy=function(D,M){const K=(this||Et)._writableState;return!K.destroyed&&(K.bufferedIndex<K.buffered.length||K[F].length)&&e.nextTick(P,K),be.call(this||Et,D,M),this||Et},H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(D,M){M(D)},H.prototype[f.captureRejectionSymbol]=function(D){this.destroy(D)};let Ie;function N(){return Ie===void 0&&(Ie={}),Ie}return H.fromWeb=function(D,M){return N().newStreamWritableFromWritableStream(D,M)},H.toWeb=function(D){return N().newWritableStreamFromStreamWritable(D)},ww}function Fre(){if(dO)return bw;dO=!0;const e=hi,t=jo(),{isReadable:r,isWritable:n,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:f}=Yl(),c=mc(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m}}=Co(),{destroyer:_}=Kh(),v=zl(),p=gE(),E=RR(),{createDeferredPromise:y}=so(),S=Cq(),$=globalThis.Blob||t.Blob,T=typeof $<"u"?function(V){return V instanceof $}:function(V){return!1},d=globalThis.AbortController||Zm().AbortController,{FunctionPrototypeCall:x}=Bn();class A extends v{constructor(V){super(V),(V==null?void 0:V.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(V==null?void 0:V.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}bw=function F(V,X){if(l(V))return V;if(s(V))return C({readable:V});if(a(V))return C({writable:V});if(o(V))return C({writable:!1,readable:!1});if(u(V))return C({readable:p.fromWeb(V)});if(f(V))return C({writable:E.fromWeb(V)});if(typeof V=="function"){const{value:Z,write:fe,final:ee,destroy:ne}=O(V);if(i(Z))return S(A,Z,{objectMode:!0,write:fe,final:ee,destroy:ne});const k=Z==null?void 0:Z.then;if(typeof k=="function"){let B;const W=x(k,Z,P=>{if(P!=null)throw new m("nully","body",P)},P=>{_(B,P)});return B=new A({objectMode:!0,readable:!1,write:fe,final(P){ee(async()=>{try{await W,e.nextTick(P,null)}catch(R){e.nextTick(P,R)}})},destroy:ne})}throw new m("Iterable, AsyncIterable or AsyncFunction",X,Z)}if(T(V))return F(V.arrayBuffer());if(i(V))return S(A,V,{objectMode:!0,writable:!1});if(u(V==null?void 0:V.readable)&&f(V==null?void 0:V.writable))return A.fromWeb(V);if(typeof(V==null?void 0:V.writable)=="object"||typeof(V==null?void 0:V.readable)=="object"){const Z=V!=null&&V.readable?s(V==null?void 0:V.readable)?V==null?void 0:V.readable:F(V.readable):void 0,fe=V!=null&&V.writable?a(V==null?void 0:V.writable)?V==null?void 0:V.writable:F(V.writable):void 0;return C({readable:Z,writable:fe})}const H=V==null?void 0:V.then;if(typeof H=="function"){let Z;return x(H,V,fe=>{fe!=null&&Z.push(fe),Z.push(null)},fe=>{_(Z,fe)}),Z=new A({objectMode:!0,writable:!1,read(){}})}throw new g(X,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function O(F){let{promise:V,resolve:X}=y();const H=new d,Z=H.signal;return{value:F(async function*(){for(;;){const ee=V;V=null;const{chunk:ne,done:k,cb:B}=await ee;if(e.nextTick(B),k)return;if(Z.aborted)throw new h(void 0,{cause:Z.reason});({promise:V,resolve:X}=y()),yield ne}}(),{signal:Z}),write(ee,ne,k){const B=X;X=null,B({chunk:ee,done:!1,cb:k})},final(ee){const ne=X;X=null,ne({done:!0,cb:ee})},destroy(ee,ne){H.abort(),ne(ee)}}}function C(F){const V=F.readable&&typeof F.readable.read!="function"?p.wrap(F.readable):F.readable,X=F.writable;let H=!!r(V),Z=!!n(X),fe,ee,ne,k,B;function W(P){const R=k;k=null,R?R(P):P&&B.destroy(P)}return B=new A({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(X!=null&&X.writableObjectMode),readable:H,writable:Z}),Z&&(c(X,P=>{Z=!1,P&&_(V,P),W(P)}),B._write=function(P,R,z){X.write(P,R)?z():fe=z},B._final=function(P){X.end(),ee=P},X.on("drain",function(){if(fe){const P=fe;fe=null,P()}}),X.on("finish",function(){if(ee){const P=ee;ee=null,P()}})),H&&(c(V,P=>{H=!1,P&&_(V,P),W(P)}),V.on("readable",function(){if(ne){const P=ne;ne=null,P()}}),V.on("end",function(){B.push(null)}),B._read=function(){for(;;){const P=V.read();if(P===null){ne=B._read;return}if(!B.push(P))return}}),B._destroy=function(P,R){!P&&k!==null&&(P=new h),ne=null,fe=null,ee=null,k===null?R(P):(k=R,_(X,P),_(V,P))},B}return bw}function zl(){if(hO)return _w;hO=!0;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:n}=Bn();_w=s;const i=gE(),o=RR();n(s.prototype,i.prototype),n(s,i);{const f=r(o.prototype);for(let c=0;c<f.length;c++){const h=f[c];s.prototype[h]||(s.prototype[h]=o.prototype[h])}}function s(f){if(!(this instanceof s))return new s(f);i.call(this,f),o.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function l(){return a===void 0&&(a={}),a}s.fromWeb=function(f,c){return l().newStreamDuplexFromReadableWritablePair(f,c)},s.toWeb=function(f){return l().newReadableWritablePairFromDuplex(f)};let u;return s.from=function(f){return u||(u=Fre()),u(f,"body")},_w}function Dq(){if(pO)return Ew;pO=!0;const{ObjectSetPrototypeOf:e,Symbol:t}=Bn();Ew=s;const{ERR_METHOD_NOT_IMPLEMENTED:r}=Co().codes,n=zl(),{getHighWaterMark:i}=mE();e(s.prototype,n.prototype),e(s,n);const o=t("kCallback");function s(u){if(!(this instanceof s))return new s(u);const f=u?i(this,u,"readableHighWaterMark",!0):null;f===0&&(u={...u,highWaterMark:null,readableHighWaterMark:f,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[o]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function a(u){typeof this._flush=="function"&&!this.destroyed?this._flush((f,c)=>{if(f){u?u(f):this.destroy(f);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function l(){this._final!==a&&a.call(this)}return s.prototype._final=a,s.prototype._transform=function(u,f,c){throw new r("_transform()")},s.prototype._write=function(u,f,c){const h=this._readableState,g=this._writableState,m=h.length;this._transform(u,f,(_,v)=>{if(_){c(_);return}v!=null&&this.push(v),g.ended||m===h.length||h.length<h.highWaterMark?c():this[o]=c})},s.prototype._read=function(){if(this[o]){const u=this[o];this[o]=null,u()}},Ew}function Mq(){if(mO)return Sw;mO=!0;const{ObjectSetPrototypeOf:e}=Bn();Sw=r;const t=Dq();e(r.prototype,t.prototype),e(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,o){o(null,n)},Sw}function IR(){if(gO)return $w;gO=!0;const e=hi,{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=Bn(),o=mc(),{once:s}=so(),a=Kh(),l=zl(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:_}=Co(),{validateFunction:v,validateAbortSignal:p}=Dg(),{isIterable:E,isReadable:y,isReadableNodeStream:S,isNodeStream:$,isTransformStream:T,isWebStream:d,isReadableStream:x,isReadableFinished:A}=Yl(),O=globalThis.AbortController||Zm().AbortController;let C,F,V;function X(P,R,z){let oe=!1;P.on("close",()=>{oe=!0});const J=o(P,{readable:R,writable:z},Y=>{oe=!Y});return{destroy:Y=>{oe||(oe=!0,a.destroyer(P,Y||new g("pipe")))},cleanup:J}}function H(P){return v(P[P.length-1],"streams[stream.length - 1]"),P.pop()}function Z(P){if(E(P))return P;if(S(P))return fe(P);throw new f("val",["Readable","Iterable","AsyncIterable"],P)}async function*fe(P){F||(F=gE()),yield*F.prototype[n].call(P)}async function ee(P,R,z,{end:oe}){let J,Y=null;const ae=N=>{if(N&&(J=N),Y){const D=Y;Y=null,D()}},be=()=>new r((N,D)=>{J?D(J):Y=()=>{J?D(J):N()}});R.on("drain",ae);const Ie=o(R,{readable:!1},ae);try{R.writableNeedDrain&&await be();for await(const N of P)R.write(N)||await be();oe&&(R.end(),await be()),z()}catch(N){z(J!==N?u(J,N):N)}finally{Ie(),R.off("drain",ae)}}async function ne(P,R,z,{end:oe}){T(R)&&(R=R.writable);const J=R.getWriter();try{for await(const Y of P)await J.ready,J.write(Y).catch(()=>{});await J.ready,oe&&await J.close(),z()}catch(Y){try{await J.abort(Y),z(Y)}catch(ae){z(ae)}}}function k(...P){return B(P,s(H(P)))}function B(P,R,z){if(P.length===1&&t(P[0])&&(P=P[0]),P.length<2)throw new h("streams");const oe=new O,J=oe.signal,Y=z==null?void 0:z.signal,ae=[];p(Y,"options.signal");function be(){ce(new _)}V=V||so().addAbortListener;let Ie;Y&&(Ie=V(Y,be));let N,D;const M=[];let K=0;function se(Le){ce(Le,--K===0)}function ce(Le,Ce){var rt;if(Le&&(!N||N.code==="ERR_STREAM_PREMATURE_CLOSE")&&(N=Le),!(!N&&!Ce)){for(;M.length;)M.shift()(N);(rt=Ie)===null||rt===void 0||rt[i](),oe.abort(),Ce&&(N||ae.forEach(qe=>qe()),e.nextTick(R,N,D))}}let de;for(let Le=0;Le<P.length;Le++){const Ce=P[Le],rt=Le<P.length-1,qe=Le>0,Ue=rt||(z==null?void 0:z.end)!==!1,G=Le===P.length-1;if($(Ce)){let I=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&se(L)};if(Ue){const{destroy:L,cleanup:ie}=X(Ce,rt,qe);M.push(L),y(Ce)&&G&&ae.push(ie)}Ce.on("error",I),y(Ce)&&G&&ae.push(()=>{Ce.removeListener("error",I)})}if(Le===0)if(typeof Ce=="function"){if(de=Ce({signal:J}),!E(de))throw new c("Iterable, AsyncIterable or Stream","source",de)}else E(Ce)||S(Ce)||T(Ce)?de=Ce:de=l.from(Ce);else if(typeof Ce=="function"){if(T(de)){var pe;de=Z((pe=de)===null||pe===void 0?void 0:pe.readable)}else de=Z(de);if(de=Ce(de,{signal:J}),rt){if(!E(de,!0))throw new c("AsyncIterable",`transform[${Le-1}]`,de)}else{var Ae;C||(C=Mq());const I=new C({objectMode:!0}),L=(Ae=de)===null||Ae===void 0?void 0:Ae.then;if(typeof L=="function")K++,L.call(de,Se=>{D=Se,Se!=null&&I.write(Se),Ue&&I.end(),e.nextTick(se)},Se=>{I.destroy(Se),e.nextTick(se,Se)});else if(E(de,!0))K++,ee(de,I,se,{end:Ue});else if(x(de)||T(de)){const Se=de.readable||de;K++,ee(Se,I,se,{end:Ue})}else throw new c("AsyncIterable or Promise","destination",de);de=I;const{destroy:ie,cleanup:ye}=X(de,!1,!0);M.push(ie),G&&ae.push(ye)}}else if($(Ce)){if(S(de)){K+=2;const I=W(de,Ce,se,{end:Ue});y(Ce)&&G&&ae.push(I)}else if(T(de)||x(de)){const I=de.readable||de;K++,ee(I,Ce,se,{end:Ue})}else if(E(de))K++,ee(de,Ce,se,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=Ce}else if(d(Ce)){if(S(de))K++,ne(Z(de),Ce,se,{end:Ue});else if(x(de)||E(de))K++,ne(de,Ce,se,{end:Ue});else if(T(de))K++,ne(de.readable,Ce,se,{end:Ue});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],de);de=Ce}else de=l.from(Ce)}return(J!=null&&J.aborted||Y!=null&&Y.aborted)&&e.nextTick(be),de}function W(P,R,z,{end:oe}){let J=!1;if(R.on("close",()=>{J||z(new m)}),P.pipe(R,{end:!1}),oe){let Y=function(){J=!0,R.end()};A(P)?e.nextTick(Y):P.once("end",Y)}else z();return o(P,{readable:!0,writable:!1},Y=>{const ae=P._readableState;Y&&Y.code==="ERR_STREAM_PREMATURE_CLOSE"&&ae&&ae.ended&&!ae.errored&&!ae.errorEmitted?P.once("end",z).once("error",z):z(Y)}),o(R,{readable:!1,writable:!0},z)}return $w={pipelineImpl:B,pipeline:k},$w}function Lq(){if(vO)return Tw;vO=!0;const{pipeline:e}=IR(),t=zl(),{destroyer:r}=Kh(),{isNodeStream:n,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:a,isWritableStream:l,isReadableStream:u}=Yl(),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:h}}=Co(),g=mc();return Tw=function(..._){if(_.length===0)throw new h("streams");if(_.length===1)return t.from(_[0]);const v=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const C=_.length-1;_[C]=t.from(_[C])}for(let C=0;C<_.length;++C)if(!(!n(_[C])&&!s(_[C]))){if(C<_.length-1&&!(i(_[C])||u(_[C])||a(_[C])))throw new c(`streams[${C}]`,v[C],"must be readable");if(C>0&&!(o(_[C])||l(_[C])||a(_[C])))throw new c(`streams[${C}]`,v[C],"must be writable")}let p,E,y,S,$;function T(C){const F=S;S=null,F?F(C):C?$.destroy(C):!O&&!A&&$.destroy()}const d=_[0],x=e(_,T),A=!!(o(d)||l(d)||a(d)),O=!!(i(x)||u(x)||a(x));if($=new t({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(x!=null&&x.readableObjectMode),writable:A,readable:O}),A){if(n(d))$._write=function(F,V,X){d.write(F,V)?X():p=X},$._final=function(F){d.end(),E=F},d.on("drain",function(){if(p){const F=p;p=null,F()}});else if(s(d)){const V=(a(d)?d.writable:d).getWriter();$._write=async function(X,H,Z){try{await V.ready,V.write(X).catch(()=>{}),Z()}catch(fe){Z(fe)}},$._final=async function(X){try{await V.ready,V.close().catch(()=>{}),E=X}catch(H){X(H)}}}const C=a(x)?x.readable:x;g(C,()=>{if(E){const F=E;E=null,F()}})}if(O){if(n(x))x.on("readable",function(){if(y){const C=y;y=null,C()}}),x.on("end",function(){$.push(null)}),$._read=function(){for(;;){const C=x.read();if(C===null){y=$._read;return}if(!$.push(C))return}};else if(s(x)){const F=(a(x)?x.readable:x).getReader();$._read=async function(){for(;;)try{const{value:V,done:X}=await F.read();if(!$.push(V))return;if(X){$.push(null);return}}catch{return}}}}return $._destroy=function(C,F){!C&&S!==null&&(C=new f),y=null,p=null,E=null,S===null?F(C):(S=F,n(x)&&r(x,C))},$},Tw}function Bre(){if(yO)return Yp;yO=!0;const e=globalThis.AbortController||Zm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:o}=Co(),{validateAbortSignal:s,validateInteger:a,validateObject:l}=Dg(),u=Bn().Symbol("kWeak"),f=Bn().Symbol("kResistStopPropagation"),{finished:c}=mc(),h=Lq(),{addAbortSignalNoValidate:g}=pE(),{isWritable:m,isNodeStream:_}=Yl(),{deprecate:v}=so(),{ArrayPrototypePush:p,Boolean:E,MathFloor:y,Number:S,NumberIsNaN:$,Promise:T,PromiseReject:d,PromiseResolve:x,PromisePrototypeThen:A,Symbol:O}=Bn(),C=O("kEmpty"),F=O("kEof");function V(Y,ae){if(ae!=null&&l(ae,"options"),(ae==null?void 0:ae.signal)!=null&&s(ae.signal,"options.signal"),_(Y)&&!m(Y))throw new t("stream",Y,"must be writable");const be=h(this,Y);return ae!=null&&ae.signal&&g(ae.signal,be),be}function X(Y,ae){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);ae!=null&&l(ae,"options"),(ae==null?void 0:ae.signal)!=null&&s(ae.signal,"options.signal");let be=1;(ae==null?void 0:ae.concurrency)!=null&&(be=y(ae.concurrency));let Ie=be-1;return(ae==null?void 0:ae.highWaterMark)!=null&&(Ie=y(ae.highWaterMark)),a(be,"options.concurrency",1),a(Ie,"options.highWaterMark",0),Ie+=be,(async function*(){const D=so().AbortSignalAny([ae==null?void 0:ae.signal].filter(E)),M=this,K=[],se={signal:D};let ce,de,pe=!1,Ae=0;function Le(){pe=!0,Ce()}function Ce(){Ae-=1,rt()}function rt(){de&&!pe&&Ae<be&&K.length<Ie&&(de(),de=null)}async function qe(){try{for await(let Ue of M){if(pe)return;if(D.aborted)throw new o;try{if(Ue=Y(Ue,se),Ue===C)continue;Ue=x(Ue)}catch(G){Ue=d(G)}Ae+=1,A(Ue,Ce,Le),K.push(Ue),ce&&(ce(),ce=null),!pe&&(K.length>=Ie||Ae>=be)&&await new T(G=>{de=G})}K.push(F)}catch(Ue){const G=d(Ue);A(G,Ce,Le),K.push(G)}finally{pe=!0,ce&&(ce(),ce=null)}}qe();try{for(;;){for(;K.length>0;){const Ue=await K[0];if(Ue===F)return;if(D.aborted)throw new o;Ue!==C&&(yield Ue),K.shift(),rt()}await new T(Ue=>{ce=Ue})}}finally{pe=!0,de&&(de(),de=null)}}).call(this)}function H(Y=void 0){return Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&s(Y.signal,"options.signal"),(async function*(){let be=0;for await(const N of this){var Ie;if(Y!=null&&(Ie=Y.signal)!==null&&Ie!==void 0&&Ie.aborted)throw new o({cause:Y.signal.reason});yield[be++,N]}}).call(this)}async function Z(Y,ae=void 0){for await(const be of k.call(this,Y,ae))return!0;return!1}async function fe(Y,ae=void 0){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);return!await Z.call(this,async(...be)=>!await Y(...be),ae)}async function ee(Y,ae){for await(const be of k.call(this,Y,ae))return be}async function ne(Y,ae){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Ie,N){return await Y(Ie,N),C}for await(const Ie of X.call(this,be,ae));}function k(Y,ae){if(typeof Y!="function")throw new r("fn",["Function","AsyncFunction"],Y);async function be(Ie,N){return await Y(Ie,N)?Ie:C}return X.call(this,be,ae)}class B extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function W(Y,ae,be){var Ie;if(typeof Y!="function")throw new r("reducer",["Function","AsyncFunction"],Y);be!=null&&l(be,"options"),(be==null?void 0:be.signal)!=null&&s(be.signal,"options.signal");let N=arguments.length>1;if(be!=null&&(Ie=be.signal)!==null&&Ie!==void 0&&Ie.aborted){const ce=new o(void 0,{cause:be.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(ce)),ce}const D=new e,M=D.signal;if(be!=null&&be.signal){const ce={once:!0,[u]:this,[f]:!0};be.signal.addEventListener("abort",()=>D.abort(),ce)}let K=!1;try{for await(const ce of this){var se;if(K=!0,be!=null&&(se=be.signal)!==null&&se!==void 0&&se.aborted)throw new o;N?ae=await Y(ae,ce,{signal:M}):(ae=ce,N=!0)}if(!K&&!N)throw new B}finally{D.abort()}return ae}async function P(Y){Y!=null&&l(Y,"options"),(Y==null?void 0:Y.signal)!=null&&s(Y.signal,"options.signal");const ae=[];for await(const Ie of this){var be;if(Y!=null&&(be=Y.signal)!==null&&be!==void 0&&be.aborted)throw new o(void 0,{cause:Y.signal.reason});p(ae,Ie)}return ae}function R(Y,ae){const be=X.call(this,Y,ae);return(async function*(){for await(const N of be)yield*N}).call(this)}function z(Y){if(Y=S(Y),$(Y))return 0;if(Y<0)throw new i("number",">= 0",Y);return Y}function oe(Y,ae=void 0){return ae!=null&&l(ae,"options"),(ae==null?void 0:ae.signal)!=null&&s(ae.signal,"options.signal"),Y=z(Y),(async function*(){var Ie;if(ae!=null&&(Ie=ae.signal)!==null&&Ie!==void 0&&Ie.aborted)throw new o;for await(const D of this){var N;if(ae!=null&&(N=ae.signal)!==null&&N!==void 0&&N.aborted)throw new o;Y--<=0&&(yield D)}}).call(this)}function J(Y,ae=void 0){return ae!=null&&l(ae,"options"),(ae==null?void 0:ae.signal)!=null&&s(ae.signal,"options.signal"),Y=z(Y),(async function*(){var Ie;if(ae!=null&&(Ie=ae.signal)!==null&&Ie!==void 0&&Ie.aborted)throw new o;for await(const D of this){var N;if(ae!=null&&(N=ae.signal)!==null&&N!==void 0&&N.aborted)throw new o;if(Y-- >0&&(yield D),Y<=0)return}}).call(this)}return Yp.streamReturningOperators={asIndexedPairs:v(H,"readable.asIndexedPairs will be removed in a future version."),drop:oe,filter:k,flatMap:R,map:X,take:J,compose:V},Yp.promiseReturningOperators={every:fe,forEach:ne,reduce:W,toArray:P,some:Z,find:ee},Yp}function Fq(){if(wO)return xw;wO=!0;const{ArrayPrototypePop:e,Promise:t}=Bn(),{isIterable:r,isNodeStream:n,isWebStream:i}=Yl(),{pipelineImpl:o}=IR(),{finished:s}=mc();Bq();function a(...l){return new t((u,f)=>{let c,h;const g=l[l.length-1];if(g&&typeof g=="object"&&!n(g)&&!r(g)&&!i(g)){const m=e(l);c=m.signal,h=m.end}o(l,(m,_)=>{m?f(m):u(_)},{signal:c,end:h})})}return xw={finished:s,pipeline:a},xw}function Bq(){if(bO)return Aw;bO=!0;const{Buffer:e}=jo(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:n}=Bn(),{promisify:{custom:i}}=so(),{streamReturningOperators:o,promiseReturningOperators:s}=Bre(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Co(),l=Lq(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:f}=mE(),{pipeline:c}=IR(),{destroyer:h}=Kh(),g=mc(),m=Fq(),_=Yl(),v=Aw=NR().Stream;v.isDestroyed=_.isDestroyed,v.isDisturbed=_.isDisturbed,v.isErrored=_.isErrored,v.isReadable=_.isReadable,v.isWritable=_.isWritable,v.Readable=gE();for(const E of r(o)){let y=function(...$){if(new.target)throw a();return v.Readable.from(n(S,this||_O,$))};const S=o[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const E of r(s)){let y=function(...$){if(new.target)throw a();return n(S,this||_O,$)};const S=s[E];t(y,"name",{__proto__:null,value:S.name}),t(y,"length",{__proto__:null,value:S.length}),t(v.Readable.prototype,E,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}v.Writable=RR(),v.Duplex=zl(),v.Transform=Dq(),v.PassThrough=Mq(),v.pipeline=c;const{addAbortSignal:p}=pE();return v.addAbortSignal=p,v.finished=g,v.destroy=h,v.compose=l,v.setDefaultHighWaterMark=u,v.getDefaultHighWaterMark=f,t(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),t(c,i,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),t(g,i,{__proto__:null,enumerable:!0,get(){return m.finished}}),v.Stream=v,v._isUint8Array=function(y){return y instanceof Uint8Array},v._uint8ArrayToBuffer=function(y){return e.from(y.buffer,y.byteOffset,y.byteLength)},Aw}function Ure(){if(EO)return Nn;EO=!0;const e=Bq(),t=Fq(),r=e.Readable.destroy;return Nn=e.Readable,Nn._uint8ArrayToBuffer=e._uint8ArrayToBuffer,Nn._isUint8Array=e._isUint8Array,Nn.isDisturbed=e.isDisturbed,Nn.isErrored=e.isErrored,Nn.isReadable=e.isReadable,Nn.Readable=e.Readable,Nn.Writable=e.Writable,Nn.Duplex=e.Duplex,Nn.Transform=e.Transform,Nn.PassThrough=e.PassThrough,Nn.addAbortSignal=e.addAbortSignal,Nn.finished=e.finished,Nn.destroy=e.destroy,Nn.destroy=r,Nn.pipeline=e.pipeline,Nn.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),Nn.Stream=e.Stream,Nn.default=Nn,Nn}var uw,XA,kd,QA,Kp,ZA,cw,eO,fw,tO,dw,rO,Jp,nO,hw,iO,pw,oO,Cd,sO,mw,aO,gw,lO,vw,uO,yw,cO,ft,ww,fO,Et,bw,dO,_w,hO,Ew,pO,Sw,mO,$w,gO,Tw,vO,Yp,yO,xw,wO,Aw,bO,_O,Nn,EO,tn,Ow,Uq,zq,qq,Vq,Hq,Wq,Gq,Kq,zs=on({"../../node_modules/@jspm/core/nodelibs/browser/stream.js"(){Te(),rE(),rq(),jg(),Pz(),hE(),OR(),pR(),uw={},XA=!1,kd={},QA=!1,Kp={},ZA=!1,cw={},eO=!1,fw={},tO=!1,dw={},rO=!1,Jp={},nO=!1,hw={},iO=!1,pw={},oO=!1,Cd={},sO=!1,mw={},aO=!1,gw={},lO=!1,vw={},uO=!1,yw={},cO=!1,ft=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ww={},fO=!1,Et=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,bw={},dO=!1,_w={},hO=!1,Ew={},pO=!1,Sw={},mO=!1,$w={},gO=!1,Tw={},vO=!1,Yp={},yO=!1,xw={},wO=!1,Aw={},bO=!1,_O=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Nn={},EO=!1,tn=Ure(),tn._uint8ArrayToBuffer,tn._isUint8Array,tn.isDisturbed,tn.isErrored,tn.isReadable,tn.Readable,tn.Writable,tn.Duplex,tn.Transform,tn.PassThrough,tn.addAbortSignal,tn.finished,tn.destroy,tn.pipeline,tn.compose,tn.Stream,Ow=tn.Readable,Ow.wrap=function(e,t){return t=Object.assign({objectMode:e.readableObjectMode!=null||e.objectMode!=null||!0},t),t.destroy=function(r,n){e.destroy(r),n(r)},new Ow(t).wrap(e)},Uq=tn.Writable,zq=tn.Duplex,qq=tn.Transform,Vq=tn.PassThrough,Hq=tn.finished,Wq=tn.pipeline,Gq=tn.Stream,Kq={finished:Yb(tn.finished),pipeline:Yb(tn.pipeline)}}}),jR=Ne({"../../node_modules/web-streams-polyfill/dist/ponyfill.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).WebStreamsPolyfill={})}(e,function(r){function n(){}function i(q){return typeof q=="object"&&q!==null||typeof q=="function"}const o=n;function s(q,te){try{Object.defineProperty(q,"name",{value:te,configurable:!0})}catch{}}const a=Promise,l=Promise.resolve.bind(a),u=Promise.prototype.then,f=Promise.reject.bind(a),c=l;function h(q){return new a(q)}function g(q){return h(te=>te(q))}function m(q){return f(q)}function _(q,te,ge){return u.call(q,te,ge)}function v(q,te,ge){_(_(q,te,ge),void 0,o)}function p(q,te){v(q,te)}function E(q,te){v(q,void 0,te)}function y(q,te,ge){return _(q,te,ge)}function S(q){_(q,void 0,o)}let $=q=>{if(typeof queueMicrotask=="function")$=queueMicrotask;else{const te=g(void 0);$=ge=>_(te,ge)}return $(q)};function T(q,te,ge){if(typeof q!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(q,te,ge)}function d(q,te,ge){try{return g(T(q,te,ge))}catch($e){return m($e)}}class x{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(te){const ge=this._back;let $e=ge;ge._elements.length===16383&&($e={_elements:[],_next:void 0}),ge._elements.push(te),$e!==ge&&(this._back=$e,ge._next=$e),++this._size}shift(){const te=this._front;let ge=te;const $e=this._cursor;let He=$e+1;const Ve=te._elements,Je=Ve[$e];return He===16384&&(ge=te._next,He=0),--this._size,this._cursor=He,te!==ge&&(this._front=ge),Ve[$e]=void 0,Je}forEach(te){let ge=this._cursor,$e=this._front,He=$e._elements;for(;!(ge===He.length&&$e._next===void 0||ge===He.length&&($e=$e._next,He=$e._elements,ge=0,He.length===0));)te(He[ge]),++ge}peek(){const te=this._front,ge=this._cursor;return te._elements[ge]}}const A=Symbol("[[AbortSteps]]"),O=Symbol("[[ErrorSteps]]"),C=Symbol("[[CancelSteps]]"),F=Symbol("[[PullSteps]]"),V=Symbol("[[ReleaseSteps]]");function X(q,te){q._ownerReadableStream=te,te._reader=q,te._state==="readable"?ee(q):te._state==="closed"?function(ge){ee(ge),B(ge)}(q):ne(q,te._storedError)}function H(q,te){return Tn(q._ownerReadableStream,te)}function Z(q){const te=q._ownerReadableStream;te._state==="readable"?k(q,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(ge,$e){ne(ge,$e)}(q,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),te._readableStreamController[V](),te._reader=void 0,q._ownerReadableStream=void 0}function fe(q){return new TypeError("Cannot "+q+" a stream using a released reader")}function ee(q){q._closedPromise=h((te,ge)=>{q._closedPromise_resolve=te,q._closedPromise_reject=ge})}function ne(q,te){ee(q),k(q,te)}function k(q,te){q._closedPromise_reject!==void 0&&(S(q._closedPromise),q._closedPromise_reject(te),q._closedPromise_resolve=void 0,q._closedPromise_reject=void 0)}function B(q){q._closedPromise_resolve!==void 0&&(q._closedPromise_resolve(void 0),q._closedPromise_resolve=void 0,q._closedPromise_reject=void 0)}const W=Number.isFinite||function(q){return typeof q=="number"&&isFinite(q)},P=Math.trunc||function(q){return q<0?Math.ceil(q):Math.floor(q)};function R(q,te){if(q!==void 0&&typeof(ge=q)!="object"&&typeof ge!="function")throw new TypeError(`${te} is not an object.`);var ge}function z(q,te){if(typeof q!="function")throw new TypeError(`${te} is not a function.`)}function oe(q,te){if(!function(ge){return typeof ge=="object"&&ge!==null||typeof ge=="function"}(q))throw new TypeError(`${te} is not an object.`)}function J(q,te,ge){if(q===void 0)throw new TypeError(`Parameter ${te} is required in '${ge}'.`)}function Y(q,te,ge){if(q===void 0)throw new TypeError(`${te} is required in '${ge}'.`)}function ae(q){return Number(q)}function be(q){return q===0?0:q}function Ie(q,te){const ge=Number.MAX_SAFE_INTEGER;let $e=Number(q);if($e=be($e),!W($e))throw new TypeError(`${te} is not a finite number`);if($e=function(He){return be(P(He))}($e),$e<0||$e>ge)throw new TypeError(`${te} is outside the accepted range of 0 to ${ge}, inclusive`);return W($e)&&$e!==0?$e:0}function N(q,te){if(!gi(q))throw new TypeError(`${te} is not a ReadableStream.`)}function D(q){return new de(q)}function M(q,te){q._reader._readRequests.push(te)}function K(q,te,ge){const $e=q._reader._readRequests.shift();ge?$e._closeSteps():$e._chunkSteps(te)}function se(q){return q._reader._readRequests.length}function ce(q){const te=q._reader;return te!==void 0&&!!pe(te)}class de{constructor(te){if(J(te,1,"ReadableStreamDefaultReader"),N(te,"First parameter"),vi(te))throw new TypeError("This stream has already been locked for exclusive reading by another reader");X(this,te),this._readRequests=new x}get closed(){return pe(this)?this._closedPromise:m(Ce("closed"))}cancel(te=void 0){return pe(this)?this._ownerReadableStream===void 0?m(fe("cancel")):H(this,te):m(Ce("cancel"))}read(){if(!pe(this))return m(Ce("read"));if(this._ownerReadableStream===void 0)return m(fe("read from"));let te,ge;const $e=h((He,Ve)=>{te=He,ge=Ve});return Ae(this,{_chunkSteps:He=>te({value:He,done:!1}),_closeSteps:()=>te({value:void 0,done:!0}),_errorSteps:He=>ge(He)}),$e}releaseLock(){if(!pe(this))throw Ce("releaseLock");this._ownerReadableStream!==void 0&&function(te){Z(te);const ge=new TypeError("Reader was released");Le(te,ge)}(this)}}function pe(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_readRequests")&&q instanceof de}function Ae(q,te){const ge=q._ownerReadableStream;ge._disturbed=!0,ge._state==="closed"?te._closeSteps():ge._state==="errored"?te._errorSteps(ge._storedError):ge._readableStreamController[F](te)}function Le(q,te){const ge=q._readRequests;q._readRequests=new x,ge.forEach($e=>{$e._errorSteps(te)})}function Ce(q){return new TypeError(`ReadableStreamDefaultReader.prototype.${q} can only be used on a ReadableStreamDefaultReader`)}var rt,qe,Ue;function G(q){return q.slice()}function I(q,te,ge,$e,He){new Uint8Array(q).set(new Uint8Array(ge,$e,He),te)}Object.defineProperties(de.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(de.prototype.cancel,"cancel"),s(de.prototype.read,"read"),s(de.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(de.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});let L=q=>(L=typeof q.transfer=="function"?te=>te.transfer():typeof structuredClone=="function"?te=>structuredClone(te,{transfer:[te]}):te=>te,L(q)),ie=q=>(ie=typeof q.detached=="boolean"?te=>te.detached:te=>te.byteLength===0,ie(q));function ye(q,te,ge){if(q.slice)return q.slice(te,ge);const $e=ge-te,He=new ArrayBuffer($e);return I(He,0,q,te,$e),He}function Se(q,te){const ge=q[te];if(ge!=null){if(typeof ge!="function")throw new TypeError(`${String(te)} is not a function`);return ge}}function De(q){try{const te=q.done,ge=q.value;return _(c(ge),$e=>({done:te,value:$e}))}catch(te){return m(te)}}const ke=(Ue=(rt=Symbol.asyncIterator)!==null&&rt!==void 0?rt:(qe=Symbol.for)===null||qe===void 0?void 0:qe.call(Symbol,"Symbol.asyncIterator"))!==null&&Ue!==void 0?Ue:"@@asyncIterator";function Be(q,te="sync",ge){if(ge===void 0)if(te==="async"){if((ge=Se(q,ke))===void 0)return function(He){const Ve={next(){let Je;try{Je=st(He)}catch(Ge){return m(Ge)}return De(Je)},return(Je){let Ge;try{const Xe=Se(He.iterator,"return");if(Xe===void 0)return g({done:!0,value:Je});Ge=T(Xe,He.iterator,[Je])}catch(Xe){return m(Xe)}return i(Ge)?De(Ge):m(new TypeError("The iterator.return() method must return an object"))}};return{iterator:Ve,nextMethod:Ve.next,done:!1}}(Be(q,"sync",Se(q,Symbol.iterator)))}else ge=Se(q,Symbol.iterator);if(ge===void 0)throw new TypeError("The object is not iterable");const $e=T(ge,q,[]);if(!i($e))throw new TypeError("The iterator method must return an object");return{iterator:$e,nextMethod:$e.next,done:!1}}function st(q){const te=T(q.nextMethod,q.iterator,[]);if(!i(te))throw new TypeError("The iterator.next() method must return an object");return te}class wt{constructor(te,ge){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=te,this._preventCancel=ge}next(){const te=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,te,te):te(),this._ongoingPromise}return(te){const ge=()=>this._returnSteps(te);return this._ongoingPromise=this._ongoingPromise?y(this._ongoingPromise,ge,ge):ge(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const te=this._reader;let ge,$e;const He=h((Ve,Je)=>{ge=Ve,$e=Je});return Ae(te,{_chunkSteps:Ve=>{this._ongoingPromise=void 0,$(()=>ge({value:Ve,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Z(te),ge({value:void 0,done:!0})},_errorSteps:Ve=>{this._ongoingPromise=void 0,this._isFinished=!0,Z(te),$e(Ve)}}),He}_returnSteps(te){if(this._isFinished)return Promise.resolve({value:te,done:!0});this._isFinished=!0;const ge=this._reader;if(!this._preventCancel){const $e=H(ge,te);return Z(ge),y($e,()=>({value:te,done:!0}))}return Z(ge),g({value:te,done:!0})}}const ut={next(){return Ct(this)?this._asyncIteratorImpl.next():m(Tr("next"))},return(q){return Ct(this)?this._asyncIteratorImpl.return(q):m(Tr("return"))},[ke](){return this}};function Ct(q){if(!i(q)||!Object.prototype.hasOwnProperty.call(q,"_asyncIteratorImpl"))return!1;try{return q._asyncIteratorImpl instanceof wt}catch{return!1}}function Tr(q){return new TypeError(`ReadableStreamAsyncIterator.${q} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(ut,ke,{enumerable:!1});const Pr=Number.isNaN||function(q){return q!=q};function or(q){const te=ye(q.buffer,q.byteOffset,q.byteOffset+q.byteLength);return new Uint8Array(te)}function ur(q){const te=q._queue.shift();return q._queueTotalSize-=te.size,q._queueTotalSize<0&&(q._queueTotalSize=0),te.value}function sn(q,te,ge){if(typeof($e=ge)!="number"||Pr($e)||$e<0||ge===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var $e;q._queue.push({value:te,size:ge}),q._queueTotalSize+=ge}function tr(q){q._queue=new x,q._queueTotalSize=0}function Dt(q){return q===DataView}class Jt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ct(this))throw kr("view");return this._view}respond(te){if(!ct(this))throw kr("respond");if(J(te,1,"respond"),te=Ie(te,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ie(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Vr(this._associatedReadableByteStreamController,te)}respondWithNewView(te){if(!ct(this))throw kr("respondWithNewView");if(J(te,1,"respondWithNewView"),!ArrayBuffer.isView(te))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ie(te.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");mn(this._associatedReadableByteStreamController,te)}}Object.defineProperties(Jt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),s(Jt.prototype.respond,"respond"),s(Jt.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Jt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ee{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Pe(this))throw Qr("byobRequest");return en(this)}get desiredSize(){if(!Pe(this))throw Qr("desiredSize");return jr(this)}close(){if(!Pe(this))throw Qr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const te=this._controlledReadableByteStream._state;if(te!=="readable")throw new TypeError(`The stream (in ${te} state) is not in the readable state and cannot be closed`);yt(this)}enqueue(te){if(!Pe(this))throw Qr("enqueue");if(J(te,1,"enqueue"),!ArrayBuffer.isView(te))throw new TypeError("chunk must be an array buffer view");if(te.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(te.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const ge=this._controlledReadableByteStream._state;if(ge!=="readable")throw new TypeError(`The stream (in ${ge} state) is not in the readable state and cannot be enqueued to`);zt(this,te)}error(te=void 0){if(!Pe(this))throw Qr("error");xt(this,te)}[C](te){et(this),tr(this);const ge=this._cancelAlgorithm(te);return Ht(this),ge}[F](te){const ge=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void kt(this,te);const $e=this._autoAllocateChunkSize;if($e!==void 0){let He;try{He=new ArrayBuffer($e)}catch(Je){return void te._errorSteps(Je)}const Ve={buffer:He,bufferByteLength:$e,byteOffset:0,byteLength:$e,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Ve)}M(ge,te),ht(this)}[V](){if(this._pendingPullIntos.length>0){const te=this._pendingPullIntos.peek();te.readerType="none",this._pendingPullIntos=new x,this._pendingPullIntos.push(te)}}}function Pe(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_controlledReadableByteStream")&&q instanceof Ee}function ct(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_associatedReadableByteStreamController")&&q instanceof Jt}function ht(q){if(function(ge){const $e=ge._controlledReadableByteStream;return $e._state!=="readable"||ge._closeRequested||!ge._started?!1:!!(ce($e)&&se($e)>0||cs($e)&&us($e)>0||jr(ge)>0)}(q)){if(q._pulling)return void(q._pullAgain=!0);q._pulling=!0,v(q._pullAlgorithm(),()=>(q._pulling=!1,q._pullAgain&&(q._pullAgain=!1,ht(q)),null),ge=>(xt(q,ge),null))}}function et(q){Tt(q),q._pendingPullIntos=new x}function At(q,te){let ge=!1;q._state==="closed"&&(ge=!0);const $e=he(te);te.readerType==="default"?K(q,$e,ge):function(He,Ve,Je){const Ge=He._reader,Xe=Ge._readIntoRequests.shift();Je?Xe._closeSteps(Ve):Xe._chunkSteps(Ve)}(q,$e,ge)}function Ot(q,te){for(let ge=0;ge<te.length;++ge)At(q,te[ge])}function he(q){const te=q.bytesFilled,ge=q.elementSize;return new q.viewConstructor(q.buffer,q.byteOffset,te/ge)}function ue(q,te,ge,$e){q._queue.push({buffer:te,byteOffset:ge,byteLength:$e}),q._queueTotalSize+=$e}function we(q,te,ge,$e){let He;try{He=ye(te,ge,ge+$e)}catch(Ve){throw xt(q,Ve),Ve}ue(q,He,0,$e)}function Re(q,te){te.bytesFilled>0&&we(q,te.buffer,te.byteOffset,te.bytesFilled),Nt(q)}function xe(q,te){const ge=Math.min(q._queueTotalSize,te.byteLength-te.bytesFilled),$e=te.bytesFilled+ge;let He=ge,Ve=!1;const Je=$e-$e%te.elementSize;Je>=te.minimumFill&&(He=Je-te.bytesFilled,Ve=!0);const Ge=q._queue;for(;He>0;){const Xe=Ge.peek(),pt=Math.min(He,Xe.byteLength),gt=te.byteOffset+te.bytesFilled;I(te.buffer,gt,Xe.buffer,Xe.byteOffset,pt),Xe.byteLength===pt?Ge.shift():(Xe.byteOffset+=pt,Xe.byteLength-=pt),q._queueTotalSize-=pt,ot(q,pt,te),He-=pt}return Ve}function ot(q,te,ge){ge.bytesFilled+=te}function tt(q){q._queueTotalSize===0&&q._closeRequested?(Ht(q),pl(q._controlledReadableByteStream)):ht(q)}function Tt(q){q._byobRequest!==null&&(q._byobRequest._associatedReadableByteStreamController=void 0,q._byobRequest._view=null,q._byobRequest=null)}function jt(q){const te=[];for(;q._pendingPullIntos.length>0&&q._queueTotalSize!==0;){const ge=q._pendingPullIntos.peek();xe(q,ge)&&(Nt(q),te.push(ge))}return te}function Lt(q,te,ge,$e){const He=q._controlledReadableByteStream,Ve=te.constructor,Je=function(_t){return Dt(_t)?1:_t.BYTES_PER_ELEMENT}(Ve),{byteOffset:Ge,byteLength:Xe}=te,pt=ge*Je;let gt;try{gt=L(te.buffer)}catch(_t){return void $e._errorSteps(_t)}const Ft={buffer:gt,bufferByteLength:gt.byteLength,byteOffset:Ge,byteLength:Xe,bytesFilled:0,minimumFill:pt,elementSize:Je,viewConstructor:Ve,readerType:"byob"};if(q._pendingPullIntos.length>0)return q._pendingPullIntos.push(Ft),void pi(He,$e);if(He._state!=="closed"){if(q._queueTotalSize>0){if(xe(q,Ft)){const _t=he(Ft);return tt(q),void $e._chunkSteps(_t)}if(q._closeRequested){const _t=new TypeError("Insufficient bytes to fill elements in the given buffer");return xt(q,_t),void $e._errorSteps(_t)}}q._pendingPullIntos.push(Ft),pi(He,$e),ht(q)}else{const _t=new Ve(Ft.buffer,Ft.byteOffset,0);$e._closeSteps(_t)}}function $t(q,te){const ge=q._pendingPullIntos.peek();Tt(q),q._controlledReadableByteStream._state==="closed"?function($e,He){He.readerType==="none"&&Nt($e);const Ve=$e._controlledReadableByteStream;if(cs(Ve)){const Je=[];for(let Ge=0;Ge<us(Ve);++Ge)Je.push(Nt($e));Ot(Ve,Je)}}(q,ge):function($e,He,Ve){if(ot(0,He,Ve),Ve.readerType==="none"){Re($e,Ve);const Xe=jt($e);return void Ot($e._controlledReadableByteStream,Xe)}if(Ve.bytesFilled<Ve.minimumFill)return;Nt($e);const Je=Ve.bytesFilled%Ve.elementSize;if(Je>0){const Xe=Ve.byteOffset+Ve.bytesFilled;we($e,Ve.buffer,Xe-Je,Je)}Ve.bytesFilled-=Je;const Ge=jt($e);At($e._controlledReadableByteStream,Ve),Ot($e._controlledReadableByteStream,Ge)}(q,te,ge),ht(q)}function Nt(q){return q._pendingPullIntos.shift()}function Ht(q){q._pullAlgorithm=void 0,q._cancelAlgorithm=void 0}function yt(q){const te=q._controlledReadableByteStream;if(!q._closeRequested&&te._state==="readable")if(q._queueTotalSize>0)q._closeRequested=!0;else{if(q._pendingPullIntos.length>0){const ge=q._pendingPullIntos.peek();if(ge.bytesFilled%ge.elementSize!=0){const $e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw xt(q,$e),$e}}Ht(q),pl(te)}}function zt(q,te){const ge=q._controlledReadableByteStream;if(q._closeRequested||ge._state!=="readable")return;const{buffer:$e,byteOffset:He,byteLength:Ve}=te;if(ie($e))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const Je=L($e);if(q._pendingPullIntos.length>0){const Ge=q._pendingPullIntos.peek();if(ie(Ge.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Tt(q),Ge.buffer=L(Ge.buffer),Ge.readerType==="none"&&Re(q,Ge)}if(ce(ge))(function(Ge){const Xe=Ge._controlledReadableByteStream._reader;for(;Xe._readRequests.length>0;){if(Ge._queueTotalSize===0)return;kt(Ge,Xe._readRequests.shift())}})(q),se(ge)===0?ue(q,Je,He,Ve):(q._pendingPullIntos.length>0&&Nt(q),K(ge,new Uint8Array(Je,He,Ve),!1));else if(cs(ge)){ue(q,Je,He,Ve);const Ge=jt(q);Ot(q._controlledReadableByteStream,Ge)}else ue(q,Je,He,Ve);ht(q)}function xt(q,te){const ge=q._controlledReadableByteStream;ge._state==="readable"&&(et(q),tr(q),Ht(q),ps(ge,te))}function kt(q,te){const ge=q._queue.shift();q._queueTotalSize-=ge.byteLength,tt(q);const $e=new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength);te._chunkSteps($e)}function en(q){if(q._byobRequest===null&&q._pendingPullIntos.length>0){const te=q._pendingPullIntos.peek(),ge=new Uint8Array(te.buffer,te.byteOffset+te.bytesFilled,te.byteLength-te.bytesFilled),$e=Object.create(Jt.prototype);(function(He,Ve,Je){He._associatedReadableByteStreamController=Ve,He._view=Je})($e,q,ge),q._byobRequest=$e}return q._byobRequest}function jr(q){const te=q._controlledReadableByteStream._state;return te==="errored"?null:te==="closed"?0:q._strategyHWM-q._queueTotalSize}function Vr(q,te){const ge=q._pendingPullIntos.peek();if(q._controlledReadableByteStream._state==="closed"){if(te!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(te===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(ge.bytesFilled+te>ge.byteLength)throw new RangeError("bytesWritten out of range")}ge.buffer=L(ge.buffer),$t(q,te)}function mn(q,te){const ge=q._pendingPullIntos.peek();if(q._controlledReadableByteStream._state==="closed"){if(te.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(te.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(ge.byteOffset+ge.bytesFilled!==te.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(ge.bufferByteLength!==te.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(ge.bytesFilled+te.byteLength>ge.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const $e=te.byteLength;ge.buffer=L(te.buffer),$t(q,$e)}function Wn(q,te,ge,$e,He,Ve,Je){te._controlledReadableByteStream=q,te._pullAgain=!1,te._pulling=!1,te._byobRequest=null,te._queue=te._queueTotalSize=void 0,tr(te),te._closeRequested=!1,te._started=!1,te._strategyHWM=Ve,te._pullAlgorithm=$e,te._cancelAlgorithm=He,te._autoAllocateChunkSize=Je,te._pendingPullIntos=new x,q._readableStreamController=te,v(g(ge()),()=>(te._started=!0,ht(te),null),Ge=>(xt(te,Ge),null))}function kr(q){return new TypeError(`ReadableStreamBYOBRequest.prototype.${q} can only be used on a ReadableStreamBYOBRequest`)}function Qr(q){return new TypeError(`ReadableByteStreamController.prototype.${q} can only be used on a ReadableByteStreamController`)}function Zn(q,te){if((q=`${q}`)!="byob")throw new TypeError(`${te} '${q}' is not a valid enumeration value for ReadableStreamReaderMode`);return q}function gn(q){return new Cr(q)}function pi(q,te){q._reader._readIntoRequests.push(te)}function us(q){return q._reader._readIntoRequests.length}function cs(q){const te=q._reader;return te!==void 0&&!!En(te)}Object.defineProperties(Ee.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Ee.prototype.close,"close"),s(Ee.prototype.enqueue,"enqueue"),s(Ee.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ee.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Cr{constructor(te){if(J(te,1,"ReadableStreamBYOBReader"),N(te,"First parameter"),vi(te))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Pe(te._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");X(this,te),this._readIntoRequests=new x}get closed(){return En(this)?this._closedPromise:m(fs("closed"))}cancel(te=void 0){return En(this)?this._ownerReadableStream===void 0?m(fe("cancel")):H(this,te):m(fs("cancel"))}read(te,ge={}){if(!En(this))return m(fs("read"));if(!ArrayBuffer.isView(te))return m(new TypeError("view must be an array buffer view"));if(te.byteLength===0)return m(new TypeError("view must have non-zero byteLength"));if(te.buffer.byteLength===0)return m(new TypeError("view's buffer must have non-zero byteLength"));if(ie(te.buffer))return m(new TypeError("view's buffer has been detached"));let $e;try{$e=function(Xe,pt){var gt;return R(Xe,pt),{min:Ie((gt=Xe==null?void 0:Xe.min)!==null&&gt!==void 0?gt:1,`${pt} has member 'min' that`)}}(ge,"options")}catch(Xe){return m(Xe)}const He=$e.min;if(He===0)return m(new TypeError("options.min must be greater than 0"));if(function(Xe){return Dt(Xe.constructor)}(te)){if(He>te.byteLength)return m(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(He>te.length)return m(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return m(fe("read from"));let Ve,Je;const Ge=h((Xe,pt)=>{Ve=Xe,Je=pt});return mi(this,te,He,{_chunkSteps:Xe=>Ve({value:Xe,done:!1}),_closeSteps:Xe=>Ve({value:Xe,done:!0}),_errorSteps:Xe=>Je(Xe)}),Ge}releaseLock(){if(!En(this))throw fs("releaseLock");this._ownerReadableStream!==void 0&&function(te){Z(te);const ge=new TypeError("Reader was released");$a(te,ge)}(this)}}function En(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_readIntoRequests")&&q instanceof Cr}function mi(q,te,ge,$e){const He=q._ownerReadableStream;He._disturbed=!0,He._state==="errored"?$e._errorSteps(He._storedError):Lt(He._readableStreamController,te,ge,$e)}function $a(q,te){const ge=q._readIntoRequests;q._readIntoRequests=new x,ge.forEach($e=>{$e._errorSteps(te)})}function fs(q){return new TypeError(`ReadableStreamBYOBReader.prototype.${q} can only be used on a ReadableStreamBYOBReader`)}function Un(q,te){const{highWaterMark:ge}=q;if(ge===void 0)return te;if(Pr(ge)||ge<0)throw new RangeError("Invalid highWaterMark");return ge}function $c(q){const{size:te}=q;return te||(()=>1)}function cl(q,te){R(q,te);const ge=q==null?void 0:q.highWaterMark,$e=q==null?void 0:q.size;return{highWaterMark:ge===void 0?void 0:ae(ge),size:$e===void 0?void 0:tv($e,`${te} has member 'size' that`)}}function tv(q,te){return z(q,te),ge=>ae(q(ge))}function dS(q,te,ge){return z(q,ge),$e=>d(q,te,[$e])}function hS(q,te,ge){return z(q,ge),()=>d(q,te,[])}function Lo(q,te,ge){return z(q,ge),$e=>T(q,te,[$e])}function rv(q,te,ge){return z(q,ge),($e,He)=>d(q,te,[$e,He])}function Zl(q,te){if(!fo(q))throw new TypeError(`${te} is not a WritableStream.`)}Object.defineProperties(Cr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(Cr.prototype.cancel,"cancel"),s(Cr.prototype.read,"read"),s(Cr.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Cr.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class Ta{constructor(te={},ge={}){te===void 0?te=null:oe(te,"First parameter");const $e=cl(ge,"Second parameter"),He=function(Je,Ge){R(Je,Ge);const Xe=Je==null?void 0:Je.abort,pt=Je==null?void 0:Je.close,gt=Je==null?void 0:Je.start,Ft=Je==null?void 0:Je.type,_t=Je==null?void 0:Je.write;return{abort:Xe===void 0?void 0:dS(Xe,Je,`${Ge} has member 'abort' that`),close:pt===void 0?void 0:hS(pt,Je,`${Ge} has member 'close' that`),start:gt===void 0?void 0:Lo(gt,Je,`${Ge} has member 'start' that`),write:_t===void 0?void 0:rv(_t,Je,`${Ge} has member 'write' that`),type:Ft}}(te,"First parameter");if(xa(this),He.type!==void 0)throw new RangeError("Invalid type is specified");const Ve=$c($e);(function(Je,Ge,Xe,pt){const gt=Object.create(tu.prototype);let Ft,_t,Ut,Er;Ft=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.write!==void 0?Nr=>Ge.write(Nr,gt):()=>g(void 0),Ut=Ge.close!==void 0?()=>Ge.close():()=>g(void 0),Er=Ge.abort!==void 0?Nr=>Ge.abort(Nr):()=>g(void 0),sp(Je,gt,Ft,_t,Ut,Er,Xe,pt)})(this,He,Un($e,1),Ve)}get locked(){if(!fo(this))throw ld("locked");return Aa(this)}abort(te=void 0){return fo(this)?Aa(this)?m(new TypeError("Cannot abort a stream that already has a writer")):ed(this,te):m(ld("abort"))}close(){return fo(this)?Aa(this)?m(new TypeError("Cannot close a stream that already has a writer")):Fo(this)?m(new TypeError("Cannot close an already-closing stream")):eu(this):m(ld("close"))}getWriter(){if(!fo(this))throw ld("getWriter");return nv(this)}}function nv(q){return new Ws(q)}function xa(q){q._state="writable",q._storedError=void 0,q._writer=void 0,q._writableStreamController=void 0,q._writeRequests=new x,q._inFlightWriteRequest=void 0,q._closeRequest=void 0,q._inFlightCloseRequest=void 0,q._pendingAbortRequest=void 0,q._backpressure=!1}function fo(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_writableStreamController")&&q instanceof Ta}function Aa(q){return q._writer!==void 0}function ed(q,te){var ge;if(q._state==="closed"||q._state==="errored")return g(void 0);q._writableStreamController._abortReason=te,(ge=q._writableStreamController._abortController)===null||ge===void 0||ge.abort(te);const $e=q._state;if($e==="closed"||$e==="errored")return g(void 0);if(q._pendingAbortRequest!==void 0)return q._pendingAbortRequest._promise;let He=!1;$e==="erroring"&&(He=!0,te=void 0);const Ve=h((Je,Ge)=>{q._pendingAbortRequest={_promise:void 0,_resolve:Je,_reject:Ge,_reason:te,_wasAlreadyErroring:He}});return q._pendingAbortRequest._promise=Ve,He||Tc(q,te),Ve}function eu(q){const te=q._state;if(te==="closed"||te==="errored")return m(new TypeError(`The stream (in ${te} state) is not in the writable state and cannot be closed`));const ge=h((Ve,Je)=>{const Ge={_resolve:Ve,_reject:Je};q._closeRequest=Ge}),$e=q._writer;var He;return $e!==void 0&&q._backpressure&&te==="writable"&&le($e),sn(He=q._writableStreamController,av,0),nu(He),ge}function td(q,te){q._state!=="writable"?rd(q):Tc(q,te)}function Tc(q,te){const ge=q._writableStreamController;q._state="erroring",q._storedError=te;const $e=q._writer;$e!==void 0&&iv($e,te),!function(He){return!(He._inFlightWriteRequest===void 0&&He._inFlightCloseRequest===void 0)}(q)&&ge._started&&rd(q)}function rd(q){q._state="errored",q._writableStreamController[O]();const te=q._storedError;if(q._writeRequests.forEach($e=>{$e._reject(te)}),q._writeRequests=new x,q._pendingAbortRequest===void 0)return void nd(q);const ge=q._pendingAbortRequest;if(q._pendingAbortRequest=void 0,ge._wasAlreadyErroring)return ge._reject(te),void nd(q);v(q._writableStreamController[A](ge._reason),()=>(ge._resolve(),nd(q),null),$e=>(ge._reject($e),nd(q),null))}function Fo(q){return q._closeRequest!==void 0||q._inFlightCloseRequest!==void 0}function nd(q){q._closeRequest!==void 0&&(q._closeRequest._reject(q._storedError),q._closeRequest=void 0);const te=q._writer;te!==void 0&&up(te,q._storedError)}function id(q,te){const ge=q._writer;ge!==void 0&&te!==q._backpressure&&(te?function($e){cd($e)}(ge):le(ge)),q._backpressure=te}Object.defineProperties(Ta.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),s(Ta.prototype.abort,"abort"),s(Ta.prototype.close,"close"),s(Ta.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ta.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Ws{constructor(te){if(J(te,1,"WritableStreamDefaultWriter"),Zl(te,"First parameter"),Aa(te))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=te,te._writer=this;const ge=te._state;if(ge==="writable")!Fo(te)&&te._backpressure?cd(this):U(this),xc(this);else if(ge==="erroring")j(this,te._storedError),xc(this);else if(ge==="closed")U(this),xc($e=this),lv($e);else{const He=te._storedError;j(this,He),ud(this,He)}var $e}get closed(){return fl(this)?this._closedPromise:m(dl("closed"))}get desiredSize(){if(!fl(this))throw dl("desiredSize");if(this._ownerWritableStream===void 0)throw Gs("desiredSize");return function(te){const ge=te._ownerWritableStream,$e=ge._state;return $e==="errored"||$e==="erroring"?null:$e==="closed"?0:ap(ge._writableStreamController)}(this)}get ready(){return fl(this)?this._readyPromise:m(dl("ready"))}abort(te=void 0){return fl(this)?this._ownerWritableStream===void 0?m(Gs("abort")):function(ge,$e){return ed(ge._ownerWritableStream,$e)}(this,te):m(dl("abort"))}close(){if(!fl(this))return m(dl("close"));const te=this._ownerWritableStream;return te===void 0?m(Gs("close")):Fo(te)?m(new TypeError("Cannot close an already-closing stream")):od(this)}releaseLock(){if(!fl(this))throw dl("releaseLock");this._ownerWritableStream!==void 0&&ov(this)}write(te=void 0){return fl(this)?this._ownerWritableStream===void 0?m(Gs("write to")):sv(this,te):m(dl("write"))}}function fl(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_ownerWritableStream")&&q instanceof Ws}function od(q){return eu(q._ownerWritableStream)}function pS(q,te){q._closedPromiseState==="pending"?up(q,te):function(ge,$e){ud(ge,$e)}(q,te)}function iv(q,te){q._readyPromiseState==="pending"?re(q,te):function(ge,$e){j(ge,$e)}(q,te)}function ov(q){const te=q._ownerWritableStream,ge=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");iv(q,ge),pS(q,ge),te._writer=void 0,q._ownerWritableStream=void 0}function sv(q,te){const ge=q._ownerWritableStream,$e=ge._writableStreamController,He=function(Ge,Xe){if(Ge._strategySizeAlgorithm===void 0)return 1;try{return Ge._strategySizeAlgorithm(Xe)}catch(pt){return iu(Ge,pt),1}}($e,te);if(ge!==q._ownerWritableStream)return m(Gs("write to"));const Ve=ge._state;if(Ve==="errored")return m(ge._storedError);if(Fo(ge)||Ve==="closed")return m(new TypeError("The stream is closing or closed and cannot be written to"));if(Ve==="erroring")return m(ge._storedError);const Je=function(Ge){return h((Xe,pt)=>{const gt={_resolve:Xe,_reject:pt};Ge._writeRequests.push(gt)})}(ge);return function(Ge,Xe,pt){try{sn(Ge,Xe,pt)}catch(Ft){return void iu(Ge,Ft)}const gt=Ge._controlledWritableStream;!Fo(gt)&&gt._state==="writable"&&id(gt,sd(Ge)),nu(Ge)}($e,te,He),Je}Object.defineProperties(Ws.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),s(Ws.prototype.abort,"abort"),s(Ws.prototype.close,"close"),s(Ws.prototype.releaseLock,"releaseLock"),s(Ws.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ws.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const av={};class tu{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!op(this))throw lp("abortReason");return this._abortReason}get signal(){if(!op(this))throw lp("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(te=void 0){if(!op(this))throw lp("error");this._controlledWritableStream._state==="writable"&&ad(this,te)}[A](te){const ge=this._abortAlgorithm(te);return ru(this),ge}[O](){tr(this)}}function op(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_controlledWritableStream")&&q instanceof tu}function sp(q,te,ge,$e,He,Ve,Je,Ge){te._controlledWritableStream=q,q._writableStreamController=te,te._queue=void 0,te._queueTotalSize=void 0,tr(te),te._abortReason=void 0,te._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),te._started=!1,te._strategySizeAlgorithm=Ge,te._strategyHWM=Je,te._writeAlgorithm=$e,te._closeAlgorithm=He,te._abortAlgorithm=Ve;const Xe=sd(te);id(q,Xe),v(g(ge()),()=>(te._started=!0,nu(te),null),pt=>(te._started=!0,td(q,pt),null))}function ru(q){q._writeAlgorithm=void 0,q._closeAlgorithm=void 0,q._abortAlgorithm=void 0,q._strategySizeAlgorithm=void 0}function ap(q){return q._strategyHWM-q._queueTotalSize}function nu(q){const te=q._controlledWritableStream;if(!q._started||te._inFlightWriteRequest!==void 0)return;if(te._state==="erroring")return void rd(te);if(q._queue.length===0)return;const ge=q._queue.peek().value;ge===av?function($e){const He=$e._controlledWritableStream;(function(Je){Je._inFlightCloseRequest=Je._closeRequest,Je._closeRequest=void 0})(He),ur($e);const Ve=$e._closeAlgorithm();ru($e),v(Ve,()=>(function(Je){Je._inFlightCloseRequest._resolve(void 0),Je._inFlightCloseRequest=void 0,Je._state==="erroring"&&(Je._storedError=void 0,Je._pendingAbortRequest!==void 0&&(Je._pendingAbortRequest._resolve(),Je._pendingAbortRequest=void 0)),Je._state="closed";const Ge=Je._writer;Ge!==void 0&&lv(Ge)}(He),null),Je=>(function(Ge,Xe){Ge._inFlightCloseRequest._reject(Xe),Ge._inFlightCloseRequest=void 0,Ge._pendingAbortRequest!==void 0&&(Ge._pendingAbortRequest._reject(Xe),Ge._pendingAbortRequest=void 0),td(Ge,Xe)}(He,Je),null))}(q):function($e,He){const Ve=$e._controlledWritableStream;(function(Ge){Ge._inFlightWriteRequest=Ge._writeRequests.shift()})(Ve);const Je=$e._writeAlgorithm(He);v(Je,()=>{(function(Xe){Xe._inFlightWriteRequest._resolve(void 0),Xe._inFlightWriteRequest=void 0})(Ve);const Ge=Ve._state;if(ur($e),!Fo(Ve)&&Ge==="writable"){const Xe=sd($e);id(Ve,Xe)}return nu($e),null},Ge=>(Ve._state==="writable"&&ru($e),function(Xe,pt){Xe._inFlightWriteRequest._reject(pt),Xe._inFlightWriteRequest=void 0,td(Xe,pt)}(Ve,Ge),null))}(q,ge)}function iu(q,te){q._controlledWritableStream._state==="writable"&&ad(q,te)}function sd(q){return ap(q)<=0}function ad(q,te){const ge=q._controlledWritableStream;ru(q),Tc(ge,te)}function ld(q){return new TypeError(`WritableStream.prototype.${q} can only be used on a WritableStream`)}function lp(q){return new TypeError(`WritableStreamDefaultController.prototype.${q} can only be used on a WritableStreamDefaultController`)}function dl(q){return new TypeError(`WritableStreamDefaultWriter.prototype.${q} can only be used on a WritableStreamDefaultWriter`)}function Gs(q){return new TypeError("Cannot "+q+" a stream using a released writer")}function xc(q){q._closedPromise=h((te,ge)=>{q._closedPromise_resolve=te,q._closedPromise_reject=ge,q._closedPromiseState="pending"})}function ud(q,te){xc(q),up(q,te)}function up(q,te){q._closedPromise_reject!==void 0&&(S(q._closedPromise),q._closedPromise_reject(te),q._closedPromise_resolve=void 0,q._closedPromise_reject=void 0,q._closedPromiseState="rejected")}function lv(q){q._closedPromise_resolve!==void 0&&(q._closedPromise_resolve(void 0),q._closedPromise_resolve=void 0,q._closedPromise_reject=void 0,q._closedPromiseState="resolved")}function cd(q){q._readyPromise=h((te,ge)=>{q._readyPromise_resolve=te,q._readyPromise_reject=ge}),q._readyPromiseState="pending"}function j(q,te){cd(q),re(q,te)}function U(q){cd(q),le(q)}function re(q,te){q._readyPromise_reject!==void 0&&(S(q._readyPromise),q._readyPromise_reject(te),q._readyPromise_resolve=void 0,q._readyPromise_reject=void 0,q._readyPromiseState="rejected")}function le(q){q._readyPromise_resolve!==void 0&&(q._readyPromise_resolve(void 0),q._readyPromise_resolve=void 0,q._readyPromise_reject=void 0,q._readyPromiseState="fulfilled")}Object.defineProperties(tu.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(tu.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const me=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0,ve=function(){const q=me==null?void 0:me.DOMException;return function(te){if(typeof te!="function"&&typeof te!="object"||te.name!=="DOMException")return!1;try{return new te,!0}catch{return!1}}(q)?q:void 0}()||function(){const q=function(te,ge){this.message=te||"",this.name=ge||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s(q,"DOMException"),q.prototype=Object.create(Error.prototype),Object.defineProperty(q.prototype,"constructor",{value:q,writable:!0,configurable:!0}),q}();function _e(q,te,ge,$e,He,Ve){const Je=D(q),Ge=nv(te);q._disturbed=!0;let Xe=!1,pt=g(void 0);return h((gt,Ft)=>{let _t;if(Ve!==void 0){if(_t=()=>{const rr=Ve.reason!==void 0?Ve.reason:new ve("Aborted","AbortError"),vn=[];$e||vn.push(()=>te._state==="writable"?ed(te,rr):g(void 0)),He||vn.push(()=>q._state==="readable"?Tn(q,rr):g(void 0)),an(()=>Promise.all(vn.map(Rr=>Rr())),!0,rr)},Ve.aborted)return void _t();Ve.addEventListener("abort",_t)}var Ut,Er,Nr;if(Hr(q,Je._closedPromise,rr=>($e?Ar(!0,rr):an(()=>ed(te,rr),!0,rr),null)),Hr(te,Ge._closedPromise,rr=>(He?Ar(!0,rr):an(()=>Tn(q,rr),!0,rr),null)),Ut=q,Er=Je._closedPromise,Nr=()=>(ge?Ar():an(()=>function(rr){const vn=rr._ownerWritableStream,Rr=vn._state;return Fo(vn)||Rr==="closed"?g(void 0):Rr==="errored"?m(vn._storedError):od(rr)}(Ge)),null),Ut._state==="closed"?Nr():p(Er,Nr),Fo(te)||te._state==="closed"){const rr=new TypeError("the destination writable stream closed before all data could be piped to it");He?Ar(!0,rr):an(()=>Tn(q,rr),!0,rr)}function Dn(){const rr=pt;return _(pt,()=>rr!==pt?Dn():void 0)}function Hr(rr,vn,Rr){rr._state==="errored"?Rr(rr._storedError):E(vn,Rr)}function an(rr,vn,Rr){function Ir(){return v(rr(),()=>Ri(vn,Rr),nr=>Ri(!0,nr)),null}Xe||(Xe=!0,te._state!=="writable"||Fo(te)?Ir():p(Dn(),Ir))}function Ar(rr,vn){Xe||(Xe=!0,te._state!=="writable"||Fo(te)?Ri(rr,vn):p(Dn(),()=>Ri(rr,vn)))}function Ri(rr,vn){return ov(Ge),Z(Je),Ve!==void 0&&Ve.removeEventListener("abort",_t),rr?Ft(vn):gt(void 0),null}S(h((rr,vn)=>{(function Rr(Ir){Ir?rr():_(Xe?g(!0):_(Ge._readyPromise,()=>h((nr,ln)=>{Ae(Je,{_chunkSteps:cr=>{pt=_(sv(Ge,cr),void 0,n),nr(!1)},_closeSteps:()=>nr(!0),_errorSteps:ln})})),Rr,vn)})(!1)}))})}class Fe{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Me(this))throw Sn("desiredSize");return gr(this)}close(){if(!Me(this))throw Sn("close");if(!Yt(this))throw new TypeError("The stream is not in a state that permits close");Qe(this)}enqueue(te=void 0){if(!Me(this))throw Sn("enqueue");if(!Yt(this))throw new TypeError("The stream is not in a state that permits enqueue");return bt(this,te)}error(te=void 0){if(!Me(this))throw Sn("error");qt(this,te)}[C](te){tr(this);const ge=this._cancelAlgorithm(te);return lt(this),ge}[F](te){const ge=this._controlledReadableStream;if(this._queue.length>0){const $e=ur(this);this._closeRequested&&this._queue.length===0?(lt(this),pl(ge)):Ke(this),te._chunkSteps($e)}else M(ge,te),Ke(this)}[V](){}}function Me(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_controlledReadableStream")&&q instanceof Fe}function Ke(q){if(it(q)){if(q._pulling)return void(q._pullAgain=!0);q._pulling=!0,v(q._pullAlgorithm(),()=>(q._pulling=!1,q._pullAgain&&(q._pullAgain=!1,Ke(q)),null),te=>(qt(q,te),null))}}function it(q){const te=q._controlledReadableStream;return!Yt(q)||!q._started?!1:vi(te)&&se(te)>0?!0:gr(q)>0}function lt(q){q._pullAlgorithm=void 0,q._cancelAlgorithm=void 0,q._strategySizeAlgorithm=void 0}function Qe(q){if(!Yt(q))return;const te=q._controlledReadableStream;q._closeRequested=!0,q._queue.length===0&&(lt(q),pl(te))}function bt(q,te){if(!Yt(q))return;const ge=q._controlledReadableStream;if(vi(ge)&&se(ge)>0)K(ge,te,!1);else{let $e;try{$e=q._strategySizeAlgorithm(te)}catch(He){throw qt(q,He),He}try{sn(q,te,$e)}catch(He){throw qt(q,He),He}}Ke(q)}function qt(q,te){const ge=q._controlledReadableStream;ge._state==="readable"&&(tr(q),lt(q),ps(ge,te))}function gr(q){const te=q._controlledReadableStream._state;return te==="errored"?null:te==="closed"?0:q._strategyHWM-q._queueTotalSize}function Yt(q){const te=q._controlledReadableStream._state;return!q._closeRequested&&te==="readable"}function Gn(q,te,ge,$e,He,Ve,Je){te._controlledReadableStream=q,te._queue=void 0,te._queueTotalSize=void 0,tr(te),te._started=!1,te._closeRequested=!1,te._pullAgain=!1,te._pulling=!1,te._strategySizeAlgorithm=Je,te._strategyHWM=Ve,te._pullAlgorithm=$e,te._cancelAlgorithm=He,q._readableStreamController=te,v(g(ge()),()=>(te._started=!0,Ke(te),null),Ge=>(qt(te,Ge),null))}function Sn(q){return new TypeError(`ReadableStreamDefaultController.prototype.${q} can only be used on a ReadableStreamDefaultController`)}function ds(q,te){return Pe(q._readableStreamController)?function(ge){let $e,He,Ve,Je,Ge,Xe=D(ge),pt=!1,gt=!1,Ft=!1,_t=!1,Ut=!1;const Er=h(Rr=>{Ge=Rr});function Nr(Rr){E(Rr._closedPromise,Ir=>(Rr!==Xe||(xt(Ve._readableStreamController,Ir),xt(Je._readableStreamController,Ir),_t&&Ut||Ge(void 0)),null))}function Dn(){En(Xe)&&(Z(Xe),Xe=D(ge),Nr(Xe)),Ae(Xe,{_chunkSteps:Rr=>{$(()=>{gt=!1,Ft=!1;const Ir=Rr;let nr=Rr;if(!_t&&!Ut)try{nr=or(Rr)}catch(ln){return xt(Ve._readableStreamController,ln),xt(Je._readableStreamController,ln),void Ge(Tn(ge,ln))}_t||zt(Ve._readableStreamController,Ir),Ut||zt(Je._readableStreamController,nr),pt=!1,gt?an():Ft&&Ar()})},_closeSteps:()=>{pt=!1,_t||yt(Ve._readableStreamController),Ut||yt(Je._readableStreamController),Ve._readableStreamController._pendingPullIntos.length>0&&Vr(Ve._readableStreamController,0),Je._readableStreamController._pendingPullIntos.length>0&&Vr(Je._readableStreamController,0),_t&&Ut||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function Hr(Rr,Ir){pe(Xe)&&(Z(Xe),Xe=gn(ge),Nr(Xe));const nr=Ir?Je:Ve,ln=Ir?Ve:Je;mi(Xe,Rr,1,{_chunkSteps:cr=>{$(()=>{gt=!1,Ft=!1;const dn=Ir?Ut:_t;if(Ir?_t:Ut)dn||mn(nr._readableStreamController,cr);else{let mo;try{mo=or(cr)}catch(wi){return xt(nr._readableStreamController,wi),xt(ln._readableStreamController,wi),void Ge(Tn(ge,wi))}dn||mn(nr._readableStreamController,cr),zt(ln._readableStreamController,mo)}pt=!1,gt?an():Ft&&Ar()})},_closeSteps:cr=>{pt=!1;const dn=Ir?Ut:_t,mo=Ir?_t:Ut;dn||yt(nr._readableStreamController),mo||yt(ln._readableStreamController),cr!==void 0&&(dn||mn(nr._readableStreamController,cr),!mo&&ln._readableStreamController._pendingPullIntos.length>0&&Vr(ln._readableStreamController,0)),dn&&mo||Ge(void 0)},_errorSteps:()=>{pt=!1}})}function an(){if(pt)return gt=!0,g(void 0);pt=!0;const Rr=en(Ve._readableStreamController);return Rr===null?Dn():Hr(Rr._view,!1),g(void 0)}function Ar(){if(pt)return Ft=!0,g(void 0);pt=!0;const Rr=en(Je._readableStreamController);return Rr===null?Dn():Hr(Rr._view,!0),g(void 0)}function Ri(Rr){if(_t=!0,$e=Rr,Ut){const Ir=G([$e,He]),nr=Tn(ge,Ir);Ge(nr)}return Er}function rr(Rr){if(Ut=!0,He=Rr,_t){const Ir=G([$e,He]),nr=Tn(ge,Ir);Ge(nr)}return Er}function vn(){}return Ve=su(vn,an,Ri),Je=su(vn,Ar,rr),Nr(Xe),[Ve,Je]}(q):function(ge,$e){const He=D(ge);let Ve,Je,Ge,Xe,pt,gt=!1,Ft=!1,_t=!1,Ut=!1;const Er=h(Ar=>{pt=Ar});function Nr(){return gt?(Ft=!0,g(void 0)):(gt=!0,Ae(He,{_chunkSteps:Ar=>{$(()=>{Ft=!1;const Ri=Ar,rr=Ar;_t||bt(Ge._readableStreamController,Ri),Ut||bt(Xe._readableStreamController,rr),gt=!1,Ft&&Nr()})},_closeSteps:()=>{gt=!1,_t||Qe(Ge._readableStreamController),Ut||Qe(Xe._readableStreamController),_t&&Ut||pt(void 0)},_errorSteps:()=>{gt=!1}}),g(void 0))}function Dn(Ar){if(_t=!0,Ve=Ar,Ut){const Ri=G([Ve,Je]),rr=Tn(ge,Ri);pt(rr)}return Er}function Hr(Ar){if(Ut=!0,Je=Ar,_t){const Ri=G([Ve,Je]),rr=Tn(ge,Ri);pt(rr)}return Er}function an(){}return Ge=Ni(an,Nr,Dn),Xe=Ni(an,Nr,Hr),E(He._closedPromise,Ar=>(qt(Ge._readableStreamController,Ar),qt(Xe._readableStreamController,Ar),_t&&Ut||pt(void 0),null)),[Ge,Xe]}(q)}function hs(q){return i(te=q)&&te.getReader!==void 0?function(ge){let $e;function He(){let Je;try{Je=ge.read()}catch(Ge){return m(Ge)}return y(Je,Ge=>{if(!i(Ge))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(Ge.done)Qe($e._readableStreamController);else{const Xe=Ge.value;bt($e._readableStreamController,Xe)}})}function Ve(Je){try{return g(ge.cancel(Je))}catch(Ge){return m(Ge)}}return $e=Ni(n,He,Ve,0),$e}(q.getReader()):function(ge){let $e;const He=Be(ge,"async");function Ve(){let Ge;try{Ge=st(He)}catch(Xe){return m(Xe)}return y(g(Ge),Xe=>{if(!i(Xe))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(Xe.done)Qe($e._readableStreamController);else{const pt=Xe.value;bt($e._readableStreamController,pt)}})}function Je(Ge){const Xe=He.iterator;let pt;try{pt=Se(Xe,"return")}catch(gt){return m(gt)}return pt===void 0?g(void 0):y(d(pt,Xe,[Ge]),gt=>{if(!i(gt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return $e=Ni(n,Ve,Je,0),$e}(q);var te}function vr(q,te,ge){return z(q,ge),$e=>d(q,te,[$e])}function hl(q,te,ge){return z(q,ge),$e=>d(q,te,[$e])}function xr(q,te,ge){return z(q,ge),$e=>T(q,te,[$e])}function $n(q,te){if((q=`${q}`)!="bytes")throw new TypeError(`${te} '${q}' is not a valid enumeration value for ReadableStreamType`);return q}function ou(q,te){R(q,te);const ge=q==null?void 0:q.preventAbort,$e=q==null?void 0:q.preventCancel,He=q==null?void 0:q.preventClose,Ve=q==null?void 0:q.signal;return Ve!==void 0&&function(Je,Ge){if(!function(Xe){if(typeof Xe!="object"||Xe===null)return!1;try{return typeof Xe.aborted=="boolean"}catch{return!1}}(Je))throw new TypeError(`${Ge} is not an AbortSignal.`)}(Ve,`${te} has member 'signal' that`),{preventAbort:!!ge,preventCancel:!!$e,preventClose:!!He,signal:Ve}}Object.defineProperties(Fe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Fe.prototype.close,"close"),s(Fe.prototype.enqueue,"enqueue"),s(Fe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Fe.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Kn{constructor(te={},ge={}){te===void 0?te=null:oe(te,"First parameter");const $e=cl(ge,"Second parameter"),He=function(Ve,Je){R(Ve,Je);const Ge=Ve,Xe=Ge==null?void 0:Ge.autoAllocateChunkSize,pt=Ge==null?void 0:Ge.cancel,gt=Ge==null?void 0:Ge.pull,Ft=Ge==null?void 0:Ge.start,_t=Ge==null?void 0:Ge.type;return{autoAllocateChunkSize:Xe===void 0?void 0:Ie(Xe,`${Je} has member 'autoAllocateChunkSize' that`),cancel:pt===void 0?void 0:vr(pt,Ge,`${Je} has member 'cancel' that`),pull:gt===void 0?void 0:hl(gt,Ge,`${Je} has member 'pull' that`),start:Ft===void 0?void 0:xr(Ft,Ge,`${Je} has member 'start' that`),type:_t===void 0?void 0:$n(_t,`${Je} has member 'type' that`)}}(te,"First parameter");if(ho(this),He.type==="bytes"){if($e.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(Ve,Je,Ge){const Xe=Object.create(Ee.prototype);let pt,gt,Ft;pt=Je.start!==void 0?()=>Je.start(Xe):()=>{},gt=Je.pull!==void 0?()=>Je.pull(Xe):()=>g(void 0),Ft=Je.cancel!==void 0?Ut=>Je.cancel(Ut):()=>g(void 0);const _t=Je.autoAllocateChunkSize;if(_t===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Wn(Ve,Xe,pt,gt,Ft,Ge,_t)})(this,He,Un($e,0))}else{const Ve=$c($e);(function(Je,Ge,Xe,pt){const gt=Object.create(Fe.prototype);let Ft,_t,Ut;Ft=Ge.start!==void 0?()=>Ge.start(gt):()=>{},_t=Ge.pull!==void 0?()=>Ge.pull(gt):()=>g(void 0),Ut=Ge.cancel!==void 0?Er=>Ge.cancel(Er):()=>g(void 0),Gn(Je,gt,Ft,_t,Ut,Xe,pt)})(this,He,Un($e,1),Ve)}}get locked(){if(!gi(this))throw yi("locked");return vi(this)}cancel(te=void 0){return gi(this)?vi(this)?m(new TypeError("Cannot cancel a stream that already has a reader")):Tn(this,te):m(yi("cancel"))}getReader(te=void 0){if(!gi(this))throw yi("getReader");return function(ge,$e){R(ge,$e);const He=ge==null?void 0:ge.mode;return{mode:He===void 0?void 0:Zn(He,`${$e} has member 'mode' that`)}}(te,"First parameter").mode===void 0?D(this):gn(this)}pipeThrough(te,ge={}){if(!gi(this))throw yi("pipeThrough");J(te,1,"pipeThrough");const $e=function(Ve,Je){R(Ve,Je);const Ge=Ve==null?void 0:Ve.readable;Y(Ge,"readable","ReadableWritablePair"),N(Ge,`${Je} has member 'readable' that`);const Xe=Ve==null?void 0:Ve.writable;return Y(Xe,"writable","ReadableWritablePair"),Zl(Xe,`${Je} has member 'writable' that`),{readable:Ge,writable:Xe}}(te,"First parameter"),He=ou(ge,"Second parameter");if(vi(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Aa($e.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return S(_e(this,$e.writable,He.preventClose,He.preventAbort,He.preventCancel,He.signal)),$e.readable}pipeTo(te,ge={}){if(!gi(this))return m(yi("pipeTo"));if(te===void 0)return m("Parameter 1 is required in 'pipeTo'.");if(!fo(te))return m(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let $e;try{$e=ou(ge,"Second parameter")}catch(He){return m(He)}return vi(this)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Aa(te)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_e(this,te,$e.preventClose,$e.preventAbort,$e.preventCancel,$e.signal)}tee(){if(!gi(this))throw yi("tee");return G(ds(this))}values(te=void 0){if(!gi(this))throw yi("values");return function(ge,$e){const He=D(ge),Ve=new wt(He,$e),Je=Object.create(ut);return Je._asyncIteratorImpl=Ve,Je}(this,function(ge,$e){return R(ge,$e),{preventCancel:!!(ge==null?void 0:ge.preventCancel)}}(te,"First parameter").preventCancel)}[ke](te){return this.values(te)}static from(te){return hs(te)}}function Ni(q,te,ge,$e=1,He=()=>1){const Ve=Object.create(Kn.prototype);return ho(Ve),Gn(Ve,Object.create(Fe.prototype),q,te,ge,$e,He),Ve}function su(q,te,ge){const $e=Object.create(Kn.prototype);return ho($e),Wn($e,Object.create(Ee.prototype),q,te,ge,0,void 0),$e}function ho(q){q._state="readable",q._reader=void 0,q._storedError=void 0,q._disturbed=!1}function gi(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_readableStreamController")&&q instanceof Kn}function vi(q){return q._reader!==void 0}function Tn(q,te){if(q._disturbed=!0,q._state==="closed")return g(void 0);if(q._state==="errored")return m(q._storedError);pl(q);const ge=q._reader;if(ge!==void 0&&En(ge)){const $e=ge._readIntoRequests;ge._readIntoRequests=new x,$e.forEach(He=>{He._closeSteps(void 0)})}return y(q._readableStreamController[C](te),n)}function pl(q){q._state="closed";const te=q._reader;if(te!==void 0&&(B(te),pe(te))){const ge=te._readRequests;te._readRequests=new x,ge.forEach($e=>{$e._closeSteps()})}}function ps(q,te){q._state="errored",q._storedError=te;const ge=q._reader;ge!==void 0&&(k(ge,te),pe(ge)?Le(ge,te):$a(ge,te))}function yi(q){return new TypeError(`ReadableStream.prototype.${q} can only be used on a ReadableStream`)}function uv(q,te){R(q,te);const ge=q==null?void 0:q.highWaterMark;return Y(ge,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ae(ge)}}Object.defineProperties(Kn,{from:{enumerable:!0}}),Object.defineProperties(Kn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),s(Kn.from,"from"),s(Kn.prototype.cancel,"cancel"),s(Kn.prototype.getReader,"getReader"),s(Kn.prototype.pipeThrough,"pipeThrough"),s(Kn.prototype.pipeTo,"pipeTo"),s(Kn.prototype.tee,"tee"),s(Kn.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Kn.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Kn.prototype,ke,{value:Kn.prototype.values,writable:!0,configurable:!0});const cv=q=>q.byteLength;s(cv,"size");class fd{constructor(te){J(te,1,"ByteLengthQueuingStrategy"),te=uv(te,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=te.highWaterMark}get highWaterMark(){if(!Ac(this))throw Mr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ac(this))throw Mr("size");return cv}}function Mr(q){return new TypeError(`ByteLengthQueuingStrategy.prototype.${q} can only be used on a ByteLengthQueuingStrategy`)}function Ac(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_byteLengthQueuingStrategyHighWaterMark")&&q instanceof fd}Object.defineProperties(fd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fd.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const po=()=>1;s(po,"size");class Ks{constructor(te){J(te,1,"CountQueuingStrategy"),te=uv(te,"First parameter"),this._countQueuingStrategyHighWaterMark=te.highWaterMark}get highWaterMark(){if(!dv(this))throw fv("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!dv(this))throw fv("size");return po}}function fv(q){return new TypeError(`CountQueuingStrategy.prototype.${q} can only be used on a CountQueuingStrategy`)}function dv(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_countQueuingStrategyHighWaterMark")&&q instanceof Ks}function hv(q,te,ge){return z(q,ge),$e=>d(q,te,[$e])}function ml(q,te,ge){return z(q,ge),$e=>T(q,te,[$e])}function cp(q,te,ge){return z(q,ge),($e,He)=>d(q,te,[$e,He])}function Oa(q,te,ge){return z(q,ge),$e=>d(q,te,[$e])}Object.defineProperties(Ks.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ks.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Oc{constructor(te={},ge={},$e={}){te===void 0&&(te=null);const He=cl(ge,"Second parameter"),Ve=cl($e,"Third parameter"),Je=function(_t,Ut){R(_t,Ut);const Er=_t==null?void 0:_t.cancel,Nr=_t==null?void 0:_t.flush,Dn=_t==null?void 0:_t.readableType,Hr=_t==null?void 0:_t.start,an=_t==null?void 0:_t.transform,Ar=_t==null?void 0:_t.writableType;return{cancel:Er===void 0?void 0:Oa(Er,_t,`${Ut} has member 'cancel' that`),flush:Nr===void 0?void 0:hv(Nr,_t,`${Ut} has member 'flush' that`),readableType:Dn,start:Hr===void 0?void 0:ml(Hr,_t,`${Ut} has member 'start' that`),transform:an===void 0?void 0:cp(an,_t,`${Ut} has member 'transform' that`),writableType:Ar}}(te,"First parameter");if(Je.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Je.writableType!==void 0)throw new RangeError("Invalid writableType specified");const Ge=Un(Ve,0),Xe=$c(Ve),pt=Un(He,1),gt=$c(He);let Ft;(function(_t,Ut,Er,Nr,Dn,Hr){function an(){return Ut}function Ar(Ir){return function(nr,ln){const cr=nr._transformStreamController;return nr._backpressure?y(nr._backpressureChangePromise,()=>{const dn=nr._writable;if(dn._state==="erroring")throw dn._storedError;return hd(cr,ln)}):hd(cr,ln)}(_t,Ir)}function Ri(Ir){return function(nr,ln){const cr=nr._transformStreamController;if(cr._finishPromise!==void 0)return cr._finishPromise;const dn=nr._readable;cr._finishPromise=h((wi,mS)=>{cr._finishPromise_resolve=wi,cr._finishPromise_reject=mS});const mo=cr._cancelAlgorithm(ln);return cu(cr),v(mo,()=>(dn._state==="errored"?We(cr,dn._storedError):(qt(dn._readableStreamController,ln),je(cr)),null),wi=>(qt(dn._readableStreamController,wi),We(cr,wi),null)),cr._finishPromise}(_t,Ir)}function rr(){return function(Ir){const nr=Ir._transformStreamController;if(nr._finishPromise!==void 0)return nr._finishPromise;const ln=Ir._readable;nr._finishPromise=h((dn,mo)=>{nr._finishPromise_resolve=dn,nr._finishPromise_reject=mo});const cr=nr._flushAlgorithm();return cu(nr),v(cr,()=>(ln._state==="errored"?We(nr,ln._storedError):(Qe(ln._readableStreamController),je(nr)),null),dn=>(qt(ln._readableStreamController,dn),We(nr,dn),null)),nr._finishPromise}(_t)}function vn(){return function(Ir){return dd(Ir,!1),Ir._backpressureChangePromise}(_t)}function Rr(Ir){return function(nr,ln){const cr=nr._transformStreamController;if(cr._finishPromise!==void 0)return cr._finishPromise;const dn=nr._writable;cr._finishPromise=h((wi,mS)=>{cr._finishPromise_resolve=wi,cr._finishPromise_reject=mS});const mo=cr._cancelAlgorithm(ln);return cu(cr),v(mo,()=>(dn._state==="errored"?We(cr,dn._storedError):(iu(dn._writableStreamController,ln),Nc(nr),je(cr)),null),wi=>(iu(dn._writableStreamController,wi),Nc(nr),We(cr,wi),null)),cr._finishPromise}(_t,Ir)}_t._writable=function(Ir,nr,ln,cr,dn=1,mo=()=>1){const wi=Object.create(Ta.prototype);return xa(wi),sp(wi,Object.create(tu.prototype),Ir,nr,ln,cr,dn,mo),wi}(an,Ar,rr,Ri,Er,Nr),_t._readable=Ni(an,vn,Rr,Dn,Hr),_t._backpressure=void 0,_t._backpressureChangePromise=void 0,_t._backpressureChangePromise_resolve=void 0,dd(_t,!0),_t._transformStreamController=void 0})(this,h(_t=>{Ft=_t}),pt,gt,Ge,Xe),function(_t,Ut){const Er=Object.create(Bo.prototype);let Nr,Dn,Hr;Nr=Ut.transform!==void 0?an=>Ut.transform(an,Er):an=>{try{return pv(Er,an),g(void 0)}catch(Ar){return m(Ar)}},Dn=Ut.flush!==void 0?()=>Ut.flush(Er):()=>g(void 0),Hr=Ut.cancel!==void 0?an=>Ut.cancel(an):()=>g(void 0),function(an,Ar,Ri,rr,vn){Ar._controlledTransformStream=an,an._transformStreamController=Ar,Ar._transformAlgorithm=Ri,Ar._flushAlgorithm=rr,Ar._cancelAlgorithm=vn,Ar._finishPromise=void 0,Ar._finishPromise_resolve=void 0,Ar._finishPromise_reject=void 0}(_t,Er,Nr,Dn,Hr)}(this,Je),Je.start!==void 0?Ft(Je.start(this._transformStreamController)):Ft(void 0)}get readable(){if(!au(this))throw Ze("readable");return this._readable}get writable(){if(!au(this))throw Ze("writable");return this._writable}}function au(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_transformStreamController")&&q instanceof Oc}function Pc(q,te){qt(q._readable._readableStreamController,te),lu(q,te)}function lu(q,te){cu(q._transformStreamController),iu(q._writable._writableStreamController,te),Nc(q)}function Nc(q){q._backpressure&&dd(q,!1)}function dd(q,te){q._backpressureChangePromise!==void 0&&q._backpressureChangePromise_resolve(),q._backpressureChangePromise=h(ge=>{q._backpressureChangePromise_resolve=ge}),q._backpressure=te}Object.defineProperties(Oc.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Oc.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class Bo{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!uu(this))throw Rc("desiredSize");return gr(this._controlledTransformStream._readable._readableStreamController)}enqueue(te=void 0){if(!uu(this))throw Rc("enqueue");pv(this,te)}error(te=void 0){if(!uu(this))throw Rc("error");var ge;ge=te,Pc(this._controlledTransformStream,ge)}terminate(){if(!uu(this))throw Rc("terminate");(function(te){const ge=te._controlledTransformStream;Qe(ge._readable._readableStreamController);const $e=new TypeError("TransformStream terminated");lu(ge,$e)})(this)}}function uu(q){return!!i(q)&&!!Object.prototype.hasOwnProperty.call(q,"_controlledTransformStream")&&q instanceof Bo}function cu(q){q._transformAlgorithm=void 0,q._flushAlgorithm=void 0,q._cancelAlgorithm=void 0}function pv(q,te){const ge=q._controlledTransformStream,$e=ge._readable._readableStreamController;if(!Yt($e))throw new TypeError("Readable side is not in a state that permits enqueue");try{bt($e,te)}catch(Ve){throw lu(ge,Ve),ge._readable._storedError}(function(Ve){return!it(Ve)})($e)!==ge._backpressure&&dd(ge,!0)}function hd(q,te){return y(q._transformAlgorithm(te),void 0,ge=>{throw Pc(q._controlledTransformStream,ge),ge})}function Rc(q){return new TypeError(`TransformStreamDefaultController.prototype.${q} can only be used on a TransformStreamDefaultController`)}function je(q){q._finishPromise_resolve!==void 0&&(q._finishPromise_resolve(),q._finishPromise_resolve=void 0,q._finishPromise_reject=void 0)}function We(q,te){q._finishPromise_reject!==void 0&&(S(q._finishPromise),q._finishPromise_reject(te),q._finishPromise_resolve=void 0,q._finishPromise_reject=void 0)}function Ze(q){return new TypeError(`TransformStream.prototype.${q} can only be used on a TransformStream`)}Object.defineProperties(Bo.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Bo.prototype.enqueue,"enqueue"),s(Bo.prototype.error,"error"),s(Bo.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bo.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),r.ByteLengthQueuingStrategy=fd,r.CountQueuingStrategy=Ks,r.ReadableByteStreamController=Ee,r.ReadableStream=Kn,r.ReadableStreamBYOBReader=Cr,r.ReadableStreamBYOBRequest=Jt,r.ReadableStreamDefaultController=Fe,r.ReadableStreamDefaultReader=de,r.TransformStream=Oc,r.TransformStreamDefaultController=Bo,r.WritableStream=Ta,r.WritableStreamDefaultController=tu,r.WritableStreamDefaultWriter=Ws})}}),kR=Ne({"../core/dist/protocol-helpers.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=(zs(),Or(os)),r=jR(),n=ko(),{debug:i,warn:o}=(0,n.createLoggers)("core","protocol-helpers");function s(c){return class extends c{set nodeStream(h){this._nodeStream=h}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(h){this._wotStream=h}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}var a=s(t.Readable),l=s(r.ReadableStream);function u(c){return c instanceof l||c instanceof a}var f=class{static updatePropertyFormWithTemplate(c,h){for(const g of h.forms??[])if(g.href,g.contentType!=null){c.contentType=g.contentType;return}}static updateActionFormWithTemplate(c,h){for(const g of h.forms??[])if(g.href,g.contentType!=null){c.contentType=g.contentType;return}}static updateEventFormWithTemplate(c,h){for(const g of h.forms??[])if(g.href,g.contentType!=null){c.contentType=g.contentType;return}}static getPropertyContentType(c,h,g){var m;if(h!=null&&g!=null&&(c==null?void 0:c.properties)!=null&&c.properties[h]!=null&&c.properties[h].forms!=null&&Array.isArray(c.properties[h].forms)){for(const _ of c.properties[h].forms)if((m=_.href)!=null&&m.startsWith(g)&&_.contentType!=null)return _.contentType}}static getActionContentType(c,h,g){var m;if(h!=null&&g!=null&&(c!=null&&c.actions)&&c.actions!=null&&Array.isArray((m=c.actions[h])==null?void 0:m.forms)){for(const _ of c.actions[h].forms)if(_.href&&_.href.startsWith(g)&&_.contentType!=null)return _.contentType}}static getEventContentType(c,h,g){var m;if(h!=null&&g!=null&&(c!=null&&c.events)&&((m=c==null?void 0:c.events[h])==null?void 0:m.forms)!=null&&Array.isArray(c.events[h].forms)){for(const _ of c.events[h].forms)if(_.href&&_.href.startsWith(g)&&_.contentType!=null)return _.contentType}}static toWoTStream(c){if(u(c))return c.wotStream;const h=new l({start:g=>{c.on("data",m=>g.enqueue(m)),c.on("error",m=>g.error(m)),c.on("end",()=>g.close())},cancel:g=>{c instanceof t.Readable&&c.destroy(g)}});return c instanceof t.Readable?h.nodeStream=c:h.nodeStream=new t.Readable(c),h}static toNodeStream(c){if(u(c))return c.nodeStream;if(c instanceof t.Readable)return c;const h=c.getReader(),g=new a({read:m=>{h.read().then(_=>{g.push(_.value),_.done&&g.push(null)})},destroy:(m,_)=>{h.releaseLock(),c.cancel(m).then(()=>_(m))}});return g.wotStream=c,g.nodeStream=g,g}static readStreamFully(c){return new Promise((h,g)=>{if(c!=null){const m=[];c.on("data",_=>m.push(_)),c.on("error",g),c.on("end",()=>{m[0]!=null&&(m[0]instanceof Array||m[0]instanceof Yr||m[0]instanceof Uint8Array)?h(Yr.concat(m)):m[0]!=null&&typeof m[0]=="string"?h(Yr.from(m.join())):h(Yr.from(m))})}else i("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),h(Yr.alloc(0))})}static findRequestMatchingFormIndex(c,h,g,m){if(c===void 0)return 0;let _=c.filter(v=>{const p=new URL(v.href.replace(/(\{[\S]*\})/,"")),E=g!==void 0?g.indexOf("?")!==-1?g.split("?")[0]:g:void 0;return p.protocol===h+":"&&(E===void 0||p.pathname===E)});if(m!=null){const v=_.filter(p=>p.contentType===m);v.length>0&&(_=v)}return _.length>0?c.indexOf(_[0]):0}static getFormIndexForOperation(c,h,g,m){var p;let _=-1,v=[];switch(h){case"property":if(c.readOnly===!0&&g==="writeproperty"||c.writeOnly===!0&&g==="readproperty")return _;c.readOnly!==!0&&v.push("writeproperty"),c.writeOnly!==!0&&v.push("readproperty");break;case"action":v=["invokeaction"];break;case"event":v=["subscribeevent","unsubscribeevent"];break}if(v.indexOf(g)!==-1&&(g=void 0),c.forms!==void 0&&m!==void 0&&c.forms.length>m){const E=c.forms[m];E!=null&&(g==null||((p=E.op)==null?void 0:p.includes(g))===!0)&&(_=m)}return c.forms!==void 0&&_===-1&&(g!==void 0?c.forms.every(E=>{var y;return((y=E.op)==null?void 0:y.includes(g))===!0&&(_=c.forms.indexOf(E)),_===-1}):c.forms.every(E=>(_=c.forms.indexOf(E),!1))),_}static getPropertyOpValues(c){const h=[];return c.readOnly!==!0&&h.push("writeproperty"),c.writeOnly!==!0&&h.push("readproperty"),h.length===0&&o("Property was declared both as readOnly and writeOnly."),c.observable===!0&&(h.push("observeproperty"),h.push("unobserveproperty")),h}};e.default=f}}),Jq=Ne({"../core/dist/content.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultContent=e.Content=void 0;var r=ul(),n=t(kR()),i=class{constructor(s,a){this.type=s,this.body=a}toBuffer(){return n.default.readStreamFully(this.body)}};e.Content=i;var o=class extends i{constructor(s){super(r.ContentSerdes.DEFAULT,s)}};e.DefaultContent=o}}),Jh=Ne({"../../node_modules/nofilter/lib/index.js"(e,t){Te();var r=(zs(),Or(os)),{Buffer:n}=(dc(),Or(fc)),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),o=class Pw extends r.Transform{constructor(a,l,u={}){let f=null,c=null;switch(typeof a){case"object":n.isBuffer(a)?f=a:a&&(u=a);break;case"string":f=a;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof l){case"object":l&&(u=l);break;case"string":c=l;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!u||typeof u!="object")throw new TypeError("Invalid options");f==null&&(f=u.input),c==null&&(c=u.inputEncoding),delete u.input,delete u.inputEncoding;const h=u.watchPipe==null?!0:u.watchPipe;delete u.watchPipe;const g=!!u.readError;delete u.readError,super(u),this.readError=g,h&&this.on("pipe",m=>{const _=m._readableState.objectMode;if(this.length>0&&_!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=_,this._writableState.objectMode=_}),f!=null&&this.end(f,c)}static isNoFilter(a){return a instanceof this}static compare(a,l){if(!(a instanceof this))throw new TypeError("Arguments must be NoFilters");return a===l?0:a.compare(l)}static concat(a,l){if(!Array.isArray(a))throw new TypeError("list argument must be an Array of NoFilters");if(a.length===0||l===0)return n.alloc(0);l==null&&(l=a.reduce((h,g)=>{if(!(g instanceof Pw))throw new TypeError("list argument must be an Array of NoFilters");return h+g.length},0));let u=!0,f=!0;const c=a.map(h=>{if(!(h instanceof Pw))throw new TypeError("list argument must be an Array of NoFilters");const g=h.slice();return n.isBuffer(g)?f=!1:u=!1,g});if(u)return n.concat(c,l);if(f)return[].concat(...c).slice(0,l);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(a,l,u){!this._readableState.objectMode&&!n.isBuffer(a)&&(a=n.from(a,l)),this.push(a),u()}_bufArray(){let a=this._readableState.buffer;if(!Array.isArray(a)){let l=a.head;for(a=[];l!=null;)a.push(l.data),l=l.next}return a}read(a){const l=super.read(a);if(l!=null){if(this.emit("read",l),this.readError&&l.length<a)throw new Error(`Read ${l.length}, wanted ${a}`)}else if(this.readError)throw new Error(`No data available, wanted ${a}`);return l}readFull(a){let l=null,u=null,f=null;return new Promise((c,h)=>{if(this.length>=a){c(this.read(a));return}if(this.writableFinished){h(new Error(`Stream finished before ${a} bytes were available`));return}l=g=>{this.length>=a&&c(this.read(a))},u=()=>{h(new Error(`Stream finished before ${a} bytes were available`))},f=h,this.on("readable",l),this.on("error",f),this.on("finish",u)}).finally(()=>{l&&(this.removeListener("readable",l),this.removeListener("error",f),this.removeListener("finish",u))})}promise(a){let l=!1;return new Promise((u,f)=>{this.on("finish",()=>{const c=this.read();a!=null&&!l&&(l=!0,a(null,c)),u(c)}),this.on("error",c=>{a!=null&&!l&&(l=!0,a(c)),f(c)})})}compare(a){if(!(a instanceof Pw))throw new TypeError("Arguments must be NoFilters");if(this===a)return 0;const l=this.slice(),u=a.slice();if(n.isBuffer(l)&&n.isBuffer(u))return l.compare(u);throw new Error("Cannot compare streams in object mode")}equals(a){return this.compare(a)===0}slice(a,l){if(this._readableState.objectMode)return this._bufArray().slice(a,l);const u=this._bufArray();switch(u.length){case 0:return n.alloc(0);case 1:return u[0].slice(a,l);default:return n.concat(u).slice(a,l)}}get(a){return this.slice()[a]}toJSON(){const a=this.slice();return n.isBuffer(a)?a.toJSON():a}toString(a,l,u){const f=this.slice(l,u);return n.isBuffer(f)?!a||a==="utf8"?i.decode(f):f.toString(a):JSON.stringify(f)}[Symbol.for("nodejs.util.inspect.custom")](a,l){const f=this._bufArray().map(c=>n.isBuffer(c)?l.stylize(c.toString("hex"),"string"):JSON.stringify(c)).join(", ");return`${this.constructor.name} [${f}]`}get length(){return this._readableState.length}writeBigInt(a){let l=a.toString(16);if(a<0){const u=BigInt(Math.floor(l.length/2));a=(BigInt(1)<<u*BigInt(8))+a,l=a.toString(16)}return l.length%2&&(l=`0${l}`),this.push(n.from(l,"hex"))}readUBigInt(a){const l=this.read(a);return n.isBuffer(l)?BigInt(`0x${l.toString("hex")}`):null}readBigInt(a){const l=this.read(a);if(!n.isBuffer(l))return null;let u=BigInt(`0x${l.toString("hex")}`);if(l[0]&128){const f=BigInt(1)<<BigInt(l.length)*BigInt(8);u-=f}return u}writeUInt8(a){const l=n.from([a]);return this.push(l)}writeUInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeUInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeUInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeUInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeInt8(a){const l=n.from([a]);return this.push(l)}writeInt16LE(a){const l=n.alloc(2);return l.writeUInt16LE(a),this.push(l)}writeInt16BE(a){const l=n.alloc(2);return l.writeUInt16BE(a),this.push(l)}writeInt32LE(a){const l=n.alloc(4);return l.writeUInt32LE(a),this.push(l)}writeInt32BE(a){const l=n.alloc(4);return l.writeUInt32BE(a),this.push(l)}writeFloatLE(a){const l=n.alloc(4);return l.writeFloatLE(a),this.push(l)}writeFloatBE(a){const l=n.alloc(4);return l.writeFloatBE(a),this.push(l)}writeDoubleLE(a){const l=n.alloc(8);return l.writeDoubleLE(a),this.push(l)}writeDoubleBE(a){const l=n.alloc(8);return l.writeDoubleBE(a),this.push(l)}writeBigInt64LE(a){const l=n.alloc(8);return l.writeBigInt64LE(a),this.push(l)}writeBigInt64BE(a){const l=n.alloc(8);return l.writeBigInt64BE(a),this.push(l)}writeBigUInt64LE(a){const l=n.alloc(8);return l.writeBigUInt64LE(a),this.push(l)}writeBigUInt64BE(a){const l=n.alloc(8);return l.writeBigUInt64BE(a),this.push(l)}readUInt8(){const a=this.read(1);return n.isBuffer(a)?a.readUInt8():null}readUInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16LE():null}readUInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readUInt16BE():null}readUInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32LE():null}readUInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readUInt32BE():null}readInt8(){const a=this.read(1);return n.isBuffer(a)?a.readInt8():null}readInt16LE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16LE():null}readInt16BE(){const a=this.read(2);return n.isBuffer(a)?a.readInt16BE():null}readInt32LE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32LE():null}readInt32BE(){const a=this.read(4);return n.isBuffer(a)?a.readInt32BE():null}readFloatLE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatLE():null}readFloatBE(){const a=this.read(4);return n.isBuffer(a)?a.readFloatBE():null}readDoubleLE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleLE():null}readDoubleBE(){const a=this.read(8);return n.isBuffer(a)?a.readDoubleBE():null}readBigInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64LE():null}readBigInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigInt64BE():null}readBigUInt64LE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64LE():null}readBigUInt64BE(){const a=this.read(8);return n.isBuffer(a)?a.readBigUInt64BE():null}};t.exports=o}}),gc=Ne({"../../node_modules/cbor/lib/constants.js"(e){Te(),e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(e.SHIFT32)}}}),Mg=Ne({"../../node_modules/cbor/lib/utils.js"(e){Te();var{Buffer:t}=(dc(),Or(fc)),r=Jh(),n=(zs(),Or(os)),i=gc(),{NUMBYTES:o,SHIFT32:s,BI:a,SYMS:l}=i,u=2097151,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=g=>f.decode(g),e.utf8.checksUTF8=!0;function c(g){return g instanceof n.Readable?!0:["read","on","pipe"].every(m=>typeof g[m]=="function")}e.isBufferish=function(m){return m&&typeof m=="object"&&(t.isBuffer(m)||m instanceof Uint8Array||m instanceof Uint8ClampedArray||m instanceof ArrayBuffer||m instanceof DataView)},e.bufferishToBuffer=function(m){return t.isBuffer(m)?m:ArrayBuffer.isView(m)?t.from(m.buffer,m.byteOffset,m.byteLength):m instanceof ArrayBuffer?t.from(m):null},e.parseCBORint=function(m,_){switch(m){case o.ONE:return _.readUInt8(0);case o.TWO:return _.readUInt16BE(0);case o.FOUR:return _.readUInt32BE(0);case o.EIGHT:{const v=_.readUInt32BE(0),p=_.readUInt32BE(4);return v>u?BigInt(v)*a.SHIFT32+BigInt(p):v*s+p}default:throw new Error(`Invalid additional info for int: ${m}`)}},e.writeHalf=function(m,_){const v=t.allocUnsafe(4);v.writeFloatBE(_,0);const p=v.readUInt32BE(0);if(p&8191)return!1;let E=p>>16&32768;const y=p>>23&255,S=p&8388607;if(y>=113&&y<=142)E+=(y-112<<10)+(S>>13);else if(y>=103&&y<113){if(S&(1<<126-y)-1)return!1;E+=S+8388608>>126-y}else return!1;return m.writeUInt16BE(E),!0},e.parseHalf=function(m){const _=m[0]&128?-1:1,v=(m[0]&124)>>2,p=(m[0]&3)<<8|m[1];if(v){if(v===31)return _*(p?NaN:1/0)}else return _*5960464477539063e-23*p;return _*2**(v-25)*(1024+p)},e.parseCBORfloat=function(m){switch(m.length){case 2:return e.parseHalf(m);case 4:return m.readFloatBE(0);case 8:return m.readDoubleBE(0);default:throw new Error(`Invalid float size: ${m.length}`)}},e.hex=function(m){return t.from(m.replace(/^0x/,""),"hex")},e.bin=function(m){m=m.replace(/\s/g,"");let _=0,v=m.length%8||8;const p=[];for(;v<=m.length;)p.push(parseInt(m.slice(_,v),2)),_=v,v+=8;return t.from(p)},e.arrayEqual=function(m,_){return m==null&&_==null?!0:m==null||_==null?!1:m.length===_.length&&m.every((v,p)=>v===_[p])},e.bufferToBigInt=function(m){return BigInt(`0x${m.toString("hex")}`)},e.cborValueToString=function(m,_=-1){switch(typeof m){case"symbol":{switch(m){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(m.description)return m.description;const p=m.toString().match(/^Symbol\((?<name>.*)\)/);return p&&p.groups.name?p.groups.name:"Symbol"}case"string":return JSON.stringify(m);case"bigint":return m.toString();case"number":{const v=Object.is(m,-0)?"-0":String(m);return _>0?`${v}_${_}`:v}case"object":{const v=e.bufferishToBuffer(m);if(v){const p=v.toString("hex");return _===-1/0?p:`h'${p}'`}return typeof m[Symbol.for("nodejs.util.inspect.custom")]=="function"?m[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(m)?"[]":"{}"}}return String(m)},e.guessEncoding=function(m,_){if(typeof m=="string")return new r(m,_??"hex");const v=e.bufferishToBuffer(m);if(v)return new r(v);if(c(m))return m;throw new Error("Unknown input type")};var h={"=":"","+":"-","/":"_"};e.base64url=function(m){return e.bufferishToBuffer(m).toString("base64").replace(/[=+/]/g,_=>h[_])},e.base64=function(m){return e.bufferishToBuffer(m).toString("base64")},e.isBigEndian=function(){const m=new Uint8Array(4),_=new Uint32Array(m.buffer);return!((_[0]=1)&m[0])}}}),zre=Ne({"../../node_modules/cbor/vendor/binary-parse-stream/index.js"(e,t){Te();var r=(zs(),Or(os)),n=Jh(),i=class extends r.Transform{constructor(o){super(o),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new n,this.__restart()}_transform(o,s,a){for(this.bs.write(o);this.bs.length>=this.__needed;){let l=null;const u=this.__needed===null?void 0:this.bs.read(this.__needed);try{l=this.__parser.next(u)}catch(f){return a(f)}this.__needed&&(this.__fresh=!1),l.done?(this.push(l.value),this.__restart()):this.__needed=l.value||1/0}return a()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(o){o(this.__fresh?null:new Error("unexpected end of input"))}};t.exports=i}}),Yq=Ne({"../../node_modules/cbor/lib/tagged.js"(e,t){Te();var r=gc(),n=Mg(),i=Symbol("INTERNAL_JSON");function o(_,v){if(n.isBufferish(_))_.toJSON=v;else if(Array.isArray(_))for(const p of _)o(p,v);else if(_&&typeof _=="object"&&(!(_ instanceof m)||_.tag<21||_.tag>23))for(const p of Object.values(_))o(p,v)}function s(){return n.base64(this)}function a(){return n.base64url(this)}function l(){return this.toString("hex")}function u(_,v,p,E){const y=new DataView(_),[S,$]={2:[y.getUint16,y.setUint16],4:[y.getUint32,y.setUint32],8:[y.getBigUint64,y.setBigUint64]}[v],T=p+E;for(let d=p;d<T;d+=v)$.call(y,d,S.call(y,d,!0))}var f={0:_=>new Date(_),1:_=>new Date(_*1e3),2:_=>n.bufferToBigInt(_),3:_=>r.BI.MINUS_ONE-n.bufferToBigInt(_),21:(_,v)=>(n.isBufferish(_)?v[i]=a:o(_,a),v),22:(_,v)=>(n.isBufferish(_)?v[i]=s:o(_,s),v),23:(_,v)=>(n.isBufferish(_)?v[i]=l:o(_,l),v),32:_=>new URL(_),33:(_,v)=>{if(!_.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const p=_.length%4;if(p===1)throw new Error("Invalid base64url length");if(p===2){if("AQgw".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding")}else if(p===3&&"AEIMQUYcgkosw048".indexOf(_[_.length-1])===-1)throw new Error("Invalid base64 padding");return v},34:(_,v)=>{const p=_.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!p)throw new Error("Invalid base64 characters");if(_.length%4!==0)throw new Error("Invalid base64 length");if(p.groups.padding==="="){if("AQgw".indexOf(_[_.length-2])===-1)throw new Error("Invalid base64 padding")}else if(p.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(_[_.length-3])===-1)throw new Error("Invalid base64 padding");return v},35:_=>new RegExp(_),258:_=>new Set(_)},c={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(c[67]=BigUint64Array,c[71]=BigUint64Array),typeof BigInt64Array<"u"&&(c[75]=BigInt64Array,c[79]=BigInt64Array);function h(_,v){if(!n.isBufferish(_))throw new TypeError("val not a buffer");const{tag:p}=v,E=c[p];if(!E)throw new Error(`Invalid typed array tag: ${p}`);const y=p&4,$=2**(((p&16)>>4)+(p&3));!y!==n.isBigEndian()&&$>1&&u(_.buffer,$,_.byteOffset,_.byteLength);const T=_.buffer.slice(_.byteOffset,_.byteOffset+_.byteLength);return new E(T)}for(const _ of Object.keys(c))f[_]=h;var g={},m=class SO{constructor(v,p,E){if(this.tag=v,this.value=p,this.err=E,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const v={tag:this.tag,value:this.value};return this.err&&(v.err=this.err),v}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(v){return v._pushTag(this.tag),v.pushAny(this.value)}convert(v){let p=v==null?void 0:v[this.tag];if(typeof p!="function"&&(p=SO.TAGS[this.tag],typeof p!="function"))return this;try{return p.call(this,this.value,this)}catch(E){return E&&E.message&&E.message.length>0?this.err=E.message:this.err=E,this}}static get TAGS(){return g}static set TAGS(v){g=v}static reset(){SO.TAGS={...f}}};m.INTERNAL_JSON=i,m.reset(),t.exports=m}}),Xq=Ne({"../../node_modules/cbor/lib/simple.js"(e,t){Te();var{MT:r,SIMPLE:n,SYMS:i}=gc(),o=class $O{constructor(a){if(typeof a!="number")throw new Error(`Invalid Simple type: ${typeof a}`);if(a<0||a>255||(a|0)!==a)throw new Error(`value must be a small positive integer: ${a}`);this.value=a}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](a,l){return`simple(${this.value})`}encodeCBOR(a){return a._pushInt(this.value,r.SIMPLE_FLOAT)}static isSimple(a){return a instanceof $O}static decode(a,l=!0,u=!1){switch(a){case n.FALSE:return!1;case n.TRUE:return!0;case n.NULL:return l?null:i.NULL;case n.UNDEFINED:return l?void 0:i.UNDEFINED;case-1:if(!l||!u)throw new Error("Invalid BREAK");return i.BREAK;default:return new $O(a)}}};t.exports=o}}),vE=Ne({"../../node_modules/cbor/lib/decoder.js"(e,t){Te();var r=zre(),n=Yq(),i=Xq(),o=Mg(),s=Jh();zs(),Or(os);var a=gc(),{MT:l,NUMBYTES:u,SYMS:f,BI:c}=a,{Buffer:h}=(dc(),Or(fc)),g=Symbol("count"),m=Symbol("major type"),_=Symbol("error"),v=Symbol("not found");function p(T,d,x){const A=[];return A[g]=x,A[f.PARENT]=T,A[m]=d,A}function E(T,d){const x=new s;return x[g]=-1,x[f.PARENT]=T,x[m]=d,x}var y=class extends Error{constructor(T,d){super(`Unexpected data: 0x${T.toString(16)}`),this.name="UnexpectedDataError",this.byte=T,this.value=d}};function S(T,d){switch(typeof T){case"function":return{options:{},cb:T};case"string":return{options:{encoding:T},cb:d};case"object":return{options:T||{},cb:d};default:throw new TypeError("Unknown option type")}}var $=class La extends r{constructor(d={}){const{tags:x={},max_depth:A=-1,preferWeb:O=!1,required:C=!1,encoding:F="hex",extendedResults:V=!1,preventDuplicateKeys:X=!1,...H}=d;super({defaultEncoding:F,...H}),this.running=!0,this.max_depth=A,this.tags=x,this.preferWeb=O,this.extendedResults=V,this.required=C,this.preventDuplicateKeys=X,V&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new s)}static nullcheck(d){switch(d){case f.NULL:return null;case f.UNDEFINED:return;case v:throw new Error("Value not found");default:return d}}static decodeFirstSync(d,x={}){if(d==null)throw new TypeError("input required");({options:x}=S(x));const{encoding:A="hex",...O}=x,C=new La(O),F=o.guessEncoding(d,A),V=C._parse();let X=V.next();for(;!X.done;){const Z=F.read(X.value);if(Z==null||Z.length!==X.value)throw new Error("Insufficient data");C.extendedResults&&C.valueBytes.write(Z),X=V.next(Z)}let H=null;if(C.extendedResults)H=X.value,H.unused=F.read();else if(H=La.nullcheck(X.value),F.length>0){const Z=F.read(1);throw F.unshift(Z),new y(Z[0],H)}return H}static decodeAllSync(d,x={}){if(d==null)throw new TypeError("input required");({options:x}=S(x));const{encoding:A="hex",...O}=x,C=new La(O),F=o.guessEncoding(d,A),V=[];for(;F.length>0;){const X=C._parse();let H=X.next();for(;!H.done;){const Z=F.read(H.value);if(Z==null||Z.length!==H.value)throw new Error("Insufficient data");C.extendedResults&&C.valueBytes.write(Z),H=X.next(Z)}V.push(La.nullcheck(H.value))}return V}static decodeFirst(d,x={},A=null){if(d==null)throw new TypeError("input required");({options:x,cb:A}=S(x,A));const{encoding:O="hex",required:C=!1,...F}=x,V=new La(F);let X=v;const H=o.guessEncoding(d,O),Z=new Promise((fe,ee)=>{V.on("data",ne=>{X=La.nullcheck(ne),V.close()}),V.once("error",ne=>V.extendedResults&&ne instanceof y?(X.unused=V.bs.slice(),fe(X)):(X!==v&&(ne.value=X),X=_,V.close(),ee(ne))),V.once("end",()=>{switch(X){case v:return C?ee(new Error("No CBOR found")):fe(X);case _:return;default:return fe(X)}})});return typeof A=="function"&&Z.then(fe=>A(null,fe),A),H.pipe(V),Z}static decodeAll(d,x={},A=null){if(d==null)throw new TypeError("input required");({options:x,cb:A}=S(x,A));const{encoding:O="hex",...C}=x,F=new La(C),V=[];F.on("data",H=>V.push(La.nullcheck(H)));const X=new Promise((H,Z)=>{F.on("error",Z),F.on("end",()=>H(V))});return typeof A=="function"&&X.then(H=>A(void 0,H),H=>A(H,void 0)),o.guessEncoding(d,O).pipe(F),X}close(){this.running=!1,this.__fresh=!0}_onRead(d){this.valueBytes.write(d)}*_parse(){let d=null,x=0,A=null;for(;;){if(this.max_depth>=0&&x>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[O]=yield 1;if(!this.running)throw this.bs.unshift(h.from([O])),new y(O);const C=O>>5,F=O&31,V=d==null?void 0:d[m],X=d==null?void 0:d.length;switch(F){case u.ONE:this.emit("more-bytes",C,1,V,X),[A]=yield 1;break;case u.TWO:case u.FOUR:case u.EIGHT:{const Z=1<<F-24;this.emit("more-bytes",C,Z,V,X);const fe=yield Z;A=C===l.SIMPLE_FLOAT?fe:o.parseCBORint(F,fe);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${F}`);case u.INDEFINITE:switch(C){case l.POS_INT:case l.NEG_INT:case l.TAG:throw new Error(`Invalid indefinite encoding for MT ${C}`)}A=-1;break;default:A=F}switch(C){case l.POS_INT:break;case l.NEG_INT:A===Number.MAX_SAFE_INTEGER?A=c.NEG_MAX:A=typeof A=="bigint"?c.MINUS_ONE-A:-1-A;break;case l.BYTE_STRING:case l.UTF8_STRING:switch(A){case 0:this.emit("start-string",C,A,V,X),C===l.UTF8_STRING?A="":A=this.preferWeb?new Uint8Array(0):h.allocUnsafe(0);break;case-1:this.emit("start",C,f.STREAM,V,X),d=E(d,C),x++;continue;default:this.emit("start-string",C,A,V,X),A=yield A,C===l.UTF8_STRING?A=o.utf8(A):this.preferWeb&&(A=new Uint8Array(A.buffer,A.byteOffset,A.length))}break;case l.ARRAY:case l.MAP:switch(A){case 0:A=C===l.MAP?{}:[];break;case-1:this.emit("start",C,f.STREAM,V,X),d=p(d,C,-1),x++;continue;default:this.emit("start",C,A,V,X),d=p(d,C,A*(C-3)),x++;continue}break;case l.TAG:this.emit("start",C,A,V,X),d=p(d,C,1),d.push(A),x++;continue;case l.SIMPLE_FLOAT:if(typeof A=="number"){if(F===u.ONE&&A<32)throw new Error(`Invalid two-byte encoding of simple value ${A}`);const Z=d!=null;A=i.decode(A,Z,Z&&d[g]<0)}else A=o.parseCBORfloat(A)}this.emit("value",A,V,X,F);let H=!1;for(;d!=null;){if(A===f.BREAK)d[g]=1;else if(Array.isArray(d))d.push(A);else{const fe=d[m];if(fe!=null&&fe!==C)throw this.running=!1,new Error("Invalid major type in indefinite encoding");d.write(A)}if(--d[g]!==0){H=!0;break}if(--x,delete d[g],Array.isArray(d))switch(d[m]){case l.ARRAY:A=d;break;case l.MAP:{let fe=!0;if(d.length%2!==0)throw new Error(`Invalid map length: ${d.length}`);for(let ee=0,ne=d.length;ee<ne;ee+=2)if(typeof d[ee]!="string"||d[ee]==="__proto__"){fe=!1;break}if(fe){A={};for(let ee=0,ne=d.length;ee<ne;ee+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(A,d[ee]))throw new Error("Duplicate keys in a map");A[d[ee]]=d[ee+1]}}else{A=new Map;for(let ee=0,ne=d.length;ee<ne;ee+=2){if(this.preventDuplicateKeys&&A.has(d[ee]))throw new Error("Duplicate keys in a map");A.set(d[ee],d[ee+1])}}break}case l.TAG:{A=new n(d[0],d[1]).convert(this.tags);break}}else if(d instanceof s)switch(d[m]){case l.BYTE_STRING:A=d.slice(),this.preferWeb&&(A=new Uint8Array(A.buffer,A.byteOffset,A.length));break;case l.UTF8_STRING:A=d.toString("utf-8");break}this.emit("stop",d[m]);const Z=d;d=d[f.PARENT],delete Z[f.PARENT],delete Z[m]}if(!H){if(this.extendedResults){const Z=this.valueBytes.slice(),fe={value:La.nullcheck(A),bytes:Z,length:Z.length};return this.valueBytes=new s,fe}return A}}}};$.NOT_FOUND=v,t.exports=$}}),qre=Ne({"../../node_modules/cbor/lib/commented.js"(e,t){Te();var r=(zs(),Or(os)),n=Mg(),i=vE(),o=Jh(),{MT:s,NUMBYTES:a,SYMS:l}=gc(),{Buffer:u}=(dc(),Or(fc));function f(g){return g>1?"s":""}function c(g,m){switch(typeof g){case"function":return{options:{},cb:g};case"string":return{options:{encoding:g},cb:m};case"number":return{options:{max_depth:g},cb:m};case"object":return{options:g||{},cb:m};default:throw new TypeError("Unknown option type")}}var h=class TO extends r.Transform{constructor(m={}){const{depth:_=1,max_depth:v=10,no_summary:p=!1,tags:E={},preferWeb:y,encoding:S,...$}=m;super({...$,readableObjectMode:!1,writableObjectMode:!1}),this.depth=_,this.max_depth=v,this.all=new o,E[24]||(E[24]=this._tag_24.bind(this)),this.parser=new i({tags:E,max_depth:v,preferWeb:y,encoding:S}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),p||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(m){const _=new TO({depth:this.depth+1,no_summary:!0});_.on("data",v=>this.push(v)),_.on("error",v=>this.emit("error",v)),_.end(m)}_transform(m,_,v){this.parser.write(m,_,v)}_flush(m){return this.parser._flush(m)}static comment(m,_={},v=null){if(m==null)throw new Error("input required");({options:_,cb:v}=c(_,v));const p=new o,{encoding:E="hex",...y}=_,S=new TO(y);let $=null;return typeof v=="function"?(S.on("end",()=>{v(null,p.toString("utf8"))}),S.on("error",v)):$=new Promise((T,d)=>{S.on("end",()=>{T(p.toString("utf8"))}),S.on("error",d)}),S.pipe(p),n.guessEncoding(m,E).pipe(S),$}_on_error(m){this.push("ERROR: "),this.push(m.toString()),this.push(`
`)}_on_read(m){this.all.write(m);const _=m.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(_);let v=(this.max_depth-this.depth)*2-_.length;v<1&&(v=1),this.push(new Array(v+1).join(" ")),this.push("-- ")}_on_more(m,_,v,p){let E="";switch(this.depth++,m){case s.POS_INT:E="Positive number,";break;case s.NEG_INT:E="Negative number,";break;case s.ARRAY:E="Array, length";break;case s.MAP:E="Map, count";break;case s.BYTE_STRING:E="Bytes, length";break;case s.UTF8_STRING:E="String, length";break;case s.SIMPLE_FLOAT:_===1?E="Simple value,":E="Float,";break}this.push(`${E} next ${_} byte${f(_)}
`)}_on_start_string(m,_,v,p){let E="";switch(this.depth++,m){case s.BYTE_STRING:E=`Bytes, length: ${_}`;break;case s.UTF8_STRING:E=`String, length: ${_.toString()}`;break}this.push(`${E}
`)}_on_start(m,_,v,p){switch(this.depth++,v){case s.ARRAY:this.push(`[${p}], `);break;case s.MAP:p%2?this.push(`{Val:${Math.floor(p/2)}}, `):this.push(`{Key:${Math.floor(p/2)}}, `);break}switch(m){case s.TAG:this.push(`Tag #${_}`),_===24&&this.push(" Encoded CBOR data item");break;case s.ARRAY:_===l.STREAM?this.push("Array (streaming)"):this.push(`Array, ${_} item${f(_)}`);break;case s.MAP:_===l.STREAM?this.push("Map (streaming)"):this.push(`Map, ${_} pair${f(_)}`);break;case s.BYTE_STRING:this.push("Bytes (streaming)");break;case s.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(m){this.depth--}_on_value(m,_,v,p){if(m!==l.BREAK)switch(_){case s.ARRAY:this.push(`[${v}], `);break;case s.MAP:v%2?this.push(`{Val:${Math.floor(v/2)}}, `):this.push(`{Key:${Math.floor(v/2)}}, `);break}const E=n.cborValueToString(m,-1/0);switch(typeof m=="string"||u.isBuffer(m)?(m.length>0&&(this.push(E),this.push(`
`)),this.depth--):(this.push(E),this.push(`
`)),p){case a.ONE:case a.TWO:case a.FOUR:case a.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};t.exports=h}}),Vre=Ne({"../../node_modules/cbor/lib/diagnose.js"(e,t){Te();var r=(zs(),Or(os)),n=vE(),i=Mg(),o=Jh(),{MT:s,SYMS:a}=gc();function l(f,c){switch(typeof f){case"function":return{options:{},cb:f};case"string":return{options:{encoding:f},cb:c};case"object":return{options:f||{},cb:c};default:throw new TypeError("Unknown option type")}}var u=class Qq extends r.Transform{constructor(c={}){const{separator:h=`
`,stream_errors:g=!1,tags:m,max_depth:_,preferWeb:v,encoding:p,...E}=c;super({...E,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=h,this.stream_errors=g,this.parser=new n({tags:m,max_depth:_,preferWeb:v,encoding:p}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(c,h,g){return this.parser.write(c,h,g)}_flush(c){return this.parser._flush(h=>this.stream_errors?(h&&this._on_error(h),c()):c(h))}static diagnose(c,h={},g=null){if(c==null)throw new TypeError("input required");({options:h,cb:g}=l(h,g));const{encoding:m="hex",..._}=h,v=new o,p=new Qq(_);let E=null;return typeof g=="function"?(p.on("end",()=>g(null,v.toString("utf8"))),p.on("error",g)):E=new Promise((y,S)=>{p.on("end",()=>y(v.toString("utf8"))),p.on("error",S)}),p.pipe(v),i.guessEncoding(c,m).pipe(p),E}_on_error(c){this.stream_errors?this.push(c.toString()):this.emit("error",c)}_on_more(c,h,g,m){c===s.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[h])}_fore(c,h){switch(c){case s.BYTE_STRING:case s.UTF8_STRING:case s.ARRAY:h>0&&this.push(", ");break;case s.MAP:h>0&&(h%2?this.push(": "):this.push(", "))}}_on_value(c,h,g){if(c===a.BREAK)return;this._fore(h,g);const m=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(c,m))}_on_start(c,h,g,m){switch(this._fore(g,m),c){case s.TAG:this.push(`${h}(`);break;case s.ARRAY:this.push("[");break;case s.MAP:this.push("{");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push("(");break}h===a.STREAM&&this.push("_ ")}_on_stop(c){switch(c){case s.TAG:this.push(")");break;case s.ARRAY:this.push("]");break;case s.MAP:this.push("}");break;case s.BYTE_STRING:case s.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};t.exports=u}}),Zq=Ne({"../../node_modules/cbor/lib/encoder.js"(e,t){Te();var r=(zs(),Or(os)),n=Jh(),i=Mg(),o=gc(),{MT:s,NUMBYTES:a,SHIFT32:l,SIMPLE:u,SYMS:f,TAG:c,BI:h}=o,{Buffer:g}=(dc(),Or(fc)),m=s.SIMPLE_FLOAT<<5|a.TWO,_=s.SIMPLE_FLOAT<<5|a.FOUR,v=s.SIMPLE_FLOAT<<5|a.EIGHT,p=s.SIMPLE_FLOAT<<5|u.TRUE,E=s.SIMPLE_FLOAT<<5|u.FALSE,y=s.SIMPLE_FLOAT<<5|u.UNDEFINED,S=s.SIMPLE_FLOAT<<5|u.NULL,$=g.from([255]),T=g.from("f97e00","hex"),d=g.from("f9fc00","hex"),x=g.from("f97c00","hex"),A=g.from("f98000","hex"),O={},C={};function F(X){if(!X)return"number";switch(X.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${X}"`)}var V=class Ei extends r.Transform{constructor(H={}){const{canonical:Z=!1,encodeUndefined:fe,disallowUndefinedKeys:ee=!1,dateType:ne="number",collapseBigIntegers:k=!1,detectLoops:B=!1,omitUndefinedProperties:W=!1,genTypes:P=[],...R}=H;if(super({...R,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=Z,this.encodeUndefined=fe,this.disallowUndefinedKeys=ee,this.dateType=F(ne),this.collapseBigIntegers=this.canonical?!0:k,this.detectLoops=void 0,typeof B=="boolean")B&&(this.detectLoops=new WeakSet);else if(B instanceof WeakSet)this.detectLoops=B;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=W,this.semanticTypes={...Ei.SEMANTIC_TYPES},Array.isArray(P))for(let z=0,oe=P.length;z<oe;z+=2)this.addSemanticType(P[z],P[z+1]);else for(const[z,oe]of Object.entries(P))this.addSemanticType(z,oe)}_transform(H,Z,fe){const ee=this.pushAny(H);return fe(ee===!1?new Error("Push Error"):void 0)}_flush(H){return H()}_pushUInt8(H){const Z=g.allocUnsafe(1);return Z.writeUInt8(H,0),this.push(Z)}_pushUInt16BE(H){const Z=g.allocUnsafe(2);return Z.writeUInt16BE(H,0),this.push(Z)}_pushUInt32BE(H){const Z=g.allocUnsafe(4);return Z.writeUInt32BE(H,0),this.push(Z)}_pushFloatBE(H){const Z=g.allocUnsafe(4);return Z.writeFloatBE(H,0),this.push(Z)}_pushDoubleBE(H){const Z=g.allocUnsafe(8);return Z.writeDoubleBE(H,0),this.push(Z)}_pushNaN(){return this.push(T)}_pushInfinity(H){const Z=H<0?d:x;return this.push(Z)}_pushFloat(H){if(this.canonical){const Z=g.allocUnsafe(2);if(i.writeHalf(Z,H))return this._pushUInt8(m)&&this.push(Z)}return Math.fround(H)===H?this._pushUInt8(_)&&this._pushFloatBE(H):this._pushUInt8(v)&&this._pushDoubleBE(H)}_pushInt(H,Z,fe){const ee=Z<<5;if(H<24)return this._pushUInt8(ee|H);if(H<=255)return this._pushUInt8(ee|a.ONE)&&this._pushUInt8(H);if(H<=65535)return this._pushUInt8(ee|a.TWO)&&this._pushUInt16BE(H);if(H<=4294967295)return this._pushUInt8(ee|a.FOUR)&&this._pushUInt32BE(H);let ne=Number.MAX_SAFE_INTEGER;return Z===s.NEG_INT&&ne--,H<=ne?this._pushUInt8(ee|a.EIGHT)&&this._pushUInt32BE(Math.floor(H/l))&&this._pushUInt32BE(H%l):Z===s.NEG_INT?this._pushFloat(fe):this._pushFloat(H)}_pushIntNum(H){return Object.is(H,-0)?this.push(A):H<0?this._pushInt(-H-1,s.NEG_INT,H):this._pushInt(H,s.POS_INT)}_pushNumber(H){return isNaN(H)?this._pushNaN():isFinite(H)?Math.round(H)===H?this._pushIntNum(H):this._pushFloat(H):this._pushInfinity(H)}_pushString(H){const Z=g.byteLength(H,"utf8");return this._pushInt(Z,s.UTF8_STRING)&&this.push(H,"utf8")}_pushBoolean(H){return this._pushUInt8(H?p:E)}_pushUndefined(H){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(y);case"function":return this.pushAny(this.encodeUndefined(H));case"object":{const Z=i.bufferishToBuffer(this.encodeUndefined);if(Z)return this.push(Z)}}return this.pushAny(this.encodeUndefined)}_pushNull(H){return this._pushUInt8(S)}_pushTag(H){return this._pushInt(H,s.TAG)}_pushJSBigint(H){let Z=s.POS_INT,fe=c.POS_BIGINT;if(H<0&&(H=-H+h.MINUS_ONE,Z=s.NEG_INT,fe=c.NEG_BIGINT),this.collapseBigIntegers&&H<=h.MAXINT64)return H<=4294967295?this._pushInt(Number(H),Z):this._pushUInt8(Z<<5|a.EIGHT)&&this._pushUInt32BE(Number(H/h.SHIFT32))&&this._pushUInt32BE(Number(H%h.SHIFT32));let ee=H.toString(16);ee.length%2&&(ee=`0${ee}`);const ne=g.from(ee,"hex");return this._pushTag(fe)&&Ei._pushBuffer(this,ne)}_pushObject(H,Z){if(!H)return this._pushNull(H);if(Z={indefinite:!1,skipTypes:!1,...Z},!Z.indefinite&&this.detectLoops){if(this.detectLoops.has(H))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(H)}if(!Z.skipTypes){const k=H.encodeCBOR;if(typeof k=="function")return k.call(H,this);const B=this.semanticTypes[H.constructor.name];if(B)return B.call(H,this,H)}const fe=Object.keys(H).filter(k=>{const B=typeof H[k];return B!=="function"&&(!this.omitUndefinedProperties||B!=="undefined")}),ee={};if(this.canonical&&fe.sort((k,B)=>{const W=ee[k]||(ee[k]=Ei.encode(k)),P=ee[B]||(ee[B]=Ei.encode(B));return W.compare(P)}),Z.indefinite){if(!this._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!this._pushInt(fe.length,s.MAP))return!1;let ne=null;for(let k=0,B=fe.length;k<B;k++){const W=fe[k];if(this.canonical&&(ne=ee[W])){if(!this.push(ne))return!1}else if(!this._pushString(W))return!1;if(!this.pushAny(H[W]))return!1}if(Z.indefinite){if(!this.push($))return!1}else this.detectLoops&&this.detectLoops.delete(H);return!0}_encodeAll(H){const Z=new n({highWaterMark:this.readableHighWaterMark});this.pipe(Z);for(const fe of H)this.pushAny(fe);return this.end(),Z.read()}addSemanticType(H,Z){const fe=typeof H=="string"?H:H.name,ee=this.semanticTypes[fe];if(Z){if(typeof Z!="function")throw new TypeError("fun must be of type function");this.semanticTypes[fe]=Z}else ee&&delete this.semanticTypes[fe];return ee}pushAny(H){switch(typeof H){case"number":return this._pushNumber(H);case"bigint":return this._pushJSBigint(H);case"string":return this._pushString(H);case"boolean":return this._pushBoolean(H);case"undefined":return this._pushUndefined(H);case"object":return this._pushObject(H);case"symbol":switch(H){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${H.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof H}, ${typeof H.toString=="function"?H.toString():""}`)}}static pushArray(H,Z,fe){fe={indefinite:!1,...fe};const ee=Z.length;if(fe.indefinite){if(!H._pushUInt8(s.ARRAY<<5|a.INDEFINITE))return!1}else if(!H._pushInt(ee,s.ARRAY))return!1;for(let ne=0;ne<ee;ne++)if(!H.pushAny(Z[ne]))return!1;return!(fe.indefinite&&!H.push($))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(H,Z){switch(H.dateType){case"string":return H._pushTag(c.DATE_STRING)&&H._pushString(Z.toISOString());case"int":return H._pushTag(c.DATE_EPOCH)&&H._pushIntNum(Math.round(Z.getTime()/1e3));case"float":return H._pushTag(c.DATE_EPOCH)&&H._pushFloat(Z.getTime()/1e3);case"number":default:return H._pushTag(c.DATE_EPOCH)&&H.pushAny(Z.getTime()/1e3)}}static _pushBuffer(H,Z){return H._pushInt(Z.length,s.BYTE_STRING)&&H.push(Z)}static _pushNoFilter(H,Z){return Ei._pushBuffer(H,Z.slice())}static _pushRegexp(H,Z){return H._pushTag(c.REGEXP)&&H.pushAny(Z.source)}static _pushSet(H,Z){if(!H._pushTag(c.SET)||!H._pushInt(Z.size,s.ARRAY))return!1;for(const fe of Z)if(!H.pushAny(fe))return!1;return!0}static _pushURL(H,Z){return H._pushTag(c.URI)&&H.pushAny(Z.toString())}static _pushBoxed(H,Z){return H.pushAny(Z.valueOf())}static _pushMap(H,Z,fe){fe={indefinite:!1,...fe};let ee=[...Z.entries()];if(H.omitUndefinedProperties&&(ee=ee.filter(([ne,k])=>k!==void 0)),fe.indefinite){if(!H._pushUInt8(s.MAP<<5|a.INDEFINITE))return!1}else if(!H._pushInt(ee.length,s.MAP))return!1;if(H.canonical){const ne=new Ei({genTypes:H.semanticTypes,canonical:H.canonical,detectLoops:!!H.detectLoops,dateType:H.dateType,disallowUndefinedKeys:H.disallowUndefinedKeys,collapseBigIntegers:H.collapseBigIntegers}),k=new n({highWaterMark:H.readableHighWaterMark});ne.pipe(k),ee.sort(([B],[W])=>{ne.pushAny(B);const P=k.read();ne.pushAny(W);const R=k.read();return P.compare(R)});for(const[B,W]of ee){if(H.disallowUndefinedKeys&&typeof B>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(B)&&H.pushAny(W)))return!1}}else for(const[ne,k]of ee){if(H.disallowUndefinedKeys&&typeof ne>"u")throw new Error("Invalid Map key: undefined");if(!(H.pushAny(ne)&&H.pushAny(k)))return!1}return!(fe.indefinite&&!H.push($))}static _pushTypedArray(H,Z){let fe=64,ee=Z.BYTES_PER_ELEMENT;const{name:ne}=Z.constructor;return ne.startsWith("Float")?(fe|=16,ee/=2):ne.includes("U")||(fe|=8),(ne.includes("Clamped")||ee!==1&&!i.isBigEndian())&&(fe|=4),fe|={1:0,2:1,4:2,8:3}[ee],H._pushTag(fe)?Ei._pushBuffer(H,g.from(Z.buffer,Z.byteOffset,Z.byteLength)):!1}static _pushArrayBuffer(H,Z){return Ei._pushBuffer(H,g.from(Z))}static encodeIndefinite(H,Z,fe={}){if(Z==null){if(this==null)throw new Error("No object to encode");Z=this}const{chunkSize:ee=4096}=fe;let ne=!0;const k=typeof Z;let B=null;if(k==="string"){ne=ne&&H._pushUInt8(s.UTF8_STRING<<5|a.INDEFINITE);let W=0;for(;W<Z.length;){const P=W+ee;ne=ne&&H._pushString(Z.slice(W,P)),W=P}ne=ne&&H.push($)}else if(B=i.bufferishToBuffer(Z)){ne=ne&&H._pushUInt8(s.BYTE_STRING<<5|a.INDEFINITE);let W=0;for(;W<B.length;){const P=W+ee;ne=ne&&Ei._pushBuffer(H,B.slice(W,P)),W=P}ne=ne&&H.push($)}else if(Array.isArray(Z))ne=ne&&Ei.pushArray(H,Z,{indefinite:!0});else if(Z instanceof Map)ne=ne&&Ei._pushMap(H,Z,{indefinite:!0});else{if(k!=="object")throw new Error("Invalid indefinite encoding");ne=ne&&H._pushObject(Z,{indefinite:!0,skipTypes:!0})}return ne}static encode(...H){return new Ei()._encodeAll(H)}static encodeCanonical(...H){return new Ei({canonical:!0})._encodeAll(H)}static encodeOne(H,Z){return new Ei(Z)._encodeAll([H])}static encodeAsync(H,Z){return new Promise((fe,ee)=>{const ne=[],k=new Ei(Z);k.on("data",B=>ne.push(B)),k.on("error",ee),k.on("finish",()=>fe(g.concat(ne))),k.pushAny(H),k.end()})}static get SEMANTIC_TYPES(){return C}static set SEMANTIC_TYPES(H){C=H}static reset(){Ei.SEMANTIC_TYPES={...O}}};Object.assign(O,{Array:V.pushArray,Date:V._pushDate,Buffer:V._pushBuffer,[g.name]:V._pushBuffer,Map:V._pushMap,NoFilter:V._pushNoFilter,[n.name]:V._pushNoFilter,RegExp:V._pushRegexp,Set:V._pushSet,ArrayBuffer:V._pushArrayBuffer,Uint8ClampedArray:V._pushTypedArray,Uint8Array:V._pushTypedArray,Uint16Array:V._pushTypedArray,Uint32Array:V._pushTypedArray,Int8Array:V._pushTypedArray,Int16Array:V._pushTypedArray,Int32Array:V._pushTypedArray,Float32Array:V._pushTypedArray,Float64Array:V._pushTypedArray,URL:V._pushURL,Boolean:V._pushBoxed,Number:V._pushBoxed,String:V._pushBoxed}),typeof BigUint64Array<"u"&&(O[BigUint64Array.name]=V._pushTypedArray),typeof BigInt64Array<"u"&&(O[BigInt64Array.name]=V._pushTypedArray),V.reset(),t.exports=V}}),Hre=Ne({"../../node_modules/cbor/lib/map.js"(e,t){Te();var{Buffer:r}=(dc(),Or(fc)),n=Zq(),i=vE(),{MT:o}=gc(),s=class xu extends Map{constructor(l){super(l)}static _encode(l){return n.encodeCanonical(l).toString("base64")}static _decode(l){return i.decodeFirstSync(l,"base64")}get(l){return super.get(xu._encode(l))}set(l,u){return super.set(xu._encode(l),u)}delete(l){return super.delete(xu._encode(l))}has(l){return super.has(xu._encode(l))}*keys(){for(const l of super.keys())yield xu._decode(l)}*entries(){for(const l of super.entries())yield[xu._decode(l[0]),l[1]]}[Symbol.iterator](){return this.entries()}forEach(l,u){if(typeof l!="function")throw new TypeError("Must be function");for(const f of super.entries())l.call(this,f[1],xu._decode(f[0]),this)}encodeCBOR(l){if(!l._pushInt(this.size,o.MAP))return!1;if(l.canonical){const u=Array.from(super.entries()).map(f=>[r.from(f[0],"base64"),f[1]]);u.sort((f,c)=>f[0].compare(c[0]));for(const f of u)if(!(l.push(f[0])&&l.pushAny(f[1])))return!1}else for(const u of super.entries())if(!(l.push(r.from(u[0],"base64"))&&l.pushAny(u[1])))return!1;return!0}};t.exports=s}}),Wre=Ne({"../../node_modules/cbor/lib/cbor.js"(e){Te(),e.Commented=qre(),e.Diagnose=Vre(),e.Decoder=vE(),e.Encoder=Zq(),e.Simple=Xq(),e.Tagged=Yq(),e.Map=Hre(),e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeFirstSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.reset=function(){e.Encoder.reset(),e.Tagged.reset()}}}),eV=Ne({"../core/dist/codecs/cbor-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ko(),r=Wre(),{debug:n}=(0,t.createLoggers)("core","cbor-codec"),i=class{constructor(o){this.subMediaType=o??"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`CborCodec parsing '${o.toString()}'`);try{return(0,r.decode)(o)}catch(l){if(o.byteLength===0)return null;throw l}}valueToBytes(o,s,a){return n("CborCodec serializing",o),o===void 0?Yr.alloc(0):(0,r.encode)(o)}};e.default=i}}),tV=Ne({"../core/dist/codecs/json-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ul(),r=ko(),{debug:n}=(0,r.createLoggers)("core","json-codec"),i=class{constructor(o){this.subMediaType=o??t.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(o,s,a){n(`JsonCodec parsing '${o.toString()}'`);let l;try{l=JSON.parse(o.toString())}catch(u){if(u instanceof SyntaxError)o.byteLength===0?l=void 0:l=o.toString();else throw u}return l}valueToBytes(o,s,a){n("JsonCodec serializing",o);let l="";return o!==void 0&&(l=JSON.stringify(o)),Yr.from(l)}};e.default=i}}),rV=Ne({"../core/dist/codecs/text-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ko(),{debug:r}=(0,t.createLoggers)("core","text-codec"),n=class{constructor(i){this.subMediaType=i??"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(i,o,s){return r(`TextCodec parsing '${i.toString()}'`),i.toString(s==null?void 0:s.charset)}valueToBytes(i,o,s){r(`TextCodec serializing '${i}'`);let a="";i!==void 0&&(typeof i=="string"?a=i:a=JSON.stringify(i));let l;if(s&&s.charset)switch(s.charset){case"ascii":l="ascii";break;case"utf8":l="utf8";break;case"utf-8":l="utf-8";break;case"utf16le":l="utf16le";break;case"ucs2":l="ucs2";break;case"ucs-2":l="ucs-2";break;case"base64":l="base64";break;case"latin1":l="latin1";break;case"binary":l="binary";break;case"hex":l="hex";break}const u=Yr.alloc(a.length);return u.write(a,l),u}};e.default=n}}),nV=Ne({"../core/dist/codecs/base64-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.subMediaType=r}getMediaType(){return this.subMediaType}bytesToValue(r,n,i){return r.toString("ascii")}valueToBytes(r,n,i){let o="";return r!==void 0&&(o=JSON.stringify(r)),Yr.from(o,"base64")}};e.default=t}}),yE=Ne({"../../node_modules/@petamoriken/float16/lib/_util/messages.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t="This is not an object";e.THIS_IS_NOT_AN_OBJECT=t;var r="This is not a Float16Array object";e.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT=r;var n="This constructor is not a subclass of Float16Array";e.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY=n;var i="The constructor property value is not an object";e.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT=i;var o="Species constructor didn't return TypedArray object";e.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT=o;var s="Derived constructor created TypedArray object which was too small length";e.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH=s;var a="Attempting to access detached ArrayBuffer";e.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER=a;var l="Cannot convert undefined or null to object";e.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT=l;var u="Cannot mix BigInt and other types, use explicit conversions";e.CANNOT_MIX_BIGINT_AND_OTHER_TYPES=u;var f="@@iterator property is not callable";e.ITERATOR_PROPERTY_IS_NOT_CALLABLE=f;var c="Reduce of empty array with no initial value";e.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE=c;var h="The comparison function must be either a function or undefined";e.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED=h;var g="Offset is out of bounds";e.OFFSET_IS_OUT_OF_BOUNDS=g}}),Vf=Ne({"../../node_modules/@petamoriken/float16/lib/_util/primordials.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=yE();function r(Ot){return(he,...ue)=>i(Ot,he,ue)}function n(Ot,he){return r(l(Ot,he).get)}var{apply:i,construct:o,defineProperty:s,get:a,getOwnPropertyDescriptor:l,getPrototypeOf:u,has:f,ownKeys:c,set:h,setPrototypeOf:g}=Reflect;e.ReflectSetPrototypeOf=g,e.ReflectSet=h,e.ReflectOwnKeys=c,e.ReflectHas=f,e.ReflectGetPrototypeOf=u,e.ReflectGetOwnPropertyDescriptor=l,e.ReflectGet=a,e.ReflectDefineProperty=s,e.ReflectConstruct=o,e.ReflectApply=i;var m=Proxy;e.NativeProxy=m;var{EPSILON:_,MAX_SAFE_INTEGER:v,isFinite:p,isNaN:E}=Number;e.NumberIsNaN=E,e.NumberIsFinite=p,e.MAX_SAFE_INTEGER=v,e.EPSILON=_;var{iterator:y,species:S,toStringTag:$,for:T}=Symbol;e.SymbolFor=T,e.SymbolToStringTag=$,e.SymbolSpecies=S,e.SymbolIterator=y;var d=Object;e.NativeObject=d;var{create:x,defineProperty:A,freeze:O,is:C}=d;e.ObjectIs=C,e.ObjectFreeze=O,e.ObjectDefineProperty=A,e.ObjectCreate=x;var F=d.prototype,V=F.__lookupGetter__?r(F.__lookupGetter__):(Ot,he)=>{if(Ot==null)throw ur(t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let ue=d(Ot);do{const we=l(ue,he);if(we!==void 0)return X(we,"get")?we.get:void 0}while((ue=u(ue))!==null)};e.ObjectPrototype__lookupGetter__=V;var X=d.hasOwn||r(F.hasOwnProperty);e.ObjectHasOwn=X;var H=Array,Z=H.isArray;e.ArrayIsArray=Z;var fe=H.prototype,ee=r(fe.join);e.ArrayPrototypeJoin=ee;var ne=r(fe.push);e.ArrayPrototypePush=ne;var k=r(fe.toLocaleString);e.ArrayPrototypeToLocaleString=k;var B=fe[y];e.NativeArrayPrototypeSymbolIterator=B;var W=r(B);e.ArrayPrototypeSymbolIterator=W;var{abs:P,trunc:R}=Math;e.MathTrunc=R,e.MathAbs=P;var z=ArrayBuffer;e.NativeArrayBuffer=z;var oe=z.isView;e.ArrayBufferIsView=oe;var J=z.prototype,Y=r(J.slice);e.ArrayBufferPrototypeSlice=Y;var ae=n(J,"byteLength");e.ArrayBufferPrototypeGetByteLength=ae;var be=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;e.NativeSharedArrayBuffer=be;var Ie=be&&n(be.prototype,"byteLength");e.SharedArrayBufferPrototypeGetByteLength=Ie;var N=u(Uint8Array);e.TypedArray=N;var D=N.from,M=N.prototype;e.TypedArrayPrototype=M;var K=M[y];e.NativeTypedArrayPrototypeSymbolIterator=K;var se=r(M.keys);e.TypedArrayPrototypeKeys=se;var ce=r(M.values);e.TypedArrayPrototypeValues=ce;var de=r(M.entries);e.TypedArrayPrototypeEntries=de;var pe=r(M.set);e.TypedArrayPrototypeSet=pe;var Ae=r(M.reverse);e.TypedArrayPrototypeReverse=Ae;var Le=r(M.fill);e.TypedArrayPrototypeFill=Le;var Ce=r(M.copyWithin);e.TypedArrayPrototypeCopyWithin=Ce;var rt=r(M.sort);e.TypedArrayPrototypeSort=rt;var qe=r(M.slice);e.TypedArrayPrototypeSlice=qe;var Ue=r(M.subarray);e.TypedArrayPrototypeSubarray=Ue;var G=n(M,"buffer");e.TypedArrayPrototypeGetBuffer=G;var I=n(M,"byteOffset");e.TypedArrayPrototypeGetByteOffset=I;var L=n(M,"length");e.TypedArrayPrototypeGetLength=L;var ie=n(M,$);e.TypedArrayPrototypeGetSymbolToStringTag=ie;var ye=Uint8Array;e.NativeUint8Array=ye;var Se=Uint16Array;e.NativeUint16Array=Se;var De=(...Ot)=>i(D,Se,Ot);e.Uint16ArrayFrom=De;var ke=Uint32Array;e.NativeUint32Array=ke;var Be=Float32Array;e.NativeFloat32Array=Be;var st=u([][y]());e.ArrayIteratorPrototype=st;var wt=r(st.next);e.ArrayIteratorPrototypeNext=wt;var ut=r(function*(){}().next);e.GeneratorPrototypeNext=ut;var Ct=u(st);e.IteratorPrototype=Ct;var Tr=DataView.prototype,Pr=r(Tr.getUint16);e.DataViewPrototypeGetUint16=Pr;var or=r(Tr.setUint16);e.DataViewPrototypeSetUint16=or;var ur=TypeError;e.NativeTypeError=ur;var sn=RangeError;e.NativeRangeError=sn;var tr=WeakSet;e.NativeWeakSet=tr;var Dt=tr.prototype,Jt=r(Dt.add);e.WeakSetPrototypeAdd=Jt;var Ee=r(Dt.has);e.WeakSetPrototypeHas=Ee;var Pe=WeakMap;e.NativeWeakMap=Pe;var ct=Pe.prototype,ht=r(ct.get);e.WeakMapPrototypeGet=ht;var et=r(ct.has);e.WeakMapPrototypeHas=et;var At=r(ct.set);e.WeakMapPrototypeSet=At}}),iV=Ne({"../../node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.safeIfNeeded=i,e.wrap=a;var t=Vf(),r=new t.NativeWeakMap,n=(0,t.ObjectCreate)(null,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(r,this);return(0,t.ArrayIteratorPrototypeNext)(u)}},[t.SymbolIterator]:{value:function(){return this}}});function i(l){if(l[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext)return l;const u=(0,t.ObjectCreate)(n);return(0,t.WeakMapPrototypeSet)(r,u,(0,t.ArrayPrototypeSymbolIterator)(l)),u}var o=new t.NativeWeakMap,s=(0,t.ObjectCreate)(t.IteratorPrototype,{next:{value:function(){const u=(0,t.WeakMapPrototypeGet)(o,this);return(0,t.GeneratorPrototypeNext)(u)},writable:!0,configurable:!0}});for(const l of(0,t.ReflectOwnKeys)(t.ArrayIteratorPrototype))l!=="next"&&(0,t.ObjectDefineProperty)(s,l,(0,t.ReflectGetOwnPropertyDescriptor)(t.ArrayIteratorPrototype,l));function a(l){const u=(0,t.ObjectCreate)(s);return(0,t.WeakMapPrototypeSet)(o,u,l),u}}}),wE=Ne({"../../node_modules/@petamoriken/float16/lib/_util/is.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isAnyArrayBuffer=l,e.isCanonicalIntegerIndexString=c,e.isNativeBigIntTypedArray=o,e.isNativeTypedArray=i,e.isObject=r,e.isObjectLike=n,e.isOrdinaryArray=u,e.isOrdinaryNativeTypedArray=f,e.isSharedArrayBuffer=a;var t=Vf();function r(h){return h!==null&&typeof h=="object"||typeof h=="function"}function n(h){return h!==null&&typeof h=="object"}function i(h){return(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h)!==void 0}function o(h){const g=(0,t.TypedArrayPrototypeGetSymbolToStringTag)(h);return g==="BigInt64Array"||g==="BigUint64Array"}function s(h){try{return(0,t.ArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function a(h){if(t.NativeSharedArrayBuffer===null)return!1;try{return(0,t.SharedArrayBufferPrototypeGetByteLength)(h),!0}catch{return!1}}function l(h){return s(h)||a(h)}function u(h){return(0,t.ArrayIsArray)(h)?h[t.SymbolIterator]===t.NativeArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function f(h){return i(h)?h[t.SymbolIterator]===t.NativeTypedArrayPrototypeSymbolIterator&&t.ArrayIteratorPrototype.next===t.ArrayIteratorPrototypeNext:!1}function c(h){if(typeof h!="string")return!1;const g=+h;return h!==g+""||!(0,t.NumberIsFinite)(g)?!1:g===(0,t.MathTrunc)(g)}}}),Gre=Ne({"../../node_modules/@petamoriken/float16/lib/_util/brand.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.hasFloat16ArrayBrand=o;var t=wE(),r=yE(),n=Vf(),i=(0,n.SymbolFor)("__Float16Array__");e.brand=i;function o(s){if(!(0,t.isObjectLike)(s))return!1;const a=(0,n.ReflectGetPrototypeOf)(s);if(!(0,t.isObjectLike)(a))return!1;const l=a.constructor;if(l===void 0)return!1;if(!(0,t.isObject)(l))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,n.ReflectHas)(l,i)}}}),CR=Ne({"../../node_modules/@petamoriken/float16/lib/_util/converter.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.convertToNumber=y,e.roundToFloat16=u,e.roundToFloat16Bits=_;var t=Vf(),r=1/t.EPSILON;function n(S){return S+r-r}var i=6103515625e-14,o=65504,s=.0009765625,a=s*i,l=s*r;function u(S){const $=+S;if(!(0,t.NumberIsFinite)($)||$===0)return $;const T=$>0?1:-1,d=(0,t.MathAbs)($);if(d<i)return T*n(d/a)*a;const x=(1+l)*d,A=x-(x-d);return A>o||(0,t.NumberIsNaN)(A)?T*(1/0):T*A}var f=new t.NativeArrayBuffer(4),c=new t.NativeFloat32Array(f),h=new t.NativeUint32Array(f),g=new t.NativeUint16Array(512),m=new t.NativeUint8Array(512);for(let S=0;S<256;++S){const $=S-127;$<-27?(g[S]=0,g[S|256]=32768,m[S]=24,m[S|256]=24):$<-14?(g[S]=1024>>-$-14,g[S|256]=1024>>-$-14|32768,m[S]=-$-1,m[S|256]=-$-1):$<=15?(g[S]=$+15<<10,g[S|256]=$+15<<10|32768,m[S]=13,m[S|256]=13):$<128?(g[S]=31744,g[S|256]=64512,m[S]=24,m[S|256]=24):(g[S]=31744,g[S|256]=64512,m[S]=13,m[S|256]=13)}function _(S){c[0]=u(S);const $=h[0],T=$>>23&511;return g[T]+(($&8388607)>>m[T])}var v=new t.NativeUint32Array(2048);for(let S=1;S<1024;++S){let $=S<<13,T=0;for(;!($&8388608);)$<<=1,T-=8388608;$&=-8388609,T+=947912704,v[S]=$|T}for(let S=1024;S<2048;++S)v[S]=939524096+(S-1024<<13);var p=new t.NativeUint32Array(64);for(let S=1;S<31;++S)p[S]=S<<23;p[31]=1199570944,p[32]=2147483648;for(let S=33;S<63;++S)p[S]=2147483648+(S-32<<23);p[63]=3347054592;var E=new t.NativeUint16Array(64);for(let S=1;S<64;++S)S!==32&&(E[S]=1024);function y(S){const $=S>>10;return h[0]=v[E[$]+(S&1023)]+p[$],c[0]}}}),Kre=Ne({"../../node_modules/@petamoriken/float16/lib/_util/spec.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.IsDetachedBuffer=a,e.SpeciesConstructor=s,e.ToIntegerOrInfinity=i,e.ToLength=o,e.defaultCompare=l;var t=wE(),r=yE(),n=Vf();function i(u){const f=+u;return(0,n.NumberIsNaN)(f)||f===0?0:(0,n.MathTrunc)(f)}function o(u){const f=i(u);return f<0?0:f<n.MAX_SAFE_INTEGER?f:n.MAX_SAFE_INTEGER}function s(u,f){if(!(0,t.isObject)(u))throw(0,n.NativeTypeError)(r.THIS_IS_NOT_AN_OBJECT);const c=u.constructor;if(c===void 0)return f;if(!(0,t.isObject)(c))throw(0,n.NativeTypeError)(r.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const h=c[n.SymbolSpecies];return h??f}function a(u){if((0,t.isSharedArrayBuffer)(u))return!1;try{return(0,n.ArrayBufferPrototypeSlice)(u,0,0),!1}catch{}return!0}function l(u,f){const c=(0,n.NumberIsNaN)(u),h=(0,n.NumberIsNaN)(f);if(c&&h)return 0;if(c)return 1;if(h||u<f)return-1;if(u>f)return 1;if(u===0&&f===0){const g=(0,n.ObjectIs)(u,0),m=(0,n.ObjectIs)(f,0);if(!g&&m)return-1;if(g&&!m)return 1}return 0}}}),oV=Ne({"../../node_modules/@petamoriken/float16/lib/Float16Array.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isFloat16Array=f;var t=iV(),r=Gre(),n=CR(),i=wE(),o=yE(),s=Vf(),a=Kre(),l=2,u=new s.NativeWeakMap;function f(y){return(0,s.WeakMapPrototypeHas)(u,y)||!(0,s.ArrayBufferIsView)(y)&&(0,r.hasFloat16ArrayBrand)(y)}function c(y){if(!f(y))throw(0,s.NativeTypeError)(o.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function h(y,S){const $=f(y),T=(0,i.isNativeTypedArray)(y);if(!$&&!T)throw(0,s.NativeTypeError)(o.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if(typeof S=="number"){let d;if($){const x=g(y);d=(0,s.TypedArrayPrototypeGetLength)(x)}else d=(0,s.TypedArrayPrototypeGetLength)(y);if(d<S)throw(0,s.NativeTypeError)(o.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,i.isNativeBigIntTypedArray)(y))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function g(y){const S=(0,s.WeakMapPrototypeGet)(u,y);if(S!==void 0){const d=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(d))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return S}const $=y.buffer;if((0,a.IsDetachedBuffer)($))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const T=(0,s.ReflectConstruct)(p,[$,y.byteOffset,y.length],y.constructor);return(0,s.WeakMapPrototypeGet)(u,T)}function m(y){const S=(0,s.TypedArrayPrototypeGetLength)(y),$=[];for(let T=0;T<S;++T)$[T]=(0,n.convertToNumber)(y[T]);return $}var _=new s.NativeWeakSet;for(const y of(0,s.ReflectOwnKeys)(s.TypedArrayPrototype)){if(y===s.SymbolToStringTag)continue;const S=(0,s.ReflectGetOwnPropertyDescriptor)(s.TypedArrayPrototype,y);(0,s.ObjectHasOwn)(S,"get")&&typeof S.get=="function"&&(0,s.WeakSetPrototypeAdd)(_,S.get)}var v=(0,s.ObjectFreeze)({get(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,n.convertToNumber)((0,s.ReflectGet)(y,S)):(0,s.WeakSetPrototypeHas)(_,(0,s.ObjectPrototype__lookupGetter__)(y,S))?(0,s.ReflectGet)(y,S):(0,s.ReflectGet)(y,S,$)},set(y,S,$,T){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)?(0,s.ReflectSet)(y,S,(0,n.roundToFloat16Bits)($)):(0,s.ReflectSet)(y,S,$,T)},getOwnPropertyDescriptor(y,S){if((0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)){const $=(0,s.ReflectGetOwnPropertyDescriptor)(y,S);return $.value=(0,n.convertToNumber)($.value),$}return(0,s.ReflectGetOwnPropertyDescriptor)(y,S)},defineProperty(y,S,$){return(0,i.isCanonicalIntegerIndexString)(S)&&(0,s.ObjectHasOwn)(y,S)&&(0,s.ObjectHasOwn)($,"value")&&($.value=(0,n.roundToFloat16Bits)($.value)),(0,s.ReflectDefineProperty)(y,S,$)}}),p=class li{constructor(S,$,T){let d;if(f(S))d=(0,s.ReflectConstruct)(s.NativeUint16Array,[g(S)],new.target);else if((0,i.isObject)(S)&&!(0,i.isAnyArrayBuffer)(S)){let A,O;if((0,i.isNativeTypedArray)(S)){A=S,O=(0,s.TypedArrayPrototypeGetLength)(S);const C=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(C))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const F=new s.NativeArrayBuffer(O*l);d=(0,s.ReflectConstruct)(s.NativeUint16Array,[F],new.target)}else{const C=S[s.SymbolIterator];if(C!=null&&typeof C!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);C!=null?(0,i.isOrdinaryArray)(S)?(A=S,O=S.length):(A=[...S],O=A.length):(A=S,O=(0,a.ToLength)(A.length)),d=(0,s.ReflectConstruct)(s.NativeUint16Array,[O],new.target)}for(let C=0;C<O;++C)d[C]=(0,n.roundToFloat16Bits)(A[C])}else d=(0,s.ReflectConstruct)(s.NativeUint16Array,arguments,new.target);const x=new s.NativeProxy(d,v);return(0,s.WeakMapPrototypeSet)(u,x,d),x}static from(S,...$){const T=this;if(!(0,s.ReflectHas)(T,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(T===li){if(f(S)&&$.length===0){const V=g(S),X=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(V),(0,s.TypedArrayPrototypeGetByteOffset)(V),(0,s.TypedArrayPrototypeGetLength)(V));return new li((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(X)))}if($.length===0)return new li((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,n.roundToFloat16Bits)));const C=$[0],F=$[1];return new li((0,s.TypedArrayPrototypeGetBuffer)((0,s.Uint16ArrayFrom)(S,function(V,...X){return(0,n.roundToFloat16Bits)((0,s.ReflectApply)(C,this,[V,...(0,t.safeIfNeeded)(X)]))},F)))}let d,x;const A=S[s.SymbolIterator];if(A!=null&&typeof A!="function")throw(0,s.NativeTypeError)(o.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(A!=null)(0,i.isOrdinaryArray)(S)?(d=S,x=S.length):(0,i.isOrdinaryNativeTypedArray)(S)?(d=S,x=(0,s.TypedArrayPrototypeGetLength)(S)):(d=[...S],x=d.length);else{if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);d=(0,s.NativeObject)(S),x=(0,a.ToLength)(d.length)}const O=new T(x);if($.length===0)for(let C=0;C<x;++C)O[C]=d[C];else{const C=$[0],F=$[1];for(let V=0;V<x;++V)O[V]=(0,s.ReflectApply)(C,F,[d[V],V])}return O}static of(...S){const $=this;if(!(0,s.ReflectHas)($,r.brand))throw(0,s.NativeTypeError)(o.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const T=S.length;if($===li){const x=new li(T),A=g(x);for(let O=0;O<T;++O)A[O]=(0,n.roundToFloat16Bits)(S[O]);return x}const d=new $(T);for(let x=0;x<T;++x)d[x]=S[x];return d}keys(){c(this);const S=g(this);return(0,s.TypedArrayPrototypeKeys)(S)}values(){c(this);const S=g(this);return(0,t.wrap)(function*(){for(const $ of(0,s.TypedArrayPrototypeValues)(S))yield(0,n.convertToNumber)($)}())}entries(){c(this);const S=g(this);return(0,t.wrap)(function*(){for(const[$,T]of(0,s.TypedArrayPrototypeEntries)(S))yield[$,(0,n.convertToNumber)(T)]}())}at(S){c(this);const $=g(this),T=(0,s.TypedArrayPrototypeGetLength)($),d=(0,a.ToIntegerOrInfinity)(S),x=d>=0?d:T+d;if(!(x<0||x>=T))return(0,n.convertToNumber)($[x])}with(S,$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=(0,a.ToIntegerOrInfinity)(S),A=x>=0?x:d+x,O=+$;if(A<0||A>=d)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);const C=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T)),F=new li((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(C))),V=g(F);return V[A]=(0,n.roundToFloat16Bits)(O),F}map(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0],A=(0,a.SpeciesConstructor)(T,li);if(A===li){const C=new li(d),F=g(C);for(let V=0;V<d;++V){const X=(0,n.convertToNumber)(T[V]);F[V]=(0,n.roundToFloat16Bits)((0,s.ReflectApply)(S,x,[X,V,this]))}return C}const O=new A(d);h(O,d);for(let C=0;C<d;++C){const F=(0,n.convertToNumber)(T[C]);O[C]=(0,s.ReflectApply)(S,x,[F,C,this])}return O}filter(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0],A=[];for(let F=0;F<d;++F){const V=(0,n.convertToNumber)(T[F]);(0,s.ReflectApply)(S,x,[V,F,this])&&(0,s.ArrayPrototypePush)(A,V)}const O=(0,a.SpeciesConstructor)(T,li),C=new O(A);return h(C),C}reduce(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let x,A;$.length===0?(x=(0,n.convertToNumber)(T[0]),A=1):(x=$[0],A=0);for(let O=A;O<d;++O)x=S(x,(0,n.convertToNumber)(T[O]),O,this);return x}reduceRight(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T);if(d===0&&$.length===0)throw(0,s.NativeTypeError)(o.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let x,A;$.length===0?(x=(0,n.convertToNumber)(T[d-1]),A=d-2):(x=$[0],A=d-1);for(let O=A;O>=0;--O)x=S(x,(0,n.convertToNumber)(T[O]),O,this);return x}forEach(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0];for(let A=0;A<d;++A)(0,s.ReflectApply)(S,x,[(0,n.convertToNumber)(T[A]),A,this])}find(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0];for(let A=0;A<d;++A){const O=(0,n.convertToNumber)(T[A]);if((0,s.ReflectApply)(S,x,[O,A,this]))return O}}findIndex(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0];for(let A=0;A<d;++A){const O=(0,n.convertToNumber)(T[A]);if((0,s.ReflectApply)(S,x,[O,A,this]))return A}return-1}findLast(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0];for(let A=d-1;A>=0;--A){const O=(0,n.convertToNumber)(T[A]);if((0,s.ReflectApply)(S,x,[O,A,this]))return O}}findLastIndex(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0];for(let A=d-1;A>=0;--A){const O=(0,n.convertToNumber)(T[A]);if((0,s.ReflectApply)(S,x,[O,A,this]))return A}return-1}every(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0];for(let A=0;A<d;++A)if(!(0,s.ReflectApply)(S,x,[(0,n.convertToNumber)(T[A]),A,this]))return!1;return!0}some(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T),x=$[0];for(let A=0;A<d;++A)if((0,s.ReflectApply)(S,x,[(0,n.convertToNumber)(T[A]),A,this]))return!0;return!1}set(S,...$){c(this);const T=g(this),d=(0,a.ToIntegerOrInfinity)($[0]);if(d<0)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);if(S==null)throw(0,s.NativeTypeError)(o.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,i.isNativeBigIntTypedArray)(S))throw(0,s.NativeTypeError)(o.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(S))return(0,s.TypedArrayPrototypeSet)(g(this),g(S),d);if((0,i.isNativeTypedArray)(S)){const C=(0,s.TypedArrayPrototypeGetBuffer)(S);if((0,a.IsDetachedBuffer)(C))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const x=(0,s.TypedArrayPrototypeGetLength)(T),A=(0,s.NativeObject)(S),O=(0,a.ToLength)(A.length);if(d===1/0||O+d>x)throw(0,s.NativeRangeError)(o.OFFSET_IS_OUT_OF_BOUNDS);for(let C=0;C<O;++C)T[C+d]=(0,n.roundToFloat16Bits)(A[C])}reverse(){c(this);const S=g(this);return(0,s.TypedArrayPrototypeReverse)(S),this}toReversed(){c(this);const S=g(this),$=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(S),(0,s.TypedArrayPrototypeGetByteOffset)(S),(0,s.TypedArrayPrototypeGetLength)(S)),T=new li((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)($))),d=g(T);return(0,s.TypedArrayPrototypeReverse)(d),T}fill(S,...$){c(this);const T=g(this);return(0,s.TypedArrayPrototypeFill)(T,(0,n.roundToFloat16Bits)(S),...(0,t.safeIfNeeded)($)),this}copyWithin(S,$,...T){c(this);const d=g(this);return(0,s.TypedArrayPrototypeCopyWithin)(d,S,$,...(0,t.safeIfNeeded)(T)),this}sort(S){c(this);const $=g(this),T=S!==void 0?S:a.defaultCompare;return(0,s.TypedArrayPrototypeSort)($,(d,x)=>T((0,n.convertToNumber)(d),(0,n.convertToNumber)(x))),this}toSorted(S){c(this);const $=g(this);if(S!==void 0&&typeof S!="function")throw new s.NativeTypeError(o.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const T=S!==void 0?S:a.defaultCompare,d=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)($),(0,s.TypedArrayPrototypeGetByteOffset)($),(0,s.TypedArrayPrototypeGetLength)($)),x=new li((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(d))),A=g(x);return(0,s.TypedArrayPrototypeSort)(A,(O,C)=>T((0,n.convertToNumber)(O),(0,n.convertToNumber)(C))),x}slice(S,$){c(this);const T=g(this),d=(0,a.SpeciesConstructor)(T,li);if(d===li){const fe=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T));return new li((0,s.TypedArrayPrototypeGetBuffer)((0,s.TypedArrayPrototypeSlice)(fe,S,$)))}const x=(0,s.TypedArrayPrototypeGetLength)(T),A=(0,a.ToIntegerOrInfinity)(S),O=$===void 0?x:(0,a.ToIntegerOrInfinity)($);let C;A===-1/0?C=0:A<0?C=x+A>0?x+A:0:C=x<A?x:A;let F;O===-1/0?F=0:O<0?F=x+O>0?x+O:0:F=x<O?x:O;const V=F-C>0?F-C:0,X=new d(V);if(h(X,V),V===0)return X;const H=(0,s.TypedArrayPrototypeGetBuffer)(T);if((0,a.IsDetachedBuffer)(H))throw(0,s.NativeTypeError)(o.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let Z=0;for(;C<F;)X[Z]=(0,n.convertToNumber)(T[C]),++C,++Z;return X}subarray(S,$){c(this);const T=g(this),d=(0,a.SpeciesConstructor)(T,li),x=new s.NativeUint16Array((0,s.TypedArrayPrototypeGetBuffer)(T),(0,s.TypedArrayPrototypeGetByteOffset)(T),(0,s.TypedArrayPrototypeGetLength)(T)),A=(0,s.TypedArrayPrototypeSubarray)(x,S,$),O=new d((0,s.TypedArrayPrototypeGetBuffer)(A),(0,s.TypedArrayPrototypeGetByteOffset)(A),(0,s.TypedArrayPrototypeGetLength)(A));return h(O),O}indexOf(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T);let x=(0,a.ToIntegerOrInfinity)($[0]);if(x===1/0)return-1;x<0&&(x+=d,x<0&&(x=0));for(let A=x;A<d;++A)if((0,s.ObjectHasOwn)(T,A)&&(0,n.convertToNumber)(T[A])===S)return A;return-1}lastIndexOf(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T);let x=$.length>=1?(0,a.ToIntegerOrInfinity)($[0]):d-1;if(x===-1/0)return-1;x>=0?x=x<d-1?x:d-1:x+=d;for(let A=x;A>=0;--A)if((0,s.ObjectHasOwn)(T,A)&&(0,n.convertToNumber)(T[A])===S)return A;return-1}includes(S,...$){c(this);const T=g(this),d=(0,s.TypedArrayPrototypeGetLength)(T);let x=(0,a.ToIntegerOrInfinity)($[0]);if(x===1/0)return!1;x<0&&(x+=d,x<0&&(x=0));const A=(0,s.NumberIsNaN)(S);for(let O=x;O<d;++O){const C=(0,n.convertToNumber)(T[O]);if(A&&(0,s.NumberIsNaN)(C)||C===S)return!0}return!1}join(S){c(this);const $=g(this),T=m($);return(0,s.ArrayPrototypeJoin)(T,S)}toLocaleString(...S){c(this);const $=g(this),T=m($);return(0,s.ArrayPrototypeToLocaleString)(T,...(0,t.safeIfNeeded)(S))}get[s.SymbolToStringTag](){if(f(this))return"Float16Array"}};e.Float16Array=p,(0,s.ObjectDefineProperty)(p,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(p,r.brand,{}),(0,s.ReflectSetPrototypeOf)(p,s.TypedArray);var E=p.prototype;(0,s.ObjectDefineProperty)(E,"BYTES_PER_ELEMENT",{value:l}),(0,s.ObjectDefineProperty)(E,s.SymbolIterator,{value:E.values,writable:!0,configurable:!0}),(0,s.ReflectSetPrototypeOf)(E,s.TypedArrayPrototype)}}),Jre=Ne({"../../node_modules/@petamoriken/float16/lib/isTypedArray.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isTypedArray=n;var t=oV(),r=wE();function n(i){return(0,r.isNativeTypedArray)(i)||(0,t.isFloat16Array)(i)}}}),Yre=Ne({"../../node_modules/@petamoriken/float16/lib/DataView.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getFloat16=i,e.setFloat16=o;var t=iV(),r=CR(),n=Vf();function i(s,a,...l){return(0,r.convertToNumber)((0,n.DataViewPrototypeGetUint16)(s,a,...(0,t.safeIfNeeded)(l)))}function o(s,a,l,...u){return(0,n.DataViewPrototypeSetUint16)(s,a,(0,r.roundToFloat16Bits)(l),...(0,t.safeIfNeeded)(u))}}}),Xre=Ne({"../../node_modules/@petamoriken/float16/lib/f16round.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.f16round=r;var t=CR();function r(n){return(0,t.roundToFloat16)(n)}}}),Qre=Ne({"../../node_modules/@petamoriken/float16/lib/index.cjs"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=oV();e.Float16Array=t.Float16Array,e.isFloat16Array=t.isFloat16Array;var r=Jre();e.isTypedArray=r.isTypedArray;var n=Yre();e.getFloat16=n.getFloat16,e.setFloat16=n.setFloat16;var i=Xre();e.f16round=i.f16round,e.hfround=i.f16round}}),sV=Ne({"../core/dist/protocol-interfaces.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.Endianness=void 0;var t;(function(r){r.BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"})(t||(e.Endianness=t={}))}}),aV=Ne({"../core/dist/codecs/octetstream-codec.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qre(),r=ko(),n=sV(),{debug:i,warn:o}=(0,r.createLoggers)("core","octetstream-codec"),s=class{getMediaType(){return"application/octet-stream"}bytesToValue(a,l,u={}){var v,p;i("OctetstreamCodec parsing",a),i("Parameters",u);const f=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(f!==void 0){if(isNaN(f)||f<0)throw new Error("'length' parameter must be a non-negative number");if(f!==a.length)throw new Error(`Lengths do not match, required: ${f} provided: ${a.length}`)}let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):a.length*8;if(isNaN(h)||h<0)throw new Error("'ex:bitLength' must be a non-negative number");const g=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(g)||g<0)throw new Error("'ex:bitOffset' must be a non-negative number");const m=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let _=l==null?void 0:l.type;if(!_)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const E=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(E){if(E[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=E[2],parseInt(E[3])!==h)throw new Error(`Type is '${(E[1]??"")+E[2]+E[3]}' but 'ex:bitLength' is `+h)}}if(h>a.length*8-g)throw new Error(`'ex:bitLength' is ${h}, but buffer length at offset ${g} is ${a.length*8-g}`);switch(((p=u==null?void 0:u.byteSeq)==null?void 0:p.includes("BYTE_SWAP"))===!0&&a.length>1&&a.swap16(),g!==void 0&&h<a.length*8&&(a=this.readBits(a,g,h),h=a.length*8),_){case"boolean":return!a.every(E=>E===0);case"byte":case"short":case"int":case"integer":return this.integerToValue(a,{dataLength:h,bigEndian:m,signed:c});case"float":case"double":case"number":return this.numberToValue(a,{dataLength:h,bigEndian:m});case"string":return a.toString(u.charset);case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return this.objectToValue(a,l,u);case"null":return null;case"array":default:throw new Error("Unable to handle dataType "+_)}}integerToValue(a,l){const{dataLength:u,bigEndian:f,signed:c}=l;switch(u){case 8:return c?a.readInt8(0):a.readUInt8(0);case 16:return f?c?a.readInt16BE(0):a.readUInt16BE(0):c?a.readInt16LE(0):a.readUInt16LE(0);case 32:return f?c?a.readInt32BE(0):a.readUInt32BE(0):c?a.readInt32LE(0):a.readUInt32LE(0);default:{const h=f?c?a.readIntBE(0,u/8):a.readUIntBE(0,u/8):c?a.readIntLE(0,u/8):a.readUIntLE(0,u/8);return Number.isSafeInteger(h)||o("Result is not a safe integer"),h}}}numberToValue(a,l){const{dataLength:u,bigEndian:f}=l;switch(u){case 16:return(0,t.getFloat16)(new DataView(a.buffer),a.byteOffset,!f);case 32:return f?a.readFloatBE(0):a.readFloatLE(0);case 64:return f?a.readDoubleBE(0):a.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}}objectToValue(a,l,u={}){if((l==null?void 0:l.type)!=="object")throw new Error("Schema must be of type 'object'");const f={},c=Object.getOwnPropertyNames(l.properties);for(const h of c){const g=l.properties[h],m=a.length.toString();f[h]=this.bytesToValue(a,g,{...u,length:m})}return f}valueToBytes(a,l,u={}){var v;i(`OctetstreamCodec serializing '${a}'`);const f=((v=u.byteSeq)==null?void 0:v.includes(n.Endianness.LITTLE_ENDIAN))!==!0;let c=!0;if(u.signed!==void 0){if(u.signed!=="true"&&u.signed!=="false")throw new Error("'signed' parameter must be 'true' or 'false'");c=u.signed==="true"}let h=u.length!=null?parseInt(u.length):(o("Missing 'length' parameter necessary for write. I'll do my best"),void 0);if(h!==void 0&&(isNaN(h)||h<0))throw new Error("'length' parameter must be a non-negative number");let g=(l==null?void 0:l["ex:bitLength"])!==void 0?parseInt(l["ex:bitLength"]):void 0;if(g!==void 0&&(isNaN(g)||g<0))throw new Error("'ex:bitLength' must be a non-negative number");const m=(l==null?void 0:l["ex:bitOffset"])!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(m)||m<0)throw new Error("'ex:bitOffset' must be a non-negative number");let _=(l==null?void 0:l.type)??void 0;if(a===void 0)throw new Error("Undefined value");if(_===void 0)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(_.toLowerCase())){const p=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(_.toLowerCase());if(p){if(p[1]==="u"){if((u==null?void 0:u.signed)==="true")throw new Error("Type is unsigned but 'signed' is true");c=!1}if(_=p[2],g!==void 0){if(parseInt(p[3])!==g)throw new Error(`Type is '${(p[1]??"")+p[2]+p[3]}' but 'ex:bitLength' is `+g)}else g=+p[3]}}if(h===void 0)g!==void 0&&(h=Math.ceil((m+g)/8)),o("Missing 'length' parameter necessary for write. I'll do my best");else if(g===void 0)g=h*8;else if(h*8<g+m)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(_){case"boolean":if(a===!0){const p=Yr.alloc(h??1,0);for(let E=m;E<m+(g??p.length*8);++E)p[Math.floor(E/8)]|=1<<7-E%8;return p}else return Yr.alloc(h??1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(a,{bitLength:g,byteLength:h,bigEndian:f,offset:m,signed:c,byteSeq:u.byteSeq??""});case"float":case"number":return this.valueToNumber(a,{bitLength:g,byteLength:h,bigEndian:f,offset:m,byteSeq:u.byteSeq??""});case"string":return this.valueToString(a,{bitLength:g,byteLength:h,offset:m,charset:u.charset??"utf8"});case"object":if(l===void 0||l.properties===void 0)throw new Error("Missing schema for object");return a===null?Yr.alloc(0):this.valueToObject(a,l,u);case"array":case"undefined":throw new Error("Unable to handle dataType "+_);case"null":return Yr.alloc(0);default:throw new Error("Unable to handle dataType "+_)}}valueToInteger(a,l){const u=l.bitLength??32,f=l.offset??0,c=l.byteLength??Math.ceil((f+u)/8),{bigEndian:h,signed:g,byteSeq:m}=l;if(typeof a!="number")throw new Error("Value is not a number");Number.isSafeInteger(a)||o("Value is not a safe integer",a);const _=Math.pow(2,g?u-1:u)-1;if(g){if(a<-_-1||a>_)throw new Error("Integer overflow when representing "+a+" as a signed integer using "+u+" bit(s)")}else if(a<0||a>_)throw new Error("Integer overflow when representing "+a+" as an unsigned integer using "+u+" bit(s)");const v=Yr.alloc(c);if(f!==0)return this.writeBits(v,a,f,u,h),v;switch(m!=null&&m.includes("BYTE_SwAP")&&c>1&&v.swap16(),c){case 1:g?v.writeInt8(a,0):v.writeUInt8(a,0);break;case 2:h?g?v.writeInt16BE(a,0):v.writeUInt16BE(a,0):g?v.writeInt16LE(a,0):v.writeUInt16LE(a,0);break;case 4:h?g?v.writeInt32BE(a,0):v.writeUInt32BE(a,0):g?v.writeInt32LE(a,0):v.writeUInt32LE(a,0);break;default:g&&a<0&&(a+=1<<8*u);for(let p=0;p<c;++p){const E=a%256;a/=256,v.writeInt8(E,h?c-p-1:p)}}return v}valueToNumber(a,l){if(typeof a!="number")throw new Error("Value is not a number");const u=l.bitLength??(l.byteLength!==void 0?l.byteLength*8:32),f=l.offset??0,{bigEndian:c,byteSeq:h}=l,g=l.byteLength??Math.ceil((f+u)/8),m=Math.floor(f/8),_=Yr.alloc(g);if(f%8!==0)throw new Error("Offset must be a multiple of 8");switch(h&&g>1&&_.swap16(),u){case 16:(0,t.setFloat16)(new DataView(_.buffer),m,a,!c);break;case 32:c?_.writeFloatBE(a,m):_.writeFloatLE(a,0);break;case 64:c?_.writeDoubleBE(a,m):_.writeDoubleLE(a,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+u)}return _}valueToString(a,l){if(typeof a!="string")throw new Error("Value is not a string");const u=l.offset??0,{charset:f}=l,c=String(a);if(!Yr.isEncoding(f))throw new Error("Invalid charset "+f);const h=Yr.from(c,f),g=l.bitLength??h.length*8;if(h.length>g)throw new Error(`String is ${h.length*8} bits long, but 'ex:bitLength' is ${g}`);const m=l.byteLength??Math.ceil((u+g)/8);if(u%8===0)return Yr.concat([Yr.alloc(m-g/8),h]);{const _=Yr.alloc(m);return this.copyBits(h,0,_,u,g),_}}valueToObject(a,l,u={},f){if(typeof a!="object"||a===null)throw new Error("Value is not an object");if(u.length===void 0)throw new Error("Missing 'length' parameter necessary for write");const c=parseInt(u.length),h=l["ex:bitOffset"]!==void 0?parseInt(l["ex:bitOffset"]):0;if(isNaN(h)||h<0)throw new Error("'ex:bitOffset' must be a non-negative number");if(h>c*8)throw new Error(`'ex:bitOffset' ${h} exceeds 'length' ${c}`);f=f??Yr.alloc(c);for(const[g,m]of Object.entries(l.properties)){if(Object.hasOwnProperty.call(a,g)===!1)throw new Error(`Missing property '${g}'`);const _=a[g],v=parseInt(m["ex:bitOffset"]),p=parseInt(m["ex:bitLength"]);let E;m.type==="object"?E=this.valueToObject(_,m,u,f):E=this.valueToBytes(_,m,u),this.copyBits(E,v,f,h+v,p)}return f}readBits(a,l,u){if(l<0)throw new Error("bitOffset must be >= 0");if(u<0)throw new Error("bitLength must be >= 0");if(l+u>a.length*8)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const f=Yr.alloc(Math.ceil(u/8));let c=Math.floor(l/8),h=l%8,g=a[c],m=0,_=0;for(let v=0;v<u;v++){const p=g>>7-h&1;m=m<<1|p,h++,h>7&&(c++,h=0,g=a[c]),(v+1===u%8||(v+1)%8===u%8||v===u-1)&&(f[_]=m,m=0,_++)}return f}writeBits(a,l,u,f,c){let h=Math.floor(u/8),g=u%8;for(let m=0;m<f;m++){const _=c?l>>f-1-m&1:l>>m&1;a[h]|=_<<(c?7-g:g),g++,g===8&&(g=0,h++)}}copyBits(a,l,u,f,c){if(l%8===0&&f%8===0&&c%8===0)a.copy(u,f/8,l/8,l+c/8);else{const h=this.readBits(a,l,c);if(h.length<=6)this.writeBits(u,h.readUIntBE(0,h.length),f,c,!0);else for(let g=0;g<h.length;g++){const m=h.readUInt8(g);this.writeBits(u,m,f+g*8,8,!0)}}}};e.default=s}}),ul=Ne({"../core/dist/content-serdes.js"(e){Te();var t=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentSerdes=void 0;var r=Jq(),n=t(eV()),i=t(tV()),o=t(rV()),s=t(nV()),a=t(aV()),l=(zs(),Or(os)),u=Do(),f=jR(),c=ko(),{debug:h,warn:g}=(0,c.createLoggers)("core","content-serdes"),m=class qo{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance==null&&(this.instance=new qo,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new i.default("application/td+json")),this.instance.addCodec(new i.default("application/ld+json")),this.instance.addCodec(new n.default,!0),this.instance.addCodec(new o.default),this.instance.addCodec(new o.default("text/html")),this.instance.addCodec(new o.default("text/css")),this.instance.addCodec(new o.default("application/xml")),this.instance.addCodec(new o.default("application/xhtml+xml")),this.instance.addCodec(new o.default("image/svg+xml")),this.instance.addCodec(new s.default("image/png")),this.instance.addCodec(new s.default("image/gif")),this.instance.addCodec(new s.default("image/jpeg")),this.instance.addCodec(new a.default)),this.instance}static getMediaType(v){return v.split(";")[0].trim()}static getMediaTypeParameters(v){const p=v.split(";").slice(1),E={};return p.forEach(y=>{const S=y.indexOf("=");S>=0?E[y.substr(0,S).trim()]=y.substr(S+1).trim():E[y.trim()]=void 0}),E}addCodec(v,p=!1){qo.get().codecs.set(v.getMediaType(),v),p&&qo.get().offered.add(v.getMediaType())}getSupportedMediaTypes(){return Array.from(qo.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(qo.get().offered)}isSupported(v){const p=qo.getMediaType(v);return this.codecs.has(p)}contentToValue(v,p){if(v.type===void 0)if(v.body.byteLength>0)v.type=qo.DEFAULT;else return;const E=qo.getMediaType(v.type),y=qo.getMediaTypeParameters(v.type);return this.codecs.has(E)?(h(`ContentSerdes deserializing from ${v.type}`),this.codecs.get(E).bytesToValue(v.body,p,y)):(g(`ContentSerdes passthrough due to unsupported media type '${E}'`),v.body.toString())}valueToContent(v,p,E=qo.DEFAULT){if(v===void 0&&g("ContentSerdes valueToContent got no value"),v instanceof f.ReadableStream)return new r.Content(E,u.ProtocolHelpers.toNodeStream(v));let y;const S=qo.getMediaType(E),$=qo.getMediaTypeParameters(E),T=this.codecs.get(S);return T?(h(`ContentSerdes serializing to ${E}`),y=T.valueToBytes(v,p,$)):(g(`ContentSerdes passthrough due to unsupported serialization format '${E}'`),y=Yr.from(v===null?"":v.toString())),new r.Content(E,l.Readable.from([y]))}};e.ContentSerdes=m,m.DEFAULT="application/json",m.TD="application/td+json",m.JSON_LD="application/ld+json",e.default=m.get()}}),Xb=Ne({"../core/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function s(p,...E){const y=[g(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,g(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),bM=Ne({"../core/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Xb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,g=(f=u.key)!==null&&f!==void 0?f:u.ref;let m=this._values[h];if(m){const p=m.get(g);if(p)return p}else m=this._values[h]=new Map;m.set(g,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const g in l){const m=l[g];if(!m)continue;const _=f[g]=f[g]||new Map;m.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=a}}),br=Ne({"../core/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Xb(),r=bM(),n=Xb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=bM();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,R){return this}},s=class extends o{constructor(P,R,z){super(),this.varKind=P,this.name=R,this.rhs=z}render({es5:P,_n:R}){const z=P?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${z} ${this.name}${oe};`+R}optimizeNames(P,R){if(P[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,P,R)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(P,R,z){super(),this.lhs=P,this.rhs=R,this.sideEffects=z}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,R){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,P,R),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends a{constructor(P,R,z,oe){super(P,z,oe),this.op=R}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},h=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,R){return this.code=X(this.code,P,R),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},g=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((R,z)=>R+z.render(P),"")}optimizeNodes(){const{nodes:P}=this;let R=P.length;for(;R--;){const z=P[R].optimizeNodes();Array.isArray(z)?P.splice(R,1,...z):z?P[R]=z:P.splice(R,1)}return P.length>0?this:void 0}optimizeNames(P,R){const{nodes:z}=this;let oe=z.length;for(;oe--;){const J=z[oe];J.optimizeNames(P,R)||(H(P,J.names),z.splice(oe,1))}return z.length>0?this:void 0}get names(){return this.nodes.reduce((P,R)=>F(P,R.names),{})}},m=class extends g{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends g{},v=class extends m{};v.kind="else";var p=class Nw extends m{constructor(R,z){super(z),this.condition=R}render(R){let z=`if(${this.condition})`+super.render(R);return this.else&&(z+="else "+this.else.render(R)),z}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let z=this.else;if(z){const oe=z.optimizeNodes();z=this.else=Array.isArray(oe)?new v(oe):oe}if(z)return R===!1?z instanceof Nw?z:z.nodes:this.nodes.length?this:new Nw(Z(R),z instanceof Nw?[z]:z.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,z){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(R,z),!!(super.optimizeNames(R,z)||this.else))return this.condition=X(this.condition,R,z),this}get names(){const R=super.names;return V(R,this.condition),this.else&&F(R,this.else.names),R}};p.kind="if";var E=class extends m{};E.kind="for";var y=class extends E{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,R){if(super.optimizeNames(P,R))return this.iteration=X(this.iteration,P,R),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(P,R,z,oe){super(),this.varKind=P,this.name=R,this.from=z,this.to=oe}render(P){const R=P.es5?r.varKinds.var:this.varKind,{name:z,from:oe,to:J}=this;return`for(${R} ${z}=${oe}; ${z}<${J}; ${z}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends E{constructor(P,R,z,oe){super(),this.loop=P,this.varKind=R,this.name=z,this.iterable=oe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,R){if(super.optimizeNames(P,R))return this.iterable=X(this.iterable,P,R),this}get names(){return F(super.names,this.iterable.names)}},T=class extends m{constructor(P,R,z){super(),this.name=P,this.args=R,this.async=z}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends g{render(P){return"return "+super.render(P)}};d.kind="return";var x=class extends m{render(P){let R="try"+super.render(P);return this.catch&&(R+=this.catch.render(P)),this.finally&&(R+=this.finally.render(P)),R}optimizeNodes(){var P,R;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(P,R){var z,oe;return super.optimizeNames(P,R),(z=this.catch)===null||z===void 0||z.optimizeNames(P,R),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(P,R),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},A=class extends m{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};A.kind="catch";var O=class extends m{render(P){return"finally"+super.render(P)}};O.kind="finally";var C=class{constructor(P,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,R){const z=this._extScope.value(P,R);return(this._values[z.prefix]||(this._values[z.prefix]=new Set)).add(z),z}getScopeValue(P,R){return this._extScope.getValue(P,R)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,R,z,oe){const J=this._scope.toName(R);return z!==void 0&&oe&&(this._constants[J.str]=z),this._leafNode(new s(P,J,z)),J}const(P,R,z){return this._def(r.varKinds.const,P,R,z)}let(P,R,z){return this._def(r.varKinds.let,P,R,z)}var(P,R,z){return this._def(r.varKinds.var,P,R,z)}assign(P,R,z){return this._leafNode(new a(P,R,z))}add(P,R){return this._leafNode(new l(P,e.operators.ADD,R))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const R=["{"];for(const[z,oe]of P)R.length>1&&R.push(","),R.push(z),(z!==oe||this.opts.es5)&&(R.push(":"),(0,t.addCodeArg)(R,oe));return R.push("}"),new t._Code(R)}if(P,R,z){if(this._blockNode(new p(P)),R&&z)this.code(R).else().code(z).endIf();else if(R)this.code(R).endIf();else if(z)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new p(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(P,R){return this._blockNode(P),R&&this.code(R).endFor(),this}for(P,R){return this._for(new y(P),R)}forRange(P,R,z,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new S(J,Y,R,z),()=>oe(Y))}forOf(P,R,z,oe=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=R instanceof t.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,t._)`${Y}.length`,ae=>{this.var(J,(0,t._)`${Y}[${ae}]`),z(J)})}return this._for(new $("of",oe,J,R),()=>z(J))}forIn(P,R,z,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${R})`,z);const J=this._scope.toName(P);return this._for(new $("in",oe,J,R),()=>z(J))}endFor(){return this._endBlockNode(E)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const R=new d;if(this._blockNode(R),this.code(P),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,R,z){if(!R&&!z)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new x;if(this._blockNode(oe),this.code(P),R){const J=this.name("e");this._currNode=oe.catch=new A(J),R(J)}return z&&(this._currNode=oe.finally=new O,this.code(z)),this._endBlockNode(A,O)}throw(P){return this._leafNode(new c(P))}block(P,R){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(R),this}endBlock(P){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const z=this._nodes.length-R;if(z<0||P!==void 0&&z!==P)throw new Error(`CodeGen: wrong number of nodes: ${z} vs ${P} expected`);return this._nodes.length=R,this}func(P,R=t.nil,z,oe){return this._blockNode(new T(P,R,z)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,R){const z=this._currNode;if(z instanceof P||R&&z instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${P.kind}/${R.kind}`:P.kind}"`)}_elseNode(P){const R=this._currNode;if(!(R instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const R=this._nodes;R[R.length-1]=P}};e.CodeGen=C;function F(P,R){for(const z in R)P[z]=(P[z]||0)+(R[z]||0);return P}function V(P,R){return R instanceof t._CodeOrName?F(P,R.names):P}function X(P,R,z){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,ae)=>(ae instanceof t.Name&&(ae=oe(ae)),ae instanceof t._Code?Y.push(...ae._items):Y.push(ae),Y),[]));function oe(Y){const ae=z[Y.str];return ae===void 0||R[Y.str]!==1?Y:(delete R[Y.str],ae)}function J(Y){return Y instanceof t._Code&&Y._items.some(ae=>ae instanceof t.Name&&R[ae.str]===1&&z[ae.str]!==void 0)}}function H(P,R){for(const z in R)P[z]=(P[z]||0)-(R[z]||0)}function Z(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${W(P)}`}e.not=Z;var fe=B(e.operators.AND);function ee(...P){return P.reduce(fe)}e.and=ee;var ne=B(e.operators.OR);function k(...P){return P.reduce(ne)}e.or=k;function B(P){return(R,z)=>R===t.nil?z:z===t.nil?R:(0,t._)`${W(R)} ${P} ${W(z)}`}function W(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),Ur=Ne({"../core/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=br(),r=Xb();function n(T){const d={};for(const x of T)d[x]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!s(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:x,self:A}=T;if(!x.strictSchema||typeof d=="boolean")return;const O=A.RULES.keywords;for(const C in d)O[C]||$(T,`unknown keyword: "${C}"`)}e.checkUnknownRules=o;function s(T,d){if(typeof T=="boolean")return!T;for(const x in T)if(d[x])return!0;return!1}e.schemaHasRules=s;function a(T,d){if(typeof T=="boolean")return!T;for(const x in T)if(x!=="$ref"&&d.all[x])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:T,schemaPath:d},x,A,O){if(!O){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,t._)`${x}`}return(0,t._)`${T}${d}${(0,t.getProperty)(A)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function g(T,d){if(Array.isArray(T))for(const x of T)d(x);else d(T)}e.eachItem=g;function m({mergeNames:T,mergeToName:d,mergeValues:x,resultToName:A}){return(O,C,F,V)=>{const X=F===void 0?C:F instanceof t.Name?(C instanceof t.Name?T(O,C,F):d(O,C,F),F):C instanceof t.Name?(d(O,F,C),C):x(C,F);return V===t.Name&&!(X instanceof t.Name)?A(O,X):X}}e.mergeEvaluated={props:m({mergeNames:(T,d,x)=>T.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(x,!0),()=>T.assign(x,(0,t._)`${x} || {}`).code((0,t._)`Object.assign(${x}, ${d})`))}),mergeToName:(T,d,x)=>T.if((0,t._)`${x} !== true`,()=>{d===!0?T.assign(x,!0):(T.assign(x,(0,t._)`${x} || {}`),v(T,x,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:m({mergeNames:(T,d,x)=>T.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>T.assign(x,(0,t._)`${d} === true ? true : ${x} > ${d} ? ${x} : ${d}`)),mergeToName:(T,d,x)=>T.if((0,t._)`${x} !== true`,()=>T.assign(x,d===!0?!0:(0,t._)`${x} > ${d} ? ${x} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const x=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,x,d),x}e.evaluatedPropsToName=_;function v(T,d,x){Object.keys(x).forEach(A=>T.assign((0,t._)`${d}${(0,t.getProperty)(A)}`,!0))}e.setEvaluated=v;var p={};function E(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,x){if(T instanceof t.Name){const A=d===y.Num;return x?A?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:A?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,x=T.opts.strictSchema){if(x){if(d=`strict mode: ${d}`,x===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),vc=Ne({"../core/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),bE=Ne({"../core/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=br(),r=Ur(),n=vc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,x=c(v,p,E);y??(T||d)?l($,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[g(S,E),m(v,E)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:x,propertyName:A,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),A&&y.push([f.propertyName,A])}}}),Zre=Ne({"../core/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=bE(),r=br(),n=vc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),lV=Ne({"../core/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),uV=Ne({"../core/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),Qb=Ne({"../core/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=lV(),r=uV(),n=bE(),i=br(),o=Ur(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,x=c(S,d.coerceTypes),A=S.length>0&&!(x.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(A){const O=_(S,T,d.strictNumbers,s.Wrong);$.if(O,()=>{x.length?h(y,S,x):p(y)})}return A}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function h(y,S,$){const{gen:T,data:d,opts:x}=y,A=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);x.coerceTypes==="array"&&T.if((0,i._)`${A} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(A,(0,i._)`typeof ${d}`).if(_(S,d,x.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&x.coerceTypes==="array")&&C(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),g(y,O)});function C(F){switch(F){case"string":T.elseIf((0,i._)`${A} == "number" || ${A} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${A} == "boolean" || ${d} === null
              || (${A} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${A} === "boolean" || ${d} === null
              || (${A} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${A} === "string" || ${A} === "number"
              || ${A} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function g({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function m(y,S,$,T=s.Correct){const d=T===s.Correct?i.operators.EQ:i.operators.NEQ;let x;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":x=(0,i._)`Array.isArray(${S})`;break;case"object":x=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":x=A((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":x=A();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===s.Correct?x:(0,i.not)(x);function A(O=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,O,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=m;function _(y,S,$,T){if(y.length===1)return m(y[0],S,$,T);let d;const x=(0,o.toHash)(y);if(x.array&&x.object){const A=(0,i._)`typeof ${S} != "object"`;d=x.null?A:(0,i._)`!${S} || ${A}`,delete x.null,delete x.array,delete x.object}else d=i.nil;x.number&&delete x.integer;for(const A in x)d=(0,i.and)(d,m(A,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),ene=Ne({"../core/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=br(),r=Ur();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let g=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(g=(0,t._)`${g} || ${h} === null || ${h} === ""`),l.if(g,(0,t._)`${h} = ${(0,t.stringify)(a)}`)}}}),Ea=Ne({"../core/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=br(),r=Ur(),n=vc(),i=Ur();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(x=>(0,t.and)(c(y,S,x,$.ownProperties),(0,t._)`${d} = ${x}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function g(y,S){return h(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=g;function m({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:x},it:A},O,C,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,x)],[n.default.parentData,A.parentData],[n.default.parentDataProperty,A.parentDataProperty],[n.default.rootData,n.default.rootData]];A.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...X)}`;return C!==t.nil?(0,t._)`${O}.call(${C}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=m;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,x=d($,T);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:S,data:$,keyword:T,it:d}=y,x=S.name("valid");if(d.allErrors){const O=S.let("valid",!0);return A(()=>S.assign(O,!1)),O}return S.var(x,!0),A(()=>S.break()),x;function A(O){const C=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,C,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},x),S.if((0,t.not)(x),O)})}}e.validateArray=p;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(C=>(0,r.alwaysValidSchema)(d,C))&&!d.opts.unevaluated)return;const A=S.let("valid",!1),O=S.name("_valid");S.block(()=>$.forEach((C,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);S.assign(A,(0,t._)`${A} || ${O}`),y.mergeValidEvaluated(V,O)||S.if((0,t.not)(A))})),y.result(A,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),tne=Ne({"../core/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=br(),r=vc(),n=Ea(),i=bE();function o(g,m){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=g,S=m.macro.call(y.self,p,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");g.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),g.pass(T,()=>g.error(!0))}e.macroKeywordCode=o;function s(g,m){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:$}=g;u($,m);const T=!S&&m.compile?m.compile.call($.self,E,y,$):m.validate,d=f(v,p,T),x=v.let("valid");g.block$data(x,A),g.ok((_=m.valid)!==null&&_!==void 0?_:x);function A(){if(m.errors===!1)F(),m.modifying&&a(g),V(()=>g.error());else{const X=m.async?O():C();m.modifying&&a(g),V(()=>l(g,X))}}function O(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(x,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${H}.errors`),()=>v.throw(H))),X}function C(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=m.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,Z=!("compile"in m&&!S||m.schema===!1);v.assign(x,(0,t._)`${X}${(0,n.callValidateCode)(g,d,H,Z)}`,m.modifying)}function V(X){var H;v.if((0,t.not)((H=m.valid)!==null&&H!==void 0?H:x),X)}}e.funcKeywordCode=s;function a(g){const{gen:m,data:_,it:v}=g;m.if(v.parentData,()=>m.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(g,m){const{gen:_}=g;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${m} : ${r.default.vErrors}.concat(${m})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},m){if(m.async&&!g.$async)throw new Error("async keyword in sync schema")}function f(g,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return g.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(g,m,_=!1){return!m.length||m.some(v=>v==="array"?Array.isArray(g):v==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==v||_&&typeof g>"u")}e.validSchemaType=c;function h({schema:g,opts:m,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(g,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(g[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(m.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),rne=Ne({"../core/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=br(),r=Ur();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const g=s.schema[a];return l===void 0?{schema:g,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:g[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=a,E=g.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);m(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:g.let("data",f,!0);m(_),h!==void 0&&(s.propertyName=h)}c&&(s.dataTypes=c);function m(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),nne=Ne({"../core/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,h,g,m){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,h,g,m);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,s,a,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,h,g,m)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),_E=Ne({"../core/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=Ur(),r=Vh(),n=nne(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!a(v):p?l(v)<=p:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const p in v){if(s.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function g(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=g;var m=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),$={"":S},T=u(y,S,!1),d={},x=new Set;return n(v,{allKeys:!0},(C,F,V,X)=>{if(X===void 0)return;const H=T+F;let Z=$[X];typeof C[E]=="string"&&(Z=fe.call(this,C[E])),ee.call(this,C.$anchor),ee.call(this,C.$dynamicAnchor),$[F]=Z;function fe(ne){const k=this.opts.uriResolver.resolve;if(ne=h(Z?k(Z,ne):ne),x.has(ne))throw O(ne);x.add(ne);let B=this.refs[ne];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?A(C,B.schema,ne):ne!==h(H)&&(ne[0]==="#"?(A(C,d[ne],ne),d[ne]=C):this.refs[ne]=H),ne}function ee(ne){if(typeof ne=="string"){if(!m.test(ne))throw new Error(`invalid anchor "${ne}"`);fe.call(this,`#${ne}`)}}}),d;function A(C,F,V){if(F!==void 0&&!r(C,F))throw O(V)}function O(C){return new Error(`reference "${C}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),EE=Ne({"../core/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Zre(),r=Qb(),n=uV(),i=Qb(),o=ene(),s=tne(),a=rne(),l=br(),u=vc(),f=_E(),c=Ur(),h=bE();function g(N){if(T(N)&&(x(N),$(N))){p(N);return}m(N,()=>(0,t.topBoolOrEmptySchema)(N))}e.validateFunctionCode=g;function m({gen:N,validateName:D,schema:M,schemaEnv:K,opts:se},ce){se.code.es5?N.func(D,(0,l._)`${u.default.data}, ${u.default.valCxt}`,K.$async,()=>{N.code((0,l._)`"use strict"; ${y(M,se)}`),v(N,se),N.code(ce)}):N.func(D,(0,l._)`${u.default.data}, ${_(se)}`,K.$async,()=>N.code(y(M,se)).code(ce))}function _(N){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${N.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(N,D){N.if(u.default.valCxt,()=>{N.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),N.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),N.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),N.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),D.dynamicRef&&N.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{N.var(u.default.instancePath,(0,l._)`""`),N.var(u.default.parentData,(0,l._)`undefined`),N.var(u.default.parentDataProperty,(0,l._)`undefined`),N.var(u.default.rootData,u.default.data),D.dynamicRef&&N.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(N){const{schema:D,opts:M,gen:K}=N;m(N,()=>{M.$comment&&D.$comment&&X(N),C(N),K.let(u.default.vErrors,null),K.let(u.default.errors,0),M.unevaluated&&E(N),A(N),H(N)})}function E(N){const{gen:D,validateName:M}=N;N.evaluated=D.const("evaluated",(0,l._)`${M}.evaluated`),D.if((0,l._)`${N.evaluated}.dynamicProps`,()=>D.assign((0,l._)`${N.evaluated}.props`,(0,l._)`undefined`)),D.if((0,l._)`${N.evaluated}.dynamicItems`,()=>D.assign((0,l._)`${N.evaluated}.items`,(0,l._)`undefined`))}function y(N,D){const M=typeof N=="object"&&N[D.schemaId];return M&&(D.code.source||D.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(N,D){if(T(N)&&(x(N),$(N))){d(N,D);return}(0,t.boolOrEmptySchema)(N,D)}function $({schema:N,self:D}){if(typeof N=="boolean")return!N;for(const M in N)if(D.RULES.all[M])return!0;return!1}function T(N){return typeof N.schema!="boolean"}function d(N,D){const{schema:M,gen:K,opts:se}=N;se.$comment&&M.$comment&&X(N),F(N),V(N);const ce=K.const("_errs",u.default.errors);A(N,ce),K.var(D,(0,l._)`${ce} === ${u.default.errors}`)}function x(N){(0,c.checkUnknownRules)(N),O(N)}function A(N,D){if(N.opts.jtd)return fe(N,[],!1,D);const M=(0,r.getSchemaTypes)(N.schema),K=(0,r.coerceAndCheckDataType)(N,M);fe(N,M,!K,D)}function O(N){const{schema:D,errSchemaPath:M,opts:K,self:se}=N;D.$ref&&K.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(D,se.RULES)&&se.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function C(N){const{schema:D,opts:M}=N;D.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(N,"default is ignored in the schema root")}function F(N){const D=N.schema[N.opts.schemaId];D&&(N.baseId=(0,f.resolveUrl)(N.opts.uriResolver,N.baseId,D))}function V(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:N,schemaEnv:D,schema:M,errSchemaPath:K,opts:se}){const ce=M.$comment;if(se.$comment===!0)N.code((0,l._)`${u.default.self}.logger.log(${ce})`);else if(typeof se.$comment=="function"){const de=(0,l.str)`${K}/$comment`,pe=N.scopeValue("root",{ref:D.root});N.code((0,l._)`${u.default.self}.opts.$comment(${ce}, ${de}, ${pe}.schema)`)}}function H(N){const{gen:D,schemaEnv:M,validateName:K,ValidationError:se,opts:ce}=N;M.$async?D.if((0,l._)`${u.default.errors} === 0`,()=>D.return(u.default.data),()=>D.throw((0,l._)`new ${se}(${u.default.vErrors})`)):(D.assign((0,l._)`${K}.errors`,u.default.vErrors),ce.unevaluated&&Z(N),D.return((0,l._)`${u.default.errors} === 0`))}function Z({gen:N,evaluated:D,props:M,items:K}){M instanceof l.Name&&N.assign((0,l._)`${D}.props`,M),K instanceof l.Name&&N.assign((0,l._)`${D}.items`,K)}function fe(N,D,M,K){const{gen:se,schema:ce,data:de,allErrors:pe,opts:Ae,self:Le}=N,{RULES:Ce}=Le;if(ce.$ref&&(Ae.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ce,Ce))){se.block(()=>Y(N,"$ref",Ce.all.$ref.definition));return}Ae.jtd||ne(N,D),se.block(()=>{for(const qe of Ce.rules)rt(qe);rt(Ce.post)});function rt(qe){(0,n.shouldUseGroup)(ce,qe)&&(qe.type?(se.if((0,i.checkDataType)(qe.type,de,Ae.strictNumbers)),ee(N,qe),D.length===1&&D[0]===qe.type&&M&&(se.else(),(0,i.reportTypeError)(N)),se.endIf()):ee(N,qe),pe||se.if((0,l._)`${u.default.errors} === ${K||0}`))}}function ee(N,D){const{gen:M,schema:K,opts:{useDefaults:se}}=N;se&&(0,o.assignDefaults)(N,D.type),M.block(()=>{for(const ce of D.rules)(0,n.shouldUseRule)(K,ce)&&Y(N,ce.keyword,ce.definition,D.type)})}function ne(N,D){N.schemaEnv.meta||!N.opts.strictTypes||(k(N,D),N.opts.allowUnionTypes||B(N,D),W(N,N.dataTypes))}function k(N,D){if(D.length){if(!N.dataTypes.length){N.dataTypes=D;return}D.forEach(M=>{R(N.dataTypes,M)||oe(N,`type "${M}" not allowed by context "${N.dataTypes.join(",")}"`)}),z(N,D)}}function B(N,D){D.length>1&&!(D.length===2&&D.includes("null"))&&oe(N,"use allowUnionTypes to allow union type keyword")}function W(N,D){const M=N.self.RULES.all;for(const K in M){const se=M[K];if(typeof se=="object"&&(0,n.shouldUseRule)(N.schema,se)){const{type:ce}=se.definition;ce.length&&!ce.some(de=>P(D,de))&&oe(N,`missing type "${ce.join(",")}" for keyword "${K}"`)}}}function P(N,D){return N.includes(D)||D==="number"&&N.includes("integer")}function R(N,D){return N.includes(D)||D==="integer"&&N.includes("number")}function z(N,D){const M=[];for(const K of N.dataTypes)R(D,K)?M.push(K):D.includes("integer")&&K==="number"&&M.push("integer");N.dataTypes=M}function oe(N,D){const M=N.schemaEnv.baseId+N.errSchemaPath;D+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(N,D,N.opts.strictTypes)}var J=class{constructor(N,D,M){if((0,s.validateKeywordUsage)(N,D,M),this.gen=N.gen,this.allErrors=N.allErrors,this.keyword=M,this.data=N.data,this.schema=N.schema[M],this.$data=D.$data&&N.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(N,this.schema,M,this.$data),this.schemaType=D.schemaType,this.parentSchema=N.schema,this.params={},this.it=N,this.def=D,this.$data)this.schemaCode=N.gen.const("vSchema",Ie(this.$data,N));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=N.gen.const("_errs",u.default.errors))}result(N,D,M){this.failResult((0,l.not)(N),D,M)}failResult(N,D,M){this.gen.if(N),M?M():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(N,D){this.failResult((0,l.not)(N),void 0,D)}fail(N){if(N===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(N),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(N){if(!this.$data)return this.fail(N);const{schemaCode:D}=this;this.fail((0,l._)`${D} !== undefined && (${(0,l.or)(this.invalid$data(),N)})`)}error(N,D,M){if(D){this.setParams(D),this._error(N,M),this.setParams({});return}this._error(N,M)}_error(N,D){(N?h.reportExtraError:h.reportError)(this,this.def.error,D)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(N){this.allErrors||this.gen.if(N)}setParams(N,D){D?Object.assign(this.params,N):this.params=N}block$data(N,D,M=l.nil){this.gen.block(()=>{this.check$data(N,M),D()})}check$data(N=l.nil,D=l.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:se,def:ce}=this;M.if((0,l.or)((0,l._)`${K} === undefined`,D)),N!==l.nil&&M.assign(N,!0),(se.length||ce.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),N!==l.nil&&M.assign(N,!1)),M.else()}invalid$data(){const{gen:N,schemaCode:D,schemaType:M,def:K,it:se}=this;return(0,l.or)(ce(),de());function ce(){if(M.length){if(!(D instanceof l.Name))throw new Error("ajv implementation error");const pe=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(pe,D,se.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(K.validateSchema){const pe=N.scopeValue("validate$data",{ref:K.validateSchema});return(0,l._)`!${pe}(${D})`}return l.nil}}subschema(N,D){const M=(0,a.getSubschema)(this.it,N);(0,a.extendSubschemaData)(M,this.it,N),(0,a.extendSubschemaMode)(M,N);const K={...this.it,...M,items:void 0,props:void 0};return S(K,D),K}mergeEvaluated(N,D){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&N.props!==void 0&&(M.props=c.mergeEvaluated.props(K,N.props,M.props,D)),M.items!==!0&&N.items!==void 0&&(M.items=c.mergeEvaluated.items(K,N.items,M.items,D)))}mergeValidEvaluated(N,D){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(D,()=>this.mergeEvaluated(N,l.Name)),!0}};e.KeywordCxt=J;function Y(N,D,M,K){const se=new J(N,M,D);"code"in M?M.code(se,K):se.$data&&M.validate?(0,s.funcKeywordCode)(se,M):"macro"in M?(0,s.macroKeywordCode)(se,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(se,M)}var ae=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ie(N,{dataLevel:D,dataNames:M,dataPathArr:K}){let se,ce;if(N==="")return u.default.rootData;if(N[0]==="/"){if(!ae.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);se=N,ce=u.default.rootData}else{const Le=be.exec(N);if(!Le)throw new Error(`Invalid JSON-pointer: ${N}`);const Ce=+Le[1];if(se=Le[2],se==="#"){if(Ce>=D)throw new Error(Ae("property/index",Ce));return K[D-Ce]}if(Ce>D)throw new Error(Ae("data",Ce));if(ce=M[D-Ce],!se)return ce}let de=ce;const pe=se.split("/");for(const Le of pe)Le&&(ce=(0,l._)`${ce}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,de=(0,l._)`${de} && ${ce}`);return de;function Ae(Le,Ce){return`Cannot access ${Le} ${Ce} levels up, current level is ${D}`}}e.getData=Ie}}),DR=Ne({"../core/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),MR=Ne({"../core/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_E(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),LR=Ne({"../core/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=br(),r=DR(),n=vc(),i=_E(),o=Ur(),s=EE(),a=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let x;p.$async&&(x=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const A=d.scopeName("validate");p.validateName=A;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:A,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(p),(0,s.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();C=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(C=this.opts.code.process(C,p));const X=new Function(`${n.default.self}`,`${n.default.scope}`,C)(this,this.scope.get());if(this.scope.value(A,{ref:X}),X.errors=null,X.schema=p.schema,X.schemaEnv=p,p.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:A,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:Z}=O;X.evaluated={props:H instanceof t.Name?void 0:H,items:Z instanceof t.Name?void 0:Z,dynamicProps:H instanceof t.Name,dynamicItems:Z instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return p.validate=X,p}catch(F){throw delete p.validate,delete p.validateName,C&&this.logger.error("Error compiling schema, function code:",C),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=p.refs[y];if($)return $;let T=g.call(this,p,y);if(T===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:x}=this.opts;d&&(T=new a({schema:d,schemaId:x,root:p,baseId:E}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function g(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||m.call(this,p,E)}function m(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===$)return v.call(this,y,p);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const x=m.call(this,p,d);return typeof(x==null?void 0:x.schema)!="object"?void 0:v.call(this,y,x)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:x}=d,{schemaId:A}=this.opts,O=x[A];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new a({schema:x,schemaId:A,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=m;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const A=y[(0,o.unescapeFragment)(x)];if(A===void 0)return;y=A;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(x)&&O&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const x=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=m.call(this,S,x)}const{schemaId:d}=this.opts;if(T=T||new a({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),ine=Ne({"../core/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),cV=Ne({"../../node_modules/uri-js/dist/es5/uri.all.js"(e,t){Te(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n(r.URI=r.URI||{})}(e,function(r){function n(){for(var he=arguments.length,ue=Array(he),we=0;we<he;we++)ue[we]=arguments[we];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var Re=ue.length-1,xe=1;xe<Re;++xe)ue[xe]=ue[xe].slice(1,-1);return ue[Re]=ue[Re].slice(1),ue.join("")}else return ue[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function s(he){return he.toUpperCase()}function a(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,ue){var we=he;if(ue)for(var Re in ue)we[Re]=ue[Re];return we}function u(he){var ue="[A-Za-z]",we="[0-9]",Re=n(we,"[A-Fa-f]"),xe=i(i("%[EFef]"+Re+"%"+Re+Re+"%"+Re+Re)+"|"+i("%[89A-Fa-f]"+Re+"%"+Re+Re)+"|"+i("%"+Re+Re)),ot="[\\:\\/\\?\\#\\[\\]\\@]",tt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Tt=n(ot,tt),jt=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Lt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(ue,we,"[\\-\\.\\_\\~]",jt);i(ue+n(ue,we,"[\\+\\-\\.]")+"*"),i(i(xe+"|"+n($t,tt,"[\\:]"))+"*");var Nt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Ht=i(Nt+"\\."+Nt+"\\."+Nt+"\\."+Nt),yt=i(Re+"{1,4}"),zt=i(i(yt+"\\:"+yt)+"|"+Ht),xt=i(i(yt+"\\:")+"{6}"+zt),kt=i("\\:\\:"+i(yt+"\\:")+"{5}"+zt),en=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+zt),jr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+zt),Vr=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+zt),mn=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+zt),Wn=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+zt),kr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Qr=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Zn=i([xt,kt,en,jr,Vr,mn,Wn,kr,Qr].join("|")),gn=i(i($t+"|"+xe)+"+");i("[vV]"+Re+"+\\."+n($t,tt,"[\\:]")+"+"),i(i(xe+"|"+n($t,tt))+"*");var pi=i(xe+"|"+n($t,tt,"[\\:\\@]"));return i(i(xe+"|"+n($t,tt,"[\\@]"))+"+"),i(i(pi+"|"+n("[\\/\\?]",Lt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,tt),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,tt),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,tt),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,tt),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]",Lt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,tt),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,Tt),"g"),PCT_ENCODED:new RegExp(xe,"g"),IPV4ADDRESS:new RegExp("^("+Ht+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zn+")"+i(i("\\%25|\\%(?!"+Re+"{2})")+"("+gn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function he(ue,we){var Re=[],xe=!0,ot=!1,tt=void 0;try{for(var Tt=ue[Symbol.iterator](),jt;!(xe=(jt=Tt.next()).done)&&(Re.push(jt.value),!(we&&Re.length===we));xe=!0);}catch(Lt){ot=!0,tt=Lt}finally{try{!xe&&Tt.return&&Tt.return()}finally{if(ot)throw tt}}return Re}return function(ue,we){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return he(ue,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(he){if(Array.isArray(he)){for(var ue=0,we=Array(he.length);ue<he.length;ue++)we[ue]=he[ue];return we}else return Array.from(he)},m=2147483647,_=36,v=1,p=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,x=/[^\0-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=_-v,F=Math.floor,V=String.fromCharCode;function X(he){throw new RangeError(O[he])}function H(he,ue){for(var we=[],Re=he.length;Re--;)we[Re]=ue(he[Re]);return we}function Z(he,ue){var we=he.split("@"),Re="";we.length>1&&(Re=we[0]+"@",he=we[1]),he=he.replace(A,".");var xe=he.split("."),ot=H(xe,ue).join(".");return Re+ot}function fe(he){for(var ue=[],we=0,Re=he.length;we<Re;){var xe=he.charCodeAt(we++);if(xe>=55296&&xe<=56319&&we<Re){var ot=he.charCodeAt(we++);(ot&64512)==56320?ue.push(((xe&1023)<<10)+(ot&1023)+65536):(ue.push(xe),we--)}else ue.push(xe)}return ue}var ee=function(ue){return String.fromCodePoint.apply(String,g(ue))},ne=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},k=function(ue,we){return ue+22+75*(ue<26)-((we!=0)<<5)},B=function(ue,we,Re){var xe=0;for(ue=Re?F(ue/y):ue>>1,ue+=F(ue/we);ue>C*p>>1;xe+=_)ue=F(ue/C);return F(xe+(C+1)*ue/(ue+E))},W=function(ue){var we=[],Re=ue.length,xe=0,ot=$,tt=S,Tt=ue.lastIndexOf(T);Tt<0&&(Tt=0);for(var jt=0;jt<Tt;++jt)ue.charCodeAt(jt)>=128&&X("not-basic"),we.push(ue.charCodeAt(jt));for(var Lt=Tt>0?Tt+1:0;Lt<Re;){for(var $t=xe,Nt=1,Ht=_;;Ht+=_){Lt>=Re&&X("invalid-input");var yt=ne(ue.charCodeAt(Lt++));(yt>=_||yt>F((m-xe)/Nt))&&X("overflow"),xe+=yt*Nt;var zt=Ht<=tt?v:Ht>=tt+p?p:Ht-tt;if(yt<zt)break;var xt=_-zt;Nt>F(m/xt)&&X("overflow"),Nt*=xt}var kt=we.length+1;tt=B(xe-$t,kt,$t==0),F(xe/kt)>m-ot&&X("overflow"),ot+=F(xe/kt),xe%=kt,we.splice(xe++,0,ot)}return String.fromCodePoint.apply(String,we)},P=function(ue){var we=[];ue=fe(ue);var Re=ue.length,xe=$,ot=0,tt=S,Tt=!0,jt=!1,Lt=void 0;try{for(var $t=ue[Symbol.iterator](),Nt;!(Tt=(Nt=$t.next()).done);Tt=!0){var Ht=Nt.value;Ht<128&&we.push(V(Ht))}}catch(Un){jt=!0,Lt=Un}finally{try{!Tt&&$t.return&&$t.return()}finally{if(jt)throw Lt}}var yt=we.length,zt=yt;for(yt&&we.push(T);zt<Re;){var xt=m,kt=!0,en=!1,jr=void 0;try{for(var Vr=ue[Symbol.iterator](),mn;!(kt=(mn=Vr.next()).done);kt=!0){var Wn=mn.value;Wn>=xe&&Wn<xt&&(xt=Wn)}}catch(Un){en=!0,jr=Un}finally{try{!kt&&Vr.return&&Vr.return()}finally{if(en)throw jr}}var kr=zt+1;xt-xe>F((m-ot)/kr)&&X("overflow"),ot+=(xt-xe)*kr,xe=xt;var Qr=!0,Zn=!1,gn=void 0;try{for(var pi=ue[Symbol.iterator](),us;!(Qr=(us=pi.next()).done);Qr=!0){var cs=us.value;if(cs<xe&&++ot>m&&X("overflow"),cs==xe){for(var Cr=ot,En=_;;En+=_){var mi=En<=tt?v:En>=tt+p?p:En-tt;if(Cr<mi)break;var $a=Cr-mi,fs=_-mi;we.push(V(k(mi+$a%fs,0))),Cr=F($a/fs)}we.push(V(k(Cr,0))),tt=B(ot,kr,zt==yt),ot=0,++zt}}}catch(Un){Zn=!0,gn=Un}finally{try{!Qr&&pi.return&&pi.return()}finally{if(Zn)throw gn}}++ot,++xe}return we.join("")},R=function(ue){return Z(ue,function(we){return d.test(we)?W(we.slice(4).toLowerCase()):we})},z=function(ue){return Z(ue,function(we){return x.test(we)?"xn--"+P(we):we})},oe={version:"2.1.0",ucs2:{decode:fe,encode:ee},decode:W,encode:P,toASCII:z,toUnicode:R},J={};function Y(he){var ue=he.charCodeAt(0),we=void 0;return ue<16?we="%0"+ue.toString(16).toUpperCase():ue<128?we="%"+ue.toString(16).toUpperCase():ue<2048?we="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():we="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),we}function ae(he){for(var ue="",we=0,Re=he.length;we<Re;){var xe=parseInt(he.substr(we+1,2),16);if(xe<128)ue+=String.fromCharCode(xe),we+=3;else if(xe>=194&&xe<224){if(Re-we>=6){var ot=parseInt(he.substr(we+4,2),16);ue+=String.fromCharCode((xe&31)<<6|ot&63)}else ue+=he.substr(we,6);we+=6}else if(xe>=224){if(Re-we>=9){var tt=parseInt(he.substr(we+4,2),16),Tt=parseInt(he.substr(we+7,2),16);ue+=String.fromCharCode((xe&15)<<12|(tt&63)<<6|Tt&63)}else ue+=he.substr(we,9);we+=9}else ue+=he.substr(we,3),we+=3}return ue}function be(he,ue){function we(Re){var xe=ae(Re);return xe.match(ue.UNRESERVED)?xe:Re}return he.scheme&&(he.scheme=String(he.scheme).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(ue.PCT_ENCODED,we).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,s)),he.host!==void 0&&(he.host=String(he.host).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,s)),he.path!==void 0&&(he.path=String(he.path).replace(ue.PCT_ENCODED,we).replace(he.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,s)),he.query!==void 0&&(he.query=String(he.query).replace(ue.PCT_ENCODED,we).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,s)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(ue.PCT_ENCODED,we).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,s)),he}function Ie(he){return he.replace(/^0*(.*)/,"$1")||"0"}function N(he,ue){var we=he.match(ue.IPV4ADDRESS)||[],Re=h(we,2),xe=Re[1];return xe?xe.split(".").map(Ie).join("."):he}function D(he,ue){var we=he.match(ue.IPV6ADDRESS)||[],Re=h(we,3),xe=Re[1],ot=Re[2];if(xe){for(var tt=xe.toLowerCase().split("::").reverse(),Tt=h(tt,2),jt=Tt[0],Lt=Tt[1],$t=Lt?Lt.split(":").map(Ie):[],Nt=jt.split(":").map(Ie),Ht=ue.IPV4ADDRESS.test(Nt[Nt.length-1]),yt=Ht?7:8,zt=Nt.length-yt,xt=Array(yt),kt=0;kt<yt;++kt)xt[kt]=$t[kt]||Nt[zt+kt]||"";Ht&&(xt[yt-1]=N(xt[yt-1],ue));var en=xt.reduce(function(kr,Qr,Zn){if(!Qr||Qr==="0"){var gn=kr[kr.length-1];gn&&gn.index+gn.length===Zn?gn.length++:kr.push({index:Zn,length:1})}return kr},[]),jr=en.sort(function(kr,Qr){return Qr.length-kr.length})[0],Vr=void 0;if(jr&&jr.length>1){var mn=xt.slice(0,jr.index),Wn=xt.slice(jr.index+jr.length);Vr=mn.join(":")+"::"+Wn.join(":")}else Vr=xt.join(":");return ot&&(Vr+="%"+ot),Vr}else return he}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,K="".match(/(){0}/)[1]===void 0;function se(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},Re=ue.iri!==!1?c:f;ue.reference==="suffix"&&(he=(ue.scheme?ue.scheme+":":"")+"//"+he);var xe=he.match(M);if(xe){K?(we.scheme=xe[1],we.userinfo=xe[3],we.host=xe[4],we.port=parseInt(xe[5],10),we.path=xe[6]||"",we.query=xe[7],we.fragment=xe[8],isNaN(we.port)&&(we.port=xe[5])):(we.scheme=xe[1]||void 0,we.userinfo=he.indexOf("@")!==-1?xe[3]:void 0,we.host=he.indexOf("//")!==-1?xe[4]:void 0,we.port=parseInt(xe[5],10),we.path=xe[6]||"",we.query=he.indexOf("?")!==-1?xe[7]:void 0,we.fragment=he.indexOf("#")!==-1?xe[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?xe[4]:void 0)),we.host&&(we.host=D(N(we.host,Re),Re)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==we.reference&&(we.error=we.error||"URI is not a "+ue.reference+" reference.");var ot=J[(ue.scheme||we.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!ot||!ot.unicodeSupport)){if(we.host&&(ue.domainHost||ot&&ot.domainHost))try{we.host=oe.toASCII(we.host.replace(Re.PCT_ENCODED,ae).toLowerCase())}catch(tt){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+tt}be(we,f)}else be(we,Re);ot&&ot.parse&&ot.parse(we,ue)}else we.error=we.error||"URI can not be parsed.";return we}function ce(he,ue){var we=ue.iri!==!1?c:f,Re=[];return he.userinfo!==void 0&&(Re.push(he.userinfo),Re.push("@")),he.host!==void 0&&Re.push(D(N(String(he.host),we),we).replace(we.IPV6ADDRESS,function(xe,ot,tt){return"["+ot+(tt?"%25"+tt:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(Re.push(":"),Re.push(String(he.port))),Re.length?Re.join(""):void 0}var de=/^\.\.?\//,pe=/^\/\.(\/|$)/,Ae=/^\/\.\.(\/|$)/,Le=/^\/?(?:.|\n)*?(?=\/|$)/;function Ce(he){for(var ue=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(pe))he=he.replace(pe,"/");else if(he.match(Ae))he=he.replace(Ae,"/"),ue.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Le);if(we){var Re=we[0];he=he.slice(Re.length),ue.push(Re)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function rt(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ue.iri?c:f,Re=[],xe=J[(ue.scheme||he.scheme||"").toLowerCase()];if(xe&&xe.serialize&&xe.serialize(he,ue),he.host&&!we.IPV6ADDRESS.test(he.host)){if(ue.domainHost||xe&&xe.domainHost)try{he.host=ue.iri?oe.toUnicode(he.host):oe.toASCII(he.host.replace(we.PCT_ENCODED,ae).toLowerCase())}catch(Tt){he.error=he.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+Tt}}be(he,we),ue.reference!=="suffix"&&he.scheme&&(Re.push(he.scheme),Re.push(":"));var ot=ce(he,ue);if(ot!==void 0&&(ue.reference!=="suffix"&&Re.push("//"),Re.push(ot),he.path&&he.path.charAt(0)!=="/"&&Re.push("/")),he.path!==void 0){var tt=he.path;!ue.absolutePath&&(!xe||!xe.absolutePath)&&(tt=Ce(tt)),ot===void 0&&(tt=tt.replace(/^\/\//,"/%2F")),Re.push(tt)}return he.query!==void 0&&(Re.push("?"),Re.push(he.query)),he.fragment!==void 0&&(Re.push("#"),Re.push(he.fragment)),Re.join("")}function qe(he,ue){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=arguments[3],xe={};return Re||(he=se(rt(he,we),we),ue=se(rt(ue,we),we)),we=we||{},!we.tolerant&&ue.scheme?(xe.scheme=ue.scheme,xe.userinfo=ue.userinfo,xe.host=ue.host,xe.port=ue.port,xe.path=Ce(ue.path||""),xe.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(xe.userinfo=ue.userinfo,xe.host=ue.host,xe.port=ue.port,xe.path=Ce(ue.path||""),xe.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?xe.path=Ce(ue.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?xe.path="/"+ue.path:he.path?xe.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+ue.path:xe.path=ue.path,xe.path=Ce(xe.path)),xe.query=ue.query):(xe.path=he.path,ue.query!==void 0?xe.query=ue.query:xe.query=he.query),xe.userinfo=he.userinfo,xe.host=he.host,xe.port=he.port),xe.scheme=he.scheme),xe.fragment=ue.fragment,xe}function Ue(he,ue,we){var Re=l({scheme:"null"},we);return rt(qe(se(he,Re),se(ue,Re),Re,!0),Re)}function G(he,ue){return typeof he=="string"?he=rt(se(he,ue),ue):o(he)==="object"&&(he=se(rt(he,ue),ue)),he}function I(he,ue,we){return typeof he=="string"?he=rt(se(he,we),we):o(he)==="object"&&(he=rt(he,we)),typeof ue=="string"?ue=rt(se(ue,we),we):o(ue)==="object"&&(ue=rt(ue,we)),he===ue}function L(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function ie(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,ae)}var ye={scheme:"http",domainHost:!0,parse:function(ue,we){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,we){var Re=String(ue.scheme).toLowerCase()==="https";return(ue.port===(Re?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Se={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function De(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(ue,we){var Re=ue;return Re.secure=De(Re),Re.resourceName=(Re.path||"/")+(Re.query?"?"+Re.query:""),Re.path=void 0,Re.query=void 0,Re},serialize:function(ue,we){if((ue.port===(De(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var Re=ue.resourceName.split("?"),xe=h(Re,2),ot=xe[0],tt=xe[1];ue.path=ot&&ot!=="/"?ot:void 0,ue.query=tt,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Be={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},st={},wt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ut="[0-9A-Fa-f]",Ct=i(i("%[EFef]"+ut+"%"+ut+ut+"%"+ut+ut)+"|"+i("%[89A-Fa-f]"+ut+"%"+ut+ut)+"|"+i("%"+ut+ut)),Tr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",or=n(Pr,'[\\"\\\\]'),ur="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",sn=new RegExp(wt,"g"),tr=new RegExp(Ct,"g"),Dt=new RegExp(n("[^]",Tr,"[\\.]",'[\\"]',or),"g"),Jt=new RegExp(n("[^]",wt,ur),"g"),Ee=Jt;function Pe(he){var ue=ae(he);return ue.match(sn)?ue:he}var ct={scheme:"mailto",parse:function(ue,we){var Re=ue,xe=Re.to=Re.path?Re.path.split(","):[];if(Re.path=void 0,Re.query){for(var ot=!1,tt={},Tt=Re.query.split("&"),jt=0,Lt=Tt.length;jt<Lt;++jt){var $t=Tt[jt].split("=");switch($t[0]){case"to":for(var Nt=$t[1].split(","),Ht=0,yt=Nt.length;Ht<yt;++Ht)xe.push(Nt[Ht]);break;case"subject":Re.subject=ie($t[1],we);break;case"body":Re.body=ie($t[1],we);break;default:ot=!0,tt[ie($t[0],we)]=ie($t[1],we);break}}ot&&(Re.headers=tt)}Re.query=void 0;for(var zt=0,xt=xe.length;zt<xt;++zt){var kt=xe[zt].split("@");if(kt[0]=ie(kt[0]),we.unicodeSupport)kt[1]=ie(kt[1],we).toLowerCase();else try{kt[1]=oe.toASCII(ie(kt[1],we).toLowerCase())}catch(en){Re.error=Re.error||"Email address's domain name can not be converted to ASCII via punycode: "+en}xe[zt]=kt.join("@")}return Re},serialize:function(ue,we){var Re=ue,xe=a(ue.to);if(xe){for(var ot=0,tt=xe.length;ot<tt;++ot){var Tt=String(xe[ot]),jt=Tt.lastIndexOf("@"),Lt=Tt.slice(0,jt).replace(tr,Pe).replace(tr,s).replace(Dt,Y),$t=Tt.slice(jt+1);try{$t=we.iri?oe.toUnicode($t):oe.toASCII(ie($t,we).toLowerCase())}catch(zt){Re.error=Re.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+zt}xe[ot]=Lt+"@"+$t}Re.path=xe.join(",")}var Nt=ue.headers=ue.headers||{};ue.subject&&(Nt.subject=ue.subject),ue.body&&(Nt.body=ue.body);var Ht=[];for(var yt in Nt)Nt[yt]!==st[yt]&&Ht.push(yt.replace(tr,Pe).replace(tr,s).replace(Jt,Y)+"="+Nt[yt].replace(tr,Pe).replace(tr,s).replace(Ee,Y));return Ht.length&&(Re.query=Ht.join("&")),Re}},ht=/^([^\:]+)\:(.*)/,et={scheme:"urn",parse:function(ue,we){var Re=ue.path&&ue.path.match(ht),xe=ue;if(Re){var ot=we.scheme||xe.scheme||"urn",tt=Re[1].toLowerCase(),Tt=Re[2],jt=ot+":"+(we.nid||tt),Lt=J[jt];xe.nid=tt,xe.nss=Tt,xe.path=void 0,Lt&&(xe=Lt.parse(xe,we))}else xe.error=xe.error||"URN can not be parsed.";return xe},serialize:function(ue,we){var Re=we.scheme||ue.scheme||"urn",xe=ue.nid,ot=Re+":"+(we.nid||xe),tt=J[ot];tt&&(ue=tt.serialize(ue,we));var Tt=ue,jt=ue.nss;return Tt.path=(xe||we.nid)+":"+jt,Tt}},At=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ot={scheme:"urn:uuid",parse:function(ue,we){var Re=ue;return Re.uuid=Re.nss,Re.nss=void 0,!we.tolerant&&(!Re.uuid||!Re.uuid.match(At))&&(Re.error=Re.error||"UUID is not valid."),Re},serialize:function(ue,we){var Re=ue;return Re.nss=(ue.uuid||"").toLowerCase(),Re}};J[ye.scheme]=ye,J[Se.scheme]=Se,J[ke.scheme]=ke,J[Be.scheme]=Be,J[ct.scheme]=ct,J[et.scheme]=et,J[Ot.scheme]=Ot,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=ae,r.parse=se,r.removeDotSegments=Ce,r.serialize=rt,r.resolveComponents=qe,r.resolve=Ue,r.normalize=G,r.equal=I,r.escapeComponent=L,r.unescapeComponent=ie,Object.defineProperty(r,"__esModule",{value:!0})})}}),one=Ne({"../core/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=cV();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),sne=Ne({"../core/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=EE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=DR(),i=MR(),o=lV(),s=LR(),a=br(),l=_E(),u=Qb(),f=Ur(),c=ine(),h=one(),g=(k,B)=>new RegExp(k,B);g.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(k){var B,W,P,R,z,oe,J,Y,ae,be,Ie,N,D,M,K,se,ce,de,pe,Ae,Le,Ce,rt,qe,Ue;const G=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ie=(P=(W=k.code)===null||W===void 0?void 0:W.regExp)!==null&&P!==void 0?P:g,ye=(R=k.uriResolver)!==null&&R!==void 0?R:h.default;return{strictSchema:(oe=(z=k.strictSchema)!==null&&z!==void 0?z:G)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:G)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(ae=k.strictTypes)!==null&&ae!==void 0?ae:G)!==null&&be!==void 0?be:"log",strictTuples:(N=(Ie=k.strictTuples)!==null&&Ie!==void 0?Ie:G)!==null&&N!==void 0?N:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:G)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ie}:{optimize:L,regExp:ie},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:E,loopEnum:(se=k.loopEnum)!==null&&se!==void 0?se:E,meta:(ce=k.meta)!==null&&ce!==void 0?ce:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(Ae=k.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(Ce=k.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(rt=k.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...y(k)};const{es5:B,lines:W}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:B,lines:W}),this.logger=F(k.logger);const P=k.validateFormats;k.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,k,"NOT SUPPORTED"),$.call(this,p,k,"DEPRECATED","warn"),this._metaOpts=O.call(this),k.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&A.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),d.call(this),k.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:B,schemaId:W}=this.opts;let P=c;W==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&k&&this.addMetaSchema(P,P[W],!1)}defaultMeta(){const{meta:k,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[B]||k:void 0}validate(k,B){let W;if(typeof k=="string"){if(W=this.getSchema(k),!W)throw new Error(`no schema with key or ref "${k}"`)}else W=this.compile(k);const P=W(B);return"$async"in W||(this.errors=W.errors),P}compile(k,B){const W=this._addSchema(k,B);return W.validate||this._compileSchemaEnv(W)}compileAsync(k,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return P.call(this,k,B);async function P(ae,be){await R.call(this,ae.$schema);const Ie=this._addSchema(ae,be);return Ie.validate||z.call(this,Ie)}async function R(ae){ae&&!this.getSchema(ae)&&await P.call(this,{$ref:ae},!0)}async function z(ae){try{return this._compileSchemaEnv(ae)}catch(be){if(!(be instanceof i.default))throw be;return oe.call(this,be),await J.call(this,be.missingSchema),z.call(this,ae)}}function oe({missingSchema:ae,missingRef:be}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${be} cannot be resolved`)}async function J(ae){const be=await Y.call(this,ae);this.refs[ae]||await R.call(this,be.$schema),this.refs[ae]||this.addSchema(be,ae,B)}async function Y(ae){const be=this._loading[ae];if(be)return be;try{return await(this._loading[ae]=W(ae))}finally{delete this._loading[ae]}}}addSchema(k,B,W,P=this.opts.validateSchema){if(Array.isArray(k)){for(const z of k)this.addSchema(z,void 0,W,P);return this}let R;if(typeof k=="object"){const{schemaId:z}=this.opts;if(R=k[z],R!==void 0&&typeof R!="string")throw new Error(`schema ${z} must be string`)}return B=(0,l.normalizeId)(B||R),this._checkUnique(B),this.schemas[B]=this._addSchema(k,W,B,P,!0),this}addMetaSchema(k,B,W=this.opts.validateSchema){return this.addSchema(k,B,!0,W),this}validateSchema(k,B){if(typeof k=="boolean")return!0;let W;if(W=k.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(W,k);if(!P&&B){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return P}getSchema(k){let B;for(;typeof(B=T.call(this,k))=="string";)k=B;if(B===void 0){const{schemaId:W}=this.opts,P=new s.SchemaEnv({schema:{},schemaId:W});if(B=s.resolveSchema.call(this,P,k),!B)return;this.refs[k]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,k);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const B=k;this._cache.delete(B);let W=k[this.opts.schemaId];return W&&(W=(0,l.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const B of k)this.addKeyword(B);return this}addKeyword(k,B){let W;if(typeof k=="string")W=k,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=W);else if(typeof k=="object"&&B===void 0){if(B=k,W=B.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,W,B),!B)return(0,f.eachItem)(W,R=>H.call(this,R)),this;fe.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(W,P.type.length===0?R=>H.call(this,R,P):R=>P.type.forEach(z=>H.call(this,R,P,z))),this}getKeyword(k){const B=this.RULES.all[k];return typeof B=="object"?B.definition:!!B}removeKeyword(k){const{RULES:B}=this;delete B.keywords[k],delete B.all[k];for(const W of B.rules){const P=W.rules.findIndex(R=>R.keyword===k);P>=0&&W.rules.splice(P,1)}return this}addFormat(k,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[k]=B,this}errorsText(k=this.errors,{separator:B=", ",dataVar:W="data"}={}){return!k||k.length===0?"No errors":k.map(P=>`${W}${P.instancePath} ${P.message}`).reduce((P,R)=>P+B+R)}$dataMetaSchema(k,B){const W=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const P of B){const R=P.split("/").slice(1);let z=k;for(const oe of R)z=z[oe];for(const oe in W){const J=W[oe];if(typeof J!="object")continue;const{$data:Y}=J.definition,ae=z[oe];Y&&ae&&(z[oe]=ne(ae))}}return k}_removeAllSchemas(k,B){for(const W in k){const P=k[W];(!B||B.test(W))&&(typeof P=="string"?delete k[W]:P&&!P.meta&&(this._cache.delete(P.schema),delete k[W]))}}_addSchema(k,B,W,P=this.opts.validateSchema,R=this.opts.addUsedSchema){let z;const{schemaId:oe}=this.opts;if(typeof k=="object")z=k[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(k);if(J!==void 0)return J;W=(0,l.normalizeId)(z||W);const Y=l.getSchemaRefs.call(this,k,W);return J=new s.SchemaEnv({schema:k,schemaId:oe,meta:B,baseId:W,localRefs:Y}),this._cache.set(J.schema,J),R&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=J),P&&this.validateSchema(k,!0),J}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):s.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const B=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,k)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(k,B,W,P="error"){for(const R in k){const z=R;z in B&&this.logger[P](`${W}: option ${R}. ${k[z]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function x(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function A(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const W=k[B];W.keyword||(W.keyword=B),this.addKeyword(W)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}var C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(k,B){const{RULES:W}=this;if((0,f.eachItem)(k,P=>{if(W.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,W){var P;const R=B==null?void 0:B.post;if(W&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:z}=this;let oe=R?z.post:z.rules.find(({type:Y})=>Y===W);if(oe||(oe={type:W,rules:[]},z.rules.push(oe)),z.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,oe,J,B.before):oe.rules.push(J),z.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function Z(k,B,W){const P=k.rules.findIndex(R=>R.keyword===W);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${W} is not defined`))}function fe(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ne(B)),k.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(k){return{anyOf:[k,ee]}}}}),ane=Ne({"../core/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),lne=Ne({"../core/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=MR(),r=Ea(),n=br(),i=vc(),o=LR(),s=Ur(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:g}=f,{baseId:m,schemaEnv:_,validateName:v,opts:p,self:E}=g,{root:y}=_;if((h==="#"||h==="#/")&&m===y.baseId)return $();const S=o.resolveRef.call(E,y,m,h);if(S===void 0)throw new t.default(g.opts.uriResolver,m,h);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const x=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${x}.validate`,y,y.$async)}function T(x){const A=l(f,x);u(f,A,x,x.$async)}function d(x){const A=c.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,n.stringify)(x)}:{ref:x}),O=c.name("valid"),C=f.subschema({schema:x,dataTypes:[],schemaPath:n.nil,topSchemaRef:A,errSchemaPath:h},O);f.mergeEvaluated(C),f.ok(O)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,g){const{gen:m,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;g?S():$();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||m.assign(x,!0)},A=>{m.if((0,n._)`!(${A} instanceof ${_.ValidationError})`,()=>m.throw(A)),T(A),v||m.assign(x,!1)}),f.ok(x)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(x){const A=(0,n._)`${x}.errors`;m.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${A} : ${i.default.vErrors}.concat(${A})`),m.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(x){var A;if(!_.opts.unevaluated)return;const O=(A=h==null?void 0:h.validate)===null||A===void 0?void 0:A.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=s.mergeEvaluated.props(m,O.props,_.props));else{const C=m.var("props",(0,n._)`${x}.evaluated.props`);_.props=s.mergeEvaluated.props(m,C,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=s.mergeEvaluated.items(m,O.items,_.items));else{const C=m.var("items",(0,n._)`${x}.evaluated.items`);_.items=s.mergeEvaluated.items(m,C,_.items,n.Name)}}}e.callRef=u,e.default=a}}),une=Ne({"../core/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=ane(),r=lne(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),cne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),fne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),dne=Ne({"../core/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),hne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=dne(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),pne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ea(),r=br(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${s})`)}};e.default=i}}),mne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),gne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ea(),r=br(),n=Ur(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:h}=s,{opts:g}=h;if(!c&&l.length===0)return;const m=l.length>=g.loopRequired;if(h.allErrors?_():v(),g.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(m||c)s.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(m||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function p(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,g.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,g.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),vne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),FR=Ne({"../core/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Vh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),yne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qb(),r=br(),n=Ur(),i=FR(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:g,it:m}=a;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];a.block$data(_,p,(0,r._)`${g} === false`),a.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");a.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),x=(0,t.checkDataTypes)(v,d,m.opts.strictNumbers,t.DataType.Wrong),A=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(x,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${A}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${A}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${A}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),x=l.name("outer");l.label(x).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{a.error(),l.assign(_,!1).break(x)})))}}};e.default=s}}),wne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=FR(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),bne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=FR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:h}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const g=f.length>=h.opts.loopEnum;let m;const _=()=>m??(m=(0,r.useFunc)(a,n.default));let v;if(g||u)v=a.let("valid"),s.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}s.pass(v);function p(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),_ne=Ne({"../core/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=cne(),r=fne(),n=hne(),i=pne(),o=mne(),s=gne(),a=vne(),l=yne(),u=wne(),f=bne(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),fV=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=br(),r=Ur(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:h}=s;h.items=!0;const g=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${g} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${g} <= ${a.length}`);l.if((0,t.not)(_),()=>m(_)),s.ok(_)}function m(_){l.forRange("i",a.length,g,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),dV=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=br(),r=Ur(),n=Ea(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:g}=s;v(f),g.opts.unevaluated&&l.length&&g.items!==!0&&(g.items=r.mergeEvaluated.items(u,l.length,g.items));const m=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(g,p)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:h,schemaProp:E,dataProp:E},m)),s.ok(m))});function v(p){const{opts:E,errSchemaPath:y}=g,S=l.length,$=S===p.minItems&&(S===p.maxItems||p[a]===!1);if(E.strictTuples&&!$){const T=`"${h}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(g,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),Ene=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=dV(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),Sne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n=Ea(),i=fV(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),$ne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:g,maxContains:m}=l;f.opts.next?(c=g===void 0?1:g,h=m):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=s.name("valid");h===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),h!==void 0&&s.if((0,t._)`${u}.length > 0`,p)):(s.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=s.name("_valid"),$=s.let("count",0);E(S,()=>s.if(S,()=>y($)))}function E(S,$){s.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){s.code((0,t._)`${S}++`),h===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${h}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),Tne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=br(),r=Ur(),n=Ea();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=a,e.default=i}}),xne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),hV=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ea(),r=br(),n=vc(),i=Ur(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:g}=a;if(!h)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=g;if(g.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(g,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let x;if(v.length>8){const A=(0,i.schemaRefOrVal)(g,f.properties,"properties");x=(0,t.isOwnProperty)(l,A,d)}else v.length?x=(0,r.or)(...v.map(A=>(0,r._)`${d} === ${A}`)):x=r.nil;return p.length&&(x=(0,r.or)(x,...p.map(A=>(0,r._)`${(0,t.usePattern)(a,A)}.test(${d})`))),(0,r.not)(x)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),m||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(g,u)){const x=l.name("valid");_.removeAdditional==="failing"?(T(d,x,!1),l.if((0,r.not)(x),()=>{a.reset(),S(d)})):(T(d,x),m||l.if((0,r.not)(x),()=>l.break()))}}function T(d,x,A){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};A===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(O,x)}}};e.default=s}}),Ane=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=EE(),r=Ea(),n=Ur(),i=hV(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(h),c.props));const g=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(g.length===0)return;const m=a.name("valid");for(const p of g)_(p)?v(p):(a.if((0,r.propertyInData)(a,f,p,c.opts.ownProperties)),v(p),c.allErrors||a.else().var(m,!0),a.endIf()),s.it.definedProperties.add(p),s.ok(m);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},m)}}};e.default=o}}),One=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ea(),r=br(),n=Ur(),i=Ur(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:h}=c,g=(0,t.allSchemaProperties)(l),m=g.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(g.length===0||m.length===g.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:p}=c;E();function E(){for(const $ of g)_&&y($),c.allErrors?S($):(a.var(v,!0),S($),a.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){a.forIn("key",u,T=>{a.if((0,r._)`${(0,t.usePattern)(s,$)}.test(${T})`,()=>{const d=m.includes($);d||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?a.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),Pne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),Nne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ea(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Rne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),h=s.let("passing",null),g=s.name("_valid");o.setParams({passing:h}),s.block(m),o.result(c,()=>o.reset(),()=>o.error(!0));function m(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?s.var(g,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},g),v>0&&s.if((0,t._)`${g} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),s.if(g,()=>{s.assign(c,!0),s.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),Ine=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),jne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Ur(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=a.let("valid",!0),g=a.name("_valid");if(m(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(g,_("then",v),_("else",v))}else f?a.if(g,_("then")):a.if((0,t.not)(g),_("else"));s.pass(h,()=>s.error(!0));function m(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);s.mergeEvaluated(v)}function _(v,p){return()=>{const E=s.subschema({keyword:v},g);a.assign(h,g),s.mergeValidEvaluated(E,h),p?a.assign(p,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),kne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ur(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),Cne=Ne({"../core/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=fV(),r=Ene(),n=dV(),i=Sne(),o=$ne(),s=Tne(),a=xne(),l=hV(),u=Ane(),f=One(),c=Pne(),h=Nne(),g=Rne(),m=Ine(),_=jne(),v=kne();function p(E=!1){const y=[c.default,h.default,g.default,m.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Dne=Ne({"../core/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:g,schemaEnv:m,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),$=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const x=m.$async?(0,t._)`(${y}.async ? await ${$}(${a}) : ${$}(${a}))`:(0,t._)`${$}(${a})`,A=(0,t._)`(typeof ${$} == "function" ? ${x} : ${$}.test(${a}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${A}`}}function p(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(x());function T(){if(h.strictSchema===!1){_.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function d(A){const O=A instanceof RegExp?(0,t.regexpCode)(A):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,C=s.scopeValue("formats",{key:u,ref:A,code:O});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,t._)`${C}.validate`]:["string",A,C]}function x(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${a})`}return typeof S=="function"?(0,t._)`${$}(${a})`:(0,t._)`${$}.test(${a})`}}}};e.default=n}}),Mne=Ne({"../core/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Dne(),r=[t.default];e.default=r}}),Lne=Ne({"../core/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),Fne=Ne({"../core/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=une(),r=_ne(),n=Cne(),i=Mne(),o=Lne(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Bne=Ne({"../core/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Une=Ne({"../core/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=br(),r=Bne(),n=LR(),i=Ur(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=a,{oneOf:g}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=f.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(m)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:m})),a.ok(_);function p(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:m}),l.endIf()}function E(S){const $=l.name("valid"),T=a.subschema({keyword:"oneOf",schemaProp:S},$);return a.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=x(c);let d=!0;for(let C=0;C<g.length;C++){let F=g[C];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,h.self.RULES)&&(F=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[m];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(T||x(F)),A(V,C)}if(!d)throw new Error(`discriminator: "${m}" must be required`);return $;function x({required:C}){return Array.isArray(C)&&C.includes(m)}function A(C,F){if(C.const)O(C.const,F);else if(C.enum)for(const V of C.enum)O(V,F);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function O(C,F){if(typeof C!="string"||C in $)throw new Error(`discriminator: "${m}" values must be unique strings`);$[C]=F}}}};e.default=s}}),zne=Ne({"../core/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),pV=Ne({"../core/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=sne(),n=Fne(),i=Une(),o=zne(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=EE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=br();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=DR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=MR();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),qne=Ne({"../../node_modules/ajv-formats/dist/formats.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(A,O){return{validate:A,compare:O}}e.fullFormats={date:t(o,s),time:t(l,u),"date-time":t(c,h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:x,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:p,int32:{type:"number",validate:S},int64:{type:"number",validate:$},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(A){return A%4===0&&(A%100!==0||A%400===0)}var n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(A){const O=n.exec(A);if(!O)return!1;const C=+O[1],F=+O[2],V=+O[3];return F>=1&&F<=12&&V>=1&&V<=(F===2&&r(C)?29:i[F])}function s(A,O){if(A&&O)return A>O?1:A<O?-1:0}var a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(A,O){const C=a.exec(A);if(!C)return!1;const F=+C[1],V=+C[2],X=+C[3],H=C[5];return(F<=23&&V<=59&&X<=59||F===23&&V===59&&X===60)&&(!O||H!=="")}function u(A,O){if(!(A&&O))return;const C=a.exec(A),F=a.exec(O);if(C&&F)return A=C[1]+C[2]+C[3]+(C[4]||""),O=F[1]+F[2]+F[3]+(F[4]||""),A>O?1:A<O?-1:0}var f=/t|\s/i;function c(A){const O=A.split(f);return O.length===2&&o(O[0])&&l(O[1],!0)}function h(A,O){if(!(A&&O))return;const[C,F]=A.split(f),[V,X]=O.split(f),H=s(C,V);if(H!==void 0)return H||u(F,X)}var g=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(A){return g.test(A)&&m.test(A)}var v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function p(A){return v.lastIndex=0,v.test(A)}var E=-2147483648,y=2**31-1;function S(A){return Number.isInteger(A)&&A<=y&&A>=E}function $(A){return Number.isInteger(A)}function T(){return!0}var d=/[^\\]\\Z/;function x(A){if(d.test(A))return!1;try{return new RegExp(A),!0}catch{return!1}}}}),Zb=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;var t=class{};e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var r=class extends t{constructor(p){if(super(),!e.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};e.Name=r;var n=class extends t{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((E,y)=>`${E}${y}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((E,y)=>(y instanceof r&&(E[y.str]=(E[y.str]||0)+1),E),{})}};e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;var o=new n("+");function s(p,...E){const y=[g(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,g(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v}}),_M=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/scope.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;var t=Zb(),r=class extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}},n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};var i=class{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}};e.Scope=i;var o=class extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${f}]`}};e.ValueScopeName=o;var s=(0,t._)`\n`,a=class extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const c=this.toName(l),{prefix:h}=c,g=(f=u.key)!==null&&f!==void 0?f:u.ref;let m=this._values[h];if(m){const p=m.get(g);if(p)return p}else m=this._values[h]=new Map;m.set(g,c);const _=this._scope[h]||(this._scope[h]=[]),v=_.length;return _[v]=u.ref,c.setValue(u,{property:h,itemIndex:v}),c}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,c=>{if(c.value===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return c.value.code},u,f)}_reduceValues(l,u,f={},c){let h=t.nil;for(const g in l){const m=l[g];if(!m)continue;const _=f[g]=f[g]||new Map;m.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let p=u(v);if(p){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${v} = ${p};${this.opts._n}`}else if(p=c==null?void 0:c(v))h=(0,t._)`${h}${p}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return h}};e.ValueScope=a}}),mr=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/codegen/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;var t=Zb(),r=_M(),n=Zb();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=_M();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};var o=class{optimizeNodes(){return this}optimizeNames(P,R){return this}},s=class extends o{constructor(P,R,z){super(),this.varKind=P,this.name=R,this.rhs=z}render({es5:P,_n:R}){const z=P?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${z} ${this.name}${oe};`+R}optimizeNames(P,R){if(P[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,P,R)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}},a=class extends o{constructor(P,R,z){super(),this.lhs=P,this.rhs=R,this.sideEffects=z}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,R){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,P,R),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(P,this.rhs)}},l=class extends a{constructor(P,R,z,oe){super(P,z,oe),this.op=R}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}},u=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}},f=class extends o{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}},c=class extends o{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}},h=class extends o{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,R){return this.code=X(this.code,P,R),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}},g=class extends o{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((R,z)=>R+z.render(P),"")}optimizeNodes(){const{nodes:P}=this;let R=P.length;for(;R--;){const z=P[R].optimizeNodes();Array.isArray(z)?P.splice(R,1,...z):z?P[R]=z:P.splice(R,1)}return P.length>0?this:void 0}optimizeNames(P,R){const{nodes:z}=this;let oe=z.length;for(;oe--;){const J=z[oe];J.optimizeNames(P,R)||(H(P,J.names),z.splice(oe,1))}return z.length>0?this:void 0}get names(){return this.nodes.reduce((P,R)=>F(P,R.names),{})}},m=class extends g{render(P){return"{"+P._n+super.render(P)+"}"+P._n}},_=class extends g{},v=class extends m{};v.kind="else";var p=class Rw extends m{constructor(R,z){super(z),this.condition=R}render(R){let z=`if(${this.condition})`+super.render(R);return this.else&&(z+="else "+this.else.render(R)),z}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let z=this.else;if(z){const oe=z.optimizeNodes();z=this.else=Array.isArray(oe)?new v(oe):oe}if(z)return R===!1?z instanceof Rw?z:z.nodes:this.nodes.length?this:new Rw(Z(R),z instanceof Rw?[z]:z.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,z){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(R,z),!!(super.optimizeNames(R,z)||this.else))return this.condition=X(this.condition,R,z),this}get names(){const R=super.names;return V(R,this.condition),this.else&&F(R,this.else.names),R}};p.kind="if";var E=class extends m{};E.kind="for";var y=class extends E{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,R){if(super.optimizeNames(P,R))return this.iteration=X(this.iteration,P,R),this}get names(){return F(super.names,this.iteration.names)}},S=class extends E{constructor(P,R,z,oe){super(),this.varKind=P,this.name=R,this.from=z,this.to=oe}render(P){const R=P.es5?r.varKinds.var:this.varKind,{name:z,from:oe,to:J}=this;return`for(${R} ${z}=${oe}; ${z}<${J}; ${z}++)`+super.render(P)}get names(){const P=V(super.names,this.from);return V(P,this.to)}},$=class extends E{constructor(P,R,z,oe){super(),this.loop=P,this.varKind=R,this.name=z,this.iterable=oe}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,R){if(super.optimizeNames(P,R))return this.iterable=X(this.iterable,P,R),this}get names(){return F(super.names,this.iterable.names)}},T=class extends m{constructor(P,R,z){super(),this.name=P,this.args=R,this.async=z}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}};T.kind="func";var d=class extends g{render(P){return"return "+super.render(P)}};d.kind="return";var x=class extends m{render(P){let R="try"+super.render(P);return this.catch&&(R+=this.catch.render(P)),this.finally&&(R+=this.finally.render(P)),R}optimizeNodes(){var P,R;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(P,R){var z,oe;return super.optimizeNames(P,R),(z=this.catch)===null||z===void 0||z.optimizeNames(P,R),(oe=this.finally)===null||oe===void 0||oe.optimizeNames(P,R),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}},A=class extends m{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}};A.kind="catch";var O=class extends m{render(P){return"finally"+super.render(P)}};O.kind="finally";var C=class{constructor(P,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,R){const z=this._extScope.value(P,R);return(this._values[z.prefix]||(this._values[z.prefix]=new Set)).add(z),z}getScopeValue(P,R){return this._extScope.getValue(P,R)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,R,z,oe){const J=this._scope.toName(R);return z!==void 0&&oe&&(this._constants[J.str]=z),this._leafNode(new s(P,J,z)),J}const(P,R,z){return this._def(r.varKinds.const,P,R,z)}let(P,R,z){return this._def(r.varKinds.let,P,R,z)}var(P,R,z){return this._def(r.varKinds.var,P,R,z)}assign(P,R,z){return this._leafNode(new a(P,R,z))}add(P,R){return this._leafNode(new l(P,e.operators.ADD,R))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const R=["{"];for(const[z,oe]of P)R.length>1&&R.push(","),R.push(z),(z!==oe||this.opts.es5)&&(R.push(":"),(0,t.addCodeArg)(R,oe));return R.push("}"),new t._Code(R)}if(P,R,z){if(this._blockNode(new p(P)),R&&z)this.code(R).else().code(z).endIf();else if(R)this.code(R).endIf();else if(z)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new p(P))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(P,R){return this._blockNode(P),R&&this.code(R).endFor(),this}for(P,R){return this._for(new y(P),R)}forRange(P,R,z,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(P);return this._for(new S(J,Y,R,z),()=>oe(Y))}forOf(P,R,z,oe=r.varKinds.const){const J=this._scope.toName(P);if(this.opts.es5){const Y=R instanceof t.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,t._)`${Y}.length`,ae=>{this.var(J,(0,t._)`${Y}[${ae}]`),z(J)})}return this._for(new $("of",oe,J,R),()=>z(J))}forIn(P,R,z,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${R})`,z);const J=this._scope.toName(P);return this._for(new $("in",oe,J,R),()=>z(J))}endFor(){return this._endBlockNode(E)}label(P){return this._leafNode(new u(P))}break(P){return this._leafNode(new f(P))}return(P){const R=new d;if(this._blockNode(R),this.code(P),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(P,R,z){if(!R&&!z)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new x;if(this._blockNode(oe),this.code(P),R){const J=this.name("e");this._currNode=oe.catch=new A(J),R(J)}return z&&(this._currNode=oe.finally=new O,this.code(z)),this._endBlockNode(A,O)}throw(P){return this._leafNode(new c(P))}block(P,R){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(R),this}endBlock(P){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const z=this._nodes.length-R;if(z<0||P!==void 0&&z!==P)throw new Error(`CodeGen: wrong number of nodes: ${z} vs ${P} expected`);return this._nodes.length=R,this}func(P,R=t.nil,z,oe){return this._blockNode(new T(P,R,z)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,R){const z=this._currNode;if(z instanceof P||R&&z instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${P.kind}/${R.kind}`:P.kind}"`)}_elseNode(P){const R=this._currNode;if(!(R instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const R=this._nodes;R[R.length-1]=P}};e.CodeGen=C;function F(P,R){for(const z in R)P[z]=(P[z]||0)+(R[z]||0);return P}function V(P,R){return R instanceof t._CodeOrName?F(P,R.names):P}function X(P,R,z){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,ae)=>(ae instanceof t.Name&&(ae=oe(ae)),ae instanceof t._Code?Y.push(...ae._items):Y.push(ae),Y),[]));function oe(Y){const ae=z[Y.str];return ae===void 0||R[Y.str]!==1?Y:(delete R[Y.str],ae)}function J(Y){return Y instanceof t._Code&&Y._items.some(ae=>ae instanceof t.Name&&R[ae.str]===1&&z[ae.str]!==void 0)}}function H(P,R){for(const z in R)P[z]=(P[z]||0)-(R[z]||0)}function Z(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${W(P)}`}e.not=Z;var fe=B(e.operators.AND);function ee(...P){return P.reduce(fe)}e.and=ee;var ne=B(e.operators.OR);function k(...P){return P.reduce(ne)}e.or=k;function B(P){return(R,z)=>R===t.nil?z:z===t.nil?R:(0,t._)`${W(R)} ${P} ${W(z)}`}function W(P){return P instanceof t.Name?P:(0,t._)`(${P})`}}}),zr=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/util.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;var t=mr(),r=Zb();function n(T){const d={};for(const x of T)d[x]=!0;return d}e.toHash=n;function i(T,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(o(T,d),!s(d,T.self.RULES.all))}e.alwaysValidSchema=i;function o(T,d=T.schema){const{opts:x,self:A}=T;if(!x.strictSchema||typeof d=="boolean")return;const O=A.RULES.keywords;for(const C in d)O[C]||$(T,`unknown keyword: "${C}"`)}e.checkUnknownRules=o;function s(T,d){if(typeof T=="boolean")return!T;for(const x in T)if(d[x])return!0;return!1}e.schemaHasRules=s;function a(T,d){if(typeof T=="boolean")return!T;for(const x in T)if(x!=="$ref"&&d.all[x])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:T,schemaPath:d},x,A,O){if(!O){if(typeof x=="number"||typeof x=="boolean")return x;if(typeof x=="string")return(0,t._)`${x}`}return(0,t._)`${T}${d}${(0,t.getProperty)(A)}`}e.schemaRefOrVal=l;function u(T){return h(decodeURIComponent(T))}e.unescapeFragment=u;function f(T){return encodeURIComponent(c(T))}e.escapeFragment=f;function c(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=c;function h(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=h;function g(T,d){if(Array.isArray(T))for(const x of T)d(x);else d(T)}e.eachItem=g;function m({mergeNames:T,mergeToName:d,mergeValues:x,resultToName:A}){return(O,C,F,V)=>{const X=F===void 0?C:F instanceof t.Name?(C instanceof t.Name?T(O,C,F):d(O,C,F),F):C instanceof t.Name?(d(O,F,C),C):x(C,F);return V===t.Name&&!(X instanceof t.Name)?A(O,X):X}}e.mergeEvaluated={props:m({mergeNames:(T,d,x)=>T.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>{T.if((0,t._)`${d} === true`,()=>T.assign(x,!0),()=>T.assign(x,(0,t._)`${x} || {}`).code((0,t._)`Object.assign(${x}, ${d})`))}),mergeToName:(T,d,x)=>T.if((0,t._)`${x} !== true`,()=>{d===!0?T.assign(x,!0):(T.assign(x,(0,t._)`${x} || {}`),v(T,x,d))}),mergeValues:(T,d)=>T===!0?!0:{...T,...d},resultToName:_}),items:m({mergeNames:(T,d,x)=>T.if((0,t._)`${x} !== true && ${d} !== undefined`,()=>T.assign(x,(0,t._)`${d} === true ? true : ${x} > ${d} ? ${x} : ${d}`)),mergeToName:(T,d,x)=>T.if((0,t._)`${x} !== true`,()=>T.assign(x,d===!0?!0:(0,t._)`${x} > ${d} ? ${x} : ${d}`)),mergeValues:(T,d)=>T===!0?!0:Math.max(T,d),resultToName:(T,d)=>T.var("items",d)})};function _(T,d){if(d===!0)return T.var("props",!0);const x=T.var("props",(0,t._)`{}`);return d!==void 0&&v(T,x,d),x}e.evaluatedPropsToName=_;function v(T,d,x){Object.keys(x).forEach(A=>T.assign((0,t._)`${d}${(0,t.getProperty)(A)}`,!0))}e.setEvaluated=v;var p={};function E(T,d){return T.scopeValue("func",{ref:d,code:p[d.code]||(p[d.code]=new r._Code(d.code))})}e.useFunc=E;var y;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(y=e.Type||(e.Type={}));function S(T,d,x){if(T instanceof t.Name){const A=d===y.Num;return x?A?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:A?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return x?(0,t.getProperty)(T).toString():"/"+c(T)}e.getErrorPath=S;function $(T,d,x=T.opts.strictSchema){if(x){if(d=`strict mode: ${d}`,x===!0)throw new Error(d);T.self.logger.warn(d)}}e.checkStrictMode=$}}),yc=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/names.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};e.default=r}}),SE=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;var t=mr(),r=zr(),n=yc();e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,x=c(v,p,E);y??(T||d)?l($,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}var f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[g(S,E),m(v,E)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:x,propertyName:A,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),A&&y.push([f.propertyName,A])}}}),Vne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/boolSchema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.boolOrEmptySchema=e.topBoolOrEmptySchema=void 0;var t=SE(),r=mr(),n=yc(),i={message:"boolean schema is false"};function o(l){const{gen:u,schema:f,validateName:c}=l;f===!1?a(l,!1):typeof f=="object"&&f.$async===!0?u.return(n.default.data):(u.assign((0,r._)`${c}.errors`,null),u.return(!0))}e.topBoolOrEmptySchema=o;function s(l,u){const{gen:f,schema:c}=l;c===!1?(f.var(u,!1),a(l)):f.var(u,!0)}e.boolOrEmptySchema=s;function a(l,u){const{gen:f,data:c}=l,h={gen:f,keyword:"false schema",data:c,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,t.reportError)(h,i,void 0,u)}}}),mV=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/rules.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getRules=e.isJSONType=void 0;var t=["string","number","integer","boolean","null","object","array"],r=new Set(t);function n(o){return typeof o=="string"&&r.has(o)}e.isJSONType=n;function i(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}e.getRules=i}}),gV=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/applicability.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.shouldUseRule=e.shouldUseGroup=e.schemaHasRulesForType=void 0;function t({schema:i,self:o},s){const a=o.RULES.types[s];return a&&a!==!0&&r(i,a)}e.schemaHasRulesForType=t;function r(i,o){return o.rules.some(s=>n(i,s))}e.shouldUseGroup=r;function n(i,o){var s;return i[o.keyword]!==void 0||((s=o.definition.implements)===null||s===void 0?void 0:s.some(a=>i[a]!==void 0))}e.shouldUseRule=n}}),e_=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/dataType.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;var t=mV(),r=gV(),n=SE(),i=mr(),o=zr(),s;(function(y){y[y.Correct=0]="Correct",y[y.Wrong=1]="Wrong"})(s=e.DataType||(e.DataType={}));function a(y){const S=l(y.type);if(S.includes("null")){if(y.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&y.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');y.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=a;function l(y){const S=Array.isArray(y)?y:y?[y]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=l;function u(y,S){const{gen:$,data:T,opts:d}=y,x=c(S,d.coerceTypes),A=S.length>0&&!(x.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(y,S[0]));if(A){const O=_(S,T,d.strictNumbers,s.Wrong);$.if(O,()=>{x.length?h(y,S,x):p(y)})}return A}e.coerceAndCheckDataType=u;var f=new Set(["string","number","integer","boolean","null"]);function c(y,S){return S?y.filter($=>f.has($)||S==="array"&&$==="array"):[]}function h(y,S,$){const{gen:T,data:d,opts:x}=y,A=T.let("dataType",(0,i._)`typeof ${d}`),O=T.let("coerced",(0,i._)`undefined`);x.coerceTypes==="array"&&T.if((0,i._)`${A} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>T.assign(d,(0,i._)`${d}[0]`).assign(A,(0,i._)`typeof ${d}`).if(_(S,d,x.strictNumbers),()=>T.assign(O,d))),T.if((0,i._)`${O} !== undefined`);for(const F of $)(f.has(F)||F==="array"&&x.coerceTypes==="array")&&C(F);T.else(),p(y),T.endIf(),T.if((0,i._)`${O} !== undefined`,()=>{T.assign(d,O),g(y,O)});function C(F){switch(F){case"string":T.elseIf((0,i._)`${A} == "number" || ${A} == "boolean"`).assign(O,(0,i._)`"" + ${d}`).elseIf((0,i._)`${d} === null`).assign(O,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${A} == "boolean" || ${d} === null
              || (${A} == "string" && ${d} && ${d} == +${d})`).assign(O,(0,i._)`+${d}`);return;case"integer":T.elseIf((0,i._)`${A} === "boolean" || ${d} === null
              || (${A} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(O,(0,i._)`+${d}`);return;case"boolean":T.elseIf((0,i._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(O,!1).elseIf((0,i._)`${d} === "true" || ${d} === 1`).assign(O,!0);return;case"null":T.elseIf((0,i._)`${d} === "" || ${d} === 0 || ${d} === false`),T.assign(O,null);return;case"array":T.elseIf((0,i._)`${A} === "string" || ${A} === "number"
              || ${A} === "boolean" || ${d} === null`).assign(O,(0,i._)`[${d}]`)}}}function g({gen:y,parentData:S,parentDataProperty:$},T){y.if((0,i._)`${S} !== undefined`,()=>y.assign((0,i._)`${S}[${$}]`,T))}function m(y,S,$,T=s.Correct){const d=T===s.Correct?i.operators.EQ:i.operators.NEQ;let x;switch(y){case"null":return(0,i._)`${S} ${d} null`;case"array":x=(0,i._)`Array.isArray(${S})`;break;case"object":x=(0,i._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":x=A((0,i._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":x=A();break;default:return(0,i._)`typeof ${S} ${d} ${y}`}return T===s.Correct?x:(0,i.not)(x);function A(O=i.nil){return(0,i.and)((0,i._)`typeof ${S} == "number"`,O,$?(0,i._)`isFinite(${S})`:i.nil)}}e.checkDataType=m;function _(y,S,$,T){if(y.length===1)return m(y[0],S,$,T);let d;const x=(0,o.toHash)(y);if(x.array&&x.object){const A=(0,i._)`typeof ${S} != "object"`;d=x.null?A:(0,i._)`!${S} || ${A}`,delete x.null,delete x.array,delete x.object}else d=i.nil;x.number&&delete x.integer;for(const A in x)d=(0,i.and)(d,m(A,S,$,T));return d}e.checkDataTypes=_;var v={message:({schema:y})=>`must be ${y}`,params:({schema:y,schemaValue:S})=>typeof y=="string"?(0,i._)`{type: ${y}}`:(0,i._)`{type: ${S}}`};function p(y){const S=E(y);(0,n.reportError)(S,v)}e.reportTypeError=p;function E(y){const{gen:S,data:$,schema:T}=y,d=(0,o.schemaRefOrVal)(y,T,"type");return{gen:S,keyword:"type",data:$,schema:T.type,schemaCode:d,schemaValue:d,parentSchema:T,params:{},it:y}}}}),Hne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/defaults.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.assignDefaults=void 0;var t=mr(),r=zr();function n(o,s){const{properties:a,items:l}=o.schema;if(s==="object"&&a)for(const u in a)i(o,u,a[u].default);else s==="array"&&Array.isArray(l)&&l.forEach((u,f)=>i(o,f,u.default))}e.assignDefaults=n;function i(o,s,a){const{gen:l,compositeRule:u,data:f,opts:c}=o;if(a===void 0)return;const h=(0,t._)`${f}${(0,t.getProperty)(s)}`;if(u){(0,r.checkStrictMode)(o,`default is ignored for: ${h}`);return}let g=(0,t._)`${h} === undefined`;c.useDefaults==="empty"&&(g=(0,t._)`${g} || ${h} === null || ${h} === ""`),l.if(g,(0,t._)`${h} = ${(0,t.stringify)(a)}`)}}}),Sa=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/code.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateUnion=e.validateArray=e.usePattern=e.callValidateCode=e.schemaProperties=e.allSchemaProperties=e.noPropertyInData=e.propertyInData=e.isOwnProperty=e.hasPropFunc=e.reportMissingProp=e.checkMissingProp=e.checkReportMissingProp=void 0;var t=mr(),r=zr(),n=yc(),i=zr();function o(y,S){const{gen:$,data:T,it:d}=y;$.if(c($,T,S,d.opts.ownProperties),()=>{y.setParams({missingProperty:(0,t._)`${S}`},!0),y.error()})}e.checkReportMissingProp=o;function s({gen:y,data:S,it:{opts:$}},T,d){return(0,t.or)(...T.map(x=>(0,t.and)(c(y,S,x,$.ownProperties),(0,t._)`${d} = ${x}`)))}e.checkMissingProp=s;function a(y,S){y.setParams({missingProperty:S},!0),y.error()}e.reportMissingProp=a;function l(y){return y.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}e.hasPropFunc=l;function u(y,S,$){return(0,t._)`${l(y)}.call(${S}, ${$})`}e.isOwnProperty=u;function f(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} !== undefined`;return T?(0,t._)`${d} && ${u(y,S,$)}`:d}e.propertyInData=f;function c(y,S,$,T){const d=(0,t._)`${S}${(0,t.getProperty)($)} === undefined`;return T?(0,t.or)(d,(0,t.not)(u(y,S,$))):d}e.noPropertyInData=c;function h(y){return y?Object.keys(y).filter(S=>S!=="__proto__"):[]}e.allSchemaProperties=h;function g(y,S){return h(S).filter($=>!(0,r.alwaysValidSchema)(y,S[$]))}e.schemaProperties=g;function m({schemaCode:y,data:S,it:{gen:$,topSchemaRef:T,schemaPath:d,errorPath:x},it:A},O,C,F){const V=F?(0,t._)`${y}, ${S}, ${T}${d}`:S,X=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,x)],[n.default.parentData,A.parentData],[n.default.parentDataProperty,A.parentDataProperty],[n.default.rootData,n.default.rootData]];A.opts.dynamicRef&&X.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${V}, ${$.object(...X)}`;return C!==t.nil?(0,t._)`${O}.call(${C}, ${H})`:(0,t._)`${O}(${H})`}e.callValidateCode=m;var _=(0,t._)`new RegExp`;function v({gen:y,it:{opts:S}},$){const T=S.unicodeRegExp?"u":"",{regExp:d}=S.code,x=d($,T);return y.scopeValue("pattern",{key:x.toString(),ref:x,code:(0,t._)`${d.code==="new RegExp"?_:(0,i.useFunc)(y,d)}(${$}, ${T})`})}e.usePattern=v;function p(y){const{gen:S,data:$,keyword:T,it:d}=y,x=S.name("valid");if(d.allErrors){const O=S.let("valid",!0);return A(()=>S.assign(O,!1)),O}return S.var(x,!0),A(()=>S.break()),x;function A(O){const C=S.const("len",(0,t._)`${$}.length`);S.forRange("i",0,C,F=>{y.subschema({keyword:T,dataProp:F,dataPropType:r.Type.Num},x),S.if((0,t.not)(x),O)})}}e.validateArray=p;function E(y){const{gen:S,schema:$,keyword:T,it:d}=y;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(C=>(0,r.alwaysValidSchema)(d,C))&&!d.opts.unevaluated)return;const A=S.let("valid",!1),O=S.name("_valid");S.block(()=>$.forEach((C,F)=>{const V=y.subschema({keyword:T,schemaProp:F,compositeRule:!0},O);S.assign(A,(0,t._)`${A} || ${O}`),y.mergeValidEvaluated(V,O)||S.if((0,t.not)(A))})),y.result(A,()=>y.reset(),()=>y.error(!0))}e.validateUnion=E}}),Wne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/keyword.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateKeywordUsage=e.validSchemaType=e.funcKeywordCode=e.macroKeywordCode=void 0;var t=mr(),r=yc(),n=Sa(),i=SE();function o(g,m){const{gen:_,keyword:v,schema:p,parentSchema:E,it:y}=g,S=m.macro.call(y.self,p,E,y),$=f(_,v,S);y.opts.validateSchema!==!1&&y.self.validateSchema(S,!0);const T=_.name("valid");g.subschema({schema:S,schemaPath:t.nil,errSchemaPath:`${y.errSchemaPath}/${v}`,topSchemaRef:$,compositeRule:!0},T),g.pass(T,()=>g.error(!0))}e.macroKeywordCode=o;function s(g,m){var _;const{gen:v,keyword:p,schema:E,parentSchema:y,$data:S,it:$}=g;u($,m);const T=!S&&m.compile?m.compile.call($.self,E,y,$):m.validate,d=f(v,p,T),x=v.let("valid");g.block$data(x,A),g.ok((_=m.valid)!==null&&_!==void 0?_:x);function A(){if(m.errors===!1)F(),m.modifying&&a(g),V(()=>g.error());else{const X=m.async?O():C();m.modifying&&a(g),V(()=>l(g,X))}}function O(){const X=v.let("ruleErrs",null);return v.try(()=>F((0,t._)`await `),H=>v.assign(x,!1).if((0,t._)`${H} instanceof ${$.ValidationError}`,()=>v.assign(X,(0,t._)`${H}.errors`),()=>v.throw(H))),X}function C(){const X=(0,t._)`${d}.errors`;return v.assign(X,null),F(t.nil),X}function F(X=m.async?(0,t._)`await `:t.nil){const H=$.opts.passContext?r.default.this:r.default.self,Z=!("compile"in m&&!S||m.schema===!1);v.assign(x,(0,t._)`${X}${(0,n.callValidateCode)(g,d,H,Z)}`,m.modifying)}function V(X){var H;v.if((0,t.not)((H=m.valid)!==null&&H!==void 0?H:x),X)}}e.funcKeywordCode=s;function a(g){const{gen:m,data:_,it:v}=g;m.if(v.parentData,()=>m.assign(_,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function l(g,m){const{gen:_}=g;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(r.default.vErrors,(0,t._)`${r.default.vErrors} === null ? ${m} : ${r.default.vErrors}.concat(${m})`).assign(r.default.errors,(0,t._)`${r.default.vErrors}.length`),(0,i.extendErrors)(g)},()=>g.error())}function u({schemaEnv:g},m){if(m.async&&!g.$async)throw new Error("async keyword in sync schema")}function f(g,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return g.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function c(g,m,_=!1){return!m.length||m.some(v=>v==="array"?Array.isArray(g):v==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==v||_&&typeof g>"u")}e.validSchemaType=c;function h({schema:g,opts:m,self:_,errSchemaPath:v},p,E){if(Array.isArray(p.keyword)?!p.keyword.includes(E):p.keyword!==E)throw new Error("ajv implementation error");const y=p.dependencies;if(y!=null&&y.some(S=>!Object.prototype.hasOwnProperty.call(g,S)))throw new Error(`parent schema must have dependencies of ${E}: ${y.join(",")}`);if(p.validateSchema&&!p.validateSchema(g[E])){const $=`keyword "${E}" value is invalid at path "${v}": `+_.errorsText(p.validateSchema.errors);if(m.validateSchema==="log")_.logger.error($);else throw new Error($)}}e.validateKeywordUsage=h}}),Gne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/subschema.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.extendSubschemaMode=e.extendSubschemaData=e.getSubschema=void 0;var t=mr(),r=zr();function n(s,{keyword:a,schemaProp:l,schema:u,schemaPath:f,errSchemaPath:c,topSchemaRef:h}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const g=s.schema[a];return l===void 0?{schema:g,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:g[l],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(l)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,r.escapeFragment)(l)}`}}if(u!==void 0){if(f===void 0||c===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:f,topSchemaRef:h,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')}e.getSubschema=n;function i(s,a,{dataProp:l,dataPropType:u,data:f,dataTypes:c,propertyName:h}){if(f!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=a;if(l!==void 0){const{errorPath:_,dataPathArr:v,opts:p}=a,E=g.let("data",(0,t._)`${a.data}${(0,t.getProperty)(l)}`,!0);m(E),s.errorPath=(0,t.str)`${_}${(0,r.getErrorPath)(l,u,p.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${l}`,s.dataPathArr=[...v,s.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:g.let("data",f,!0);m(_),h!==void 0&&(s.propertyName=h)}c&&(s.dataTypes=c);function m(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}e.extendSubschemaData=i;function o(s,{jtdDiscriminator:a,jtdMetadata:l,compositeRule:u,createErrors:f,allErrors:c}){u!==void 0&&(s.compositeRule=u),f!==void 0&&(s.createErrors=f),c!==void 0&&(s.allErrors=c),s.jtdDiscriminator=a,s.jtdMetadata=l}e.extendSubschemaMode=o}}),Kne=Ne({"../../node_modules/ajv-formats/node_modules/json-schema-traverse/index.js"(e,t){Te();var r=t.exports=function(o,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var l=typeof a=="function"?a:a.pre||function(){},u=a.post||function(){};n(s,l,u,o,"",o)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function n(o,s,a,l,u,f,c,h,g,m){if(l&&typeof l=="object"&&!Array.isArray(l)){s(l,u,f,c,h,g,m);for(var _ in l){var v=l[_];if(Array.isArray(v)){if(_ in r.arrayKeywords)for(var p=0;p<v.length;p++)n(o,s,a,v[p],u+"/"+_+"/"+p,f,u,_,l,p)}else if(_ in r.propsKeywords){if(v&&typeof v=="object")for(var E in v)n(o,s,a,v[E],u+"/"+_+"/"+i(E),f,u,_,l,E)}else(_ in r.keywords||o.allKeys&&!(_ in r.skipKeywords))&&n(o,s,a,v,u+"/"+_,f,u,_,l)}a(l,u,f,c,h,g,m)}}function i(o){return o.replace(/~/g,"~0").replace(/\//g,"~1")}}}),$E=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/resolve.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getSchemaRefs=e.resolveUrl=e.normalizeId=e._getFullPath=e.getFullPath=e.inlineRef=void 0;var t=zr(),r=Vh(),n=Kne(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(v,p=!0){return typeof v=="boolean"?!0:p===!0?!a(v):p?l(v)<=p:!1}e.inlineRef=o;var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(v){for(const p in v){if(s.has(p))return!0;const E=v[p];if(Array.isArray(E)&&E.some(a)||typeof E=="object"&&a(E))return!0}return!1}function l(v){let p=0;for(const E in v){if(E==="$ref")return 1/0;if(p++,!i.has(E)&&(typeof v[E]=="object"&&(0,t.eachItem)(v[E],y=>p+=l(y)),p===1/0))return 1/0}return p}function u(v,p="",E){E!==!1&&(p=h(p));const y=v.parse(p);return f(v,y)}e.getFullPath=u;function f(v,p){return v.serialize(p).split("#")[0]+"#"}e._getFullPath=f;var c=/#\/?$/;function h(v){return v?v.replace(c,""):""}e.normalizeId=h;function g(v,p,E){return E=h(E),v.resolve(p,E)}e.resolveUrl=g;var m=/^[a-z_][-a-z0-9._]*$/i;function _(v,p){if(typeof v=="boolean")return{};const{schemaId:E,uriResolver:y}=this.opts,S=h(v[E]||p),$={"":S},T=u(y,S,!1),d={},x=new Set;return n(v,{allKeys:!0},(C,F,V,X)=>{if(X===void 0)return;const H=T+F;let Z=$[X];typeof C[E]=="string"&&(Z=fe.call(this,C[E])),ee.call(this,C.$anchor),ee.call(this,C.$dynamicAnchor),$[F]=Z;function fe(ne){const k=this.opts.uriResolver.resolve;if(ne=h(Z?k(Z,ne):ne),x.has(ne))throw O(ne);x.add(ne);let B=this.refs[ne];return typeof B=="string"&&(B=this.refs[B]),typeof B=="object"?A(C,B.schema,ne):ne!==h(H)&&(ne[0]==="#"?(A(C,d[ne],ne),d[ne]=C):this.refs[ne]=H),ne}function ee(ne){if(typeof ne=="string"){if(!m.test(ne))throw new Error(`invalid anchor "${ne}"`);fe.call(this,`#${ne}`)}}}),d;function A(C,F,V){if(F!==void 0&&!r(C,F))throw O(V)}function O(C){return new Error(`reference "${C}" resolves to more than one schema`)}}e.getSchemaRefs=_}}),TE=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/validate/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.getData=e.KeywordCxt=e.validateFunctionCode=void 0;var t=Vne(),r=e_(),n=gV(),i=e_(),o=Hne(),s=Wne(),a=Gne(),l=mr(),u=yc(),f=$E(),c=zr(),h=SE();function g(N){if(T(N)&&(x(N),$(N))){p(N);return}m(N,()=>(0,t.topBoolOrEmptySchema)(N))}e.validateFunctionCode=g;function m({gen:N,validateName:D,schema:M,schemaEnv:K,opts:se},ce){se.code.es5?N.func(D,(0,l._)`${u.default.data}, ${u.default.valCxt}`,K.$async,()=>{N.code((0,l._)`"use strict"; ${y(M,se)}`),v(N,se),N.code(ce)}):N.func(D,(0,l._)`${u.default.data}, ${_(se)}`,K.$async,()=>N.code(y(M,se)).code(ce))}function _(N){return(0,l._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${N.dynamicRef?(0,l._)`, ${u.default.dynamicAnchors}={}`:l.nil}}={}`}function v(N,D){N.if(u.default.valCxt,()=>{N.var(u.default.instancePath,(0,l._)`${u.default.valCxt}.${u.default.instancePath}`),N.var(u.default.parentData,(0,l._)`${u.default.valCxt}.${u.default.parentData}`),N.var(u.default.parentDataProperty,(0,l._)`${u.default.valCxt}.${u.default.parentDataProperty}`),N.var(u.default.rootData,(0,l._)`${u.default.valCxt}.${u.default.rootData}`),D.dynamicRef&&N.var(u.default.dynamicAnchors,(0,l._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{N.var(u.default.instancePath,(0,l._)`""`),N.var(u.default.parentData,(0,l._)`undefined`),N.var(u.default.parentDataProperty,(0,l._)`undefined`),N.var(u.default.rootData,u.default.data),D.dynamicRef&&N.var(u.default.dynamicAnchors,(0,l._)`{}`)})}function p(N){const{schema:D,opts:M,gen:K}=N;m(N,()=>{M.$comment&&D.$comment&&X(N),C(N),K.let(u.default.vErrors,null),K.let(u.default.errors,0),M.unevaluated&&E(N),A(N),H(N)})}function E(N){const{gen:D,validateName:M}=N;N.evaluated=D.const("evaluated",(0,l._)`${M}.evaluated`),D.if((0,l._)`${N.evaluated}.dynamicProps`,()=>D.assign((0,l._)`${N.evaluated}.props`,(0,l._)`undefined`)),D.if((0,l._)`${N.evaluated}.dynamicItems`,()=>D.assign((0,l._)`${N.evaluated}.items`,(0,l._)`undefined`))}function y(N,D){const M=typeof N=="object"&&N[D.schemaId];return M&&(D.code.source||D.code.process)?(0,l._)`/*# sourceURL=${M} */`:l.nil}function S(N,D){if(T(N)&&(x(N),$(N))){d(N,D);return}(0,t.boolOrEmptySchema)(N,D)}function $({schema:N,self:D}){if(typeof N=="boolean")return!N;for(const M in N)if(D.RULES.all[M])return!0;return!1}function T(N){return typeof N.schema!="boolean"}function d(N,D){const{schema:M,gen:K,opts:se}=N;se.$comment&&M.$comment&&X(N),F(N),V(N);const ce=K.const("_errs",u.default.errors);A(N,ce),K.var(D,(0,l._)`${ce} === ${u.default.errors}`)}function x(N){(0,c.checkUnknownRules)(N),O(N)}function A(N,D){if(N.opts.jtd)return fe(N,[],!1,D);const M=(0,r.getSchemaTypes)(N.schema),K=(0,r.coerceAndCheckDataType)(N,M);fe(N,M,!K,D)}function O(N){const{schema:D,errSchemaPath:M,opts:K,self:se}=N;D.$ref&&K.ignoreKeywordsWithRef&&(0,c.schemaHasRulesButRef)(D,se.RULES)&&se.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function C(N){const{schema:D,opts:M}=N;D.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,c.checkStrictMode)(N,"default is ignored in the schema root")}function F(N){const D=N.schema[N.opts.schemaId];D&&(N.baseId=(0,f.resolveUrl)(N.opts.uriResolver,N.baseId,D))}function V(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function X({gen:N,schemaEnv:D,schema:M,errSchemaPath:K,opts:se}){const ce=M.$comment;if(se.$comment===!0)N.code((0,l._)`${u.default.self}.logger.log(${ce})`);else if(typeof se.$comment=="function"){const de=(0,l.str)`${K}/$comment`,pe=N.scopeValue("root",{ref:D.root});N.code((0,l._)`${u.default.self}.opts.$comment(${ce}, ${de}, ${pe}.schema)`)}}function H(N){const{gen:D,schemaEnv:M,validateName:K,ValidationError:se,opts:ce}=N;M.$async?D.if((0,l._)`${u.default.errors} === 0`,()=>D.return(u.default.data),()=>D.throw((0,l._)`new ${se}(${u.default.vErrors})`)):(D.assign((0,l._)`${K}.errors`,u.default.vErrors),ce.unevaluated&&Z(N),D.return((0,l._)`${u.default.errors} === 0`))}function Z({gen:N,evaluated:D,props:M,items:K}){M instanceof l.Name&&N.assign((0,l._)`${D}.props`,M),K instanceof l.Name&&N.assign((0,l._)`${D}.items`,K)}function fe(N,D,M,K){const{gen:se,schema:ce,data:de,allErrors:pe,opts:Ae,self:Le}=N,{RULES:Ce}=Le;if(ce.$ref&&(Ae.ignoreKeywordsWithRef||!(0,c.schemaHasRulesButRef)(ce,Ce))){se.block(()=>Y(N,"$ref",Ce.all.$ref.definition));return}Ae.jtd||ne(N,D),se.block(()=>{for(const qe of Ce.rules)rt(qe);rt(Ce.post)});function rt(qe){(0,n.shouldUseGroup)(ce,qe)&&(qe.type?(se.if((0,i.checkDataType)(qe.type,de,Ae.strictNumbers)),ee(N,qe),D.length===1&&D[0]===qe.type&&M&&(se.else(),(0,i.reportTypeError)(N)),se.endIf()):ee(N,qe),pe||se.if((0,l._)`${u.default.errors} === ${K||0}`))}}function ee(N,D){const{gen:M,schema:K,opts:{useDefaults:se}}=N;se&&(0,o.assignDefaults)(N,D.type),M.block(()=>{for(const ce of D.rules)(0,n.shouldUseRule)(K,ce)&&Y(N,ce.keyword,ce.definition,D.type)})}function ne(N,D){N.schemaEnv.meta||!N.opts.strictTypes||(k(N,D),N.opts.allowUnionTypes||B(N,D),W(N,N.dataTypes))}function k(N,D){if(D.length){if(!N.dataTypes.length){N.dataTypes=D;return}D.forEach(M=>{R(N.dataTypes,M)||oe(N,`type "${M}" not allowed by context "${N.dataTypes.join(",")}"`)}),z(N,D)}}function B(N,D){D.length>1&&!(D.length===2&&D.includes("null"))&&oe(N,"use allowUnionTypes to allow union type keyword")}function W(N,D){const M=N.self.RULES.all;for(const K in M){const se=M[K];if(typeof se=="object"&&(0,n.shouldUseRule)(N.schema,se)){const{type:ce}=se.definition;ce.length&&!ce.some(de=>P(D,de))&&oe(N,`missing type "${ce.join(",")}" for keyword "${K}"`)}}}function P(N,D){return N.includes(D)||D==="number"&&N.includes("integer")}function R(N,D){return N.includes(D)||D==="integer"&&N.includes("number")}function z(N,D){const M=[];for(const K of N.dataTypes)R(D,K)?M.push(K):D.includes("integer")&&K==="number"&&M.push("integer");N.dataTypes=M}function oe(N,D){const M=N.schemaEnv.baseId+N.errSchemaPath;D+=` at "${M}" (strictTypes)`,(0,c.checkStrictMode)(N,D,N.opts.strictTypes)}var J=class{constructor(N,D,M){if((0,s.validateKeywordUsage)(N,D,M),this.gen=N.gen,this.allErrors=N.allErrors,this.keyword=M,this.data=N.data,this.schema=N.schema[M],this.$data=D.$data&&N.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,c.schemaRefOrVal)(N,this.schema,M,this.$data),this.schemaType=D.schemaType,this.parentSchema=N.schema,this.params={},this.it=N,this.def=D,this.$data)this.schemaCode=N.gen.const("vSchema",Ie(this.$data,N));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=N.gen.const("_errs",u.default.errors))}result(N,D,M){this.failResult((0,l.not)(N),D,M)}failResult(N,D,M){this.gen.if(N),M?M():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(N,D){this.failResult((0,l.not)(N),void 0,D)}fail(N){if(N===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(N),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(N){if(!this.$data)return this.fail(N);const{schemaCode:D}=this;this.fail((0,l._)`${D} !== undefined && (${(0,l.or)(this.invalid$data(),N)})`)}error(N,D,M){if(D){this.setParams(D),this._error(N,M),this.setParams({});return}this._error(N,M)}_error(N,D){(N?h.reportExtraError:h.reportError)(this,this.def.error,D)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(N){this.allErrors||this.gen.if(N)}setParams(N,D){D?Object.assign(this.params,N):this.params=N}block$data(N,D,M=l.nil){this.gen.block(()=>{this.check$data(N,M),D()})}check$data(N=l.nil,D=l.nil){if(!this.$data)return;const{gen:M,schemaCode:K,schemaType:se,def:ce}=this;M.if((0,l.or)((0,l._)`${K} === undefined`,D)),N!==l.nil&&M.assign(N,!0),(se.length||ce.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),N!==l.nil&&M.assign(N,!1)),M.else()}invalid$data(){const{gen:N,schemaCode:D,schemaType:M,def:K,it:se}=this;return(0,l.or)(ce(),de());function ce(){if(M.length){if(!(D instanceof l.Name))throw new Error("ajv implementation error");const pe=Array.isArray(M)?M:[M];return(0,l._)`${(0,i.checkDataTypes)(pe,D,se.opts.strictNumbers,i.DataType.Wrong)}`}return l.nil}function de(){if(K.validateSchema){const pe=N.scopeValue("validate$data",{ref:K.validateSchema});return(0,l._)`!${pe}(${D})`}return l.nil}}subschema(N,D){const M=(0,a.getSubschema)(this.it,N);(0,a.extendSubschemaData)(M,this.it,N),(0,a.extendSubschemaMode)(M,N);const K={...this.it,...M,items:void 0,props:void 0};return S(K,D),K}mergeEvaluated(N,D){const{it:M,gen:K}=this;M.opts.unevaluated&&(M.props!==!0&&N.props!==void 0&&(M.props=c.mergeEvaluated.props(K,N.props,M.props,D)),M.items!==!0&&N.items!==void 0&&(M.items=c.mergeEvaluated.items(K,N.items,M.items,D)))}mergeValidEvaluated(N,D){const{it:M,gen:K}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return K.if(D,()=>this.mergeEvaluated(N,l.Name)),!0}};e.KeywordCxt=J;function Y(N,D,M,K){const se=new J(N,M,D);"code"in M?M.code(se,K):se.$data&&M.validate?(0,s.funcKeywordCode)(se,M):"macro"in M?(0,s.macroKeywordCode)(se,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(se,M)}var ae=/^\/(?:[^~]|~0|~1)*$/,be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ie(N,{dataLevel:D,dataNames:M,dataPathArr:K}){let se,ce;if(N==="")return u.default.rootData;if(N[0]==="/"){if(!ae.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);se=N,ce=u.default.rootData}else{const Le=be.exec(N);if(!Le)throw new Error(`Invalid JSON-pointer: ${N}`);const Ce=+Le[1];if(se=Le[2],se==="#"){if(Ce>=D)throw new Error(Ae("property/index",Ce));return K[D-Ce]}if(Ce>D)throw new Error(Ae("data",Ce));if(ce=M[D-Ce],!se)return ce}let de=ce;const pe=se.split("/");for(const Le of pe)Le&&(ce=(0,l._)`${ce}${(0,l.getProperty)((0,c.unescapeJsonPointer)(Le))}`,de=(0,l._)`${de} && ${ce}`);return de;function Ae(Le,Ce){return`Cannot access ${Le} ${Ce} levels up, current level is ${D}`}}e.getData=Ie}}),BR=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/validation_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}};e.default=t}}),UR=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/ref_error.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=$E(),r=class extends Error{constructor(n,i,o,s){super(s||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}};e.default=r}}),zR=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/compile/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.resolveSchema=e.getCompilingSchema=e.resolveRef=e.compileSchema=e.SchemaEnv=void 0;var t=mr(),r=BR(),n=yc(),i=$E(),o=zr(),s=TE(),a=class{constructor(p){var E;this.refs={},this.dynamicAnchors={};let y;typeof p.schema=="object"&&(y=p.schema),this.schema=p.schema,this.schemaId=p.schemaId,this.root=p.root||this,this.baseId=(E=p.baseId)!==null&&E!==void 0?E:(0,i.normalizeId)(y==null?void 0:y[p.schemaId||"$id"]),this.schemaPath=p.schemaPath,this.localRefs=p.localRefs,this.meta=p.meta,this.$async=y==null?void 0:y.$async,this.refs={}}};e.SchemaEnv=a;function l(p){const E=c.call(this,p);if(E)return E;const y=(0,i.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:S,lines:$}=this.opts.code,{ownProperties:T}=this.opts,d=new t.CodeGen(this.scope,{es5:S,lines:$,ownProperties:T});let x;p.$async&&(x=d.scopeValue("Error",{ref:r.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const A=d.scopeName("validate");p.validateName=A;const O={gen:d,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:A,ValidationError:x,schema:p.schema,schemaEnv:p,rootId:y,baseId:p.baseId||y,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(p),(0,s.validateFunctionCode)(O),d.optimize(this.opts.code.optimize);const F=d.toString();C=`${d.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(C=this.opts.code.process(C,p));const X=new Function(`${n.default.self}`,`${n.default.scope}`,C)(this,this.scope.get());if(this.scope.value(A,{ref:X}),X.errors=null,X.schema=p.schema,X.schemaEnv=p,p.$async&&(X.$async=!0),this.opts.code.source===!0&&(X.source={validateName:A,validateCode:F,scopeValues:d._values}),this.opts.unevaluated){const{props:H,items:Z}=O;X.evaluated={props:H instanceof t.Name?void 0:H,items:Z instanceof t.Name?void 0:Z,dynamicProps:H instanceof t.Name,dynamicItems:Z instanceof t.Name},X.source&&(X.source.evaluated=(0,t.stringify)(X.evaluated))}return p.validate=X,p}catch(F){throw delete p.validate,delete p.validateName,C&&this.logger.error("Error compiling schema, function code:",C),F}finally{this._compilations.delete(p)}}e.compileSchema=l;function u(p,E,y){var S;y=(0,i.resolveUrl)(this.opts.uriResolver,E,y);const $=p.refs[y];if($)return $;let T=g.call(this,p,y);if(T===void 0){const d=(S=p.localRefs)===null||S===void 0?void 0:S[y],{schemaId:x}=this.opts;d&&(T=new a({schema:d,schemaId:x,root:p,baseId:E}))}if(T!==void 0)return p.refs[y]=f.call(this,T)}e.resolveRef=u;function f(p){return(0,i.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:l.call(this,p)}function c(p){for(const E of this._compilations)if(h(E,p))return E}e.getCompilingSchema=c;function h(p,E){return p.schema===E.schema&&p.root===E.root&&p.baseId===E.baseId}function g(p,E){let y;for(;typeof(y=this.refs[E])=="string";)E=y;return y||this.schemas[E]||m.call(this,p,E)}function m(p,E){const y=this.opts.uriResolver.parse(E),S=(0,i._getFullPath)(this.opts.uriResolver,y);let $=(0,i.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&S===$)return v.call(this,y,p);const T=(0,i.normalizeId)(S),d=this.refs[T]||this.schemas[T];if(typeof d=="string"){const x=m.call(this,p,d);return typeof(x==null?void 0:x.schema)!="object"?void 0:v.call(this,y,x)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||l.call(this,d),T===(0,i.normalizeId)(E)){const{schema:x}=d,{schemaId:A}=this.opts,O=x[A];return O&&($=(0,i.resolveUrl)(this.opts.uriResolver,$,O)),new a({schema:x,schemaId:A,root:p,baseId:$})}return v.call(this,y,d)}}e.resolveSchema=m;var _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:E,schema:y,root:S}){var $;if((($=p.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const x of p.fragment.slice(1).split("/")){if(typeof y=="boolean")return;const A=y[(0,o.unescapeFragment)(x)];if(A===void 0)return;y=A;const O=typeof y=="object"&&y[this.opts.schemaId];!_.has(x)&&O&&(E=(0,i.resolveUrl)(this.opts.uriResolver,E,O))}let T;if(typeof y!="boolean"&&y.$ref&&!(0,o.schemaHasRulesButRef)(y,this.RULES)){const x=(0,i.resolveUrl)(this.opts.uriResolver,E,y.$ref);T=m.call(this,S,x)}const{schemaId:d}=this.opts;if(T=T||new a({schema:y,schemaId:d,root:S,baseId:E}),T.schema!==T.root.schema)return T}}}),Jne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/data.json"(e,t){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}}),Yne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/uri.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=cV();t.code='require("ajv/dist/runtime/uri").default',e.default=t}}),Xne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/core.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=TE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=mr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});var n=BR(),i=UR(),o=mV(),s=zR(),a=mr(),l=$E(),u=e_(),f=zr(),c=Jne(),h=Yne(),g=(k,B)=>new RegExp(k,B);g.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(k){var B,W,P,R,z,oe,J,Y,ae,be,Ie,N,D,M,K,se,ce,de,pe,Ae,Le,Ce,rt,qe,Ue;const G=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ie=(P=(W=k.code)===null||W===void 0?void 0:W.regExp)!==null&&P!==void 0?P:g,ye=(R=k.uriResolver)!==null&&R!==void 0?R:h.default;return{strictSchema:(oe=(z=k.strictSchema)!==null&&z!==void 0?z:G)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:G)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(ae=k.strictTypes)!==null&&ae!==void 0?ae:G)!==null&&be!==void 0?be:"log",strictTuples:(N=(Ie=k.strictTuples)!==null&&Ie!==void 0?Ie:G)!==null&&N!==void 0?N:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:G)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ie}:{optimize:L,regExp:ie},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:E,loopEnum:(se=k.loopEnum)!==null&&se!==void 0?se:E,meta:(ce=k.meta)!==null&&ce!==void 0?ce:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(Ae=k.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(Ce=k.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(rt=k.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}var S=class{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...y(k)};const{es5:B,lines:W}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:B,lines:W}),this.logger=F(k.logger);const P=k.validateFormats;k.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,k,"NOT SUPPORTED"),$.call(this,p,k,"DEPRECATED","warn"),this._metaOpts=O.call(this),k.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&A.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),d.call(this),k.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:B,schemaId:W}=this.opts;let P=c;W==="id"&&(P={...c},P.id=P.$id,delete P.$id),B&&k&&this.addMetaSchema(P,P[W],!1)}defaultMeta(){const{meta:k,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[B]||k:void 0}validate(k,B){let W;if(typeof k=="string"){if(W=this.getSchema(k),!W)throw new Error(`no schema with key or ref "${k}"`)}else W=this.compile(k);const P=W(B);return"$async"in W||(this.errors=W.errors),P}compile(k,B){const W=this._addSchema(k,B);return W.validate||this._compileSchemaEnv(W)}compileAsync(k,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:W}=this.opts;return P.call(this,k,B);async function P(ae,be){await R.call(this,ae.$schema);const Ie=this._addSchema(ae,be);return Ie.validate||z.call(this,Ie)}async function R(ae){ae&&!this.getSchema(ae)&&await P.call(this,{$ref:ae},!0)}async function z(ae){try{return this._compileSchemaEnv(ae)}catch(be){if(!(be instanceof i.default))throw be;return oe.call(this,be),await J.call(this,be.missingSchema),z.call(this,ae)}}function oe({missingSchema:ae,missingRef:be}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${be} cannot be resolved`)}async function J(ae){const be=await Y.call(this,ae);this.refs[ae]||await R.call(this,be.$schema),this.refs[ae]||this.addSchema(be,ae,B)}async function Y(ae){const be=this._loading[ae];if(be)return be;try{return await(this._loading[ae]=W(ae))}finally{delete this._loading[ae]}}}addSchema(k,B,W,P=this.opts.validateSchema){if(Array.isArray(k)){for(const z of k)this.addSchema(z,void 0,W,P);return this}let R;if(typeof k=="object"){const{schemaId:z}=this.opts;if(R=k[z],R!==void 0&&typeof R!="string")throw new Error(`schema ${z} must be string`)}return B=(0,l.normalizeId)(B||R),this._checkUnique(B),this.schemas[B]=this._addSchema(k,W,B,P,!0),this}addMetaSchema(k,B,W=this.opts.validateSchema){return this.addSchema(k,B,!0,W),this}validateSchema(k,B){if(typeof k=="boolean")return!0;let W;if(W=k.$schema,W!==void 0&&typeof W!="string")throw new Error("$schema must be a string");if(W=W||this.opts.defaultMeta||this.defaultMeta(),!W)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(W,k);if(!P&&B){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return P}getSchema(k){let B;for(;typeof(B=T.call(this,k))=="string";)k=B;if(B===void 0){const{schemaId:W}=this.opts,P=new s.SchemaEnv({schema:{},schemaId:W});if(B=s.resolveSchema.call(this,P,k),!B)return;this.refs[k]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=T.call(this,k);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const B=k;this._cache.delete(B);let W=k[this.opts.schemaId];return W&&(W=(0,l.normalizeId)(W),delete this.schemas[W],delete this.refs[W]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const B of k)this.addKeyword(B);return this}addKeyword(k,B){let W;if(typeof k=="string")W=k,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=W);else if(typeof k=="object"&&B===void 0){if(B=k,W=B.keyword,Array.isArray(W)&&!W.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,W,B),!B)return(0,f.eachItem)(W,R=>H.call(this,R)),this;fe.call(this,B);const P={...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)};return(0,f.eachItem)(W,P.type.length===0?R=>H.call(this,R,P):R=>P.type.forEach(z=>H.call(this,R,P,z))),this}getKeyword(k){const B=this.RULES.all[k];return typeof B=="object"?B.definition:!!B}removeKeyword(k){const{RULES:B}=this;delete B.keywords[k],delete B.all[k];for(const W of B.rules){const P=W.rules.findIndex(R=>R.keyword===k);P>=0&&W.rules.splice(P,1)}return this}addFormat(k,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[k]=B,this}errorsText(k=this.errors,{separator:B=", ",dataVar:W="data"}={}){return!k||k.length===0?"No errors":k.map(P=>`${W}${P.instancePath} ${P.message}`).reduce((P,R)=>P+B+R)}$dataMetaSchema(k,B){const W=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const P of B){const R=P.split("/").slice(1);let z=k;for(const oe of R)z=z[oe];for(const oe in W){const J=W[oe];if(typeof J!="object")continue;const{$data:Y}=J.definition,ae=z[oe];Y&&ae&&(z[oe]=ne(ae))}}return k}_removeAllSchemas(k,B){for(const W in k){const P=k[W];(!B||B.test(W))&&(typeof P=="string"?delete k[W]:P&&!P.meta&&(this._cache.delete(P.schema),delete k[W]))}}_addSchema(k,B,W,P=this.opts.validateSchema,R=this.opts.addUsedSchema){let z;const{schemaId:oe}=this.opts;if(typeof k=="object")z=k[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(k);if(J!==void 0)return J;W=(0,l.normalizeId)(z||W);const Y=l.getSchemaRefs.call(this,k,W);return J=new s.SchemaEnv({schema:k,schemaId:oe,meta:B,baseId:W,localRefs:Y}),this._cache.set(J.schema,J),R&&!W.startsWith("#")&&(W&&this._checkUnique(W),this.refs[W]=J),P&&this.validateSchema(k,!0),J}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):s.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const B=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,k)}finally{this.opts=B}}};e.default=S,S.ValidationError=n.default,S.MissingRefError=i.default;function $(k,B,W,P="error"){for(const R in k){const z=R;z in B&&this.logger[P](`${W}: option ${R}. ${k[z]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function x(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function A(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const W=k[B];W.keyword||(W.keyword=B),this.addKeyword(W)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}var C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}var V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(k,B){const{RULES:W}=this;if((0,f.eachItem)(k,P=>{if(W.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,W){var P;const R=B==null?void 0:B.post;if(W&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:z}=this;let oe=R?z.post:z.rules.find(({type:Y})=>Y===W);if(oe||(oe={type:W,rules:[]},z.rules.push(oe)),z.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,oe,J,B.before):oe.rules.push(J),z.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function Z(k,B,W){const P=k.rules.findIndex(R=>R.keyword===W);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${W} is not defined`))}function fe(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ne(B)),k.validateSchema=this.compile(B,!0))}var ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(k){return{anyOf:[k,ee]}}}}),Qne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/id.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};e.default=t}}),Zne=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/ref.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.callRef=e.getValidate=void 0;var t=UR(),r=Sa(),n=mr(),i=yc(),o=zR(),s=zr(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:c,schema:h,it:g}=f,{baseId:m,schemaEnv:_,validateName:v,opts:p,self:E}=g,{root:y}=_;if((h==="#"||h==="#/")&&m===y.baseId)return $();const S=o.resolveRef.call(E,y,m,h);if(S===void 0)throw new t.default(g.opts.uriResolver,m,h);if(S instanceof o.SchemaEnv)return T(S);return d(S);function $(){if(_===y)return u(f,v,_,_.$async);const x=c.scopeValue("root",{ref:y});return u(f,(0,n._)`${x}.validate`,y,y.$async)}function T(x){const A=l(f,x);u(f,A,x,x.$async)}function d(x){const A=c.scopeValue("schema",p.code.source===!0?{ref:x,code:(0,n.stringify)(x)}:{ref:x}),O=c.name("valid"),C=f.subschema({schema:x,dataTypes:[],schemaPath:n.nil,topSchemaRef:A,errSchemaPath:h},O);f.mergeEvaluated(C),f.ok(O)}}};function l(f,c){const{gen:h}=f;return c.validate?h.scopeValue("validate",{ref:c.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:c})}.validate`}e.getValidate=l;function u(f,c,h,g){const{gen:m,it:_}=f,{allErrors:v,schemaEnv:p,opts:E}=_,y=E.passContext?i.default.this:n.nil;g?S():$();function S(){if(!p.$async)throw new Error("async schema referenced by sync schema");const x=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,r.callValidateCode)(f,c,y)}`),d(c),v||m.assign(x,!0)},A=>{m.if((0,n._)`!(${A} instanceof ${_.ValidationError})`,()=>m.throw(A)),T(A),v||m.assign(x,!1)}),f.ok(x)}function $(){f.result((0,r.callValidateCode)(f,c,y),()=>d(c),()=>T(c))}function T(x){const A=(0,n._)`${x}.errors`;m.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${A} : ${i.default.vErrors}.concat(${A})`),m.assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`)}function d(x){var A;if(!_.opts.unevaluated)return;const O=(A=h==null?void 0:h.validate)===null||A===void 0?void 0:A.evaluated;if(_.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(_.props=s.mergeEvaluated.props(m,O.props,_.props));else{const C=m.var("props",(0,n._)`${x}.evaluated.props`);_.props=s.mergeEvaluated.props(m,C,_.props,n.Name)}if(_.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(_.items=s.mergeEvaluated.items(m,O.items,_.items));else{const C=m.var("items",(0,n._)`${x}.evaluated.items`);_.items=s.mergeEvaluated.items(m,C,_.items,n.Name)}}}e.callRef=u,e.default=a}}),eie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/core/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Qne(),r=Zne(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,r.default];e.default=n}}),tie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitNumber.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=t.operators,n={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u}=s;s.fail$data((0,t._)`${l} ${n[a].fail} ${u} || isNaN(${l})`)}};e.default=o}}),rie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/multipleOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message:({schemaCode:i})=>(0,t.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,t._)`{multipleOf: ${i}}`},n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(i){const{gen:o,data:s,schemaCode:a,it:l}=i,u=l.opts.multipleOfPrecision,f=o.let("res"),c=u?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${u}`:(0,t._)`${f} !== parseInt(${f})`;i.fail$data((0,t._)`(${a} === 0 || (${f} = ${s}/${a}, ${c}))`)}};e.default=n}}),nie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/ucs2length.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});function t(r){const n=r.length;let i=0,o=0,s;for(;o<n;)i++,s=r.charCodeAt(o++),s>=55296&&s<=56319&&o<n&&(s=r.charCodeAt(o),(s&64512)===56320&&o++);return i}e.default=t,t.code='require("ajv/dist/runtime/ucs2length").default'}}),iie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitLength.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=nie(),i={message({keyword:s,schemaCode:a}){const l=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${l} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:i,code(s){const{keyword:a,data:l,schemaCode:u,it:f}=s,c=a==="maxLength"?t.operators.GT:t.operators.LT,h=f.opts.unicode===!1?(0,t._)`${l}.length`:(0,t._)`${(0,r.useFunc)(s.gen,n.default)}(${l})`;s.fail$data((0,t._)`${h} ${c} ${u}`)}};e.default=o}}),oie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/pattern.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sa(),r=mr(),n={message:({schemaCode:o})=>(0,r.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,r._)`{pattern: ${o}}`},i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:n,code(o){const{data:s,$data:a,schema:l,schemaCode:u,it:f}=o,c=f.opts.unicodeRegExp?"u":"",h=a?(0,r._)`(new RegExp(${u}, ${c}))`:(0,t.usePattern)(o,l);o.fail$data((0,r._)`!${h}.test(${s})`)}};e.default=i}}),sie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} properties`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxProperties"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`Object.keys(${s}).length ${l} ${a}`)}};e.default=n}}),aie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/required.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sa(),r=mr(),n=zr(),i={message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,schema:l,schemaCode:u,data:f,$data:c,it:h}=s,{opts:g}=h;if(!c&&l.length===0)return;const m=l.length>=g.loopRequired;if(h.allErrors?_():v(),g.strictRequired){const y=s.parentSchema.properties,{definedProperties:S}=s.it;for(const $ of l)if((y==null?void 0:y[$])===void 0&&!S.has($)){const T=h.schemaEnv.baseId+h.errSchemaPath,d=`required property "${$}" is not defined at "${T}" (strictRequired)`;(0,n.checkStrictMode)(h,d,h.opts.strictRequired)}}function _(){if(m||c)s.block$data(r.nil,p);else for(const y of l)(0,t.checkReportMissingProp)(s,y)}function v(){const y=a.let("missing");if(m||c){const S=a.let("valid",!0);s.block$data(S,()=>E(y,S)),s.ok(S)}else a.if((0,t.checkMissingProp)(s,l,y)),(0,t.reportMissingProp)(s,y),a.else()}function p(){a.forOf("prop",u,y=>{s.setParams({missingProperty:y}),a.if((0,t.noPropertyInData)(a,f,y,g.ownProperties),()=>s.error())})}function E(y,S){s.setParams({missingProperty:y}),a.forOf(y,u,()=>{a.assign(S,(0,t.propertyInData)(a,f,y,g.ownProperties)),a.if((0,r.not)(S),()=>{s.error(),a.break()})},r.nil)}}};e.default=o}}),lie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/limitItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message({keyword:i,schemaCode:o}){const s=i==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${o} items`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(i){const{keyword:o,data:s,schemaCode:a}=i,l=o==="maxItems"?t.operators.GT:t.operators.LT;i.fail$data((0,t._)`${s}.length ${l} ${a}`)}};e.default=n}}),qR=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/runtime/equal.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Vh();t.code='require("ajv/dist/runtime/equal").default',e.default=t}}),uie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=e_(),r=mr(),n=zr(),i=qR(),o={message:({params:{i:a,j:l}})=>(0,r.str)`must NOT have duplicate items (items ## ${l} and ${a} are identical)`,params:({params:{i:a,j:l}})=>(0,r._)`{i: ${a}, j: ${l}}`},s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:o,code(a){const{gen:l,data:u,$data:f,schema:c,parentSchema:h,schemaCode:g,it:m}=a;if(!f&&!c)return;const _=l.let("valid"),v=h.items?(0,t.getSchemaTypes)(h.items):[];a.block$data(_,p,(0,r._)`${g} === false`),a.ok(_);function p(){const $=l.let("i",(0,r._)`${u}.length`),T=l.let("j");a.setParams({i:$,j:T}),l.assign(_,!0),l.if((0,r._)`${$} > 1`,()=>(E()?y:S)($,T))}function E(){return v.length>0&&!v.some($=>$==="object"||$==="array")}function y($,T){const d=l.name("item"),x=(0,t.checkDataTypes)(v,d,m.opts.strictNumbers,t.DataType.Wrong),A=l.const("indices",(0,r._)`{}`);l.for((0,r._)`;${$}--;`,()=>{l.let(d,(0,r._)`${u}[${$}]`),l.if(x,(0,r._)`continue`),v.length>1&&l.if((0,r._)`typeof ${d} == "string"`,(0,r._)`${d} += "_"`),l.if((0,r._)`typeof ${A}[${d}] == "number"`,()=>{l.assign(T,(0,r._)`${A}[${d}]`),a.error(),l.assign(_,!1).break()}).code((0,r._)`${A}[${d}] = ${$}`)})}function S($,T){const d=(0,n.useFunc)(l,i.default),x=l.name("outer");l.label(x).for((0,r._)`;${$}--;`,()=>l.for((0,r._)`${T} = ${$}; ${T}--;`,()=>l.if((0,r._)`${d}(${u}[${$}], ${u}[${T}])`,()=>{a.error(),l.assign(_,!1).break(x)})))}}};e.default=s}}),cie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/const.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=qR(),i={message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},o={keyword:"const",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schemaCode:f,schema:c}=s;u||c&&typeof c=="object"?s.fail$data((0,t._)`!${(0,r.useFunc)(a,n.default)}(${l}, ${f})`):s.fail((0,t._)`${c} !== ${l}`)}};e.default=o}}),fie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/enum.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=qR(),i={message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},o={keyword:"enum",schemaType:"array",$data:!0,error:i,code(s){const{gen:a,data:l,$data:u,schema:f,schemaCode:c,it:h}=s;if(!u&&f.length===0)throw new Error("enum must have non-empty array");const g=f.length>=h.opts.loopEnum;let m;const _=()=>m??(m=(0,r.useFunc)(a,n.default));let v;if(g||u)v=a.let("valid"),s.block$data(v,p);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const y=a.const("vSchema",c);v=(0,t.or)(...f.map((S,$)=>E(y,$)))}s.pass(v);function p(){a.assign(v,!1),a.forOf("v",c,y=>a.if((0,t._)`${_()}(${l}, ${y})`,()=>a.assign(v,!0).break()))}function E(y,S){const $=f[S];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${l}, ${y}[${S}])`:(0,t._)`${l} === ${$}`}}};e.default=o}}),die=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/validation/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=tie(),r=rie(),n=iie(),i=oie(),o=sie(),s=aie(),a=lie(),l=uie(),u=cie(),f=fie(),c=[t.default,r.default,n.default,i.default,o.default,s.default,a.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,f.default];e.default=c}}),vV=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateAdditionalItems=void 0;var t=mr(),r=zr(),n={message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:n,code(s){const{parentSchema:a,it:l}=s,{items:u}=a;if(!Array.isArray(u)){(0,r.checkStrictMode)(l,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(s,u)}};function o(s,a){const{gen:l,schema:u,data:f,keyword:c,it:h}=s;h.items=!0;const g=l.const("len",(0,t._)`${f}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${g} <= ${a.length}`);else if(typeof u=="object"&&!(0,r.alwaysValidSchema)(h,u)){const _=l.var("valid",(0,t._)`${g} <= ${a.length}`);l.if((0,t.not)(_),()=>m(_)),s.ok(_)}function m(_){l.forRange("i",a.length,g,v=>{s.subschema({keyword:c,dataProp:v,dataPropType:r.Type.Num},_),h.allErrors||l.if((0,t.not)(_),()=>l.break())})}}e.validateAdditionalItems=o,e.default=i}}),yV=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTuple=void 0;var t=mr(),r=zr(),n=Sa(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:l}=s;if(Array.isArray(a))return o(s,"additionalItems",a);l.items=!0,!(0,r.alwaysValidSchema)(l,a)&&s.ok((0,n.validateArray)(s))}};function o(s,a,l=s.schema){const{gen:u,parentSchema:f,data:c,keyword:h,it:g}=s;v(f),g.opts.unevaluated&&l.length&&g.items!==!0&&(g.items=r.mergeEvaluated.items(u,l.length,g.items));const m=u.name("valid"),_=u.const("len",(0,t._)`${c}.length`);l.forEach((p,E)=>{(0,r.alwaysValidSchema)(g,p)||(u.if((0,t._)`${_} > ${E}`,()=>s.subschema({keyword:h,schemaProp:E,dataProp:E},m)),s.ok(m))});function v(p){const{opts:E,errSchemaPath:y}=g,S=l.length,$=S===p.minItems&&(S===p.maxItems||p[a]===!1);if(E.strictTuples&&!$){const T=`"${h}" is ${S}-tuple, but minItems or maxItems/${a} are not specified or different at path "${y}"`;(0,r.checkStrictMode)(g,T,E.strictTuples)}}}e.validateTuple=o,e.default=i}}),hie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=yV(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};e.default=r}}),pie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/items2020.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n=Sa(),i=vV(),o={message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:o,code(a){const{schema:l,parentSchema:u,it:f}=a,{prefixItems:c}=u;f.items=!0,!(0,r.alwaysValidSchema)(f,l)&&(c?(0,i.validateAdditionalItems)(a,c):a.ok((0,n.validateArray)(a)))}};e.default=s}}),mie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/contains.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:({params:{min:o,max:s}})=>s===void 0?(0,t.str)`must contain at least ${o} valid item(s)`:(0,t.str)`must contain at least ${o} and no more than ${s} valid item(s)`,params:({params:{min:o,max:s}})=>s===void 0?(0,t._)`{minContains: ${o}}`:(0,t._)`{minContains: ${o}, maxContains: ${s}}`},i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,data:u,it:f}=o;let c,h;const{minContains:g,maxContains:m}=l;f.opts.next?(c=g===void 0?1:g,h=m):c=1;const _=s.const("len",(0,t._)`${u}.length`);if(o.setParams({min:c,max:h}),h===void 0&&c===0){(0,r.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&c>h){(0,r.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,r.alwaysValidSchema)(f,a)){let S=(0,t._)`${_} >= ${c}`;h!==void 0&&(S=(0,t._)`${S} && ${_} <= ${h}`),o.pass(S);return}f.items=!0;const v=s.name("valid");h===void 0&&c===1?E(v,()=>s.if(v,()=>s.break())):c===0?(s.let(v,!0),h!==void 0&&s.if((0,t._)`${u}.length > 0`,p)):(s.let(v,!1),p()),o.result(v,()=>o.reset());function p(){const S=s.name("_valid"),$=s.let("count",0);E(S,()=>s.if(S,()=>y($)))}function E(S,$){s.forRange("i",0,_,T=>{o.subschema({keyword:"contains",dataProp:T,dataPropType:r.Type.Num,compositeRule:!0},S),$()})}function y(S){s.code((0,t._)`${S}++`),h===void 0?s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${S} > ${h}`,()=>s.assign(v,!1).break()),c===1?s.assign(v,!0):s.if((0,t._)`${S} >= ${c}`,()=>s.assign(v,!0)))}}};e.default=i}}),gie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/dependencies.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;var t=mr(),r=zr(),n=Sa();e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};var i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=a,e.default=i}}),vie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:"property name must be valid",params:({params:o})=>(0,t._)`{propertyName: ${o.propertyName}}`},i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:n,code(o){const{gen:s,schema:a,data:l,it:u}=o;if((0,r.alwaysValidSchema)(u,a))return;const f=s.name("valid");s.forIn("key",l,c=>{o.setParams({propertyName:c}),o.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},f),s.if((0,t.not)(f),()=>{o.error(!0),u.allErrors||s.break()})}),o.ok(f)}};e.default=i}}),wV=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sa(),r=mr(),n=yc(),i=zr(),o={message:"must NOT have additional properties",params:({params:a})=>(0,r._)`{additionalProperty: ${a.additionalProperty}}`},s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:o,code(a){const{gen:l,schema:u,parentSchema:f,data:c,errsCount:h,it:g}=a;if(!h)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=g;if(g.props=!0,_.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(g,u))return;const v=(0,t.allSchemaProperties)(f.properties),p=(0,t.allSchemaProperties)(f.patternProperties);E(),a.ok((0,r._)`${h} === ${n.default.errors}`);function E(){l.forIn("key",c,d=>{!v.length&&!p.length?$(d):l.if(y(d),()=>$(d))})}function y(d){let x;if(v.length>8){const A=(0,i.schemaRefOrVal)(g,f.properties,"properties");x=(0,t.isOwnProperty)(l,A,d)}else v.length?x=(0,r.or)(...v.map(A=>(0,r._)`${d} === ${A}`)):x=r.nil;return p.length&&(x=(0,r.or)(x,...p.map(A=>(0,r._)`${(0,t.usePattern)(a,A)}.test(${d})`))),(0,r.not)(x)}function S(d){l.code((0,r._)`delete ${c}[${d}]`)}function $(d){if(_.removeAdditional==="all"||_.removeAdditional&&u===!1){S(d);return}if(u===!1){a.setParams({additionalProperty:d}),a.error(),m||l.break();return}if(typeof u=="object"&&!(0,i.alwaysValidSchema)(g,u)){const x=l.name("valid");_.removeAdditional==="failing"?(T(d,x,!1),l.if((0,r.not)(x),()=>{a.reset(),S(d)})):(T(d,x),m||l.if((0,r.not)(x),()=>l.break()))}}function T(d,x,A){const O={keyword:"additionalProperties",dataProp:d,dataPropType:i.Type.Str};A===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(O,x)}}};e.default=s}}),yie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/properties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=TE(),r=Sa(),n=zr(),i=wV(),o={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,parentSchema:u,data:f,it:c}=s;c.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&i.default.code(new t.KeywordCxt(c,i.default,"additionalProperties"));const h=(0,r.allSchemaProperties)(l);for(const p of h)c.definedProperties.add(p);c.opts.unevaluated&&h.length&&c.props!==!0&&(c.props=n.mergeEvaluated.props(a,(0,n.toHash)(h),c.props));const g=h.filter(p=>!(0,n.alwaysValidSchema)(c,l[p]));if(g.length===0)return;const m=a.name("valid");for(const p of g)_(p)?v(p):(a.if((0,r.propertyInData)(a,f,p,c.opts.ownProperties)),v(p),c.allErrors||a.else().var(m,!0),a.endIf()),s.it.definedProperties.add(p),s.ok(m);function _(p){return c.opts.useDefaults&&!c.compositeRule&&l[p].default!==void 0}function v(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},m)}}};e.default=o}}),wie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sa(),r=mr(),n=zr(),i=zr(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:l,data:u,parentSchema:f,it:c}=s,{opts:h}=c,g=(0,t.allSchemaProperties)(l),m=g.filter($=>(0,n.alwaysValidSchema)(c,l[$]));if(g.length===0||m.length===g.length&&(!c.opts.unevaluated||c.props===!0))return;const _=h.strictSchema&&!h.allowMatchingProperties&&f.properties,v=a.name("valid");c.props!==!0&&!(c.props instanceof r.Name)&&(c.props=(0,i.evaluatedPropsToName)(a,c.props));const{props:p}=c;E();function E(){for(const $ of g)_&&y($),c.allErrors?S($):(a.var(v,!0),S($),a.if(v))}function y($){for(const T in _)new RegExp($).test(T)&&(0,n.checkStrictMode)(c,`property ${T} matches pattern ${$} (use allowMatchingProperties)`)}function S($){a.forIn("key",u,T=>{a.if((0,r._)`${(0,t.usePattern)(s,$)}.test(${T})`,()=>{const d=m.includes($);d||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:T,dataPropType:i.Type.Str},v),c.opts.unevaluated&&p!==!0?a.assign((0,r._)`${p}[${T}]`,!0):!d&&!c.allErrors&&a.if((0,r.not)(v),()=>a.break())})})}}};e.default=o}}),bie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/not.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:i,schema:o,it:s}=n;if((0,t.alwaysValidSchema)(s,o)){n.fail();return}const a=i.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};e.default=r}}),_ie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/anyOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Sa(),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:t.validateUnion,error:{message:"must match a schema in anyOf"}};e.default=r}}),Eie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/oneOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:"must match exactly one schema in oneOf",params:({params:o})=>(0,t._)`{passingSchemas: ${o.passing}}`},i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:n,code(o){const{gen:s,schema:a,parentSchema:l,it:u}=o;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&l.discriminator)return;const f=a,c=s.let("valid",!1),h=s.let("passing",null),g=s.name("_valid");o.setParams({passing:h}),s.block(m),o.result(c,()=>o.reset(),()=>o.error(!0));function m(){f.forEach((_,v)=>{let p;(0,r.alwaysValidSchema)(u,_)?s.var(g,!0):p=o.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},g),v>0&&s.if((0,t._)`${g} && ${c}`).assign(c,!1).assign(h,(0,t._)`[${h}, ${v}]`).else(),s.if(g,()=>{s.assign(c,!0),s.assign(h,v),p&&o.mergeEvaluated(p,t.Name)})})}}};e.default=i}}),Sie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/allOf.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:"allOf",schemaType:"array",code(n){const{gen:i,schema:o,it:s}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const a=i.name("valid");o.forEach((l,u)=>{if((0,t.alwaysValidSchema)(s,l))return;const f=n.subschema({keyword:"allOf",schemaProp:u},a);n.ok(a),n.mergeEvaluated(f)})}};e.default=r}}),$ie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/if.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=zr(),n={message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:n,code(s){const{gen:a,parentSchema:l,it:u}=s;l.then===void 0&&l.else===void 0&&(0,r.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const f=o(u,"then"),c=o(u,"else");if(!f&&!c)return;const h=a.let("valid",!0),g=a.name("_valid");if(m(),s.reset(),f&&c){const v=a.let("ifClause");s.setParams({ifClause:v}),a.if(g,_("then",v),_("else",v))}else f?a.if(g,_("then")):a.if((0,t.not)(g),_("else"));s.pass(h,()=>s.error(!0));function m(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);s.mergeEvaluated(v)}function _(v,p){return()=>{const E=s.subschema({keyword:v},g);a.assign(h,g),s.mergeValidEvaluated(E,h),p?a.assign(p,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function o(s,a){const l=s.schema[a];return l!==void 0&&!(0,r.alwaysValidSchema)(s,l)}e.default=i}}),Tie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/thenElse.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=zr(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:i,it:o}){i.if===void 0&&(0,t.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};e.default=r}}),xie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/applicator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=vV(),r=hie(),n=yV(),i=pie(),o=mie(),s=gie(),a=vie(),l=wV(),u=yie(),f=wie(),c=bie(),h=_ie(),g=Eie(),m=Sie(),_=$ie(),v=Tie();function p(E=!1){const y=[c.default,h.default,g.default,m.default,_.default,v.default,a.default,l.default,s.default,u.default,f.default];return E?y.push(r.default,i.default):y.push(t.default,n.default),y.push(o.default),y}e.default=p}}),Aie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/format.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r={message:({schemaCode:i})=>(0,t.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,t._)`{format: ${i}}`},n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(i,o){const{gen:s,data:a,$data:l,schema:u,schemaCode:f,it:c}=i,{opts:h,errSchemaPath:g,schemaEnv:m,self:_}=c;if(!h.validateFormats)return;l?v():p();function v(){const E=s.scopeValue("formats",{ref:_.formats,code:h.code.formats}),y=s.const("fDef",(0,t._)`${E}[${f}]`),S=s.let("fType"),$=s.let("format");s.if((0,t._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>s.assign(S,(0,t._)`${y}.type || "string"`).assign($,(0,t._)`${y}.validate`),()=>s.assign(S,(0,t._)`"string"`).assign($,y)),i.fail$data((0,t.or)(T(),d()));function T(){return h.strictSchema===!1?t.nil:(0,t._)`${f} && !${$}`}function d(){const x=m.$async?(0,t._)`(${y}.async ? await ${$}(${a}) : ${$}(${a}))`:(0,t._)`${$}(${a})`,A=(0,t._)`(typeof ${$} == "function" ? ${x} : ${$}.test(${a}))`;return(0,t._)`${$} && ${$} !== true && ${S} === ${o} && !${A}`}}function p(){const E=_.formats[u];if(!E){T();return}if(E===!0)return;const[y,S,$]=d(E);y===o&&i.pass(x());function T(){if(h.strictSchema===!1){_.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${u}" ignored in schema at path "${g}"`}}function d(A){const O=A instanceof RegExp?(0,t.regexpCode)(A):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(u)}`:void 0,C=s.scopeValue("formats",{key:u,ref:A,code:O});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,t._)`${C}.validate`]:["string",A,C]}function x(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${a})`}return typeof S=="function"?(0,t._)`${$}(${a})`:(0,t._)`${$}.test(${a})`}}}};e.default=n}}),Oie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/format/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Aie(),r=[t.default];e.default=r}}),Pie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/metadata.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.contentVocabulary=e.metadataVocabulary=void 0,e.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],e.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]}}),Nie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/draft7.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=eie(),r=die(),n=xie(),i=Oie(),o=Pie(),s=[t.default,r.default,(0,n.default)(),i.default,o.metadataVocabulary,o.contentVocabulary];e.default=s}}),Rie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/types.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))}}),Iie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/vocabularies/discriminator/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=mr(),r=Rie(),n=zR(),i=zr(),o={message:({params:{discrError:a,tagName:l}})=>a===r.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:a,tag:l,tagName:u}})=>(0,t._)`{error: ${a}, tag: ${u}, tagValue: ${l}}`},s={keyword:"discriminator",type:"object",schemaType:"object",error:o,code(a){const{gen:l,data:u,schema:f,parentSchema:c,it:h}=a,{oneOf:g}=c;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=f.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),v=l.const("tag",(0,t._)`${u}${(0,t.getProperty)(m)}`);l.if((0,t._)`typeof ${v} == "string"`,()=>p(),()=>a.error(!1,{discrError:r.DiscrError.Tag,tag:v,tagName:m})),a.ok(_);function p(){const S=y();l.if(!1);for(const $ in S)l.elseIf((0,t._)`${v} === ${$}`),l.assign(_,E(S[$]));l.else(),a.error(!1,{discrError:r.DiscrError.Mapping,tag:v,tagName:m}),l.endIf()}function E(S){const $=l.name("valid"),T=a.subschema({keyword:"oneOf",schemaProp:S},$);return a.mergeEvaluated(T,t.Name),$}function y(){var S;const $={},T=x(c);let d=!0;for(let C=0;C<g.length;C++){let F=g[C];F!=null&&F.$ref&&!(0,i.schemaHasRulesButRef)(F,h.self.RULES)&&(F=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,F==null?void 0:F.$ref),F instanceof n.SchemaEnv&&(F=F.schema));const V=(S=F==null?void 0:F.properties)===null||S===void 0?void 0:S[m];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);d=d&&(T||x(F)),A(V,C)}if(!d)throw new Error(`discriminator: "${m}" must be required`);return $;function x({required:C}){return Array.isArray(C)&&C.includes(m)}function A(C,F){if(C.const)O(C.const,F);else if(C.enum)for(const V of C.enum)O(V,F);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function O(C,F){if(typeof C!="string"||C in $)throw new Error(`discriminator: "${m}" values must be unique strings`);$[C]=F}}}};e.default=s}}),jie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/refs/json-schema-draft-07.json"(e,t){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}}),kie=Ne({"../../node_modules/ajv-formats/node_modules/ajv/dist/ajv.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=Xne(),n=Nie(),i=Iie(),o=jie(),s=["/properties"],a="http://json-schema.org/draft-07/schema",l=class extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(g,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}};t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=TE();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=mr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=BR();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=UR();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return h.default}})}}),Cie=Ne({"../../node_modules/ajv-formats/dist/limit.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;var t=kie(),r=mr(),n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>r.str`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>r._`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=a,{opts:g,self:m}=h;if(!g.validateFormats)return;const _=new t.KeywordCxt(h,m.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:m.formats,code:g.code.formats}),S=l.const("fmt",r._`${y}[${_.schemaCode}]`);a.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=m.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:g.code.formats?r._`${g.code.formats}${r.getProperty(y)}`:void 0});a.fail$data(E($))}function E(y){return r._`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};var s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s}}),bV=Ne({"../../node_modules/ajv-formats/dist/index.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0});var r=qne(),n=Cie(),i=mr(),o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],g=f.formats||r.formatNames;return l(u,g,c,h),f.keywords&&n.default(u),u};a.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var g,m;(g=(m=u.opts.code).formats)!==null&&g!==void 0||(m.formats=i._`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}t.exports=e=a,Object.defineProperty(e,"__esModule",{value:!0}),e.default=a}}),Die=Ne({"../../node_modules/wot-thing-description-types/schema/td-json-schema-validation.json"(e,t){t.exports={title:"Thing Description",version:"1.1-09-November-2023",description:"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",definitions:{anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the old context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}},required:["contentType"]},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},minItems:1}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]},minItems:1}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]},minItems:1}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},minItems:1}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},type:"object",properties:{id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},required:["title","security","securityDefinitions","@context"],additionalProperties:!0}}}),Lg=Ne({"../core/dist/helpers.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(y,S,$,T){T===void 0&&(T=$);var d=Object.getOwnPropertyDescriptor(S,$);(!d||("get"in d?!S.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return S[$]}}),Object.defineProperty(y,T,d)}:function(y,S,$,T){T===void 0&&(T=$),y[T]=S[$]}),r=e&&e.__setModuleDefault||(Object.create?function(y,S){Object.defineProperty(y,"default",{enumerable:!0,value:S})}:function(y,S){y.default=S}),n=e&&e.__importStar||function(){var y=function(S){return y=Object.getOwnPropertyNames||function($){var T=[];for(var d in $)Object.prototype.hasOwnProperty.call($,d)&&(T[T.length]=d);return T},y(S)};return function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var T=y(S),d=0;d<T.length;d++)T[d]!=="default"&&t($,S,T[d]);return r($,S),$}}(),i=e&&e.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((q7(),Or(jU))),s=pre(),a=Ng(),l=ul(),u=i(pV()),f=i(bV()),c=i(Die()),h=ko(),{debug:g,error:m,warn:_}=(0,h.createLoggers)("core","helpers"),v=c.default,p=new u.default({strict:!1});(0,f.default)(p);var E=class wl{constructor(S){this.srv=S}static extractScheme(S){const $=new URL(S);if(g($),$.protocol===null)throw new Error(`Protocol in url "${S}" must be valid`);const T=$.protocol.slice(0,-1);return g(`Helpers found scheme '${T}'`),T}static setStaticAddress(S){wl.staticAddress=S}static getAddresses(){const S=[];if(wl.staticAddress!==void 0)return S.push(wl.staticAddress),g(`AddressHelper uses static ${S}`),S;{const $=o.networkInterfaces();for(const T of Object.values($))T==null||T.forEach(d=>{g(`AddressHelper found ${d.address}`),d.internal===!1&&(d.family==="IPv4"?S.push(d.address):d.scopeid===0&&S.push(wl.toUriLiteral(d.address)))});return S.length===0&&S.push("localhost"),g(`AddressHelper identified ${S}`),S}}static toUriLiteral(S){return S==null?(m(`AddressHelper received invalid address '${S}'`),"{invalid address - undefined}"):(S.indexOf(":")!==-1&&(S=`[${S}]`),S)}static generateUniqueName(S){const $=S.match(/.+_([0-9]+)$/);return $!==null?S.slice(0,-$[1].length)+(1+parseInt($[1])):S+"_2"}static toStringArray(S){return S!=null?typeof S=="string"?[S]:S:[]}static structuredClone(S){return JSON.parse(JSON.stringify(S))}fetch(S){return new Promise(($,T)=>{const d=this.srv.getClientFor(wl.extractScheme(S));g(`WoTImpl fetching TD from '${S}' with ${d}`),d.readResource(new a.Form(S,l.ContentSerdes.TD)).then(async x=>{x.type!==l.ContentSerdes.TD&&x.type!==l.ContentSerdes.JSON_LD&&_(`WoTImpl received TD with media type '${x.type}' from ${S}`);const A=(await x.toBuffer()).toString("utf-8");try{const O=JSON.parse(A);$(O)}catch(O){T(new Error(`WoTImpl fetched invalid JSON from '${S}': ${O instanceof Error?O.message:O}`))}}).then(async x=>(await d.stop(),x)).catch(x=>{T(x)})})}static extend(S,$){const T={};for(const[d,x]of Object.entries(S))T[d]=x;for(const[d,x]of Object.entries($))Object.prototype.hasOwnProperty.call(T,d)||(T[d]=x);return T}static async parseInteractionOutput(S){try{return await S.value()}catch{throw m("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}static createExposeThingInitSchema(S){const $=wl.structuredClone(S);if($.required!==void 0){const T=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray($.required)){const d=$.required;$.required=d.filter(x=>!T.includes(x))}else typeof $.required=="string"&&T.indexOf($.required)!==-1&&delete $.required}if($.definitions!=null)for(const[T,d]of Object.entries($.definitions)??[])$.definitions[T]=this.createExposeThingInitSchema(d);return $}static validateExposedThingInit(S){var d;if(S["@type"]==="tm:ThingModel"||s.ThingModelHelpers.isThingModel(S)===!0)return{valid:!1,errors:"ThingModel declaration is not supported"};const $=wl.tsSchemaValidator(S);let T;return $||(T=(d=wl.tsSchemaValidator.errors)==null?void 0:d.map(x=>x.message).join(`
`)),{valid:$,errors:T}}static parseInteractionOptions(S,$,T){if(!this.validateInteractionOptions(S,$,T))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${$.title}' Thing Interaction nor '${S.title}' Thing`);const d=$.uriVariables??{},x=S.uriVariables??{},A={};T!=null&&T.uriVariables?Object.entries(T.uriVariables).forEach(C=>{(C[0]in d||C[0]in x)&&(A[C[0]]=C[1])}):T={uriVariables:{}};for(const[O,C]of Object.entries(x))!(O in A)&&"default"in C&&(A[O]=C.default);return T.uriVariables=A,T}static validateInteractionOptions(S,$,T){const d=$.uriVariables??{},x=S.uriVariables??{};if(T!=null&&T.uriVariables){const A=Object.entries(T.uriVariables);for(let O=0;O<A.length;O++){const C=A[O];if(!(C[0]in d)&&!(C[0]in x))return!1}}return!0}static parseUrlParameters(S,$={},T={}){const d={};if(S==null||T==null&&$==null)return d;const x=S.split("?")[1];return x==null||(x.indexOf("&")!==-1?x.split("&"):[x]).forEach(O=>{const C=O.split("="),F=decodeURIComponent(C[0]),V=decodeURIComponent(C.length>1?C[1]:"");T!=null&&T[F]!=null?T[F].type==="integer"||T[F].type==="number"?d[F]=+V:d[F]=V:$!=null&&$[F]!=null&&($[F].type==="integer"||$[F].type==="number"?d[F]=+V:d[F]=V)}),d}static updateInteractionNameWithUriVariablePattern(S,$={},T={}){const d=encodeURIComponent(S),x=[...Object.keys($),...Object.keys(T)];if(x.length===0)return d;const A=x.map(encodeURIComponent).join(",");return d+"{?"+A+"}"}};E.tsSchemaValidator=p.compile(E.createExposeThingInitSchema(v)),E.staticAddress=void 0,e.default=E}}),Mie=Ne({"../core/dist/errors.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.DataSchemaError=e.NotSupportedError=e.NotReadableError=void 0;var t=class _V extends Error{constructor(o){super(o),Object.setPrototypeOf(this,_V.prototype)}};e.NotReadableError=t;var r=class EV extends Error{constructor(o){super(o),Object.setPrototypeOf(this,EV.prototype)}};e.NotSupportedError=r;var n=class extends Error{constructor(i,o){super(i),this.value=o,Object.setPrototypeOf(this,r.prototype)}};e.DataSchemaError=n}}),SV=Ne({"../core/dist/interaction-output.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(T,d,x,A){A===void 0&&(A=x);var O=Object.getOwnPropertyDescriptor(d,x);(!O||("get"in O?!d.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return d[x]}}),Object.defineProperty(T,A,O)}:function(T,d,x,A){A===void 0&&(A=x),T[A]=d[x]}),r=e&&e.__setModuleDefault||(Object.create?function(T,d){Object.defineProperty(T,"default",{enumerable:!0,value:d})}:function(T,d){T.default=d}),n=e&&e.__importStar||function(){var T=function(d){return T=Object.getOwnPropertyNames||function(x){var A=[];for(var O in x)Object.prototype.hasOwnProperty.call(x,O)&&(A[A.length]=O);return A},T(d)};return function(d){if(d&&d.__esModule)return d;var x={};if(d!=null)for(var A=T(d),O=0;O<A.length;O++)A[O]!=="default"&&t(x,d,A[O]);return r(x,d),x}}(),i=e&&e.__classPrivateFieldGet||function(T,d,x,A){if(x==="a"&&!A)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?T!==d||!A:!d.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return x==="m"?A:x==="a"?A.call(T):A?A.value:d.get(T)},o=e&&e.__classPrivateFieldSet||function(T,d,x,A,O){if(A==="m")throw new TypeError("Private method is not writable");if(A==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?T!==d||!O:!d.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return A==="a"?O.call(T,x):O?O.value=x:d.set(T,x),x},s=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}},a,l,u,f;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOutput=void 0;var c=n((hE(),Or(dE))),h=ul(),g=Do(),m=Mie(),_=s(pV()),v=s(bV()),p=ko(),{debug:E,warn:y}=(0,p.createLoggers)("core","interaction-output"),S=new _.default({strict:!1,addUsedSchema:!1});(0,v.default)(S);var $=class{get data(){if(i(this,f,"f"))return i(this,f,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,o(this,f,g.ProtocolHelpers.toWoTStream(i(this,a,"f").body),"f")}constructor(T,d,x,A={ignoreValidation:!1}){a.set(this,void 0),l.set(this,void 0),u.set(this,void 0),f.set(this,void 0),o(this,a,T,"f"),this.form=d,this.schema=x,this.ignoreValidation=A.ignoreValidation??!1,this.dataUsed=!1}async arrayBuffer(){if(i(this,u,"f"))return i(this,u,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const T=await i(this,a,"f").toBuffer();return this.dataUsed=!0,o(this,u,T,"f"),T}async value(){if(this.schema==null){y("No schema defined. Hence undefined is reported for value() function. If you are invoking an action with no output that is on purpose, otherwise consider using arrayBuffer().");return}if(i(this,l,"f")!==void 0)return i(this,l,"f");if(this.dataUsed)throw new m.NotReadableError("Can't read the stream once it has been already used");if(this.form==null)throw new m.NotReadableError("No form defined");if(this.schema.const==null&&this.schema.enum==null&&this.schema.oneOf==null&&this.schema.type==null)throw new m.NotReadableError("No schema type defined");if(!h.ContentSerdes.get().isSupported(i(this,a,"f").type)){const A=`Content type ${i(this,a,"f").type} not supported`;throw new m.NotSupportedError(A)}const T=await i(this,a,"f").toBuffer();this.dataUsed=!0,o(this,u,T,"f");const d=h.ContentSerdes.get().contentToValue({type:i(this,a,"f").type,body:T},this.schema),x=S.compile(this.schema);if(!this.ignoreValidation&&!x(d))throw E(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),E(`value: ${d}`),E(`Error: ${x.errors}`),new m.DataSchemaError("Invalid value according to DataSchema",d);return o(this,l,d,"f"),d}};e.InteractionOutput=$,a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap}}),Lie=Ne({"../core/dist/protocol-listener-registry.js"(e){Te();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(ul()),n=class $V{constructor(){this.listeners=new Map}register(o,s,a){if(o.forms[s]==null)throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let l=this.listeners.get(o);l||(l=new Map,this.listeners.set(o,l));let u=l.get(s);u||(u=[],l.set(s,u)),u.push(a)}unregister(o,s,a){const l=this.listeners.get(o);if(!l)throw new Error("Not found");const u=l.get(s);if(!u)throw new Error("Form not found");const f=u.indexOf(a);if(f<0)throw new Error("Form not found");u.splice(f,1)}unregisterAll(){this.listeners.clear()}notify(o,s,a,l){const u=this.listeners.get(o)??$V.EMPTY_MAP;if(l!==void 0){const f=u.get(l);if(f){const c=o.forms[l].contentType,h=r.default.valueToContent(s,a,c);f.forEach(g=>g(h));return}}for(const[f,c]of u){const h=o.forms[f].contentType,g=r.default.valueToContent(s,a,h);c.forEach(m=>m(g))}}};n.EMPTY_MAP=new Map,e.default=n}}),TV=Ne({"../core/dist/exposed-thing.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(O,C,F,V){V===void 0&&(V=F);var X=Object.getOwnPropertyDescriptor(C,F);(!X||("get"in X?!C.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return C[F]}}),Object.defineProperty(O,V,X)}:function(O,C,F,V){V===void 0&&(V=F),O[V]=C[F]}),r=e&&e.__setModuleDefault||(Object.create?function(O,C){Object.defineProperty(O,"default",{enumerable:!0,value:C})}:function(O,C){O.default=C}),n=e&&e.__importStar||function(){var O=function(C){return O=Object.getOwnPropertyNames||function(F){var V=[];for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(V[V.length]=X);return V},O(C)};return function(C){if(C&&C.__esModule)return C;var F={};if(C!=null)for(var V=O(C),X=0;X<V.length;X++)V[X]!=="default"&&t(F,C,V[X]);return r(F,C),F}}(),i=e&&e.__classPrivateFieldSet||function(O,C,F,V,X){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?O!==C||!X:!C.has(O))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?X.call(O,F):X?X.value=F:C.set(O,F),F},o=e&&e.__classPrivateFieldGet||function(O,C,F,V){if(F==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?O!==C||!V:!C.has(O))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?V:F==="a"?V.call(O):V?V.value:C.get(O)},s=e&&e.__importDefault||function(O){return O&&O.__esModule?O:{default:O}},a,l,u,f,c,h;Object.defineProperty(e,"__esModule",{value:!0});var g=n(Ng()),m=cR(),_=s(Lg()),v=SV(),p=(zs(),Or(os)),E=s(kR()),y=jR(),S=Do(),$=s(ul()),T=s(Lie()),d=ko(),{debug:x}=(0,d.createLoggers)("core","exposed-thing"),A=class extends g.Thing{constructor(O,C={}){super(),a.set(this,new Map),l.set(this,new Map),u.set(this,new Map),f.set(this,new T.default),c.set(this,new T.default),h.set(this,void 0),i(this,h,O,"f"),this.id=C.id??"",this.title=C.title??"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const F=_.default.structuredClone(C);Object.assign(this,F),(0,m.setContextLanguage)(this,g.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse((0,m.serializeTD)(this))}emitEvent(O,C){if(this.events[O]!=null){const F=this.events[O];o(this,c,"f").notify(F,C,F.data)}else throw new Error("NotFoundError for event '"+O+"'")}async emitPropertyChange(O){var C;if(this.properties[O]!=null){const F=this.properties[O],V=(C=o(this,a,"f").get(O))==null?void 0:C.readHandler;if(!V)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const X=await V();o(this,f,"f").notify(F,X,F)}else throw new Error("NotFoundError for property '"+O+"'")}expose(){return x(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise((O,C)=>{o(this,h,"f").expose(this).then(()=>{O()}).catch(F=>C(F))})}async destroy(){x(`ExposedThing '${this.title}' destroying the thing and its interactions`),await o(this,h,"f").destroyThing(this.id),o(this,c,"f").unregisterAll(),o(this,f,"f").unregisterAll(),o(this,u,"f").clear(),o(this,a,"f").clear(),o(this,u,"f").clear()}setPropertyReadHandler(O,C){if(x(`ExposedThing '${this.title}' setting read handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].writeOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${O}' due to writeOnly flag`);{let F=o(this,a,"f").get(O);F?F.readHandler=C:F={readHandler:C},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyWriteHandler(O,C){if(x(`ExposedThing '${this.title}' setting write handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].readOnly===!0)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${O}' due to readOnly flag`);{let F=o(this,a,"f").get(O);F?F.writeHandler=C:F={writeHandler:C},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyObserveHandler(O,C){if(x(`ExposedThing '${this.title}' setting property observe handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${O}' since the observable flag is set to false`);{let F=o(this,a,"f").get(O);F?F.observeHandler=C:F={observeHandler:C},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setPropertyUnobserveHandler(O,C){if(x(`ExposedThing '${this.title}' setting property unobserve handler for '${O}'`),this.properties[O]!=null){if(this.properties[O].observable!==!0)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${O}' due to missing observable flag`);{let F=o(this,a,"f").get(O);F?F.unobserveHandler=C:F={unobserveHandler:C},o(this,a,"f").set(O,F)}}else throw new Error(`ExposedThing '${this.title}' has no Property '${O}'`);return this}setActionHandler(O,C){if(x(`ExposedThing '${this.title}' setting action handler for '${O}'`),this.actions[O]!=null)o(this,l,"f").set(O,C);else throw new Error(`ExposedThing '${this.title}' has no Action '${O}'`);return this}setEventSubscribeHandler(O,C){if(x(`ExposedThing '${this.title}' setting event subscribe handler for '${O}'`),this.events[O]!=null){let F=o(this,u,"f").get(O);F?F.subscribe=C:F={subscribe:C},o(this,u,"f").set(O,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${O}'`);return this}setEventUnsubscribeHandler(O,C){if(x(`ExposedThing '${this.title}' setting event unsubscribe handler for '${O}'`),this.events[O]!=null){let F=o(this,u,"f").get(O);F?F.unsubscribe=C:F={unsubscribe:C},o(this,u,"f").set(O,F)}else throw new Error(`ExposedThing '${this.title}' has no Event '${O}'`);return this}async handleInvokeAction(O,C,F){if(this.actions[O]!=null){x(`ExposedThing '${this.title}' has Action state of '${O}'`);const V=o(this,l,"f").get(O);if(V!=null){x(`ExposedThing '${this.title}' calls registered handler for Action '${O}'`),_.default.validateInteractionOptions(this,this.actions[O],F);const X=this.actions[O].forms[F.formIndex]??{contentType:"application/json"},H=await V(new v.InteractionOutput(C,X,this.actions[O].input),F);if(H!==void 0)return $.default.valueToContent(H,this.actions[O].output,X.contentType)}else throw new Error(`ExposedThing '${this.title}' has no handler for Action '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no action found for '${O}'`)}async handleReadProperty(O,C){var F,V;if(this.properties[O]!=null){x(`ExposedThing '${this.title}' has Action state of '${O}'`);const X=(F=o(this,a,"f").get(O))==null?void 0:F.readHandler;if(X!=null){x(`ExposedThing '${this.title}' calls registered readHandler for Property '${O}'`),_.default.validateInteractionOptions(this,this.properties[O],C);const H=await X(C),Z=((V=this.properties[O])==null?void 0:V.forms[C.formIndex])??{contentType:"application/json"};return $.default.valueToContent(H,this.properties[O],(Z==null?void 0:Z.contentType)??"application/json")}else throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}async _handleReadProperties(O,C){try{const F=new Map;for(const V of O){if(!this.properties[V].forms.find(Z=>Z.contentType===S.ContentSerdes.DEFAULT||Z.contentType==null))continue;const H=await this.handleReadProperty(V,C);F.set(V,H)}return F}catch(F){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${O}.
 Error: ${F}`)}}async handleReadAllProperties(O){const C=Object.keys(this.properties);return await this._handleReadProperties(C,O)}async handleReadMultipleProperties(O,C){return await this._handleReadProperties(O,C)}async handleWriteProperty(O,C,F){var V,X;if(this.properties[O]!=null){if(this.properties[O].readOnly===!0)throw new Error(`ExposedThing '${this.title}', property '${O}' is readOnly`);_.default.validateInteractionOptions(this,this.properties[O],F);const H=(V=o(this,a,"f").get(O))==null?void 0:V.writeHandler,Z=((X=this.properties[O])==null?void 0:X.forms[F.formIndex])??{};if(H!=null)await H(new v.InteractionOutput(C,Z,this.properties[O]),F);else throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}async handleWriteMultipleProperties(O,C){const F=[];for(const[V,X]of Object.entries(O))this.properties[V].forms.find(Z=>Z.contentType==="application/json"||Z.contentType==null)!=null&&F.push(this.handleWriteProperty(V,X,C));try{await Promise.all(F)}catch(V){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${V.message}`)}}async handleSubscribeEvent(O,C,F){var V;if(this.events[O]!=null){_.default.validateInteractionOptions(this,this.events[O],F);const X=E.default.getFormIndexForOperation(this.events[O],"event","subscribeevent",F.formIndex);if(X!==-1)o(this,c,"f").register(this.events[O],X,C),x(`ExposedThing '${this.title}' subscribes to event '${O}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(O))==null?void 0:V.subscribe;H&&await H(F),x(`ExposedThing '${this.title}' subscribes to event '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${O}'`)}handleUnsubscribeEvent(O,C,F){var V;if(this.events[O]!=null){_.default.validateInteractionOptions(this,this.events[O],F);const X=E.default.getFormIndexForOperation(this.events[O],"event","unsubscribeevent",F.formIndex);if(X!==-1)o(this,c,"f").unregister(this.events[O],X,C);else throw new Error(`ExposedThing '${this.title}', no event listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,u,"f").get(O))==null?void 0:V.unsubscribe;H&&H(F),x(`ExposedThing '${this.title}' unsubscribes from event '${O}'`)}else throw new Error(`ExposedThing '${this.title}', no event found for '${O}'`)}async handleObserveProperty(O,C,F){var V;if(this.properties[O]!=null){_.default.validateInteractionOptions(this,this.properties[O],F);const X=E.default.getFormIndexForOperation(this.properties[O],"property","observeproperty",F.formIndex);if(X!==-1)o(this,f,"f").register(this.properties[O],X,C),x(`ExposedThing '${this.title}' subscribes to property '${O}'`);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,a,"f").get(O))==null?void 0:V.observeHandler;H&&await H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}handleUnobserveProperty(O,C,F){var V;if(this.properties[O]!=null){_.default.validateInteractionOptions(this,this.properties[O],F);const X=E.default.getFormIndexForOperation(this.properties[O],"property","unobserveproperty",F.formIndex);if(X!==-1)o(this,f,"f").unregister(this.properties[O],X,C);else throw new Error(`ExposedThing '${this.title}', no property listener from found for '${O}' with form index '${F.formIndex}'`);const H=(V=o(this,a,"f").get(O))==null?void 0:V.unobserveHandler;H&&H(F)}else throw new Error(`ExposedThing '${this.title}', no property found for '${O}'`)}static interactionInputToReadable(O){let C;return typeof ReadableStream<"u"&&O instanceof ReadableStream||O instanceof y.ReadableStream?C=E.default.toNodeStream(O):Array.isArray(O)||typeof O=="object"?C=p.Readable.from(Yr.from(JSON.stringify(O),"utf-8")):C=p.Readable.from(Yr.from(O.toString(),"utf-8")),C}};a=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakMap,c=new WeakMap,h=new WeakMap,e.default=A}}),Fie=Ne({"../../node_modules/content-type/index.js"(e){Te();var t=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,i=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;e.format=a,e.parse=l;function a(h){if(!h||typeof h!="object")throw new TypeError("argument obj is required");var g=h.parameters,m=h.type;if(!m||!s.test(m))throw new TypeError("invalid type");var _=m;if(g&&typeof g=="object")for(var v,p=Object.keys(g).sort(),E=0;E<p.length;E++){if(v=p[E],!n.test(v))throw new TypeError("invalid parameter name");_+="; "+v+"="+f(g[v])}return _}function l(h){if(!h)throw new TypeError("argument string is required");var g=typeof h=="object"?u(h):h;if(typeof g!="string")throw new TypeError("argument string is required to be a string");var m=g.indexOf(";"),_=m!==-1?g.slice(0,m).trim():g.trim();if(!s.test(_))throw new TypeError("invalid media type");var v=new c(_.toLowerCase());if(m!==-1){var p,E,y;for(t.lastIndex=m;E=t.exec(g);){if(E.index!==m)throw new TypeError("invalid parameter format");m+=E[0].length,p=E[1].toLowerCase(),y=E[2],y.charCodeAt(0)===34&&(y=y.slice(1,-1),y.indexOf("\\")!==-1&&(y=y.replace(i,"$1"))),v.parameters[p]=y}if(m!==g.length)throw new TypeError("invalid parameter format")}return v}function u(h){var g;if(typeof h.getHeader=="function"?g=h.getHeader("content-type"):typeof h.headers=="object"&&(g=h.headers&&h.headers["content-type"]),typeof g!="string")throw new TypeError("content-type header is missing from object");return g}function f(h){var g=String(h);if(n.test(g))return g;if(g.length>0&&!r.test(g))throw new TypeError("invalid parameter value");return'"'+g.replace(o,"\\$1")+'"'}function c(h){this.parameters=Object.create(null),this.type=h}}}),Bie=Ne({"../../node_modules/uritemplate/bin/uritemplate.js"(e,t){Te(),function(r){var n=function(){function _(v){this.options=v}return _.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},_}(),i=function(){function _(x){return Object.prototype.toString.apply(x)==="[object Array]"}function v(x){return Object.prototype.toString.apply(x)==="[object String]"}function p(x){return Object.prototype.toString.apply(x)==="[object Number]"}function E(x){return Object.prototype.toString.apply(x)==="[object Boolean]"}function y(x,A){var O="",C=!0,F;for(F=0;F<x.length;F+=1)C?C=!1:O+=A,O+=x[F];return O}function S(x,A){for(var O=[],C=0;C<x.length;C+=1)O.push(A(x[C]));return O}function $(x,A){for(var O=[],C=0;C<x.length;C+=1)A(x[C])&&O.push(x[C]);return O}function T(x){if(typeof x!="object"||x===null)return x;Object.freeze(x);var A,O;for(O in x)x.hasOwnProperty(O)&&(A=x[O],typeof A=="object"&&d(A));return x}function d(x){return typeof Object.freeze=="function"?T(x):x}return{isArray:_,isString:v,isNumber:p,isBoolean:E,join:y,map:S,filter:$,deepFreeze:d}}(),o=function(){function _(E){return E>="a"&&E<="z"||E>="A"&&E<="Z"}function v(E){return E>="0"&&E<="9"}function p(E){return v(E)||E>="a"&&E<="f"||E>="A"&&E<="F"}return{isAlpha:_,isDigit:v,isHexDigit:p}}(),s=function(){var _={encode:function($){return unescape(encodeURIComponent($))},numBytes:function($){return $<=127?1:194<=$&&$<=223?2:224<=$&&$<=239?3:240<=$&&$<=244?4:0},isValidFollowingCharCode:function($){return 128<=$&&$<=191}};function v($){var T="",d=_.encode($),x,A;for(A=0;A<d.length;A+=1)x=d.charCodeAt(A),T+="%"+(x<16?"0":"")+x.toString(16).toUpperCase();return T}function p($,T){return $.charAt(T)==="%"&&o.isHexDigit($.charAt(T+1))&&o.isHexDigit($.charAt(T+2))}function E($,T){return parseInt($.substr(T,2),16)}function y($){if(!p($,0))return!1;var T=E($,1),d=_.numBytes(T);if(d===0)return!1;for(var x=1;x<d;x+=1)if(!p($,3*x)||!_.isValidFollowingCharCode(E($,3*x+1)))return!1;return!0}function S($,T){var d=$.charAt(T);if(!p($,T))return d;var x=E($,T+1),A=_.numBytes(x);if(A===0)return d;for(var O=1;O<A;O+=1)if(!p($,T+3*O)||!_.isValidFollowingCharCode(E($,T+3*O+1)))return d;return $.substr(T,3*A)}return{encodeCharacter:v,isPctEncoded:y,pctCharAt:S}}(),a=function(){function _(E){return o.isAlpha(E)||o.isDigit(E)||E==="_"||s.isPctEncoded(E)}function v(E){return o.isAlpha(E)||o.isDigit(E)||E==="-"||E==="."||E==="_"||E==="~"}function p(E){return E===":"||E==="/"||E==="?"||E==="#"||E==="["||E==="]"||E==="@"||E==="!"||E==="$"||E==="&"||E==="("||E===")"||E==="*"||E==="+"||E===","||E===";"||E==="="||E==="'"}return{isVarchar:_,isUnreserved:v,isReserved:p}}(),l=function(){function _(y,S){var $="",T,d="";for((typeof y=="number"||typeof y=="boolean")&&(y=y.toString()),T=0;T<y.length;T+=d.length)d=y.charAt(T),$+=a.isUnreserved(d)||S&&a.isReserved(d)?d:s.encodeCharacter(d);return $}function v(y){return _(y,!0)}function p(y,S){var $=s.pctCharAt(y,S);return $.length>1||a.isReserved($)||a.isUnreserved($)?$:s.encodeCharacter($)}function E(y){var S="",$,T="";for($=0;$<y.length;$+=T.length)T=s.pctCharAt(y,$),T.length>1?S+=T:S+=a.isReserved(T)||a.isUnreserved(T)?T:s.encodeCharacter(T);return S}return{encode:_,encodePassReserved:v,encodeLiteral:E,encodeLiteralCharacter:p}}(),u=function(){var _={};function v(p){_[p]={symbol:p,separator:p==="?"?"&":p===""||p==="+"||p==="#"?",":p,named:p===";"||p==="&"||p==="?",ifEmpty:p==="&"||p==="?"?"=":"",first:p==="+"?"":p,encode:p==="+"||p==="#"?l.encodePassReserved:l.encode,toString:function(){return this.symbol}}}return v(""),v("+"),v("#"),v("."),v("/"),v(";"),v("?"),v("&"),{valueOf:function(p){return _[p]?_[p]:"=,!@|".indexOf(p)>=0?null:_[""]}}}();function f(_){var v;if(_==null)return!1;if(i.isArray(_))return _.length>0;if(typeof _=="string"||typeof _=="number"||typeof _=="boolean")return!0;for(v in _)if(_.hasOwnProperty(v)&&f(_[v]))return!0;return!1}var c=function(){function _(v){this.literal=l.encodeLiteral(v)}return _.prototype.expand=function(){return this.literal},_.prototype.toString=_.prototype.expand,_}(),h=function(){function _(p){var E,y=[],S=null,$=null,T=null,d,x="";function A(){var C=p.substring($,d);if(C.length===0)throw new n({expressionText:p,message:"a varname must be specified",position:d});S={varname:C,exploded:!1,maxLength:null},$=null}function O(){if(T===d)throw new n({expressionText:p,message:"after a ':' you have to specify the length",position:d});S.maxLength=parseInt(p.substring(T,d),10),T=null}for(E=function(C){var F=u.valueOf(C);if(F===null)throw new n({expressionText:p,message:"illegal use of reserved operator",position:d,operator:C});return F}(p.charAt(0)),d=E.symbol.length,$=d;d<p.length;d+=x.length){if(x=s.pctCharAt(p,d),$!==null){if(x==="."){if($===d)throw new n({expressionText:p,message:"a varname MUST NOT start with a dot",position:d});continue}if(a.isVarchar(x))continue;A()}if(T!==null){if(d===T&&x==="0")throw new n({expressionText:p,message:"A :prefix must not start with digit 0",position:d});if(o.isDigit(x)){if(d-T>=4)throw new n({expressionText:p,message:"A :prefix must have max 4 digits",position:d});continue}O()}if(x===":"){if(S.maxLength!==null)throw new n({expressionText:p,message:"only one :maxLength is allowed per varspec",position:d});if(S.exploded)throw new n({expressionText:p,message:"an exploeded varspec MUST NOT be varspeced",position:d});T=d+1;continue}if(x==="*"){if(S===null)throw new n({expressionText:p,message:"exploded without varspec",position:d});if(S.exploded)throw new n({expressionText:p,message:"exploded twice",position:d});if(S.maxLength)throw new n({expressionText:p,message:"an explode (*) MUST NOT follow to a prefix",position:d});S.exploded=!0;continue}if(x===","){y.push(S),S=null,$=d+1;continue}throw new n({expressionText:p,message:"illegal character",character:x,position:d})}return $!==null&&A(),T!==null&&O(),y.push(S),new g(p,E,y)}function v(p){var E,y,S=[],$=null,T=0;for(E=0;E<p.length;E+=1){if(y=p.charAt(E),T!==null){if(y==="}")throw new n({templateText:p,message:"unopened brace closed",position:E});y==="{"&&(T<E&&S.push(new c(p.substring(T,E))),T=null,$=E);continue}if($!==null){if(y==="{")throw new n({templateText:p,message:"brace already opened",position:E});if(y==="}"){if($+1===E)throw new n({templateText:p,message:"empty braces",position:$});try{S.push(_(p.substring($+1,E)))}catch(d){throw d.prototype===n.prototype?new n({templateText:p,message:d.options.message,position:$+d.options.position,details:d.options}):d}$=null,T=E+1}continue}throw new Error("reached unreachable code")}if($!==null)throw new n({templateText:p,message:"unclosed brace",position:$});return T<p.length&&S.push(new c(p.substr(T))),new m(p,S)}return v}(),g=function(){function _(x){return JSON&&JSON.stringify?JSON.stringify(x):x}function v(x){if(!f(x))return!0;if(i.isString(x))return x==="";if(i.isNumber(x)||i.isBoolean(x))return!1;if(i.isArray(x))return x.length===0;for(var A in x)if(x.hasOwnProperty(A))return!1;return!0}function p(x){var A=[],O;for(O in x)x.hasOwnProperty(O)&&A.push({name:O,value:x[O]});return A}function E(x,A,O){this.templateText=x,this.operator=A,this.varspecs=O}E.prototype.toString=function(){return this.templateText};function y(x,A,O){var C="";if(O=O.toString(),A.named){if(C+=l.encodeLiteral(x.varname),O==="")return C+=A.ifEmpty,C;C+="="}return x.maxLength!==null&&(O=O.substr(0,x.maxLength)),C+=A.encode(O),C}function S(x){return f(x.value)}function $(x,A,O){var C=[],F="";if(A.named){if(F+=l.encodeLiteral(x.varname),v(O))return F+=A.ifEmpty,F;F+="="}return i.isArray(O)?(C=O,C=i.filter(C,f),C=i.map(C,A.encode),F+=i.join(C,",")):(C=p(O),C=i.filter(C,S),C=i.map(C,function(V){return A.encode(V.name)+","+A.encode(V.value)}),F+=i.join(C,",")),F}function T(x,A,O){var C=i.isArray(O),F=[];return C?(F=O,F=i.filter(F,f),F=i.map(F,function(V){var X=l.encodeLiteral(x.varname);return v(V)?X+=A.ifEmpty:X+="="+A.encode(V),X})):(F=p(O),F=i.filter(F,S),F=i.map(F,function(V){var X=l.encodeLiteral(V.name);return v(V.value)?X+=A.ifEmpty:X+="="+A.encode(V.value),X})),i.join(F,A.separator)}function d(x,A){var O=[],C="";return i.isArray(A)?(O=A,O=i.filter(O,f),O=i.map(O,x.encode),C+=i.join(O,x.separator)):(O=p(A),O=i.filter(O,function(F){return f(F.value)}),O=i.map(O,function(F){return x.encode(F.name)+"="+x.encode(F.value)}),C+=i.join(O,x.separator)),C}return E.prototype.expand=function(x){var A=[],O,C,F,V=this.operator;for(O=0;O<this.varspecs.length;O+=1)if(C=this.varspecs[O],F=x[C.varname],F!=null)if(C.exploded,i.isArray(F),typeof F=="string"||typeof F=="number"||typeof F=="boolean")A.push(y(C,V,F));else{if(C.maxLength&&f(F))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+_(F));C.exploded?f(F)&&(V.named?A.push(T(C,V,F)):A.push(d(V,F))):(V.named||!v(F))&&A.push($(C,V,F))}return A.length===0?"":V.first+i.join(A,V.separator)},E}(),m=function(){function _(v,p){this.templateText=v,this.expressions=p,i.deepFreeze(this)}return _.prototype.toString=function(){return this.templateText},_.prototype.expand=function(v){var p,E="";for(p=0;p<this.expressions.length;p+=1)E+=this.expressions[p].expand(v);return E},_.parse=h,_.UriTemplateError=n,_}();r(m)}(function(r){typeof t<"u"?t.exports=r:typeof define=="function"?define([],function(){return r}):typeof window<"u"?window.UriTemplate=r:global.UriTemplate=r})}}),xV=Ne({"../core/dist/consumed-thing.js"(e){Te();var t=e&&e.__classPrivateFieldSet||function(H,Z,fe,ee,ne){if(ee==="m")throw new TypeError("Private method is not writable");if(ee==="a"&&!ne)throw new TypeError("Private accessor was defined without a setter");if(typeof Z=="function"?H!==Z||!ne:!Z.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ee==="a"?ne.call(H,fe):ne?ne.value=fe:Z.set(H,fe),fe},r=e&&e.__classPrivateFieldGet||function(H,Z,fe,ee){if(fe==="a"&&!ee)throw new TypeError("Private accessor was defined without a getter");if(typeof Z=="function"?H!==Z||!ee:!Z.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return fe==="m"?ee:fe==="a"?ee.call(H):ee?ee.value:Z.get(H)},n=e&&e.__importDefault||function(H){return H&&H.__esModule?H:{default:H}},i,o,s,a,l,u,f,c;Object.defineProperty(e,"__esModule",{value:!0});var h=Ng(),g=n(Lg()),m=n(Fie()),_=n(ul()),v=Bie(),p=SV(),E=ko(),{debug:y,warn:S}=(0,E.createLoggers)("core","consumed-thing"),$;(function(H){H[H.PropertyAffordance=0]="PropertyAffordance",H[H.ActionAffordance=1]="ActionAffordance",H[H.EventAffordance=2]="EventAffordance"})($||($={}));var T=class extends h.ThingProperty{constructor(H,Z){super(),i.set(this,void 0),o.set(this,void 0),t(this,i,H,"f"),t(this,o,Z,"f")}};i=new WeakMap,o=new WeakMap;var d=class extends h.ThingAction{constructor(H,Z){super(),s.set(this,void 0),a.set(this,void 0),t(this,s,H,"f"),t(this,a,Z,"f")}};s=new WeakMap,a=new WeakMap;var x=class extends h.ThingEvent{constructor(H,Z){super(),l.set(this,void 0),u.set(this,void 0),t(this,l,H,"f"),t(this,u,Z,"f")}};l=new WeakMap,u=new WeakMap;var A=class{constructor(H,Z,fe){this.thing=H,this.name=Z,this.client=fe,this.active=!0}};function O(H,Z,fe,ee){const ne=v.parse(fe.href),k=g.default.parseInteractionOptions(H,Z,ee).uriVariables,B=ne.expand(k??{});if(B!==fe.href){const W={...fe};W.href=B,fe=W,y(`ConsumedThing '${H.title}' update form URI to ${fe.href}`)}return fe}var C=class extends A{constructor(H,Z,fe,ee){var k;super(H,Z,fe),this.form=ee,this.active=!1;const ne=(k=this.thing.properties)==null?void 0:k[Z].forms.indexOf(ee);if(ne===void 0||ne<0)throw new Error(`Could not find form ${ee.href} in property ${Z}`);this.formIndex=ne}async stop(H){await this.unobserveProperty(H),this.thing.observedProperties.delete(this.name)}async unobserveProperty(H={}){const Z=this.thing.properties[this.name];if(Z==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(Z.forms,"unobserveproperty",$.PropertyAffordance,H);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const ee=O(this.thing,Z,fe,H);y(`ConsumedThing '${this.thing.title}' unobserving to ${fe.href}`),await this.client.unlinkResource(ee),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(H.op)&&H.op.includes("unobserveproperty"))return this.formIndex;const Z=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(Z===-1)throw new Error("Could not find matching form for unsubscribe");return Z}findFormIndexWithScoring(H,Z,fe){var B;const ee=Z[H];let ne=0,k=-1;for(let W=0;W<Z.length;W++){let P=0;const R=Z[W];(R.op===fe||((B=R==null?void 0:R.op)==null?void 0:B.includes(fe))===!0&&Array.isArray(R.op)===!0)&&(P+=1),new URL(R.href).origin===new URL(ee.href).origin&&(P+=1),R.contentType===ee.contentType&&(P+=1),P>ne&&(ne=P,k=W)}return k}};function F(H,Z,fe){var B;const ee=Z[H];let ne=0,k=-1;for(let W=0;W<Z.length;W++){let P=0;const R=Z[W];(R.op===fe||((B=R==null?void 0:R.op)==null?void 0:B.includes(fe))===!0&&Array.isArray(R.op)===!0)&&(P+=1),new URL(R.href).origin===new URL(ee.href).origin&&(P+=1),R.contentType===ee.contentType&&(P+=1),P>ne&&(ne=P,k=W)}return k}var V=class extends A{constructor(H,Z,fe,ee){var k;super(H,Z,fe),this.form=ee;const ne=(k=this.thing.events)==null?void 0:k[Z].forms.indexOf(ee);if(ne===void 0||ne<0)throw new Error(`Could not find form ${ee.href} in event ${Z}`);this.formIndex=ne}async stop(H){await this.unsubscribeEvent(H),this.thing.subscribedEvents.delete(this.name)}async unsubscribeEvent(H={}){const Z=this.thing.events[this.name];if(Z==null)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);H.formIndex??(H.formIndex=this.matchingUnsubscribeForm());const{form:fe}=this.thing.getClientFor(Z.forms,"unsubscribeevent",$.EventAffordance,H);if(fe==null)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const ee=O(this.thing,Z,fe,H);y(`ConsumedThing '${this.thing.title}' unsubscribing to ${fe.href}`),this.client.unlinkResource(ee),this.active=!1}matchingUnsubscribeForm(){const H=this.thing.events[this.name].forms[this.formIndex];if(H.op==null||Array.isArray(H.op)&&H.op.includes("unsubscribeevent"))return this.formIndex;const Z=F(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(Z===-1)throw new Error("Could not find matching form for unsubscribe");return Z}},X=class extends h.Thing{constructor(H,Z){super(),f.set(this,void 0),c.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,t(this,f,H,"f"),t(this,c,new Map,"f"),this.properties={},this.actions={},this.events={};const fe=g.default.structuredClone(Z??{});Object.assign(this,fe),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(H,Z){S("not implemented")}extendInteractions(){for(const[H,Z]of Object.entries(this.properties)){const fe=g.default.extend(Z,new T(H,this));this.properties[H]=fe}for(const[H,Z]of Object.entries(this.actions)){const fe=g.default.extend(Z,new d(H,this));this.actions[H]=fe}for(const[H,Z]of Object.entries(this.events)){const fe=g.default.extend(Z,new x(H,this));this.events[H]=fe}}findForm(H,Z,fe,ee,ne){let k;for(const B of H){let W="";if(B.op!==void 0)W=B.op;else switch(fe){case $.PropertyAffordance:W=["readproperty","writeproperty"];break;case $.ActionAffordance:W="invokeaction";break;case $.EventAffordance:W="subscribeevent";break}if(W.indexOf(Z)!==-1&&B.href.indexOf(ee[ne]+":")!==-1){k=B;break}}return k}getSecuritySchemes(H){const Z=[];for(const fe of H){const ee=this.securityDefinitions[fe+""];ee!=null&&Z.push(ee)}return Z}ensureClientSecurity(H,Z){if(this.securityDefinitions!=null){const fe=()=>y(`ConsumedThing '${this.title}' setting credentials for ${H} based on thing security`);Z!=null&&Array.isArray(Z.security)&&Z.security.length>0?(fe(),H.setSecurity(this.getSecuritySchemes(Z.security),r(this,f,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(fe(),H.setSecurity(this.getSecuritySchemes(this.security),r(this,f,"f").getCredentials(this.id)))}}getClientFor(H,Z,fe,ee){if(H.length===0)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let ne,k;if((ee==null?void 0:ee.formIndex)!==void 0)if(y(`ConsumedThing '${this.title}' asked to use formIndex '${ee.formIndex}'`),ee.formIndex>=0&&ee.formIndex<H.length){ne=H[ee.formIndex];const B=g.default.extractScheme(ne.href);if(r(this,f,"f").hasClientFor(B))y(`ConsumedThing '${this.title}' got client for '${B}'`),k=r(this,f,"f").getClientFor(B),r(this,c,"f").get(B)||(this.ensureClientSecurity(k,ne),r(this,c,"f").set(B,k));else throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`)}else throw new Error(`ConsumedThing '${this.title}' missing formIndex '${ee.formIndex}'`);else{const B=H.map(P=>g.default.extractScheme(P.href)),W=B.findIndex(P=>r(this,c,"f").has(P));if(W!==-1)y(`ConsumedThing '${this.title}' chose cached client for '${B[W]}'`),k=r(this,c,"f").get(B[W]),ne=this.findForm(H,Z,fe,B,W);else{y(`ConsumedThing '${this.title}' has no client in cache (${W})`);const P=B.findIndex(R=>r(this,f,"f").hasClientFor(R));if(P===-1)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${B}'`);k=r(this,f,"f").getClientFor(B[P]),y(`ConsumedThing '${this.title}' got new client for '${B[P]}'`),r(this,c,"f").set(B[P],k),ne=this.findForm(H,Z,fe,B,P),this.ensureClientSecurity(k,ne)}}return{client:k,form:ne}}async readProperty(H,Z){const fe=this.properties[H];if(fe==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:ee,form:ne}=this.getClientFor(fe.forms,"readproperty",$.PropertyAffordance,Z);if(ne==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ee==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${ne.href}`);y(`ConsumedThing '${this.title}' reading ${ne.href}`),ne=this.handleUriVariables(fe,ne,Z);const k=await ee.readResource(ne);try{return this.handleInteractionOutput(k,ne,fe,!1)}catch(B){const W=B instanceof Error?B:new Error(JSON.stringify(B));throw new Error(`Error while processing property for ${fe.title}. ${W.message}`)}}handleInteractionOutput(H,Z,fe,ee){if(H.type??(H.type=Z.contentType??"application/json"),Z.response!=null){const ne=m.default.parse(H.type),k=m.default.parse(Z.response.contentType);if(ne.type!==k.type)throw new Error(`Unexpected type '${H.type}' in response. Should be '${Z.response.contentType}'`)}return new p.InteractionOutput(H,Z,fe,{ignoreValidation:ee})}async _readProperties(H){const Z=[];for(const ee of H)Z.push(this.readProperty(ee));const fe=new Map;try{const ee=await Promise.all(Z);let ne=0;for(const k of H)fe.set(k,ee[ne]),ne++;return fe}catch(ee){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${H}.
 Error: ${ee}`)}}readAllProperties(H){const Z=[];for(const[fe,ee]of Object.entries(this.properties)){const{form:ne}=this.getClientFor(ee.forms,"readproperty",$.PropertyAffordance,H);ne!=null&&Z.push(fe)}return this._readProperties(Z)}readMultipleProperties(H,Z){return this._readProperties(H)}async writeProperty(H,Z,fe){const ee=this.properties[H];if(ee==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);let{client:ne,form:k}=this.getClientFor(ee.forms,"writeproperty",$.PropertyAffordance,fe);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ne==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${k.href}`);y(`ConsumedThing '${this.title}' writing ${k.href} with '${Z}'`);const B=_.default.valueToContent(Z,ee,k.contentType);k=this.handleUriVariables(ee,k,fe),await ne.writeResource(k,B)}async writeMultipleProperties(H,Z){const fe=[];for(const[ee,ne]of H.entries())fe.push(this.writeProperty(ee,ne));try{await Promise.all(fe)}catch(ee){throw new Error(`ConsumedThing '${this.title}', failed to write multiple properties: ${H}
 Error: ${ee}`)}}async invokeAction(H,Z,fe){const ee=this.actions[H];if(ee==null)throw new Error(`ConsumedThing '${this.title}' does not have action ${H}`);let{client:ne,form:k}=this.getClientFor(ee.forms,"invokeaction",$.ActionAffordance,fe);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(ne==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${k.href}`);y(`ConsumedThing '${this.title}' invoking ${k.href}${Z!==void 0?" with '"+Z+"'":""}`);let B;Z!==void 0&&(B=_.default.valueToContent(Z,ee.input,k.contentType)),k=this.handleUriVariables(ee,k,fe);const W=await ne.invokeResource(k,B);try{const P=ee.synchronous===void 0?!0:!ee.synchronous;return this.handleInteractionOutput(W,k,ee.output,P)}catch(P){const R=P instanceof Error?P:new Error(JSON.stringify(P));throw new Error(`Error while processing action for ${ee.title}. ${R.message}`)}}async observeProperty(H,Z,fe,ee){const ne=this.properties[H];if(ne==null)throw new Error(`ConsumedThing '${this.title}' does not have property ${H}`);const{client:k,form:B}=this.getClientFor(ne.forms,"observeproperty",$.PropertyAffordance,ee);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.observedProperties.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only observe once`);y(`ConsumedThing '${this.title}' observing to ${B.href}`);const W=this.handleUriVariables(ne,B,ee);await k.subscribeResource(W,R=>{try{Z(this.handleInteractionOutput(R,B,ne,!1))}catch(z){const oe=z instanceof Error?z:new Error(JSON.stringify(z));S(`Error while processing observe property for ${ne.title}. ${oe.message}`),S(z)}},R=>{fe==null||fe(R)},()=>{});const P=new C(this,H,k,B);return this.observedProperties.set(H,P),P}async subscribeEvent(H,Z,fe,ee){const ne=this.events[H];if(ne==null)throw new Error(`ConsumedThing '${this.title}' does not have event ${H}`);const{client:k,form:B}=this.getClientFor(ne.forms,"subscribeevent",$.EventAffordance,ee);if(B==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(k==null)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${B.href}`);if(this.subscribedEvents.has(H))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${H}. You can only subscribe once`);y(`ConsumedThing '${this.title}' subscribing to ${B.href}`);const W=this.handleUriVariables(ne,B,ee);await k.subscribeResource(W,R=>{try{Z(this.handleInteractionOutput(R,B,ne.data,!1))}catch(z){const oe=z instanceof Error?z:new Error(JSON.stringify(z));S(`Error while processing event for ${ne.title}. ${oe.message}`),S(z)}},R=>{fe==null||fe(R)},()=>{});const P=new V(this,H,k,B);return this.subscribedEvents.set(H,P),P}handleUriVariables(H,Z,fe){return O(this,H,Z,fe)}};f=new WeakMap,c=new WeakMap,e.default=X}}),Uie=Ne({"../core/dist/validation.js"(e){Te();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.isThingDescription=n,e.getLastValidationErrors=i;var r=t(Lg());function n(o){return r.default.tsSchemaValidator(o)}function i(){var s;const o=(s=r.default.tsSchemaValidator.errors)==null?void 0:s.map(a=>a.message).join(`
`);return new Error(o)}}}),zie=Ne({"../core/dist/wot-impl.js"(e){Te();var t=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataType=void 0;var r=cR(),n=t(TV()),i=t(xV()),o=t(Lg()),s=ko(),a=t(ul()),l=Uie(),u=(hE(),Or(dE)),{debug:f}=(0,s.createLoggers)("core","wot-impl"),c=class{constructor(m,_){this.directory=m,this.filter=_,this.filter=_,this.done=!1}async stop(){this.done=!0}async*[Symbol.asyncIterator](){let m;try{m=await(await this.directory.readProperty("things")).value()}catch(_){this.error=_ instanceof Error?_:new Error((0,u.inspect)(_)),this.done=!0;return}for(const _ of m){if(this.done)return;if(!(0,l.isThingDescription)(_)){this.error=(0,l.getLastValidationErrors)();continue}yield _}this.done=!0}},h=class{constructor(m){this.srv=m}async discover(m){throw new Error("not implemented")}async exploreDirectory(m,_){const v=await this.requestThingDescription(m),p=await this.consume(v);return new c(p,_)}async requestThingDescription(m){const _=o.default.extractScheme(m),p=await this.srv.getClientFor(_).requestThingDescription(m),E=a.default.contentToValue({type:p.type,body:await p.toBuffer()},{});if((0,l.isThingDescription)(E))return E;throw(0,l.getLastValidationErrors)()}async consume(m){try{const _=(0,r.parseTD)(JSON.stringify(m),!0),v=new i.default(this.srv,_);return f(`WoTImpl consuming TD ${v.id!=null?`'${v.id}'`:"without id"} to instantiate ConsumedThing '${v.title}'`),v}catch(_){throw new Error(`Cannot consume TD because ${_ instanceof Error?_.message:_}`)}}produce(m){return new Promise((_,v)=>{try{const p=o.default.validateExposedThingInit(m);if(!p.valid)throw new Error(`Thing Description JSON schema validation failed:
`+p.errors);const E=new n.default(this.srv,m);if(f(`WoTImpl producing new ExposedThing '${E.title}'`),this.srv.addThing(E))_(E);else throw new Error("Thing already exists: "+E.title)}catch(p){v(new Error(`Cannot produce ExposedThing because " + ${p instanceof Error?p.message:p}`))}})}};e.default=h;var g;(function(m){m.boolean="boolean",m.number="number",m.integer="integer",m.string="string",m.object="object",m.array="array",m.null="null"})(g||(e.DataType=g={}))}}),AV=Ne({"../../node_modules/uuid/dist/rng-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),n=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)}t.exports=e.default}}),VR=Ne({"../../node_modules/uuid/dist/bytesToUuid.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=[];for(n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);var n;function i(s,a){var l=a||0,u=r;return[u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],"-",u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]],u[s[l++]]].join("")}var o=i;e.default=o,t.exports=e.default}}),qie=Ne({"../../node_modules/uuid/dist/v1.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(AV()),n=i(VR());function i(c){return c&&c.__esModule?c:{default:c}}var o,s,a=0,l=0;function u(c,h,g){var m=h&&g||0,_=h||[];c=c||{};var v=c.node||o,p=c.clockseq!==void 0?c.clockseq:s;if(v==null||p==null){var E=c.random||(c.rng||r.default)();v==null&&(v=o=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),p==null&&(p=s=(E[6]<<8|E[7])&16383)}var y=c.msecs!==void 0?c.msecs:new Date().getTime(),S=c.nsecs!==void 0?c.nsecs:l+1,$=y-a+(S-l)/1e4;if($<0&&c.clockseq===void 0&&(p=p+1&16383),($<0||y>a)&&c.nsecs===void 0&&(S=0),S>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=y,l=S,s=p,y+=122192928e5;var T=((y&268435455)*1e4+S)%4294967296;_[m++]=T>>>24&255,_[m++]=T>>>16&255,_[m++]=T>>>8&255,_[m++]=T&255;var d=y/4294967296*1e4&268435455;_[m++]=d>>>8&255,_[m++]=d&255,_[m++]=d>>>24&15|16,_[m++]=d>>>16&255,_[m++]=p>>>8|128,_[m++]=p&255;for(var x=0;x<6;++x)_[m+x]=v[x];return h||(0,n.default)(_)}var f=u;e.default=f,t.exports=e.default}}),OV=Ne({"../../node_modules/uuid/dist/v35.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,e.URL=e.DNS=void 0;var t=r(VR());function r(l){return l&&l.__esModule?l:{default:l}}function n(l){var u=[];return l.replace(/[a-fA-F0-9]{2}/g,function(f){u.push(parseInt(f,16))}),u}function i(l){l=unescape(encodeURIComponent(l));for(var u=new Array(l.length),f=0;f<l.length;f++)u[f]=l.charCodeAt(f);return u}var o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";e.DNS=o;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";e.URL=s;function a(l,u,f){var c=function(h,g,m,_){var v=m&&_||0;if(typeof h=="string"&&(h=i(h)),typeof g=="string"&&(g=n(g)),!Array.isArray(h))throw TypeError("value must be an array of bytes");if(!Array.isArray(g)||g.length!==16)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var p=f(g.concat(h));if(p[6]=p[6]&15|u,p[8]=p[8]&63|128,m)for(var E=0;E<16;++E)m[v+E]=p[E];return m||(0,t.default)(p)};try{c.name=l}catch{}return c.DNS=o,c.URL=s,c}}}),Vie=Ne({"../../node_modules/uuid/dist/md5-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(m){if(typeof m=="string"){var _=unescape(encodeURIComponent(m));m=new Array(_.length);for(var v=0;v<_.length;v++)m[v]=_.charCodeAt(v)}return n(i(o(m),m.length*8))}function n(m){var _,v,p=[],E=m.length*32,y="0123456789abcdef",S;for(_=0;_<E;_+=8)v=m[_>>5]>>>_%32&255,S=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16),p.push(S);return p}function i(m,_){m[_>>5]|=128<<_%32,m[(_+64>>>9<<4)+14]=_;var v,p,E,y,S,$=1732584193,T=-271733879,d=-1732584194,x=271733878;for(v=0;v<m.length;v+=16)p=$,E=T,y=d,S=x,$=u($,T,d,x,m[v],7,-680876936),x=u(x,$,T,d,m[v+1],12,-389564586),d=u(d,x,$,T,m[v+2],17,606105819),T=u(T,d,x,$,m[v+3],22,-1044525330),$=u($,T,d,x,m[v+4],7,-176418897),x=u(x,$,T,d,m[v+5],12,1200080426),d=u(d,x,$,T,m[v+6],17,-1473231341),T=u(T,d,x,$,m[v+7],22,-45705983),$=u($,T,d,x,m[v+8],7,1770035416),x=u(x,$,T,d,m[v+9],12,-1958414417),d=u(d,x,$,T,m[v+10],17,-42063),T=u(T,d,x,$,m[v+11],22,-1990404162),$=u($,T,d,x,m[v+12],7,1804603682),x=u(x,$,T,d,m[v+13],12,-40341101),d=u(d,x,$,T,m[v+14],17,-1502002290),T=u(T,d,x,$,m[v+15],22,1236535329),$=f($,T,d,x,m[v+1],5,-165796510),x=f(x,$,T,d,m[v+6],9,-1069501632),d=f(d,x,$,T,m[v+11],14,643717713),T=f(T,d,x,$,m[v],20,-373897302),$=f($,T,d,x,m[v+5],5,-701558691),x=f(x,$,T,d,m[v+10],9,38016083),d=f(d,x,$,T,m[v+15],14,-660478335),T=f(T,d,x,$,m[v+4],20,-405537848),$=f($,T,d,x,m[v+9],5,568446438),x=f(x,$,T,d,m[v+14],9,-1019803690),d=f(d,x,$,T,m[v+3],14,-187363961),T=f(T,d,x,$,m[v+8],20,1163531501),$=f($,T,d,x,m[v+13],5,-1444681467),x=f(x,$,T,d,m[v+2],9,-51403784),d=f(d,x,$,T,m[v+7],14,1735328473),T=f(T,d,x,$,m[v+12],20,-1926607734),$=c($,T,d,x,m[v+5],4,-378558),x=c(x,$,T,d,m[v+8],11,-2022574463),d=c(d,x,$,T,m[v+11],16,1839030562),T=c(T,d,x,$,m[v+14],23,-35309556),$=c($,T,d,x,m[v+1],4,-1530992060),x=c(x,$,T,d,m[v+4],11,1272893353),d=c(d,x,$,T,m[v+7],16,-155497632),T=c(T,d,x,$,m[v+10],23,-1094730640),$=c($,T,d,x,m[v+13],4,681279174),x=c(x,$,T,d,m[v],11,-358537222),d=c(d,x,$,T,m[v+3],16,-722521979),T=c(T,d,x,$,m[v+6],23,76029189),$=c($,T,d,x,m[v+9],4,-640364487),x=c(x,$,T,d,m[v+12],11,-421815835),d=c(d,x,$,T,m[v+15],16,530742520),T=c(T,d,x,$,m[v+2],23,-995338651),$=h($,T,d,x,m[v],6,-198630844),x=h(x,$,T,d,m[v+7],10,1126891415),d=h(d,x,$,T,m[v+14],15,-1416354905),T=h(T,d,x,$,m[v+5],21,-57434055),$=h($,T,d,x,m[v+12],6,1700485571),x=h(x,$,T,d,m[v+3],10,-1894986606),d=h(d,x,$,T,m[v+10],15,-1051523),T=h(T,d,x,$,m[v+1],21,-2054922799),$=h($,T,d,x,m[v+8],6,1873313359),x=h(x,$,T,d,m[v+15],10,-30611744),d=h(d,x,$,T,m[v+6],15,-1560198380),T=h(T,d,x,$,m[v+13],21,1309151649),$=h($,T,d,x,m[v+4],6,-145523070),x=h(x,$,T,d,m[v+11],10,-1120210379),d=h(d,x,$,T,m[v+2],15,718787259),T=h(T,d,x,$,m[v+9],21,-343485551),$=s($,p),T=s(T,E),d=s(d,y),x=s(x,S);return[$,T,d,x]}function o(m){var _,v=[];for(v[(m.length>>2)-1]=void 0,_=0;_<v.length;_+=1)v[_]=0;var p=m.length*8;for(_=0;_<p;_+=8)v[_>>5]|=(m[_/8]&255)<<_%32;return v}function s(m,_){var v=(m&65535)+(_&65535),p=(m>>16)+(_>>16)+(v>>16);return p<<16|v&65535}function a(m,_){return m<<_|m>>>32-_}function l(m,_,v,p,E,y){return s(a(s(s(_,m),s(p,y)),E),v)}function u(m,_,v,p,E,y,S){return l(_&v|~_&p,m,_,E,y,S)}function f(m,_,v,p,E,y,S){return l(_&p|v&~p,m,_,E,y,S)}function c(m,_,v,p,E,y,S){return l(_^v^p,m,_,E,y,S)}function h(m,_,v,p,E,y,S){return l(v^(_|~p),m,_,E,y,S)}var g=r;e.default=g,t.exports=e.default}}),Hie=Ne({"../../node_modules/uuid/dist/v3.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(OV()),n=i(Vie());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v3",48,n.default),s=o;e.default=s,t.exports=e.default}}),Wie=Ne({"../../node_modules/uuid/dist/v4.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(AV()),n=i(VR());function i(a){return a&&a.__esModule?a:{default:a}}function o(a,l,u){var f=l&&u||0;typeof a=="string"&&(l=a==="binary"?new Array(16):null,a=null),a=a||{};var c=a.random||(a.rng||r.default)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,l)for(var h=0;h<16;++h)l[f+h]=c[h];return l||(0,n.default)(c)}var s=o;e.default=s,t.exports=e.default}}),Gie=Ne({"../../node_modules/uuid/dist/sha1-browser.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function r(s,a,l,u){switch(s){case 0:return a&l^~a&u;case 1:return a^l^u;case 2:return a&l^a&u^l&u;case 3:return a^l^u}}function n(s,a){return s<<a|s>>>32-a}function i(s){var a=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){var u=unescape(encodeURIComponent(s));s=new Array(u.length);for(var f=0;f<u.length;f++)s[f]=u.charCodeAt(f)}s.push(128);for(var c=s.length/4+2,h=Math.ceil(c/16),g=new Array(h),f=0;f<h;f++){g[f]=new Array(16);for(var m=0;m<16;m++)g[f][m]=s[f*64+m*4]<<24|s[f*64+m*4+1]<<16|s[f*64+m*4+2]<<8|s[f*64+m*4+3]}g[h-1][14]=(s.length-1)*8/Math.pow(2,32),g[h-1][14]=Math.floor(g[h-1][14]),g[h-1][15]=(s.length-1)*8&4294967295;for(var f=0;f<h;f++){for(var _=new Array(80),v=0;v<16;v++)_[v]=g[f][v];for(var v=16;v<80;v++)_[v]=n(_[v-3]^_[v-8]^_[v-14]^_[v-16],1);for(var p=l[0],E=l[1],y=l[2],S=l[3],$=l[4],v=0;v<80;v++){var T=Math.floor(v/20),d=n(p,5)+r(T,E,y,S)+$+a[T]+_[v]>>>0;$=S,S=y,y=n(E,30)>>>0,E=p,p=d}l[0]=l[0]+p>>>0,l[1]=l[1]+E>>>0,l[2]=l[2]+y>>>0,l[3]=l[3]+S>>>0,l[4]=l[4]+$>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,l[0]&255,l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,l[1]&255,l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,l[2]&255,l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,l[3]&255,l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,l[4]&255]}var o=i;e.default=o,t.exports=e.default}}),Kie=Ne({"../../node_modules/uuid/dist/v5.js"(e,t){Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(OV()),n=i(Gie());function i(a){return a&&a.__esModule?a:{default:a}}var o=(0,r.default)("v5",80,n.default),s=o;e.default=s,t.exports=e.default}}),Jie=Ne({"../../node_modules/uuid/dist/index.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}});var t=o(qie()),r=o(Hie()),n=o(Wie()),i=o(Kie());function o(s){return s&&s.__esModule?s:{default:s}}}}),Yie=Ne({"../core/dist/servient.js"(e){Te();var t=e&&e.__classPrivateFieldGet||function(m,_,v,p){if(v==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?m!==_||!p:!_.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?p:v==="a"?p.call(m):p?p.value:_.get(m)},r=e&&e.__classPrivateFieldSet||function(m,_,v,p,E){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?m!==_||!E:!_.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?E.call(m,v):E?E.value=v:_.set(m,v),v},n=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},i,o;Object.defineProperty(e,"__esModule",{value:!0});var s=n(zie()),a=n(ul()),l=Jie(),u=ko(),f=Do(),{debug:c,warn:h}=(0,u.createLoggers)("core","servient"),g=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,i.set(this,void 0),o.set(this,!1)}addMediaType(m,_=!1){a.default.addCodec(m,_)}expose(m){if(this.servers.length===0)return h("Servient has no servers to expose Things"),new Promise(p=>{p()});c(`Servient exposing '${m.title}'`);const _=f.Helpers.structuredClone(m);m.forms=[];for(const p of Object.values(m.properties))p.forms=[];for(const p of Object.values(m.actions))p.forms=[];for(const p of Object.values(m.events))p.forms=[];const v=[];return this.servers.forEach(p=>{v.push(p.expose(m,_))}),new Promise((p,E)=>{Promise.all(v).then(()=>p()).catch(y=>E(y))})}addThing(m){return m.id||(m.id="urn:uuid:"+(0,l.v4)(),h(`Servient generating ID for '${m.title}': '${m.id}'`)),this.things.has(m.id)?!1:(this.things.set(m.id,m),c(`Servient reset ID '${m.id}' with '${m.title}'`),!0)}destroyThing(m){return new Promise((_,v)=>{if(this.things.has(m)){c(`Servient destroying thing with id '${m}'`),this.things.delete(m);const p=[];this.servers.forEach(E=>{p.push(E.destroy(m))}),Promise.all(p).then(()=>_(!0)).catch(E=>v(E))}else h(`Servient was asked to destroy thing but failed to find thing with id '${m}'`),_(!1)})}getThing(m){if(this.things.has(m))return this.things.get(m)}getThings(){c(`Servient getThings size == '${this.things.size}'`);const m={};return this.things.forEach((_,v)=>{m[v]=_.getThingDescription()}),m}addServer(m){return this.things.forEach((_,v)=>m.expose(_)),this.servers.push(m),!0}getServers(){return this.servers.slice(0)}addClientFactory(m){c(`Servient adding client factory for '${m.scheme}'`),this.clientFactories.set(m.scheme,m)}removeClientFactory(m){var _;return c(`Servient removing client factory for '${m}'`),(_=this.clientFactories.get(m))==null||_.destroy(),this.clientFactories.delete(m)}hasClientFor(m){return c(`Servient checking for '${m}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(m)}getClientFor(m){const _=this.clientFactories.get(m);if(_)return c(`Servient creating client for scheme '${m}'`),_.getClient();throw new Error(`Servient has no ClientFactory for scheme '${m}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(m){for(const[_,v]of Object.entries(m??{})){c(`Servient storing credentials for '${_}'`);const p=this.credentialStore.get(_)??[];p.length===0&&this.credentialStore.set(_,p),p.push(v)}}getCredentials(m){c(`Servient looking up credentials for '${m}' (@deprecated)`);const _=this.credentialStore.get(m);if(_&&_.length>0)return _[0]}retrieveCredentials(m){return c(`Servient looking up credentials for '${m}'`),this.credentialStore.get(m)}async start(){if(t(this,i,"f")!==void 0)return c("Servient started already -> nop -> returning previous WoT implementation"),t(this,i,"f");if(t(this,o,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const m=[];return this.servers.forEach(_=>m.push(_.start(this))),this.clientFactories.forEach(_=>_.init()),await Promise.all(m),r(this,i,new s.default(this),"f")}async shutdown(){if(t(this,i,"f")===void 0)throw Error("Servient cannot be shutdown, wasn't even started");if(t(this,o,"f")){c("Servient shutdown already -> nop");return}this.clientFactories.forEach(_=>_.destroy());const m=this.servers.map(_=>_.stop());await Promise.all(m),r(this,o,!0,"f"),r(this,i,void 0,"f")}};i=new WeakMap,o=new WeakMap,e.default=g}}),Do=Ne({"../core/dist/core.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(v,p,E,y){y===void 0&&(y=E);var S=Object.getOwnPropertyDescriptor(p,E);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[E]}}),Object.defineProperty(v,y,S)}:function(v,p,E,y){y===void 0&&(y=E),v[y]=p[E]}),r=e&&e.__exportStar||function(v,p){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(p,E)&&t(p,v,E)},n=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createWarnLogger=e.createInfoLogger=e.createErrorLogger=e.createDebugLogger=e.createLoggers=e.ProtocolHelpers=e.Helpers=e.ExposedThing=e.ConsumedThing=e.DefaultContent=e.Content=e.NetconfOctetstreamCodecCodec=e.Base64Codec=e.TextCodec=e.CborCodec=e.JsonCodec=e.Servient=void 0;var i=n(Yie());e.Servient=i.default,e.default=i.default,r(Ng(),e),r(cR(),e),r(ul(),e);var o=tV();Object.defineProperty(e,"JsonCodec",{enumerable:!0,get:function(){return n(o).default}});var s=eV();Object.defineProperty(e,"CborCodec",{enumerable:!0,get:function(){return n(s).default}});var a=rV();Object.defineProperty(e,"TextCodec",{enumerable:!0,get:function(){return n(a).default}});var l=nV();Object.defineProperty(e,"Base64Codec",{enumerable:!0,get:function(){return n(l).default}});var u=aV();Object.defineProperty(e,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return n(u).default}}),r(sV(),e);var f=Jq();Object.defineProperty(e,"Content",{enumerable:!0,get:function(){return f.Content}}),Object.defineProperty(e,"DefaultContent",{enumerable:!0,get:function(){return f.DefaultContent}});var c=xV();Object.defineProperty(e,"ConsumedThing",{enumerable:!0,get:function(){return n(c).default}});var h=TV();Object.defineProperty(e,"ExposedThing",{enumerable:!0,get:function(){return n(h).default}});var g=Lg();Object.defineProperty(e,"Helpers",{enumerable:!0,get:function(){return n(g).default}});var m=kR();Object.defineProperty(e,"ProtocolHelpers",{enumerable:!0,get:function(){return n(m).default}});var _=ko();Object.defineProperty(e,"createLoggers",{enumerable:!0,get:function(){return _.createLoggers}}),Object.defineProperty(e,"createDebugLogger",{enumerable:!0,get:function(){return _.createDebugLogger}}),Object.defineProperty(e,"createErrorLogger",{enumerable:!0,get:function(){return _.createErrorLogger}}),Object.defineProperty(e,"createInfoLogger",{enumerable:!0,get:function(){return _.createInfoLogger}}),Object.defineProperty(e,"createWarnLogger",{enumerable:!0,get:function(){return _.createWarnLogger}})}});/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-CcCWfKp1.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@jspm/core/nodelibs/browser/chunk-B738Er4n.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

web-streams-polyfill/dist/ponyfill.js:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

content-type/index.js:
  (*!
   * content-type
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/var HR=Ne({"../../node_modules/node-fetch/browser.js"(e,t){Te();var r=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},n=r();t.exports=e=n.fetch,n.fetch&&(e.default=n.fetch.bind(n)),e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response}}),Xie=Ne({"../../node_modules/rxjs/util/isArray.js"(e){Te(),e.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}}}),Qie=Ne({"../../node_modules/rxjs/util/isObject.js"(e){Te();function t(r){return r!=null&&typeof r=="object"}e.isObject=t}}),Zie=Ne({"../../node_modules/rxjs/util/isFunction.js"(e){Te();function t(r){return typeof r=="function"}e.isFunction=t}}),PV=Ne({"../../node_modules/rxjs/util/errorObject.js"(e){Te(),e.errorObject={e:{}}}}),eoe=Ne({"../../node_modules/rxjs/util/tryCatch.js"(e){Te();var t=PV(),r;function n(){try{return r.apply(this,arguments)}catch(o){return t.errorObject.e=o,t.errorObject}}function i(o){return r=o,n}e.tryCatch=i}}),toe=Ne({"../../node_modules/rxjs/util/UnsubscriptionError.js"(e){Te();var t=e&&e.__extends||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);function s(){this.constructor=n}n.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)},r=function(n){t(i,n);function i(o){n.call(this),this.errors=o;var s=Error.call(this,o?o.length+` errors occurred during unsubscription:
  `+o.map(function(a,l){return l+1+") "+a.toString()}).join(`
  `):"");this.name=s.name="UnsubscriptionError",this.stack=s.stack,this.message=s.message}return i}(Error);e.UnsubscriptionError=r}}),roe=Ne({"../../node_modules/rxjs/Subscription.js"(e){Te();var t=Xie(),r=Qie(),n=Zie(),i=eoe(),o=PV(),s=toe(),a=function(){function u(f){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,f&&(this._unsubscribe=f)}return u.prototype.unsubscribe=function(){var f=!1,c;if(!this.closed){var h=this,g=h._parent,m=h._parents,_=h._unsubscribe,v=h._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,E=m?m.length:0;g;)g.remove(this),g=++p<E&&m[p]||null;if(n.isFunction(_)){var y=i.tryCatch(_).call(this);y===o.errorObject&&(f=!0,c=c||(o.errorObject.e instanceof s.UnsubscriptionError?l(o.errorObject.e.errors):[o.errorObject.e]))}if(t.isArray(v))for(p=-1,E=v.length;++p<E;){var S=v[p];if(r.isObject(S)){var y=i.tryCatch(S.unsubscribe).call(S);if(y===o.errorObject){f=!0,c=c||[];var $=o.errorObject.e;$ instanceof s.UnsubscriptionError?c=c.concat(l($.errors)):c.push($)}}}if(f)throw new s.UnsubscriptionError(c)}},u.prototype.add=function(f){if(!f||f===u.EMPTY)return u.EMPTY;if(f===this)return this;var c=f;switch(typeof f){case"function":c=new u(f);case"object":if(c.closed||typeof c.unsubscribe!="function")return c;if(this.closed)return c.unsubscribe(),c;if(typeof c._addParent!="function"){var h=c;c=new u,c._subscriptions=[h]}break;default:throw new Error("unrecognized teardown "+f+" added to Subscription.")}var g=this._subscriptions||(this._subscriptions=[]);return g.push(c),c._addParent(this),c},u.prototype.remove=function(f){var c=this._subscriptions;if(c){var h=c.indexOf(f);h!==-1&&c.splice(h,1)}},u.prototype._addParent=function(f){var c=this,h=c._parent,g=c._parents;!h||h===f?this._parent=f:g?g.indexOf(f)===-1&&g.push(f):this._parents=[f]},u.EMPTY=function(f){return f.closed=!0,f}(new u),u}();e.Subscription=a;function l(u){return u.reduce(function(f,c){return f.concat(c instanceof s.UnsubscriptionError?c.errors:c)},[])}}}),noe=Ne({"(disabled):../../node_modules/client-oauth2/node_modules/safe-buffer/index.js"(){Te()}}),NV={};ll(NV,{decode:()=>RV,default:()=>Fa,encode:()=>IV,parse:()=>jV,stringify:()=>kV});function ioe(){if(xO)return Iw;xO=!0;function e(t,r){return Object.prototype.hasOwnProperty.call(t,r)}return Iw=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var s=/\+/g;t=t.split(r);var a=1e3;i&&typeof i.maxKeys=="number"&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var f=t[u].replace(s,"%20"),c=f.indexOf(n),h,g,m,_;c>=0?(h=f.substr(0,c),g=f.substr(c+1)):(h=f,g=""),m=decodeURIComponent(h),_=decodeURIComponent(g),e(o,m)?Array.isArray(o[m])?o[m].push(_):o[m]=[o[m],_]:o[m]=_}return o},Iw}function ooe(){if(AO)return jw;AO=!0;var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};return jw=function(t,r,n,i){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var s=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map(function(a){return s+encodeURIComponent(e(a))}).join(r):s+encodeURIComponent(e(t[o]))}).filter(Boolean).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""},jw}function soe(){return OO||(OO=!0,Yc.decode=Yc.parse=ioe(),Yc.encode=Yc.stringify=ooe()),Yc}var Iw,xO,jw,AO,Yc,OO,Fa,RV,IV,jV,kV,aoe=on({"../../node_modules/@jspm/core/nodelibs/browser/querystring.js"(){Te(),Iw={},xO=!1,jw={},AO=!1,Yc={},OO=!1,Fa=soe(),Fa.decode,Fa.parse,Fa.encode,Fa.stringify,RV=Fa.decode,IV=Fa.encode,jV=Fa.parse,kV=Fa.stringify}}),loe=Ne({"../../node_modules/client-oauth2/src/request/browser.js"(e,t){Te(),t.exports=function(n,i,o,s){return new Promise(function(a,l){var u=new window.XMLHttpRequest;u.open(n,i),u.onload=function(){return a({status:u.status,body:u.responseText})},u.onerror=u.onabort=function(){return l(new Error(u.statusText||"XHR aborted: "+i))},Object.keys(s).forEach(function(f){u.setRequestHeader(f,s[f])}),u.send(o)})}}}),uoe=Ne({"../../node_modules/client-oauth2/src/client-oauth2.js"(e,t){Te();var r=noe().Buffer,n=(aoe(),Or(NV)),i=loe(),o="https://example.org/",s;typeof r=="function"?s=u:s=window.btoa.bind(window),t.exports=E;var a={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},l={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function u(A){return r.from(A).toString("base64")}function f(A){for(var O=1;O<arguments.length;O++){var C=arguments[O];if(A[C]==null)throw new TypeError('Expected "'+C+'" to exist')}}function c(A){var O=l[A.error]||A.error_description||A.error;if(O){var C=new Error(O);return C.body=A,C.code="EAUTH",C}}function h(A){try{return JSON.parse(A)}catch{return n.parse(A)}}function g(A){return Array.isArray(A)?A.join(" "):v(A)}function m(A,O){f(A,"clientId","authorizationUri");const C={client_id:A.clientId,redirect_uri:A.redirectUri,response_type:O,state:A.state};A.scopes!==void 0&&(C.scope=g(A.scopes));const F=A.authorizationUri.includes("?")?"&":"?";return A.authorizationUri+F+n.stringify(Object.assign(C,A.query))}function _(A,O){return"Basic "+s(v(A)+":"+v(O))}function v(A){return A==null?"":String(A)}function p(A,O){return{url:A.url,method:A.method,body:Object.assign({},A.body,O.body),query:Object.assign({},A.query,O.query),headers:Object.assign({},A.headers,O.headers)}}function E(A,O){this.options=A,this.request=O||i,this.code=new d(this),this.token=new $(this),this.owner=new S(this),this.credentials=new T(this),this.jwt=new x(this)}E.Token=y,E.prototype.createToken=function(A,O,C,F){var V=Object.assign({},F,typeof A=="string"?{access_token:A}:A,typeof O=="string"?{refresh_token:O}:O,typeof C=="string"?{token_type:C}:C);return new E.Token(this,V)},E.prototype._request=function(A){var O=A.url,C=n.stringify(A.body),F=n.stringify(A.query);return F&&(O+=(O.indexOf("?")===-1?"?":"&")+F),this.request(A.method,O,C,A.headers).then(function(V){var X=h(V.body),H=c(X);if(H)return Promise.reject(H);if(V.status<200||V.status>=399){var Z=new Error("HTTP status "+V.status);return Z.status=V.status,Z.body=V.body,Z.code="ESTATUS",Promise.reject(Z)}return X})};function y(A,O){this.client=A,this.data=O,this.tokenType=O.token_type&&O.token_type.toLowerCase(),this.accessToken=O.access_token,this.refreshToken=O.refresh_token,this.expiresIn(Number(O.expires_in))}y.prototype.expiresIn=function(A){if(typeof A=="number")this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+A);else if(A instanceof Date)this.expires=new Date(A.getTime());else throw new TypeError("Unknown duration: "+A);return this.expires},y.prototype.sign=function(A){if(!this.accessToken)throw new Error("Unable to sign without access token");if(A.headers=A.headers||{},this.tokenType==="bearer")A.headers.Authorization="Bearer "+this.accessToken;else{var O=A.url.split("#"),C="access_token="+this.accessToken,F=O[0].replace(/[?&]access_token=[^&#]/,""),V=O[1]?"#"+O[1]:"";A.url=F+(F.indexOf("?")>-1?"&":"?")+C+V,A.headers.Pragma="no-store",A.headers["Cache-Control"]="no-store"}return A},y.prototype.refresh=function(A){var O=this,C=Object.assign({},this.client.options,A);return this.refreshToken?this.client._request(p({url:C.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(C.clientId,C.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},C)).then(function(F){return O.client.createToken(Object.assign({},O.data,F))}):Promise.reject(new Error("No refresh token"))},y.prototype.expired=function(){return Date.now()>this.expires.getTime()};function S(A){this.client=A}S.prototype.getToken=function(A,O,C){var F=this,V=Object.assign({},this.client.options,C);const X={username:A,password:O,grant_type:"password"};return V.scopes!==void 0&&(X.scope=g(V.scopes)),this.client._request(p({url:V.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(V.clientId,V.clientSecret)}),body:X},V)).then(function(H){return F.client.createToken(H)})};function $(A){this.client=A}$.prototype.getUri=function(A){var O=Object.assign({},this.client.options,A);return m(O,"token")},$.prototype.getToken=function(A,O){var C=Object.assign({},this.client.options,O),F=typeof A=="object"?A:new URL(A,o),V=new URL(C.redirectUri,o);if(typeof F.pathname=="string"&&F.pathname!==V.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+F.pathname));if(!F.hash&&!F.search)return Promise.reject(new TypeError("Unable to process uri: "+A));var X=Object.assign({},typeof F.search=="string"?n.parse(F.search.substr(1)):F.search||{},typeof F.hash=="string"?n.parse(F.hash.substr(1)):F.hash||{}),H=c(X);return H?Promise.reject(H):C.state!=null&&X.state!==C.state?Promise.reject(new TypeError("Invalid state: "+X.state)):Promise.resolve(this.client.createToken(X))};function T(A){this.client=A}T.prototype.getToken=function(A){var O=this,C=Object.assign({},this.client.options,A);f(C,"clientId","clientSecret","accessTokenUri");const F={grant_type:"client_credentials"};return C.scopes!==void 0&&(F.scope=g(C.scopes)),this.client._request(p({url:C.accessTokenUri,method:"POST",headers:Object.assign({},a,{Authorization:_(C.clientId,C.clientSecret)}),body:F},C)).then(function(V){return O.client.createToken(V)})};function d(A){this.client=A}d.prototype.getUri=function(A){var O=Object.assign({},this.client.options,A);return m(O,"code")},d.prototype.getToken=function(A,O){var C=this,F=Object.assign({},this.client.options,O);f(F,"clientId","accessTokenUri");var V=typeof A=="object"?A:new URL(A,o);if(typeof F.redirectUri=="string"&&typeof V.pathname=="string"&&V.pathname!==new URL(F.redirectUri,o).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+V.pathname));if(!V.search||!V.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+A));var X=typeof V.search=="string"?n.parse(V.search.substr(1)):V.search||{},H=c(X);if(H)return Promise.reject(H);if(F.state!=null&&X.state!==F.state)return Promise.reject(new TypeError("Invalid state: "+X.state));if(!X.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var Z=Object.assign({},a),fe={code:X.code,grant_type:"authorization_code",redirect_uri:F.redirectUri};return F.clientSecret?Z.Authorization=_(F.clientId,F.clientSecret):fe.client_id=F.clientId,this.client._request(p({url:F.accessTokenUri,method:"POST",headers:Z,body:fe},F)).then(function(ee){return C.client.createToken(ee)})};function x(A){this.client=A}x.prototype.getToken=function(A,O){var C=this,F=Object.assign({},this.client.options,O),V=Object.assign({},a);f(F,"accessTokenUri"),F.clientId&&(V.Authorization=_(F.clientId,F.clientSecret));const X={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:A};return F.scopes!==void 0&&(X.scope=g(F.scopes)),this.client._request(p({url:F.accessTokenUri,method:"POST",headers:V,body:X},F)).then(function(H){return C.client.createToken(H)})}}}),coe=Ne({"../../node_modules/strict-uri-encode/index.js"(e,t){Te(),t.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),foe=Ne({"../../node_modules/decode-uri-component/index.js"(e,t){Te();var r="%[a-f0-9]{2}",n=new RegExp("("+r+")|([^%]+?)","gi"),i=new RegExp("("+r+")+","gi");function o(l,u){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;u=u||1;var f=l.slice(0,u),c=l.slice(u);return Array.prototype.concat.call([],o(f),o(c))}function s(l){try{return decodeURIComponent(l)}catch{for(var u=l.match(n)||[],f=1;f<u.length;f++)l=o(u,f).join(""),u=l.match(n)||[];return l}}function a(l){for(var u={"%FE%FF":"��","%FF%FE":"��"},f=i.exec(l);f;){try{u[f[0]]=decodeURIComponent(f[0])}catch{var c=s(f[0]);c!==f[0]&&(u[f[0]]=c)}f=i.exec(l)}u["%C2"]="�";for(var h=Object.keys(u),g=0;g<h.length;g++){var m=h[g];l=l.replace(new RegExp(m,"g"),u[m])}return l}t.exports=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return a(l)}}}}),doe=Ne({"../../node_modules/split-on-first/index.js"(e,t){Te(),t.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];const i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),hoe=Ne({"../../node_modules/filter-obj/index.js"(e,t){Te(),t.exports=function(r,n){for(var i={},o=Object.keys(r),s=Array.isArray(n),a=0;a<o.length;a++){var l=o[a],u=r[l];(s?n.indexOf(l)!==-1:n(l,u,r))&&(i[l]=u)}return i}}}),poe=Ne({"../../node_modules/query-string/index.js"(e){Te();var t=coe(),r=foe(),n=doe(),i=hoe(),o=E=>E==null,s=Symbol("encodeFragmentIdentifier");function a(E){switch(E.arrayFormat){case"index":return y=>(S,$)=>{const T=S.length;return $===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[",T,"]"].join("")]:[...S,[f(y,E),"[",f(T,E),"]=",f($,E)].join("")]};case"bracket":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),"[]"].join("")]:[...S,[f(y,E),"[]=",f($,E)].join("")];case"colon-list-separator":return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,[f(y,E),":list="].join("")]:[...S,[f(y,E),":list=",f($,E)].join("")];case"comma":case"separator":case"bracket-separator":{const y=E.arrayFormat==="bracket-separator"?"[]=":"=";return S=>($,T)=>T===void 0||E.skipNull&&T===null||E.skipEmptyString&&T===""?$:(T=T===null?"":T,$.length===0?[[f(S,E),y,f(T,E)].join("")]:[[$,f(T,E)].join(E.arrayFormatSeparator)])}default:return y=>(S,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?S:$===null?[...S,f(y,E)]:[...S,[f(y,E),"=",f($,E)].join("")]}}function l(E){let y;switch(E.arrayFormat){case"index":return(S,$,T)=>{if(y=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!y){T[S]=$;return}T[S]===void 0&&(T[S]={}),T[S][y[1]]=$};case"bracket":return(S,$,T)=>{if(y=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"colon-list-separator":return(S,$,T)=>{if(y=/(:list)$/.exec(S),S=S.replace(/:list$/,""),!y){T[S]=$;return}if(T[S]===void 0){T[S]=[$];return}T[S]=[].concat(T[S],$)};case"comma":case"separator":return(S,$,T)=>{const d=typeof $=="string"&&$.includes(E.arrayFormatSeparator),x=typeof $=="string"&&!d&&c($,E).includes(E.arrayFormatSeparator);$=x?c($,E):$;const A=d||x?$.split(E.arrayFormatSeparator).map(O=>c(O,E)):$===null?$:c($,E);T[S]=A};case"bracket-separator":return(S,$,T)=>{const d=/(\[\])$/.test(S);if(S=S.replace(/\[\]$/,""),!d){T[S]=$&&c($,E);return}const x=$===null?[]:$.split(E.arrayFormatSeparator).map(A=>c(A,E));if(T[S]===void 0){T[S]=x;return}T[S]=[].concat(T[S],x)};default:return(S,$,T)=>{if(T[S]===void 0){T[S]=$;return}T[S]=[].concat(T[S],$)}}}function u(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(E,y){return y.encode?y.strict?t(E):encodeURIComponent(E):E}function c(E,y){return y.decode?r(E):E}function h(E){return Array.isArray(E)?E.sort():typeof E=="object"?h(Object.keys(E)).sort((y,S)=>Number(y)-Number(S)).map(y=>E[y]):E}function g(E){const y=E.indexOf("#");return y!==-1&&(E=E.slice(0,y)),E}function m(E){let y="";const S=E.indexOf("#");return S!==-1&&(y=E.slice(S)),y}function _(E){E=g(E);const y=E.indexOf("?");return y===-1?"":E.slice(y+1)}function v(E,y){return y.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):y.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function p(E,y){y=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},y),u(y.arrayFormatSeparator);const S=l(y),$=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return $;for(const T of E.split("&")){if(T==="")continue;let[d,x]=n(y.decode?T.replace(/\+/g," "):T,"=");x=x===void 0?null:["comma","separator","bracket-separator"].includes(y.arrayFormat)?x:c(x,y),S(c(d,y),x,$)}for(const T of Object.keys($)){const d=$[T];if(typeof d=="object"&&d!==null)for(const x of Object.keys(d))d[x]=v(d[x],y);else $[T]=v(d,y)}return y.sort===!1?$:(y.sort===!0?Object.keys($).sort():Object.keys($).sort(y.sort)).reduce((T,d)=>{const x=$[d];return x&&typeof x=="object"&&!Array.isArray(x)?T[d]=h(x):T[d]=x,T},Object.create(null))}e.extract=_,e.parse=p,e.stringify=(E,y)=>{if(!E)return"";y=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},y),u(y.arrayFormatSeparator);const S=x=>y.skipNull&&o(E[x])||y.skipEmptyString&&E[x]==="",$=a(y),T={};for(const x of Object.keys(E))S(x)||(T[x]=E[x]);const d=Object.keys(T);return y.sort!==!1&&d.sort(y.sort),d.map(x=>{const A=E[x];return A===void 0?"":A===null?f(x,y):Array.isArray(A)?A.length===0&&y.arrayFormat==="bracket-separator"?f(x,y)+"[]":A.reduce($(x),[]).join("&"):f(x,y)+"="+f(A,y)}).filter(x=>x.length>0).join("&")},e.parseUrl=(E,y)=>{y=Object.assign({decode:!0},y);const[S,$]=n(E,"#");return Object.assign({url:S.split("?")[0]||"",query:p(_(E),y)},y&&y.parseFragmentIdentifier&&$?{fragmentIdentifier:c($,y)}:{})},e.stringifyUrl=(E,y)=>{y=Object.assign({encode:!0,strict:!0,[s]:!0},y);const S=g(E.url).split("?")[0]||"",$=e.extract(E.url),T=e.parse($,{sort:!1}),d=Object.assign(T,E.query);let x=e.stringify(d,y);x&&(x=`?${x}`);let A=m(E.url);return E.fragmentIdentifier&&(A=`#${y[s]?f(E.fragmentIdentifier,y):E.fragmentIdentifier}`),`${S}${x}${A}`},e.pick=(E,y,S)=>{S=Object.assign({parseFragmentIdentifier:!0,[s]:!1},S);const{url:$,query:T,fragmentIdentifier:d}=e.parseUrl(E,S);return e.stringifyUrl({url:$,query:i(T,y),fragmentIdentifier:d},S)},e.exclude=(E,y,S)=>{const $=Array.isArray(y)?T=>!y.includes(T):(T,d)=>!y(T,d);return e.pick(E,$,S)}}}),CV=Ne({"../binding-http/dist/credential.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(g,m,_,v){v===void 0&&(v=_);var p=Object.getOwnPropertyDescriptor(m,_);(!p||("get"in p?!m.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return m[_]}}),Object.defineProperty(g,v,p)}:function(g,m,_,v){v===void 0&&(v=_),g[v]=m[_]}),r=e&&e.__setModuleDefault||(Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m}),n=e&&e.__importStar||function(){var g=function(m){return g=Object.getOwnPropertyNames||function(_){var v=[];for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(v[v.length]=p);return v},g(m)};return function(m){if(m&&m.__esModule)return m;var _={};if(m!=null)for(var v=g(m),p=0;p<v.length;p++)v[p]!=="default"&&t(_,m,v[p]);return r(_,m),_}}();Object.defineProperty(e,"__esModule",{value:!0}),e.TuyaCustomBearer=e.OAuthCredential=e.BasicKeyCredential=e.BearerCredential=e.BasicCredential=e.Credential=void 0;var i=n(HR()),o=n((K6(),Or(SR))),s=n(poe()),a=class{};e.Credential=a;var l=class extends a{constructor({username:g,password:m},_){if(super(),g===void 0||m===void 0||g===null||m===null)throw new Error("No Basic credentials for Thing");this.username=g,this.password=m,this.options=_}async sign(g){const m=g.clone();let _="authorization";return this.options!==void 0&&this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),m.headers.set(_,"Basic "+Yr.from(this.username+":"+this.password).toString("base64")),m}};e.BasicCredential=l;var u=class extends a{constructor({token:g},m){if(super(),g==null)throw new Error("No Bearer credentials for Thing");this.token=g,this.options=m}async sign(g){const m=g.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),m.headers.set(_,"Bearer "+this.token),m}};e.BearerCredential=u;var f=class extends a{constructor({apiKey:g},m){if(super(),g==null)throw new Error("No API key credentials for Thing");this.apiKey=g,this.options=m}async sign(g){const m=g.clone();let _="authorization";return this.options.in==="header"&&this.options.name!==void 0&&(_=this.options.name),m.headers.append(_,this.apiKey),m}};e.BasicKeyCredential=f;var c=class DV extends a{constructor(m,_){super(),this.token=m,this.refresh=_,this.token=m}async sign(m){if(this.token instanceof Promise){const p=this.token;this.token=await p}let _={url:m.url,headers:{}};return _=this.token.sign(_),new i.Request(m,_)}async refreshToken(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let m;return this.refresh?m=await this.refresh():m=await this.token.refresh(),new DV(m,this.refresh)}};e.OAuthCredential=c;var h=class extends a{constructor(g,m){super(),this.key=g.key,this.secret=g.secret,this.baseUri=m.baseUri}async sign(g){var y;const m=this.isTokenExpired();(this.token===void 0||this.token===""||m)&&await this.requestAndRefreshToken(m);const _=g.url,v=(y=g.body)==null?void 0:y.read().toString(),p=g.method,E=this.getHeaders(!0,g.headers.raw(),v,_,p);return Object.assign(E,g.headers.raw()),new i.Request(_,{method:p,body:v!==""?v:void 0,headers:E})}async requestAndRefreshToken(g){var y,S,$;const _={headers:this.getHeaders(!1,{}),method:"GET"};let v=`${this.baseUri}/token?grant_type=1`;g&&(v=`${this.baseUri}/token/${this.refreshToken}`);const p=await(await(0,i.default)(v,_)).json();if(p.success??!1){this.token=(y=p.result)==null?void 0:y.access_token,this.refreshToken=(S=p.result)==null?void 0:S.refresh_token;const T=($=p.result)==null?void 0:$.expire_time;T!=null&&(this.expireTime=new Date(Date.now()+T*1e3))}else throw new Error("token fetch failed")}getHeaders(g,m,_,v,p){const E=Date.now().toString(),y=this.baseUri.replace("/v1.0",""),S=v==null?void 0:v.replace(y,""),$=this.requestSign(g,E,_,S,p);return{t:E,client_id:this.key,sign_method:"HMAC-SHA256",sign:$,access_token:this.token??""}}requestSign(g,m,_,v="",p){const E=o.createHash("sha256").update(_??"").digest("hex");let y="/v1.0/token?grant_type=1";const S="";let $="";const T=p??"GET";if(g){$=this.token??"";const A=s.parse(v.split("?")[1]);let O={};O=Object.assign(O,A);const C={};Object.keys(O).sort().forEach(V=>{C[V]=O[V]});const F=s.stringify(C);y=decodeURIComponent(F?`${v.split("?")[0]}?${F}`:v)}const d=[this.key,$,m,[T,E,S,y].join(`
`)].join("");return o.createHmac("sha256",this.secret).update(d).digest("hex").toUpperCase()}isTokenExpired(){return this.expireTime?Date.now()>this.expireTime.getTime():!1}};e.TuyaCustomBearer=h}}),MV=Ne({"../binding-http/dist/oauth-manager.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Do(),n=t(uoe()),i=(fE(),Or(kg)),o=CV();function s(l){return(u,f,c,h)=>new Promise((g,m)=>{const _=new URL(f),v={method:u,host:_.hostname,port:parseInt(_.port),path:_.pathname+_.search,headers:h};v.rejectUnauthorized=l;const p=(0,i.request)(v);p.on("response",E=>{E.setEncoding("utf8");const y=[];E.on("data",S=>{y.push(S)}),E.on("end",()=>{g({status:E.statusCode??500,body:y.toString()})})}),p.on("error",E=>{m(E)}),p.write(c),p.end()})}var a=class{constructor(){this.tokenStore=new Map}handleClient(l,u){const f=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes),body:{}},s(!1)),c=f.credentials.getToken();return new o.OAuthCredential(c,f.credentials.getToken.bind(f.credentials))}handleResourceOwnerCredential(l,u){const c=new n.default({clientId:u.clientId,clientSecret:u.clientSecret,accessTokenUri:l.token,scopes:r.Helpers.toStringArray(l.scopes)},s(!1)).owner.getToken(u.username,u.password);return new o.OAuthCredential(c)}};e.default=a}});function moe(){if(PO)return kw;PO=!0;const e=2147483647,t=36,r=1,n=26,i=38,o=700,s=72,a=128,l="-",u=/^xn--/,f=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=t-r,m=Math.floor,_=String.fromCharCode;function v(V){throw new RangeError(h[V])}function p(V,X){const H=[];let Z=V.length;for(;Z--;)H[Z]=X(V[Z]);return H}function E(V,X){const H=V.split("@");let Z="";H.length>1&&(Z=H[0]+"@",V=H[1]),V=V.replace(c,".");const fe=V.split("."),ee=p(fe,X).join(".");return Z+ee}function y(V){const X=[];let H=0;const Z=V.length;for(;H<Z;){const fe=V.charCodeAt(H++);if(fe>=55296&&fe<=56319&&H<Z){const ee=V.charCodeAt(H++);(ee&64512)==56320?X.push(((fe&1023)<<10)+(ee&1023)+65536):(X.push(fe),H--)}else X.push(fe)}return X}const S=V=>String.fromCodePoint(...V),$=function(V){return V>=48&&V<58?26+(V-48):V>=65&&V<91?V-65:V>=97&&V<123?V-97:t},T=function(V,X){return V+22+75*(V<26)-((X!=0)<<5)},d=function(V,X,H){let Z=0;for(V=H?m(V/o):V>>1,V+=m(V/X);V>g*n>>1;Z+=t)V=m(V/g);return m(Z+(g+1)*V/(V+i))},x=function(V){const X=[],H=V.length;let Z=0,fe=a,ee=s,ne=V.lastIndexOf(l);ne<0&&(ne=0);for(let k=0;k<ne;++k)V.charCodeAt(k)>=128&&v("not-basic"),X.push(V.charCodeAt(k));for(let k=ne>0?ne+1:0;k<H;){const B=Z;for(let P=1,R=t;;R+=t){k>=H&&v("invalid-input");const z=$(V.charCodeAt(k++));z>=t&&v("invalid-input"),z>m((e-Z)/P)&&v("overflow"),Z+=z*P;const oe=R<=ee?r:R>=ee+n?n:R-ee;if(z<oe)break;const J=t-oe;P>m(e/J)&&v("overflow"),P*=J}const W=X.length+1;ee=d(Z-B,W,B==0),m(Z/W)>e-fe&&v("overflow"),fe+=m(Z/W),Z%=W,X.splice(Z++,0,fe)}return String.fromCodePoint(...X)},A=function(V){const X=[];V=y(V);const H=V.length;let Z=a,fe=0,ee=s;for(const B of V)B<128&&X.push(_(B));const ne=X.length;let k=ne;for(ne&&X.push(l);k<H;){let B=e;for(const P of V)P>=Z&&P<B&&(B=P);const W=k+1;B-Z>m((e-fe)/W)&&v("overflow"),fe+=(B-Z)*W,Z=B;for(const P of V)if(P<Z&&++fe>e&&v("overflow"),P===Z){let R=fe;for(let z=t;;z+=t){const oe=z<=ee?r:z>=ee+n?n:z-ee;if(R<oe)break;const J=R-oe,Y=t-oe;X.push(_(T(oe+J%Y,0))),R=m(J/Y)}X.push(_(T(R,0))),ee=d(fe,W,k===ne),fe=0,++k}++fe,++Z}return X.join("")};return kw={version:"2.3.1",ucs2:{decode:y,encode:S},decode:x,encode:A,toASCII:function(V){return E(V,function(X){return f.test(X)?"xn--"+A(X):X})},toUnicode:function(V){return E(V,function(X){return u.test(X)?x(X.slice(4).toLowerCase()):X})}},kw}var kw,PO,Au,goe=on({"../../node_modules/@jspm/core/nodelibs/browser/punycode.js"(){Te(),kw={},PO=!1,Au=moe(),Au.decode,Au.encode,Au.toASCII,Au.toUnicode,Au.ucs2,Au.version}});function voe(){if(NO)return Cw;NO=!0;var e=hi;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function r(o,s){for(var a="",l=0,u=-1,f=0,c,h=0;h<=o.length;++h){if(h<o.length)c=o.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(u===h-1||f===1))if(u!==h-1&&f===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var g=a.lastIndexOf("/");if(g!==a.length-1){g===-1?(a="",l=0):(a=a.slice(0,g),l=a.length-1-a.lastIndexOf("/")),u=h,f=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=h,f=0;continue}}s&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+o.slice(u+1,h):a=o.slice(u+1,h),l=h-u-1;u=h,f=0}else c===46&&f!==-1?++f:f=-1}return a}function n(o,s){var a=s.dir||s.root,l=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+l:a+o+l:l}var i={resolve:function(){for(var s="",a=!1,l,u=arguments.length-1;u>=-1&&!a;u--){var f;u>=0?f=arguments[u]:(l===void 0&&(l=e.cwd()),f=l),t(f),f.length!==0&&(s=f+"/"+s,a=f.charCodeAt(0)===47)}return s=r(s,!a),a?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(t(s),s.length===0)return".";var a=s.charCodeAt(0)===47,l=s.charCodeAt(s.length-1)===47;return s=r(s,!a),s.length===0&&!a&&(s="."),s.length>0&&l&&(s+="/"),a?"/"+s:s},isAbsolute:function(s){return t(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,a=0;a<arguments.length;++a){var l=arguments[a];t(l),l.length>0&&(s===void 0?s=l:s+="/"+l)}return s===void 0?".":i.normalize(s)},relative:function(s,a){if(t(s),t(a),s===a||(s=i.resolve(s),a=i.resolve(a),s===a))return"";for(var l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var u=s.length,f=u-l,c=1;c<a.length&&a.charCodeAt(c)===47;++c);for(var h=a.length,g=h-c,m=f<g?f:g,_=-1,v=0;v<=m;++v){if(v===m){if(g>m){if(a.charCodeAt(c+v)===47)return a.slice(c+v+1);if(v===0)return a.slice(c+v)}else f>m&&(s.charCodeAt(l+v)===47?_=v:v===0&&(_=0));break}var p=s.charCodeAt(l+v),E=a.charCodeAt(c+v);if(p!==E)break;p===47&&(_=v)}var y="";for(v=l+_+1;v<=u;++v)(v===u||s.charCodeAt(v)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(c+_):(c+=_,a.charCodeAt(c)===47&&++c,a.slice(c))},_makeLong:function(s){return s},dirname:function(s){if(t(s),s.length===0)return".";for(var a=s.charCodeAt(0),l=a===47,u=-1,f=!0,c=s.length-1;c>=1;--c)if(a=s.charCodeAt(c),a===47){if(!f){u=c;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":s.slice(0,u)},basename:function(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(s);var l=0,u=-1,f=!0,c;if(a!==void 0&&a.length>0&&a.length<=s.length){if(a.length===s.length&&a===s)return"";var h=a.length-1,g=-1;for(c=s.length-1;c>=0;--c){var m=s.charCodeAt(c);if(m===47){if(!f){l=c+1;break}}else g===-1&&(f=!1,g=c+1),h>=0&&(m===a.charCodeAt(h)?--h===-1&&(u=c):(h=-1,u=g))}return l===u?u=g:u===-1&&(u=s.length),s.slice(l,u)}else{for(c=s.length-1;c>=0;--c)if(s.charCodeAt(c)===47){if(!f){l=c+1;break}}else u===-1&&(f=!1,u=c+1);return u===-1?"":s.slice(l,u)}},extname:function(s){t(s);for(var a=-1,l=0,u=-1,f=!0,c=0,h=s.length-1;h>=0;--h){var g=s.charCodeAt(h);if(g===47){if(!f){l=h+1;break}continue}u===-1&&(f=!1,u=h+1),g===46?a===-1?a=h:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===l+1?"":s.slice(a,u)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){t(s);var a={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return a;var l=s.charCodeAt(0),u=l===47,f;u?(a.root="/",f=1):f=0;for(var c=-1,h=0,g=-1,m=!0,_=s.length-1,v=0;_>=f;--_){if(l=s.charCodeAt(_),l===47){if(!m){h=_+1;break}continue}g===-1&&(m=!1,g=_+1),l===46?c===-1?c=_:v!==1&&(v=1):c!==-1&&(v=-1)}return c===-1||g===-1||v===0||v===1&&c===g-1&&c===h+1?g!==-1&&(h===0&&u?a.base=a.name=s.slice(1,g):a.base=a.name=s.slice(h,g)):(h===0&&u?(a.name=s.slice(1,c),a.base=s.slice(1,g)):(a.name=s.slice(h,c),a.base=s.slice(h,g)),a.ext=s.slice(c,g)),h>0?a.dir=s.slice(0,h-1):u&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,Cw=i,Cw}var Cw,NO,RO,yoe=on({"../../node_modules/@jspm/core/nodelibs/browser/chunk-BlJi4mNy.js"(){Te(),jg(),Cw={},NO=!1,RO=voe()}}),LV={};ll(LV,{URL:()=>KV,Url:()=>qV,default:()=>Di,fileURLToPath:()=>BV,format:()=>VV,parse:()=>GV,pathToFileURL:()=>UV,resolve:()=>HV,resolveObject:()=>WV});function woe(){if(IO)return Dw;IO=!0;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=i&&o&&typeof o.get=="function"?o.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,c=f?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,g=h?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,_=Object.prototype.toString,v=Function.prototype.toString,p=String.prototype.match,E=String.prototype.slice,y=String.prototype.replace,S=String.prototype.toUpperCase,$=String.prototype.toLowerCase,T=RegExp.prototype.test,d=Array.prototype.concat,x=Array.prototype.join,A=Array.prototype.slice,O=Math.floor,C=typeof BigInt=="function"?BigInt.prototype.valueOf:null,F=Object.getOwnPropertySymbols,V=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,X=typeof Symbol=="function"&&typeof Symbol.iterator=="object",H=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===X||!0)?Symbol.toStringTag:null,Z=Object.prototype.propertyIsEnumerable,fe=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ke){return ke.__proto__}:null);function ee(ke,Be){if(ke===1/0||ke===-1/0||ke!==ke||ke&&ke>-1e3&&ke<1e3||T.call(/e/,Be))return Be;var st=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ke=="number"){var wt=ke<0?-O(-ke):O(ke);if(wt!==ke){var ut=String(wt),Ct=E.call(Be,ut.length+1);return y.call(ut,st,"$&_")+"."+y.call(y.call(Ct,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(Be,st,"$&_")}var ne=zV,k=ne.custom,B=Ie(k)?k:null;Dw=function ke(Be,st,wt,ut){var Ct=st||{};if(M(Ct,"quoteStyle")&&Ct.quoteStyle!=="single"&&Ct.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(M(Ct,"maxStringLength")&&(typeof Ct.maxStringLength=="number"?Ct.maxStringLength<0&&Ct.maxStringLength!==1/0:Ct.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Tr=M(Ct,"customInspect")?Ct.customInspect:!0;if(typeof Tr!="boolean"&&Tr!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(M(Ct,"indent")&&Ct.indent!==null&&Ct.indent!=="	"&&!(parseInt(Ct.indent,10)===Ct.indent&&Ct.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(M(Ct,"numericSeparator")&&typeof Ct.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Pr=Ct.numericSeparator;if(typeof Be>"u")return"undefined";if(Be===null)return"null";if(typeof Be=="boolean")return Be?"true":"false";if(typeof Be=="string")return qe(Be,Ct);if(typeof Be=="number"){if(Be===0)return 1/0/Be>0?"0":"-0";var or=String(Be);return Pr?ee(Be,or):or}if(typeof Be=="bigint"){var ur=String(Be)+"n";return Pr?ee(Be,ur):ur}var sn=typeof Ct.depth>"u"?5:Ct.depth;if(typeof wt>"u"&&(wt=0),wt>=sn&&sn>0&&typeof Be=="object")return R(Be)?"[Array]":"[Object]";var tr=ye(Ct,wt);if(typeof ut>"u")ut=[];else if(ce(ut,Be)>=0)return"[Circular]";function Dt(jt,Lt,$t){if(Lt&&(ut=A.call(ut),ut.push(Lt)),$t){var Nt={depth:Ct.depth};return M(Ct,"quoteStyle")&&(Nt.quoteStyle=Ct.quoteStyle),ke(jt,Nt,wt+1,ut)}return ke(jt,Ct,wt+1,ut)}if(typeof Be=="function"&&!oe(Be)){var Jt=se(Be),Ee=De(Be,Dt);return"[Function"+(Jt?": "+Jt:" (anonymous)")+"]"+(Ee.length>0?" { "+x.call(Ee,", ")+" }":"")}if(Ie(Be)){var Pe=X?y.call(String(Be),/^(Symbol\(.*\))_[^)]*$/,"$1"):V.call(Be);return typeof Be=="object"&&!X?G(Pe):Pe}if(rt(Be)){for(var ct="<"+$.call(String(Be.nodeName)),ht=Be.attributes||[],et=0;et<ht.length;et++)ct+=" "+ht[et].name+"="+W(P(ht[et].value),"double",Ct);return ct+=">",Be.childNodes&&Be.childNodes.length&&(ct+="..."),ct+="</"+$.call(String(Be.nodeName))+">",ct}if(R(Be)){if(Be.length===0)return"[]";var At=De(Be,Dt);return tr&&!ie(At)?"["+Se(At,tr)+"]":"[ "+x.call(At,", ")+" ]"}if(J(Be)){var Ot=De(Be,Dt);return!("cause"in Error.prototype)&&"cause"in Be&&!Z.call(Be,"cause")?"{ ["+String(Be)+"] "+x.call(d.call("[cause]: "+Dt(Be.cause),Ot),", ")+" }":Ot.length===0?"["+String(Be)+"]":"{ ["+String(Be)+"] "+x.call(Ot,", ")+" }"}if(typeof Be=="object"&&Tr){if(B&&typeof Be[B]=="function"&&ne)return ne(Be,{depth:sn-wt});if(Tr!=="symbol"&&typeof Be.inspect=="function")return Be.inspect()}if(de(Be)){var he=[];return n&&n.call(Be,function(jt,Lt){he.push(Dt(Lt,Be,!0)+" => "+Dt(jt,Be))}),L("Map",r.call(Be),he,tr)}if(Le(Be)){var ue=[];return a&&a.call(Be,function(jt){ue.push(Dt(jt,Be))}),L("Set",s.call(Be),ue,tr)}if(pe(Be))return I("WeakMap");if(Ce(Be))return I("WeakSet");if(Ae(Be))return I("WeakRef");if(ae(Be))return G(Dt(Number(Be)));if(N(Be))return G(Dt(C.call(Be)));if(be(Be))return G(m.call(Be));if(Y(Be))return G(Dt(String(Be)));if(typeof window<"u"&&Be===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Be===globalThis||typeof Mw<"u"&&Be===Mw)return"{ [object globalThis] }";if(!z(Be)&&!oe(Be)){var we=De(Be,Dt),Re=fe?fe(Be)===Object.prototype:Be instanceof Object||Be.constructor===Object,xe=Be instanceof Object?"":"null prototype",ot=!Re&&H&&Object(Be)===Be&&H in Be?E.call(K(Be),8,-1):xe?"Object":"",tt=Re||typeof Be.constructor!="function"?"":Be.constructor.name?Be.constructor.name+" ":"",Tt=tt+(ot||xe?"["+x.call(d.call([],ot||[],xe||[]),": ")+"] ":"");return we.length===0?Tt+"{}":tr?Tt+"{"+Se(we,tr)+"}":Tt+"{ "+x.call(we,", ")+" }"}return String(Be)};function W(ke,Be,st){var wt=(st.quoteStyle||Be)==="double"?'"':"'";return wt+ke+wt}function P(ke){return y.call(String(ke),/"/g,"&quot;")}function R(ke){return K(ke)==="[object Array]"&&(!H||!(typeof ke=="object"&&H in ke))}function z(ke){return K(ke)==="[object Date]"&&(!H||!(typeof ke=="object"&&H in ke))}function oe(ke){return K(ke)==="[object RegExp]"&&(!H||!(typeof ke=="object"&&H in ke))}function J(ke){return K(ke)==="[object Error]"&&(!H||!(typeof ke=="object"&&H in ke))}function Y(ke){return K(ke)==="[object String]"&&(!H||!(typeof ke=="object"&&H in ke))}function ae(ke){return K(ke)==="[object Number]"&&(!H||!(typeof ke=="object"&&H in ke))}function be(ke){return K(ke)==="[object Boolean]"&&(!H||!(typeof ke=="object"&&H in ke))}function Ie(ke){if(X)return ke&&typeof ke=="object"&&ke instanceof Symbol;if(typeof ke=="symbol")return!0;if(!ke||typeof ke!="object"||!V)return!1;try{return V.call(ke),!0}catch{}return!1}function N(ke){if(!ke||typeof ke!="object"||!C)return!1;try{return C.call(ke),!0}catch{}return!1}var D=Object.prototype.hasOwnProperty||function(ke){return ke in(this||Mw)};function M(ke,Be){return D.call(ke,Be)}function K(ke){return _.call(ke)}function se(ke){if(ke.name)return ke.name;var Be=p.call(v.call(ke),/^function\s*([\w$]+)/);return Be?Be[1]:null}function ce(ke,Be){if(ke.indexOf)return ke.indexOf(Be);for(var st=0,wt=ke.length;st<wt;st++)if(ke[st]===Be)return st;return-1}function de(ke){if(!r||!ke||typeof ke!="object")return!1;try{r.call(ke);try{s.call(ke)}catch{return!0}return ke instanceof Map}catch{}return!1}function pe(ke){if(!u||!ke||typeof ke!="object")return!1;try{u.call(ke,u);try{c.call(ke,c)}catch{return!0}return ke instanceof WeakMap}catch{}return!1}function Ae(ke){if(!g||!ke||typeof ke!="object")return!1;try{return g.call(ke),!0}catch{}return!1}function Le(ke){if(!s||!ke||typeof ke!="object")return!1;try{s.call(ke);try{r.call(ke)}catch{return!0}return ke instanceof Set}catch{}return!1}function Ce(ke){if(!c||!ke||typeof ke!="object")return!1;try{c.call(ke,c);try{u.call(ke,u)}catch{return!0}return ke instanceof WeakSet}catch{}return!1}function rt(ke){return!ke||typeof ke!="object"?!1:typeof HTMLElement<"u"&&ke instanceof HTMLElement?!0:typeof ke.nodeName=="string"&&typeof ke.getAttribute=="function"}function qe(ke,Be){if(ke.length>Be.maxStringLength){var st=ke.length-Be.maxStringLength,wt="... "+st+" more character"+(st>1?"s":"");return qe(E.call(ke,0,Be.maxStringLength),Be)+wt}var ut=y.call(y.call(ke,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ue);return W(ut,"single",Be)}function Ue(ke){var Be=ke.charCodeAt(0),st={8:"b",9:"t",10:"n",12:"f",13:"r"}[Be];return st?"\\"+st:"\\x"+(Be<16?"0":"")+S.call(Be.toString(16))}function G(ke){return"Object("+ke+")"}function I(ke){return ke+" { ? }"}function L(ke,Be,st,wt){var ut=wt?Se(st,wt):x.call(st,", ");return ke+" ("+Be+") {"+ut+"}"}function ie(ke){for(var Be=0;Be<ke.length;Be++)if(ce(ke[Be],`
`)>=0)return!1;return!0}function ye(ke,Be){var st;if(ke.indent==="	")st="	";else if(typeof ke.indent=="number"&&ke.indent>0)st=x.call(Array(ke.indent+1)," ");else return null;return{base:st,prev:x.call(Array(Be+1),st)}}function Se(ke,Be){if(ke.length===0)return"";var st=`
`+Be.prev+Be.base;return st+x.call(ke,","+st)+`
`+Be.prev}function De(ke,Be){var st=R(ke),wt=[];if(st){wt.length=ke.length;for(var ut=0;ut<ke.length;ut++)wt[ut]=M(ke,ut)?Be(ke[ut],ke):""}var Ct=typeof F=="function"?F(ke):[],Tr;if(X){Tr={};for(var Pr=0;Pr<Ct.length;Pr++)Tr["$"+Ct[Pr]]=Ct[Pr]}for(var or in ke)M(ke,or)&&(st&&String(Number(or))===or&&or<ke.length||X&&Tr["$"+or]instanceof Symbol||(T.call(/[^\w$]/,or)?wt.push(Be(or,ke)+": "+Be(ke[or],ke)):wt.push(or+": "+Be(ke[or],ke))));if(typeof F=="function")for(var ur=0;ur<Ct.length;ur++)Z.call(ke,Ct[ur])&&wt.push("["+Be(Ct[ur])+"]: "+Be(ke[Ct[ur]],ke));return wt}return Dw}function boe(){if(jO)return Lw;jO=!0;var e=Gh(),t=AR(),r=woe(),n=Cg(),i=e("%WeakMap%",!0),o=e("%Map%",!0),s=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),u=t("Map.prototype.get",!0),f=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),h=function(v,p){for(var E=v,y;(y=E.next)!==null;E=y)if(y.key===p)return E.next=y.next,y.next=v.next,v.next=y,y},g=function(v,p){var E=h(v,p);return E&&E.value},m=function(v,p,E){var y=h(v,p);y?y.value=E:v.next={key:p,next:v.next,value:E}},_=function(v,p){return!!h(v,p)};return Lw=function(){var p,E,y,S={assert:function($){if(!S.has($))throw new n("Side channel does not contain "+r($))},get:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(p)return s(p,$)}else if(o){if(E)return u(E,$)}else if(y)return g(y,$)},has:function($){if(i&&$&&(typeof $=="object"||typeof $=="function")){if(p)return l(p,$)}else if(o){if(E)return c(E,$)}else if(y)return _(y,$);return!1},set:function($,T){i&&$&&(typeof $=="object"||typeof $=="function")?(p||(p=new i),a(p,$,T)):o?(E||(E=new o),f(E,$,T)):(y||(y={key:{},next:null}),m(y,$,T))}};return S},Lw}function WR(){if(kO)return Fw;kO=!0;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Fw={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},Fw}function FV(){if(CO)return Bw;CO=!0;var e=WR(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var v=[],p=0;p<256;++p)v.push("%"+((p<16?"0":"")+p.toString(16)).toUpperCase());return v}(),i=function(p){for(;p.length>1;){var E=p.pop(),y=E.obj[E.prop];if(r(y)){for(var S=[],$=0;$<y.length;++$)typeof y[$]<"u"&&S.push(y[$]);E.obj[E.prop]=S}}},o=function(p,E){for(var y=E&&E.plainObjects?Object.create(null):{},S=0;S<p.length;++S)typeof p[S]<"u"&&(y[S]=p[S]);return y},s=function v(p,E,y){if(!E)return p;if(typeof E!="object"){if(r(p))p.push(E);else if(p&&typeof p=="object")(y&&(y.plainObjects||y.allowPrototypes)||!t.call(Object.prototype,E))&&(p[E]=!0);else return[p,E];return p}if(!p||typeof p!="object")return[p].concat(E);var S=p;return r(p)&&!r(E)&&(S=o(p,y)),r(p)&&r(E)?(E.forEach(function($,T){if(t.call(p,T)){var d=p[T];d&&typeof d=="object"&&$&&typeof $=="object"?p[T]=v(d,$,y):p.push($)}else p[T]=$}),p):Object.keys(E).reduce(function($,T){var d=E[T];return t.call($,T)?$[T]=v($[T],d,y):$[T]=d,$},S)},a=function(p,E){return Object.keys(E).reduce(function(y,S){return y[S]=E[S],y},p)},l=function(v,p,E){var y=v.replace(/\+/g," ");if(E==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch{return y}},u=1024,f=function(p,E,y,S,$){if(p.length===0)return p;var T=p;if(typeof p=="symbol"?T=Symbol.prototype.toString.call(p):typeof p!="string"&&(T=String(p)),y==="iso-8859-1")return escape(T).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var d="",x=0;x<T.length;x+=u){for(var A=T.length>=u?T.slice(x,x+u):T,O=[],C=0;C<A.length;++C){var F=A.charCodeAt(C);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||$===e.RFC1738&&(F===40||F===41)){O[O.length]=A.charAt(C);continue}if(F<128){O[O.length]=n[F];continue}if(F<2048){O[O.length]=n[192|F>>6]+n[128|F&63];continue}if(F<55296||F>=57344){O[O.length]=n[224|F>>12]+n[128|F>>6&63]+n[128|F&63];continue}C+=1,F=65536+((F&1023)<<10|A.charCodeAt(C)&1023),O[O.length]=n[240|F>>18]+n[128|F>>12&63]+n[128|F>>6&63]+n[128|F&63]}d+=O.join("")}return d},c=function(p){for(var E=[{obj:{o:p},prop:"o"}],y=[],S=0;S<E.length;++S)for(var $=E[S],T=$.obj[$.prop],d=Object.keys(T),x=0;x<d.length;++x){var A=d[x],O=T[A];typeof O=="object"&&O!==null&&y.indexOf(O)===-1&&(E.push({obj:T,prop:A}),y.push(O))}return i(E),p},h=function(p){return Object.prototype.toString.call(p)==="[object RegExp]"},g=function(p){return!p||typeof p!="object"?!1:!!(p.constructor&&p.constructor.isBuffer&&p.constructor.isBuffer(p))},m=function(p,E){return[].concat(p,E)},_=function(p,E){if(r(p)){for(var y=[],S=0;S<p.length;S+=1)y.push(E(p[S]));return y}return E(p)};return Bw={arrayToObject:o,assign:a,combine:m,compact:c,decode:l,encode:f,isBuffer:g,isRegExp:h,maybeMap:_,merge:s},Bw}function _oe(){if(DO)return Uw;DO=!0;var e=boe(),t=FV(),r=WR(),n=Object.prototype.hasOwnProperty,i={brackets:function(v){return v+"[]"},comma:"comma",indices:function(v,p){return v+"["+p+"]"},repeat:function(v){return v}},o=Array.isArray,s=Array.prototype.push,a=function(_,v){s.apply(_,o(v)?v:[v])},l=Date.prototype.toISOString,u=r.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,format:u,formatter:r.formatters[u],indices:!1,serializeDate:function(v){return l.call(v)},skipNulls:!1,strictNullHandling:!1},c=function(v){return typeof v=="string"||typeof v=="number"||typeof v=="boolean"||typeof v=="symbol"||typeof v=="bigint"},h={},g=function _(v,p,E,y,S,$,T,d,x,A,O,C,F,V,X,H,Z,fe){for(var ee=v,ne=fe,k=0,B=!1;(ne=ne.get(h))!==void 0&&!B;){var W=ne.get(v);if(k+=1,typeof W<"u"){if(W===k)throw new RangeError("Cyclic object value");B=!0}typeof ne.get(h)>"u"&&(k=0)}if(typeof A=="function"?ee=A(p,ee):ee instanceof Date?ee=F(ee):E==="comma"&&o(ee)&&(ee=t.maybeMap(ee,function(K){return K instanceof Date?F(K):K})),ee===null){if($)return x&&!H?x(p,f.encoder,Z,"key",V):p;ee=""}if(c(ee)||t.isBuffer(ee)){if(x){var P=H?p:x(p,f.encoder,Z,"key",V);return[X(P)+"="+X(x(ee,f.encoder,Z,"value",V))]}return[X(p)+"="+X(String(ee))]}var R=[];if(typeof ee>"u")return R;var z;if(E==="comma"&&o(ee))H&&x&&(ee=t.maybeMap(ee,x)),z=[{value:ee.length>0?ee.join(",")||null:void 0}];else if(o(A))z=A;else{var oe=Object.keys(ee);z=O?oe.sort(O):oe}var J=d?p.replace(/\./g,"%2E"):p,Y=y&&o(ee)&&ee.length===1?J+"[]":J;if(S&&o(ee)&&ee.length===0)return Y+"[]";for(var ae=0;ae<z.length;++ae){var be=z[ae],Ie=typeof be=="object"&&typeof be.value<"u"?be.value:ee[be];if(!(T&&Ie===null)){var N=C&&d?be.replace(/\./g,"%2E"):be,D=o(ee)?typeof E=="function"?E(Y,N):Y:Y+(C?"."+N:"["+N+"]");fe.set(v,k);var M=e();M.set(h,fe),a(R,_(Ie,D,E,y,S,$,T,d,E==="comma"&&H&&o(ee)?null:x,A,O,C,F,V,X,H,Z,M))}}return R},m=function(v){if(!v)return f;if(typeof v.allowEmptyArrays<"u"&&typeof v.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof v.encodeDotInKeys<"u"&&typeof v.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(v.encoder!==null&&typeof v.encoder<"u"&&typeof v.encoder!="function")throw new TypeError("Encoder has to be a function.");var p=v.charset||f.charset;if(typeof v.charset<"u"&&v.charset!=="utf-8"&&v.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=r.default;if(typeof v.format<"u"){if(!n.call(r.formatters,v.format))throw new TypeError("Unknown format option provided.");E=v.format}var y=r.formatters[E],S=f.filter;(typeof v.filter=="function"||o(v.filter))&&(S=v.filter);var $;if(v.arrayFormat in i?$=v.arrayFormat:"indices"in v?$=v.indices?"indices":"repeat":$=f.arrayFormat,"commaRoundTrip"in v&&typeof v.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof v.allowDots>"u"?v.encodeDotInKeys===!0?!0:f.allowDots:!!v.allowDots;return{addQueryPrefix:typeof v.addQueryPrefix=="boolean"?v.addQueryPrefix:f.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof v.allowEmptyArrays=="boolean"?!!v.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:$,charset:p,charsetSentinel:typeof v.charsetSentinel=="boolean"?v.charsetSentinel:f.charsetSentinel,commaRoundTrip:v.commaRoundTrip,delimiter:typeof v.delimiter>"u"?f.delimiter:v.delimiter,encode:typeof v.encode=="boolean"?v.encode:f.encode,encodeDotInKeys:typeof v.encodeDotInKeys=="boolean"?v.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof v.encoder=="function"?v.encoder:f.encoder,encodeValuesOnly:typeof v.encodeValuesOnly=="boolean"?v.encodeValuesOnly:f.encodeValuesOnly,filter:S,format:E,formatter:y,serializeDate:typeof v.serializeDate=="function"?v.serializeDate:f.serializeDate,skipNulls:typeof v.skipNulls=="boolean"?v.skipNulls:f.skipNulls,sort:typeof v.sort=="function"?v.sort:null,strictNullHandling:typeof v.strictNullHandling=="boolean"?v.strictNullHandling:f.strictNullHandling}};return Uw=function(_,v){var p=_,E=m(v),y,S;typeof E.filter=="function"?(S=E.filter,p=S("",p)):o(E.filter)&&(S=E.filter,y=S);var $=[];if(typeof p!="object"||p===null)return"";var T=i[E.arrayFormat],d=T==="comma"&&E.commaRoundTrip;y||(y=Object.keys(p)),E.sort&&y.sort(E.sort);for(var x=e(),A=0;A<y.length;++A){var O=y[A];E.skipNulls&&p[O]===null||a($,g(p[O],O,T,d,E.allowEmptyArrays,E.strictNullHandling,E.skipNulls,E.encodeDotInKeys,E.encode?E.encoder:null,E.filter,E.sort,E.allowDots,E.serializeDate,E.format,E.formatter,E.encodeValuesOnly,E.charset,x))}var C=$.join(E.delimiter),F=E.addQueryPrefix===!0?"?":"";return E.charsetSentinel&&(E.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),C.length>0?F+C:""},Uw}function Eoe(){if(MO)return zw;MO=!0;var e=FV(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i=function(h){return h.replace(/&#(\d+);/g,function(g,m){return String.fromCharCode(parseInt(m,10))})},o=function(h,g){return h&&typeof h=="string"&&g.comma&&h.indexOf(",")>-1?h.split(","):h},s="utf8=%26%2310003%3B",a="utf8=%E2%9C%93",l=function(g,m){var _={__proto__:null},v=m.ignoreQueryPrefix?g.replace(/^\?/,""):g;v=v.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var p=m.parameterLimit===1/0?void 0:m.parameterLimit,E=v.split(m.delimiter,p),y=-1,S,$=m.charset;if(m.charsetSentinel)for(S=0;S<E.length;++S)E[S].indexOf("utf8=")===0&&(E[S]===a?$="utf-8":E[S]===s&&($="iso-8859-1"),y=S,S=E.length);for(S=0;S<E.length;++S)if(S!==y){var T=E[S],d=T.indexOf("]="),x=d===-1?T.indexOf("="):d+1,A,O;x===-1?(A=m.decoder(T,n.decoder,$,"key"),O=m.strictNullHandling?null:""):(A=m.decoder(T.slice(0,x),n.decoder,$,"key"),O=e.maybeMap(o(T.slice(x+1),m),function(F){return m.decoder(F,n.decoder,$,"value")})),O&&m.interpretNumericEntities&&$==="iso-8859-1"&&(O=i(O)),T.indexOf("[]=")>-1&&(O=r(O)?[O]:O);var C=t.call(_,A);C&&m.duplicates==="combine"?_[A]=e.combine(_[A],O):(!C||m.duplicates==="last")&&(_[A]=O)}return _},u=function(h,g,m,_){for(var v=_?g:o(g,m),p=h.length-1;p>=0;--p){var E,y=h[p];if(y==="[]"&&m.parseArrays)E=m.allowEmptyArrays&&(v===""||m.strictNullHandling&&v===null)?[]:[].concat(v);else{E=m.plainObjects?Object.create(null):{};var S=y.charAt(0)==="["&&y.charAt(y.length-1)==="]"?y.slice(1,-1):y,$=m.decodeDotInKeys?S.replace(/%2E/g,"."):S,T=parseInt($,10);!m.parseArrays&&$===""?E={0:v}:!isNaN(T)&&y!==$&&String(T)===$&&T>=0&&m.parseArrays&&T<=m.arrayLimit?(E=[],E[T]=v):$!=="__proto__"&&(E[$]=v)}v=E}return v},f=function(g,m,_,v){if(g){var p=_.allowDots?g.replace(/\.([^.[]+)/g,"[$1]"):g,E=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,S=_.depth>0&&E.exec(p),$=S?p.slice(0,S.index):p,T=[];if($){if(!_.plainObjects&&t.call(Object.prototype,$)&&!_.allowPrototypes)return;T.push($)}for(var d=0;_.depth>0&&(S=y.exec(p))!==null&&d<_.depth;){if(d+=1,!_.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!_.allowPrototypes)return;T.push(S[1])}if(S){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");T.push("["+p.slice(S.index)+"]")}return u(T,m,_,v)}},c=function(g){if(!g)return n;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.decodeDotInKeys<"u"&&typeof g.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(g.decoder!==null&&typeof g.decoder<"u"&&typeof g.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=typeof g.charset>"u"?n.charset:g.charset,_=typeof g.duplicates>"u"?n.duplicates:g.duplicates;if(_!=="combine"&&_!=="first"&&_!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var v=typeof g.allowDots>"u"?g.decodeDotInKeys===!0?!0:n.allowDots:!!g.allowDots;return{allowDots:v,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof g.allowPrototypes=="boolean"?g.allowPrototypes:n.allowPrototypes,allowSparse:typeof g.allowSparse=="boolean"?g.allowSparse:n.allowSparse,arrayLimit:typeof g.arrayLimit=="number"?g.arrayLimit:n.arrayLimit,charset:m,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:n.charsetSentinel,comma:typeof g.comma=="boolean"?g.comma:n.comma,decodeDotInKeys:typeof g.decodeDotInKeys=="boolean"?g.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof g.decoder=="function"?g.decoder:n.decoder,delimiter:typeof g.delimiter=="string"||e.isRegExp(g.delimiter)?g.delimiter:n.delimiter,depth:typeof g.depth=="number"||g.depth===!1?+g.depth:n.depth,duplicates:_,ignoreQueryPrefix:g.ignoreQueryPrefix===!0,interpretNumericEntities:typeof g.interpretNumericEntities=="boolean"?g.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof g.parameterLimit=="number"?g.parameterLimit:n.parameterLimit,parseArrays:g.parseArrays!==!1,plainObjects:typeof g.plainObjects=="boolean"?g.plainObjects:n.plainObjects,strictDepth:typeof g.strictDepth=="boolean"?!!g.strictDepth:n.strictDepth,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:n.strictNullHandling}};return zw=function(h,g){var m=c(g);if(h===""||h===null||typeof h>"u")return m.plainObjects?Object.create(null):{};for(var _=typeof h=="string"?l(h,m):h,v=m.plainObjects?Object.create(null):{},p=Object.keys(_),E=0;E<p.length;++E){var y=p[E],S=f(y,_[y],m,typeof h=="string");v=e.merge(v,S,m)}return m.allowSparse===!0?v:e.compact(v)},zw}function Soe(){if(LO)return qw;LO=!0;var e=_oe(),t=Eoe(),r=WR();return qw={formats:r,parse:t,stringify:e},qw}function $oe(){if(FO)return Ou;FO=!0;var e=Au;function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,i=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],s=["{","}","|","\\","^","`"].concat(o),a=["'"].concat(s),l=["%","/","?",";","#"].concat(a),u=["/","?","#"],f=255,c=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=Soe();function p($,T,d){if($&&typeof $=="object"&&$ instanceof t)return $;var x=new t;return x.parse($,T,d),x}t.prototype.parse=function($,T,d){if(typeof $!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var x=$.indexOf("?"),A=x!==-1&&x<$.indexOf("#")?"?":"#",O=$.split(A),C=/\\/g;O[0]=O[0].replace(C,"/"),$=O.join(A);var F=$;if(F=F.trim(),!d&&$.split("#").length===1){var V=i.exec(F);if(V)return this.path=F,this.href=F,this.pathname=V[1],V[2]?(this.search=V[2],T?this.query=v.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var X=r.exec(F);if(X){X=X[0];var H=X.toLowerCase();this.protocol=H,F=F.substr(X.length)}if(d||X||F.match(/^\/\/[^@/]+@[^@/]+/)){var Z=F.substr(0,2)==="//";Z&&!(X&&m[X])&&(F=F.substr(2),this.slashes=!0)}if(!m[X]&&(Z||X&&!_[X])){for(var fe=-1,ee=0;ee<u.length;ee++){var ne=F.indexOf(u[ee]);ne!==-1&&(fe===-1||ne<fe)&&(fe=ne)}var k,B;fe===-1?B=F.lastIndexOf("@"):B=F.lastIndexOf("@",fe),B!==-1&&(k=F.slice(0,B),F=F.slice(B+1),this.auth=decodeURIComponent(k)),fe=-1;for(var ee=0;ee<l.length;ee++){var ne=F.indexOf(l[ee]);ne!==-1&&(fe===-1||ne<fe)&&(fe=ne)}fe===-1&&(fe=F.length),this.host=F.slice(0,fe),F=F.slice(fe),this.parseHost(),this.hostname=this.hostname||"";var W=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!W)for(var P=this.hostname.split(/\./),ee=0,R=P.length;ee<R;ee++){var z=P[ee];if(z&&!z.match(c)){for(var oe="",J=0,Y=z.length;J<Y;J++)z.charCodeAt(J)>127?oe+="x":oe+=z[J];if(!oe.match(c)){var ae=P.slice(0,ee),be=P.slice(ee+1),Ie=z.match(h);Ie&&(ae.push(Ie[1]),be.unshift(Ie[2])),be.length&&(F="/"+be.join(".")+F),this.hostname=ae.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),W||(this.hostname=e.toASCII(this.hostname));var N=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+N,this.href+=this.host,W&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),F[0]!=="/"&&(F="/"+F))}if(!g[H])for(var ee=0,R=a.length;ee<R;ee++){var M=a[ee];if(F.indexOf(M)!==-1){var K=encodeURIComponent(M);K===M&&(K=escape(M)),F=F.split(M).join(K)}}var se=F.indexOf("#");se!==-1&&(this.hash=F.substr(se),F=F.slice(0,se));var ce=F.indexOf("?");if(ce!==-1?(this.search=F.substr(ce),this.query=F.substr(ce+1),T&&(this.query=v.parse(this.query)),F=F.slice(0,ce)):T&&(this.search="",this.query={}),F&&(this.pathname=F),_[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",de=this.search||"";this.path=N+de}return this.href=this.format(),this};function E($){return typeof $=="string"&&($=p($)),$ instanceof t?$.format():t.prototype.format.call($)}t.prototype.format=function(){var $=this.auth||"";$&&($=encodeURIComponent($),$=$.replace(/%3A/i,":"),$+="@");var T=this.protocol||"",d=this.pathname||"",x=this.hash||"",A=!1,O="";this.host?A=$+this.host:this.hostname&&(A=$+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(O=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var C=this.search||O&&"?"+O||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||_[T])&&A!==!1?(A="//"+(A||""),d&&d.charAt(0)!=="/"&&(d="/"+d)):A||(A=""),x&&x.charAt(0)!=="#"&&(x="#"+x),C&&C.charAt(0)!=="?"&&(C="?"+C),d=d.replace(/[?#]/g,function(F){return encodeURIComponent(F)}),C=C.replace("#","%23"),T+A+d+C+x};function y($,T){return p($,!1,!0).resolve(T)}t.prototype.resolve=function($){return this.resolveObject(p($,!1,!0)).format()};function S($,T){return $?p($,!1,!0).resolveObject(T):T}return t.prototype.resolveObject=function($){if(typeof $=="string"){var T=new t;T.parse($,!1,!0),$=T}for(var d=new t,x=Object.keys(this),A=0;A<x.length;A++){var O=x[A];d[O]=this[O]}if(d.hash=$.hash,$.href==="")return d.href=d.format(),d;if($.slashes&&!$.protocol){for(var C=Object.keys($),F=0;F<C.length;F++){var V=C[F];V!=="protocol"&&(d[V]=$[V])}return _[d.protocol]&&d.hostname&&!d.pathname&&(d.pathname="/",d.path=d.pathname),d.href=d.format(),d}if($.protocol&&$.protocol!==d.protocol){if(!_[$.protocol]){for(var X=Object.keys($),H=0;H<X.length;H++){var Z=X[H];d[Z]=$[Z]}return d.href=d.format(),d}if(d.protocol=$.protocol,!$.host&&!m[$.protocol]){for(var R=($.pathname||"").split("/");R.length&&!($.host=R.shift()););$.host||($.host=""),$.hostname||($.hostname=""),R[0]!==""&&R.unshift(""),R.length<2&&R.unshift(""),d.pathname=R.join("/")}else d.pathname=$.pathname;if(d.search=$.search,d.query=$.query,d.host=$.host||"",d.auth=$.auth,d.hostname=$.hostname||$.host,d.port=$.port,d.pathname||d.search){var fe=d.pathname||"",ee=d.search||"";d.path=fe+ee}return d.slashes=d.slashes||$.slashes,d.href=d.format(),d}var ne=d.pathname&&d.pathname.charAt(0)==="/",k=$.host||$.pathname&&$.pathname.charAt(0)==="/",B=k||ne||d.host&&$.pathname,W=B,P=d.pathname&&d.pathname.split("/")||[],R=$.pathname&&$.pathname.split("/")||[],z=d.protocol&&!_[d.protocol];if(z&&(d.hostname="",d.port=null,d.host&&(P[0]===""?P[0]=d.host:P.unshift(d.host)),d.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(R[0]===""?R[0]=$.host:R.unshift($.host)),$.host=null),B=B&&(R[0]===""||P[0]==="")),k)d.host=$.host||$.host===""?$.host:d.host,d.hostname=$.hostname||$.hostname===""?$.hostname:d.hostname,d.search=$.search,d.query=$.query,P=R;else if(R.length)P||(P=[]),P.pop(),P=P.concat(R),d.search=$.search,d.query=$.query;else if($.search!=null){if(z){d.host=P.shift(),d.hostname=d.host;var oe=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;oe&&(d.auth=oe.shift(),d.hostname=oe.shift(),d.host=d.hostname)}return d.search=$.search,d.query=$.query,(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.href=d.format(),d}if(!P.length)return d.pathname=null,d.search?d.path="/"+d.search:d.path=null,d.href=d.format(),d;for(var J=P.slice(-1)[0],Y=(d.host||$.host||P.length>1)&&(J==="."||J==="..")||J==="",ae=0,be=P.length;be>=0;be--)J=P[be],J==="."?P.splice(be,1):J===".."?(P.splice(be,1),ae++):ae&&(P.splice(be,1),ae--);if(!B&&!W)for(;ae--;ae)P.unshift("..");B&&P[0]!==""&&(!P[0]||P[0].charAt(0)!=="/")&&P.unshift(""),Y&&P.join("/").substr(-1)!=="/"&&P.push("");var Ie=P[0]===""||P[0]&&P[0].charAt(0)==="/";if(z){d.hostname=Ie?"":P.length?P.shift():"",d.host=d.hostname;var oe=d.host&&d.host.indexOf("@")>0?d.host.split("@"):!1;oe&&(d.auth=oe.shift(),d.hostname=oe.shift(),d.host=d.hostname)}return B=B||d.host&&P.length,B&&!Ie&&P.unshift(""),P.length>0?d.pathname=P.join("/"):(d.pathname=null,d.path=null),(d.pathname!==null||d.search!==null)&&(d.path=(d.pathname?d.pathname:"")+(d.search?d.search:"")),d.auth=$.auth||d.auth,d.slashes=d.slashes||$.slashes,d.href=d.format(),d},t.prototype.parseHost=function(){var $=this.host,T=n.exec($);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),$=$.substr(0,$.length-T.length)),$&&(this.hostname=$)},Ou.parse=p,Ou.resolve=y,Ou.resolveObject=S,Ou.format=E,Ou.Url=t,Ou}function BV(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return t_?Toe(e):xoe(e)}function Toe(e){const t=e.hostname;let r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){const i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(ZV,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{const n=r.codePointAt(1)|32,i=r[2];if(n<XV||n>QV||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function xoe(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");const t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){const n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function UV(e){let t=RO.resolve(e);const r=e.charCodeAt(e.length-1);(r===YV||t_&&r===JV)&&t[t.length-1]!==RO.sep&&(t+="/");const n=new URL("file://");return t.includes("%")&&(t=t.replace(e8,"%25")),!t_&&t.includes("\\")&&(t=t.replace(t8,"%5C")),t.includes(`
`)&&(t=t.replace(r8,"%0A")),t.includes("\r")&&(t=t.replace(n8,"%0D")),t.includes("	")&&(t=t.replace(i8,"%09")),n.pathname=t,n}var zV,Dw,IO,Mw,Lw,jO,Fw,kO,Bw,CO,Uw,DO,zw,MO,qw,LO,Ou,FO,Di,EM,qV,VV,HV,WV,GV,KV,JV,YV,XV,QV,t_,ZV,e8,t8,r8,n8,i8,Aoe=on({"../../node_modules/@jspm/core/nodelibs/browser/url.js"(){Te(),goe(),OR(),yoe(),jg(),zV=Object.freeze(Object.create(null)),Dw={},IO=!1,Mw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Lw={},jO=!1,Fw={},kO=!1,Bw={},CO=!1,Uw={},DO=!1,zw={},MO=!1,qw={},LO=!1,Ou={},FO=!1,Di=$oe(),Di.parse,Di.resolve,Di.resolveObject,Di.format,Di.Url,EM=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Di.URL=typeof URL<"u"?URL:null,Di.pathToFileURL=UV,Di.fileURLToPath=BV,qV=Di.Url,VV=Di.format,HV=Di.resolve,WV=Di.resolveObject,GV=Di.parse,KV=Di.URL,JV=92,YV=47,XV=97,QV=122,t_=EM==="win32",ZV=/\//g,e8=/%/g,t8=/\\/g,r8=/\n/g,n8=/\r/g,i8=/\t/g}}),Ooe=Ne({"../../node_modules/eventsource/lib/eventsource.js"(e,t){Te();var r=(Aoe(),Or(LV)).parse,n=(rq(),Or(J6)),i=(fE(),Or(kg)),o=(wR(),Or(uE)),s=(hE(),Or(dE)),a=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],u=58,f=32,c=10,h=13,g=1024*256,m=/^(cookie|authorization)$/i;function _(S){return l.every(function($,T){return S[T]===$})}function v(S,$){var T=v.CONNECTING,d=$&&$.headers,x=!1;Object.defineProperty(this,"readyState",{get:function(){return T}}),Object.defineProperty(this,"url",{get:function(){return S}});var A=this;A.reconnectInterval=1e3,A.connectionInProgress=!1;function O(k){T!==v.CLOSED&&(T=v.CONNECTING,ee("error",new p("error",{message:k})),Z&&(S=Z,Z=null,x=!1),setTimeout(function(){T!==v.CONNECTING||A.connectionInProgress||(A.connectionInProgress=!0,fe())},A.reconnectInterval))}var C,F="";d&&d["Last-Event-ID"]&&(F=d["Last-Event-ID"],delete d["Last-Event-ID"]);var V=!1,X="",H="",Z=null;function fe(){var k=r(S),B=k.protocol==="https:";if(k.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},F&&(k.headers["Last-Event-ID"]=F),d){var W=x?y(d):d;for(var P in W){var R=W[P];R&&(k.headers[P]=R)}}k.rejectUnauthorized=!($&&!$.rejectUnauthorized),$&&$.createConnection!==void 0&&(k.createConnection=$.createConnection);var z=$&&$.proxy;if(z){var oe=r($.proxy);B=oe.protocol==="https:",k.protocol=B?"https:":"http:",k.path=S,k.headers.Host=k.host,k.hostname=oe.hostname,k.host=oe.host,k.port=oe.port}if($&&$.https){for(var J in $.https)if(a.indexOf(J)!==-1){var Y=$.https[J];Y!==void 0&&(k[J]=Y)}}$&&$.withCredentials!==void 0&&(k.withCredentials=$.withCredentials),C=(B?i:o).request(k,function(ae){if(A.connectionInProgress=!1,ae.statusCode===500||ae.statusCode===502||ae.statusCode===503||ae.statusCode===504){ee("error",new p("error",{status:ae.statusCode,message:ae.statusMessage})),O();return}if(ae.statusCode===301||ae.statusCode===302||ae.statusCode===307){var be=ae.headers.location;if(!be){ee("error",new p("error",{status:ae.statusCode,message:ae.statusMessage}));return}var Ie=new URL(S).origin,N=new URL(be).origin;x=Ie!==N,ae.statusCode===307&&(Z=S),S=be,process.nextTick(fe);return}if(ae.statusCode!==200)return ee("error",new p("error",{status:ae.statusCode,message:ae.statusMessage})),A.close();T=v.OPEN,ae.on("close",function(){ae.removeAllListeners("close"),ae.removeAllListeners("end"),O()}),ae.on("end",function(){ae.removeAllListeners("close"),ae.removeAllListeners("end"),O()}),ee("open",new p("open"));var D,M,K=0,se=-1,ce=0,de=0;ae.on("data",function(pe){D?(pe.length>D.length-de&&(ce=D.length*2+pe.length,ce>g&&(ce=D.length+pe.length+g),M=Yr.alloc(ce),D.copy(M,0,0,de),D=M),pe.copy(D,de),de+=pe.length):(D=pe,_(D)&&(D=D.slice(l.length)),de=D.length);for(var Ae=0,Le=de;Ae<Le;){V&&(D[Ae]===c&&++Ae,V=!1);for(var Ce=-1,rt=se,qe,Ue=K;Ce<0&&Ue<Le;++Ue)qe=D[Ue],qe===u?rt<0&&(rt=Ue-Ae):qe===h?(V=!0,Ce=Ue-Ae):qe===c&&(Ce=Ue-Ae);if(Ce<0){K=Le-Ae,se=rt;break}else K=0,se=-1;ne(D,Ae,rt,Ce),Ae+=Ce+1}Ae===Le?(D=void 0,de=0):Ae>0&&(D=D.slice(Ae,de),de=D.length)})}),C.on("error",function(ae){A.connectionInProgress=!1,O(ae.message)}),C.setNoDelay&&C.setNoDelay(!0),C.end()}fe();function ee(){A.listeners(arguments[0]).length>0&&A.emit.apply(A,arguments)}this._close=function(){T!==v.CLOSED&&(T=v.CLOSED,C.abort&&C.abort(),C.xhr&&C.xhr.abort&&C.xhr.abort())};function ne(k,B,W,P){if(P===0){if(X.length>0){var R=H||"message";ee(R,new E(R,{data:X.slice(0,-1),lastEventId:F,origin:new URL(S).origin})),X=""}H=void 0}else if(W>0){var z=W<0,oe=0,J=k.slice(B,B+(z?P:W)).toString();z?oe=P:k[B+W+1]!==f?oe=W+1:oe=W+2,B+=oe;var Y=P-oe,ae=k.slice(B,B+Y).toString();if(J==="data")X+=ae+`
`;else if(J==="event")H=ae;else if(J==="id")F=ae;else if(J==="retry"){var be=parseInt(ae,10);Number.isNaN(be)||(A.reconnectInterval=be)}}}}t.exports=v,s.inherits(v,n.EventEmitter),v.prototype.constructor=v,["open","error","message"].forEach(function(S){Object.defineProperty(v.prototype,"on"+S,{get:function(){var T=this.listeners(S)[0];return T?T._listener?T._listener:T:void 0},set:function(T){this.removeAllListeners(S),this.addEventListener(S,T)}})}),Object.defineProperty(v,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(v,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(v,"CLOSED",{enumerable:!0,value:2}),v.prototype.CONNECTING=0,v.prototype.OPEN=1,v.prototype.CLOSED=2,v.prototype.close=function(){this._close()},v.prototype.addEventListener=function($,T){typeof T=="function"&&(T._listener=T,this.on($,T))},v.prototype.dispatchEvent=function($){if(!$.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit($.type,$.detail)},v.prototype.removeEventListener=function($,T){typeof T=="function"&&(T._listener=void 0,this.removeListener($,T))};function p(S,$){if(Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0}),$)for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function E(S,$){Object.defineProperty(this,"type",{writable:!1,value:S,enumerable:!0});for(var T in $)$.hasOwnProperty(T)&&Object.defineProperty(this,T,{writable:!1,value:$[T],enumerable:!0})}function y(S){var $={};for(var T in S)m.test(T)||($[T]=S[T]);return $}}}),Poe=Ne({"../binding-http/dist/subscription-protocols.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.SSESubscription=e.LongPollingSubscription=void 0;var r=t(Ooe()),n=Do(),i=(zs(),Or(os)),{debug:o}=(0,n.createLoggers)("binding-http","subscription-protocols"),s=class{constructor(l,u){this.form=l,this.client=u,this.closed=!1,this.abortController=new AbortController}open(l,u,f){return new Promise((c,h)=>{const g=async m=>{try{if(m){const p=await this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(await this.client.fetch(p)).ok&&c()}const _=await this.client.generateFetchRequest(this.form,"GET",{timeout:60*60*1e3,signal:this.abortController.signal});o(`HttpClient (subscribeResource) sending ${_.method} to ${_.url}`);const v=await this.client.fetch(_);if(this.client.checkFetchResponse(v),o(`HttpClient received ${v.status} from ${_.url}`),o(`HttpClient received headers: ${JSON.stringify(v.headers.raw())}`),o(`HttpClient received Content-Type: ${v.headers.get("content-type")}`),!this.closed){const p=n.ProtocolHelpers.toNodeStream(v.body);l(new n.Content(v.headers.get("content-type")??n.ContentSerdes.DEFAULT,p)),g(!1)}f&&f()}catch(_){const v=_ instanceof Error?_:new Error(JSON.stringify(_));u&&u(v),f&&f(),h(_)}};g(!0)})}close(){this.abortController.abort(),this.closed=!0}};e.LongPollingSubscription=s;var a=class{constructor(l){this.form=l,this.closed=!1}open(l,u,f){return new Promise((c,h)=>{this.eventSource=new r.default(this.form.href),this.eventSource.onopen=g=>{o(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),c()},this.eventSource.onmessage=g=>{o(`HttpClient received ${JSON.stringify(g)} from ${this.form.href}`);const m=new n.Content(this.form.contentType??n.ContentSerdes.DEFAULT,i.Readable.from(g.data));l(m)},this.eventSource.onerror=function(g){u==null||u(new Error(g.toString())),f&&f(),h(g.toString())}})}close(){var l;(l=this.eventSource)==null||l.close()}};e.SSESubscription=a}}),Noe=Ne({"../binding-http/dist/http-client-impl.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(E,y,S,$){$===void 0&&($=S);var T=Object.getOwnPropertyDescriptor(y,S);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(E,$,T)}:function(E,y,S,$){$===void 0&&($=S),E[$]=y[S]}),r=e&&e.__setModuleDefault||(Object.create?function(E,y){Object.defineProperty(E,"default",{enumerable:!0,value:y})}:function(E,y){E.default=y}),n=e&&e.__importStar||function(){var E=function(y){return E=Object.getOwnPropertyNames||function(S){var $=[];for(var T in S)Object.prototype.hasOwnProperty.call(S,T)&&($[$.length]=T);return $},E(y)};return function(y){if(y&&y.__esModule)return y;var S={};if(y!=null)for(var $=E(y),T=0;T<$.length;T++)$[T]!=="default"&&t(S,y,$[T]);return r(S,y),S}}(),i=e&&e.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var o=n((wR(),Or(uE))),s=n((fE(),Or(kg))),a=roe(),l=Do(),u=n(HR()),f=(dc(),Or(fc)),c=i(MV()),h=CV(),g=Poe(),{debug:m,warn:_,error:v}=(0,l.createLoggers)("binding-http","http-client-impl"),p=class Xp{constructor(y=null,S=!1,$=new c.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,y!==null&&y.proxy&&y.proxy.href&&(this.proxyRequest=new u.Request(Xp.fixLocalhostName(y.proxy.href)),y.proxy.scheme==="basic"?((!Object.prototype.hasOwnProperty.call(y.proxy,"username")||!Object.prototype.hasOwnProperty.call(y.proxy,"password"))&&_("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(y.proxy.username+":"+y.proxy.password).toString("base64"))):y.proxy.scheme==="bearer"&&(Object.prototype.hasOwnProperty.call(y.proxy,"token")||_("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+y.proxy.token)),this.proxyRequest.protocol==="https"&&(S=!0),m(`HttpClient using ${S?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),y!==null&&y.allowSelfSigned!==void 0&&(this.allowSelfSigned=y.allowSelfSigned,_("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=S?new s.Agent({rejectUnauthorized:!this.allowSelfSigned}):new o.Agent,this.provider=S?"https":"http",this.oauth=$}toString(){return"[HttpClient]"}async readResource(y){const S=y.contentType!=null?[["accept",y.contentType]]:[["accept",l.ContentSerdes.DEFAULT]],$=await this.generateFetchRequest(y,"GET",{headers:S});m(`HttpClient (readResource) sending ${$.method} to ${$.url}`);const T=await this.fetch($);this.checkFetchResponse(T),m(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`),m(`HttpClient received Content-Type: ${T.headers.get("content-type")}`);const d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??l.ContentSerdes.DEFAULT,d)}async writeResource(y,S){const $=await this.generateFetchRequest(y,"PUT",{headers:[["content-type",S.type]],body:S.body});m(`HttpClient (writeResource) sending ${$.method} with '${$.headers.get("Content-Type")}' to ${$.url}`);const T=await this.fetch($);m(`HttpClient received ${T.status} from ${T.url}`),this.checkFetchResponse(T),m(`HttpClient received headers: ${JSON.stringify(T.headers.raw())}`)}async subscribeResource(y,S,$,T){const d="longpoll";let x=y.subprotocol;x==null&&(_(`Subscribing to ${y.href} using long polling for form without subprotocol`),x=d);let A;if(x===d)A=new g.LongPollingSubscription(y,this);else if(y.subprotocol==="sse")A=new g.SSESubscription(y);else throw new Error(`HttpClient does not support subprotocol ${y.subprotocol}`);return await A.open(S,$,T),this.activeSubscriptions.set(y.href,A),new a.Subscription(()=>{A.close()})}async invokeResource(y,S){var A,O;const $=S!=null?[["content-type",S.type]]:[];((A=y.response)==null?void 0:A.contentType)!=null?$.push(["accept",(O=y.response)==null?void 0:O.contentType]):y.contentType!=null?$.push(["accept",y.contentType]):$.push(["accept",l.ContentSerdes.DEFAULT]);const T=await this.generateFetchRequest(y,"POST",{headers:$,body:S==null?void 0:S.body});m(`HttpClient (invokeResource) sending ${T.method} ${S!=null?`with '"${T.headers.get("Content-Type")}"`:""} to ${T.url}`);const d=await this.fetch(T);m(`HttpClient received ${d.status} from ${T.url}`),m(`HttpClient received Content-Type: ${d.headers.get("content-type")}`),this.checkFetchResponse(d);const x=l.ProtocolHelpers.toNodeStream(d.body);return new l.Content(d.headers.get("content-type")??l.ContentSerdes.DEFAULT,x)}async unlinkResource(y){m(`HttpClient (unlinkResource) ${y.href}`);const S=this.activeSubscriptions.get(y.href);S?S.close():_(`HttpClient cannot unlink ${y.href} no subscription found`)}async requestThingDescription(y){const S={Accept:"application/td+json"},$=await this.generateFetchRequest({href:y},"GET",S),T=await this.fetch($),d=l.ProtocolHelpers.toNodeStream(T.body);return new l.Content(T.headers.get("content-type")??"application/td+json",d)}async start(){}async stop(){var y,S;(S=(y=this.agent)==null?void 0:y.destroy)==null||S.call(y)}setSecurity(y,S){if(y===void 0||!Array.isArray(y)||y.length===0)return _("HttpClient without security"),!1;const $=y[0];switch($.scheme){case"basic":{const T=$;this.credential=new h.BasicCredential(S,T);break}case"bearer":{const T=$;this.credential=new h.BearerCredential(S,T);break}case"apikey":{const T=$;this.credential=new h.BasicKeyCredential(S,T);break}case"oauth2":{const T=$;T.flow==="client"?(T.flow="client_credentials",this.credential=this.oauth.handleClient(T,S)):T.flow==="password"&&(this.credential=this.oauth.handleResourceOwnerCredential(T,S));break}case"TuyaCustomBearer":{this.credential=new h.TuyaCustomBearer(S,$);break}case"nosec":break;default:return v(`HttpClient cannot set security scheme '${$.scheme}'. ${y}`),!1}if($.proxy!=null){if(this.proxyRequest!==null&&m(`HttpClient overriding client-side proxy with security proxy '${$.proxy}`),this.proxyRequest=new u.Request(Xp.fixLocalhostName($.proxy)),$.scheme==="basic"){const T=S;if(T===void 0||T.username===void 0||T.password===void 0)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+f.Buffer.from(T.username+":"+T.password).toString("base64"))}else if($.scheme==="bearer"){const T=S;if(S===void 0||T.token===void 0)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+T.token)}}return m(`HttpClient using security scheme '${$.scheme}'`),!0}async generateFetchRequest(y,S,$={}){const T=$,d=Xp.fixLocalhostName(y.href);if(T.method=y["htv:methodName"]?y["htv:methodName"]:S,T.headers=T.headers??[],T.headers=T.headers,Array.isArray(y["htv:headers"])){m(`HttpClient got Form 'headers' ${y["htv:headers"]}`);const A=y["htv:headers"];for(const O of A)T.headers=T.headers.filter(C=>C[0].toLowerCase()!==O["htv:fieldName"].toLowerCase()),T.headers.push([O["htv:fieldName"],O["htv:fieldValue"]])}else if(typeof y["htv:headers"]=="object"){m(`HttpClient got Form SINGLE-ENTRY 'headers' ${y["htv:headers"]}`);const A=y["htv:headers"];T.headers=T.headers.filter(O=>O[0].toLowerCase()!==A["htv:fieldName"].toLowerCase()),T.headers.push([A["htv:fieldName"],A["htv:fieldValue"]])}T.agent=this.agent;let x=this.proxyRequest?new u.Request(this.proxyRequest,T):new u.Request(d,T);if(this.credential&&(x=await this.credential.sign(x)),this.proxyRequest){const A=new URL(d);x.url=x.url+A.pathname,m(`HttpClient proxy request URL: ${x.url}`),x.headers.set("host",A.hostname)}return x}async fetch(y,S){const $=await(0,u.default)(y,{body:S==null?void 0:S.body});return Xp.isOAuthTokenExpired($,this.credential)?(this.credential=await this.credential.refreshToken(),await(0,u.default)(await this.credential.sign(y))):$}checkFetchResponse(y){const S=y.status;if(S<200)throw new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`);if(!(S<300))throw S<400?new Error(`HttpClient received ${S} and cannot continue (not implemented, open GitHub Issue)`):S<500?new Error(`Client error: ${y.statusText}`):new Error(`Server error: ${y.statusText}`)}static isOAuthTokenExpired(y,S){return y.status===401&&S instanceof h.OAuthCredential}static fixLocalhostName(y){const S=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return S.test(y)?(_("LOCALHOST FIX"),y.replace(S,"$1$2127.0.0.1")):y}};e.default=p}}),r_=Ne({"../binding-http/dist/http-client-browser.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Do(),n=(zs(),Or(os)),i=t(Noe()),o=class extends i.default{async generateFetchRequest(s,a,l){if((l==null?void 0:l.body)instanceof n.Readable){const u=await r.ProtocolHelpers.readStreamFully(l.body);l.body=u}return super.generateFetchRequest(s,a,l)}};e.default=o}}),SM=Ne({"../binding-http/dist/http-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=Do(),n=t(r_()),i=t(MV()),{debug:o,warn:s}=(0,r.createLoggers)("binding-http","http-client-factory"),a=class{constructor(l=null){this.scheme="http",this.config=null,this.oAuthManager=new i.default,this.config=l}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(s("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new n.default(this.config,!0,this.oAuthManager)):(o(`HttpClientFactory creating client for '${this.scheme}'`),new n.default(this.config))}init(){return!0}destroy(){return!0}};e.default=a}}),$M=Ne({"../binding-http/dist/https-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=Do(),n=t(r_()),{debug:i,warn:o}=(0,r.createLoggers)("binding-http","https-client-factory"),s=class{constructor(a=null){this.scheme="https",this.config=null,this.config=a}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(o("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new n.default(this.config)):(i(`HttpsClientFactory creating client for '${this.scheme}'`),new n.default(this.config,!0))}init(){return!0}destroy(){return!0}};e.default=s}}),Roe=Ne({"../binding-http/dist/http-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(c,h,g,m){m===void 0&&(m=g);var _=Object.getOwnPropertyDescriptor(h,g);(!_||("get"in _?!h.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(c,m,_)}:function(c,h,g,m){m===void 0&&(m=g),c[m]=h[g]}),r=e&&e.__exportStar||function(c,h){for(var g in c)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&t(h,c,g)},n=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpForm=e.HttpHeader=e.HttpsClientFactory=e.HttpClientFactory=e.HttpClient=void 0;var i=Do(),o=HR(),s=r_();Object.defineProperty(e,"HttpClient",{enumerable:!0,get:function(){return n(s).default}});var a=SM();Object.defineProperty(e,"HttpClientFactory",{enumerable:!0,get:function(){return n(a).default}});var l=$M();Object.defineProperty(e,"HttpsClientFactory",{enumerable:!0,get:function(){return n(l).default}}),r(r_(),e),r(SM(),e),r($M(),e);var u=class{};e.HttpHeader=u;var f=class extends i.Form{};e.HttpForm=f,o.Headers.prototype.raw=function(){const c={};for(const[h,g]of this.entries())c[h]=g.split(",");return c},o.Response.prototype.buffer=async function(){return Yr.from(await this.arrayBuffer())}}}),BO=Ne({"../binding-websockets/dist/ws-client.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Do(),{debug:r,warn:n}=(0,t.createLoggers)("binding-websockets","ws-client"),i=class{constructor(){}toString(){return"[WebSocketClient]"}readResource(o){return new Promise((s,a)=>{})}writeResource(o,s){return new Promise((a,l)=>{})}invokeResource(o,s){return new Promise((a,l)=>{})}unlinkResource(o){return new Promise((s,a)=>{})}subscribeResource(o,s,a,l){throw new Error("Websocket client does not implement subscribeResource")}async requestThingDescription(o){throw new Error("Method not implemented")}async start(){}async stop(){}setSecurity(o,s){if(o===void 0||!Array.isArray(o)||o.length===0)return n("WebSocketClient received empty security metadata"),!1;const a=o[0];return r(`WebSocketClient using security scheme '${a.scheme}'`),!0}};e.default=i}}),TM=Ne({"../binding-websockets/dist/ws-client-factory.js"(e){Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Do(),n=t(BO()),{debug:i}=(0,r.createLoggers)("binding-websockets","ws-client-factory"),o=class{constructor(s=null){this.scheme="ws",this.clientSideProxy=null,this.clientSideProxy=s}getClient(){return i(`HttpClientFactory creating client for '${this.scheme}'`),new n.default}init(){return!0}destroy(){return!0}};e.default=o}}),xM=Ne({"../binding-websockets/dist/wss-client-factory.js"(e){Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.scheme="wss"}getClient(){throw new Error("WssClientFactory for 'wss' is not implemented")}init(){return!0}destroy(){return!0}};e.default=t}}),Ioe=Ne({"../binding-websockets/dist/ws-browser.js"(e){Te();var t=e&&e.__createBinding||(Object.create?function(a,l,u,f){f===void 0&&(f=u);var c=Object.getOwnPropertyDescriptor(l,u);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,f,c)}:function(a,l,u,f){f===void 0&&(f=u),a[f]=l[u]}),r=e&&e.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,a,u)},n=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebSocketSecureClientFactory=e.WebSocketClientFactory=e.WebSocketClient=void 0;var i=BO();Object.defineProperty(e,"WebSocketClient",{enumerable:!0,get:function(){return n(i).default}});var o=TM();Object.defineProperty(e,"WebSocketClientFactory",{enumerable:!0,get:function(){return n(o).default}});var s=xM();Object.defineProperty(e,"WebSocketSecureClientFactory",{enumerable:!0,get:function(){return n(s).default}}),r(BO(),e),r(TM(),e),r(xM(),e)}});Te();var joe=uR(Do()),koe=uR(Roe());uR(Ioe());const Vw=e=>{const t=e.split(" - ");return parseInt(t[1],10)},Coe=(e,t)=>{let r=t+1;return t===0?e:e+` (form ${String(r)})`},Doe=e=>(e.startsWith("modbus:")&&(e=e.replace("modbus:","")),e.startsWith("propName")&&(e="Property Name"),e.startsWith("href")&&(e="Resource"),e.startsWith("htv:methodName")&&(e="Method"),e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e.charAt(0).toUpperCase()+e.slice(1)),UO=e=>/^(https?:\/\/)([\w.-]+)(:\d+)?(\/[^\s]*)?$/i.test(e),Moe=e=>{if(e.length===0)return"";const t=e.startsWith(" ")?e.substring(1):e;return t.length===0?"":/[a-zA-Z]/.test(t[0])?t[0].toUpperCase()+t.slice(1):t},Loe=e=>e?e.endsWith("/")?e:`${e}/`:"/";function yd(e){return e.replace(/^"|"$/g,"")}var xE={},Foe=/~/,Boe=/~[01]/g;function Uoe(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function o8(e){return Foe.test(e)?e.replace(Boe,Uoe):e}function zoe(e,t,r){for(var n,i,o=1,s=t.length;o<s;){if(t[o]==="constructor"||t[o]==="prototype"||t[o]==="__proto__")return e;if(n=o8(t[o++]),i=s>o,typeof e[n]>"u"&&(Array.isArray(e)&&n==="-"&&(n=e.length),i&&(t[o]!==""&&t[o]<1/0||t[o]==="-"?e[n]=[]:e[n]={})),!i)break;e=e[n]}var a=e[n];return r===void 0?delete e[n]:e[n]=r,a}function GR(e){if(typeof e=="string"){if(e=e.split("/"),e[0]==="")return e;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(e)){for(const t of e)if(typeof t!="string"&&typeof t!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return e}throw new Error("Invalid JSON pointer.")}function s8(e,t){if(typeof e!="object")throw new Error("Invalid input object.");t=GR(t);var r=t.length;if(r===1)return e;for(var n=1;n<r;){if(e=e[o8(t[n++])],r===n)return e;if(typeof e!="object"||e===null)return}}function a8(e,t,r){if(typeof e!="object")throw new Error("Invalid input object.");if(t=GR(t),t.length===0)throw new Error("Invalid JSON pointer for set.");return zoe(e,t,r)}function qoe(e){var t=GR(e);return{get:function(r){return s8(r,t)},set:function(r,n){return a8(r,t,n)}}}xE.get=s8;xE.set=a8;xE.compile=qoe;const KR=new joe.Servient;KR.addClientFactory(new koe.HttpClientFactory);console.log("init servient");const l8={readproperty:{color:"Green",title:"Read",level:"properties",callback:zO},writeproperty:{color:"Blue",title:"Write",level:"properties",callback:Hoe},observeproperty:{color:"Orange",title:"Observe",level:"properties",callback:null},unobserveproperty:{color:"Red",title:"Unobserve",level:"properties",callback:null},invokeaction:{color:"Orange",title:"Invoke",level:"actions",callback:null},subscribeevent:{color:"Orange",title:"Subscribe",level:"events",callback:null},unsubscribeevent:{color:"Red",title:"Unsubscribe",level:"events",callback:null},readmultipleproperties:{color:"Green",title:"Read Multiple",level:"thing",callback:null},readallproperties:{color:"Green",title:"Read All",level:"thing",callback:null},writemultipleproperties:{color:"Blue",title:"Write Multiple",level:"thing",callback:null},writeallproperties:{color:"Blue",title:"Write All",level:"thing",callback:null},observeallproperties:{color:"Orange",title:"Observe All",level:"thing",callback:null},unobserveallproperties:{color:"Red",title:"Unobserve All",level:"thing",callback:null}},Voe=(e,t)=>{try{switch(e){case"boolean":return yd(t).toLowerCase()==="true";case"integer":const r=parseInt(yd(t),10);if(isNaN(r))throw new Error(`Error on convert "${t}" to an integer.`);return r;case"number":const n=parseFloat(yd(t));if(isNaN(n))throw new Error(`Error on convert "${t}" to a number.`);return n;case"string":return yd(t);case"array":let i=yd(t);if(Array.isArray(i))return i;try{const o=JSON.parse(i);if(Array.isArray(o))return o}catch{throw new Error(`Error on convert "${t}" to an array.`)}case"object":try{return JSON.parse(yd(t))}catch{throw new Error(`Error on convert "${t}" to an object.`)}default:throw new Error(`Unsupported type: "${e}".`)}}catch(r){console.error(`Failed to parse content for ${e}:`,r)}};async function zO(e,t,r,n){try{const s=await(await(await KR.start()).consume(e)).readProperty(t,r);s.ignoreValidation=!0;const a=await s.value();if(n==="")return{result:JSON.stringify(a,null,2),err:null};if(a===null)return{result:"null",err:null};if(typeof a=="object"||Array.isArray(a))try{const l=xE.get(a,n);return{result:JSON.stringify(l,null,2),err:null}}catch{return{result:"",err:new Error("Failed to get value with JSONPointer path: "+n)}}return{result:JSON.stringify(a,null,2),err:null}}catch(i){return console.debug(i),{result:"",err:i}}}async function Hoe(e,t,r){try{if(e.properties===void 0||e.properties[t]===void 0)throw new Error(`Property "${t}" not found in Thing Description.`);const n=e.properties[t].type,i=Voe(n,r);return await(await(await KR.start()).consume(e)).writeProperty(t,i),{result:`Successfully wrote ${JSON.stringify(i).length>50?JSON.stringify(i).slice(0,50)+"...":JSON.stringify(i)} to '${t}'.`,err:null}}catch(n){return console.debug(n),{result:"",err:n}}}const u8="northbound",c8="southbound",f8="valuePath",da=e=>{let t;switch(e){case"northbound":t=u8;break;case"southbound":t=c8;break;case"valuePath":t=f8;break;default:return""}const r=localStorage.getItem(t);return r===null?"":r||""},y1=(e,t)=>{let r;switch(t){case"northbound":r=u8;break;case"southbound":r=c8;break;case"valuePath":r=f8;break;default:return}if(e===""){localStorage.setItem(r,"");return}localStorage.setItem(r,e)},Woe=({operationType:e,form:t,interactionFunction:r,usesNorthboundConnection:n})=>{const i=Oe.useContext(nn),[o,s]=Oe.useState(""),[a,l]=Oe.useState(!1),[u,f]=Oe.useState(null),[c,h]=Oe.useState(null),g=l8[e];if(!g)return Q.jsx(Q.Fragment,{});const m=Q.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:Q.jsx("div",{className:`text-form${g.color} place-self-center px-4 text-center`,children:g.title})}),_=async()=>{if(r){l(!0);try{let p;const E=r,y=da("valuePath");n?p=await E(i.northboundConnection.northboundTd,t.propName,o,y):p=await E(i.parsedTD,t.propName,o,""),p.err!==null?(h(p.err.message),f(null)):(h(null),f(p.result))}catch(p){h(p instanceof Error?p.message:"Unknown error occurred"),f(null)}finally{l(!1),s("")}}},v=p=>{p.preventDefault(),_()};return Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:`flex min-h-12 w-full items-stretch bg-opacity-75 bg-form${g.color} mt-2 ${a||u!==null||c!=null||t.op==="writeproperty"?"rounded-t-md":"rounded-md"} border-2 pl-4 border-form${g.color}`,children:[r&&Q.jsx("button",{onClick:_,children:m}),!r&&Q.jsx("div",{className:"flex",children:m}),Q.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:t.href}),(c!==null||u!==null)&&Q.jsx("button",{className:`flex min-w-10 items-center justify-center border-r-2 border-form${g.color} bg-form${g.color}`,onClick:()=>{h(null),f(null)},children:Q.jsx(zN,{size:16,color:"white"})}),Q.jsx("button",{className:`flex min-w-10 items-center justify-center bg-form${g.color}`,onClick:()=>i.removeForm(g.level,t.propName,t,t.actualIndex),children:Q.jsx(cc,{size:16,color:"white"})})]}),t.op==="writeproperty"&&Q.jsx("form",{onSubmit:v,children:Q.jsx("input",{type:"text",placeholder:"Input a value and hit write...",value:o,onChange:p=>s(p.target.value),className:`flex w-full overflow-auto bg-white px-4 py-2 ${u!==null||c!=null?"border-b-2 border-gray-300":"rounded-b-md"}`})}),a!==!1&&Q.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:Q.jsx("div",{className:"p-4 text-black",children:"Waiting for a response..."})}),c!==null&&Q.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:Q.jsxs("div",{className:"text-formRed p-4",children:["Error: ",c]})}),u!==null&&Q.jsx("pre",{className:"flex overflow-auto rounded-b-md bg-white",children:Q.jsx("div",{className:"p-4 text-black",children:u})})]})},Goe=({level:e,form:t})=>{const r=Oe.useContext(nn);return Q.jsxs("div",{className:"flex min-h-10 w-full items-stretch rounded-md border-2 border-gray-300 bg-gray-300 bg-opacity-75 pl-4",children:[Q.jsx("div",{className:"flex h-6 min-w-20 justify-center place-self-center rounded-md bg-white",children:Q.jsx("div",{className:"place-self-center px-4 text-center text-xs text-black",children:"Undefined"})}),Q.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-white",children:t.href}),Q.jsx("button",{className:"flex w-10 items-center justify-center bg-gray-300",onClick:()=>r.removeForm(e,t.propName,t,t.actualIndex),children:Q.jsx(cc,{size:16,color:"black"})})]})},Koe=e=>({action:"actions",property:"properties",event:"events",thing:"thing"})[e],AE=e=>{const t=Oe.useContext(nn),r={...e.form,propName:e.propName},n=Object.keys(t.northboundConnection.northboundTd).length>0,i=l8[r.op];return i?Q.jsx(Q.Fragment,{children:Q.jsx(Woe,{operationType:r.op,form:r,interactionFunction:i.callback,usesNorthboundConnection:n})}):Q.jsx(Goe,{level:Koe(e.interactionType),form:r})},JR=e=>Q.jsxs(Q.Fragment,{children:[Q.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),Q.jsx("textarea",{id:e.id,rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:e.placeholder})]}),bo=e=>Q.jsxs("div",{className:"py-1",children:[Q.jsx("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:e.label}),Q.jsx("input",{name:e.id,id:e.id,className:` ${e.className} w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`,placeholder:e.placeholder,type:e.type??"text",autoFocus:e.autoFocus??!1,onChange:e.onChange,value:e.value}),Q.jsx("span",{id:`${e.id}-helper-text`,className:"pl-2 text-xs text-red-400"})]},e.id),d8=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState(()=>!1),o="action",s="actions",a=o[0].toUpperCase()+o.slice(1);Oe.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=Q.jsxs(Q.Fragment,{children:[Q.jsx(bo,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>g()}),Q.jsx(JR,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}const m=document.getElementById(`${o}-title`),_=document.getElementById(`${o}-description`),v={title:m.value,description:_.value||void 0,forms:[]},p=r.parsedTD;p[s]&&p[s][v.title]?h(`An ${a} with this title already exists...`):(p[s]={...p[s],[v.title]:v},r.updateOfflineTD(JSON.stringify(p,null,2)),u())},h=m=>{document.getElementById(`${o}-title-helper-text`).textContent=m,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},g=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ns.createPortal(Q.jsx(is,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});d8.displayName="AddActionDialog";const h8=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState(()=>!1),o="event",s="events",a=o[0].toUpperCase()+o.slice(1);Oe.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=Q.jsxs(Q.Fragment,{children:[Q.jsx(bo,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>g()}),Q.jsx(JR,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`})]}),c=()=>{const m={title:document.getElementById(`${o}-title`).value,forms:[]},_=document.getElementById(`${o}-description`).value;if(_!==""&&(m.description=_),m.forms=[],!r.isValidJSON){h("Can't add Event. TD is malformed.");return}const v=r.parsedTD;v[s]&&v[s][m.title]?h(`An ${a} with this title already exists...`):(v[s]={...v[s],[m.title]:m},r.updateOfflineTD(JSON.stringify(v,null,2)),u())},h=m=>{document.getElementById(`${o}-title-helper-text`).textContent=m,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},g=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ns.createPortal(Q.jsx(is,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});h8.displayName="AddEventDialog";const AM=e=>Q.jsxs("div",{className:"form-checkbox pl-2",children:[e.readOnly??!0?Q.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label}):Q.jsx("input",{id:e.id,className:"form-checkbox-input",type:"checkbox",value:e.label,readOnly:e.readOnly,checked:!0}),Q.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:e.id,children:e.label})]},e.id),Joe=e=>Q.jsxs(Q.Fragment,{children:[Q.jsxs("label",{htmlFor:e.id,className:"pl-2 text-sm font-medium text-gray-400",children:[e.label,":"]}),Q.jsxs("div",{className:`relative ${e.className??""} `,children:[Q.jsx("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:e.id,children:e.options.map(t=>Q.jsx("option",{children:t},t))}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Q.jsx(wf,{color:"#cacaca"})})]})]}),OM="undefined",p8=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState(()=>!1),o="property",s="properties",a=o[0].toUpperCase()+o.slice(1);Oe.useEffect(()=>{},[n,r]),Oe.useImperativeHandle(t,()=>({openModal:()=>l(),close:()=>u()}));const l=()=>{i(!0)},u=()=>{i(!1)},f=Q.jsxs(Q.Fragment,{children:[Q.jsx(bo,{id:`${o}-title`,label:"Title",placeholder:`${a} Title`,autoFocus:!0,onChange:()=>g()}),Q.jsx(JR,{id:`${o}-description`,label:"Description",placeholder:`A short description about the new ${a}...`}),Q.jsx(Joe,{id:`${o}-type`,label:"Type",options:[OM,"number","integer","boolean","string","object","array"]}),Q.jsx("div",{className:"h-2"}),Q.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Additional:"}),Q.jsxs("div",{id:"additional",className:"rounded-md bg-gray-600 p-1",children:[Q.jsx(AM,{id:`${o}-readOnly`,label:"Read Only"}),Q.jsx(AM,{id:`${o}-observable`,label:"Observable"})]})]}),c=()=>{if(!r.isValidJSON){h("Can't add Action. TD is malformed.");return}const m={title:document.getElementById(`${o}-title`).value,observable:document.getElementById(`${o}-observable`).checked,readOnly:document.getElementById(`${o}-readOnly`).checked,forms:[]},_=document.getElementById(`${o}-description`).value;_!==""&&(m.description=_);const v=document.getElementById(`${o}-type`).value;v!==OM&&(m.type=v),v==="array"?m.items={}:v==="object"&&(m.properties={}),m.forms=[];const p=r.parsedTD;p[s]&&p[s][m.title]?h(`A ${a} with this title already exists...`):(p[s]={...p[s],[m.title]:m},r.updateOfflineTD(JSON.stringify(p,null,2)),u())},h=m=>{document.getElementById(`${o}-title-helper-text`).textContent=m,document.getElementById(`${o}-title`).classList.remove("border-gray-600"),document.getElementById(`${o}-title`).classList.add("border-red-400")},g=()=>{document.getElementById(`${o}-title-helper-text`).textContent="",document.getElementById(`${o}-title`).classList.add("border-gray-600"),document.getElementById(`${o}-title`).classList.remove("border-red-400")};return n?ns.createPortal(Q.jsx(is,{onCancel:u,onSubmit:()=>{c()},submitText:`Add ${a}`,children:f,title:`Add New ${a}`,description:`Tell us a little something about the ${a} you want to add.`}),document.getElementById("modal-root")):null});p8.displayName="AddPropertyDialog";const YR=({onClick:e})=>Q.jsx("button",{className:"border-formBlue bg-formBlue flex min-h-10 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",onClick:e,children:Q.jsxs("div",{className:"flex items-center justify-center",children:[Q.jsx(ZN,{color:"white",size:"20"}),Q.jsx("div",{className:"pl-2 text-center text-white",children:"Click to add Form..."})]})}),Yoe=["title","forms","description"],Xoe=e=>{const t=Oe.useContext(nn),[r,n]=Oe.useState(!1),i=Ye.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.action).length===0&&e.action.constructor!==Object)return Q.jsx("div",{className:"text-3xl text-white",children:"Action could not be rendered because mandatory fields are missing."});const s=e.action,a=J_(e.action.forms),l=K_({name:e.actionName},e.action,Yoe),u=Object.keys(l).map(c=>Q.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("actions",e.actionName)};return Q.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[Q.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[Q.jsx("h3",{className:"flex-grow px-2",children:s.title??e.actionName}),r&&Q.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:Q.jsx(cc,{size:16,color:"white"})})]}),Q.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&Q.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),Q.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),Q.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:Q.jsx(Zo,{className:"flex-grow",tooltip:Pg(),id:"actions",children:Q.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),Q.jsx(YR,{onClick:o}),Q.jsx($g,{type:"action",interaction:s,interactionName:e.actionName,ref:i}),a.map((c,h)=>Q.jsx(AE,{form:c,propName:e.actionName,interactionType:"action"},`${h}-${c.href}`))]})]})},Qoe=["title","forms","description"],Zoe=e=>{const t=Oe.useContext(nn),[r,n]=Oe.useState(!1),i=Ye.useRef(),o=()=>{i.current.openModal()};if(Object.keys(e.event).length===0&&e.event.constructor!==Object)return Q.jsx("div",{className:"text-3xl text-white",children:"Event could not be rendered because mandatory fields are missing."});const s=e.event,a=J_(e.event.forms),l=K_({name:e.eventName},e.event,Qoe),u=Object.keys(l).map(c=>Q.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("events",e.eventName)};return Q.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[Q.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[Q.jsx("div",{className:"flex-grow px-2",children:s.title??e.eventName}),r&&Q.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:Q.jsx(cc,{size:16,color:"white"})})]}),Q.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&Q.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),Q.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),Q.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:Q.jsx(Zo,{className:"flex-grow",tooltip:Pg(),id:"events",children:Q.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),Q.jsx(YR,{onClick:o}),Q.jsx($g,{type:"event",interaction:s,interactionName:e.eventName,ref:i}),a.map((c,h)=>Q.jsx(AE,{form:c,propName:e.eventName,interactionType:"event"},`${h}-${c.href}`))]})]})},ese=["title","forms","description"],tse=e=>{const t=Oe.useContext(nn),[r,n]=Oe.useState(!1),i=Oe.useRef(null),o=()=>{var c;(c=i.current)==null||c.openModal()};if(Object.keys(e.prop).length===0&&e.prop.constructor!==Object)return Q.jsx("div",{className:"text-3xl text-white",children:"Property could not be rendered because mandatory fields are missing."});const s=e.prop;let a=J_(structuredClone(e.prop.forms));const l=K_({name:e.propName},e.prop,ese),u=Object.keys(l).map(c=>Q.jsxs("li",{children:[c," : ",JSON.stringify(l[c])]},c)),f=()=>{t.removeOneOfAKindReducer("properties",e.propName)};return Q.jsxs("details",{className:"mb-1",open:r,onToggle:()=>n(!r),children:[Q.jsxs("summary",{className:`flex cursor-pointer items-center rounded-t-lg pl-2 text-xl font-bold text-white ${r?"bg-gray-500":""}`,children:[Q.jsx("h3",{className:"flex-grow px-2",children:s.title??e.propName}),r&&Q.jsx("button",{className:"flex h-10 w-10 items-center justify-center self-stretch rounded-bl-md rounded-tr-md bg-gray-400 text-base",onClick:f,children:Q.jsx(cc,{size:16,color:"white"})})]}),Q.jsxs("div",{className:"mb-4 rounded-b-lg bg-gray-500 px-2 pb-4",children:[s.description&&Q.jsx("div",{className:"px-2 pb-2 text-lg text-gray-400",children:s.description}),Q.jsx("ul",{className:"list-disc pl-6 text-base text-gray-300",children:u}),Q.jsx("div",{className:"flex items-center justify-start pb-2 pt-2",children:Q.jsx(Zo,{tooltip:Pg(),id:"properties",children:Q.jsx("h4",{className:"pr-1 text-lg font-bold text-white",children:"Forms"})})}),Q.jsx(YR,{onClick:o}),Q.jsx($g,{type:"property",interaction:s,interactionName:e.propName,ref:i}),a.map((c,h)=>Q.jsx(AE,{propName:e.propName,form:c,interactionType:"property"},`${h}-${c.href}`))]})]})},rse=e=>Q.jsxs("div",{className:"relative text-gray-600",children:[Q.jsx("input",{type:"search",autoComplete:"on",className:"caret-gray h-9 place-self-center rounded-lg bg-gray-600 px-5 pr-10 text-sm text-white focus:outline-none",onKeyUp:e.onKeyUp,placeholder:e.placeholder,"aria-label":e.ariaLabel}),Q.jsx("div",{disabled:!0,type:"submit",className:"absolute right-0 top-0 mr-4 mt-1 cursor-default",children:Q.jsx(iR,{color:"#2c2c2e"})})]}),m8=({value:e,onUpdate:t,inferiorLimit:r,superiorLimit:n=1e5})=>{const i=s=>{s.stopPropagation();const a=e<n?e+1:r;t(a)},o=s=>{s.stopPropagation();const a=e>r?e-1:n;t(a)};return Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{className:"col-span-0"}),Q.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white",children:Q.jsx("h1",{children:e.toString()})}),Q.jsxs("div",{className:"col-span-4 flex h-full w-full",children:[Q.jsx("button",{className:"justify-centers flex h-full w-full cursor-pointer items-center bg-gray-600",onClick:i,children:Q.jsx(eR,{size:18,color:"white"})}),Q.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:o,children:Q.jsx(QN,{size:18,color:"white"})})]})]})})},PM=({idIcon:e,onUpdateIncrement:t,tooltip:r,textLabel:n,valueButton:i,inferiorLimit:o,superiorLimit:s})=>Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[Q.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:Q.jsx(Zo,{tooltip:r,id:e,children:Q.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),Q.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{className:"col-span-12"}),Q.jsx("div",{className:"col-span-12",children:Q.jsx("div",{className:"grid h-full w-full grid-cols-12",children:Q.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:Q.jsx(m8,{value:i,onUpdate:t,inferiorLimit:o,superiorLimit:s})})})}),Q.jsx("div",{className:"col-span-12"})]})})]})}),n_=({value:e,description:t,className:r,onClick:n})=>Q.jsxs("div",{className:"grid h-full w-full grid-cols-12 pb-1 pt-1",children:[t?Q.jsx("div",{className:"col-span-6 flex h-full w-full items-center justify-center font-bold text-white",children:t}):Q.jsx("div",{className:"col-span-0"}),Q.jsx("div",{className:`${t?"col-span-4":"col-span-8"} flex h-full w-full items-center justify-center rounded-l-lg bg-gray-600 font-bold text-white`,children:Q.jsx("h1",{children:e.toString()})}),Q.jsx("div",{className:"col-span-2 h-full w-full pr-1",children:Q.jsx("button",{className:"flex h-full w-full cursor-pointer items-center justify-center rounded-r-lg bg-gray-600",onClick:n,children:Q.jsx(tR,{size:16,color:"white"})})})]}),NM=({idIcon:e,onUpdateValue:t,tooltip:r,textLabel:n,valueButton:i})=>Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[Q.jsx("div",{className:"col-span-6 flex items-center justify-center rounded-l-md bg-blue-500",children:Q.jsx(Zo,{tooltip:r,id:e,children:Q.jsx("h1",{className:"p-2 font-bold text-white",children:n})})}),Q.jsx("div",{className:"col-span-6 rounded-r-md bg-blue-500",children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{className:"col-span-12"}),Q.jsx("div",{className:"col-span-12",children:Q.jsx("div",{className:"grid h-full w-full grid-cols-12",children:Q.jsx("div",{id:"firstRow",className:"col-span-12 bg-blue-500",children:Q.jsx(n_,{description:"",value:i,onClick:()=>t(!i)})})})}),Q.jsx("div",{className:"col-span-12"})]})})]})}),RM=({idIcon:e,tooltip:t,textLabel:r,firstDescription:n,firstValue:i,firsthandleOnClick:o,secondDescription:s,secondValue:a,secondhandleOnClick:l})=>Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"col-span-4 grid h-full w-full grid-cols-12 gap-1 rounded-md",children:[Q.jsx("div",{className:"col-span-4 flex items-center justify-center rounded-l-md bg-blue-500",children:Q.jsx(Zo,{tooltip:t,id:e,children:Q.jsx("h1",{className:"p-2 font-bold text-white",children:r})})}),Q.jsx("div",{className:"col-span-8 rounded-r-md",children:Q.jsxs("div",{className:"grid h-full w-full grid-cols-12",children:[Q.jsx("div",{id:"firstRow",className:"col-span-12 rounded-tr-md bg-blue-500",children:Q.jsx(n_,{description:n,value:i,onClick:()=>o(i,n)})}),Q.jsx("div",{id:"secondRow",className:"col-span-12 rounded-br-md bg-blue-500",children:Q.jsx(n_,{description:s,value:a,onClick:()=>l(a,s)})})]})})]})}),nse=e=>{const t=Oe.useContext(nn),r=t.parsedTD,[n,i]=Oe.useState(0),[o,s]=Oe.useState(!0),[a,l]=Oe.useState({wordSwap:!1,byteSwap:!1}),u=(m,_,v)=>{r.properties&&(Object.entries(r.properties).forEach(([p,E])=>{E.forms&&E.forms.forEach(y=>{if(!y.href){alert(`Form href is empty on property: ${p}`);return}(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))&&(v==="endianness"?m==="wordSwap"?y["modbus:mostSignificantWord"]=_:m==="byteSwap"&&(y["modbus:mostSignificantByte"]=_):y[m]=_)})}),t.updateOfflineTD(JSON.stringify(r,null,2)))},f=m=>{i(m),u("modbus:unitID",m)},c=m=>{s(m),u("modbus:zeroBasedAddressing",m)},h=(m,_)=>{l(v=>({...v,[_]:m})),u(_,m,"endianness")},g=Ye.useMemo(()=>{const m={unitID:!0,zeroBasedAddressing:!0,mostSignificantWord:!0,mostSignificantByte:!0};if(!r.properties)return m;const _={},v={unitID:!1,zeroBasedAddressing:!1,mostSignificantWord:!1,mostSignificantByte:!1};for(const[p,E]of Object.entries(r.properties))if(E.forms){for(const y of E.forms)if(y.href&&(e.isBaseModbus||y.href.startsWith("modbus://")||y.href.startsWith("modbus+tcp://"))){const S=y["modbus:unitID"];S!==void 0&&(v.unitID?S!==_.unitID&&(m.unitID=!1):(_.unitID=S,v.unitID=!0,n!==S&&i(S)));const $=y["modbus:zeroBasedAddressing"];$!==void 0&&(v.zeroBasedAddressing?$!==_.zeroBasedAddressing&&(m.zeroBasedAddressing=!1):(_.zeroBasedAddressing=$,v.zeroBasedAddressing=!0,o!==$&&s($)));const T=y["modbus:mostSignificantWord"];T!==void 0&&(v.mostSignificantWord?T!==_.mostSignificantWord&&(m.mostSignificantWord=!1):(_.mostSignificantWord=T,v.mostSignificantWord=!0,a.wordSwap!==T&&l(x=>({...x,wordSwap:T}))));const d=y["modbus:mostSignificantByte"];d!==void 0&&(v.mostSignificantByte?d!==_.mostSignificantByte&&(m.mostSignificantByte=!1):(_.mostSignificantByte=d,v.mostSignificantByte=!0,a.byteSwap!==d&&l(x=>({...x,byteSwap:d}))))}}return m},[r.properties,e.isBaseModbus,n,o,a]);return Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"grid grid-cols-12 gap-1 rounded-t-md bg-gray-600 px-2",children:[Q.jsx("div",{className:"col-span-12 rounded-md bg-gray-600 px-2",children:e.isBaseModbus?Q.jsx("h1",{className:"py-1 text-xl text-white",children:"Group Controls"}):Q.jsx("div",{})}),Q.jsx("div",{id:"unitId",className:`col-span-4 px-2 ${g.unitID?"h-16":"h-full"}`,children:g.unitID?Q.jsx(PM,{idIcon:"unitId",textLabel:"Unit ID",onUpdateIncrement:f,inferiorLimit:0,superiorLimit:255,tooltip:QT(),valueButton:n}):Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"flex h-full flex-col",children:[Q.jsx("div",{className:"flex-grow",children:Q.jsx(PM,{idIcon:"unitId",textLabel:"Unit ID",onUpdateIncrement:f,inferiorLimit:0,superiorLimit:255,tooltip:QT(),valueButton:n})}),Q.jsx("div",{className:"rounded-md p-1 text-center",children:Q.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different unit id is detected on different affordances. Clicking + or - will set all to the same value"})})]})})}),Q.jsx("div",{id:"addressOffset",className:`col-span-4 px-2 ${g.zeroBasedAddressing?"h-16":"h-full"}`,children:g.zeroBasedAddressing?Q.jsx(NM,{idIcon:"addressOffset",tooltip:ZT(),textLabel:"Address Offset",valueButton:o,onUpdateValue:()=>c(!o)}):Q.jsx(Q.Fragment,{children:Q.jsxs("div",{className:"flex h-full flex-col",children:[Q.jsx("div",{className:"flex-grow",children:Q.jsx(NM,{idIcon:"addressOffset",tooltip:ZT(),textLabel:"Address Offset",valueButton:o,onUpdateValue:()=>c(!o)})}),Q.jsx("div",{className:"rounded-md p-1 text-center",children:Q.jsx("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:"Different address offset is detected on different affordances. Clicking to swap and set all to the same value"})})]})})}),Q.jsx("div",{id:"endianness",className:`col-span-4 px-2 ${g.mostSignificantByte&&g.mostSignificantWord?"h-16":"h-full"}`,children:g.mostSignificantByte&&g.mostSignificantWord?Q.jsx(RM,{idIcon:"endianness",tooltip:ex(),textLabel:"Endianness",firstDescription:"wordswap",firstValue:a.wordSwap,firsthandleOnClick:(m,_)=>h(!a.wordSwap,"wordSwap"),secondDescription:"byteswap",secondValue:a.byteSwap,secondhandleOnClick:()=>h(!a.byteSwap,"byteSwap")}):Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"col-span-12",children:Q.jsx(RM,{idIcon:"endianness",tooltip:ex(),textLabel:"Endianness",firstDescription:"wordswap",firstValue:a.wordSwap,firsthandleOnClick:(m,_)=>h(!a.wordSwap,"wordSwap"),secondDescription:"byteswap",secondValue:a.byteSwap,secondhandleOnClick:()=>h(!a.byteSwap,"byteSwap")})}),Q.jsx("div",{className:"col-span-12 p-1",children:Q.jsx("div",{className:"rounded-md text-center",children:Q.jsxs("h1",{className:"rounded-md border-2 border-red-500 p-1 font-bold text-red-600",children:["Different endianness (",[!g.mostSignificantWord&&"wordSwap",!g.mostSignificantByte&&"byteSwap"].filter(Boolean).join(" and "),") is detected on different affordances. Clicking to swap and set all to the same value"]})})})]})})]})})},ise=({items:e,page:t=1,itemsPerPage:r=10,filter:n=()=>!0,onItemsChange:i,children:o})=>{const[s,a]=Oe.useState(t),l=Oe.useMemo(()=>e.filter(n),[e,n]),u=Oe.useMemo(()=>{const m=(s-1)*r;return l.slice(m,m+r)},[l,s,r]),f=Oe.useMemo(()=>Math.ceil(l.length/r),[l,r]),c=s===1,h=s===f,g=m=>{m<1||m>f||a(m)};return Oe.useEffect(()=>{i&&i(u)},[u,i]),Oe.useEffect(()=>{s>f&&a(1)},[l,f,s]),Q.jsxs("div",{className:"flex flex-col",children:[Q.jsx("div",{className:"overflow-x-auto",children:o({items:u})}),l.length>r&&Q.jsxs("div",{className:"mt-4 flex w-full items-center justify-end gap-3 text-white",children:[Q.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:c,onClick:()=>g(s-1),children:Q.jsx("span",{className:"px-2 font-bold text-white",children:"<"})}),Array.from({length:f},(m,_)=>_+1).map(m=>Q.jsx("div",{className:`cursor-pointer text-lg ${s===m?"text-coral font-black":""}`,onClick:()=>g(m),children:m},m)),Q.jsx("button",{className:"cursor-pointer rounded bg-blue-500",disabled:h,onClick:()=>g(s+1),children:Q.jsx("span",{className:"px-2 font-bold text-white",children:">"})})]})]})},ose=({contrast:e=!1,filter:t="",headers:r,items:n,itemsPerPage:i=6,orderBy:o="",order:s="asc",onRowClick:a,onCellClick:l,onSendRequestClick:u,className:f="",renderItem:c,placeholder:h,baseUrl:g=""})=>{const m=Oe.useMemo(()=>{const $=typeof t=="function"?t:(T=>d=>!(T!=null&&T.trim())||Object.values(d).some(x=>String(x).toLowerCase().indexOf((T||"").toLowerCase())>=0))(t);return n.filter($)},[n,t]),_=Oe.useMemo(()=>{if(!o)return m;const S=s==="asc"?[1,-1]:[-1,1];return[...m].sort(($,T)=>$[o]>T[o]?S[0]:$[o]<T[o]?S[1]:0)},[m,o,s]),[v,p]=Oe.useState({});Oe.useEffect(()=>{const S=n.reduce(($,T)=>(T.id&&($[T.id]={value:"",error:""}),$),{});p(S)},[n]);const E=(S,$,T,d)=>Q.jsx("select",{value:S,onChange:x=>l==null?void 0:l(d,T,x.target.value),className:"h-full w-full rounded bg-gray-600 px-2 py-1",children:$.map(x=>Q.jsx("option",{value:x,children:x},x))}),y=(S,$)=>{var d,x,A,O,C,F,V;if(c)return c(S,$);const T=S[$];switch($){case"previewValue":return Q.jsxs("div",{className:`flex h-full w-full items-center justify-center ${(d=v[S.id])!=null&&d.error?"bg-red-500 text-white":""} ${(x=v[S.id])!=null&&x.value?"bg-formGreen text-black":""} `,onClick:async()=>{if(u){const H=await u(S);p(Z=>({...Z,[S.id]:H}))}},children:[((A=v[S.id])==null?void 0:A.error)&&Q.jsxs("div",{className:"flex items-center justify-center",children:[Q.jsx("h1",{className:"px-2",children:"Error"}),Q.jsx(Od,{id:"info",html:`Error description: ${v[S.id].error}`,color:"white",IconComponent:Xm})]}),!((O=v[S.id])!=null&&O.error)&&!((C=v[S.id])!=null&&C.value)&&Q.jsx(Od,{id:"check",html:"Click to send request",IconComponent:Qm,size:20}),!((F=v[S.id])!=null&&F.error)&&((V=v[S.id])==null?void 0:V.value)&&Q.jsxs("div",{className:"flex h-full w-full items-center justify-center",children:[Q.jsx("h1",{className:"px-2",children:v[S.id].value}),Q.jsx(Od,{id:"checkCircle",html:"Successful read property in the device",IconComponent:BN,size:20})]})]});case"propName":let X=S.description?S.description:"No description available";return Q.jsxs("div",{className:"flex h-full w-full items-center px-1",onClick:()=>a==null?void 0:a(S,"viewProperty"),children:[Q.jsx("div",{className:"flex h-full w-full items-center",children:Coe(S.propName,Vw(S.id))}),Q.jsx("div",{className:"items-center justify-center px-1",children:Q.jsx(Od,{id:"info",html:`Property description: ${X}`,IconComponent:Og})})]});case"editForm":return Q.jsx("div",{className:"flex h-full w-full items-center justify-center px-2",onClick:()=>a==null?void 0:a(S,"viewPropertyElementForm"),children:Q.jsx(Od,{id:"edit",html:"Click to preview property",IconComponent:HN,size:20})});case"modbus:entity":return E(T,["Coil","DiscreteInput","HoldingRegister","InputRegister"],$,S);case"modbus:function":return E(T,["readCoil","readDeviceIdentification","readDiscreteInput","readHoldingRegisters","readInputRegisters","writeMultipleCoils","writeMultipleHoldingRegisters","writeSingleCoil","writeSingleHoldingRegister"],$,S);case"modbus:type":return E(T,["integer","boolean","string","float","decimal","byte","short","int","long","unsignedByte","unsignedShort","unsignedInt","unsignedLong","double","hexBinary"],$,S)}return T==null?"-":typeof T=="boolean"?Q.jsx(n_,{onClick:X=>{X.stopPropagation(),l==null||l(S,$,!T)},value:T,description:"",className:""}):typeof T=="string"?Q.jsxs("div",{className:"group relative",children:[Q.jsx("input",{type:"text",value:T,onChange:X=>l==null?void 0:l(S,$,X.target.value),onBlur:X=>l==null?void 0:l(S,$,X.target.value),className:"w-full truncate border-none bg-gray-600 px-2 py-1 text-center text-sm font-bold text-white focus:outline-none focus:ring-2 focus:ring-blue-500",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:T.length>10?T:void 0}),Q.jsx("div",{className:"absolute left-0 top-full mt-1 hidden w-max max-w-xs rounded bg-gray-700 px-2 py-1 text-sm text-white shadow-lg group-hover:block",children:T})]}):typeof T=="number"?Q.jsx(m8,{value:T,onUpdate:X=>{l==null||l(S,$,X)},inferiorLimit:0}):T};return Q.jsx(ise,{items:_,itemsPerPage:i,children:({items:S})=>Q.jsx("div",{className:"relative overflow-x-auto",children:Q.jsx("div",{className:`inline-block ${f}`,children:Q.jsxs("table",{className:"w-full text-nowrap",children:[Q.jsx("thead",{children:Q.jsx("tr",{children:r.map(($,T)=>Q.jsx("th",{className:`text-elevation-0-1 my-2.5 text-sm font-bold text-white ${T===0?"pl-5":T===r.length-1?"pr-5":"px-5"}`,children:$.text},`header-${$.key}`))})}),Q.jsx("tbody",{children:S.length>0?S.map(($,T)=>Q.jsx("tr",{children:r.map((d,x)=>Q.jsx("td",{children:Q.jsx("div",{className:`h-10 items-center overflow-hidden text-ellipsis border border-solid border-transparent text-white hover:border-white ${x>0&&x<r.length-1&&"text-center"} ${x===r.length-1&&"rounded-r text-right"} ${$.status==="info"&&x===0&&"border-l-info"} ${$.status==="error"&&x===0&&"border-l-definitive"} bg-elevation-1-hover cursor-pointer`,children:y($,d.key)})},`cell-${T}-${d.key}`))},`row-${T}-${$.id}`)):Q.jsx("tr",{children:Q.jsx("td",{colSpan:r.length,className:`flex items-end justify-center py-6 ${e?"bg-elevation-1-hover":"bg-elevation-1"}`,children:h||Q.jsx("div",{className:"text-elevation-0-1 text-sm font-bold text-white",children:"No entries"})})})})]})})})})},XR=({isOpen:e,errorMessage:t,onClose:r})=>e?ns.createPortal(Q.jsx(is,{title:"Error",description:t,onSubmit:r,submitText:"OK",className:"text-lg"}),document.getElementById("modal-root")):null,Wv="asc",sse="desc",w1=e=>{var fe,ee;const t=Oe.useContext(nn),r=t.isValidJSON?JSON.parse(t.offlineTD):{},n=Oe.useMemo(()=>{var ne,k;return{message:((ne=t.northboundConnection)==null?void 0:ne.message)??"",northboundTd:((k=t.northboundConnection)==null?void 0:k.northboundTd)??{}}},[t.northboundConnection]),[i,o]=Oe.useState(""),[s,a]=Oe.useState(Wv),l=Oe.useRef(null),[u,f]=Oe.useState("list"),[c,h]=Oe.useState(!1),[g,m]=Oe.useState({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),[_,v]=Oe.useState({state:!1,message:""}),p=e.interaction.toLowerCase(),E=ne=>o(ne.target.value),y=!!((fe=r.base)!=null&&fe.includes("modbus://"))||!!((ee=r.base)!=null&&ee.includes("modbus+tcp")),S=ne=>{if(!ne.properties||Object.keys(ne.properties).length===0)return!1;const k=B=>B.href?B.href.includes("modbus://")||B.href.includes("modbus+tcp://"):!1;return y||Object.values(ne.properties).some(B=>{var W;return(W=B.forms)==null?void 0:W.some(P=>k(P))})},$=()=>{if(!r[p])return{};const ne={};return Object.keys(r[p]).filter(k=>k.toLowerCase().indexOf(i.toLowerCase())>-1).forEach(k=>{ne[k]=r[p][k]}),ne},T=ne=>{if(!r[ne])return;const k={},B=Object.keys(r[ne]).map(W=>({key:W,title:r[ne][W].title}));s===Wv?(B.sort((W,P)=>{const R=W.title?W.title:W.key,z=P.title?P.title:P.key;return R.localeCompare(z)}).forEach(function(W){k[W.key]=r[ne][W.key]}),a(sse)):(B.sort((W,P)=>{const R=W.title?W.title:W.key,z=P.title?P.title:P.key;return R.localeCompare(z)}).reverse().forEach(function(W){k[W.key]=r[ne][W.key]}),a(Wv)),r[ne]=k,t.updateOfflineTD(JSON.stringify(r,null,2))},d=()=>s===Wv?Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:Q.jsx("path",{d:"M11 5h10M11 9h7M11 13h4M3 17l3 3 3-3M6 18V4"})}):Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"#ffffff",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:Q.jsx("path",{d:"M11 5h4M11 9h7M11 13h10M3 17l3 3 3-3M6 18V4"})}),x=async ne=>{const k=Vw(ne.id);if(Object.keys(n.northboundTd).length>0)try{const B=await zO(n.northboundTd,ne.propName,{formIndex:k},da("valuePath")??"");return B.err?{value:"",error:B.err.message}:{value:B.result,error:""}}catch(B){return{value:"",error:B.message}}else try{const B=await zO(r,ne.propName,{formIndex:k},"");return B.err?{value:"",error:B.err.message}:{value:B.result,error:""}}catch(B){return{value:"",error:B.message}}},A=(ne,k,B)=>{const W=Vw(ne.id);try{r[p][ne.propName].forms[W][k]=B}catch(P){console.error(P)}t.updateOfflineTD(JSON.stringify(r,null,2))},O=(ne,k)=>{const B=Vw(ne.id);let W;if(k==="viewPropertyElementForm")W=r[p][ne.propName].forms[B];else try{W={[ne.propName]:r[p][ne.propName]}}catch(P){console.error(P)}m({editorState:JSON.stringify(W,null,2),propName:ne.propName,formsIndex:B,state:k,title:k==="viewProperty"?g.title:`Edit form number ${B+1} of property ${ne.propName}`}),h(!0)},C=()=>{m({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"}),h(!1)},F=()=>{let ne=JSON.parse(g.editorState);g.state==="viewProperty"?r[p][g.propName]=ne[g.propName]:r[p][g.propName].forms[g.formsIndex]=ne,t.updateOfflineTD(JSON.stringify(r,null,2)),h(!1),m({editorState:"",propName:"",formsIndex:0,state:"viewProperty",title:"Edit Property"})},V=()=>{const ne=$();if(r.properties&&p==="properties"){if(u==="list")return Object.keys(ne).map((R,z)=>Q.jsx(tse,{prop:ne[R],propName:R},z));const k=Object.keys(ne).length?["id","description","propName","editForm","previewValue",...new Set(Object.keys(ne).flatMap(R=>(ne[R].forms||[]).flatMap(oe=>Object.keys(oe))))].map(R=>({key:R,text:Doe(R)})):[];let W=Object.keys(ne).flatMap(R=>(ne[R].forms||[]).map((oe,J)=>({id:`${R} - ${J}`,description:ne[R].description??"",propName:R,...oe}))).filter(R=>Array.isArray(R.op)?R.op.includes("readproperty"):R.op==="readproperty"),P=k.filter(R=>R.key!=="op").filter(R=>R.key!=="id").filter(R=>R.key!=="description");return y&&(P=P.filter(R=>R.key!=="href")),Q.jsx(ose,{headers:P,items:W,itemsPerPage:10,orderBy:"",order:"asc",onCellClick:A,onRowClick:O,onSendRequestClick:x,baseUrl:r.base??""})}if(r.actions&&p==="actions")return Object.keys(ne).map((k,B)=>Q.jsx(Xoe,{action:ne[k],actionName:k},B));if(r.events&&p==="events")return Object.keys(ne).map((k,B)=>Q.jsx(Zoe,{event:ne[k],eventName:k},B))},X=()=>{l.current&&l.current.openModal()};let H;switch(p){case"properties":H=Q.jsx(p8,{ref:l});break;case"actions":H=Q.jsx(d8,{ref:l});break;case"events":H=Q.jsx(h8,{ref:l});break}const Z=V();return Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"flex items-end justify-start pb-4 pt-8",children:[Q.jsxs("div",{className:"flex flex-grow",children:[Q.jsx(Zo,{tooltip:P7[p],id:p,children:Q.jsx("h2",{className:"flex-grow pr-1 text-2xl text-white",children:e.interaction})}),Q.jsxs("div",{children:[p==="properties"&&Q.jsx(jn,{onClick:()=>f("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),p==="properties"&&Q.jsx(jn,{onClick:()=>f("table"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Table"})]})]}),Q.jsx(rse,{onKeyUp:ne=>E(ne),placeholder:`Search ${e.interaction}`,ariaLabel:`Search through all ${e.interaction}`}),Q.jsx("div",{className:"w-2"}),Q.jsx(jn,{onClick:()=>T(p),variant:"primary",type:"button",className:"h-9",children:d()}),Q.jsx("div",{className:"w-2"}),Q.jsx(jn,{onClick:X,variant:"primary",type:"button",className:"h-9",children:"Add"}),H]}),p==="properties"&&S(r)&&Q.jsx(nse,{isBaseModbus:S(r)}),Z&&Q.jsx("div",{className:"rounded-lg bg-gray-600 px-4 pb-4 pt-4",children:Z||Q.jsx("div",{className:"px-6"})}),c&&Q.jsx(is,{title:g.title,description:"Modify the content using this editor",onCancel:C,onSubmit:F,submitText:"Save",children:Q.jsx(oU,{height:"400px",defaultLanguage:"json",value:g.editorState,onChange:ne=>m({...g,editorState:ne||""}),options:{minimap:{enabled:!1},fontSize:14},theme:"vs-dark"})}),Q.jsx(XR,{isOpen:_.state,onClose:()=>v({state:!1,message:""}),errorMessage:_.message})]})};function ase(e){return e===null?!1:typeof e=="function"||typeof e=="object"}const g8=e=>{const t=Oe.useContext(nn),[r,n]=Oe.useState(new Array(Object.entries(e).length)),i=Oe.useCallback(o=>{let s=r,a=r[o];s[o]=a===null?!0:!a,n([...s])},[r,n]);return Q.jsx(Q.Fragment,{children:Object.entries(e).map(([o,s],a)=>{if(ase(s)){let u=Q.jsx("button",{className:"flex align-top",onClick:()=>i(a),children:Q.jsxs("div",{className:"flex rounded-md bg-gray-600 px-2 py-1 align-middle font-bold text-white",children:[Q.jsx("h4",{children:o}),r[a]===!0?Q.jsx(wf,{className:"pl-1"}):Q.jsx(UN,{className:"pl-1"})]})}),f=Q.jsxs("div",{className:"flex",children:[Q.jsx("div",{className:"my-1 ml-2 flex w-1 rounded-lg bg-gray-400"}),Q.jsx("div",{className:"mt-1 pl-8",children:r[a]===!0&&(Object.entries(s)??[]).map(([c,h],g)=>{let m={};return m[c]=h,Oe.createElement(g8,{...m,key:g})})})]});return Q.jsxs("div",{className:"mb-1",children:[u,r[a]===!0&&f]},a)}const l=yT(e,o,t.linkedTd[Object.keys(t.linkedTd)[0]]["@context"]);return Q.jsxs("div",{className:"mb-1 flex",children:[Q.jsx("h4",{className:"rounded-md bg-gray-600 px-2 py-1 font-bold text-white",children:o}),Q.jsx("div",{className:"px-2 py-1 text-gray-400",children:l})]},a)})})};var v8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IM=Ye.createContext&&Ye.createContext(v8),lse=["attr","size","title"];function use(e,t){if(e==null)return{};var r=cse(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fse(e,t,r){return t=dse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dse(e){var t=hse(e,"string");return typeof t=="symbol"?t:t+""}function hse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y8(e){return e&&e.map((t,r)=>Ye.createElement(t.tag,o_({key:r},t.attr),y8(t.child)))}function w8(e){return t=>Ye.createElement(pse,i_({attr:o_({},e.attr)},t),y8(e.child))}function pse(e){var t=r=>{var{attr:n,size:i,title:o}=e,s=use(e,lse),a=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),Ye.createElement("svg",i_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:o_(o_({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Ye.createElement("title",null,o),e.children)};return IM!==void 0?Ye.createElement(IM.Consumer,null,r=>t(r)):t(v8)}function kM(e){return w8({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.854 12.854c-0-0-0-0-0-0l-4.854-4.854 4.854-4.854c0-0 0-0 0-0 0.052-0.052 0.090-0.113 0.114-0.178 0.066-0.178 0.028-0.386-0.114-0.529l-2.293-2.293c-0.143-0.143-0.351-0.181-0.529-0.114-0.065 0.024-0.126 0.062-0.178 0.114 0 0-0 0-0 0l-4.854 4.854-4.854-4.854c-0-0-0-0-0-0-0.052-0.052-0.113-0.090-0.178-0.114-0.178-0.066-0.386-0.029-0.529 0.114l-2.293 2.293c-0.143 0.143-0.181 0.351-0.114 0.529 0.024 0.065 0.062 0.126 0.114 0.178 0 0 0 0 0 0l4.854 4.854-4.854 4.854c-0 0-0 0-0 0-0.052 0.052-0.090 0.113-0.114 0.178-0.066 0.178-0.029 0.386 0.114 0.529l2.293 2.293c0.143 0.143 0.351 0.181 0.529 0.114 0.065-0.024 0.126-0.062 0.178-0.114 0-0 0-0 0-0l4.854-4.854 4.854 4.854c0 0 0 0 0 0 0.052 0.052 0.113 0.090 0.178 0.114 0.178 0.066 0.386 0.029 0.529-0.114l2.293-2.293c0.143-0.143 0.181-0.351 0.114-0.529-0.024-0.065-0.062-0.126-0.114-0.178z"},child:[]}]})(e)}function CM(e){return w8({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"},child:[]}]})(e)}const mse=({onUndo:e,onRedo:t})=>{const r=Oe.useContext(nn),[n,i]=Oe.useState(void 0),[o,s]=Oe.useState(void 0),[a,l]=Oe.useState(void 0),[u,f]=Oe.useState(void 0);return Oe.useEffect(()=>{const c=r.validationMessage;if(c){if(c.report&&(i(c.report.json),l(c.report.schema)),!c.validationErrors){s(void 0),f(void 0);return}c.validationErrors&&(s(c.validationErrors.json),f(c.validationErrors.schema),console.debug("JSON validation error",c.validationErrors.json),console.debug("JSON Schema validation error",c.validationErrors.schema))}},[r,o,u]),Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"col-span-4 mb-4 flex justify-end gap-2",children:[Q.jsxs(jn,{onClick:e,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[Q.jsx(rR,{size:16,strokeWidth:3,className:"mr-2"}),Q.jsx("span",{className:"font-bold",children:"Undo"})]}),Q.jsxs(jn,{onClick:t,variant:"primary",type:"button",className:"flex h-8 w-40 items-center justify-center px-3 py-1",children:[Q.jsx("span",{className:"mr-2 font-bold",children:"Redo"}),Q.jsx(nR,{size:16,strokeWidth:3})]})]}),Q.jsxs("div",{className:"mb-4 w-full rounded-md bg-gray-600 p-4 text-white",children:[Q.jsxs("div",{className:"flex items-center",children:[Q.jsx("h2",{className:"mr-2",children:"JSON Validation"}),n==="passed"&&Q.jsx(CM,{}),n==="failed"&&Q.jsx(kM,{})]}),o&&Q.jsxs("div",{className:"bg-formRed border-formRed mb-4 mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[Q.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:Q.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),Q.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:o})]}),Q.jsxs("div",{className:"flex items-center",children:[Q.jsx("h2",{className:"mr-2",children:"JSON Schema Validation "}),a==="passed"&&Q.jsx(CM,{}),a==="failed"&&Q.jsx(kM,{})]}),u&&Q.jsxs("div",{className:"bg-formRed border-formRed mt-2 flex min-h-[2.5rem] w-full rounded-md border-2 bg-opacity-75 px-4",children:[Q.jsx("div",{className:"flex h-6 w-16 justify-center self-center rounded-md bg-white",children:Q.jsx("div",{className:"text-formRed place-self-center px-4 text-center text-xs",children:"Error"})}),Q.jsx("div",{className:"place-self-center overflow-hidden pl-3 text-base",children:u})]})]})]})},Sl={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},gse=Object.keys(Sl).map(e=>Sl[e]).join(""),b1="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",vse=/\s/g,DM=new RegExp(`^(${b1}\\*)?([${gse}])(/${b1})?([-+]{1,2}${b1})?$`,"g");function b8(e){throw new Error(`Invalid calc() expression: ${e}`)}function yse(e,t){const r=DM.exec(e.replace(vse,""));r||b8(e),DM.lastIndex=0;const[,n,i,o,s]=r,{x:a,y:l,width:u,height:f}=t;let c=0;switch(i){case Sl.width:{c=u;break}case Sl.height:{c=f;break}case Sl.x:{c=a;break}case Sl.y:{c=l;break}case Sl.minimum:{c=Math.min(f,u);break}case Sl.maximum:{c=Math.max(f,u);break}case Sl.diagonal:{c=Math.sqrt(f*f+u*u);break}}return n&&(c*=parseFloat(n)),o&&(c/=parseFloat(o.slice(1))),s&&(c+=wse(s)),c}function wse(e){if(!e)return 0;const[t]=e;switch(t){case"+":return parseFloat(e.substr(1));case"-":return-parseFloat(e.substr(1))}return parseFloat(e)}function Ps(e){return typeof e=="string"&&e.includes("calc")}const _8="calc(",MM=_8.length;function Ns(e,t){let r=e,n=0;do{let i=r.indexOf(_8,n);if(i===-1)return r;let o=i+MM,s=1;e:do{switch(r[o]){case"(":{s++;break}case")":{if(s--,s===0)break e;break}case void 0:b8(r)}o++}while(!0);let a=r.slice(i+MM,o);Ps(a)&&(a=Ns(a,t));const l=String(yse(a,t));r=r.slice(0,i)+l+r.slice(o+1),n=i+l.length}while(!0)}const{round:bse,floor:_se,PI:E8}=Math,Ese={linear:function(e,t,r){var n=e[1]-e[0],i=t[1]-t[0];return(r-e[0])/n*i+t[0]||0}},ya=function(e){return e%360+(e<0?360:0)},Cf=function(e,t){return t*bse(e/t)},OE=function(e){return 180*e/E8%360},Po=function(e,t){return t=t||!1,e=t?e:e%360,e*E8/180},qO=function(e,t){if(t===void 0)t=e===void 0?1:e,e=0;else if(t<e){const r=e;e=t,t=r}return _se(Math.random()*(t-e+1)+e)},{cos:Gv,sin:_1,atan2:Sse}=Math,S8=function(e,t){var r=Po(e.y),n=Po(t.y),i=e.x,o=t.x,s=Po(o-i),a=_1(s)*Gv(n),l=Gv(r)*_1(n)-_1(r)*Gv(n)*Gv(s),u=OE(Sse(a,l)),f=["NE","E","SE","S","SW","W","NW","N"],c=u-22.5;return c<0&&(c+=360),c=parseInt(c/45),f[c]},QR=function(e,t){var r=e.x,n=e.y,i=t.x,o=t.y;return(r-=i)*r+(n-=o)*n},$8=function(e,t){return Math.sqrt(QR(e,t))},sr={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:s_,cos:VO,sin:HO,sqrt:LM,min:FM,max:BM,atan2:$se,round:UM,pow:Tse,PI:zM}=Math,ze=function(e,t){if(!(this instanceof ze))return new ze(e,t);if(typeof e=="string"){var r=e.split(e.indexOf("@")===-1?" ":"@");e=parseFloat(r[0]),t=parseFloat(r[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=e===void 0?0:e,this.y=t===void 0?0:t};ze.fromPolar=function(e,t,r){r=new ze(r);var n=s_(e*VO(t)),i=s_(e*HO(t)),o=ya(OE(t));return o<90?i=-i:o<180?(n=-n,i=-i):o<270&&(n=-n),new ze(r.x+n,r.y+i)};ze.random=function(e,t,r,n){return new ze(qO(e,t),qO(r,n))};ze.prototype={type:sr.Point,chooseClosest:function(e){var t=e.length;if(t===1)return new ze(e[0]);for(var r=null,n=1/0,i=0;i<t;i++){var o=new ze(e[i]),s=this.squaredDistance(o);s<n&&(r=o,n=s)}return r},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=FM(BM(this.x,e.x),e.x+e.width),this.y=FM(BM(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var r=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return r<0&&(r+=360),r},bearing:function(e){return S8(this,e)},changeInAngle:function(e,t,r){return this.clone().offset(-e,-t).theta(r)-this.theta(r)},clone:function(){return new ze(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new ze(this.x-(e||0),this.y-(t||0))},distance:function(e){return $8(this,e)},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){var r=this.x,n=this.y;return new ze((1-t)*r+t*e.x,(1-t)*n+t*e.y)},magnitude:function(){return LM(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return s_(e.x-this.x)+s_(e.y-this.y)},move:function(e,t){var r=Po(new ze(e).theta(this)),n=this.offset(VO(r)*t,-HO(r)*t);return n},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new ze(e).move(this,this.distance(e))},rotate:function(e,t){if(t===0)return this;e=e||new ze(0,0),t=Po(ya(-t));var r=VO(t),n=HO(t),i=r*(this.x-e.x)-n*(this.y-e.y)+e.x,o=n*(this.x-e.x)+r*(this.y-e.y)+e.y;return this.x=i,this.y=o,this},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Tse(10,e);break}return this.x=UM(this.x*t)/t,this.y=UM(this.y*t)/t,this},scale:function(e,t,r){return r=r&&new ze(r)||new ze(0,0),this.x=r.x+e*(this.x-r.x),this.y=r.y+t*(this.y-r.y),this},snapToGrid:function(e,t){return this.x=Cf(this.x,e),this.y=Cf(this.y,t||e),this},squaredDistance:function(e){return QR(this,e)},theta:function(e){e=new ze(e);var t=-(e.y-this.y),r=e.x-this.x,n=$se(t,r);return n<0&&(n=2*zM+n),180*n/zM},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new ze(e)||new ze(0,0);var t=this.x,r=this.y;return this.x=LM((t-e.x)*(t-e.x)+(r-e.y)*(r-e.y)),this.y=Po(e.theta(new ze(t,r))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x=e||0,this.y=t||0,this},vectorAngle:function(e){var t=new ze(0,0);return t.angleBetween(this,e)}};ze.prototype.translate=ze.prototype.offset;const a_=ze,{max:E1,min:S1}=Math,Rt=function(e,t){if(!(this instanceof Rt))return new Rt(e,t);if(e instanceof Rt)return new Rt(e.start,e.end);this.start=new ze(e),this.end=new ze(t)};Rt.prototype={type:sr.Line,angle:function(){var e=new ze(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=S1(this.start.x,this.end.x),t=S1(this.start.y,this.end.y),r=E1(this.start.x,this.end.x),n=E1(this.start.y,this.end.y);return new Pt(e,t,r-e,n-t)},bearing:function(){return S8(this.start,this.end)},clone:function(){return new Rt(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new Rt(this.start,e).vector()),r=S1(1,E1(0,t/this.squaredLength()));return r!==r?0:r},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,r=this.end;if(t.cross(e,r)!==0)return!1;var n=this.length();return!(new Rt(t,e).length()>n||new Rt(e,r).length()>n)},divideAt:function(e){var t=this.pointAt(e);return[new Rt(this.start,t),new Rt(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new Rt(this.start,t),new Rt(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e&&e.intersectionWithLine){var r=e.intersectionWithLine(this,t);return r&&e instanceof Rt&&(r=r[0]),r}return null},intersectionWithLine:function(e){var t=new ze(this.end.x-this.start.x,this.end.y-this.start.y),r=new ze(e.end.x-e.start.x,e.end.y-e.start.y),n=t.x*r.y-t.y*r.x,i=new ze(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*r.y-i.y*r.x,s=i.x*t.y-i.y*t.x;if(n===0||o*n<0||s*n<0)return null;if(n>0){if(o>n||s>n)return null}else if(o<n||s<n)return null;return[new ze(this.start.x+o*t.x/n,this.start.y+o*t.y/n)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return $8(this.start,this.end)},midpoint:function(){return new ze((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(e){const t=this.clone();if(!this.isDifferentiable())return t;const{start:r,end:n}=t,i=r.clone().rotate(n,270),o=n.clone().rotate(r,90);return r.move(o,e),n.move(i,e),t},pointAt:function(e){var t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)},pointAtLength:function(e){var t=this.start,r=this.end,n=!0;e<0&&(n=!1,e=-e);var i=this.length();return e>=i?n?r.clone():t.clone():this.pointAt((n?e:i-e)/i)},pointOffset:function(e){e=new ze(e);var t=this.start,r=this.end,n=(r.x-t.x)*(e.y-t.y)-(r.y-t.y)*(e.x-t.x);return n/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){return this.start.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this},setLength:function(e){var t=this.length();if(!t)return this;var r=e/t;return this.scale(r,r,this.start)},squaredLength:function(){return QR(this.start,this.end)},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAt(e),i=new Rt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,r=this.end,n=this.pointAtLength(e),i=new Rt(t,r);return i.translate(n.x-t.x,n.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new ze(this.end.x-this.start.x,this.end.y-this.start.y)}};Rt.prototype.intersection=Rt.prototype.intersect;const $f=Rt,{sqrt:qM,round:Kv,pow:xse}=Math,ro=function(e,t,r){if(!(this instanceof ro))return new ro(e,t,r);if(e instanceof ro)return new ro(new ze(e.x,e.y),e.a,e.b);e=new ze(e),this.x=e.x,this.y=e.y,this.a=t,this.b=r};ro.fromRect=function(e){return e=new Pt(e),new ro(e.center(),e.width/2,e.height/2)};ro.prototype={type:sr.Ellipse,bbox:function(){return new Pt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new ze(this.x,this.y)},clone:function(){return new ro(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],r=e.start,n=e.end,i=this.a,o=this.b,s=e.vector(),a=r.difference(new ze(this)),l=new ze(s.x/(i*i),s.y/(o*o)),u=new ze(a.x/(i*i),a.y/(o*o)),f=s.dot(l),c=s.dot(u),h=a.dot(u)-1,g=c*c-f*h;if(g<0)return null;if(g>0){var m=qM(g),_=(-c-m)/f,v=(-c+m)/f;if((_<0||1<_)&&(v<0||1<v))return null;0<=_&&_<=1&&t.push(r.lerp(n,_)),0<=v&&v<=1&&t.push(r.lerp(n,v))}else{var p=-c/f;if(0<=p&&p<=1)t.push(r.lerp(n,p));else return null}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e),t&&e.rotate(new ze(this.x,this.y),t);var r=e.x-this.x,n=e.y-this.y,i;if(r===0)return i=this.bbox().pointNearestToPoint(e),t?i.rotate(new ze(this.x,this.y),-t):i;var o=n/r,s=o*o,a=this.a*this.a,l=this.b*this.b,u=qM(1/(1/a+s/l));u=r<0?-u:u;var f=o*u;return i=new ze(this.x+u,this.y+f),t?i.rotate(new ze(this.x,this.y),-t):i},normalizedDistance:function(e){var t=e.x,r=e.y,n=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(n*n)+(r-s)*(r-s)/(i*i)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=xse(10,e);break}return this.x=Kv(this.x*t)/t,this.y=Kv(this.y*t)/t,this.a=Kv(this.a*t)/t,this.b=Kv(this.b*t)/t,this},tangentTheta:function(e){var t=30,r=e.x,n=e.y,i=this.a,o=this.b,s=this.bbox().center(),a=s.x,l=s.y,u=r>s.x+i/2,f=r<s.x-i/2,c,h;return u||f?(c=r>s.x?n-t:n+t,h=i*i/(r-a)-i*i*(n-l)*(c-l)/(o*o*(r-a))+a):(h=n>s.y?r+t:r-t,c=o*o/(n-l)-o*o*(r-a)*(h-a)/(i*i*(n-l))+l),new ze(h,c).theta(e)},toString:function(){return new ze(this.x,this.y).toString()+" "+this.a+" "+this.b}};const Ase=ro,{abs:VM,cos:Ose,sin:Pse,min:Tp,max:HM,round:Jv,pow:Nse}=Math,Pt=function(e,t,r,n){if(!(this instanceof Pt))return new Pt(e,t,r,n);Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e===void 0?0:e,this.y=t===void 0?0:t,this.width=r===void 0?0:r,this.height=n===void 0?0:n};Pt.fromEllipse=function(e){return e=new ro(e),new Pt(e.x-e.a,e.y-e.b,2*e.a,2*e.b)};Pt.fromPointUnion=function(...e){if(e.length===0)return null;const t=new ze;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y;a<r&&(r=a),a>i&&(i=a),l<n&&(n=l),l>o&&(o=l)}return new Pt(r,n,i-r,o-n)};Pt.fromRectUnion=function(...e){if(e.length===0)return null;const t=new Pt;let r,n,i,o;r=n=1/0,i=o=-1/0;for(let s=0;s<e.length;s++){t.update(e[s]);const a=t.x,l=t.y,u=a+t.width,f=l+t.height;a<r&&(r=a),u>i&&(i=u),l<n&&(n=l),f>o&&(o=f)}return new Pt(r,n,i-r,o-n)};Pt.prototype={type:sr.Rect,bbox:function(e){return this.clone().rotateAroundCenter(e)},rotateAroundCenter:function(e){if(!e)return this;const{width:t,height:r}=this,n=Po(e),i=VM(Pse(n)),o=VM(Ose(n)),s=t*o+r*i,a=t*i+r*o;return this.x+=(t-s)/2,this.y+=(r-a)/2,this.width=s,this.height=a,this},bottomLeft:function(){return new ze(this.x,this.y+this.height)},bottomLine:function(){return new Rt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new ze(this.x+this.width/2,this.y+this.height)},center:function(){return new ze(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new Pt(this)},containsPoint:function(e){return e instanceof ze||(e=new ze(e)),e.x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new Pt(this).normalize(),r=new Pt(e).normalize(),n=t.width,i=t.height,o=r.width,s=r.height;if(!n||!i||!o||!s)return!1;var a=t.x,l=t.y,u=r.x,f=r.y;return o+=u,n+=a,s+=f,i+=l,a<=u&&o<=n&&l<=f&&s<=i},corner:function(){return new ze(this.x+this.width,this.y+this.height)},equals:function(e){var t=new Pt(this).normalize(),r=new Pt(e).normalize();return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height},inflate:function(e,t){return e===void 0&&(e=0),t===void 0&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),r=this.corner(),n=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||n.x>=r.x||n.y>=r.y)return null;var o=HM(t.x,n.x),s=HM(t.y,n.y);return new Pt(o,s,Tp(r.x,i.x)-o,Tp(r.y,i.y)-s)},intersectionWithLine:function(e){var t=this,r=[t.topLine(),t.rightLine(),t.bottomLine(),t.leftLine()],n=[],i=[],o,s,a=r.length;for(s=0;s<a;s++)o=e.intersect(r[s]),o!==null&&i.indexOf(o.toString())<0&&(n.push(o),i.push(o.toString()));return n.length>0?n:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new ze(e);var r=new ze(this.x+this.width/2,this.y+this.height/2),n;t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new Rt(r,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(a!==null){n=a;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new Rt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new ze(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){e=new Pt(e),t||(t=e.center());var r,n,i,o,s,a,l,u,f=t.x,c=t.y;r=n=i=o=s=a=l=u=1/0;var h=e.topLeft();h.x<f&&(r=(this.x-f)/(h.x-f)),h.y<c&&(s=(this.y-c)/(h.y-c));var g=e.bottomRight();g.x>f&&(n=(this.x+this.width-f)/(g.x-f)),g.y>c&&(a=(this.y+this.height-c)/(g.y-c));var m=e.topRight();m.x>f&&(i=(this.x+this.width-f)/(m.x-f)),m.y<c&&(l=(this.y-c)/(m.y-c));var _=e.bottomLeft();return _.x<f&&(o=(this.x-f)/(_.x-f)),_.y>c&&(u=(this.y+this.height-c)/(_.y-c)),{sx:Tp(r,n,i,o),sy:Tp(s,a,l,u)}},maxRectUniformScaleToFit:function(e,t){var r=this.maxRectScaleToFit(e,t);return Tp(r.sx,r.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,r=this.width,n=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,n=-this.height),this.x=e,this.y=t,this.width=r,this.height=n,this},offset:function(e,t){return ze.prototype.offset.call(this,e,t)},origin:function(){return new ze(this.x,this.y)},pointNearestToPoint:function(e){if(e=new ze(e),this.containsPoint(e)){var t=this.sideNearestToPoint(e);switch(t){case"right":return new ze(this.x+this.width,e.y);case"left":return new ze(this.x,e.y);case"bottom":return new ze(e.x,this.y+this.height);case"top":return new ze(e.x,this.y)}}return e.adhereToRect(this)},rightLine:function(){return new Rt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new ze(this.x+this.width,this.y+this.height/2)},round:function(e){let t=1;if(e)switch(e){case 1:t=10;break;case 2:t=100;break;case 3:t=1e3;break;default:t=Nse(10,e);break}return this.x=Jv(this.x*t)/t,this.y=Jv(this.y*t)/t,this.width=Jv(this.width*t)/t,this.height=Jv(this.height*t)/t,this},scale:function(e,t,r){return r=this.origin().scale(e,t,r),this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){e=new ze(e);var t=e.x-this.x,r=this.x+this.width-e.x,n=e.y-this.y,i=this.y+this.height-e.y,o=t,s="left";return r<o&&(o=r,s="right"),n<o&&(o=n,s="top"),i<o&&(s="bottom"),s},snapToGrid:function(e,t){var r=this.origin().snapToGrid(e,t),n=this.corner().snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=n.x-r.x,this.height=n.y-r.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new Rt(this.topLeft(),this.topRight())},topMiddle:function(){return new ze(this.x+this.width/2,this.y)},topRight:function(){return new ze(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){return Pt.fromRectUnion(this,e)},update:function(e,t,r,n){return Object(e)===e&&(t=e.y,r=e.width,n=e.height,e=e.x),this.x=e||0,this.y=t||0,this.width=r||0,this.height=n||0,this}};Pt.prototype.bottomRight=Pt.prototype.corner;Pt.prototype.topLeft=Pt.prototype.origin;Pt.prototype.translate=Pt.prototype.offset;const Rse=Pt;function T8(e){const t=e.trim();if(t==="")return[];const r=[],n=t.split(/\b\s*,\s*|,\s*|\s+/),i=n.length;for(let o=0;o<i;o+=2)r.push({x:+n[o],y:+n[o+1]});return r}function x8(e){const t=e.length;if(t===0)return[];const r=[];for(let n=0;n<t;n++){const i=e[n].clone();r.push(i)}return r}function A8(e){const{abs:t}=Math;var r,n,i=e.length;if(i===0)return[];var o;for(r=0;r<i;r++)(o===void 0||e[r].y<o.y||e[r].y===o.y&&e[r].x>o.x)&&(o=e[r]);var s=[];for(r=0;r<i;r++){var a=o.theta(e[r]);a===0&&(a=360);var l=[e[r],r,a];s.push(l)}if(s.sort(function(V,X){var H=V[2]-X[2];return H===0&&(H=X[1]-V[1]),H}),s.length>2){var u=s[s.length-1];s.unshift(u)}for(var f={},c=[],h,g,m,_,v,p;s.length!==0;)if(h=s.pop(),g=h[0],!f.hasOwnProperty(h[0]+"@@"+h[1]))for(var E=!1;!E;)if(c.length<2)c.push(h),E=!0;else{m=c.pop(),_=m[0],v=c.pop(),p=v[0];var y=p.cross(_,g);if(y<0)c.push(v),c.push(m),c.push(h),E=!0;else if(y===0){var S=1e-10,$=_.angleBetween(p,g);t($-180)<S||_.equals(g)||p.equals(_)?(f[m[0]+"@@"+m[1]]=_,c.push(v)):t(($+1)%360-1)<S&&(c.push(v),s.push(m))}else f[m[0]+"@@"+m[1]]=_,c.push(v)}c.length>2&&c.pop();var T,d=-1;for(n=c.length,r=0;r<n;r++){var x=c[r][1];(T===void 0||x<T)&&(T=x,d=r)}var A=[];if(d>0){var O=c.slice(d),C=c.slice(0,d);A=O.concat(C)}else A=c;var F=[];for(n=A.length,r=0;r<n;r++)F.push(A[r][0]);return F}const fn=function(e){if(!(this instanceof fn))return new fn(e);if(typeof e=="string")return new fn.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};fn.parse=function(e){return new fn(T8(e))};fn.fromRect=function(e){return new fn([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft(),e.topLeft()])};fn.prototype={type:sr.Polyline,bbox:function(){var e=1/0,t=-1/0,r=1/0,n=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var s=0;s<o;s++){var a=i[s],l=a.x,u=a.y;l<e&&(e=l),l>t&&(t=l),u<r&&(r=u),u>n&&(n=u)}return new Pt(e,r,t-e,n-r)},clone:function(){return new fn(x8(this.points))},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return 0;for(var n,i=1/0,o=0,s=r-1,a=0;a<s;a++){var l=new Rt(t[a],t[a+1]),u=l.length(),f=l.closestPointNormalizedLength(e),c=l.pointAt(f),h=c.squaredDistance(e);h<i&&(i=h,n=o+f*u),o+=u}return n},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(t===0)return 0;var r=this.length();return r===0?0:t/r},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,r=t.length;if(r===0)return!1;for(var n=e.x,i=e.y,o=r-1,s=0,a=0,l=new Rt,u=new Rt,f=new ze;s<r;s++){var c=t[o],h=t[s];if(e.equals(c)||(l.start=c,l.end=h,l.containsPoint(e)))return!0;if(i<=c.y&&i>h.y||i>c.y&&i<=h.y){var g=c.x-n>h.x-n?c.x-n:h.x-n;g>=0&&(f.x=n+g,f.y=i,u.start=e,u.end=f,l.intersect(u)&&a++)}o=s}return a%2===1},close:function(){const{start:e,end:t,points:r}=this;return e&&t&&!e.equals(t)&&r.push(e.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new fn(A8(this.points))},equals:function(e){if(!e)return!1;var t=this.points,r=e.points,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=e.points[i];if(!o.equals(s))return!1}return!0},intersectionWithLine:function(e){for(var t=new Rt(e),r=[],n=this.lengthPoints(),i=new Rt,o=0,s=n.length-1;o<s;o++){i.start=n[o],i.end=n[o+1];var a=t.intersectionWithLine(i);a&&r.push(a[0])}return r.length>0?r:null},isDifferentiable:function(){var e=this.points,t=e.length;if(t===0)return!1;for(var r=new Rt,n=t-1,i=0;i<n;i++)if(r.start=e[i],r.end=e[i+1],r.isDifferentiable())return!0;return!1},length:function(){var e=this.lengthPoints(),t=e.length;if(t===0)return 0;for(var r=0,n=t-1,i=0;i<n;i++)r+=e[i].distance(e[i+1]);return r},pointAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();var n=this.length(),i=n*e;return this.pointAtLength(i)},pointAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0)return null;if(r===1)return t[0].clone();var n=!0;e<0&&(n=!1,e=-e);for(var i=0,o=r-1,s=0;s<o;s++){var a=n?s:o-1-s,l=t[a],u=t[a+1],f=new Rt(l,u),c=l.distance(u);if(e<=i+c)return f.pointAtLength((n?1:-1)*(e-i));i+=c}var h=n?t[r-1]:t[0];return h.clone()},round:function(e){for(var t=this.points,r=t.length,n=0;n<r;n++)t[n].round(e);return this},scale:function(e,t,r){for(var n=this.points,i=n.length,o=0;o<i;o++)n[o].scale(e,t,r);return this},simplify:function(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||1e-10;let n=0;for(;t[n+2];){const i=n,o=n+1,s=n+2,a=t[i],l=t[o],u=t[s];new Rt(a,u).closestPoint(l).distance(l)<=r?t.splice(o,1):n+=1}return this},tangentAt:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length(),i=n*e;return this.tangentAtLength(i)},tangentAtLength:function(e){var t=this.lengthPoints(),r=t.length;if(r===0||r===1)return null;var n=!0;e<0&&(n=!1,e=-e);for(var i,o=0,s=r-1,a=0;a<s;a++){var l=n?a:s-1-a,u=t[l],f=t[l+1],c=new Rt(u,f),h=u.distance(f);if(c.isDifferentiable()){if(e<=o+h)return c.tangentAtLength((n?1:-1)*(e-o));i=c}o+=h}if(i){var g=n?1:0;return i.tangentAt(g)}return null},toString:function(){return this.points+""},translate:function(e,t){for(var r=this.points,n=r.length,i=0;i<n;i++)r[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(t===0)return"";for(var r="",n=0;n<t;n++){var i=e[n];r+=i.x+","+i.y+" "}return r.trim()}};Object.defineProperty(fn.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[0]}});Object.defineProperty(fn.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points,t=e.length;return t===0?null:this.points[t-1]}});const{abs:Yv,sqrt:Ise,min:WM,max:GM,pow:$1}=Math,Fr=function(e,t,r,n){if(!(this instanceof Fr))return new Fr(e,t,r,n);if(e instanceof Fr)return new Fr(e.start,e.controlPoint1,e.controlPoint2,e.end);this.start=new ze(e),this.controlPoint1=new ze(t),this.controlPoint2=new ze(r),this.end=new ze(n)};Fr.throughPoints=function(){function e(r){var n=[],i=[],o=r.length-1,s;if(o==1)return n[0]=new ze((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),i[0]=new ze(2*n[0].x-r[0].x,2*n[0].y-r[0].y),[n,i];var a=[];for(s=1;s<o-1;s++)a[s]=4*r[s].x+2*r[s+1].x;a[0]=r[0].x+2*r[1].x,a[o-1]=(8*r[o-1].x+r[o].x)/2;var l=t(a);for(s=1;s<o-1;++s)a[s]=4*r[s].y+2*r[s+1].y;a[0]=r[0].y+2*r[1].y,a[o-1]=(8*r[o-1].y+r[o].y)/2;var u=t(a);for(s=0;s<o;s++)n.push(new ze(l[s],u[s])),s<o-1?i.push(new ze(2*r[s+1].x-l[s+1],2*r[s+1].y-u[s+1])):i.push(new ze((r[o].x+l[o-1])/2,(r[o].y+u[o-1])/2));return[n,i]}function t(r){var n=r.length,i=[],o=[],s=2;i[0]=r[0]/s;for(var a=1;a<n;a++)o[a]=1/s,s=(a<n-1?4:3.5)-o[a],i[a]=(r[a]-i[a-1])/s;for(a=1;a<n;a++)i[n-a-1]-=o[n-a]*i[n-a];return i}return function(r){if(!r||Array.isArray(r)&&r.length<2)throw new Error("At least 2 points are required");for(var n=e(r),i=[],o=n[0].length,s=0;s<o;s++){var a=new ze(n[0][s].x,n[0][s].y),l=new ze(n[1][s].x,n[1][s].y);i.push(new Fr(r[s],a,l,r[s+1]))}return i}}();Fr.prototype={type:sr.Curve,bbox:function(){for(var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end,i=e.x,o=e.y,s=t.x,a=t.y,l=r.x,u=r.y,f=n.x,c=n.y,h=new Array,g=new Array,m=[new Array,new Array],_,v,p,E,y,S,$,T,d=0;d<2;++d){if(d===0?(v=6*i-12*s+6*l,_=-3*i+9*s-9*l+3*f,p=3*s-3*i):(v=6*o-12*a+6*u,_=-3*o+9*a-9*u+3*c,p=3*a-3*o),Yv(_)<1e-12){if(Yv(v)<1e-12)continue;E=-p/v,0<E&&E<1&&g.push(E);continue}$=v*v-4*p*_,T=Ise($),!($<0)&&(y=(-v+T)/(2*_),0<y&&y<1&&g.push(y),S=(-v-T)/(2*_),0<S&&S<1&&g.push(S))}for(var x=g.length,A=x,O,C,F;x--;)E=g[x],O=1-E,C=O*O*O*i+3*O*O*E*s+3*O*E*E*l+E*E*E*f,m[0][x]=C,F=O*O*O*o+3*O*O*E*a+3*O*E*E*u+E*E*E*c,m[1][x]=F,h[x]={X:C,Y:F};g[A]=0,g[A+1]=1,h[A]={X:i,Y:o},h[A+1]={X:f,Y:c},m[0][A]=i,m[1][A]=o,m[0][A+1]=f,m[1][A+1]=c,g.length=A+2,m[0].length=A+2,m[1].length=A+2,h.length=A+2;var V=WM.apply(null,m[0]),X=WM.apply(null,m[1]),H=GM.apply(null,m[0]),Z=GM.apply(null,m[1]);return new Pt(V,X,H-V,Z-X)},clone:function(){return new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n};return this.lengthAtT(this.closestPointT(e,i),i)},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.closestPointLength(e,i);if(!o)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i,o,s,a,l,u,f,c=n.length,h=c?1/c:0,g=0;g<c;g++){var m=n[g],_=m.start.distance(e),v=m.end.distance(e),p=_+v;(!f||p<f)&&(i=m,o=g*h,s=(g+1)*h,a=_,l=v,u=m.start.distance(m.end),f=p)}for(var E=$1(10,-r);;){var y=a?Yv(a-l)/a:0,S=l?Yv(a-l)/l:0,$=y<E||S<E,T=a?a<u*E:!0,d=l?l<u*E:!0,x=T||d;if($||x)return a<=l?o:s;var A=i.divide(.5);h/=2;var O=A[0].start.distance(e),C=A[0].end.distance(e),F=O+C,V=A[1].start.distance(e),X=A[1].end.distance(e),H=V+X;F<=H?(i=A[0],s-=h,a=O,l=C):(i=A[1],o+=h,a=V,l=X)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){var r=this.toPolyline(t);return r.containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var r=this.tAt(e,t);return this.divideAtT(r)},divideAtLength:function(e,t){var r=this.tAtLength(e,t);return this.divideAtT(r)},divideAtT:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return[new Fr(t,t,t,t),new Fr(t,r,n,i)];if(e>=1)return[new Fr(t,r,n,i),new Fr(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,a=o.startControlPoint2,l=o.divider,u=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new Fr(t,s,a,l),new Fr(l,u,f,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,r=this.controlPoint1,n=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:n.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:n.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new Rt(t,r).pointAt(e),s=new Rt(r,n).pointAt(e),a=new Rt(n,i).pointAt(e),l=new Rt(o,s).pointAt(e),u=new Rt(s,a).pointAt(e),f=new Rt(l,u).pointAt(e),c={startControlPoint1:o,startControlPoint2:l,divider:f,dividerControlPoint1:u,dividerControlPoint2:a};return c},getSubdivisions:function(e){e=e||{};var t=e.precision===void 0?this.PRECISION:e.precision,r=this.start,n=this.controlPoint1,i=this.controlPoint2,o=this.end,s=[new Fr(r,n,i,o)];if(t===0)return s;var a=!this.isDifferentiable();if(a)return s;var l=this.endpointDistance(),u=$1(10,-t),f=2,c=n.cross(r,o)===0&&i.cross(r,o)===0;c&&(f=2*t);for(var h=0;;){h+=1;for(var g=[],m=s.length,_=0;_<m;_++){var v=s[_],p=v.divide(.5);g.push(p[0],p[1])}for(var E=0,y=g.length,S=0;S<y;S++){var $=g[S];E+=$.endpointDistance()}if(h>=f){var T=E!==0?(E-l)/E:0;if(T<u)return g}s=g,l=E}},isDifferentiable:function(){var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},length:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=0,i=r.length,o=0;o<i;o++){var s=r[o];n+=s.endpointDistance()}return n},lengthAtT:function(e,t){if(e<=0)return 0;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=this.divide(e)[0],i=n.length({precision:r});return i},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var r=this.tAt(e,t);return this.pointAtT(r)},pointAtLength:function(e,t){var r=this.tAtLength(e,t);return this.pointAtT(r)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,round:function(e){return this.start.round(e),this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var r=this.tAt(e,t);return this.tangentAtT(r)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var r=this.tAtLength(e,t);return this.tangentAtT(r)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),r=t.startControlPoint2,n=t.dividerControlPoint1,i=t.divider,o=new Rt(r,n);return o.translate(i.x-r.x,i.y-r.y),o},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:r}):t.subdivisions,i={precision:r,subdivisions:n},o=this.length(i),s=o*e;return this.tAtLength(s,i)},tAtLength:function(e,t){var r=!0;e<0&&(r=!1,e=-e),t=t||{};for(var n=t.precision===void 0?this.PRECISION:t.precision,i=t.subdivisions===void 0?this.getSubdivisions({precision:n}):t.subdivisions,o={precision:n,subdivisions:i},s,a,l,u,f,c=0,h=i.length,g=1/h,m=0;m<h;m++){var _=r?m:h-1-m,v=i[m],p=v.endpointDistance();if(e<=c+p){s=v,a=_*g,l=(_+1)*g,u=r?e-c:p+c-e,f=r?p+c-e:e-c;break}c+=p}if(!s)return r?1:0;for(var E=this.length(o),y=$1(10,-n);;){var S;if(S=E!==0?u/E:0,S<y)return a;if(S=E!==0?f/E:0,S<y)return l;var $,T,d=s.divide(.5);g/=2;var x=d[0].endpointDistance(),A=d[1].endpointDistance();u<=x?(s=d[0],l-=g,$=u,T=x-$):(s=d[1],a+=g,$=u-x,T=A-$),u=$,f=T}},toPoints:function(e){e=e||{};for(var t=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:t}):e.subdivisions,n=[r[0].start.clone()],i=r.length,o=0;o<i;o++){var s=r[o];n.push(s.end.clone())}return n},toPolyline:function(e){return new fn(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Fr.prototype.divide=Fr.prototype.divideAtT;function Fg(e){var t,r,n=[];for(r=arguments.length,t=1;t<r;t++)n.push(arguments[t]);if(!e)throw new Error("Missing a parent object.");var i=Object.create(e);for(r=n.length,t=0;t<r;t++){var o=n[t],s,a;for(a in o)o.hasOwnProperty(a)&&(delete i[a],s=Object.getOwnPropertyDescriptor(o,a),Object.defineProperty(i,a,s))}return i}const Bt=function(e){if(!(this instanceof Bt))return new Bt(e);if(typeof e=="string")return new Bt.parse(e);this.segments=[];var t,r;if(e)if(Array.isArray(e)&&e.length!==0)if(e=e.reduce(function(a,l){return a.concat(l)},[]),r=e.length,e[0].isSegment)for(t=0;t<r;t++){var n=e[t];this.appendSegment(n)}else{var i=null;for(t=0;t<r;t++){var o=e[t];if(!(o instanceof Rt||o instanceof Fr))throw new Error("Cannot construct a path segment from the provided object.");t===0&&this.appendSegment(Bt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(Bt.createSegment("M",o.start)),o instanceof Rt?this.appendSegment(Bt.createSegment("L",o.end)):o instanceof Fr&&this.appendSegment(Bt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof Rt)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("L",e.end));else if(e instanceof Fr)this.appendSegment(Bt.createSegment("M",e.start)),this.appendSegment(Bt.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else if(e instanceof fn){if(!(e.points&&e.points.length!==0))return;for(r=e.points.length,t=0;t<r;t++){var s=e.points[t];t===0?this.appendSegment(Bt.createSegment("M",s)):this.appendSegment(Bt.createSegment("L",s))}}else throw new Error("Cannot construct a path from the provided object.")};Bt.parse=function(e){if(!e)return new Bt;for(var t=new Bt,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,n=e.match(r),i=n.length,o=0;o<i;o++){var s=n[o],a=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=s.match(a),u=Bt.createSegment.apply(this,l);t.appendSegment(u)}return t};Bt.createSegment=function(e){if(!e)throw new Error("Type must be provided.");var t=Bt.segmentTypes[e];if(!t)throw new Error(e+" is not a recognized path segment type.");for(var r=[],n=arguments.length,i=1;i<n;i++)r.push(arguments[i]);return il(t,r)};Bt.prototype={type:sr.Path,appendSegment:function(e){var t=this.segments,r=t.length,n,i=r!==0?t[r-1]:null,o=null;if(Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,a=0;a<s;a++){var l=e[a];n=this.prepareSegment(l,i,o),t.push(n),i=n}}else{if(!e||!e.isSegment)throw new Error("Segment required.");n=this.prepareSegment(e,i,o),t.push(n)}},bbox:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r,n=0;n<t;n++){var i=e[n];if(i.isVisible){var o=i.bbox();r=r?r.union(o):o}}if(r)return r;var s=e[t-1];return new Pt(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,r=new Bt,n=0;n<t;n++){var i=e[n].clone();r.appendSegment(i)}return r},closestPoint:function(e,t){var r=this.closestPointT(e,t);return r?this.pointAtT(r):null},closestPointLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointT(e,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(e,t){t=t||{};var r=t.precision===void 0?this.PRECISION:t.precision,n=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,i={precision:r,segmentSubdivisions:n},o=this.closestPointLength(e,i);if(o===0)return 0;var s=this.length(i);return s===0?0:o/s},closestPointT:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isVisible){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),g=new Rt(h,e).squaredLength();g<a&&(s={segmentIndex:l,value:c},a=g)}}return s||{segmentIndex:n-1,value:1}},closestPointTangent:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;t=t||{};for(var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a=1/0,l=0;l<n;l++){var u=r[l],f=o[l];if(u.isDifferentiable()){var c=u.closestPointT(e,{precision:i,subdivisions:f}),h=u.pointAtT(c),g=new Rt(h,e).squaredLength();g<a&&(s=u.tangentAtT(c),a=g)}}return s||null},containsPoint:function(e,t){var r=this.toPolylines(t);if(!r)return!1;for(var n=r.length,i=0,o=0;o<n;o++){var s=r[o];s.containsPoint(e)&&i++}return i%2===1},divideAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.divideAtLength(l,s)},divideAtLength:function(e,t){var r=this.segments.length;if(r===0)return null;var n=!0;e<0&&(n=!1,e=-e),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s,a,l=0,u,f,c,h,g;for(s=0;s<r;s++){var m=n?s:r-1-s;a=this.getSegment(m);var _=o[m],v=a.length({precision:i,subdivisions:_});if(a.isDifferentiable()&&(c=a,h=m,e<=l+v)){f=m,u=a.divideAtLength((n?1:-1)*(e-l),{precision:i,subdivisions:_});break}l+=v}if(!c)return null;u||(f=h,g=n?1:0,u=c.divideAtT(g));var p=this.clone();p.replaceSegment(f,u);var E=f,y=f+1,S=f+2;u[0].isDifferentiable()||(p.removeSegment(E),y-=1,S-=1);var $=p.getSegment(y).start;p.insertSegment(y,Bt.createSegment("M",$)),S+=1,u[1].isDifferentiable()||(p.removeSegment(S-1),S-=1);var T=S-E-1;for(s=S;s<p.segments.length;s++){var d=this.getSegment(s-T);if(a=p.getSegment(s),a.type==="Z"&&!d.subpathStartSegment.end.equals(a.subpathStartSegment.end)){var x=Bt.createSegment("L",d.end);p.replaceSegment(s,x)}}var A=new Bt(p.segments.slice(0,y)),O=new Bt(p.segments.slice(y));return[A,O]},equals:function(e){if(!e)return!1;var t=this.segments,r=e.segments,n=t.length;if(r.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i],s=r[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){var t=this.segments,r=t.length;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=[],o=0;o<r;o++){var s=t[o],a=s.getSubdivisions({precision:n});i.push(a)}return i},getSubpaths:function(){const t=this.clone().validate().segments,r=t.length,n=[];for(let i=0;i<r;i++){const o=t[i];o.isSubpathStart?n.push(new Bt(o)):n[n.length-1].appendSegment(o)}return n},insertSegment:function(e,t){var r=this.segments,n=r.length;if(e<0&&(e=n+e+1),e>n||e<0)throw new Error("Index out of range.");var i,o=null,s=null;if(n!==0&&(e>=1?(o=r[e-1],s=o.nextSegment):s=r[0]),Array.isArray(t)){if(t=t.reduce(function(f,c){return f.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++){var u=t[l];i=this.prepareSegment(u,o,s),r.splice(e+l,0,i),o=i}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,o,s),r.splice(e,0,i)}},intersectionWithLine:function(e,t){var r=null,n=this.toPolylines(t);if(!n)return null;for(var i=0,o=n.length;i<o;i++){var s=n[i],a=e.intersect(s);a&&(r||(r=[]),Array.isArray(a)?Array.prototype.push.apply(r,a):r.push(a))}return r},isDifferentiable:function(){for(var e=this.segments,t=e.length,r=0;r<t;r++){var n=e[r];if(n.isDifferentiable())return!0}return!1},isValid:function(){var e=this.segments,t=e.length===0||e[0].type==="M";return t},length:function(e){var t=this.segments,r=t.length;if(r===0)return 0;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=0,s=0;s<r;s++){var a=t[s],l=i[s];o+=a.length({subdivisions:l})}return o},lengthAtT:function(e,t){var r=this.segments,n=r.length;if(n===0)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=n?(i=n-1,o=1):o<0?o=0:o>1&&(o=1),t=t||{};for(var s=t.precision===void 0?this.PRECISION:t.precision,a=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l,u=0,f=0;f<i;f++){var c=r[f];l=a[f],u+=c.length({precisison:s,subdivisions:l})}return c=r[i],l=a[i],u+=c.lengthAtT(o,{precisison:s,subdivisions:l}),u},pointAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.pointAtLength(l,s)},pointAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;if(e===0)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=s[f],g=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+g)return c.pointAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});a=c}l+=g}if(a)return i?a.end:a.start;var m=r[n-1];return m.end.clone()},pointAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].pointAtT(0);if(n>=r)return t[r-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,r){e.previousSegment=t,e.nextSegment=r,t&&(t.nextSegment=e),r&&(r.previousSegment=e);var n=e;return e.isSubpathStart&&(e.subpathStartSegment=e,n=r),n&&this.updateSubpathStartSegment(n),e},removeSegment:function(e){var t=this.segments,r=t.length;if(r===0)throw new Error("Path has no segments.");if(e<0&&(e=r+e),e>=r||e<0)throw new Error("Index out of range.");var n=t.splice(e,1)[0],i=n.previousSegment,o=n.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),n.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var r=this.segments,n=r.length;if(n===0)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var i,o=r[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(t=t.reduce(function(h,g){return h.concat(g)},[]),!t[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,f=0;f<u;f++){var c=t[f];i=this.prepareSegment(c,s,a),r.splice(e+f,0,i),s=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!t||!t.isSegment)throw new Error("Segment required.");i=this.prepareSegment(t,s,a),r.splice(e,1,i),l&&i.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},round:function(e){for(var t=this.segments,r=t.length,n=0;n<r;n++){var i=t[n];i.round(e)}return this},scale:function(e,t,r){for(var n=this.segments,i=n.length,o=0;o<i;o++){var s=n[o];s.scale(e,t,r)}return this},segmentAt:function(e,t){var r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null},segmentAtLength:function(e,t){var r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null},segmentIndexAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.segmentIndexAtLength(l,s)},segmentIndexAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=s[f],g=c.length({precision:o,subdivisions:h});if(c.isVisible){if(e<=l+g)return f;a=f}l+=g}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;e<0&&(e=0),e>1&&(e=1),t=t||{};var i=t.precision===void 0?this.PRECISION:t.precision,o=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,s={precision:i,segmentSubdivisions:o},a=this.length(s),l=a*e;return this.tangentAtLength(l,s)},tangentAtLength:function(e,t){var r=this.segments,n=r.length;if(n===0)return null;var i=!0;e<0&&(i=!1,e=-e),t=t||{};for(var o=t.precision===void 0?this.PRECISION:t.precision,s=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a,l=0,u=0;u<n;u++){var f=i?u:n-1-u,c=r[f],h=s[f],g=c.length({precision:o,subdivisions:h});if(c.isDifferentiable()){if(e<=l+g)return c.tangentAtLength((i?1:-1)*(e-l),{precision:o,subdivisions:h});a=c}l+=g}if(a){var m=i?1:0;return a.tangentAtT(m)}return null},tangentAtT:function(e){var t=this.segments,r=t.length;if(r===0)return null;var n=e.segmentIndex;if(n<0)return t[0].tangentAtT(0);if(n>=r)return t[r-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[n].tangentAtT(i)},toPoints:function(e){var t=this.segments,r=t.length;if(r===0)return null;e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,i=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,o=[],s=[],a=0;a<r;a++){var l=t[a];if(l.isVisible){var u=i[a];if(u.length>0){var f=u.map(function(c){return c.start});Array.prototype.push.apply(s,f)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],r=this.toPoints(e);if(!r)return null;for(var n=0,i=r.length;n<i;n++)t.push(new fn(r[n]));return t},toString:function(){for(var e=this.segments,t=e.length,r="",n=0;n<t;n++){var i=e[n];r+=i.serialize()+" "}return r.trim()},translate:function(e,t){for(var r=this.segments,n=r.length,i=0;i<n;i++){var o=r[i];o.translate(e,t)}return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)t?e.subpathStartSegment=t.subpathStartSegment:e.subpathStartSegment=null,t=e,e=e.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,Bt.createSegment("M",0,0)),this}};Object.defineProperty(Bt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=0;r<t;r++){var n=e[r];if(n.isVisible)return n.start}return e[t-1].end}});Object.defineProperty(Bt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(t===0)return null;for(var r=t-1;r>=0;r--){var n=e[r];if(n.isVisible)return n.end}return e[t-1].end}});function il(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}var Hf={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Hf,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Hf,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Hf,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var xi=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof xi))return il(xi,e);if(t===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Rt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),n.push(il(xi,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],n.push(new xi(o));return n}},O8={clone:function(){return new xi(this.end)},divideAt:function(e){var t=new Rt(this.start,this.end),r=t.divideAt(e);return[new xi(r[0]),new xi(r[1])]},divideAtLength:function(e){var t=new Rt(this.start,this.end),r=t.divideAtLength(e);return[new xi(r[0]),new xi(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(O8,"type",{configurable:!0,enumerable:!0,value:"L"});xi.prototype=Fg(Hf,Rt.prototype,O8);var Go=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof Go))return il(Go,e);if(t===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var n;if(e[0]instanceof Fr){if(t===1)return this.controlPoint1=e[0].controlPoint1.clone(),this.controlPoint2=e[0].controlPoint2.clone(),this.end=e[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===6)return this.controlPoint1=new ze(+e[0],+e[1]),this.controlPoint2=new ze(+e[2],+e[3]),this.end=new ze(+e[4],+e[5]),this;if(t<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=6)i=e.slice(r,r+6),n.push(il(Go,i));return n}else{if(t===3)return this.controlPoint1=new ze(e[0]),this.controlPoint2=new ze(e[1]),this.end=new ze(e[2]),this;if(t<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+t+" points provided).");var o;for(n=[],r=0;r<t;r+=3)o=e.slice(r,r+3),n.push(il(Go,o));return n}},P8={clone:function(){return new Go(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAt(e,t);return[new Go(n[0]),new Go(n[1])]},divideAtLength:function(e,t){var r=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=r.divideAtLength(e,t);return[new Go(n[0]),new Go(n[1])]},divideAtT:function(e){var t=new Fr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=t.divideAtT(e);return[new Go(r[0]),new Go(r[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,r=this.controlPoint2,n=this.end;return!(e.equals(t)&&t.equals(r)&&r.equals(n))},round:function(e){return this.controlPoint1.round(e),this.controlPoint2.round(e),this.end.round(e),this},scale:function(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,r=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+r.x+" "+r.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(P8,"type",{configurable:!0,enumerable:!0,value:"C"});Go.prototype=Fg(Hf,Fr.prototype,P8);var hf=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof hf))return il(hf,e);if(t===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var n;if(e[0]instanceof Rt){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" lines provided).")}else if(e[0]instanceof Fr){if(t===1)return this.end=e[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" curves provided).")}else if(typeof e[0]=="string"||typeof e[0]=="number"){if(t===2)return this.end=new ze(+e[0],+e[1]),this;if(t<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+t+" coordinates provided).");var i;for(n=[],r=0;r<t;r+=2)i=e.slice(r,r+2),r===0?n.push(il(hf,i)):n.push(il(xi,i));return n}else{if(t===1)return this.end=new ze(e[0]),this;var o;for(n=[],r=0;r<t;r+=1)o=e[r],r===0?n.push(new hf(o)):n.push(new xi(o));return n}},ZR={bbox:function(){return null},clone:function(){return new hf(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(e){return this.end.round(e),this},scale:function(e,t,r){return this.end.scale(e,t,r),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(ZR,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(ZR,"type",{configurable:!0,enumerable:!0,value:"M"});hf.prototype=Fg(Hf,ZR);var jh=function(){for(var e=[],t=arguments.length,r=0;r<t;r++)e.push(arguments[r]);if(!(this instanceof jh))return il(jh,e);if(t>0)throw new Error("Closepath constructor expects no arguments.");return this},eI={clone:function(){return new jh},divideAt:function(e){var t=new Rt(this.start,this.end),r=t.divideAt(e);return[r[1].isDifferentiable()?new xi(r[0]):this.clone(),new xi(r[1])]},divideAtLength:function(e){var t=new Rt(this.start,this.end),r=t.divideAtLength(e);return[r[1].isDifferentiable()?new xi(r[0]):this.clone(),new xi(r[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(eI,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(eI,"type",{configurable:!0,enumerable:!0,value:"Z"});jh.prototype=Fg(Hf,Rt.prototype,eI);var jse=Bt.segmentTypes={L:xi,C:Go,M:hf,Z:jh,z:jh};Bt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(jse).join("")+",.]*$");Bt.isDataSupported=function(e){return typeof e!="string"?!1:this.regexSupportedData.test(e)};const kse={curveThroughPoints:function(e){return console.warn("deprecated"),new Bt(Fr.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t=[],r=[],n=e.length-1,i;if(n==1)return t[0]=new ze((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new ze(2*t[0].x-e[0].x,2*t[0].y-e[0].y),[t,r];var o=[];for(i=1;i<n-1;i++)o[i]=4*e[i].x+2*e[i+1].x;o[0]=e[0].x+2*e[1].x,o[n-1]=(8*e[n-1].x+e[n].x)/2;var s=this.getFirstControlPoints(o);for(i=1;i<n-1;++i)o[i]=4*e[i].y+2*e[i+1].y;o[0]=e[0].y+2*e[1].y,o[n-1]=(8*e[n-1].y+e[n].y)/2;var a=this.getFirstControlPoints(o);for(i=0;i<n;i++)t.push(new ze(s[i],a[i])),i<n-1?r.push(new ze(2*e[i+1].x-s[i+1],2*e[i+1].y-a[i+1])):r.push(new ze((e[n].x+s[n-1])/2,(e[n].y+a[n-1])/2));return[t,r]},getCurveDivider:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(s){var a=i.divide(s);return[{p0:a[0].start,p1:a[0].controlPoint1,p2:a[0].controlPoint2,p3:a[0].end},{p0:a[1].start,p1:a[1].controlPoint1,p2:a[1].controlPoint2,p3:a[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,r=[],n=[],i=2;r[0]=e[0]/i;for(var o=1;o<t;o++)n[o]=1/i,i=(o<t-1?4:3.5)-n[o],r[o]=(e[o]-r[o-1])/i;for(o=1;o<t;o++)r[t-o-1]-=n[t-o]*r[t-o];return r},getInversionSolver:function(e,t,r,n){console.warn("deprecated");var i=new Fr(e,t,r,n);return function(s){return i.closestPointT(s)}}},No=function(e){if(!(this instanceof No))return new No(e);if(typeof e=="string")return new No.parse(e);this.points=Array.isArray(e)?e.map(ze):[]};No.parse=function(e){return new No(T8(e))};No.fromRect=function(e){return new No([e.topLeft(),e.topRight(),e.bottomRight(),e.bottomLeft()])};No.prototype=Fg(fn.prototype,{type:sr.Polygon,clone:function(){return new No(x8(this.points))},convexHull:function(){return new No(A8(this.points))},lengthPoints:function(){const{start:e,end:t,points:r}=this;return r.length<=1||e.equals(t)?r:[...r,e.clone()]}});function N8(e,t,r,n){switch(e.type){case sr.Line:{switch(t.type){case sr.Line:return pf(e,t)}break}case sr.Ellipse:{switch(t.type){case sr.Line:return tI(e,t);case sr.Ellipse:return R8(e,t)}break}case sr.Rect:{switch(t.type){case sr.Line:return I8(e,t);case sr.Ellipse:return j8(e,t);case sr.Rect:return rI(e,t)}break}case sr.Polyline:{switch(t.type){case sr.Line:return PE(e,t);case sr.Ellipse:return nI(e,t);case sr.Rect:return k8(e,t);case sr.Polyline:return C8(e,t)}break}case sr.Polygon:{switch(t.type){case sr.Line:return iI(e,t);case sr.Ellipse:return NE(e,t);case sr.Rect:return D8(e,t);case sr.Polyline:return M8(e,t);case sr.Polygon:return L8(e,t)}break}case sr.Path:{switch(t.type){case sr.Line:return F8(e,t,r);case sr.Ellipse:return B8(e,t,r);case sr.Rect:return U8(e,t,r);case sr.Polyline:return oI(e,t,r);case sr.Polygon:return RE(e,t,r);case sr.Path:return z8(e,t,r,n)}break}}switch(t.type){case sr.Ellipse:case sr.Rect:case sr.Polyline:case sr.Polygon:case sr.Path:return N8(t,e,n,r);default:throw Error(`The intersection for ${e} and ${t} could not be found.`)}}function pf(e,t){const r=e.start.x,n=e.start.y,i=e.end.x,o=e.end.y,s=t.start.x,a=t.start.y,l=t.end.x,u=t.end.y,f=i-r,c=o-n,h=l-s,g=u-a,m=r-s,_=n-a,v=f*g-h*c,p=(f*_-c*m)/v,E=(h*_-g*m)/v;return p>=0&&p<=1&&E>=0&&E<=1}function tI(e,t){const r=e.a,n=e.b,i=e.x,o=e.y,s=t.start.x-i,a=t.end.x-i,l=t.start.y-o,u=t.end.y-o,f=r*r,c=n*n,h=a-s,g=u-l,m=h*h/f+g*g/c,_=2*s*h/f+2*l*g/c,v=s*s/f+l*l/c-1,p=_*_-4*m*v;if(p===0){const E=-_/2/m;return E>=0&&E<=1}else if(p>0){const E=Math.sqrt(p),y=(-_+E)/2/m,S=(-_-E)/2/m;return y>=0&&y<=1||S>=0&&S<=1}return!1}function R8(e,t){return Cse(e,0,t,0)}function I8(e,t){const{start:r,end:n}=t,{x:i,y:o,width:s,height:a}=e;return r.x>i+s&&n.x>i+s||r.x<i&&n.x<i||r.y>o+a&&n.y>o+a||r.y<o&&n.y<o?!1:e.containsPoint(t.start)||e.containsPoint(t.end)?!0:pf(e.topLine(),t)||pf(e.rightLine(),t)||pf(e.bottomLine(),t)||pf(e.leftLine(),t)}function j8(e,t){return rI(e,Pt.fromEllipse(t))?NE(No.fromRect(e),t):!1}function rI(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function PE(e,t){return q8(e,t,{interior:!1})}function nI(e,t){return V8(e,t,{interior:!1})}function k8(e,t){return H8(e,t,{interior:!1})}function C8(e,t){return IE(e,t,{interior:!1})}function iI(e,t){return q8(e,t,{interior:!0})}function NE(e,t){return V8(e,t,{interior:!0})}function D8(e,t){return H8(e,t,{interior:!0})}function M8(e,t){return IE(e,t,{interior:!0})}function L8(e,t){return sI(e,t,{interior:!0})}function F8(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?iI(i,t):PE(i,t)})}function B8(e,t,r){return e.getSubpaths().some(n=>{const[i]=n.toPolylines(r),{type:o}=n.getSegment(-1);return o==="Z"?NE(i,t):nI(i,t)})}function U8(e,t,r){return RE(e,No.fromRect(t),r)}function oI(e,t,r){return W8(e,t,r,{interior:!1})}function RE(e,t,r){return W8(e,t,r,{interior:!0})}function z8(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?RE(t,o,n):oI(t,o,n)})}function q8(e,t,r={}){const{interior:n=!1}=r;let i;if(n){if(e.containsPoint(t.start))return!0;const{start:a,end:l,points:u}=e;i=l.equals(a)?u:[...u,a]}else i=e.points;const{length:o}=i,s=new Rt;for(let a=0;a<o-1;a++)if(s.start=i[a],s.end=i[a+1],pf(t,s))return!0;return!1}function V8(e,t,r={}){const{start:n,end:i,points:o}=e;if(t.containsPoint(n))return!0;let s;const{interior:a=!1}=r;if(a){if(e.containsPoint(t.center()))return!0;s=i.equals(n)?o:[...o,n]}else s=o;const{length:l}=s,u=new Rt;for(let f=0;f<l-1;f++)if(u.start=s[f],u.end=s[f+1],tI(t,u))return!0;return!1}function H8(e,t,r){const n=No.fromRect(t);return sI(e,n,r)}function W8(e,t,r,n){return e.getSubpaths().some(i=>{const[o]=i.toPolylines(r),{type:s}=i.getSegment(-1);return s==="Z"?sI(t,o,n):IE(t,o,n)})}function IE(e,t,r={}){const{interior:n=!1}=r;let i;if(n){const{start:l}=t;if(e.containsPoint(l))return!0;i=e.clone().close()}else i=e;const o=t.points,{length:s}=o,a=new Rt;for(let l=0;l<s-1;l++)if(a.start=o[l],a.end=o[l+1],PE(i,a))return!0;return!1}function sI(e,t,r){return t.containsPoint(e.start)||IE(e,t.clone().close(),r)}function Cse(e,t,r,n){const{cos:i,sin:o}=Math,s=o(t),a=i(t),l=o(n),u=i(n),f=s*s,c=a*a,h=s*a,g=l*l,m=u*u,_=l*u,v=e.a*e.a,p=e.b*e.b,E=r.a*r.a,y=r.b*r.b,S=v*f+p*c,$=E*g+y*m,T=v*c+p*f,d=E*m+y*g;let x=2*(p-v)*h,A=2*(y-E)*_,O=-2*S*e.x-x*e.y,C=-2*$*r.x-A*r.y,F=-x*e.x-2*T*e.y,V=-A*r.x-2*d*r.y;const X=S*e.x*e.x+T*e.y*e.y+x*e.x*e.y-v*p,H=$*r.x*r.x+d*r.y*r.y+A*r.x*r.y-E*y;x=x/2,A=A/2,O=O/2,C=C/2,F=F/2,V=V/2;const Z=pu([[S,x,O],[x,T,F],[O,F,X]]),fe=pu([[$,A,C],[A,d,V],[C,V,H]]),ee=.33333333*(pu([[$,x,O],[A,T,F],[C,F,X]])+pu([[S,A,O],[x,d,F],[O,V,X]])+pu([[S,x,C],[x,T,V],[O,F,H]])),ne=.33333333*(pu([[S,A,C],[x,d,V],[O,V,H]])+pu([[$,x,C],[A,T,V],[C,F,H]])+pu([[$,A,O],[A,d,F],[C,V,X]])),k=Xv([[Z,ee],[ee,ne]]),B=Xv([[Z,ne],[ee,fe]]),W=Xv([[ee,ne],[ne,fe]]);return!(Xv([[2*k,B],[B,2*W]])>0&&(ne>0||ee>0))}function Xv(e){return e[0][0]*e[1][1]-e[0][1]*e[1][0]}function pu(e){return e[0][0]*e[1][1]*e[2][2]-e[0][0]*e[1][2]*e[2][1]-e[0][1]*e[1][0]*e[2][2]+e[0][1]*e[1][2]*e[2][0]+e[0][2]*e[1][0]*e[2][1]-e[0][2]*e[1][1]*e[2][0]}const Dse=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:R8,ellipseWithLine:tI,exists:N8,lineWithLine:pf,pathWithEllipse:B8,pathWithLine:F8,pathWithPath:z8,pathWithPolygon:RE,pathWithPolyline:oI,pathWithRect:U8,polygonWithEllipse:NE,polygonWithLine:iI,polygonWithPolygon:L8,polygonWithPolyline:M8,polygonWithRect:D8,polylineWithEllipse:nI,polylineWithLine:PE,polylineWithPolyline:C8,polylineWithRect:k8,rectWithEllipse:j8,rectWithLine:I8,rectWithRect:rI},Symbol.toStringTag,{value:"Module"})),Mse=Dse,Lse=Object.freeze(Object.defineProperty({__proto__:null,Curve:Fr,Ellipse:ro,Line:Rt,Path:Bt,Point:ze,Polygon:No,Polyline:fn,Rect:Pt,bezier:kse,ellipse:Ase,intersection:Mse,line:$f,normalizeAngle:ya,point:a_,random:qO,rect:Rse,scale:Ese,snapToGrid:Cf,toDeg:OE,toRad:Po,types:sr},Symbol.toStringTag,{value:"Module"}));var G8={},aI="1.13.7",KM=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},jE=Array.prototype,lI=Object.prototype,JM=typeof Symbol<"u"?Symbol.prototype:null,Fse=jE.push,Bg=jE.slice,eg=lI.toString,Bse=lI.hasOwnProperty,K8=typeof ArrayBuffer<"u",Use=typeof DataView<"u",zse=Array.isArray,YM=Object.keys,XM=Object.create,QM=K8&&ArrayBuffer.isView,qse=isNaN,Vse=isFinite,J8=!{toString:null}.propertyIsEnumerable("toString"),ZM=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Hse=Math.pow(2,53)-1;function ao(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=n,e.apply(this,o)}}function wc(e){var t=typeof e;return t==="function"||t==="object"&&!!e}function Y8(e){return e===null}function uI(e){return e===void 0}function cI(e){return e===!0||e===!1||eg.call(e)==="[object Boolean]"}function X8(e){return!!(e&&e.nodeType===1)}function Hi(e){var t="[object "+e+"]";return function(r){return eg.call(r)===t}}const kE=Hi("String"),fI=Hi("Number"),Q8=Hi("Date"),Z8=Hi("RegExp"),e9=Hi("Error"),dI=Hi("Symbol"),hI=Hi("ArrayBuffer");var t9=Hi("Function"),Wse=KM.document&&KM.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Wse!="function"&&(t9=function(e){return typeof e=="function"||!1});const Vi=t9,r9=Hi("Object");var n9=Use&&(!/\[native code\]/.test(String(DataView))||r9(new DataView(new ArrayBuffer(8)))),pI=typeof Map<"u"&&r9(new Map),Gse=Hi("DataView");function Kse(e){return e!=null&&Vi(e.getInt8)&&hI(e.buffer)}const tg=n9?Kse:Gse,bc=zse||Hi("Array");function _c(e,t){return e!=null&&Bse.call(e,t)}var WO=Hi("Arguments");(function(){WO(arguments)||(WO=function(e){return _c(e,"callee")})})();const CE=WO;function i9(e){return!dI(e)&&Vse(e)&&!isNaN(parseFloat(e))}function mI(e){return fI(e)&&qse(e)}function gI(e){return function(){return e}}function o9(e){return function(t){var r=e(t);return typeof r=="number"&&r>=0&&r<=Hse}}function s9(e){return function(t){return t==null?void 0:t[e]}}const l_=s9("byteLength"),Jse=o9(l_);var Yse=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Xse(e){return QM?QM(e)&&!tg(e):Jse(e)&&Yse.test(eg.call(e))}const vI=K8?Xse:gI(!1),Io=s9("length");function Qse(e){for(var t={},r=e.length,n=0;n<r;++n)t[e[n]]=!0;return{contains:function(i){return t[i]===!0},push:function(i){return t[i]=!0,e.push(i)}}}function a9(e,t){t=Qse(t);var r=ZM.length,n=e.constructor,i=Vi(n)&&n.prototype||lI,o="constructor";for(_c(e,o)&&!t.contains(o)&&t.push(o);r--;)o=ZM[r],o in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function si(e){if(!wc(e))return[];if(YM)return YM(e);var t=[];for(var r in e)_c(e,r)&&t.push(r);return J8&&a9(e,t),t}function l9(e){if(e==null)return!0;var t=Io(e);return typeof t=="number"&&(bc(e)||kE(e)||CE(e))?t===0:Io(si(e))===0}function yI(e,t){var r=si(t),n=r.length;if(e==null)return!n;for(var i=Object(e),o=0;o<n;o++){var s=r[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function Xr(e){if(e instanceof Xr)return e;if(!(this instanceof Xr))return new Xr(e);this._wrapped=e}Xr.VERSION=aI;Xr.prototype.value=function(){return this._wrapped};Xr.prototype.valueOf=Xr.prototype.toJSON=Xr.prototype.value;Xr.prototype.toString=function(){return String(this._wrapped)};function eL(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,l_(e))}var tL="[object DataView]";function GO(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:u9(e,t,r,n)}function u9(e,t,r,n){e instanceof Xr&&(e=e._wrapped),t instanceof Xr&&(t=t._wrapped);var i=eg.call(e);if(i!==eg.call(t))return!1;if(n9&&i=="[object Object]"&&tg(e)){if(!tg(t))return!1;i=tL}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return JM.valueOf.call(e)===JM.valueOf.call(t);case"[object ArrayBuffer]":case tL:return u9(eL(e),eL(t),r,n)}var o=i==="[object Array]";if(!o&&vI(e)){var s=l_(e);if(s!==l_(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if(typeof e!="object"||typeof t!="object")return!1;var a=e.constructor,l=t.constructor;if(a!==l&&!(Vi(a)&&a instanceof a&&Vi(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!GO(e[u],t[u],r,n))return!1}else{var f=si(e),c;if(u=f.length,si(t).length!==u)return!1;for(;u--;)if(c=f[u],!(_c(t,c)&&GO(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function c9(e,t){return GO(e,t)}function Yh(e){if(!wc(e))return[];var t=[];for(var r in e)t.push(r);return J8&&a9(e,t),t}function wI(e){var t=Io(e);return function(r){if(r==null)return!1;var n=Yh(r);if(Io(n))return!1;for(var i=0;i<t;i++)if(!Vi(r[e[i]]))return!1;return e!==h9||!Vi(r[bI])}}var bI="forEach",f9="has",_I=["clear","delete"],d9=["get",f9,"set"],Zse=_I.concat(bI,d9),h9=_I.concat(d9),eae=["add"].concat(_I,bI,f9);const p9=pI?wI(Zse):Hi("Map"),m9=pI?wI(h9):Hi("WeakMap"),g9=pI?wI(eae):Hi("Set"),v9=Hi("WeakSet");function Wf(e){for(var t=si(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function y9(e){for(var t=si(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function EI(e){for(var t={},r=si(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function rg(e){var t=[];for(var r in e)Vi(e[r])&&t.push(r);return t.sort()}function SI(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];(!t||r[u]===void 0)&&(r[u]=o[u])}return r}}const $I=SI(Yh),kh=SI(si),TI=SI(Yh,!0);function tae(){return function(){}}function w9(e){if(!wc(e))return{};if(XM)return XM(e);var t=tae();t.prototype=e;var r=new t;return t.prototype=null,r}function b9(e,t){var r=w9(e);return t&&kh(r,t),r}function _9(e){return wc(e)?bc(e)?e.slice():$I({},e):e}function E9(e,t){return t(e),e}function xI(e){return bc(e)?e:[e]}Xr.toPath=xI;function Ug(e){return Xr.toPath(e)}function AI(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}function OI(e,t,r){var n=AI(e,Ug(t));return uI(n)?r:n}function S9(e,t){t=Ug(t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(!_c(e,i))return!1;e=e[i]}return!!r}function DE(e){return e}function Df(e){return e=kh({},e),function(t){return yI(t,e)}}function ME(e){return e=Ug(e),function(t){return AI(t,e)}}function zg(e,t,r){if(t===void 0)return e;switch(r??3){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,s){return e.call(t,n,i,o,s)}}return function(){return e.apply(t,arguments)}}function $9(e,t,r){return e==null?DE:Vi(e)?zg(e,t,r):wc(e)&&!bc(e)?Df(e):ME(e)}function LE(e,t){return $9(e,t,1/0)}Xr.iteratee=LE;function Mo(e,t,r){return Xr.iteratee!==LE?Xr.iteratee(e,t):$9(e,t,r)}function T9(e,t,r){t=Mo(t,r);for(var n=si(e),i=n.length,o={},s=0;s<i;s++){var a=n[s];o[a]=t(e[a],a,e)}return o}function PI(){}function x9(e){return e==null?PI:function(t){return OI(e,t)}}function A9(e,t,r){var n=Array(Math.max(0,e));t=zg(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function u_(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}const Ch=Date.now||function(){return new Date().getTime()};function O9(e){var t=function(o){return e[o]},r="(?:"+si(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(o){return o=o==null?"":""+o,n.test(o)?o.replace(i,t):o}}const P9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N9=O9(P9),rae=EI(P9),R9=O9(rae),I9=Xr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T1=/(.)^/,nae={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},iae=/\\|'|\r|\n|\u2028|\u2029/g;function oae(e){return"\\"+nae[e]}var sae=/^\s*(\w|\$)+\s*$/;function j9(e,t,r){!t&&r&&(t=r),t=TI({},t,Xr.templateSettings);var n=RegExp([(t.escape||T1).source,(t.interpolate||T1).source,(t.evaluate||T1).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(n,function(u,f,c,h,g){return o+=e.slice(i,g).replace(iae,oae),i=g+u.length,f?o+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:c?o+=`'+
((__t=(`+c+`))==null?'':__t)+
'`:h&&(o+=`';
`+h+`
__p+='`),u}),o+=`';
`;var s=t.variable;if(s){if(!sae.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return a.call(this,u,Xr)};return l.source="function("+s+`){
`+o+"}",l}function k9(e,t,r){t=Ug(t);var n=t.length;if(!n)return Vi(r)?r.call(e):r;for(var i=0;i<n;i++){var o=e==null?void 0:e[t[i]];o===void 0&&(o=r,i=n),e=Vi(o)?o.call(e):o}return e}var aae=0;function C9(e){var t=++aae+"";return e?e+t:t}function D9(e){var t=Xr(e);return t._chain=!0,t}function M9(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var o=w9(e.prototype),s=e.apply(o,i);return wc(s)?s:o}var Gf=ao(function(e,t){var r=Gf.placeholder,n=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return M9(e,n,this,this,s)};return n});Gf.placeholder=Xr;const NI=ao(function(e,t,r){if(!Vi(e))throw new TypeError("Bind must be called on a function");var n=ao(function(i){return M9(e,n,t,this,r.concat(i))});return n}),ss=o9(Io);function Kf(e,t,r,n){if(n=n||[],!t&&t!==0)t=1/0;else if(t<=0)return n.concat(e);for(var i=n.length,o=0,s=Io(e);o<s;o++){var a=e[o];if(ss(a)&&(bc(a)||CE(a)))if(t>1)Kf(a,t-1,r,n),i=n.length;else for(var l=0,u=a.length;l<u;)n[i++]=a[l++];else r||(n[i++]=a)}return n}const L9=ao(function(e,t){t=Kf(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=NI(e[n],e)}return e});function F9(e,t){var r=function(n){var i=r.cache,o=""+(t?t.apply(this,arguments):n);return _c(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return r.cache={},r}const RI=ao(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),B9=Gf(RI,Xr,1);function U9(e,t,r){var n,i,o,s,a=0;r||(r={});var l=function(){a=r.leading===!1?0:Ch(),n=null,s=e.apply(i,o),n||(i=o=null)},u=function(){var f=Ch();!a&&r.leading===!1&&(a=f);var c=t-(f-a);return i=this,o=arguments,c<=0||c>t?(n&&(clearTimeout(n),n=null),a=f,s=e.apply(i,o),n||(i=o=null)):!n&&r.trailing!==!1&&(n=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(n),a=0,n=i=o=null},u}function z9(e,t,r){var n,i,o,s,a,l=function(){var f=Ch()-i;t>f?n=setTimeout(l,t-f):(n=null,r||(s=e.apply(a,o)),n||(o=a=null))},u=ao(function(f){return a=this,o=f,i=Ch(),n||(n=setTimeout(l,t),r&&(s=e.apply(a,o))),s});return u.cancel=function(){clearTimeout(n),n=o=a=null},u}function q9(e,t){return Gf(t,e)}function FE(e){return function(){return!e.apply(this,arguments)}}function V9(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function H9(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function II(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}const W9=Gf(II,2);function jI(e,t,r){t=Mo(t,r);for(var n=si(e),i,o=0,s=n.length;o<s;o++)if(i=n[o],t(e[i],i,e))return i}function G9(e){return function(t,r,n){r=Mo(r,n);for(var i=Io(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(r(t[o],o,t))return o;return-1}}const BE=G9(1),kI=G9(-1);function CI(e,t,r,n){r=Mo(r,n,1);for(var i=r(t),o=0,s=Io(e);o<s;){var a=Math.floor((o+s)/2);r(e[a])<i?o=a+1:s=a}return o}function K9(e,t,r){return function(n,i,o){var s=0,a=Io(n);if(typeof o=="number")e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(r&&o&&a)return o=r(n,i),n[o]===i?o:-1;if(i!==i)return o=t(Bg.call(n,s,a),mI),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(n[o]===i)return o;return-1}}const DI=K9(1,BE,CI),J9=K9(-1,kI);function ng(e,t,r){var n=ss(e)?BE:jI,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function Y9(e,t){return ng(e,Df(t))}function wa(e,t,r){t=zg(t,r);var n,i;if(ss(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var o=si(e);for(n=0,i=o.length;n<i;n++)t(e[o[n]],o[n],e)}return e}function ql(e,t,r){t=Mo(t,r);for(var n=!ss(e)&&si(e),i=(n||e).length,o=Array(i),s=0;s<i;s++){var a=n?n[s]:s;o[s]=t(e[a],a,e)}return o}function X9(e){var t=function(r,n,i,o){var s=!ss(r)&&si(r),a=(s||r).length,l=e>0?0:a-1;for(o||(i=r[s?s[l]:l],l+=e);l>=0&&l<a;l+=e){var u=s?s[l]:l;i=n(i,r[u],u,r)}return i};return function(r,n,i,o){var s=arguments.length>=3;return t(r,zg(n,o,4),i,s)}}const dh=X9(1),c_=X9(-1);function sc(e,t,r){var n=[];return t=Mo(t,r),wa(e,function(i,o,s){t(i,o,s)&&n.push(i)}),n}function Q9(e,t,r){return sc(e,FE(Mo(t)),r)}function f_(e,t,r){t=Mo(t,r);for(var n=!ss(e)&&si(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(!t(e[s],s,e))return!1}return!0}function d_(e,t,r){t=Mo(t,r);for(var n=!ss(e)&&si(e),i=(n||e).length,o=0;o<i;o++){var s=n?n[o]:o;if(t(e[s],s,e))return!0}return!1}function Ds(e,t,r,n){return ss(e)||(e=Wf(e)),(typeof r!="number"||n)&&(r=0),DI(e,t,r)>=0}const Z9=ao(function(e,t,r){var n,i;return Vi(t)?i=t:(t=Ug(t),n=t.slice(0,-1),t=t[t.length-1]),ql(e,function(o){var s=i;if(!s){if(n&&n.length&&(o=AI(o,n)),o==null)return;s=o[t]}return s==null?s:s.apply(o,r)})});function UE(e,t){return ql(e,ME(t))}function eH(e,t){return sc(e,Df(t))}function MI(e,t,r){var n=-1/0,i=-1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ss(e)?e:Wf(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o>n&&(n=o)}else t=Mo(t,r),wa(e,function(u,f,c){s=t(u,f,c),(s>i||s===-1/0&&n===-1/0)&&(n=u,i=s)});return n}function tH(e,t,r){var n=1/0,i=1/0,o,s;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=ss(e)?e:Wf(e);for(var a=0,l=e.length;a<l;a++)o=e[a],o!=null&&o<n&&(n=o)}else t=Mo(t,r),wa(e,function(u,f,c){s=t(u,f,c),(s<i||s===1/0&&n===1/0)&&(n=u,i=s)});return n}var lae=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function LI(e){return e?bc(e)?Bg.call(e):kE(e)?e.match(lae):ss(e)?ql(e,DE):Wf(e):[]}function FI(e,t,r){if(t==null||r)return ss(e)||(e=Wf(e)),e[u_(e.length-1)];var n=LI(e),i=Io(n);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=u_(s,o),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,t)}function rH(e){return FI(e,1/0)}function nH(e,t,r){var n=0;return t=Mo(t,r),UE(ql(e,function(i,o,s){return{value:i,index:n++,criteria:t(i,o,s)}}).sort(function(i,o){var s=i.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return i.index-o.index}),"value")}function zE(e,t){return function(r,n,i){var o=t?[[],[]]:{};return n=Mo(n,i),wa(r,function(s,a){var l=n(s,a,r);e(o,s,l)}),o}}const iH=zE(function(e,t,r){_c(e,r)?e[r].push(t):e[r]=[t]}),oH=zE(function(e,t,r){e[r]=t}),sH=zE(function(e,t,r){_c(e,r)?e[r]++:e[r]=1}),aH=zE(function(e,t,r){e[r?0:1].push(t)},!0);function lH(e){return e==null?0:ss(e)?e.length:si(e).length}function uae(e,t,r){return t in r}const BI=ao(function(e,t){var r={},n=t[0];if(e==null)return r;Vi(n)?(t.length>1&&(n=zg(n,t[1])),t=Yh(e)):(n=uae,t=Kf(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];n(a,s,e)&&(r[s]=a)}return r}),uH=ao(function(e,t){var r=t[0],n;return Vi(r)?(r=FE(r),t.length>1&&(n=t[1])):(t=ql(Kf(t,!1,!1),String),r=function(i,o){return!Ds(t,o)}),BI(e,r,n)});function UI(e,t,r){return Bg.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function hh(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[0]:UI(e,e.length-t)}function Tf(e,t,r){return Bg.call(e,t==null||r?1:t)}function cH(e,t,r){return e==null||e.length<1?t==null||r?void 0:[]:t==null||r?e[e.length-1]:Tf(e,Math.max(0,e.length-t))}function fH(e){return sc(e,Boolean)}function dH(e,t){return Kf(e,t,!1)}const zI=ao(function(e,t){return t=Kf(t,!0,!0),sc(e,function(r){return!Ds(t,r)})}),hH=ao(function(e,t){return zI(e,t)});function ig(e,t,r,n){cI(t)||(n=r,r=t,t=!1),r!=null&&(r=Mo(r,n));for(var i=[],o=[],s=0,a=Io(e);s<a;s++){var l=e[s],u=r?r(l,s,e):l;t&&!r?((!s||o!==u)&&i.push(l),o=u):r?Ds(o,u)||(o.push(u),i.push(l)):Ds(i,l)||i.push(l)}return i}const pH=ao(function(e){return ig(Kf(e,!0,!0))});function mH(e){for(var t=[],r=arguments.length,n=0,i=Io(e);n<i;n++){var o=e[n];if(!Ds(t,o)){var s;for(s=1;s<r&&Ds(arguments[s],o);s++);s===r&&t.push(o)}}return t}function og(e){for(var t=e&&MI(e,Io).length||0,r=Array(t),n=0;n<t;n++)r[n]=UE(e,n);return r}const gH=ao(og);function vH(e,t){for(var r={},n=0,i=Io(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function yH(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),o=0;o<n;o++,e+=r)i[o]=e;return i}function wH(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(Bg.call(e,n,n+=t));return r}function qI(e,t){return e._chain?Xr(t).chain():t}function VI(e){return wa(rg(e),function(t){var r=Xr[t]=e[t];Xr.prototype[t]=function(){var n=[this._wrapped];return Fse.apply(n,arguments),qI(this,r.apply(Xr,n))}}),Xr}wa(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=jE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0]),qI(this,r)}});wa(["concat","join","slice"],function(e){var t=jE[e];Xr.prototype[e]=function(){var r=this._wrapped;return r!=null&&(r=t.apply(r,arguments)),qI(this,r)}});const cae=Object.freeze(Object.defineProperty({__proto__:null,VERSION:aI,after:H9,all:f_,allKeys:Yh,any:d_,assign:kh,before:II,bind:NI,bindAll:L9,chain:D9,chunk:wH,clone:_9,collect:ql,compact:fH,compose:V9,constant:gI,contains:Ds,countBy:sH,create:b9,debounce:z9,default:Xr,defaults:TI,defer:B9,delay:RI,detect:ng,difference:zI,drop:Tf,each:wa,escape:N9,every:f_,extend:$I,extendOwn:kh,filter:sc,find:ng,findIndex:BE,findKey:jI,findLastIndex:kI,findWhere:Y9,first:hh,flatten:dH,foldl:dh,foldr:c_,forEach:wa,functions:rg,get:OI,groupBy:iH,has:S9,head:hh,identity:DE,include:Ds,includes:Ds,indexBy:oH,indexOf:DI,initial:UI,inject:dh,intersection:mH,invert:EI,invoke:Z9,isArguments:CE,isArray:bc,isArrayBuffer:hI,isBoolean:cI,isDataView:tg,isDate:Q8,isElement:X8,isEmpty:l9,isEqual:c9,isError:e9,isFinite:i9,isFunction:Vi,isMap:p9,isMatch:yI,isNaN:mI,isNull:Y8,isNumber:fI,isObject:wc,isRegExp:Z8,isSet:g9,isString:kE,isSymbol:dI,isTypedArray:vI,isUndefined:uI,isWeakMap:m9,isWeakSet:v9,iteratee:LE,keys:si,last:cH,lastIndexOf:J9,map:ql,mapObject:T9,matcher:Df,matches:Df,max:MI,memoize:F9,methods:rg,min:tH,mixin:VI,negate:FE,noop:PI,now:Ch,object:vH,omit:uH,once:W9,pairs:y9,partial:Gf,partition:aH,pick:BI,pluck:UE,property:ME,propertyOf:x9,random:u_,range:yH,reduce:dh,reduceRight:c_,reject:Q9,rest:Tf,restArguments:ao,result:k9,sample:FI,select:sc,shuffle:rH,size:lH,some:d_,sortBy:nH,sortedIndex:CI,tail:Tf,take:hh,tap:E9,template:j9,templateSettings:I9,throttle:U9,times:A9,toArray:LI,toPath:xI,transpose:og,unescape:R9,union:pH,uniq:ig,unique:ig,uniqueId:C9,unzip:og,values:Wf,where:eH,without:hH,wrap:q9,zip:gH},Symbol.toStringTag,{value:"Module"}));var KO=VI(cae);KO._=KO;const fae=Object.freeze(Object.defineProperty({__proto__:null,VERSION:aI,after:H9,all:f_,allKeys:Yh,any:d_,assign:kh,before:II,bind:NI,bindAll:L9,chain:D9,chunk:wH,clone:_9,collect:ql,compact:fH,compose:V9,constant:gI,contains:Ds,countBy:sH,create:b9,debounce:z9,default:KO,defaults:TI,defer:B9,delay:RI,detect:ng,difference:zI,drop:Tf,each:wa,escape:N9,every:f_,extend:$I,extendOwn:kh,filter:sc,find:ng,findIndex:BE,findKey:jI,findLastIndex:kI,findWhere:Y9,first:hh,flatten:dH,foldl:dh,foldr:c_,forEach:wa,functions:rg,get:OI,groupBy:iH,has:S9,head:hh,identity:DE,include:Ds,includes:Ds,indexBy:oH,indexOf:DI,initial:UI,inject:dh,intersection:mH,invert:EI,invoke:Z9,isArguments:CE,isArray:bc,isArrayBuffer:hI,isBoolean:cI,isDataView:tg,isDate:Q8,isElement:X8,isEmpty:l9,isEqual:c9,isError:e9,isFinite:i9,isFunction:Vi,isMap:p9,isMatch:yI,isNaN:mI,isNull:Y8,isNumber:fI,isObject:wc,isRegExp:Z8,isSet:g9,isString:kE,isSymbol:dI,isTypedArray:vI,isUndefined:uI,isWeakMap:m9,isWeakSet:v9,iteratee:LE,keys:si,last:cH,lastIndexOf:J9,map:ql,mapObject:T9,matcher:Df,matches:Df,max:MI,memoize:F9,methods:rg,min:tH,mixin:VI,negate:FE,noop:PI,now:Ch,object:vH,omit:uH,once:W9,pairs:y9,partial:Gf,partition:aH,pick:BI,pluck:UE,property:ME,propertyOf:x9,random:u_,range:yH,reduce:dh,reduceRight:c_,reject:Q9,rest:Tf,restArguments:ao,result:k9,sample:FI,select:sc,shuffle:rH,size:lH,some:d_,sortBy:nH,sortedIndex:CI,tail:Tf,take:hh,tap:E9,template:j9,templateSettings:I9,throttle:U9,times:A9,toArray:LI,toPath:xI,transpose:og,unescape:R9,union:pH,uniq:ig,unique:ig,uniqueId:C9,unzip:og,values:Wf,where:eH,without:hH,wrap:q9,zip:gH},Symbol.toStringTag,{value:"Module"})),dae=FP(fae);var bH={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(e){(function(t,r){e.exports=t.document?r(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return r(n)}})(typeof window<"u"?window:js,function(t,r){var n=[],i=Object.getPrototypeOf,o=n.slice,s=n.flat?function(j){return n.flat.call(j)}:function(j){return n.concat.apply([],j)},a=n.push,l=n.indexOf,u={},f=u.toString,c=u.hasOwnProperty,h=c.toString,g=h.call(Object),m={},_=function(U){return typeof U=="function"&&typeof U.nodeType!="number"&&typeof U.item!="function"},v=function(U){return U!=null&&U===U.window},p=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function y(j,U,re){re=re||p;var le,me,ve=re.createElement("script");if(ve.text=j,U)for(le in E)me=U[le]||U.getAttribute&&U.getAttribute(le),me&&ve.setAttribute(le,me);re.head.appendChild(ve).parentNode.removeChild(ve)}function S(j){return j==null?j+"":typeof j=="object"||typeof j=="function"?u[f.call(j)]||"object":typeof j}var $="3.7.1",T=/HTML$/i,d=function(j,U){return new d.fn.init(j,U)};d.fn=d.prototype={jquery:$,constructor:d,length:0,toArray:function(){return o.call(this)},get:function(j){return j==null?o.call(this):j<0?this[j+this.length]:this[j]},pushStack:function(j){var U=d.merge(this.constructor(),j);return U.prevObject=this,U},each:function(j){return d.each(this,j)},map:function(j){return this.pushStack(d.map(this,function(U,re){return j.call(U,re,U)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(j,U){return(U+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(j,U){return U%2}))},eq:function(j){var U=this.length,re=+j+(j<0?U:0);return this.pushStack(re>=0&&re<U?[this[re]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},d.extend=d.fn.extend=function(){var j,U,re,le,me,ve,_e=arguments[0]||{},Fe=1,Me=arguments.length,Ke=!1;for(typeof _e=="boolean"&&(Ke=_e,_e=arguments[Fe]||{},Fe++),typeof _e!="object"&&!_(_e)&&(_e={}),Fe===Me&&(_e=this,Fe--);Fe<Me;Fe++)if((j=arguments[Fe])!=null)for(U in j)le=j[U],!(U==="__proto__"||_e===le)&&(Ke&&le&&(d.isPlainObject(le)||(me=Array.isArray(le)))?(re=_e[U],me&&!Array.isArray(re)?ve=[]:!me&&!d.isPlainObject(re)?ve={}:ve=re,me=!1,_e[U]=d.extend(Ke,ve,le)):le!==void 0&&(_e[U]=le));return _e},d.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(j){throw new Error(j)},noop:function(){},isPlainObject:function(j){var U,re;return!j||f.call(j)!=="[object Object]"?!1:(U=i(j),U?(re=c.call(U,"constructor")&&U.constructor,typeof re=="function"&&h.call(re)===g):!0)},isEmptyObject:function(j){var U;for(U in j)return!1;return!0},globalEval:function(j,U,re){y(j,{nonce:U&&U.nonce},re)},each:function(j,U){var re,le=0;if(x(j))for(re=j.length;le<re&&U.call(j[le],le,j[le])!==!1;le++);else for(le in j)if(U.call(j[le],le,j[le])===!1)break;return j},text:function(j){var U,re="",le=0,me=j.nodeType;if(!me)for(;U=j[le++];)re+=d.text(U);return me===1||me===11?j.textContent:me===9?j.documentElement.textContent:me===3||me===4?j.nodeValue:re},makeArray:function(j,U){var re=U||[];return j!=null&&(x(Object(j))?d.merge(re,typeof j=="string"?[j]:j):a.call(re,j)),re},inArray:function(j,U,re){return U==null?-1:l.call(U,j,re)},isXMLDoc:function(j){var U=j&&j.namespaceURI,re=j&&(j.ownerDocument||j).documentElement;return!T.test(U||re&&re.nodeName||"HTML")},merge:function(j,U){for(var re=+U.length,le=0,me=j.length;le<re;le++)j[me++]=U[le];return j.length=me,j},grep:function(j,U,re){for(var le,me=[],ve=0,_e=j.length,Fe=!re;ve<_e;ve++)le=!U(j[ve],ve),le!==Fe&&me.push(j[ve]);return me},map:function(j,U,re){var le,me,ve=0,_e=[];if(x(j))for(le=j.length;ve<le;ve++)me=U(j[ve],ve,re),me!=null&&_e.push(me);else for(ve in j)me=U(j[ve],ve,re),me!=null&&_e.push(me);return s(_e)},guid:1,support:m}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=n[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(j,U){u["[object "+U+"]"]=U.toLowerCase()});function x(j){var U=!!j&&"length"in j&&j.length,re=S(j);return _(j)||v(j)?!1:re==="array"||U===0||typeof U=="number"&&U>0&&U-1 in j}function A(j,U){return j.nodeName&&j.nodeName.toLowerCase()===U.toLowerCase()}var O=n.pop,C=n.sort,F=n.splice,V="[\\x20\\t\\r\\n\\f]",X=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g");d.contains=function(j,U){var re=U&&U.parentNode;return j===re||!!(re&&re.nodeType===1&&(j.contains?j.contains(re):j.compareDocumentPosition&&j.compareDocumentPosition(re)&16))};var H=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Z(j,U){return U?j==="\0"?"�":j.slice(0,-1)+"\\"+j.charCodeAt(j.length-1).toString(16)+" ":"\\"+j}d.escapeSelector=function(j){return(j+"").replace(H,Z)};var fe=p,ee=a;(function(){var j,U,re,le,me,ve=ee,_e,Fe,Me,Ke,it,lt=d.expando,Qe=0,bt=0,qt=Ac(),gr=Ac(),Yt=Ac(),Gn=Ac(),Sn=function(je,We){return je===We&&(me=!0),0},ds="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",hs="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vr="\\["+V+"*("+hs+")(?:"+V+"*([*^$|!~]?=)"+V+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+hs+"))|)"+V+"*\\]",hl=":("+hs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+vr+")*)|.*)\\)|)",xr=new RegExp(V+"+","g"),$n=new RegExp("^"+V+"*,"+V+"*"),ou=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),Kn=new RegExp(V+"|>"),Ni=new RegExp(hl),su=new RegExp("^"+hs+"$"),ho={ID:new RegExp("^#("+hs+")"),CLASS:new RegExp("^\\.("+hs+")"),TAG:new RegExp("^("+hs+"|[*])"),ATTR:new RegExp("^"+vr),PSEUDO:new RegExp("^"+hl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+ds+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},gi=/^(?:input|select|textarea|button)$/i,vi=/^h\d$/i,Tn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pl=/[+~]/,ps=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),yi=function(je,We){var Ze="0x"+je.slice(1)-65536;return We||(Ze<0?String.fromCharCode(Ze+65536):String.fromCharCode(Ze>>10|55296,Ze&1023|56320))},uv=function(){Oa()},cv=lu(function(je){return je.disabled===!0&&A(je,"fieldset")},{dir:"parentNode",next:"legend"});function fd(){try{return _e.activeElement}catch{}}try{ve.apply(n=o.call(fe.childNodes),fe.childNodes),n[fe.childNodes.length].nodeType}catch{ve={apply:function(We,Ze){ee.apply(We,o.call(Ze))},call:function(We){ee.apply(We,o.call(arguments,1))}}}function Mr(je,We,Ze,q){var te,ge,$e,He,Ve,Je,Ge,Xe=We&&We.ownerDocument,pt=We?We.nodeType:9;if(Ze=Ze||[],typeof je!="string"||!je||pt!==1&&pt!==9&&pt!==11)return Ze;if(!q&&(Oa(We),We=We||_e,Me)){if(pt!==11&&(Ve=Tn.exec(je)))if(te=Ve[1]){if(pt===9)if($e=We.getElementById(te)){if($e.id===te)return ve.call(Ze,$e),Ze}else return Ze;else if(Xe&&($e=Xe.getElementById(te))&&Mr.contains(We,$e)&&$e.id===te)return ve.call(Ze,$e),Ze}else{if(Ve[2])return ve.apply(Ze,We.getElementsByTagName(je)),Ze;if((te=Ve[3])&&We.getElementsByClassName)return ve.apply(Ze,We.getElementsByClassName(te)),Ze}if(!Gn[je+" "]&&(!Ke||!Ke.test(je))){if(Ge=je,Xe=We,pt===1&&(Kn.test(je)||ou.test(je))){for(Xe=pl.test(je)&&cp(We.parentNode)||We,(Xe!=We||!m.scope)&&((He=We.getAttribute("id"))?He=d.escapeSelector(He):We.setAttribute("id",He=lt)),Je=au(je),ge=Je.length;ge--;)Je[ge]=(He?"#"+He:":scope")+" "+Pc(Je[ge]);Ge=Je.join(",")}try{return ve.apply(Ze,Xe.querySelectorAll(Ge)),Ze}catch{Gn(je,!0)}finally{He===lt&&We.removeAttribute("id")}}}return Rc(je.replace(X,"$1"),We,Ze,q)}function Ac(){var je=[];function We(Ze,q){return je.push(Ze+" ")>U.cacheLength&&delete We[je.shift()],We[Ze+" "]=q}return We}function po(je){return je[lt]=!0,je}function Ks(je){var We=_e.createElement("fieldset");try{return!!je(We)}catch{return!1}finally{We.parentNode&&We.parentNode.removeChild(We),We=null}}function fv(je){return function(We){return A(We,"input")&&We.type===je}}function dv(je){return function(We){return(A(We,"input")||A(We,"button"))&&We.type===je}}function hv(je){return function(We){return"form"in We?We.parentNode&&We.disabled===!1?"label"in We?"label"in We.parentNode?We.parentNode.disabled===je:We.disabled===je:We.isDisabled===je||We.isDisabled!==!je&&cv(We)===je:We.disabled===je:"label"in We?We.disabled===je:!1}}function ml(je){return po(function(We){return We=+We,po(function(Ze,q){for(var te,ge=je([],Ze.length,We),$e=ge.length;$e--;)Ze[te=ge[$e]]&&(Ze[te]=!(q[te]=Ze[te]))})})}function cp(je){return je&&typeof je.getElementsByTagName<"u"&&je}function Oa(je){var We,Ze=je?je.ownerDocument||je:fe;return Ze==_e||Ze.nodeType!==9||!Ze.documentElement||(_e=Ze,Fe=_e.documentElement,Me=!d.isXMLDoc(_e),it=Fe.matches||Fe.webkitMatchesSelector||Fe.msMatchesSelector,Fe.msMatchesSelector&&fe!=_e&&(We=_e.defaultView)&&We.top!==We&&We.addEventListener("unload",uv),m.getById=Ks(function(q){return Fe.appendChild(q).id=d.expando,!_e.getElementsByName||!_e.getElementsByName(d.expando).length}),m.disconnectedMatch=Ks(function(q){return it.call(q,"*")}),m.scope=Ks(function(){return _e.querySelectorAll(":scope")}),m.cssHas=Ks(function(){try{return _e.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),m.getById?(U.filter.ID=function(q){var te=q.replace(ps,yi);return function(ge){return ge.getAttribute("id")===te}},U.find.ID=function(q,te){if(typeof te.getElementById<"u"&&Me){var ge=te.getElementById(q);return ge?[ge]:[]}}):(U.filter.ID=function(q){var te=q.replace(ps,yi);return function(ge){var $e=typeof ge.getAttributeNode<"u"&&ge.getAttributeNode("id");return $e&&$e.value===te}},U.find.ID=function(q,te){if(typeof te.getElementById<"u"&&Me){var ge,$e,He,Ve=te.getElementById(q);if(Ve){if(ge=Ve.getAttributeNode("id"),ge&&ge.value===q)return[Ve];for(He=te.getElementsByName(q),$e=0;Ve=He[$e++];)if(ge=Ve.getAttributeNode("id"),ge&&ge.value===q)return[Ve]}return[]}}),U.find.TAG=function(q,te){return typeof te.getElementsByTagName<"u"?te.getElementsByTagName(q):te.querySelectorAll(q)},U.find.CLASS=function(q,te){if(typeof te.getElementsByClassName<"u"&&Me)return te.getElementsByClassName(q)},Ke=[],Ks(function(q){var te;Fe.appendChild(q).innerHTML="<a id='"+lt+"' href='' disabled='disabled'></a><select id='"+lt+"-\r\\' disabled='disabled'><option selected=''></option></select>",q.querySelectorAll("[selected]").length||Ke.push("\\["+V+"*(?:value|"+ds+")"),q.querySelectorAll("[id~="+lt+"-]").length||Ke.push("~="),q.querySelectorAll("a#"+lt+"+*").length||Ke.push(".#.+[+~]"),q.querySelectorAll(":checked").length||Ke.push(":checked"),te=_e.createElement("input"),te.setAttribute("type","hidden"),q.appendChild(te).setAttribute("name","D"),Fe.appendChild(q).disabled=!0,q.querySelectorAll(":disabled").length!==2&&Ke.push(":enabled",":disabled"),te=_e.createElement("input"),te.setAttribute("name",""),q.appendChild(te),q.querySelectorAll("[name='']").length||Ke.push("\\["+V+"*name"+V+"*="+V+`*(?:''|"")`)}),m.cssHas||Ke.push(":has"),Ke=Ke.length&&new RegExp(Ke.join("|")),Sn=function(q,te){if(q===te)return me=!0,0;var ge=!q.compareDocumentPosition-!te.compareDocumentPosition;return ge||(ge=(q.ownerDocument||q)==(te.ownerDocument||te)?q.compareDocumentPosition(te):1,ge&1||!m.sortDetached&&te.compareDocumentPosition(q)===ge?q===_e||q.ownerDocument==fe&&Mr.contains(fe,q)?-1:te===_e||te.ownerDocument==fe&&Mr.contains(fe,te)?1:le?l.call(le,q)-l.call(le,te):0:ge&4?-1:1)}),_e}Mr.matches=function(je,We){return Mr(je,null,null,We)},Mr.matchesSelector=function(je,We){if(Oa(je),Me&&!Gn[We+" "]&&(!Ke||!Ke.test(We)))try{var Ze=it.call(je,We);if(Ze||m.disconnectedMatch||je.document&&je.document.nodeType!==11)return Ze}catch{Gn(We,!0)}return Mr(We,_e,null,[je]).length>0},Mr.contains=function(je,We){return(je.ownerDocument||je)!=_e&&Oa(je),d.contains(je,We)},Mr.attr=function(je,We){(je.ownerDocument||je)!=_e&&Oa(je);var Ze=U.attrHandle[We.toLowerCase()],q=Ze&&c.call(U.attrHandle,We.toLowerCase())?Ze(je,We,!Me):void 0;return q!==void 0?q:je.getAttribute(We)},Mr.error=function(je){throw new Error("Syntax error, unrecognized expression: "+je)},d.uniqueSort=function(je){var We,Ze=[],q=0,te=0;if(me=!m.sortStable,le=!m.sortStable&&o.call(je,0),C.call(je,Sn),me){for(;We=je[te++];)We===je[te]&&(q=Ze.push(te));for(;q--;)F.call(je,Ze[q],1)}return le=null,je},d.fn.uniqueSort=function(){return this.pushStack(d.uniqueSort(o.apply(this)))},U=d.expr={cacheLength:50,createPseudo:po,match:ho,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(je){return je[1]=je[1].replace(ps,yi),je[3]=(je[3]||je[4]||je[5]||"").replace(ps,yi),je[2]==="~="&&(je[3]=" "+je[3]+" "),je.slice(0,4)},CHILD:function(je){return je[1]=je[1].toLowerCase(),je[1].slice(0,3)==="nth"?(je[3]||Mr.error(je[0]),je[4]=+(je[4]?je[5]+(je[6]||1):2*(je[3]==="even"||je[3]==="odd")),je[5]=+(je[7]+je[8]||je[3]==="odd")):je[3]&&Mr.error(je[0]),je},PSEUDO:function(je){var We,Ze=!je[6]&&je[2];return ho.CHILD.test(je[0])?null:(je[3]?je[2]=je[4]||je[5]||"":Ze&&Ni.test(Ze)&&(We=au(Ze,!0))&&(We=Ze.indexOf(")",Ze.length-We)-Ze.length)&&(je[0]=je[0].slice(0,We),je[2]=Ze.slice(0,We)),je.slice(0,3))}},filter:{TAG:function(je){var We=je.replace(ps,yi).toLowerCase();return je==="*"?function(){return!0}:function(Ze){return A(Ze,We)}},CLASS:function(je){var We=qt[je+" "];return We||(We=new RegExp("(^|"+V+")"+je+"("+V+"|$)"))&&qt(je,function(Ze){return We.test(typeof Ze.className=="string"&&Ze.className||typeof Ze.getAttribute<"u"&&Ze.getAttribute("class")||"")})},ATTR:function(je,We,Ze){return function(q){var te=Mr.attr(q,je);return te==null?We==="!=":We?(te+="",We==="="?te===Ze:We==="!="?te!==Ze:We==="^="?Ze&&te.indexOf(Ze)===0:We==="*="?Ze&&te.indexOf(Ze)>-1:We==="$="?Ze&&te.slice(-Ze.length)===Ze:We==="~="?(" "+te.replace(xr," ")+" ").indexOf(Ze)>-1:We==="|="?te===Ze||te.slice(0,Ze.length+1)===Ze+"-":!1):!0}},CHILD:function(je,We,Ze,q,te){var ge=je.slice(0,3)!=="nth",$e=je.slice(-4)!=="last",He=We==="of-type";return q===1&&te===0?function(Ve){return!!Ve.parentNode}:function(Ve,Je,Ge){var Xe,pt,gt,Ft,_t,Ut=ge!==$e?"nextSibling":"previousSibling",Er=Ve.parentNode,Nr=He&&Ve.nodeName.toLowerCase(),Dn=!Ge&&!He,Hr=!1;if(Er){if(ge){for(;Ut;){for(gt=Ve;gt=gt[Ut];)if(He?A(gt,Nr):gt.nodeType===1)return!1;_t=Ut=je==="only"&&!_t&&"nextSibling"}return!0}if(_t=[$e?Er.firstChild:Er.lastChild],$e&&Dn){for(pt=Er[lt]||(Er[lt]={}),Xe=pt[je]||[],Ft=Xe[0]===Qe&&Xe[1],Hr=Ft&&Xe[2],gt=Ft&&Er.childNodes[Ft];gt=++Ft&&gt&&gt[Ut]||(Hr=Ft=0)||_t.pop();)if(gt.nodeType===1&&++Hr&&gt===Ve){pt[je]=[Qe,Ft,Hr];break}}else if(Dn&&(pt=Ve[lt]||(Ve[lt]={}),Xe=pt[je]||[],Ft=Xe[0]===Qe&&Xe[1],Hr=Ft),Hr===!1)for(;(gt=++Ft&&gt&&gt[Ut]||(Hr=Ft=0)||_t.pop())&&!((He?A(gt,Nr):gt.nodeType===1)&&++Hr&&(Dn&&(pt=gt[lt]||(gt[lt]={}),pt[je]=[Qe,Hr]),gt===Ve)););return Hr-=te,Hr===q||Hr%q===0&&Hr/q>=0}}},PSEUDO:function(je,We){var Ze,q=U.pseudos[je]||U.setFilters[je.toLowerCase()]||Mr.error("unsupported pseudo: "+je);return q[lt]?q(We):q.length>1?(Ze=[je,je,"",We],U.setFilters.hasOwnProperty(je.toLowerCase())?po(function(te,ge){for(var $e,He=q(te,We),Ve=He.length;Ve--;)$e=l.call(te,He[Ve]),te[$e]=!(ge[$e]=He[Ve])}):function(te){return q(te,0,Ze)}):q}},pseudos:{not:po(function(je){var We=[],Ze=[],q=hd(je.replace(X,"$1"));return q[lt]?po(function(te,ge,$e,He){for(var Ve,Je=q(te,null,He,[]),Ge=te.length;Ge--;)(Ve=Je[Ge])&&(te[Ge]=!(ge[Ge]=Ve))}):function(te,ge,$e){return We[0]=te,q(We,null,$e,Ze),We[0]=null,!Ze.pop()}}),has:po(function(je){return function(We){return Mr(je,We).length>0}}),contains:po(function(je){return je=je.replace(ps,yi),function(We){return(We.textContent||d.text(We)).indexOf(je)>-1}}),lang:po(function(je){return su.test(je||"")||Mr.error("unsupported lang: "+je),je=je.replace(ps,yi).toLowerCase(),function(We){var Ze;do if(Ze=Me?We.lang:We.getAttribute("xml:lang")||We.getAttribute("lang"))return Ze=Ze.toLowerCase(),Ze===je||Ze.indexOf(je+"-")===0;while((We=We.parentNode)&&We.nodeType===1);return!1}}),target:function(je){var We=t.location&&t.location.hash;return We&&We.slice(1)===je.id},root:function(je){return je===Fe},focus:function(je){return je===fd()&&_e.hasFocus()&&!!(je.type||je.href||~je.tabIndex)},enabled:hv(!1),disabled:hv(!0),checked:function(je){return A(je,"input")&&!!je.checked||A(je,"option")&&!!je.selected},selected:function(je){return je.parentNode&&je.parentNode.selectedIndex,je.selected===!0},empty:function(je){for(je=je.firstChild;je;je=je.nextSibling)if(je.nodeType<6)return!1;return!0},parent:function(je){return!U.pseudos.empty(je)},header:function(je){return vi.test(je.nodeName)},input:function(je){return gi.test(je.nodeName)},button:function(je){return A(je,"input")&&je.type==="button"||A(je,"button")},text:function(je){var We;return A(je,"input")&&je.type==="text"&&((We=je.getAttribute("type"))==null||We.toLowerCase()==="text")},first:ml(function(){return[0]}),last:ml(function(je,We){return[We-1]}),eq:ml(function(je,We,Ze){return[Ze<0?Ze+We:Ze]}),even:ml(function(je,We){for(var Ze=0;Ze<We;Ze+=2)je.push(Ze);return je}),odd:ml(function(je,We){for(var Ze=1;Ze<We;Ze+=2)je.push(Ze);return je}),lt:ml(function(je,We,Ze){var q;for(Ze<0?q=Ze+We:Ze>We?q=We:q=Ze;--q>=0;)je.push(q);return je}),gt:ml(function(je,We,Ze){for(var q=Ze<0?Ze+We:Ze;++q<We;)je.push(q);return je})}},U.pseudos.nth=U.pseudos.eq;for(j in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[j]=fv(j);for(j in{submit:!0,reset:!0})U.pseudos[j]=dv(j);function Oc(){}Oc.prototype=U.filters=U.pseudos,U.setFilters=new Oc;function au(je,We){var Ze,q,te,ge,$e,He,Ve,Je=gr[je+" "];if(Je)return We?0:Je.slice(0);for($e=je,He=[],Ve=U.preFilter;$e;){(!Ze||(q=$n.exec($e)))&&(q&&($e=$e.slice(q[0].length)||$e),He.push(te=[])),Ze=!1,(q=ou.exec($e))&&(Ze=q.shift(),te.push({value:Ze,type:q[0].replace(X," ")}),$e=$e.slice(Ze.length));for(ge in U.filter)(q=ho[ge].exec($e))&&(!Ve[ge]||(q=Ve[ge](q)))&&(Ze=q.shift(),te.push({value:Ze,type:ge,matches:q}),$e=$e.slice(Ze.length));if(!Ze)break}return We?$e.length:$e?Mr.error(je):gr(je,He).slice(0)}function Pc(je){for(var We=0,Ze=je.length,q="";We<Ze;We++)q+=je[We].value;return q}function lu(je,We,Ze){var q=We.dir,te=We.next,ge=te||q,$e=Ze&&ge==="parentNode",He=bt++;return We.first?function(Ve,Je,Ge){for(;Ve=Ve[q];)if(Ve.nodeType===1||$e)return je(Ve,Je,Ge);return!1}:function(Ve,Je,Ge){var Xe,pt,gt=[Qe,He];if(Ge){for(;Ve=Ve[q];)if((Ve.nodeType===1||$e)&&je(Ve,Je,Ge))return!0}else for(;Ve=Ve[q];)if(Ve.nodeType===1||$e)if(pt=Ve[lt]||(Ve[lt]={}),te&&A(Ve,te))Ve=Ve[q]||Ve;else{if((Xe=pt[ge])&&Xe[0]===Qe&&Xe[1]===He)return gt[2]=Xe[2];if(pt[ge]=gt,gt[2]=je(Ve,Je,Ge))return!0}return!1}}function Nc(je){return je.length>1?function(We,Ze,q){for(var te=je.length;te--;)if(!je[te](We,Ze,q))return!1;return!0}:je[0]}function dd(je,We,Ze){for(var q=0,te=We.length;q<te;q++)Mr(je,We[q],Ze);return Ze}function Bo(je,We,Ze,q,te){for(var ge,$e=[],He=0,Ve=je.length,Je=We!=null;He<Ve;He++)(ge=je[He])&&(!Ze||Ze(ge,q,te))&&($e.push(ge),Je&&We.push(He));return $e}function uu(je,We,Ze,q,te,ge){return q&&!q[lt]&&(q=uu(q)),te&&!te[lt]&&(te=uu(te,ge)),po(function($e,He,Ve,Je){var Ge,Xe,pt,gt,Ft=[],_t=[],Ut=He.length,Er=$e||dd(We||"*",Ve.nodeType?[Ve]:Ve,[]),Nr=je&&($e||!We)?Bo(Er,Ft,je,Ve,Je):Er;if(Ze?(gt=te||($e?je:Ut||q)?[]:He,Ze(Nr,gt,Ve,Je)):gt=Nr,q)for(Ge=Bo(gt,_t),q(Ge,[],Ve,Je),Xe=Ge.length;Xe--;)(pt=Ge[Xe])&&(gt[_t[Xe]]=!(Nr[_t[Xe]]=pt));if($e){if(te||je){if(te){for(Ge=[],Xe=gt.length;Xe--;)(pt=gt[Xe])&&Ge.push(Nr[Xe]=pt);te(null,gt=[],Ge,Je)}for(Xe=gt.length;Xe--;)(pt=gt[Xe])&&(Ge=te?l.call($e,pt):Ft[Xe])>-1&&($e[Ge]=!(He[Ge]=pt))}}else gt=Bo(gt===He?gt.splice(Ut,gt.length):gt),te?te(null,He,gt,Je):ve.apply(He,gt)})}function cu(je){for(var We,Ze,q,te=je.length,ge=U.relative[je[0].type],$e=ge||U.relative[" "],He=ge?1:0,Ve=lu(function(Xe){return Xe===We},$e,!0),Je=lu(function(Xe){return l.call(We,Xe)>-1},$e,!0),Ge=[function(Xe,pt,gt){var Ft=!ge&&(gt||pt!=re)||((We=pt).nodeType?Ve(Xe,pt,gt):Je(Xe,pt,gt));return We=null,Ft}];He<te;He++)if(Ze=U.relative[je[He].type])Ge=[lu(Nc(Ge),Ze)];else{if(Ze=U.filter[je[He].type].apply(null,je[He].matches),Ze[lt]){for(q=++He;q<te&&!U.relative[je[q].type];q++);return uu(He>1&&Nc(Ge),He>1&&Pc(je.slice(0,He-1).concat({value:je[He-2].type===" "?"*":""})).replace(X,"$1"),Ze,He<q&&cu(je.slice(He,q)),q<te&&cu(je=je.slice(q)),q<te&&Pc(je))}Ge.push(Ze)}return Nc(Ge)}function pv(je,We){var Ze=We.length>0,q=je.length>0,te=function(ge,$e,He,Ve,Je){var Ge,Xe,pt,gt=0,Ft="0",_t=ge&&[],Ut=[],Er=re,Nr=ge||q&&U.find.TAG("*",Je),Dn=Qe+=Er==null?1:Math.random()||.1,Hr=Nr.length;for(Je&&(re=$e==_e||$e||Je);Ft!==Hr&&(Ge=Nr[Ft])!=null;Ft++){if(q&&Ge){for(Xe=0,!$e&&Ge.ownerDocument!=_e&&(Oa(Ge),He=!Me);pt=je[Xe++];)if(pt(Ge,$e||_e,He)){ve.call(Ve,Ge);break}Je&&(Qe=Dn)}Ze&&((Ge=!pt&&Ge)&&gt--,ge&&_t.push(Ge))}if(gt+=Ft,Ze&&Ft!==gt){for(Xe=0;pt=We[Xe++];)pt(_t,Ut,$e,He);if(ge){if(gt>0)for(;Ft--;)_t[Ft]||Ut[Ft]||(Ut[Ft]=O.call(Ve));Ut=Bo(Ut)}ve.apply(Ve,Ut),Je&&!ge&&Ut.length>0&&gt+We.length>1&&d.uniqueSort(Ve)}return Je&&(Qe=Dn,re=Er),_t};return Ze?po(te):te}function hd(je,We){var Ze,q=[],te=[],ge=Yt[je+" "];if(!ge){for(We||(We=au(je)),Ze=We.length;Ze--;)ge=cu(We[Ze]),ge[lt]?q.push(ge):te.push(ge);ge=Yt(je,pv(te,q)),ge.selector=je}return ge}function Rc(je,We,Ze,q){var te,ge,$e,He,Ve,Je=typeof je=="function"&&je,Ge=!q&&au(je=Je.selector||je);if(Ze=Ze||[],Ge.length===1){if(ge=Ge[0]=Ge[0].slice(0),ge.length>2&&($e=ge[0]).type==="ID"&&We.nodeType===9&&Me&&U.relative[ge[1].type]){if(We=(U.find.ID($e.matches[0].replace(ps,yi),We)||[])[0],We)Je&&(We=We.parentNode);else return Ze;je=je.slice(ge.shift().value.length)}for(te=ho.needsContext.test(je)?0:ge.length;te--&&($e=ge[te],!U.relative[He=$e.type]);)if((Ve=U.find[He])&&(q=Ve($e.matches[0].replace(ps,yi),pl.test(ge[0].type)&&cp(We.parentNode)||We))){if(ge.splice(te,1),je=q.length&&Pc(ge),!je)return ve.apply(Ze,q),Ze;break}}return(Je||hd(je,Ge))(q,We,!Me,Ze,!We||pl.test(je)&&cp(We.parentNode)||We),Ze}m.sortStable=lt.split("").sort(Sn).join("")===lt,Oa(),m.sortDetached=Ks(function(je){return je.compareDocumentPosition(_e.createElement("fieldset"))&1}),d.find=Mr,d.expr[":"]=d.expr.pseudos,d.unique=d.uniqueSort,Mr.compile=hd,Mr.select=Rc,Mr.setDocument=Oa,Mr.tokenize=au,Mr.escape=d.escapeSelector,Mr.getText=d.text,Mr.isXML=d.isXMLDoc,Mr.selectors=d.expr,Mr.support=d.support,Mr.uniqueSort=d.uniqueSort})();var ne=function(j,U,re){for(var le=[],me=re!==void 0;(j=j[U])&&j.nodeType!==9;)if(j.nodeType===1){if(me&&d(j).is(re))break;le.push(j)}return le},k=function(j,U){for(var re=[];j;j=j.nextSibling)j.nodeType===1&&j!==U&&re.push(j);return re},B=d.expr.match.needsContext,W=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(j,U,re){return _(U)?d.grep(j,function(le,me){return!!U.call(le,me,le)!==re}):U.nodeType?d.grep(j,function(le){return le===U!==re}):typeof U!="string"?d.grep(j,function(le){return l.call(U,le)>-1!==re}):d.filter(U,j,re)}d.filter=function(j,U,re){var le=U[0];return re&&(j=":not("+j+")"),U.length===1&&le.nodeType===1?d.find.matchesSelector(le,j)?[le]:[]:d.find.matches(j,d.grep(U,function(me){return me.nodeType===1}))},d.fn.extend({find:function(j){var U,re,le=this.length,me=this;if(typeof j!="string")return this.pushStack(d(j).filter(function(){for(U=0;U<le;U++)if(d.contains(me[U],this))return!0}));for(re=this.pushStack([]),U=0;U<le;U++)d.find(j,me[U],re);return le>1?d.uniqueSort(re):re},filter:function(j){return this.pushStack(P(this,j||[],!1))},not:function(j){return this.pushStack(P(this,j||[],!0))},is:function(j){return!!P(this,typeof j=="string"&&B.test(j)?d(j):j||[],!1).length}});var R,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,oe=d.fn.init=function(j,U,re){var le,me;if(!j)return this;if(re=re||R,typeof j=="string")if(j[0]==="<"&&j[j.length-1]===">"&&j.length>=3?le=[null,j,null]:le=z.exec(j),le&&(le[1]||!U))if(le[1]){if(U=U instanceof d?U[0]:U,d.merge(this,d.parseHTML(le[1],U&&U.nodeType?U.ownerDocument||U:p,!0)),W.test(le[1])&&d.isPlainObject(U))for(le in U)_(this[le])?this[le](U[le]):this.attr(le,U[le]);return this}else return me=p.getElementById(le[2]),me&&(this[0]=me,this.length=1),this;else return!U||U.jquery?(U||re).find(j):this.constructor(U).find(j);else{if(j.nodeType)return this[0]=j,this.length=1,this;if(_(j))return re.ready!==void 0?re.ready(j):j(d)}return d.makeArray(j,this)};oe.prototype=d.fn,R=d(p);var J=/^(?:parents|prev(?:Until|All))/,Y={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(j){var U=d(j,this),re=U.length;return this.filter(function(){for(var le=0;le<re;le++)if(d.contains(this,U[le]))return!0})},closest:function(j,U){var re,le=0,me=this.length,ve=[],_e=typeof j!="string"&&d(j);if(!B.test(j)){for(;le<me;le++)for(re=this[le];re&&re!==U;re=re.parentNode)if(re.nodeType<11&&(_e?_e.index(re)>-1:re.nodeType===1&&d.find.matchesSelector(re,j))){ve.push(re);break}}return this.pushStack(ve.length>1?d.uniqueSort(ve):ve)},index:function(j){return j?typeof j=="string"?l.call(d(j),this[0]):l.call(this,j.jquery?j[0]:j):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(j,U){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(j,U))))},addBack:function(j){return this.add(j==null?this.prevObject:this.prevObject.filter(j))}});function ae(j,U){for(;(j=j[U])&&j.nodeType!==1;);return j}d.each({parent:function(j){var U=j.parentNode;return U&&U.nodeType!==11?U:null},parents:function(j){return ne(j,"parentNode")},parentsUntil:function(j,U,re){return ne(j,"parentNode",re)},next:function(j){return ae(j,"nextSibling")},prev:function(j){return ae(j,"previousSibling")},nextAll:function(j){return ne(j,"nextSibling")},prevAll:function(j){return ne(j,"previousSibling")},nextUntil:function(j,U,re){return ne(j,"nextSibling",re)},prevUntil:function(j,U,re){return ne(j,"previousSibling",re)},siblings:function(j){return k((j.parentNode||{}).firstChild,j)},children:function(j){return k(j.firstChild)},contents:function(j){return j.contentDocument!=null&&i(j.contentDocument)?j.contentDocument:(A(j,"template")&&(j=j.content||j),d.merge([],j.childNodes))}},function(j,U){d.fn[j]=function(re,le){var me=d.map(this,U,re);return j.slice(-5)!=="Until"&&(le=re),le&&typeof le=="string"&&(me=d.filter(le,me)),this.length>1&&(Y[j]||d.uniqueSort(me),J.test(j)&&me.reverse()),this.pushStack(me)}});var be=/[^\x20\t\r\n\f]+/g;function Ie(j){var U={};return d.each(j.match(be)||[],function(re,le){U[le]=!0}),U}d.Callbacks=function(j){j=typeof j=="string"?Ie(j):d.extend({},j);var U,re,le,me,ve=[],_e=[],Fe=-1,Me=function(){for(me=me||j.once,le=U=!0;_e.length;Fe=-1)for(re=_e.shift();++Fe<ve.length;)ve[Fe].apply(re[0],re[1])===!1&&j.stopOnFalse&&(Fe=ve.length,re=!1);j.memory||(re=!1),U=!1,me&&(re?ve=[]:ve="")},Ke={add:function(){return ve&&(re&&!U&&(Fe=ve.length-1,_e.push(re)),function it(lt){d.each(lt,function(Qe,bt){_(bt)?(!j.unique||!Ke.has(bt))&&ve.push(bt):bt&&bt.length&&S(bt)!=="string"&&it(bt)})}(arguments),re&&!U&&Me()),this},remove:function(){return d.each(arguments,function(it,lt){for(var Qe;(Qe=d.inArray(lt,ve,Qe))>-1;)ve.splice(Qe,1),Qe<=Fe&&Fe--}),this},has:function(it){return it?d.inArray(it,ve)>-1:ve.length>0},empty:function(){return ve&&(ve=[]),this},disable:function(){return me=_e=[],ve=re="",this},disabled:function(){return!ve},lock:function(){return me=_e=[],!re&&!U&&(ve=re=""),this},locked:function(){return!!me},fireWith:function(it,lt){return me||(lt=lt||[],lt=[it,lt.slice?lt.slice():lt],_e.push(lt),U||Me()),this},fire:function(){return Ke.fireWith(this,arguments),this},fired:function(){return!!le}};return Ke};function N(j){return j}function D(j){throw j}function M(j,U,re,le){var me;try{j&&_(me=j.promise)?me.call(j).done(U).fail(re):j&&_(me=j.then)?me.call(j,U,re):U.apply(void 0,[j].slice(le))}catch(ve){re.apply(void 0,[ve])}}d.extend({Deferred:function(j){var U=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],re="pending",le={state:function(){return re},always:function(){return me.done(arguments).fail(arguments),this},catch:function(ve){return le.then(null,ve)},pipe:function(){var ve=arguments;return d.Deferred(function(_e){d.each(U,function(Fe,Me){var Ke=_(ve[Me[4]])&&ve[Me[4]];me[Me[1]](function(){var it=Ke&&Ke.apply(this,arguments);it&&_(it.promise)?it.promise().progress(_e.notify).done(_e.resolve).fail(_e.reject):_e[Me[0]+"With"](this,Ke?[it]:arguments)})}),ve=null}).promise()},then:function(ve,_e,Fe){var Me=0;function Ke(it,lt,Qe,bt){return function(){var qt=this,gr=arguments,Yt=function(){var Sn,ds;if(!(it<Me)){if(Sn=Qe.apply(qt,gr),Sn===lt.promise())throw new TypeError("Thenable self-resolution");ds=Sn&&(typeof Sn=="object"||typeof Sn=="function")&&Sn.then,_(ds)?bt?ds.call(Sn,Ke(Me,lt,N,bt),Ke(Me,lt,D,bt)):(Me++,ds.call(Sn,Ke(Me,lt,N,bt),Ke(Me,lt,D,bt),Ke(Me,lt,N,lt.notifyWith))):(Qe!==N&&(qt=void 0,gr=[Sn]),(bt||lt.resolveWith)(qt,gr))}},Gn=bt?Yt:function(){try{Yt()}catch(Sn){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Sn,Gn.error),it+1>=Me&&(Qe!==D&&(qt=void 0,gr=[Sn]),lt.rejectWith(qt,gr))}};it?Gn():(d.Deferred.getErrorHook?Gn.error=d.Deferred.getErrorHook():d.Deferred.getStackHook&&(Gn.error=d.Deferred.getStackHook()),t.setTimeout(Gn))}}return d.Deferred(function(it){U[0][3].add(Ke(0,it,_(Fe)?Fe:N,it.notifyWith)),U[1][3].add(Ke(0,it,_(ve)?ve:N)),U[2][3].add(Ke(0,it,_(_e)?_e:D))}).promise()},promise:function(ve){return ve!=null?d.extend(ve,le):le}},me={};return d.each(U,function(ve,_e){var Fe=_e[2],Me=_e[5];le[_e[1]]=Fe.add,Me&&Fe.add(function(){re=Me},U[3-ve][2].disable,U[3-ve][3].disable,U[0][2].lock,U[0][3].lock),Fe.add(_e[3].fire),me[_e[0]]=function(){return me[_e[0]+"With"](this===me?void 0:this,arguments),this},me[_e[0]+"With"]=Fe.fireWith}),le.promise(me),j&&j.call(me,me),me},when:function(j){var U=arguments.length,re=U,le=Array(re),me=o.call(arguments),ve=d.Deferred(),_e=function(Fe){return function(Me){le[Fe]=this,me[Fe]=arguments.length>1?o.call(arguments):Me,--U||ve.resolveWith(le,me)}};if(U<=1&&(M(j,ve.done(_e(re)).resolve,ve.reject,!U),ve.state()==="pending"||_(me[re]&&me[re].then)))return ve.then();for(;re--;)M(me[re],_e(re),ve.reject);return ve.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(j,U){t.console&&t.console.warn&&j&&K.test(j.name)&&t.console.warn("jQuery.Deferred exception: "+j.message,j.stack,U)},d.readyException=function(j){t.setTimeout(function(){throw j})};var se=d.Deferred();d.fn.ready=function(j){return se.then(j).catch(function(U){d.readyException(U)}),this},d.extend({isReady:!1,readyWait:1,ready:function(j){(j===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(j!==!0&&--d.readyWait>0)&&se.resolveWith(p,[d]))}}),d.ready.then=se.then;function ce(){p.removeEventListener("DOMContentLoaded",ce),t.removeEventListener("load",ce),d.ready()}p.readyState==="complete"||p.readyState!=="loading"&&!p.documentElement.doScroll?t.setTimeout(d.ready):(p.addEventListener("DOMContentLoaded",ce),t.addEventListener("load",ce));var de=function(j,U,re,le,me,ve,_e){var Fe=0,Me=j.length,Ke=re==null;if(S(re)==="object"){me=!0;for(Fe in re)de(j,U,Fe,re[Fe],!0,ve,_e)}else if(le!==void 0&&(me=!0,_(le)||(_e=!0),Ke&&(_e?(U.call(j,le),U=null):(Ke=U,U=function(it,lt,Qe){return Ke.call(d(it),Qe)})),U))for(;Fe<Me;Fe++)U(j[Fe],re,_e?le:le.call(j[Fe],Fe,U(j[Fe],re)));return me?j:Ke?U.call(j):Me?U(j[0],re):ve},pe=/^-ms-/,Ae=/-([a-z])/g;function Le(j,U){return U.toUpperCase()}function Ce(j){return j.replace(pe,"ms-").replace(Ae,Le)}var rt=function(j){return j.nodeType===1||j.nodeType===9||!+j.nodeType};function qe(){this.expando=d.expando+qe.uid++}qe.uid=1,qe.prototype={cache:function(j){var U=j[this.expando];return U||(U={},rt(j)&&(j.nodeType?j[this.expando]=U:Object.defineProperty(j,this.expando,{value:U,configurable:!0}))),U},set:function(j,U,re){var le,me=this.cache(j);if(typeof U=="string")me[Ce(U)]=re;else for(le in U)me[Ce(le)]=U[le];return me},get:function(j,U){return U===void 0?this.cache(j):j[this.expando]&&j[this.expando][Ce(U)]},access:function(j,U,re){return U===void 0||U&&typeof U=="string"&&re===void 0?this.get(j,U):(this.set(j,U,re),re!==void 0?re:U)},remove:function(j,U){var re,le=j[this.expando];if(le!==void 0){if(U!==void 0)for(Array.isArray(U)?U=U.map(Ce):(U=Ce(U),U=U in le?[U]:U.match(be)||[]),re=U.length;re--;)delete le[U[re]];(U===void 0||d.isEmptyObject(le))&&(j.nodeType?j[this.expando]=void 0:delete j[this.expando])}},hasData:function(j){var U=j[this.expando];return U!==void 0&&!d.isEmptyObject(U)}};var Ue=new qe,G=new qe,I=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/[A-Z]/g;function ie(j){return j==="true"?!0:j==="false"?!1:j==="null"?null:j===+j+""?+j:I.test(j)?JSON.parse(j):j}function ye(j,U,re){var le;if(re===void 0&&j.nodeType===1)if(le="data-"+U.replace(L,"-$&").toLowerCase(),re=j.getAttribute(le),typeof re=="string"){try{re=ie(re)}catch{}G.set(j,U,re)}else re=void 0;return re}d.extend({hasData:function(j){return G.hasData(j)||Ue.hasData(j)},data:function(j,U,re){return G.access(j,U,re)},removeData:function(j,U){G.remove(j,U)},_data:function(j,U,re){return Ue.access(j,U,re)},_removeData:function(j,U){Ue.remove(j,U)}}),d.fn.extend({data:function(j,U){var re,le,me,ve=this[0],_e=ve&&ve.attributes;if(j===void 0){if(this.length&&(me=G.get(ve),ve.nodeType===1&&!Ue.get(ve,"hasDataAttrs"))){for(re=_e.length;re--;)_e[re]&&(le=_e[re].name,le.indexOf("data-")===0&&(le=Ce(le.slice(5)),ye(ve,le,me[le])));Ue.set(ve,"hasDataAttrs",!0)}return me}return typeof j=="object"?this.each(function(){G.set(this,j)}):de(this,function(Fe){var Me;if(ve&&Fe===void 0)return Me=G.get(ve,j),Me!==void 0||(Me=ye(ve,j),Me!==void 0)?Me:void 0;this.each(function(){G.set(this,j,Fe)})},null,U,arguments.length>1,null,!0)},removeData:function(j){return this.each(function(){G.remove(this,j)})}}),d.extend({queue:function(j,U,re){var le;if(j)return U=(U||"fx")+"queue",le=Ue.get(j,U),re&&(!le||Array.isArray(re)?le=Ue.access(j,U,d.makeArray(re)):le.push(re)),le||[]},dequeue:function(j,U){U=U||"fx";var re=d.queue(j,U),le=re.length,me=re.shift(),ve=d._queueHooks(j,U),_e=function(){d.dequeue(j,U)};me==="inprogress"&&(me=re.shift(),le--),me&&(U==="fx"&&re.unshift("inprogress"),delete ve.stop,me.call(j,_e,ve)),!le&&ve&&ve.empty.fire()},_queueHooks:function(j,U){var re=U+"queueHooks";return Ue.get(j,re)||Ue.access(j,re,{empty:d.Callbacks("once memory").add(function(){Ue.remove(j,[U+"queue",re])})})}}),d.fn.extend({queue:function(j,U){var re=2;return typeof j!="string"&&(U=j,j="fx",re--),arguments.length<re?d.queue(this[0],j):U===void 0?this:this.each(function(){var le=d.queue(this,j,U);d._queueHooks(this,j),j==="fx"&&le[0]!=="inprogress"&&d.dequeue(this,j)})},dequeue:function(j){return this.each(function(){d.dequeue(this,j)})},clearQueue:function(j){return this.queue(j||"fx",[])},promise:function(j,U){var re,le=1,me=d.Deferred(),ve=this,_e=this.length,Fe=function(){--le||me.resolveWith(ve,[ve])};for(typeof j!="string"&&(U=j,j=void 0),j=j||"fx";_e--;)re=Ue.get(ve[_e],j+"queueHooks"),re&&re.empty&&(le++,re.empty.add(Fe));return Fe(),me.promise(U)}});var Se=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,De=new RegExp("^(?:([+-])=|)("+Se+")([a-z%]*)$","i"),ke=["Top","Right","Bottom","Left"],Be=p.documentElement,st=function(j){return d.contains(j.ownerDocument,j)},wt={composed:!0};Be.getRootNode&&(st=function(j){return d.contains(j.ownerDocument,j)||j.getRootNode(wt)===j.ownerDocument});var ut=function(j,U){return j=U||j,j.style.display==="none"||j.style.display===""&&st(j)&&d.css(j,"display")==="none"};function Ct(j,U,re,le){var me,ve,_e=20,Fe=le?function(){return le.cur()}:function(){return d.css(j,U,"")},Me=Fe(),Ke=re&&re[3]||(d.cssNumber[U]?"":"px"),it=j.nodeType&&(d.cssNumber[U]||Ke!=="px"&&+Me)&&De.exec(d.css(j,U));if(it&&it[3]!==Ke){for(Me=Me/2,Ke=Ke||it[3],it=+Me||1;_e--;)d.style(j,U,it+Ke),(1-ve)*(1-(ve=Fe()/Me||.5))<=0&&(_e=0),it=it/ve;it=it*2,d.style(j,U,it+Ke),re=re||[]}return re&&(it=+it||+Me||0,me=re[1]?it+(re[1]+1)*re[2]:+re[2],le&&(le.unit=Ke,le.start=it,le.end=me)),me}var Tr={};function Pr(j){var U,re=j.ownerDocument,le=j.nodeName,me=Tr[le];return me||(U=re.body.appendChild(re.createElement(le)),me=d.css(U,"display"),U.parentNode.removeChild(U),me==="none"&&(me="block"),Tr[le]=me,me)}function or(j,U){for(var re,le,me=[],ve=0,_e=j.length;ve<_e;ve++)le=j[ve],le.style&&(re=le.style.display,U?(re==="none"&&(me[ve]=Ue.get(le,"display")||null,me[ve]||(le.style.display="")),le.style.display===""&&ut(le)&&(me[ve]=Pr(le))):re!=="none"&&(me[ve]="none",Ue.set(le,"display",re)));for(ve=0;ve<_e;ve++)me[ve]!=null&&(j[ve].style.display=me[ve]);return j}d.fn.extend({show:function(){return or(this,!0)},hide:function(){return or(this)},toggle:function(j){return typeof j=="boolean"?j?this.show():this.hide():this.each(function(){ut(this)?d(this).show():d(this).hide()})}});var ur=/^(?:checkbox|radio)$/i,sn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var j=p.createDocumentFragment(),U=j.appendChild(p.createElement("div")),re=p.createElement("input");re.setAttribute("type","radio"),re.setAttribute("checked","checked"),re.setAttribute("name","t"),U.appendChild(re),m.checkClone=U.cloneNode(!0).cloneNode(!0).lastChild.checked,U.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!U.cloneNode(!0).lastChild.defaultValue,U.innerHTML="<option></option>",m.option=!!U.lastChild})();var Dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td,m.option||(Dt.optgroup=Dt.option=[1,"<select multiple='multiple'>","</select>"]);function Jt(j,U){var re;return typeof j.getElementsByTagName<"u"?re=j.getElementsByTagName(U||"*"):typeof j.querySelectorAll<"u"?re=j.querySelectorAll(U||"*"):re=[],U===void 0||U&&A(j,U)?d.merge([j],re):re}function Ee(j,U){for(var re=0,le=j.length;re<le;re++)Ue.set(j[re],"globalEval",!U||Ue.get(U[re],"globalEval"))}var Pe=/<|&#?\w+;/;function ct(j,U,re,le,me){for(var ve,_e,Fe,Me,Ke,it,lt=U.createDocumentFragment(),Qe=[],bt=0,qt=j.length;bt<qt;bt++)if(ve=j[bt],ve||ve===0)if(S(ve)==="object")d.merge(Qe,ve.nodeType?[ve]:ve);else if(!Pe.test(ve))Qe.push(U.createTextNode(ve));else{for(_e=_e||lt.appendChild(U.createElement("div")),Fe=(sn.exec(ve)||["",""])[1].toLowerCase(),Me=Dt[Fe]||Dt._default,_e.innerHTML=Me[1]+d.htmlPrefilter(ve)+Me[2],it=Me[0];it--;)_e=_e.lastChild;d.merge(Qe,_e.childNodes),_e=lt.firstChild,_e.textContent=""}for(lt.textContent="",bt=0;ve=Qe[bt++];){if(le&&d.inArray(ve,le)>-1){me&&me.push(ve);continue}if(Ke=st(ve),_e=Jt(lt.appendChild(ve),"script"),Ke&&Ee(_e),re)for(it=0;ve=_e[it++];)tr.test(ve.type||"")&&re.push(ve)}return lt}var ht=/^([^.]*)(?:\.(.+)|)/;function et(){return!0}function At(){return!1}function Ot(j,U,re,le,me,ve){var _e,Fe;if(typeof U=="object"){typeof re!="string"&&(le=le||re,re=void 0);for(Fe in U)Ot(j,Fe,re,le,U[Fe],ve);return j}if(le==null&&me==null?(me=re,le=re=void 0):me==null&&(typeof re=="string"?(me=le,le=void 0):(me=le,le=re,re=void 0)),me===!1)me=At;else if(!me)return j;return ve===1&&(_e=me,me=function(Me){return d().off(Me),_e.apply(this,arguments)},me.guid=_e.guid||(_e.guid=d.guid++)),j.each(function(){d.event.add(this,U,me,le,re)})}d.event={global:{},add:function(j,U,re,le,me){var ve,_e,Fe,Me,Ke,it,lt,Qe,bt,qt,gr,Yt=Ue.get(j);if(rt(j))for(re.handler&&(ve=re,re=ve.handler,me=ve.selector),me&&d.find.matchesSelector(Be,me),re.guid||(re.guid=d.guid++),(Me=Yt.events)||(Me=Yt.events=Object.create(null)),(_e=Yt.handle)||(_e=Yt.handle=function(Gn){return typeof d<"u"&&d.event.triggered!==Gn.type?d.event.dispatch.apply(j,arguments):void 0}),U=(U||"").match(be)||[""],Ke=U.length;Ke--;)Fe=ht.exec(U[Ke])||[],bt=gr=Fe[1],qt=(Fe[2]||"").split(".").sort(),bt&&(lt=d.event.special[bt]||{},bt=(me?lt.delegateType:lt.bindType)||bt,lt=d.event.special[bt]||{},it=d.extend({type:bt,origType:gr,data:le,handler:re,guid:re.guid,selector:me,needsContext:me&&d.expr.match.needsContext.test(me),namespace:qt.join(".")},ve),(Qe=Me[bt])||(Qe=Me[bt]=[],Qe.delegateCount=0,(!lt.setup||lt.setup.call(j,le,qt,_e)===!1)&&j.addEventListener&&j.addEventListener(bt,_e)),lt.add&&(lt.add.call(j,it),it.handler.guid||(it.handler.guid=re.guid)),me?Qe.splice(Qe.delegateCount++,0,it):Qe.push(it),d.event.global[bt]=!0)},remove:function(j,U,re,le,me){var ve,_e,Fe,Me,Ke,it,lt,Qe,bt,qt,gr,Yt=Ue.hasData(j)&&Ue.get(j);if(!(!Yt||!(Me=Yt.events))){for(U=(U||"").match(be)||[""],Ke=U.length;Ke--;){if(Fe=ht.exec(U[Ke])||[],bt=gr=Fe[1],qt=(Fe[2]||"").split(".").sort(),!bt){for(bt in Me)d.event.remove(j,bt+U[Ke],re,le,!0);continue}for(lt=d.event.special[bt]||{},bt=(le?lt.delegateType:lt.bindType)||bt,Qe=Me[bt]||[],Fe=Fe[2]&&new RegExp("(^|\\.)"+qt.join("\\.(?:.*\\.|)")+"(\\.|$)"),_e=ve=Qe.length;ve--;)it=Qe[ve],(me||gr===it.origType)&&(!re||re.guid===it.guid)&&(!Fe||Fe.test(it.namespace))&&(!le||le===it.selector||le==="**"&&it.selector)&&(Qe.splice(ve,1),it.selector&&Qe.delegateCount--,lt.remove&&lt.remove.call(j,it));_e&&!Qe.length&&((!lt.teardown||lt.teardown.call(j,qt,Yt.handle)===!1)&&d.removeEvent(j,bt,Yt.handle),delete Me[bt])}d.isEmptyObject(Me)&&Ue.remove(j,"handle events")}},dispatch:function(j){var U,re,le,me,ve,_e,Fe=new Array(arguments.length),Me=d.event.fix(j),Ke=(Ue.get(this,"events")||Object.create(null))[Me.type]||[],it=d.event.special[Me.type]||{};for(Fe[0]=Me,U=1;U<arguments.length;U++)Fe[U]=arguments[U];if(Me.delegateTarget=this,!(it.preDispatch&&it.preDispatch.call(this,Me)===!1)){for(_e=d.event.handlers.call(this,Me,Ke),U=0;(me=_e[U++])&&!Me.isPropagationStopped();)for(Me.currentTarget=me.elem,re=0;(ve=me.handlers[re++])&&!Me.isImmediatePropagationStopped();)(!Me.rnamespace||ve.namespace===!1||Me.rnamespace.test(ve.namespace))&&(Me.handleObj=ve,Me.data=ve.data,le=((d.event.special[ve.origType]||{}).handle||ve.handler).apply(me.elem,Fe),le!==void 0&&(Me.result=le)===!1&&(Me.preventDefault(),Me.stopPropagation()));return it.postDispatch&&it.postDispatch.call(this,Me),Me.result}},handlers:function(j,U){var re,le,me,ve,_e,Fe=[],Me=U.delegateCount,Ke=j.target;if(Me&&Ke.nodeType&&!(j.type==="click"&&j.button>=1)){for(;Ke!==this;Ke=Ke.parentNode||this)if(Ke.nodeType===1&&!(j.type==="click"&&Ke.disabled===!0)){for(ve=[],_e={},re=0;re<Me;re++)le=U[re],me=le.selector+" ",_e[me]===void 0&&(_e[me]=le.needsContext?d(me,this).index(Ke)>-1:d.find(me,this,null,[Ke]).length),_e[me]&&ve.push(le);ve.length&&Fe.push({elem:Ke,handlers:ve})}}return Ke=this,Me<U.length&&Fe.push({elem:Ke,handlers:U.slice(Me)}),Fe},addProp:function(j,U){Object.defineProperty(d.Event.prototype,j,{enumerable:!0,configurable:!0,get:_(U)?function(){if(this.originalEvent)return U(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[j]},set:function(re){Object.defineProperty(this,j,{enumerable:!0,configurable:!0,writable:!0,value:re})}})},fix:function(j){return j[d.expando]?j:new d.Event(j)},special:{load:{noBubble:!0},click:{setup:function(j){var U=this||j;return ur.test(U.type)&&U.click&&A(U,"input")&&he(U,"click",!0),!1},trigger:function(j){var U=this||j;return ur.test(U.type)&&U.click&&A(U,"input")&&he(U,"click"),!0},_default:function(j){var U=j.target;return ur.test(U.type)&&U.click&&A(U,"input")&&Ue.get(U,"click")||A(U,"a")}},beforeunload:{postDispatch:function(j){j.result!==void 0&&j.originalEvent&&(j.originalEvent.returnValue=j.result)}}}};function he(j,U,re){if(!re){Ue.get(j,U)===void 0&&d.event.add(j,U,et);return}Ue.set(j,U,!1),d.event.add(j,U,{namespace:!1,handler:function(le){var me,ve=Ue.get(this,U);if(le.isTrigger&1&&this[U]){if(ve)(d.event.special[U]||{}).delegateType&&le.stopPropagation();else if(ve=o.call(arguments),Ue.set(this,U,ve),this[U](),me=Ue.get(this,U),Ue.set(this,U,!1),ve!==me)return le.stopImmediatePropagation(),le.preventDefault(),me}else ve&&(Ue.set(this,U,d.event.trigger(ve[0],ve.slice(1),this)),le.stopPropagation(),le.isImmediatePropagationStopped=et)}})}d.removeEvent=function(j,U,re){j.removeEventListener&&j.removeEventListener(U,re)},d.Event=function(j,U){if(!(this instanceof d.Event))return new d.Event(j,U);j&&j.type?(this.originalEvent=j,this.type=j.type,this.isDefaultPrevented=j.defaultPrevented||j.defaultPrevented===void 0&&j.returnValue===!1?et:At,this.target=j.target&&j.target.nodeType===3?j.target.parentNode:j.target,this.currentTarget=j.currentTarget,this.relatedTarget=j.relatedTarget):this.type=j,U&&d.extend(this,U),this.timeStamp=j&&j.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:At,isPropagationStopped:At,isImmediatePropagationStopped:At,isSimulated:!1,preventDefault:function(){var j=this.originalEvent;this.isDefaultPrevented=et,j&&!this.isSimulated&&j.preventDefault()},stopPropagation:function(){var j=this.originalEvent;this.isPropagationStopped=et,j&&!this.isSimulated&&j.stopPropagation()},stopImmediatePropagation:function(){var j=this.originalEvent;this.isImmediatePropagationStopped=et,j&&!this.isSimulated&&j.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(j,U){function re(le){if(p.documentMode){var me=Ue.get(this,"handle"),ve=d.event.fix(le);ve.type=le.type==="focusin"?"focus":"blur",ve.isSimulated=!0,me(le),ve.target===ve.currentTarget&&me(ve)}else d.event.simulate(U,le.target,d.event.fix(le))}d.event.special[j]={setup:function(){var le;if(he(this,j,!0),p.documentMode)le=Ue.get(this,U),le||this.addEventListener(U,re),Ue.set(this,U,(le||0)+1);else return!1},trigger:function(){return he(this,j),!0},teardown:function(){var le;if(p.documentMode)le=Ue.get(this,U)-1,le?Ue.set(this,U,le):(this.removeEventListener(U,re),Ue.remove(this,U));else return!1},_default:function(le){return Ue.get(le.target,j)},delegateType:U},d.event.special[U]={setup:function(){var le=this.ownerDocument||this.document||this,me=p.documentMode?this:le,ve=Ue.get(me,U);ve||(p.documentMode?this.addEventListener(U,re):le.addEventListener(j,re,!0)),Ue.set(me,U,(ve||0)+1)},teardown:function(){var le=this.ownerDocument||this.document||this,me=p.documentMode?this:le,ve=Ue.get(me,U)-1;ve?Ue.set(me,U,ve):(p.documentMode?this.removeEventListener(U,re):le.removeEventListener(j,re,!0),Ue.remove(me,U))}}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(j,U){d.event.special[j]={delegateType:U,bindType:U,handle:function(re){var le,me=this,ve=re.relatedTarget,_e=re.handleObj;return(!ve||ve!==me&&!d.contains(me,ve))&&(re.type=_e.origType,le=_e.handler.apply(this,arguments),re.type=U),le}}}),d.fn.extend({on:function(j,U,re,le){return Ot(this,j,U,re,le)},one:function(j,U,re,le){return Ot(this,j,U,re,le,1)},off:function(j,U,re){var le,me;if(j&&j.preventDefault&&j.handleObj)return le=j.handleObj,d(j.delegateTarget).off(le.namespace?le.origType+"."+le.namespace:le.origType,le.selector,le.handler),this;if(typeof j=="object"){for(me in j)this.off(me,U,j[me]);return this}return(U===!1||typeof U=="function")&&(re=U,U=void 0),re===!1&&(re=At),this.each(function(){d.event.remove(this,j,re,U)})}});var ue=/<script|<style|<link/i,we=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function xe(j,U){return A(j,"table")&&A(U.nodeType!==11?U:U.firstChild,"tr")&&d(j).children("tbody")[0]||j}function ot(j){return j.type=(j.getAttribute("type")!==null)+"/"+j.type,j}function tt(j){return(j.type||"").slice(0,5)==="true/"?j.type=j.type.slice(5):j.removeAttribute("type"),j}function Tt(j,U){var re,le,me,ve,_e,Fe,Me;if(U.nodeType===1){if(Ue.hasData(j)&&(ve=Ue.get(j),Me=ve.events,Me)){Ue.remove(U,"handle events");for(me in Me)for(re=0,le=Me[me].length;re<le;re++)d.event.add(U,me,Me[me][re])}G.hasData(j)&&(_e=G.access(j),Fe=d.extend({},_e),G.set(U,Fe))}}function jt(j,U){var re=U.nodeName.toLowerCase();re==="input"&&ur.test(j.type)?U.checked=j.checked:(re==="input"||re==="textarea")&&(U.defaultValue=j.defaultValue)}function Lt(j,U,re,le){U=s(U);var me,ve,_e,Fe,Me,Ke,it=0,lt=j.length,Qe=lt-1,bt=U[0],qt=_(bt);if(qt||lt>1&&typeof bt=="string"&&!m.checkClone&&we.test(bt))return j.each(function(gr){var Yt=j.eq(gr);qt&&(U[0]=bt.call(this,gr,Yt.html())),Lt(Yt,U,re,le)});if(lt&&(me=ct(U,j[0].ownerDocument,!1,j,le),ve=me.firstChild,me.childNodes.length===1&&(me=ve),ve||le)){for(_e=d.map(Jt(me,"script"),ot),Fe=_e.length;it<lt;it++)Me=me,it!==Qe&&(Me=d.clone(Me,!0,!0),Fe&&d.merge(_e,Jt(Me,"script"))),re.call(j[it],Me,it);if(Fe)for(Ke=_e[_e.length-1].ownerDocument,d.map(_e,tt),it=0;it<Fe;it++)Me=_e[it],tr.test(Me.type||"")&&!Ue.access(Me,"globalEval")&&d.contains(Ke,Me)&&(Me.src&&(Me.type||"").toLowerCase()!=="module"?d._evalUrl&&!Me.noModule&&d._evalUrl(Me.src,{nonce:Me.nonce||Me.getAttribute("nonce")},Ke):y(Me.textContent.replace(Re,""),Me,Ke))}return j}function $t(j,U,re){for(var le,me=U?d.filter(U,j):j,ve=0;(le=me[ve])!=null;ve++)!re&&le.nodeType===1&&d.cleanData(Jt(le)),le.parentNode&&(re&&st(le)&&Ee(Jt(le,"script")),le.parentNode.removeChild(le));return j}d.extend({htmlPrefilter:function(j){return j},clone:function(j,U,re){var le,me,ve,_e,Fe=j.cloneNode(!0),Me=st(j);if(!m.noCloneChecked&&(j.nodeType===1||j.nodeType===11)&&!d.isXMLDoc(j))for(_e=Jt(Fe),ve=Jt(j),le=0,me=ve.length;le<me;le++)jt(ve[le],_e[le]);if(U)if(re)for(ve=ve||Jt(j),_e=_e||Jt(Fe),le=0,me=ve.length;le<me;le++)Tt(ve[le],_e[le]);else Tt(j,Fe);return _e=Jt(Fe,"script"),_e.length>0&&Ee(_e,!Me&&Jt(j,"script")),Fe},cleanData:function(j){for(var U,re,le,me=d.event.special,ve=0;(re=j[ve])!==void 0;ve++)if(rt(re)){if(U=re[Ue.expando]){if(U.events)for(le in U.events)me[le]?d.event.remove(re,le):d.removeEvent(re,le,U.handle);re[Ue.expando]=void 0}re[G.expando]&&(re[G.expando]=void 0)}}}),d.fn.extend({detach:function(j){return $t(this,j,!0)},remove:function(j){return $t(this,j)},text:function(j){return de(this,function(U){return U===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=U)})},null,j,arguments.length)},append:function(){return Lt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=xe(this,j);U.appendChild(j)}})},prepend:function(){return Lt(this,arguments,function(j){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var U=xe(this,j);U.insertBefore(j,U.firstChild)}})},before:function(){return Lt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this)})},after:function(){return Lt(this,arguments,function(j){this.parentNode&&this.parentNode.insertBefore(j,this.nextSibling)})},empty:function(){for(var j,U=0;(j=this[U])!=null;U++)j.nodeType===1&&(d.cleanData(Jt(j,!1)),j.textContent="");return this},clone:function(j,U){return j=j??!1,U=U??j,this.map(function(){return d.clone(this,j,U)})},html:function(j){return de(this,function(U){var re=this[0]||{},le=0,me=this.length;if(U===void 0&&re.nodeType===1)return re.innerHTML;if(typeof U=="string"&&!ue.test(U)&&!Dt[(sn.exec(U)||["",""])[1].toLowerCase()]){U=d.htmlPrefilter(U);try{for(;le<me;le++)re=this[le]||{},re.nodeType===1&&(d.cleanData(Jt(re,!1)),re.innerHTML=U);re=0}catch{}}re&&this.empty().append(U)},null,j,arguments.length)},replaceWith:function(){var j=[];return Lt(this,arguments,function(U){var re=this.parentNode;d.inArray(this,j)<0&&(d.cleanData(Jt(this)),re&&re.replaceChild(U,this))},j)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(j,U){d.fn[j]=function(re){for(var le,me=[],ve=d(re),_e=ve.length-1,Fe=0;Fe<=_e;Fe++)le=Fe===_e?this:this.clone(!0),d(ve[Fe])[U](le),a.apply(me,le.get());return this.pushStack(me)}});var Nt=new RegExp("^("+Se+")(?!px)[a-z%]+$","i"),Ht=/^--/,yt=function(j){var U=j.ownerDocument.defaultView;return(!U||!U.opener)&&(U=t),U.getComputedStyle(j)},zt=function(j,U,re){var le,me,ve={};for(me in U)ve[me]=j.style[me],j.style[me]=U[me];le=re.call(j);for(me in U)j.style[me]=ve[me];return le},xt=new RegExp(ke.join("|"),"i");(function(){function j(){if(Ke){Me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ke.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Be.appendChild(Me).appendChild(Ke);var it=t.getComputedStyle(Ke);re=it.top!=="1%",Fe=U(it.marginLeft)===12,Ke.style.right="60%",ve=U(it.right)===36,le=U(it.width)===36,Ke.style.position="absolute",me=U(Ke.offsetWidth/3)===12,Be.removeChild(Me),Ke=null}}function U(it){return Math.round(parseFloat(it))}var re,le,me,ve,_e,Fe,Me=p.createElement("div"),Ke=p.createElement("div");Ke.style&&(Ke.style.backgroundClip="content-box",Ke.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=Ke.style.backgroundClip==="content-box",d.extend(m,{boxSizingReliable:function(){return j(),le},pixelBoxStyles:function(){return j(),ve},pixelPosition:function(){return j(),re},reliableMarginLeft:function(){return j(),Fe},scrollboxSize:function(){return j(),me},reliableTrDimensions:function(){var it,lt,Qe,bt;return _e==null&&(it=p.createElement("table"),lt=p.createElement("tr"),Qe=p.createElement("div"),it.style.cssText="position:absolute;left:-11111px;border-collapse:separate",lt.style.cssText="box-sizing:content-box;border:1px solid",lt.style.height="1px",Qe.style.height="9px",Qe.style.display="block",Be.appendChild(it).appendChild(lt).appendChild(Qe),bt=t.getComputedStyle(lt),_e=parseInt(bt.height,10)+parseInt(bt.borderTopWidth,10)+parseInt(bt.borderBottomWidth,10)===lt.offsetHeight,Be.removeChild(it)),_e}}))})();function kt(j,U,re){var le,me,ve,_e,Fe=Ht.test(U),Me=j.style;return re=re||yt(j),re&&(_e=re.getPropertyValue(U)||re[U],Fe&&_e&&(_e=_e.replace(X,"$1")||void 0),_e===""&&!st(j)&&(_e=d.style(j,U)),!m.pixelBoxStyles()&&Nt.test(_e)&&xt.test(U)&&(le=Me.width,me=Me.minWidth,ve=Me.maxWidth,Me.minWidth=Me.maxWidth=Me.width=_e,_e=re.width,Me.width=le,Me.minWidth=me,Me.maxWidth=ve)),_e!==void 0?_e+"":_e}function en(j,U){return{get:function(){if(j()){delete this.get;return}return(this.get=U).apply(this,arguments)}}}var jr=["Webkit","Moz","ms"],Vr=p.createElement("div").style,mn={};function Wn(j){for(var U=j[0].toUpperCase()+j.slice(1),re=jr.length;re--;)if(j=jr[re]+U,j in Vr)return j}function kr(j){var U=d.cssProps[j]||mn[j];return U||(j in Vr?j:mn[j]=Wn(j)||j)}var Qr=/^(none|table(?!-c[ea]).+)/,Zn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:"0",fontWeight:"400"};function pi(j,U,re){var le=De.exec(U);return le?Math.max(0,le[2]-(re||0))+(le[3]||"px"):U}function us(j,U,re,le,me,ve){var _e=U==="width"?1:0,Fe=0,Me=0,Ke=0;if(re===(le?"border":"content"))return 0;for(;_e<4;_e+=2)re==="margin"&&(Ke+=d.css(j,re+ke[_e],!0,me)),le?(re==="content"&&(Me-=d.css(j,"padding"+ke[_e],!0,me)),re!=="margin"&&(Me-=d.css(j,"border"+ke[_e]+"Width",!0,me))):(Me+=d.css(j,"padding"+ke[_e],!0,me),re!=="padding"?Me+=d.css(j,"border"+ke[_e]+"Width",!0,me):Fe+=d.css(j,"border"+ke[_e]+"Width",!0,me));return!le&&ve>=0&&(Me+=Math.max(0,Math.ceil(j["offset"+U[0].toUpperCase()+U.slice(1)]-ve-Me-Fe-.5))||0),Me+Ke}function cs(j,U,re){var le=yt(j),me=!m.boxSizingReliable()||re,ve=me&&d.css(j,"boxSizing",!1,le)==="border-box",_e=ve,Fe=kt(j,U,le),Me="offset"+U[0].toUpperCase()+U.slice(1);if(Nt.test(Fe)){if(!re)return Fe;Fe="auto"}return(!m.boxSizingReliable()&&ve||!m.reliableTrDimensions()&&A(j,"tr")||Fe==="auto"||!parseFloat(Fe)&&d.css(j,"display",!1,le)==="inline")&&j.getClientRects().length&&(ve=d.css(j,"boxSizing",!1,le)==="border-box",_e=Me in j,_e&&(Fe=j[Me])),Fe=parseFloat(Fe)||0,Fe+us(j,U,re||(ve?"border":"content"),_e,le,Fe)+"px"}d.extend({cssHooks:{opacity:{get:function(j,U){if(U){var re=kt(j,"opacity");return re===""?"1":re}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(j,U,re,le){if(!(!j||j.nodeType===3||j.nodeType===8||!j.style)){var me,ve,_e,Fe=Ce(U),Me=Ht.test(U),Ke=j.style;if(Me||(U=kr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],re!==void 0){if(ve=typeof re,ve==="string"&&(me=De.exec(re))&&me[1]&&(re=Ct(j,U,me),ve="number"),re==null||re!==re)return;ve==="number"&&!Me&&(re+=me&&me[3]||(d.cssNumber[Fe]?"":"px")),!m.clearCloneStyle&&re===""&&U.indexOf("background")===0&&(Ke[U]="inherit"),(!_e||!("set"in _e)||(re=_e.set(j,re,le))!==void 0)&&(Me?Ke.setProperty(U,re):Ke[U]=re)}else return _e&&"get"in _e&&(me=_e.get(j,!1,le))!==void 0?me:Ke[U]}},css:function(j,U,re,le){var me,ve,_e,Fe=Ce(U),Me=Ht.test(U);return Me||(U=kr(Fe)),_e=d.cssHooks[U]||d.cssHooks[Fe],_e&&"get"in _e&&(me=_e.get(j,!0,re)),me===void 0&&(me=kt(j,U,le)),me==="normal"&&U in gn&&(me=gn[U]),re===""||re?(ve=parseFloat(me),re===!0||isFinite(ve)?ve||0:me):me}}),d.each(["height","width"],function(j,U){d.cssHooks[U]={get:function(re,le,me){if(le)return Qr.test(d.css(re,"display"))&&(!re.getClientRects().length||!re.getBoundingClientRect().width)?zt(re,Zn,function(){return cs(re,U,me)}):cs(re,U,me)},set:function(re,le,me){var ve,_e=yt(re),Fe=!m.scrollboxSize()&&_e.position==="absolute",Me=Fe||me,Ke=Me&&d.css(re,"boxSizing",!1,_e)==="border-box",it=me?us(re,U,me,Ke,_e):0;return Ke&&Fe&&(it-=Math.ceil(re["offset"+U[0].toUpperCase()+U.slice(1)]-parseFloat(_e[U])-us(re,U,"border",!1,_e)-.5)),it&&(ve=De.exec(le))&&(ve[3]||"px")!=="px"&&(re.style[U]=le,le=d.css(re,U)),pi(re,le,it)}}}),d.cssHooks.marginLeft=en(m.reliableMarginLeft,function(j,U){if(U)return(parseFloat(kt(j,"marginLeft"))||j.getBoundingClientRect().left-zt(j,{marginLeft:0},function(){return j.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(j,U){d.cssHooks[j+U]={expand:function(re){for(var le=0,me={},ve=typeof re=="string"?re.split(" "):[re];le<4;le++)me[j+ke[le]+U]=ve[le]||ve[le-2]||ve[0];return me}},j!=="margin"&&(d.cssHooks[j+U].set=pi)}),d.fn.extend({css:function(j,U){return de(this,function(re,le,me){var ve,_e,Fe={},Me=0;if(Array.isArray(le)){for(ve=yt(re),_e=le.length;Me<_e;Me++)Fe[le[Me]]=d.css(re,le[Me],!1,ve);return Fe}return me!==void 0?d.style(re,le,me):d.css(re,le)},j,U,arguments.length>1)}});function Cr(j,U,re,le,me){return new Cr.prototype.init(j,U,re,le,me)}d.Tween=Cr,Cr.prototype={constructor:Cr,init:function(j,U,re,le,me,ve){this.elem=j,this.prop=re,this.easing=me||d.easing._default,this.options=U,this.start=this.now=this.cur(),this.end=le,this.unit=ve||(d.cssNumber[re]?"":"px")},cur:function(){var j=Cr.propHooks[this.prop];return j&&j.get?j.get(this):Cr.propHooks._default.get(this)},run:function(j){var U,re=Cr.propHooks[this.prop];return this.options.duration?this.pos=U=d.easing[this.easing](j,this.options.duration*j,0,1,this.options.duration):this.pos=U=j,this.now=(this.end-this.start)*U+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),re&&re.set?re.set(this):Cr.propHooks._default.set(this),this}},Cr.prototype.init.prototype=Cr.prototype,Cr.propHooks={_default:{get:function(j){var U;return j.elem.nodeType!==1||j.elem[j.prop]!=null&&j.elem.style[j.prop]==null?j.elem[j.prop]:(U=d.css(j.elem,j.prop,""),!U||U==="auto"?0:U)},set:function(j){d.fx.step[j.prop]?d.fx.step[j.prop](j):j.elem.nodeType===1&&(d.cssHooks[j.prop]||j.elem.style[kr(j.prop)]!=null)?d.style(j.elem,j.prop,j.now+j.unit):j.elem[j.prop]=j.now}}},Cr.propHooks.scrollTop=Cr.propHooks.scrollLeft={set:function(j){j.elem.nodeType&&j.elem.parentNode&&(j.elem[j.prop]=j.now)}},d.easing={linear:function(j){return j},swing:function(j){return .5-Math.cos(j*Math.PI)/2},_default:"swing"},d.fx=Cr.prototype.init,d.fx.step={};var En,mi,$a=/^(?:toggle|show|hide)$/,fs=/queueHooks$/;function Un(){mi&&(p.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Un):t.setTimeout(Un,d.fx.interval),d.fx.tick())}function $c(){return t.setTimeout(function(){En=void 0}),En=Date.now()}function cl(j,U){var re,le=0,me={height:j};for(U=U?1:0;le<4;le+=2-U)re=ke[le],me["margin"+re]=me["padding"+re]=j;return U&&(me.opacity=me.width=j),me}function tv(j,U,re){for(var le,me=(Lo.tweeners[U]||[]).concat(Lo.tweeners["*"]),ve=0,_e=me.length;ve<_e;ve++)if(le=me[ve].call(re,U,j))return le}function dS(j,U,re){var le,me,ve,_e,Fe,Me,Ke,it,lt="width"in U||"height"in U,Qe=this,bt={},qt=j.style,gr=j.nodeType&&ut(j),Yt=Ue.get(j,"fxshow");re.queue||(_e=d._queueHooks(j,"fx"),_e.unqueued==null&&(_e.unqueued=0,Fe=_e.empty.fire,_e.empty.fire=function(){_e.unqueued||Fe()}),_e.unqueued++,Qe.always(function(){Qe.always(function(){_e.unqueued--,d.queue(j,"fx").length||_e.empty.fire()})}));for(le in U)if(me=U[le],$a.test(me)){if(delete U[le],ve=ve||me==="toggle",me===(gr?"hide":"show"))if(me==="show"&&Yt&&Yt[le]!==void 0)gr=!0;else continue;bt[le]=Yt&&Yt[le]||d.style(j,le)}if(Me=!d.isEmptyObject(U),!(!Me&&d.isEmptyObject(bt))){lt&&j.nodeType===1&&(re.overflow=[qt.overflow,qt.overflowX,qt.overflowY],Ke=Yt&&Yt.display,Ke==null&&(Ke=Ue.get(j,"display")),it=d.css(j,"display"),it==="none"&&(Ke?it=Ke:(or([j],!0),Ke=j.style.display||Ke,it=d.css(j,"display"),or([j]))),(it==="inline"||it==="inline-block"&&Ke!=null)&&d.css(j,"float")==="none"&&(Me||(Qe.done(function(){qt.display=Ke}),Ke==null&&(it=qt.display,Ke=it==="none"?"":it)),qt.display="inline-block")),re.overflow&&(qt.overflow="hidden",Qe.always(function(){qt.overflow=re.overflow[0],qt.overflowX=re.overflow[1],qt.overflowY=re.overflow[2]})),Me=!1;for(le in bt)Me||(Yt?"hidden"in Yt&&(gr=Yt.hidden):Yt=Ue.access(j,"fxshow",{display:Ke}),ve&&(Yt.hidden=!gr),gr&&or([j],!0),Qe.done(function(){gr||or([j]),Ue.remove(j,"fxshow");for(le in bt)d.style(j,le,bt[le])})),Me=tv(gr?Yt[le]:0,le,Qe),le in Yt||(Yt[le]=Me.start,gr&&(Me.end=Me.start,Me.start=0))}}function hS(j,U){var re,le,me,ve,_e;for(re in j)if(le=Ce(re),me=U[le],ve=j[re],Array.isArray(ve)&&(me=ve[1],ve=j[re]=ve[0]),re!==le&&(j[le]=ve,delete j[re]),_e=d.cssHooks[le],_e&&"expand"in _e){ve=_e.expand(ve),delete j[le];for(re in ve)re in j||(j[re]=ve[re],U[re]=me)}else U[le]=me}function Lo(j,U,re){var le,me,ve=0,_e=Lo.prefilters.length,Fe=d.Deferred().always(function(){delete Me.elem}),Me=function(){if(me)return!1;for(var lt=En||$c(),Qe=Math.max(0,Ke.startTime+Ke.duration-lt),bt=Qe/Ke.duration||0,qt=1-bt,gr=0,Yt=Ke.tweens.length;gr<Yt;gr++)Ke.tweens[gr].run(qt);return Fe.notifyWith(j,[Ke,qt,Qe]),qt<1&&Yt?Qe:(Yt||Fe.notifyWith(j,[Ke,1,0]),Fe.resolveWith(j,[Ke]),!1)},Ke=Fe.promise({elem:j,props:d.extend({},U),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},re),originalProperties:U,originalOptions:re,startTime:En||$c(),duration:re.duration,tweens:[],createTween:function(lt,Qe){var bt=d.Tween(j,Ke.opts,lt,Qe,Ke.opts.specialEasing[lt]||Ke.opts.easing);return Ke.tweens.push(bt),bt},stop:function(lt){var Qe=0,bt=lt?Ke.tweens.length:0;if(me)return this;for(me=!0;Qe<bt;Qe++)Ke.tweens[Qe].run(1);return lt?(Fe.notifyWith(j,[Ke,1,0]),Fe.resolveWith(j,[Ke,lt])):Fe.rejectWith(j,[Ke,lt]),this}}),it=Ke.props;for(hS(it,Ke.opts.specialEasing);ve<_e;ve++)if(le=Lo.prefilters[ve].call(Ke,j,it,Ke.opts),le)return _(le.stop)&&(d._queueHooks(Ke.elem,Ke.opts.queue).stop=le.stop.bind(le)),le;return d.map(it,tv,Ke),_(Ke.opts.start)&&Ke.opts.start.call(j,Ke),Ke.progress(Ke.opts.progress).done(Ke.opts.done,Ke.opts.complete).fail(Ke.opts.fail).always(Ke.opts.always),d.fx.timer(d.extend(Me,{elem:j,anim:Ke,queue:Ke.opts.queue})),Ke}d.Animation=d.extend(Lo,{tweeners:{"*":[function(j,U){var re=this.createTween(j,U);return Ct(re.elem,j,De.exec(U),re),re}]},tweener:function(j,U){_(j)?(U=j,j=["*"]):j=j.match(be);for(var re,le=0,me=j.length;le<me;le++)re=j[le],Lo.tweeners[re]=Lo.tweeners[re]||[],Lo.tweeners[re].unshift(U)},prefilters:[dS],prefilter:function(j,U){U?Lo.prefilters.unshift(j):Lo.prefilters.push(j)}}),d.speed=function(j,U,re){var le=j&&typeof j=="object"?d.extend({},j):{complete:re||!re&&U||_(j)&&j,duration:j,easing:re&&U||U&&!_(U)&&U};return d.fx.off?le.duration=0:typeof le.duration!="number"&&(le.duration in d.fx.speeds?le.duration=d.fx.speeds[le.duration]:le.duration=d.fx.speeds._default),(le.queue==null||le.queue===!0)&&(le.queue="fx"),le.old=le.complete,le.complete=function(){_(le.old)&&le.old.call(this),le.queue&&d.dequeue(this,le.queue)},le},d.fn.extend({fadeTo:function(j,U,re,le){return this.filter(ut).css("opacity",0).show().end().animate({opacity:U},j,re,le)},animate:function(j,U,re,le){var me=d.isEmptyObject(j),ve=d.speed(U,re,le),_e=function(){var Fe=Lo(this,d.extend({},j),ve);(me||Ue.get(this,"finish"))&&Fe.stop(!0)};return _e.finish=_e,me||ve.queue===!1?this.each(_e):this.queue(ve.queue,_e)},stop:function(j,U,re){var le=function(me){var ve=me.stop;delete me.stop,ve(re)};return typeof j!="string"&&(re=U,U=j,j=void 0),U&&this.queue(j||"fx",[]),this.each(function(){var me=!0,ve=j!=null&&j+"queueHooks",_e=d.timers,Fe=Ue.get(this);if(ve)Fe[ve]&&Fe[ve].stop&&le(Fe[ve]);else for(ve in Fe)Fe[ve]&&Fe[ve].stop&&fs.test(ve)&&le(Fe[ve]);for(ve=_e.length;ve--;)_e[ve].elem===this&&(j==null||_e[ve].queue===j)&&(_e[ve].anim.stop(re),me=!1,_e.splice(ve,1));(me||!re)&&d.dequeue(this,j)})},finish:function(j){return j!==!1&&(j=j||"fx"),this.each(function(){var U,re=Ue.get(this),le=re[j+"queue"],me=re[j+"queueHooks"],ve=d.timers,_e=le?le.length:0;for(re.finish=!0,d.queue(this,j,[]),me&&me.stop&&me.stop.call(this,!0),U=ve.length;U--;)ve[U].elem===this&&ve[U].queue===j&&(ve[U].anim.stop(!0),ve.splice(U,1));for(U=0;U<_e;U++)le[U]&&le[U].finish&&le[U].finish.call(this);delete re.finish})}}),d.each(["toggle","show","hide"],function(j,U){var re=d.fn[U];d.fn[U]=function(le,me,ve){return le==null||typeof le=="boolean"?re.apply(this,arguments):this.animate(cl(U,!0),le,me,ve)}}),d.each({slideDown:cl("show"),slideUp:cl("hide"),slideToggle:cl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(j,U){d.fn[j]=function(re,le,me){return this.animate(U,re,le,me)}}),d.timers=[],d.fx.tick=function(){var j,U=0,re=d.timers;for(En=Date.now();U<re.length;U++)j=re[U],!j()&&re[U]===j&&re.splice(U--,1);re.length||d.fx.stop(),En=void 0},d.fx.timer=function(j){d.timers.push(j),d.fx.start()},d.fx.interval=13,d.fx.start=function(){mi||(mi=!0,Un())},d.fx.stop=function(){mi=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(j,U){return j=d.fx&&d.fx.speeds[j]||j,U=U||"fx",this.queue(U,function(re,le){var me=t.setTimeout(re,j);le.stop=function(){t.clearTimeout(me)}})},function(){var j=p.createElement("input"),U=p.createElement("select"),re=U.appendChild(p.createElement("option"));j.type="checkbox",m.checkOn=j.value!=="",m.optSelected=re.selected,j=p.createElement("input"),j.value="t",j.type="radio",m.radioValue=j.value==="t"}();var rv,Zl=d.expr.attrHandle;d.fn.extend({attr:function(j,U){return de(this,d.attr,j,U,arguments.length>1)},removeAttr:function(j){return this.each(function(){d.removeAttr(this,j)})}}),d.extend({attr:function(j,U,re){var le,me,ve=j.nodeType;if(!(ve===3||ve===8||ve===2)){if(typeof j.getAttribute>"u")return d.prop(j,U,re);if((ve!==1||!d.isXMLDoc(j))&&(me=d.attrHooks[U.toLowerCase()]||(d.expr.match.bool.test(U)?rv:void 0)),re!==void 0){if(re===null){d.removeAttr(j,U);return}return me&&"set"in me&&(le=me.set(j,re,U))!==void 0?le:(j.setAttribute(U,re+""),re)}return me&&"get"in me&&(le=me.get(j,U))!==null?le:(le=d.find.attr(j,U),le??void 0)}},attrHooks:{type:{set:function(j,U){if(!m.radioValue&&U==="radio"&&A(j,"input")){var re=j.value;return j.setAttribute("type",U),re&&(j.value=re),U}}}},removeAttr:function(j,U){var re,le=0,me=U&&U.match(be);if(me&&j.nodeType===1)for(;re=me[le++];)j.removeAttribute(re)}}),rv={set:function(j,U,re){return U===!1?d.removeAttr(j,re):j.setAttribute(re,re),re}},d.each(d.expr.match.bool.source.match(/\w+/g),function(j,U){var re=Zl[U]||d.find.attr;Zl[U]=function(le,me,ve){var _e,Fe,Me=me.toLowerCase();return ve||(Fe=Zl[Me],Zl[Me]=_e,_e=re(le,me,ve)!=null?Me:null,Zl[Me]=Fe),_e}});var Ta=/^(?:input|select|textarea|button)$/i,nv=/^(?:a|area)$/i;d.fn.extend({prop:function(j,U){return de(this,d.prop,j,U,arguments.length>1)},removeProp:function(j){return this.each(function(){delete this[d.propFix[j]||j]})}}),d.extend({prop:function(j,U,re){var le,me,ve=j.nodeType;if(!(ve===3||ve===8||ve===2))return(ve!==1||!d.isXMLDoc(j))&&(U=d.propFix[U]||U,me=d.propHooks[U]),re!==void 0?me&&"set"in me&&(le=me.set(j,re,U))!==void 0?le:j[U]=re:me&&"get"in me&&(le=me.get(j,U))!==null?le:j[U]},propHooks:{tabIndex:{get:function(j){var U=d.find.attr(j,"tabindex");return U?parseInt(U,10):Ta.test(j.nodeName)||nv.test(j.nodeName)&&j.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(d.propHooks.selected={get:function(j){var U=j.parentNode;return U&&U.parentNode&&U.parentNode.selectedIndex,null},set:function(j){var U=j.parentNode;U&&(U.selectedIndex,U.parentNode&&U.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function xa(j){var U=j.match(be)||[];return U.join(" ")}function fo(j){return j.getAttribute&&j.getAttribute("class")||""}function Aa(j){return Array.isArray(j)?j:typeof j=="string"?j.match(be)||[]:[]}d.fn.extend({addClass:function(j){var U,re,le,me,ve,_e;return _(j)?this.each(function(Fe){d(this).addClass(j.call(this,Fe,fo(this)))}):(U=Aa(j),U.length?this.each(function(){if(le=fo(this),re=this.nodeType===1&&" "+xa(le)+" ",re){for(ve=0;ve<U.length;ve++)me=U[ve],re.indexOf(" "+me+" ")<0&&(re+=me+" ");_e=xa(re),le!==_e&&this.setAttribute("class",_e)}}):this)},removeClass:function(j){var U,re,le,me,ve,_e;return _(j)?this.each(function(Fe){d(this).removeClass(j.call(this,Fe,fo(this)))}):arguments.length?(U=Aa(j),U.length?this.each(function(){if(le=fo(this),re=this.nodeType===1&&" "+xa(le)+" ",re){for(ve=0;ve<U.length;ve++)for(me=U[ve];re.indexOf(" "+me+" ")>-1;)re=re.replace(" "+me+" "," ");_e=xa(re),le!==_e&&this.setAttribute("class",_e)}}):this):this.attr("class","")},toggleClass:function(j,U){var re,le,me,ve,_e=typeof j,Fe=_e==="string"||Array.isArray(j);return _(j)?this.each(function(Me){d(this).toggleClass(j.call(this,Me,fo(this),U),U)}):typeof U=="boolean"&&Fe?U?this.addClass(j):this.removeClass(j):(re=Aa(j),this.each(function(){if(Fe)for(ve=d(this),me=0;me<re.length;me++)le=re[me],ve.hasClass(le)?ve.removeClass(le):ve.addClass(le);else(j===void 0||_e==="boolean")&&(le=fo(this),le&&Ue.set(this,"__className__",le),this.setAttribute&&this.setAttribute("class",le||j===!1?"":Ue.get(this,"__className__")||""))}))},hasClass:function(j){var U,re,le=0;for(U=" "+j+" ";re=this[le++];)if(re.nodeType===1&&(" "+xa(fo(re))+" ").indexOf(U)>-1)return!0;return!1}});var ed=/\r/g;d.fn.extend({val:function(j){var U,re,le,me=this[0];return arguments.length?(le=_(j),this.each(function(ve){var _e;this.nodeType===1&&(le?_e=j.call(this,ve,d(this).val()):_e=j,_e==null?_e="":typeof _e=="number"?_e+="":Array.isArray(_e)&&(_e=d.map(_e,function(Fe){return Fe==null?"":Fe+""})),U=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!U||!("set"in U)||U.set(this,_e,"value")===void 0)&&(this.value=_e))})):me?(U=d.valHooks[me.type]||d.valHooks[me.nodeName.toLowerCase()],U&&"get"in U&&(re=U.get(me,"value"))!==void 0?re:(re=me.value,typeof re=="string"?re.replace(ed,""):re??"")):void 0}}),d.extend({valHooks:{option:{get:function(j){var U=d.find.attr(j,"value");return U??xa(d.text(j))}},select:{get:function(j){var U,re,le,me=j.options,ve=j.selectedIndex,_e=j.type==="select-one",Fe=_e?null:[],Me=_e?ve+1:me.length;for(ve<0?le=Me:le=_e?ve:0;le<Me;le++)if(re=me[le],(re.selected||le===ve)&&!re.disabled&&(!re.parentNode.disabled||!A(re.parentNode,"optgroup"))){if(U=d(re).val(),_e)return U;Fe.push(U)}return Fe},set:function(j,U){for(var re,le,me=j.options,ve=d.makeArray(U),_e=me.length;_e--;)le=me[_e],(le.selected=d.inArray(d.valHooks.option.get(le),ve)>-1)&&(re=!0);return re||(j.selectedIndex=-1),ve}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(j,U){if(Array.isArray(U))return j.checked=d.inArray(d(j).val(),U)>-1}},m.checkOn||(d.valHooks[this].get=function(j){return j.getAttribute("value")===null?"on":j.value})});var eu=t.location,td={guid:Date.now()},Tc=/\?/;d.parseXML=function(j){var U,re;if(!j||typeof j!="string")return null;try{U=new t.DOMParser().parseFromString(j,"text/xml")}catch{}return re=U&&U.getElementsByTagName("parsererror")[0],(!U||re)&&d.error("Invalid XML: "+(re?d.map(re.childNodes,function(le){return le.textContent}).join(`
`):j)),U};var rd=/^(?:focusinfocus|focusoutblur)$/,Fo=function(j){j.stopPropagation()};d.extend(d.event,{trigger:function(j,U,re,le){var me,ve,_e,Fe,Me,Ke,it,lt,Qe=[re||p],bt=c.call(j,"type")?j.type:j,qt=c.call(j,"namespace")?j.namespace.split("."):[];if(ve=lt=_e=re=re||p,!(re.nodeType===3||re.nodeType===8)&&!rd.test(bt+d.event.triggered)&&(bt.indexOf(".")>-1&&(qt=bt.split("."),bt=qt.shift(),qt.sort()),Me=bt.indexOf(":")<0&&"on"+bt,j=j[d.expando]?j:new d.Event(bt,typeof j=="object"&&j),j.isTrigger=le?2:3,j.namespace=qt.join("."),j.rnamespace=j.namespace?new RegExp("(^|\\.)"+qt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j.result=void 0,j.target||(j.target=re),U=U==null?[j]:d.makeArray(U,[j]),it=d.event.special[bt]||{},!(!le&&it.trigger&&it.trigger.apply(re,U)===!1))){if(!le&&!it.noBubble&&!v(re)){for(Fe=it.delegateType||bt,rd.test(Fe+bt)||(ve=ve.parentNode);ve;ve=ve.parentNode)Qe.push(ve),_e=ve;_e===(re.ownerDocument||p)&&Qe.push(_e.defaultView||_e.parentWindow||t)}for(me=0;(ve=Qe[me++])&&!j.isPropagationStopped();)lt=ve,j.type=me>1?Fe:it.bindType||bt,Ke=(Ue.get(ve,"events")||Object.create(null))[j.type]&&Ue.get(ve,"handle"),Ke&&Ke.apply(ve,U),Ke=Me&&ve[Me],Ke&&Ke.apply&&rt(ve)&&(j.result=Ke.apply(ve,U),j.result===!1&&j.preventDefault());return j.type=bt,!le&&!j.isDefaultPrevented()&&(!it._default||it._default.apply(Qe.pop(),U)===!1)&&rt(re)&&Me&&_(re[bt])&&!v(re)&&(_e=re[Me],_e&&(re[Me]=null),d.event.triggered=bt,j.isPropagationStopped()&&lt.addEventListener(bt,Fo),re[bt](),j.isPropagationStopped()&&lt.removeEventListener(bt,Fo),d.event.triggered=void 0,_e&&(re[Me]=_e)),j.result}},simulate:function(j,U,re){var le=d.extend(new d.Event,re,{type:j,isSimulated:!0});d.event.trigger(le,null,U)}}),d.fn.extend({trigger:function(j,U){return this.each(function(){d.event.trigger(j,U,this)})},triggerHandler:function(j,U){var re=this[0];if(re)return d.event.trigger(j,U,re,!0)}});var nd=/\[\]$/,id=/\r?\n/g,Ws=/^(?:submit|button|image|reset|file)$/i,fl=/^(?:input|select|textarea|keygen)/i;function od(j,U,re,le){var me;if(Array.isArray(U))d.each(U,function(ve,_e){re||nd.test(j)?le(j,_e):od(j+"["+(typeof _e=="object"&&_e!=null?ve:"")+"]",_e,re,le)});else if(!re&&S(U)==="object")for(me in U)od(j+"["+me+"]",U[me],re,le);else le(j,U)}d.param=function(j,U){var re,le=[],me=function(ve,_e){var Fe=_(_e)?_e():_e;le[le.length]=encodeURIComponent(ve)+"="+encodeURIComponent(Fe??"")};if(j==null)return"";if(Array.isArray(j)||j.jquery&&!d.isPlainObject(j))d.each(j,function(){me(this.name,this.value)});else for(re in j)od(re,j[re],U,me);return le.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var j=d.prop(this,"elements");return j?d.makeArray(j):this}).filter(function(){var j=this.type;return this.name&&!d(this).is(":disabled")&&fl.test(this.nodeName)&&!Ws.test(j)&&(this.checked||!ur.test(j))}).map(function(j,U){var re=d(this).val();return re==null?null:Array.isArray(re)?d.map(re,function(le){return{name:U.name,value:le.replace(id,`\r
`)}}):{name:U.name,value:re.replace(id,`\r
`)}}).get()}});var pS=/%20/g,iv=/#.*$/,ov=/([?&])_=[^&]*/,sv=/^(.*?):[ \t]*([^\r\n]*)$/mg,av=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tu=/^(?:GET|HEAD)$/,op=/^\/\//,sp={},ru={},ap="*/".concat("*"),nu=p.createElement("a");nu.href=eu.href;function iu(j){return function(U,re){typeof U!="string"&&(re=U,U="*");var le,me=0,ve=U.toLowerCase().match(be)||[];if(_(re))for(;le=ve[me++];)le[0]==="+"?(le=le.slice(1)||"*",(j[le]=j[le]||[]).unshift(re)):(j[le]=j[le]||[]).push(re)}}function sd(j,U,re,le){var me={},ve=j===ru;function _e(Fe){var Me;return me[Fe]=!0,d.each(j[Fe]||[],function(Ke,it){var lt=it(U,re,le);if(typeof lt=="string"&&!ve&&!me[lt])return U.dataTypes.unshift(lt),_e(lt),!1;if(ve)return!(Me=lt)}),Me}return _e(U.dataTypes[0])||!me["*"]&&_e("*")}function ad(j,U){var re,le,me=d.ajaxSettings.flatOptions||{};for(re in U)U[re]!==void 0&&((me[re]?j:le||(le={}))[re]=U[re]);return le&&d.extend(!0,j,le),j}function ld(j,U,re){for(var le,me,ve,_e,Fe=j.contents,Me=j.dataTypes;Me[0]==="*";)Me.shift(),le===void 0&&(le=j.mimeType||U.getResponseHeader("Content-Type"));if(le){for(me in Fe)if(Fe[me]&&Fe[me].test(le)){Me.unshift(me);break}}if(Me[0]in re)ve=Me[0];else{for(me in re){if(!Me[0]||j.converters[me+" "+Me[0]]){ve=me;break}_e||(_e=me)}ve=ve||_e}if(ve)return ve!==Me[0]&&Me.unshift(ve),re[ve]}function lp(j,U,re,le){var me,ve,_e,Fe,Me,Ke={},it=j.dataTypes.slice();if(it[1])for(_e in j.converters)Ke[_e.toLowerCase()]=j.converters[_e];for(ve=it.shift();ve;)if(j.responseFields[ve]&&(re[j.responseFields[ve]]=U),!Me&&le&&j.dataFilter&&(U=j.dataFilter(U,j.dataType)),Me=ve,ve=it.shift(),ve){if(ve==="*")ve=Me;else if(Me!=="*"&&Me!==ve){if(_e=Ke[Me+" "+ve]||Ke["* "+ve],!_e){for(me in Ke)if(Fe=me.split(" "),Fe[1]===ve&&(_e=Ke[Me+" "+Fe[0]]||Ke["* "+Fe[0]],_e)){_e===!0?_e=Ke[me]:Ke[me]!==!0&&(ve=Fe[0],it.unshift(Fe[1]));break}}if(_e!==!0)if(_e&&j.throws)U=_e(U);else try{U=_e(U)}catch(lt){return{state:"parsererror",error:_e?lt:"No conversion from "+Me+" to "+ve}}}}return{state:"success",data:U}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:eu.href,type:"GET",isLocal:av.test(eu.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ap,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(j,U){return U?ad(ad(j,d.ajaxSettings),U):ad(d.ajaxSettings,j)},ajaxPrefilter:iu(sp),ajaxTransport:iu(ru),ajax:function(j,U){typeof j=="object"&&(U=j,j=void 0),U=U||{};var re,le,me,ve,_e,Fe,Me,Ke,it,lt,Qe=d.ajaxSetup({},U),bt=Qe.context||Qe,qt=Qe.context&&(bt.nodeType||bt.jquery)?d(bt):d.event,gr=d.Deferred(),Yt=d.Callbacks("once memory"),Gn=Qe.statusCode||{},Sn={},ds={},hs="canceled",vr={readyState:0,getResponseHeader:function(xr){var $n;if(Me){if(!ve)for(ve={};$n=sv.exec(me);)ve[$n[1].toLowerCase()+" "]=(ve[$n[1].toLowerCase()+" "]||[]).concat($n[2]);$n=ve[xr.toLowerCase()+" "]}return $n==null?null:$n.join(", ")},getAllResponseHeaders:function(){return Me?me:null},setRequestHeader:function(xr,$n){return Me==null&&(xr=ds[xr.toLowerCase()]=ds[xr.toLowerCase()]||xr,Sn[xr]=$n),this},overrideMimeType:function(xr){return Me==null&&(Qe.mimeType=xr),this},statusCode:function(xr){var $n;if(xr)if(Me)vr.always(xr[vr.status]);else for($n in xr)Gn[$n]=[Gn[$n],xr[$n]];return this},abort:function(xr){var $n=xr||hs;return re&&re.abort($n),hl(0,$n),this}};if(gr.promise(vr),Qe.url=((j||Qe.url||eu.href)+"").replace(op,eu.protocol+"//"),Qe.type=U.method||U.type||Qe.method||Qe.type,Qe.dataTypes=(Qe.dataType||"*").toLowerCase().match(be)||[""],Qe.crossDomain==null){Fe=p.createElement("a");try{Fe.href=Qe.url,Fe.href=Fe.href,Qe.crossDomain=nu.protocol+"//"+nu.host!=Fe.protocol+"//"+Fe.host}catch{Qe.crossDomain=!0}}if(Qe.data&&Qe.processData&&typeof Qe.data!="string"&&(Qe.data=d.param(Qe.data,Qe.traditional)),sd(sp,Qe,U,vr),Me)return vr;Ke=d.event&&Qe.global,Ke&&d.active++===0&&d.event.trigger("ajaxStart"),Qe.type=Qe.type.toUpperCase(),Qe.hasContent=!tu.test(Qe.type),le=Qe.url.replace(iv,""),Qe.hasContent?Qe.data&&Qe.processData&&(Qe.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Qe.data=Qe.data.replace(pS,"+")):(lt=Qe.url.slice(le.length),Qe.data&&(Qe.processData||typeof Qe.data=="string")&&(le+=(Tc.test(le)?"&":"?")+Qe.data,delete Qe.data),Qe.cache===!1&&(le=le.replace(ov,"$1"),lt=(Tc.test(le)?"&":"?")+"_="+td.guid+++lt),Qe.url=le+lt),Qe.ifModified&&(d.lastModified[le]&&vr.setRequestHeader("If-Modified-Since",d.lastModified[le]),d.etag[le]&&vr.setRequestHeader("If-None-Match",d.etag[le])),(Qe.data&&Qe.hasContent&&Qe.contentType!==!1||U.contentType)&&vr.setRequestHeader("Content-Type",Qe.contentType),vr.setRequestHeader("Accept",Qe.dataTypes[0]&&Qe.accepts[Qe.dataTypes[0]]?Qe.accepts[Qe.dataTypes[0]]+(Qe.dataTypes[0]!=="*"?", "+ap+"; q=0.01":""):Qe.accepts["*"]);for(it in Qe.headers)vr.setRequestHeader(it,Qe.headers[it]);if(Qe.beforeSend&&(Qe.beforeSend.call(bt,vr,Qe)===!1||Me))return vr.abort();if(hs="abort",Yt.add(Qe.complete),vr.done(Qe.success),vr.fail(Qe.error),re=sd(ru,Qe,U,vr),!re)hl(-1,"No Transport");else{if(vr.readyState=1,Ke&&qt.trigger("ajaxSend",[vr,Qe]),Me)return vr;Qe.async&&Qe.timeout>0&&(_e=t.setTimeout(function(){vr.abort("timeout")},Qe.timeout));try{Me=!1,re.send(Sn,hl)}catch(xr){if(Me)throw xr;hl(-1,xr)}}function hl(xr,$n,ou,Kn){var Ni,su,ho,gi,vi,Tn=$n;Me||(Me=!0,_e&&t.clearTimeout(_e),re=void 0,me=Kn||"",vr.readyState=xr>0?4:0,Ni=xr>=200&&xr<300||xr===304,ou&&(gi=ld(Qe,vr,ou)),!Ni&&d.inArray("script",Qe.dataTypes)>-1&&d.inArray("json",Qe.dataTypes)<0&&(Qe.converters["text script"]=function(){}),gi=lp(Qe,gi,vr,Ni),Ni?(Qe.ifModified&&(vi=vr.getResponseHeader("Last-Modified"),vi&&(d.lastModified[le]=vi),vi=vr.getResponseHeader("etag"),vi&&(d.etag[le]=vi)),xr===204||Qe.type==="HEAD"?Tn="nocontent":xr===304?Tn="notmodified":(Tn=gi.state,su=gi.data,ho=gi.error,Ni=!ho)):(ho=Tn,(xr||!Tn)&&(Tn="error",xr<0&&(xr=0))),vr.status=xr,vr.statusText=($n||Tn)+"",Ni?gr.resolveWith(bt,[su,Tn,vr]):gr.rejectWith(bt,[vr,Tn,ho]),vr.statusCode(Gn),Gn=void 0,Ke&&qt.trigger(Ni?"ajaxSuccess":"ajaxError",[vr,Qe,Ni?su:ho]),Yt.fireWith(bt,[vr,Tn]),Ke&&(qt.trigger("ajaxComplete",[vr,Qe]),--d.active||d.event.trigger("ajaxStop")))}return vr},getJSON:function(j,U,re){return d.get(j,U,re,"json")},getScript:function(j,U){return d.get(j,void 0,U,"script")}}),d.each(["get","post"],function(j,U){d[U]=function(re,le,me,ve){return _(le)&&(ve=ve||me,me=le,le=void 0),d.ajax(d.extend({url:re,type:U,dataType:ve,data:le,success:me},d.isPlainObject(re)&&re))}}),d.ajaxPrefilter(function(j){var U;for(U in j.headers)U.toLowerCase()==="content-type"&&(j.contentType=j.headers[U]||"")}),d._evalUrl=function(j,U,re){return d.ajax({url:j,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(le){d.globalEval(le,U,re)}})},d.fn.extend({wrapAll:function(j){var U;return this[0]&&(_(j)&&(j=j.call(this[0])),U=d(j,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&U.insertBefore(this[0]),U.map(function(){for(var re=this;re.firstElementChild;)re=re.firstElementChild;return re}).append(this)),this},wrapInner:function(j){return _(j)?this.each(function(U){d(this).wrapInner(j.call(this,U))}):this.each(function(){var U=d(this),re=U.contents();re.length?re.wrapAll(j):U.append(j)})},wrap:function(j){var U=_(j);return this.each(function(re){d(this).wrapAll(U?j.call(this,re):j)})},unwrap:function(j){return this.parent(j).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(j){return!d.expr.pseudos.visible(j)},d.expr.pseudos.visible=function(j){return!!(j.offsetWidth||j.offsetHeight||j.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var dl={0:200,1223:204},Gs=d.ajaxSettings.xhr();m.cors=!!Gs&&"withCredentials"in Gs,m.ajax=Gs=!!Gs,d.ajaxTransport(function(j){var U,re;if(m.cors||Gs&&!j.crossDomain)return{send:function(le,me){var ve,_e=j.xhr();if(_e.open(j.type,j.url,j.async,j.username,j.password),j.xhrFields)for(ve in j.xhrFields)_e[ve]=j.xhrFields[ve];j.mimeType&&_e.overrideMimeType&&_e.overrideMimeType(j.mimeType),!j.crossDomain&&!le["X-Requested-With"]&&(le["X-Requested-With"]="XMLHttpRequest");for(ve in le)_e.setRequestHeader(ve,le[ve]);U=function(Fe){return function(){U&&(U=re=_e.onload=_e.onerror=_e.onabort=_e.ontimeout=_e.onreadystatechange=null,Fe==="abort"?_e.abort():Fe==="error"?typeof _e.status!="number"?me(0,"error"):me(_e.status,_e.statusText):me(dl[_e.status]||_e.status,_e.statusText,(_e.responseType||"text")!=="text"||typeof _e.responseText!="string"?{binary:_e.response}:{text:_e.responseText},_e.getAllResponseHeaders()))}},_e.onload=U(),re=_e.onerror=_e.ontimeout=U("error"),_e.onabort!==void 0?_e.onabort=re:_e.onreadystatechange=function(){_e.readyState===4&&t.setTimeout(function(){U&&re()})},U=U("abort");try{_e.send(j.hasContent&&j.data||null)}catch(Fe){if(U)throw Fe}},abort:function(){U&&U()}}}),d.ajaxPrefilter(function(j){j.crossDomain&&(j.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(j){return d.globalEval(j),j}}}),d.ajaxPrefilter("script",function(j){j.cache===void 0&&(j.cache=!1),j.crossDomain&&(j.type="GET")}),d.ajaxTransport("script",function(j){if(j.crossDomain||j.scriptAttrs){var U,re;return{send:function(le,me){U=d("<script>").attr(j.scriptAttrs||{}).prop({charset:j.scriptCharset,src:j.url}).on("load error",re=function(ve){U.remove(),re=null,ve&&me(ve.type==="error"?404:200,ve.type)}),p.head.appendChild(U[0])},abort:function(){re&&re()}}}});var xc=[],ud=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var j=xc.pop()||d.expando+"_"+td.guid++;return this[j]=!0,j}}),d.ajaxPrefilter("json jsonp",function(j,U,re){var le,me,ve,_e=j.jsonp!==!1&&(ud.test(j.url)?"url":typeof j.data=="string"&&(j.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ud.test(j.data)&&"data");if(_e||j.dataTypes[0]==="jsonp")return le=j.jsonpCallback=_(j.jsonpCallback)?j.jsonpCallback():j.jsonpCallback,_e?j[_e]=j[_e].replace(ud,"$1"+le):j.jsonp!==!1&&(j.url+=(Tc.test(j.url)?"&":"?")+j.jsonp+"="+le),j.converters["script json"]=function(){return ve||d.error(le+" was not called"),ve[0]},j.dataTypes[0]="json",me=t[le],t[le]=function(){ve=arguments},re.always(function(){me===void 0?d(t).removeProp(le):t[le]=me,j[le]&&(j.jsonpCallback=U.jsonpCallback,xc.push(le)),ve&&_(me)&&me(ve[0]),ve=me=void 0}),"script"}),m.createHTMLDocument=function(){var j=p.implementation.createHTMLDocument("").body;return j.innerHTML="<form></form><form></form>",j.childNodes.length===2}(),d.parseHTML=function(j,U,re){if(typeof j!="string")return[];typeof U=="boolean"&&(re=U,U=!1);var le,me,ve;return U||(m.createHTMLDocument?(U=p.implementation.createHTMLDocument(""),le=U.createElement("base"),le.href=p.location.href,U.head.appendChild(le)):U=p),me=W.exec(j),ve=!re&&[],me?[U.createElement(me[1])]:(me=ct([j],U,ve),ve&&ve.length&&d(ve).remove(),d.merge([],me.childNodes))},d.fn.load=function(j,U,re){var le,me,ve,_e=this,Fe=j.indexOf(" ");return Fe>-1&&(le=xa(j.slice(Fe)),j=j.slice(0,Fe)),_(U)?(re=U,U=void 0):U&&typeof U=="object"&&(me="POST"),_e.length>0&&d.ajax({url:j,type:me||"GET",dataType:"html",data:U}).done(function(Me){ve=arguments,_e.html(le?d("<div>").append(d.parseHTML(Me)).find(le):Me)}).always(re&&function(Me,Ke){_e.each(function(){re.apply(this,ve||[Me.responseText,Ke,Me])})}),this},d.expr.pseudos.animated=function(j){return d.grep(d.timers,function(U){return j===U.elem}).length},d.offset={setOffset:function(j,U,re){var le,me,ve,_e,Fe,Me,Ke,it=d.css(j,"position"),lt=d(j),Qe={};it==="static"&&(j.style.position="relative"),Fe=lt.offset(),ve=d.css(j,"top"),Me=d.css(j,"left"),Ke=(it==="absolute"||it==="fixed")&&(ve+Me).indexOf("auto")>-1,Ke?(le=lt.position(),_e=le.top,me=le.left):(_e=parseFloat(ve)||0,me=parseFloat(Me)||0),_(U)&&(U=U.call(j,re,d.extend({},Fe))),U.top!=null&&(Qe.top=U.top-Fe.top+_e),U.left!=null&&(Qe.left=U.left-Fe.left+me),"using"in U?U.using.call(j,Qe):lt.css(Qe)}},d.fn.extend({offset:function(j){if(arguments.length)return j===void 0?this:this.each(function(me){d.offset.setOffset(this,j,me)});var U,re,le=this[0];if(le)return le.getClientRects().length?(U=le.getBoundingClientRect(),re=le.ownerDocument.defaultView,{top:U.top+re.pageYOffset,left:U.left+re.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var j,U,re,le=this[0],me={top:0,left:0};if(d.css(le,"position")==="fixed")U=le.getBoundingClientRect();else{for(U=this.offset(),re=le.ownerDocument,j=le.offsetParent||re.documentElement;j&&(j===re.body||j===re.documentElement)&&d.css(j,"position")==="static";)j=j.parentNode;j&&j!==le&&j.nodeType===1&&(me=d(j).offset(),me.top+=d.css(j,"borderTopWidth",!0),me.left+=d.css(j,"borderLeftWidth",!0))}return{top:U.top-me.top-d.css(le,"marginTop",!0),left:U.left-me.left-d.css(le,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var j=this.offsetParent;j&&d.css(j,"position")==="static";)j=j.offsetParent;return j||Be})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(j,U){var re=U==="pageYOffset";d.fn[j]=function(le){return de(this,function(me,ve,_e){var Fe;if(v(me)?Fe=me:me.nodeType===9&&(Fe=me.defaultView),_e===void 0)return Fe?Fe[U]:me[ve];Fe?Fe.scrollTo(re?Fe.pageXOffset:_e,re?_e:Fe.pageYOffset):me[ve]=_e},j,le,arguments.length)}}),d.each(["top","left"],function(j,U){d.cssHooks[U]=en(m.pixelPosition,function(re,le){if(le)return le=kt(re,U),Nt.test(le)?d(re).position()[U]+"px":le})}),d.each({Height:"height",Width:"width"},function(j,U){d.each({padding:"inner"+j,content:U,"":"outer"+j},function(re,le){d.fn[le]=function(me,ve){var _e=arguments.length&&(re||typeof me!="boolean"),Fe=re||(me===!0||ve===!0?"margin":"border");return de(this,function(Me,Ke,it){var lt;return v(Me)?le.indexOf("outer")===0?Me["inner"+j]:Me.document.documentElement["client"+j]:Me.nodeType===9?(lt=Me.documentElement,Math.max(Me.body["scroll"+j],lt["scroll"+j],Me.body["offset"+j],lt["offset"+j],lt["client"+j])):it===void 0?d.css(Me,Ke,Fe):d.style(Me,Ke,it,Fe)},U,_e?me:void 0,_e)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(j,U){d.fn[U]=function(re){return this.on(U,re)}}),d.fn.extend({bind:function(j,U,re){return this.on(j,null,U,re)},unbind:function(j,U){return this.off(j,null,U)},delegate:function(j,U,re,le){return this.on(U,j,re,le)},undelegate:function(j,U,re){return arguments.length===1?this.off(j,"**"):this.off(U,j||"**",re)},hover:function(j,U){return this.on("mouseenter",j).on("mouseleave",U||j)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(j,U){d.fn[U]=function(re,le){return arguments.length>0?this.on(U,null,re,le):this.trigger(U)}});var up=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(j,U){var re,le,me;if(typeof U=="string"&&(re=j[U],U=j,j=re),!!_(j))return le=o.call(arguments,2),me=function(){return j.apply(U||this,le.concat(o.call(arguments)))},me.guid=j.guid=j.guid||d.guid++,me},d.holdReady=function(j){j?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=A,d.isFunction=_,d.isWindow=v,d.camelCase=Ce,d.type=S,d.now=Date.now,d.isNumeric=function(j){var U=d.type(j);return(U==="number"||U==="string")&&!isNaN(j-parseFloat(j))},d.trim=function(j){return j==null?"":(j+"").replace(up,"$1")};var lv=t.jQuery,cd=t.$;return d.noConflict=function(j){return t.$===d&&(t.$=cd),j&&t.jQuery===d&&(t.jQuery=lv),d},typeof r>"u"&&(t.jQuery=t.$=d),d})})(bH);var _H=bH.exports;const Lr=Gl(_H);(function(e){(function(t){var r=typeof self=="object"&&self.self===self&&self||typeof js=="object"&&js.global===js&&js;{var n=dae,i;try{i=_H}catch{}t(r,e,n,i)}})(function(t,r,n,i){var o=t.Backbone,s=Array.prototype.slice;r.VERSION="1.4.1",r.$=i,r.noConflict=function(){return t.Backbone=o,this},r.emulateHTTP=!1,r.emulateJSON=!1;var a=r.Events={},l=/\s+/,u,f=function(M,K,se,ce,de){var pe=0,Ae;if(se&&typeof se=="object")for(ce!==void 0&&("context"in de)&&de.context===void 0&&(de.context=ce),Ae=n.keys(se);pe<Ae.length;pe++)K=f(M,K,Ae[pe],se[Ae[pe]],de);else if(se&&l.test(se))for(Ae=se.split(l);pe<Ae.length;pe++)K=M(K,Ae[pe],ce,de);else K=M(K,se,ce,de);return K};a.on=function(M,K,se){if(this._events=f(c,this._events||{},M,K,{context:se,ctx:this,listening:u}),u){var ce=this._listeners||(this._listeners={});ce[u.id]=u,u.interop=!1}return this},a.listenTo=function(M,K,se){if(!M)return this;var ce=M._listenId||(M._listenId=n.uniqueId("l")),de=this._listeningTo||(this._listeningTo={}),pe=u=de[ce];pe||(this._listenId||(this._listenId=n.uniqueId("l")),pe=u=de[ce]=new p(this,M));var Ae=h(M,K,se,this);if(u=void 0,Ae)throw Ae;return pe.interop&&pe.on(K,se),this};var c=function(M,K,se,ce){if(se){var de=M[K]||(M[K]=[]),pe=ce.context,Ae=ce.ctx,Le=ce.listening;Le&&Le.count++,de.push({callback:se,context:pe,ctx:pe||Ae,listening:Le})}return M},h=function(M,K,se,ce){try{M.on(K,se,ce)}catch(de){return de}};a.off=function(M,K,se){return this._events?(this._events=f(g,this._events,M,K,{context:se,listeners:this._listeners}),this):this},a.stopListening=function(M,K,se){var ce=this._listeningTo;if(!ce)return this;for(var de=M?[M._listenId]:n.keys(ce),pe=0;pe<de.length;pe++){var Ae=ce[de[pe]];if(!Ae)break;Ae.obj.off(K,se,this),Ae.interop&&Ae.off(K,se)}return n.isEmpty(ce)&&(this._listeningTo=void 0),this};var g=function(M,K,se,ce){if(M){var de=ce.context,pe=ce.listeners,Ae=0,Le;if(!K&&!de&&!se){for(Le=n.keys(pe);Ae<Le.length;Ae++)pe[Le[Ae]].cleanup();return}for(Le=K?[K]:n.keys(M);Ae<Le.length;Ae++){K=Le[Ae];var Ce=M[K];if(!Ce)break;for(var rt=[],qe=0;qe<Ce.length;qe++){var Ue=Ce[qe];if(se&&se!==Ue.callback&&se!==Ue.callback._callback||de&&de!==Ue.context)rt.push(Ue);else{var G=Ue.listening;G&&G.off(K,se)}}rt.length?M[K]=rt:delete M[K]}return M}};a.once=function(M,K,se){var ce=f(m,{},M,K,this.off.bind(this));return typeof M=="string"&&se==null&&(K=void 0),this.on(ce,K,se)},a.listenToOnce=function(M,K,se){var ce=f(m,{},K,se,this.stopListening.bind(this,M));return this.listenTo(M,ce)};var m=function(M,K,se,ce){if(se){var de=M[K]=n.once(function(){ce(K,de),se.apply(this,arguments)});de._callback=se}return M};a.trigger=function(M){if(!this._events)return this;for(var K=Math.max(0,arguments.length-1),se=Array(K),ce=0;ce<K;ce++)se[ce]=arguments[ce+1];return f(_,this._events,M,void 0,se),this};var _=function(M,K,se,ce){if(M){var de=M[K],pe=M.all;de&&pe&&(pe=pe.slice()),de&&v(de,ce),pe&&v(pe,[K].concat(ce))}return M},v=function(M,K){var se,ce=-1,de=M.length,pe=K[0],Ae=K[1],Le=K[2];switch(K.length){case 0:for(;++ce<de;)(se=M[ce]).callback.call(se.ctx);return;case 1:for(;++ce<de;)(se=M[ce]).callback.call(se.ctx,pe);return;case 2:for(;++ce<de;)(se=M[ce]).callback.call(se.ctx,pe,Ae);return;case 3:for(;++ce<de;)(se=M[ce]).callback.call(se.ctx,pe,Ae,Le);return;default:for(;++ce<de;)(se=M[ce]).callback.apply(se.ctx,K);return}},p=function(M,K){this.id=M._listenId,this.listener=M,this.obj=K,this.interop=!0,this.count=0,this._events=void 0};p.prototype.on=a.on,p.prototype.off=function(M,K){var se;this.interop?(this._events=f(g,this._events,M,K,{context:void 0,listeners:void 0}),se=!this._events):(this.count--,se=this.count===0),se&&this.cleanup()},p.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(r,a);var E=r.Model=function(M,K){var se=M||{};K||(K={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},K.collection&&(this.collection=K.collection),K.parse&&(se=this.parse(se,K)||{});var ce=n.result(this,"defaults");se=n.defaults(n.extend({},ce,se),ce),this.set(se,K),this.changed={},this.initialize.apply(this,arguments)};n.extend(E.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(M){return n.clone(this.attributes)},sync:function(){return r.sync.apply(this,arguments)},get:function(M){return this.attributes[M]},escape:function(M){return n.escape(this.get(M))},has:function(M){return this.get(M)!=null},matches:function(M){return!!n.iteratee(M,this)(this.attributes)},set:function(M,K,se){if(M==null)return this;var ce;if(typeof M=="object"?(ce=M,se=K):(ce={})[M]=K,se||(se={}),!this._validate(ce,se))return!1;var de=se.unset,pe=se.silent,Ae=[],Le=this._changing;this._changing=!0,Le||(this._previousAttributes=n.clone(this.attributes),this.changed={});var Ce=this.attributes,rt=this.changed,qe=this._previousAttributes;for(var Ue in ce)K=ce[Ue],n.isEqual(Ce[Ue],K)||Ae.push(Ue),n.isEqual(qe[Ue],K)?delete rt[Ue]:rt[Ue]=K,de?delete Ce[Ue]:Ce[Ue]=K;if(this.idAttribute in ce){var G=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,G,se)}if(!pe){Ae.length&&(this._pending=se);for(var I=0;I<Ae.length;I++)this.trigger("change:"+Ae[I],this,Ce[Ae[I]],se)}if(Le)return this;if(!pe)for(;this._pending;)se=this._pending,this._pending=!1,this.trigger("change",this,se);return this._pending=!1,this._changing=!1,this},unset:function(M,K){return this.set(M,void 0,n.extend({},K,{unset:!0}))},clear:function(M){var K={};for(var se in this.attributes)K[se]=void 0;return this.set(K,n.extend({},M,{unset:!0}))},hasChanged:function(M){return M==null?!n.isEmpty(this.changed):n.has(this.changed,M)},changedAttributes:function(M){if(!M)return this.hasChanged()?n.clone(this.changed):!1;var K=this._changing?this._previousAttributes:this.attributes,se={},ce;for(var de in M){var pe=M[de];n.isEqual(K[de],pe)||(se[de]=pe,ce=!0)}return ce?se:!1},previous:function(M){return M==null||!this._previousAttributes?null:this._previousAttributes[M]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(M){M=n.extend({parse:!0},M);var K=this,se=M.success;return M.success=function(ce){var de=M.parse?K.parse(ce,M):ce;if(!K.set(de,M))return!1;se&&se.call(M.context,K,ce,M),K.trigger("sync",K,ce,M)},D(this,M),this.sync("read",this,M)},save:function(M,K,se){var ce;M==null||typeof M=="object"?(ce=M,se=K):(ce={})[M]=K,se=n.extend({validate:!0,parse:!0},se);var de=se.wait;if(ce&&!de){if(!this.set(ce,se))return!1}else if(!this._validate(ce,se))return!1;var pe=this,Ae=se.success,Le=this.attributes;se.success=function(qe){pe.attributes=Le;var Ue=se.parse?pe.parse(qe,se):qe;if(de&&(Ue=n.extend({},ce,Ue)),Ue&&!pe.set(Ue,se))return!1;Ae&&Ae.call(se.context,pe,qe,se),pe.trigger("sync",pe,qe,se)},D(this,se),ce&&de&&(this.attributes=n.extend({},Le,ce));var Ce=this.isNew()?"create":se.patch?"patch":"update";Ce==="patch"&&!se.attrs&&(se.attrs=ce);var rt=this.sync(Ce,this,se);return this.attributes=Le,rt},destroy:function(M){M=M?n.clone(M):{};var K=this,se=M.success,ce=M.wait,de=function(){K.stopListening(),K.trigger("destroy",K,K.collection,M)};M.success=function(Ae){ce&&de(),se&&se.call(M.context,K,Ae,M),K.isNew()||K.trigger("sync",K,Ae,M)};var pe=!1;return this.isNew()?n.defer(M.success):(D(this,M),pe=this.sync("delete",this,M)),ce||de(),pe},url:function(){var M=n.result(this,"urlRoot")||n.result(this.collection,"url")||N();if(this.isNew())return M;var K=this.get(this.idAttribute);return M.replace(/[^\/]$/,"$&/")+encodeURIComponent(K)},parse:function(M,K){return M},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(M){return this._validate({},n.extend({},M,{validate:!0}))},_validate:function(M,K){if(!K.validate||!this.validate)return!0;M=n.extend({},this.attributes,M);var se=this.validationError=this.validate(M,K)||null;return se?(this.trigger("invalid",this,se,n.extend(K,{validationError:se})),!1):!0}});var y=r.Collection=function(M,K){K||(K={}),this.preinitialize.apply(this,arguments),K.model&&(this.model=K.model),K.comparator!==void 0&&(this.comparator=K.comparator),this._reset(),this.initialize.apply(this,arguments),M&&this.reset(M,n.extend({silent:!0},K))},S={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},T=function(M,K,se){se=Math.min(Math.max(se,0),M.length);var ce=Array(M.length-se),de=K.length,pe;for(pe=0;pe<ce.length;pe++)ce[pe]=M[pe+se];for(pe=0;pe<de;pe++)M[pe+se]=K[pe];for(pe=0;pe<ce.length;pe++)M[pe+de+se]=ce[pe]};n.extend(y.prototype,a,{model:E,preinitialize:function(){},initialize:function(){},toJSON:function(M){return this.map(function(K){return K.toJSON(M)})},sync:function(){return r.sync.apply(this,arguments)},add:function(M,K){return this.set(M,n.extend({merge:!1},K,$))},remove:function(M,K){K=n.extend({},K);var se=!n.isArray(M);M=se?[M]:M.slice();var ce=this._removeModels(M,K);return!K.silent&&ce.length&&(K.changes={added:[],merged:[],removed:ce},this.trigger("update",this,K)),se?ce[0]:ce},set:function(M,K){if(M!=null){K=n.extend({},S,K),K.parse&&!this._isModel(M)&&(M=this.parse(M,K)||[]);var se=!n.isArray(M);M=se?[M]:M.slice();var ce=K.at;ce!=null&&(ce=+ce),ce>this.length&&(ce=this.length),ce<0&&(ce+=this.length+1);var de=[],pe=[],Ae=[],Le=[],Ce={},rt=K.add,qe=K.merge,Ue=K.remove,G=!1,I=this.comparator&&ce==null&&K.sort!==!1,L=n.isString(this.comparator)?this.comparator:null,ie,ye;for(ye=0;ye<M.length;ye++){ie=M[ye];var Se=this.get(ie);if(Se){if(qe&&ie!==Se){var De=this._isModel(ie)?ie.attributes:ie;K.parse&&(De=Se.parse(De,K)),Se.set(De,K),Ae.push(Se),I&&!G&&(G=Se.hasChanged(L))}Ce[Se.cid]||(Ce[Se.cid]=!0,de.push(Se)),M[ye]=Se}else rt&&(ie=M[ye]=this._prepareModel(ie,K),ie&&(pe.push(ie),this._addReference(ie,K),Ce[ie.cid]=!0,de.push(ie)))}if(Ue){for(ye=0;ye<this.length;ye++)ie=this.models[ye],Ce[ie.cid]||Le.push(ie);Le.length&&this._removeModels(Le,K)}var ke=!1,Be=!I&&rt&&Ue;if(de.length&&Be?(ke=this.length!==de.length||n.some(this.models,function(st,wt){return st!==de[wt]}),this.models.length=0,T(this.models,de,0),this.length=this.models.length):pe.length&&(I&&(G=!0),T(this.models,pe,ce??this.length),this.length=this.models.length),G&&this.sort({silent:!0}),!K.silent){for(ye=0;ye<pe.length;ye++)ce!=null&&(K.index=ce+ye),ie=pe[ye],ie.trigger("add",ie,this,K);(G||ke)&&this.trigger("sort",this,K),(pe.length||Le.length||Ae.length)&&(K.changes={added:pe,removed:Le,merged:Ae},this.trigger("update",this,K))}return se?M[0]:M}},reset:function(M,K){K=K?n.clone(K):{};for(var se=0;se<this.models.length;se++)this._removeReference(this.models[se],K);return K.previousModels=this.models,this._reset(),M=this.add(M,n.extend({silent:!0},K)),K.silent||this.trigger("reset",this,K),M},push:function(M,K){return this.add(M,n.extend({at:this.length},K))},pop:function(M){var K=this.at(this.length-1);return this.remove(K,M)},unshift:function(M,K){return this.add(M,n.extend({at:0},K))},shift:function(M){var K=this.at(0);return this.remove(K,M)},slice:function(){return s.apply(this.models,arguments)},get:function(M){if(M!=null)return this._byId[M]||this._byId[this.modelId(this._isModel(M)?M.attributes:M,M.idAttribute)]||M.cid&&this._byId[M.cid]},has:function(M){return this.get(M)!=null},at:function(M){return M<0&&(M+=this.length),this.models[M]},where:function(M,K){return this[K?"find":"filter"](M)},findWhere:function(M){return this.where(M,!0)},sort:function(M){var K=this.comparator;if(!K)throw new Error("Cannot sort a set without a comparator");M||(M={});var se=K.length;return n.isFunction(K)&&(K=K.bind(this)),se===1||n.isString(K)?this.models=this.sortBy(K):this.models.sort(K),M.silent||this.trigger("sort",this,M),this},pluck:function(M){return this.map(M+"")},fetch:function(M){M=n.extend({parse:!0},M);var K=M.success,se=this;return M.success=function(ce){var de=M.reset?"reset":"set";se[de](ce,M),K&&K.call(M.context,se,ce,M),se.trigger("sync",se,ce,M)},D(this,M),this.sync("read",this,M)},create:function(M,K){K=K?n.clone(K):{};var se=K.wait;if(M=this._prepareModel(M,K),!M)return!1;se||this.add(M,K);var ce=this,de=K.success;return K.success=function(pe,Ae,Le){se&&ce.add(pe,Le),de&&de.call(Le.context,pe,Ae,Le)},M.save(null,K),M},parse:function(M,K){return M},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(M,K){return M[K||this.model.prototype.idAttribute||"id"]},values:function(){return new x(this,A)},keys:function(){return new x(this,O)},entries:function(){return new x(this,C)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(M,K){if(this._isModel(M))return M.collection||(M.collection=this),M;K=K?n.clone(K):{},K.collection=this;var se;return this.model.prototype?se=new this.model(M,K):se=this.model(M,K),se.validationError?(this.trigger("invalid",this,se.validationError,K),!1):se},_removeModels:function(M,K){for(var se=[],ce=0;ce<M.length;ce++){var de=this.get(M[ce]);if(de){var pe=this.indexOf(de);this.models.splice(pe,1),this.length--,delete this._byId[de.cid];var Ae=this.modelId(de.attributes,de.idAttribute);Ae!=null&&delete this._byId[Ae],K.silent||(K.index=pe,de.trigger("remove",de,this,K)),se.push(de),this._removeReference(de,K)}}return se},_isModel:function(M){return M instanceof E},_addReference:function(M,K){this._byId[M.cid]=M;var se=this.modelId(M.attributes,M.idAttribute);se!=null&&(this._byId[se]=M),M.on("all",this._onModelEvent,this)},_removeReference:function(M,K){delete this._byId[M.cid];var se=this.modelId(M.attributes,M.idAttribute);se!=null&&delete this._byId[se],this===M.collection&&delete M.collection,M.off("all",this._onModelEvent,this)},_onModelEvent:function(M,K,se,ce){if(K){if((M==="add"||M==="remove")&&se!==this)return;if(M==="destroy"&&this.remove(K,ce),M==="changeId"){var de=this.modelId(K.previousAttributes(),K.idAttribute),pe=this.modelId(K.attributes,K.idAttribute);de!=null&&delete this._byId[de],pe!=null&&(this._byId[pe]=K)}}this.trigger.apply(this,arguments)}});var d=typeof Symbol=="function"&&Symbol.iterator;d&&(y.prototype[d]=y.prototype.values);var x=function(M,K){this._collection=M,this._kind=K,this._index=0},A=1,O=2,C=3;d&&(x.prototype[d]=function(){return this}),x.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var M=this._collection.at(this._index);this._index++;var K;if(this._kind===A)K=M;else{var se=this._collection.modelId(M.attributes,M.idAttribute);this._kind===O?K=se:K=[se,M]}return{value:K,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var F=r.View=function(M){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(M,X)),this._ensureElement(),this.initialize.apply(this,arguments)},V=/^(\S+)\s*(.*)$/,X=["model","collection","el","id","attributes","className","tagName","events"];n.extend(F.prototype,a,{tagName:"div",$:function(M){return this.$el.find(M)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(M){return this.undelegateEvents(),this._setElement(M),this.delegateEvents(),this},_setElement:function(M){this.$el=M instanceof r.$?M:r.$(M),this.el=this.$el[0]},delegateEvents:function(M){if(M||(M=n.result(this,"events")),!M)return this;this.undelegateEvents();for(var K in M){var se=M[K];if(n.isFunction(se)||(se=this[se]),!!se){var ce=K.match(V);this.delegate(ce[1],ce[2],se.bind(this))}}return this},delegate:function(M,K,se){return this.$el.on(M+".delegateEvents"+this.cid,K,se),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(M,K,se){return this.$el.off(M+".delegateEvents"+this.cid,K,se),this},_createElement:function(M){return document.createElement(M)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var M=n.extend({},n.result(this,"attributes"));this.id&&(M.id=n.result(this,"id")),this.className&&(M.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(M)}},_setAttributes:function(M){this.$el.attr(M)}});var H=function(M,K,se,ce){switch(K){case 1:return function(){return M[se](this[ce])};case 2:return function(de){return M[se](this[ce],de)};case 3:return function(de,pe){return M[se](this[ce],fe(de,this),pe)};case 4:return function(de,pe,Ae){return M[se](this[ce],fe(de,this),pe,Ae)};default:return function(){var de=s.call(arguments);return de.unshift(this[ce]),M[se].apply(M,de)}}},Z=function(M,K,se,ce){n.each(se,function(de,pe){K[pe]&&(M.prototype[pe]=H(K,de,pe,ce))})},fe=function(M,K){return n.isFunction(M)?M:n.isObject(M)&&!K._isModel(M)?ee(M):n.isString(M)?function(se){return se.get(M)}:M},ee=function(M){var K=n.matches(M);return function(se){return K(se.attributes)}},ne={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},k={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,ne,"models"],[E,k,"attributes"]],function(M){var K=M[0],se=M[1],ce=M[2];K.mixin=function(de){var pe=n.reduce(n.functions(de),function(Ae,Le){return Ae[Le]=0,Ae},{});Z(K,de,pe,ce)},Z(K,n,se,ce)}),r.sync=function(M,K,se){var ce=B[M];n.defaults(se||(se={}),{emulateHTTP:r.emulateHTTP,emulateJSON:r.emulateJSON});var de={type:ce,dataType:"json"};if(se.url||(de.url=n.result(K,"url")||N()),se.data==null&&K&&(M==="create"||M==="update"||M==="patch")&&(de.contentType="application/json",de.data=JSON.stringify(se.attrs||K.toJSON(se))),se.emulateJSON&&(de.contentType="application/x-www-form-urlencoded",de.data=de.data?{model:de.data}:{}),se.emulateHTTP&&(ce==="PUT"||ce==="DELETE"||ce==="PATCH")){de.type="POST",se.emulateJSON&&(de.data._method=ce);var pe=se.beforeSend;se.beforeSend=function(Ce){if(Ce.setRequestHeader("X-HTTP-Method-Override",ce),pe)return pe.apply(this,arguments)}}de.type!=="GET"&&!se.emulateJSON&&(de.processData=!1);var Ae=se.error;se.error=function(Ce,rt,qe){se.textStatus=rt,se.errorThrown=qe,Ae&&Ae.call(se.context,Ce,rt,qe)};var Le=se.xhr=r.ajax(n.extend(de,se));return K.trigger("request",K,Le,se),Le};var B={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};r.ajax=function(){return r.$.ajax.apply(r.$,arguments)};var W=r.Router=function(M){M||(M={}),this.preinitialize.apply(this,arguments),M.routes&&(this.routes=M.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,R=/(\(\?)?:\w+/g,z=/\*\w+/g,oe=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(W.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(M,K,se){n.isRegExp(M)||(M=this._routeToRegExp(M)),n.isFunction(K)&&(se=K,K=""),se||(se=this[K]);var ce=this;return r.history.route(M,function(de){var pe=ce._extractParameters(M,de);ce.execute(se,pe,K)!==!1&&(ce.trigger.apply(ce,["route:"+K].concat(pe)),ce.trigger("route",K,pe),r.history.trigger("route",ce,K,pe))}),this},execute:function(M,K,se){M&&M.apply(this,K)},navigate:function(M,K){return r.history.navigate(M,K),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var M,K=n.keys(this.routes);(M=K.pop())!=null;)this.route(M,this.routes[M])}},_routeToRegExp:function(M){return M=M.replace(oe,"\\$&").replace(P,"(?:$1)?").replace(R,function(K,se){return se?K:"([^/?]+)"}).replace(z,"([^?]*?)"),new RegExp("^"+M+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(M,K){var se=M.exec(K).slice(1);return n.map(se,function(ce,de){return de===se.length-1?ce||null:ce?decodeURIComponent(ce):null})}});var J=r.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Y=/^[#\/]|\s+$/g,ae=/^\/+|\/+$/g,be=/#.*$/;J.started=!1,n.extend(J.prototype,a,{interval:50,atRoot:function(){var M=this.location.pathname.replace(/[^\/]$/,"$&/");return M===this.root&&!this.getSearch()},matchRoot:function(){var M=this.decodeFragment(this.location.pathname),K=M.slice(0,this.root.length-1)+"/";return K===this.root},decodeFragment:function(M){return decodeURI(M.replace(/%25/g,"%2525"))},getSearch:function(){var M=this.location.href.replace(/#.*/,"").match(/\?.+/);return M?M[0]:""},getHash:function(M){var K=(M||this).location.href.match(/#(.*)$/);return K?K[1]:""},getPath:function(){var M=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return M.charAt(0)==="/"?M.slice(1):M},getFragment:function(M){return M==null&&(this._usePushState||!this._wantsHashChange?M=this.getPath():M=this.getHash()),M.replace(Y,"")},start:function(M){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=n.extend({root:"/"},this.options,M),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ae,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var K=this.root.slice(0,-1)||"/";return this.location.replace(K+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var se=document.body,ce=se.insertBefore(this.iframe,se.firstChild).contentWindow;ce.document.open(),ce.document.close(),ce.location.hash="#"+this.fragment}var de=window.addEventListener||function(pe,Ae){return attachEvent("on"+pe,Ae)};if(this._usePushState?de("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?de("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var M=window.removeEventListener||function(K,se){return detachEvent("on"+K,se)};this._usePushState?M("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&M("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(M,K){this.handlers.unshift({route:M,callback:K})},checkUrl:function(M){var K=this.getFragment();if(K===this.fragment&&this.iframe&&(K=this.getHash(this.iframe.contentWindow)),K===this.fragment)return!1;this.iframe&&this.navigate(K),this.loadUrl()},loadUrl:function(M){return this.matchRoot()?(M=this.fragment=this.getFragment(M),n.some(this.handlers,function(K){if(K.route.test(M))return K.callback(M),!0})):!1},navigate:function(M,K){if(!J.started)return!1;(!K||K===!0)&&(K={trigger:!!K}),M=this.getFragment(M||"");var se=this.root;(M===""||M.charAt(0)==="?")&&(se=se.slice(0,-1)||"/");var ce=se+M;M=M.replace(be,"");var de=this.decodeFragment(M);if(this.fragment!==de){if(this.fragment=de,this._usePushState)this.history[K.replace?"replaceState":"pushState"]({},document.title,ce);else if(this._wantsHashChange){if(this._updateHash(this.location,M,K.replace),this.iframe&&M!==this.getHash(this.iframe.contentWindow)){var pe=this.iframe.contentWindow;K.replace||(pe.document.open(),pe.document.close()),this._updateHash(pe.location,M,K.replace)}}else return this.location.assign(ce);if(K.trigger)return this.loadUrl(M)}},_updateHash:function(M,K,se){if(se){var ce=M.href.replace(/(javascript:|#).*$/,"");M.replace(ce+"#"+K)}else M.hash="#"+K}}),r.history=new J;var Ie=function(M,K){var se=this,ce;return M&&n.has(M,"constructor")?ce=M.constructor:ce=function(){return se.apply(this,arguments)},n.extend(ce,se,K),ce.prototype=n.create(se.prototype,M),ce.prototype.constructor=ce,ce.__super__=se.prototype,ce};E.extend=y.extend=W.extend=F.extend=J.extend=Ie;var N=function(){throw new Error('A "url" property or function must be specified')},D=function(M,K){var se=K.error;K.error=function(ce){se&&se.call(K.context,M,ce,K),M.trigger("error",M,ce,K)}};return r})})(G8);const Fi=Gl(G8),at=function(){var e=typeof window=="object"&&!!window.SVGAngle;if(!e)return function(){throw new Error("SVG is required to use Vectorizer.")};var t={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},r="1.1",n=Math,i=n.PI,o=n.atan2,s=n.sqrt,a=n.min,l=n.max,u=n.cos,f=n.sin,c=function(d,x,A){if(!(this instanceof c))return c.apply(Object.create(c.prototype),arguments);if(d){if(c.isV(d)&&(d=d.node),x=x||{},c.isString(d)){if(d=d.trim(),d.toLowerCase()==="svg")d=c.createSvgDocument();else if(d[0]==="<"){var O=c.createSvgDocument(d);if(O.childNodes.length>1){var C=[],F,V;for(F=0,V=O.childNodes.length;F<V;F++){var X=O.childNodes[F];C.push(new c(document.importNode(X,!0)))}return C}d=document.importNode(O.firstChild,!0)}else d=document.createElementNS(t.svg,d);c.ensureId(d)}return this.node=d,this.setAttributes(x),A&&this.append(A),this}},h=c.prototype;Object.defineProperty(h,"id",{enumerable:!0,get:function(){return this.node.id},set:function(d){this.node.id=d}}),h.getTransformToElement=function(d){var x=this.node;if(c.isSVGGraphicsElement(d)&&c.isSVGGraphicsElement(x)){var A=c.toNode(d).getScreenCTM(),O=x.getScreenCTM();if(A&&O)return A.inverse().multiply(O)}return c.createSVGMatrix()},h.transform=function(d,x){var A=this.node;if(c.isUndefined(d))return c.transformStringToMatrix(this.attr("transform"));if(x&&x.absolute)return this.attr("transform",c.matrixToTransformString(d));var O=c.createSVGTransform(d);return A.transform.baseVal.appendItem(O),this},h.translate=function(d,x,A){A=A||{},x=x||0;var O=this.attr("transform")||"",C=c.parseTransformString(O);if(O=C.value,c.isUndefined(d))return C.translate;O=O.replace(/translate\([^)]*\)/g,"").trim();var F=A.absolute?d:C.translate.tx+d,V=A.absolute?x:C.translate.ty+x,X="translate("+F+","+V+")";return this.attr("transform",(X+" "+O).trim()),this},h.rotate=function(d,x,A,O){O=O||{};var C=this.attr("transform")||"",F=c.parseTransformString(C);if(C=F.value,c.isUndefined(d))return F.rotate;C=C.replace(/rotate\([^)]*\)/g,"").trim(),d%=360;var V=O.absolute?d:F.rotate.angle+d,X=x!==void 0&&A!==void 0?","+x+","+A:"",H="rotate("+V+X+")";return this.attr("transform",(C+" "+H).trim()),this},h.scale=function(d,x){x=c.isUndefined(x)?d:x;var A=this.attr("transform")||"",O=c.parseTransformString(A);if(A=O.value,c.isUndefined(d))return O.scale;A=A.replace(/scale\([^)]*\)/g,"").trim();var C="scale("+d+","+x+")";return this.attr("transform",(A+" "+C).trim()),this},h.bbox=function(d,x){var A,O=this.node,C=O.ownerSVGElement;if(!C)return new Pt(0,0,0,0);try{A=O.getBBox()}catch{A={x:O.clientLeft,y:O.clientTop,width:O.clientWidth,height:O.clientHeight}}if(d)return new Pt(A);var F=this.getTransformToElement(x||C);return c.transformRect(A,F)},h.getBBox=function(d){var x={},A,O=this.node,C=O.ownerSVGElement;if(!C||!c.isSVGGraphicsElement(O))return new Pt(0,0,0,0);if(d&&(d.target&&(x.target=c.toNode(d.target)),d.recursive&&(x.recursive=d.recursive)),x.recursive){var V=this.children(),X=V.length;if(X===0)return this.getBBox({target:x.target,recursive:!1});x.target||(x.target=this);for(var H=0;H<X;H++){var Z=V[H],fe;Z.children().length===0?fe=Z.getBBox({target:x.target,recursive:!1}):fe=Z.getBBox({target:x.target,recursive:!0}),A?A=A.union(fe):A=fe}return A}else{try{A=O.getBBox()}catch{A={x:O.clientLeft,y:O.clientTop,width:O.clientWidth,height:O.clientHeight}}if(x.target){var F=this.getTransformToElement(x.target);return c.transformRect(A,F)}else return new Pt(A)}};function g(d,x){d||(d={});var A=c("textPath"),O=d.d;if(O&&d["xlink:href"]===void 0){var C=c("path").attr("d",O).appendTo(x.defs());A.attr("xlink:href","#"+C.id)}return c.isObject(d)&&A.attr(d),A.node}function m(d,x,A){A||(A={});for(var O=A.includeAnnotationIndices,C=A.eol,F=A.lineHeight,V=A.baseSize,X=0,H={},Z=x.length-1,fe=0;fe<=Z;fe++){var ee=x[fe],ne=null;if(c.isObject(ee)){var k=ee.attrs,B=c("tspan",k),W=B.node,P=ee.t;C&&fe===Z&&(P+=C),W.textContent=P;var R=k.class;R&&B.addClass(R),O&&B.attr("annotations",ee.annotations),ne=parseFloat(k["font-size"]),isFinite(ne)||(ne=V),ne&&ne>X&&(X=ne)}else C&&fe===Z&&(ee+=C),W=document.createTextNode(ee||" "),V&&V>X&&(X=V);d.appendChild(W)}return X&&(H.maxFontSize=X),F?H.lineHeight=F:X&&(H.lineHeight=X*1.2),H}var _=/em$/;function v(d,x){var A=parseFloat(d);return _.test(d)?A*x:A}function p(d,x,A,O){if(!Array.isArray(x))return 0;var C=x.length;if(!C)return 0;for(var F=x[0],V=v(F.maxFontSize,A)||A,X=0,H=v(O,A),Z=1;Z<C;Z++){F=x[Z];var fe=v(F.lineHeight,A)||H;X+=fe}var ee=v(F.maxFontSize,A)||A,ne;switch(d){case"middle":ne=V/2-.15*ee-X/2;break;case"bottom":ne=-(.25*ee)-X;break;default:case"top":ne=.8*V;break}return ne}h.text=function(d,x){if(d&&typeof d!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");d=c.sanitizeText(d),x||(x={});var A=x.displayEmpty,O=x.eol,C=x.textPath,F=x.textVerticalAnchor,V=F==="middle"||F==="bottom"||F==="top",X=x.x;X===void 0&&(X=this.attr("x")||0);var H=x.includeAnnotationIndices,Z=x.annotations;Z&&!c.isArray(Z)&&(Z=[Z]);var fe=x.lineHeight,ee=fe==="auto",ne=ee?"1.5em":fe||"1em";this.empty(),this.attr({"xml:space":"preserve",display:d||A?null:"none"});var k=parseFloat(this.attr("font-size"));k||(k=16,(V||Z)&&this.attr("font-size",k));var B=document,W;C?(typeof C=="string"&&(C={d:C}),W=g(C,this)):W=B.createDocumentFragment();for(var P=0,R=d.split(`
`),z=[],oe,J=0,Y=R.length-1;J<=Y;J++){var ae=ne,be="v-line",Ie=B.createElementNS(t.svg,"tspan"),N=R[J],D;if(N)if(Z){var M=c.annotateString(N,Z,{offset:-P,includeAnnotationIndices:H});D=m(Ie,M,{includeAnnotationIndices:H,eol:J!==Y&&O,lineHeight:ee?null:ne,baseSize:k});var K=D.lineHeight;K&&ee&&J!==0&&(ae=K),J===0&&(oe=D.maxFontSize*.8)}else O&&J!==Y&&(N+=O),Ie.textContent=N;else{Ie.textContent="-",be+=" v-empty-line";var se=Ie.style;if(se.fillOpacity=0,se.strokeOpacity=0,Z){D={},M=c.findAnnotationsAtIndex(Z,P);let de=k;for(let pe=M.length;pe>0;pe--){const Ae=M[pe-1].attrs;if(!Ae||!("font-size"in Ae))continue;const Le=parseFloat(Ae["font-size"]);if(isFinite(Le)){de=Le;break}}ee&&(J>0?ae=de*1.2:oe=de*.8),Ie.setAttribute("font-size",de),D.maxFontSize=de}}D&&z.push(D),J>0&&Ie.setAttribute("dy",ae),(J>0||C)&&Ie.setAttribute("x",X),Ie.className.baseVal=be,W.appendChild(Ie),P+=N.length+1}if(V)if(Z)ae=p(F,z,k,ne);else if(F==="top")ae="0.8em";else{var ce;switch(Y>0?(ce=parseFloat(ne)||1,ce*=Y,_.test(ne)||(ce/=k)):ce=0,F){case"middle":ae=.3-ce/2+"em";break;case"bottom":ae=-ce-.3+"em";break}}else F===0?ae="0em":F?ae=F:(ae=0,this.attr("y")===null&&this.attr("y",oe||"0.8em"));return W.firstChild.setAttribute("dy",ae),this.append(W),this},h.removeAttr=function(d){const x=$[d],{ns:A,local:O}=c.qualifyAttr(x),C=this.node;return A?C.hasAttributeNS(A,O)&&C.removeAttributeNS(A,O):C.hasAttribute(x)&&C.removeAttribute(x),this},h.attr=function(d,x){if(c.isUndefined(d)){for(var A=this.node.attributes,O={},C=0;C<A.length;C++)O[A[C].name]=A[C].value;return O}if(c.isString(d)&&c.isUndefined(x))return this.node.getAttribute($[d]);if(typeof d=="object")for(var F in d)d.hasOwnProperty(F)&&this.setAttribute(F,d[F]);else this.setAttribute(d,x);return this},h.normalizePath=function(){var d=this.tagName();return d==="PATH"&&this.attr("d",c.normalizePathData(this.attr("d"))),this},h.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},h.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},h.setAttributes=function(d){for(var x in d)d.hasOwnProperty(x)&&this.setAttribute(x,d[x]);return this},h.append=function(d){c.isArray(d)||(d=[d]);for(var x=0,A=d.length;x<A;x++)this.node.appendChild(c.toNode(d[x]));return this},h.prepend=function(d){var x=this.node.firstChild;return x?c(x).before(d):this.append(d)},h.before=function(d){var x=this.node,A=x.parentNode;if(A){c.isArray(d)||(d=[d]);for(var O=0,C=d.length;O<C;O++)A.insertBefore(c.toNode(d[O]),x)}return this},h.appendTo=function(d){return c.toNode(d).appendChild(this.node),this},h.svg=function(){return this.node instanceof window.SVGSVGElement?this:c(this.node.ownerSVGElement)},h.tagName=function(){return this.node.tagName.toUpperCase()},h.defs=function(){var d=this.svg()||this,x=d.node.getElementsByTagName("defs")[0];return x?c(x):c("defs").appendTo(d)},h.clone=function(){var d=c(this.node.cloneNode(!0));return d.node.id=c.uniqueId(),d},h.findOne=function(d){var x=this.node.querySelector(d);return x?c(x):void 0},h.find=function(d){var x=[],A=this.node.querySelectorAll(d);if(A)for(var O=0;O<A.length;O++)x.push(c(A[O]));return x},h.children=function(){for(var d=this.node.childNodes,x=[],A=0;A<d.length;A++){var O=d[A];O.nodeType===1&&x.push(c(d[A]))}return x},h.parent=function(){return c(this.node.parentNode)||null},h.index=function(){for(var d=0,x=this.node.previousSibling;x;)x.nodeType===1&&d++,x=x.previousSibling;return d},h.findParentByClass=function(d,x){for(var A=this.node.ownerSVGElement,O=this.node.parentNode;O&&O!==x&&O!==A;){var C=c(O);if(C.hasClass(d))return C;O=O.parentNode}return null},h.contains=function(d){var x=this.node,A=c.toNode(d),O=A&&A.parentNode;return x===O||!!(O&&O.nodeType===1&&x.compareDocumentPosition(O)&16)},h.toLocalPoint=function(d,x){var A=this.svg().node,O=A.createSVGPoint();O.x=d,O.y=x;try{var C=O.matrixTransform(A.getScreenCTM().inverse()),F=this.getTransformToElement(A).inverse()}catch{return O}return C.matrixTransform(F)},h.translateCenterToPoint=function(d){var x=this.getBBox({target:this.svg()}),A=x.center();return this.translate(d.x-A.x,d.y-A.y),this},h.translateAndAutoOrient=function(d,x,A){d=new ze(d),x=new ze(x),A||(A=this.svg());var O=this.scale();this.attr("transform","");var C=this.getBBox({target:A}).scale(O.sx,O.sy),F=c.createSVGTransform();F.setTranslate(-C.x-C.width/2,-C.y-C.height/2);var V=c.createSVGTransform(),X=d.angleBetween(x,d.clone().offset(1,0));X&&V.setRotate(X,0,0);var H=c.createSVGTransform(),Z=d.clone().move(x,C.width/2);H.setTranslate(2*d.x-Z.x,2*d.y-Z.y);var fe=this.getTransformToElement(A),ee=c.createSVGTransform();return ee.setMatrix(H.matrix.multiply(V.matrix.multiply(F.matrix.multiply(fe.scale(O.sx,O.sy))))),this.attr("transform",c.matrixToTransformString(ee.matrix)),this},h.animateAlongPath=function(d,x){x=c.toNode(x);var A=c.ensureId(x),O=c("animateMotion",d),C=c("mpath",{"xlink:href":"#"+A});O.append(C),this.append(O);try{O.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var F=O.node;F.animators=[];var V=F.getAttribute("id");V&&(id2anim[V]=F);for(var X=getTargets(F),H=0,Z=X.length;H<Z;H++){var fe=X[H],ee=new Animator(F,fe,H);animators.push(ee),F.animators[H]=ee,ee.register()}}}return this};const E=/[^\x20\t\r\n\f]+/g;function y(d){return c.isString(d)?d.trim().match(E)||[]:[]}h.hasClass=function(d){return c.isString(d)?this.node.classList.contains(d.trim()):!1},h.addClass=function(d){return this.node.classList.add(...y(d)),this},h.removeClass=function(d){return this.node.classList.remove(...y(d)),this},h.toggleClass=function(d,x){const A=y(d);for(let O=0;O<A.length;O++)this.node.classList.toggle(A[O],x);return this},h.sample=function(d){d=d||1;for(var x=this.node,A=x.getTotalLength(),O=[],C=0,F;C<A;)F=x.getPointAtLength(C),O.push({x:F.x,y:F.y,distance:C}),C+=d;return O},h.convertToPath=function(){var d=c("path");d.attr(this.attr());var x=this.convertToPathData();return x&&d.attr("d",x),d},h.convertToPathData=function(){var d=this.tagName();switch(d){case"PATH":return this.attr("d");case"LINE":return c.convertLineToPathData(this.node);case"POLYGON":return c.convertPolygonToPathData(this.node);case"POLYLINE":return c.convertPolylineToPathData(this.node);case"ELLIPSE":return c.convertEllipseToPathData(this.node);case"CIRCLE":return c.convertCircleToPathData(this.node);case"RECT":return c.convertRectToPathData(this.node)}throw new Error(d+" cannot be converted to PATH.")},c.prototype.toGeometryShape=function(){var d,x,A,O,C,F,V,X,H,Z,fe,ee,ne,k,B;switch(this.tagName()){case"RECT":return d=parseFloat(this.attr("x"))||0,x=parseFloat(this.attr("y"))||0,A=parseFloat(this.attr("width"))||0,O=parseFloat(this.attr("height"))||0,new Pt(d,x,A,O);case"CIRCLE":return C=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,V=parseFloat(this.attr("r"))||0,new ro({x:C,y:F},V,V);case"ELLIPSE":return C=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,X=parseFloat(this.attr("rx"))||0,H=parseFloat(this.attr("ry"))||0,new ro({x:C,y:F},X,H);case"POLYLINE":return Z=c.getPointsFromSvgNode(this),new fn(Z);case"POLYGON":return Z=c.getPointsFromSvgNode(this),Z.length>1&&Z.push(Z[0]),new fn(Z);case"PATH":return fe=this.attr("d"),Bt.isDataSupported(fe)||(fe=c.normalizePathData(fe)),new Bt(fe);case"LINE":return ee=parseFloat(this.attr("x1"))||0,k=parseFloat(this.attr("y1"))||0,ne=parseFloat(this.attr("x2"))||0,B=parseFloat(this.attr("y2"))||0,new Rt({x:ee,y:k},{x:ne,y:B})}return this.getBBox()},h.findIntersection=function(d,x){var A=this.svg().node;x=x||A;var O=this.getBBox({target:x}),C=O.center();if(O.intersectionWithLineFromCenterToPoint(d)){var F,V=this.tagName();if(V==="RECT"){var X=new Pt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),H=this.getTransformToElement(x),Z=c.decomposeMatrix(H),fe=A.createSVGTransform();fe.setRotate(-Z.rotation,C.x,C.y);var ee=c.transformRect(X,fe.matrix.multiply(H));F=new Pt(ee).intersectionWithLineFromCenterToPoint(d,Z.rotation)}else if(V==="PATH"||V==="POLYGON"||V==="POLYLINE"||V==="CIRCLE"||V==="ELLIPSE"){var ne=V==="PATH"?this:this.convertToPath(),k=ne.sample(),B=1/0,W=[],P,R,z,oe,J,Y;for(P=0;P<k.length;P++)R=k[P],z=c.createSVGPoint(R.x,R.y),z=z.matrixTransform(this.getTransformToElement(x)),R=new ze(z),oe=R.distance(C),J=R.distance(d)*1.1,Y=oe+J,Y<B?(B=Y,W=[{sample:R,refDistance:J}]):Y<B+1&&W.push({sample:R,refDistance:J});W.sort(function(ae,be){return ae.refDistance-be.refDistance}),W[0]&&(F=W[0].sample)}return F}},h.setAttribute=function(d,x){const A=this.node;if(x===null)return this.removeAttr(d),this;const O=$[d],{ns:C}=c.qualifyAttr(O);return C?A.setAttributeNS(C,O,x):O==="id"?A.id=x:A.setAttribute(O,x),this},c.createSvgDocument=function(d){if(d){const A=`<svg xmlns="${t.svg}" xmlns:xlink="${t.xlink}" version="${r}">${d}</svg>`,{documentElement:O}=c.parseXML(A,{async:!1});return O}const x=document.createElementNS(t.svg,"svg");return x.setAttributeNS(t.xmlns,"xmlns:xlink",t.xlink),x.setAttribute("version",r),x},c.createSVGStyle=function(d){const{node:x}=c("style",{type:"text/css"},[c.createCDATASection(d)]);return x},c.createCDATASection=function(d=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(d)},c.idCounter=0,c.uniqueId=function(){return"v-"+ ++c.idCounter},c.toNode=function(d){return c.isV(d)?d.node:d.nodeName&&d||d[0]},c.ensureId=function(d){return d=c.toNode(d),d.id||(d.id=c.uniqueId())},c.sanitizeText=function(d){return(d||"").replace(/ /g," ")},c.isUndefined=function(d){return typeof d>"u"},c.isString=function(d){return typeof d=="string"},c.isObject=function(d){return d&&typeof d=="object"},c.isArray=Array.isArray,c.parseXML=function(d,x){x=x||{};var A;try{var O=new DOMParser;c.isUndefined(x.async)||(O.async=x.async),A=O.parseFromString(d,"text/xml")}catch{A=void 0}if(!A||A.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+d);return A};const S=Object.create(null);["baseFrequency","baseProfile","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].forEach(d=>S[d]=d);const $=new Proxy(S,{get(d,x){return c.supportCamelCaseAttributes?x in d?d[x]:d[x]=x.replace(/[A-Z]/g,"-$&").toLowerCase():x}});Object.defineProperty(c,"attributeNames",{value:$,writable:!1}),Object.defineProperty(c,"supportCamelCaseAttributes",{value:!1,writable:!0}),c.qualifyAttr=function(d){if(d.indexOf(":")!==-1){var x=d.split(":");return{ns:t[x[0]],local:x[1]}}return{ns:null,local:d}},c.transformSeparatorRegex=/[ ,]+/,c.transformRegex=/\b\w+\([^()]+\)/g,c.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,c.transformTranslateRegex=/\btranslate\(([^()]+)\)/,c.transformRotateRegex=/\brotate\(([^()]+)\)/,c.transformScaleRegex=/\bscale\(([^()]+)\)/,c.transformStringToMatrix=function(d){let x=c.createSVGMatrix();const A=d&&d.match(c.transformRegex);if(!A)return x;const O=A.length;for(let C=0;C<O;C++){const V=A[C].match(c.transformFunctionRegex);if(V){let X,H,Z,fe,ee,ne=c.createSVGMatrix();const k=V[1].toLowerCase(),B=V[2].split(c.transformSeparatorRegex);switch(k){case"scale":X=parseFloat(B[0]),H=B[1]===void 0?X:parseFloat(B[1]),ne=ne.scaleNonUniform(X,H);break;case"translate":Z=parseFloat(B[0]),fe=parseFloat(B[1]),ne=ne.translate(Z,fe);break;case"rotate":ee=parseFloat(B[0]),Z=parseFloat(B[1])||0,fe=parseFloat(B[2])||0,Z!==0||fe!==0?ne=ne.translate(Z,fe).rotate(ee).translate(-Z,-fe):ne=ne.rotate(ee);break;case"skewx":ee=parseFloat(B[0]),ne=ne.skewX(ee);break;case"skewy":ee=parseFloat(B[0]),ne=ne.skewY(ee);break;case"matrix":ne.a=parseFloat(B[0]),ne.b=parseFloat(B[1]),ne.c=parseFloat(B[2]),ne.d=parseFloat(B[3]),ne.e=parseFloat(B[4]),ne.f=parseFloat(B[5]);break;default:continue}x=x.multiply(ne)}}return x},c.matrixToTransformString=function(d){return d||(d=!0),"matrix("+(d.a!==void 0?d.a:1)+","+(d.b!==void 0?d.b:0)+","+(d.c!==void 0?d.c:0)+","+(d.d!==void 0?d.d:1)+","+(d.e!==void 0?d.e:0)+","+(d.f!==void 0?d.f:0)+")"},c.parseTransformString=function(d){var x,A,O;if(d){var C=c.transformSeparatorRegex;if(d.trim().indexOf("matrix")>=0){var F=c.transformStringToMatrix(d),V=c.decomposeMatrix(F);x=[V.translateX,V.translateY],O=[V.scaleX,V.scaleY],A=[V.rotation];var X=[];(x[0]!==0||x[1]!==0)&&X.push("translate("+x+")"),(O[0]!==1||O[1]!==1)&&X.push("scale("+O+")"),A[0]!==0&&X.push("rotate("+A+")"),d=X.join(" ")}else{const Z=d.match(c.transformTranslateRegex);Z&&(x=Z[1].split(C));const fe=d.match(c.transformRotateRegex);fe&&(A=fe[1].split(C));const ee=d.match(c.transformScaleRegex);ee&&(O=ee[1].split(C))}}var H=O&&O[0]?parseFloat(O[0]):1;return{value:d,translate:{tx:x&&x[0]?parseInt(x[0],10):0,ty:x&&x[1]?parseInt(x[1],10):0},rotate:{angle:A&&A[0]?parseInt(A[0],10):0,cx:A&&A[1]?parseInt(A[1],10):void 0,cy:A&&A[2]?parseInt(A[2],10):void 0},scale:{sx:H,sy:O&&O[1]?parseFloat(O[1]):H}}},c.deltaTransformPoint=function(d,x){var A=x.x*d.a+x.y*d.c+0,O=x.x*d.b+x.y*d.d+0;return{x:A,y:O}},c.decomposeMatrix=function(d){var x=c.deltaTransformPoint(d,{x:0,y:1}),A=c.deltaTransformPoint(d,{x:1,y:0}),O=180/i*o(x.y,x.x)-90,C=180/i*o(A.y,A.x);return{translateX:d.e,translateY:d.f,scaleX:s(d.a*d.a+d.b*d.b),scaleY:s(d.c*d.c+d.d*d.d),skewX:O,skewY:C,rotation:O}},c.matrixToScale=function(d){var x,A,O,C;return d?(x=c.isUndefined(d.a)?1:d.a,C=c.isUndefined(d.d)?1:d.d,A=d.b,O=d.c):x=C=1,{sx:A?s(x*x+A*A):x,sy:O?s(O*O+C*C):C}},c.matrixToRotate=function(d){var x={x:0,y:1};return d&&(x=c.deltaTransformPoint(d,x)),{angle:ya(OE(o(x.y,x.x))-90)}},c.matrixToTranslate=function(d){return{tx:d&&d.e||0,ty:d&&d.f||0}},c.isV=function(d){return d instanceof c},c.isVElement=c.isV,c.isSVGGraphicsElement=function(d){return d?(d=c.toNode(d),d instanceof SVGElement&&typeof d.getScreenCTM=="function"):!1};var T=c("svg").node;return c.createSVGMatrix=function(d){var x=T.createSVGMatrix();for(var A in d)x[A]=d[A];return x},c.createSVGTransform=function(d){return c.isUndefined(d)?T.createSVGTransform():(d instanceof SVGMatrix||(d=c.createSVGMatrix(d)),T.createSVGTransformFromMatrix(d))},c.createSVGPoint=function(d,x){var A=T.createSVGPoint();return A.x=d,A.y=x,A},c.transformRect=function(d,x){var A=T.createSVGPoint();A.x=d.x,A.y=d.y;var O=A.matrixTransform(x);A.x=d.x+d.width,A.y=d.y;var C=A.matrixTransform(x);A.x=d.x+d.width,A.y=d.y+d.height;var F=A.matrixTransform(x);A.x=d.x,A.y=d.y+d.height;var V=A.matrixTransform(x),X=a(O.x,C.x,F.x,V.x),H=l(O.x,C.x,F.x,V.x),Z=a(O.y,C.y,F.y,V.y),fe=l(O.y,C.y,F.y,V.y);return new Pt(X,Z,H-X,fe-Z)},c.transformPoint=function(d,x){return new ze(c.createSVGPoint(d.x,d.y).matrixTransform(x))},c.transformLine=function(d,x){return new Rt(c.transformPoint(d.start,x),c.transformPoint(d.end,x))},c.transformPolyline=function(d,x){var A=d instanceof fn?d.points:d;c.isArray(A)||(A=[]);for(var O=[],C=0,F=A.length;C<F;C++)O[C]=c.transformPoint(A[C],x);return new fn(O)},c.styleToObject=function(d){for(var x={},A=d.split(";"),O=0;O<A.length;O++){var C=A[O],F=C.split("=");x[F[0].trim()]=F[1].trim()}return x},c.createSlicePathData=function(d,x,A,O){var C=2*i-1e-6,F=d,V=x,X=A,H=O,Z=(H<X&&(Z=X,X=H,H=Z),H-X),fe=Z<i?"0":"1",ee=u(X),ne=f(X),k=u(H),B=f(H);return Z>=C?F?"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"M0,"+F+"A"+F+","+F+" 0 1,0 0,"+-F+"A"+F+","+F+" 0 1,0 0,"+F+"Z":"M0,"+V+"A"+V+","+V+" 0 1,1 0,"+-V+"A"+V+","+V+" 0 1,1 0,"+V+"Z":F?"M"+V*ee+","+V*ne+"A"+V+","+V+" 0 "+fe+",1 "+V*k+","+V*B+"L"+F*k+","+F*B+"A"+F+","+F+" 0 "+fe+",0 "+F*ee+","+F*ne+"Z":"M"+V*ee+","+V*ne+"A"+V+","+V+" 0 "+fe+",1 "+V*k+","+V*B+"L0,0Z"},c.mergeAttrs=function(d,x){for(var A in x)A==="class"?d[A]=d[A]?d[A]+" "+x[A]:x[A]:A==="style"?c.isObject(d[A])&&c.isObject(x[A])?d[A]=c.mergeAttrs(d[A],x[A]):c.isObject(d[A])?d[A]=c.mergeAttrs(d[A],c.styleToObject(x[A])):c.isObject(x[A])?d[A]=c.mergeAttrs(c.styleToObject(d[A]),x[A]):d[A]=c.mergeAttrs(c.styleToObject(d[A]),c.styleToObject(x[A])):d[A]=x[A];return d},c.annotateString=function(d,x,A){x=x||[],A=A||{};for(var O=A.offset||0,C=[],F,V=[],X,H,Z=0;Z<d.length;Z++){X=V[Z]=d[Z];for(var fe=0;fe<x.length;fe++){var ee=x[fe],ne=ee.start+O,k=ee.end+O;Z>=ne&&Z<k&&(c.isObject(X)?X.attrs=c.mergeAttrs(c.mergeAttrs({},X.attrs),ee.attrs):X=V[Z]={t:d[Z],attrs:ee.attrs},A.includeAnnotationIndices&&(X.annotations||(X.annotations=[])).push(fe))}H=V[Z-1],H?c.isObject(X)&&c.isObject(H)?JSON.stringify(X.attrs)===JSON.stringify(H.attrs)?F.t+=X.t:(C.push(F),F=X):c.isObject(X)||c.isObject(H)?(C.push(F),F=X):F=(F||"")+X:F=X}return F&&C.push(F),C},c.findAnnotationsAtIndex=function(d,x){var A=[];return d&&d.forEach(function(O){O.start<x&&x<=O.end&&A.push(O)}),A},c.findAnnotationsBetweenIndexes=function(d,x,A){var O=[];return d&&d.forEach(function(C){(x>=C.start&&x<C.end||A>C.start&&A<=C.end||C.start>=x&&C.end<A)&&O.push(C)}),O},c.shiftAnnotations=function(d,x,A){return d&&d.forEach(function(O){O.start<x&&O.end>=x?O.end+=A:O.start>=x&&(O.start+=A,O.end+=A)}),d},c.convertLineToPathData=function(d){d=c(d);var x=["M",d.attr("x1"),d.attr("y1"),"L",d.attr("x2"),d.attr("y2")].join(" ");return x},c.convertPolygonToPathData=function(d){var x=c.getPointsFromSvgNode(d);return x.length===0?null:c.svgPointsToPath(x)+" Z"},c.convertPolylineToPathData=function(d){var x=c.getPointsFromSvgNode(d);return x.length===0?null:c.svgPointsToPath(x)},c.svgPointsToPath=function(d){for(var x=0,A=d.length;x<A;x++)d[x]=d[x].x+" "+d[x].y;return"M "+d.join(" L")},c.getPointsFromSvgNode=function(d){d=c.toNode(d);var x=[],A=d.points;if(A)for(var O=0,C=A.numberOfItems;O<C;O++)x.push(A.getItem(O));return x},c.KAPPA=.551784,c.convertCircleToPathData=function(d){d=c(d);var x=parseFloat(d.attr("cx"))||0,A=parseFloat(d.attr("cy"))||0,O=parseFloat(d.attr("r")),C=O*c.KAPPA,F=["M",x,A-O,"C",x+C,A-O,x+O,A-C,x+O,A,"C",x+O,A+C,x+C,A+O,x,A+O,"C",x-C,A+O,x-O,A+C,x-O,A,"C",x-O,A-C,x-C,A-O,x,A-O,"Z"].join(" ");return F},c.convertEllipseToPathData=function(d){d=c(d);var x=parseFloat(d.attr("cx"))||0,A=parseFloat(d.attr("cy"))||0,O=parseFloat(d.attr("rx")),C=parseFloat(d.attr("ry"))||O,F=O*c.KAPPA,V=C*c.KAPPA,X=["M",x,A-C,"C",x+F,A-C,x+O,A-V,x+O,A,"C",x+O,A+V,x+F,A+C,x,A+C,"C",x-F,A+C,x-O,A+V,x-O,A,"C",x-O,A-V,x-F,A-C,x,A-C,"Z"].join(" ");return X},c.convertRectToPathData=function(d){return d=c(d),c.rectToPath({x:parseFloat(d.attr("x"))||0,y:parseFloat(d.attr("y"))||0,width:parseFloat(d.attr("width"))||0,height:parseFloat(d.attr("height"))||0,rx:parseFloat(d.attr("rx"))||0,ry:parseFloat(d.attr("ry"))||0})},c.rectToPath=function(d){var x,A=d.x,O=d.y,C=d.width,F=d.height,V=a(d.rx||d["top-rx"]||0,C/2),X=a(d.rx||d["bottom-rx"]||0,C/2),H=a(d.ry||d["top-ry"]||0,F/2),Z=a(d.ry||d["bottom-ry"]||0,F/2);return V||X||H||Z?x=["M",A,O+H,"v",F-H-Z,"a",X,Z,0,0,0,X,Z,"h",C-2*X,"a",X,Z,0,0,0,X,-Z,"v",-(F-Z-H),"a",V,H,0,0,0,-V,-H,"h",-(C-2*V),"a",V,H,0,0,0,-V,H,"Z"]:x=["M",A,O,"H",A+C,"V",O+F,"H",A,"V",O,"Z"],x.join(" ")},c.normalizePathData=function(){var d=`	
\v\f\r   ᠎             　\u2028\u2029`,x=new RegExp("([a-z])["+d+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+d+"]*,?["+d+"]*)+)","ig"),A=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+d+"]*,?["+d+"]*","ig"),O=Math,C=O.PI,F=O.sin,V=O.cos,X=O.tan,H=O.asin,Z=O.sqrt,fe=O.abs;function ee(R,z,oe,J,Y,ae){var be=.3333333333333333,Ie=2/3;return[be*R+Ie*oe,be*z+Ie*J,be*Y+Ie*oe,be*ae+Ie*J,Y,ae]}function ne(R,z,oe){var J=R*V(oe)-z*F(oe),Y=R*F(oe)+z*V(oe);return{x:J,y:Y}}function k(R,z,oe,J,Y,ae,be,Ie,N,D){var M=C*120/180,K=C/180*(+Y||0),se=[],ce;if(D)G=D[0],I=D[1],qe=D[2],Ue=D[3];else{ce=ne(R,z,-K),R=ce.x,z=ce.y,ce=ne(Ie,N,-K),Ie=ce.x,N=ce.y;var de=(R-Ie)/2,pe=(z-N)/2,Ae=de*de/(oe*oe)+pe*pe/(J*J);Ae>1&&(Ae=Z(Ae),oe=Ae*oe,J=Ae*J);var Le=oe*oe,Ce=J*J,rt=(ae==be?-1:1)*Z(fe((Le*Ce-Le*pe*pe-Ce*de*de)/(Le*pe*pe+Ce*de*de))),qe=rt*oe*pe/J+(R+Ie)/2,Ue=rt*-J*de/oe+(z+N)/2,G=H(((z-Ue)/J).toFixed(9)),I=H(((N-Ue)/J).toFixed(9));G=R<qe?C-G:G,I=Ie<qe?C-I:I,G<0&&(G=C*2+G),I<0&&(I=C*2+I),be&&G>I&&(G=G-C*2),!be&&I>G&&(I=I-C*2)}var L=I-G;if(fe(L)>M){var ie=I,ye=Ie,Se=N;I=G+M*(be&&I>G?1:-1),Ie=qe+oe*V(I),N=Ue+J*F(I),se=k(Ie,N,oe,J,Y,0,be,ye,Se,[I,ie,qe,Ue])}L=I-G;var De=V(G),ke=F(G),Be=V(I),st=F(I),wt=X(L/4),ut=4/3*(oe*wt),Ct=4/3*(J*wt),Tr=[R,z],Pr=[R+ut*ke,z-Ct*De],or=[Ie+ut*st,N-Ct*Be],ur=[Ie,N];if(Pr[0]=2*Tr[0]-Pr[0],Pr[1]=2*Tr[1]-Pr[1],D)return[Pr,or,ur].concat(se);se=[Pr,or,ur].concat(se).join().split(",");for(var sn=[],tr=se.length,Dt=0;Dt<tr;Dt++)sn[Dt]=Dt%2?ne(se[Dt-1],se[Dt],K).y:ne(se[Dt],se[Dt+1],K).x;return sn}function B(R){if(!R)return null;var z={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},oe=[];return String(R).replace(x,function(J,Y,ae){var be=[],Ie=Y.toLowerCase();for(ae.replace(A,function(N,D){D&&be.push(+D)}),Ie==="m"&&be.length>2&&(oe.push([Y].concat(be.splice(0,2))),Ie="l",Y=Y==="m"?"l":"L");be.length>=z[Ie]&&(oe.push([Y].concat(be.splice(0,z[Ie]))),!!z[Ie]););}),oe}function W(R){if((!Array.isArray(R)||!Array.isArray(R&&R[0]))&&(R=B(R)),!R||!R.length)return[["M",0,0]];for(var z=[],oe=0,J=0,Y=0,ae=0,be=0,Ie,N=R.length,D=be;D<N;D++){var M=[];z.push(M);var K=R[D];if(Ie=K[0],Ie!=Ie.toUpperCase()){M[0]=Ie.toUpperCase();var se,ce;switch(M[0]){case"A":M[1]=K[1],M[2]=K[2],M[3]=K[3],M[4]=K[4],M[5]=K[5],M[6]=+K[6]+oe,M[7]=+K[7]+J;break;case"V":M[1]=+K[1]+J;break;case"H":M[1]=+K[1]+oe;break;case"M":for(Y=+K[1]+oe,ae=+K[2]+J,se=K.length,ce=1;ce<se;ce++)M[ce]=+K[ce]+(ce%2?oe:J);break;default:for(se=K.length,ce=1;ce<se;ce++)M[ce]=+K[ce]+(ce%2?oe:J);break}}else for(var de=K.length,pe=0;pe<de;pe++)M[pe]=K[pe];switch(M[0]){case"Z":oe=+Y,J=+ae;break;case"H":oe=M[1];break;case"V":J=M[1];break;case"M":Y=M[M.length-2],ae=M[M.length-1],oe=M[M.length-2],J=M[M.length-1];break;default:oe=M[M.length-2],J=M[M.length-1];break}}return z}function P(R){var z=W(R),oe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function J(se,ce,de){var pe,Ae;if(!se)return["C",ce.x,ce.y,ce.x,ce.y,ce.x,ce.y];switch(se[0]in{T:1,Q:1}||(ce.qx=null,ce.qy=null),se[0]){case"M":ce.X=se[1],ce.Y=se[2];break;case"A":parseFloat(se[1])===0||parseFloat(se[2])===0?se=["L",se[6],se[7]]:se=["C"].concat(k.apply(0,[ce.x,ce.y].concat(se.slice(1))));break;case"S":de==="C"||de==="S"?(pe=ce.x*2-ce.bx,Ae=ce.y*2-ce.by):(pe=ce.x,Ae=ce.y),se=["C",pe,Ae].concat(se.slice(1));break;case"T":de==="Q"||de==="T"?(ce.qx=ce.x*2-ce.qx,ce.qy=ce.y*2-ce.qy):(ce.qx=ce.x,ce.qy=ce.y),se=["C"].concat(ee(ce.x,ce.y,ce.qx,ce.qy,se[1],se[2]));break;case"Q":ce.qx=se[1],ce.qy=se[2],se=["C"].concat(ee(ce.x,ce.y,se[1],se[2],se[3],se[4]));break;case"H":se=["L"].concat(se[1],ce.y);break;case"V":se=["L"].concat(ce.x,se[1]);break}return se}function Y(se,ce){if(se[ce].length>7){se[ce].shift();for(var de=se[ce];de.length;)ae[ce]="A",se.splice(ce++,0,["C"].concat(de.splice(0,6)));se.splice(ce,1),N=z.length}}for(var ae=[],be="",Ie="",N=z.length,D=0;D<N;D++){z[D]&&(be=z[D][0]),be!=="C"&&(ae[D]=be,D>0&&(Ie=ae[D-1])),z[D]=J(z[D],oe,Ie),ae[D]!=="A"&&be==="C"&&(ae[D]="C"),Y(z,D);var M=z[D],K=M.length;oe.x=M[K-2],oe.y=M[K-1],oe.bx=parseFloat(M[K-4])||oe.x,oe.by=parseFloat(M[K-3])||oe.y}return(!z[0][0]||z[0][0]!=="M")&&z.unshift(["M",0,0]),z}return function(R){return P(R).join(",").split(",").join(" ")}}(),c.namespace=t,c.g=Lse,c}(),ec={classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},sg="[object Arguments]",JO="[object Array]",qE="[object Boolean]",HI="[object Date]",EH="[object Error]",hae="[object Function]",qg="[object Map]",VE="[object Number]",pae="[object Null]",Qd="[object Object]",WI="[object RegExp]",Vg="[object Set]",HE="[object String]",WE="[object Symbol]",mae="[object Undefined]",gae="[object WeakMap]",GI="[object ArrayBuffer]",KI="[object DataView]",SH="[object Float32Array]",$H="[object Float64Array]",TH="[object Int8Array]",xH="[object Int16Array]",AH="[object Int32Array]",OH="[object Uint8Array]",PH="[object Uint8ClampedArray]",NH="[object Uint16Array]",RH="[object Uint32Array]",vae={[sg]:!0,[JO]:!0,[GI]:!0,[KI]:!0,[qE]:!0,[HI]:!0,[SH]:!0,[$H]:!0,[TH]:!0,[xH]:!0,[AH]:!0,[qg]:!0,[VE]:!0,[Qd]:!0,[WI]:!0,[Vg]:!0,[HE]:!0,[WE]:!0,[OH]:!0,[PH]:!0,[NH]:!0,[RH]:!0,[EH]:!1,[hae]:!1,[gae]:!1},JI="\\ud800-\\udfff",yae="\\u0300-\\u036f",wae="\\ufe20-\\ufe2f",bae="\\u20d0-\\u20ff",_ae="\\u1ab0-\\u1aff",Eae="\\u1dc0-\\u1dff",Sae=yae+wae+bae+_ae+Eae,IH="\\u2700-\\u27bf",jH="a-z\\xdf-\\xf6\\xf8-\\xff",$ae="\\xac\\xb1\\xd7\\xf7",Tae="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xae="\\u2000-\\u206f",Aae=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",kH="A-Z\\xc0-\\xd6\\xd8-\\xde",Oae="\\ufe0e\\ufe0f",CH=$ae+Tae+xae+Aae,DH="['’]",rL=`[${CH}]`,YI=`[${Sae}]`,MH="\\d",Pae=`[${IH}]`,LH=`[${jH}]`,FH=`[^${JI}${CH+MH+IH+jH+kH}]`,YO="\\ud83c[\\udffb-\\udfff]",Nae=`(?:${YI}|${YO})`,BH=`[^${JI}]`,XI="(?:\\ud83c[\\udde6-\\uddff]){2}",QI="[\\ud800-\\udbff][\\udc00-\\udfff]",Dd=`[${kH}]`,Rae="\\u200d",nL=`(?:${LH}|${FH})`,Iae=`(?:${Dd}|${FH})`,iL=`(?:${DH}(?:d|ll|m|re|s|t|ve))?`,oL=`(?:${DH}(?:D|LL|M|RE|S|T|VE))?`,UH=`${Nae}?`,zH=`[${Oae}]?`,jae=`(?:${Rae}(?:${[BH,XI,QI].join("|")})${zH+UH})*`,kae="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cae="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qH=zH+UH+jae,Dae=`(?:${[Pae,XI,QI].join("|")})${qH}`,Mae=RegExp([`${Dd}?${LH}+${iL}(?=${[rL,Dd,"$"].join("|")})`,`${Iae}+${oL}(?=${[rL,Dd+nL,"$"].join("|")})`,`${Dd}?${nL}+${iL}`,`${Dd}+${oL}`,Cae,kae,`${MH}+`,Dae].join("|"),"g"),ZI=200,XO="__hash_undefined__",Lae=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,Fae=`[${JI}]`,Bae=`${BH}${YI}?`,Uae=`(?:${[Bae,YI,XI,QI,Fae].join("|")})`,VH=RegExp(`${YO}(?=${YO})|${Uae+qH}`,"g"),zae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qae=/^\w*$/,Vae=46,Hae=/\\(\\)?/g,Wae=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),Gae=/^(?:0|[1-9]\d*)$/,Kae=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),Jae=4294967294,Yae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,HH=e=>VH.test(e),Xae=e=>e.match(VH)||[],Qae=e=>e.split(""),WH=e=>HH(e)?Xae(e):Qae(e),Zae=e=>e==null?[]:Hg(e).map(t=>e[t]),Hg=e=>qs(e)?GH(e):Object.keys(Object(e)),ele=e=>{if(!GE(e))return Object.keys(e);var t=[];for(var r in Object(e))hasOwnProperty.call(e,r)&&r!="constructor"&&t.push(r);return t},GH=(e,t)=>{const r=Array.isArray(e),n=!r&&ba(e)&&Bs(e)===sg,i=!r&&!n&&Kg(e),o=r||n||i,s=e.length,a=new Array(o?s:0);let l=o?-1:s;for(;++l<s;)a[l]=`${l}`;for(const u in e)(t||hasOwnProperty.call(e,u))&&!(o&&(u==="length"||rW(u,s)))&&a.push(u);return a},Qv=(e,t)=>{let{length:r}=e;for(;r--;)if(Xh(e[r][0],t))return r;return-1},Xh=(e,t)=>e===t||e!==e&&t!==t,ba=e=>e!=null&&typeof e=="object",h_=(e,t,r)=>{if(!Gr(r))return!1;const n=typeof t;return(n=="number"?qs(r)&&t>-1&&t<r.length:n=="string"&&t in r)?Xh(r[t],e):!1},tle=e=>ba(e)&&Bs(e)==Vg,rle=e=>ba(e)&&Bs(e)==qg,GE=e=>{const t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Object.prototype;return e===r},Wg=(e,t,r)=>{const n=e[t];(!(hasOwnProperty.call(e,t)&&Xh(n,r))||r===void 0&&!(t in e))&&(e[t]=r)},Gg=(e,t,r)=>{let n=-1;const i=t.length;for(;++n<i;){const o=t[n];Wg(r,o,e[o])}return r},qs=e=>e!=null&&typeof e!="function"&&typeof e.length=="number"&&e.length>-1&&e.length%1===0,Dh=e=>typeof e=="symbol"||ba(e)&&Bs(e)===WE,nle=e=>{const t=e.length;let r=new e.constructor(t);return t&&typeof e[0]=="string"&&hasOwnProperty.call(e,"index")&&(r.index=e.index,r.input=e.input),r},ej=(e,t)=>{let r=-1;const n=e.length;for(t||(t=new Array(n));++r<n;)t[r]=e[r];return t},Bs=e=>e==null?e===void 0?mae:pae:Object.prototype.toString.call(e),tj=e=>{const t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t},KH=(e,t)=>{const r=t?tj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},ile=e=>{const t=new e.constructor(e.source,/\w*$/.exec(e));return t.lastIndex=e.lastIndex,t},JH=e=>typeof e.constructor=="function"&&!GE(e)?Object.create(Object.getPrototypeOf(e)):{},rj=e=>e==null?[]:(e=Object(e),Object.getOwnPropertySymbols(e).filter(r=>propertyIsEnumerable.call(e,r))),ole=(e,t)=>Gg(e,rj(e),t);function sle(e,t){const r=t?tj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}const ale=(e,t,r)=>{const n=e.constructor;switch(t){case GI:return tj(e);case qE:case HI:return new n(+e);case KI:return sle(e,r);case SH:case $H:case TH:case xH:case AH:case OH:case PH:case NH:case RH:return KH(e,r);case qg:return new n(e);case VE:case HE:return new n(e);case WI:return ile(e);case Vg:return new n;case WE:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(e)):{}}},Kg=e=>ba(e)&&Lae.test(Bs(e)),QO=e=>{const t=Object.keys(e);return!Array.isArray(e)&&e!=null&&t.push(...rj(Object(e))),t},YH=e=>{const t=[];for(;e;)t.push(...rj(e)),e=Object.getPrototypeOf(Object(e));return t},XH=e=>{const t=[];for(const r in e)t.push(r);return Array.isArray(e)||t.push(...YH(e)),t},Zv=({__data__:e},t)=>{const r=e;return yle(t)?r[typeof t=="string"?"string":"hash"]:r.map},lle=(e,t,r,n)=>{const i=QO(e),o=i.length,a=QO(t).length;if(o!=a)return!1;let l,u=o;for(;u--;)if(l=i[u],!hasOwnProperty.call(t,l))return!1;const f=n.get(e),c=n.get(t);if(f&&c)return f==t&&c==e;let h=!0;n.set(e,t),n.set(t,e);let g;for(;++u<o;){l=i[u];const m=e[l],_=t[l];if(!(m===_||r(m,_,n))){h=!1;break}g||(g=l=="constructor")}if(h&&!g){const m=e.constructor,_=t.constructor;m!=_&&"constructor"in e&&"constructor"in t&&!(typeof m=="function"&&m instanceof m&&typeof _=="function"&&_ instanceof _)&&(h=!1)}return n.delete(e),n.delete(t),h},KE=(e,t,r)=>e===t?!0:e==null||t==null||!ba(e)&&!ba(t)?e!==e&&t!==t:ule(e,t,KE,r),ule=(e,t,r,n)=>{let i=Array.isArray(e);const o=Array.isArray(t);let s=i?JO:Bs(e),a=o?JO:Bs(t);s=s==sg?Qd:s,a=a==sg?Qd:a;let l=s==Qd;const u=a==Qd,f=s==a;if(f&&!l)return n||(n=new mh),i||Kg(e)?QH(e,t,!1,r,n):dle(e,t,s,r,n);const c=l&&hasOwnProperty.call(e,"__wrapped__"),h=u&&hasOwnProperty.call(t,"__wrapped__");if(c||h){const g=c?e.value():e,m=h?t.value():t;return n||(n=new mh),r(g,m,n)}return f?(n||(n=new mh),lle(e,t,r,n)):!1},QH=(e,t,r,n,i)=>{const o=e.length,s=t.length;if(o!=s)return!1;const a=i.get(e),l=i.get(t);if(a&&l)return a==t&&l==e;let u=-1,f=!0;const c=r?new lg:void 0;for(i.set(e,t),i.set(t,e);++u<o;){const h=e[u],g=t[u];if(c){if(!cle(t,(m,_)=>{if(!fle(c,_)&&(h===m||n(h,m,i)))return c.push(_)})){f=!1;break}}else if(!(h===g||n(h,g,i))){f=!1;break}}return i.delete(e),i.delete(t),f},cle=(e,t)=>{let r=-1;const n=e==null?0:e.length;for(;++r<n;)if(t(e[r],r,e))return!0;return!1},fle=(e,t)=>e.has(t),sL=(e,t,r,n)=>!(e.byteLength!=t.byteLength||!r(new Uint8Array(e),new Uint8Array(t),n)),dle=(e,t,r,n,i)=>{switch(r){case KI:return e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset?!1:(e=e.buffer,t=t.buffer,sL(e,t,n,i));case GI:return sL(e,t,n,i);case qE:case HI:case VE:return Xh(+e,+t);case EH:return e.name==t.name&&e.message==t.message;case WI:case HE:return e==`${t}`;case qg:let o=ZH;case Vg:if(o||(o=JE),e.size!=t.size)return!1;const s=i.get(e);if(s)return s==t;i.set(e,t);const a=QH(o(e),o(t),!0,n,i);return i.delete(e),a;case WE:return Symbol.prototype.valueOf.call(e)==Symbol.prototype.valueOf.call(t)}return!1},ZH=e=>{let t=-1,r=Array(e.size);return e.forEach((n,i)=>{r[++t]=[i,n]}),r},JE=e=>{let t=-1;const r=new Array(e.size);return e.forEach(n=>{r[++t]=n}),r},nj=(e,t)=>{if(Array.isArray(e))return!1;const r=typeof e;return r==="number"||r==="boolean"||e==null||Dh(e)?!0:qae.test(e)||!zae.test(e)||t!=null&&e in Object(t)},hle=e=>{const t=[];return e.charCodeAt(0)===Vae&&t.push(""),e.replace(Wae,(r,n,i,o)=>{let s=r;i?s=o.replace(Hae,"$1"):n&&(s=n.trim()),t.push(s)}),t},Qh=(e,t)=>Array.isArray(e)?e:nj(e,t)?[e]:hle(`${e}`),YE=(e,t)=>{t=Qh(t,e);let r=0;const n=t.length;for(;e!=null&&r<n;)e=e[Jf(t[r])],r++;return r&&r==n?e:void 0};function ple(e,t){if(e!==t){const r=e!==void 0,n=e===null,i=e===e,o=Dh(e),s=t!==void 0,a=t===null,l=t===t,u=Dh(t);if(!a&&!u&&!o&&e>t||o&&s&&l&&!a&&!u||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}function mle(e,t,r){let n=-1;const i=e.criteria,o=t.criteria,s=i.length,a=r.length;for(;++n<s;){const l=n<a?r[n]:null,f=(l&&typeof l=="function"?l:ple)(i[n],o[n]);if(f)return l&&typeof l!="function"?f*(l=="desc"?-1:1):f}return e.index-t.index}const eW=(e,t)=>{let r=(s,a)=>!!(s==null?0:s.length)&&s.indexOf(a)>-1,n=!0;const i=[],o=t.length;if(!e.length)return i;t.length>=ZI&&(r=(s,a)=>s.has(a),n=!1,t=new lg(t));e:for(let s in e){let a=e[s];const l=a;if(a=a!==0?a:0,n&&l===l){let u=o;for(;u--;)if(t[u]===l)continue e;i.push(a)}else r(t,l)||i.push(a)}return i},Jf=e=>{if(typeof e=="string"||Dh(e))return e;const t=`${e}`;return t=="0"&&1/e==-1/0?"-0":t},ph=(e,t=!1,r=!1,n=!0,i,o,s,a)=>{let l;if(i&&(l=s?i(e,o,s,a):i(e)),l!==void 0)return l;if(!Gr(e))return e;const u=Array.isArray(e),f=Bs(e);if(u){if(l=nle(e),!t)return ej(e,l)}else{const m=typeof e=="function";if(f===Qd||f===sg||m&&!s){if(l=r||m?{}:JH(e),!t)return r?gle(e,Gg(e,Object.keys(e),l)):ole(e,Object.assign(l,e))}else{if(m||!vae[f])return s?e:{};l=ale(e,f,t)}}a||(a=new mh);const c=a.get(e);if(c)return c;if(a.set(e,l),rle(e))return e.forEach((m,_)=>{l.set(_,ph(m,t,r,n,i,_,e,a))}),l;if(tle(e))return e.forEach(m=>{l.add(ph(m,t,r,n,i,m,e,a))}),l;if(Kg(e))return l;const g=u?void 0:(n?r?XH:QO:r?nW:Hg)(e);return(g||e).forEach((m,_)=>{g&&(_=m,m=e[_]),Wg(l,_,ph(m,t,r,n,i,_,e,a))}),l},gle=(e,t)=>Gg(e,YH(e),t),tW=(e,t)=>t.length<2?e:YE(e,t.slice(0,-1)),rW=(e,t)=>{const r=typeof e;return t=t??Number.MAX_SAFE_INTEGER,!!t&&(r==="number"||r!=="symbol"&&Gae.test(e))&&e>-1&&e%1==0&&e<t},vle=(e,t)=>{t=Qh(t,e),e=tW(e,t);const r=t[t.length-1];return e==null||delete e[Jf(r)]},yle=e=>{const t=typeof e;return t==="string"||t==="number"||t==="symbol"||t==="boolean"?e!=="__proto__":e===null},nW=e=>{const t=[];for(const r in e)t.push(r);return t},wle=e=>{e=Object(e);const t={};for(const r in e)t[r]=e[r];return t},aL=(e,t)=>{if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]};function iW(e,t=!1){return(r,...n)=>{let i=-1,o=n.length,s=o>1?n[o-1]:void 0;const a=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):t?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,a&&h_(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),r=Object(r);++i<o;){const l=n[i];l&&e(r,l,i,s)}return r}}const ij=(e,t,r,n,i)=>{e!==t&&Ts(t,(o,s)=>{if(Gr(o))i||(i=new mh),ble(e,t,s,r,ij,n,i);else{let a=n?n(e[s],o,`${s}`,e,t,i):void 0;a===void 0&&(a=o),ZO(e,s,a)}})},ble=(e,t,r,n,i,o,s)=>{const a=aL(e,r),l=aL(t,r),u=s.get(l);if(u){ZO(e,r,u);return}let f=o?o(a,l,`${r}`,e,t,s):void 0,c=f===void 0;if(c){const h=Array.isArray(l),g=!h&&Kg(l);f=l,h||g?Array.isArray(a)?f=a:ba(a)&&qs(a)?f=ej(a):g?(c=!1,f=KH(l,!0)):f=[]:qn(l)||ag(l)?(f=a,ag(a)?f=wle(a):(typeof a=="function"||!Gr(a))&&(f=JH(l))):c=!1}c&&(s.set(l,f),i(f,l,n,o,s),s.delete(l)),ZO(e,r,f)},ZO=(e,t,r)=>{(r!==void 0&&!Xh(e[t],r)||r===void 0&&!(t in e))&&Wg(e,t,r)};function _le(e,t,r){const n=Object(e),i=r(e);let{length:o}=i,s=-1;for(;o--;){const a=i[++s];if(t(n[a],a,n)===!1)break}return e}const Ele=(e,t)=>e&&_le(e,t,Hg),oj=(e,t)=>{if(e==null)return e;if(!qs(e))return Ele(e,t);const r=e.length,n=Object(e);let i=-1;for(;++i<r&&t(n[i],i,n)!==!1;);return e};function Sle(e){const t=e==null?0:e.length;return t?e[t-1]:void 0}const $le=Set&&1/JE(new Set([void 0,-0]))[1]==1/0?e=>new Set(e):()=>{};function oW(e,t,r,n,i,o){return Gr(e)&&Gr(t)&&(o.set(t,e),ij(e,t,void 0,oW,o),o.delete(t)),e}function Tle(e,t,r){t.length?t=t.map(s=>Array.isArray(s)?a=>YE(a,s.length===1?s[0]:s):s):t=[s=>s];let n=-1,i=-1;const o=qs(e)?new Array(e.length):[];return oj(e,s=>{const a=t.map(l=>l(s));o[++i]={criteria:a,index:++n,value:s}}),xle(o,(s,a)=>mle(s,a,r))}function xle(e,t){let{length:r}=e;for(e.sort(t);r--;)e[r]=e[r].value;return e}function sW(e){return e===e&&!Gr(e)}function aW(e,t){return r=>r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}function Ale(e,t){return e!=null&&zle(e,t,Ule)}function Ole(e,t){return nj(e)&&sW(t)?aW(Jf(e),t):r=>{const n=YE(r,e);return n===void 0&&n===t?Ale(r,e):KE(t,n)}}function Ple(e){const t=Nle(e);return t.length===1&&t[0][2]?aW(t[0][0],t[0][1]):r=>r===e||Rle(r,e,t)}function Nle(e){const t=Hg(e);let r=t.length;for(;r--;){const n=t[r],i=e[n];t[r]=[n,i,sW(i)]}return t}function Rle(e,t,r,n){let i=r.length;const o=i;if(e==null)return!o;let s;for(e=Object(e);i--;)if(s=r[i],s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1;for(;++i<o;){s=r[i];const a=s[0],l=e[a],u=s[1];if(s[2]){if(l===void 0&&!(a in e))return!1}else{const f=new mh;if(!KE(u,l,f))return!1}}return!0}function Ile(e){return nj(e)?jle(Jf(e)):kle(e)}function jle(e){return t=>t==null?void 0:t[e]}function kle(e){return t=>YE(t,e)}function Cle(e){return typeof e=="function"?e:e==null?t=>t:typeof e=="object"?Array.isArray(e)?Ole(e[0],e[1]):Ple(e):Ile(e)}function XE(){const e=Cle;return arguments.length?e(arguments[0]):e}const Dle=(e,t,r,n)=>{let i=-1;const o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r},Mle=(e,t,r,n,i)=>(i(e,(o,s,a)=>{r=n?(n=!1,o):t(r,o,s,a)}),r);function Lle(e,t,r){const n=Array.isArray(e)?Dle:Mle,i=arguments.length<3;return n(e,t,r,i,oj)}const Fle=e=>Array.isArray(e)||ag(e)||!!(e&&e[Symbol.isConcatSpreadable]);function lW(e,t,r,n,i){let o=-1;const s=e.length;for(r||(r=Fle),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?lW(a,t-1,r,n,i):i.push(...a):i[i.length]=a}return i}const ag=e=>ba(e)&&Bs(e)=="[object Arguments]",Ble=e=>typeof e=="number"&&e>-1&&e%1==0&&e<=Number.MAX_SAFE_INTEGER,Ule=(e,t)=>e!=null&&t in Object(e),zle=(e,t,r)=>{t=Qh(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=Jf(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Ble(i)&&rW(s,i)&&(Array.isArray(e)||ag(e)))},qle=e=>e.match(Yae),Vle=e=>e.match(Mae),Hle=(e,t)=>(Kae(e)?Vle(e):qle(e))||[],Wle=(e,t,r)=>{const{length:n}=e;return r=r===void 0?n:r,!t&&r>=n?e:e.slice(t,r)},Gle=Kle("toUpperCase");function Kle(e){return t=>{if(!t)return"";const r=HH(t)?WH(t):void 0,n=r?r[0]:t[0],i=r?Wle(r,1).join(""):t.slice(1);return n[e]()+i}}class mh{constructor(t){const r=this.__data__=new x1(t);this.size=r.size}clear(){this.__data__=new x1,this.size=0}delete(t){const r=this.__data__,n=r.delete(t);return this.size=r.size,n}get(t){return this.__data__.get(t)}has(t){return this.__data__.has(t)}set(t,r){let n=this.__data__;if(n instanceof x1){const i=n.__data__;if(i.length<ZI-1)return i.push([t,r]),this.size=++n.size,this;n=this.__data__=new uW(i)}return n.set(t,r),this.size=n.size,this}}class x1{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(t){const r=this.__data__,n=Qv(r,t);if(n<0)return!1;const i=r.length-1;return n==i?r.pop():r.splice(n,1),--this.size,!0}get(t){const r=this.__data__,n=Qv(r,t);return n<0?void 0:r[n][1]}has(t){return Qv(this.__data__,t)>-1}set(t,r){const n=this.__data__,i=Qv(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this}}class uW{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new lL,map:new Map,string:new lL}}delete(t){const r=Zv(this,t).delete(t);return this.size-=r?1:0,r}get(t){return Zv(this,t).get(t)}has(t){return Zv(this,t).has(t)}set(t,r){const n=Zv(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this}}class lL{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.clear();++r<n;){const i=t[r];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(t){const r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}get(t){const n=this.__data__[t];return n===XO?void 0:n}has(t){return this.__data__[t]!==void 0}set(t,r){const n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r===void 0?XO:r,this}}class lg{constructor(t){let r=-1;const n=t==null?0:t.length;for(this.__data__=new uW;++r<n;)this.add(t[r])}add(t){return this.__data__.set(t,XO),this}has(t){return this.__data__.has(t)}}lg.prototype.push=lg.prototype.add;const Jle=function(e){var t=Object.prototype.toString;return e===!0||e===!1||!!e&&typeof e=="object"&&t.call(e)===qE},Gr=function(e){return!!e&&(typeof e=="object"||typeof e=="function")},Eo=function(e){var t=Object.prototype.toString;return typeof e=="number"||!!e&&typeof e=="object"&&t.call(e)===VE},zi=function(e){var t=Object.prototype.toString;return typeof e=="string"||!!e&&typeof e=="object"&&t.call(e)===HE},Gt=iW((e,t)=>{if(GE(t)||qs(t)){Gg(t,Hg(t),e);return}for(var r in t)hasOwnProperty.call(t,r)&&Wg(e,r,t[r])}),Yle=(e,...t)=>{let r=-1,n=t.length;const i=n>2?t[2]:void 0;for(i&&h_(t[0],t[1],i)&&(n=1);++r<n;){const o=t[r];if(o==null)continue;const s=Object.keys(o),a=s.length;let l=-1;for(;++l<a;){const u=s[l],f=e[u];(f===void 0||Xh(f,Object.prototype[u])&&!hasOwnProperty.call(e,u))&&(e[u]=o[u])}}return e},Ss=Yle,Xle=function(...t){return t.push(void 0,oW),ni.apply(void 0,t)},sj=Xle,Ja=(e,t,...r)=>{let n=-1;const i=typeof t=="function",o=qs(e)?new Array(e.length):[];return oj(e,s=>{o[++n]=i?t.apply(s,r):Qle(s,t,...r)}),o},Qle=(e,t,...r)=>{t=Qh(t,e),e=tW(e,t);const n=e==null?e:e[Jf(Sle(t))];return n==null?void 0:n.apply(e,r)},cW=(e,t,r)=>{let n=0,i=e==null?0:e.length;if(i==0)return 0;r=XE(r,2),t=r(t);const o=t!==t,s=t===null,a=Dh(t),l=t===void 0;for(;n<i;){let u;const f=Math.floor((n+i)/2),c=r(e[f]),h=c!==void 0,g=c===null,m=c===c,_=Dh(c);o?u=m:l?u=m&&h:s?u=m&&h&&!g:a?u=m&&h&&!g&&!_:g||_?u=!1:u=c<t,u?n=f+1:i=f}return Math.min(i,Jae)},Jg=(e,t)=>{let r=-1,n=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;t=XE(t,2);let i=!0;const{length:o}=e,s=[];let a=s;if(o>=ZI){const l=t?null:$le(e);if(l)return JE(l);i=!1,n=(u,f)=>u.has(f),a=new lg}else a=t?[]:s;e:for(;++r<o;){let l=e[r];const u=t?t(l):l;if(l=l!==0?l:0,i&&u===u){let f=a.length;for(;f--;)if(a[f]===u)continue e;t&&a.push(u),s.push(l)}else n(a,u)||(a!==s&&a.push(u),s.push(l))}return s},za=e=>ph(e),$s=e=>ph(e,!0),kl=e=>{if(e==null)return!0;if(qs(e)&&(Array.isArray(e)||typeof e=="string"||typeof e.splice=="function"||Kg(e)||ag(e)))return!e.length;const t=Bs(e);if(t=="[object Map]"||t=="[object Set]")return!e.size;if(GE(e))return!ele(e).length;for(const r in e)if(hasOwnProperty.call(e,r))return!1;return!0},Zd=(e,t)=>KE(e,t),hn=e=>typeof e=="function",qn=e=>{if(!ba(e)||Bs(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},$r=e=>{if(!e)return[];if(qs(e))return zi(e)?WH(e):ej(e);if(Symbol.iterator&&Symbol.iterator in Object(e)){const n=e[Symbol.iterator]();let i;const o=[];for(;!(i=n.next()).done;)o.push(i.value);return o}const t=Bs(e);return(t==qg?ZH:t==Vg?JE:Zae)(e)};function Zle(e,t,r){if(typeof e!="function")throw new TypeError("Expected a function");let n,i,o,s,a,l,u=0,f=!1,c=!1,h=!0;const g=!t&&t!==0&&window&&typeof window.requestAnimationFrame=="function";t=+t||0,Gr(r)&&(f=!!r.leading,c="maxWait"in r,o=c?Math.max(20,t):o,h="trailing"in r?!!r.trailing:h);function m(d){const x=n,A=i;return n=i=void 0,u=d,s=e.apply(A,x),s}function _(d,x){return g?(window.cancelAnimationFrame(a),window.requestAnimationFrame(d)):setTimeout(d,x)}function v(d){if(g)return window.cancelAnimationFrame(d);clearTimeout(d)}function p(d){return u=d,a=_(S,t),f?m(d):s}function E(d){const x=d-l,A=d-u,O=t-x;return c?Math.min(O,o-A):O}function y(d){const x=d-l,A=d-u;return l===void 0||x>=t||x<0||c&&A>=o}function S(){const d=Date.now();if(y(d))return $(d);a=_(S,E(d))}function $(d){return a=void 0,h&&n?m(d):(n=i=void 0,s)}function T(...d){const x=Date.now(),A=y(x);if(n=d,i=this,l=x,A){if(a===void 0)return p(l);if(c)return a=_(S,t),m(l)}return a===void 0&&(a=_(S,t)),s}return T.cancel=()=>{a!==void 0&&v(a),u=0,n=l=i=a=void 0},T.flush=()=>a===void 0?s:$(Date.now()),T.pending=()=>a!==void 0,T}const eue=(e,t)=>(t=XE(t,2),Lle(e,(r,n,i)=>(i=t(n),hasOwnProperty.call(r,i)?r[i].push(n):Wg(r,i,[n]),r),{})),A1=(e,t=[])=>{if(e==null)return[];const r=t.length;return r>1&&h_(e,t[0],t[1])?t=[]:r>2&&h_(t[0],t[1],t[2])&&(t=[t[0]]),Array.isArray(t)||(t=[XE(t,2)]),Tle(e,t.flat(1),[])},tue=e=>(e==null?0:e.length)?lW(e,1/0):[],uL=(e,...t)=>qs(e)?eW(e,t):[],rue=(e,...t)=>ba(e)&&qs(e)?eW(e,t.flat(1)):[],eP=(...e)=>{const t=e.flat(1);return Jg(t)},Uu=(e,t)=>{if(e==null)return!1;typeof t=="string"&&(t=t.split("."));let r=-1,n=e;for(;++r<t.length;){if(!n||!hasOwnProperty.call(n,t[r]))return!1;n=n[t[r]]}return!0},Vn=(e,t,r)=>{t=Qh(t,e);let n=-1,i=t.length;for(i||(i=1,e=void 0);++n<i;){let o=e==null?void 0:e[Jf(t[n])];o===void 0&&(n=i,o=r),e=typeof o=="function"?o.call(e):o}return e},ug=(e,...t)=>{let r={};if(e==null)return r;let n=!1;t=t.flat(1).map(o=>(o=Qh(o,e),n||(n=o.length>1),o)),Gg(e,XH(e),r),n&&(r=ph(r,!0,!0,!0,o=>qn(o)?void 0:o));let i=t.length;for(;i--;)vle(r,t[i]);return r},Ts=(e,t=r=>r)=>{let r=-1;const n=Object(e),i=qs(e)?GH(e,!0):nW(e);let o=i.length;for(;o--;){const s=i[++r];if(t(n[s],s,n)===!1)break}},nue=(e="")=>Hle(`${e}`.replace(/['\u2019]/g,"")).reduce((t,r,n)=>(r=r.toLowerCase(),t+(n?Gle(r):r)),"");let iue=0;const oue=(e="")=>{const t=++iue;return`${e}`+t},ni=iW((e,t,r,n)=>{ij(e,t,r,n)},!0),ua=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,ec.classNamePrefix.length)!==ec.classNamePrefix&&(t=ec.classNamePrefix+t),t}).join(" ")},sue=function(e){return e&&e.toString().split(" ").map(function(t){return t.substr(0,ec.classNamePrefix.length)===ec.classNamePrefix&&(t=t.substr(ec.classNamePrefix.length)),t}).join(" ")},p_=function(e,t){const r={},n={},i=at.namespace.svg,o=t||i,s=document.createDocumentFragment(),a=function(l,u,f){for(let c=0;c<l.length;c++){const h=l[c];if(typeof h=="string"){const S=document.createTextNode(h);u.appendChild(S);continue}if(!h.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const g=h.tagName;let m;h.hasOwnProperty("namespaceURI")&&(f=h.namespaceURI),m=document.createElementNS(f,g);const _=f===i,v=_?at:Lr,p=h.attributes;p&&v(m).attr(p);const E=h.style;if(E&&Lr(m).css(E),h.hasOwnProperty("className")){const S=h.className;_?m.className.baseVal=S:m.className=S}if(h.hasOwnProperty("textContent")&&(m.textContent=h.textContent),h.hasOwnProperty("selector")){const S=h.selector;if(r[S])throw new Error("json-dom-parser: selector must be unique");r[S]=m,v(m).attr("joint-selector",S)}if(h.hasOwnProperty("groupSelector")){let S=h.groupSelector;Array.isArray(S)||(S=[S]);for(let $=0;$<S.length;$++){const T=S[$];let d=n[T];d||(d=n[T]=[]),d.push(m)}}u.appendChild(m);const y=h.children;Array.isArray(y)&&a(y,m,f)}};return a(e,s,o),{fragment:s,selectors:r,groupSelectors:n}},ey=function(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t},cg=function(e,t,r){for(var n=Array.isArray(t)?t:t.split(r||"/"),i,o=0,s=n.length;o<s;)if(i=n[o++],Object(e)===e&&i in e)e=e[i];else return;return e},fW=function(e,t){return typeof t!="string"&&typeof t!="number"&&(t=String(t)),!(t==="constructor"&&typeof e[t]=="function"||t==="__proto__")},cL=function(e,t,r,n){const i=Array.isArray(t)?t:t.split(n||"/"),o=i.length-1;let s=e,a=0;for(;a<o;a++){const l=i[a];if(!fW(s,l))return e;s=s[l]||(s[l]={})}return s[i[o]]=r,e},fL=function(e,t,r){const n=Array.isArray(t)?t:t.split(r),i=n.length-1;let o=e,s=0;for(;s<i;s++){const a=n[s];if(!fW(o,a))return e;const l=o[a];if(!l)return e;o=l}return delete o[n[i]],e},aue=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},eh=function(e){return eh.id=eh.id||1,e===void 0?"j_"+eh.id++:(e.id=e.id===void 0?"j_"+eh.id++:e.id,e.id)},lue=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},bi=function(e){if(e.normalized)return e;const{originalEvent:t,target:r}=e,n=t&&t.changedTouches&&t.changedTouches[0];if(n)for(let i in n)e[i]===void 0&&(e[i]=n[i]);if(r){const i=r.correspondingUseElement;i&&(e.target=i)}return e.normalized=!0,e},uue=function(e){let i=0,o=0,s=0,a=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=o,o=0),s="deltaX"in e?e.deltaX:i*10,a="deltaY"in e?e.deltaY:o*10,(s||a)&&e.deltaMode&&(e.deltaMode==1?(s*=40,a*=40):(s*=800,a*=800)),e.deltaX===0&&e.deltaY!==0&&e.shiftKey&&(s=a,a=0,i=o,o=0),s&&!i&&(i=s<1?-1:1),a&&!o&&(o=a<1?-1:1),{spinX:i,spinY:o,deltaX:s,deltaY:a}},cue=function(e,t){return e>t?t:e<-t?-t:e},tP=function(){var e;if(typeof window<"u"&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(r){var n=new Date().getTime(),i=Math.max(0,16-(n-t)),o=setTimeout(function(){r(n+i)},i);return t=n+i,o}}return function(r,n,...i){return e(n!==void 0?r.bind(n,...i):r)}}(),rP=function(){var e,t=typeof window<"u";return t&&(e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),e=e||clearTimeout,t?e.bind(window):e}(),Oi=function(e){return zi(e)&&e.slice(-1)==="%"},fue=function(e,t){function r(a){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+a+")$").exec(e);return l?l[1]:null}var n=parseFloat(e);if(Number.isNaN(n))return null;var i={};i.value=n;var o;if(t==null)o="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;o=t.join("|")}else zi(t)&&(o=t);var s=r(o);return s===null?null:(i.unit=s,i)},wm=0;function due(e,t){const r=e.split(t);let n=1;for(let i=0,o=r.length-1;i<o;i++){const s=[];(i>0||r[0]!=="")&&s.push(wm),s.push(t),(i<o-1||r[o]!=="")&&s.push(wm),r.splice(n,0,...s),n+=s.length+1}return r.filter(i=>i!=="")}function dL(e,t){if(e===null)return t.getBBox().height;switch(e.unit){case"em":return t.getBBox().height*e.value;case"px":case"":return e.value}}const hue=function(e,t,r={},n={}){var i=t.width,o=t.height,s=n.svgDocument||at("svg").node,a=at("tspan").node,l=at("text").attr(r).append(a).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(u),s.appendChild(l),n.svgDocument||document.body.appendChild(s);const f=n.preserveSpaces,c=" ",h=n.separator||n.separator===""?n.separator:c,g=typeof h=="string"?h:c;var m=n.eol||`
`,_=n.hyphen?new RegExp(n.hyphen):/[^\w\d\u00C0-\u1FFF\u2800-\uFFFD]/,v=n.maxLineCount;Eo(v)||(v=1/0);var p=e.split(h),E=[],y=[],S,$,T;f&&at(a).attr("xml:space","preserve");for(var d=0,x=0,A=p.length;d<A;d++){var O=p[d];if(!(!O&&!f)&&typeof O=="string"){var C=!1;if(O.indexOf(m)>=0)if(O.length>1){const k=due(p[d],m);p.splice(d,1,...k),d--,A=p.length;continue}else{if(f&&typeof p[d-1]=="string"){p.splice(d,wm,"",wm),A+=2,d--;continue}y[++x]=!f||typeof p[d+1]=="string"?"":void 0,C=!0}if(!C){let k;if(f?k=y[x]!==void 0?y[x]+g+O:O:k=y[x]?y[x]+g+O:O,u.data=k,a.getComputedTextLength()<=i)y[x]=k,(S||$)&&(E[x++]=!0,S=0,$=0);else{if(!y[x]||S){var F=!!S;if(S=O.length-1,F||!S){if(!S){if(!y[x]){y=[];break}p.splice(d,2,O+p[d+1]),A--,E[x++]=!0,d--;continue}p[d]=O.substring(0,S);const B=p[d+1];p[d+1]=O.substring(S)+(B===void 0||B===wm?"":B)}else{if($)p.splice(d,2,p[d]+p[d+1]),$=0;else{var V=O.search(_);V>-1&&V!==O.length-1&&V!==0&&($=V+1,S=0),p.splice(d,1,O.substring(0,$||S),O.substring($||S)),A++}x&&!E[x-1]&&x--}(!f||y[x]!=="")&&d--;continue}x++,d--}}var X=null;if(y.length>v)X=v-1;else if(o!==void 0){if(T===void 0&&u.data!=="")if(r.lineHeight==="auto")T=dL({value:1.5,unit:"em"},l);else{const k=fue(r.lineHeight,["em","px",""]);T=dL(k,l)}T*y.length>o&&(X=Math.floor(o/T)-1)}if(X!==null){y.splice(X+1);var H=n.ellipsis;if(!H||X<0)break;typeof H!="string"&&(H="…");var Z=y[X];if(!Z&&!C)break;var fe=Z.length,ee,ne;do{if(ne=Z[fe],ee=Z.substring(0,fe),ne?ne.match(h)&&(ee+=ne):ee+=g,ee+=H,u.data=ee,a.getComputedTextLength()<=i){y[X]=ee;break}fe--}while(fe>=0);break}}}return n.svgDocument?s.removeChild(l):document.body.removeChild(s),y.join(m)},pue=function(e,t){var r=Lr(e),n=r.map(function(){var i=this,o=i.parentNode,s=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,s),o.removeChild(s)}});return Array.prototype.sort.call(r,t).each(function(i){n[i].call(this)})},Mf=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var r,n,i,o;return r=n=i=o=0,isFinite(e.vertical)&&(r=i=+e.vertical),isFinite(e.horizontal)&&(n=o=+e.horizontal),isFinite(e.top)&&(r=+e.top),isFinite(e.right)&&(n=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:r,right:n,bottom:i,left:o}},mue={linear:function(e){return e}},dW={number:function(e,t){var r=t-e;return function(n){return e+r*n}},object:function(e,t){var r=Object.keys(e);return function(n){var i,o,s={};for(i=r.length-1;i!=-1;i--)o=r[i],s[o]=e[o]+(t[o]-e[o])*n;return s}}},gue={outline:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',r=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return Ki(t)({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:r+n,innerRadius:r})},highlight:function(e){var t='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Ki(t)({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Ki('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Ki(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Ki('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Ki('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Ki('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},Ki=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(r){return r=r||{},e.replace(t,function(n){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),s=o.split("."),a=r[s.shift()];a!==void 0&&s.length;)a=a[s.shift()];return a!==void 0?a:""})}};function hW(e){e=Jg(e);const t=$r(e).reduce(function(r,n){return r[n.id]=n.clone(),r},{});return $r(e).forEach(function(r){const n=t[r.id];if(n.isLink()){const s=n.source(),a=n.target();s.id&&t[s.id]&&n.prop("source/id",t[s.id].id),a.id&&t[a.id]&&n.prop("target/id",t[a.id].id)}const i=r.get("parent");i&&t[i]&&n.set("parent",t[i].id);const o=$r(r.get("embeds")).reduce(function(s,a){return t[a]&&s.push(t[a].id),s},[]);kl(o)||n.set("embeds",o)}),t}const vue=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],yue=vue.reduce((e,t)=>(e[t]=!0,e),{}),wue={qualify:function(e){return qn(e)},set:function(e,t,r){Object.keys(e).forEach(function(n){if(yue[n]&&n in r){const i=e[n];r.tagName==="SELECT"&&Array.isArray(i)?Array.from(r.options).forEach(function(o,s){o.selected=i.includes(o.value)}):r[n]=i}})}};function mu(e,t){return function(r,n){var i=Oi(r);r=parseFloat(r),i&&(r/=100);var o={};if(isFinite(r)){var s=i||r>=0&&r<=1?r*n[t]:Math.max(r+n[t],0);o[e]=s}return o}}function ty(e,t,r){return function(n,i){var o=Oi(n);n=parseFloat(n),o&&(n/=100);var s;if(isFinite(n)){var a=i[r]();o||n>0&&n<1?s=a[e]+i[t]*n:s=a[e]+n}var l=ze();return l[e]=s||0,l}}function hL(e,t,r){return function(n,i){var o;n==="middle"?o=i[t]/2:n===r?o=i[t]:isFinite(n)?o=n>-1&&n<1?-i[t]*n:-n:Oi(n)?o=i[t]*parseFloat(n)/100:o=0;var s=ze();return s[e]=-(i[e]+o),s}}function pW(e,t){var r="joint-shape",n=t&&t.resetOffset;return function(i,o,s){var a=Lr(s),l=a.data(r);if(!l||l.value!==i){var u=e(i);l={value:i,shape:u,shapeBBox:u.bbox()},a.data(r,l)}var f=l.shape.clone(),c=l.shapeBBox.clone(),h=c.origin(),g=o.origin();c.x=g.x,c.y=g.y;var m=o.maxRectScaleToFit(c,g),_=c.width===0||o.width===0?1:m.sx,v=c.height===0||o.height===0?1:m.sy;return f.scale(_,v,h),n&&f.translate(-h.x,-h.y),f}}function pL(e){function t(n){return new Bt(at.normalizePathData(n))}var r=pW(t,e);return function(n,i,o){var s=r(n,i,o);return{d:s.serialize()}}}function mL(e){var t=pW(fn,e);return function(r,n,i){var o=t(r,n,i);return{points:o.serialize()}}}function ry(e,t){var r=new ze(1,0);return function(n){var i,o,s=this[e](n);return s?(o=t.rotate?s.vector().vectorAngle(r):0,i=s.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function gL(e){return function(r,n,i){const o=at(i);o.attr(e)!==r&&o.attr(e,r)}}function wd(e,t,r){return r.text!==void 0}function xp(){return this.model.isLink()}function O1(e){var t={},r=e.stroke;typeof r=="string"&&(t.stroke=r,t.fill=r);var n=e.strokeOpacity;return n===void 0&&(n=e["stroke-opacity"]),n===void 0&&(n=e.opacity),n!==void 0&&(t["stroke-opacity"]=n,t["fill-opacity"]=n),t}function vL(e){const{paper:t}=this;return`url(#${e.type==="pattern"?t.definePattern(e):t.defineGradient(e)})`}const ir={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:gL("href")},xlinkHref:{set:gL("xlink:href")},filter:{qualify:qn,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:qn,set:vL},stroke:{qualify:qn,set:vL},sourceMarker:{qualify:qn,set:function(e,t,r,n){return e=Gt(O1(n),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:qn,set:function(e,t,r,n){return e=Gt(O1(n),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:qn,set:function(e,t,r,n){return e=Gt(O1(n),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,r){return!r.textWrap||!qn(r.textWrap)},set:function(e,t,r,n){const i=Lr(r),o="joint-text",s=i.data(o),{lineHeight:a,annotations:l,textVerticalAnchor:u,eol:f,displayEmpty:c}=n;let h=n.textPath,g=n.x;Ps(g)&&(g=Ns(g,t));let m=n["font-size"]||n.fontSize;Ps(m)&&(m=Ns(m,t));const _=JSON.stringify([e,a,l,u,f,c,h,g,m]);if(s===void 0||s!==_){if(m&&r.setAttribute("font-size",m),Gr(h)){const v=h.selector;if(typeof v=="string"){const[p]=this.findBySelector(v);p instanceof SVGPathElement&&(h=Gt({"xlink:href":"#"+p.id},h))}}at(r).text(""+e,{lineHeight:a,annotations:l,textPath:h,x:g,textVerticalAnchor:u,eol:f,displayEmpty:c}),i.data(o,_)}}},textWrap:{qualify:qn,set:function(e,t,r,n){var i={},o=e.width||0;Oi(o)?i.width=t.width*parseFloat(o)/100:Ps(o)?i.width=Number(Ns(o,t)):e.width===null?i.width=1/0:o<=0?i.width=t.width+o:i.width=o;var s=e.height||0;Oi(s)?i.height=t.height*parseFloat(s)/100:Ps(s)?i.height=Number(Ns(s,t)):e.height===null||(s<=0?i.height=t.height+s:i.height=s);var a,l=e.text;if(l===void 0&&(l=n.text),l!==void 0){const u=e.breakText||hue,f=n["font-size"]||n.fontSize;a=u(""+l,i,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":Ps(f)?Ns(f,t):f,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight,"letter-spacing":"letter-spacing"in n?n["letter-spacing"]:n.letterSpacing},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen,separator:e.separator,maxLineCount:e.maxLineCount,preserveSpaces:e.preserveSpaces})}else a="";ir.text.set.call(this,a,t,r,n)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,r){var n=Lr(r),i="joint-title",o=n.data(i);if(o===void 0||o!==e){if(n.data(i,e),r.tagName==="title"){r.textContent=e;return}var s=r.firstElementChild;if(s&&s.tagName==="title")s.textContent=e;else{var a=document.createElementNS(r.namespaceURI,"title");a.textContent=e,r.insertBefore(a,s)}}}},lineHeight:{qualify:wd},textVerticalAnchor:{qualify:wd},textPath:{qualify:wd},annotations:{qualify:wd},eol:{qualify:wd},displayEmpty:{qualify:wd},port:{set:function(e){return e===null||e.id===void 0?e:e.id}},style:{qualify:qn,set:function(e,t,r){Lr(r).css(e)}},html:{set:function(e,t,r){Lr(r).html(e+"")}},props:wue,ref:{},refX:{position:ty("x","width","origin")},refY:{position:ty("y","height","origin")},refDx:{position:ty("x","width","corner")},refDy:{position:ty("y","height","corner")},refWidth:{set:mu("width","width")},refHeight:{set:mu("height","height")},refRx:{set:mu("rx","width")},refRy:{set:mu("ry","height")},refRInscribed:{set:function(e){var t=mu(e,"width"),r=mu(e,"height");return function(n,i){var o=i.height>i.width?t:r;return o(n,i)}}("r")},refRCircumscribed:{set:function(e,t){var r=Oi(e);e=parseFloat(e),r&&(e/=100);var n=Math.sqrt(t.height*t.height+t.width*t.width),i;return isFinite(e)&&(r||e>=0&&e<=1?i=e*n:i=Math.max(e+n,0)),{r:i}}},refCx:{set:mu("cx","width")},refCy:{set:mu("cy","height")},xAlignment:{offset:hL("x","width","right")},yAlignment:{offset:hL("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:pL({resetOffset:!0})},refDKeepOffset:{set:pL({resetOffset:!1})},refPointsResetOffset:{set:mL({resetOffset:!0})},refPointsKeepOffset:{set:mL({resetOffset:!1})},connection:{qualify:xp,set:function({stubs:e=0}){let t;if(isFinite(e)&&e!==0){let r;e<0?r=(this.getConnectionLength()+e)/2:r=e;const n=this.getConnection(),i=this.getConnectionSubdivisions(),o=n.divideAtLength(r,{segmentSubdivisions:i}),s=n.divideAtLength(-r,{segmentSubdivisions:i});o&&s&&(t=`${o[0].serialize()} ${s[1].serialize()}`)}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:xp,set:ry("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:xp,set:ry("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:xp,set:ry("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:xp,set:ry("getTangentAtRatio",{rotate:!1})}};ir["xlink:href"]=ir.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(e=>{ir[e]={qualify:Ps,set:function(r,n){return{[e]:Ns(r,n)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(e=>{ir[e]={qualify:Ps,set:function(r,n){return{[e]:Math.max(0,Ns(r,n))}}}});ir.refR=ir.refRInscribed;ir.refD=ir.refDResetOffset;ir.refPoints=ir.refPointsResetOffset;ir.atConnectionLength=ir.atConnectionLengthKeepGradient;ir.atConnectionRatio=ir.atConnectionRatioKeepGradient;ir.fontSize=ir["font-size"];ir.strokeWidth=ir["stroke-width"];ir.refX2=ir.refX;ir.refY2=ir.refY;ir.refWidth2=ir.refWidth;ir.refHeight2=ir.refHeight;ir["ref-x"]=ir.refX;ir["ref-y"]=ir.refY;ir["ref-dy"]=ir.refDy;ir["ref-dx"]=ir.refDx;ir["ref-width"]=ir.refWidth;ir["ref-height"]=ir.refHeight;ir["x-alignment"]=ir.xAlignment;ir["y-alignment"]=ir.yAlignment;const mW=ir,ol=Fi.Model.extend({constructor:function(e,t){var r,n=e||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=oue("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(n=this.parse(n,t)||{}),(r=Vn(this,"defaults"))&&(n=ni({},r,n)),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,r){throw new Error("Must define a translate() method.")},toJSON:function(){const t=Vn(this.constructor.prototype,"defaults").attrs||{},r=this.attributes.attrs,n={};Ts(r,function(o,s){const a=t[s];Ts(o,function(l,u){Gr(l)&&!Array.isArray(l)?Ts(l,function(f,c){(!a||!a[u]||!Zd(a[u][c],f))&&(n[s]=n[s]||{},(n[s][u]||(n[s][u]={}))[c]=f)}):(!a||!Zd(a[u],l))&&(n[s]=n[s]||{},n[s][u]=l)})});const i=$s(ug(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(e){const t=this.getIdAttribute();(!e||e[t]===void 0)&&this.set(t,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return aue()},processPorts:function(){var e=this.ports,t={};Ts(this.get("attrs"),function(o,s){o&&o.port&&(o.port.id!==void 0?t[o.port.id]=o.port:t[o.port]={id:o.port})});var r={};if(Ts(e,function(o,s){t[s]||(r[s]=!0)}),this.graph&&!kl(r)){var n=this.graph.getConnectedLinks(this,{inbound:!0});n.forEach(function(o){r[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){r[o.get("source").port]&&o.remove()})}this.ports=t},remove:function(e={}){const{graph:t,collection:r}=this;if(!t)return r&&r.remove(this,e),this;t.startBatch("remove");const n=this.getParentCell();n&&n.unembed(this,e);const i=this.getEmbeddedCells();for(let o=0,s=i.length;o<s;o++){const a=i[o];a&&a.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=Ss(e||{},{foregroundEmbeds:!0});let r;e.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),r.unshift(this)):r=[this];const n=e.foregroundEmbeds?r:A1(r,l=>l.z());let o=t.maxZIndex()-r.length+1;const s=t.get("cells");let a=s.indexOf(n[0])!==s.length-r.length;a||(a=n.some(function(l,u){return l.z()!==o+u})),a&&(this.startBatch("to-front"),o=o+r.length,n.forEach(function(l,u){l.set("z",o+u,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=Ss(e||{},{foregroundEmbeds:!0});let n;e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:e.breadthFirst!==!1,sortSiblings:e.foregroundEmbeds}),n.unshift(this)):n=[this];const i=e.foregroundEmbeds?n:A1(n,a=>a.z());let o=t.minZIndex();var r=t.get("cells");let s=r.indexOf(i[0])!==0;s||(s=i.some(function(a,l){return a.z()!==o+l})),s&&(this.startBatch("to-back"),o-=n.length,i.forEach(function(a,l){a.set("z",o+l,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return e===void 0?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){const r=Array.isArray(e)?e:[e];if(!this.canEmbed(r))throw new Error("Recursive embedding not allowed.");if(r.some(n=>n.isEmbedded()&&this.id!==n.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(r,t),this},unembed:function(e,t){const r=Array.isArray(e)?e:[e];return this._unembedCells(r,t),this},canEmbed:function(e){return(Array.isArray(e)?e:[e]).every(r=>this!==r&&!this.isEmbeddedIn(r))},_embedCells:function(e,t){const r="embed";this.startBatch(r);const n=Gt([],this.get("embeds"));e.forEach(i=>{n[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,t)}),this.set("embeds",Jg(n),t),this.stopBatch(r)},_unembedCells:function(e,t){const r="unembed";this.startBatch(r),e.forEach(n=>n.unset("parent",t)),this.set("embeds",uL(this.get("embeds"),...e.map(n=>n.id)),t),this.stopBatch(r)},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},!this.graph)return[];if(e.deep)return e.breadthFirst?this._getEmbeddedCellsBfs(e.sortSiblings):this._getEmbeddedCellsDfs(e.sortSiblings);const t=this.get("embeds");if(kl(t))return[];let r=t.map(this.graph.getCell,this.graph);return e.sortSiblings&&(r=A1(r,n=>n.z())),r},_getEmbeddedCellsBfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.shift();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});r.push(...i)}return t.shift(),t},_getEmbeddedCellsDfs:function(e){const t=[],r=[];for(r.push(this);r.length>0;){const n=r.pop();t.push(n);const i=n.getEmbeddedCells({sortSiblings:e});for(let o=i.length-1;o>=0;--o)r.push(i[o])}return t.shift(),t},isEmbeddedIn:function(e,t){var r=zi(e)?e:e.id,n=this.parent();if(t=Gt({deep:!0},t),this.graph&&t.deep){for(;n;){if(n===r)return!0;n=this.graph.getCell(n).parent()}return!1}else return n===r},isEmbedded:function(){return!!this.parent()},clone:function(e){if(e=e||{},e.deep)return $r(hW([this].concat(this.getEmbeddedCells({deep:!0}))));var t=Fi.Model.prototype.clone.apply(this,arguments);return t.set(this.getIdAttribute(),this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(e,t,r){var n="/",i=zi(e);if(i||Array.isArray(e))if(arguments.length>1){var o,s;i?(o=e,s=o.split("/")):(o=e.join(n),s=e.slice());var a=s[0],l=s.length;const y=r||{};y.propertyPath=o,y.propertyValue=t,y.propertyPathArray=s,"rewrite"in y||(y.rewrite=!1);for(var u={},f=u,c=a,h=1;h<l;h++){var g=s[h],m=Number.isFinite(i?Number(g):g);f=f[c]=m?[]:{},c=g}u=cL(u,s,t,"/");var _=ni({},this.attributes);y.rewrite&&fL(_,o,"/");var v=ni(_,u);return this.set(a,v[a],y)}else return cg(this.attributes,e,n);const p=t||{};p.propertyPath=null,p.propertyValue=e,p.propertyPathArray=[],"rewrite"in p||(p.rewrite=!1);const E={};for(const y in e){const{changedValue:S}=ni({},{changedValue:this.attributes[y]},{changedValue:e[y]});E[y]=S}return this.set(E,p)},removeProp:function(e,t){t=t||{};var r=Array.isArray(e)?e:e.split("/"),n=r[0];if(n==="attrs"&&(t.dirty=!0),r.length===1)return this.unset(e,t);var i=r.slice(1),o=this.get(n);return o==null?this:(o=$s(o),fL(o,i,"/"),this.set(n,o,t))},attr:function(e,t,r){var n=Array.from(arguments);return n.length===0?this.get("attrs"):(Array.isArray(e)?n[0]=["attrs"].concat(e):zi(e)?n[0]="attrs/"+e:n[0]={attrs:e},this.prop.apply(this,n))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,r,n){n=n||"/";var i={duration:100,delay:10,timingFunction:mue.linear,valueFunction:dW.number};r=Gt(i,r);var o=0,s,a=(function(c){var h,g,m;o=o||c,c-=o,g=c/r.duration,g<1?this._transitionIds[e]=h=tP(a):(g=1,delete this._transitionIds[e]),m=s(r.timingFunction(g)),r.transitionId=h,this.prop(e,m,r),h||this.trigger("transition:end",this,e)}).bind(this);const{_scheduledTransitionIds:l}=this;let u;var f=c=>{l[e]&&(l[e]=uL(l[e],u),l[e].length===0&&delete l[e]),this.stopPendingTransitions(e,n),s=r.valueFunction(cg(this.attributes,e,n),t),this._transitionIds[e]=tP(c),this.trigger("transition:start",this,e)};return u=setTimeout(f,r.delay,a),l[e]||(l[e]=[]),l[e].push(u),u},getTransitions:function(){return eP(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(e,t="/"){const{_scheduledTransitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Zd(i,o.split(t).slice(0,i.length)))}return n.forEach(i=>{r[i].forEach(s=>clearTimeout(s)),delete r[i]}),this},stopPendingTransitions(e,t="/"){const{_transitionIds:r={}}=this;let n=Object.keys(r);if(e){const i=e.split(t);n=n.filter(o=>Zd(i,o.split(t).slice(0,i.length)))}n.forEach(i=>{const o=r[i];rP(o),delete r[i],this.trigger("transition:end",this,i)})},stopTransitions:function(e,t="/"){return this.stopScheduledTransitions(e,t),this.stopPendingTransitions(e,t),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Gt({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Gt({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var r in e)!e.hasOwnProperty(r)||!this.hasChanged(r)||(t|=e[r]);return t},angle:function(){return 0},position:function(){return new ze(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new ze},getBBox:function(){return new Pt(0,0,0,0)},getPointRotatedAroundCenter(e,t,r){const n=new ze(t,r);return e&&n.rotate(this.getBBox().center(),e),n},getAbsolutePointFromRelative(e,t){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(e,t))},getRelativePointFromAbsolute(e,t){return this.getPointRotatedAroundCenter(this.angle(),e,t).difference(this.position())}},{getAttributeDefinition:function(e){var t=this.attributes,r=mW;return t&&t[e]||r[e]},define:function(e,t,r,n){r=Gt({defaults:sj({type:e},t,this.prototype.defaults)},r);var i=this.extend(r,n);return typeof joint<"u"&&Uu(joint,"shapes")&&cL(joint.shapes,e,i,"."),i}}),bue=function(e,t,r){if(zi(r)){if(!nP[r])throw new Error('Unknown wrapper: "'+r+'"');r=nP[r]}if(!hn(r))throw new Error("Wrapper must be a function.");$r(t).forEach(function(n){e[n]=r(e[n])})},nP={cells:function(e){return function(){var t=Array.from(arguments),r=t.length,n=r>0&&t[0]||[],i=r>1&&t[r-1]||{};return Array.isArray(n)||(i instanceof ol?n=t:n instanceof ol&&(t.length>1&&t.pop(),n=t)),i instanceof ol&&(i={}),e.call(this,n,i)}}},Ln={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function gW(e,t){const r=new Pt(e);switch(t){case void 0:throw new Error("Position required");case Ln.LEFT:case"leftMiddle":return r.leftMiddle();case Ln.RIGHT:case"rightMiddle":return r.rightMiddle();case Ln.TOP:case"topMiddle":return r.topMiddle();case Ln.BOTTOM:case"bottomMiddle":return r.bottomMiddle();case Ln.TOP_LEFT:case"topLeft":case"origin":return r.topLeft();case Ln.TOP_RIGHT:case"topRight":return r.topRight();case Ln.BOTTOM_LEFT:case"bottomLeft":return r.bottomLeft();case Ln.BOTTOM_RIGHT:case"bottomRight":case"corner":return r.bottomRight();case Ln.CENTER:return r.center();default:throw new Error(`Unknown position: ${t}`)}}function vW(e,t,r){var n=e.toJSON();return n.angle=t||0,Ss({},r,n)}function Yg(e,t,r,n){return e.map(function(i,o,s){var a=this.pointAt((o+.5)/s.length);return(i.dx||i.dy)&&a.offset(i.dx||0,i.dy||0),vW(a.round(),0,aj(n,i))},$f(t,r))}function yW(e,t,r,n){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=ro.fromRect(t);return e.map(function(l,u,f){var c=r+n(u,f.length),h=s.clone().rotate(i,-c).scale(o,1,i),g=l.compensateRotation?-a.tangentTheta(h):0;return(l.dx||l.dy)&&h.offset(l.dx||0,l.dy||0),l.dr&&h.move(i,l.dr),vW(h.round(),g,aj(t,l))})}function aj(e,t){let{x:r,y:n,angle:i}=t;return Oi(r)?r=parseFloat(r)/100*e.width:Ps(r)&&(r=Number(Ns(r,e))),Oi(n)?n=parseFloat(n)/100*e.height:Ps(n)&&(n=Number(Ns(n,e))),{x:r,y:n,angle:i}}function iP(e,t){const{x:r,y:n}=aj(e,t);return new ze(r||0,n||0)}const _ue=function(e,t){return e.map(r=>{const n=iP(t,r).round().toJSON();return n.angle=r.angle||0,n})},Eue=function(e,t,r){return r.fn(e,t,r)},Sue=function(e,t,r){var n=iP(t,r.start||t.origin()),i=iP(t,r.end||t.corner());return Yg(e,n,i,t)},$ue=function(e,t,r){return Yg(e,t.origin(),t.bottomLeft(),t)},Tue=function(e,t,r){return Yg(e,t.topRight(),t.corner(),t)},xue=function(e,t,r){return Yg(e,t.origin(),t.topRight(),t)},Aue=function(e,t,r){return Yg(e,t.bottomLeft(),t.corner(),t)},Oue=function(e,t,r){var n=r.startAngle||0,i=r.step||360/e.length;return yW(e,t,n,function(o){return o*i})},Pue=function(e,t,r){var n=r.startAngle||0,i=r.step||20;return yW(e,t,n,function(o,s){return(o+.5-s/2)*i})},Nue=Object.freeze(Object.defineProperty({__proto__:null,absolute:_ue,bottom:Aue,ellipse:Pue,ellipseSpread:Oue,fn:Eue,left:$ue,line:Sue,right:Tue,top:xue},Symbol.toStringTag,{value:"Module"}));function Ec(e,t){return sj({},e,t,{x:0,y:0,angle:0,attrs:{}})}function wW(e){var t=e.center(),r=t.theta(e.origin()),n=t.theta(e.bottomLeft()),i=t.theta(e.corner()),o=t.theta(e.topRight());return[r,o,i,n]}function bW(e,t,r,n){n=Ss({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,h,g,m]=wW(t);i<h||i>g?(a=".3em",o=u,s=0,l="start"):i<c?(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0")):i<m?(a=".3em",o=-u,s=0,l="end"):(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em"));var _=Math.round;return Ec(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function _W(e,t,r,n){n=Ss({},n,{offset:15});var i=t.center().theta(e),o,s,a,l,u=n.offset,f=0;const[c,h,g,m]=wW(t);i<h||i>g?(a=".3em",o=-u,s=0,l="end"):i<c?(o=0,s=u,r?(f=90,l="start",a=".3em"):(l="middle",a=".6em")):i<m?(a=".3em",o=u,s=0,l="start"):(o=0,s=-u,r?(f=-90,l="start",a=".3em"):(l="middle",a="0"));var _=Math.round;return Ec(n,{x:_(o),y:_(s),angle:f,attrs:{labelText:{y:a,textAnchor:l}}})}function EW(e,t,r){r=Ss({},r,{offset:20});var n=a_(0,0),i=-e.theta(n),o=i,s=e.clone().move(n,r.offset).difference(e).round(),a=".3em",l;(i+90)%180===0?(l=t?"end":"middle",!t&&i===-270&&(a="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var u=Math.round;return Ec(r,{x:u(s.x),y:u(s.y),angle:t?o:0,attrs:{labelText:{y:a,textAnchor:l}}})}const Rue=function(e,t,r){return Ec(r)},Iue=function(e,t,r){return Ec(r,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},jue=function(e,t,r){return Ec(r,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},kue=function(e,t,r){return Ec(r,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},Cue=function(e,t,r){return Ec(r,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},Due=function(e,t,r){return bW(e,t,!0,r)},Mue=function(e,t,r){return bW(e,t,!1,r)},Lue=function(e,t,r){return _W(e,t,!0,r)},Fue=function(e,t,r){return _W(e,t,!1,r)},Bue=function(e,t,r){return EW(e.difference(t.center()),!1,r)},Uue=function(e,t,r){return EW(e.difference(t.center()),!0,r)},zue=Object.freeze(Object.defineProperty({__proto__:null,bottom:Cue,inside:Fue,insideOriented:Lue,left:Iue,manual:Rue,outside:Mue,outsideOriented:Due,radial:Bue,radialOriented:Uue,right:jue,top:kue},Symbol.toStringTag,{value:"Module"})),Zh=ol.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,r){if(e===void 0)return za(this.get("source"));var n,i,o=e instanceof ol;if(o)return n=za(t)||{},n.id=e.id,i=r,this.set("source",n,i);var s=!qn(e);return s?(n=za(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("source",n,i)):(n=e,i=t,this.set("source",n,i))},target:function(e,t,r){if(e===void 0)return za(this.get("target"));var n,i,o=e instanceof ol;if(o)return n=za(t)||{},n.id=e.id,i=r,this.set("target",n,i);var s=!qn(e);return s?(n=za(t)||{},n.x=e.x,n.y=e.y,i=r,this.set("target",n,i)):(n=e,i=t,this.set("target",n,i))},router:function(e,t,r){if(e===void 0){var n=this.get("router");return n?typeof n=="object"?za(n):n:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("router",o,s)},connector:function(e,t,r){if(e===void 0){var n=this.get("connector");return n?typeof n=="object"?za(n):n:this.get("smooth")?{name:"smooth"}:null}var i=typeof e=="object"||typeof e=="function",o=i?e:{name:e,args:t},s=i?t:r;return this.set("connector",o,s)},label:function(e,t,r){var n=this.labels();return e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,r)},labels:function(e,t){return arguments.length===0?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},hasLabels:function(){const{labels:e}=this.attributes;return Array.isArray(e)&&e.length>0},insertLabel:function(e,t,r){if(!t)throw new Error("dia.Link: no label provided");var n=this.labels(),i=n.length;return e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1),n.splice(e,0,t),this.labels(n,r)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var r=this.labels();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.labels(r,t)},vertex:function(e,t,r){var n=this.vertices();if(e=isFinite(e)&&e!==null?e|0:0,e<0&&(e=n.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,r)},vertices:function(e,t){if(arguments.length===0)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var r=[],n=0;n<e.length;n++){var i=e[n],o=this._normalizeVertex(i);r.push(o)}return this.set("vertices",r,t)},insertVertex:function(e,t,r){if(!t)throw new Error("dia.Link: no vertex provided");var n=this.vertices(),i=n.length;e=isFinite(e)&&e!==null?e|0:i,e<0&&(e=i+e+1);var o=this._normalizeVertex(t);return n.splice(e,0,o),this.vertices(n,r)},removeVertex:function(e,t){var r=this.vertices();return e=isFinite(e)&&e!==null?e|0:-1,r.splice(e,1),this.vertices(r,t)},_normalizeVertex:function(e){var t=!qn(e);return t?{x:e.x,y:e.y}:e},translate:function(e,t,r){return r=r||{},r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},r)},scale:function(e,t,r,n){return this.applyToPoints(function(i){return ze(i).scale(e,t,r).toJSON()},n)},applyToPoints:function(e,t){if(!hn(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var r={},{source:n,target:i}=this.attributes;n.id||(r.source=e(n)),i.id||(r.target=e(i));var o=this.vertices();return o.length>0&&(r.vertices=o.map(e)),this.set(r,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new ze(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new ze(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const e=[this.getSourcePoint(),...this.vertices().map(ze),this.getTargetPoint()];return new fn(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var r=this.getSourceElement(),n=this.getTargetElement(),i=this.getParentCell();r&&n&&(r===n||r.isEmbeddedIn(n)?t=n:n.isEmbeddedIn(r)?t=r:t=this.graph.getCommonAncestor(r,n)),i&&(!t||t.id!==i.id)&&i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var{source:t,target:r}=this.attributes,n=t.id,i=r.id;if(!n||!i)return!1;var o=n===i;if(!o&&e.deep&&this.graph){var s=this.getSourceCell(),a=this.getTargetCell();o=s.isEmbeddedIn(a)||a.isEmbeddedIn(s)}return o},getSourceCell:function(){const{graph:e,attributes:t}=this;var r=t.source;return r&&r.id&&e&&e.getCell(r.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){const{graph:e,attributes:t}=this;var r=t.target;return r&&r.id&&e&&e.getCell(r.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(r){return!!r});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=zi(e)||Eo(e)?e:e.id,r=this.getRelationshipAncestor();return!!r&&(r.id===t||r.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){var r=e.port===t.port||!e.port&&!t.port;return e.id===t.id&&r}});var SW=function(e){var t=$s(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Nue,this.portLabelLayoutNamespace=zue,this._init(t)};SW.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var r=this.getGroup(e),n=this.getPortsByGroup(e),i=r.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},l=n.map(function(c){return c&&c.position&&c.position.args}),u=s[o](l,t,a),f={ports:n,result:[]};return $r(u).reduce((function(c,h,g){var m=c.ports[g];return c.result.push({portId:m.id,portTransformation:h,labelTransformation:this._getPortLabelLayout(m,ze(h),t),portAttrs:m.attrs,portSize:m.size,labelSize:m.label.size}),c}).bind(this),f),f.result},_getPortLabelLayout:function(e,t,r){var n=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return n[i]?n[i](t,r,e.label.position.args):null},_init:function(e){if(Gr(e.groups))for(var t=Object.keys(e.groups),r=0,n=t.length;r<n;r++){var i=t[r];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=$r(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return ni(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Gt({},e),r=this.getGroup(e.group);return t.markup=t.markup||r.markup,t.attrs=ni({},r.attrs,t.attrs),t.position=this._createPositionNode(r,t),t.label=ni({},r.label,this._getLabel(t)),t.z=this._getZIndex(r,t),t.size=Gt({},r.size,t.size),t},_getZIndex:function(e,t){return Eo(t.z)?t.z:Eo(e.z)||e.z==="auto"?e.z:"auto"},_createPositionNode:function(e,t){return ni({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var r={},n;hn(e)?(n="fn",r.fn=e):zi(e)?n=e:e===void 0?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):Gr(e)&&(n=e.name,Gt(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var r=e.label||{},n=r;return n.position=this._getPosition(r.position,t),n}};const que={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};$r(e.items).forEach(function(a){t[a.id]=!0});var r=this.previous("ports")||{},n={};$r(r.items).forEach(function(a){t[a.id]||(n[a.id]=!0)});var i=this.graph;if(i&&!kl(n)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(a){n[a.get("target").port]&&a.remove()});var s=i.getConnectedLinks(this,{outbound:!0});s.forEach(function(a){n[a.get("source").port]&&a.remove()})}},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return this.getPortIndex(e)!==-1},getPorts:function(){return $s(this.prop("ports/items"))||[]},getGroupPorts:function(e){const t=$r(this.prop(["ports","items"])).filter(r=>r.group===e);return $s(t)},getPort:function(e){return $s($r(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){var t=this._portSettingsData.getGroupPortsMetrics(e,Pt(this.size()));return t.reduce(function(r,n){var i=n.portTransformation;return r[n.portId]={x:i.x,y:i.y,angle:i.angle},r},{})},getPortIndex:function(e){var t=Gr(e)?e.id:e;return this._isValidPortId(t)?$r(this.prop("ports/items")).findIndex(function(r){return r.id===t}):-1},addPort:function(e,t){if(!Gr(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var r=Gt([],this.prop("ports/items"));return r.push(e),this.prop("ports/items",r,t),this},insertPort:function(e,t,r){const n=typeof e=="number"?e:this.getPortIndex(e);if(!Gr(t)||Array.isArray(t))throw new Error("dia.Element: insertPort requires an object.");const i=Gt([],this.prop("ports/items"));return i.splice(n,0,t),this.prop("ports/items",i,r),this},portProp:function(e,t,r,n){var i=this.getPortIndex(e);if(i===-1)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):zi(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],qn(t)&&(o.push(t),o.push(r))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[];e=e||{};var r=$r(e.items);return r.forEach(function(n){typeof n!="object"&&t.push("Element: invalid port ",n),this._isValidPortId(n.id)||(n.id=this.generatePortId())},this),Jg(r,"id").length!==r.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return e!=null&&!Gr(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Gt([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){const r=t||{},n=this.getPortIndex(e);if(n!==-1){const i=Gt([],this.prop(["ports","items"]));i.splice(n,1),r.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,r),this.stopBatch("port-remove")}return this},removePorts:function(e,t){let r,n;if(Array.isArray(e)){if(r=t||{},e.length===0)return this.this;n=Gt([],this.prop(["ports","items"])).filter(function(o){return!e.some(function(s){const a=Gr(s)?s.id:s;return o.id===a})})}else r=e||{},n=[];return this.startBatch("port-remove"),r.rewrite=!0,this.prop(["ports","items"],n,r),this.stopBatch("port-remove"),this},_createPortData:function(){var e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));var t;this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new SW(this.get("ports"));var r=this._portSettingsData.getPorts();if(t){var n=r.filter(function(o){if(!t.find(function(s){return s.id===o.id}))return o}),i=t.filter(function(o){if(!r.find(function(s){return s.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),n.length>0&&this.trigger("ports:add",this,n)}}},Vue={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),r=0,n=t.node.childNodes.length;r<n;r++)e.push(t.node.childNodes[r]);var i=eue(this.model._portSettingsData.getPorts(),"z"),o="auto";$r(i[o]).forEach(function(f){var c=this._getPortElement(f);t.append(c),e.push(c)},this);for(var s=Object.keys(i),a=0;a<s.length;a++){var l=s[a];if(l!==o){var u=parseInt(l,10);this._appendPorts(i[l],u,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,r){var n=this._getContainerElement(),i=$r(e).map(this._getPortElement,this);r[t]||t<0?at(r[Math.max(t,0)]).before(i):n.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){const r=this._portElementsCache[e];if(!r)return null;if(!t)return r.portContentElement.node;const n=r.portElement.node,i=r.portSelectors,[o=null]=this.findBySelector(t,n,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var e=Object.keys(this.model._portSettingsData.groups);e.forEach(this._updatePortGroup,this)},_removePorts:function(){Ja(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){let t,r,n,i;var o=at(this.portContainerMarkup).addClass("joint-port"),s=this._getPortMarkup(e);if(Array.isArray(s)){var a=this.parseDOMJSON(s,o.node),l=a.fragment;l.childNodes.length>1?t=at("g").append(l):t=at(l.firstChild),i=a.selectors}else t=at(s),Array.isArray(t)&&(t=at("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});const u=this._getPortLabelMarkup(e.label);if(Array.isArray(u)){const{fragment:_,selectors:v}=this.parseDOMJSON(u,o.node),p=_.childNodes.length;p>0&&(n=v,r=p===1?at(_.firstChild):at("g").append(_))}else r=at(u),Array.isArray(r)&&(r=at("g").append(r));var f;if(i&&n){for(var c in n)if(i[c]&&c!==this.selector)throw new Error("ElementView: selectors within port must be unique.");f=Gt({},i,n)}else f=i||n||{};const h="portRoot",g="labelRoot",m="labelText";if(h in f||(f[h]=t.node),r){const _=r.node;if(g in f||(f[g]=_),!(m in f)){const v=r.tagName()==="TEXT"?_:Array.from(_.querySelectorAll("text"));f[m]=v,n||(n={}),n[m]=v}}return o.append(t.addClass("joint-port-body")),r&&o.append(r.addClass("joint-port-label")),this._portElementsCache[e.id]={portElement:o,portLabelElement:r,portSelectors:f,portLabelSelectors:n,portContentElement:t,portContentSelectors:i},o},_updatePortGroup:function(e){for(var t=Pt(this.model.size()),r=this.model._portSettingsData.getGroupPortsMetrics(e,t),n=0,i=r.length;n<i;n++){var o=r[n],s=o.portId,a=this._portElementsCache[s]||{},l=o.portTransformation,u=o.labelTransformation;u&&a.portLabelElement&&(this.updateDOMSubtreeAttributes(a.portLabelElement.node,u.attrs,{rootBBox:new Pt(o.labelSize),selectors:a.portLabelSelectors}),this.applyPortTransform(a.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(a.portElement.node,o.portAttrs,{rootBBox:new Pt(o.portSize),selectors:a.portSelectors}),this.applyPortTransform(a.portElement,l)}},applyPortTransform:function(e,t,r){var n=at.createSVGMatrix().rotate(r||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(n,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},co=ol.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),ol.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,r){const n=Eo(t);r=(n?r:e)||{};const{parentRelative:i,deep:o,restrictedArea:s}=r;let a;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(a=l.get("position"))}if(n){if(a&&(e+=a.x,t+=a.y),o||s){const{x:l,y:u}=this.get("position");this.translate(e-l,t-u,r)}else this.set("position",{x:e,y:t},r);return this}else{const l=ze(this.get("position"));return i?l.difference(a):l}},translate:function(e,t,r){if(e=e||0,t=t||0,e===0&&t===0)return this;r=r||{},r.translateBy=r.translateBy||this.id;var n=this.get("position")||{x:0,y:0},i=r.restrictedArea;if(i&&r.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,n.x+e,n.y+t,r);e=o.x-n.x,t=o.y-n.y}else{var s=this.getBBox({deep:!0}),a=n.x-s.x,l=n.y-s.y,u=Math.max(i.x+a,Math.min(i.x+i.width+a-s.width,n.x+e)),f=Math.max(i.y+l,Math.min(i.y+i.height+l-s.height,n.y+t));e=u-n.x,t=f-n.y}var c={x:n.x+e,y:n.y+t};return r.tx=e,r.ty=t,r.transition?(Gr(r.transition)||(r.transition={}),this.transition("position",c,Gt({},r.transition,{valueFunction:dW.object})),Ja(this.getEmbeddedCells(),"translate",e,t,r)):(this.startBatch("translate",r),this.set("position",c,r),Ja(this.getEmbeddedCells(),"translate",e,t,r),this.stopBatch("translate",r)),this},size:function(e,t,r){var n=this.get("size");return e===void 0?{width:n.width,height:n.height}:(Gr(e)&&(r=t,t=Eo(e.height)?e.height:n.height,e=Eo(e.width)?e.width:n.width),this.resize(e,t,r))},resize:function(e,t,r){if(r=r||{},this.startBatch("resize",r),r.direction){var n=this.get("size");switch(r.direction){case"left":case"right":t=n.height;break;case"top":case"bottom":e=n.width;break}var i=ya(this.get("angle")||0),o=this.getBBox(),s;if(i){var a={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[r.direction];r.absolute&&(a+=Math.floor((i+45)/90),a%=4);var l=o[["bottomLeft","corner","topRight","origin"][a]](),u=ze(l).rotate(o.center(),-i),f=Math.sqrt(e*e+t*t)/2,c=a*Math.PI/2;c+=Math.atan(a%2==0?t/e:e/t),c-=Po(i);var h=ze.fromPolar(f,c,u);s=ze(h).offset(e/-2,t/-2)}else switch(s=o.topLeft(),r.direction){case"top":case"top-right":s.offset(0,o.height-t);break;case"left":case"bottom-left":s.offset(o.width-e,0);break;case"top-left":s.offset(o.width-e,o.height-t);break}this.set("size",{width:e,height:t},r),this.position(s.x,s.y,r)}else this.set("size",{width:e,height:t},r);return this.stopBatch("resize",r),this},scale:function(e,t,r,n){var i=this.getBBox().scale(e,t,r);return this.startBatch("scale",n),this.position(i.x,i.y,n),this.resize(i.width,i.height,n),this.stopBatch("scale"),this},fitEmbeds:function(e){return this.fitToChildren(e)},fitToChildren:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");const r=this.getEmbeddedCells().filter(n=>n.isElement());return r.length===0?this:(this.startBatch("fit-embeds",e),e.deep&&Ja(r,"fitToChildren",e),this._fitToElements(Object.assign({elements:r},e)),this.stopBatch("fit-embeds"),this)},fitParent:function(e={}){const{graph:t}=this;if(!t)throw new Error("Element must be part of a graph.");if(e.deep&&e.terminator&&(e.terminator===this||e.terminator===this.id))return this;const r=this.getParentCell();if(!r||!r.isElement())return this;const n=r.getEmbeddedCells().filter(i=>i.isElement());return n.length===0?this:(this.startBatch("fit-parent",e),r._fitToElements(Object.assign({elements:n},e)),e.deep&&r.fitParent(e),this.stopBatch("fit-parent"),this)},_fitToElements:function(e={}){const t=this.graph.getCellsBBox(e.elements);if(!t)return;const{expandOnly:r,shrinkOnly:n}=e;if(r&&n)return;let{x:i,y:o,width:s,height:a}=t;const{left:l,right:u,top:f,bottom:c}=Mf(e.padding);i-=l,o-=f,s+=l+u,a+=c+f;let h=new Pt(i,o,s,a);if(r)h=this.getBBox().union(h);else if(n){const g=this.getBBox().intersect(h);if(!g)return;h=g}this.set({position:{x:h.x,y:h.y},size:{width:h.width,height:h.height}},e)},rotate:function(e,t,r,n){if(r){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(r,this.get("angle")-e);var a=i.x-o.width/2-s.x,l=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:r}),this.position(s.x+a,s.y+l,n),this.rotate(e,t,null,n),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,n);return this},angle:function(){return ya(this.get("angle")||0)},getBBox:function(e={}){const{graph:t,attributes:r}=this,{deep:n,rotate:i}=e;if(n&&t){const c=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return c.push(this),t.getCellsBBox(c,e)}const{angle:o=0,position:{x:s,y:a},size:{width:l,height:u}}=r,f=new Pt(s,a,l,u);return i&&f.rotateAroundCenter(o),f},getPointFromConnectedLink:function(e,t){var r=this.getBBox(),n=r.center(),i=e.get(t);if(!i)return n;var o=i.port;if(!o||!this.hasPort(o))return n;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new ze(a[o]).offset(r.origin()),u=this.angle();return u&&l.rotate(n,-u),l}});Gt(co.prototype,que);const Hue=Fi.Collection.extend({initialize:function(e,t){t.cellNamespace?this.cellNamespace=t.cellNamespace:this.cellNamespace=typeof joint<"u"&&Uu(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var r=t.collection,n=r.cellNamespace,i=e.type==="link"?Zh:cg(n,e.type,".")||co,o=new i(e,t);return t.dry||(o.graph=r.graph),o},comparator:function(e){return e.get("z")||0}}),lj=Fi.Model.extend({initialize:function(e,t){t=t||{};var r=new Hue([],{model:t.cellModel,cellNamespace:t.cellNamespace,graph:this});Fi.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var{source:t,target:r}=e.attributes;t.id&&((this._out[t.id]||(this._out[t.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var{source:t,target:r}=e.attributes;t.id&&this._out[t.id]&&this._out[t.id][e.id]&&delete this._out[t.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var r=e.attributes.source;r.id&&((this._out[r.id]||(this._out[r.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var r=e.get("target");r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=Fi.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,t,r){var n;return typeof e=="object"?(n=e,r=t):(n={})[e]=t,n.hasOwnProperty("cells")&&(this.resetCells(n.cells,r),n=ug(n,"cells")),Fi.Model.prototype.set.call(this,n,r)},clear:function(e){e=Gt({},e,{clear:!0});var t=this.get("cells");if(t.length===0)return this;this.startBatch("clear",e);var r=t.sortBy(function(n){return n.isLink()?1:2});do r.shift().remove(e);while(r.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,t){var r;if(e instanceof Fi.Model?(r=e.attributes,!e.graph&&(!t||!t.dry)&&(e.graph=this)):r=e,!zi(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,t){return Array.isArray(e)?this.addCells(e,t):(e instanceof Fi.Model?e.has("z")||e.set("z",this.maxZIndex()+1):e.z===void 0&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,t),t||{}),this)},addCells:function(e,t){return e.length===0?this:(e=tue(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(r){this.addCell(r,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var r=$r(e).map(function(n){return this._prepareCell(n,t)},this);return this.get("cells").reset(r,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Ja(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,r){r=r||{},r.clear||(r.disconnectLinks?this.disconnectLinks(e,r):this.removeLinks(e,r)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(e=>e.isElement())},getLinks:function(){return this.get("cells").filter(e=>e.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){t=t||{};var r=t.indirect,n=t.inbound,i=t.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=[],s={};i&&a(this,e),n&&l(this,e);function a(c,h){if(Ts(c.getOutboundEdges(h.id),(function(m,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&h.isLink()){var g=h.getTargetCell();g&&g.isLink()&&(s[g.id]||(o.push(g),a(c,g)))}}function l(c,h){if(Ts(c.getInboundEdges(h.id),(function(m,_){if(!s[_]){var v=c.getCell(_);o.push(v),s[_]=!0,r&&(n&&l(c,v),i&&a(c,v))}}).bind(c)),r&&h.isLink()){var g=h.getSourceCell();g&&g.isLink()&&(s[g.id]||(o.push(g),l(c,g)))}}if(t.deep){var u=e.getEmbeddedCells({deep:!0}),f={};u.forEach(function(c){c.isElement()&&(f[c.id]=!0)}),u.forEach(function(c){c.isLink()||(i&&Ts(this.getOutboundEdges(c.id),(function(h,g){if(!s[g]){var m=this.getCell(g),{source:_,target:v}=m.attributes,p=_.id,E=v.id;if(!t.includeEnclosed&&p&&f[p]&&E&&f[E])return;o.push(this.getCell(g)),s[g]=!0}}).bind(this)),n&&Ts(this.getInboundEdges(c.id),(function(h,g){if(!s[g]){var m=this.getCell(g),{source:_,target:v}=m.attributes,p=_.id,E=v.id;if(!t.includeEnclosed&&p&&f[p]&&E&&f[E])return;o.push(this.getCell(g)),s[g]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var r=t.inbound,n=t.outbound;r===void 0&&n===void 0&&(r=n=!0);var i=this.getConnectedLinks(e,t).reduce((function(a,l){var{source:u,target:f}=l.attributes,c=l.hasLoop(t);if(r&&Uu(u,"id")&&!a[u.id]){var h=this.getCell(u.id);h.isElement()&&(c||h&&h!==e&&(!t.deep||!h.isEmbeddedIn(e)))&&(a[u.id]=h)}if(n&&Uu(f,"id")&&!a[f.id]){var g=this.getCell(f.id);g.isElement()&&(c||g&&g!==e&&(!t.deep||!g.isEmbeddedIn(e)))&&(a[f.id]=g)}return a}).bind(this),{});if(e.isLink()){if(r){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(n){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return $r(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(r){for(var n=[],i=r.get("parent");i;)n.push(i),i=this.getCell(i).get("parent");return n},this);e=e.sort(function(r,n){return r.length-n.length});var t=$r(e.shift()).find(function(r){return e.every(function(n){return n.includes(r)})});return this.getCell(t)},getSuccessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Gt({},t,{outbound:!0})),r},cloneCells:hW,cloneSubgraph:function(e,t){var r=this.getSubgraph(e,t);return this.cloneCells(r)},getSubgraph:function(e,t){t=t||{};var r=[],n={},i=[],o=[];return $r(e).forEach(function(s){if(n[s.id]||(r.push(s),n[s.id]=s,s.isLink()?o.push(s):i.push(s)),t.deep){var a=s.getEmbeddedCells({deep:!0});a.forEach(function(l){n[l.id]||(r.push(l),n[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(s){var{source:a,target:l}=s.attributes;if(a.id&&!n[a.id]){var u=this.getCell(a.id);r.push(u),n[u.id]=u,i.push(u)}if(l.id&&!n[l.id]){var f=this.getCell(l.id);r.push(this.getCell(l.id)),n[f.id]=f,i.push(f)}},this),i.forEach(function(s){var a=this.getConnectedLinks(s,t);a.forEach(function(l){var{source:u,target:f}=l.attributes;!n[l.id]&&u.id&&n[u.id]&&f.id&&n[f.id]&&(r.push(l),n[l.id]=l)})},this),r},getPredecessors:function(e,t){t=t||{};var r=[];return this.search(e,function(n){n!==e&&r.push(n)},Gt({},t,{inbound:!0})),r},search:function(e,t,r){r=r||{},r.breadthFirst?this.bfs(e,t,r):this.dfs(e,t,r)},bfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r);for(let l=0,u=a.length;l<u;l++){const f=a[l];i[f.id]=i[s.id]+1,o.push(f)}}},dfs:function(e,t,r={}){const n={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){const s=o.pop();if(n[s.id]||(n[s.id]=!0,t.call(this,s,i[s.id])===!1))continue;const a=this.getNeighbors(s,r),l=o.length;for(let u=0,f=a.length;u<f;u++){const c=a[u];i[c.id]=i[s.id]+1,o.splice(l,0,c)}}},getSources:function(){var e=[];return Ts(this._nodes,(function(t,r){(!this._in[r]||kl(this._in[r]))&&e.push(this.getCell(r))}).bind(this)),e},getSinks:function(){var e=[];return Ts(this._nodes,(function(t,r){(!this._out[r]||kl(this._out[r]))&&e.push(this.getCell(r))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||kl(this._in[e.id])},isSink:function(e){return!this._out[e.id]||kl(this._out[e.id])},isSuccessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{outbound:!0}),r},isPredecessor:function(e,t){var r=!1;return this.search(e,function(n){if(n===t&&n!==e)return r=!0,!1},{inbound:!0}),r},isNeighbor:function(e,t,r){r=r||{};var n=r.inbound,i=r.outbound;n===void 0&&i===void 0&&(n=i=!0);var o=!1;return this.getConnectedLinks(e,r).forEach(function(s){var{source:a,target:l}=s.attributes;if(n&&Uu(a,"id")&&a.id===t.id||i&&Uu(l,"id")&&l.id===t.id)return o=!0,!1}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(r){r.set(r.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Ja(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(t=>t.getBBox({rotate:!0}).containsPoint(e))},findModelsInArea:function(e,t={}){const r=new Pt(e),{strict:n=!1}=t,i=n?"containsRect":"intersect";return this.getElements().filter(o=>r[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(e,t={}){const{searchBy:r="bbox"}=t,n=e.getBBox().rotateAroundCenter(e.angle());return(r==="bbox"?this.findModelsInArea(n):this.findModelsFromPoint(gW(n,r))).filter(o=>e.id!==o.id&&!o.isEmbeddedIn(e))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t={}){const{rotate:r=!0}=t;return $r(e).reduce(function(n,i){const o=i.getBBox({rotate:r});return o?n?n.union(o):o:n},null)},translate:function(e,t,r){var n=this.getCells().filter(function(i){return!i.isEmbedded()});return Ja(n,"translate",e,t,r),this},resize:function(e,t,r){return this.resizeCells(e,t,this.getCells(),r)},resizeCells:function(e,t,r,n){var i=this.getCellsBBox(r);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);Ja(r,"scale",o,s,i.origin(),n)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Gt({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Gt({},t,{batchName:e}))},hasActiveBatch:function(e){const t=this._batches;let r;return arguments.length===0?r=Object.keys(t):Array.isArray(e)?r=e:r=[e],r.some(n=>t[n]>0)}},{validations:{multiLinks:function(e,t){var{source:r,target:n}=t.attributes;if(r.id&&n.id){var i=t.getSourceCell();if(i){var o=e.getConnectedLinks(i,{outbound:!0}),s=o.filter(function(a){var{source:l,target:u}=a.attributes;return l&&l.id===r.id&&(!l.port||l.port===r.port)&&u&&u.id===n.id&&(!u.port||u.port===n.port)});if(s.length>1)return!1}}return!0},linkPinning:function(e,t){var{source:r,target:n}=t.attributes;return r.id&&n.id}}});bue(lj.prototype,["resetCells","addCells","removeCells"],nP.cells);const Zc={},tc=Fi.View.extend({options:{},theme:null,themeClassNamePrefix:ua("theme-"),requireSetThemeOverride:!1,defaultTheme:ec.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Gt({},this.options,e),Fi.View.call(this,e)},initialize:function(){Zc[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(e){if(e||(e=Vn(this,"children")),e){var t=this.svgElement,r=at.namespace[t?"svg":"xhtml"],n=p_(e,r);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var r=t;r&&r.nodeType===1;){var n=r.getAttribute(e);if(n)return n;if(r===this.el)return null;r=r.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Vn(this,"el"));else{var e=Vn(this,"tagName"),t=Gt({},Vn(this,"attributes")),r=Gt({},Vn(this,"style"));this.id&&(t.id=Vn(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(r)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(at.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof Fi.$?e:Fi.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=at(this.el))},_ensureElClassName:function(){var e=Vn(this,"className");if(e){var t=ua(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){if(e=e||this.theme,!e)return this;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){e=e||this.theme;var t=this.themeClassNamePrefix+e;return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Zc[this.cid]=null,Fi.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,r){if(!t)return this;r||(r={});var n=this.getEventNamespace();for(var i in t){var o=t[i];typeof o!="function"&&(o=this[o]),o&&Lr(e).on(i+n,r,o.bind(this))}return this},undelegateElementEvents:function(e){return Lr(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=Vn(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var r=e.data,n="__"+this.cid+"__";return t===void 0?r?r[n]||{}:{}:(r||(r=e.data={}),r[n]||(r[n]={}),Gt(r[n],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),t=e[0]&&Gt({},e[0])||{},r=e[1]&&Gt({},e[1])||{},n=t.render||this.prototype&&this.prototype.render||null;return t.render=function(){return typeof n=="function"&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},t.render.__render__=n,Fi.View.extend.call(this,t,r)}}),yL="dbltap";if(Lr.event&&!(yL in Lr.event.special)){const e=ec.doubleTapInterval,t=30;Lr.event.special[yL]={bindType:"touchend",delegateType:"touchend",handle:function(r,...n){const{handleObj:i,target:o}=r,s=Lr.data(o),a=new Date().getTime(),l="lastTouch"in s?a-s.lastTouch:0;l<e&&l>t?(s.lastTouch=null,r.type=i.origType,i.handler.call(this,r,...n)):s.lastTouch=a}}}const xs={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},Wue=tc.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return ua(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(e,t){this.el.insertBefore(e,this.insertPivot(t))},insertNode:function(e){const{el:t}=this;e.parentNode!==t&&t.appendChild(e)},insertPivot:function(e){const{el:t,pivotNodes:r}=this;e=+e,e||(e=0);let n=r[e];if(n)return n;n=r[e]=document.createComment("z-index:"+(e+1));let i=-1/0;for(let o in r)o=+o,o<e&&o>i&&(i=o,e-1);if(i!==-1/0){const o=r[i];t.insertBefore(n,o.nextSibling)}else t.insertBefore(n,t.firstChild);return n},removePivots:function(){const{el:e,pivotNodes:t}=this;for(let r in t)e.removeChild(t[r]);this.pivotNodes={}}});function Ap(e){return e?Array.isArray(e)?e:[e]:[]}const ca=tc.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(e,t){const{paper:r}=e;this.cellView=e,this.nodeSelector=t,r&&(this.updateRequested=!0,r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:e,nodeSelector:t}=this;return e.isMounted()?(this.update(e,t),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(e,t=null){let r;if(typeof t=="string")[r]=e.findBySelector(t);else if(qn(t)){const n=e.model.isLink(),{label:i=null,port:o,selector:s}=t;n&&i!==null?r=e.findLabelNode(i,s):!n&&o?r=e.findPortNode(o,s):[r]=e.findBySelector(s)}else t&&(r=at.toNode(t),r instanceof SVGElement||(r=null));return r||null},getNodeMatrix(e,t){const{options:r}=this,{layer:n}=r,{rotatableNode:i}=e,o=e.getNodeMatrix(t);return i?n?i.contains(t)?o:e.getRootRotateMatrix().inverse().multiply(o):e.getNodeRotateMatrix(t).multiply(o):o},mount(){const{MOUNTABLE:e,cellView:t,el:r,options:n,transformGroup:i,detachedTransformGroup:o,postponedUpdate:s,nodeSelector:a}=this;if(!e||i)return;if(s){this.update(t,a),this.transform();return}const{vel:l,paper:u}=t,{layer:f}=n;if(f){let c;o?(c=o,this.detachedTransformGroup=null):c=at("g").addClass("highlight-transform").append(r),this.transformGroup=c,u.getLayerView(f).insertSortedNode(c.node,n.z)}else(!r.parentNode||r.nextSibling)&&l.append(r)},unmount(){const{MOUNTABLE:e,transformGroup:t,vel:r}=this;e&&(t?(this.transformGroup=null,this.detachedTransformGroup=t,t.remove()):r.remove())},transform(){const{transformGroup:e,cellView:t,updateRequested:r}=this;if(!e||t.model.isLink()||r)return;const n=t.getRootTranslateMatrix(),i=t.getRootRotateMatrix(),o=n.multiply(i);e.attr("transform",at.matrixToTransformString(o))},update(){const{node:e,cellView:t,nodeSelector:r,updateRequested:n,id:i}=this;if(n)return;this.postponedUpdate=!1;const o=this.node=this.findNode(t,r);e&&this.unhighlight(t,e),o?(this.highlight(t,o),this.mount()):(this.unmount(),t.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:e,cellView:t,id:r,constructor:n}=this;e&&this.unhighlight(t,e),this.unmount(),n._removeRef(t,r)},highlight(e,t){},unhighlight(e,t){},listenToUpdateAttributes(e){const t=Vn(this,"UPDATE_ATTRIBUTES");!Array.isArray(t)||t.length===0||this.listenTo(e.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:e}=this;if(!e)return;const{model:t,paper:r}=e;Vn(this,"UPDATE_ATTRIBUTES").some(i=>t.hasChanged(i))&&r.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(e,t,r){const n=this.uniqueId(t,r);this.add(e,t,n,r)},unhighlight:function(e,t,r){const n=this.uniqueId(t,r);this.remove(e,n)},get(e,t=null){const{cid:r}=e,{_views:n}=this,i=n[r];if(t===null){const o=[];if(!i)return o;for(let s in i){const a=i[s];a instanceof this&&o.push(a)}return o}else{if(!i)return null;if(t in i){const o=i[t];if(o instanceof this)return o}return null}},add(e,t,r,n={}){if(!r)throw new Error("dia.HighlighterView: An ID required.");const i=ca.get(e,r);i&&i.remove();const o=new this(n);return o.id=r,this._addRef(e,r,o),o.requestUpdate(e,t),o.listenToUpdateAttributes(e),o},_addRef(e,t,r){const{cid:n}=e,{_views:i}=this;let o=i[n];o||(o=i[n]={}),o[t]=r},_removeRef(e,t){const{cid:r}=e,{_views:n}=this,i=n[r];if(i){t&&delete i[t];for(let o in i)return;delete n[r]}},remove(e,t=null){Ap(this.get(e,t)).forEach(r=>{r.remove()})},removeAll(e,t=null){const{_views:r}=this;for(let n in r)for(let i in r[n]){const o=r[n][i];o.cellView.paper===e&&o instanceof this&&(t===null||i===t)&&o.remove()}},update(e,t=null,r=!1){Ap(this.get(e,t)).forEach(n=>{(r||n.UPDATABLE)&&n.update()})},transform(e,t=null){Ap(this.get(e,t)).forEach(r=>{r.UPDATABLE&&r.transform()})},unmount(e,t=null){Ap(this.get(e,t)).forEach(r=>r.unmount())},mount(e,t=null){Ap(this.get(e,t)).forEach(r=>r.mount())},uniqueId(e,t=""){return at.ensureId(e)+JSON.stringify(t)}}),bd={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},Gue={TOOLS:"TOOLS"},hr=tc.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(r,n,i){e.push("type-"+i.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e={},t={},r=0,n,i,o,s=Vn(this,"presentationAttributes");for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),n=0,i=l.length;n<i;n++){o=l[n];var u=e[o];u||(u=e[o]=1<<r++),t[a]|=u}}var f=Vn(this,"initFlag");for(Array.isArray(f)||(f=[f]),n=0,i=f.length;n<i;n++)o=f[n],e[o]||(e[o]=1<<r++);if(r>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=t},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var r=0;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r|=t[e[n]];else r|=t[e];return r},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||eh(this),tc.call(this,e)},initialize:function(){this.setFlags(),tc.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var r=e.getChangeFlag(this._presentationAttributes);t.updateHandled||!r||(t.dirty&&this.hasFlag(r,"UPDATE")&&(r|=this.getFlag("RENDER")),t.tool&&(t.async=!1),this.requestUpdate(r,t))},requestUpdate:function(e,t){const{paper:r}=this;r&&e>0&&r.requestViewUpdate(this,e,this.UPDATE_PRIORITY,t)},parseDOMJSON:function(e,t){var r=p_(e),n=r.selectors,i=r.groupSelectors;for(var o in i){if(n[o])throw new Error("dia.CellView: ambiguous group selector");n[o]=i[o]}if(t){var s=this.selector;if(n[s])throw new Error("dia.CellView: ambiguous root selector.");n[s]=t}return{fragment:r.fragment,selectors:n}},can:function(e){var t=hn(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Gr(t)&&t[e]!==!1||Jle(t)&&t!==!1},findBySelector:function(e,t,r){if(t||(t=this.el),r||(r=this.selectors),!e||e===".")return[t];if(r){var n=r[e];if(n)return Array.isArray(n)?n:[n]}return Lr(t).find(e).toArray()},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var r=this.model;t=r.getBBox().bbox(r.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){const t=this.getNodeBoundingRect(e),r=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(e)),n=this.getNodeMatrix(e);return at.transformRect(t,r.multiply(n))},getNodeRotateMatrix(e){return!this.rotatableNode||this.rotatableNode.contains(e)?this.getRootRotateMatrix():at.createSVGMatrix()},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),r=this.getNodeMatrix(e),n=this.getRootTranslateMatrix();return at.transformRect(t,n.multiply(r))},getRootTranslateMatrix:function(){var e=this.model,t=e.position(),r=at.createSVGMatrix().translate(t.x,t.y);return r},getRootRotateMatrix:function(){var e=at.createSVGMatrix(),t=this.model,r=t.angle();if(r){var n=t.getBBox(),i=n.width/2,o=n.height/2;e=e.translate(i,o).rotate(r).translate(-i,-o)}return e},_notifyHighlight:function(e,t,r={}){const{el:n}=this;let i;if(typeof t=="string"?[i=n]=this.findBySelector(t):[i=n]=this.$(t),r.partial=i!==n,r.type===void 0){let o;switch(!0){case r.embedding:o=bd.EMBEDDING;break;case r.connecting:o=bd.CONNECTING;break;case r.magnetAvailability:o=bd.MAGNET_AVAILABILITY;break;case r.elementAvailability:o=bd.ELEMENT_AVAILABILITY;break;default:o=bd.DEFAULT;break}r.type=o}return this.notify(e,i,r),this},highlight:function(e,t){return this._notifyHighlight("cell:highlight",e,t)},unhighlight:function(e,t={}){return this._notifyHighlight("cell:unhighlight",e,t)},findMagnet:function(e){const t=this.el;let r=this.$(e)[0];r||(r=t);do{const n=r.getAttribute("magnet"),i=r===t;if((n||i)&&n!=="false")return r;if(i)return;r=r.parentNode}while(r)},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const[n]=this.findBySelector(r);if(n)return n}return e},getSelector:function(e,t){var r;if(e===this.el)return typeof t=="string"&&(r="> "+t),r;if(e){var n=at(e).index()+1;r=e.tagName+":nth-child("+n+")",t&&(r+=" > "+t),r=this.getSelector(e.parentNode,r)}return r},addLinkFromMagnet:function(e,t,r){var n=this.paper,i=n.model,o=n.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,r,o,"source"),target:{x:t,y:r}}).addTo(i,{async:!1,ui:!0}),o.findView(n)},getLinkEnd:function(e,...t){var r=this.model,n=r.id,i=this.findAttribute("port",e),o=e.getAttribute("joint-selector"),s={id:n};return o!=null&&(s.magnet=o),i!=null?(s.port=i,!r.hasPort(i)&&!o&&(s.selector=this.getSelector(e))):o==null&&this.el!==e&&(s.selector=this.getSelector(e)),this.customizeLinkEnd(s,e,...t)},customizeLinkEnd:function(e,t,r,n,i,o){const{paper:s}=this,{connectionStrategy:a}=s.options;if(typeof a=="function"){var l=a.call(s,e,this,t,new ze(r,n),i,o,s);if(l)return l}return e},getMagnetFromLinkEnd:function(e){var t=this.el,r=e.port,n=e.magnet,i=this.model,o;return r!=null&&i.isElement()&&i.hasPort(r)?o=this.findPortNode(r,n)||t:(n||(n=e.selector),!n&&r!=null&&(n='[port="'+r+'"]'),o=this.findBySelector(n,t,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(e,t,r,n){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(t,r,n);i.notifyPointerdown(e,r,n),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},dragLink:function(e,t,r){var n=this.eventData(e),i=n.linkView;if(i)i.pointermove(e,t,r);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=n.targetMagnet;if(s==="onleave"){if(l===a||at(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,r)}},dragLinkEnd:function(e,t,r){var n=this.eventData(e),i=n.linkView;i&&(i.pointerup(e,t,r),this.model.stopBatch("add-link"))},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){kl(t)||(e instanceof SVGElement?at(e).attr(t):Lr(e).attr(t))},processNodeAttributes:function(e,t){var r,n,i,o,s,a,l,u,f,c=[];for(r in t)t.hasOwnProperty(r)&&(n=t[r],i=this.getAttributeDefinition(r),i&&(!hn(i.qualify)||i.qualify.call(this,n,e,t,this))?(zi(i.set)&&(a||(a={}),a[i.set]=n),n!==null&&c.push(r,i)):(a||(a={}),a[lue(r)]=n));for(o=0,s=c.length;o<s;o+=2)r=c[o],i=c[o+1],n=t[r],hn(i.set)&&(l||(l={}),l[r]=n),hn(i.position)&&(u||(u={}),u[r]=n),hn(i.offset)&&(f||(f={}),f[r]=n);return{raw:t,normal:a,set:l,position:u,offset:f}},updateRelativeAttributes:function(e,t,r,n){n||(n={});var i,o,s,a=t.raw||{},l=t.normal||{},u=t.set,f=t.position,c=t.offset;for(i in u){o=u[i],s=this.getAttributeDefinition(i);var h=s.set.call(this,o,r.clone(),e,a,this);Gr(h)?Gt(l,h):h!==void 0&&(l[i]=h)}if(e instanceof HTMLElement){this.setNodeAttributes(e,l);return}var g=l.transform,m=at.transformStringToMatrix(g),_=ze(m.e,m.f);g&&(l=ug(l,"transform"),m.e=m.f=0);var v,p,E;if(f||c){var y=this.getNodeScale(e,n.scalableNode);v=y.sx,p=y.sy}var S=!1;for(i in f)o=f[i],s=this.getAttributeDefinition(i),E=s.position.call(this,o,r.clone(),e,a,this),E&&(_.offset(ze(E).scale(v,p)),S||(S=!0));this.setNodeAttributes(e,l);var $=!1;if(c){var T=this.getNodeBoundingRect(e);if(T.width>0&&T.height>0){var d=at.transformRect(T,m).scale(1/v,1/p);for(i in c)o=c[i],s=this.getAttributeDefinition(i),E=s.offset.call(this,o,d,e,a,this),E&&(_.offset(ze(E).scale(v,p)),$||($=!0))}}(g!==void 0||S||$)&&(_.round(1),m.e=_.x,m.f=_.y,e.setAttribute("transform",at.matrixToTransformString(m)))},getNodeScale:function(e,t){var r,n;if(t&&t.contains(e)){var i=t.scale();r=1/i.sx,n=1/i.sy}else r=1,n=1;return{sx:r,sy:n}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var r=at.ensureId(e),n=t[r];return n||(n=t[r]={}),n},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return t.boundingRect===void 0&&(t.boundingRect=at(e).getBBox()),new Pt(t.boundingRect)},getNodeMatrix:function(e){const t=this.nodeCache(e);if(t.magnetMatrix===void 0){const{rotatableNode:r,el:n}=this;let i;r&&r.contains(e)?i=r:i=n,t.magnetMatrix=at(e).getTransformToElement(i)}return at.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return t.geometryShape===void 0&&(t.geometryShape=at(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,r,n){var i,o,s,a,l={},u=[];for(var f in e)if(e.hasOwnProperty(f)&&(s=e[f],!!qn(s))){var c=r[f]=this.findBySelector(f,t,n);for(i=0,o=c.length;i<o;i++){var h=c[i];a=at.ensureId(h);var g=n&&n[f]===h,m=l[a];if(m){m.array||(u.push(a),m.array=!0,m.attributes=[m.attributes],m.selectedLength=[m.selectedLength]);var _=m.attributes,v=m.selectedLength;if(g)_.unshift(s),v.unshift(-1);else{var p=cW(v,o);_.splice(p,0,s),v.splice(p,0,o)}}else l[a]={attributes:s,selectedLength:g?-1:o,node:h,array:!1}}}for(i=0,o=u.length;i<o;i++)a=u[i],s=l[a],s.attributes=ni({},...s.attributes.reverse());return l},getEventTarget:function(e,t={}){const{target:r,type:n,clientX:i=0,clientY:o=0}=e;return t.fromPoint||n==="touchmove"||n==="touchend"||"pointerId"in e&&r.hasPointerCapture(e.pointerId)?document.elementFromPoint(i,o):r},updateDOMSubtreeAttributes:function(e,t,r){r||(r={}),r.rootBBox||(r.rootBBox=Pt()),r.selectors||(r.selectors=this.selectors);var n={},i={},o=[],s=[],a,l,u,f,c,h=r.roAttributes,g=this.findNodesAttributes(h||t,e,n,r.selectors),m=h?this.findNodesAttributes(t,e,n,r.selectors):g;for(var _ in g)if(f=g[_],u=f.attributes,l=f.node,c=this.processNodeAttributes(l,u),!c.set&&!c.position&&!c.offset)this.setNodeAttributes(l,c.normal);else{var v=m[_]&&m[_].attributes,p=v&&u.ref===void 0?v.ref:u.ref,E;if(p){if(E=(n[p]||this.findBySelector(p,e,r.selectors))[0],!E)throw new Error('dia.CellView: "'+p+'" reference does not exist.')}else E=null;if(a={node:l,refNode:E,processedAttributes:c,allAttributes:v},E){var y=s.findIndex(function(S){return S.refNode===l});y>-1?s.splice(y,0,a):s.push(a)}else o.push(a)}o.push(...s);for(let S=0,$=o.length;S<$;S++){a=o[S],l=a.node,E=a.refNode;const T=E?at.ensureId(E):"";let d=i[T];d||(d=i[T]=E?at(E).getBBox({target:Kue(l,E)}):r.rootBBox),h?(c=this.processNodeAttributes(l,a.allAttributes),this.mergeProcessedAttributes(c,a.processedAttributes)):c=a.processedAttributes,this.updateRelativeAttributes(l,c,d,r)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Gt(e.set,t.set),Gt(e.position,t.position),Gt(e.offset,t.offset);var r=e.normal&&e.normal.transform;r!==void 0&&t.normal&&(t.normal.transform=r),e.normal=t.normal},onMount(e){e||(this.mountTools(),ca.mount(this))},onDetach(){this.unmountTools(),ca.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return t?e?t.getName()===e:!0:!1},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const e=this._toolsView;return e&&e.unmount(),this},mountTools(){const e=this._toolsView;return e&&!e.isMounted()&&e.mount(),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){ca.remove(this)},updateHighlighters:function(e=!1){ca.update(this,null,e)},transformHighlighters:function(){ca.transform(this)},preventDefaultInteraction(e){this.eventData(e,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(e){const{defaultInteractionPrevented:t=!1}=this.eventData(e);return t},pointerdblclick:function(e,t,r){this.notify("cell:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){this.notify("cell:pointerclick",e,t,r)},contextmenu:function(e,t,r){this.notify("cell:contextmenu",e,t,r)},pointerdown:function(e,t,r){const{model:n}=this,{graph:i}=n;i&&(n.startBatch("pointer"),this.eventData(e,{graph:i})),this.notify("cell:pointerdown",e,t,r)},pointermove:function(e,t,r){this.notify("cell:pointermove",e,t,r)},pointerup:function(e,t,r){const{graph:n}=this.eventData(e);this.notify("cell:pointerup",e,t,r),n&&n.stopBatch("pointer",{cell:this.model})},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,r,n){this.notify("cell:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){this.notify(t,e,r,n)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(e){const{paper:t,model:r}=this;if(t.isAsync()){if(r.isLink()){const o=r.getSourceElement();if(o){const a=t.findViewByModel(o);a&&(t.dumpView(a),t.checkViewVisibility(a))}const s=r.getTargetElement();if(s){const a=t.findViewByModel(s);a&&(t.dumpView(a),t.checkViewVisibility(a))}}t.dumpView(this),t.checkViewVisibility(this)}const n=this.getEventTarget(e,{fromPoint:!0}),i=t.findView(n);i!==this&&(this.mouseleave(e),i&&i.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{Flags:Gue,Highlighting:bd,addPresentationAttributes:function(e){return ni({},Vn(this.prototype,"presentationAttributes"),e,function(t,r){if(!(!t||!r)&&(typeof t=="string"&&(t=[t]),typeof r=="string"&&(r=[r]),Array.isArray(t)&&Array.isArray(r)))return Jg(t.concat(r))})}});function Kue(e,t){let r=e;do{if(r.contains(t))return r;r=r.parentNode}while(r);return null}const Sr={TOOLS:hr.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},_d={MOVE:"move",MAGNET:"magnet"},Hw=hr.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=hr.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){hr.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Sr.UPDATE],position:[Sr.TRANSLATE,Sr.TOOLS],size:[Sr.RESIZE,Sr.PORTS,Sr.TOOLS],angle:[Sr.ROTATE,Sr.TOOLS],markup:[Sr.RENDER],ports:[Sr.PORTS]},initFlag:[Sr.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){this.hasFlag(e,Sr.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(e,Sr.RENDER))this.render(),this.updateTools(t),this.updateHighlighters(!0),r=!0,e=this.removeFlag(e,[Sr.RENDER,Sr.UPDATE,Sr.RESIZE,Sr.TRANSLATE,Sr.ROTATE,Sr.PORTS,Sr.TOOLS]);else{let n=!1;this.hasFlag(e,Sr.RESIZE)&&(this.resize(t),n=!0,e=this.removeFlag(e,[Sr.RESIZE,Sr.UPDATE]),e=this.removeFlag(e,Sr.PORTS)),this.hasFlag(e,Sr.UPDATE)&&(this.update(this.model,null,t),e=this.removeFlag(e,Sr.UPDATE),n=!0,e=this.removeFlag(e,Sr.PORTS)),this.hasFlag(e,Sr.TRANSLATE)&&(this.translate(),e=this.removeFlag(e,Sr.TRANSLATE),r=!0),this.hasFlag(e,Sr.ROTATE)&&(this.rotate(),e=this.removeFlag(e,Sr.ROTATE),r=!0),this.hasFlag(e,Sr.PORTS)&&(this._renderPorts(),n=!0,e=this.removeFlag(e,Sr.PORTS)),n&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(e,Sr.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Sr.TOOLS)),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache(),this._removePorts();var r=this.model,n=r.attr();this.updateDOMSubtreeAttributes(this.el,n,{rootBBox:new Pt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===n?null:t}),this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),r=this.selectors=t.selectors;this.rotatableNode=at(r[this.rotatableSelector])||null,this.scalableNode=at(r[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(at(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable");var r=this.selectors={};r[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var r=e.size;return"rotate("+t+","+r.width/2+","+r.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,r=t.angle(),n=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o}),a=n.width/(s.width||1),l=n.height/(s.height||1);i.attr("transform","scale("+a+","+l+")");var u=this.rotatableNode,f=u&&u.attr("transform");if(f){u.attr("transform",f+" rotate("+-r+","+n.width/2+","+n.height/2+")");var c=i.getBBox({target:this.paper.cells});t.set("position",{x:c.x,y:c.y},Gt({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e={}){const t=e.model||this.model,n=(e.paper||this.paper).model,i=e.initialZIndices={},o=t.getEmbeddedCells({deep:!0}),s=n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0});[t,...o,...s].forEach(u=>i[u.id]=u.attributes.z),t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});const a=n.getElements().reduce((u,f)=>Math.max(u,f.attributes.z||0),0);s.forEach(u=>{u.attributes.z<=a&&u.set("z",a+1,{ui:!0})}),t.stopBatch("to-front");const l=t.parent();l?(n.getCell(l).unembed(t,{ui:!0}),e.initialParentId=l):e.initialParentId=null},processEmbedding:function(e={},t,r,n){const i=e.model||this.model,o=e.paper||this.paper,s=o.model,{findParentBy:a,frontParentOnly:l,validateEmbedding:u}=o.options;let f;hn(a)?f=$r(a.call(s,this,t,r,n)):a==="pointer"?f=$r(s.findModelsFromPoint({x:r,y:n})):f=s.findModelsUnderElement(i,{searchBy:a}),f=f.filter(g=>g instanceof ol&&i.id!==g.id&&!g.isEmbeddedIn(i)),l&&(f=f.slice(-1));let c=null;const h=e.candidateEmbedView;for(let g=f.length-1;g>=0;g--){const m=f[g];if(h&&h.model.id==m.id){c=h;break}else{const _=m.findView(o);if(!hn(u)||u.call(o,this,_)){c=_;break}}}c&&c!=h&&(this.clearEmbedding(e),e.candidateEmbedView=c.highlight(c.findProxyNode(null,"container"),{embedding:!0})),!c&&h&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e={}){const t=e.candidateEmbedView,r=e.model||this.model,n=e.paper||this.paper;if(t)t.model.embed(r,{ui:!0}),t.unhighlight(t.findProxyNode(null,"container"),{embedding:!0}),e.candidateEmbedView=null;else{const{validateUnembedding:i}=n.options,{initialParentId:o}=e;if(o&&typeof i=="function"&&!i.call(n,this)){this._disallowUnembed(e);return}}n.model.getConnectedLinks(r,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(e){const{model:t,whenNotAllowed:r="revert"}=e,n=t||this.model,o=(e.paper||this.paper).model;switch(r){case"remove":{n.remove({ui:!0});break}case"revert":{const{initialParentId:s,initialPosition:a,initialZIndices:l}=e;if(a){const{x:f,y:c}=a;n.position(f,c,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(f=>{const c=o.getCell(f);c&&c.set("z",l[f],{ui:!0})});const u=o.getCell(s);u&&u.embed(n,{ui:!0});break}}},getDelegatedView:function(){for(var e=this,t=e.model,r=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=r.findViewByModel(t)}return null},findProxyNode:function(e,t){e||(e=this.el);const r=e.getAttribute(`${t}-selector`);if(r){const n=this.findAttribute("port",e);if(n){const i=this.findPortNode(n,r);if(i)return i}else{const[i]=this.findBySelector(r);if(i)return i}}return e},notifyPointerdown(e,t,r){hr.prototype.pointerdown.call(this,e,t,r),this.notify("element:pointerdown",e,t,r)},notifyPointermove(e,t,r){hr.prototype.pointermove.call(this,e,t,r),this.notify("element:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("element:pointerup",e,t,r),hr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){hr.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){hr.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,r)},contextmenu:function(e,t,r){hr.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragStart(e,t,r)},pointermove:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointermove(e,i,t,r),o){case _d.MAGNET:this.dragMagnet(e,t,r);break;case _d.MOVE:(s||this).drag(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointermove(e,t,r);break}this.eventData(e,n)},pointerup:function(e,t,r){const n=this.eventData(e),{targetMagnet:i,action:o,delegatedView:s}=n;switch(i&&this.magnetpointerup(e,i,t,r),o){case _d.MAGNET:this.dragMagnetEnd(e,t,r);break;case _d.MOVE:(s||this).dragEnd(e,t,r);default:if(n.preventPointerEvents)break;this.notifyPointerup(e,t,r)}i&&this.magnetpointerclick(e,i,t,r),this.checkMouseleave(e)},mouseover:function(e){hr.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){hr.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){hr.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){hr.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,r,n){hr.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,r,n)},onmagnet:function(e,t,r){const{currentTarget:n}=e;this.magnetpointerdown(e,n,t,r),this.eventData(e,{targetMagnet:n}),this.dragMagnetStart(e,t,r)},magnetpointerdown:function(e,t,r,n){this.notify("element:magnet:pointerdown",e,t,r,n)},magnetpointermove:function(e,t,r,n){this.notify("element:magnet:pointermove",e,t,r,n)},magnetpointerup:function(e,t,r,n){this.notify("element:magnet:pointerup",e,t,r,n)},magnetpointerdblclick:function(e,t,r,n){this.notify("element:magnet:pointerdblclick",e,t,r,n)},magnetcontextmenu:function(e,t,r,n){this.notify("element:magnet:contextmenu",e,t,r,n)},dragStart:function(e,t,r){if(this.isDefaultInteractionPrevented(e))return;var n=this.getDelegatedView();if(!n||!n.can("elementMove"))return;this.eventData(e,{action:_d.MOVE,delegatedView:n});const i=n.model.position();n.eventData(e,{initialPosition:i,pointerOffset:i.difference(t,r),restrictedArea:this.paper.getRestrictedArea(n,t,r)})},dragMagnetStart:function(e,t,r){const{paper:n}=this,i=e.isPropagationStopped();if(i&&this.eventData(e,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(e)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=e.currentTarget}=this.eventData(e);if(e.stopPropagation(),!n.options.validateMagnet.call(n,this,o,e)){i?this.dragStart(e,t,r):this.pointerdown(e,t,r);return}n.options.magnetThreshold<=0&&this.dragLinkStart(e,o,t,r),this.eventData(e,{action:_d.MAGNET})},drag:function(e,t,r){var n=this.paper,i=n.options.gridSize,o=this.model,s=this.eventData(e),{pointerOffset:a,restrictedArea:l,embedding:u}=s,f=Cf(t+a.x,i),c=Cf(r+a.y,i);o.position(f,c,{restrictedArea:l,deep:!0,ui:!0}),n.options.embeddingMode&&(u||(this.prepareEmbedding(s),u=!0),this.processEmbedding(s,e,t,r)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,r){this.dragLink(e,t,r)},dragEnd:function(e,t,r){var n=this.eventData(e);n.embedding&&this.finalizeEmbedding(n)},dragMagnetEnd:function(e,t,r){this.dragLinkEnd(e,t,r)},magnetpointerclick:function(e,t,r,n){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,r,n)}},{Flags:Sr});Gt(Hw.prototype,Vue);const Jue=function(e,t,r){return e},Yue=function(e,t,r){var n=t.side||"bottom",i=Mf(t.padding||40),o=r.sourceBBox,s=r.targetBBox,a=o.center(),l=s.center(),u,f,c;switch(n){case"bottom":c=1,u="y",f="height";break;case"top":c=-1,u="y",f="height";break;case"left":c=-1,u="x",f="width";break;case"right":c=1,u="x",f="width";break;default:throw new Error("Router: invalid side")}return a[u]+=c*(o[f]/2+i[n]),l[u]+=c*(s[f]/2+i[n]),c*(a[u]-l[u])>0?l[u]=a[u]:a[u]=l[u],[a].concat(e,l)};var Xue={N:"S",S:"N",E:"W",W:"E"},Que={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function m_(e,t,r){var n=new ze(e.x,t.y);return r.containsPoint(n)&&(n=new ze(t.x,e.y)),n}function oP(e,t){return e[t==="W"||t==="E"?"width":"height"]}function no(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function ny(e){return new Pt(e.x,e.y,0,0)}function g_(e){var t=Mf(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function $W(e,t){return e.sourceBBox.clone().moveAndExpand(g_(t))}function TW(e,t){return e.targetBBox.clone().moveAndExpand(g_(t))}function Zue(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=$W(e,t);return r.center()}function ece(e,t){if(e.targetAnchor)return e.targetAnchor;var r=TW(e,t);return r.center()}function xW(e,t,r){var n=new ze(e.x,t.y),i=new ze(t.x,e.y),o=no(e,n),s=no(e,i),a=Xue[r],l=o===r||o!==a&&(s===a||s!==r)?n:i;return{points:[l],direction:no(l,t)}}function Ww(e,t,r){var n=m_(e,t,r);return{points:[n],direction:no(n,t)}}function tce(e,t,r,n){var i={},o=[new ze(e.x,t.y),new ze(t.x,e.y)],s=o.filter(function(c){return!r.containsPoint(c)}),a=s.filter(function(c){return no(c,e)!==n}),l;if(a.length>0)l=a.filter(function(c){return no(e,c)===n}).pop(),l=l||a[0],i.points=[l],i.direction=no(l,t);else{l=rue(o,s)[0];var u=new ze(t).move(l,-oP(r,n)/2),f=m_(u,e,r);i.points=[f,u],i.direction=no(u,t)}return i}function rce(e,t,r,n){var i=Ww(t,e,n),o=i.points[0];if(r.containsPoint(o)){i=Ww(e,t,r);var s=i.points[0];if(n.containsPoint(s)){var a=new ze(e).move(s,-oP(r,no(e,s))/2),l=new ze(t).move(o,-oP(n,no(t,o))/2),u=new Rt(a,l).midpoint(),f=Ww(e,u,r),c=xW(u,t,f.direction);i.points=[f.points[0],c.points[0]],i.direction=c.direction}}return i}function P1(e,t,r,n,i){var o={},s=r.union(n).inflate(1),a=s.center().distance(t)>s.center().distance(e),l=a?t:e,u=a?e:t,f,c,h;return i?(f=ze.fromPolar(s.width+s.height,Que[i],l),f=s.pointNearestToPoint(f).move(f,-1)):f=s.pointNearestToPoint(l).move(l,1),c=m_(f,u,s),f.round().equals(c.round())?(c=ze.fromPolar(s.width+s.height,Po(f.theta(l))+Math.PI/2,u),c=s.pointNearestToPoint(c).move(u,1).round(),h=m_(f,c,s),o.points=a?[c,h,f]:[f,h,c]):o.points=a?[c,f]:[f,c],o.direction=no(a?f:c,t),o}function sP(e,t,r){var n=$W(r,t),i=TW(r,t),o=Zue(r,t),s=ece(r,t);n=n.union(ny(o)),i=i.union(ny(s)),e=$r(e).map(ze),e.unshift(o),e.push(s);for(var a,l=[],u=0,f=e.length-1;u<f;u++){var c=null,h=e[u],g=e[u+1],m=!!no(h,g);if(u===0)u+1===f?n.intersect(i.clone().inflate(1))?c=P1(h,g,n,i):m||(c=rce(h,g,n,i)):n.containsPoint(g)?c=P1(h,g,n,ny(g).moveAndExpand(g_(t))):m||(c=Ww(h,g,n));else if(u+1===f){var _=m&&no(g,h)===a;i.containsPoint(h)||_?c=P1(h,g,ny(h).moveAndExpand(g_(t)),i,a):m||(c=tce(h,g,i,a))}else m||(c=xW(h,g,a));c?(Array.prototype.push.apply(l,c.points),a=c.direction):a=no(h,g),u+1<f&&l.push(g)}return l}var AW={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},isPointObstacle:null,fallbackRouter:function(e,t,r){if(!hn(sP))throw new Error("Manhattan requires the orthogonal router as default fallback.");return sP(e,Gt({},AW,t),r)},fallbackRoute:function(e,t,r){return null},draggingRoute:null};function uj(e){this.map={},this.options=e,this.mapGridSize=100}uj.prototype.build=function(e,t){var r=this.options,n=$r(r.excludeEnds).reduce(function(l,u){var f=t.get(u);if(f){var c=e.getCell(f.id);c&&l.push(c)}return l},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=eP(i,o.getAncestors().map(function(l){return l.id})));var s=e.getCell(t.get("target").id);s&&(i=eP(i,s.getAncestors().map(function(l){return l.id})));var a=this.mapGridSize;return e.getElements().reduce(function(l,u){var f=$r(r.excludeTypes).includes(u.get("type")),c=n.find(function(S){return S.id===u.id}),h=i.includes(u.id),g=f||c||h;if(!g)for(var m=u.getBBox().moveAndExpand(r.paddingBox),_=m.origin().snapToGrid(a),v=m.corner().snapToGrid(a),p=_.x;p<=v.x;p+=a)for(var E=_.y;E<=v.y;E+=a){var y=p+"@"+E;l[y]=l[y]||[],l[y].push(m)}return l},this.map),this};uj.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return $r(this.map[t]).every(function(r){return!r.containsPoint(e)})};function Yf(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Yf.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var r=cW(this.items,e,(function(n){return this.values[n]}).bind(this));this.items.splice(r,0,e)};Yf.prototype.remove=function(e){this.hash[e]=this.CLOSE};Yf.prototype.isOpen=function(e){return this.hash[e]===this.OPEN};Yf.prototype.isClose=function(e){return this.hash[e]===this.CLOSE};Yf.prototype.isEmpty=function(){return this.items.length===0};Yf.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};function OW(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function PW(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function NW(e,t){if(e.sourceAnchor)return e.sourceAnchor;var r=OW(e,t);return r.center()}function nce(e,t){if(e.targetAnchor)return e.targetAnchor;var r=PW(e,t);return r.center()}function N1(e,t,r,n,i){var o=360/r,s=e.theta(ice(e,t,n,i)),a=ya(s+o/2);return o*Math.floor(a/o)}function ice(e,t,r,n){var i=n.step,o=t.x-e.x,s=t.y-e.y,a=o/r.x,l=s/r.y,u=a*i,f=l*i;return new ze(e.x+u,e.y+f)}function wL(e,t){var r=Math.abs(e-t);return r>180?360-r:r}function oce(e,t,r){var n=r.step;$r(r.directions).forEach(function(i){i.gridOffsetX=i.offsetX/n*t.x,i.gridOffsetY=i.offsetY/n*t.y})}function sce(e,t,r){return{source:t.clone(),x:bL(r.x-t.x,e),y:bL(r.y-t.y,e)}}function bL(e,t){if(!e)return t;var r=Math.abs(e),n=Math.round(r/t);if(!n)return r;var i=n*t,o=r-i,s=o/n;return t+s}function ace(e,t){var r=t.source,n=Cf(e.x-r.x,t.x)+r.x,i=Cf(e.y-r.y,t.y)+r.y;return new ze(n,i)}function Qp(e,t){return e.round(t)}function Gw(e,t,r){return Qp(ace(e.clone(),t),r)}function bm(e){return e.clone().toString()}function R1(e){return new ze(e.x===0?0:Math.abs(e.x)/e.x,e.y===0?0:Math.abs(e.y)/e.y)}function lce(e,t,r,n,i,o,s){for(var a=[],l=R1(i.difference(r)),u=bm(r),f=e[u],c;f;){c=t[u];var h=R1(c.difference(f));h.equals(l)||(a.unshift(c),l=h),u=bm(f),f=e[u]}var g=t[u],m=R1(g.difference(n));return m.equals(l)||a.unshift(g),a}function _L(e,t){for(var r=1/0,n=0,i=t.length;n<i;n++){var o=e.manhattanDistance(t[n]);o<r&&(r=o)}return r}function EL(e,t,r,n,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),l=Gr(s)?Object.keys(s):[],u=$r(r),f=l.reduce(function(c,h){if(u.includes(h)){for(var g=s[h],m=new ze(e.x+g.x*(Math.abs(a.x)+t.width),e.y+g.y*(Math.abs(a.y)+t.height)),_=new Rt(e,m),v=_.intersect(t)||[],p=v.length,E,y=null,S=0;S<p;S++){var $=v[S],T=e.squaredDistance($);(E===void 0||T>E)&&(E=T,y=$)}if(y){var d=Gw(y,n,o);t.containsPoint(d)&&(d=Gw(d.offset(g.x*n.x,g.y*n.y),n,o)),c.push(d)}}return c},[]);return t.containsPoint(e)||f.push(Gw(e,n,o)),f}function uce(e,t,r,n){var i=n.precision,o,s;e instanceof Pt?o=Qp(NW(this,n).clone(),i):o=Qp(e.clone(),i),t instanceof Pt?s=Qp(nce(this,n).clone(),i):s=Qp(t.clone(),i);var a=sce(n.step,o,s),l,u,f,c;if(e instanceof Pt?(l=o,f=EL(l,e,n.startDirections,a,n)):(l=o,f=[l]),t instanceof Pt?(u=s,c=EL(s,t,n.endDirections,a,n)):(u=s,c=[u]),f=f.filter(Ie=>!r(Ie)),c=c.filter(Ie=>!r(Ie)),f.length>0&&c.length>0){for(var h=new Yf,g={},m={},_={},v=0,p=f.length;v<p;v++){var E=f[v],y=bm(E);h.add(y,_L(E,c)),g[y]=E,_[y]=0}var S=n.previousDirectionAngle,$=S===void 0,T,d,x=n.directions;oce(x,a,n);for(var A=x.length,O=$r(c).reduce(function(Ie,N){var D=bm(N);return Ie.push(D),Ie},[]),C=n.maximumLoops;!h.isEmpty()&&C>0;){var F=h.pop(),V=g[F],X=m[F],H=_[F],Z=X===void 0,fe=V.equals(l),ee;Z?$?fe?ee=null:ee=N1(l,V,A,a,n):ee=S:ee=N1(X,V,A,a,n);var ne=f.length===c.length;if(ne){for(var k=0;k<f.length;k++)if(!f[k].equals(c[k])){ne=!1;break}}var B=Z&&ne;if(!B&&O.indexOf(F)>=0)return n.previousDirectionAngle=ee,lce(m,g,V,l,u);for(v=0;v<A;v++){T=x[v];var W=T.angle;if(d=wL(ee,W),!(!($&&fe)&&d>n.maxAllowedDirectionChange)){var P=Gw(V.clone().offset(T.gridOffsetX,T.gridOffsetY),a,i),R=bm(P);if(!(h.isClose(R)||r(P))){if(O.indexOf(R)>=0){var z=P.equals(u);if(!z){var oe=N1(P,u,A,a,n),J=wL(W,oe);if(J>n.maxAllowedDirectionChange)continue}}var Y=T.cost,ae=fe?0:n.penalties[d],be=H+Y+ae;(!h.isOpen(R)||be<_[R])&&(g[R]=P,m[R]=V,_[R]=be,h.add(R,be+_L(P,c)))}}}C--}}return n.fallbackRoute.call(this,l,u,n)}function cce(e){if(e.directions=Vn(e,"directions"),e.penalties=Vn(e,"penalties"),e.paddingBox=Vn(e,"paddingBox"),e.padding=Vn(e,"padding"),e.padding){var t=Mf(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}$r(e.directions).forEach(function(r){var n=new ze(0,0),i=new ze(r.offsetX,r.offsetY);r.angle=ya(n.theta(i))})}function fce(e,t,r){cce(t),r.options.perpendicular=!!t.perpendicular;var n=OW(r,t),i=PW(r,t),o=NW(r,t);let s;if(typeof t.isPointObstacle=="function")s=t.isPointObstacle;else{const y=new uj(t);y.build(r.paper.model,r.model),s=S=>!y.isPointAccessible(S)}for(var a=$r(e).map(ze),l=[],u=o,f,c,h=0,g=a.length;h<=g;h++){var m=null;if(c=f||n,f=a[h],!f){f=i;var _=!r.model.get("source").id||!r.model.get("target").id;if(_&&hn(t.draggingRoute)){var v=c===n?o:c,p=f.origin();m=t.draggingRoute.call(r,v,p,t)}}if(m=m||uce.call(r,c,f,s,t),m===null)return t.fallbackRouter(e,t,r);var E=m[0];E&&E.equals(u)&&m.shift(),u=m[m.length-1]||u,Array.prototype.push.apply(l,m)}return l}const aP=function(e,t,r){return fce(e,Gt({},AW,t),r)};var dce={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),r=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:r},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:r},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:r},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:r}]},fallbackRoute:function(e,t,r){var n=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(n%180>90){var a=o;o=s,s=a}var l=n%90<45?o:s,u=new Rt(e,l),f=90*Math.ceil(n/90),c=ze.fromPolar(u.squaredLength(),Po(f+135),l),h=new Rt(t,c),g=u.intersection(h),m=g||t,_=g?m:e,v=360/r.directions.length,p=_.theta(t),E=ya(p+v/2),y=v*Math.floor(E/v);return r.previousDirectionAngle=y,m&&i.push(m.round()),i.push(t),i}};const hce=function(e,t,r){if(!hn(aP))throw new Error("Metro requires the manhattan router.");return aP(e,Gt({},dce,t),r)},mt={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},SL=[mt.LEFT,mt.RIGHT,mt.TOP,mt.BOTTOM],th={[mt.LEFT]:mt.RIGHT,[mt.RIGHT]:mt.LEFT,[mt.TOP]:mt.BOTTOM,[mt.BOTTOM]:mt.TOP},pce=[mt.TOP,mt.BOTTOM],iy={0:mt.RIGHT,180:mt.LEFT,270:mt.TOP,90:mt.BOTTOM};function Zp(e){return e.angle()}function oy(e){return new fn(e).simplify({threshold:1}).points}function v_(e,t){const{point:r,x0:n,y0:i,view:o,bbox:s,direction:a}=e,{point:l,x0:u,y0:f,view:c,bbox:h,direction:g}=t;let m;if(o)o.model.isLink()?m=$L(l,r,o):a===mt.ANCHOR_SIDE?m=s.sideNearestToPoint(r):a===mt.MAGNET_SIDE?m=o.model.getBBox().sideNearestToPoint(r):m=a;else{const v=new Pt(n,i,0,0);m=SL.includes(a)?a:v.sideNearestToPoint(l)}let _;if(c)c.model.isLink()?_=$L(r,l,c):g===mt.ANCHOR_SIDE?_=h.sideNearestToPoint(l):g===mt.MAGNET_SIDE?_=c.model.getBBox().sideNearestToPoint(l):_=g;else{const v=new Pt(u,f,0,0);_=SL.includes(g)?g:v.sideNearestToPoint(r)}return[m,_]}function mce(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,h=u+l,g=i-l,{x:m}=a,{x0:_,y0:v}=t;return _===m&&v<i?mt.BOTTOM:_<m&&v<g?mt.RIGHT:_>m&&v<g?mt.LEFT:_<c&&v>=i||_>h&&v>=i?mt.TOP:_>=c&&_<=m&&v>f||_<=h&&_>=m&&v>f?r.point.x<_?mt.RIGHT:mt.LEFT:mt.TOP}function gce(e,t,r){const{x0:n,y0:i,width:o,height:s,point:a,margin:l}=e,u=n+o,f=i+s,c=n-l,h=u+l,g=f+l,{x:m}=a,{x0:_,y0:v}=t;return _===m&&v>f?mt.TOP:_<m&&v>g?mt.RIGHT:_>m&&v>g?mt.LEFT:_<c&&v<=f||_>h&&v<=f?mt.BOTTOM:_>=c&&_<=m&&v<i||_<=h&&_>=m&&v<i?r.point.x<_?mt.RIGHT:mt.LEFT:mt.BOTTOM}function vce(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=i-l,h=n-l,g=f+l,{x:m,y:_}=a,{x0:v,y0:p}=t;return v<m&&p===_?mt.RIGHT:v<=c&&p<_?mt.BOTTOM:v<=c&&p>_?mt.TOP:v>=i&&p<=h||v>=i&&p>=g?mt.LEFT:v>u&&p>=h&&p<=_||v>u&&p<=g&&p>=_?r.point.y<p?mt.BOTTOM:mt.TOP:mt.LEFT}function yce(e,t,r){const{y0:n,x0:i,width:o,height:s,point:a,margin:l}=e,u=i+o,f=n+s,c=u+l,h=n-l,g=f+l,{x:m,y:_}=a,{x0:v,y0:p}=t;return v>m&&p===_?mt.LEFT:v>=c&&p<_?mt.BOTTOM:v>=c&&p>_?mt.TOP:v<=u&&p<=h||v<=u&&p>=g?mt.RIGHT:v<i&&p>=h&&p<=_||v<i&&p<=g&&p>=_?r.point.y<p?mt.BOTTOM:mt.TOP:mt.RIGHT}function wce(e,t,r){const[n]=v_(e,t);switch(n){case mt.TOP:return mce(e,t,r);case mt.RIGHT:return yce(e,t,r);case mt.BOTTOM:return gce(e,t,r);case mt.LEFT:return vce(e,t,r)}}function $L(e,t,r){const n=r.getTangentAtLength(r.getClosestPointLength(t)),i=Math.round(Zp(n)/90)*90;if(i%180===0&&e.y===t.y)return e.x<t.x?mt.LEFT:mt.RIGHT;if(e.x===t.x)return e.y<t.y?mt.TOP:mt.BOTTOM;switch(i){case 0:case 180:case 360:return e.y<t.y?mt.TOP:mt.BOTTOM;case 90:case 270:return e.x<t.x?mt.LEFT:mt.RIGHT}}function TL(e,t,r,n,i,o,s){n===mt.AUTO&&(n=i?mt.MAGNET_SIDE:mt.ANCHOR_SIDE);const a=e&&e.model.isElement(),{x:l,y:u,width:f=0,height:c=0}=a?Pt.fromRectUnion(r,e.model.getBBox()):o;return{point:t,x0:l,y0:u,view:e,bbox:r,width:f,height:c,direction:n,margin:a?s:0}}function I1({x:e,y:t}){const r=new ze(e,t);return{point:r,x0:r.x,y0:r.y,view:null,bbox:new Pt(e,t,0,0),width:0,height:0,direction:null,margin:0}}function xL(e,t,r){const n=t.point.clone(),{x0:i,y0:o,width:s,height:a}=t;switch(e){case"left":n.x=i-r;break;case"right":n.x=i+s+r;break;case"top":n.y=o-r;break;case"bottom":n.y=o+a+r;break}return n}function gu(e,t){const{point:r,x0:n,y0:i,view:o,width:s,height:a,margin:l}=e,{point:u,x0:f,y0:c,width:h,height:g,margin:m}=t,_=f+h,v=c+g,p=n+s,E=i+a,y=o&&o.model.isElement(),S=n-l,$=p+l,T=i-l,d=E+l,x=f-m,A=_+m,O=c-m,C=v+m,[F,V]=v_(e,t),X=xL(F,{point:r,x0:n,y0:i,width:s,height:a},l),H=xL(V,{point:u,x0:f,y0:c,width:h,height:g},m),{x:Z,y:fe}=X,{x:ee,y:ne}=H,k=(f+_)/2,B=(c+v)/2,W=(n+p)/2,P=(i+E)/2,R=(W<k?p+f:_+n)/2,z=(P<B?E+c:v+i)/2;if(F==="left"&&V==="right"){if(S<=A){let J=z;return p<=f&&(v>=T&&ne<fe?J=Math.min(O,T):c<=d&&ne>=fe&&(J=Math.max(C,d))),[{x:Z,y:fe},{x:Z,y:J},{x:ee,y:J},{x:ee,y:ne}]}const oe=(Z+ee)/2;return[{x:oe,y:fe},{x:oe,y:ne}]}else if(F==="right"&&V==="left"){if($>=x){let J=z;return Z>_&&(v>=T&&ne<fe?J=Math.min(O,T):c<=d&&ne>=fe&&(J=Math.max(C,d))),[{x:Z,y:fe},{x:Z,y:J},{x:ee,y:J},{x:ee,y:ne}]}const oe=(Z+ee)/2;return[{x:oe,y:fe},{x:oe,y:ne}]}else if(F==="top"&&V==="bottom"){if(fe<ne){let J=R,Y=fe;return fe<c&&(_>=S&&ee<Z?J=Math.min(x,S):f<=$&&ee>=Z&&(J=Math.max(A,$))),[{x:Z,y:Y},{x:J,y:Y},{x:J,y:ne},{x:ee,y:ne}]}const oe=(fe+ne)/2;return[{x:Z,y:oe},{x:ee,y:oe}]}else if(F==="bottom"&&V==="top"){if(fe-l>ne){let J=R,Y=fe;return fe>v&&(_>=S&&ee<Z?J=Math.min(x,S):f<=$&&ee>=Z&&(J=Math.max(A,$))),[{x:Z,y:Y},{x:J,y:Y},{x:J,y:ne},{x:ee,y:ne}]}const oe=(fe+ne)/2;return[{x:Z,y:oe},{x:ee,y:oe}]}else if(F==="top"&&V==="top"){let oe,J=Math.min((E+c)/2,ne),Y=Math.min((i+v)/2,fe);if(ne<fe){if(Z>=A||Z<=x)return[{x:Z,y:Math.min(fe,ne)},{x:ee,y:Math.min(fe,ne)}];ee>Z?oe=Math.min(Z,x):oe=Math.max(Z,A)}else{if(ee>=$||ee<=S)return[{x:Z,y:Math.min(fe,ne)},{x:ee,y:Math.min(fe,ne)}];ee>=Z?oe=Math.max(ee,$):oe=Math.min(ee,S)}return[{x:Z,y:Y},{x:oe,y:Y},{x:oe,y:J},{x:ee,y:J}]}else if(F==="bottom"&&V==="bottom"){let oe,J=Math.max((i+v)/2,ne),Y=Math.max((E+c)/2,fe);if(ne>fe){if(Z>=A||Z<=x)return[{x:Z,y:Math.max(fe,ne)},{x:ee,y:Math.max(fe,ne)}];ee>Z?oe=Math.min(Z,x):oe=Math.max(Z,A)}else{if(ee>=$||ee<=S)return[{x:Z,y:Math.max(fe,ne)},{x:ee,y:Math.max(fe,ne)}];ee>=Z?oe=Math.max(ee,$):oe=Math.min(ee,S)}return[{x:Z,y:Y},{x:oe,y:Y},{x:oe,y:J},{x:ee,y:J}]}else if(F==="left"&&V==="left"){let oe,J=Math.min((p+f)/2,ee),Y=Math.min((n+_)/2,Z);return ee>Z?ne<=fe?oe=Math.min(T,ne):oe=Math.max(d,ne):ne>=fe?oe=Math.min(O,fe):oe=Math.max(C,fe),[{x:Y,y:fe},{x:Y,y:oe},{x:J,y:oe},{x:J,y:ne}]}else if(F==="right"&&V==="right"){let oe,J=Math.max((n+_)/2,ee),Y=Math.max((p+f)/2,Z);return ee<Z?ne<=fe?oe=Math.min(T,ne):oe=Math.max(d,ne):ne>=fe?oe=Math.min(O,fe):oe=Math.max(C,fe),[{x:Y,y:fe},{x:Y,y:oe},{x:J,y:oe},{x:J,y:ne}]}else if(F==="top"&&V==="right"){if(fe>ne){if(Z<ee){let J=z;return(J>B||!y)&&J<C&&Z<f&&(J=O),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ne}]}return[{x:Z,y:ne}]}const oe=Math.max(R,A);if(ee<Z&&ne>i&&ne<E)return[{x:Z,y:fe},{x:oe,y:fe},{x:oe,y:ne}];if(oe>S&&ne>i||f>p){const J=Math.min(i-l,c-m),Y=Math.max(p+l,_+m);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ne}]}return[{x:Z,y:fe},{x:Math.max(oe,ee),y:fe},{x:Math.max(oe,ee),y:ne}]}else if(F==="top"&&V==="left"){if(fe>ne){if(Z>ee){let J=z;return(J>B||!y)&&J<C&&Z>_&&(J=O),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ne}]}return[{x:Z,y:ne}]}const oe=Math.min(x,R);if(Z<ee&&E>=ne)return[{x:Z,y:fe},{x:oe,y:fe},{x:oe,y:ne}];if(oe<$&&fe<v){const J=Math.min(T,O),Y=Math.min(S,x);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ne}]}return[{x:Z,y:fe},{x:oe,y:fe},{x:oe,y:ne}]}else if(F==="bottom"&&V==="right"){if(fe<ne){if(Z<ee){let J=z;return(J<B||!y)&&J>O&&Z<f&&(J=C),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ne}]}return[{x:Z,y:ne}]}else if(n<ee){const J=Math.max(d,C),Y=Math.max($,A);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ne}]}const oe=R;return[{x:Z,y:fe},{x:oe,y:fe},{x:oe,y:ne}]}else if(F==="bottom"&&V==="left"){if(fe<ne){if(Z>ee){let J=z;return(J<B||!y)&&J>O&&Z>_&&(J=C),[{x:Z,y:J},{x:ee,y:J},{x:ee,y:ne}]}return[{x:Z,y:ne}]}else if(p>ee){const J=Math.max(d,C),Y=Math.min(S,x);return[{x:Z,y:J},{x:Y,y:J},{x:Y,y:ne}]}const oe=R;return[{x:Z,y:fe},{x:oe,y:fe},{x:oe,y:ne}]}else if(F==="left"&&V==="bottom"){if(Z>=ee&&fe>=C)return[{x:ee,y:fe}];if(Z>=_&&fe<ne){const Y=R;return[{x:Y,y:fe},{x:Y,y:ne},{x:ee,y:ne}]}if(ee<p&&v<=i){const Y=z;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const oe=Math.min(x,Z),J=Math.max(d,C);return[{x:oe,y:fe},{x:oe,y:J},{x:ee,y:J}]}else if(F==="left"&&V==="top"){if(Z>ee&&fe<O)return[{x:ee,y:fe}];if(Z>=_&&fe>ne){const Y=R;return[{x:Y,y:fe},{x:Y,y:ne},{x:ee,y:ne}]}if(ee<=p&&ne>fe){const Y=z;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const oe=ne<fe?Math.min(S,x):S,J=Math.min(T,O);return[{x:oe,y:fe},{x:oe,y:J},{x:ee,y:J}]}else if(F==="right"&&V==="top"){if(Z<=ee&&fe<O)return[{x:ee,y:fe}];if(p<f&&fe>ne){let Y=R;return[{x:Y,y:fe},{x:Y,y:ne},{x:ee,y:ne}]}if(ee<Z&&c>E){const Y=z;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const oe=Math.max($,A),J=Math.min(T,O);return[{x:oe,y:fe},{x:oe,y:J},{x:ee,y:J}]}else if(F==="right"&&V==="bottom"){if(Z<=ee&&fe>=C)return[{x:ee,y:fe}];if(Z<=x&&fe<ne){const Y=R;return[{x:Y,y:fe},{x:Y,y:ne},{x:ee,y:ne}]}if(ee>n&&v<i){const Y=z;return[{x:Z,y:fe},{x:Z,y:Y},{x:ee,y:Y}]}const oe=Math.max(A,Z),J=Math.max(d,C);return[{x:oe,y:fe},{x:oe,y:J},{x:ee,y:J}]}}function RW(e,t,r){const{sourceDirection:n=mt.AUTO,targetDirection:i=mt.AUTO}=t,o=t.margin||20,s=t.useVertices||!1,a=!!r.model.source().port,l=TL(r.sourceView,r.sourceAnchor,r.sourceBBox,n,a,r.sourceAnchor,o),u=!!r.model.target().port,f=TL(r.targetView,r.targetAnchor,r.targetBBox,i,u,r.targetAnchor,o);let c=[];if(!s||e.length===0)return oy(gu(l,f));const h=e.map(_=>I1(_)),[g]=h;if(l.view&&l.view.model.isElement()&&l.view.model.getBBox().inflate(o).containsPoint(g.point)){const[_]=v_(l,g),v=_,p=I1(l.point);p.margin=o,p.direction=_,g.direction=v,c.push(...gu(p,g),g.point)}else{const _=h[1]||f,v=wce(l,g,_);g.direction=v,c.push(...gu(l,g),g.point)}for(let _=0;_<h.length-1;_++){const v=h[_],p=h[_+1],E=new Rt(v.point,p.point),y=Zp(E);if(y%90===0){const T=iy[y],d=th[T];if(T!==v.direction)c.push(v.point,p.point),p.direction=d;else{const x=ya(y-90);let A=0,O=0;x===90?O=-o:x===180?A=-o:x===270?O=o:x===0&&(A=o);const C={x:v.point.x+A,y:v.point.y+O},F={x:p.point.x+A,y:p.point.y+O},V=new Rt(p.point,F);p.direction=iy[Zp(V)],c.push(v.point,C,F,p.point)}continue}const[S,$]=j1(v,p);v.direction=S,p.direction=$,c.push(...gu(v,p),p.point)}const m=h[h.length-1];if(f.view&&f.view.model.isElement())if(f.view.model.getBBox().inflate(o).containsPoint(m.point)){const[_]=j1(m,f),v=I1(f.point),[,p]=v_(m,f);v.margin=o,v.direction=p,m.direction=_,c.push(...gu(m,v))}else{const _=oy(c),v=new Rt(_[_.length-2],m.point),p=iy[Math.round(Zp(v))];m.direction=p;let E=gu(m,f);const[y,S]=oy([...E,f.point]),$=new Rt(y,S),T=Math.round(Zp($)),d=iy[T];d!==p&&p===th[d]&&(m.margin=o,E=gu(m,f)),c.push(...E)}else{const[_]=j1(m,f);m.direction=_,c.push(...gu(m,f))}return oy(c)}function j1(e,t){const r=e.direction,n=pce.includes(r);let i=e.direction,o=t.direction;if(n){const s=e.point.y>t.point.y,a=t.point.x-e.point.x;r===mt.BOTTOM?(i=s?th[r]:a>=0?mt.RIGHT:mt.LEFT,a>0?o=s?mt.LEFT:mt.TOP:a<0&&(o=s?mt.RIGHT:mt.TOP)):(i=s?a>=0?mt.RIGHT:mt.LEFT:th[r],a>0?o=s?mt.BOTTOM:mt.LEFT:a<0&&(o=s?mt.BOTTOM:mt.RIGHT))}else{const s=e.point.x>t.point.x,a=t.point.y-e.point.y;r===mt.RIGHT?(i=s?th[r]:a>=0?mt.BOTTOM:mt.TOP,a>0?o=s?mt.TOP:mt.LEFT:a<0&&(o=s?mt.BOTTOM:mt.LEFT)):(i=s?a>=0?mt.BOTTOM:mt.TOP:th[r],a>0?o=s?mt.RIGHT:mt.TOP:a<0&&(o=s?mt.RIGHT:mt.BOTTOM))}return[i,o]}RW.Directions=mt;const bce=RW,_ce=Object.freeze(Object.defineProperty({__proto__:null,manhattan:aP,metro:hce,normal:Jue,oneSide:Yue,orthogonal:sP,rightAngle:bce},Symbol.toStringTag,{value:"Module"})),Md={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},Ece=Object.values(Md),Sce=10,$ce=1,cj=function(e,t,r=[],n={}){const{cornerType:i=Md.POINT,cornerRadius:o=Sce,cornerPreserveAspectRatio:s=!1,precision:a=$ce,raw:l=!1}=n;if(Ece.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===Md.POINT||!o){const f=[e].concat(r).concat([t]),c=new fn(f);u=new Bt(c)}else{u=new Bt,u.appendSegment(Bt.createSegment("M",e));let f;const c=r.length;for(let h=0;h<c;h++){const g=new ze(r[h]),m=r[h-1]||e,_=r[h+1]||t,v=f||g.distance(m)/2;f=g.distance(_)/2;let p,E;s?p=E=-Math.min(o,v,f):(p=-Math.min(o,v),E=-Math.min(o,f));const y=g.clone().move(m,p).round(a),S=g.clone().move(_,E).round(a);switch(u.appendSegment(Bt.createSegment("L",y)),i){case Md.CUBIC:{const $=.3333333333333333,T=2/3,d=new ze($*y.x+T*g.x,T*g.y+$*y.y),x=new ze($*S.x+T*g.x,T*g.y+$*S.y);u.appendSegment(Bt.createSegment("C",d,x,S));break}case Md.LINE:{u.appendSegment(Bt.createSegment("L",S));break}case Md.GAP:{u.appendSegment(Bt.createSegment("M",S));break}}}u.appendSegment(Bt.createSegment("L",t))}return l?u:u.serialize()};var Tce=5,AL=["arc","gap","cubic"],xce=0,OL=1,Ace=["smooth"],sy=1/3,ay=2/3;function PL(e,t){let{x:r,y:n}=e,{x:i,y:o}=t;if(r>i){let s=r;r=i,i=s,s=n,n=o,o=s}if(n>o){let s=r;r=i,i=s,s=n,n=o,o=s}return[new ze(r,n),new ze(i,o)]}function Oce(e,t){const[{x:r,y:n},{x:i,y:o}]=PL(e.start,e.end),[{x:s,y:a},{x:l,y:u}]=PL(t.start,t.end),f=r<=l&&s<=i,c=n<=u&&a<=o;return f&&c}function k1(e,t,r){var n=[].concat(e,r,t);return n.reduce(function(i,o,s){var a=n[s+1];return a!=null&&(i[s]=$f(o,a)),i},[])}function Pce(e){var t=e.paper,r=t._jumpOverUpdateList;if(r==null){r=t._jumpOverUpdateList=[];var n=t.model;n.on("batch:stop",function(){this.hasActiveBatch()||Nce(t)}),n.on("reset",function(){r=t._jumpOverUpdateList=[]})}r.indexOf(e)<0&&(r.push(e),e.listenToOnce(e.model,"change:connector remove",function(){r.splice(r.indexOf(e),1)}))}function Nce(e){for(var t=e._jumpOverUpdateList,r=0;r<t.length;r++){const n=t[r],i=n.getFlag(n.constructor.Flags.CONNECTOR);n.requestUpdate(i)}}function Rce(e,t){return $r(t).reduce(function(r,n){var i=e.intersection(n);return i&&r.push(i),r},[])}function NL(e,t){return $f(e,t).squaredLength()}function Ice(e,t,r){return t.reduce(function(n,i,o){if(i.skip===!0)return n;var s=n.pop()||e,a=a_(i).move(s.start,-r),l=a_(i).move(s.start,+r),u=t[o+1];if(u!=null){var f=l.distance(u);f<=r&&(l=u.move(s.start,f),u.skip=!0)}else{var c=a.distance(s.end);if(c<r*2+OL)return n.push(s),n}var h=l.distance(s.start);if(h<r*2+OL)return n.push(s),n;var g=$f(a,l);return g.isJump=!0,n.push($f(s.start,a),g,$f(l,s.end)),n},[])}function RL(e,t,r,n){var i=new Bt,o;return o=Bt.createSegment("M",e[0].start),i.appendSegment(o),$r(e).forEach(function(s,a){if(s.isJump){var l,u,f,c;if(r==="arc"){l=-90,u=s.start.difference(s.end);var h=+(u.x<0||u.x===0&&u.y<0);h&&(l+=180);var g=s.midpoint(),m=new Rt(g,s.end).rotate(g,l),_;_=new Rt(s.start,g),f=_.pointAt(2/3).rotate(s.start,l),c=m.pointAt(1/3).rotate(m.end,-l),o=Bt.createSegment("C",f,c,m.end),i.appendSegment(o),_=new Rt(g,s.end),f=m.pointAt(1/3).rotate(m.end,l),c=_.pointAt(1/3).rotate(s.end,-l),o=Bt.createSegment("C",f,c,s.end),i.appendSegment(o)}else if(r==="gap")o=Bt.createSegment("M",s.end),i.appendSegment(o);else if(r==="cubic"){l=s.start.theta(s.end);var v=t*.6,p=t*1.35;u=s.start.difference(s.end),h=+(u.x<0||u.x===0&&u.y<0),h&&(p*=-1),f=ze(s.start.x+v,s.start.y+p).rotate(s.start,l),c=ze(s.end.x-v,s.end.y+p).rotate(s.end,l),o=Bt.createSegment("C",f,c,s.end),i.appendSegment(o)}}else{var E=e[a+1];n==0||!E||E.isJump?(o=Bt.createSegment("L",s.end),i.appendSegment(o)):jce(n,i,s.end,s.start,E.end)}}),i}function jce(e,t,r,n,i){var o=r.distance(n)/2,s=r.distance(i)/2,a=-Math.min(e,o),l=-Math.min(e,s),u=r.clone().move(n,a).round(),f=r.clone().move(i,l).round(),c=new ze(sy*u.x+ay*r.x,ay*r.y+sy*u.y),h=new ze(sy*f.x+ay*r.x,ay*r.y+sy*f.y),g;g=Bt.createSegment("L",u),t.appendSegment(g),g=Bt.createSegment("C",c,h,f),t.appendSegment(g)}const kce=function(e,t,r,n){Pce(this);var i=n.raw,o=n.size||Tce,s=n.jump&&(""+n.jump).toLowerCase(),a=n.radius||xce,l=n.ignoreConnectors||Ace;AL.indexOf(s)===-1&&(s=AL[0]);var u=this.paper,f=u.model,c=f.getLinks();if(c.length===1)return RL(k1(e,t,r),o,s,a);var h=this.model,g=c.indexOf(h),m=u.options.defaultConnector||{},_=c.filter(function($,T){var d=$.get("connector")||m;return $r(l).includes(d.name)?!1:T>g?d.name!=="jumpover":!0}),v=_.map(function($){return u.findViewByModel($)}),p=k1(e,t,r),E=v.map(function($){return $==null?[]:$===this?p:k1($.sourcePoint,$.targetPoint,$.route)},this),y=p.reduce(function($,T){var d=_.reduce(function(x,A,O){if(A!==h){const C=E[O].slice(),F=C.findIndex(X=>Oce(T,X));F>-1&&T.containsPoint(C[F].end)&&C.splice(F+1,1);const V=Rce(T,C);x.push.apply(x,V)}return x},[]).sort(function(x,A){return NL(T.start,x)-NL(T.start,A)});return d.length>0?$.push.apply($,Ice(T,d,o)):$.push(T),$},[]),S=RL(y,o,s,a);return i?S:S.serialize()},Cce=function(e,t,r=[],n={}){const{raw:i}=n;return cj(e,t,r,{cornerType:"point",raw:i})},Dce=10,Mce=0,Lce=function(e,t,r=[],n={}){const{radius:i=Dce,raw:o}=n;return cj(e,t,r,{cornerType:"cubic",cornerRadius:i,precision:Mce,raw:o})},Fce=function(e,t,r,n){var i=n&&n.raw,o;if(r&&r.length!==0){var s=[e].concat(r).concat([t]),a=Fr.throughPoints(s);o=new Bt(a)}else{o=new Bt;var l;if(l=Bt.createSegment("M",e),o.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=Bt.createSegment("C",u,e.y,u,t.y,t.x,t.y),o.appendSegment(l)}else{var f=(e.y+t.y)/2;l=Bt.createSegment("C",e.x,f,t.x,f,t.x,t.y),o.appendSegment(l)}}return i?o:o.serialize()},Rs={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},eo={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},fj=function(e,t,r=[],n={},i){const o=!!n.raw,{direction:s=Rs.AUTO,precision:a=3}=n,l={coeff:n.distanceCoefficient||.6,angleTangentCoefficient:n.angleTangentCoefficient||80,tau:n.tension||.5,sourceTangent:n.sourceTangent?new ze(n.sourceTangent):null,targetTangent:n.targetTangent?new ze(n.targetTangent):null,rotate:!!n.rotate};typeof n.sourceDirection=="string"?l.sourceDirection=n.sourceDirection:typeof n.sourceDirection=="number"?l.sourceDirection=new ze(1,0).rotate(null,n.sourceDirection):l.sourceDirection=n.sourceDirection?new ze(n.sourceDirection).normalize():null,typeof n.targetDirection=="string"?l.targetDirection=n.targetDirection:typeof n.targetDirection=="number"?l.targetDirection=new ze(1,0).rotate(null,n.targetDirection):l.targetDirection=n.targetDirection?new ze(n.targetDirection).normalize():null;const u=[e,...r,t].map(_=>new ze(_));let f;if(l.sourceTangent)f=l.sourceTangent;else{const _=Vce(i,u,s,l),v=u[0].distance(u[1])*l.coeff,p=u[1].difference(u[0]).normalize(),E=lP(_,p);if(E>Math.PI/4){const y=v+(E-Math.PI/4)*l.angleTangentCoefficient;f=_.clone().scale(y,y)}else f=_.clone().scale(v,v)}let c;if(l.targetTangent)c=l.targetTangent;else{const _=Hce(i,u,s,l),v=u.length-1,p=u[v-1].distance(u[v])*l.coeff,E=u[v-1].difference(u[v]).normalize(),y=lP(_,E);if(y>Math.PI/4){const S=p+(y-Math.PI/4)*l.angleTangentCoefficient;c=_.clone().scale(S,S)}else c=_.clone().scale(p,p)}const g=Gce(u,f,c,l).map(_=>Kce(_,l)),m=new Bt(g).round(a);return o?m:m.serialize()};fj.Directions=Rs;fj.TangentDirections=eo;function Bce(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.x>t[1].x?i="right":i="left";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"left":s=new ze(-1,0);break;case"right":default:s=new ze(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function Uce(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.x>t[t.length-2].x?i="left":i="right";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"left":s=new ze(-1,0);break;case"right":default:s=new ze(1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function zce(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)n.y>t[1].y?i="bottom":i="top";else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":default:s=new ze(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function qce(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)n.y>t[t.length-2].y?i="top":i="bottom";else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":default:s=new ze(0,1);break}return r.rotate&&o&&s.rotate(null,-o),s}function IL(e,t,r){const{sourceBBox:n}=e;let i,o;if(!e.sourceView)i=n.sideNearestToPoint(t[1]);else if(o=e.sourceView.model.angle(),r.rotate&&o){const a=e.sourceView.getNodeUnrotatedBBox(e.sourceView.el),l=t[0].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[0]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":s=new ze(0,1);break;case"right":s=new ze(1,0);break;case"left":s=new ze(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function jL(e,t,r){const{targetBBox:n}=e;let i,o;if(!e.targetView)i=n.sideNearestToPoint(t[t.length-2]);else if(o=e.targetView.model.angle(),r.rotate&&o){const a=e.targetView.getNodeUnrotatedBBox(e.targetView.el),l=t[t.length-1].clone();l.rotate(n.center(),o),i=a.sideNearestToPoint(l)}else i=n.sideNearestToPoint(t[t.length-1]);let s;switch(i){case"top":s=new ze(0,-1);break;case"bottom":s=new ze(0,1);break;case"right":s=new ze(1,0);break;case"left":s=new ze(-1,0);break}return r.rotate&&o&&s.rotate(null,-o),s}function kL(e,t,r){return t[1].difference(t[0]).normalize()}function CL(e,t,r){const n=t.length-1;return t[n-1].difference(t[n]).normalize()}function DL(e,t,r){const{sourceBBox:n}=e,i=n.center();return t[0].difference(i).normalize()}function ML(e,t,r){const{targetBBox:n}=e,i=n.center();return t[t.length-1].difference(i).normalize()}function Vce(e,t,r,n){if(n.sourceDirection)switch(n.sourceDirection){case eo.UP:return new ze(0,-1);case eo.DOWN:return new ze(0,1);case eo.LEFT:return new ze(-1,0);case eo.RIGHT:return new ze(1,0);case eo.AUTO:return IL(e,t,n);case eo.CLOSEST_POINT:return kL(e,t);case eo.OUTWARDS:return DL(e,t);default:return n.sourceDirection}switch(r){case Rs.HORIZONTAL:return Bce(e,t,n);case Rs.VERTICAL:return zce(e,t,n);case Rs.CLOSEST_POINT:return kL(e,t);case Rs.OUTWARDS:return DL(e,t);case Rs.AUTO:default:return IL(e,t,n)}}function Hce(e,t,r,n){if(n.targetDirection)switch(n.targetDirection){case eo.UP:return new ze(0,-1);case eo.DOWN:return new ze(0,1);case eo.LEFT:return new ze(-1,0);case eo.RIGHT:return new ze(1,0);case eo.AUTO:return jL(e,t,n);case eo.CLOSEST_POINT:return CL(e,t);case eo.OUTWARDS:return ML(e,t);default:return n.targetDirection}switch(r){case Rs.HORIZONTAL:return Uce(e,t,n);case Rs.VERTICAL:return qce(e,t,n);case Rs.CLOSEST_POINT:return CL(e,t);case Rs.OUTWARDS:return ML(e,t);case Rs.AUTO:default:return jL(e,t,n)}}function Wce(e,t){const r=Math.cos(t),n=Math.sin(t),i=r*e.x-n*e.y,o=n*e.x+r*e.y;e.x=i,e.y=o}function lP(e,t){let r=e.dot(t)/(e.magnitude()*t.magnitude());return r<-1&&(r=-1),r>1&&(r=1),Math.acos(r)}function LL(e,t){return e.x*t.y-e.y*t.x}function Gce(e,t,r,n){const{tau:i,coeff:o}=n,s=[],a=[],l=[],u=e.length-1;for(let f=0;f<u;f++)s[f]=e[f].distance(e[f+1]);a[0]=t,a[u]=r;for(let f=1;f<u;f++){let c,h;f===1?c=e[f-1].clone().offset(a[f-1].x,a[f-1].y):c=e[f-1].clone(),f===u-1?h=e[f+1].clone().offset(a[f+1].x,a[f+1].y):h=e[f+1].clone();const g=c.difference(e[f]).normalize(),m=h.difference(e[f]).normalize(),_=lP(g,m);let v=(Math.PI-_)/2,p;const E=LL(g,m);let y;y=LL(e[f].difference(e[f+1]),e[f].difference(e[f-1])),E<0&&(v=-v),_<Math.PI/2&&(v<0&&y<0||v>0&&y>0)&&(v=v-Math.PI),p=m.clone(),Wce(p,v);const S=p.clone(),$=p.clone(),T=s[f-1]*o,d=s[f]*o;S.scale(T,T),$.scale(d,d),a[f]=[S,$]}for(let f=0;f<u;f++){let c,h;f===0?c=e[f+1].difference(a[f].x/i,a[f].y/i):c=e[f+1].difference(a[f][1].x/i,a[f][1].y/i),f===u-1?h=e[f].clone().offset(a[f+1].x/i,a[f+1].y/i):h=e[f].difference(a[f+1][0].x/i,a[f+1][0].y/i),l[f]=[c,e[f],e[f+1],h]}return l}function Kce(e,t){const{tau:r}=t,n=new ze;n.x=e[1].x+(e[2].x-e[0].x)/(6*r),n.y=e[1].y+(e[2].y-e[0].y)/(6*r);const i=new ze;return i.x=e[2].x+(e[3].x-e[1].x)/(6*r),i.y=e[2].y+(e[3].y-e[1].y)/(6*r),new Fr(e[1],n,i,e[2])}const Jce=Object.freeze(Object.defineProperty({__proto__:null,curve:fj,jumpover:kce,normal:Cce,rounded:Lce,smooth:Fce,straight:cj},Symbol.toStringTag,{value:"Module"})),Xt={TOOLS:hr.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},_m=hr.extend({className:function(){var e=hr.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){hr.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Xt.RENDER],attrs:[Xt.UPDATE],router:[Xt.UPDATE],connector:[Xt.CONNECTOR],smooth:[Xt.UPDATE],manhattan:[Xt.UPDATE],toolMarkup:[Xt.LEGACY_TOOLS],labels:[Xt.LABELS],labelMarkup:[Xt.LABELS],vertices:[Xt.VERTICES,Xt.UPDATE],vertexMarkup:[Xt.VERTICES],source:[Xt.SOURCE,Xt.UPDATE],target:[Xt.TARGET,Xt.UPDATE]},initFlag:[Xt.RENDER,Xt.SOURCE,Xt.TARGET,Xt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,Xt.SOURCE)){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,Xt.SOURCE)}if(this.hasFlag(e,Xt.TARGET)){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,Xt.TARGET)}const{paper:r,sourceView:n,targetView:i}=this;if(r&&(n&&!r.isViewMounted(n)||i&&!r.isViewMounted(i)))return e;if(this.hasFlag(e,Xt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(t),e=this.removeFlag(e,[Xt.RENDER,Xt.UPDATE,Xt.VERTICES,Xt.LABELS,Xt.TOOLS,Xt.LEGACY_TOOLS,Xt.CONNECTOR]),e;let o=!1;this.hasFlag(e,Xt.VERTICES)&&(this.renderVertexMarkers(),e=this.removeFlag(e,Xt.VERTICES));const{model:s}=this,{attributes:a}=s;let l=this.hasFlag(e,Xt.LABELS),u=this.hasFlag(e,Xt.LEGACY_TOOLS);l&&(this.onLabelsChange(s,a.labels,t),e=this.removeFlag(e,Xt.LABELS),o=!0),u&&(this.renderTools(),e=this.removeFlag(e,Xt.LEGACY_TOOLS));const f=this.hasFlag(e,Xt.UPDATE),c=this.hasFlag(e,Xt.CONNECTOR);return(f||c)&&(f?t.translateBy&&s.isRelationshipEmbeddedIn(t.translateBy)?this.translate(t.tx,t.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(t),e=this.removeFlag(e,[Xt.UPDATE,Xt.TOOLS,Xt.CONNECTOR]),l=!1,u=!1,o=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(e,Xt.TOOLS)&&(this.updateTools(t),e=this.removeFlag(e,Xt.TOOLS)),e},requestConnectionUpdate:function(e){this.requestUpdate(this.getFlag(Xt.UPDATE),e)},isLabelsRenderRequired:function(e={}){const t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var r=e.propertyPathArray||[],n=r.length;if(n>1){var i=!!t[r[1]];if(i){if(n===2)return"markup"in Object(e.propertyValue);if(r[2]!=="markup")return!1}}}return!0},onLabelsChange:function(e,t,r){this.isLabelsRenderRequired(r)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if(typeof t=="string")return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=at(e);Array.isArray(t)||(t=[t]);for(var r=this._V,n=0,i=t.length;n<i;n++){var o=t[n],s=o.attr("class");s&&(s=sue(s),r[Lr.camelCase(s)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if(typeof e=="string")return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=at(e),r=document.createDocumentFragment();if(!Array.isArray(t))r.appendChild(t.node);else for(var n=0,i=t.length;n<i;n++){var o=t[n].node;r.appendChild(o)}return{fragment:r,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t=e.fragment;if(!(e.fragment instanceof DocumentFragment)||!e.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var r,n=t.childNodes;return n.length>1||n[0].nodeName.toUpperCase()!=="G"?r=at("g").append(t):r=at(n[0]),r.addClass("label"),{node:r.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,r=this._labelCache={},n=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(s===0)return t&&t.remove(),this;t?t.empty():(t=e.labels=at("g").addClass("labels"),this.options.labelsLayer&&(t.addClass(ua(Vn(this,"className"))),t.attr("model-id",i.id)));for(var a=0;a<s;a++){var l=o[a],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),f,c;if(u)f=u.node,c=u.selectors;else{var h=i._builtins.defaultLabel,g=this._normalizeLabelMarkup(this._getLabelMarkup(h.markup)),m=i._getDefaultLabel(),_=this._normalizeLabelMarkup(this._getLabelMarkup(m.markup)),v=_||g;f=v.node,c=v.selectors}f.setAttribute("label-idx",a),t.append(f),r[a]=f;var p=this.selector;if(c[p])throw new Error("dia.LinkView: ambiguous label root selector.");c[p]=f,n[a]=c}return t.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:e,paper:t,model:r,_V:n,options:i}=this,{labels:o}=n;if(!o||!r.hasLabels())return;const{node:s}=o;i.labelsLayer?t.getLayerView(i.labelsLayer).insertSortedNode(s,r.get("z")):s.parentNode!==e&&e.appendChild(s)},unmountLabels:function(){const{options:e,_V:t}=this;if(!t)return;const{labels:r}=t;r&&e.labelsLayer&&r.remove()},findLabelNode:function(e,t){const r=this._labelCache[e];if(!r)return null;const n=this._labelSelectors[e],[i=null]=this.findBySelector(t,r,n);return i},_mergeLabelAttrs:function(e,t,r,n){return t===null?null:t===void 0?r===null?null:r===void 0?e?void 0:n:e?r:ni({},n,r):e?ni({},r,t):ni({},n,r,t)},_mergeLabelSize:function(e,t){return e===null?null:e===void 0?t===null?null:t===void 0?void 0:t:ni({},t,e)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],r=this.can("labelMove"),n=e._builtins.defaultLabel,i=n.attrs,o=e._getDefaultLabel(),s=o.markup,a=o.attrs,l=o.size,u=0,f=t.length;u<f;u++){var c=this._labelCache[u];c.setAttribute("cursor",r?"move":"default");var h=this._labelSelectors[u],g=t[u],m=g.markup,_=g.attrs,v=g.size,p=this._mergeLabelAttrs(m||s,_,a,i),E=this._mergeLabelSize(v,l);this.updateDOMSubtreeAttributes(c,p,{rootBBox:new Pt(E),selectors:h})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e=Lr(this._V.linkTools.node).empty(),t=Ki(this.model.get("toolMarkup")||this.model.toolMarkup),r=at(t());if(e.append(r.node),this._toolCache=r,this.options.doubleLinkTools){var n;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(t=Ki(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),n=at(t())):n=r.clone(),e.append(n.node),this._tool2Cache=n}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=Lr(this._V.markerVertices.node).empty(),t=Ki(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(r,n){e.append(at(t(Gt({idx:n},r))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=Lr(this._V.markerArrowheads.node);e.empty();var t=Ki(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=at(t({end:"source"})),this._V.targetArrowhead=at(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(e){const r=this.model,n=r.vertices(),i=[this.sourceAnchor,...n,this.targetAnchor],o=i.length,s=new fn(i);s.simplify({threshold:.001});const a=s.points.map(u=>u.toJSON()),l=a.length;return o===l?0:(r.vertices(a.slice(1,l-1),e),o-l)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new ze(this.sourceAnchor);case"target":return new ze(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(e){switch(e){case"source":return new ze(this.sourcePoint);case"target":return new ze(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var r=this.targetView;if(!r)break;return this.targetMagnet||r.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(e=0,t=0){const{route:r,path:n}=this;if(!r||!n)return;const i=new fn(r);i.translate(e,t),this.route=i.points,this._translateConnectionPoints(e,t),n.translate(e,t),this.updateDOM()},updateDOM(){const{el:e,model:t,selectors:r}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(e,t.attr(),{selectors:r}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:e}=this,t=e.vertices(),r=this.findAnchors(t),n=this.sourceAnchor=r.source,i=this.targetAnchor=r.target,o=this.findRoute(t);this.route=o;var s=this.findConnectionPoints(o,n,i);this.sourcePoint=s.source,this.targetPoint=s.target},updatePath:function(){const{route:e,sourcePoint:t,targetPoint:r}=this,n=this.findMarkerPoints(e,t,r),i=this.findPath(e,n.source||t,n.target||r);this.path=i},findMarkerPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this._markerCache,s,a;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),s=ze(t).move(n||r,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),a=ze(r).move(i||t,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=s||t.clone(),o.targetPoint=a||r.clone(),{source:s,target:a}},findAnchorsOrdered:function(e,t,r,n){var i,o,s,a,l=this.model,u=l.get(e),f=l.get(r),c=this.getEndView(e),h=this.getEndView(r),g=this.getEndMagnet(e),m=this.getEndMagnet(r);c?(t?s=new ze(t):h?s=m:s=new ze(f),i=this.getAnchor(u.anchor,c,g,s,e)):i=new ze(u),h?(a=new ze(n||i),o=this.getAnchor(f.anchor,h,m,a,r)):o=new ze(f);var _={};return _[e]=i,_[r]=o,_},findAnchors:function(e){var t=this.model,r=e[0],n=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",n,"source",r):this.findAnchorsOrdered("source",r,"target",n)},findConnectionPoints:function(e,t,r){var n=e[0],i=e[e.length-1],o=this.model,s=o.get("source"),a=o.get("target"),l=this.sourceView,u=this.targetView,f=this.paper.options,c,h,g;if(l&&!l.isNodeConnection(this.sourceMagnet)){c=this.sourceMagnet||l.el;var m=s.connectionPoint||f.defaultConnectionPoint,_=n||r,v=new Rt(_,t);g=this.getConnectionPoint(m,l,c,v,"source")}else g=t;var p;if(u&&!u.isNodeConnection(this.targetMagnet)){h=this.targetMagnet||u.el;var E=a.connectionPoint||f.defaultConnectionPoint,y=i||t,S=new Rt(y,r);p=this.getConnectionPoint(E,u,h,S,"target")}else p=r;return{source:g,target:p}},getAnchor:function(e,t,r,n,i){var o=t.isNodeConnection(r),s=this.paper.options;if(e||(o?e=s.defaultLinkAnchor:s.perpendicularLinks||this.options.perpendicular?e={name:"perpendicular"}:e=s.defaultAnchor),!e)throw new Error("Anchor required.");var a;if(typeof e=="function")a=e;else{var l=e.name,u=o?"linkAnchorNamespace":"anchorNamespace";if(a=s[u][l],typeof a!="function")throw new Error("Unknown anchor: "+l)}var f=a.call(this,t,r,n,e.args||{},i,this);return f?f.round(this.decimalsRounding):new ze},getConnectionPoint:function(e,t,r,n,i){var o,s=n.end,a=this.paper.options;if(typeof a.linkConnectionPoint=="function"){var l=r===t.el?void 0:r;if(o=a.linkConnectionPoint(this,t,l,n.start,i),o)return o}if(!e)return s;var u;if(typeof e=="function")u=e;else{var f=e.name;if(u=a.connectionPointNamespace[f],typeof u!="function")throw new Error("Unknown connection point: "+f)}return o=u.call(this,n,t,r,e.args||{},i,this),o?o.round(this.decimalsRounding):s},_translateConnectionPoints:function(e,t){var r=this._markerCache;r.sourcePoint.offset(e,t),r.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_getDefaultLabelPositionProperty:function(){var e=this.model,t=e._builtins.defaultLabel,r=t.position,n=e._getDefaultLabel(),i=this._normalizeLabelPosition(n.position);return ni({},r,i)},_normalizeLabelPosition:function(e){return typeof e=="number"?{distance:e,offset:null,angle:0,args:null}:e},_mergeLabelPositionProperty:function(e,t){return e===null?null:e===void 0?t===null?null:t:ni({},t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var e=this.path;if(!e)return this;var t=this.model,r=t.get("labels")||[];if(!r.length)return this;for(var n=this._getDefaultLabelPositionProperty(),i=0,o=r.length;i<o;i++){var s=this._labelCache[i];if(s){var a=r[i],l=this._normalizeLabelPosition(a.position),u=this._mergeLabelPositionProperty(l,n),f=this._getLabelTransformationMatrix(u);s.setAttribute("transform",at.matrixToTransformString(f)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(e){const{metrics:t,_labelSelectors:r}=this,n=r[e];if(n)for(let i in n){const{id:o}=n[i];o&&o in t&&delete t[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,r=this.getConnectionLength();if(!Number.isNaN(r)){r<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var n=this.getPointAtLength(t);if(this._toolCache.attr("transform","translate("+n.x+", "+n.y+") "+e),this.options.doubleLinkTools&&r>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||t;n=this.getPointAtLength(r-i),this._tool2Cache.attr("transform","translate("+n.x+", "+n.y+") "+e),this._tool2Cache.attr("display","inline")}else this.options.doubleLinkTools&&this._tool2Cache.attr("display","none")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Lr.css(this._V.markerArrowheads.node,"display")==="none")return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){const{model:t,paper:r}=this,n=`${e}View`,i=t.get(e),o=i&&i.id;if(!o)return this[n]=null,this.updateEndMagnet(e),!0;const s=r.getModelById(o);if(!s)throw new Error("LinkView: invalid "+e+" cell.");const a=s.findView(r);return a?(this[n]=a,this.updateEndMagnet(e),!0):!1},updateEndMagnet:function(e){const t=`${e}Magnet`,r=this.getEndView(e);if(r){let n=r.getMagnetFromLinkEnd(this.model.get(e));n===r.el&&(n=null),this[t]=n}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var r=$r(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,r[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,r[r.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(e){return this.model.label(e).position||{}},_getLabelPositionAngle:function(e){var t=this._getLabelPositionProperty(e);return t.angle||0},_getLabelPositionArgs:function(e){var t=this._getLabelPositionProperty(e);return t.args},_getDefaultLabelPositionArgs:function(){var e=this.model._getDefaultLabel(),t=e.position||{};return t.args},_mergeLabelPositionArgs:function(e,t){return e===null?null:e===void 0?t===null?null:t:ni({},t,e)},addLabel:function(e,t,r,n){var i,o,s=0,a;typeof e!="number"?(i=e.x,o=e.y,typeof t=="number"?(s=t,a=r):a=t):(i=e,o=t,typeof r=="number"?(s=r,a=n):a=r);var l=this._getDefaultLabelPositionArgs(),u=a,f=this._mergeLabelPositionArgs(u,l),c={position:this.getLabelPosition(i,o,s,f)},h=-1;return this.model.insertLabel(h,c,a),h},addVertex:function(e,t,r){var n=typeof e!="number",i=n?e.x:e,o=n?e.y:t,s=n?t:r,a={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,r){function n(c,h){return function(){c.remove(),typeof h=="function"&&h()}}var i,o,s;Gr(t)?(i=t.duration,o=t.direction==="reverse",s=t.connection):(i=t,o=!1,s=null),i=i||1e3;var a={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(a.keyPoints="1;0",a.keyTimes="0;1");var l=at(e),u;if(typeof s=="string")u=this.findBySelector(s,this.el,this.selectors)[0];else{var f=this._V;u=f.connection?f.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(a,u),setTimeout(n(l,r),i)},findRoute:function(e){e||(e=[]);var t=this.paper.options.routerNamespace||_ce,r=this.model.router(),n=this.paper.options.defaultRouter;if(!r)if(n)r=n;else return e.map(ze);var i=hn(r)?r:t[r.name];if(!hn(i))throw new Error('dia.LinkView: unknown router: "'+r.name+'".');var o=r.args||{},s=i.call(this,e,o,this);return s||e.map(ze)},findPath:function(e,t,r){var n=this.paper.options.connectorNamespace||Jce,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var s=hn(i)?i:n[i.name];if(!hn(s))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var a=za(i.args||{});a.raw=!0;var l=s.call(this,t,r,e,a,this);return typeof l=="string"&&(l=new Bt(at.normalizePathData(l))),l},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var r=e.serialize();return t.data=r,r},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var r=e.getSegmentSubdivisions();return t.segmentSubdivisions=r,r},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var r=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=r,r},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(Oi(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,r,n){var i={},o=0,s;typeof r=="number"?(o=r,s=n):s=r,s&&(i.args=s);var a=!(s&&s.absoluteDistance),l=s&&s.absoluteDistance&&s.reverseDistance,u=s&&s.absoluteOffset,f=this.path,c={segmentSubdivisions:this.getConnectionSubdivisions()},h=new ze(e,t),g=f.closestPointT(h,c),m=f.lengthAtT(g,c);a&&(m=m/this.getConnectionLength()||0),l&&(m=-1*(this.getConnectionLength()-m)||1),i.distance=m;var _;u||(_=f.tangentAtT(g));var v;if(_)v=_.pointOffset(h);else{var p=f.pointAtT(g),E=h.difference(p);v={x:E.x,y:E.y}}return i.offset=v,i.angle=o,i},_getLabelTransformationMatrix:function(e){var t,r=0,n={};if(typeof e=="number")t=e;else if(typeof e.distance=="number")n=e.args||{},t=e.distance,r=e.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;typeof a=="number"&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l=s.x!==0||s.y!==0||o===0,u=n.keepGradient,f=n.ensureLegibility,c=this.path,h={segmentSubdivisions:this.getConnectionSubdivisions()},g=i?t*this.getConnectionLength():t,m=c.tangentAtLength(g,h),_,v=r;if(m){if(l)_=m.start.clone(),_.offset(s);else{var p=m.clone();p.rotate(m.start,-90),p.setLength(o),_=p.end}u&&(v=m.angle()+r,f&&(v=ya((v+90)%180-90)))}else _=c.start.clone(),l&&_.offset(s);return at.createSVGMatrix().translate(_.x,_.y).rotate(v)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new ze(t.e,t.f)},getVertexIndex:function(e,t){for(var r=this.model,n=r.vertices(),i=this.getClosestPointLength(new ze(e,t)),o=0,s=n.length;o<s;o++){var a=n[o],l=this.getClosestPointLength(a);if(i<l)break}return o},notifyPointerdown(e,t,r){hr.prototype.pointerdown.call(this,e,t,r),this.notify("link:pointerdown",e,t,r)},notifyPointermove(e,t,r){hr.prototype.pointermove.call(this,e,t,r),this.notify("link:pointermove",e,t,r)},notifyPointerup(e,t,r){this.notify("link:pointerup",e,t,r),hr.prototype.pointerup.call(this,e,t,r)},pointerdblclick:function(e,t,r){hr.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,r)},pointerclick:function(e,t,r){hr.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,r)},contextmenu:function(e,t,r){hr.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,r)},pointerdown:function(e,t,r){this.notifyPointerdown(e,t,r);var n=e.target.getAttribute("class");switch(n){case"marker-vertex":this.dragVertexStart(e,t,r);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(e,t,r);return;case"marker-arrowhead":this.dragArrowheadStart(e,t,r);return;case"connection":case"connection-wrap":this.dragConnectionStart(e,t,r);return;case"marker-source":case"marker-target":return}this.dragStart(e,t,r)},pointermove:function(e,t,r){var n=this._dragData;n&&this.eventData(e,n);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertex(e,t,r);break;case"label-move":this.dragLabel(e,t,r);break;case"arrowhead-move":this.dragArrowhead(e,t,r);break;case"move":this.drag(e,t,r);break}n&&Gt(n,this.eventData(e)),this.notifyPointermove(e,t,r)},pointerup:function(e,t,r){var n=this._dragData;n&&(this.eventData(e,n),this._dragData=null);var i=this.eventData(e);switch(i.action){case"vertex-move":this.dragVertexEnd(e,t,r);break;case"label-move":this.dragLabelEnd(e,t,r);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,r);break;case"move":this.dragEnd(e,t,r)}this.notifyPointerup(e,t,r),this.checkMouseleave(e)},mouseover:function(e){hr.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){hr.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){hr.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){hr.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,r,n){hr.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,r,n)},onevent:function(e,t,r,n){var i=at(e.target).findParentByClass("link-tool",this.el);if(i){if(e.stopPropagation(),this.can("useLinkTools"))if(t==="remove"){this.model.remove({ui:!0});return}else this.notify(t,e,r,n);this.notifyPointerdown(e,r,n),this.paper.delegateDragEvents(this,e.data)}else hr.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,r){this.notifyPointerdown(e,t,r),this.dragLabelStart(e,t,r);var n=this.eventData(e).stopPropagation;n&&e.stopPropagation()},dragConnectionStart:function(e,t,r){if(this.can("vertexAdd")){var n=this.addVertex({x:t,y:r},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:n})}},dragLabelStart:function(e,t,r){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(e))return;var n=e.currentTarget,i=parseInt(n.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),s=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),a=this._mergeLabelPositionProperty(s,o),l=this.getLabelCoordinates(a),u=l.x-t,f=l.y-r,c=this._getLabelPositionAngle(i),h=this._getLabelPositionArgs(i),g=this._getDefaultLabelPositionArgs(),m=this._mergeLabelPositionArgs(h,g);this.eventData(e,{action:"label-move",labelIdx:i,dx:u,dy:f,positionAngle:c,positionArgs:m,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,r){if(this.can("vertexMove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(e,t,r){if(this.can("vertexRemove")){var n=e.target,i=parseInt(n.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(e,t,r){if(this.can("arrowheadMove")){var n=e.target,i=n.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(e,o)}},dragStart:function(e,t,r){this.isDefaultInteractionPrevented(e)||this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:r})},dragLabel:function(e,t,r){var n=this.eventData(e),i={position:this.getLabelPosition(t+n.dx,r+n.dy,n.positionAngle,n.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&e.type==="touchmove"&&(o.async=!1),this.model.label(n.labelIdx,i,o)},dragVertex:function(e,t,r){var n=this.eventData(e);this.model.vertex(n.vertexIdx,{x:t,y:r},{ui:!0})},dragArrowhead:function(e,t,r){this.paper.options.snapLinks?!this._snapArrowhead(e,t,r)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(e,t,r):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(e,t,r):this._connectArrowhead(this.getEventTarget(e),t,r,this.eventData(e))},drag:function(e,t,r){var n=this.eventData(e);this.model.translate(t-n.dx,r-n.dy,{ui:!0}),this.eventData(e,{dx:t,dy:r})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,r){var n=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(n):this._connectArrowheadEnd(n,t,r),i.linkAllowed(this)?(this._finishEmbedding(n),this._notifyConnectEvent(n,e)):this._disallow(n),this._afterArrowheadMove(n)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0});break}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var r=e.arrowhead,n=e.initialEnd,i=this.model.prop(r),o=i&&!Zh.endsEqual(n,i);if(o){var s=this.paper;n.id&&this.notify("link:disconnect",t,s.findViewByModel(n.id),e.initialMagnet,r),i.id&&this.notify("link:connect",t,s.findViewByModel(i.id),e.magnetUnderPointer,r)}},_snapToPoints:function(e,t,r){let n=null,i=1/0,o=null,s=1/0,a=e.x,l=e.y;for(let u=0;u<t.length;u++){const f=Math.abs(t[u].x-e.x);f<i&&(i=f,n=t[u]);const c=Math.abs(t[u].y-e.y);c<s&&(s=c,o=t[u])}return i<r&&(a=n.x),s<r&&(l=o.y),{x:a,y:l}},_snapArrowheadSelf:function(e,t,r){const{paper:n,model:i}=this,{snapLinksSelf:o}=n.options,s=this.eventData(e),a=o.radius||20,l=this.getEndAnchor(s.arrowhead==="source"?"target":"source"),u=i.vertices(),f=[l,...u],c=this._snapToPoints({x:t,y:r},f,a),h=n.localToClientPoint(c);this._connectArrowhead(document.elementFromPoint(h.x,h.y),c.x,c.y,this.eventData(e))},_snapArrowhead:function(e,t,r){const{paper:n}=this,{snapLinks:i,connectionStrategy:o}=n.options,s=this.eventData(e);let a=!1;var l=i.radius||50,u=n.findViewsInArea({x:t-l,y:r-l,width:2*l,height:2*l}),f=s.closestView||null,c=s.closestMagnet||null,h=s.magnetProxy||null;s.closestView=s.closestMagnet=s.magnetProxy=null;var g=Number.MAX_VALUE,m=new ze(t,r);u.forEach(function($){const T=[];$.el.getAttribute("magnet")!=="false"&&T.push({bbox:$.model.getBBox(),magnet:$.el}),$.$("[magnet]").toArray().forEach(d=>{T.push({bbox:$.getNodeBBox(d),magnet:d})}),T.forEach(d=>{const{magnet:x,bbox:A}=d,O=A.center().squaredDistance(m);O<g&&(c===x||n.options.validateConnection.apply(n,s.validateConnectionArgs($,$.el===x?null:x)))&&(g=O,s.closestView=$,s.closestMagnet=x)})},this);var _,v=null,p=s.closestView,E=s.closestMagnet;E&&(v=s.magnetProxy=p.findProxyNode(E,"highlighter"));var y=s.arrowhead,S=c!==E;if(f&&S&&f.unhighlight(h,{connecting:!0,snapping:!0}),p){const{prevEnd:$,prevX:T,prevY:d}=s;if(s.prevX=t,s.prevY=r,a=!0,!S&&(typeof o!="function"||T===t&&d===r)||(_=p.getLinkEnd(E,t,r,this.model,y),!S&&Zd($,_)))return a;s.prevEnd=_,S&&p.highlight(v,{connecting:!0,snapping:!0})}else _={x:t,y:r};return this.model.set(y,_||{x:t,y:r},{ui:!0}),f&&this.notify("link:snap:disconnect",e,f,c,y),p&&this.notify("link:snap:connect",e,p,E,y),a},_snapArrowheadEnd:function(e){var t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(e.magnetProxy,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(r)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,r,n){const{paper:i,model:o}=this;if(n.eventTarget!==e){n.magnetProxy&&n.viewUnderPointer.unhighlight(n.magnetProxy,{connecting:!0});const s=n.viewUnderPointer=i.findView(e);if(s){const a=n.magnetUnderPointer=s.findMagnet(e),l=n.magnetProxy=s.findProxyNode(a,"highlighter");a&&this.paper.options.validateConnection.apply(i,n.validateConnectionArgs(s,a))?l&&s.highlight(l,{connecting:!0}):(n.magnetUnderPointer=null,n.magnetProxy=null)}else n.magnetUnderPointer=null,n.magnetProxy=null}n.eventTarget=e,o.set(n.arrowhead,{x:t,y:r},{ui:!0})},_connectArrowheadEnd:function(e={},t,r){const{model:n}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:s,arrowhead:a}=e;if(!o||!s||!i)return;i.unhighlight(s,{connecting:!0});const l=i.getLinkEnd(o,t,r,n,a);n.set(a,l,{ui:!0})},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){e.z!==null&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t=[];t[4]=e,t[5]=this;var r,n=0,i=0;e==="source"?(n=2,r="target"):(i=2,r="source");var o=this.model.get(r);if(o.id){var s=t[n]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),t[n+1]=a}function l(u,f){return t[i]=u,t[i+1]=u.el===f?void 0:f,t}return l},_markAvailableMagnets:function(e){function t(c,h){var g=c.paper,m=g.options.validateConnection;return m.apply(g,this.validateConnectionArgs(c,h))}var r=this.paper,n=r.model.getCells();e.marked={};for(var i=0,o=n.length;i<o;i++){var s=n[i].findView(r);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));s.el.getAttribute("magnet")!=="false"&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var u=0,f=l.length;u<f;u++)s.highlight(l[u],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t=Object.keys(e.marked),r,n,i=0,o=t.length;i<o;i++){r=t[i],n=e.marked[r];var s=this.paper.findViewByModel(r);if(s){for(var a=0,l=n.length;a<l;a++)s.unhighlight(n[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var r={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:za(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(r),t.ignoreBackwardsCompatibility!==!0&&(this._dragData=r),r},onMount:function(){hr.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){hr.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){hr.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Xt});Object.defineProperty(_m.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new Pt(t.x,t.y)}var r=this.sourceMagnet;return e.isNodeConnection(r)?new Pt(this.sourceAnchor):e.getNodeBBox(r||e.el)}});Object.defineProperty(_m.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new Pt(t.x,t.y)}var r=this.targetMagnet;return e.isNodeConnection(r)?new Pt(this.targetAnchor):e.getNodeBBox(r||e.el)}});const Yce=ca.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(e,t){const{options:r}=this,{useFirstSubpath:n}=r;let i;try{const o=at(t);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&n){const s=i.search(/.M/i)+1;s>0&&(i=i.substr(0,s))}}catch{const s=e.getNodeBoundingRect(t);i=at.rectToPath(Gt({},r,s.toJSON()))}return i},highlightConnection(e){this.vel.attr("d",e.getSerializedConnection())},highlightNode(e,t){const{vel:r,options:n}=this,{padding:i,layer:o}=n;let s=this.getNodeMatrix(e,t);if(i){!o&&t===e.el&&r.remove();let a=e.getNodeBoundingRect(t);const l=a.x+a.width/2,u=a.y+a.height/2;a=at.transformRect(a,s);const f=Math.max(a.width,1),c=Math.max(a.height,1),h=(f+i)/f,g=(c+i)/c,m=at.createSVGMatrix({a:h,b:0,c:0,d:g,e:l-h*l,f:u-g*u});s=s.multiply(m)}r.attr({d:this.getPathData(e,t),transform:at.matrixToTransformString(s)})},highlight(e,t){const{vel:r,options:n}=this;r.attr(n.attrs),e.isNodeConnection(t)?this.highlightConnection(e):this.highlightNode(e,t)}}),FL=20;function Xce(e,t){const r=e.children();for(;r.length>0;){const n=r.shift();t(n)&&r.push(...n.children())}}const Qce=ca.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:FL,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(e,t){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:r,MASK_REPLACE_TAGS:n,MASK_REMOVE_TAGS:i}=this,o=t.tagName();if(!at.isSVGGraphicsElement(t)||i.includes(o))return t.remove(),!1;if(n.includes(o)){const s=e.vel.findOne(`#${t.id}`);if(s){const{node:a}=s;let l=e.getNodeBoundingRect(a);e.model.isElement()&&(l=at.transformRect(l,e.getNodeMatrix(a)));const u=at("rect",l.toJSON()),{x:f,y:c}=l.center(),{angle:h,cx:g=f,cy:m=c}=s.rotate();h&&u.rotate(h,g,m),t.parent().append(u)}return t.remove(),!1}return r.forEach(s=>{s==="fill"&&t.attr("fill")==="none"||t.removeAttr(s)}),!0},transformMaskRoot(e,t){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:r}=this;r.forEach(n=>{t.removeAttr(n)})},getMaskShape(e,t){const{options:r,MASK_REPLACE_TAGS:n}=this,{deep:i}=r,o=t.tagName();let s;if(o==="G"){if(!i)return null;s=t.clone(),Xce(s,a=>this.transformMaskChild(e,a))}else{if(n.includes(o))return null;s=t.clone()}return this.transformMaskRoot(e,s),s},getMaskId(){return`highlight-mask-${this.cid}`},getMask(e,t){const{VISIBLE:r,INVISIBLE:n,options:i}=this,{padding:o,attrs:s}=i,a="stroke-width"in s?s["stroke-width"]:1,l=t.attr("fill")!=="none";let u=parseFloat(t.attr("stroke-width"));isNaN(u)&&(u=1);const f=u+o*2,c=f+a*2;let h=this.getMaskShape(e,t);if(!h){const g=e.getNodeBoundingRect(t.node);g.inflate(g.width?0:.5,g.height?0:.5),h=at("rect",g.toJSON())}return h.attr(s),at("mask",{id:this.getMaskId()}).append([h.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c}),h.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f})])},removeMask(e){const t=e.svg.getElementById(this.getMaskId());t&&e.defs.removeChild(t)},addMask(e,t){e.defs.appendChild(t.node)},highlight(e,t){const{options:r,vel:n}=this,{padding:i,attrs:o,maskClip:s=FL,layer:a}=r,l="stroke"in o?o.stroke:"#000000";!a&&t===e.el&&n.remove();const u=e.getNodeBoundingRect(t).inflate(i+s),f=this.getNodeMatrix(e,t),c=this.getMask(e,at(t));this.addMask(e.paper,c),n.attr(u.toJSON()),n.attr({transform:at.matrixToTransformString(f),mask:`url(#${c.id})`,fill:l})},unhighlight(e){this.removeMask(e.paper)}}),Zce=ca.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:ua("highlight-opacity"),highlight:function(e,t){at(t).addClass(this.opacityClassName)},unhighlight:function(e,t){at(t).removeClass(this.opacityClassName)}}),BL=ua("highlighted"),efe=ca.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:BL},highlight:function(e,t){at(t).addClass(this.options.className)},unhighlight:function(e,t){at(t).removeClass(this.options.className)}},{className:BL}),C1={ROW:"row",COLUMN:"column"},tfe=ca.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(e,t){const r=e.model,{attribute:n,size:i=20,gap:o=5,direction:s=C1.ROW}=this.options;if(!n)throw new Error("List: attribute is required");const a=typeof i=="number"?{width:i,height:i}:i,l=s===C1.ROW,u=l?a.width:a.height;let f=r.get(n);Array.isArray(f)||(f=[]);const c=this._prevItems||[],h=f.map((v,p)=>Zd(c[p],f[p]));if(c.length!==f.length||h.some(v=>!v)){const v=this.vel.children(),p=f.map((E,y)=>{const S=y in v?v[y].node:null;if(h[y])return S;const $=this.createListItem(E,a,S);if(!$)return null;if(!($ instanceof SVGElement))throw new Error("List: item must be an SVGElement");$.dataset.index=y,$.dataset.attribute=n;const T=y*(u+o);return $.setAttribute("transform",l?`translate(${T}, 0)`:`translate(0, ${T})`),$});this.vel.empty().append(p),this._prevItems=f}const g=f.length,m=g===0?0:g*u+(g-1)*o,_=l?{width:m,height:a.height}:{width:a.width,height:m};this.position(r,_)},position(e,t){const{vel:r,options:n}=this,{margin:i=5,position:o="top-left"}=n,{width:s,height:a}=e.size(),{left:l,right:u,top:f,bottom:c}=Mf(i),h=new Pt(l,f,s-(l+u),a-(f+c));let{x:g,y:m}=gW(h,o);switch(o){case Ln.CENTER:case Ln.TOP:case Ln.BOTTOM:{g-=t.width/2;break}case Ln.RIGHT:case Ln.BOTTOM_RIGHT:case Ln.TOP_RIGHT:{g-=t.width;break}}switch(o){case Ln.CENTER:case Ln.RIGHT:case Ln.LEFT:{m-=t.height/2;break}case Ln.BOTTOM:case Ln.BOTTOM_RIGHT:case Ln.BOTTOM_LEFT:{m-=t.height;break}}r.attr("transform",`translate(${g}, ${m})`)}},{Directions:C1,Positions:Ln}),rfe=Object.freeze(Object.defineProperty({__proto__:null,addClass:efe,list:tfe,mask:Qce,opacity:Zce,stroke:Yce},Symbol.toStringTag,{value:"Module"}));function nfe(e,t,r,n){var i="ratio"in n?n.ratio:.5;return e.getPointAtRatio(i)}function ife(e,t,r,n){var i="length"in n?n.length:20;return e.getPointAtLength(i)}function ofe(e,t,r,n){var i=1e6,o=e.getConnection(),s=e.getConnectionSubdivisions(),a=new Rt(r.clone().offset(0,i),r.clone().offset(0,-i)),l=new Rt(r.clone().offset(i,0),r.clone().offset(-i,0)),u=a.intersect(o,{segmentSubdivisions:s}),f=l.intersect(o,{segmentSubdivisions:s}),c=[];return u&&Array.prototype.push.apply(c,u),f&&Array.prototype.push.apply(c,f),c.length>0?r.chooseClosest(c):"fallbackAt"in n?IW(e,n.fallbackAt):jW(e,t,r,n)}function sfe(e,t,r,n){var i=e.getClosestPoint(r);return i||new ze}function Xg(e){return function(t,r,n,i){if(n instanceof Element){var o=this.paper.findView(n),s;if(o)if(o.isNodeConnection(n)){var a="fixedAt"in i?i.fixedAt:"50%";s=IW(o,a)}else s=o.getNodeBBox(n).center();else s=new ze;return e.call(this,t,r,s,i)}return e.apply(this,arguments)}}function IW(e,t){var r=parseFloat(t);return Oi(t)?e.getPointAtRatio(r/100):e.getPointAtLength(r)}const afe=Xg(ofe),jW=Xg(sfe),lfe=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:jW,connectionLength:ife,connectionPerpendicular:afe,connectionRatio:nfe,resolveRef:Xg},Symbol.toStringTag,{value:"Module"}));function QE(e,t,r){if(qn(r)){const{x:i,y:o}=r;if(isFinite(o)){const s=new Rt(t,e),{start:a,end:l}=s.parallel(o);t=a,e=l}r=i}if(!isFinite(r))return e;var n=e.distance(t);return r===0&&n>0?e:e.move(t,-Math.min(r,n-1))}function dj(e){var t=e.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function ufe(e,t,r=0){let n,i,o,s;const{start:a,end:l}=e;switch(t){case"left":n="x",i=l,o=a,s=-1;break;case"right":n="x",i=a,o=l,s=1;break;case"top":n="y",i=l,o=a,s=-1;break;case"bottom":n="y",i=a,o=l,s=1;break;default:return}a[n]<l[n]?i[n]=o[n]:o[n]=i[n],isFinite(r)&&(i[n]+=s*r,o[n]+=s*r)}function cfe(e,t,r,n){let{offset:i,alignOffset:o,align:s}=n;return s&&ufe(e,s,o),QE(e.end,e.start,i)}function kW(e,t,r,n){var i=t.getNodeBBox(r);n.stroke&&i.inflate(dj(r)/2);var o=e.intersect(i),s=o?e.start.chooseClosest(o):e.end;return QE(s,e.start,n.offset)}function ffe(e,t,r,n){var i=t.model.angle();if(i===0)return kW(e,t,r,n);var o=t.getNodeUnrotatedBBox(r);n.stroke&&o.inflate(dj(r)/2);var s=o.center(),a=e.clone().rotate(s,i),l=a.setLength(1e6).intersect(o),u=l?a.start.chooseClosest(l).rotate(s,-i):e.end;return QE(u,e.start,n.offset)}function dfe(e){if(!e)return null;var t=e;do{var r=t.tagName;if(typeof r!="string")return null;if(r=r.toUpperCase(),r==="G")t=t.firstElementChild;else if(r==="TITLE")t=t.nextElementSibling;else break}while(t);return t}var D1="segmentSubdivisons",M1="shapeBBox";function hfe(e,t,r,n){var i,o,s=n.selector,a=e.end;if(typeof s=="string"?i=t.findBySelector(s)[0]:s===!1?i=r:Array.isArray(s)?i=cg(r,s):i=dfe(r),!at.isSVGGraphicsElement(i)){if(i===r||!at.isSVGGraphicsElement(r))return a;i=r}var l=t.getNodeShape(i),u=t.getNodeMatrix(i),f=t.getRootTranslateMatrix(),c=t.getRootRotateMatrix(),h=f.multiply(c).multiply(u),g=h.inverse(),m=at.transformLine(e,g),_=m.start.clone(),v=t.getNodeData(i);if(n.insideout===!1){v[M1]||(v[M1]=l.bbox());var p=v[M1];if(p.containsPoint(_))return a}var E;if(l instanceof Bt){var y=n.precision||2;v[D1]||(v[D1]=l.getSegmentSubdivisions({precision:y})),E={precision:y,segmentSubdivisions:v[D1]}}n.extrapolate===!0&&m.setLength(1e6),o=m.intersect(l,E),o?at.isArray(o)&&(o=_.chooseClosest(o)):n.sticky===!0&&(l instanceof Pt?o=l.pointNearestToPoint(_):l instanceof ro?o=l.intersectionWithLineFromCenterToPoint(_):o=l.closestPoint(_,E));var S=o?at.transformPoint(o,h):a,$=n.offset||0;return n.stroke&&($+=dj(i)/2),QE(S,e.start,$)}const pfe=cfe,mfe=kW,gfe=ffe,vfe=hfe,yfe=Object.freeze(Object.defineProperty({__proto__:null,anchor:pfe,bbox:mfe,boundary:vfe,rectangle:gfe},Symbol.toStringTag,{value:"Module"}));function Xl(e){return function(t,r,n,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(r):t.getNodeBBox(r),a=s[e](),l=i.dx;if(l){var u=Oi(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=s.width),a.x+=l)}var f=i.dy;if(f){var c=Oi(f);f=parseFloat(f),isFinite(f)&&(c&&(f/=100,f*=s.height),a.y+=f)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}function wfe(e,t,r,n){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),u=n.padding;if(isFinite(u)||(u=0),a.y+u<=r.y&&r.y<=l.y-u){var f=r.y-s.y;s.x+=i===0||i===180?0:f*1/Math.tan(Po(i)),s.y+=f}else if(a.x+u<=r.x&&r.x<=l.x-u){var c=r.x-s.x;s.y+=i===90||i===270?0:c*Math.tan(Po(i)),s.x+=c}return s}function bfe(e,t,r,n){var i=!!n.rotate,o,s,a;i?(o=e.getNodeUnrotatedBBox(t),a=e.model.getBBox().center(),s=e.model.angle()):o=e.getNodeBBox(t);var l=n.padding;isFinite(l)&&o.inflate(l),i&&r.rotate(a,s);var u=o.sideNearestToPoint(r),f;switch(u){case"left":f=o.leftMiddle();break;case"right":f=o.rightMiddle();break;case"top":f=o.topMiddle();break;case"bottom":f=o.bottomMiddle();break}return i?f.rotate(a,-s):f}function _fe(e,t,r,n,i){return e.model.getPointFromConnectedLink(this.model,i).offset(n.dx,n.dy)}const Efe=Xl("center"),Sfe=Xl("topMiddle"),$fe=Xl("bottomMiddle"),Tfe=Xl("leftMiddle"),xfe=Xl("rightMiddle"),Afe=Xl("origin"),Ofe=Xl("topRight"),Pfe=Xl("bottomLeft"),Nfe=Xl("corner"),Rfe=Xg(wfe),Ife=Xg(bfe),jfe=_fe,kfe=Object.freeze(Object.defineProperty({__proto__:null,bottom:$fe,bottomLeft:Pfe,bottomRight:Nfe,center:Efe,left:Tfe,midSide:Ife,modelCenter:jfe,perpendicular:Rfe,right:xfe,top:Sfe,topLeft:Afe,topRight:Ofe},Symbol.toStringTag,{value:"Module"})),Ed={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Cfe=50,UL=20,zL=1e3,Dfe=1/0,ly=9007199254740991,L1=hr.Highlighting,qL={[L1.DEFAULT]:{name:"stroke",options:{padding:3}},[L1.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[L1.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},Mfe=[{name:xs.BACK},{name:xs.CELLS},{name:xs.LABELS},{name:xs.FRONT},{name:xs.TOOLS}],Lfe=tc.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Hw,linkView:_m,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:qL,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Zh,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,r){return t.getAttribute("magnet")!=="passive"},validateConnection:function(e,t,r,n,i,o){return(i==="target"?r:e)instanceof Hw},embeddingMode:!1,validateEmbedding:function(e,t){return!0},validateUnembedding:function(e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Ed.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(e,t,r,n,i){t&(e.FLAG_INSERT|e.FLAG_REMOVE)||n.mounting||n.isolate||i.requestConnectedLinksUpdate(e,r,n)},onViewPostponed:function(e,t,r){return r.forcePostponedViewUpdate(e,t)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:rfe,anchorNamespace:kfe,linkAnchorNamespace:lfe,connectionPointNamespace:yfe,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:e,el:t}=this;e.cellViewNamespace||(e.cellViewNamespace=typeof joint<"u"&&Uu(joint,"shapes")?joint.shapes:null);const r=this.model=e.model||new lj;this._layers={},this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Lr(t.ownerDocument),this.resetViews(r.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,r){var n=r.position;this.isAsync()||!Eo(n)?this.renderView(e,r):(r.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(e,r),n===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,r){const n=this.findViewByModel(e);n&&this.requestViewUpdate(n,n.FLAG_REMOVE,n.UPDATE_PRIORITY,r)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===Ed.APPROX){const r=this.findViewByModel(e);r&&this.requestViewUpdate(r,r.FLAG_INSERT,r.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.resetLayers(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,r=this.model;if(!this.isAsync()){var n=this.UPDATE_DELAYING_BATCHES;n.includes(t)&&!r.hasActiveBatch(n)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!r.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:e}=this,{defaultConnector:t,defaultRouter:r,defaultConnectionPoint:n,defaultAnchor:i,defaultLinkAnchor:o,origin:s,highlighting:a,cellViewNamespace:l,interactive:u}=e;!l&&typeof joint<"u"&&Uu(joint,"shapes")&&(e.cellViewNamespace=joint.shapes),hn(t)||(e.defaultConnector=$s(t)),hn(r)||(e.defaultRouter=$s(r)),hn(n)||(e.defaultConnectionPoint=$s(n)),hn(i)||(e.defaultAnchor=$s(i)),hn(o)||(e.defaultLinkAnchor=$s(o)),qn(u)&&(e.interactive=Gt({},u)),qn(a)&&(e.highlighting=sj({},a,qL)),e.origin=Gt({},s)},children:function(){var e=at.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:ua("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:ua("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ua("layers"),selector:"layers"}]}]},hasLayerView(e){return e in this._layers},getLayerView(e){const{_layers:t}=this;if(e in t)return t[e];throw new Error(`dia.Paper: Unknown layer "${e}"`)},getLayerNode(e){return this.getLayerView(e).el},render:function(){this.renderChildren();const{childNodes:e,options:t}=this,{svg:r,defs:n,layers:i,background:o,grid:s}=e;return r.style.overflow=t.overflow?"visible":"hidden",this.svg=r,this.defs=n,this.layers=i,this.$background=Lr(o),this.$grid=Lr(s),this.renderLayers(),at.ensureId(r),t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},renderLayers:function(e=Mfe){this.removeLayers(),e.forEach(({name:i,sorted:o})=>{const s=new Wue({name:i});this.layers.appendChild(s.el),this._layers[i]=s});const t=this.getLayerView(xs.CELLS),r=this.getLayerView(xs.TOOLS),n=this.getLayerView(xs.LABELS);this.tools=r.el,this.cells=this.viewport=t.el,t.vel.addClass(ua("viewport")),n.vel.addClass(ua("viewport"))},removeLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].remove(),delete e[t]})},resetLayers:function(){const{_layers:e}=this;Object.keys(e).forEach(t=>{e[t].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(e===void 0){var r=t.getAttribute("transform");return(this._viewportTransformString||null)===r?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=r),at.createSVGMatrix(e)}e=at.createSVGMatrix(e);var n=at.matrixToTransformString(e);return t.setAttribute("transform",n),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return at.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t,r){if(e instanceof hr)for(var n=e.model,i=this.model.getConnectedLinks(n),o=0,s=i.length;o<s;o++){var a=i[o],l=this.findViewByModel(a);if(l){var u=["UPDATE"];a.getTargetCell()===n&&u.push("TARGET"),a.getSourceCell()===n&&u.push("SOURCE");var f=Math.max(t+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),f,r)}}},forcePostponedViewUpdate:function(e,t){if(!e||!(e instanceof hr))return!1;var r=e.model;if(r.isElement())return!1;if(!(t&e.getFlag(["SOURCE","TARGET"]))){var n={silent:!0},i=0,o=this.findViewByModel(r.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,n),e.updateEndMagnet("source"));var s=0,a=this.findViewByModel(r.getTargetCell());if(a&&!this.isViewMounted(a)&&(s=this.dumpView(a,n),e.updateEndMagnet("target")),i===0&&s===0)return!this.dumpView(e,n)}return!1},requestViewUpdate:function(e,t,r,n){n||(n={}),this.scheduleViewUpdate(e,t,r,n);var i=this.isAsync();if(!(this.isFrozen()||i&&n.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(n);i&&this.notifyAfterRender(o,n)}},scheduleViewUpdate:function(e,t,r,n){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:s,FLAG_INSERT:a,UPDATE_PRIORITY:l,cid:u}=e;let f=i.priorities[r];if(f||(f=i.priorities[r]={}),r>l)for(let g=r-1;g>=l;g--){const m=i.priorities[g];!m||!(u in m)||(f[u]|=m[u],delete m[u])}let c=f[u]||0;if((c&t)===t)return;c||i.count++,t&s&&c&a?f[u]^=a:t&a&&c&s&&(f[u]^=s),f[u]|=t;const h=o.onViewUpdate;typeof h=="function"&&h.call(this,e,t,r,n||{},this)},dumpViewUpdate:function(e){if(!e)return 0;var t=this._updates,r=e.cid,n=t.priorities[e.UPDATE_PRIORITY],i=this.registerMountedView(e)|n[r];return delete n[r],i},dumpView:function(e,t={}){const r=this.dumpViewUpdate(e);if(!r)return 0;const n=!t.silent;n&&this.notifyBeforeRender(t);const i=this.updateView(e,r,t);if(n){const o={updated:1,priority:e.UPDATE_PRIORITY};this.notifyAfterRender(o,t)}return i},updateView:function(e,t,r){if(!e)return 0;const{FLAG_REMOVE:n,FLAG_INSERT:i,FLAG_INIT:o,model:s}=e;if(e instanceof hr){if(t&n)return this.removeView(s),0;if(t&i){const a=!!(t&o);a&&(t^=o),this.insertView(e,a),t^=i}}return t?e.confirmUpdate(t,r||{}):0},requireView:function(e,t){var r=this.findViewByModel(e);return r?(this.dumpView(r,t),r):null},registerUnmountedView:function(e){var t=e.cid,r=this._updates;if(t in r.unmounted)return 0;var n=r.unmounted[t]|=e.FLAG_INSERT;return r.unmountedCids.push(t),delete r.mounted[t],n},registerMountedView:function(e){var t=e.cid,r=this._updates;if(t in r.mounted)return 0;r.mounted[t]=!0,r.mountedCids.push(t);var n=r.unmounted[t]||0;return delete r.unmounted[t],n},isViewMounted:function(e){if(!e)return!1;var t=e.cid,r=this._updates;return t in r.mounted},dumpViews:function(e){var t=Ss({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){this.notifyBeforeRender(e);let t,r=0,n=0,i=ly;do n++,t=this.updateViewsBatch(e),r+=t.updated,i=Math.min(t.priority,i);while(!t.empty);const o={updated:r,batches:n,priority:i};return this.notifyAfterRender(o,e),o},hasScheduledUpdates:function(){const e=this._updates.priorities,t=Object.keys(e);let r=t.length;for(;r>0&&r--;)for(let n in e[t[r]])return!0;return!1},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:ly});const{_updates:r,options:n}=this,i=r.id;if(i){rP(i),t.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(e);const o=this.updateViewsBatch(e),s=Ss({},e,{mountBatchSize:zL-o.mounted,unmountBatchSize:zL-o.unmounted}),a=this.checkViewport(s),l=a.unmounted,u=a.mounted;let f=t.processed;const c=r.count;o.updated>0?(f+=o.updated+o.unmounted,o.processed=f,t.priority=Math.min(o.priority,t.priority),o.empty&&u===0?(o.unmounted+=l,o.mounted+=u,o.priority=t.priority,this.notifyAfterRender(o,e),t.processed=0,t.priority=ly,r.count=0):t.processed=f):r.idle||n.autoFreeze&&(this.freeze(),r.idle=!0,this.trigger("render:idle",e));const h=e.progress;if(c&&typeof h=="function"&&h.call(this,o.empty,f,c,o,this),r.id!==i)return}if(r.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");r.id=tP(this.updateViewsAsync,this,e,t)},notifyBeforeRender:function(e={}){let t=e.beforeRender;typeof t!="function"&&(t=this.options.beforeRender,typeof t!="function")||t.call(this,e,this)},notifyAfterRender:function(e,t={}){let r=t.afterRender;typeof r!="function"&&(r=this.options.afterRender),typeof r=="function"&&r.call(this,e,t,this),this.trigger("render:done",e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||Dfe,r=this._updates,n=0,i=0,o=0,s=0,a=ly,l=!0,u=this.options,f=r.priorities,c="viewport"in e?e.viewport:u.viewport;typeof c!="function"&&(c=null);var h=u.onViewPostponed;typeof h!="function"&&(h=null);var g=Object.keys(f);e:for(var m=0,_=g.length;m<_;m++){var v=+g[m],p=f[v];for(var E in p){if(n>=t){l=!1;break e}var y=Zc[E];if(!y){delete p[E];continue}var S=p[E];if(!(S&y.FLAG_REMOVE)){var $=E in r.unmounted;if(y.DETACHABLE&&c&&!c.call(this,y,!$,this)){$||(this.registerUnmountedView(y),this.detachView(y)),r.unmounted[E]|=S,delete p[E],o++;continue}$&&(S|=y.FLAG_INSERT,s++),S|=this.registerMountedView(y)}var T=this.updateView(y,S,e);if(T>0&&(p[E]=T,!h||!h.call(this,y,T,this)||p[E])){i++,l=!1;continue}a>v&&(a=v),n++,delete p[E]}}return{priority:a,updated:n,postponed:i,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){const e=this._updates,t=Object.keys(e.unmounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Zc[t[i]];return n},getMountedViews:function(){const e=this._updates,t=Object.keys(e.mounted),r=t.length,n=new Array(r);for(var i=0;i<r;i++)n[i]=Zc[t[i]];return n},checkUnmountedViews:function(e,t){t||(t={});var r=0;typeof e!="function"&&(e=null);for(var n=("mountBatchSize"in t)?t.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,s=i.unmounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=Zc[u];if(f){if(f.DETACHABLE&&e&&!e.call(this,f,!1,this)){o.push(u);continue}r++;var c=this.registerMountedView(f);c&&this.scheduleViewUpdate(f,c,f.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,a),r},checkMountedViews:function(e,t){t||(t={});var r=0;if(typeof e!="function")return r;for(var n=("unmountBatchSize"in t)?t.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,s=i.mounted,a=0,l=Math.min(o.length,n);a<l;a++){var u=o[a];if(u in s){var f=Zc[u];if(f){if(!f.DETACHABLE||e.call(this,f,!0,this)){o.push(u);continue}r++;var c=this.registerUnmountedView(f);c&&this.detachView(f)}}}return o.splice(0,a),r},checkViewVisibility:function(e,t={}){let r="viewport"in t?t.viewport:this.options.viewport;typeof r!="function"&&(r=null);const n=this._updates,{mounted:i,unmounted:o}=n,s=!e.DETACHABLE||!r||r.call(this,e,!1,this);let a=!1,l=!1;if(e.cid in i&&!s){this.registerUnmountedView(e)&&this.detachView(e);const c=n.mountedCids.indexOf(e.cid);n.mountedCids.splice(c,1),a=!0}if(!a&&e.cid in o&&s){const f=n.unmountedCids.indexOf(e.cid);n.unmountedCids.splice(f,1);var u=this.registerMountedView(e);u&&this.scheduleViewUpdate(e,u,e.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:a?1:0}},checkViewport:function(e){var t=Ss({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),r="viewport"in t?t.viewport:this.options.viewport,n=this.checkMountedViews(r,t);if(n>0){var i=this._updates.unmountedCids;t.mountBatchSize=Math.min(i.length-n,t.mountBatchSize)}var o=this.checkUnmountedViews(r,t);return{mounted:o,unmounted:n}},freeze:function(e){e||(e={});var t=this._updates,r=e.key,n=this.options.frozen,i=t.freezeKey;if(r&&r!==i){if(n&&i)return;t.freezeKey=r,t.keyFrozen=n}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&rP(o)},unfreeze:function(e){e||(e={});var t=this._updates,r=e.key,n=t.freezeKey;r&&n&&r!==n||(t.freezeKey=null,!(r&&r===n&&t.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Ed.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,r=e.height;return Eo(t)||(t=this.el.clientWidth),Eo(r)||(r=this.el.clientHeight),{width:t,height:r}},setDimensions:function(e,t){const{options:r}=this,{width:n,height:i}=r;let o=e===void 0?n:e,s=t===void 0?i:t;if(n===o&&i===s)return;r.width=o,r.height=s,this._setDimensions();const a=this.getComputedSize();this.trigger("resize",a.width,a.height)},_setDimensions:function(){const{options:e}=this;let t=e.width,r=e.height;Eo(t)&&(t=Math.round(t)),Eo(r)&&(r=Math.round(r)),this.$el.css({width:t===null?"":t,height:r===null?"":r})},setOrigin:function(e,t){return this.translate(e||0,t||0)},fitToContent:function(e,t,r,n){Gr(e)?n=e:n=Gt({gridWidth:e,gridHeight:t,padding:r},n);const{x:i,y:o,width:s,height:a}=this.getFitToContentArea(n),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-o*u),this.setDimensions(s*l,a*u),new Pt(i,o,s,a)},getFitToContentArea:function(e={}){const t=e.gridWidth||1,r=e.gridHeight||1,n=Mf(e.padding||0),i=Math.max(e.minWidth||0,t),o=Math.max(e.minHeight||0,r),s=e.maxWidth||Number.MAX_VALUE,a=e.maxHeight||Number.MAX_VALUE,l=e.allowNewOrigin,u="contentArea"in e?new Pt(e.contentArea):this.getContentArea(e),{sx:f,sy:c}=this.scale();u.x*=f,u.y*=c,u.width*=f,u.height*=c;let h=Math.ceil((u.width+u.x)/t),g=Math.ceil((u.height+u.y)/r);e.allowNegativeBottomRight||(h=Math.max(h,1),g=Math.max(g,1)),h*=t,g*=r;let m=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(m=Math.ceil(-u.x/t)*t,m+=n.left,h+=m);let _=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(_=Math.ceil(-u.y/r)*r,_+=n.top,g+=_),h+=n.right,g+=n.bottom,h=Math.max(h,i),g=Math.max(g,o),h=Math.min(h,s),g=Math.min(g,a),new Pt(-m/f,-_/c,h/f,g/c)},transformToFitContent:function(e){e||(e={});let t,r;if("contentArea"in e){const v=e.contentArea;t=this.localToPaperRect(v),r=new ze(v)}else t=this.getContentBBox(e),r=this.paperToLocalPoint(t);if(!t.width||!t.height)return;Ss(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const n=Mf(e.padding),i=e.minScaleX||e.minScale,o=e.maxScaleX||e.maxScale,s=e.minScaleY||e.minScale,a=e.maxScaleY||e.maxScale;let l;if(e.fittingBBox)l=e.fittingBBox;else{const v=this.translate(),p=this.getComputedSize();l={x:v.tx,y:v.ty,width:p.width,height:p.height}}l=new Pt(l).moveAndExpand({x:n.left,y:n.top,width:-n.left-n.right,height:-n.top-n.bottom});const u=this.scale();let f=l.width/t.width*u.sx,c=l.height/t.height*u.sy;if(e.preserveAspectRatio&&(f=c=Math.min(f,c)),e.scaleGrid){const v=e.scaleGrid;f=v*Math.floor(f/v),c=v*Math.floor(c/v)}f=Math.min(o,Math.max(i,f)),c=Math.min(a,Math.max(s,c));const h={x:f/u.sx,y:c/u.sy},g=this.options.origin;let m=l.x-r.x*f-g.x,_=l.y-r.y*c-g.y;switch(e.verticalAlign){case"middle":_=_+(l.height-t.height*h.y)/2;break;case"bottom":_=_+(l.height-t.height*h.y);break}switch(e.horizontalAlign){case"middle":m=m+(l.width-t.width*h.x)/2;break;case"right":m=m+(l.width-t.width*h.x);break}this.scale(f,c),this.translate(m,_)},scaleContentToFit:function(e){this.transformToFitContent(e)},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new Pt:at(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...e){const{restrictTranslate:t}=this.options;let r;return hn(t)?r=t.apply(this,e):t===!0?r=this.getArea():t?r=new Pt(t):r=null,r},createViewForModel:function(e){const{options:t}=this;var r,n,i=t.cellViewNamespace,o=e.get("type")+"View",s=cg(i,o,".");e.isLink()?(r=t.linkView,n=_m):(r=t.elementView,n=Hw);var a=r.prototype instanceof Fi.View?s||r:r.call(this,e)||s||n;return new a({model:e,interactive:t.interactive,labelsLayer:t.labelsLayer===!0?xs.LABELS:t.labelsLayer})},removeView:function(e){const{id:t}=e,{_views:r,_updates:n}=this,i=r[t];if(i){var{cid:o}=i;const{mounted:s,unmounted:a}=n;i.remove(),delete r[t],delete s[o],delete a[o]}return i},renderView:function(e,t){const{id:r}=e,n=this._views;let i,o,s=!0;return r in n&&(i=n[r],i.model===e?(o=i.FLAG_INSERT,s=!1):this.removeView(e)),s&&(i=n[r]=this.createViewForModel(e),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Vn(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,t),i},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews();const r=this.options.autoFreeze?null:"reset";this.freeze({key:r});for(var n=0,i=e.length;n<i;n++)this.renderView(e[n],t);this.unfreeze({key:r}),this.sortViews()},removeViews:function(){Ja(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var e=Lr(this.cells).children("[model-id]"),t=this.model.get("cells");pue(e,function(r,n){var i=t.get(r.getAttribute("model-id")),o=t.get(n.getAttribute("model-id")),s=i.attributes.z||0,a=o.attributes.z||0;return s===a?0:s<a?-1:1})},insertView:function(e,t){const r=this.getLayerView(xs.CELLS),{el:n,model:i}=e;switch(this.options.sorting){case Ed.APPROX:r.insertSortedNode(n,i.get("z"));break;case Ed.EXACT:default:r.insertNode(n);break}e.onMount(t)},detachView(e){e.unmount(),e.onDetach()},scale:function(e,t,r,n){if(e===void 0)return at.matrixToScale(this.matrix());t===void 0&&(t=e),r===void 0&&(r=0,n=0);var i=this.translate();if(r||n||i.tx||i.ty){var o=i.tx-r*(e-1),s=i.ty-n*(t-1);this.translate(o,s)}e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var a=this.matrix();return a.a=e,a.d=t,this.matrix(a),this.trigger("scale",e,t,r,n),this},rotate:function(e,t,r){if(e===void 0)return at.matrixToRotate(this.matrix());if(t===void 0){var n=this.cells.getBBox();t=n.width/2,r=n.height/2}var i=this.matrix().translate(t,r).rotate(e).translate(-t,-r);return this.matrix(i),this},translate:function(e,t){if(e===void 0)return at.matrixToTranslate(this.matrix());const{options:r}=this,{origin:n,drawGrid:i}=r;e||(e=0),t||(t=0);const o=this.matrix();if(o.e===e&&o.f===t)return this;o.e=e,o.f=t,this.matrix(o);const{tx:s,ty:a}=this.translate();return n.x=s,n.y=a,this.trigger("translate",s,a),i&&this.drawGrid(),this},findView:function(e){var t=zi(e)?this.cells.querySelector(e):e instanceof Lr?e[0]:e,r=this.findAttribute("model-id",t);if(r)return this._views[r]},findViewByModel:function(e){var t=zi(e)||Eo(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){e=new ze(e);var t=this.model.getElements().map(this.findViewByModel,this);return t.filter(function(r){return r&&r.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Ss(t||{},{strict:!1}),e=new Pt(e);var r=this.model.getElements().map(this.findViewByModel,this),n=t.strict?"containsRect":"intersect";return r.filter(function(i){return i&&e[n](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e,...t){typeof e=="string"&&this.trigger("tools:event",e,...t)},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.matrix());return n},localToPaperRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.matrix());return o},paperToLocalPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.matrix().inverse());return n},paperToLocalRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.clientMatrix());return n},localToClientRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(e,t){var r=new ze(e,t),n=at.transformPoint(r,this.clientMatrix().inverse());return n},clientToLocalRect:function(e,t,r,n){var i=new Pt(e,t,r,n),o=at.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,r,n){return this.localToPaperRect(e,t,r,n).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var r=new ze(e,t),n=r.difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,r,n){var i=this.pageOffset(),o=new Pt(e,t,r,n);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new ze(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof _m))throw new Error("Must provide a linkView.");var t=e.model,r=this.options,n=this.model,i=n.constructor.validations;return!(!r.multiLinks&&!i.multiLinks.call(this,n,t)||!r.linkPinning&&!i.linkPinning.call(this,n,t)||typeof r.allowLink=="function"&&!r.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return hn(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e={}){let{highlighter:t,type:r}=e;const{highlighting:n,highlighterNamespace:i}=this.options;if(t===void 0){if(!n||r&&(t=n[r],t===!1))return!1;t||(t=n.default)}if(!t)return!1;zi(t)&&(t={name:t});const o=t.name,s=i[o];if(!s)throw new Error('Unknown highlighter ("'+o+'")');if(typeof s.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof s.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:s,options:t.options||{},name:o}},onCellHighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.highlight(e,t,o)},onCellUnhighlight:function(e,t,r){const n=this.resolveHighlighter(r);if(!n)return;const{highlighter:i,options:o}=n;i.unhighlight(e,t,o)},pointerdblclick:function(e){e.preventDefault(),e=bi(e);var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,r.x,r.y):this.trigger("blank:pointerdblclick",e,r.x,r.y)}},pointerclick:function(e){var t=this.eventData(e);if(t.mousemoved<=this.options.clickThreshold){e=bi(e);var r=this.findView(e.target);if(this.guard(e,r))return;var n=this.snapToGrid(e.clientX,e.clientY);r?r.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}e=bi(e),this.contextMenuTrigger(e)},contextMenuTrigger:function(e){var t=this.findView(e.target);if(!this.guard(e,t)){var r=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,r.x,r.y):this.trigger("blank:contextmenu",e,r.x,r.y)}},pointerdown:function(e){e=bi(e);const{target:t,button:r}=e,n=this.findView(t),i=r===2;if(n){if(!i&&this.guard(e,n))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(t.tagName);this.options.preventDefaultViewAction&&!o&&e.preventDefault(),o&&n.preventDefaultInteraction(e);const s=this.customEventTrigger(e,n);if(s){if(s.isPropagationStopped())return;e.data=s.data}const a=t.closest("[magnet]");if(a&&n.el!==a&&n.el.contains(a)){const l=bi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:a}));if(this.onmagnet(l),l.isDefaultPrevented()&&e.preventDefault(),l.isPropagationStopped()){if(i)return;this.delegateDragEvents(n,l.data);return}e.data=l.data}}if(i){this.contextMenuFired=!0;const o=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(e.clientX,e.clientY);n?n.pointerdown(e,o.x,o.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,o.x,o.y)),this.delegateDragEvents(n,e.data)}},pointermove:function(e){var t=this.eventData(e);t.mousemoved||(t.mousemoved=0,this.undelegateEvents());var r=++t.mousemoved;if(!(r<=this.options.moveThreshold)){e=bi(e);var n=this.snapToGrid(e.clientX,e.clientY),i=t.sourceView;i?i.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=bi(e),r=this.snapToGrid(t.clientX,t.clientY),n=this.eventData(e).sourceView;n?n.pointerup(t,r.x,r.y):this.trigger("blank:pointerup",t,r.x,r.y),t.isPropagationStopped()||this.pointerclick(Lr.Event(e.originalEvent,{type:"click",data:e.data})),this.delegateEvents()},mouseover:function(e){e=bi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=bi(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=bi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseenter(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseenter",e)},mouseleave:function(e){e=bi(e);const{target:t,relatedTarget:r,currentTarget:n}=e,i=this.findView(t);if(this.guard(e,i))return;const o=this.findView(r);i&&(o===i||(i.mouseleave(e),this.el.contains(r)))||o||n===this.el&&this.trigger("paper:mouseleave",e)},_processMouseWheelEvtBuf:Zle(function(){const{event:e,deltas:t}=this._mw_evt_buffer,r=t.reduce((s,a)=>s+cue(a,Cfe),0),n=Math.pow(.995,r),{x:i,y:o}=this.clientToLocalPoint(e.clientX,e.clientY);this.trigger("paper:pinch",e,i,o,n),this._mw_evt_buffer={event:null,deltas:[]}},UL,{maxWait:UL}),mousewheel:function(e){e=bi(e);const t=this.findView(e.target);if(this.guard(e,t))return;const r=e.originalEvent,n=this.snapToGrid(r.clientX,r.clientY),{deltaX:i,deltaY:o}=uue(r),s=this._events["paper:pinch"];if(e.ctrlKey&&s&&s.length>0)r.preventDefault(),this._mw_evt_buffer.event=r,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const a=Math.max(-1,Math.min(1,r.wheelDelta));t?t.mousewheel(e,n.x,n.y,a):this.trigger("blank:mousewheel",e,n.x,n.y,a),this.trigger("paper:pan",e,i,o)}},onevent:function(e){var t=e.currentTarget,r=t.getAttribute("event");if(r){var n=this.findView(t);if(n){if(e=bi(e),this.guard(e,n))return;var i=this.snapToGrid(e.clientX,e.clientY);n.onevent(e,r,i.x,i.y)}}},magnetEvent:function(e,t){var r=e.currentTarget,n=r.getAttribute("magnet");if(n){var i=this.findView(r);if(i){if(e=bi(e),this.guard(e,i))return;var o=this.snapToGrid(e.clientX,e.clientY);t.call(this,i,e,r,o.x,o.y)}}},onmagnet:function(e){if(e.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const t=Lr.Event(e.originalEvent,{type:"contextmenu",data:e.data,currentTarget:e.currentTarget});this.magnetContextMenuTrigger(t),t.isPropagationStopped()&&e.stopPropagation()}else this.magnetEvent(e,function(t,r,n,i,o){t.onmagnet(r,i,o)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetpointerdblclick(r,n,i,o)})},magnetcontextmenu:function(e){if(this.options.preventContextMenu&&e.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(e)},magnetContextMenuTrigger:function(e){this.magnetEvent(e,function(t,r,n,i,o){t.magnetcontextmenu(r,n,i,o)})},onlabel:function(e){var t=e.currentTarget,r=this.findView(t);if(!r||(e=bi(e),this.guard(e,r)))return;const n=this.customEventTrigger(e,r,t);if(n){if(n.isPropagationStopped())return;e.data=n.data}var i=this.snapToGrid(e.clientX,e.clientY);r.onlabel(e,i.x,i.y)},getPointerArgs(e){const t=bi(e),{x:r,y:n}=this.snapToGrid(t.clientX,t.clientY);return[t,r,n]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t)},guard:function(e,t){if(e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,t))return!0;if(e.data&&e.data.guarded!==void 0)return e.data.guarded;const{target:r}=e;return this.GUARDED_TAG_NAMES.includes(r.tagName)?!0:!(t&&t.model&&t.model instanceof ol||this.svg===r||this.el===r||Lr.contains(this.svg,r))},setGridSize:function(e){const{options:t}=this;return t.gridSize=e,t.drawGrid&&!t.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:at("svg",{width:"100%",height:"100%"},at("defs")),patterns:{},add:function(e,t){at(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(at("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return this.patterns[e]!==void 0}}),this._gridCache},setGrid:function(e){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var t=Array.isArray(e)?e:[e||{}];return t.forEach(function(r){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(r))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(zi(e)&&Array.isArray(t[e]))return t[e].map(function(l){return Gt({},l)});var r=e||{args:[{}]},n=Array.isArray(r),i=r.name;if(!n&&!i&&!r.markup&&(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(l){return Gt({},l)}),s=Array.isArray(r.args)?r.args:[r.args||{}];Ss(s[0],ug(e,"args"));for(var a=0;a<s.length;a++)o[a]&&Gt(o[a],s[a]);return o}return n?r:[r]},drawGrid:function(e){const t=this.options.drawGridSize||this.options.gridSize;if(t<=1)return this.clearGrid();var r=Array.isArray(e)?e:[e],n=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(s,a){var l="pattern_"+a,u=ni(s,r[a],{sx:n.a||1,sy:n.d||1,ox:n.e||0,oy:n.f||0});u.width=t*(n.a||1)*(u.scaleFactor||1),u.height=t*(n.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,at("pattern",{id:l,patternUnits:"userSpaceOnUse"},at(u.markup)));var f=i.get(l);hn(u.update)&&u.update(f.node.childNodes[0],u);var c=u.ox%u.width;c<0&&(c+=u.width);var h=u.oy%u.height;h<0&&(h+=u.height),f.attr({x:c,y:h,width:u.width,height:u.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){e=e||{};var t=e.position||"center",r=e.size||"auto auto",n=this.scale(),i=this.translate();if(Gr(t)){var o=i.tx+n.sx*(t.x||0),s=i.ty+n.sy*(t.y||0);t=o+"px "+s+"px"}Gr(r)&&(r=new Pt(r).scale(n.sx,n.sy),r=r.width+"px "+r.height+"px"),this.$background.css({backgroundSize:r,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(!(e instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==t.id)){t=t||{};var r,n=t.size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[nue(i)];if(hn(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");r=l.toDataURL("image/png"),i="repeat",Gr(n)?(n.width*=l.width/e.width,n.height*=l.height/e.height):n===void 0&&(t.size={width:l.width/s,height:l.height/s})}else r=e.src,n===void 0&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+r+")"}),this.updateBackgroundImage(t)}},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(e=e||{},this.updateBackgroundColor(e.color),e.image){e=this._background=$s(e),eh(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Ja(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!Gr(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,r=e.name;if(t||(t=r+this.svg.id+ey(JSON.stringify(e))),!this.isDefined(t)){var n=gue,i=n[r]&&n[r](e.args||{});if(!i)throw new Error("Non-existing filter "+r);var o=Gt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});at(i,o).appendTo(this.defs)}return t},defineGradient:function(e){if(!Gr(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{type:n,id:i=n+t.id+ey(JSON.stringify(e)),stops:o,attrs:s={}}=e;if(this.isDefined(i))return i;const a=$r(o).map(({offset:u,color:f,opacity:c})=>at("stop").attr({offset:u,"stop-color":f,"stop-opacity":Number.isFinite(c)?c:1})),l=at(n,s,a);return l.id=i,l.appendTo(r),i},definePattern:function(e){if(!Gr(e))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+ey(JSON.stringify(e)),markup:i,attrs:o={}}=e;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(n))return n;const s=at("pattern",{patternUnits:"userSpaceOnUse"});if(s.id=n,s.attr(o),typeof i=="string")s.append(at(i));else{const{fragment:a}=p_(i);s.append(a)}return s.appendTo(r),n},defineMarker:function(e){if(!Gr(e))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:t,defs:r}=this,{id:n=t.id+ey(JSON.stringify(e)),markup:i,attrs:o={},markerUnits:s="userSpaceOnUse"}=e;if(this.isDefined(n))return n;const a=at("marker",{orient:"auto",overflow:"visible",markerUnits:s});a.id=n,a.attr(o);let l;if(i){let c;if(typeof i=="string")c=at(i),c=Array.isArray(c)?c:[c];else{const{fragment:h}=p_(i);c=at(h).children()}c.length>1?l=at("g").append(c):l=c[0]}else{const{type:c="path"}=e;l=at(c)}const u=ug(e,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(c=>{const h=u[c],g=l.attr(c);if(g==null)l.attr(c,h);else switch(c){case"transform":l.attr(c,h+" "+g);break}}),l.appendTo(a),a.appendTo(r),n},customEventTrigger:function(e,t,r=t.el){const n=e.target.closest("[event]");if(n&&r!==n&&t.el.contains(n)){const i=bi(Lr.Event(e.originalEvent,{data:e.data,currentTarget:n}));return this.onevent(i),i.isDefaultPrevented()&&e.preventDefault(),i}return null}},{sorting:Ed,Layers:xs,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=2*r,t.height=2*n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,r,n),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,r,n),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,r,n),t},flipX:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r*2,t.height=n;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(2*r,0),i.scale(-1,1),i.drawImage(e,0,0,r,n),t},flipY:function(e){var t=document.createElement("canvas"),r=e.width,n=e.height;t.width=r,t.height=n*2;var i=t.getContext("2d");return i.drawImage(e,0,0,r,n),i.translate(0,2*n),i.scale(1,-1),i.drawImage(e,0,0,r,n),t},watermark:function(e,t){t=t||{};var r=e.width,n=e.height,i=document.createElement("canvas");i.width=r*3,i.height=n*3;for(var o=i.getContext("2d"),s=Eo(t.watermarkAngle)?-t.watermarkAngle:-20,a=Po(s),l=i.width/4,u=i.height/4,f=0;f<4;f++)for(var c=0;c<4;c++)(f+c)%2>0&&(o.setTransform(1,0,0,1,(2*f-1)*l,(2*c-1)*u),o.rotate(a),o.drawImage(e,-r/2,-n/2,r,n));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){at(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var r=t.sx<=1?t.thickness*t.sx:t.thickness;at(e).attr({width:r,height:r,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var r,n=t.width,i=t.height,o=t.thickness;n-o>=0&&i-o>=0?r=["M",n,0,"H0 M0 0 V0",i].join(" "):r="M 0 0 0 0",at(e).attr({d:r,stroke:t.color,"stroke-width":t.thickness})}}]}}),CW=tc.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){const{paper:t,relatedView:r}=this;return!t||!r?!0:t.guard(e,r)}}),VL=tc.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(e){e=Gt(this.options,e);var t=e.tools;if(!Array.isArray(t))return this;var r=e.relatedView;if(!(r instanceof hr))return this;for(var n=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof CW&&(s.configure(r,this),this.vel.append(s.el),n.push(s))}return this.isRendered=!1,r.requestUpdate(r.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(!t)return this;for(var r=this.isRendered,n=0,i=t.length;n<i;n++){var o=t[n];r?e.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),r||(this.blurTool(),this.isRendered=!0),this},focusTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var r=0,n=t.length;r<n;r++){var i=t[r];i!==e&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,r=e.length;t<r;t++)e[t].remove();this.tools=null},mount:function(){const{options:e,el:t}=this,{relatedView:r,layer:n=xs.TOOLS,z:i}=e;return r&&(n?r.paper.getLayerView(n).insertSortedNode(t,i):r.el.appendChild(t)),this}}),Ffe={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var r=this._results[e];if(typeof r<"u")return r;try{r=t()}catch{r=!1}return this._results[e]=r,r}},HL=co.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]});co.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});co.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});co.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]});co.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]});co.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var F1=10;co.define("standard.Cylinder",{attrs:{body:{lateralArea:F1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:F1,refRx:"50%",ry:F1,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(e===void 0)return this.attr("body/lateralArea");var r=Oi(e),n={lateralArea:e},i=r?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e};return this.attr({body:n,top:i},t)}},{attributes:{lateralArea:{set:function(e,t){var r=Oi(e);r&&(e=parseFloat(e)/100);var n=t.x,i=t.y,o=t.width,s=t.height,a=o/2,l=r?s*e:e,u=at.KAPPA,f=u*a,c=u*(r?s*e:e),h=n,g=n+o/2,m=n+o,_=i+l,v=_-l,p=i+s-l,E=i+s,y=["M",h,_,"L",h,p,"C",n,p+c,g-f,E,g,E,"C",g+f,E,m,p+c,m,p,"L",m,_,"C",m,_-c,g+f,v,g,v,"C",g-f,v,h,_-c,h,_,"Z"];return{d:y.join(" ")}}}}});var Bfe={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},Ufe={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},zfe=Ffe.test("svgforeignobject")?Bfe:Ufe;co.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},zfe]},{attributes:{text:{set:function(e,t,r,n){if(r instanceof HTMLElement)r.textContent=e;else{var i=n.style||{},o={text:e,width:-5,height:"100%"},s=Gt({textVerticalAnchor:"middle"},i);return mW.textWrap.set.call(this,o,t,r,s),{fill:i.color||null}}},position:function(e,t,r){if(r instanceof SVGElement)return t.center()}}}});const qfe=Zh.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Zh.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none",cursor:"pointer"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]});Zh.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none","pointer-events":"none"}},{tagName:"path",selector:"line",attributes:{fill:"none",cursor:"pointer"}}]});function Vfe(e,t){const{model:r}=e;return t?r.getBBox():r.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}const DW=CW.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:e}=this;e.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:e,options:t}=this;let{x:r=0,y:n=0,offset:i={},useModelGeometry:o,rotate:s,scale:a}=t,l=Vfe(e,o);const u=e.model.angle();s||(l=l.bbox(u));const{x:f=0,y:c=0}=i;Oi(r)?r=parseFloat(r)/100*l.width:Ps(r)&&(r=Number(Ns(r,l))),Oi(n)?n=parseFloat(n)/100*l.height:Ps(n)&&(n=Number(Ns(n,l)));let h=at.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return s&&(h=h.rotate(u)),h=h.translate(r+f-l.width/2,n+c-l.height/2),a&&(h=h.scale(a)),h},getLinkMatrix(){const{relatedView:e,options:t}=this,{offset:r=0,distance:n=0,rotate:i,scale:o}=t;let s,a,l;Oi(n)?s=e.getTangentAtRatio(parseFloat(n)/100):s=e.getTangentAtLength(n),s?(a=s.start,l=s.vector().vectorAngle(new ze(1,0))||0):(a=e.getConnection().start,l=0);let u=at.createSVGMatrix().translate(a.x,a.y).rotate(l).translate(0,r);return i||(u=u.rotate(-l)),o&&(u=u.scale(o)),u},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;typeof t=="function"&&t.call(this.relatedView,e,this.relatedView,this)}}}),Hfe=DW.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,r){t.model.remove({ui:!0,tool:r.cid})}}}),MW=()=>"chooseFileSystemEntries"in window||"showOpenFilePicker"in window,LW=async()=>{if(!MW()){const n=await Wfe();if(!n)throw new Error("failed to get file through HTML5");return{td:await Gfe(n),fileName:n.name}}const e=await Xfe(),t=await e.getFile();return{td:await t.text(),fileName:t.name,fileHandle:e}},Wfe=async()=>new Promise((e,t)=>{const r=document.getElementById("fileInput");r.onchange=()=>{const n=r.files[0];return n?e(n):t(new Error("AbortError"))},r.click()}),Gfe=async e=>new Promise(t=>{const r=new FileReader;r.addEventListener("loadend",n=>{const i=n.srcElement.result;return t(i)}),r.readAsText(e)}),Kfe=async(e,t,r)=>{if(!MW())return Yfe(e,r),e;if(!t)try{t=await Qfe()}catch(n){console.error(n);return}return await Jfe(t,r),t},Jfe=async(e,t)=>{if(e.createWriter){const n=await e.createWriter();await n.write(0,t),await n.close();return}const r=await e.createWritable();await r.write(t),await r.close()},Yfe=(e,t)=>{const r=JSON.parse(t);let n=r.id||r.title;if(!n)throw Error("the TD has to have either an id or a title to be saved");n=n.replace(/\s/g,"")+".jsonld",e=e||n;const i={type:"application/ld+json"},o=new File([t],"",i),s=document.getElementById("aDownload");s.href=window.URL.createObjectURL(o),s.setAttribute("download",e),s.click()},Xfe=()=>{const e={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return"showOpenFilePicker"in window?window.showOpenFilePicker(e).then(t=>t[0]):window.chooseFileSystemEntries()},Qfe=async()=>{if("showSaveFilePicker"in window){const t={types:[{description:"Thing Description",accept:{"application/ld+json":[".jsonld",".json"]}}]};return await window.showSaveFilePicker(t)}const e={type:"save-file",accepts:[{description:"Thing Description",extensions:[".jsonld",".json"],mimeTypes:["application/ld+json"]}]};return await window.chooseFileSystemEntries(e)},FW=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState(()=>!1),[o,s]=Ye.useState(()=>"url"),[a,l]=Ye.useState(()=>({})),u=e.interaction??{},f=r.parsedTD;Oe.useImperativeHandle(t,()=>({openModal:()=>c(),close:()=>h()}));const c=()=>{i(!0)},h=()=>{i(!1)},g=S=>u.links?sQ(S,u):!1,m=S=>{f.links=[...f.links?f.links:[],S],r.updateOfflineTD(JSON.stringify(f,null,2))},_=S=>{s(S),a&&S==="url"&&l({})},v=Oe.useCallback(async()=>{try{const S=await LW();document.getElementById("link-href").value=`./${S.fileName}`,l(S.fileHandle?S.fileHandle:JSON.parse(S.td))}catch(S){const $="We ran into an error trying to open your TD.";console.error($,S),alert($)}},[]),p=()=>{const S=["icon","service-doc","alternate","type","tm:extends","proxy-to","collection","item","predecessor-version","controlledBy"];let $=0;return S.map(d=>($++,Q.jsx("option",{value:d},$)))},E=Q.jsxs(Q.Fragment,{children:[Q.jsx("label",{className:"pl-3 text-sm font-medium text-gray-400",children:"Thing Description:"}),Q.jsx("div",{className:"p-1",children:f.title}),Q.jsxs("div",{className:"p-1 pt-2",children:[Q.jsx("label",{htmlFor:"rel",className:"pl-2 text-sm font-medium text-gray-400",children:"Relation:(select one of the proposed relations or type your custom relation)"}),Q.jsx("input",{list:"relationType",type:"text",name:"rel",id:"rel",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"relation name"}),Q.jsx("datalist",{id:"relationType",children:Q.jsx(p,{})}),Q.jsx("span",{id:"link-rel-info",className:"pl-2 text-xs text-red-400"})]}),Q.jsxs("div",{className:"p-1 pt-2",children:[Q.jsx("label",{htmlFor:"link-href",className:"pl-2 pr-2 text-sm font-medium text-gray-400",children:"Target ressource:"}),Q.jsx(jn,{type:"button",disabled:o==="upload",onClick:()=>_("upload"),className:"h-9",variant:"primary",children:"From local machine"}),Q.jsx(jn,{type:"button",disabled:o==="url",onClick:()=>_("url"),className:"ml-2 h-9",variant:"primary",children:"Resource url"}),Q.jsxs("div",{className:"p-1 pt-4",children:[Q.jsx("input",{type:"text",name:"link-href",id:"link-href",className:"rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"The target ressource",onChange:()=>{Zfe()},disabled:o!=="url"}),o==="upload"&&Q.jsx(jn,{type:"button",onClick:v,disabled:o!=="upload",className:"ml-2 h-9",variant:"primary",children:"Open TD"})]}),Q.jsx("span",{id:"link-href-info",className:"pl-2 text-xs text-red-400"}),Q.jsxs("div",{children:[Q.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:(select one of the proposed types or tape your custom type)"}),Q.jsx("input",{list:"mediaType",type:"text",name:"type",id:"type",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"media type"}),Q.jsxs("datalist",{id:"mediaType",children:[Q.jsx("option",{value:"application/td+json"}),Q.jsx("option",{value:"image/jpeg"}),Q.jsx("option",{value:"text/csv"}),Q.jsx("option",{value:"video/mp4"})]})]})]})]}),y=()=>{if(!r.isValidJSON){B1("Can't add link. TD is malformed");return}const S={href:document.getElementById("link-href").value.trim()||"/"},$=document.getElementById("rel").value.trim(),T=document.getElementById("type").value.trim();$&&(S.rel=$),T&&(S.type=T);let d=!0;try{var x=new URL(S.href)}catch{d=!1}if(o==="url"&&d&&(x.protocol==="http:"||x.protocol==="https:"))try{var A=new XMLHttpRequest;if(A.open("GET",href,!1),A.send(),A.getResponseHeader("content-type").includes("application/td+json")){const O=A.response;let C=JSON.parse(O);linkedTd[S.href]=C}}catch(O){console.error("We ran into an error trying to fetch your TD.",O),linkedTd[href]=a}else linkedTd[href]=a;S.href===""?B1("The href field is mandatory ..."):g(S)?B1("A Link with the target Thing Description already exists ..."):(m(S),r.addLinkedTd(linkedTd),l({}),h())};return n?ns.createPortal(Q.jsx(is,{onCancel:h,onSubmit:y,submitText:"Add",children:E,title:"Add Link ",description:`Tell us how this ${f.title} can interact with other ressources`}),document.getElementById("modal-root")):null}),B1=e=>{document.getElementById("link-href-info").textContent=e,document.getElementById("link-href").classList.remove("border-gray-600"),document.getElementById("link-href").classList.add("border-red-400")},Zfe=()=>{document.getElementById("link-href").classList.add("border-gray-600"),document.getElementById("link-href").classList.remove("border-red-400")};FW.displayName="AddLinkTdDialog";const ede=e=>{const t=Oe.useContext(nn),r=i=>{let o=t.linkedTd;o[i.link.href]&&(delete o[i.link.href],t.updateLinkedTd(o)),t.removeLink(i.propName),t.updateIsModified(!0)},n=async i=>{let o=i.link.href;kN(t,o)};return Q.jsxs("div",{className:"bg-formBlue border-formBlue mt-2 flex min-h-12 w-full items-stretch rounded-md border-2 bg-opacity-75 pl-4",children:[Q.jsx("div",{className:"flex h-8 min-w-20 justify-center place-self-center rounded-md bg-white",children:Q.jsx("div",{className:"text-formBlue place-self-center px-4 text-center",children:e.link.rel??"-"})}),Q.jsx("div",{className:"flex-grow place-self-center overflow-hidden pl-3 text-base text-white",children:e.link.href}),t.linkedTd&&t.linkedTd[e.link.href]&&(Object.keys(t.linkedTd[e.link.href]).length||t.linkedTd[e.link.href].kind==="file")&&Q.jsx("button",{className:"bg-formBlue border-formBlue flex w-10 items-center justify-center border-r-2",onClick:()=>n(e),children:Q.jsx(Og,{size:16,color:"black"})}),Q.jsx("button",{className:"bg-formBlue flex w-10 items-center justify-center",onClick:()=>r(e),children:Q.jsx(cc,{size:16,color:"black"})})]})},tde=e=>{const t=Oe.useContext(nn),r=Oe.useRef(),n=()=>{r.current.openModal()},i=t.parsedTD,[o,s]=Oe.useState(0),[a,l]=Oe.useState("list"),[u,f]=Oe.useState(!1);if(Oe.useEffect(()=>{if(document.getElementsByTagName("details")[1]&&document.getElementsByTagName("details")[1].addEventListener("toggle",function($){document.getElementsByTagName("details")[1].attributes.open?f(!0):f(!1)},!1),i===void 0||!i.links||!Array.isArray(i.links))return;let h=100,g=30,m=new lj,_=new Lfe({el:document.getElementById("tdGraph"),model:m,height:270+o,width:850,gridSize:10,drawGrid:!0,restrictTranslate:!0});if(!(i===void 0||!i.links||!Array.isArray(i.links))){var v=new HL;v.position(100,10),v.resize(140,40),v.attr({body:{fill:"#005A9C"},label:{text:i.title,fill:"white"}}),v.set("td",{}),v.resize(v.attributes.attrs.label.text.length*12,40),m.addCell(v);for(const[$,T]of i.links.entries()){if(Object.prototype.toString.call(T)!=="[object Object]")continue;h=h+70,g=g+60;const d=T.href??"no href provided",x=T.rel??"",A=new HL;A.position(h,g),A.attr({body:{fill:"#005A9C"},label:{text:d,fill:"white"}}),A.resize(A.attributes.attrs.label.text.length*12,40),m.addCell(A),A.set("href",d);var p=new Hfe({useModelGeometry:!0,y:"0%",x:"100%",action:async function(C,F,V){if(t.linkedTd){let X=t.linkedTd;X[F.model.get("href")]&&(delete X[F.model.get("href")],t.updateLinkedTd(X))}for(let X=0;X<i.links.length;X++)if(d===F.model.get("href")){t.removeLink(X),t.updateIsModified(!0);break}}}),E=new VL({tools:[p]}),y=A.findView(_);if(y.addTools(E),t.linkedTd&&t.linkedTd[d]&&(t.linkedTd[d].kind==="file"||Object.keys(t.linkedTd[d]).length)){A.set("td",t.linkedTd[d]);var S=new DW({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#008FF5",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],x:"0%",y:"0%",rotate:!0,action:async function(F,V,X){let H=V.model.get("href");kN(t,H)}});let C=new VL({tools:[p,S]});y.addTools(C)}let O=new qfe({attrs:{line:{stroke:"#005A9C"}},labels:[{position:.6,attrs:{text:{text:x,fill:"grey"}}}]});O.source(v),O.target(A),O.addTo(m)}s(g+30)}},[o,a,t,t.linkedTd,t.removeLink,t.updateLinkedTd,t.updateIsModified,i]),i===void 0)return Q.jsx(Q.Fragment,{});let c=[];if(i.links&&Array.isArray(i.links))for(const[h,g]of i.links.entries())Object.prototype.toString.call(g)==="[object Object]"&&c.push(Q.jsx(ede,{link:g},h));return Q.jsxs("details",{className:"pt-8",children:[Q.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[Q.jsxs("div",{className:"flex flex-grow",children:[Q.jsx(Zo,{tooltip:xU(),children:Q.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Links"})}),u&&Q.jsx(jn,{disabled:a==="list",onClick:()=>l("list"),variant:"primary",type:"button",className:"h-9",children:"List"}),u&&Q.jsx(jn,{disabled:a==="graph",onClick:()=>l("graph"),variant:"primary",type:"button",className:"ml-2 h-9",children:"Graph"})]}),Q.jsx(jn,{onClick:n,variant:"primary",type:"button",children:"Add Top Level Link"}),Q.jsx(FW,{type:"link",interaction:i,ref:r})]}),c&&a==="graph"&&Q.jsx("div",{className:"pt-4",children:Q.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",id:"tdGraph"})}),c&&a==="list"&&Q.jsx("div",{className:"pt-4",children:Q.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]})};function Xf(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(f){try{u(n.next(f))}catch(c){s(c)}}function l(f){try{u(n.throw(f))}catch(c){s(c)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}const rde=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Mh(e,t,r){const n=nde(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof n.path!="string"&&WL(n,"path",o),WL(n,"relativePath",o),n}function nde(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const n=t.split(".").pop().toLowerCase(),i=rde.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function WL(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const ide=[".DS_Store","Thumbs.db"];function ode(e){return Xf(this,void 0,void 0,function*(){return y_(e)&&sde(e.dataTransfer)?cde(e.dataTransfer,e.type):ade(e)?lde(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?ude(e):[]})}function sde(e){return y_(e)}function ade(e){return y_(e)&&y_(e.target)}function y_(e){return typeof e=="object"&&e!==null}function lde(e){return uP(e.target.files).map(t=>Mh(t))}function ude(e){return Xf(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>Mh(r))})}function cde(e,t){return Xf(this,void 0,void 0,function*(){if(e.items){const r=uP(e.items).filter(i=>i.kind==="file");if(t!=="drop")return r;const n=yield Promise.all(r.map(fde));return GL(BW(n))}return GL(uP(e.files).map(r=>Mh(r)))})}function GL(e){return e.filter(t=>ide.indexOf(t.name)===-1)}function uP(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function fde(e){if(typeof e.webkitGetAsEntry!="function")return KL(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?UW(t):KL(e,t)}function BW(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?BW(r):[r]],[])}function KL(e,t){return Xf(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const s=yield o.getFile();return s.handle=o,Mh(s)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return Mh(n,(r=t==null?void 0:t.fullPath)!==null&&r!==void 0?r:void 0)})}function dde(e){return Xf(this,void 0,void 0,function*(){return e.isDirectory?UW(e):hde(e)})}function UW(e){const t=e.createReader();return new Promise((r,n)=>{const i=[];function o(){t.readEntries(s=>Xf(this,void 0,void 0,function*(){if(s.length){const a=Promise.all(s.map(dde));i.push(a),o()}else try{const a=yield Promise.all(i);r(a)}catch(a){n(a)}}),s=>{n(s)})}o()})}function hde(e){return Xf(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(n=>{const i=Mh(n,e.fullPath);t(i)},n=>{r(n)})})})}var U1=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(r.length===0)return!0;var n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function JL(e){return gde(e)||mde(e)||qW(e)||pde()}function pde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gde(e){if(Array.isArray(e))return cP(e)}function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fg(e,t){return wde(e)||yde(e,t)||qW(e,t)||vde()}function vde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function wde(e){if(Array.isArray(e))return e}var bde=typeof U1=="function"?U1:U1.default,_de="file-invalid-type",Ede="file-too-large",Sde="file-too-small",$de="too-many-files",Tde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=t.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:_de,message:"File type must be ".concat(n)}},QL=function(t){return{code:Ede,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},ZL=function(t){return{code:Sde,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},xde={code:$de,message:"Too many files"};function VW(e,t){var r=e.type==="application/x-moz-file"||bde(e,t);return[r,r?null:Tde(t)]}function HW(e,t,r){if(ef(e.size))if(ef(t)&&ef(r)){if(e.size>r)return[!1,QL(r)];if(e.size<t)return[!1,ZL(t)]}else{if(ef(t)&&e.size<t)return[!1,ZL(t)];if(ef(r)&&e.size>r)return[!1,QL(r)]}return[!0,null]}function ef(e){return e!=null}function Ade(e){var t=e.files,r=e.accept,n=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var u=VW(l,r),f=fg(u,1),c=f[0],h=HW(l,n,i),g=fg(h,1),m=g[0],_=a?a(l):null;return c&&m&&!_})}function w_(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function uy(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function eF(e){e.preventDefault()}function Ode(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Pde(e){return e.indexOf("Edge/")!==-1}function Nde(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Ode(e)||Pde(e)}function Ia(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!w_(n)&&a&&a.apply(void 0,[n].concat(o)),w_(n)})}}function Rde(){return"showOpenFilePicker"in window}function Ide(e){if(ef(e)){var t=Object.entries(e).filter(function(r){var n=fg(r,2),i=n[0],o=n[1],s=!0;return WW(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(GW))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var i=fg(n,2),o=i[0],s=i[1];return XL(XL({},r),{},zW({},o,s))},{});return[{description:"Files",accept:t}]}return e}function jde(e){if(ef(e))return Object.entries(e).reduce(function(t,r){var n=fg(r,2),i=n[0],o=n[1];return[].concat(JL(t),[i],JL(o))},[]).filter(function(t){return WW(t)||GW(t)}).join(",")}function kde(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Cde(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function WW(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function GW(e){return/^.*\.[\w]+$/.test(e)}var Dde=["children"],Mde=["open"],Lde=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Fde=["refKey","onChange","onClick"];function Bde(e){return qde(e)||zde(e)||KW(e)||Ude()}function Ude(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qde(e){if(Array.isArray(e))return fP(e)}function z1(e,t){return Wde(e)||Hde(e,t)||KW(e,t)||Vde()}function Vde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KW(e,t){if(e){if(typeof e=="string")return fP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fP(e,t)}}function fP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function Wde(e){if(Array.isArray(e))return e}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(n){dP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b_(e,t){if(e==null)return{};var r=Gde(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gde(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var hj=Oe.forwardRef(function(e,t){var r=e.children,n=b_(e,Dde),i=YW(n),o=i.open,s=b_(i,Mde);return Oe.useImperativeHandle(t,function(){return{open:o}},[o]),Ye.createElement(Oe.Fragment,null,r(Rn(Rn({},s),{},{open:o})))});hj.displayName="Dropzone";var JW={disabled:!1,getFilesFromEvent:ode,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};hj.defaultProps=JW;hj.propTypes={children:nt.func,accept:nt.objectOf(nt.arrayOf(nt.string)),multiple:nt.bool,preventDropOnDocument:nt.bool,noClick:nt.bool,noKeyboard:nt.bool,noDrag:nt.bool,noDragEventsBubbling:nt.bool,minSize:nt.number,maxSize:nt.number,maxFiles:nt.number,disabled:nt.bool,getFilesFromEvent:nt.func,onFileDialogCancel:nt.func,onFileDialogOpen:nt.func,useFsAccessApi:nt.bool,autoFocus:nt.bool,onDragEnter:nt.func,onDragLeave:nt.func,onDragOver:nt.func,onDrop:nt.func,onDropAccepted:nt.func,onDropRejected:nt.func,onError:nt.func,validator:nt.func};var hP={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function YW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Rn(Rn({},JW),e),r=t.accept,n=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,u=t.onDragEnter,f=t.onDragLeave,c=t.onDragOver,h=t.onDrop,g=t.onDropAccepted,m=t.onDropRejected,_=t.onFileDialogCancel,v=t.onFileDialogOpen,p=t.useFsAccessApi,E=t.autoFocus,y=t.preventDropOnDocument,S=t.noClick,$=t.noKeyboard,T=t.noDrag,d=t.noDragEventsBubbling,x=t.onError,A=t.validator,O=Oe.useMemo(function(){return jde(r)},[r]),C=Oe.useMemo(function(){return Ide(r)},[r]),F=Oe.useMemo(function(){return typeof v=="function"?v:rF},[v]),V=Oe.useMemo(function(){return typeof _=="function"?_:rF},[_]),X=Oe.useRef(null),H=Oe.useRef(null),Z=Oe.useReducer(Kde,hP),fe=z1(Z,2),ee=fe[0],ne=fe[1],k=ee.isFocused,B=ee.isFileDialogActive,W=Oe.useRef(typeof window<"u"&&window.isSecureContext&&p&&Rde()),P=function(){!W.current&&B&&setTimeout(function(){if(H.current){var Ue=H.current.files;Ue.length||(ne({type:"closeDialog"}),V())}},300)};Oe.useEffect(function(){return window.addEventListener("focus",P,!1),function(){window.removeEventListener("focus",P,!1)}},[H,B,V,W]);var R=Oe.useRef([]),z=function(Ue){X.current&&X.current.contains(Ue.target)||(Ue.preventDefault(),R.current=[])};Oe.useEffect(function(){return y&&(document.addEventListener("dragover",eF,!1),document.addEventListener("drop",z,!1)),function(){y&&(document.removeEventListener("dragover",eF),document.removeEventListener("drop",z))}},[X,y]),Oe.useEffect(function(){return!n&&E&&X.current&&X.current.focus(),function(){}},[X,E,n]);var oe=Oe.useCallback(function(qe){x?x(qe):console.error(qe)},[x]),J=Oe.useCallback(function(qe){qe.preventDefault(),qe.persist(),Ae(qe),R.current=[].concat(Bde(R.current),[qe.target]),uy(qe)&&Promise.resolve(i(qe)).then(function(Ue){if(!(w_(qe)&&!d)){var G=Ue.length,I=G>0&&Ade({files:Ue,accept:O,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:A}),L=G>0&&!I;ne({isDragAccept:I,isDragReject:L,isDragActive:!0,type:"setDraggedFiles"}),u&&u(qe)}}).catch(function(Ue){return oe(Ue)})},[i,u,oe,d,O,s,o,a,l,A]),Y=Oe.useCallback(function(qe){qe.preventDefault(),qe.persist(),Ae(qe);var Ue=uy(qe);if(Ue&&qe.dataTransfer)try{qe.dataTransfer.dropEffect="copy"}catch{}return Ue&&c&&c(qe),!1},[c,d]),ae=Oe.useCallback(function(qe){qe.preventDefault(),qe.persist(),Ae(qe);var Ue=R.current.filter(function(I){return X.current&&X.current.contains(I)}),G=Ue.indexOf(qe.target);G!==-1&&Ue.splice(G,1),R.current=Ue,!(Ue.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),uy(qe)&&f&&f(qe))},[X,f,d]),be=Oe.useCallback(function(qe,Ue){var G=[],I=[];qe.forEach(function(L){var ie=VW(L,O),ye=z1(ie,2),Se=ye[0],De=ye[1],ke=HW(L,s,o),Be=z1(ke,2),st=Be[0],wt=Be[1],ut=A?A(L):null;if(Se&&st&&!ut)G.push(L);else{var Ct=[De,wt];ut&&(Ct=Ct.concat(ut)),I.push({file:L,errors:Ct.filter(function(Tr){return Tr})})}}),(!a&&G.length>1||a&&l>=1&&G.length>l)&&(G.forEach(function(L){I.push({file:L,errors:[xde]})}),G.splice(0)),ne({acceptedFiles:G,fileRejections:I,isDragReject:I.length>0,type:"setFiles"}),h&&h(G,I,Ue),I.length>0&&m&&m(I,Ue),G.length>0&&g&&g(G,Ue)},[ne,a,O,s,o,l,h,g,m,A]),Ie=Oe.useCallback(function(qe){qe.preventDefault(),qe.persist(),Ae(qe),R.current=[],uy(qe)&&Promise.resolve(i(qe)).then(function(Ue){w_(qe)&&!d||be(Ue,qe)}).catch(function(Ue){return oe(Ue)}),ne({type:"reset"})},[i,be,oe,d]),N=Oe.useCallback(function(){if(W.current){ne({type:"openDialog"}),F();var qe={multiple:a,types:C};window.showOpenFilePicker(qe).then(function(Ue){return i(Ue)}).then(function(Ue){be(Ue,null),ne({type:"closeDialog"})}).catch(function(Ue){kde(Ue)?(V(Ue),ne({type:"closeDialog"})):Cde(Ue)?(W.current=!1,H.current?(H.current.value=null,H.current.click()):oe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):oe(Ue)});return}H.current&&(ne({type:"openDialog"}),F(),H.current.value=null,H.current.click())},[ne,F,V,p,be,oe,C,a]),D=Oe.useCallback(function(qe){!X.current||!X.current.isEqualNode(qe.target)||(qe.key===" "||qe.key==="Enter"||qe.keyCode===32||qe.keyCode===13)&&(qe.preventDefault(),N())},[X,N]),M=Oe.useCallback(function(){ne({type:"focus"})},[]),K=Oe.useCallback(function(){ne({type:"blur"})},[]),se=Oe.useCallback(function(){S||(Nde()?setTimeout(N,0):N())},[S,N]),ce=function(Ue){return n?null:Ue},de=function(Ue){return $?null:ce(Ue)},pe=function(Ue){return T?null:ce(Ue)},Ae=function(Ue){d&&Ue.stopPropagation()},Le=Oe.useMemo(function(){return function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=qe.refKey,G=Ue===void 0?"ref":Ue,I=qe.role,L=qe.onKeyDown,ie=qe.onFocus,ye=qe.onBlur,Se=qe.onClick,De=qe.onDragEnter,ke=qe.onDragOver,Be=qe.onDragLeave,st=qe.onDrop,wt=b_(qe,Lde);return Rn(Rn(dP({onKeyDown:de(Ia(L,D)),onFocus:de(Ia(ie,M)),onBlur:de(Ia(ye,K)),onClick:ce(Ia(Se,se)),onDragEnter:pe(Ia(De,J)),onDragOver:pe(Ia(ke,Y)),onDragLeave:pe(Ia(Be,ae)),onDrop:pe(Ia(st,Ie)),role:typeof I=="string"&&I!==""?I:"presentation"},G,X),!n&&!$?{tabIndex:0}:{}),wt)}},[X,D,M,K,se,J,Y,ae,Ie,$,T,n]),Ce=Oe.useCallback(function(qe){qe.stopPropagation()},[]),rt=Oe.useMemo(function(){return function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ue=qe.refKey,G=Ue===void 0?"ref":Ue,I=qe.onChange,L=qe.onClick,ie=b_(qe,Fde),ye=dP({accept:O,multiple:a,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ce(Ia(I,Ie)),onClick:ce(Ia(L,Ce)),tabIndex:-1},G,H);return Rn(Rn({},ye),ie)}},[H,r,a,Ie,n]);return Rn(Rn({},ee),{},{isFocused:k&&!n,getRootProps:Le,getInputProps:rt,rootRef:X,inputRef:H,open:ce(N)})}function Kde(e,t){switch(t.type){case"focus":return Rn(Rn({},e),{},{isFocused:!0});case"blur":return Rn(Rn({},e),{},{isFocused:!1});case"openDialog":return Rn(Rn({},hP),{},{isFileDialogActive:!0});case"closeDialog":return Rn(Rn({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Rn(Rn({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Rn(Rn({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Rn({},hP);default:return e}}function rF(){}const Jde=({onUndo:e,onRedo:t})=>{const r=Oe.useContext(nn),n=r.parsedTD,i=["id","properties","actions","events","forms","description","title","links"],o=Ye.useRef(),s=()=>{var g;(g=o.current)==null||g.openModal()},a=Oe.useCallback(g=>{const m=g[0],_=new FileReader;_.onabort=()=>console.error("File reading  - aborted"),_.onerror=()=>console.error("File reading - failed"),_.onload=()=>{const v={td:_.result,fileName:m.name,fileHandle:m};try{let p={};p[v.fileName]=v.fileHandle,r.updateOfflineTD(v.td),r.updateIsModified(!1),r.setFileHandle(v.fileName),r.updateLinkedTd(void 0),r.addLinkedTd(p)}catch(p){console.error("File processing:",p)}},_.readAsText(m)},[r]),{getRootProps:l,getInputProps:u,isDragActive:f}=YW({onDrop:a,accept:{"application/json":[".json"],"application/ld+json":[".jsonld"]},noClick:!0,maxFiles:1,maxSize:10*1024*1024});if(!r.offlineTD)return Q.jsxs("div",{...l(),className:"align-center flex h-full w-full justify-center justify-items-center bg-gray-500 text-center",children:[Q.jsx("input",{...u()}),f?Q.jsx("div",{className:"place-self-center text-4xl text-white",children:Q.jsx("p",{children:"Drop the files here ..."})}):Q.jsxs("div",{className:"place-self-center text-4xl text-white",children:['Start writing a new TD by clicking "Create"',Q.jsx("p",{children:"or drag and drop .json file here"}),Q.jsx("div",{className:"pt-4",children:Q.jsx("p",{className:"text-xl text-gray-600",children:"For linux operating systems, it is necessary to give the necessary file permissions. Run sudo xdg-open /path/to/the/folder"})})]})]});let c;n.forms&&(c=J_(n.forms).map((m,_)=>Q.jsx(AE,{form:m,propName:_},_)));const h=K_(n.id?{id:n.id}:{},n,i);return Q.jsxs("div",{className:"h-full w-full overflow-auto bg-gray-500 p-6",children:[Q.jsx(mse,{onUndo:e,onRedo:t}),n!==void 0&&Object.keys(n).length>0&&Q.jsxs("div",{children:[Q.jsx("div",{className:"text-3xl text-white",children:n.title?yT(n,"title",n["@context"]):Q.jsx(Q.Fragment,{})}),n.description?Q.jsx("div",{className:"pt-4 text-xl text-white",children:yT(n,"description",n["@context"])}):Q.jsx(Q.Fragment,{}),Q.jsx("div",{className:"pt-4",children:Q.jsx(g8,{...h})})]}),Q.jsxs("details",{className:"pt-8",children:[Q.jsxs("summary",{className:"flex cursor-pointer items-center justify-start",children:[Q.jsx("div",{className:"flex flex-grow",children:Q.jsx(Zo,{tooltip:Pg(),id:"forms",children:Q.jsx("h2",{className:"flex-grow p-1 text-2xl text-white",children:"Forms"})})}),Q.jsx(jn,{onClick:s,variant:"primary",type:"button",children:"Add Top Level Form"}),Q.jsx($g,{type:"thing",interaction:n,ref:o})]}),c&&Q.jsx("div",{className:"pt-4",children:Q.jsx("div",{className:"rounded-lg bg-gray-600 px-6 pb-4 pt-4",children:c})})]}),Q.jsx(tde,{}),Q.jsx(w1,{interaction:"Properties"}),Q.jsx(w1,{interaction:"Actions"}),Q.jsx(w1,{interaction:"Events"}),Q.jsx("div",{className:"h-10"})]})},Yde=e=>{var s;const t=Oe.useContext(nn),r=Xde(t.offlineTD.length);let n=0,i=0,o=0;if(Object.keys(t.parsedTD).length!==0){const a=t.parsedTD;n=a.properties?Object.keys(a.properties).length:0,i=a.actions?Object.keys(a.actions).length:0,o=a.events?Object.keys(a.events).length:0}return Q.jsx(Q.Fragment,{children:Q.jsx("footer",{className:"flex h-10 flex-col justify-center bg-blue-500 text-white",children:Q.jsxs("div",{className:"flex items-center px-2",children:[Q.jsxs("div",{className:"hidden grow items-center gap-2 md:flex",children:[Q.jsxs("div",{children:["Properties: ",n]}),Q.jsxs("div",{children:["| Actions: ",i]}),Q.jsxs("div",{children:["| Events: ",o]}),Q.jsxs("div",{children:["| Size: ",r]}),Q.jsxs("div",{children:["| Northbound State:"," ",((s=t.northboundConnection)==null?void 0:s.message)??"Unknown"]})]}),Q.jsxs("div",{className:"flex grow gap-2 md:hidden",children:[Q.jsxs("div",{children:["P: ",n]}),Q.jsxs("div",{children:["| A: ",i]}),Q.jsxs("div",{children:["| E: ",o]}),Q.jsxs("div",{className:"flex",children:[Q.jsxs("div",{children:["| ",r]}),t.isModified&&Q.jsx("div",{className:"md:hidden",children:"*"})]})]}),Q.jsxs("div",{className:"flex items-center gap-2",children:[t.isModified&&Q.jsx("div",{className:"hidden md:block",children:"You have unsaved changes - "}),Q.jsxs("div",{children:["v","0.7.0"]}),Q.jsx("a",{className:"rounded-full bg-black p-2",href:"https://github.com/eclipse/editdor",target:"_blank",rel:"noopener noreferrer",children:Q.jsx(YN,{size:16})})]})]})})})};function Xde(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(3)+" KiB":e<1073741824?(e/1048576).toFixed(3)+" MiB":(e/1073741824).toFixed(3)+" GiB"}const Qde=""+new URL("editdor-Cn4ts1-9.png",import.meta.url).href,XW=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState([]),[o,s]=Ye.useState(()=>!1);Oe.useEffect(()=>{i(Zde(r.offlineTD))},[r]),Oe.useImperativeHandle(t,()=>({openModal:()=>a(),close:()=>l()}));const a=()=>{s(!0)},l=()=>{s(!1)};return o?ns.createPortal(Q.jsx(is,{onCancel:l,onSubmit:()=>ehe(r.offlineTD,n),submitText:"Generate TD",children:n,title:"Generate TD From TM",description:"Please provide values to switch the placeholders with."}),document.getElementById("modal-root")):null}),Zde=e=>{try{let t=/{{/gi,r,n=[];for(;r=t.exec(e);)n.push(r.index);t=/}}/gi;let i=[];for(;r=t.exec(e);)i.push(r.index);let o=[];for(let c=0;c<n.length;c++)o.push(e.slice(n[c]+2,i[c]));o=[...new Set(o)];const s=o.map(c=>Q.jsxs("div",{className:"py-1",children:[Q.jsxs("label",{htmlFor:c,className:"pl-2 text-sm font-medium text-gray-400",children:[c,":"]}),Q.jsx("input",{type:"text",name:c,id:c,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"Enter a value..."})]},c));let a=[],l=[],u=[];try{let c=function(p,E){return E.map(y=>{const S=v[p].includes(y);return Q.jsxs("div",{className:"form-checkbox py-1 pl-2",children:[Q.jsx("input",{id:`${p}/${y}`,className:"form-checkbox-input",type:"checkbox",value:`#${p}/${y}`,disabled:S,defaultChecked:!0,title:S?"This field is required by the TM.":"","data-interaction":p}),Q.jsx("label",{className:"form-checkbox-label pl-2",htmlFor:`${p}/${y}`,children:`#${p}/${y}`})]},`${p}/${y}`)})};const h=JSON.parse(e),g=Object.keys(h.properties?h.properties:{}),m=Object.keys(h.actions?h.actions:{}),_=Object.keys(h.events?h.events:{}),v={properties:[],actions:[],events:[]};if(h["tm:required"])for(const p of h["tm:required"])p.startsWith("#properties/")?v.properties.push(p.split("/")[1]):p.startsWith("#actions/")?v.actions.push(p.split("/")[1]):p.startsWith("#events/")&&v.events.push(p.split("/")[1]);a=c("properties",g),l=c("actions",m),u=c("events",_)}catch{}const f=Q.jsx("h2",{className:"pb-2 pt-4 text-gray-400",children:"Also, select/unselect the interaction affordances you would like to see in the new TD."},"modalDividerText");return[...s,f,...a,...l,...u]}catch(t){return console.log(t),[]}},ehe=(e,t)=>{let r={};const n=[],i=[],o=[];for(const a of t)a.props.className.indexOf("form-checkbox")>-1&&document.getElementById(a.props.children[0].props.id).checked&&(a.props.children[0].props["data-interaction"]==="properties"?n.push(a.key.split("/")[1]):a.props.children[0].props["data-interaction"]==="actions"?i.push(a.key.split("/")[1]):a.props.children[0].props["data-interaction"]==="events"&&o.push(a.key.split("/")[1]));t=t.filter(a=>a.props.className.indexOf("form-checkbox")===-1&&a.key!=="modalDividerText"),t.forEach(a=>{const l=document.getElementById(a.key);return r[a.key]=l.value,l.value}),Object.keys(r).forEach(a=>{if(isNaN(Number(r[a])))e=e.split(`{{${a}}}`).join(r[a]);else{let l=e.split(`"{{${a}}}"`);l.length===1&&(l=e.split(`{{${a}}}`)),e=l.join(r[a])}});const s=JSON.parse(e);if(s.properties){const a=Object.keys(s.properties).filter(l=>n.includes(l)).reduce((l,u)=>(l[u]=s.properties[u],l),{});s.properties=a}if(s.actions){const a=Object.keys(s.actions).filter(l=>i.includes(l)).reduce((l,u)=>(l[u]=s.actions[u],l),{});s.actions=a}if(s.events){const a=Object.keys(s.events).filter(l=>o.includes(l)).reduce((l,u)=>(l[u]=s.events[u],l),{});s.events=a}delete s["@type"],delete s["tm:required"],localStorage.setItem("td",JSON.stringify(s,null,2)),window.open(`${window.location.origin+window.location.pathname}?localstorage`,"_blank")};XW.displayName="ConvertTmDialog";const the=(e,t=!0,r)=>{const n=e.split(`
`).map(i=>i.trim()).filter(i=>i.length>0);if(t){const i=n[0].split(r).map(o=>o.trim());return n.slice(1).map(o=>{const s=o.split(r).map(a=>a.trim());return i.reduce((a,l,u)=>(a[l]=s[u],a),{})})}else throw new Error("CSV parsing without headers is not supported")},rhe=e=>({...e.type?{type:e.type}:{},readOnly:!0,...e.title?{title:e.title}:{},...e.description?{description:e.description}:{},...e.minimum?{minimum:Number(e.minimum)}:{},...e.maximum?{maximum:Number(e.maximum)}:{},...e.unit?{unit:e.unit}:{},forms:[{op:"readproperty",href:e.href?e.href:"/","modbus:unitID":Number(e["modbus:unitID"])??1,"modbus:address":Number(e["modbus:address"]),"modbus:quantity":Number(e["modbus:quantity"])??1,...e["modbus:type"]?{"modbus:type":e["modbus:type"]}:{},"modbus:zeroBasedAddressing":!!e["modbus:zeroBasedAddressing"],"modbus:entity":e["modbus:entity"],...e["modbus:pollingTime"]?{"modbus:pollingTime":e["modbus:pollingTime"]}:{},...e["modbus:function"]?{"modbus:function":e["modbus:function"]}:{},"modbus:mostSignificantByte":!!e["modbus:mostSignificantByte"],"modbus:mostSignificantWord":!!e["modbus:mostSignificantWord"],...e["modbus:timeout"]?{"modbus:timeout":e["modbus:timeout"]}:{}}]}),nhe=e=>e.reduce((t,r)=>{if(!r.name||r.name.trim()==="")throw new Error("Error on CSV file: Row name is required");if(!r["modbus:address"]||r["modbus:address"].trim()==="")throw new Error(`Error on CSV file: "modbus:address" value is required for row: "${r.name}"`);if(!r["modbus:entity"]||r["modbus:entity"].trim()==="")throw new Error(`Error on CSV file: "modbus:entity" value is required for row: "${r.name}"`);return t[r.name]=rhe(r),t},{}),q1=({label:e,placeholder:t,id:r,type:n,autoFocus:i=!1})=>Q.jsxs("div",{className:"py-1",children:[Q.jsxs("label",{htmlFor:r,className:"pl-2 text-sm font-medium text-gray-400",children:[e,":"]}),Q.jsx("input",{name:r,id:r,className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:t,type:n,autoFocus:i})]}),QW=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState(()=>!1),[o,s]=Ye.useState("TD"),[a,l]=Ye.useState({}),[u,f]=Ye.useState(""),[c,h]=Ye.useState("Modbus TCP"),g=Ye.useRef(null);Oe.useImperativeHandle(t,()=>({openModal:()=>m(),close:()=>_()}));const m=()=>{i(!0)},_=()=>{f(""),h("Modbus TCP"),l({}),i(!1)},p=ihe(y=>{s(y.target.value)},o,c,h,u,f,g,l),E=(y,S)=>{var F,V,X,H,Z;let $=(F=document.getElementById("thing-id"))==null?void 0:F.value,T=(V=document.getElementById("thing-title"))==null?void 0:V.value,d=(X=document.getElementById("thing-base"))==null?void 0:X.value,x=(H=document.getElementById("thing-description"))==null?void 0:H.value,A=(Z=document.getElementById("thing-security"))==null?void 0:Z.value;var O={};O["@context"]="https://www.w3.org/2019/wot/td/v1",O.title=T!==""?T:"ediTDor Thing",y==="TM"&&(O["@type"]="tm:ThingModel"),$!==""&&(O.id=$!==""?$:"urn:editdor-thing-id"),u!==""&&d===""?O.base="modbus+tcp://{{IP}}:{{PORT}}":u===""&&d===""?O.base="/":O.base=d,x!==""&&(O.description=x);let C={};return C[`${A}_sc`]={scheme:A},O.securityDefinitions=C,O.security=`${A}_sc`,O.properties=S,O.actions={},O.events={},O};return n?ns.createPortal(Q.jsx(is,{onCancel:_,onSubmit:()=>{let y=E(o,a),S={};S[y.title]=y,r.updateLinkedTd(void 0),r.addLinkedTd(S),r.updateOfflineTD(JSON.stringify(y,null,2)),_()},children:p,submitText:o==="TD"?"Create TD":"Create TM",title:"Create a New TD/TM",description:"To quickly create a basis for your new Thing Description/Thing Model just fill out this little template and we'll get you going."}),document.getElementById("modal-root")):null}),ihe=(e,t,r,n,i,o,s,a)=>{const l=c=>{const h=c.target.files[0];if(h){o(h.name);const g=new FileReader;g.onload=m=>{var E;const _=(E=m.target)==null?void 0:E.result,v=the(_,!0,",");let p={};try{if(p=nhe(v),Object.keys(p).length===0)throw new Error("No valid properties found in the CSV file.")}catch(y){alert(y.message)}a(p)},g.onerror=m=>{var _;alert(`Reading file: ${(_=m.target)==null?void 0:_.error}`)},g.readAsText(h)}},u=()=>{s.current&&s.current.click()},f=()=>{const c="name,title,description,type,minimum,maximum,unit,href,modbus:unitID,modbus:address,modbus:quantity,modbus:type,modbus:zeroBasedAddressing,modbus:entity,modbus:pollingTime,modbus:function,modbus:mostSignificantByte,modbus:mostSignificantWord,modbus:timeout",h=new Blob([c],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(h),m=document.createElement("a");m.href=g,m.setAttribute("download","modbus_tcp_properties_template.csv"),document.body.appendChild(m),m.click(),document.body.removeChild(m)};return Q.jsxs(Q.Fragment,{children:[Q.jsx("label",{htmlFor:"type",className:"pl-2 text-sm font-medium text-gray-400",children:"Type:"}),Q.jsxs("div",{className:"relative",children:[Q.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"type",onChange:e,value:t,children:[Q.jsx("option",{value:"TD",children:"Thing Description"}),Q.jsx("option",{value:"TM",children:"Thing Model"})]}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Q.jsx(wf,{color:"#cacaca"})})]}),Q.jsx(q1,{label:"ID",placeholder:"urn:thing-id",id:"thing-id",type:"url",autoFocus:!0}),Q.jsx(q1,{label:"Title",placeholder:"Thing Title",id:"thing-title",type:"text",autoFocus:!1}),Q.jsx(q1,{label:"Base",placeholder:"http://www.example.com/thing-path",id:"thing-base",type:"url",autoFocus:!1}),Q.jsx("label",{htmlFor:"thing-description",className:"pl-2 text-sm font-medium text-gray-400",children:"Description:"}),Q.jsx("textarea",{id:"thing-description",rows:5,className:"w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 p-2 leading-tight text-white focus:border-blue-500 focus:outline-none sm:text-sm",placeholder:"A short description about this new Thing..."}),Q.jsx("label",{htmlFor:"thing-security",className:"pl-2 text-sm font-medium text-gray-400",children:"Security:"}),Q.jsxs("div",{className:"relative mb-8",children:[Q.jsxs("select",{className:"block w-full appearance-none rounded border-2 border-gray-600 bg-gray-600 px-4 py-3 pr-8 leading-tight text-white focus:border-blue-500 focus:outline-none",id:"thing-security",children:[Q.jsx("option",{children:"nosec"}),Q.jsx("option",{children:"basic"}),Q.jsx("option",{children:"digest"}),Q.jsx("option",{children:"bearer"}),Q.jsx("option",{children:"psk"}),Q.jsx("option",{children:"oauth2"}),Q.jsx("option",{children:"apikey"})]}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:Q.jsx(wf,{color:"#cacaca"})})]}),Q.jsx("div",{className:"pt-2",children:Q.jsx("label",{htmlFor:"submit-csv",className:"pl-2 text-sm font-medium text-gray-400",children:"Add properties in CSV format:"})}),Q.jsxs("div",{className:"flex flex-col justify-between rounded border-2 border-gray-600",children:[Q.jsxs("div",{className:"flex items-center p-2",children:[Q.jsx("label",{htmlFor:"protocol-option",className:"pl-2 pr-2 text-lg text-gray-400",children:"Protocol:"}),Q.jsxs("div",{className:"relative",children:[Q.jsxs("select",{id:"protocol-option",className:"block appearance-none rounded border-2 border-gray-600 bg-gray-600 px-1 py-2 pr-4 leading-tight text-white hover:border-blue-500 focus:outline-none",value:r,onChange:c=>n(c.target.value),children:[Q.jsx("option",{children:"Modbus TCP"}),Q.jsx("option",{disabled:!0,children:"More protocols will be supported in the future"})]}),Q.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-1 flex items-center px-2 text-gray-700",children:Q.jsx(wf,{color:"#cacaca"})})]})]}),Q.jsxs("div",{className:"flex items-center p-2",children:[Q.jsx(jn,{id:"download-template",onClick:f,variant:"primary",type:"button",children:"Download CSV Template"}),Q.jsx("input",{type:"file",accept:".csv",ref:s,onChange:l,style:{display:"none"}}),Q.jsx(jn,{id:"submit-csv",onClick:u,variant:"primary",type:"button",className:"ml-2",children:"Load a CSV File"}),Q.jsx("div",{className:"ml-2",children:Q.jsx("p",{className:"pl-2",children:i||"No file selected"})})]})]})]})};QW.displayName="CreateTdDialog";const ZW=Oe.forwardRef((e,t)=>{const[r,n]=Oe.useState(!1),[i,o]=Oe.useState(""),[s,a]=Oe.useState(""),[l,u]=Oe.useState("/"),[f,c]=Oe.useState(""),[h,g]=Oe.useState(""),[m,_]=Oe.useState("");Oe.useImperativeHandle(t,()=>({openModal:()=>v(),close:()=>p()}));const v=()=>{n(!0),o(da("northbound")),a(da("southbound")),u(da("valuePath"))},p=async()=>{n(!1)},E=()=>{y1(i,"northbound"),y1(s,"southbound"),y1(l,"valuePath"),p()},y=Oe.useCallback(d=>{const x=d.target.value;a(x),x===""||UO(x)?c(""):c("Please enter a valid URL (e.g., http://localhost:8080)")},[a,c]),S=Oe.useCallback(d=>{const x=d.target.value;o(x),x===""||UO(x)?g(""):g("Please enter a valid URL (e.g., http://localhost:8080)")},[o,g]),$=Oe.useCallback(d=>{const x=d.target.value;x===""?(u(x),_("")):x.startsWith("/")?x.includes(" ")?_("Path cannot contain spaces"):(u(x),_("")):_("Path must start with '/'")},[u,_]);let T=Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Third Party Service Configuration"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx("h2",{className:"py-2 text-justify text-gray-400",children:'If you want to interact with non-HTTP devices via a gateway, you can send it TDs to its southbound endpoint with a "POST" request. Similarly, you can retrieve TDs from its northbound endpoint. The id of the initial TD is used to correlate both.'}),Q.jsx(bo,{label:Q.jsx(Zo,{tooltip:{html:"The target northbound URL should point to a server that implements the Discovery Specifications's Things API. If a valid target URL is provided, the editTDor will use it for all interactions with the Thing.",href:""},id:"settings-target-url-northbound-info",children:"Target URL Northbound:"}),placeholder:"e.g.: http://localhost:8080/",id:"settings-target-url-field-northbound",type:"text",value:i,autoFocus:!1,onChange:S,className:`${h?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),h&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:h}),Q.jsx(bo,{label:Q.jsx(Zo,{tooltip:{html:"The target southbound URL",href:""},id:"settings-target-url-southbound-info",children:"Target URL Southbound:"}),placeholder:"e.g.: http://localhost:8080/",id:"settings-target-url-field-southbound",type:"text",value:s,autoFocus:!1,onChange:y,className:`${f?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),f&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:f})]})]}),Q.jsxs("div",{className:"my-4 rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Path to value"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx("h2",{className:"py-2 text-justify text-gray-400",children:'If the gateway is wrapping the payloads in a JSON object, please provide the path to the value as a JSON pointer. For a JSON like {"foo": {"bar":"baz"}}, where baz is the value according the Data Schema of the TD, you should enter /foo/bar.'}),Q.jsx(bo,{label:Q.jsx(Zo,{tooltip:{html:"JSON pointer path to the actual value in wrapped payloads. Use forward slashes to navigate nested objects.",href:""},id:"settingsPathToValueInfo",children:"JSON Pointer Path:"}),placeholder:"/foo/bar",id:"settingsPathToValueField",type:"text",value:l,autoFocus:!1,onChange:$,className:`${m?"border-red-500":"border-gray-600"} w-full rounded-md border-2 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm`}),m&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:m})]})]})]});return r?ns.createPortal(Q.jsx(is,{hasSubmit:!0,onCancel:p,cancelText:"Cancel",submitText:"Save Changes",onSubmit:E,children:T,title:"Settings",description:"Change the ediTDors configuration to your needs"}),document.getElementById("modal-root")):null});ZW.displayName="SettingsDialog";var eG={},pj=class tG{constructor(t,r=new Map,n=0){this.prefix=t,this._existing=r,this.counter=n}clone(){const{prefix:t,_existing:r,counter:n}=this;return new tG(t,new Map(r),n)}getId(t){const r=t&&this._existing.get(t);if(r)return r;const n=this.prefix+this.counter;return this.counter++,t&&this._existing.set(t,n),n}hasId(t){return this._existing.has(t)}getOldIds(){return[...this._existing.keys()]}};(function(e,t){if(e.setImmediate)return;var r=1,n={},i=!1,o=e.document,s;function a(E){typeof E!="function"&&(E=new Function(""+E));for(var y=new Array(arguments.length-1),S=0;S<y.length;S++)y[S]=arguments[S+1];var $={callback:E,args:y};return n[r]=$,s(r),r++}function l(E){delete n[E]}function u(E){var y=E.callback,S=E.args;switch(S.length){case 0:y();break;case 1:y(S[0]);break;case 2:y(S[0],S[1]);break;case 3:y(S[0],S[1],S[2]);break;default:y.apply(t,S);break}}function f(E){if(i)setTimeout(f,0,E);else{var y=n[E];if(y){i=!0;try{u(y)}finally{l(E),i=!1}}}}function c(){s=function(E){process.nextTick(function(){f(E)})}}function h(){if(e.postMessage&&!e.importScripts){var E=!0,y=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=y,E}}function g(){var E="setImmediate$"+Math.random()+"$",y=function(S){S.source===e&&typeof S.data=="string"&&S.data.indexOf(E)===0&&f(+S.data.slice(E.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),s=function(S){e.postMessage(E+S,"*")}}function m(){var E=new MessageChannel;E.port1.onmessage=function(y){var S=y.data;f(S)},s=function(y){E.port2.postMessage(y)}}function _(){var E=o.documentElement;s=function(y){var S=o.createElement("script");S.onreadystatechange=function(){f(y),S.onreadystatechange=null,E.removeChild(S),S=null},E.appendChild(S)}}function v(){s=function(E){setTimeout(f,0,E)}}var p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,{}.toString.call(e.process)==="[object process]"?c():h()?g():e.MessageChannel?m():o&&"onreadystatechange"in o.createElement("script")?_():v(),p.setImmediate=a,p.clearImmediate=l})(typeof self>"u"?js:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const V1=self.crypto||self.msCrypto;var ZE=class{constructor(t){if(!(V1&&V1.subtle))throw new Error("crypto.subtle not found.");if(t==="sha256")this.algorithm={name:"SHA-256"};else if(t==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${t}".`);this._content=""}update(t){this._content+=t}async digest(){const t=new TextEncoder().encode(this._content),r=new Uint8Array(await V1.subtle.digest(this.algorithm,t));let n="";for(let i=0;i<r.length;++i)n+=r[i].toString(16).padStart(2,"0");return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var rG=class{constructor(t){this.current=t.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<t.length;++r)this.dir.set(t[r],!0)}hasNext(){return!this.done}next(){const{current:t,dir:r}=this,n=t.slice();let i=null,o=0;const s=t.length;for(let a=0;a<s;++a){const l=t[a],u=r.get(l);(i===null||l>i)&&(u&&a>0&&l>t[a-1]||!u&&a<s-1&&l>t[a+1])&&(i=l,o=a)}if(i===null)this.done=!0;else{const a=r.get(i)?o-1:o+1;t[o]=t[a],t[a]=i;for(const l of t)l>i&&r.set(l,!r.get(l))}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const ohe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",H1=ohe+"langString",W1="http://www.w3.org/2001/XMLSchema#string",Qs="NamedNode",Bc="BlankNode",Kw="Literal",nF="DefaultGraph",gh={};(()=>{const e="(?:<([^:]+:[^>]*)>)",r="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",n=r+"0-9-·̀-ͯ‿-⁀",o="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",s='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',a="(?:\\^\\^"+e+")",u="(?:"+s+"(?:"+a+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",f="[ \\t]+",c="[ \\t]*",h="(?:"+e+"|"+o+")"+f,g=e+f,m="(?:"+e+"|"+o+"|"+u+")"+c,_="(?:\\.|(?:(?:"+e+"|"+o+")"+c+"\\.))";gh.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,gh.empty=new RegExp("^"+c+"$"),gh.quad=new RegExp("^"+c+h+g+m+_+c+"$")})();var mj=class Jw{static parse(t){const r=[],n={},i=t.split(gh.eoln);let o=0;for(const s of i){if(o++,gh.empty.test(s))continue;const a=s.match(gh.quad);if(a===null)throw new Error("N-Quads parse error on line "+o+".");const l={subject:null,predicate:null,object:null,graph:null};if(a[1]!==void 0?l.subject={termType:Qs,value:a[1]}:l.subject={termType:Bc,value:a[2]},l.predicate={termType:Qs,value:a[3]},a[4]!==void 0?l.object={termType:Qs,value:a[4]}:a[5]!==void 0?l.object={termType:Bc,value:a[5]}:(l.object={termType:Kw,value:void 0,datatype:{termType:Qs}},a[7]!==void 0?l.object.datatype.value=a[7]:a[8]!==void 0?(l.object.datatype.value=H1,l.object.language=a[8]):l.object.datatype.value=W1,l.object.value=che(a[6])),a[9]!==void 0?l.graph={termType:Qs,value:a[9]}:a[10]!==void 0?l.graph={termType:Bc,value:a[10]}:l.graph={termType:nF,value:""},!(l.graph.value in n))n[l.graph.value]=[l],r.push(l);else{let u=!0;const f=n[l.graph.value];for(const c of f)if(she(c,l)){u=!1;break}u&&(f.push(l),r.push(l))}}return r}static serialize(t){Array.isArray(t)||(t=Jw.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(Jw.serializeQuad(n));return r.sort().join("")}static serializeQuadComponents(t,r,n,i){let o="";return t.termType===Qs?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,n.termType===Qs?o+=`<${n.value}>`:n.termType===Bc?o+=n.value:(o+=`"${lhe(n.value)}"`,n.datatype.value===H1?n.language&&(o+=`@${n.language}`):n.datatype.value!==W1&&(o+=`^^<${n.datatype.value}>`)),i.termType===Qs?o+=` <${i.value}>`:i.termType===Bc&&(o+=` ${i.value}`),o+=` .
`,o}static serializeQuad(t){return Jw.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(t){const r=[],n={"blank node":Bc,IRI:Qs,literal:Kw};for(const i in t)t[i].forEach(s=>{const a={};for(const l in s){const u=s[l],f={termType:n[u.type],value:u.value};f.termType===Kw&&(f.datatype={termType:Qs},"datatype"in u&&(f.datatype.value=u.datatype),"language"in u?("datatype"in u||(f.datatype.value=H1),f.language=u.language):"datatype"in u||(f.datatype.value=W1)),a[l]=f}i==="@default"?a.graph={termType:nF,value:""}:a.graph={termType:i.startsWith("_:")?Bc:Qs,value:i},r.push(a)});return r}};function she(e,t){return!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)||!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)?!1:e.object.termType!==Kw?!0:e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const ahe=/["\\\n\r]/g;function lhe(e){return e.replace(ahe,function(t){switch(t){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const uhe=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function che(e){return e.replace(uhe,function(t,r,n,i){if(r)switch(r){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(i)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const iF=pj,fhe=ZE,dhe=rG,oF=mj;var nG=class{constructor({createMessageDigest:t=()=>new fhe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new iF("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(t){this.deepIterations=new Map,this.quads=t;for(const l of t)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const l of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:r});const o=[...r.keys()].sort(),s=[];for(const l of o){const u=r.get(l);if(u.length>1){s.push(u);continue}const f=u[0];this.canonicalIssuer.getId(f)}for(const l of s){const u=[];for(const f of l){if(this.canonicalIssuer.hasId(f))continue;const c=new iF("_:b");c.getId(f);const h=await this.hashNDegreeQuads(f,c);u.push(h)}u.sort(hhe);for(const f of u){const c=f.issuer.getOldIds();for(const h of c)this.canonicalIssuer.getId(h)}}const a=[];for(const l of this.quads){const u=oF.serializeQuadComponents(this._componentWithCanonicalId(l.subject),l.predicate,this._componentWithCanonicalId(l.object),this._componentWithCanonicalId(l.graph));a.push(u)}return a.sort(),a.join("")}async hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push(oF.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=await o.digest(),n.hash}async hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}async hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=await this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new dhe(o.get(a));let c=0;for(;f.hasNext();){const h=f.next();++c%3===0&&await this._yield();let g=r.clone(),m="";const _=[];let v=!1;for(const p of h)if(this.canonicalIssuer.hasId(p)?m+=this.canonicalIssuer.getId(p):(g.hasId(p)||_.push(p),m+=g.getId(p)),l.length!==0&&m>l){v=!0;break}if(!v){for(const p of _){const E=await this.hashNDegreeQuads(p,g);if(m+=g.getId(p),m+=`<${E.hash}>`,g=E.issuer,l.length!==0&&m>l){v=!0;break}}v||(l.length===0||m<l)&&(l=m,u=g)}}i.update(l),r=u}return{hash:await i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i)++o%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:t,issuer:r,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=await this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}async _addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=await this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId(t){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}async _yield(){return new Promise(t=>setImmediate(t))}};function hhe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const phe=ZE,mhe=nG;var ghe=class extends mhe{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new phe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}async createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;let o=0;for(const s of i){let a,l;if(s.subject.termType==="BlankNode"&&s.subject.value!==t)l=s.subject.value,a="p";else if(s.object.termType==="BlankNode"&&s.object.value!==t)l=s.object.value,a="r";else continue;++o%100===0&&await this._yield();const u=await this.hashRelatedBlankNode(l,s,r,a),f=n.get(u);f?f.push(l):n.set(u,[l])}return n}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const sF=pj,vhe=ZE,yhe=rG,aF=mj;var iG=class{constructor({createMessageDigest:t=()=>new vhe("sha256"),canonicalIdMap:r=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new sF("_:c14n",r),this.createMessageDigest=t,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(t){this.deepIterations=new Map,this.quads=t;for(const a of t)this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph});const r=new Map,n=[...this.blankNodeInfo.keys()];for(const a of n)this._hashAndTrackBlankNode({id:a,hashToBlankNodes:r});const i=[...r.keys()].sort(),o=[];for(const a of i){const l=r.get(a);if(l.length>1){o.push(l);continue}const u=l[0];this.canonicalIssuer.getId(u)}for(const a of o){const l=[];for(const u of a){if(this.canonicalIssuer.hasId(u))continue;const f=new sF("_:b");f.getId(u);const c=this.hashNDegreeQuads(u,f);l.push(c)}l.sort(whe);for(const u of l){const f=u.issuer.getOldIds();for(const c of f)this.canonicalIssuer.getId(c)}}const s=[];for(const a of this.quads){const l=aF.serializeQuadComponents(this._componentWithCanonicalId({component:a.subject}),a.predicate,this._componentWithCanonicalId({component:a.object}),this._componentWithCanonicalId({component:a.graph}));s.push(l)}return s.sort(),s.join("")}hashFirstDegreeQuads(t){const r=[],n=this.blankNodeInfo.get(t),i=n.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(t,s.subject,"subject"),a.object=this.modifyFirstDegreeComponent(t,s.object,"object"),a.graph=this.modifyFirstDegreeComponent(t,s.graph,"graph"),r.push(aF.serializeQuad(a))}r.sort();const o=this.createMessageDigest();for(const s of r)o.update(s);return n.hash=o.digest(),n.hash}hashRelatedBlankNode(t,r,n,i){let o;this.canonicalIssuer.hasId(t)?o=this.canonicalIssuer.getId(t):n.hasId(t)?o=n.getId(t):o=this.blankNodeInfo.get(t).hash;const s=this.createMessageDigest();return s.update(i),i!=="g"&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()}hashNDegreeQuads(t,r){const n=this.deepIterations.get(t)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(t,n+1);const i=this.createMessageDigest(),o=this.createHashToRelated(t,r),s=[...o.keys()].sort();for(const a of s){i.update(a);let l="",u;const f=new yhe(o.get(a));for(;f.hasNext();){const c=f.next();let h=r.clone(),g="";const m=[];let _=!1;for(const v of c)if(this.canonicalIssuer.hasId(v)?g+=this.canonicalIssuer.getId(v):(h.hasId(v)||m.push(v),g+=h.getId(v)),l.length!==0&&g>l){_=!0;break}if(!_){for(const v of m){const p=this.hashNDegreeQuads(v,h);if(g+=h.getId(v),g+=`<${p.hash}>`,h=p.issuer,l.length!==0&&g>l){_=!0;break}}_||(l.length===0||g<l)&&(l=g,u=h)}}i.update(l),r=u}return{hash:i.digest(),issuer:r}}modifyFirstDegreeComponent(t,r){return r.termType!=="BlankNode"?r:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return`<${t.predicate.value}>`}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i)this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:t,issuer:r,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:t,issuer:r,hashToRelated:n});return n}_hashAndTrackBlankNode({id:t,hashToBlankNodes:r}){const n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}_addBlankNodeQuadInfo({quad:t,component:r}){if(r.termType!=="BlankNode")return;const n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}_addRelatedBlankNodeHash({quad:t,component:r,position:n,id:i,issuer:o,hashToRelated:s}){if(!(r.termType==="BlankNode"&&r.value!==i))return;const a=r.value,l=this.hashRelatedBlankNode(a,t,o,n),u=s.get(l);u?u.push(a):s.set(l,[a])}_componentWithCanonicalId({component:t}){return t.termType==="BlankNode"&&!t.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}:t}};function whe(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const bhe=ZE,_he=iG;var Ehe=class extends _he{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new bhe("sha1")}modifyFirstDegreeComponent(t,r,n){return r.termType!=="BlankNode"?r:n==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:r.value===t?"_:a":"_:z"}}getRelatedPredicate(t){return t.predicate.value}createHashToRelated(t,r){const n=new Map,i=this.blankNodeInfo.get(t).quads;for(const o of i){let s,a;if(o.subject.termType==="BlankNode"&&o.subject.value!==t)a=o.subject.value,s="p";else if(o.object.termType==="BlankNode"&&o.object.value!==t)a=o.object.value,s="r";else continue;const l=this.hashRelatedBlankNode(a,o,r,s),u=n.get(l);u?u.push(a):n.set(l,[a])}return n}};const She={},$he=Object.freeze(Object.defineProperty({__proto__:null,default:She},Symbol.toStringTag,{value:"Module"})),The=FP($he);(function(e){const t=nG,r=ghe,n=iG,i=Ehe;let o;try{o=The}catch{}function s(a){return Array.isArray(a)?a:e.NQuads.legacyDatasetToQuads(a)}e.NQuads=mj,e.IdentifierIssuer=pj,e._rdfCanonizeNative=function(a){return a&&(o=a),o},e.canonize=async function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((f,c)=>o.canonize(u,l,(h,g)=>h?c(h):f(g)))}if(l.algorithm==="URDNA2015")return new t(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},e._canonizeSync=function(a,l){const u=s(a);if(l.useNative){if(!o)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return o.canonizeSync(u,l)}if(l.algorithm==="URDNA2015")return new n(l).main(u);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(l).main(u)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(eG);var gj=eG;const Us={};var as=Us;Us.isArray=Array.isArray;Us.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";Us.isDouble=e=>Us.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);Us.isEmptyObject=e=>Us.isObject(e)&&Object.keys(e).length===0;Us.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]";Us.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);Us.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";Us.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]";Us.isUndefined=e=>typeof e>"u";const Lf=as,Vl={};var Ql=Vl;Vl.isSubject=e=>Lf.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)?Object.keys(e).length>1||!("@id"in e):!1;Vl.isSubjectReference=e=>Lf.isObject(e)&&Object.keys(e).length===1&&"@id"in e;Vl.isValue=e=>Lf.isObject(e)&&"@value"in e;Vl.isList=e=>Lf.isObject(e)&&"@list"in e;Vl.isGraph=e=>Lf.isObject(e)&&"@graph"in e&&Object.keys(e).filter(t=>t!=="@id"&&t!=="@index").length===1;Vl.isSimpleGraph=e=>Vl.isGraph(e)&&!("@id"in e);Vl.isBlankNode=e=>{if(Lf.isObject(e)){if("@id"in e){const t=e["@id"];return!Lf.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return!1};var Vs=class extends Error{constructor(t="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(t),this.name=r,this.message=t,this.details=n}};const dg=Ql,Bi=as,oG=gj.IdentifierIssuer,xhe=Vs,Ahe=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,Ohe=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,Phe=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,Nhe=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,Rhe=/^@[a-zA-Z]+$/,lF={headers:{accept:"application/ld+json, application/json"}},Kr={};var Hs=Kr;Kr.IdentifierIssuer=oG;Kr.REGEX_BCP47=Ahe;Kr.REGEX_KEYWORD=Rhe;Kr.clone=function(e){if(e&&typeof e=="object"){let t;if(Bi.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=Kr.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,Kr.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(Kr.clone(r))}else if(Bi.isObject(e)){t={};for(const r in e)t[r]=Kr.clone(e[r])}else t=e.toString();return t}return e};Kr.asArray=function(e){return Array.isArray(e)?e:[e]};Kr.buildHeaders=(e={})=>{if(Object.keys(e).some(r=>r.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+lF.headers.accept+'" is supported.');return Object.assign({Accept:lF.headers.accept},e)};Kr.parseLinkHeader=e=>{const t={},r=e.match(Ohe);for(let n=0;n<r.length;++n){let i=r[n].match(Phe);if(!i)continue;const o={target:i[1]},s=i[2];for(;i=Nhe.exec(s);)o[i[1]]=i[2]===void 0?i[3]:i[2];const a=o.rel||"";Array.isArray(t[a])?t[a].push(o):t.hasOwnProperty(a)?t[a]=[t[a],o]:t[a]=o}return t};Kr.validateTypeValue=(e,t)=>{if(!Bi.isString(e)&&!(Bi.isArray(e)&&e.every(r=>Bi.isString(r)))){if(t&&Bi.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Kr.asArray(e["@default"]).every(r=>Bi.isString(r)))return}throw new xhe('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}};Kr.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!Bi.isArray(r)||r.length>0}return!1};Kr.hasValue=(e,t,r)=>{if(Kr.hasProperty(e,t)){let n=e[t];const i=dg.isList(n);if(Bi.isArray(n)||i){i&&(n=n["@list"]);for(let o=0;o<n.length;++o)if(Kr.compareValues(r,n[o]))return!0}else if(!Bi.isArray(r))return Kr.compareValues(r,n)}return!1};Kr.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(Bi.isArray(r)){r.length===0&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)Kr.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&Kr.hasValue(e,t,r);!Bi.isArray(e[t])&&(!i||n.propertyIsArray)&&(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r};Kr.getValues=(e,t)=>[].concat(e[t]||[]);Kr.removeProperty=(e,t)=>{delete e[t]};Kr.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=Kr.getValues(e,t).filter(o=>!Kr.compareValues(o,r));i.length===0?Kr.removeProperty(e,t):i.length===1&&!n.propertyIsArray?e[t]=i[0]:e[t]=i};Kr.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new oG("_:b");return Yw(r,e)};Kr.compareValues=(e,t)=>e===t||dg.isValue(e)&&dg.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]?!0:Bi.isObject(e)&&"@id"in e&&Bi.isObject(t)&&"@id"in t?e["@id"]===t["@id"]:!1;Kr.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;function Yw(e,t){if(Bi.isArray(t))for(let r=0;r<t.length;++r)t[r]=Yw(e,t[r]);else if(dg.isList(t))t["@list"]=Yw(e,t["@list"]);else if(Bi.isObject(t)){dg.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];i!=="@id"&&(t[i]=Yw(e,t[i]))}}return t}const Uc="http://www.w3.org/1999/02/22-rdf-syntax-ns#",cy="http://www.w3.org/2001/XMLSchema#";var vj={LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF_LIST:Uc+"List",RDF_FIRST:Uc+"first",RDF_REST:Uc+"rest",RDF_NIL:Uc+"nil",RDF_TYPE:Uc+"type",RDF_JSON_LITERAL:Uc+"JSON",RDF_LANGSTRING:Uc+"langString",XSD_BOOLEAN:cy+"boolean",XSD_DOUBLE:cy+"double",XSD_INTEGER:cy+"integer",XSD_STRING:cy+"string"},G1,uF;function sG(){return uF||(uF=1,G1=class{constructor(){this._requests={}}wrapLoader(t){const r=this;return r._loader=t,function(){return r.add.apply(r,arguments)}}async add(t){let r=this._requests[t];if(r)return Promise.resolve(r);r=this._requests[t]=this._loader(t);try{return await r}finally{delete this._requests[t]}}}),G1}const eS=as,Ui={};var Sc=Ui;Ui.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};Ui.parse=(e,t)=>{const r={},n=Ui.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=i[o]===void 0?null:i[o];return(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80")&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Ui.removeDotSegments(r.path),r};Ui.prependBase=(e,t)=>{if(e===null||Ui.isAbsolute(t))return t;(!e||eS.isString(e))&&(e=Ui.parse(e||""));const r=Ui.parse(t),n={protocol:e.protocol||""};if(r.authority!==null)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,r.path==="")n.path=e.path,r.query!==null?n.query=r.query:n.query=e.query;else{if(r.path.indexOf("/")===0)n.path=r.path;else{let o=e.path;o=o.substr(0,o.lastIndexOf("/")+1),(o.length>0||e.authority)&&o.substr(-1)!=="/"&&(o+="/"),o+=r.path,n.path=o}n.query=r.query}r.path!==""&&(n.path=Ui.removeDotSegments(n.path));let i=n.protocol;return n.authority!==null&&(i+="//"+n.authority),i+=n.path,n.query!==null&&(i+="?"+n.query),r.fragment!==null&&(i+="#"+r.fragment),i===""&&(i="./"),i};Ui.removeBase=(e,t)=>{if(e===null)return t;(!e||eS.isString(e))&&(e=Ui.parse(e||""));let r="";if(e.href!==""?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),t.indexOf(r)!==0)return t;const n=Ui.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),s=n.fragment||n.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let l=0;l<i.length;++l)a+="../"}return a+=o.join("/"),n.query!==null&&(a+="?"+n.query),n.fragment!==null&&(a+="#"+n.fragment),a===""&&(a="./"),a};Ui.removeDotSegments=e=>{if(e.length===0)return"";const t=e.split("/"),r=[];for(;t.length>0;){const n=t.shift(),i=t.length===0;if(n==="."){i&&r.push("");continue}if(n===".."){r.pop(),i&&r.push("");continue}r.push(n)}return e[0]==="/"&&r.length>0&&r[0]!==""&&r.unshift(""),r.length===1&&r[0]===""?"/":r.join("/")};const Ihe=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Ui.isAbsolute=e=>eS.isString(e)&&Ihe.test(e);Ui.isRelative=e=>eS.isString(e);const{parseLinkHeader:jhe,buildHeaders:khe}=Hs,{LINK_HEADER_CONTEXT:Che}=vj,Op=Vs,Dhe=sG(),{prependBase:Mhe}=Sc,Lhe=/(^|(\r\n))link:/i;var Fhe=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=khe(t),new Dhe().wrapLoader(i);async function i(o){if(o.indexOf("http:")!==0&&o.indexOf("https:")!==0)throw new Op('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});if(e&&o.indexOf("https")!==0)throw new Op(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:o});let s;try{s=await Bhe(r,o,t)}catch(c){throw new Op("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:c})}if(s.status>=400)throw new Op("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});let a={contextUrl:null,documentUrl:o,document:s.response},l=null;const u=s.getResponseHeader("Content-Type");let f;if(Lhe.test(s.getAllResponseHeaders())&&(f=s.getResponseHeader("Link")),f&&u!=="application/ld+json"){const c=jhe(f),h=c[Che];if(Array.isArray(h))throw new Op("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});h&&(a.contextUrl=h.target),l=c.alternate,l&&l.type=="application/ld+json"&&!(u||"").match(/^application\/(\w*\+)?json$/)&&(a=await i(Mhe(o,l.target)))}return a}};function Bhe(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((i,o)=>{n.onload=()=>i(n),n.onerror=s=>o(s),n.open("GET",t,!0);for(const s in r)n.setRequestHeader(s,r[s]);n.send()})}const Uhe=Fhe,yj={};var zhe=yj;yj.setupDocumentLoaders=function(e){typeof XMLHttpRequest<"u"&&(e.documentLoaders.xhr=Uhe,e.useDocumentLoader("xhr"))};yj.setupGlobals=function(e){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var K1,cF;function qhe(){return cF||(cF=1,K1=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),K1}var Vhe=qr;qr.Node=Ff;qr.create=qr;function qr(e){var t=this;if(t instanceof qr||(t=new qr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}qr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};qr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};qr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};qr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Whe(this,arguments[e]);return this.length};qr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Ghe(this,arguments[e]);return this.length};qr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};qr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};qr.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};qr.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};qr.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};qr.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};qr.prototype.map=function(e,t){t=t||this;for(var r=new qr,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};qr.prototype.mapReverse=function(e,t){t=t||this;for(var r=new qr,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};qr.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};qr.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};qr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};qr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};qr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};qr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new qr;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};qr.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Hhe(this,i,r[n]);return o};qr.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Hhe(e,t,r){var n=t===e.head?new Ff(r,null,t,e):new Ff(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Whe(e,t){e.tail=new Ff(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Ghe(e,t){e.head=new Ff(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Ff(e,t,r,n){if(!(this instanceof Ff))return new Ff(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{qhe()(qr)}catch{}const Khe=Vhe,tf=Symbol("max"),Al=Symbol("length"),Sd=Symbol("lengthCalculator"),Em=Symbol("allowStale"),mf=Symbol("maxAge"),$l=Symbol("dispose"),fF=Symbol("noDisposeOnSet"),ui=Symbol("lruList"),ia=Symbol("cache"),aG=Symbol("updateAgeOnGet"),J1=()=>1;class Jhe{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[tf]=t.max||1/0;const r=t.length||J1;if(this[Sd]=typeof r!="function"?J1:r,this[Em]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[mf]=t.maxAge||0,this[$l]=t.dispose,this[fF]=t.noDisposeOnSet||!1,this[aG]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[tf]=t||1/0,Pp(this)}get max(){return this[tf]}set allowStale(t){this[Em]=!!t}get allowStale(){return this[Em]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[mf]=t,Pp(this)}get maxAge(){return this[mf]}set lengthCalculator(t){typeof t!="function"&&(t=J1),t!==this[Sd]&&(this[Sd]=t,this[Al]=0,this[ui].forEach(r=>{r.length=this[Sd](r.value,r.key),this[Al]+=r.length})),Pp(this)}get lengthCalculator(){return this[Sd]}get length(){return this[Al]}get itemCount(){return this[ui].length}rforEach(t,r){r=r||this;for(let n=this[ui].tail;n!==null;){const i=n.prev;dF(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[ui].head;n!==null;){const i=n.next;dF(this,t,n,r),n=i}}keys(){return this[ui].toArray().map(t=>t.key)}values(){return this[ui].toArray().map(t=>t.value)}reset(){this[$l]&&this[ui]&&this[ui].length&&this[ui].forEach(t=>this[$l](t.key,t.value)),this[ia]=new Map,this[ui]=new Khe,this[Al]=0}dump(){return this[ui].map(t=>__(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ui]}set(t,r,n){if(n=n||this[mf],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,o=this[Sd](r,t);if(this[ia].has(t)){if(o>this[tf])return vh(this,this[ia].get(t)),!1;const l=this[ia].get(t).value;return this[$l]&&(this[fF]||this[$l](t,l.value)),l.now=i,l.maxAge=n,l.value=r,this[Al]+=o-l.length,l.length=o,this.get(t),Pp(this),!0}const s=new Yhe(t,r,o,i,n);return s.length>this[tf]?(this[$l]&&this[$l](t,r),!1):(this[Al]+=s.length,this[ui].unshift(s),this[ia].set(t,this[ui].head),Pp(this),!0)}has(t){if(!this[ia].has(t))return!1;const r=this[ia].get(t).value;return!__(this,r)}get(t){return Y1(this,t,!0)}peek(t){return Y1(this,t,!1)}pop(){const t=this[ui].tail;return t?(vh(this,t),t.value):null}del(t){vh(this,this[ia].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[ia].forEach((t,r)=>Y1(this,r,!1))}}const Y1=(e,t,r)=>{const n=e[ia].get(t);if(n){const i=n.value;if(__(e,i)){if(vh(e,n),!e[Em])return}else r&&(e[aG]&&(n.value.now=Date.now()),e[ui].unshiftNode(n));return i.value}},__=(e,t)=>{if(!t||!t.maxAge&&!e[mf])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[mf]&&r>e[mf]},Pp=e=>{if(e[Al]>e[tf])for(let t=e[ui].tail;e[Al]>e[tf]&&t!==null;){const r=t.prev;vh(e,t),t=r}},vh=(e,t)=>{if(t){const r=t.value;e[$l]&&e[$l](r.key,r.value),e[Al]-=r.length,e[ia].delete(r.key),e[ui].removeNode(t)}};class Yhe{constructor(t,r,n,i,o){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}}const dF=(e,t,r,n)=>{let i=r.value;__(e,i)&&(vh(e,r),e[Em]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var lG=Jhe;const Xhe=lG,Qhe=10;var Zhe=class{constructor({document:t}){this.document=t,this.cache=new Xhe({max:Qhe})}getProcessed(t){return this.cache.get(t)}setProcessed(t,r){this.cache.set(t,r)}};const{isArray:pP,isObject:Sm,isString:E_}=as,{asArray:epe}=Hs,{prependBase:mP}=Sc,em=Vs,hF=Zhe,pF=10;var tpe=class{constructor({sharedCache:t}){this.perOpCache=new Map,this.sharedCache=t}async resolve({activeCtx:t,context:r,documentLoader:n,base:i,cycles:o=new Set}){r&&Sm(r)&&r["@context"]&&(r=r["@context"]),r=epe(r);const s=[];for(const a of r){if(E_(a)){let f=this._get(a);f||(f=await this._resolveRemoteContext({activeCtx:t,url:a,documentLoader:n,base:i,cycles:o})),pP(f)?s.push(...f):s.push(f);continue}if(a===null){s.push(new hF({document:null}));continue}Sm(a)||rpe(r);const l=JSON.stringify(a);let u=this._get(l);u||(u=new hF({document:a}),this._cacheResolvedContext({key:l,resolved:u,tag:"static"})),s.push(u)}return s}_get(t){let r=this.perOpCache.get(t);if(!r){const n=this.sharedCache.get(t);n&&(r=n.get("static"),r&&this.perOpCache.set(t,r))}return r}_cacheResolvedContext({key:t,resolved:r,tag:n}){if(this.perOpCache.set(t,r),n!==void 0){let i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}async _resolveRemoteContext({activeCtx:t,url:r,documentLoader:n,base:i,cycles:o}){r=mP(i,r);const{context:s,remoteDoc:a}=await this._fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:o});i=a.documentUrl||r,gP({context:s,base:i});const l=await this.resolve({activeCtx:t,context:s,documentLoader:n,base:i,cycles:o});return this._cacheResolvedContext({key:r,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:t,url:r,documentLoader:n,cycles:i}){if(i.size>pF)throw new em("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:pF});if(i.has(r))throw new em("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:t.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:r});i.add(r);let o,s;try{s=await n(r),o=s.document||null,E_(o)&&(o=JSON.parse(o))}catch(a){throw new em(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${r}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:r,cause:a})}if(!Sm(o))throw new em(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${r}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:r});return"@context"in o?o={"@context":o["@context"]}:o={"@context":{}},s.contextUrl&&(pP(o["@context"])||(o["@context"]=[o["@context"]]),o["@context"].push(s.contextUrl)),{context:o,remoteDoc:s}}};function rpe(e){throw new em("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function gP({context:e,base:t}){if(!e)return;const r=e["@context"];if(E_(r)){e["@context"]=mP(t,r);return}if(pP(r)){for(let n=0;n<r.length;++n){const i=r[n];if(E_(i)){r[n]=mP(t,i);continue}Sm(i)&&gP({context:{"@context":i},base:t})}return}if(Sm(r))for(const n in r)gP({context:r[n],base:t})}var npe=gj.NQuads;const wj=Vs,{isArray:ipe}=as,{asArray:uG}=Hs,Yo={};var Qg=Yo;Yo.defaultEventHandler=null;Yo.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?Yo.safeEventHandler:[],e.eventHandler?uG(e.eventHandler):[],Yo.defaultEventHandler?Yo.defaultEventHandler:[]);return t.length===0?null:t};Yo.handleEvent=({event:e,options:t})=>{cG({event:e,handlers:t.eventHandler})};function cG({event:e,handlers:t}){let r=!0;for(let n=0;r&&n<t.length;++n){r=!1;const i=t[n];if(ipe(i))r=cG({event:e,handlers:i});else if(typeof i=="function")i({event:e,next:()=>{r=!0}});else if(typeof i=="object")e.code in i?i[e.code]({event:e,next:()=>{r=!0}}):r=!0;else throw new wj("Invalid event handler.","jsonld.InvalidEventHandler",{event:e})}return r}const ope=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Yo.safeEventHandler=function({event:t,next:r}){if(t.level==="warning"&&ope.has(t.code))throw new wj("Safe mode validation error.","jsonld.ValidationError",{event:t});r()};Yo.logEventHandler=function({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t}),r()};Yo.logWarningEventHandler=function({event:t,next:r}){t.level==="warning"&&console.warn(`WARNING: ${t.message}`,{event:t}),r()};Yo.unhandledEventHandler=function({event:t}){throw new wj("No handler for event.","jsonld.UnhandledEvent",{event:t})};Yo.setDefaultEventHandler=function({eventHandler:e}={}){Yo.defaultEventHandler=e?uG(e):null};const mF=Hs,Kt=Vs,{isArray:fG,isObject:Mu,isString:_o,isUndefined:spe}=as,{isAbsolute:xf,isRelative:ape,prependBase:$m}=Sc,{handleEvent:yh}=Qg,{REGEX_BCP47:lpe,REGEX_KEYWORD:Xw,asArray:dG,compareShortestLeast:upe}=Hs,fy=new Map,cpe=1e4,wn={};var Qf=wn;wn.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if(Mu(t)&&"@context"in t&&fG(t["@context"])&&(t=t["@context"]),dG(t).length===0)return e;const a=[],l=[({event:h,next:g})=>{a.push(h),g()}];r.eventHandler&&l.push(r.eventHandler);const u=r;r={...r,eventHandler:l};const f=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});Mu(f[0].document)&&typeof f[0].document["@propagate"]=="boolean"&&(n=f[0].document["@propagate"]);let c=e;!n&&!c.previousContext&&(c=c.clone(),c.previousContext=e);for(const h of f){let{document:g}=h;if(e=c,g===null){if(!i&&Object.keys(e.protected).length!==0)throw new Kt("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});c=e=wn.getInitialContext(r).clone();continue}const m=h.getProcessed(e);if(m){if(u.eventHandler)for(const v of m.events)yh({event:v,options:u});c=e=m.context;continue}if(Mu(g)&&"@context"in g&&(g=g["@context"]),!Mu(g))throw new Kt("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:g});c=c.clone();const _=new Map;if("@version"in g){if(g["@version"]!==1.1)throw new Kt("Unsupported JSON-LD version: "+g["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:g});if(e.processingMode&&e.processingMode==="json-ld-1.0")throw new Kt("@version: "+g["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:g});c.processingMode="json-ld-1.1",c["@version"]=g["@version"],_.set("@version",!0)}if(c.processingMode=c.processingMode||e.processingMode,"@base"in g){let v=g["@base"];if(!(v===null||xf(v)))if(ape(v))v=$m(c["@base"],v);else throw new Kt('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});c["@base"]=v,_.set("@base",!0)}if("@vocab"in g){const v=g["@vocab"];if(v===null)delete c["@vocab"];else if(_o(v)){if(!xf(v)&&wn.processingMode(c,1))throw new Kt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});{const p=rh(c,v,{vocab:!0,base:!0},void 0,void 0,r);xf(p)||r.eventHandler&&yh({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:p}},options:r}),c["@vocab"]=p}}else throw new Kt('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});_.set("@vocab",!0)}if("@language"in g){const v=g["@language"];if(v===null)delete c["@language"];else if(_o(v))v.match(lpe)||r.eventHandler&&yh({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:v}},options:r}),c["@language"]=v.toLowerCase();else throw new Kt('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:g});_.set("@language",!0)}if("@direction"in g){const v=g["@direction"];if(e.processingMode==="json-ld-1.0")throw new Kt("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:g});if(v===null)delete c["@direction"];else{if(v!=="ltr"&&v!=="rtl")throw new Kt('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:g});c["@direction"]=v}_.set("@direction",!0)}if("@propagate"in g){const v=g["@propagate"];if(e.processingMode==="json-ld-1.0")throw new Kt("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:g});if(typeof v!="boolean")throw new Kt("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});_.set("@propagate",!0)}if("@import"in g){const v=g["@import"];if(e.processingMode==="json-ld-1.0")throw new Kt("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:g});if(!_o(v))throw new Kt("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const p=await r.contextResolver.resolve({activeCtx:e,context:v,documentLoader:r.documentLoader,base:r.base});if(p.length!==1)throw new Kt("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const E=p[0].getProcessed(e);if(E)g=E;else{const y=p[0].document;if("@import"in y)throw new Kt("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const S in y)g.hasOwnProperty(S)||(g[S]=y[S]);p[0].setProcessed(e,g)}_.set("@import",!0)}_.set("@protected",g["@protected"]||!1);for(const v in g)if(wn.createTermDefinition({activeCtx:c,localCtx:g,term:v,defined:_,options:r,overrideProtected:i}),Mu(g[v])&&"@context"in g[v]){const p=g[v]["@context"];let E=!0;if(_o(p)){const y=$m(r.base,p);o.has(y)?E=!1:o.add(y)}if(E)try{await wn.process({activeCtx:c.clone(),localCtx:g[v]["@context"],overrideProtected:!0,options:r,cycles:o})}catch{throw new Kt("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:g[v]["@context"],term:v})}}h.setProcessed(e,{context:c,events:a})}return c};wn.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new Kt("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}n.set(r,!1);let s;if(t.hasOwnProperty(r)&&(s=t[r]),r==="@type"&&Mu(s)&&(s["@container"]||"@set")==="@set"&&wn.processingMode(e,1.1)){const g=["@container","@id","@protected"],m=Object.keys(s);if(m.length===0||m.some(_=>!g.includes(_)))throw new Kt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(wn.isKeyword(r))throw new Kt("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(Xw)){i.eventHandler&&yh({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:r}},options:i});return}else if(r==="")throw new Kt("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const a=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let l=!1;if((_o(s)||s===null)&&(l=!0,s={"@id":s}),!Mu(s))throw new Kt("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];wn.processingMode(e,1.1)&&f.push("@context","@direction","@index","@nest","@prefix","@protected");for(const g in s)if(!f.includes(g))throw new Kt("Invalid JSON-LD syntax; a term definition must not contain "+g,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const c=r.indexOf(":");if(u._termHasColon=c>0,"@reverse"in s){if("@id"in s)throw new Kt("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new Kt("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const g=s["@reverse"];if(!_o(g))throw new Kt("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(g.match(Xw)){i.eventHandler&&yh({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:g}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}const m=rh(e,g,{vocab:!0,base:!1},t,n,i);if(!xf(m))throw new Kt("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=m,u.reverse=!0}else if("@id"in s){let g=s["@id"];if(g&&!_o(g))throw new Kt("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(g===null)u["@id"]=null;else if(!wn.isKeyword(g)&&g.match(Xw)){i.eventHandler&&yh({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:g}},options:i}),a?e.mappings.set(r,a):e.mappings.delete(r);return}else if(g!==r){if(g=rh(e,g,{vocab:!0,base:!1},t,n,i),!xf(g)&&!wn.isKeyword(g))throw new Kt("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const m=new Map(n).set(r,!0);if(rh(e,r,{vocab:!0,base:!1},t,m,i)!==g)throw new Kt("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}u["@id"]=g,u._prefix=l&&!u._termHasColon&&g.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u))if(u._termHasColon){const g=r.substr(0,c);if(t.hasOwnProperty(g)&&wn.createTermDefinition({activeCtx:e,localCtx:t,term:g,defined:n,options:i}),e.mappings.has(g)){const m=r.substr(c+1);u["@id"]=e.mappings.get(g)["@id"]+m}else u["@id"]=r}else if(r==="@type")u["@id"]=r;else{if(!("@vocab"in e))throw new Kt("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((s["@protected"]===!0||n.get("@protected")===!0&&s["@protected"]!==!1)&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in s){let g=s["@type"];if(!_o(g))throw new Kt("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(g==="@json"||g==="@none"){if(wn.processingMode(e,1))throw new Kt(`Invalid JSON-LD syntax; an @context @type value must not be "${g}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if(g!=="@id"&&g!=="@vocab"){if(g=rh(e,g,{vocab:!0,base:!1},t,n,i),!xf(g))throw new Kt("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(g.indexOf("_:")===0)throw new Kt("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=g}if("@container"in s){const g=_o(s["@container"])?[s["@container"]]:s["@container"]||[],m=["@list","@set","@index","@language"];let _=!0;const v=g.includes("@set");if(wn.processingMode(e,1.1)){if(m.push("@graph","@id","@type"),g.includes("@list")){if(g.length!==1)throw new Kt("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(g.includes("@graph")){if(g.some(p=>p!=="@graph"&&p!=="@id"&&p!=="@index"&&p!=="@set"))throw new Kt("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else _&=g.length<=(v?2:1);if(g.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new Kt("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else _&=!fG(s["@container"]),_&=g.length<=1;if(_&=g.every(p=>m.includes(p)),_&=!(v&&g.includes("@list")),!_)throw new Kt("Invalid JSON-LD syntax; @context @container value must be one of the following: "+m.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!g.every(p=>["@index","@set"].includes(p)))throw new Kt("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=g}if("@index"in s){if(!("@container"in s)||!u["@container"].includes("@index"))throw new Kt(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!_o(s["@index"])||s["@index"].indexOf("@")===0)throw new Kt(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=s["@index"]}if("@context"in s&&(u["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let g=s["@language"];if(g!==null&&!_o(g))throw new Kt("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});g!==null&&(g=g.toLowerCase()),u["@language"]=g}if("@prefix"in s){if(r.match(/:|\//))throw new Kt("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(wn.isKeyword(u["@id"]))throw new Kt("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(typeof s["@prefix"]=="boolean")u._prefix=s["@prefix"]===!0;else throw new Kt("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in s){const g=s["@direction"];if(g!==null&&g!=="ltr"&&g!=="rtl")throw new Kt('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=g}if("@nest"in s){const g=s["@nest"];if(!_o(g)||g!=="@nest"&&g.indexOf("@")===0)throw new Kt("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=g}// disallow aliasing @context and @preserve
const h=u["@id"];if(h==="@context"||h==="@preserve")throw new Kt("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(a&&a.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!vP(a,u)))throw new Kt("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r})};wn.expandIri=(e,t,r,n)=>rh(e,t,r,void 0,void 0,n);function rh(e,t,r,n,i,o){if(t===null||!_o(t)||wn.isKeyword(t))return t;if(t.match(Xw))return null;if(n&&n.hasOwnProperty(t)&&i.get(t)!==!0&&wn.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),r=r||{},r.vocab){const a=e.mappings.get(t);if(a===null)return null;if(Mu(a)&&"@id"in a)return a["@id"]}const s=t.indexOf(":");if(s>0){const a=t.substr(0,s),l=t.substr(s+1);if(a==="_"||l.indexOf("//")===0)return t;n&&n.hasOwnProperty(a)&&wn.createTermDefinition({activeCtx:e,localCtx:n,term:a,defined:i,options:o});const u=e.mappings.get(a);if(u&&u._prefix)return u["@id"]+l;if(xf(t))return t}if(r.vocab&&"@vocab"in e)t=e["@vocab"]+t;else if(r.base){let a,l;"@base"in e?e["@base"]?(l=$m(o.base,e["@base"]),a=$m(l,t)):(l=e["@base"],a=t):(l=o.base,a=$m(o.base,t)),t=a}return t}wn.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=fy.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:a,revertToPreviousContext:l,protected:{}};return fy.size===cpe&&fy.clear(),fy.set(t,n),n;function i(){const u=this;if(u.inverse)return u.inverse;const f=u.inverse={},c=u.fastCurieMap={},h={},g=(u["@language"]||"@none").toLowerCase(),m=u["@direction"],_=u.mappings,v=[..._.keys()].sort(upe);for(const p of v){const E=_.get(p);if(E===null)continue;let y=E["@container"]||"@none";if(y=[].concat(y).sort().join(""),E["@id"]===null)continue;const S=dG(E["@id"]);for(const $ of S){let T=f[$];const d=wn.isKeyword($);if(T)!d&&!E._termHasColon&&h[$].push(p);else if(f[$]=T={},!d&&!E._termHasColon){h[$]=[p];const x={iri:$,terms:h[$]};$[0]in c?c[$[0]].push(x):c[$[0]]=[x]}if(T[y]||(T[y]={"@language":{},"@type":{},"@any":{}}),T=T[y],s(p,T["@any"],"@none"),E.reverse)s(p,T["@type"],"@reverse");else if(E["@type"]==="@none")s(p,T["@any"],"@none"),s(p,T["@language"],"@none"),s(p,T["@type"],"@none");else if("@type"in E)s(p,T["@type"],E["@type"]);else if("@language"in E&&"@direction"in E){const x=E["@language"],A=E["@direction"];x&&A?s(p,T["@language"],`${x}_${A}`.toLowerCase()):x?s(p,T["@language"],x.toLowerCase()):A?s(p,T["@language"],`_${A}`):s(p,T["@language"],"@null")}else"@language"in E?s(p,T["@language"],(E["@language"]||"@null").toLowerCase()):"@direction"in E?E["@direction"]?s(p,T["@language"],`_${E["@direction"]}`):s(p,T["@language"],"@none"):m?(s(p,T["@language"],`_${m}`),s(p,T["@language"],"@none"),s(p,T["@type"],"@none")):(s(p,T["@language"],g),s(p,T["@language"],"@none"),s(p,T["@type"],"@none"))}}for(const p in c)o(c,p,1);return f}function o(u,f,c){const h=u[f],g=u[f]={};let m,_;for(const v of h)m=v.iri,c>=m.length?_="":_=m[c],_ in g?g[_].push(v):g[_]=[v];for(const v in g)v!==""&&o(g,v,c+1)}function s(u,f,c){f.hasOwnProperty(c)||(f[c]=u)}function a(){const u={};return u.mappings=mF.clone(this.mappings),u.clone=this.clone,u.inverse=null,u.getInverse=this.getInverse,u.protected=mF.clone(this.protected),this.previousContext&&(u.previousContext=this.previousContext.clone()),u.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(u["@base"]=this["@base"]),"@language"in this&&(u["@language"]=this["@language"]),"@vocab"in this&&(u["@vocab"]=this["@vocab"]),u}function l(){return this.previousContext?this.previousContext.clone():this}};wn.getContextValue=(e,t,r)=>{if(t===null)return r==="@context"?void 0:null;if(e.mappings.has(t)){const n=e.mappings.get(t);if(spe(r))return n;if(n.hasOwnProperty(r))return n[r]}if(r==="@language"&&r in e||r==="@direction"&&r in e)return e[r];if(r!=="@context")return null};wn.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():e.processingMode==="json-ld-1.0";wn.isKeyword=e=>{if(!_o(e)||e[0]!=="@")return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function vP(e,t){if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!vP(e[o],t[o]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const o in e){let s=e[o],a=t[o];if(o==="@container"&&Array.isArray(s)&&Array.isArray(a)&&(s=s.slice().sort(),a=a.slice().sort()),!vP(s,a))return!1}return!0}const An=Vs,{isArray:Is,isObject:ys,isEmptyObject:yP,isString:Mi,isUndefined:S_}=as,{isList:X1,isValue:wP,isGraph:fpe,isSubject:dpe}=Ql,{expandIri:Xn,getContextValue:Ko,isKeyword:bP,process:Tm,processingMode:Qw}=Qf,{isAbsolute:Zw}=Sc,{REGEX_BCP47:hG,REGEX_KEYWORD:hpe,addValue:Vo,asArray:ra,getValues:ppe,validateTypeValue:mpe}=Hs,{handleEvent:As}=Qg,zu={};var gpe=zu;zu.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null})=>{if(r==null)return null;if(t==="@default"&&(n=Object.assign({},n,{isFrame:!1})),!Is(r)&&!ys(r))return!i&&(t===null||Xn(e,t,{vocab:!0},n)==="@graph")?(n.eventHandler&&As({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:r}},options:n}),null):gG({activeCtx:e,activeProperty:t,value:r,options:n});if(Is(r)){let m=[];const _=Ko(e,t,"@container")||[];i=i||_.includes("@list");for(let v=0;v<r.length;++v){let p=await zu.expand({activeCtx:e,activeProperty:t,element:r[v],options:n,insideIndex:o,typeScopedContext:s});i&&Is(p)&&(p={"@list":p}),p!==null&&(Is(p)?m=m.concat(p):m.push(p))}return m}const a=Xn(e,t,{vocab:!0},n),l=Ko(e,t,"@context");s=s||(e.previousContext?e:null);let u=Object.keys(r).sort(),f=!o;if(f&&s&&u.length<=2&&!u.includes("@context"))for(const m of u){const _=Xn(s,m,{vocab:!0},n);if(_==="@value"){f=!1,e=s;break}if(_==="@id"&&u.length===1){f=!1;break}}f&&(e=e.revertToPreviousContext()),S_(l)||(e=await Tm({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await Tm({activeCtx:e,localCtx:r["@context"],options:n})),s=e;let c=null;for(const m of u)if(Xn(e,m,{vocab:!0},n)==="@type"){c=c||m;const v=r[m],p=Array.isArray(v)?v.length>1?v.slice().sort():v:[v];for(const E of p){const y=Ko(s,E,"@context");S_(y)||(e=await Tm({activeCtx:e,localCtx:y,options:n,propagate:!1}))}}let h={};await mG({activeCtx:e,activeProperty:t,expandedActiveProperty:a,element:r,expandedParent:h,options:n,insideList:i,typeKey:c,typeScopedContext:s}),u=Object.keys(h);let g=u.length;if("@value"in h){if("@type"in h&&("@language"in h||"@direction"in h))throw new An('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});let m=g-1;if("@type"in h&&(m-=1),"@index"in h&&(m-=1),"@language"in h&&(m-=1),"@direction"in h&&(m-=1),m!==0)throw new An('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:h});const _=h["@value"]===null?[]:ra(h["@value"]),v=ppe(h,"@type");if(!(Qw(e,1.1)&&v.includes("@json")&&v.length===1))if(_.length===0)n.eventHandler&&As({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:h}},options:n}),h=null;else{if(!_.every(p=>Mi(p)||yP(p))&&"@language"in h)throw new An("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:h});if(!v.every(p=>Zw(p)&&!(Mi(p)&&p.indexOf("_:")===0)||yP(p)))throw new An('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:h})}}else if("@type"in h&&!Is(h["@type"]))h["@type"]=[h["@type"]];else if("@set"in h||"@list"in h){if(g>1&&!(g===2&&"@index"in h))throw new An('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:h});"@set"in h&&(h=h["@set"],u=Object.keys(h),g=u.length)}else g===1&&"@language"in h&&(n.eventHandler&&As({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:h}},options:n}),h=null);return ys(h)&&!n.keepFreeFloatingNodes&&!i&&(t===null||a==="@graph"||(Ko(e,t,"@container")||[]).includes("@graph"))&&(h=pG({value:h,count:g,options:n})),h};function pG({value:e,count:t,options:r}){if(t===0||"@value"in e||"@list"in e||t===1&&"@id"in e){if(r.eventHandler){let n,i;t===0?(n="empty object",i="Dropping empty object."):"@value"in e?(n="object with only @value",i="Dropping object with only @value."):"@list"in e?(n="object with only @list",i="Dropping object with only @list."):t===1&&"@id"in e&&(n="object with only @id",i="Dropping object with only @id."),As({event:{type:["JsonLdEvent"],code:n,level:"warning",message:i,details:{value:e}},options:r})}return null}return e}async function mG({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:s,typeKey:a,typeScopedContext:l}){const u=Object.keys(n).sort(),f=[];let c;const h=n[a]&&Xn(e,Is(n[a])?n[a][0]:n[a],{vocab:!0},{...o,typeExpansion:!0})==="@json";for(const g of u){let m=n[g],_;if(g==="@context")continue;const v=Xn(e,g,{vocab:!0},o);if(v===null||!(Zw(v)||bP(v))){o.eventHandler&&As({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:g,expandedProperty:v}},options:o});continue}if(bP(v)){if(r==="@reverse")throw new An("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:m});if(v in i&&v!=="@included"&&v!=="@type")throw new An("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if(v==="@id"){if(!Mi(m)){if(!o.isFrame)throw new An('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:m});if(ys(m)){if(!yP(m))throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:m})}else if(Is(m)){if(!m.every(S=>Mi(S)))throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:m})}else throw new An('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:m})}Vo(i,"@id",ra(m).map(S=>{if(Mi(S)){const $=Xn(e,S,{base:!0},o);return o.eventHandler&&($===null?As(S===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:S}},options:o}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:S}},options:o}):Zw($)||As({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:S,expandedId:$}},options:o})),$}return S}),{propertyIsArray:o.isFrame});continue}if(v==="@type"){ys(m)&&(m=Object.fromEntries(Object.entries(m).map(([S,$])=>[Xn(l,S,{vocab:!0}),ra($).map(T=>Xn(l,T,{base:!0,vocab:!0},{...o,typeExpansion:!0}))]))),mpe(m,o.isFrame),Vo(i,"@type",ra(m).map(S=>{if(Mi(S)){const $=Xn(l,S,{base:!0,vocab:!0},{...o,typeExpansion:!0});return $!=="@json"&&!Zw($)&&o.eventHandler&&As({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:S}},options:o}),$}return S}),{propertyIsArray:!!o.isFrame});continue}if(v==="@included"&&Qw(e,1.1)){const S=ra(await zu.expand({activeCtx:e,activeProperty:t,element:m,options:o}));if(!S.every($=>dpe($)))throw new An("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:m});Vo(i,"@included",S,{propertyIsArray:!0});continue}if(v==="@graph"&&!(ys(m)||Is(m)))throw new An('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:m});if(v==="@value"){c=m,h&&Qw(e,1.1)?i["@value"]=m:Vo(i,"@value",m,{propertyIsArray:o.isFrame});continue}if(v==="@language"){if(m===null)continue;if(!Mi(m)&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:m});m=ra(m).map(S=>Mi(S)?S.toLowerCase():S);for(const S of m)Mi(S)&&!S.match(hG)&&o.eventHandler&&As({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:S}},options:o});Vo(i,"@language",m,{propertyIsArray:o.isFrame});continue}if(v==="@direction"){if(!Mi(m)&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:m});m=ra(m);for(const S of m)if(Mi(S)&&S!=="ltr"&&S!=="rtl")throw new An('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:m});Vo(i,"@direction",m,{propertyIsArray:o.isFrame});continue}if(v==="@index"){if(!Mi(m))throw new An('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:m});Vo(i,"@index",m);continue}if(v==="@reverse"){if(!ys(m))throw new An('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:m});if(_=await zu.expand({activeCtx:e,activeProperty:"@reverse",element:m,options:o}),"@reverse"in _)for(const $ in _["@reverse"])Vo(i,$,_["@reverse"][$],{propertyIsArray:!0});let S=i["@reverse"]||null;for(const $ in _){if($==="@reverse")continue;S===null&&(S=i["@reverse"]={}),Vo(S,$,[],{propertyIsArray:!0});const T=_[$];for(let d=0;d<T.length;++d){const x=T[d];if(wP(x)||X1(x))throw new An('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});Vo(S,$,x,{propertyIsArray:!0})}}continue}if(v==="@nest"){f.push(g);continue}let p=e;const E=Ko(e,g,"@context");S_(E)||(p=await Tm({activeCtx:e,localCtx:E,propagate:!0,overrideProtected:!0,options:o}));const y=Ko(e,g,"@container")||[];if(y.includes("@language")&&ys(m)){const S=Ko(p,g,"@direction");_=vpe(p,m,S,o)}else if(y.includes("@index")&&ys(m)){const S=y.includes("@graph"),$=Ko(p,g,"@index")||"@index",T=$!=="@index"&&Xn(e,$,{vocab:!0},o);_=await Q1({activeCtx:p,options:o,activeProperty:g,value:m,asGraph:S,indexKey:$,propertyIndex:T})}else if(y.includes("@id")&&ys(m)){const S=y.includes("@graph");_=await Q1({activeCtx:p,options:o,activeProperty:g,value:m,asGraph:S,indexKey:"@id"})}else if(y.includes("@type")&&ys(m))_=await Q1({activeCtx:p.revertToPreviousContext(),options:o,activeProperty:g,value:m,asGraph:!1,indexKey:"@type"});else{const S=v==="@list";if(S||v==="@set"){let $=t;S&&r==="@graph"&&($=null),_=await zu.expand({activeCtx:p,activeProperty:$,element:m,options:o,insideList:S})}else Ko(e,g,"@type")==="@json"?_={"@type":"@json","@value":m}:_=await zu.expand({activeCtx:p,activeProperty:g,element:m,options:o,insideList:!1})}if(!(_===null&&v!=="@value")){if(v!=="@list"&&!X1(_)&&y.includes("@list")&&(_={"@list":ra(_)}),y.includes("@graph")&&!y.some(S=>S==="@id"||S==="@index")){if(_=ra(_),o.isFrame||(_=_.filter(S=>{const $=Object.keys(S).length;return pG({value:S,count:$,options:o})!==null})),_.length===0)continue;_=_.map(S=>({"@graph":ra(S)}))}if(p.mappings.has(g)&&p.mappings.get(g).reverse){const S=i["@reverse"]=i["@reverse"]||{};_=ra(_);for(let $=0;$<_.length;++$){const T=_[$];if(wP(T)||X1(T))throw new An('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:_});Vo(S,v,T,{propertyIsArray:!0})}continue}Vo(i,v,_,{propertyIsArray:!0})}}if("@value"in i&&!(i["@type"]==="@json"&&Qw(e,1.1))){if((ys(c)||Is(c))&&!o.isFrame)throw new An('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:c})}for(const g of f){const m=Is(n[g])?n[g]:[n[g]];for(const _ of m){if(!ys(_)||Object.keys(_).some(v=>Xn(e,v,{vocab:!0},o)==="@value"))throw new An("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:_});await mG({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:_,expandedParent:i,options:o,insideList:s,typeScopedContext:l,typeKey:a})}}}function gG({activeCtx:e,activeProperty:t,value:r,options:n}){if(r==null)return null;const i=Xn(e,t,{vocab:!0},n);if(i==="@id")return Xn(e,r,{base:!0},n);if(i==="@type")return Xn(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});const o=Ko(e,t,"@type");if((o==="@id"||i==="@graph")&&Mi(r)){const a=Xn(e,r,{base:!0},n);return a===null&&r.match(hpe)&&n.eventHandler&&As({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:n}),{"@id":a}}if(o==="@vocab"&&Mi(r))return{"@id":Xn(e,r,{vocab:!0,base:!0},n)};if(bP(i))return r;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(Mi(r)){const a=Ko(e,t,"@language");a!==null&&(s["@language"]=a);const l=Ko(e,t,"@direction");l!==null&&(s["@direction"]=l)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function vpe(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const s of o){const a=Xn(e,s,{vocab:!0},n);let l=t[s];Is(l)||(l=[l]);for(const u of l){if(u===null)continue;if(!Mi(u))throw new An("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const f={"@value":u};a!=="@none"&&(s.match(hG)||n.eventHandler&&As({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n}),f["@language"]=s.toLowerCase()),r&&(f["@direction"]=r),i.push(f)}}return i}async function Q1({activeCtx:e,options:t,activeProperty:r,value:n,asGraph:i,indexKey:o,propertyIndex:s}){const a=[],l=Object.keys(n).sort(),u=o==="@type";for(let f of l){if(u){const g=Ko(e,f,"@context");S_(g)||(e=await Tm({activeCtx:e,localCtx:g,propagate:!1,options:t}))}let c=n[f];Is(c)||(c=[c]),c=await zu.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0});let h;s?f==="@none"?h="@none":h=gG({activeCtx:e,activeProperty:o,value:f,options:t}):h=Xn(e,f,{vocab:!0},t),o==="@id"?f=Xn(e,f,{base:!0},t):u&&(f=h);for(let g of c){if(i&&!fpe(g)&&(g={"@graph":[g]}),o==="@type")h==="@none"||(g["@type"]?g["@type"]=[f].concat(g["@type"]):g["@type"]=[f]);else{if(wP(g)&&!["@language","@type","@index"].includes(o))throw new An(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${o}".`,"jsonld.SyntaxError",{code:"invalid value object",value:g});s?h!=="@none"&&Vo(g,s,h,{propertyIsArray:!0,prependValue:!0}):h!=="@none"&&!(o in g)&&(g[o]=f)}a.push(g)}}return a}const{isKeyword:vG}=Qf,Ba=Ql,Z1=as,qa=Hs,ype=Vs,Qi={};var tS=Qi;Qi.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new qa.IdentifierIssuer("_:b"),n={"@default":{}};return Qi.createNodeMap(e,n,"@default",r),Qi.mergeNodeMaps(n)};Qi.createNodeMap=(e,t,r,n,i,o)=>{if(Z1.isArray(e)){for(const u of e)Qi.createNodeMap(u,t,r,n,void 0,o);return}if(!Z1.isObject(e)){o&&o.push(e);return}if(Ba.isValue(e)){if("@type"in e){let u=e["@type"];u.indexOf("_:")===0&&(e["@type"]=u=n.getId(u))}o&&o.push(e);return}else if(o&&Ba.isList(e)){const u=[];Qi.createNodeMap(e["@list"],t,r,n,i,u),o.push({"@list":u});return}if("@type"in e){const u=e["@type"];for(const f of u)f.indexOf("_:")===0&&n.getId(f)}Z1.isUndefined(i)&&(i=Ba.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const s=t[r],a=s[i]=s[i]||{};a["@id"]=i;const l=Object.keys(e).sort();for(let u of l){if(u==="@id")continue;if(u==="@reverse"){const c={"@id":i},h=e["@reverse"];for(const g in h){const m=h[g];for(const _ of m){let v=_["@id"];Ba.isBlankNode(_)&&(v=n.getId(v)),Qi.createNodeMap(_,t,r,n,v),qa.addValue(s[v],g,c,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(u==="@graph"){i in t||(t[i]={}),Qi.createNodeMap(e[u],t,i,n);continue}if(u==="@included"){Qi.createNodeMap(e[u],t,r,n);continue}if(u!=="@type"&&vG(u)){if(u==="@index"&&u in a&&(e[u]!==a[u]||e[u]["@id"]!==a[u]["@id"]))throw new ype("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[u]=e[u];continue}const f=e[u];if(u.indexOf("_:")===0&&(u=n.getId(u)),f.length===0){qa.addValue(a,u,[],{propertyIsArray:!0});continue}for(let c of f)if(u==="@type"&&(c=c.indexOf("_:")===0?n.getId(c):c),Ba.isSubject(c)||Ba.isSubjectReference(c)){if("@id"in c&&!c["@id"])continue;const h=Ba.isBlankNode(c)?n.getId(c["@id"]):c["@id"];qa.addValue(a,u,{"@id":h},{propertyIsArray:!0,allowDuplicate:!1}),Qi.createNodeMap(c,t,r,n,h)}else if(Ba.isValue(c))qa.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1});else if(Ba.isList(c)){const h=[];Qi.createNodeMap(c["@list"],t,r,n,i,h),c={"@list":h},qa.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}else Qi.createNodeMap(c,t,r,n,i),qa.addValue(a,u,c,{propertyIsArray:!0,allowDuplicate:!1})}};Qi.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const s of Object.keys(i).sort())if(vG(s)&&s!=="@type")o[s]=qa.clone(i[s]);else for(const a of i[s])qa.addValue(o,s,qa.clone(a),{propertyIsArray:!0,allowDuplicate:!1})}return t};Qi.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if(n==="@default")continue;const i=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const s=o["@graph"];for(const a of Object.keys(i).sort()){const l=i[a];Ba.isSubjectReference(l)||s.push(l)}}return t};const{isSubjectReference:wpe}=Ql,{createMergedNodeMap:bpe}=tS,yG={};var _pe=yG;yG.flatten=e=>{const t=bpe(e),r=[],n=Object.keys(t).sort();for(let i=0;i<n.length;++i){const o=t[n[i]];wpe(o)||r.push(o)}return r};const _P=Vs,e$=Ql,tm=as,{REGEX_BCP47:gF,addValue:vF}=Hs,{handleEvent:yF}=Qg,{RDF_LIST:Epe,RDF_FIRST:t$,RDF_REST:r$,RDF_NIL:n$,RDF_TYPE:Spe,RDF_JSON_LITERAL:$pe,XSD_BOOLEAN:wF,XSD_DOUBLE:bF,XSD_INTEGER:_F,XSD_STRING:i$}=vj,wG={};var Tpe=wG;wG.fromRDF=async(e,t)=>{const{useRdfType:r=!1,useNativeTypes:n=!1,rdfDirection:i=null}=t,o={},s={"@default":o},a={};if(i){if(i==="compound-literal")throw new _P("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if(i!=="i18n-datatype")throw new _P("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i})}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;c in s||(s[c]={}),c!=="@default"&&!(c in o)&&(o[c]={"@id":c});const h=s[c],g=f.subject.value,m=f.predicate.value,_=f.object;g in h||(h[g]={"@id":g});const v=h[g],p=_.termType.endsWith("Node");if(p&&!(_.value in h)&&(h[_.value]={"@id":_.value}),m===Spe&&!r&&p){vF(v,"@type",_.value,{propertyIsArray:!0});continue}const E=xpe(_,n,i,t);if(vF(v,m,E,{propertyIsArray:!0}),p)if(_.value===n$){const y=h[_.value];"usages"in y||(y.usages=[]),y.usages.push({node:v,property:m,value:E})}else _.value in a?a[_.value]=!1:a[_.value]={node:v,property:m,value:E}}for(const f in s){const c=s[f];if(!(n$ in c))continue;const h=c[n$];if(h.usages){for(let g of h.usages){let m=g.node,_=g.property,v=g.value;const p=[],E=[];let y=Object.keys(m).length;for(;_===r$&&tm.isObject(a[m["@id"]])&&tm.isArray(m[t$])&&m[t$].length===1&&tm.isArray(m[r$])&&m[r$].length===1&&(y===3||y===4&&tm.isArray(m["@type"])&&m["@type"].length===1&&m["@type"][0]===Epe)&&(p.push(m[t$][0]),E.push(m["@id"]),g=a[m["@id"]],m=g.node,_=g.property,v=g.value,y=Object.keys(m).length,!!e$.isBlankNode(m)););delete v["@id"],v["@list"]=p.reverse();for(const S of E)delete c[S]}delete h.usages}}const l=[],u=Object.keys(o).sort();for(const f of u){const c=o[f];if(f in s){const h=c["@graph"]=[],g=s[f],m=Object.keys(g).sort();for(const _ of m){const v=g[_];e$.isSubjectReference(v)||h.push(v)}}e$.isSubjectReference(c)||l.push(c)}return l};function xpe(e,t,r,n){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)e.language.match(gF)||n.eventHandler&&yF({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:n}),i["@language"]=e.language;else{let o=e.datatype.value;if(o||(o=i$),o===$pe){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(s){throw new _P("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:s})}}if(t){if(o===wF)i["@value"]==="true"?i["@value"]=!0:i["@value"]==="false"&&(i["@value"]=!1);else if(tm.isNumeric(i["@value"]))if(o===_F){const s=parseInt(i["@value"],10);s.toFixed(0)===i["@value"]&&(i["@value"]=s)}else o===bF&&(i["@value"]=parseFloat(i["@value"]));[wF,_F,bF,i$].includes(o)||(i["@type"]=o)}else if(r==="i18n-datatype"&&o.startsWith("https://www.w3.org/ns/i18n#")){const[,s,a]=o.split(/[#_]/);s.length>0&&(i["@language"]=s,s.match(gF)||n.eventHandler&&yF({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:s}},options:n})),i["@direction"]=a}else o!==i$&&(i["@type"]=o)}return i}var Ape=function e(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((r,n,i)=>{const o=i===0?"":",",s=n===void 0||typeof n=="symbol"?null:n;return r+o+e(s)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(t[n]===void 0||typeof t[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"};const{createNodeMap:Ope}=tS,{isKeyword:Ppe}=Qf,EF=Ql,Npe=Ape,SF=Vs,Np=as,Rpe=Hs,{handleEvent:Af}=Qg,{RDF_FIRST:Ipe,RDF_REST:jpe,RDF_NIL:kpe,RDF_TYPE:Cpe,RDF_JSON_LITERAL:Dpe,RDF_LANGSTRING:Mpe,XSD_BOOLEAN:Lpe,XSD_DOUBLE:$F,XSD_INTEGER:Fpe,XSD_STRING:Bpe}=vj,{isAbsolute:$_}=Sc,bG={};var Upe=bG;bG.toRDF=(e,t)=>{const r=new Rpe.IdentifierIssuer("_:b"),n={"@default":{}};Ope(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const s of o){let a;if(s==="@default")a={termType:"DefaultGraph",value:""};else if($_(s))s.startsWith("_:")?a={termType:"BlankNode"}:a={termType:"NamedNode"},a.value=s;else{t.eventHandler&&Af({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:s}},options:t});continue}zpe(i,n[s],a,r,t)}return i};function zpe(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const a=t[s],l=Object.keys(a).sort();for(let u of l){const f=a[u];if(u==="@type")u=Cpe;else if(Ppe(u))continue;for(const c of f){const h={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!$_(s)){i.eventHandler&&Af({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:i});continue}const g={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(!$_(u)){i.eventHandler&&Af({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:u}},options:i});continue}if(g.termType==="BlankNode"&&!i.produceGeneralizedRdf){i.eventHandler&&Af({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:n.getOldIds().find(_=>n.getId(_)===u)}},options:i});continue}const m=EP(c,n,e,r,i.rdfDirection,i);m&&e.push({subject:h,predicate:g,object:m,graph:r})}}}}function qpe(e,t,r,n,i,o){const s={termType:"NamedNode",value:Ipe},a={termType:"NamedNode",value:jpe},l={termType:"NamedNode",value:kpe},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const h of e){const g=EP(h,t,r,n,i,o),m={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:s,object:g,graph:n}),r.push({subject:c,predicate:a,object:m,graph:n}),c=m}if(u){const h=EP(u,t,r,n,i,o);r.push({subject:c,predicate:s,object:h,graph:n}),r.push({subject:c,predicate:a,object:l,graph:n})}return f}function EP(e,t,r,n,i,o){const s={};if(EF.isValue(e)){s.termType="Literal",s.value=void 0,s.datatype={termType:"NamedNode"};let a=e["@value"];const l=e["@type"]||null;if(l==="@json")s.value=Npe(a),s.datatype.value=Dpe;else if(Np.isBoolean(a))s.value=a.toString(),s.datatype.value=l||Lpe;else if(Np.isDouble(a)||l===$F)Np.isDouble(a)||(a=parseFloat(a)),s.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),s.datatype.value=l||$F;else if(Np.isNumber(a))s.value=a.toFixed(0),s.datatype.value=l||Fpe;else if("@direction"in e&&i==="i18n-datatype"){const u=(e["@language"]||"").toLowerCase(),f=e["@direction"],c=`https://www.w3.org/ns/i18n#${u}_${f}`;s.datatype.value=c,s.value=a}else{if("@direction"in e&&i==="compound-literal")throw new SF("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});if("@direction"in e&&i)throw new SF("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:i});"@language"in e?("@direction"in e&&!i&&o.eventHandler&&Af({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||Mpe,s.language=e["@language"]):("@direction"in e&&!i&&o.eventHandler&&Af({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:s.value}},options:o}),s.value=a,s.datatype.value=l||Bpe)}}else if(EF.isList(e)){const a=qpe(e["@list"],t,r,n,i,o);s.termType=a.termType,s.value=a.value}else{const a=Np.isObject(e)?e["@id"]:e;s.termType=a.startsWith("_:")?"BlankNode":"NamedNode",s.value=a}return s.termType==="NamedNode"&&!$_(s.value)?(o.eventHandler&&Af({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:s.value}},options:o}),null):s}const{isKeyword:SP}=Qf,bs=Ql,cn=as,fi=Hs,TF=Sc,xm=Vs,{createNodeMap:Vpe,mergeNodeMapGraphs:Hpe}=tS,Os={};var Wpe=Os;Os.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new fi.IdentifierIssuer("_:b");Vpe(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=Hpe(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];Os.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(s=>n.bnodeMap[s].length===1));// remove @preserve from results
return r.link={},eb(o,r)};Os.frame=(e,t,r,n,i=null)=>{_G(r),r=r[0];const o=e.options,s={embed:dy(r,o,"embed"),explicit:dy(r,o,"explicit"),requireAll:dy(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const a=e.link[e.graph],l=Kpe(e,t,r,s),u=Object.keys(l).sort();for(const f of u){const c=l[f];if(i===null?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},s.embed==="@link"&&f in a){zc(n,i,a[f]);continue}const h={"@id":f};if(f.indexOf("_:")===0&&fi.addValue(e.bnodeMap,f,h,{propertyIsArray:!0}),a[f]=h,(s.embed==="@first"||s.embed==="@last")&&e.is11)throw new xm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(f))){if(e.embedded&&(s.embed==="@never"||Gpe(c,e.graph,e.subjectStack))){zc(n,i,h);continue}if(e.embedded&&(s.embed=="@first"||s.embed=="@once")&&e.uniqueEmbeds[e.graph].hasOwnProperty(f)){zc(n,i,h);continue}if(s.embed==="@last"&&f in e.uniqueEmbeds[e.graph]&&Jpe(e,f),e.uniqueEmbeds[e.graph][f]={parent:n,property:i},e.subjectStack.push({subject:c,graph:e.graph}),f in e.graphMap){let g=!1,m=null;"@graph"in r?(m=r["@graph"][0],g=!(f==="@merged"||f==="@default"),cn.isObject(m)||(m={})):(g=e.graph!=="@merged",m={}),g&&Os.frame({...e,graph:f,embedded:!1},Object.keys(e.graphMap[f]).sort(),[m],h,"@graph")}"@included"in r&&Os.frame({...e,embedded:!1},t,r["@included"],h,"@included");for(const g of Object.keys(c).sort()){if(SP(g)){if(h[g]=fi.clone(c[g]),g==="@type")for(const m of c["@type"])m.indexOf("_:")===0&&fi.addValue(e.bnodeMap,m,h,{propertyIsArray:!0});continue}if(!(s.explicit&&!(g in r)))for(const m of c[g]){const _=g in r?r[g]:xF(s);if(bs.isList(m)){const v=r[g]&&r[g][0]&&r[g][0]["@list"]?r[g][0]["@list"]:xF(s),p={"@list":[]};zc(h,g,p);const E=m["@list"];for(const y of E)bs.isSubjectReference(y)?Os.frame({...e,embedded:!0},[y["@id"]],v,p,"@list"):zc(p,"@list",fi.clone(y))}else bs.isSubjectReference(m)?Os.frame({...e,embedded:!0},[m["@id"]],_,h,g):$P(_[0],m)&&zc(h,g,fi.clone(m))}}for(const g of Object.keys(r).sort()){if(g==="@type"){if(!cn.isObject(r[g][0])||!("@default"in r[g][0]))continue}else if(SP(g))continue;const m=r[g][0]||{};if(!dy(m,o,"omitDefault")&&!(g in h)){let v="@null";"@default"in m&&(v=fi.clone(m["@default"])),cn.isArray(v)||(v=[v]),h[g]=[{"@preserve":v}]}}for(const g of Object.keys(r["@reverse"]||{}).sort()){const m=r["@reverse"][g];for(const _ of Object.keys(e.subjects))fi.getValues(e.subjects[_],g).some(p=>p["@id"]===f)&&(h["@reverse"]=h["@reverse"]||{},fi.addValue(h["@reverse"],g,[],{propertyIsArray:!0}),Os.frame({...e,embedded:!0},[_],m,h["@reverse"][g],i))}zc(n,i,h),e.subjectStack.pop()}}};Os.cleanupNull=(e,t)=>{if(cn.isArray(e))return e.map(n=>Os.cleanupNull(n,t)).filter(n=>n);if(e==="@null")return null;if(cn.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=Os.cleanupNull(e[r],t)}return e};function xF(e){const t={};for(const r in e)e[r]!==void 0&&(t["@"+r]=[e[r]]);return[t]}function Gpe(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function dy(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if(r==="embed"){if(i===!0)i="@once";else if(i===!1)i="@never";else if(i!=="@always"&&i!=="@never"&&i!=="@link"&&i!=="@first"&&i!=="@last"&&i!=="@once")throw new xm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function _G(e){if(!cn.isArray(e)||e.length!==1||!cn.isObject(e[0]))throw new xm("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(const t of fi.asArray(e[0]["@id"]))if(!(cn.isObject(t)||TF.isAbsolute(t))||cn.isString(t)&&t.indexOf("_:")===0)throw new xm("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(const t of fi.asArray(e[0]["@type"]))if(!(cn.isObject(t)||TF.isAbsolute(t)||t==="@json")||cn.isString(t)&&t.indexOf("_:")===0)throw new xm("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function Kpe(e,t,r,n){const i={};for(const o of t){const s=e.graphMap[e.graph][o];EG(e,s,r,n)&&(i[o]=s)}return i}function EG(e,t,r,n){let i=!0,o=!1;for(const s in r){let a=!1;const l=fi.getValues(t,s),u=fi.getValues(r,s).length===0;if(s==="@id"){if(cn.isEmptyObject(r["@id"][0]||{})?a=!0:r["@id"].length>=0&&(a=r["@id"].includes(l[0])),!n.requireAll)return a}else if(s==="@type"){if(i=!1,u){if(l.length>0)return!1;a=!0}else if(r["@type"].length===1&&cn.isEmptyObject(r["@type"][0]))a=l.length>0;else for(const f of r["@type"])cn.isObject(f)&&"@default"in f?a=!0:a=a||l.some(c=>c===f);if(!n.requireAll)return a}else{if(SP(s))continue;{const f=fi.getValues(r,s)[0];let c=!1;if(f&&(_G([f]),c="@default"in f),i=!1,l.length===0&&c)continue;if(l.length>0&&u)return!1;if(f===void 0){if(l.length>0)return!1;a=!0}else if(bs.isList(f)){const h=f["@list"][0];if(bs.isList(l[0])){const g=l[0]["@list"];bs.isValue(h)?a=g.some(m=>$P(h,m)):(bs.isSubject(h)||bs.isSubjectReference(h))&&(a=g.some(m=>AF(e,h,m,n)))}}else bs.isValue(f)?a=l.some(h=>$P(f,h)):bs.isSubjectReference(f)?a=l.some(h=>AF(e,f,h,n)):cn.isObject(f)?a=l.length>0:a=!1}}if(!a&&n.requireAll)return!1;o=o||a}return i||o}function Jpe(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,s={"@id":t};if(cn.isArray(i)){for(let l=0;l<i.length;++l)if(fi.compareValues(i[l],s)){i[l]=s;break}}else{const l=cn.isArray(i[o]);fi.removeValue(i,o,s,{propertyIsArray:l}),fi.addValue(i,o,s,{propertyIsArray:l})}const a=l=>{const u=Object.keys(r);for(const f of u)f in r&&cn.isObject(r[f].parent)&&r[f].parent["@id"]===l&&(delete r[f],a(f))};a(t)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function eb(e,t){if(cn.isArray(e))return e.map(r=>eb(r,t));if(cn.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(bs.isValue(e))return e;if(bs.isList(e))return e["@list"]=eb(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(n!==-1)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e){if(r==="@id"&&t.bnodesToClear.includes(e[r])){delete e["@id"];continue}e[r]=eb(e[r],t)}}return e}function zc(e,t,r){cn.isObject(e)?fi.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function AF(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&EG(e,i,t,n)}function $P(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?cn.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?cn.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?cn.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return o.length===0&&s.length===0&&a.length===0?!0:!(!(o.includes(r)||cn.isEmptyObject(o[0]))||!(!n&&s.length===0||s.includes(n)||n&&cn.isEmptyObject(s[0]))||!(!i&&a.length===0||a.includes(i)||i&&cn.isEmptyObject(a[0])))}const bj=Vs,{isArray:vu,isObject:qu,isString:SG,isUndefined:o$}=as,{isList:TP,isValue:Ol,isGraph:$G,isSimpleGraph:OF,isSubjectReference:s$}=Ql,{expandIri:TG,getContextValue:Ji,isKeyword:xG,process:a$,processingMode:Ype}=Qf,{removeBase:PF,prependBase:Xpe}=Sc,{REGEX_KEYWORD:Qpe,addValue:zo,asArray:hy,compareShortestLeast:Zpe}=Hs,lr={};var eme=lr;lr.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={}})=>{if(vu(r)){let o=[];for(let s=0;s<r.length;++s){const a=await lr.compact({activeCtx:e,activeProperty:t,element:r[s],options:n});a!==null&&o.push(a)}return n.compactArrays&&o.length===1&&(Ji(e,t,"@container")||[]).length===0&&(o=o[0]),o}const i=Ji(e,t,"@context");if(o$(i)||(e=await a$({activeCtx:e,localCtx:i,propagate:!0,overrideProtected:!0,options:n})),qu(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const h=n.link[r["@id"]];for(let g=0;g<h.length;++g)if(h[g].expanded===r)return h[g].compacted}if(Ol(r)||s$(r)){const h=lr.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&s$(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:h})),h}if(TP(r)&&(Ji(e,t,"@container")||[]).includes("@list"))return lr.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n});const o=t==="@reverse",s={},a=e;!Ol(r)&&!s$(r)&&(e=e.revertToPreviousContext());const l=Ji(a,t,"@context");o$(l)||(e=await a$({activeCtx:e,localCtx:l,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:s}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const f=e;for(const h of u){const g=lr.compactIri({activeCtx:f,iri:h,relativeTo:{vocab:!0}}),m=Ji(a,g,"@context");o$(m)||(e=await a$({activeCtx:e,localCtx:m,options:n,propagate:!1}))}const c=Object.keys(r).sort();for(const h of c){const g=r[h];if(h==="@id"){let m=hy(g).map(v=>lr.compactIri({activeCtx:e,iri:v,relativeTo:{vocab:!1},base:n.base}));m.length===1&&(m=m[0]);const _=lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});s[_]=m;continue}if(h==="@type"){let m=hy(g).map(y=>lr.compactIri({activeCtx:a,iri:y,relativeTo:{vocab:!0}}));m.length===1&&(m=m[0]);const _=lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),E=(Ji(e,_,"@container")||[]).includes("@set")&&Ype(e,1.1)||vu(m)&&g.length===0;zo(s,_,m,{propertyIsArray:E});continue}if(h==="@reverse"){const m=await lr.compact({activeCtx:e,activeProperty:"@reverse",element:g,options:n});for(const _ in m)if(e.mappings.has(_)&&e.mappings.get(_).reverse){const v=m[_],E=(Ji(e,_,"@container")||[]).includes("@set")||!n.compactArrays;zo(s,_,v,{propertyIsArray:E}),delete m[_]}if(Object.keys(m).length>0){const _=lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});zo(s,_,m)}continue}if(h==="@preserve"){const m=await lr.compact({activeCtx:e,activeProperty:t,element:g,options:n});vu(m)&&m.length===0||zo(s,h,m);continue}if(h==="@index"){if((Ji(e,t,"@container")||[]).includes("@index"))continue;const _=lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});zo(s,_,g);continue}if(h!=="@graph"&&h!=="@list"&&h!=="@included"&&xG(h)){const m=lr.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});zo(s,m,g);continue}if(!vu(g))throw new bj("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(g.length===0){const m=lr.compactIri({activeCtx:e,iri:h,value:g,relativeTo:{vocab:!0},reverse:o}),_=e.mappings.has(m)?e.mappings.get(m)["@nest"]:null;let v=s;_&&(NF(e,_,n),qu(s[_])||(s[_]={}),v=s[_]),zo(v,m,g,{propertyIsArray:!0})}for(const m of g){const _=lr.compactIri({activeCtx:e,iri:h,value:m,relativeTo:{vocab:!0},reverse:o}),v=e.mappings.has(_)?e.mappings.get(_)["@nest"]:null;let p=s;v&&(NF(e,v,n),qu(s[v])||(s[v]={}),p=s[v]);const E=Ji(e,_,"@container")||[],y=$G(m),S=TP(m);let $;S?$=m["@list"]:y&&($=m["@graph"]);let T=await lr.compact({activeCtx:e,activeProperty:_,element:S||y?$:m,options:n});if(S)if(vu(T)||(T=[T]),!E.includes("@list"))T={[lr.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:T},"@index"in m&&(T[lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=m["@index"]);else{zo(p,_,T,{valueIsArray:!0,allowDuplicate:!0});continue}if(y)if(E.includes("@graph")&&(E.includes("@id")||E.includes("@index")&&OF(m))){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};const x=(E.includes("@id")?m["@id"]:m["@index"])||lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});zo(d,x,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})}else E.includes("@graph")&&OF(m)?(vu(T)&&T.length>1&&(T={"@included":T}),zo(p,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")})):(vu(T)&&T.length===1&&n.compactArrays&&(T=T[0]),T={[lr.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:T},"@id"in m&&(T[lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=m["@id"]),"@index"in m&&(T[lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=m["@index"]),zo(p,_,T,{propertyIsArray:!n.compactArrays||E.includes("@set")}));else if(E.includes("@language")||E.includes("@index")||E.includes("@id")||E.includes("@type")){let d;p.hasOwnProperty(_)?d=p[_]:p[_]=d={};let x;if(E.includes("@language"))Ol(T)&&(T=T["@value"]),x=m["@language"];else if(E.includes("@index")){const A=Ji(e,_,"@index")||"@index",O=lr.compactIri({activeCtx:e,iri:A,relativeTo:{vocab:!0}});if(A==="@index")x=m["@index"],delete T[O];else{let C;if([x,...C]=hy(T[A]||[]),!SG(x))x=null;else switch(C.length){case 0:delete T[A];break;case 1:T[A]=C[0];break;default:T[A]=C;break}}}else if(E.includes("@id")){const A=lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});x=T[A],delete T[A]}else if(E.includes("@type")){const A=lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let O;switch([x,...O]=hy(T[A]||[]),O.length){case 0:delete T[A];break;case 1:T[A]=O[0];break;default:T[A]=O;break}Object.keys(T).length===1&&"@id"in m&&(T=await lr.compact({activeCtx:e,activeProperty:_,element:{"@id":m["@id"]},options:n}))}x||(x=lr.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),zo(d,x,T,{propertyIsArray:E.includes("@set")})}else{const d=!n.compactArrays||E.includes("@set")||E.includes("@list")||vu(T)&&T.length===0||h==="@list"||h==="@graph";zo(p,_,T,{propertyIsArray:d})}}}return s}return r};lr.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(t===null)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const s=e.getInverse();if(xG(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(n.vocab&&t in s){const c=e["@language"]||"@none",h=[];qu(r)&&"@index"in r&&!("@graph"in r)&&h.push("@index","@index@set"),qu(r)&&"@preserve"in r&&(r=r["@preserve"][0]),$G(r)?("@index"in r&&h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&h.push("@graph@id","@graph@id@set"),h.push("@graph","@graph@set","@set"),"@index"in r||h.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||h.push("@graph@id","@graph@id@set")):qu(r)&&!Ol(r)&&h.push("@id","@id@set","@type","@set@type");let g="@language",m="@null";if(i)g="@type",m="@reverse",h.push("@set");else if(TP(r)){"@index"in r||h.push("@list");const v=r["@list"];if(v.length===0)g="@any",m="@none";else{let p=v.length===0?c:null,E=null;for(let y=0;y<v.length;++y){const S=v[y];let $="@none",T="@none";if(Ol(S))if("@direction"in S){const d=(S["@language"]||"").toLowerCase(),x=S["@direction"];$=`${d}_${x}`}else"@language"in S?$=S["@language"].toLowerCase():"@type"in S?T=S["@type"]:$="@null";else T="@id";if(p===null?p=$:$!==p&&Ol(S)&&(p="@none"),E===null?E=T:T!==E&&(E="@none"),p==="@none"&&E==="@none")break}p=p||"@none",E=E||"@none",E!=="@none"?(g="@type",m=E):m=p}}else{if(Ol(r))if("@language"in r&&!("@index"in r)){h.push("@language","@language@set"),m=r["@language"];const v=r["@direction"];v&&(m=`${m}_${v}`)}else"@direction"in r&&!("@index"in r)?m=`_${r["@direction"]}`:"@type"in r&&(g="@type",m=r["@type"]);else g="@type",m="@id";h.push("@set")}h.push("@none"),qu(r)&&!("@index"in r)&&h.push("@index","@index@set"),Ol(r)&&Object.keys(r).length===1&&h.push("@language","@language@set");const _=tme(e,t,r,h,g,m);if(_!==null)return _}if(n.vocab&&"@vocab"in e){const c=e["@vocab"];if(t.indexOf(c)===0&&t!==c){const h=t.substr(c.length);if(!e.mappings.has(h))return h}}let a=null;const l=[];let u=e.fastCurieMap;const f=t.length-1;for(let c=0;c<f&&t[c]in u;++c)u=u[t[c]],""in u&&l.push(u[""][0]);for(let c=l.length-1;c>=0;--c){const h=l[c],g=h.terms;for(const m of g){const _=m+":"+t.substr(h.iri.length);e.mappings.get(m)._prefix&&(!e.mappings.has(_)||r===null&&e.mappings.get(_)["@id"]===t)&&(a===null||Zpe(_,a)<0)&&(a=_)}}if(a!==null)return a;for(const[c,h]of e.mappings)if(h&&h._prefix&&t.startsWith(c+":"))throw new bj(`Absolute IRI "${t}" confused with prefix "${c}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!n.vocab)if("@base"in e)if(e["@base"]){const c=PF(Xpe(o,e["@base"]),t);return Qpe.test(c)?`./${c}`:c}else return t;else return PF(o,t);return t};lr.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(Ol(r)){const a=Ji(e,t,"@type"),l=Ji(e,t,"@language"),u=Ji(e,t,"@direction"),f=Ji(e,t,"@container")||[],c="@index"in r&&!f.includes("@index");if(!c&&a!=="@none"&&(r["@type"]===a||"@language"in r&&r["@language"]===l&&"@direction"in r&&r["@direction"]===u||"@language"in r&&r["@language"]===l||"@direction"in r&&r["@direction"]===u))return r["@value"];const h=Object.keys(r).length,g=h===1||h===2&&"@index"in r&&!c,m="@language"in e,_=SG(r["@value"]),v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(g&&a!=="@none"&&(!m||!_||v))return r["@value"];const p={};return c&&(p[lr.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?p[lr.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=lr.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(p[lr.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(p[lr.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),p[lr.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],p}const i=TG(e,t,{vocab:!0},n),o=Ji(e,t,"@type"),s=lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:o==="@vocab"},base:n.base});return o==="@id"||o==="@vocab"||i==="@graph"?s:{[lr.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};function tme(e,t,r,n,i,o){o===null&&(o="@null");const s=[];if((o==="@id"||o==="@reverse")&&qu(r)&&"@id"in r){o==="@reverse"&&s.push("@reverse");const l=lr.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const l=s.find(u=>u.includes("_"));l&&s.push(l.replace(/^[^_]+_/,"_"))}s.push("@none");const a=e.inverse[t];for(const l of n){if(!(l in a))continue;const u=a[l][i];for(const f of s)if(f in u)return u[f]}return null}function NF(e,t,r){if(TG(e,t,{vocab:!0},r)!=="@nest")throw new bj("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var l$,RF;function rme(){return RF||(RF=1,l$=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(r,n)},t.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(r)},t.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(r)},t}),l$}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const IF=gj,jF=zhe,Pu=Hs,vl=tpe,u$=Pu.IdentifierIssuer,ja=Vs,nme=lG,py=npe,{expand:ime}=gpe,{flatten:ome}=_pe,{fromRDF:sme}=Tpe,{toRDF:ame}=Upe,{frameMergedOrDefault:lme,cleanupNull:ume}=Wpe,{isArray:$d,isObject:qc,isString:ka}=as,{isSubjectReference:cme}=Ql,{expandIri:fme,getInitialContext:my,process:kF,processingMode:c$}=Qf,{compact:dme,compactIri:hme}=eme,{createNodeMap:pme,createMergedNodeMap:mme,mergeNodeMaps:gme}=tS,{logEventHandler:vme,logWarningEventHandler:yme,safeEventHandler:wme,setDefaultEventHandler:bme,setupEventHandler:_me,strictEventHandler:Eme,unhandledEventHandler:Sme}=Qg,AG=function(e){const t={},n=new nme({max:100});e.compact=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(s===null)throw new ja("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(o===null)return null;a=i(a,{base:ka(o)?o:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new u$("_:b"),contextResolver:new vl({sharedCache:n})}),a.link&&(a.skipExpansion=!0),a.compactToRelative||delete a.base;let l;a.skipExpansion?l=o:l=await e.expand(o,a);const u=await e.processContext(my(a),s,a);let f=await dme({activeCtx:u,element:l,options:a});a.compactArrays&&!a.graph&&$d(f)?f.length===1?f=f[0]:f.length===0&&(f={}):a.graph&&qc(f)&&(f=[f]),qc(s)&&"@context"in s&&(s=s["@context"]),s=Pu.clone(s),$d(s)||(s=[s]);const c=s;s=[];for(let g=0;g<c.length;++g)(!qc(c[g])||Object.keys(c[g]).length>0)&&s.push(c[g]);const h=s.length>0;if(s.length===1&&(s=s[0]),$d(f)){const g=hme({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),m=f;f={},h&&(f["@context"]=s),f[g]=m}else if(qc(f)&&h){const g=f;f={"@context":s};for(const m in g)f[m]=g[m]}return f},e.expand=async function(o,s){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");s=i(s,{keepFreeFloatingNodes:!1,contextResolver:new vl({sharedCache:n})});const a={},l=[];if("expandContext"in s){const h=Pu.clone(s.expandContext);qc(h)&&"@context"in h?a.expandContext=h:a.expandContext={"@context":h},l.push(a.expandContext)}let u;if(!ka(o))a.input=Pu.clone(o);else{const h=await e.get(o,s);u=h.documentUrl,a.input=h.document,h.contextUrl&&(a.remoteContext={"@context":h.contextUrl},l.push(a.remoteContext))}"base"in s||(s.base=u||"");let f=my(s);for(const h of l)f=await kF({activeCtx:f,localCtx:h,options:s});let c=await ime({activeCtx:f,element:a.input,options:s});return qc(c)&&"@graph"in c&&Object.keys(c).length===1?c=c["@graph"]:c===null&&(c=[]),$d(c)||(c=[c]),c},e.flatten=async function(o,s,a){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof s=="function"?s=null:s=s||null,a=i(a,{base:ka(o)?o:"",contextResolver:new vl({sharedCache:n})});const l=await e.expand(o,a),u=ome(l);return s===null?u:(a.graph=!0,a.skipExpansion=!0,await e.compact(u,s,a))},e.frame=async function(o,s,a){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(a=i(a,{base:ka(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new vl({sharedCache:n})}),ka(s)){const v=await e.get(s,a);if(s=v.document,v.contextUrl){let p=s["@context"];p?$d(p)?p.push(v.contextUrl):p=[p,v.contextUrl]:p=v.contextUrl,s["@context"]=p}}const l=s?s["@context"]||{}:{},u=await e.processContext(my(a),l,a);a.hasOwnProperty("omitGraph")||(a.omitGraph=c$(u,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=c$(u,1.1));const f=await e.expand(o,a),c={...a};c.isFrame=!0,c.keepFreeFloatingNodes=!0;const h=await e.expand(s,c),g=Object.keys(s).map(v=>fme(u,v,{vocab:!0}));c.merged=!g.includes("@graph"),c.is11=c$(u,1.1);const m=lme(f,h,c);c.graph=!a.omitGraph,c.skipExpansion=!0,c.link={},c.framing=!0;let _=await e.compact(m,l,c);return c.link={},_=ume(_,c),_},e.link=async function(o,s,a){const l={};return s&&(l["@context"]=s),l["@embed"]="@link",e.frame(o,l,a)},e.normalize=e.canonize=async function(o,s){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(s=i(s,{base:ka(o)?o:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new vl({sharedCache:n})}),"inputFormat"in s){if(s.inputFormat!=="application/n-quads"&&s.inputFormat!=="application/nquads")throw new ja("Unknown canonicalization input format.","jsonld.CanonizeError");const u=py.parse(o);return IF.canonize(u,s)}const a={...s};delete a.format,a.produceGeneralizedRdf=!1;const l=await e.toRDF(o,a);return IF.canonize(l,s)},e.fromRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");s=i(s,{format:ka(o)?"application/n-quads":void 0});const{format:a}=s;let{rdfParser:l}=s;if(a){if(l=l||t[a],!l)throw new ja("Unknown input format.","jsonld.UnknownFormat",{format:a})}else l=()=>o;const u=await l(o);return sme(u,s)},e.toRDF=async function(o,s){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");s=i(s,{base:ka(o)?o:"",skipExpansion:!1,contextResolver:new vl({sharedCache:n})});let a;s.skipExpansion?a=o:a=await e.expand(o,s);const l=ame(a,s);if(s.format){if(s.format==="application/n-quads"||s.format==="application/nquads")return py.serialize(l);throw new ja("Unknown output format.","jsonld.UnknownFormat",{format:s.format})}return l},e.createNodeMap=async function(o,s){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");s=i(s,{base:ka(o)?o:"",contextResolver:new vl({sharedCache:n})});const a=await e.expand(o,s);return mme(a,s)},e.merge=async function(o,s,a){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!$d(o))throw new TypeError('Could not merge, "docs" must be an array.');typeof s=="function"?s=null:s=s||null,a=i(a,{contextResolver:new vl({sharedCache:n})});const l=await Promise.all(o.map(v=>{const p={...a};return e.expand(v,p)}));let u=!0;"mergeNodes"in a&&(u=a.mergeNodes);const f=a.issuer||new u$("_:b"),c={"@default":{}};for(let v=0;v<l.length;++v){const p=Pu.relabelBlankNodes(l[v],{issuer:new u$("_:b"+v+"-")}),E=u||v===0?c:{"@default":{}};if(pme(p,E,"@default",f),E!==c)for(const y in E){const S=E[y];if(!(y in c)){c[y]=S;continue}const $=c[y];for(const T in S)T in $||($[T]=S[T])}}const h=gme(c),g=[],m=Object.keys(h).sort();for(let v=0;v<m.length;++v){const p=h[m[v]];cme(p)||g.push(p)}return s===null?g:(a.graph=!0,a.skipExpansion=!0,await e.compact(g,s,a))},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:o=>e._documentLoader=o}),e.documentLoader=async o=>{throw new ja("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:o})},e.get=async function(o,s){let a;typeof s.documentLoader=="function"?a=s.documentLoader:a=e.documentLoader;const l=await a(o);try{if(!l.document)throw new ja("No remote document found at the given URL.","jsonld.NullRemoteDocument");ka(l.document)&&(l.document=JSON.parse(l.document))}catch(u){throw new ja("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:u,remoteDoc:l})}return l},e.processContext=async function(o,s,a){return a=i(a,{base:"",contextResolver:new vl({sharedCache:n})}),s===null?my(a):(s=Pu.clone(s),qc(s)&&"@context"in s||(s={"@context":s}),kF({activeCtx:o,localCtx:s,options:a}))},e.getContextValue=Qf.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(o){if(!(o in e.documentLoaders))throw new ja('Unknown document loader type: "'+o+'"',"jsonld.UnknownDocumentLoader",{type:o});e.documentLoader=e.documentLoaders[o].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(o,s){t[o]=s},e.unregisterRDFParser=function(o){delete t[o]},e.registerRDFParser("application/n-quads",py.parse),e.registerRDFParser("application/nquads",py.parse),e.url=Sc,e.logEventHandler=vme,e.logWarningEventHandler=yme,e.safeEventHandler=wme,e.setDefaultEventHandler=bme,e.strictEventHandler=Eme,e.unhandledEventHandler=Sme,e.util=Pu,Object.assign(e,Pu),e.promises=e,e.RequestQueue=sG(),e.JsonLdProcessor=rme()(e),jF.setupGlobals(e),jF.setupDocumentLoaders(e);function i(o,{documentLoader:s=e.documentLoader,...a}){if(o&&"compactionMap"in o)throw new ja('"compactionMap" not supported.',"jsonld.OptionsError");if(o&&"expansionMap"in o)throw new ja('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:s},a,o,{eventHandler:_me({options:o})})}return e},OG=function(){return AG(function(){return OG()})};AG(OG);var xP={exports:{}},_j={},Ms={},Lh={},Zg={},er={},hg={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((y,S)=>`${y}${S}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((y,S)=>(S instanceof r&&(y[S.str]=(y[S.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function i(p,...E){const y=[p[0]];let S=0;for(;S<E.length;)a(y,E[S]),y.push(p[++S]);return new n(y)}e._=i;const o=new n("+");function s(p,...E){const y=[g(p[0])];let S=0;for(;S<E.length;)y.push(o),a(y,E[S]),y.push(o,g(p[++S]));return l(y),new n(y)}e.str=s;function a(p,E){E instanceof n?p.push(...E._items):E instanceof r?p.push(E):p.push(c(E))}e.addCodeArg=a;function l(p){let E=1;for(;E<p.length-1;){if(p[E]===o){const y=u(p[E-1],p[E+1]);if(y!==void 0){p.splice(E-1,3,y);continue}p[E++]="+"}E++}}function u(p,E){if(E==='""')return p;if(p==='""')return E;if(typeof p=="string")return E instanceof r||p[p.length-1]!=='"'?void 0:typeof E!="string"?`${p.slice(0,-1)}${E}"`:E[0]==='"'?p.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(p instanceof r))return`"${p}${E.slice(1)}`}function f(p,E){return E.emptyStr()?p:p.emptyStr()?E:s`${p}${E}`}e.strConcat=f;function c(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:g(Array.isArray(p)?p.join(","):p)}function h(p){return new n(g(p))}e.stringify=h;function g(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function m(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new n(`.${p}`):i`[${p}]`}e.getProperty=m;function _(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=_;function v(p){return new n(p.toString())}e.regexpCode=v})(hg);var AP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=hg;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,c;if(!((c=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||c===void 0)&&c.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=i;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:c}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${c}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?s:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var c;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(u),{prefix:g}=h,m=(c=f.key)!==null&&c!==void 0?c:f.ref;let _=this._values[g];if(_){const E=_.get(m);if(E)return E}else _=this._values[g]=new Map;_.set(m,h);const v=this._scope[g]||(this._scope[g]=[]),p=v.length;return v[p]=f.ref,h.setValue(f,{property:g,itemIndex:p}),h}getValue(u,f){const c=this._values[u];if(c)return c.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,c=>{if(c.scopePath===void 0)throw new Error(`CodeGen: name "${c}" has no value`);return(0,t._)`${u}${c.scopePath}`})}scopeCode(u=this._values,f,c){return this._reduceValues(u,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},f,c)}_reduceValues(u,f,c={},h){let g=t.nil;for(const m in u){const _=u[m];if(!_)continue;const v=c[m]=c[m]||new Map;_.forEach(p=>{if(v.has(p))return;v.set(p,n.Started);let E=f(p);if(E){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${y} ${p} = ${E};${this.opts._n}`}else if(E=h==null?void 0:h(p))g=(0,t._)`${g}${E}${this.opts._n}`;else throw new r(p);v.set(p,n.Completed)})}return g}}e.ValueScope=a})(AP);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=hg,r=AP;var n=hg;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=AP;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(R,z){return this}}class s extends o{constructor(R,z,oe){super(),this.varKind=R,this.name=z,this.rhs=oe}render({es5:R,_n:z}){const oe=R?r.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${oe} ${this.name}${J};`+z}optimizeNames(R,z){if(R[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,R,z)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(R,z,oe){super(),this.lhs=R,this.rhs=z,this.sideEffects=oe}render({_n:R}){return`${this.lhs} = ${this.rhs};`+R}optimizeNames(R,z){if(!(this.lhs instanceof t.Name&&!R[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,R,z),this}get names(){const R=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(R,this.rhs)}}class l extends a{constructor(R,z,oe,J){super(R,oe,J),this.op=z}render({_n:R}){return`${this.lhs} ${this.op}= ${this.rhs};`+R}}class u extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`${this.label}:`+R}}class f extends o{constructor(R){super(),this.label=R,this.names={}}render({_n:R}){return`break${this.label?` ${this.label}`:""};`+R}}class c extends o{constructor(R){super(),this.error=R}render({_n:R}){return`throw ${this.error};`+R}get names(){return this.error.names}}class h extends o{constructor(R){super(),this.code=R}render({_n:R}){return`${this.code};`+R}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(R,z){return this.code=X(this.code,R,z),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends o{constructor(R=[]){super(),this.nodes=R}render(R){return this.nodes.reduce((z,oe)=>z+oe.render(R),"")}optimizeNodes(){const{nodes:R}=this;let z=R.length;for(;z--;){const oe=R[z].optimizeNodes();Array.isArray(oe)?R.splice(z,1,...oe):oe?R[z]=oe:R.splice(z,1)}return R.length>0?this:void 0}optimizeNames(R,z){const{nodes:oe}=this;let J=oe.length;for(;J--;){const Y=oe[J];Y.optimizeNames(R,z)||(H(R,Y.names),oe.splice(J,1))}return oe.length>0?this:void 0}get names(){return this.nodes.reduce((R,z)=>F(R,z.names),{})}}class m extends g{render(R){return"{"+R._n+super.render(R)+"}"+R._n}}class _ extends g{}class v extends m{}v.kind="else";class p extends m{constructor(R,z){super(z),this.condition=R}render(R){let z=`if(${this.condition})`+super.render(R);return this.else&&(z+="else "+this.else.render(R)),z}optimizeNodes(){super.optimizeNodes();const R=this.condition;if(R===!0)return this.nodes;let z=this.else;if(z){const oe=z.optimizeNodes();z=this.else=Array.isArray(oe)?new v(oe):oe}if(z)return R===!1?z instanceof p?z:z.nodes:this.nodes.length?this:new p(Z(R),z instanceof p?[z]:z.nodes);if(!(R===!1||!this.nodes.length))return this}optimizeNames(R,z){var oe;if(this.else=(oe=this.else)===null||oe===void 0?void 0:oe.optimizeNames(R,z),!!(super.optimizeNames(R,z)||this.else))return this.condition=X(this.condition,R,z),this}get names(){const R=super.names;return V(R,this.condition),this.else&&F(R,this.else.names),R}}p.kind="if";class E extends m{}E.kind="for";class y extends E{constructor(R){super(),this.iteration=R}render(R){return`for(${this.iteration})`+super.render(R)}optimizeNames(R,z){if(super.optimizeNames(R,z))return this.iteration=X(this.iteration,R,z),this}get names(){return F(super.names,this.iteration.names)}}class S extends E{constructor(R,z,oe,J){super(),this.varKind=R,this.name=z,this.from=oe,this.to=J}render(R){const z=R.es5?r.varKinds.var:this.varKind,{name:oe,from:J,to:Y}=this;return`for(${z} ${oe}=${J}; ${oe}<${Y}; ${oe}++)`+super.render(R)}get names(){const R=V(super.names,this.from);return V(R,this.to)}}class $ extends E{constructor(R,z,oe,J){super(),this.loop=R,this.varKind=z,this.name=oe,this.iterable=J}render(R){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(R)}optimizeNames(R,z){if(super.optimizeNames(R,z))return this.iterable=X(this.iterable,R,z),this}get names(){return F(super.names,this.iterable.names)}}class T extends m{constructor(R,z,oe){super(),this.name=R,this.args=z,this.async=oe}render(R){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(R)}}T.kind="func";class d extends g{render(R){return"return "+super.render(R)}}d.kind="return";class x extends m{render(R){let z="try"+super.render(R);return this.catch&&(z+=this.catch.render(R)),this.finally&&(z+=this.finally.render(R)),z}optimizeNodes(){var R,z;return super.optimizeNodes(),(R=this.catch)===null||R===void 0||R.optimizeNodes(),(z=this.finally)===null||z===void 0||z.optimizeNodes(),this}optimizeNames(R,z){var oe,J;return super.optimizeNames(R,z),(oe=this.catch)===null||oe===void 0||oe.optimizeNames(R,z),(J=this.finally)===null||J===void 0||J.optimizeNames(R,z),this}get names(){const R=super.names;return this.catch&&F(R,this.catch.names),this.finally&&F(R,this.finally.names),R}}class A extends m{constructor(R){super(),this.error=R}render(R){return`catch(${this.error})`+super.render(R)}}A.kind="catch";class O extends m{render(R){return"finally"+super.render(R)}}O.kind="finally";class C{constructor(R,z={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...z,_n:z.lines?`
`:""},this._extScope=R,this._scope=new r.Scope({parent:R}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(R){return this._scope.name(R)}scopeName(R){return this._extScope.name(R)}scopeValue(R,z){const oe=this._extScope.value(R,z);return(this._values[oe.prefix]||(this._values[oe.prefix]=new Set)).add(oe),oe}getScopeValue(R,z){return this._extScope.getValue(R,z)}scopeRefs(R){return this._extScope.scopeRefs(R,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(R,z,oe,J){const Y=this._scope.toName(z);return oe!==void 0&&J&&(this._constants[Y.str]=oe),this._leafNode(new s(R,Y,oe)),Y}const(R,z,oe){return this._def(r.varKinds.const,R,z,oe)}let(R,z,oe){return this._def(r.varKinds.let,R,z,oe)}var(R,z,oe){return this._def(r.varKinds.var,R,z,oe)}assign(R,z,oe){return this._leafNode(new a(R,z,oe))}add(R,z){return this._leafNode(new l(R,e.operators.ADD,z))}code(R){return typeof R=="function"?R():R!==t.nil&&this._leafNode(new h(R)),this}object(...R){const z=["{"];for(const[oe,J]of R)z.length>1&&z.push(","),z.push(oe),(oe!==J||this.opts.es5)&&(z.push(":"),(0,t.addCodeArg)(z,J));return z.push("}"),new t._Code(z)}if(R,z,oe){if(this._blockNode(new p(R)),z&&oe)this.code(z).else().code(oe).endIf();else if(z)this.code(z).endIf();else if(oe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(R){return this._elseNode(new p(R))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(R,z){return this._blockNode(R),z&&this.code(z).endFor(),this}for(R,z){return this._for(new y(R),z)}forRange(R,z,oe,J,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const ae=this._scope.toName(R);return this._for(new S(Y,ae,z,oe),()=>J(ae))}forOf(R,z,oe,J=r.varKinds.const){const Y=this._scope.toName(R);if(this.opts.es5){const ae=z instanceof t.Name?z:this.var("_arr",z);return this.forRange("_i",0,(0,t._)`${ae}.length`,be=>{this.var(Y,(0,t._)`${ae}[${be}]`),oe(Y)})}return this._for(new $("of",J,Y,z),()=>oe(Y))}forIn(R,z,oe,J=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(R,(0,t._)`Object.keys(${z})`,oe);const Y=this._scope.toName(R);return this._for(new $("in",J,Y,z),()=>oe(Y))}endFor(){return this._endBlockNode(E)}label(R){return this._leafNode(new u(R))}break(R){return this._leafNode(new f(R))}return(R){const z=new d;if(this._blockNode(z),this.code(R),z.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(d)}try(R,z,oe){if(!z&&!oe)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new x;if(this._blockNode(J),this.code(R),z){const Y=this.name("e");this._currNode=J.catch=new A(Y),z(Y)}return oe&&(this._currNode=J.finally=new O,this.code(oe)),this._endBlockNode(A,O)}throw(R){return this._leafNode(new c(R))}block(R,z){return this._blockStarts.push(this._nodes.length),R&&this.code(R).endBlock(z),this}endBlock(R){const z=this._blockStarts.pop();if(z===void 0)throw new Error("CodeGen: not in self-balancing block");const oe=this._nodes.length-z;if(oe<0||R!==void 0&&oe!==R)throw new Error(`CodeGen: wrong number of nodes: ${oe} vs ${R} expected`);return this._nodes.length=z,this}func(R,z=t.nil,oe,J){return this._blockNode(new T(R,z,oe)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(R=1){for(;R-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(R){return this._currNode.nodes.push(R),this}_blockNode(R){this._currNode.nodes.push(R),this._nodes.push(R)}_endBlockNode(R,z){const oe=this._currNode;if(oe instanceof R||z&&oe instanceof z)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${z?`${R.kind}/${z.kind}`:R.kind}"`)}_elseNode(R){const z=this._currNode;if(!(z instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=z.else=R,this}get _root(){return this._nodes[0]}get _currNode(){const R=this._nodes;return R[R.length-1]}set _currNode(R){const z=this._nodes;z[z.length-1]=R}}e.CodeGen=C;function F(P,R){for(const z in R)P[z]=(P[z]||0)+(R[z]||0);return P}function V(P,R){return R instanceof t._CodeOrName?F(P,R.names):P}function X(P,R,z){if(P instanceof t.Name)return oe(P);if(!J(P))return P;return new t._Code(P._items.reduce((Y,ae)=>(ae instanceof t.Name&&(ae=oe(ae)),ae instanceof t._Code?Y.push(...ae._items):Y.push(ae),Y),[]));function oe(Y){const ae=z[Y.str];return ae===void 0||R[Y.str]!==1?Y:(delete R[Y.str],ae)}function J(Y){return Y instanceof t._Code&&Y._items.some(ae=>ae instanceof t.Name&&R[ae.str]===1&&z[ae.str]!==void 0)}}function H(P,R){for(const z in R)P[z]=(P[z]||0)-(R[z]||0)}function Z(P){return typeof P=="boolean"||typeof P=="number"||P===null?!P:(0,t._)`!${W(P)}`}e.not=Z;const fe=B(e.operators.AND);function ee(...P){return P.reduce(fe)}e.and=ee;const ne=B(e.operators.OR);function k(...P){return P.reduce(ne)}e.or=k;function B(P){return(R,z)=>R===t.nil?z:z===t.nil?R:(0,t._)`${W(R)} ${P} ${W(z)}`}function W(P){return P instanceof t.Name?P:(0,t._)`(${P})`}})(er);var It={};Object.defineProperty(It,"__esModule",{value:!0});It.checkStrictMode=It.getErrorPath=It.Type=It.useFunc=It.setEvaluated=It.evaluatedPropsToName=It.mergeEvaluated=It.eachItem=It.unescapeJsonPointer=It.escapeJsonPointer=It.escapeFragment=It.unescapeFragment=It.schemaRefOrVal=It.schemaHasRulesButRef=It.schemaHasRules=It.checkUnknownRules=It.alwaysValidSchema=It.toHash=void 0;const un=er,$me=hg;function Tme(e){const t={};for(const r of e)t[r]=!0;return t}It.toHash=Tme;function xme(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(PG(e,t),!NG(t,e.self.RULES.all))}It.alwaysValidSchema=xme;function PG(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const o in t)i[o]||jG(e,`unknown keyword: "${o}"`)}It.checkUnknownRules=PG;function NG(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}It.schemaHasRules=NG;function Ame(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}It.schemaHasRulesButRef=Ame;function Ome({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,un._)`${r}`}return(0,un._)`${e}${t}${(0,un.getProperty)(n)}`}It.schemaRefOrVal=Ome;function Pme(e){return RG(decodeURIComponent(e))}It.unescapeFragment=Pme;function Nme(e){return encodeURIComponent(Ej(e))}It.escapeFragment=Nme;function Ej(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}It.escapeJsonPointer=Ej;function RG(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}It.unescapeJsonPointer=RG;function Rme(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}It.eachItem=Rme;function CF({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,s,a)=>{const l=s===void 0?o:s instanceof un.Name?(o instanceof un.Name?e(i,o,s):t(i,o,s),s):o instanceof un.Name?(t(i,s,o),o):r(o,s);return a===un.Name&&!(l instanceof un.Name)?n(i,l):l}}It.mergeEvaluated={props:CF({mergeNames:(e,t,r)=>e.if((0,un._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,un._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,un._)`${r} || {}`).code((0,un._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,un._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,un._)`${r} || {}`),Sj(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:IG}),items:CF({mergeNames:(e,t,r)=>e.if((0,un._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,un._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,un._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,un._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function IG(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,un._)`{}`);return t!==void 0&&Sj(e,r,t),r}It.evaluatedPropsToName=IG;function Sj(e,t,r){Object.keys(r).forEach(n=>e.assign((0,un._)`${t}${(0,un.getProperty)(n)}`,!0))}It.setEvaluated=Sj;const DF={};function Ime(e,t){return e.scopeValue("func",{ref:t,code:DF[t.code]||(DF[t.code]=new $me._Code(t.code))})}It.useFunc=Ime;var OP;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(OP||(It.Type=OP={}));function jme(e,t,r){if(e instanceof un.Name){const n=t===OP.Num;return r?n?(0,un._)`"[" + ${e} + "]"`:(0,un._)`"['" + ${e} + "']"`:n?(0,un._)`"/" + ${e}`:(0,un._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,un.getProperty)(e).toString():"/"+Ej(e)}It.getErrorPath=jme;function jG(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}It.checkStrictMode=jG;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});const Ci=er,kme={data:new Ci.Name("data"),valCxt:new Ci.Name("valCxt"),instancePath:new Ci.Name("instancePath"),parentData:new Ci.Name("parentData"),parentDataProperty:new Ci.Name("parentDataProperty"),rootData:new Ci.Name("rootData"),dynamicAnchors:new Ci.Name("dynamicAnchors"),vErrors:new Ci.Name("vErrors"),errors:new Ci.Name("errors"),this:new Ci.Name("this"),self:new Ci.Name("self"),scope:new Ci.Name("scope"),json:new Ci.Name("json"),jsonPos:new Ci.Name("jsonPos"),jsonLen:new Ci.Name("jsonLen"),jsonPart:new Ci.Name("jsonPart")};ls.default=kme;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=er,r=It,n=ls;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,t.str)`"${v}" keyword must be ${p} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,p=e.keywordError,E,y){const{it:S}=v,{gen:$,compositeRule:T,allErrors:d}=S,x=c(v,p,E);y??(T||d)?l($,x):u(S,(0,t._)`[${x}]`)}e.reportError=i;function o(v,p=e.keywordError,E){const{it:y}=v,{gen:S,compositeRule:$,allErrors:T}=y,d=c(v,p,E);l(S,d),$||T||u(y,n.default.vErrors)}e.reportExtraError=o;function s(v,p){v.assign(n.default.errors,p),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,t._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:v,keyword:p,schemaValue:E,data:y,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",S,n.default.errors,d=>{v.const(T,(0,t._)`${n.default.vErrors}[${d}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,$.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${$.errSchemaPath}/${p}`),$.opts.verbose&&(v.assign((0,t._)`${T}.schema`,E),v.assign((0,t._)`${T}.data`,y))})}e.extendErrors=a;function l(v,p){const E=v.const("err",p);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),v.code((0,t._)`${n.default.errors}++`)}function u(v,p){const{gen:E,validateName:y,schemaEnv:S}=v;S.$async?E.throw((0,t._)`new ${v.ValidationError}(${p})`):(E.assign((0,t._)`${y}.errors`,p),E.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function c(v,p,E){const{createErrors:y}=v.it;return y===!1?(0,t._)`{}`:h(v,p,E)}function h(v,p,E={}){const{gen:y,it:S}=v,$=[g(S,E),m(v,E)];return _(v,p,$),y.object(...$)}function g({errorPath:v},{instancePath:p}){const E=p?(0,t.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function m({keyword:v,it:{errSchemaPath:p}},{schemaPath:E,parentSchema:y}){let S=y?p:(0,t.str)`${p}/${v}`;return E&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(E,r.Type.Str)}`),[f.schemaPath,S]}function _(v,{params:p,message:E},y){const{keyword:S,data:$,schemaValue:T,it:d}=v,{opts:x,propertyName:A,topSchemaRef:O,schemaPath:C}=d;y.push([f.keyword,S],[f.params,typeof p=="function"?p(v):p||(0,t._)`{}`]),x.messages&&y.push([f.message,typeof E=="function"?E(v):E]),x.verbose&&y.push([f.schema,T],[f.parentSchema,(0,t._)`${O}${C}`],[n.default.data,$]),A&&y.push([f.propertyName,A])}})(Zg);Object.defineProperty(Lh,"__esModule",{value:!0});Lh.boolOrEmptySchema=Lh.topBoolOrEmptySchema=void 0;const Cme=Zg,Dme=er,Mme=ls,Lme={message:"boolean schema is false"};function Fme(e){const{gen:t,schema:r,validateName:n}=e;r===!1?kG(e,!1):typeof r=="object"&&r.$async===!0?t.return(Mme.default.data):(t.assign((0,Dme._)`${n}.errors`,null),t.return(!0))}Lh.topBoolOrEmptySchema=Fme;function Bme(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),kG(e)):r.var(t,!0)}Lh.boolOrEmptySchema=Bme;function kG(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Cme.reportError)(i,Lme,void 0,t)}var ii={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getRules=Bf.isJSONType=void 0;const Ume=["string","number","integer","boolean","null","object","array"],zme=new Set(Ume);function qme(e){return typeof e=="string"&&zme.has(e)}Bf.isJSONType=qme;function Vme(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Bf.getRules=Vme;var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.shouldUseRule=Dl.shouldUseGroup=Dl.schemaHasRulesForType=void 0;function Hme({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&CG(e,n)}Dl.schemaHasRulesForType=Hme;function CG(e,t){return t.rules.some(r=>DG(e,r))}Dl.shouldUseGroup=CG;function DG(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Dl.shouldUseRule=DG;Object.defineProperty(ii,"__esModule",{value:!0});ii.reportTypeError=ii.checkDataTypes=ii.checkDataType=ii.coerceAndCheckDataType=ii.getJSONTypes=ii.getSchemaTypes=ii.DataType=void 0;const Wme=Bf,Gme=Dl,Kme=Zg,ar=er,MG=It;var wh;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(wh||(ii.DataType=wh={}));function Jme(e){const t=LG(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ii.getSchemaTypes=Jme;function LG(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Wme.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ii.getJSONTypes=LG;function Yme(e,t){const{gen:r,data:n,opts:i}=e,o=Xme(t,i.coerceTypes),s=t.length>0&&!(o.length===0&&t.length===1&&(0,Gme.schemaHasRulesForType)(e,t[0]));if(s){const a=$j(t,n,i.strictNumbers,wh.Wrong);r.if(a,()=>{o.length?Qme(e,t,o):Tj(e)})}return s}ii.coerceAndCheckDataType=Yme;const FG=new Set(["string","number","integer","boolean","null"]);function Xme(e,t){return t?e.filter(r=>FG.has(r)||t==="array"&&r==="array"):[]}function Qme(e,t,r){const{gen:n,data:i,opts:o}=e,s=n.let("dataType",(0,ar._)`typeof ${i}`),a=n.let("coerced",(0,ar._)`undefined`);o.coerceTypes==="array"&&n.if((0,ar._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,ar._)`${i}[0]`).assign(s,(0,ar._)`typeof ${i}`).if($j(t,i,o.strictNumbers),()=>n.assign(a,i))),n.if((0,ar._)`${a} !== undefined`);for(const u of r)(FG.has(u)||u==="array"&&o.coerceTypes==="array")&&l(u);n.else(),Tj(e),n.endIf(),n.if((0,ar._)`${a} !== undefined`,()=>{n.assign(i,a),Zme(e,a)});function l(u){switch(u){case"string":n.elseIf((0,ar._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,ar._)`"" + ${i}`).elseIf((0,ar._)`${i} === null`).assign(a,(0,ar._)`""`);return;case"number":n.elseIf((0,ar._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,ar._)`+${i}`);return;case"integer":n.elseIf((0,ar._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,ar._)`+${i}`);return;case"boolean":n.elseIf((0,ar._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,ar._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":n.elseIf((0,ar._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(a,null);return;case"array":n.elseIf((0,ar._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,ar._)`[${i}]`)}}}function Zme({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ar._)`${t} !== undefined`,()=>e.assign((0,ar._)`${t}[${r}]`,n))}function PP(e,t,r,n=wh.Correct){const i=n===wh.Correct?ar.operators.EQ:ar.operators.NEQ;let o;switch(e){case"null":return(0,ar._)`${t} ${i} null`;case"array":o=(0,ar._)`Array.isArray(${t})`;break;case"object":o=(0,ar._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=s((0,ar._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=s();break;default:return(0,ar._)`typeof ${t} ${i} ${e}`}return n===wh.Correct?o:(0,ar.not)(o);function s(a=ar.nil){return(0,ar.and)((0,ar._)`typeof ${t} == "number"`,a,r?(0,ar._)`isFinite(${t})`:ar.nil)}}ii.checkDataType=PP;function $j(e,t,r,n){if(e.length===1)return PP(e[0],t,r,n);let i;const o=(0,MG.toHash)(e);if(o.array&&o.object){const s=(0,ar._)`typeof ${t} != "object"`;i=o.null?s:(0,ar._)`!${t} || ${s}`,delete o.null,delete o.array,delete o.object}else i=ar.nil;o.number&&delete o.integer;for(const s in o)i=(0,ar.and)(i,PP(s,t,r,n));return i}ii.checkDataTypes=$j;const ege={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ar._)`{type: ${e}}`:(0,ar._)`{type: ${t}}`};function Tj(e){const t=tge(e);(0,Kme.reportError)(t,ege)}ii.reportTypeError=Tj;function tge(e){const{gen:t,data:r,schema:n}=e,i=(0,MG.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var rS={};Object.defineProperty(rS,"__esModule",{value:!0});rS.assignDefaults=void 0;const Td=er,rge=It;function nge(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)MF(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,o)=>MF(e,o,i.default))}rS.assignDefaults=nge;function MF(e,t,r){const{gen:n,compositeRule:i,data:o,opts:s}=e;if(r===void 0)return;const a=(0,Td._)`${o}${(0,Td.getProperty)(t)}`;if(i){(0,rge.checkStrictMode)(e,`default is ignored for: ${a}`);return}let l=(0,Td._)`${a} === undefined`;s.useDefaults==="empty"&&(l=(0,Td._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,Td._)`${a} = ${(0,Td.stringify)(r)}`)}var Ya={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateUnion=wr.validateArray=wr.usePattern=wr.callValidateCode=wr.schemaProperties=wr.allSchemaProperties=wr.noPropertyInData=wr.propertyInData=wr.isOwnProperty=wr.hasPropFunc=wr.reportMissingProp=wr.checkMissingProp=wr.checkReportMissingProp=void 0;const bn=er,xj=It,yu=ls,ige=It;function oge(e,t){const{gen:r,data:n,it:i}=e;r.if(Oj(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,bn._)`${t}`},!0),e.error()})}wr.checkReportMissingProp=oge;function sge({gen:e,data:t,it:{opts:r}},n,i){return(0,bn.or)(...n.map(o=>(0,bn.and)(Oj(e,t,o,r.ownProperties),(0,bn._)`${i} = ${o}`)))}wr.checkMissingProp=sge;function age(e,t){e.setParams({missingProperty:t},!0),e.error()}wr.reportMissingProp=age;function BG(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,bn._)`Object.prototype.hasOwnProperty`})}wr.hasPropFunc=BG;function Aj(e,t,r){return(0,bn._)`${BG(e)}.call(${t}, ${r})`}wr.isOwnProperty=Aj;function lge(e,t,r,n){const i=(0,bn._)`${t}${(0,bn.getProperty)(r)} !== undefined`;return n?(0,bn._)`${i} && ${Aj(e,t,r)}`:i}wr.propertyInData=lge;function Oj(e,t,r,n){const i=(0,bn._)`${t}${(0,bn.getProperty)(r)} === undefined`;return n?(0,bn.or)(i,(0,bn.not)(Aj(e,t,r))):i}wr.noPropertyInData=Oj;function UG(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}wr.allSchemaProperties=UG;function uge(e,t){return UG(t).filter(r=>!(0,xj.alwaysValidSchema)(e,t[r]))}wr.schemaProperties=uge;function cge({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:o},it:s},a,l,u){const f=u?(0,bn._)`${e}, ${t}, ${n}${i}`:t,c=[[yu.default.instancePath,(0,bn.strConcat)(yu.default.instancePath,o)],[yu.default.parentData,s.parentData],[yu.default.parentDataProperty,s.parentDataProperty],[yu.default.rootData,yu.default.rootData]];s.opts.dynamicRef&&c.push([yu.default.dynamicAnchors,yu.default.dynamicAnchors]);const h=(0,bn._)`${f}, ${r.object(...c)}`;return l!==bn.nil?(0,bn._)`${a}.call(${l}, ${h})`:(0,bn._)`${a}(${h})`}wr.callValidateCode=cge;const fge=(0,bn._)`new RegExp`;function dge({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,bn._)`${i.code==="new RegExp"?fge:(0,ige.useFunc)(e,i)}(${r}, ${n})`})}wr.usePattern=dge;function hge(e){const{gen:t,data:r,keyword:n,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const l=t.const("len",(0,bn._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:xj.Type.Num},o),t.if((0,bn.not)(o),a)})}}wr.validateArray=hge;function pge(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,xj.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},a);t.assign(s,(0,bn._)`${s} || ${a}`),e.mergeValidEvaluated(f,a)||t.if((0,bn.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}wr.validateUnion=pge;Object.defineProperty(Ya,"__esModule",{value:!0});Ya.validateKeywordUsage=Ya.validSchemaType=Ya.funcKeywordCode=Ya.macroKeywordCode=void 0;const Zi=er,rf=ls,mge=wr,gge=Zg;function vge(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),l=zG(r,n,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const u=r.name("valid");e.subschema({schema:a,schemaPath:Zi.nil,errSchemaPath:`${s.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Ya.macroKeywordCode=vge;function yge(e,t){var r;const{gen:n,keyword:i,schema:o,parentSchema:s,$data:a,it:l}=e;bge(l,t);const u=!a&&t.compile?t.compile.call(l.self,o,s,l):t.validate,f=zG(n,i,u),c=n.let("valid");e.block$data(c,h),e.ok((r=t.valid)!==null&&r!==void 0?r:c);function h(){if(t.errors===!1)_(),t.modifying&&LF(e),v(()=>e.error());else{const p=t.async?g():m();t.modifying&&LF(e),v(()=>wge(e,p))}}function g(){const p=n.let("ruleErrs",null);return n.try(()=>_((0,Zi._)`await `),E=>n.assign(c,!1).if((0,Zi._)`${E} instanceof ${l.ValidationError}`,()=>n.assign(p,(0,Zi._)`${E}.errors`),()=>n.throw(E))),p}function m(){const p=(0,Zi._)`${f}.errors`;return n.assign(p,null),_(Zi.nil),p}function _(p=t.async?(0,Zi._)`await `:Zi.nil){const E=l.opts.passContext?rf.default.this:rf.default.self,y=!("compile"in t&&!a||t.schema===!1);n.assign(c,(0,Zi._)`${p}${(0,mge.callValidateCode)(e,f,E,y)}`,t.modifying)}function v(p){var E;n.if((0,Zi.not)((E=t.valid)!==null&&E!==void 0?E:c),p)}}Ya.funcKeywordCode=yge;function LF(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Zi._)`${n.parentData}[${n.parentDataProperty}]`))}function wge(e,t){const{gen:r}=e;r.if((0,Zi._)`Array.isArray(${t})`,()=>{r.assign(rf.default.vErrors,(0,Zi._)`${rf.default.vErrors} === null ? ${t} : ${rf.default.vErrors}.concat(${t})`).assign(rf.default.errors,(0,Zi._)`${rf.default.vErrors}.length`),(0,gge.extendErrors)(e)},()=>e.error())}function bge({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function zG(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Zi.stringify)(r)})}function _ge(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ya.validSchemaType=_ge;function Ege({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ya.validateKeywordUsage=Ege;var rc={};Object.defineProperty(rc,"__esModule",{value:!0});rc.extendSubschemaMode=rc.extendSubschemaData=rc.getSubschema=void 0;const Wa=er,qG=It;function Sge(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return r===void 0?{schema:a,schemaPath:(0,Wa._)`${e.schemaPath}${(0,Wa.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[r],schemaPath:(0,Wa._)`${e.schemaPath}${(0,Wa.getProperty)(t)}${(0,Wa.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,qG.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}rc.getSubschema=Sge;function $ge(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:c}=t,h=a.let("data",(0,Wa._)`${t.data}${(0,Wa.getProperty)(r)}`,!0);l(h),e.errorPath=(0,Wa.str)`${u}${(0,qG.getErrorPath)(r,n,c.jsPropertySyntax)}`,e.parentDataProperty=(0,Wa._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(i!==void 0){const u=i instanceof Wa.Name?i:a.let("data",i,!0);l(u),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}rc.extendSubschemaData=$ge;function Tge(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}rc.extendSubschemaMode=Tge;var Ti={},VG=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r},HG={exports:{}},Vu=HG.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};tb(t,n,i,e,"",e)};Vu.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Vu.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Vu.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Vu.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function tb(e,t,r,n,i,o,s,a,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,o,s,a,l,u);for(var f in n){var c=n[f];if(Array.isArray(c)){if(f in Vu.arrayKeywords)for(var h=0;h<c.length;h++)tb(e,t,r,c[h],i+"/"+f+"/"+h,o,i,f,n,h)}else if(f in Vu.propsKeywords){if(c&&typeof c=="object")for(var g in c)tb(e,t,r,c[g],i+"/"+f+"/"+xge(g),o,i,f,n,g)}else(f in Vu.keywords||e.allKeys&&!(f in Vu.skipKeywords))&&tb(e,t,r,c,i+"/"+f,o,i,f,n)}r(n,i,o,s,a,l,u)}}function xge(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Age=HG.exports;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.getSchemaRefs=Ti.resolveUrl=Ti.normalizeId=Ti._getFullPath=Ti.getFullPath=Ti.inlineRef=void 0;const Oge=It,Pge=VG,Nge=Age,Rge=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ige(e,t=!0){return typeof e=="boolean"?!0:t===!0?!NP(e):t?WG(e)<=t:!1}Ti.inlineRef=Ige;const jge=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function NP(e){for(const t in e){if(jge.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(NP)||typeof r=="object"&&NP(r))return!0}return!1}function WG(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Rge.has(r)&&(typeof e[r]=="object"&&(0,Oge.eachItem)(e[r],n=>t+=WG(n)),t===1/0))return 1/0}return t}function GG(e,t="",r){r!==!1&&(t=bh(t));const n=e.parse(t);return KG(e,n)}Ti.getFullPath=GG;function KG(e,t){return e.serialize(t).split("#")[0]+"#"}Ti._getFullPath=KG;const kge=/#\/?$/;function bh(e){return e?e.replace(kge,""):""}Ti.normalizeId=bh;function Cge(e,t,r){return r=bh(r),e.resolve(t,r)}Ti.resolveUrl=Cge;const Dge=/^[a-z_][-a-z0-9._]*$/i;function Mge(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=bh(e[r]||t),o={"":i},s=GG(n,i,!1),a={},l=new Set;return Nge(e,{allKeys:!0},(c,h,g,m)=>{if(m===void 0)return;const _=s+h;let v=o[m];typeof c[r]=="string"&&(v=p.call(this,c[r])),E.call(this,c.$anchor),E.call(this,c.$dynamicAnchor),o[h]=v;function p(y){const S=this.opts.uriResolver.resolve;if(y=bh(v?S(v,y):y),l.has(y))throw f(y);l.add(y);let $=this.refs[y];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(c,$.schema,y):y!==bh(_)&&(y[0]==="#"?(u(c,a[y],y),a[y]=c):this.refs[y]=_),y}function E(y){if(typeof y=="string"){if(!Dge.test(y))throw new Error(`invalid anchor "${y}"`);p.call(this,`#${y}`)}}}),a;function u(c,h,g){if(h!==void 0&&!Pge(c,h))throw f(g)}function f(c){return new Error(`reference "${c}" resolves to more than one schema`)}}Ti.getSchemaRefs=Mge;Object.defineProperty(Ms,"__esModule",{value:!0});Ms.getData=Ms.KeywordCxt=Ms.validateFunctionCode=void 0;const JG=Lh,FF=ii,Pj=Dl,T_=ii,Lge=rS,Am=Ya,f$=rc,Vt=er,Qt=ls,Fge=Ti,Ml=It,Rp=Zg;function Bge(e){if(QG(e)&&(ZG(e),XG(e))){qge(e);return}YG(e,()=>(0,JG.topBoolOrEmptySchema)(e))}Ms.validateFunctionCode=Bge;function YG({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,Vt._)`${Qt.default.data}, ${Qt.default.valCxt}`,n.$async,()=>{e.code((0,Vt._)`"use strict"; ${BF(r,i)}`),zge(e,i),e.code(o)}):e.func(t,(0,Vt._)`${Qt.default.data}, ${Uge(i)}`,n.$async,()=>e.code(BF(r,i)).code(o))}function Uge(e){return(0,Vt._)`{${Qt.default.instancePath}="", ${Qt.default.parentData}, ${Qt.default.parentDataProperty}, ${Qt.default.rootData}=${Qt.default.data}${e.dynamicRef?(0,Vt._)`, ${Qt.default.dynamicAnchors}={}`:Vt.nil}}={}`}function zge(e,t){e.if(Qt.default.valCxt,()=>{e.var(Qt.default.instancePath,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.instancePath}`),e.var(Qt.default.parentData,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.parentData}`),e.var(Qt.default.parentDataProperty,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.parentDataProperty}`),e.var(Qt.default.rootData,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.rootData}`),t.dynamicRef&&e.var(Qt.default.dynamicAnchors,(0,Vt._)`${Qt.default.valCxt}.${Qt.default.dynamicAnchors}`)},()=>{e.var(Qt.default.instancePath,(0,Vt._)`""`),e.var(Qt.default.parentData,(0,Vt._)`undefined`),e.var(Qt.default.parentDataProperty,(0,Vt._)`undefined`),e.var(Qt.default.rootData,Qt.default.data),t.dynamicRef&&e.var(Qt.default.dynamicAnchors,(0,Vt._)`{}`)})}function qge(e){const{schema:t,opts:r,gen:n}=e;YG(e,()=>{r.$comment&&t.$comment&&tK(e),Kge(e),n.let(Qt.default.vErrors,null),n.let(Qt.default.errors,0),r.unevaluated&&Vge(e),eK(e),Xge(e)})}function Vge(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Vt._)`${r}.evaluated`),t.if((0,Vt._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Vt._)`${e.evaluated}.props`,(0,Vt._)`undefined`)),t.if((0,Vt._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Vt._)`${e.evaluated}.items`,(0,Vt._)`undefined`))}function BF(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Vt._)`/*# sourceURL=${r} */`:Vt.nil}function Hge(e,t){if(QG(e)&&(ZG(e),XG(e))){Wge(e,t);return}(0,JG.boolOrEmptySchema)(e,t)}function XG({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function QG(e){return typeof e.schema!="boolean"}function Wge(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&tK(e),Jge(e),Yge(e);const o=n.const("_errs",Qt.default.errors);eK(e,o),n.var(t,(0,Vt._)`${o} === ${Qt.default.errors}`)}function ZG(e){(0,Ml.checkUnknownRules)(e),Gge(e)}function eK(e,t){if(e.opts.jtd)return UF(e,[],!1,t);const r=(0,FF.getSchemaTypes)(e.schema),n=(0,FF.coerceAndCheckDataType)(e,r);UF(e,r,!n,t)}function Gge(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ml.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Kge(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ml.checkStrictMode)(e,"default is ignored in the schema root")}function Jge(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Fge.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Yge(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function tK({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(i.$comment===!0)e.code((0,Vt._)`${Qt.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,Vt.str)`${n}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Vt._)`${Qt.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function Xge(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,Vt._)`${Qt.default.errors} === 0`,()=>t.return(Qt.default.data),()=>t.throw((0,Vt._)`new ${i}(${Qt.default.vErrors})`)):(t.assign((0,Vt._)`${n}.errors`,Qt.default.vErrors),o.unevaluated&&Qge(e),t.return((0,Vt._)`${Qt.default.errors} === 0`))}function Qge({gen:e,evaluated:t,props:r,items:n}){r instanceof Vt.Name&&e.assign((0,Vt._)`${t}.props`,r),n instanceof Vt.Name&&e.assign((0,Vt._)`${t}.items`,n)}function UF(e,t,r,n){const{gen:i,schema:o,data:s,allErrors:a,opts:l,self:u}=e,{RULES:f}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Ml.schemaHasRulesButRef)(o,f))){i.block(()=>iK(e,"$ref",f.all.$ref.definition));return}l.jtd||Zge(e,t),i.block(()=>{for(const h of f.rules)c(h);c(f.post)});function c(h){(0,Pj.shouldUseGroup)(o,h)&&(h.type?(i.if((0,T_.checkDataType)(h.type,s,l.strictNumbers)),zF(e,h),t.length===1&&t[0]===h.type&&r&&(i.else(),(0,T_.reportTypeError)(e)),i.endIf()):zF(e,h),a||i.if((0,Vt._)`${Qt.default.errors} === ${n||0}`))}}function zF(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,Lge.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,Pj.shouldUseRule)(n,o)&&iK(e,o.keyword,o.definition,t.type)})}function Zge(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(eve(e,t),e.opts.allowUnionTypes||tve(e,t),rve(e,e.dataTypes))}function eve(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{rK(e.dataTypes,r)||Nj(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ive(e,t)}}function tve(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Nj(e,"use allowUnionTypes to allow union type keyword")}function rve(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,Pj.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>nve(t,s))&&Nj(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function nve(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function rK(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ive(e,t){const r=[];for(const n of e.dataTypes)rK(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Nj(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ml.checkStrictMode)(e,t,e.opts.strictTypes)}class nK{constructor(t,r,n){if((0,Am.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ml.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",oK(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Am.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",Qt.default.errors))}result(t,r,n){this.failResult((0,Vt.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Vt.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Vt._)`${r} !== undefined && (${(0,Vt.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Rp.reportExtraError:Rp.reportError)(this,this.def.error,r)}$dataError(){(0,Rp.reportError)(this,this.def.$dataError||Rp.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Rp.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Vt.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Vt.nil,r=Vt.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:o,def:s}=this;n.if((0,Vt.or)((0,Vt._)`${i} === undefined`,r)),t!==Vt.nil&&n.assign(t,!0),(o.length||s.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Vt.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:o}=this;return(0,Vt.or)(s(),a());function s(){if(n.length){if(!(r instanceof Vt.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Vt._)`${(0,T_.checkDataTypes)(l,r,o.opts.strictNumbers,T_.DataType.Wrong)}`}return Vt.nil}function a(){if(i.validateSchema){const l=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Vt._)`!${l}(${r})`}return Vt.nil}}subschema(t,r){const n=(0,f$.getSubschema)(this.it,t);(0,f$.extendSubschemaData)(n,this.it,t),(0,f$.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Hge(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ml.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ml.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,Vt.Name)),!0}}Ms.KeywordCxt=nK;function iK(e,t,r,n){const i=new nK(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Am.funcKeywordCode)(i,r):"macro"in r?(0,Am.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Am.funcKeywordCode)(i,r)}const ove=/^\/(?:[^~]|~0|~1)*$/,sve=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oK(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(e==="")return Qt.default.rootData;if(e[0]==="/"){if(!ove.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=Qt.default.rootData}else{const u=sve.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(i=u[2],i==="#"){if(f>=t)throw new Error(l("property/index",f));return n[t-f]}if(f>t)throw new Error(l("data",f));if(o=r[t-f],!i)return o}let s=o;const a=i.split("/");for(const u of a)u&&(o=(0,Vt._)`${o}${(0,Vt.getProperty)((0,Ml.unescapeJsonPointer)(u))}`,s=(0,Vt._)`${s} && ${o}`);return s;function l(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}Ms.getData=oK;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});class ave extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}ep.default=ave;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});const d$=Ti;class lve extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,d$.resolveUrl)(t,r,n),this.missingSchema=(0,d$.normalizeId)((0,d$.getFullPath)(t,this.missingRef))}}Zf.default=lve;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.resolveSchema=to.getCompilingSchema=to.resolveRef=to.compileSchema=to.SchemaEnv=void 0;const Zs=er,uve=ep,Vc=ls,fa=Ti,qF=It,cve=Ms;class nS{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,fa.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}to.SchemaEnv=nS;function Rj(e){const t=sK.call(this,e);if(t)return t;const r=(0,fa.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new Zs.CodeGen(this.scope,{es5:n,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:uve.default,code:(0,Zs._)`require("ajv/dist/runtime/validation_error").default`}));const l=s.scopeName("validate");e.validateName=l;const u={gen:s,allErrors:this.opts.allErrors,data:Vc.default.data,parentData:Vc.default.parentData,parentDataProperty:Vc.default.parentDataProperty,dataNames:[Vc.default.data],dataPathArr:[Zs.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Zs.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Zs.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Zs._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,cve.validateFunctionCode)(u),s.optimize(this.opts.code.optimize);const c=s.toString();f=`${s.scopeRefs(Vc.default.scope)}return ${c}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const g=new Function(`${Vc.default.self}`,`${Vc.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:g}),g.errors=null,g.schema=e.schema,g.schemaEnv=e,e.$async&&(g.$async=!0),this.opts.code.source===!0&&(g.source={validateName:l,validateCode:c,scopeValues:s._values}),this.opts.unevaluated){const{props:m,items:_}=u;g.evaluated={props:m instanceof Zs.Name?void 0:m,items:_ instanceof Zs.Name?void 0:_,dynamicProps:m instanceof Zs.Name,dynamicItems:_ instanceof Zs.Name},g.source&&(g.source.evaluated=(0,Zs.stringify)(g.evaluated))}return e.validate=g,e}catch(c){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),c}finally{this._compilations.delete(e)}}to.compileSchema=Rj;function fve(e,t,r){var n;r=(0,fa.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=pve.call(this,e,r);if(o===void 0){const s=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;s&&(o=new nS({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=dve.call(this,o)}to.resolveRef=fve;function dve(e){return(0,fa.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Rj.call(this,e)}function sK(e){for(const t of this._compilations)if(hve(t,e))return t}to.getCompilingSchema=sK;function hve(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function pve(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||iS.call(this,e,t)}function iS(e,t){const r=this.opts.uriResolver.parse(t),n=(0,fa._getFullPath)(this.opts.uriResolver,r);let i=(0,fa.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return h$.call(this,r,e);const o=(0,fa.normalizeId)(n),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=iS.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:h$.call(this,r,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||Rj.call(this,s),o===(0,fa.normalizeId)(t)){const{schema:a}=s,{schemaId:l}=this.opts,u=a[l];return u&&(i=(0,fa.resolveUrl)(this.opts.uriResolver,i,u)),new nS({schema:a,schemaId:l,root:e,baseId:i})}return h$.call(this,r,s)}}to.resolveSchema=iS;const mve=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function h$(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,qF.unescapeFragment)(a)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!mve.has(a)&&u&&(t=(0,fa.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,qF.schemaHasRulesButRef)(r,this.RULES)){const a=(0,fa.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=iS.call(this,n,a)}const{schemaId:s}=this.opts;if(o=o||new nS({schema:r,schemaId:s,root:n,baseId:t}),o.schema!==o.root.schema)return o}const gve="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",vve="Meta-schema for $data reference (JSON AnySchema extension proposal)",yve="object",wve=["$data"],bve={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},_ve=!1,Eve={$id:gve,description:vve,type:yve,required:wve,properties:bve,additionalProperties:_ve};var Ij={},oS={exports:{}};const Sve=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),aK=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function lK(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(r=e[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(r=e[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}const $ve=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function VF(e){return e.length=0,!0}function Tve(e,t,r){if(e.length){const n=lK(e);if(n!=="")t.push(n);else return r.error=!0,!1;e.length=0}return!0}function xve(e){let t=0;const r={error:!1,address:"",zone:""},n=[],i=[];let o=!1,s=!1,a=Tve;for(let l=0;l<e.length;l++){const u=e[l];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(s=!0),!a(i,n,r))break;if(++t>7){r.error=!0;break}l>0&&e[l-1]===":"&&(o=!0),n.push(":");continue}else if(u==="%"){if(!a(i,n,r))break;a=VF}else{i.push(u);continue}}return i.length&&(a===VF?r.zone=i.join(""):s?n.push(i.join("")):n.push(lK(i))),r.address=n.join(""),r}function uK(e){if(Ave(e,":")<2)return{host:e,isIPV6:!1};const t=xve(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Ave(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function Ove(e){let t=e;const r=[];let n=-1,i=0;for(;i=t.length;){if(i===1){if(t===".")break;if(t==="/"){r.push("/");break}else{r.push(t);break}}else if(i===2){if(t[0]==="."){if(t[1]===".")break;if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&(t[1]==="."||t[1]==="/")){r.push("/");break}}else if(i===3&&t==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(t[0]==="."){if(t[1]==="."){if(t[2]==="/"){t=t.slice(3);continue}}else if(t[1]==="/"){t=t.slice(2);continue}}else if(t[0]==="/"&&t[1]==="."){if(t[2]==="/"){t=t.slice(2);continue}else if(t[2]==="."&&t[3]==="/"){t=t.slice(3),r.length!==0&&r.pop();continue}}if((n=t.indexOf("/",1))===-1){r.push(t);break}else r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function Pve(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Nve(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);if(!aK(r)){const n=uK(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var cK={nonSimpleDomain:$ve,recomposeAuthority:Nve,normalizeComponentEncoding:Pve,removeDotSegments:Ove,isIPv4:aK,isUUID:Sve,normalizeIPv6:uK};const{isUUID:Rve}=cK,Ive=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function fK(e){return e.secure===!0?!0:e.secure===!1?!1:e.scheme?e.scheme.length===3&&(e.scheme[0]==="w"||e.scheme[0]==="W")&&(e.scheme[1]==="s"||e.scheme[1]==="S")&&(e.scheme[2]==="s"||e.scheme[2]==="S"):!1}function dK(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function hK(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function jve(e){return e.secure=fK(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function kve(e){if((e.port===(fK(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Cve(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Ive);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const i=`${n}:${t.nid||e.nid}`,o=jj(i);e.path=void 0,o&&(e=o.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Dve(e,t){if(e.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=`${r}:${t.nid||n}`,o=jj(i);o&&(e=o.serialize(e,t));const s=e,a=e.nss;return s.path=`${n||t.nid}:${a}`,t.skipEscape=!0,s}function Mve(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Rve(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Lve(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const pK={scheme:"http",domainHost:!0,parse:dK,serialize:hK},Fve={scheme:"https",domainHost:pK.domainHost,parse:dK,serialize:hK},rb={scheme:"ws",domainHost:!0,parse:jve,serialize:kve},Bve={scheme:"wss",domainHost:rb.domainHost,parse:rb.parse,serialize:rb.serialize},Uve={scheme:"urn",parse:Cve,serialize:Dve,skipNormalize:!0},zve={scheme:"urn:uuid",parse:Mve,serialize:Lve,skipNormalize:!0},x_={http:pK,https:Fve,ws:rb,wss:Bve,urn:Uve,"urn:uuid":zve};Object.setPrototypeOf(x_,null);function jj(e){return e&&(x_[e]||x_[e.toLowerCase()])||void 0}var qve={SCHEMES:x_,getSchemeHandler:jj};const{normalizeIPv6:Vve,removeDotSegments:rm,recomposeAuthority:Hve,normalizeComponentEncoding:gy,isIPv4:Wve,nonSimpleDomain:Gve}=cK,{SCHEMES:Kve,getSchemeHandler:mK}=qve;function Jve(e,t){return typeof e=="string"?e=Xa(Hl(e,t),t):typeof e=="object"&&(e=Hl(Xa(e,t),t)),e}function Yve(e,t,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},i=gK(Hl(e,n),Hl(t,n),n,!0);return n.skipEscape=!0,Xa(i,n)}function gK(e,t,r,n){const i={};return n||(e=Hl(Xa(e,r),r),t=Hl(Xa(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=rm(t.path||""),i.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=rm(t.path||""),i.query=t.query):(t.path?(t.path[0]==="/"?i.path=rm(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?i.path="/"+t.path:e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path,i.path=rm(i.path)),i.query=t.query):(i.path=e.path,t.query!==void 0?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function Xve(e,t,r){return typeof e=="string"?(e=unescape(e),e=Xa(gy(Hl(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Xa(gy(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Xa(gy(Hl(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Xa(gy(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Xa(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),i=[],o=mK(n.scheme||r.scheme);o&&o.serialize&&o.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&i.push(r.scheme,":");const s=Hve(r);if(s!==void 0&&(n.reference!=="suffix"&&i.push("//"),i.push(s),r.path&&r.path[0]!=="/"&&i.push("/")),r.path!==void 0){let a=r.path;!n.absolutePath&&(!o||!o.absolutePath)&&(a=rm(a)),s===void 0&&a[0]==="/"&&a[1]==="/"&&(a="/%2F"+a.slice(2)),i.push(a)}return r.query!==void 0&&i.push("?",r.query),r.fragment!==void 0&&i.push("#",r.fragment),i.join("")}const Qve=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Hl(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let i=!1;r.reference==="suffix"&&(r.scheme?e=r.scheme+":"+e:e="//"+e);const o=e.match(Qve);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host)if(Wve(n.host)===!1){const l=Vve(n.host);n.host=l.host.toLowerCase(),i=l.isIPV6}else i=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const s=mK(r.scheme||n.scheme);if(!r.unicodeSupport&&(!s||!s.unicodeSupport)&&n.host&&(r.domainHost||s&&s.domainHost)&&i===!1&&Gve(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!s||s&&!s.skipNormalize)&&(e.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),s&&s.parse&&s.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const kj={SCHEMES:Kve,normalize:Jve,resolve:Yve,resolveComponent:gK,equal:Xve,serialize:Xa,parse:Hl};oS.exports=kj;oS.exports.default=kj;oS.exports.fastUri=kj;var Zve=oS.exports;Object.defineProperty(Ij,"__esModule",{value:!0});const vK=Zve;vK.code='require("ajv/dist/runtime/uri").default';Ij.default=vK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ms;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=er;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=ep,i=Zf,o=Bf,s=to,a=er,l=Ti,u=ii,f=It,c=Eve,h=Ij,g=(k,B)=>new RegExp(k,B);g.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function y(k){var B,W,P,R,z,oe,J,Y,ae,be,Ie,N,D,M,K,se,ce,de,pe,Ae,Le,Ce,rt,qe,Ue;const G=k.strict,I=(B=k.code)===null||B===void 0?void 0:B.optimize,L=I===!0||I===void 0?1:I||0,ie=(P=(W=k.code)===null||W===void 0?void 0:W.regExp)!==null&&P!==void 0?P:g,ye=(R=k.uriResolver)!==null&&R!==void 0?R:h.default;return{strictSchema:(oe=(z=k.strictSchema)!==null&&z!==void 0?z:G)!==null&&oe!==void 0?oe:!0,strictNumbers:(Y=(J=k.strictNumbers)!==null&&J!==void 0?J:G)!==null&&Y!==void 0?Y:!0,strictTypes:(be=(ae=k.strictTypes)!==null&&ae!==void 0?ae:G)!==null&&be!==void 0?be:"log",strictTuples:(N=(Ie=k.strictTuples)!==null&&Ie!==void 0?Ie:G)!==null&&N!==void 0?N:"log",strictRequired:(M=(D=k.strictRequired)!==null&&D!==void 0?D:G)!==null&&M!==void 0?M:!1,code:k.code?{...k.code,optimize:L,regExp:ie}:{optimize:L,regExp:ie},loopRequired:(K=k.loopRequired)!==null&&K!==void 0?K:E,loopEnum:(se=k.loopEnum)!==null&&se!==void 0?se:E,meta:(ce=k.meta)!==null&&ce!==void 0?ce:!0,messages:(de=k.messages)!==null&&de!==void 0?de:!0,inlineRefs:(pe=k.inlineRefs)!==null&&pe!==void 0?pe:!0,schemaId:(Ae=k.schemaId)!==null&&Ae!==void 0?Ae:"$id",addUsedSchema:(Le=k.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(Ce=k.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(rt=k.validateFormats)!==null&&rt!==void 0?rt:!0,unicodeRegExp:(qe=k.unicodeRegExp)!==null&&qe!==void 0?qe:!0,int32range:(Ue=k.int32range)!==null&&Ue!==void 0?Ue:!0,uriResolver:ye}}class S{constructor(B={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,B=this.opts={...B,...y(B)};const{es5:W,lines:P}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:W,lines:P}),this.logger=F(B.logger);const R=B.validateFormats;B.validateFormats=!1,this.RULES=(0,o.getRules)(),$.call(this,v,B,"NOT SUPPORTED"),$.call(this,p,B,"DEPRECATED","warn"),this._metaOpts=O.call(this),B.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),B.keywords&&A.call(this,B.keywords),typeof B.meta=="object"&&this.addMetaSchema(B.meta),d.call(this),B.validateFormats=R}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:B,meta:W,schemaId:P}=this.opts;let R=c;P==="id"&&(R={...c},R.id=R.$id,delete R.$id),W&&B&&this.addMetaSchema(R,R[P],!1)}defaultMeta(){const{meta:B,schemaId:W}=this.opts;return this.opts.defaultMeta=typeof B=="object"?B[W]||B:void 0}validate(B,W){let P;if(typeof B=="string"){if(P=this.getSchema(B),!P)throw new Error(`no schema with key or ref "${B}"`)}else P=this.compile(B);const R=P(W);return"$async"in P||(this.errors=P.errors),R}compile(B,W){const P=this._addSchema(B,W);return P.validate||this._compileSchemaEnv(P)}compileAsync(B,W){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:P}=this.opts;return R.call(this,B,W);async function R(be,Ie){await z.call(this,be.$schema);const N=this._addSchema(be,Ie);return N.validate||oe.call(this,N)}async function z(be){be&&!this.getSchema(be)&&await R.call(this,{$ref:be},!0)}async function oe(be){try{return this._compileSchemaEnv(be)}catch(Ie){if(!(Ie instanceof i.default))throw Ie;return J.call(this,Ie),await Y.call(this,Ie.missingSchema),oe.call(this,be)}}function J({missingSchema:be,missingRef:Ie}){if(this.refs[be])throw new Error(`AnySchema ${be} is loaded but ${Ie} cannot be resolved`)}async function Y(be){const Ie=await ae.call(this,be);this.refs[be]||await z.call(this,Ie.$schema),this.refs[be]||this.addSchema(Ie,be,W)}async function ae(be){const Ie=this._loading[be];if(Ie)return Ie;try{return await(this._loading[be]=P(be))}finally{delete this._loading[be]}}}addSchema(B,W,P,R=this.opts.validateSchema){if(Array.isArray(B)){for(const oe of B)this.addSchema(oe,void 0,P,R);return this}let z;if(typeof B=="object"){const{schemaId:oe}=this.opts;if(z=B[oe],z!==void 0&&typeof z!="string")throw new Error(`schema ${oe} must be string`)}return W=(0,l.normalizeId)(W||z),this._checkUnique(W),this.schemas[W]=this._addSchema(B,P,W,R,!0),this}addMetaSchema(B,W,P=this.opts.validateSchema){return this.addSchema(B,W,!0,P),this}validateSchema(B,W){if(typeof B=="boolean")return!0;let P;if(P=B.$schema,P!==void 0&&typeof P!="string")throw new Error("$schema must be a string");if(P=P||this.opts.defaultMeta||this.defaultMeta(),!P)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const R=this.validate(P,B);if(!R&&W){const z="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(z);else throw new Error(z)}return R}getSchema(B){let W;for(;typeof(W=T.call(this,B))=="string";)B=W;if(W===void 0){const{schemaId:P}=this.opts,R=new s.SchemaEnv({schema:{},schemaId:P});if(W=s.resolveSchema.call(this,R,B),!W)return;this.refs[B]=W}return W.validate||this._compileSchemaEnv(W)}removeSchema(B){if(B instanceof RegExp)return this._removeAllSchemas(this.schemas,B),this._removeAllSchemas(this.refs,B),this;switch(typeof B){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const W=T.call(this,B);return typeof W=="object"&&this._cache.delete(W.schema),delete this.schemas[B],delete this.refs[B],this}case"object":{const W=B;this._cache.delete(W);let P=B[this.opts.schemaId];return P&&(P=(0,l.normalizeId)(P),delete this.schemas[P],delete this.refs[P]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(B){for(const W of B)this.addKeyword(W);return this}addKeyword(B,W){let P;if(typeof B=="string")P=B,typeof W=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=P);else if(typeof B=="object"&&W===void 0){if(W=B,P=W.keyword,Array.isArray(P)&&!P.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,P,W),!W)return(0,f.eachItem)(P,z=>H.call(this,z)),this;fe.call(this,W);const R={...W,type:(0,u.getJSONTypes)(W.type),schemaType:(0,u.getJSONTypes)(W.schemaType)};return(0,f.eachItem)(P,R.type.length===0?z=>H.call(this,z,R):z=>R.type.forEach(oe=>H.call(this,z,R,oe))),this}getKeyword(B){const W=this.RULES.all[B];return typeof W=="object"?W.definition:!!W}removeKeyword(B){const{RULES:W}=this;delete W.keywords[B],delete W.all[B];for(const P of W.rules){const R=P.rules.findIndex(z=>z.keyword===B);R>=0&&P.rules.splice(R,1)}return this}addFormat(B,W){return typeof W=="string"&&(W=new RegExp(W)),this.formats[B]=W,this}errorsText(B=this.errors,{separator:W=", ",dataVar:P="data"}={}){return!B||B.length===0?"No errors":B.map(R=>`${P}${R.instancePath} ${R.message}`).reduce((R,z)=>R+W+z)}$dataMetaSchema(B,W){const P=this.RULES.all;B=JSON.parse(JSON.stringify(B));for(const R of W){const z=R.split("/").slice(1);let oe=B;for(const J of z)oe=oe[J];for(const J in P){const Y=P[J];if(typeof Y!="object")continue;const{$data:ae}=Y.definition,be=oe[J];ae&&be&&(oe[J]=ne(be))}}return B}_removeAllSchemas(B,W){for(const P in B){const R=B[P];(!W||W.test(P))&&(typeof R=="string"?delete B[P]:R&&!R.meta&&(this._cache.delete(R.schema),delete B[P]))}}_addSchema(B,W,P,R=this.opts.validateSchema,z=this.opts.addUsedSchema){let oe;const{schemaId:J}=this.opts;if(typeof B=="object")oe=B[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof B!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(B);if(Y!==void 0)return Y;P=(0,l.normalizeId)(oe||P);const ae=l.getSchemaRefs.call(this,B,P);return Y=new s.SchemaEnv({schema:B,schemaId:J,meta:W,baseId:P,localRefs:ae}),this._cache.set(Y.schema,Y),z&&!P.startsWith("#")&&(P&&this._checkUnique(P),this.refs[P]=Y),R&&this.validateSchema(B,!0),Y}_checkUnique(B){if(this.schemas[B]||this.refs[B])throw new Error(`schema with key or id "${B}" already exists`)}_compileSchemaEnv(B){if(B.meta?this._compileMetaSchema(B):s.compileSchema.call(this,B),!B.validate)throw new Error("ajv implementation error");return B.validate}_compileMetaSchema(B){const W=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,B)}finally{this.opts=W}}}S.ValidationError=n.default,S.MissingRefError=i.default,e.default=S;function $(k,B,W,P="error"){for(const R in k){const z=R;z in B&&this.logger[P](`${W}: option ${R}. ${k[z]}`)}}function T(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function d(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const B in k)this.addSchema(k[B],B)}function x(){for(const k in this.opts.formats){const B=this.opts.formats[k];B&&this.addFormat(k,B)}}function A(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const B in k){const W=k[B];W.keyword||(W.keyword=B),this.addKeyword(W)}}function O(){const k={...this.opts};for(const B of m)delete k[B];return k}const C={log(){},warn(){},error(){}};function F(k){if(k===!1)return C;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function X(k,B){const{RULES:W}=this;if((0,f.eachItem)(k,P=>{if(W.keywords[P])throw new Error(`Keyword ${P} is already defined`);if(!V.test(P))throw new Error(`Keyword ${P} has invalid name`)}),!!B&&B.$data&&!("code"in B||"validate"in B))throw new Error('$data keyword must have "code" or "validate" function')}function H(k,B,W){var P;const R=B==null?void 0:B.post;if(W&&R)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:z}=this;let oe=R?z.post:z.rules.find(({type:Y})=>Y===W);if(oe||(oe={type:W,rules:[]},z.rules.push(oe)),z.keywords[k]=!0,!B)return;const J={keyword:k,definition:{...B,type:(0,u.getJSONTypes)(B.type),schemaType:(0,u.getJSONTypes)(B.schemaType)}};B.before?Z.call(this,oe,J,B.before):oe.rules.push(J),z.all[k]=J,(P=B.implements)===null||P===void 0||P.forEach(Y=>this.addKeyword(Y))}function Z(k,B,W){const P=k.rules.findIndex(R=>R.keyword===W);P>=0?k.rules.splice(P,0,B):(k.rules.push(B),this.logger.warn(`rule ${W} is not defined`))}function fe(k){let{metaSchema:B}=k;B!==void 0&&(k.$data&&this.opts.$data&&(B=ne(B)),k.validateSchema=this.compile(B,!0))}const ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ne(k){return{anyOf:[k,ee]}}})(_j);var sS={},Cj={},Dj={};Object.defineProperty(Dj,"__esModule",{value:!0});const eye={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Dj.default=eye;var Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.callRef=Wl.getValidate=void 0;const tye=Zf,HF=wr,wo=er,xd=ls,WF=to,vy=It,rye={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&i===u.baseId)return c();const f=WF.resolveRef.call(l,u,i,r);if(f===void 0)throw new tye.default(n.opts.uriResolver,i,r);if(f instanceof WF.SchemaEnv)return h(f);return g(f);function c(){if(o===u)return nb(e,s,o,o.$async);const m=t.scopeValue("root",{ref:u});return nb(e,(0,wo._)`${m}.validate`,u,u.$async)}function h(m){const _=yK(e,m);nb(e,_,m,m.$async)}function g(m){const _=t.scopeValue("schema",a.code.source===!0?{ref:m,code:(0,wo.stringify)(m)}:{ref:m}),v=t.name("valid"),p=e.subschema({schema:m,dataTypes:[],schemaPath:wo.nil,topSchemaRef:_,errSchemaPath:r},v);e.mergeEvaluated(p),e.ok(v)}}};function yK(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,wo._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Wl.getValidate=yK;function nb(e,t,r,n){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:l}=o,u=l.passContext?xd.default.this:wo.nil;n?f():c();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const m=i.let("valid");i.try(()=>{i.code((0,wo._)`await ${(0,HF.callValidateCode)(e,t,u)}`),g(t),s||i.assign(m,!0)},_=>{i.if((0,wo._)`!(${_} instanceof ${o.ValidationError})`,()=>i.throw(_)),h(_),s||i.assign(m,!1)}),e.ok(m)}function c(){e.result((0,HF.callValidateCode)(e,t,u),()=>g(t),()=>h(t))}function h(m){const _=(0,wo._)`${m}.errors`;i.assign(xd.default.vErrors,(0,wo._)`${xd.default.vErrors} === null ? ${_} : ${xd.default.vErrors}.concat(${_})`),i.assign(xd.default.errors,(0,wo._)`${xd.default.vErrors}.length`)}function g(m){var _;if(!o.opts.unevaluated)return;const v=(_=r==null?void 0:r.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=vy.mergeEvaluated.props(i,v.props,o.props));else{const p=i.var("props",(0,wo._)`${m}.evaluated.props`);o.props=vy.mergeEvaluated.props(i,p,o.props,wo.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=vy.mergeEvaluated.items(i,v.items,o.items));else{const p=i.var("items",(0,wo._)`${m}.evaluated.items`);o.items=vy.mergeEvaluated.items(i,p,o.items,wo.Name)}}}Wl.callRef=nb;Wl.default=rye;Object.defineProperty(Cj,"__esModule",{value:!0});const nye=Dj,iye=Wl,oye=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",nye.default,iye.default];Cj.default=oye;var Mj={},Lj={};Object.defineProperty(Lj,"__esModule",{value:!0});const A_=er,wu=A_.operators,O_={maximum:{okStr:"<=",ok:wu.LTE,fail:wu.GT},minimum:{okStr:">=",ok:wu.GTE,fail:wu.LT},exclusiveMaximum:{okStr:"<",ok:wu.LT,fail:wu.GTE},exclusiveMinimum:{okStr:">",ok:wu.GT,fail:wu.LTE}},sye={message:({keyword:e,schemaCode:t})=>(0,A_.str)`must be ${O_[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,A_._)`{comparison: ${O_[e].okStr}, limit: ${t}}`},aye={keyword:Object.keys(O_),type:"number",schemaType:"number",$data:!0,error:sye,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,A_._)`${r} ${O_[t].fail} ${n} || isNaN(${r})`)}};Lj.default=aye;var Fj={};Object.defineProperty(Fj,"__esModule",{value:!0});const Om=er,lye={message:({schemaCode:e})=>(0,Om.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Om._)`{multipleOf: ${e}}`},uye={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:lye,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,Om._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,Om._)`${s} !== parseInt(${s})`;e.fail$data((0,Om._)`(${n} === 0 || (${s} = ${r}/${n}, ${a}))`)}};Fj.default=uye;var Bj={},Uj={};Object.defineProperty(Uj,"__esModule",{value:!0});function wK(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Uj.default=wK;wK.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Bj,"__esModule",{value:!0});const nf=er,cye=It,fye=Uj,dye={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,nf.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,nf._)`{limit: ${e}}`},hye={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:dye,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,o=t==="maxLength"?nf.operators.GT:nf.operators.LT,s=i.opts.unicode===!1?(0,nf._)`${r}.length`:(0,nf._)`${(0,cye.useFunc)(e.gen,fye.default)}(${r})`;e.fail$data((0,nf._)`${s} ${o} ${n}`)}};Bj.default=hye;var zj={};Object.defineProperty(zj,"__esModule",{value:!0});const pye=wr,P_=er,mye={message:({schemaCode:e})=>(0,P_.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,P_._)`{pattern: ${e}}`},gye={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:mye,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=r?(0,P_._)`(new RegExp(${i}, ${s}))`:(0,pye.usePattern)(e,n);e.fail$data((0,P_._)`!${a}.test(${t})`)}};zj.default=gye;var qj={};Object.defineProperty(qj,"__esModule",{value:!0});const Pm=er,vye={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Pm.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Pm._)`{limit: ${e}}`},yye={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:vye,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Pm.operators.GT:Pm.operators.LT;e.fail$data((0,Pm._)`Object.keys(${r}).length ${i} ${n}`)}};qj.default=yye;var Vj={};Object.defineProperty(Vj,"__esModule",{value:!0});const Ip=wr,Nm=er,wye=It,bye={message:({params:{missingProperty:e}})=>(0,Nm.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Nm._)`{missingProperty: ${e}}`},_ye={keyword:"required",type:"object",schemaType:"array",$data:!0,error:bye,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&r.length===0)return;const l=r.length>=a.loopRequired;if(s.allErrors?u():f(),a.strictRequired){const g=e.parentSchema.properties,{definedProperties:m}=e.it;for(const _ of r)if((g==null?void 0:g[_])===void 0&&!m.has(_)){const v=s.schemaEnv.baseId+s.errSchemaPath,p=`required property "${_}" is not defined at "${v}" (strictRequired)`;(0,wye.checkStrictMode)(s,p,s.opts.strictRequired)}}function u(){if(l||o)e.block$data(Nm.nil,c);else for(const g of r)(0,Ip.checkReportMissingProp)(e,g)}function f(){const g=t.let("missing");if(l||o){const m=t.let("valid",!0);e.block$data(m,()=>h(g,m)),e.ok(m)}else t.if((0,Ip.checkMissingProp)(e,r,g)),(0,Ip.reportMissingProp)(e,g),t.else()}function c(){t.forOf("prop",n,g=>{e.setParams({missingProperty:g}),t.if((0,Ip.noPropertyInData)(t,i,g,a.ownProperties),()=>e.error())})}function h(g,m){e.setParams({missingProperty:g}),t.forOf(g,n,()=>{t.assign(m,(0,Ip.propertyInData)(t,i,g,a.ownProperties)),t.if((0,Nm.not)(m),()=>{e.error(),t.break()})},Nm.nil)}}};Vj.default=_ye;var Hj={};Object.defineProperty(Hj,"__esModule",{value:!0});const Rm=er,Eye={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Rm.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Rm._)`{limit: ${e}}`},Sye={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Eye,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Rm.operators.GT:Rm.operators.LT;e.fail$data((0,Rm._)`${r}.length ${i} ${n}`)}};Hj.default=Sye;var Wj={},ev={};Object.defineProperty(ev,"__esModule",{value:!0});const bK=VG;bK.code='require("ajv/dist/runtime/equal").default';ev.default=bK;Object.defineProperty(Wj,"__esModule",{value:!0});const p$=ii,Si=er,$ye=It,Tye=ev,xye={message:({params:{i:e,j:t}})=>(0,Si.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Si._)`{i: ${e}, j: ${t}}`},Aye={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:xye,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!n&&!i)return;const l=t.let("valid"),u=o.items?(0,p$.getSchemaTypes)(o.items):[];e.block$data(l,f,(0,Si._)`${s} === false`),e.ok(l);function f(){const m=t.let("i",(0,Si._)`${r}.length`),_=t.let("j");e.setParams({i:m,j:_}),t.assign(l,!0),t.if((0,Si._)`${m} > 1`,()=>(c()?h:g)(m,_))}function c(){return u.length>0&&!u.some(m=>m==="object"||m==="array")}function h(m,_){const v=t.name("item"),p=(0,p$.checkDataTypes)(u,v,a.opts.strictNumbers,p$.DataType.Wrong),E=t.const("indices",(0,Si._)`{}`);t.for((0,Si._)`;${m}--;`,()=>{t.let(v,(0,Si._)`${r}[${m}]`),t.if(p,(0,Si._)`continue`),u.length>1&&t.if((0,Si._)`typeof ${v} == "string"`,(0,Si._)`${v} += "_"`),t.if((0,Si._)`typeof ${E}[${v}] == "number"`,()=>{t.assign(_,(0,Si._)`${E}[${v}]`),e.error(),t.assign(l,!1).break()}).code((0,Si._)`${E}[${v}] = ${m}`)})}function g(m,_){const v=(0,$ye.useFunc)(t,Tye.default),p=t.name("outer");t.label(p).for((0,Si._)`;${m}--;`,()=>t.for((0,Si._)`${_} = ${m}; ${_}--;`,()=>t.if((0,Si._)`${v}(${r}[${m}], ${r}[${_}])`,()=>{e.error(),t.assign(l,!1).break(p)})))}}};Wj.default=Aye;var Gj={};Object.defineProperty(Gj,"__esModule",{value:!0});const RP=er,Oye=It,Pye=ev,Nye={message:"must be equal to constant",params:({schemaCode:e})=>(0,RP._)`{allowedValue: ${e}}`},Rye={keyword:"const",$data:!0,error:Nye,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,RP._)`!${(0,Oye.useFunc)(t,Pye.default)}(${r}, ${i})`):e.fail((0,RP._)`${o} !== ${r}`)}};Gj.default=Rye;var Kj={};Object.defineProperty(Kj,"__esModule",{value:!0});const nm=er,Iye=It,jye=ev,kye={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,nm._)`{allowedValues: ${e}}`},Cye={keyword:"enum",schemaType:"array",$data:!0,error:kye,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:o,it:s}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let l;const u=()=>l??(l=(0,Iye.useFunc)(t,jye.default));let f;if(a||n)f=t.let("valid"),e.block$data(f,c);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const g=t.const("vSchema",o);f=(0,nm.or)(...i.map((m,_)=>h(g,_)))}e.pass(f);function c(){t.assign(f,!1),t.forOf("v",o,g=>t.if((0,nm._)`${u()}(${r}, ${g})`,()=>t.assign(f,!0).break()))}function h(g,m){const _=i[m];return typeof _=="object"&&_!==null?(0,nm._)`${u()}(${r}, ${g}[${m}])`:(0,nm._)`${r} === ${_}`}}};Kj.default=Cye;Object.defineProperty(Mj,"__esModule",{value:!0});const Dye=Lj,Mye=Fj,Lye=Bj,Fye=zj,Bye=qj,Uye=Vj,zye=Hj,qye=Wj,Vye=Gj,Hye=Kj,Wye=[Dye.default,Mye.default,Lye.default,Fye.default,Bye.default,Uye.default,zye.default,qye.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Vye.default,Hye.default];Mj.default=Wye;var Jj={},tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.validateAdditionalItems=void 0;const of=er,IP=It,Gye={message:({params:{len:e}})=>(0,of.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,of._)`{limit: ${e}}`},Kye={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Gye,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,IP.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}_K(e,n)}};function _K(e,t){const{gen:r,schema:n,data:i,keyword:o,it:s}=e;s.items=!0;const a=r.const("len",(0,of._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,of._)`${a} <= ${t.length}`);else if(typeof n=="object"&&!(0,IP.alwaysValidSchema)(s,n)){const u=r.var("valid",(0,of._)`${a} <= ${t.length}`);r.if((0,of.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,a,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:IP.Type.Num},u),s.allErrors||r.if((0,of.not)(u),()=>r.break())})}}tp.validateAdditionalItems=_K;tp.default=Kye;var Yj={},rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.validateTuple=void 0;const GF=er,ib=It,Jye=wr,Yye={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return EK(e,"additionalItems",t);r.items=!0,!(0,ib.alwaysValidSchema)(r,t)&&e.ok((0,Jye.validateArray)(e))}};function EK(e,t,r=e.schema){const{gen:n,parentSchema:i,data:o,keyword:s,it:a}=e;f(i),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=ib.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),u=n.const("len",(0,GF._)`${o}.length`);r.forEach((c,h)=>{(0,ib.alwaysValidSchema)(a,c)||(n.if((0,GF._)`${u} > ${h}`,()=>e.subschema({keyword:s,schemaProp:h,dataProp:h},l)),e.ok(l))});function f(c){const{opts:h,errSchemaPath:g}=a,m=r.length,_=m===c.minItems&&(m===c.maxItems||c[t]===!1);if(h.strictTuples&&!_){const v=`"${s}" is ${m}-tuple, but minItems or maxItems/${t} are not specified or different at path "${g}"`;(0,ib.checkStrictMode)(a,v,h.strictTuples)}}}rp.validateTuple=EK;rp.default=Yye;Object.defineProperty(Yj,"__esModule",{value:!0});const Xye=rp,Qye={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Xye.validateTuple)(e,"items")};Yj.default=Qye;var Xj={};Object.defineProperty(Xj,"__esModule",{value:!0});const KF=er,Zye=It,e0e=wr,t0e=tp,r0e={message:({params:{len:e}})=>(0,KF.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,KF._)`{limit: ${e}}`},n0e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:r0e,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Zye.alwaysValidSchema)(n,t)&&(i?(0,t0e.validateAdditionalItems)(e,i):e.ok((0,e0e.validateArray)(e)))}};Xj.default=n0e;var Qj={};Object.defineProperty(Qj,"__esModule",{value:!0});const ws=er,yy=It,i0e={message:({params:{min:e,max:t}})=>t===void 0?(0,ws.str)`must contain at least ${e} valid item(s)`:(0,ws.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ws._)`{minContains: ${e}}`:(0,ws._)`{minContains: ${e}, maxContains: ${t}}`},o0e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:i0e,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;let s,a;const{minContains:l,maxContains:u}=n;o.opts.next?(s=l===void 0?1:l,a=u):s=1;const f=t.const("len",(0,ws._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,yy.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,yy.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,yy.alwaysValidSchema)(o,r)){let _=(0,ws._)`${f} >= ${s}`;a!==void 0&&(_=(0,ws._)`${_} && ${f} <= ${a}`),e.pass(_);return}o.items=!0;const c=t.name("valid");a===void 0&&s===1?g(c,()=>t.if(c,()=>t.break())):s===0?(t.let(c,!0),a!==void 0&&t.if((0,ws._)`${i}.length > 0`,h)):(t.let(c,!1),h()),e.result(c,()=>e.reset());function h(){const _=t.name("_valid"),v=t.let("count",0);g(_,()=>t.if(_,()=>m(v)))}function g(_,v){t.forRange("i",0,f,p=>{e.subschema({keyword:"contains",dataProp:p,dataPropType:yy.Type.Num,compositeRule:!0},_),v()})}function m(_){t.code((0,ws._)`${_}++`),a===void 0?t.if((0,ws._)`${_} >= ${s}`,()=>t.assign(c,!0).break()):(t.if((0,ws._)`${_} > ${a}`,()=>t.assign(c,!1).break()),s===1?t.assign(c,!0):t.if((0,ws._)`${_} >= ${s}`,()=>t.assign(c,!0)))}}};Qj.default=o0e;var aS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=er,r=It,n=wr;e.error={message:({params:{property:l,depsCount:u,deps:f}})=>{const c=u===1?"property":"properties";return(0,t.str)`must have ${c} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:f,missingProperty:c}})=>(0,t._)`{property: ${l},
    missingProperty: ${c},
    depsCount: ${u},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,f]=o(l);s(l,u),a(l,f)}};function o({schema:l}){const u={},f={};for(const c in l){if(c==="__proto__")continue;const h=Array.isArray(l[c])?u:f;h[c]=l[c]}return[u,f]}function s(l,u=l.schema){const{gen:f,data:c,it:h}=l;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const m in u){const _=u[m];if(_.length===0)continue;const v=(0,n.propertyInData)(f,c,m,h.opts.ownProperties);l.setParams({property:m,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(v,()=>{for(const p of _)(0,n.checkReportMissingProp)(l,p)}):(f.if((0,t._)`${v} && (${(0,n.checkMissingProp)(l,_,g)})`),(0,n.reportMissingProp)(l,g),f.else())}}e.validatePropertyDeps=s;function a(l,u=l.schema){const{gen:f,data:c,keyword:h,it:g}=l,m=f.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(g,u[_])||(f.if((0,n.propertyInData)(f,c,_,g.opts.ownProperties),()=>{const v=l.subschema({keyword:h,schemaProp:_},m);l.mergeValidEvaluated(v,m)},()=>f.var(m,!0)),l.ok(m))}e.validateSchemaDeps=a,e.default=i})(aS);var Zj={};Object.defineProperty(Zj,"__esModule",{value:!0});const SK=er,s0e=It,a0e={message:"property name must be valid",params:({params:e})=>(0,SK._)`{propertyName: ${e.propertyName}}`},l0e={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:a0e,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,s0e.alwaysValidSchema)(i,r))return;const o=t.name("valid");t.forIn("key",n,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,SK.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};Zj.default=l0e;var lS={};Object.defineProperty(lS,"__esModule",{value:!0});const wy=wr,na=er,u0e=ls,by=It,c0e={message:"must NOT have additional properties",params:({params:e})=>(0,na._)`{additionalProperty: ${e.additionalProperty}}`},f0e={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:c0e,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=s;if(s.props=!0,l.removeAdditional!=="all"&&(0,by.alwaysValidSchema)(s,r))return;const u=(0,wy.allSchemaProperties)(n.properties),f=(0,wy.allSchemaProperties)(n.patternProperties);c(),e.ok((0,na._)`${o} === ${u0e.default.errors}`);function c(){t.forIn("key",i,v=>{!u.length&&!f.length?m(v):t.if(h(v),()=>m(v))})}function h(v){let p;if(u.length>8){const E=(0,by.schemaRefOrVal)(s,n.properties,"properties");p=(0,wy.isOwnProperty)(t,E,v)}else u.length?p=(0,na.or)(...u.map(E=>(0,na._)`${v} === ${E}`)):p=na.nil;return f.length&&(p=(0,na.or)(p,...f.map(E=>(0,na._)`${(0,wy.usePattern)(e,E)}.test(${v})`))),(0,na.not)(p)}function g(v){t.code((0,na._)`delete ${i}[${v}]`)}function m(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){g(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),a||t.break();return}if(typeof r=="object"&&!(0,by.alwaysValidSchema)(s,r)){const p=t.name("valid");l.removeAdditional==="failing"?(_(v,p,!1),t.if((0,na.not)(p),()=>{e.reset(),g(v)})):(_(v,p),a||t.if((0,na.not)(p),()=>t.break()))}}function _(v,p,E){const y={keyword:"additionalProperties",dataProp:v,dataPropType:by.Type.Str};E===!1&&Object.assign(y,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(y,p)}}};lS.default=f0e;var e2={};Object.defineProperty(e2,"__esModule",{value:!0});const d0e=Ms,JF=wr,m$=It,YF=lS,h0e={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&YF.default.code(new d0e.KeywordCxt(o,YF.default,"additionalProperties"));const s=(0,JF.allSchemaProperties)(r);for(const c of s)o.definedProperties.add(c);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=m$.mergeEvaluated.props(t,(0,m$.toHash)(s),o.props));const a=s.filter(c=>!(0,m$.alwaysValidSchema)(o,r[c]));if(a.length===0)return;const l=t.name("valid");for(const c of a)u(c)?f(c):(t.if((0,JF.propertyInData)(t,i,c,o.opts.ownProperties)),f(c),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(c),e.ok(l);function u(c){return o.opts.useDefaults&&!o.compositeRule&&r[c].default!==void 0}function f(c){e.subschema({keyword:"properties",schemaProp:c,dataProp:c},l)}}};e2.default=h0e;var t2={};Object.defineProperty(t2,"__esModule",{value:!0});const XF=wr,_y=er,QF=It,ZF=It,p0e={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,XF.allSchemaProperties)(r),l=a.filter(_=>(0,QF.alwaysValidSchema)(o,r[_]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const u=s.strictSchema&&!s.allowMatchingProperties&&i.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof _y.Name)&&(o.props=(0,ZF.evaluatedPropsToName)(t,o.props));const{props:c}=o;h();function h(){for(const _ of a)u&&g(_),o.allErrors?m(_):(t.var(f,!0),m(_),t.if(f))}function g(_){for(const v in u)new RegExp(_).test(v)&&(0,QF.checkStrictMode)(o,`property ${v} matches pattern ${_} (use allowMatchingProperties)`)}function m(_){t.forIn("key",n,v=>{t.if((0,_y._)`${(0,XF.usePattern)(e,_)}.test(${v})`,()=>{const p=l.includes(_);p||e.subschema({keyword:"patternProperties",schemaProp:_,dataProp:v,dataPropType:ZF.Type.Str},f),o.opts.unevaluated&&c!==!0?t.assign((0,_y._)`${c}[${v}]`,!0):!p&&!o.allErrors&&t.if((0,_y.not)(f),()=>t.break())})})}}};t2.default=p0e;var r2={};Object.defineProperty(r2,"__esModule",{value:!0});const m0e=It,g0e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,m0e.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};r2.default=g0e;var n2={};Object.defineProperty(n2,"__esModule",{value:!0});const v0e=wr,y0e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:v0e.validateUnion,error:{message:"must match a schema in anyOf"}};n2.default=y0e;var i2={};Object.defineProperty(i2,"__esModule",{value:!0});const ob=er,w0e=It,b0e={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ob._)`{passingSchemas: ${e.passing}}`},_0e={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:b0e,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const o=r,s=t.let("valid",!1),a=t.let("passing",null),l=t.name("_valid");e.setParams({passing:a}),t.block(u),e.result(s,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,c)=>{let h;(0,w0e.alwaysValidSchema)(i,f)?t.var(l,!0):h=e.subschema({keyword:"oneOf",schemaProp:c,compositeRule:!0},l),c>0&&t.if((0,ob._)`${l} && ${s}`).assign(s,!1).assign(a,(0,ob._)`[${a}, ${c}]`).else(),t.if(l,()=>{t.assign(s,!0),t.assign(a,c),h&&e.mergeEvaluated(h,ob.Name)})})}}};i2.default=_0e;var o2={};Object.defineProperty(o2,"__esModule",{value:!0});const E0e=It,S0e={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((o,s)=>{if((0,E0e.alwaysValidSchema)(n,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};o2.default=S0e;var s2={};Object.defineProperty(s2,"__esModule",{value:!0});const N_=er,$K=It,$0e={message:({params:e})=>(0,N_.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,N_._)`{failingKeyword: ${e.ifClause}}`},T0e={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:$0e,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,$K.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=e3(n,"then"),o=e3(n,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(l(),e.reset(),i&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(a,u("then",f),u("else",f))}else i?t.if(a,u("then")):t.if((0,N_.not)(a),u("else"));e.pass(s,()=>e.error(!0));function l(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(f)}function u(f,c){return()=>{const h=e.subschema({keyword:f},a);t.assign(s,a),e.mergeValidEvaluated(h,s),c?t.assign(c,(0,N_._)`${f}`):e.setParams({ifClause:f})}}}};function e3(e,t){const r=e.schema[t];return r!==void 0&&!(0,$K.alwaysValidSchema)(e,r)}s2.default=T0e;var a2={};Object.defineProperty(a2,"__esModule",{value:!0});const x0e=It,A0e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,x0e.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};a2.default=A0e;Object.defineProperty(Jj,"__esModule",{value:!0});const O0e=tp,P0e=Yj,N0e=rp,R0e=Xj,I0e=Qj,j0e=aS,k0e=Zj,C0e=lS,D0e=e2,M0e=t2,L0e=r2,F0e=n2,B0e=i2,U0e=o2,z0e=s2,q0e=a2;function V0e(e=!1){const t=[L0e.default,F0e.default,B0e.default,U0e.default,z0e.default,q0e.default,k0e.default,C0e.default,j0e.default,D0e.default,M0e.default];return e?t.push(P0e.default,R0e.default):t.push(O0e.default,N0e.default),t.push(I0e.default),t}Jj.default=V0e;var l2={},u2={};Object.defineProperty(u2,"__esModule",{value:!0});const zn=er,H0e={message:({schemaCode:e})=>(0,zn.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,zn._)`{format: ${e}}`},W0e={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:H0e,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:l,errSchemaPath:u,schemaEnv:f,self:c}=a;if(!l.validateFormats)return;i?h():g();function h(){const m=r.scopeValue("formats",{ref:c.formats,code:l.code.formats}),_=r.const("fDef",(0,zn._)`${m}[${s}]`),v=r.let("fType"),p=r.let("format");r.if((0,zn._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(v,(0,zn._)`${_}.type || "string"`).assign(p,(0,zn._)`${_}.validate`),()=>r.assign(v,(0,zn._)`"string"`).assign(p,_)),e.fail$data((0,zn.or)(E(),y()));function E(){return l.strictSchema===!1?zn.nil:(0,zn._)`${s} && !${p}`}function y(){const S=f.$async?(0,zn._)`(${_}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,zn._)`${p}(${n})`,$=(0,zn._)`(typeof ${p} == "function" ? ${S} : ${p}.test(${n}))`;return(0,zn._)`${p} && ${p} !== true && ${v} === ${t} && !${$}`}}function g(){const m=c.formats[o];if(!m){E();return}if(m===!0)return;const[_,v,p]=y(m);_===t&&e.pass(S());function E(){if(l.strictSchema===!1){c.logger.warn($());return}throw new Error($());function $(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function y($){const T=$ instanceof RegExp?(0,zn.regexpCode)($):l.code.formats?(0,zn._)`${l.code.formats}${(0,zn.getProperty)(o)}`:void 0,d=r.scopeValue("formats",{key:o,ref:$,code:T});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,zn._)`${d}.validate`]:["string",$,d]}function S(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!f.$async)throw new Error("async format in sync schema");return(0,zn._)`await ${p}(${n})`}return typeof v=="function"?(0,zn._)`${p}(${n})`:(0,zn._)`${p}.test(${n})`}}}};u2.default=W0e;Object.defineProperty(l2,"__esModule",{value:!0});const G0e=u2,K0e=[G0e.default];l2.default=K0e;var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.contentVocabulary=Fh.metadataVocabulary=void 0;Fh.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Fh.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(sS,"__esModule",{value:!0});const J0e=Cj,Y0e=Mj,X0e=Jj,Q0e=l2,t3=Fh,Z0e=[J0e.default,Y0e.default,(0,X0e.default)(),Q0e.default,t3.metadataVocabulary,t3.contentVocabulary];sS.default=Z0e;var uS={},cS={};Object.defineProperty(cS,"__esModule",{value:!0});cS.DiscrError=void 0;var r3;(function(e){e.Tag="tag",e.Mapping="mapping"})(r3||(cS.DiscrError=r3={}));Object.defineProperty(uS,"__esModule",{value:!0});const Ld=er,jP=cS,n3=to,ewe=Zf,twe=It,rwe={message:({params:{discrError:e,tagName:t}})=>e===jP.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ld._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},nwe={keyword:"discriminator",type:"object",schemaType:"object",error:rwe,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,Ld._)`${r}${(0,Ld.getProperty)(a)}`);t.if((0,Ld._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:jP.DiscrError.Tag,tag:u,tagName:a})),e.ok(l);function f(){const g=h();t.if(!1);for(const m in g)t.elseIf((0,Ld._)`${u} === ${m}`),t.assign(l,c(g[m]));t.else(),e.error(!1,{discrError:jP.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}function c(g){const m=t.name("valid"),_=e.subschema({keyword:"oneOf",schemaProp:g},m);return e.mergeEvaluated(_,Ld.Name),m}function h(){var g;const m={},_=p(i);let v=!0;for(let S=0;S<s.length;S++){let $=s[S];if($!=null&&$.$ref&&!(0,twe.schemaHasRulesButRef)($,o.self.RULES)){const d=$.$ref;if($=n3.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,d),$ instanceof n3.SchemaEnv&&($=$.schema),$===void 0)throw new ewe.default(o.opts.uriResolver,o.baseId,d)}const T=(g=$==null?void 0:$.properties)===null||g===void 0?void 0:g[a];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);v=v&&(_||p($)),E(T,S)}if(!v)throw new Error(`discriminator: "${a}" must be required`);return m;function p({required:S}){return Array.isArray(S)&&S.includes(a)}function E(S,$){if(S.const)y(S.const,$);else if(S.enum)for(const T of S.enum)y(T,$);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function y(S,$){if(typeof S!="string"||S in m)throw new Error(`discriminator: "${a}" values must be unique strings`);m[S]=$}}}};uS.default=nwe;const iwe="http://json-schema.org/draft-07/schema#",owe="http://json-schema.org/draft-07/schema#",swe="Core schema meta-schema",awe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},lwe=["object","boolean"],uwe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},TK={$schema:iwe,$id:owe,title:swe,definitions:awe,type:lwe,properties:uwe,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=_j,n=sS,i=uS,o=TK,s=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(m,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Ms;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=er;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var c=ep;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return c.default}});var h=Zf;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(xP,xP.exports);var cwe=xP.exports,kP={exports:{}},xK={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,F){return{validate:C,compare:F}}e.fullFormats={date:t(o,s),time:t(l(!0),u),"date-time":t(h(!0),g),"iso-time":t(l(),f),"iso-date-time":t(h(),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:T},int64:{type:"number",validate:d},float:{type:"number",validate:x},double:{type:"number",validate:x},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,g),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(C){const F=n.exec(C);if(!F)return!1;const V=+F[1],X=+F[2],H=+F[3];return X>=1&&X<=12&&H>=1&&H<=(X===2&&r(V)?29:i[X])}function s(C,F){if(C&&F)return C>F?1:C<F?-1:0}const a=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(C){return function(V){const X=a.exec(V);if(!X)return!1;const H=+X[1],Z=+X[2],fe=+X[3],ee=X[4],ne=X[5]==="-"?-1:1,k=+(X[6]||0),B=+(X[7]||0);if(k>23||B>59||C&&!ee)return!1;if(H<=23&&Z<=59&&fe<60)return!0;const W=Z-B*ne,P=H-k*ne-(W<0?1:0);return(P===23||P===-1)&&(W===59||W===-1)&&fe<61}}function u(C,F){if(!(C&&F))return;const V=new Date("2020-01-01T"+C).valueOf(),X=new Date("2020-01-01T"+F).valueOf();if(V&&X)return V-X}function f(C,F){if(!(C&&F))return;const V=a.exec(C),X=a.exec(F);if(V&&X)return C=V[1]+V[2]+V[3],F=X[1]+X[2]+X[3],C>F?1:C<F?-1:0}const c=/t|\s/i;function h(C){const F=l(C);return function(X){const H=X.split(c);return H.length===2&&o(H[0])&&F(H[1])}}function g(C,F){if(!(C&&F))return;const V=new Date(C).valueOf(),X=new Date(F).valueOf();if(V&&X)return V-X}function m(C,F){if(!(C&&F))return;const[V,X]=C.split(c),[H,Z]=F.split(c),fe=s(V,H);if(fe!==void 0)return fe||u(X,Z)}const _=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(C){return _.test(C)&&v.test(C)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(C){return E.lastIndex=0,E.test(C)}const S=-2147483648,$=2**31-1;function T(C){return Number.isInteger(C)&&C<=$&&C>=S}function d(C){return Number.isInteger(C)}function x(){return!0}const A=/[^\\]\\Z/;function O(C){if(A.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}})(xK);var AK={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=cwe,r=er,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:a,schemaCode:l})=>(0,r.str)`should be ${i[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,r._)`{comparison: ${i[a].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(a){const{gen:l,data:u,schemaCode:f,keyword:c,it:h}=a,{opts:g,self:m}=h;if(!g.validateFormats)return;const _=new t.KeywordCxt(h,m.RULES.all.format.definition,"format");_.$data?v():p();function v(){const y=l.scopeValue("formats",{ref:m.formats,code:g.code.formats}),S=l.const("fmt",(0,r._)`${y}[${_.schemaCode}]`);a.fail$data((0,r.or)((0,r._)`typeof ${S} != "object"`,(0,r._)`${S} instanceof RegExp`,(0,r._)`typeof ${S}.compare != "function"`,E(S)))}function p(){const y=_.schema,S=m.formats[y];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${c}": format "${y}" does not define "compare" function`);const $=l.scopeValue("formats",{key:y,ref:S,code:g.code.formats?(0,r._)`${g.code.formats}${(0,r.getProperty)(y)}`:void 0});a.fail$data(E($))}function E(y){return(0,r._)`${y}.compare(${u}, ${f}) ${i[c].fail} 0`}},dependencies:["format"]};const s=a=>(a.addKeyword(e.formatLimitDefinition),a);e.default=s})(AK);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=xK,n=AK,i=er,o=new i.Name("fullFormats"),s=new i.Name("fastFormats"),a=(u,f={keywords:!0})=>{if(Array.isArray(f))return l(u,f,r.fullFormats,o),u;const[c,h]=f.mode==="fast"?[r.fastFormats,s]:[r.fullFormats,o],g=f.formats||r.formatNames;return l(u,g,c,h),f.keywords&&(0,n.default)(u),u};a.get=(u,f="full")=>{const h=(f==="fast"?r.fastFormats:r.fullFormats)[u];if(!h)throw new Error(`Unknown format "${u}"`);return h};function l(u,f,c,h){var g,m;(g=(m=u.opts.code).formats)!==null&&g!==void 0||(m.formats=(0,i._)`require("ajv-formats/dist/formats").${h}`);for(const _ of f)u.addFormat(_,c[_])}e.exports=t=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a})(kP,kP.exports);var fwe=kP.exports;const dwe=Gl(fwe);var hwe={exports:{}},CP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(js,function(r){function n(){for(var he=arguments.length,ue=Array(he),we=0;we<he;we++)ue[we]=arguments[we];if(ue.length>1){ue[0]=ue[0].slice(0,-1);for(var Re=ue.length-1,xe=1;xe<Re;++xe)ue[xe]=ue[xe].slice(1,-1);return ue[Re]=ue[Re].slice(1),ue.join("")}else return ue[0]}function i(he){return"(?:"+he+")"}function o(he){return he===void 0?"undefined":he===null?"null":Object.prototype.toString.call(he).split(" ").pop().split("]").shift().toLowerCase()}function s(he){return he.toUpperCase()}function a(he){return he!=null?he instanceof Array?he:typeof he.length!="number"||he.split||he.setInterval||he.call?[he]:Array.prototype.slice.call(he):[]}function l(he,ue){var we=he;if(ue)for(var Re in ue)we[Re]=ue[Re];return we}function u(he){var ue="[A-Za-z]",we="[0-9]",Re=n(we,"[A-Fa-f]"),xe=i(i("%[EFef]"+Re+"%"+Re+Re+"%"+Re+Re)+"|"+i("%[89A-Fa-f]"+Re+"%"+Re+Re)+"|"+i("%"+Re+Re)),ot="[\\:\\/\\?\\#\\[\\]\\@]",tt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Tt=n(ot,tt),jt=he?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Lt=he?"[\\uE000-\\uF8FF]":"[]",$t=n(ue,we,"[\\-\\.\\_\\~]",jt);i(ue+n(ue,we,"[\\+\\-\\.]")+"*"),i(i(xe+"|"+n($t,tt,"[\\:]"))+"*");var Nt=i(i("25[0-5]")+"|"+i("2[0-4]"+we)+"|"+i("1"+we+we)+"|"+i("0?[1-9]"+we)+"|0?0?"+we),Ht=i(Nt+"\\."+Nt+"\\."+Nt+"\\."+Nt),yt=i(Re+"{1,4}"),zt=i(i(yt+"\\:"+yt)+"|"+Ht),xt=i(i(yt+"\\:")+"{6}"+zt),kt=i("\\:\\:"+i(yt+"\\:")+"{5}"+zt),en=i(i(yt)+"?\\:\\:"+i(yt+"\\:")+"{4}"+zt),jr=i(i(i(yt+"\\:")+"{0,1}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{3}"+zt),Vr=i(i(i(yt+"\\:")+"{0,2}"+yt)+"?\\:\\:"+i(yt+"\\:")+"{2}"+zt),mn=i(i(i(yt+"\\:")+"{0,3}"+yt)+"?\\:\\:"+yt+"\\:"+zt),Wn=i(i(i(yt+"\\:")+"{0,4}"+yt)+"?\\:\\:"+zt),kr=i(i(i(yt+"\\:")+"{0,5}"+yt)+"?\\:\\:"+yt),Qr=i(i(i(yt+"\\:")+"{0,6}"+yt)+"?\\:\\:"),Zn=i([xt,kt,en,jr,Vr,mn,Wn,kr,Qr].join("|")),gn=i(i($t+"|"+xe)+"+");i("[vV]"+Re+"+\\."+n($t,tt,"[\\:]")+"+"),i(i(xe+"|"+n($t,tt))+"*");var pi=i(xe+"|"+n($t,tt,"[\\:\\@]"));return i(i(xe+"|"+n($t,tt,"[\\@]"))+"+"),i(i(pi+"|"+n("[\\/\\?]",Lt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ue,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",$t,tt),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",$t,tt),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",$t,tt),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",$t,tt),"g"),NOT_QUERY:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]",Lt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",$t,tt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",$t,tt),"g"),UNRESERVED:new RegExp($t,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",$t,Tt),"g"),PCT_ENCODED:new RegExp(xe,"g"),IPV4ADDRESS:new RegExp("^("+Ht+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zn+")"+i(i("\\%25|\\%(?!"+Re+"{2})")+"("+gn+")")+"?\\]?$")}}var f=u(!1),c=u(!0),h=function(){function he(ue,we){var Re=[],xe=!0,ot=!1,tt=void 0;try{for(var Tt=ue[Symbol.iterator](),jt;!(xe=(jt=Tt.next()).done)&&(Re.push(jt.value),!(we&&Re.length===we));xe=!0);}catch(Lt){ot=!0,tt=Lt}finally{try{!xe&&Tt.return&&Tt.return()}finally{if(ot)throw tt}}return Re}return function(ue,we){if(Array.isArray(ue))return ue;if(Symbol.iterator in Object(ue))return he(ue,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(he){if(Array.isArray(he)){for(var ue=0,we=Array(he.length);ue<he.length;ue++)we[ue]=he[ue];return we}else return Array.from(he)},m=2147483647,_=36,v=1,p=26,E=38,y=700,S=72,$=128,T="-",d=/^xn--/,x=/[^\0-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=_-v,F=Math.floor,V=String.fromCharCode;function X(he){throw new RangeError(O[he])}function H(he,ue){for(var we=[],Re=he.length;Re--;)we[Re]=ue(he[Re]);return we}function Z(he,ue){var we=he.split("@"),Re="";we.length>1&&(Re=we[0]+"@",he=we[1]),he=he.replace(A,".");var xe=he.split("."),ot=H(xe,ue).join(".");return Re+ot}function fe(he){for(var ue=[],we=0,Re=he.length;we<Re;){var xe=he.charCodeAt(we++);if(xe>=55296&&xe<=56319&&we<Re){var ot=he.charCodeAt(we++);(ot&64512)==56320?ue.push(((xe&1023)<<10)+(ot&1023)+65536):(ue.push(xe),we--)}else ue.push(xe)}return ue}var ee=function(ue){return String.fromCodePoint.apply(String,g(ue))},ne=function(ue){return ue-48<10?ue-22:ue-65<26?ue-65:ue-97<26?ue-97:_},k=function(ue,we){return ue+22+75*(ue<26)-((we!=0)<<5)},B=function(ue,we,Re){var xe=0;for(ue=Re?F(ue/y):ue>>1,ue+=F(ue/we);ue>C*p>>1;xe+=_)ue=F(ue/C);return F(xe+(C+1)*ue/(ue+E))},W=function(ue){var we=[],Re=ue.length,xe=0,ot=$,tt=S,Tt=ue.lastIndexOf(T);Tt<0&&(Tt=0);for(var jt=0;jt<Tt;++jt)ue.charCodeAt(jt)>=128&&X("not-basic"),we.push(ue.charCodeAt(jt));for(var Lt=Tt>0?Tt+1:0;Lt<Re;){for(var $t=xe,Nt=1,Ht=_;;Ht+=_){Lt>=Re&&X("invalid-input");var yt=ne(ue.charCodeAt(Lt++));(yt>=_||yt>F((m-xe)/Nt))&&X("overflow"),xe+=yt*Nt;var zt=Ht<=tt?v:Ht>=tt+p?p:Ht-tt;if(yt<zt)break;var xt=_-zt;Nt>F(m/xt)&&X("overflow"),Nt*=xt}var kt=we.length+1;tt=B(xe-$t,kt,$t==0),F(xe/kt)>m-ot&&X("overflow"),ot+=F(xe/kt),xe%=kt,we.splice(xe++,0,ot)}return String.fromCodePoint.apply(String,we)},P=function(ue){var we=[];ue=fe(ue);var Re=ue.length,xe=$,ot=0,tt=S,Tt=!0,jt=!1,Lt=void 0;try{for(var $t=ue[Symbol.iterator](),Nt;!(Tt=(Nt=$t.next()).done);Tt=!0){var Ht=Nt.value;Ht<128&&we.push(V(Ht))}}catch(Un){jt=!0,Lt=Un}finally{try{!Tt&&$t.return&&$t.return()}finally{if(jt)throw Lt}}var yt=we.length,zt=yt;for(yt&&we.push(T);zt<Re;){var xt=m,kt=!0,en=!1,jr=void 0;try{for(var Vr=ue[Symbol.iterator](),mn;!(kt=(mn=Vr.next()).done);kt=!0){var Wn=mn.value;Wn>=xe&&Wn<xt&&(xt=Wn)}}catch(Un){en=!0,jr=Un}finally{try{!kt&&Vr.return&&Vr.return()}finally{if(en)throw jr}}var kr=zt+1;xt-xe>F((m-ot)/kr)&&X("overflow"),ot+=(xt-xe)*kr,xe=xt;var Qr=!0,Zn=!1,gn=void 0;try{for(var pi=ue[Symbol.iterator](),us;!(Qr=(us=pi.next()).done);Qr=!0){var cs=us.value;if(cs<xe&&++ot>m&&X("overflow"),cs==xe){for(var Cr=ot,En=_;;En+=_){var mi=En<=tt?v:En>=tt+p?p:En-tt;if(Cr<mi)break;var $a=Cr-mi,fs=_-mi;we.push(V(k(mi+$a%fs,0))),Cr=F($a/fs)}we.push(V(k(Cr,0))),tt=B(ot,kr,zt==yt),ot=0,++zt}}}catch(Un){Zn=!0,gn=Un}finally{try{!Qr&&pi.return&&pi.return()}finally{if(Zn)throw gn}}++ot,++xe}return we.join("")},R=function(ue){return Z(ue,function(we){return d.test(we)?W(we.slice(4).toLowerCase()):we})},z=function(ue){return Z(ue,function(we){return x.test(we)?"xn--"+P(we):we})},oe={version:"2.1.0",ucs2:{decode:fe,encode:ee},decode:W,encode:P,toASCII:z,toUnicode:R},J={};function Y(he){var ue=he.charCodeAt(0),we=void 0;return ue<16?we="%0"+ue.toString(16).toUpperCase():ue<128?we="%"+ue.toString(16).toUpperCase():ue<2048?we="%"+(ue>>6|192).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase():we="%"+(ue>>12|224).toString(16).toUpperCase()+"%"+(ue>>6&63|128).toString(16).toUpperCase()+"%"+(ue&63|128).toString(16).toUpperCase(),we}function ae(he){for(var ue="",we=0,Re=he.length;we<Re;){var xe=parseInt(he.substr(we+1,2),16);if(xe<128)ue+=String.fromCharCode(xe),we+=3;else if(xe>=194&&xe<224){if(Re-we>=6){var ot=parseInt(he.substr(we+4,2),16);ue+=String.fromCharCode((xe&31)<<6|ot&63)}else ue+=he.substr(we,6);we+=6}else if(xe>=224){if(Re-we>=9){var tt=parseInt(he.substr(we+4,2),16),Tt=parseInt(he.substr(we+7,2),16);ue+=String.fromCharCode((xe&15)<<12|(tt&63)<<6|Tt&63)}else ue+=he.substr(we,9);we+=9}else ue+=he.substr(we,3),we+=3}return ue}function be(he,ue){function we(Re){var xe=ae(Re);return xe.match(ue.UNRESERVED)?xe:Re}return he.scheme&&(he.scheme=String(he.scheme).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_SCHEME,"")),he.userinfo!==void 0&&(he.userinfo=String(he.userinfo).replace(ue.PCT_ENCODED,we).replace(ue.NOT_USERINFO,Y).replace(ue.PCT_ENCODED,s)),he.host!==void 0&&(he.host=String(he.host).replace(ue.PCT_ENCODED,we).toLowerCase().replace(ue.NOT_HOST,Y).replace(ue.PCT_ENCODED,s)),he.path!==void 0&&(he.path=String(he.path).replace(ue.PCT_ENCODED,we).replace(he.scheme?ue.NOT_PATH:ue.NOT_PATH_NOSCHEME,Y).replace(ue.PCT_ENCODED,s)),he.query!==void 0&&(he.query=String(he.query).replace(ue.PCT_ENCODED,we).replace(ue.NOT_QUERY,Y).replace(ue.PCT_ENCODED,s)),he.fragment!==void 0&&(he.fragment=String(he.fragment).replace(ue.PCT_ENCODED,we).replace(ue.NOT_FRAGMENT,Y).replace(ue.PCT_ENCODED,s)),he}function Ie(he){return he.replace(/^0*(.*)/,"$1")||"0"}function N(he,ue){var we=he.match(ue.IPV4ADDRESS)||[],Re=h(we,2),xe=Re[1];return xe?xe.split(".").map(Ie).join("."):he}function D(he,ue){var we=he.match(ue.IPV6ADDRESS)||[],Re=h(we,3),xe=Re[1],ot=Re[2];if(xe){for(var tt=xe.toLowerCase().split("::").reverse(),Tt=h(tt,2),jt=Tt[0],Lt=Tt[1],$t=Lt?Lt.split(":").map(Ie):[],Nt=jt.split(":").map(Ie),Ht=ue.IPV4ADDRESS.test(Nt[Nt.length-1]),yt=Ht?7:8,zt=Nt.length-yt,xt=Array(yt),kt=0;kt<yt;++kt)xt[kt]=$t[kt]||Nt[zt+kt]||"";Ht&&(xt[yt-1]=N(xt[yt-1],ue));var en=xt.reduce(function(kr,Qr,Zn){if(!Qr||Qr==="0"){var gn=kr[kr.length-1];gn&&gn.index+gn.length===Zn?gn.length++:kr.push({index:Zn,length:1})}return kr},[]),jr=en.sort(function(kr,Qr){return Qr.length-kr.length})[0],Vr=void 0;if(jr&&jr.length>1){var mn=xt.slice(0,jr.index),Wn=xt.slice(jr.index+jr.length);Vr=mn.join(":")+"::"+Wn.join(":")}else Vr=xt.join(":");return ot&&(Vr+="%"+ot),Vr}else return he}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,K="".match(/(){0}/)[1]===void 0;function se(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we={},Re=ue.iri!==!1?c:f;ue.reference==="suffix"&&(he=(ue.scheme?ue.scheme+":":"")+"//"+he);var xe=he.match(M);if(xe){K?(we.scheme=xe[1],we.userinfo=xe[3],we.host=xe[4],we.port=parseInt(xe[5],10),we.path=xe[6]||"",we.query=xe[7],we.fragment=xe[8],isNaN(we.port)&&(we.port=xe[5])):(we.scheme=xe[1]||void 0,we.userinfo=he.indexOf("@")!==-1?xe[3]:void 0,we.host=he.indexOf("//")!==-1?xe[4]:void 0,we.port=parseInt(xe[5],10),we.path=xe[6]||"",we.query=he.indexOf("?")!==-1?xe[7]:void 0,we.fragment=he.indexOf("#")!==-1?xe[8]:void 0,isNaN(we.port)&&(we.port=he.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?xe[4]:void 0)),we.host&&(we.host=D(N(we.host,Re),Re)),we.scheme===void 0&&we.userinfo===void 0&&we.host===void 0&&we.port===void 0&&!we.path&&we.query===void 0?we.reference="same-document":we.scheme===void 0?we.reference="relative":we.fragment===void 0?we.reference="absolute":we.reference="uri",ue.reference&&ue.reference!=="suffix"&&ue.reference!==we.reference&&(we.error=we.error||"URI is not a "+ue.reference+" reference.");var ot=J[(ue.scheme||we.scheme||"").toLowerCase()];if(!ue.unicodeSupport&&(!ot||!ot.unicodeSupport)){if(we.host&&(ue.domainHost||ot&&ot.domainHost))try{we.host=oe.toASCII(we.host.replace(Re.PCT_ENCODED,ae).toLowerCase())}catch(tt){we.error=we.error||"Host's domain name can not be converted to ASCII via punycode: "+tt}be(we,f)}else be(we,Re);ot&&ot.parse&&ot.parse(we,ue)}else we.error=we.error||"URI can not be parsed.";return we}function ce(he,ue){var we=ue.iri!==!1?c:f,Re=[];return he.userinfo!==void 0&&(Re.push(he.userinfo),Re.push("@")),he.host!==void 0&&Re.push(D(N(String(he.host),we),we).replace(we.IPV6ADDRESS,function(xe,ot,tt){return"["+ot+(tt?"%25"+tt:"")+"]"})),(typeof he.port=="number"||typeof he.port=="string")&&(Re.push(":"),Re.push(String(he.port))),Re.length?Re.join(""):void 0}var de=/^\.\.?\//,pe=/^\/\.(\/|$)/,Ae=/^\/\.\.(\/|$)/,Le=/^\/?(?:.|\n)*?(?=\/|$)/;function Ce(he){for(var ue=[];he.length;)if(he.match(de))he=he.replace(de,"");else if(he.match(pe))he=he.replace(pe,"/");else if(he.match(Ae))he=he.replace(Ae,"/"),ue.pop();else if(he==="."||he==="..")he="";else{var we=he.match(Le);if(we){var Re=we[0];he=he.slice(Re.length),ue.push(Re)}else throw new Error("Unexpected dot segment condition")}return ue.join("")}function rt(he){var ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ue.iri?c:f,Re=[],xe=J[(ue.scheme||he.scheme||"").toLowerCase()];if(xe&&xe.serialize&&xe.serialize(he,ue),he.host&&!we.IPV6ADDRESS.test(he.host)){if(ue.domainHost||xe&&xe.domainHost)try{he.host=ue.iri?oe.toUnicode(he.host):oe.toASCII(he.host.replace(we.PCT_ENCODED,ae).toLowerCase())}catch(Tt){he.error=he.error||"Host's domain name can not be converted to "+(ue.iri?"Unicode":"ASCII")+" via punycode: "+Tt}}be(he,we),ue.reference!=="suffix"&&he.scheme&&(Re.push(he.scheme),Re.push(":"));var ot=ce(he,ue);if(ot!==void 0&&(ue.reference!=="suffix"&&Re.push("//"),Re.push(ot),he.path&&he.path.charAt(0)!=="/"&&Re.push("/")),he.path!==void 0){var tt=he.path;!ue.absolutePath&&(!xe||!xe.absolutePath)&&(tt=Ce(tt)),ot===void 0&&(tt=tt.replace(/^\/\//,"/%2F")),Re.push(tt)}return he.query!==void 0&&(Re.push("?"),Re.push(he.query)),he.fragment!==void 0&&(Re.push("#"),Re.push(he.fragment)),Re.join("")}function qe(he,ue){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=arguments[3],xe={};return Re||(he=se(rt(he,we),we),ue=se(rt(ue,we),we)),we=we||{},!we.tolerant&&ue.scheme?(xe.scheme=ue.scheme,xe.userinfo=ue.userinfo,xe.host=ue.host,xe.port=ue.port,xe.path=Ce(ue.path||""),xe.query=ue.query):(ue.userinfo!==void 0||ue.host!==void 0||ue.port!==void 0?(xe.userinfo=ue.userinfo,xe.host=ue.host,xe.port=ue.port,xe.path=Ce(ue.path||""),xe.query=ue.query):(ue.path?(ue.path.charAt(0)==="/"?xe.path=Ce(ue.path):((he.userinfo!==void 0||he.host!==void 0||he.port!==void 0)&&!he.path?xe.path="/"+ue.path:he.path?xe.path=he.path.slice(0,he.path.lastIndexOf("/")+1)+ue.path:xe.path=ue.path,xe.path=Ce(xe.path)),xe.query=ue.query):(xe.path=he.path,ue.query!==void 0?xe.query=ue.query:xe.query=he.query),xe.userinfo=he.userinfo,xe.host=he.host,xe.port=he.port),xe.scheme=he.scheme),xe.fragment=ue.fragment,xe}function Ue(he,ue,we){var Re=l({scheme:"null"},we);return rt(qe(se(he,Re),se(ue,Re),Re,!0),Re)}function G(he,ue){return typeof he=="string"?he=rt(se(he,ue),ue):o(he)==="object"&&(he=se(rt(he,ue),ue)),he}function I(he,ue,we){return typeof he=="string"?he=rt(se(he,we),we):o(he)==="object"&&(he=rt(he,we)),typeof ue=="string"?ue=rt(se(ue,we),we):o(ue)==="object"&&(ue=rt(ue,we)),he===ue}function L(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.ESCAPE:c.ESCAPE,Y)}function ie(he,ue){return he&&he.toString().replace(!ue||!ue.iri?f.PCT_ENCODED:c.PCT_ENCODED,ae)}var ye={scheme:"http",domainHost:!0,parse:function(ue,we){return ue.host||(ue.error=ue.error||"HTTP URIs must have a host."),ue},serialize:function(ue,we){var Re=String(ue.scheme).toLowerCase()==="https";return(ue.port===(Re?443:80)||ue.port==="")&&(ue.port=void 0),ue.path||(ue.path="/"),ue}},Se={scheme:"https",domainHost:ye.domainHost,parse:ye.parse,serialize:ye.serialize};function De(he){return typeof he.secure=="boolean"?he.secure:String(he.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(ue,we){var Re=ue;return Re.secure=De(Re),Re.resourceName=(Re.path||"/")+(Re.query?"?"+Re.query:""),Re.path=void 0,Re.query=void 0,Re},serialize:function(ue,we){if((ue.port===(De(ue)?443:80)||ue.port==="")&&(ue.port=void 0),typeof ue.secure=="boolean"&&(ue.scheme=ue.secure?"wss":"ws",ue.secure=void 0),ue.resourceName){var Re=ue.resourceName.split("?"),xe=h(Re,2),ot=xe[0],tt=xe[1];ue.path=ot&&ot!=="/"?ot:void 0,ue.query=tt,ue.resourceName=void 0}return ue.fragment=void 0,ue}},Be={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},st={},wt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ut="[0-9A-Fa-f]",Ct=i(i("%[EFef]"+ut+"%"+ut+ut+"%"+ut+ut)+"|"+i("%[89A-Fa-f]"+ut+"%"+ut+ut)+"|"+i("%"+ut+ut)),Tr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",or=n(Pr,'[\\"\\\\]'),ur="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",sn=new RegExp(wt,"g"),tr=new RegExp(Ct,"g"),Dt=new RegExp(n("[^]",Tr,"[\\.]",'[\\"]',or),"g"),Jt=new RegExp(n("[^]",wt,ur),"g"),Ee=Jt;function Pe(he){var ue=ae(he);return ue.match(sn)?ue:he}var ct={scheme:"mailto",parse:function(ue,we){var Re=ue,xe=Re.to=Re.path?Re.path.split(","):[];if(Re.path=void 0,Re.query){for(var ot=!1,tt={},Tt=Re.query.split("&"),jt=0,Lt=Tt.length;jt<Lt;++jt){var $t=Tt[jt].split("=");switch($t[0]){case"to":for(var Nt=$t[1].split(","),Ht=0,yt=Nt.length;Ht<yt;++Ht)xe.push(Nt[Ht]);break;case"subject":Re.subject=ie($t[1],we);break;case"body":Re.body=ie($t[1],we);break;default:ot=!0,tt[ie($t[0],we)]=ie($t[1],we);break}}ot&&(Re.headers=tt)}Re.query=void 0;for(var zt=0,xt=xe.length;zt<xt;++zt){var kt=xe[zt].split("@");if(kt[0]=ie(kt[0]),we.unicodeSupport)kt[1]=ie(kt[1],we).toLowerCase();else try{kt[1]=oe.toASCII(ie(kt[1],we).toLowerCase())}catch(en){Re.error=Re.error||"Email address's domain name can not be converted to ASCII via punycode: "+en}xe[zt]=kt.join("@")}return Re},serialize:function(ue,we){var Re=ue,xe=a(ue.to);if(xe){for(var ot=0,tt=xe.length;ot<tt;++ot){var Tt=String(xe[ot]),jt=Tt.lastIndexOf("@"),Lt=Tt.slice(0,jt).replace(tr,Pe).replace(tr,s).replace(Dt,Y),$t=Tt.slice(jt+1);try{$t=we.iri?oe.toUnicode($t):oe.toASCII(ie($t,we).toLowerCase())}catch(zt){Re.error=Re.error||"Email address's domain name can not be converted to "+(we.iri?"Unicode":"ASCII")+" via punycode: "+zt}xe[ot]=Lt+"@"+$t}Re.path=xe.join(",")}var Nt=ue.headers=ue.headers||{};ue.subject&&(Nt.subject=ue.subject),ue.body&&(Nt.body=ue.body);var Ht=[];for(var yt in Nt)Nt[yt]!==st[yt]&&Ht.push(yt.replace(tr,Pe).replace(tr,s).replace(Jt,Y)+"="+Nt[yt].replace(tr,Pe).replace(tr,s).replace(Ee,Y));return Ht.length&&(Re.query=Ht.join("&")),Re}},ht=/^([^\:]+)\:(.*)/,et={scheme:"urn",parse:function(ue,we){var Re=ue.path&&ue.path.match(ht),xe=ue;if(Re){var ot=we.scheme||xe.scheme||"urn",tt=Re[1].toLowerCase(),Tt=Re[2],jt=ot+":"+(we.nid||tt),Lt=J[jt];xe.nid=tt,xe.nss=Tt,xe.path=void 0,Lt&&(xe=Lt.parse(xe,we))}else xe.error=xe.error||"URN can not be parsed.";return xe},serialize:function(ue,we){var Re=we.scheme||ue.scheme||"urn",xe=ue.nid,ot=Re+":"+(we.nid||xe),tt=J[ot];tt&&(ue=tt.serialize(ue,we));var Tt=ue,jt=ue.nss;return Tt.path=(xe||we.nid)+":"+jt,Tt}},At=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ot={scheme:"urn:uuid",parse:function(ue,we){var Re=ue;return Re.uuid=Re.nss,Re.nss=void 0,!we.tolerant&&(!Re.uuid||!Re.uuid.match(At))&&(Re.error=Re.error||"UUID is not valid."),Re},serialize:function(ue,we){var Re=ue;return Re.nss=(ue.uuid||"").toLowerCase(),Re}};J[ye.scheme]=ye,J[Se.scheme]=Se,J[ke.scheme]=ke,J[Be.scheme]=Be,J[ct.scheme]=ct,J[et.scheme]=et,J[Ot.scheme]=Ot,r.SCHEMES=J,r.pctEncChar=Y,r.pctDecChars=ae,r.parse=se,r.removeDotSegments=Ce,r.serialize=rt,r.resolveComponents=qe,r.resolve=Ue,r.normalize=G,r.equal=I,r.escapeComponent=L,r.unescapeComponent=ie,Object.defineProperty(r,"__esModule",{value:!0})})})(CP,CP.exports);var OK=CP.exports,$o={},PK={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.nearley=r()})(js,function(){function t(u,f,c){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=c,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+" ● "+this.symbols.slice(u).map(l).join(" ");return this.name+" → "+f};function r(u,f,c,h){this.rule=u,this.dot=f,this.reference=c,this.data=[],this.wantedBy=h,this.isComplete=this.dot===u.symbols.length}r.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},r.prototype.nextState=function(u){var f=new r(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},r.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},r.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function n(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}n.prototype.process=function(u){for(var f=this.states,c=this.wants,h=this.completed,g=0;g<f.length;g++){var m=f[g];if(m.isComplete){if(m.finish(),m.data!==s.fail){for(var _=m.wantedBy,v=_.length;v--;){var p=_[v];this.complete(p,m)}if(m.reference===this.index){var E=m.rule.name;(this.completed[E]=this.completed[E]||[]).push(m)}}}else{var E=m.rule.symbols[m.dot];if(typeof E!="string"){this.scannable.push(m);continue}if(c[E]){if(c[E].push(m),h.hasOwnProperty(E))for(var y=h[E],v=0;v<y.length;v++){var S=y[v];this.complete(m,S)}}else c[E]=[m],this.predict(E)}}},n.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],c=0;c<f.length;c++){var h=f[c],g=this.wants[u],m=new r(h,0,this.index,g);this.states.push(m)}},n.prototype.complete=function(u,f){var c=u.nextState(f);this.states.push(c)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var c=this.byName={};this.rules.forEach(function(h){c.hasOwnProperty(h.name)||(c[h.name]=[]),c[h.name].push(h)})}i.fromCompiled=function(h,f){var c=h.Lexer;h.ParserStart&&(f=h.ParserStart,h=h.ParserRules);var h=h.map(function(m){return new t(m.name,m.symbols,m.postprocess)}),g=new i(h,f);return g.lexer=c,g};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var c=this.buffer;if(typeof c=="string"){var h=c.split(`
`).slice(Math.max(0,this.line-5),this.line),g=c.indexOf(`
`,this.index);g===-1&&(g=c.length);var m=this.index-this.lastLineBreak,_=String(this.line).length;return f+=" at line "+this.line+" col "+m+`:

`,f+=h.map(function(p,E){return v(this.line-h.length+E+1,_)+" "+p},this).join(`
`),f+=`
`+v("",_+m)+`^
`,f}else return f+" at index "+(this.index-1);function v(p,E){var y=String(p);return Array(E-y.length+1).join(" ")+y}};function s(u,f,c){if(u instanceof i)var h=u,c=f;else var h=i.fromCompiled(u,f);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new o};for(var g in c||{})this.options[g]=c[g];this.lexer=this.options.lexer,this.lexerState=void 0;var m=new n(h,0);this.table=[m],m.wants[h.start]=[],m.predict(h.start),m.process(),this.current=0}s.fail={},s.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var c;;){try{if(c=f.next(),!c)break}catch(d){var _=new n(this.grammar,this.current+1);this.table.push(_);var h=new Error(this.reportLexerError(d));throw h.offset=this.current,h.token=d.token,h}var g=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var m=this.current+1,_=new n(this.grammar,m);this.table.push(_);for(var v=c.text!==void 0?c.text:c.value,p=f.constructor===o?c.value:c,E=g.scannable,y=E.length;y--;){var S=E[y],$=S.rule.symbols[S.dot];if($.test?$.test(p):$.type?$.type===c.type:$.literal===v){var T=S.nextState({data:p,token:c,isToken:!0,reference:m-1});_.states.push(T)}}if(_.process(),_.states.length===0){var h=new Error(this.reportError(c));throw h.offset=this.current,h.token=c,h}this.options.keepHistory&&(g.lexerState=f.save()),this.current++}return g&&(this.lexerState=f.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(u){var f,c,h=u.token;return h?(f="input "+JSON.stringify(h.text[0])+" (lexer error)",c=this.lexer.formatError(h,"Syntax error")):(f="input (lexer error)",c=u.message),this.reportErrorCommon(c,f)},s.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),c=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(c,f)},s.prototype.reportErrorCommon=function(u,f){var c=[];c.push(u);var h=this.table.length-2,g=this.table[h],m=g.states.filter(function(v){var p=v.rule.symbols[v.dot];return p&&typeof p!="string"});if(m.length===0)c.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(g.states,c);else{c.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var _=m.map(function(v){return this.buildFirstStateStack(v,[])||[v]},this);_.forEach(function(v){var p=v[0],E=p.rule.symbols[p.dot],y=this.getSymbolDisplay(E);c.push("A "+y+" based on:"),this.displayStateStack(v,c)},this)}return c.push(""),c.join(`
`)},s.prototype.displayStateStack=function(u,f){for(var c,h=0,g=0;g<u.length;g++){var m=u[g],_=m.rule.toString(m.dot);_===c?h++:(h>0&&f.push("    ^ "+h+" more lines identical to this"),h=0,f.push("    "+_)),c=_}},s.prototype.getSymbolDisplay=function(u){return a(u)},s.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var c=u.wantedBy[0],h=[u].concat(f),g=this.buildFirstStateStack(c,h);return g===null?null:[u].concat(g)},s.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},s.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},s.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},s.prototype.finish=function(){var u=[],f=this.grammar.start,c=this.table[this.table.length-1];return c.states.forEach(function(h){h.rule.name===f&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==s.fail&&u.push(h)}),u.map(function(h){return h.data})};function a(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:s,Grammar:i,Rule:t}})})(PK);var pwe=PK.exports,c2={};Object.defineProperty(c2,"__esModule",{value:!0});function _i(e){return e[0]}const NK=e=>[].concat(...e.map(t=>Array.isArray(t)?NK(t):t));function Ad(e){return e?Array.isArray(e)?NK(e).join(""):e:""}const mwe={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:e=>e.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(e){return e.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(e){return e.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:_i},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:_i},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:e=>e[0].concat([e[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:_i},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:e=>e[0].concat([e[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:_i},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(e){return{DomainName:Ad(e[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(e){return{AddressLiteral:Ad(e[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(e){return{localPart:Ad(e[0]),domainPart:Ad(e[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(e){return{DotString:Ad(e[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(e){return{QuotedString:Ad(e[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:e=>e[0].concat([e[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:e=>e[0].concat([e[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:e=>e[0].concat([e[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:_i},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:e=>e[0].concat([e[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:_i},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:_i},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:_i},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:_i},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:e=>e.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:_i},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:_i},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:_i},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:_i},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:_i},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:_i},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:_i},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:_i}],ParserStart:"Reverse_path"};c2.default=mwe;var gwe=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($o,"__esModule",{value:!0});$o.canonicalize=$o.canonicalize_quoted_string=$o.normalize=$o.normalize_dot_string=$o.parse=void 0;const RK=pwe,IK=gwe(c2);IK.default.ParserStart="Mailbox";const vwe=RK.Grammar.fromCompiled(IK.default);function f2(e){if(e.length>986)throw new Error("address too long");const r=new RK.Parser(vwe);if(r.feed(e),r.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");const n=e.lastIndexOf("@"),i=e.substring(n+1);if(i[0]!=="["){if(i.length>253)throw new Error("domain too long");const o=i.split(".");if(o.length<2)throw new Error("domain not fully qualified");if(o[o.length-1].length<2)throw new Error("top level domain label too short");if(o.sort(function(s,a){return a.length-s.length}),o[0].length>63)throw new Error("domain label too long")}return r.results[0]}$o.parse=f2;function jK(e){return function(){const n=e.indexOf("+");return n===-1?e:e.substr(0,n)}().replace(/\./g,"").toLowerCase()}$o.normalize_dot_string=jK;function ywe(e){var t,r;const n=f2(e),i=(t=n.domainPart.AddressLiteral)!==null&&t!==void 0?t:n.domainPart.DomainName.toLowerCase();return`${(r=n.localPart.QuotedString)!==null&&r!==void 0?r:jK(n.localPart.DotString)}@${i}`}$o.normalize=ywe;function kK(e){return`"${e.substr(1).substr(0,e.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}$o.canonicalize_quoted_string=kK;function wwe(e){var t;const r=f2(e),n=(t=r.domainPart.AddressLiteral)!==null&&t!==void 0?t:r.domainPart.DomainName.toLowerCase();return`${r.localPart.QuotedString?kK(r.localPart.QuotedString):r.localPart.DotString}@${n}`}$o.canonicalize=wwe;var sb=Object.prototype.hasOwnProperty,CK=Object.prototype.toString,i3=Object.defineProperty,o3=Object.getOwnPropertyDescriptor,s3=function(t){return typeof Array.isArray=="function"?Array.isArray(t):CK.call(t)==="[object Array]"},a3=function(t){if(!t||CK.call(t)!=="[object Object]")return!1;var r=sb.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&sb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||sb.call(t,i)},l3=function(t,r){i3&&r.name==="__proto__"?i3(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},u3=function(t,r){if(r==="__proto__")if(sb.call(t,r)){if(o3)return o3(t,r).value}else return;return t[r]},bwe=function e(){var t,r,n,i,o,s,a=arguments[0],l=1,u=arguments.length,f=!1;for(typeof a=="boolean"&&(f=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=u3(a,r),i=u3(t,r),a!==i&&(f&&i&&(a3(i)||(o=s3(i)))?(o?(o=!1,s=n&&s3(n)?n:[]):s=n&&a3(n)?n:{},l3(a,{name:r,newValue:e(f,s,i)})):typeof i<"u"&&l3(a,{name:r,newValue:i}));return a};const _we=[{scheme:"aaa",description:"Diameter Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"aaas",description:"Diameter Protocol with Secure Transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6733"}]},{scheme:"about",description:"about",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6694"}]},{scheme:"acap",description:"application configuration access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2244"}]},{scheme:"acct",description:"acct",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7565"}]},{scheme:"cap",description:"Calendar Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4324"}]},{scheme:"cid",description:"content identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"coap",description:"coap",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"coaps",description:"coaps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7252"}]},{scheme:"crid",description:"TV-Anytime Content Reference Identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4078"}]},{scheme:"data",description:"data",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2397"}]},{scheme:"dav",description:"dav",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"dict",description:"dictionary service protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2229"}]},{scheme:"dns",description:"Domain Name System",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4501"}]},{scheme:"example",description:"example",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7595"}]},{scheme:"file",description:"Host-specific file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"ftp",description:"File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"geo",description:"Geographic Locations",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5870"}]},{scheme:"go",description:"go",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3368"}]},{scheme:"gopher",description:"The Gopher Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4266"}]},{scheme:"h323",description:"H.323",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3508"}]},{scheme:"http",description:"Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"https",description:"Hypertext Transfer Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7230"}]},{scheme:"iax",description:"Inter-Asterisk eXchange Version 2",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5456"}]},{scheme:"icap",description:"Internet Content Adaptation Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3507"}]},{scheme:"im",description:"Instant Messaging",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3860"}]},{scheme:"imap",description:"internet message access protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5092"}]},{scheme:"info",description:`Information Assets with Identifiers in Public Namespaces. 
       (section 3) defines an "info" registry 
        of public namespaces, which is maintained by NISO and can be accessed 
        from .`,reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4452"}]},{scheme:"ipp",description:"Internet Printing Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3510"}]},{scheme:"ipps",description:"Internet Printing Protocol over HTTPS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7472"}]},{scheme:"iris",description:"Internet Registry Information Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3981"}]},{scheme:"iris.beep",description:"iris.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3983"}]},{scheme:"iris.lwz",description:"iris.lwz",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4993"}]},{scheme:"iris.xpc",description:"iris.xpc",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"iris.xpcs",description:"iris.xpcs",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4992"}]},{scheme:"jabber",description:"jabber",reference:[],template:"http://www.iana.org/assignments/uri-schemes/perm/jabber"},{scheme:"ldap",description:"Lightweight Directory Access Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4516"}]},{scheme:"mailto",description:"Electronic mail address",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6068"}]},{scheme:"mid",description:"message identifier",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2392"}]},{scheme:"msrp",description:"Message Session Relay Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"msrps",description:"Message Session Relay Protocol Secure",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4975"}]},{scheme:"mtqp",description:"Message Tracking Query Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3887"}]},{scheme:"mupdate",description:"Mailbox Update (MUPDATE) Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3656"}]},{scheme:"news",description:"USENET news",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"nfs",description:"network file system protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2224"}]},{scheme:"ni",description:"ni",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nih",description:"nih",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6920"}]},{scheme:"nntp",description:"USENET news using NNTP access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"opaquelocktoken",description:"opaquelocktokent",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4918"}]},{scheme:"pkcs11",description:"PKCS#11",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7512"}]},{scheme:"pop",description:"Post Office Protocol v3",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2384"}]},{scheme:"pres",description:"Presence",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3859"}]},{scheme:"reload",description:"reload",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6940"}]},{scheme:"rtsp",description:"Real-time Streaming Protocol (RTSP)",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtsps",description:"Real-time Streaming Protocol (RTSP) over TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"},{type:"draft",href:"http://www.iana.org/go/RFC-ietf-mmusic-rfc2326bis-40"}]},{scheme:"rtspu",description:"Real-time Streaming Protocol (RTSP) over unreliable datagram transport",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2326"}]},{scheme:"service",description:"service location",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2609"}]},{scheme:"session",description:"session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6787"}]},{scheme:"shttp",description:"Secure Hypertext Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2660"}]},{scheme:"sieve",description:"ManageSieve Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5804"}]},{scheme:"sip",description:"session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sips",description:"secure session initiation protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3261"}]},{scheme:"sms",description:"Short Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5724"}]},{scheme:"snmp",description:"Simple Network Management Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4088"}]},{scheme:"soap.beep",description:"soap.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"soap.beeps",description:"soap.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4227"}]},{scheme:"stun",description:"stun",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"stuns",description:"stuns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7064"}]},{scheme:"tag",description:"tag",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4151"}]},{scheme:"tel",description:"telephone",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"telnet",description:"Reference to interactive sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4248"}]},{scheme:"tftp",description:"Trivial File Transfer Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3617"}]},{scheme:"thismessage",description:"multipart/related relative reference resolution",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2557"}],template:"http://www.iana.org/assignments/uri-schemes/perm/thismessage"},{scheme:"tip",description:"Transaction Internet Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2371"}]},{scheme:"tn3270",description:"Interactive 3270 emulation sessions",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6270"}]},{scheme:"turn",description:"turn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"turns",description:"turns",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7065"}]},{scheme:"tv",description:"TV Broadcasts",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2838"}]},{scheme:"urn",description:"Uniform Resource Names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2141"},{type:"registry",href:"http://www.iana.org/assignments/urn-namespaces"}]},{scheme:"vemmi",description:"versatile multimedia interface",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2122"}]},{scheme:"vnc",description:"Remote Framebuffer Protocol",reference:[{type:"draft",href:"http://www.iana.org/go/RFC-warden-appsawg-vnc-scheme-10"}]},{scheme:"ws",description:"WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"wss",description:"Encrypted WebSocket connections",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6455"}]},{scheme:"xcon",description:"xcon",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xcon-userid",description:"xcon-userid",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6501"}]},{scheme:"xmlrpc.beep",description:"xmlrpc.beep",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmlrpc.beeps",description:"xmlrpc.beeps",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc3529"}]},{scheme:"xmpp",description:"Extensible Messaging and Presence Protocol",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5122"}]},{scheme:"z39.50r",description:"Z39.50 Retrieval",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]},{scheme:"z39.50s",description:"Z39.50 Session",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],Ewe=[{scheme:"acr",description:"acr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/acr"},{scheme:"adiumxtra",description:"adiumxtra",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/adiumxtra"},{scheme:"afp",description:"afp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/afp"},{scheme:"afs",description:"Andrew File System global file names",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"}]},{scheme:"aim",description:"aim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aim"},{scheme:"appdata",description:"appdata",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/appdata"},{scheme:"apt",description:"apt",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/apt"},{scheme:"attachment",description:"attachment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/attachment"},{scheme:"aw",description:"aw",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/aw"},{scheme:"barion",description:"barion",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/barion"},{scheme:"beshare",description:"beshare",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/beshare"},{scheme:"bitcoin",description:"bitcoin",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bitcoin"},{scheme:"blob",description:"blob",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/blob"},{scheme:"bolo",description:"bolo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/bolo"},{scheme:"callto",description:"callto",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/callto"},{scheme:"chrome",description:"chrome",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome"},{scheme:"chrome-extension",description:"chrome-extension",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/chrome-extension"},{scheme:"com-eventbrite-attendee",description:"com-eventbrite-attendee",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/com-eventbrite-attendee"},{scheme:"content",description:"content",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/content"},{scheme:"cvs",description:"cvs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/cvs"},{scheme:"dis",description:"dis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dis"},{scheme:"dlna-playcontainer",description:"dlna-playcontainer",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playcontainer"},{scheme:"dlna-playsingle",description:"dlna-playsingle",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dlna-playsingle"},{scheme:"dntp",description:"dntp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/dntp"},{scheme:"dtn",description:"DTNRG research and development",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5050"}]},{scheme:"dvb",description:"dvb",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mcroberts-uri-dvb"}]},{scheme:"ed2k",description:"ed2k",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ed2k"},{scheme:"facetime",description:"facetime",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/facetime"},{scheme:"feed",description:"feed",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feed"},{scheme:"feedready",description:"feedready",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/feedready"},{scheme:"finger",description:"finger",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/finger"},{scheme:"fish",description:"fish",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/fish"},{scheme:"gg",description:"gg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gg"},{scheme:"git",description:"git",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/git"},{scheme:"gizmoproject",description:"gizmoproject",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gizmoproject"},{scheme:"gtalk",description:"gtalk",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/gtalk"},{scheme:"ham",description:"ham",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7046"}]},{scheme:"hcp",description:"hcp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/hcp"},{scheme:"icon",description:"icon",reference:[{type:"draft",href:"http://www.iana.org/go/draft-lafayette-icon-uri-scheme"}]},{scheme:"iotdisco",description:"iotdisco",reference:[{type:"uri",href:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco.pdf"}],template:"http://www.iana.org/assignments/uri-schemes/prov/iotdisco"},{scheme:"ipn",description:"ipn",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6260"}]},{scheme:"irc",description:"irc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc"},{scheme:"irc6",description:"irc6",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/irc6"},{scheme:"ircs",description:"ircs",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ircs"},{scheme:"isostore",description:"isostore",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/isostore"},{scheme:"itms",description:"itms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/itms"},{scheme:"jar",description:"jar",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/jar"},{scheme:"jms",description:"Java Message Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6167"}]},{scheme:"keyparc",description:"keyparc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/keyparc"},{scheme:"lastfm",description:"lastfm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/lastfm"},{scheme:"ldaps",description:"ldaps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ldaps"},{scheme:"magnet",description:"magnet",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/magnet"},{scheme:"maps",description:"maps",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/maps"},{scheme:"market",description:"market",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/market"},{scheme:"message",description:"message",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/message"},{scheme:"mms",description:"mms",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mms"},{scheme:"ms-access",description:"ms-access",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-access"},{scheme:"ms-drive-to",description:"ms-drive-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-drive-to"},{scheme:"ms-enrollment",description:"ms-enrollment",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-enrollment"},{scheme:"ms-excel",description:"ms-excel",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-excel"},{scheme:"ms-getoffice",description:"ms-getoffice",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-getoffice"},{scheme:"ms-help",description:"ms-help",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-help"},{scheme:"ms-infopath",description:"ms-infopath",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-infopath"},{scheme:"ms-media-stream-id",description:"ms-media-stream-id",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-media-stream-id"},{scheme:"ms-powerpoint",description:"ms-powerpoint",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-powerpoint"},{scheme:"ms-project",description:"ms-project",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-project"},{scheme:"ms-publisher",description:"ms-publisher",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-publisher"},{scheme:"ms-search-repair",description:"ms-search-repair",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-search-repair"},{scheme:"ms-secondary-screen-controller",description:"ms-secondary-screen-controller",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-controller"},{scheme:"ms-secondary-screen-setup",description:"ms-secondary-screen-setup",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-secondary-screen-setup"},{scheme:"ms-settings",description:"ms-settings",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings"},{scheme:"ms-settings-airplanemode",description:"ms-settings-airplanemode",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-airplanemode"},{scheme:"ms-settings-bluetooth",description:"ms-settings-bluetooth",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-bluetooth"},{scheme:"ms-settings-camera",description:"ms-settings-camera",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-camera"},{scheme:"ms-settings-cellular",description:"ms-settings-cellular",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cellular"},{scheme:"ms-settings-cloudstorage",description:"ms-settings-cloudstorage",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-cloudstorage"},{scheme:"ms-settings-connectabledevices",description:"ms-settings-connectabledevices",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-connectabledevices"},{scheme:"ms-settings-displays-topology",description:"ms-settings-displays-topology",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-displays-topology"},{scheme:"ms-settings-emailandaccounts",description:"ms-settings-emailandaccounts",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-emailandaccounts"},{scheme:"ms-settings-language",description:"ms-settings-language",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-language"},{scheme:"ms-settings-location",description:"ms-settings-location",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-location"},{scheme:"ms-settings-lock",description:"ms-settings-lock",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-lock"},{scheme:"ms-settings-nfctransactions",description:"ms-settings-nfctransactions",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-nfctransactions"},{scheme:"ms-settings-notifications",description:"ms-settings-notifications",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-notifications"},{scheme:"ms-settings-power",description:"ms-settings-power",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-power"},{scheme:"ms-settings-privacy",description:"ms-settings-privacy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-privacy"},{scheme:"ms-settings-proximity",description:"ms-settings-proximity",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-proximity"},{scheme:"ms-settings-screenrotation",description:"ms-settings-screenrotation",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-screenrotation"},{scheme:"ms-settings-wifi",description:"ms-settings-wifi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-wifi"},{scheme:"ms-settings-workplace",description:"ms-settings-workplace",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-settings-workplace"},{scheme:"ms-spd",description:"ms-spd",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-spd"},{scheme:"ms-transit-to",description:"ms-transit-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-transit-to"},{scheme:"ms-visio",description:"ms-visio",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-visio"},{scheme:"ms-walk-to",description:"ms-walk-to",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-walk-to"},{scheme:"ms-word",description:"ms-word",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ms-word"},{scheme:"msnim",description:"msnim",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/msnim"},{scheme:"mumble",description:"mumble",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mumble"},{scheme:"mvn",description:"mvn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/mvn"},{scheme:"notes",description:"notes",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/notes"},{scheme:"oid",description:"oid",reference:[{type:"draft",href:"http://www.iana.org/go/draft-larmouth-oid-iri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/oid"},{scheme:"palm",description:"palm",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/palm"},{scheme:"paparazzi",description:"paparazzi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/paparazzi"},{scheme:"platform",description:"platform",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/platform"},{scheme:"proxy",description:"proxy",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/proxy"},{scheme:"psyc",description:"psyc",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/psyc"},{scheme:"query",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/query"},{scheme:"redis",description:"redis",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/redis"},{scheme:"rediss",description:"rediss",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rediss"},{scheme:"res",description:"res",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/res"},{scheme:"resource",description:"resource",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/resource"},{scheme:"rmi",description:"rmi",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rmi"},{scheme:"rsync",description:"rsync",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5781"}]},{scheme:"rtmfp",description:"rtmfp",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc7425"}],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmfp"},{scheme:"rtmp",description:"rtmp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/rtmp"},{scheme:"secondlife",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/secondlife"},{scheme:"sftp",description:"query",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sftp"},{scheme:"sgn",description:"sgn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/sgn"},{scheme:"skype",description:"skype",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/skype"},{scheme:"smb",description:"smb",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/smb"},{scheme:"smtp",description:"smtp",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/smtp"},{scheme:"soldat",description:"soldat",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/soldat"},{scheme:"spotify",description:"spotify",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/spotify"},{scheme:"ssh",description:"ssh",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ssh"},{scheme:"steam",description:"steam",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/steam"},{scheme:"submit",description:"submit",reference:[{type:"draft",href:"http://www.iana.org/go/draft-melnikov-smime-msa-to-mda"}],template:"http://www.iana.org/assignments/uri-schemes/prov/submit"},{scheme:"svn",description:"svn",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/svn"},{scheme:"teamspeak",description:"teamspeak",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teamspeak"},{scheme:"teliaeid",description:"teliaeid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/teliaeid"},{scheme:"things",description:"things",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/things"},{scheme:"tool",description:"tool",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/tool"},{scheme:"udp",description:"udp",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/udp"},{scheme:"unreal",description:"unreal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/unreal"},{scheme:"ut2004",description:"ut2004",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ut2004"},{scheme:"v-event",description:"v-event",reference:[{type:"draft",href:"http://www.iana.org/go/draft-menderico-v-event-uri"}],template:"http://www.iana.org/assignments/uri-schemes/prov/v-event"},{scheme:"ventrilo",description:"ventrilo",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ventrilo"},{scheme:"view-source",description:"view-source",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/view-source"},{scheme:"webcal",description:"webcal",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/webcal"},{scheme:"wpid",description:"wpid",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wpid"},{scheme:"wtai",description:"wtai",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wtai"},{scheme:"wyciwyg",description:"wyciwyg",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/wyciwyg"},{scheme:"xfire",description:"xfire",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xfire"},{scheme:"xri",description:"xri",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/xri"},{scheme:"ymsgr",description:"ymsgr",reference:[],template:"http://www.iana.org/assignments/uri-schemes/prov/ymsgr"}],Swe=[{scheme:"fax",description:"fax",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"filesystem",description:"filesystem",reference:[],template:"http://www.iana.org/assignments/uri-schemes/historic/filesystem"},{scheme:"mailserver",description:"Access to data available from mail servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc6196"}]},{scheme:"modem",description:"modem",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc2806"},{type:"rfc",href:"http://www.iana.org/go/rfc3966"}]},{scheme:"pack",description:"pack",reference:[{type:"draft",href:"http://www.iana.org/go/draft-shur-pack-uri-scheme"}],template:"http://www.iana.org/assignments/uri-schemes/historic/pack"},{scheme:"prospero",description:"Prospero Directory Service",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4157"}]},{scheme:"snews",description:"NNTP over SSL/TLS",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc5538"}]},{scheme:"videotex",description:"videotex",reference:[{type:"draft",href:"http://www.iana.org/go/draft-mavrakis-videotex-url-spec"},{type:"rfc",href:"http://www.iana.org/go/rfc2122"},{type:"rfc",href:"http://www.iana.org/go/rfc3986"}],template:"http://www.iana.org/assignments/uri-schemes/historic/videotex"},{scheme:"wais",description:"Wide Area Information Servers",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc4156"}]},{scheme:"z39.50",description:"Z39.50 information access",reference:[{type:"rfc",href:"http://www.iana.org/go/rfc1738"},{type:"rfc",href:"http://www.iana.org/go/rfc2056"}]}],$we=[{scheme:"android-app"},{scheme:"webpack"},{scheme:"s3",description:"Amazon Web Services S3 bucket"},{scheme:"gs",description:"Google Cloud Storage"},{scheme:"mqtt",description:"Message Queuing Telemetry Transport Protocol"},{scheme:"modbus+tcp",description:"Modbus over TCP"}];var d2=bwe,pg={permanent:_we,provosional:Ewe,historical:Swe},fS={};Object.keys(pg).forEach(function(e){pg[e].forEach(function(t){fS[t.scheme]=d2(t,{type:e})})});pg.unofficial=$we.filter(function(e){return!fS[e.scheme]});pg.unofficial.forEach(function(e){fS[e.scheme]=d2(e,{type:"unofficial"})});var DK=d2(pg,{allByName:fS});const{parse:Twe}=OK,{addressParser:xwe}=$o,Awe=DK;function Owe(e){try{return xwe(e),!0}catch{return!1}}var Pwe=e=>{const t=Twe(e);return!!(t.scheme==="mailto"&&t.to.every(Owe)||t.reference==="absolute"&&Awe.allByName[t.scheme])},Nwe=/^P(?!$)(\d+(?:\.\d+)?Y)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?W)?(\d+(?:\.\d+)?D)?(T(?=\d)(\d+(?:\.\d+)?H)?(\d+(?:\.\d+)?M)?(\d+(?:\.\d+)?S)?)?$/;const{parse:Rwe}=$o;var Iwe=e=>{try{return Rwe(e),!0}catch{return!1}};const _h=2147483647,Qa=36,h2=1,mg=26,jwe=38,kwe=700,MK=72,LK=128,FK="-",Cwe=/^xn--/,Dwe=/[^\0-\x7F]/,Mwe=/[\x2E\u3002\uFF0E\uFF61]/g,Lwe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g$=Qa-h2,Za=Math.floor,v$=String.fromCharCode;function ju(e){throw new RangeError(Lwe[e])}function Fwe(e,t){const r=[];let n=e.length;for(;n--;)r[n]=t(e[n]);return r}function BK(e,t){const r=e.split("@");let n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(Mwe,".");const i=e.split("."),o=Fwe(i,t).join(".");return n+o}function p2(e){const t=[];let r=0;const n=e.length;for(;r<n;){const i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){const o=e.charCodeAt(r++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),r--)}else t.push(i)}return t}const UK=e=>String.fromCodePoint(...e),Bwe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Qa},c3=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},zK=function(e,t,r){let n=0;for(e=r?Za(e/kwe):e>>1,e+=Za(e/t);e>g$*mg>>1;n+=Qa)e=Za(e/g$);return Za(n+(g$+1)*e/(e+jwe))},m2=function(e){const t=[],r=e.length;let n=0,i=LK,o=MK,s=e.lastIndexOf(FK);s<0&&(s=0);for(let a=0;a<s;++a)e.charCodeAt(a)>=128&&ju("not-basic"),t.push(e.charCodeAt(a));for(let a=s>0?s+1:0;a<r;){const l=n;for(let f=1,c=Qa;;c+=Qa){a>=r&&ju("invalid-input");const h=Bwe(e.charCodeAt(a++));h>=Qa&&ju("invalid-input"),h>Za((_h-n)/f)&&ju("overflow"),n+=h*f;const g=c<=o?h2:c>=o+mg?mg:c-o;if(h<g)break;const m=Qa-g;f>Za(_h/m)&&ju("overflow"),f*=m}const u=t.length+1;o=zK(n-l,u,l==0),Za(n/u)>_h-i&&ju("overflow"),i+=Za(n/u),n%=u,t.splice(n++,0,i)}return String.fromCodePoint(...t)},g2=function(e){const t=[];e=p2(e);const r=e.length;let n=LK,i=0,o=MK;for(const l of e)l<128&&t.push(v$(l));const s=t.length;let a=s;for(s&&t.push(FK);a<r;){let l=_h;for(const f of e)f>=n&&f<l&&(l=f);const u=a+1;l-n>Za((_h-i)/u)&&ju("overflow"),i+=(l-n)*u,n=l;for(const f of e)if(f<n&&++i>_h&&ju("overflow"),f===n){let c=i;for(let h=Qa;;h+=Qa){const g=h<=o?h2:h>=o+mg?mg:h-o;if(c<g)break;const m=c-g,_=Qa-g;t.push(v$(c3(g+m%_,0))),c=Za(m/_)}t.push(v$(c3(c,0))),o=zK(i,u,a===s),i=0,++a}++i,++n}return t.join("")},qK=function(e){return BK(e,function(t){return Cwe.test(t)?m2(t.slice(4).toLowerCase()):t})},VK=function(e){return BK(e,function(t){return Dwe.test(t)?"xn--"+g2(t):t})},Uwe={version:"2.3.1",ucs2:{decode:p2,encode:UK},decode:m2,encode:g2,toASCII:VK,toUnicode:qK},zwe=Object.freeze(Object.defineProperty({__proto__:null,decode:m2,default:Uwe,encode:g2,toASCII:VK,toUnicode:qK,ucs2decode:p2,ucs2encode:UK},Symbol.toStringTag,{value:"Module"})),HK=FP(zwe),{toASCII:qwe}=HK,Vwe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;var Hwe=e=>{const t=qwe(e);return t.replace(/\.$/,"").length<=253&&Vwe.test(t)};const{parse:Wwe}=OK,{addressParser:Gwe}=$o,f3=DK;function Kwe(e){try{return Gwe(e),!0}catch{return!1}}var Jwe=e=>{const t=Wwe(e);return t.scheme==="mailto"&&t.to.every(Kwe)||t.reference==="absolute"&&t.path!==void 0&&f3.allByName[t.scheme]?!0:t.scheme&&!f3.allByName[t.scheme]?!1:t.path!==void 0&&(t.reference==="relative"||t.reference==="same-document"||t.reference==="uri")};(function(e){e.exports.iri=Pwe,e.exports.duration=Nwe,e.exports["idn-email"]=Iwe,e.exports["idn-hostname"]=Hwe,e.exports["iri-reference"]=Jwe})(hwe);var WK={exports:{}};(function(e){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(l,u){if(!o[l]){o[l]={};for(var f=0;f<l.length;f++)o[l][l.charAt(f)]=f}return o[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(f){return n.charAt(f)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return r(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),f=new Uint8Array(u.length*2),c=0,h=u.length;c<h;c++){var g=u.charCodeAt(c);f[c*2]=g>>>8,f[c*2+1]=g%256}return f},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),f=0,c=u.length;f<c;f++)u[f]=l[f*2]*256+l[f*2+1];var h=[];return u.forEach(function(g){h.push(r(g))}),a.decompress(h.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return r(u)})},_compress:function(l,u,f){if(l==null)return"";var c,h,g={},m={},_="",v="",p="",E=2,y=3,S=2,$=[],T=0,d=0,x;for(x=0;x<l.length;x+=1)if(_=l.charAt(x),Object.prototype.hasOwnProperty.call(g,_)||(g[_]=y++,m[_]=!0),v=p+_,Object.prototype.hasOwnProperty.call(g,v))p=v;else{if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}else{for(h=1,c=0;c<S;c++)T=T<<1|h,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete m[p]}else for(h=g[p],c=0;c<S;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;E--,E==0&&(E=Math.pow(2,S),S++),g[v]=y++,p=String(_)}if(p!==""){if(Object.prototype.hasOwnProperty.call(m,p)){if(p.charCodeAt(0)<256){for(c=0;c<S;c++)T=T<<1,d==u-1?(d=0,$.push(f(T)),T=0):d++;for(h=p.charCodeAt(0),c=0;c<8;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}else{for(h=1,c=0;c<S;c++)T=T<<1|h,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=0;for(h=p.charCodeAt(0),c=0;c<16;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1}E--,E==0&&(E=Math.pow(2,S),S++),delete m[p]}else for(h=g[p],c=0;c<S;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;E--,E==0&&(E=Math.pow(2,S),S++)}for(h=2,c=0;c<S;c++)T=T<<1|h&1,d==u-1?(d=0,$.push(f(T)),T=0):d++,h=h>>1;for(;;)if(T=T<<1,d==u-1){$.push(f(T));break}else d++;return $.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,f){var c=[],h=4,g=4,m=3,_="",v=[],p,E,y,S,$,T,d,x={val:f(0),position:u,index:1};for(p=0;p<3;p+=1)c[p]=p;for(y=0,$=Math.pow(2,2),T=1;T!=$;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*T,T<<=1;switch(y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*T,T<<=1;d=r(y);break;case 2:return""}for(c[3]=d,E=d,v.push(d);;){if(x.index>l)return"";for(y=0,$=Math.pow(2,m),T=1;T!=$;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*T,T<<=1;switch(d=y){case 0:for(y=0,$=Math.pow(2,8),T=1;T!=$;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*T,T<<=1;c[g++]=r(y),d=g-1,h--;break;case 1:for(y=0,$=Math.pow(2,16),T=1;T!=$;)S=x.val&x.position,x.position>>=1,x.position==0&&(x.position=u,x.val=f(x.index++)),y|=(S>0?1:0)*T,T<<=1;c[g++]=r(y),d=g-1,h--;break;case 2:return v.join("")}if(h==0&&(h=Math.pow(2,m),m++),c[d])_=c[d];else if(d===g)_=E+E.charAt(0);else return null;v.push(_),c[g++]=E+_.charAt(0),h--,E=_,h==0&&(h=Math.pow(2,m),m++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(WK);var Ywe=WK.exports;const GK=Gl(Ywe);var KK={exports:{}},JK=HK;function Xwe(e,t){this.__proto__=new Error(t),this.__proto__.name="BackslashError",this.offset=e}function y$(e){return e>="0"&&e<="7"}function Qwe(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"}function d3(e){return e=parseInt(e,16),JK.ucs2.encode([e])}function YK(e,t,r){var n=!1,i=[];function o(l){var u=e[l];if(!Qwe(u))throw new Xwe(l,"Unexpected token ILLEGAL");return u}for(;t<e.length;){var s=e[t];if(t++,n){switch(n=!1,s){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(s==="x"){i.push(d3(o(t)+o(t+1))),t+=2;continue}if(s==="u"){i.push(d3(o(t)+o(t+1)+o(t+2)+o(t+3))),t+=4;continue}if(y$(s)){var a;y$(a=e[t])&&(t++,s+=a,y$(a=e[t])&&s[0]<="3"&&(t++,s+=a)),i.push(JK.ucs2.encode([parseInt(s,8)]));continue}i.push(s)}else if(s==="\\")n=!0;else if(s===r){t--;break}else i.push(s)}return arguments.length===3?{end:t,value:i.join("")}:i.join("")}KK.exports=function(t){return YK(t,0)};KK.exports.parseUntil=function(t,r,n){return YK(t,r,n)};const Zwe="Thing Description",ebe="1.1-05-September-2022",tbe="JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values",rbe="http://json-schema.org/draft-07/schema#",nbe="https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json",ibe={anyUri:{type:"string"},description:{type:"string"},descriptions:{type:"object",additionalProperties:{type:"string"}},title:{type:"string"},titles:{type:"object",additionalProperties:{type:"string"}},security:{oneOf:[{type:"array",items:{type:"string"},minItems:1},{type:"string"}]},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},subprotocol:{type:"string",examples:["longpoll","websub","sse"]},"thing-context-td-uri-v1":{type:"string",const:"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{type:"string",const:"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{type:"string",const:"http://www.w3.org/ns/td"},"thing-context":{anyOf:[{$comment:"New context URI with other vocabularies after it but not the old one",type:"array",items:[{$ref:"#/definitions/thing-context-td-uri-v1.1"}],additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}],not:{$ref:"#/definitions/thing-context-td-uri-v1"}}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1.1"},{$comment:"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"},{$ref:"#/definitions/thing-context-td-uri-v1.1"}],minItems:2,contains:{$ref:"#/definitions/thing-context-td-uri-v1.1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided",type:"array",prefixItems:[{$ref:"#/definitions/thing-context-td-uri-v1"}],minItems:1,contains:{$ref:"#/definitions/thing-context-td-uri-v1"},additionalItems:{anyOf:[{$ref:"#/definitions/anyUri"},{type:"object"}]}},{$comment:"Only the new context URI",$ref:"#/definitions/thing-context-td-uri-v1"}]},bcp47_string:{type:"string",pattern:"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},type_declaration:{oneOf:[{type:"string",not:{const:"tm:ThingModel"}},{type:"array",items:{type:"string",not:{const:"tm:ThingModel"}}}]},"dataSchema-type":{type:"string",enum:["boolean","integer","number","string","object","array","null"]},dataSchema:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},title:{$ref:"#/definitions/title"},descriptions:{$ref:"#/definitions/descriptions"},titles:{$ref:"#/definitions/titles"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},contentEncoding:{type:"string"},contentMediaType:{type:"string"},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}}},additionalResponsesDefinition:{type:"array",items:{type:"object",properties:{contentType:{type:"string"},schema:{type:"string"},success:{type:"boolean"}}}},multipleOfDefinition:{type:["integer","number"],exclusiveMinimum:0},expectedResponse:{type:"object",properties:{contentType:{type:"string"}}},form_element_base:{type:"object",properties:{op:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},href:{$ref:"#/definitions/anyUri"},contentType:{type:"string"},contentCoding:{type:"string"},subprotocol:{$ref:"#/definitions/subprotocol"},security:{$ref:"#/definitions/security"},scopes:{$ref:"#/definitions/scopes"},response:{$ref:"#/definitions/expectedResponse"},additionalResponses:{$ref:"#/definitions/additionalResponsesDefinition"}},required:["href"],additionalProperties:!0},form_element_property:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]},{type:"array",items:{type:"string",enum:["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]}},additionalProperties:!0},form_element_action:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["invokeaction","queryaction","cancelaction"]},{type:"array",items:{type:"string",enum:["invokeaction","queryaction","cancelaction"]}}]}},additionalProperties:!0},form_element_event:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["subscribeevent","unsubscribeevent"]},{type:"array",items:{type:"string",enum:["subscribeevent","unsubscribeevent"]}}]}},additionalProperties:!0},form_element_root:{allOf:[{$ref:"#/definitions/form_element_base"}],type:"object",properties:{op:{oneOf:[{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{type:"array",items:{type:"string",enum:["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]}},additionalProperties:!0,required:["op"]},form:{$comment:"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057",oneOf:[{$ref:"#/definitions/form_element_property"},{$ref:"#/definitions/form_element_action"},{$ref:"#/definitions/form_element_event"},{$ref:"#/definitions/form_element_root"}]},property_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_property"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},observable:{type:"boolean"},writeOnly:{type:"boolean"},readOnly:{type:"boolean"},oneOf:{type:"array",items:{$ref:"#/definitions/dataSchema"}},unit:{type:"string"},enum:{type:"array",minItems:1,uniqueItems:!0},format:{type:"string"},const:{},default:{},type:{$ref:"#/definitions/dataSchema-type"},items:{oneOf:[{$ref:"#/definitions/dataSchema"},{type:"array",items:{$ref:"#/definitions/dataSchema"}}]},maxItems:{type:"integer",minimum:0},minItems:{type:"integer",minimum:0},minimum:{type:"number"},maximum:{type:"number"},exclusiveMinimum:{type:"number"},exclusiveMaximum:{type:"number"},minLength:{type:"integer",minimum:0},maxLength:{type:"integer",minimum:0},multipleOf:{$ref:"#/definitions/multipleOfDefinition"},properties:{additionalProperties:{$ref:"#/definitions/dataSchema"}},required:{type:"array",items:{type:"string"}}},required:["forms"],additionalProperties:!0},action_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_action"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},input:{$ref:"#/definitions/dataSchema"},output:{$ref:"#/definitions/dataSchema"},safe:{type:"boolean"},idempotent:{type:"boolean"},synchronous:{type:"boolean"}},required:["forms"],additionalProperties:!0},event_element:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_event"}},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},subscription:{$ref:"#/definitions/dataSchema"},data:{$ref:"#/definitions/dataSchema"},dataResponse:{$ref:"#/definitions/dataSchema"},cancellation:{$ref:"#/definitions/dataSchema"}},required:["forms"],additionalProperties:!0},base_link_element:{type:"object",properties:{href:{$ref:"#/definitions/anyUri"},type:{type:"string"},rel:{type:"string"},anchor:{$ref:"#/definitions/anyUri"},hreflang:{anyOf:[{$ref:"#/definitions/bcp47_string"},{type:"array",items:{$ref:"#/definitions/bcp47_string"}}]}},required:["href"],additionalProperties:!0},link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{not:{description:"A basic link element should not contain sizes",type:"object",properties:{sizes:{}},required:["sizes"]}},{not:{description:"A basic link element should not contain icon or tm:extends",properties:{rel:{enum:["icon","tm:extends"]}},required:["rel"]}}]},icon_link_element:{allOf:[{$ref:"#/definitions/base_link_element"},{properties:{rel:{const:"icon"},sizes:{type:"string",pattern:"[0-9]*x[0-9]+"}},required:["rel"]}]},additionalSecurityScheme:{description:"Applies to additional SecuritySchemes not defined in the WoT TD specification.",$comment:"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. 'ace', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.",examples:[{scheme:"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":!0}],type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",pattern:".+:.*"}},required:["scheme"],additionalProperties:!0},noSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["nosec"]}},required:["scheme"],additionalProperties:!0},autoSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["auto"]}},not:{required:["name"]},required:["scheme"],additionalProperties:!0},comboSecurityScheme:{oneOf:[{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},oneOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","oneOf"],additionalProperties:!0},{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["combo"]},allOf:{type:"array",minItems:2,items:{type:"string"}}},required:["scheme","allOf"],additionalProperties:!0}]},basicSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["basic"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},digestSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["digest"]},qop:{type:"string",enum:["auth","auth-int"]},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},apiKeySecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["apikey"]},in:{type:"string",enum:["header","query","body","cookie","uri","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},bearerSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["bearer"]},authorization:{$ref:"#/definitions/anyUri"},alg:{type:"string"},format:{type:"string"},in:{type:"string",enum:["header","query","body","cookie","auto"]},name:{type:"string"}},required:["scheme"],additionalProperties:!0},pskSecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["psk"]},identity:{type:"string"}},required:["scheme"],additionalProperties:!0},oAuth2SecurityScheme:{type:"object",properties:{"@type":{$ref:"#/definitions/type_declaration"},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},proxy:{$ref:"#/definitions/anyUri"},scheme:{type:"string",enum:["oauth2"]},authorization:{$ref:"#/definitions/anyUri"},token:{$ref:"#/definitions/anyUri"},refresh:{$ref:"#/definitions/anyUri"},scopes:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"}]},flow:{anyOf:[{type:"string"},{type:"string",enum:["code","client","device"]}]}},required:["scheme"],additionalProperties:!0},securityScheme:{oneOf:[{$ref:"#/definitions/noSecurityScheme"},{$ref:"#/definitions/autoSecurityScheme"},{$ref:"#/definitions/comboSecurityScheme"},{$ref:"#/definitions/basicSecurityScheme"},{$ref:"#/definitions/digestSecurityScheme"},{$ref:"#/definitions/apiKeySecurityScheme"},{$ref:"#/definitions/bearerSecurityScheme"},{$ref:"#/definitions/pskSecurityScheme"},{$ref:"#/definitions/oAuth2SecurityScheme"},{$ref:"#/definitions/additionalSecurityScheme"}]}},obe="object",sbe={id:{type:"string",format:"uri"},title:{$ref:"#/definitions/title"},titles:{$ref:"#/definitions/titles"},properties:{type:"object",additionalProperties:{$ref:"#/definitions/property_element"}},actions:{type:"object",additionalProperties:{$ref:"#/definitions/action_element"}},events:{type:"object",additionalProperties:{$ref:"#/definitions/event_element"}},description:{$ref:"#/definitions/description"},descriptions:{$ref:"#/definitions/descriptions"},version:{type:"object",properties:{instance:{type:"string"}},required:["instance"]},links:{type:"array",items:{oneOf:[{$ref:"#/definitions/link_element"},{$ref:"#/definitions/icon_link_element"}]}},forms:{type:"array",minItems:1,items:{$ref:"#/definitions/form_element_root"}},base:{$ref:"#/definitions/anyUri"},securityDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/securityScheme"}},schemaDefinitions:{type:"object",minProperties:1,additionalProperties:{$ref:"#/definitions/dataSchema"}},support:{$ref:"#/definitions/anyUri"},created:{type:"string",format:"date-time"},modified:{type:"string",format:"date-time"},profile:{oneOf:[{$ref:"#/definitions/anyUri"},{type:"array",minItems:1,items:{$ref:"#/definitions/anyUri"}}]},security:{oneOf:[{type:"string"},{type:"array",minItems:1,items:{type:"string"}}]},uriVariables:{type:"object",additionalProperties:{$ref:"#/definitions/dataSchema"}},"@type":{$ref:"#/definitions/type_declaration"},"@context":{$ref:"#/definitions/thing-context"}},abe=["title","security","securityDefinitions","@context"],lbe=!0,im={title:Zwe,version:ebe,description:tbe,$schema:rbe,$id:nbe,definitions:ibe,type:obe,properties:sbe,required:abe,additionalProperties:lbe};function ube(e){return GK.compressToEncodedURIComponent(e)}function cbe(e){return GK.decompressFromEncodedURIComponent(e)}const Hc="$ref",fbe="properties",dbe="additional_properties",bu="dataSchema",hbe="#/";pbe(im);function pbe(e){const t=new Map,r=new Map;return Xc(t,e,hbe),t.forEach((n,i)=>{if(n.size>0){const o=(i.match(/\//ig)||[]).length;let s=r.get(o);s?(s.set(i.replace(/^r/g,""),n),r.set(o,s)):(s=new Map,s.set(i.replace(/^r/g,""),n),r.set(o,s))}}),r}function Xc(e,t,r){const n=new Set;if(t[Hc]){if(r[0]==="r"&&t[Hc].includes(bu))return;t[Hc].includes(bu)&&(r="r"+r),Xc(Ey(im,t[Hc]),r);return}if(t.type==="object"){const i=t[fbe];for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s))if(s===Hc){if(r[0]==="r"&&i[s].includes(bu))continue;i[s].includes(bu)&&(r="r"+r),Xc(Ey(im,i[s]),r);return}else Xc(i[s],`${r}${s}/`),n.add(s);const o=t[dbe];for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&s===Hc){if(r[0]==="r"&&o[s].includes(bu))continue;o[s].includes(bu)&&(r="r"+r),Xc(Ey(im,o[s]),`${r}*/`);return}h3(e,r,n)}if(t.type==="array"){const i=t.items;for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&o===Hc){if(r[0]==="r"&&i[o].includes(bu))continue;i[o].includes(bu)&&(r="r"+r),Xc(Ey(im,i[o]),r);return}h3(e,r,n)}for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&["allOf","oneOf","anyOf"].includes(i)&&Array.isArray(t[i])&&t[i].forEach(o=>{Xc(o,r)})}function h3(e,t,r){let n=e.get(t);if(n){const i=new Set(n);r.forEach(o=>{i.add(o)}),e.set(t,i)}else e.set(t,r)}function Ey(e,t){const r=t.split("/");if(r[0]!=="#"){console.log("Parsing not implemented for between files");return}let n=e;for(let i=1;i<r.length;i++)n=n[r[i]];return n}const mbe="tdjson",gbe="tmjson",vbe=e=>{let t;try{t=JSON.parse(e)}catch(i){console.debug(i);return}let r=mbe;return lU(t)&&(r=gbe),ube(r.concat(e))},ybe=e=>{let t=cbe(e);if(!(t==null||t==="")){t=t.substring(6);try{return JSON.parse(t)}catch(r){console.debug(r)}}},XK=Oe.forwardRef((e,t)=>{const r=Oe.useContext(nn),[n,i]=Ye.useState(!1),[o,s]=Ye.useState(""),[a,l]=Ye.useState("");Oe.useImperativeHandle(t,()=>({openModal:()=>u(),close:()=>f()}));const u=()=>{i(!0);const h=vbe(r.offlineTD);l(h||"");const g=`${window.location.origin+window.location.pathname}?td=${h}`;s(g),wbe(g),bbe()},f=()=>{i(!1)};let c=Q.jsx("input",{type:"text",name:"share-td-field",id:"share-td-field",className:"w-full rounded-md border-2 border-gray-600 bg-gray-600 p-2 text-white focus:border-blue-500 focus:outline-none sm:text-sm",defaultValue:o});return n?ns.createPortal(Q.jsx(is,{hasSubmit:!0,onCancel:f,cancelText:"Okay",submitText:"Open in Playground",onSubmit:()=>{window.open(`https://playground.thingweb.io//#${a}`),f()},children:c,title:"Share This TD",description:"A link to this TD was copied to your clipboard."}),document.getElementById("modal-root")):null}),wbe=e=>{document.hasFocus()&&navigator.clipboard.writeText(e).then(function(){console.log("Async: Copied TD link to clipboard!")},function(t){console.error("Async: Could not copy TD to clipboard: ",t)})},bbe=()=>{setTimeout(()=>{try{document.getElementById("share-td-field").select()}catch{}},250)};XK.displayName="ShareDialog";var DP={exports:{}},y2={},np={};Object.defineProperty(np,"__esModule",{value:!0});np.dynamicAnchor=void 0;const w$=er,_be=ls,p3=to,Ebe=Wl,Sbe={keyword:"$dynamicAnchor",schemaType:"string",code:e=>QK(e,e.schema)};function QK(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const i=(0,w$._)`${_be.default.dynamicAnchors}${(0,w$.getProperty)(t)}`,o=n.errSchemaPath==="#"?n.validateName:$be(e);r.if((0,w$._)`!${i}`,()=>r.assign(i,o))}np.dynamicAnchor=QK;function $be(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:i,baseId:o,localRefs:s,meta:a}=t.root,{schemaId:l}=n.opts,u=new p3.SchemaEnv({schema:r,schemaId:l,root:i,baseId:o,localRefs:s,meta:a});return p3.compileSchema.call(n,u),(0,Ebe.getValidate)(e,u)}np.default=Sbe;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.dynamicRef=void 0;const m3=er,Tbe=ls,g3=Wl,xbe={keyword:"$dynamicRef",schemaType:"string",code:e=>ZK(e,e.schema)};function ZK(e,t){const{gen:r,keyword:n,it:i}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const o=t.slice(1);if(i.allErrors)s();else{const l=r.let("valid",!1);s(l),e.ok(l)}function s(l){if(i.schemaEnv.root.dynamicAnchors[o]){const u=r.let("_v",(0,m3._)`${Tbe.default.dynamicAnchors}${(0,m3.getProperty)(o)}`);r.if(u,a(u,l),a(i.validateName,l))}else a(i.validateName,l)()}function a(l,u){return u?()=>r.block(()=>{(0,g3.callRef)(e,l),r.let(u,!0)}):()=>(0,g3.callRef)(e,l)}}ip.dynamicRef=ZK;ip.default=xbe;var w2={};Object.defineProperty(w2,"__esModule",{value:!0});const Abe=np,Obe=It,Pbe={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Abe.dynamicAnchor)(e,""):(0,Obe.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};w2.default=Pbe;var b2={};Object.defineProperty(b2,"__esModule",{value:!0});const Nbe=ip,Rbe={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Nbe.dynamicRef)(e,e.schema)};b2.default=Rbe;Object.defineProperty(y2,"__esModule",{value:!0});const Ibe=np,jbe=ip,kbe=w2,Cbe=b2,Dbe=[Ibe.default,jbe.default,kbe.default,Cbe.default];y2.default=Dbe;var _2={},E2={};Object.defineProperty(E2,"__esModule",{value:!0});const v3=aS,Mbe={keyword:"dependentRequired",type:"object",schemaType:"object",error:v3.error,code:e=>(0,v3.validatePropertyDeps)(e)};E2.default=Mbe;var S2={};Object.defineProperty(S2,"__esModule",{value:!0});const Lbe=aS,Fbe={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,Lbe.validateSchemaDeps)(e)};S2.default=Fbe;var $2={};Object.defineProperty($2,"__esModule",{value:!0});const Bbe=It,Ube={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,Bbe.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};$2.default=Ube;Object.defineProperty(_2,"__esModule",{value:!0});const zbe=E2,qbe=S2,Vbe=$2,Hbe=[zbe.default,qbe.default,Vbe.default];_2.default=Hbe;var T2={},x2={};Object.defineProperty(x2,"__esModule",{value:!0});const Nu=er,y3=It,Wbe=ls,Gbe={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Nu._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},Kbe={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:Gbe,code(e){const{gen:t,schema:r,data:n,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:s,props:a}=o;a instanceof Nu.Name?t.if((0,Nu._)`${a} !== true`,()=>t.forIn("key",n,c=>t.if(u(a,c),()=>l(c)))):a!==!0&&t.forIn("key",n,c=>a===void 0?l(c):t.if(f(a,c),()=>l(c))),o.props=!0,e.ok((0,Nu._)`${i} === ${Wbe.default.errors}`);function l(c){if(r===!1){e.setParams({unevaluatedProperty:c}),e.error(),s||t.break();return}if(!(0,y3.alwaysValidSchema)(o,r)){const h=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:c,dataPropType:y3.Type.Str},h),s||t.if((0,Nu.not)(h),()=>t.break())}}function u(c,h){return(0,Nu._)`!${c} || !${c}[${h}]`}function f(c,h){const g=[];for(const m in c)c[m]===!0&&g.push((0,Nu._)`${h} !== ${m}`);return(0,Nu.and)(...g)}}};x2.default=Kbe;var A2={};Object.defineProperty(A2,"__esModule",{value:!0});const sf=er,w3=It,Jbe={message:({params:{len:e}})=>(0,sf.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,sf._)`{limit: ${e}}`},Ybe={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Jbe,code(e){const{gen:t,schema:r,data:n,it:i}=e,o=i.items||0;if(o===!0)return;const s=t.const("len",(0,sf._)`${n}.length`);if(r===!1)e.setParams({len:o}),e.fail((0,sf._)`${s} > ${o}`);else if(typeof r=="object"&&!(0,w3.alwaysValidSchema)(i,r)){const l=t.var("valid",(0,sf._)`${s} <= ${o}`);t.if((0,sf.not)(l),()=>a(l,o)),e.ok(l)}i.items=!0;function a(l,u){t.forRange("i",u,s,f=>{e.subschema({keyword:"unevaluatedItems",dataProp:f,dataPropType:w3.Type.Num},l),i.allErrors||t.if((0,sf.not)(l),()=>t.break())})}}};A2.default=Ybe;Object.defineProperty(T2,"__esModule",{value:!0});const Xbe=x2,Qbe=A2,Zbe=[Xbe.default,Qbe.default];T2.default=Zbe;var O2={};const e_e="https://json-schema.org/draft/2019-09/schema",t_e="https://json-schema.org/draft/2019-09/schema",r_e={"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},n_e=!0,i_e="Core and Validation specifications meta-schema",o_e=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],s_e=["object","boolean"],a_e={definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}},l_e={$schema:e_e,$id:t_e,$vocabulary:r_e,$recursiveAnchor:n_e,title:i_e,allOf:o_e,type:s_e,properties:a_e},u_e="https://json-schema.org/draft/2019-09/schema",c_e="https://json-schema.org/draft/2019-09/meta/applicator",f_e={"https://json-schema.org/draft/2019-09/vocab/applicator":!0},d_e=!0,h_e="Applicator vocabulary meta-schema",p_e=["object","boolean"],m_e={additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},g_e={schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}},v_e={$schema:u_e,$id:c_e,$vocabulary:f_e,$recursiveAnchor:d_e,title:h_e,type:p_e,properties:m_e,$defs:g_e},y_e="https://json-schema.org/draft/2019-09/schema",w_e="https://json-schema.org/draft/2019-09/meta/content",b_e={"https://json-schema.org/draft/2019-09/vocab/content":!0},__e=!0,E_e="Content vocabulary meta-schema",S_e=["object","boolean"],$_e={contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}},T_e={$schema:y_e,$id:w_e,$vocabulary:b_e,$recursiveAnchor:__e,title:E_e,type:S_e,properties:$_e},x_e="https://json-schema.org/draft/2019-09/schema",A_e="https://json-schema.org/draft/2019-09/meta/core",O_e={"https://json-schema.org/draft/2019-09/vocab/core":!0},P_e=!0,N_e="Core vocabulary meta-schema",R_e=["object","boolean"],I_e={$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}},j_e={$schema:x_e,$id:A_e,$vocabulary:O_e,$recursiveAnchor:P_e,title:N_e,type:R_e,properties:I_e},k_e="https://json-schema.org/draft/2019-09/schema",C_e="https://json-schema.org/draft/2019-09/meta/format",D_e={"https://json-schema.org/draft/2019-09/vocab/format":!0},M_e=!0,L_e="Format vocabulary meta-schema",F_e=["object","boolean"],B_e={format:{type:"string"}},U_e={$schema:k_e,$id:C_e,$vocabulary:D_e,$recursiveAnchor:M_e,title:L_e,type:F_e,properties:B_e},z_e="https://json-schema.org/draft/2019-09/schema",q_e="https://json-schema.org/draft/2019-09/meta/meta-data",V_e={"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},H_e=!0,W_e="Meta-data vocabulary meta-schema",G_e=["object","boolean"],K_e={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},J_e={$schema:z_e,$id:q_e,$vocabulary:V_e,$recursiveAnchor:H_e,title:W_e,type:G_e,properties:K_e},Y_e="https://json-schema.org/draft/2019-09/schema",X_e="https://json-schema.org/draft/2019-09/meta/validation",Q_e={"https://json-schema.org/draft/2019-09/vocab/validation":!0},Z_e=!0,eEe="Validation vocabulary meta-schema",tEe=["object","boolean"],rEe={multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},nEe={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},iEe={$schema:Y_e,$id:X_e,$vocabulary:Q_e,$recursiveAnchor:Z_e,title:eEe,type:tEe,properties:rEe,$defs:nEe};Object.defineProperty(O2,"__esModule",{value:!0});const oEe=l_e,sEe=v_e,aEe=T_e,lEe=j_e,uEe=U_e,cEe=J_e,fEe=iEe,dEe=["/properties"];function hEe(e){return[oEe,sEe,aEe,lEe,t(this,uEe),cEe,t(this,fEe)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,dEe):n}}O2.default=hEe;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const r=_j,n=sS,i=y2,o=_2,s=T2,a=uS,l=O2,u="https://json-schema.org/draft/2019-09/schema";class f extends r.default{constructor(v={}){super({...v,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),n.default.forEach(v=>this.addVocabulary(v)),this.addVocabulary(o.default),this.addVocabulary(s.default),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:v,meta:p}=this.opts;p&&(l.default.call(this,v),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv2019=f,e.exports=t=f,e.exports.Ajv2019=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var c=Ms;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var h=er;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var g=ep;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return g.default}});var m=Zf;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})})(DP,DP.exports);var pEe=DP.exports;const mEe=Gl(pEe);function MP(e){return"data"in e&&"status"in e}const ab=async(e,t="GET",r,n={})=>{const i={message:"",reason:""};try{const o=await eJ(e,t,r,{...n,headers:{"Content-Type":"application/json",...n.headers||{}}});if(!o.ok){let a=`Request failed with status ${o.status}`;try{const l=await o.json();l!=null&&l.error&&(i.reason=l.error)}catch{}switch(o.status){case 301:throw new Error(`Monitors for the property: ${a}`);case 304:throw new Error(`Not Modified: ${a}`);case 302:throw new Error(`Bad url: ${a}`);case 400:throw new Error(`Bad Request: ${a}`);case 401:throw new Error(`Unauthorized: ${a}`);case 403:throw new Error(`Forbidden: ${a}`);case 404:throw new Error(`Not Found: ${a}`);case 405:throw new Error(`Property not writable: ${a}`);case 406:throw new Error(`Invalid property value: ${a}`);case 409:throw new Error(`Conflict: ${a}`);case 429:throw new Error(`Too Many Requests: ${a}`);case 499:throw new Error(`Client Closed Request: ${a}`);case 500:throw new Error(`Internal Server Error: ${a}`);case 502:throw new Error(`Bad Gateway: ${a}`);case 503:throw new Error(`Service Unavailable: ${a}`);case 504:throw new Error(`Gateway Timeout: ${a}`);default:throw new Error(`Request failed with status ${o.status}: ${a}`)}}return{data:o,headers:JSON.stringify(o.headers),status:o.status}}catch(o){return{message:o.message,reason:i.reason}}},gEe=(e,t)=>{if(!t)return e;const r=new URL(e,window.location.origin);return Object.entries(t).forEach(([n,i])=>{r.searchParams.append(n,String(i))}),r.toString()},eJ=async(e,t="GET",r,n={})=>{const{headers:i,queryParams:o,...s}=n,a=gEe(e,o);return await fetch(a,{method:t,body:r,headers:{"Content-Type":"application/json",...i||{}},...s})},b$=async e=>{try{const t=Loe(da("northbound"));if(!t)throw new Error("No northbound URL configured in settings");const r=`${t}${encodeURIComponent(e)}`,n=await ab(r,"GET");if(MP(n))try{return{message:"Northbound TD available",data:await n.data.json()}}catch{return{message:"Failed to parse northbound TD",data:null}}else return{message:n.message||"Failed to fetch northbound TD",data:null}}catch(t){return{message:t instanceof Error?t.message:"Unknown error occurred",data:null}}},_$="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tmc-mandatory.schema.json",b3="https://raw.githubusercontent.com/wot-oss/tmc/main/internal/commands/validate/tm-json-schema-validation.json",E$="https://raw.githubusercontent.com/wot-oss/tmc/refs/heads/main/internal/commands/validate/modbus.schema.json",tJ=Oe.forwardRef((e,t)=>{const n=Oe.useContext(nn).parsedTD,[i,o]=Ye.useState(!1),[s,a]=Ye.useState(!1),[l,u]=Ye.useState(!1),[f,c]=Ye.useState(""),[h,g]=Ye.useState(""),[m,_]=Ye.useState(""),[v,p]=Ye.useState(""),[E,y]=Ye.useState(""),[S,$]=Ye.useState(""),[T,d]=Ye.useState(""),[x,A]=Ye.useState(""),[O,C]=Ye.useState(""),[F,V]=Ye.useState(""),[X,H]=Ye.useState(""),[Z,fe]=Ye.useState(!1),[ee,ne]=Ye.useState(!1),[k,B]=Ye.useState(""),[W,P]=Ye.useState(""),[R,z]=Ye.useState(""),[oe,J]=Ye.useState(null);Oe.useImperativeHandle(t,()=>({openModal:()=>Y(),close:()=>ae()}));const Y=()=>{var rt,qe,Ue;c(`${n["schema:mpn"]??""}`),g(((rt=n["schema:author"])==null?void 0:rt["schema:name"])??""),_(((qe=n["schema:manufacturer"])==null?void 0:qe["schema:name"])??""),p(`${n["schema:license"]??""}`),y(`${n["schema:copyrightYear"]??""}`),$(`${((Ue=n["schema:copyrightHolder"])==null?void 0:Ue.name)||""}`.trim());const de=new URLSearchParams(window.location.search),pe=de.get("tmcendpoint"),Ae=de.get("repo"),Le=pe?decodeURIComponent(pe):"",Ce=Ae?decodeURIComponent(Ae):"";!UO(Le)&&Le!==""&&V("Please enter a valid URL starting with http:// or https://"),d(Le),A(Ce),o(!0)},ae=()=>{c(""),g(""),_(""),p(""),y(""),$(""),C(""),V(""),H(""),z(""),fe(!1),ne(!1),B(""),P(""),d(""),A(""),u(!1),a(!1),o(!1)},be=async()=>{z(""),fe(!1);try{const de=await eJ(`${T}/thing-models`,"POST",JSON.stringify(oe),{queryParams:{repo:x}});if(!de){z("Failed to connect to the server");return}const pe=await de.json();if(de.status===201&&pe.data){const{tmID:Le,message:Ce}=pe.data;Le?(fe(!0),P(Le),B(`${T}/thing-models/${Le}`)):z("Response missing tmID");return}const Ae=pe.detail+" "+pe.title;z(`Error: ${Ae}`);return}catch(de){z(`Failed to process request: ${de instanceof Error?de.message:"Unknown error"}`)}},Ie=async()=>{C(""),a(!1),u(!0);const de=structuredClone(n);de["schema:mpn"]=f,de["schema:author"]={"schema:name":h},de["schema:manufacturer"]={"@type":"Organization","schema:name":m},de["schema:license"]=v,de["schema:copyrightYear"]=E,de["schema:copyrightHolder"]={"@type":"Organization","schema:name":S};try{de["@context"]=vEe(de["@context"])}catch(pe){a(!1),C(pe instanceof Error?pe.message:"Context normalization error");return}J(de);try{const pe=new mEe({strict:!1,allErrors:!0,validateFormats:!0});dwe(pe),pe.addMetaSchema(TK);let Ae=await fetch(_$);if(!Ae.ok)throw new Error(`Failed to fetch schema from ${_$}`);let Le=await Ae.json(),Ce=pe.compile(Le),rt=Ce(de);if(!rt){a(!1),C(`Validation failed for ${_$}: ${Ce.errors?pe.errorsText(Ce.errors):""}`);return}if(Ae=await fetch(b3),!Ae.ok)throw new Error(`Failed to fetch schema from ${b3}`);let qe=await Ae.json();if(pe.addSchema(qe),Ae=await fetch(E$),!Ae.ok)throw new Error(`Failed to fetch schema from ${E$}`);if(Le=await Ae.json(),Ce=pe.compile(Le),rt=Ce(de),!rt){a(!1),C(`Validation failed for ${E$}: ${Ce.errors?pe.errorsText(Ce.errors):""}`);return}a(!0),C("")}catch(pe){a(!1),C("Could not validate: "+(pe instanceof Error?pe.message:String(pe)))}finally{u(!1)}},N=de=>{const pe=de.target.value;d(pe),!pe.startsWith("https")&&!pe.startsWith("http:")&&pe.length>0?V("The endpoint must start with http or https."):V(""),fe(!1),z("")},D=de=>{const pe=de.target.value;A(pe),pe.length===0?H("The repository name is mandatory"):H(""),fe(!1),z("")},M=async()=>{await navigator.clipboard.writeText(W)},K=async()=>{window.open(k,"_blank","noopener,noreferrer")},se=async()=>{const de=structuredClone(n);de["schema:mpn"]=f,de["schema:author"]={"schema:name":h},de["schema:manufacturer"]={"@type":"Organization","schema:name":m},de["schema:license"]=v,de["schema:copyrightYear"]=E,de["schema:copyrightHolder"]={"@type":"Organization","schema:name":S},await navigator.clipboard.writeText(JSON.stringify(de,null,2)),ne(!0)},ce=Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Add fields for Cataloging to ensure quality and discoverability of Thing Models"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx(bo,{label:"Model*",placeholder:"The Manufacturer Part Number (MPN) of the product, or the product to which the offer refers.",id:"model",type:"text",value:f,onChange:de=>{c(de.target.value),a(!1),fe(!1)},autoFocus:!0}),Q.jsx(bo,{label:"Author*",placeholder:"The organization writing the TM",id:"author",type:"text",value:h,onChange:de=>{g(de.target.value),a(!1),fe(!1)},autoFocus:!1}),Q.jsx(bo,{label:"Manufacturer*",placeholder:"Manufacturer of the device",id:"manufacturer",type:"text",value:m,onChange:de=>{_(de.target.value),a(!1),fe(!1)},autoFocus:!1}),Q.jsx(bo,{label:"License",placeholder:"URL of the license, e.g., https://www.apache.org/licenses/LICENSE-2.0.txt",id:"license",type:"text",value:v,onChange:de=>p(de.target.value),autoFocus:!1}),Q.jsx(bo,{label:"Copyright Year",placeholder:"e.g. 2024...",id:"copyright",type:"text",value:E,onChange:de=>y(de.target.value),autoFocus:!1}),Q.jsx(bo,{label:"Copyright Holder",placeholder:"Organization holding the copyright of the TM...",id:"holder",type:"text",value:S,onChange:de=>$(de.target.value),autoFocus:!1}),Q.jsxs("div",{className:"flex flex-col",children:[Q.jsx(jn,{id:"catalogValidation",onClick:Ie,variant:"primary",type:"button",className:"my-2 w-1/4",children:Q.jsx("div",{className:"flex w-full items-center justify-between",children:l?Q.jsxs(Q.Fragment,{children:[Q.jsx("span",{className:"pl-6",children:"Validating"}),Q.jsx(eE,{className:"animate-spin",size:20})]}):Q.jsxs(Q.Fragment,{children:[Q.jsx("span",{className:"pl-6",children:"Validate"}),Q.jsx(Zo,{tooltip:AU(),id:"validateTMContent"})]})})}),O&&Q.jsxs("div",{className:"mb-2 mt-2 inline h-full w-full rounded bg-red-500 p-2 text-white",children:[Q.jsx(Xm,{size:16,className:"mr-1 inline"}),O]}),s&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"mb-2 mt-2 inline h-10 rounded bg-green-500 p-2 text-white",children:[Q.jsx(Qm,{size:16,className:"mr-1 inline"}),"TM is valid"]}),Q.jsx(jn,{id:"copyThingModel",onClick:se,variant:"primary",type:"button",className:"my-2",children:ee?"Copied Thing Model":"Click to Copy the full Thing Model"})]})]})]})]}),Q.jsxs("div",{className:"my-4 rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Add the TM Catalog Endpoint and Repository URL"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx(bo,{label:"TM Catalog Endpoint",placeholder:"TM Catalog Endpoint:...",id:"catalogEndpoint",type:"text",value:T,autoFocus:!1,onChange:N,className:`${F?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),F&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:F}),Q.jsx(bo,{label:"Name of the Repository",placeholder:"In case there are multiple repositories hosted, specify which one with a string. Example: my-catalog",id:"urlRepository",type:"text",value:x,autoFocus:!1,onChange:D,className:`${X?"border-red-500":"border-gray-300"} w-full rounded-md border p-2 text-sm`}),X&&Q.jsx("div",{className:"mt-1 text-sm text-red-500",children:X}),Q.jsxs("div",{className:"flex flex-col",children:[Q.jsx(jn,{id:"submit",onClick:be,variant:"primary",type:"button",className:"mb-2 mt-2 w-1/4",children:"Submit"}),R&&Q.jsxs("div",{className:"mb-2 mt-2 inline h-full w-full rounded bg-red-500 p-2 text-white",children:[Q.jsx(Xm,{size:16,className:"mr-1 inline"}),R]}),Z&&Q.jsxs(Q.Fragment,{children:[Q.jsxs("div",{className:"mb-2 mt-2 inline h-10 rounded bg-green-500 p-2 text-white",children:[Q.jsx(Qm,{size:16,className:"mr-1 inline"}),"TM submitted successfully!"]}),Q.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[Q.jsx("div",{className:"col-span-1 w-full",children:Q.jsx(jn,{id:W,onClick:M,variant:"primary",type:"button",className:"w-3/4",children:Q.jsxs("div",{className:"flex w-full items-center justify-between",children:[Q.jsx("span",{children:"Copy TM id"}),Q.jsx(qN,{size:20,className:"ml-2 cursor-pointer"})]})})}),Q.jsx("h1",{className:"col-span-2 pl-4 text-center",children:W})]}),Q.jsxs("div",{className:"mb-2 mt-2 grid grid-cols-3 items-center",children:[Q.jsx("div",{className:"col-span-1",children:Q.jsx(jn,{id:k,onClick:K,variant:"primary",type:"button",className:"w-3/4",children:Q.jsxs("div",{className:"flex w-full items-center justify-between",children:[Q.jsx("span",{children:"Open in new tab"}),Q.jsx(WN,{size:20,className:"ml-2 inline cursor-pointer"})]})})}),Q.jsx("h1",{className:"col-span-2 pl-4 text-center",children:k})]})]})]})]})]})]});return i?ns.createPortal(Q.jsx(is,{onCancel:ae,onSubmit:be,children:ce,hasSubmit:!1,cancelText:"Close",title:"Contribute your TM to a TM Catalog",description:"Fullfil the form below to contribute your TM to the Catalog specified in the endpoint at the end."}),document.getElementById("modal-root")):null});function vEe(e){const t=["https://www.w3.org/2022/wot/td/v1.1","https://www.w3.org/2019/wot/td/v1"],r="https://schema.org/";if(typeof e=="string"){if(t.includes(e))return[e,{schema:r}];throw new Error("validation schema is wrong")}if(Array.isArray(e)){const n=e.filter(o=>typeof o=="string"&&t.includes(o)),i=e.filter(o=>typeof o=="object"&&o!==null);if(n.length>0)if(i.length>0){const o=i.map(s=>"schema"in s?s:{schema:r,...s});return[...n,...o]}else return[...n,{schema:r}];return e}return e}tJ.displayName="ContributeToCatalog";const _u=({onClick:e,children:t})=>Q.jsx("button",{className:"min-w-8 text-white hover:opacity-50",onClick:e,children:Q.jsx("div",{className:"flex flex-col items-center justify-center gap-0.5",children:t})}),yEe=({fullScreen:e=!0,className:t="",show:r=!0})=>{if(!r)return null;const n=Q.jsx(wEe,{className:t});return e?ns.createPortal(Q.jsx("div",{className:"bg-transparent-400 absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center text-white",children:Q.jsx("div",{className:"bg-transparent-400 flex max-h-screen w-1/3 flex-col items-center justify-center p-4",children:Q.jsx("div",{className:"justify-center overflow-hidden p-2",children:n})})}),document.getElementById("modal-root")):Q.jsx("div",{className:`flex items-center justify-center py-4 ${t}`,children:n})},wEe=({className:e=""})=>Q.jsx("div",{className:`spinner-container ${e}`,children:Q.jsx("div",{className:"loading-spinner"})}),bEe=({message:e})=>Q.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-6",children:[Q.jsx("div",{className:"mb-4",children:Q.jsx("svg",{className:"h-16 w-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),Q.jsx("h3",{className:"mb-2 text-lg font-semibold text-green-700",children:"Success!"}),Q.jsx("p",{className:"text-center text-gray-600",children:e})]}),_Ee=({errorMessage:e,errorReason:t})=>Q.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-6",children:[Q.jsx("div",{className:"mb-4",children:Q.jsx("svg",{className:"h-16 w-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Q.jsx("h3",{className:"mb-3 text-lg font-semibold text-red-700",children:"Request Failed"}),Q.jsx("div",{className:"w-full",children:Q.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:[Q.jsx("h4",{className:"mb-2 font-medium text-red-800",children:"Error Message:"}),Q.jsx("p",{className:"mb-3 break-words text-sm text-red-700",children:e}),t&&Q.jsxs(Q.Fragment,{children:[Q.jsx("h4",{className:"mb-2 font-medium text-red-800",children:"Reason of failure:"}),Q.jsx("p",{className:"break-words text-sm text-red-600",children:Moe(t)})]})]})})]}),rJ=Oe.forwardRef(({currentTdId:e},t)=>{const r=Oe.useContext(nn),n=r.parsedTD,[i,o]=Oe.useState(!1),[s,a]=Oe.useState(!1),[l,u]=Oe.useState({isLoading:!1,success:!1,message:"",reason:""}),[f,c]=Oe.useState({isLoading:!1,success:!1,message:"",reason:""});Oe.useImperativeHandle(t,()=>({openModal:()=>h(),close:()=>g()}));const h=async()=>{try{const p=da("southbound");if(!p)return;const E=`${p}${p.endsWith("/")?"":"/"}`,y=encodeURIComponent(e),S=await ab(`${E}${y}`,"GET");if("data"in S&&S.status===200){a(!0);const $=await b$(e);r.updateNorthboundConnection({message:$.message,northboundTd:$.data??{}})}else a(!1)}catch(p){console.error("Error checking TD status:",p)}o(!0)},g=()=>{o(!1),u({isLoading:!1,success:!1,message:"",reason:""}),c({isLoading:!1,success:!1,message:"",reason:""})},m=async()=>{c({isLoading:!1,success:!1,message:"",reason:""}),u({...l,isLoading:!0});const E=`${da("southbound")}/${e}`,y=await ab(E,"PUT",JSON.stringify(n));if(MP(y)){if(y.status===204){u({...l,isLoading:!1,success:!0,message:`TD updated successfully to ${E}`,reason:""});const S=await b$(e);r.updateNorthboundConnection({message:S.message,northboundTd:S.data??{}})}}else u({...l,isLoading:!1,success:!1,message:y.message||"Failed to update TD",reason:y.reason||""})},_=async()=>{c({isLoading:!0,success:!1,message:"",reason:""});const E=`${da("southbound")}`,y=await ab(E,"POST",JSON.stringify(n));if(MP(y)){if(y.status===201){c({...f,isLoading:!1,success:!0,message:`TD sent successfully to ${E}`,reason:""});const S=await b$(e);r.updateNorthboundConnection({message:S.message,northboundTd:S.data??{}}),a(!0)}}else c({...f,isLoading:!1,success:!1,message:y.message||"Failed to send TD",reason:y.reason||""})},v=()=>{if(l.isLoading||f.isLoading)return Q.jsx(yEe,{fullScreen:!1});const E=s&&l.message?l:f.message?f:s?l:f;if(!E||E.message==="")return Q.jsx(Q.Fragment,{});const y=E===f?"sent":"updated";return E.success?Q.jsx(bEe,{message:`Your Thing Description has been ${y} successfully.`}):Q.jsx(_Ee,{errorMessage:E.message,errorReason:E.reason})};return i?ns.createPortal(Q.jsxs(is,{hasSubmit:!1,onCancel:g,cancelText:"Close",title:"Send TD",description:"The Thing Description will be sent to a Third-Party Service located at the endpoint configured in the Settings options under Southbound URL field. The proxied Thing will be interactable over HTTP in the left view.",children:[Q.jsxs("div",{className:"mb-2 rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"mb-2 font-semibold",children:"Current Configuration Details"}),Q.jsx("div",{className:"w-full overflow-hidden",children:Q.jsx("table",{className:"w-full border-collapse",children:Q.jsxs("tbody",{children:[Q.jsxs("tr",{className:"border-b border-gray-700",children:[Q.jsx("td",{className:"w-1/3 py-2 pr-2 font-medium text-gray-400",children:"Endpoint:"}),Q.jsx("td",{className:"break-all py-2 text-gray-400",children:da("southbound")||"(No endpoint configured)"})]}),Q.jsxs("tr",{children:[Q.jsx("td",{className:"w-1/3 py-2 pr-2 font-medium text-gray-400",children:"TD ID:"}),Q.jsx("td",{className:"break-all py-2 text-gray-400",children:e||"(No ID available)"})]})]})})})]}),Q.jsxs("div",{className:"mb-2 rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"mb-2 font-semibold",children:"Operation Details"}),Q.jsxs("div",{className:"px-4 py-2",children:[Q.jsxs("div",{className:"flex items-center",children:[Q.jsx("span",{className:"mr-2 font-medium text-gray-400",children:"Action:"}),Q.jsx("span",{className:"rounded bg-green-900 px-2 py-1 text-sm font-medium text-green-200",children:s?"Update Existing TD":"Send New TD"})]}),Q.jsx("p",{className:"mt-2 text-sm text-gray-400",children:s?"You are updating an existing Thing Description that was previously sent to the server.":"You are sending a new Thing Description to the server for the first time."})]})]}),Q.jsxs("div",{className:"rounded-md bg-black bg-opacity-80 p-2",children:[Q.jsx("h1",{className:"font-bold",children:"Result:"}),Q.jsxs("div",{className:"px-4",children:[Q.jsx("h2",{className:"py-2 text-justify text-gray-400",children:f.message?f.message:s?l.message||"No update request made yet.":"No send request made yet."}),Q.jsx("div",{className:"my-4 flex justify-end",children:s?Q.jsx("button",{onClick:m,className:"rounded-md bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",disabled:l.isLoading,children:"Update TD"}):Q.jsx("button",{onClick:_,className:"rounded-md bg-blue-600 px-4 py-2 text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",disabled:f.isLoading,children:"Send TD"})}),Q.jsx("div",{children:v()})]})]})]}),document.getElementById("modal-root")):null});rJ.displayName="SendTDDialog";const EEe="To contribute a Thing Model, please first load a Thing Model to be validated.",SEe='To contribute a Thing Model, the TM must have the following pair key/value:  "@type": "tm:ThingModel"  ',_3="The Thing Model did not pass the JSON schema validation Please make sure the Thing Model is valid according to the JSON schema before contributing it to the catalog.",$Ee=()=>{const e=Oe.useContext(nn),t=e.parsedTD,[r,n]=Oe.useState(!1),[i,o]=Oe.useState({state:!1,message:""}),s=Oe.useRef(null),a=Oe.useRef(null),l=Oe.useRef(null),u=Oe.useRef(null),f=Oe.useRef(null),c=Oe.useRef(null),h=Oe.useCallback(()=>e.isModified?window.confirm("Discard changes? All changes you made to your TD will be lost."):!0,[e.isModified]),g=Oe.useCallback(async()=>{if(h())try{const d=await LW(),x=`./${d.fileName}`;let A={};A[x]=d.fileHandle?d.fileHandle:JSON.parse(d.td),e.updateOfflineTD(d.td),e.updateIsModified(!1),e.setFileHandle(d.fileHandle||d.fileNname),e.updateLinkedTd(void 0),e.addLinkedTd(A)}catch(d){const x="Opening a new TD was canceled or an error occured.";console.error(x,d),o({state:!0,message:x})}},[e,h]),m=Oe.useCallback(async()=>{n(!0);try{const d=await Kfe(e.name,void 0,e.offlineTD);e.setFileHandle(d??e.fileHandle),e.updateIsModified(!1)}catch(d){console.debug(d),o({state:!0,message:"Didn't save TD. The action was either canceled or ran into an error."})}finally{n(!1)}},[e]),_=d=>async()=>{n(!0);const x=await d();return n(!1),x};Oe.useEffect(()=>{const d=x=>{(window.navigator.platform.match("Mac")?x.metaKey:x.ctrlKey)&&x.key==="s"&&(x.preventDefault(),x.stopPropagation(),_(m)()),(window.navigator.platform.match("Mac")?x.metaKey:x.ctrlKey)&&x.key==="o"&&(x.preventDefault(),x.stopPropagation(),_(g)()),(window.navigator.platform.match("Mac")?x.metaKey:x.ctrlKey)&&x.key==="n"&&(x.preventDefault(),x.stopPropagation(),E())};return document.addEventListener("keydown",d,!1),window.onbeforeunload=function(x){var A="Important: Please click on 'Save' button to leave this page.";return typeof x>"u"&&(x=window.event),x&&(x.returnValue=A),A},()=>{document.removeEventListener("keydown",d,!1)}},[g,m]);const v=()=>{var d;(d=s.current)==null||d.openModal()},p=()=>{var d;(d=a.current)==null||d.openModal()},E=()=>{var d;(d=l.current)==null||d.openModal()},y=()=>{var d;(d=u.current)==null||d.openModal()},S=()=>{var d,x;e.offlineTD?e.parsedTD["@type"]?((d=e.validationMessage)==null?void 0:d.report.schema)==="failed"?o({state:!0,message:_3}):(x=f.current)==null||x.openModal():o({state:!0,message:SEe}):o({state:!0,message:EEe})},$=async()=>{var d,x;!e.offlineTD||Object.keys(e.offlineTD).length===0?o({state:!0,message:"No Thing Description available to send. Please load a valid TD."}):((d=e.validationMessage)==null?void 0:d.report.schema)==="failed"?o({state:!0,message:_3}):da("southbound")?t.id?(x=c.current)==null||x.openModal():o({state:!0,message:"No identifier available on Thing description. Please add an identifier to the TD."}):o({state:!0,message:"No Southbound URL available. Please configure the Southbound URL on settings"})},T=t.id??"";return Q.jsxs(Q.Fragment,{children:[Q.jsxs("header",{className:"flex h-14 items-center justify-between bg-blue-500",children:[Q.jsx("div",{className:"flex items-center",children:Q.jsx("button",{className:"ml-4",onClick:()=>window.open("https://eclipse.github.io/editdor/","_blank"),children:Q.jsx("img",{className:"min-w-36 max-w-36",src:Qde,alt:"LOGO"})})}),Q.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[r&&Q.jsx("div",{className:"app-header-spinner hidden md:block"}),Q.jsxs(_u,{onClick:$,children:[Q.jsx(oR,{}),Q.jsx("div",{className:"text-xs",children:"Send TD"})]}),Q.jsxs(_u,{onClick:S,children:[Q.jsx(aR,{}),Q.jsx("div",{className:"text-xs",children:"Contribute to Catalog"})]}),Q.jsxs(_u,{onClick:p,children:[Q.jsx(XN,{}),Q.jsx("div",{className:"text-xs",children:"Share"})]}),Q.jsx("div",{className:"w-4","aria-hidden":"true"}),Q.jsx("div",{className:"hidden md:block",children:Q.jsxs(_u,{onClick:_(g),children:[Q.jsx(JN,{}),Q.jsx("div",{className:"text-xs",children:"Open"})]})}),Q.jsxs(_u,{onClick:E,children:[Q.jsx(GN,{}),Q.jsx("div",{className:"text-xs",children:"Create"})]}),lU(e.parsedTD)&&Q.jsxs(_u,{onClick:v,children:[Q.jsx(KN,{}),Q.jsx("div",{className:"text-xs",children:"To TD"})]}),Q.jsxs(_u,{onClick:_(m),children:[Q.jsx(VN,{}),Q.jsx("div",{className:"text-xs",children:"Download"})]}),Q.jsx("div",{className:"w-4","aria-hidden":"true"}),Q.jsxs(_u,{onClick:y,children:[Q.jsx(sR,{}),Q.jsx("div",{className:"text-xs",children:"Settings"})]})]})]}),Q.jsx(rJ,{ref:c,currentTdId:T}),Q.jsx(XW,{ref:s}),Q.jsx(XK,{ref:a}),Q.jsx(QW,{ref:l}),Q.jsx(ZW,{ref:u}),Q.jsx(tJ,{ref:f}),Q.jsx(XR,{isOpen:i.state,onClose:()=>o({state:!1,message:""}),errorMessage:i.message}),Q.jsx("input",{className:"h-0",type:"file",id:"fileInput",style:{display:"none"}}),Q.jsx("a",{className:"h-0",id:"aDownload",href:"/",style:{display:"none"}})]})};var nJ=(e=>(e.BAR="BAR",e.SECTION="SECTION",e))(nJ||{}),TEe=(e=>(e.ACTIVATE="activate",e.MOVE="move",e.DEACTIVATE="deactivate",e))(TEe||{}),iJ={x:0,y:0};function xEe(e,t){return t?{x:e.x-t.x,y:e.y-t.y}:iJ}function oJ(){let e=[],t=0,r=0;return{collect(n){e.push(n),n.disableResponsive||(t+=1,r+=n.currentSize)},getResult(){return{sizeInfoArray:e,flexGrowRatio:t/r}}}}function el(e){return Number.isFinite(e)&&e>0}function sJ(e,t,r,n){let{collect:i,getResult:o}=oJ(),s=n?1:-1,a=Sy(e,t,s,r),l=Sy(e,-t,-s,r),u=t-a.remainingOffset,f=-t-l.remainingOffset;function c(h,g){h.forEach(i),i(r[e]),g.forEach(i)}if(u===-f)c(a.sizeInfoArray,l.sizeInfoArray);else if(Math.abs(u)<Math.abs(f)){let h=Sy(e,-u,-s,r);c(a.sizeInfoArray,h.sizeInfoArray)}else{let h=Sy(e,-f,s,r);c(h.sizeInfoArray,l.sizeInfoArray)}return o()}function Sy(e,t,r,n){let i=[],o=t;for(let l=e+r;a(l);l+=r)if(o){let{sizeInfo:u,remainingOffset:f}=AEe(o,n[l]);o=f,s(u)}else s(n[l]);function s(l){r===-1?i.unshift(l):i.push(l)}function a(l){return r===-1?l>=0:l<=n.length-1}return{sizeInfoArray:i,remainingOffset:o}}function AEe(e,t){if(t.isSolid)return{remainingOffset:e,sizeInfo:t};let{nextSize:r,remainingOffset:n}=OEe(t.currentSize+e,t);return{sizeInfo:{...t,currentSize:r},remainingOffset:n}}function OEe(e,{maxSize:t,minSize:r=0}){return e<r?{nextSize:r,remainingOffset:e-r}:el(t)&&e>t?{nextSize:t,remainingOffset:e-t}:{nextSize:e,remainingOffset:0}}var S$={barIndex:-1,offset:0,type:"deactivate",originalCoordinate:iJ,defaultSizeInfoArray:[],sizeInfoArray:[],discard:!0,flexGrowRatio:0};function PEe(e){let t=S$,r=new Set;return{dispatch(n){t=(()=>{let i={barIndex:n.barIndex,type:n.type};switch(n.type){case"activate":let{sizeInfoArray:o,flexGrowRatio:s}=e.getSizeRelatedInfo();return{...S$,...i,originalCoordinate:n.coordinate,defaultSizeInfoArray:o,sizeInfoArray:o,flexGrowRatio:s};case"move":let a=e.calculateOffset(n.coordinate,t.originalCoordinate);return{...i,...sJ(n.barIndex,a,t.defaultSizeInfoArray,e.flipResizeMoveDirection),offset:a,originalCoordinate:t.originalCoordinate,defaultSizeInfoArray:t.defaultSizeInfoArray,discard:!1};case"deactivate":return S$}})(),r.forEach(i=>i(t))},subscribe(n){return r.add(n),()=>r.delete(n)},unsubscribeAll(){r.clear()}}}function gg(e,t,r){e==null||e.dispatchEvent(new CustomEvent(t,{detail:r}))}var NEe=class{constructor(){Jn(this,"disposeFnSet",new Set);Jn(this,"watchResizerEvent",(t,r,n)=>{t==null||t.addEventListener(r,n);let i=()=>t==null?void 0:t.removeEventListener(r,n);return this.disposeFnSet.add(i),i});Jn(this,"reset",()=>{this.disposeFnSet.forEach(t=>t()),this.disposeFnSet.clear()})}},REe=class{constructor(){Jn(this,"infoMap",new Map);Jn(this,"items",[])}update(t){this.infoMap.clear(),this.items.forEach(r=>r.destroy()),this.items=t,t.forEach((r,n)=>{this.infoMap.set(r.elm,{item:r,index:n})})}reset(){this.update([])}getItems(){return this.items}getItem(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.item)??null}getItemIndex(t){var r;return((r=this.infoMap.get(t))==null?void 0:r.index)??null}},LP=!0;try{window.addEventListener("test",null,{get passive(){return LP={passive:!1},!0}})}catch{}function aJ({size:e}){return el(e)}function IEe(e){let{disableResponsive:t}=e;return aJ(e)&&t===void 0?!0:!!t}function jEe(e){return!!e&&e in nJ}function E3(e){return t=>({"data-item-type":e,"data-item-config":JSON.stringify(t)})}function kEe(e){return Array.from(e.childNodes).map(t=>{if(!(t instanceof HTMLElement))return null;let r=t.getAttribute("data-item-type");return jEe(r)?{type:r,elm:t}:null}).filter(t=>!!t)}function lJ({elm:e}){try{let t=JSON.parse(e.getAttribute("data-item-config")??"");return t&&typeof t=="object"?t:{}}catch{return{}}}function S3(e){return e*2+1}function $$(e){return e*2}var $3=class{constructor(e){Jn(this,"isDiscarded",!1);this.resizeResult=e}resizeSection(e,t){if(this.isDiscarded)return;let r=$$(e),n=this.getSize(r);if(n>=0&&t.toSize>=0){let i=t.toSize-n;r===this.resizeResult.sizeInfoArray.length-1||t.preferMoveLeftBar?this.moveBar(e-1,{withOffset:-i}):this.moveBar(e,{withOffset:i})}}moveBar(e,t){this.isDiscarded||(this.resizeResult=sJ(S3(e),t.withOffset,this.resizeResult.sizeInfoArray,void 0))}discard(){this.isDiscarded=!0}isSectionResized(e){let t=$$(e);return"defaultSizeInfoArray"in this.resizeResult?this.getSize(t)!==this.resizeResult.defaultSizeInfoArray[t].currentSize:!1}isBarActivated(e){return"barIndex"in this.resizeResult?this.resizeResult.barIndex===S3(e):!1}getSectionSize(e){return this.getSize($$(e))}getResult(){return{...this.resizeResult,discard:this.isDiscarded}}getTotalSize(){return this.resizeResult.sizeInfoArray.filter((e,t)=>e&&t%2===0).reduce((e,{currentSize:t})=>e+t,0)}getSize(e){let t=this.resizeResult.sizeInfoArray[e];return t?t.currentSize:-1}},uJ=class{constructor(e,t,r){Jn(this,"_config");Jn(this,"_observer");this.type=e,this.elm=t,this.getConfig=r,this._config=this.getConfig(),this._observer=new MutationObserver(()=>this._config=this.getConfig()),this._observer.observe(t,{attributes:!0,attributeFilter:["data-item-config"]})}get config(){return this._config}destroy(){this._observer.disconnect()}},$y=class extends uJ{constructor(t,r){super("BAR",t.elm,()=>CEe(t));Jn(this,"isActive",!1);Jn(this,"isValidClick",!0);this.dispatchBarAction=r;let n=[this.attachListener(this.elm,"mousedown","activate"),this.attachListener(document,"mousemove","move"),this.attachListener(document,"mouseup","deactivate"),this.attachListener(this.elm,"touchstart","activate",LP),this.attachListener(document,"touchmove","move",LP),this.attachListener(document,"touchend","deactivate"),this.attachListener(document,"touchcancel","deactivate")];this.destroy=()=>{super.destroy(),n.forEach(i=>i())}}static getStyle({size:t}){return{flex:`0 0 ${t}px`}}attachListener(t,r,n,i){let o=s=>{this.disableUserSelectIfResizing(s,n);let{clientX:a,clientY:l}=("touches"in s?s.touches[0]:s)||{clientX:0,clientY:0};this.triggerAction(this.elm,n,{x:a,y:l})};return t.addEventListener(r,o,i),()=>t.removeEventListener(r,o,i)}disableUserSelectIfResizing(t,r){(this.isActive||r==="activate")&&t.preventDefault()}triggerAction(t,r,n){(this.isActive||r==="activate")&&this.dispatchBarAction(t,{type:r,coordinate:n}),this.isActive&&this.isValidClick&&r==="deactivate"&&(this.isValidClick=!1,gg(t,"bar:click",null)),this.updateStatusIfNeed(t,r),this.updateClickStatus(r)}updateStatusIfNeed(t,r){let n=i=>{this.isActive!==i&&(this.isActive=i,gg(t,"bar:status-change",{isActive:i}))};r==="activate"?n(!0):r==="deactivate"&&n(!1)}updateClickStatus(t){this.isActive&&(t==="activate"?this.isValidClick=!0:t==="move"&&(this.isValidClick=!1))}};function CEe(e){let{size:t}=lJ(e);return{size:el(t)?t:10}}var jp=class extends uJ{constructor(t){super("SECTION",t.elm,()=>DEe(t));Jn(this,"sizeInfo",null);Jn(this,"flexGrowRatio",0);this.updateStyle()}static getStyle({maxSize:t,minSize:r},n){let i=o=>el(o)?`${o}px`:void 0;return{overflow:"hidden",[n?"maxHeight":"maxWidth"]:i(t),[n?"minHeight":"minWidth"]:i(r)}}update({sizeInfo:t,flexGrowRatio:r}){this.sizeInfo=t,this.flexGrowRatio=r,this.updateStyle(),gg(this.elm,"section:size-change",{size:t.currentSize})}updateStyle(){let{flexGrow:t,flexShrink:r,flexBasis:n}=this.getStyle();this.elm.style.flexGrow=`${t}`,this.elm.style.flexShrink=`${r}`,this.elm.style.flexBasis=`${n}px`}getStyle(){let t=el(this.config.size)?0:this.config.disableResponsive?1:0;if(this.sizeInfo){let{disableResponsive:r,currentSize:n}=this.sizeInfo;return{flexShrink:t,flexGrow:r?0:this.flexGrowRatio*n,flexBasis:r?n:0}}else{let r=this.config.size||this.config.defaultSize;return el(r)?{flexShrink:t,flexGrow:0,flexBasis:r}:{flexShrink:t,flexGrow:1,flexBasis:0}}}};function DEe(e){let{size:t,defaultSize:r,maxSize:n,minSize:i,disableResponsive:o}=lJ(e);return{size:el(t)?t:void 0,defaultSize:el(r)?r:void 0,maxSize:el(n)?n:void 0,minSize:el(i)?i:void 0,disableResponsive:!!o}}var MEe=class{constructor(e){Jn(this,"styles",{container:e=>({...e,display:"flex",flexDirection:this.direction}),section:(e,t)=>({...t,...jp.getStyle(e,this.config.vertical)}),bar:(e,t)=>({...t,...$y.getStyle(e)})});Jn(this,"attributes",{bar:E3("BAR"),section:E3("SECTION")});Jn(this,"itemsCache",new REe);Jn(this,"eventHub",new NEe);Jn(this,"container",null);Jn(this,"barStore");Jn(this,"dispatchBarAction",(e,t)=>{let r=this.itemsCache.getItemIndex(e);r&&this.barStore.dispatch({...t,barIndex:r})});this.config=e,this.barStore=PEe({calculateOffset:(t,r)=>xEe(t,r)[this.axis],getSizeRelatedInfo:()=>this.makeSizeInfos(),flipResizeMoveDirection:e.rtl&&!e.vertical})}get axis(){return this.config.vertical?"y":"x"}get dimension(){return this.config.vertical?"height":"width"}get direction(){return this.config.vertical?"column":"row"}get on(){return this.eventHub.watchResizerEvent}init(e){this.dispose(),this.container=e,e&&(this.itemsCache.update(kEe(e).map(t=>{switch(t.type){case"BAR":return new $y(t,this.dispatchBarAction);case"SECTION":return new jp(t)}})),this.initStyles(e,this.itemsCache.getItems()),this.sizeRelatedInfoChange(this.makeSizeInfos()),this.barStore.subscribe(t=>{this.monitorBarStatusChanges(t),this.sizeRelatedInfoChange(t)}))}dispose(){this.container=null,this.itemsCache.reset(),this.barStore.unsubscribeAll(),this.eventHub.reset()}getResizer(){return new $3(this.makeSizeInfos())}applyResizer(e){this.sizeRelatedInfoChange(e.getResult())}sizeRelatedInfoChange(e){e.discard||(e=(()=>{if(typeof this.config.beforeApplyResizer=="function"){let t=new $3(e);return this.config.beforeApplyResizer(t),t.getResult()}else return e})(),!e.discard&&e.sizeInfoArray.forEach(t=>{let r=this.itemsCache.getItem(t.elm);r instanceof jp&&r.update({sizeInfo:t,flexGrowRatio:e.flexGrowRatio})}))}monitorBarStatusChanges({type:e}){switch(e){case"activate":return gg(this.container,"column:activate",null);case"deactivate":return gg(this.container,"column:after-resizing",null);default:return}}makeSizeInfos(){let{collect:e,getResult:t}=oJ();return this.itemsCache.getItems().forEach(r=>{r instanceof $y&&e({elm:r.elm,disableResponsive:!0,isSolid:!0,currentSize:r.elm.getBoundingClientRect()[this.dimension]}),r instanceof jp&&e({elm:r.elm,maxSize:r.config.maxSize,minSize:r.config.minSize,disableResponsive:IEe(r.config),isSolid:aJ(r.config),currentSize:r.elm.getBoundingClientRect()[this.dimension]})}),t()}initStyles(e,t){Object.assign(e.style,this.styles.container()),t.forEach(r=>{r instanceof $y&&Object.assign(r.elm.style,this.styles.bar(r.config)),r instanceof jp&&Object.assign(r.elm.style,this.styles.section(r.config))})}},cJ=Oe.createContext(null),LEe=typeof window=="object"?Ye.useLayoutEffect:Ye.useEffect;function FEe({vertical:e,rtl:t,beforeApplyResizer:r}){let n=fJ(r);return Ye.useMemo(()=>new MEe({vertical:e,beforeApplyResizer:n,rtl:t}),[e,n,t])}function P2(){return Ye.useContext(cJ)}function vg(e,t,r){let n=P2(),i=fJ(r);Ye.useEffect(()=>n.on(e.current,t,o=>i(o)),[n,t,e,i])}function N2(e,t){let r=Ye.useRef(e);return Ye.useImperativeHandle(t,()=>r.current),r}function fJ(e){let t=Ye.useRef(e);return t.current=e,Ye.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[t])}function BEe({hooks:e,params:t,children:r}){let n=e(...t);return Ye.createElement(Ye.Fragment,null,r(n))}function UEe(e,{onActivate:t,afterResizing:r}){vg(e,"column:activate",t),vg(e,"column:after-resizing",r)}var zEe=Oe.forwardRef(({vertical:e=!1,rtl:t=!1,onActivate:r,beforeApplyResizer:n,afterResizing:i,columnResizerRef:o,style:s,...a},l)=>{let u=N2(null,l),f=FEe({vertical:e,rtl:t,beforeApplyResizer:n});return LEe(()=>(f.init(u.current),()=>f.dispose()),[f]),Oe.useImperativeHandle(o,()=>f,[f]),Oe.createElement(cJ.Provider,{value:f},Oe.createElement(BEe,{hooks:UEe,params:[u,{onActivate:r,afterResizing:i}]},()=>Oe.createElement("div",{ref:u,...a,style:f.styles.container(s)})))}),T3=Oe.forwardRef(({defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i,onSizeChanged:o,style:s,...a},l)=>{let u=N2(null,l),f=P2(),c={defaultSize:e,size:t,disableResponsive:r,minSize:n,maxSize:i};return vg(u,"section:size-change",h=>o==null?void 0:o(h.detail.size)),Oe.createElement("div",{ref:u,...a,style:f.styles.section(c,s),...f.attributes.section(c)})}),qEe=Oe.forwardRef(({top:e=0,right:t=0,bottom:r=0,left:n=0,vertical:i,style:o,...s},a)=>{let l=Oe.useMemo(()=>({position:"absolute",top:-e,left:-n,right:-t,bottom:-r,WebkitTapHighlightColor:"transparent",userSelect:"none",...o}),[o,e,n,t,r,i]);return Oe.createElement("div",{...s,style:l,ref:a})}),VEe=Oe.forwardRef(({children:e,onClick:t,expandInteractiveArea:r,onStatusChanged:n,style:i,size:o=10,...s},a)=>{let l=P2(),u=N2(null,a),f={size:o};return vg(u,"bar:click",()=>t==null?void 0:t()),vg(u,"bar:status-change",c=>n==null?void 0:n(c.detail.isActive)),Oe.createElement("div",{ref:u,...s,style:l.styles.bar(f,{...i,position:"relative"}),...l.attributes.bar(f)},e,Oe.createElement(qEe,{...r,vertical:l.config.vertical}))});const HEe=()=>Q.jsx(QX,{children:Q.jsx(WEe,{})});let x3=!1;const WEe=()=>{const e=Oe.useContext(nn),t=Oe.useRef(null),[r,n]=Oe.useState(!1),[i,o]=Oe.useState({state:!1,message:""}),s=f=>{o({state:!0,message:f})},a=()=>{t.current&&t.current.trigger("keyboard","undo",null)},l=()=>{t.current&&t.current.trigger("keyboard","redo",null)},u=()=>{n(f=>!f)};return Oe.useEffect(()=>{const f=new URL(window.location.href);["northbound","southbound","valuePath"].forEach(h=>{const g=f.searchParams.get(h);if(g!==null){let m=g;(h==="northbound"||h==="southbound")&&!g.endsWith("/")&&(m=g+"/"),localStorage.setItem(h,m)}})},[window.location.search]),Oe.useEffect(()=>{if(x3||window.location.search.indexOf("td")<=-1&&window.location.search.indexOf("proxyEndpoint")<=-1&&window.location.search.indexOf("localstorage")<=-1&&window.location.search.indexOf("southboundTdId")<=-1)return;x3=!0;const f=new URL(window.location.href),c=f.searchParams.get("td");if(c!==null){const h=ybe(c);if(h===void 0){s("The lz compressed TD found in the URL couldn't be reconstructed.");return}e.updateOfflineTD(JSON.stringify(h,null,2))}if(f.searchParams.has("localstorage")){let h=localStorage.getItem("td");if(!h){s("Request to read TD from local storage failed.");return}try{h=JSON.parse(h),e.updateOfflineTD(JSON.stringify(h,null,2))}catch(g){e.updateOfflineTD(h),s(`Tried to JSON parse the TD from local storage, but failed: ${g}`)}}},[e]),Q.jsxs("main",{className:"flex max-h-screen w-screen flex-col",children:[Q.jsx($Ee,{}),Q.jsx("div",{className:"",children:Q.jsxs(zEe,{className:"height-adjust flex flex-col md:flex-row",children:[Q.jsx(T3,{minSize:550,className:"w-full min-w-16 md:w-7/12",children:Q.jsx(Jde,{onUndo:a,onRedo:l})}),Q.jsx(VEe,{size:7.5,className:"cursor-col-resize bg-gray-300 hover:bg-blue-500"}),Q.jsx(T3,{className:"w-full md:w-5/12",children:Q.jsx(fQ,{editorRef:t})}),Q.jsx(jn,{type:"button",className:"fixed bottom-12 right-2 z-10 rounded-full bg-blue-500 p-4",onClick:u,variant:"empty",children:Q.jsx(eE,{color:"white"})})]})}),Q.jsx("div",{className:"fixed bottom-0 w-screen",children:Q.jsx(Yde,{})}),Q.jsx("div",{id:"modal-root"}),Q.jsx(XR,{isOpen:i.state,onClose:()=>o({state:!1,message:""}),errorMessage:i.message})]})},GEe=()=>null,KEe=T$.createRoot(document.getElementById("root"));KEe.render(Q.jsxs(Ye.StrictMode,{children:[Q.jsx(HEe,{}),Q.jsx(GEe,{})]}));
